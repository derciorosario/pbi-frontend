var Pre=Object.defineProperty,Dre=Object.defineProperties;var Rre=Object.getOwnPropertyDescriptors;var ov=Object.getOwnPropertySymbols;var u5=Object.prototype.hasOwnProperty,f5=Object.prototype.propertyIsEnumerable;var Af=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Fre=e=>{throw TypeError(e)};var d5=(e,t,n)=>t in e?Pre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,te=(e,t)=>{for(var n in t||(t={}))u5.call(t,n)&&d5(e,n,t[n]);if(ov)for(var n of ov(t))f5.call(t,n)&&d5(e,n,t[n]);return e},he=(e,t)=>Dre(e,Rre(t));var pc=(e,t)=>{var n={};for(var s in e)u5.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&ov)for(var s of ov(e))t.indexOf(s)<0&&f5.call(e,s)&&(n[s]=e[s]);return n};var pe=(e,t,n)=>new Promise((s,a)=>{var i=c=>{try{l(n.next(c))}catch(u){a(u)}},o=c=>{try{l(n.throw(c))}catch(u){a(u)}},l=c=>c.done?s(c.value):Promise.resolve(c.value).then(i,o);l((n=n.apply(e,t)).next())}),Jd=function(e,t){this[0]=e,this[1]=t},s4=(e,t,n)=>{var s=(o,l,c,u)=>{try{var f=n[o](l),h=(l=f.value)instanceof Jd,g=f.done;Promise.resolve(h?l[0]:l).then(m=>h?s(o==="return"?o:"next",l[1]?{done:m.done,value:m.value}:m,c,u):c({value:m,done:g})).catch(m=>s("throw",m,c,u))}catch(m){u(m)}},a=o=>i[o]=l=>new Promise((c,u)=>s(o,l,c,u)),i={};return n=n.apply(e,t),i[Af("asyncIterator")]=()=>i,a("next"),a("throw"),a("return"),i},a4=e=>{var t=e[Af("asyncIterator")],n=!1,s,a={};return t==null?(t=e[Af("iterator")](),s=i=>a[i]=o=>t[i](o)):(t=t.call(e),s=i=>a[i]=o=>{if(n){if(n=!1,i==="throw")throw o;return o}return n=!0,{done:!1,value:new Jd(new Promise(l=>{var c=t[i](o);c instanceof Object||Fre("Object expected"),l(c)}),1)}}),a[Af("iterator")]=()=>a,s("next"),"throw"in t?s("throw"):a.throw=i=>{throw i},"return"in t&&s("return"),a},h5=(e,t,n)=>(t=e[Af("asyncIterator")])?t.call(e):(e=e[Af("iterator")](),t={},n=(s,a)=>(a=e[s])&&(t[s]=i=>new Promise((o,l,c)=>(i=a.call(e,i),c=i.done,Promise.resolve(i.value).then(u=>o({value:u,done:c}),l)))),n("next"),n("return"),t);function Bre(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Ys=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function L2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nz={exports:{}},M2={},Sz={exports:{}},Cr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp=Symbol.for("react.element"),zre=Symbol.for("react.portal"),Ure=Symbol.for("react.fragment"),Wre=Symbol.for("react.strict_mode"),Hre=Symbol.for("react.profiler"),Vre=Symbol.for("react.provider"),Gre=Symbol.for("react.context"),qre=Symbol.for("react.forward_ref"),Yre=Symbol.for("react.suspense"),Jre=Symbol.for("react.memo"),Zre=Symbol.for("react.lazy"),g5=Symbol.iterator;function Qre(e){return e===null||typeof e!="object"?null:(e=g5&&e[g5]||e["@@iterator"],typeof e=="function"?e:null)}var Cz={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kz=Object.assign,Ez={};function Eh(e,t,n){this.props=e,this.context=t,this.refs=Ez,this.updater=n||Cz}Eh.prototype.isReactComponent={};Eh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Eh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lz(){}Lz.prototype=Eh.prototype;function Vk(e,t,n){this.props=e,this.context=t,this.refs=Ez,this.updater=n||Cz}var Gk=Vk.prototype=new Lz;Gk.constructor=Vk;kz(Gk,Eh.prototype);Gk.isPureReactComponent=!0;var m5=Array.isArray,Mz=Object.prototype.hasOwnProperty,qk={current:null},Iz={key:!0,ref:!0,__self:!0,__source:!0};function Tz(e,t,n){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Mz.call(t,s)&&!Iz.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Zp,type:e,key:i,ref:o,props:a,_owner:qk.current}}function Kre(e,t){return{$$typeof:Zp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yk(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zp}function Xre(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var p5=/\/+/g;function i4(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xre(""+e.key):t.toString(36)}function U1(e,t,n,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Zp:case zre:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+i4(o,0):s,m5(a)?(n="",e!=null&&(n=e.replace(p5,"$&/")+"/"),U1(a,t,n,"",function(u){return u})):a!=null&&(Yk(a)&&(a=Kre(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(p5,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",m5(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+i4(i,l);o+=U1(i,t,n,c,a)}else if(c=Qre(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+i4(i,l++),o+=U1(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function lv(e,t,n){if(e==null)return e;var s=[],a=0;return U1(e,s,"","",function(i){return t.call(n,i,a++)}),s}function ene(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _a={current:null},W1={transition:null},tne={ReactCurrentDispatcher:_a,ReactCurrentBatchConfig:W1,ReactCurrentOwner:qk};function Az(){throw Error("act(...) is not supported in production builds of React.")}Cr.Children={map:lv,forEach:function(e,t,n){lv(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return lv(e,function(){t++}),t},toArray:function(e){return lv(e,function(t){return t})||[]},only:function(e){if(!Yk(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Cr.Component=Eh;Cr.Fragment=Ure;Cr.Profiler=Hre;Cr.PureComponent=Vk;Cr.StrictMode=Wre;Cr.Suspense=Yre;Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tne;Cr.act=Az;Cr.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=kz({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=qk.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Mz.call(t,c)&&!Iz.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Zp,type:e.type,key:a,ref:i,props:s,_owner:o}};Cr.createContext=function(e){return e={$$typeof:Gre,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vre,_context:e},e.Consumer=e};Cr.createElement=Tz;Cr.createFactory=function(e){var t=Tz.bind(null,e);return t.type=e,t};Cr.createRef=function(){return{current:null}};Cr.forwardRef=function(e){return{$$typeof:qre,render:e}};Cr.isValidElement=Yk;Cr.lazy=function(e){return{$$typeof:Zre,_payload:{_status:-1,_result:e},_init:ene}};Cr.memo=function(e,t){return{$$typeof:Jre,type:e,compare:t===void 0?null:t}};Cr.startTransition=function(e){var t=W1.transition;W1.transition={};try{e()}finally{W1.transition=t}};Cr.unstable_act=Az;Cr.useCallback=function(e,t){return _a.current.useCallback(e,t)};Cr.useContext=function(e){return _a.current.useContext(e)};Cr.useDebugValue=function(){};Cr.useDeferredValue=function(e){return _a.current.useDeferredValue(e)};Cr.useEffect=function(e,t){return _a.current.useEffect(e,t)};Cr.useId=function(){return _a.current.useId()};Cr.useImperativeHandle=function(e,t,n){return _a.current.useImperativeHandle(e,t,n)};Cr.useInsertionEffect=function(e,t){return _a.current.useInsertionEffect(e,t)};Cr.useLayoutEffect=function(e,t){return _a.current.useLayoutEffect(e,t)};Cr.useMemo=function(e,t){return _a.current.useMemo(e,t)};Cr.useReducer=function(e,t,n){return _a.current.useReducer(e,t,n)};Cr.useRef=function(e){return _a.current.useRef(e)};Cr.useState=function(e){return _a.current.useState(e)};Cr.useSyncExternalStore=function(e,t,n){return _a.current.useSyncExternalStore(e,t,n)};Cr.useTransition=function(){return _a.current.useTransition()};Cr.version="18.3.1";Sz.exports=Cr;var d=Sz.exports;const dr=L2(d),rne=Bre({__proto__:null,default:dr},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nne=d,sne=Symbol.for("react.element"),ane=Symbol.for("react.fragment"),ine=Object.prototype.hasOwnProperty,one=nne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lne={key:!0,ref:!0,__self:!0,__source:!0};function _z(e,t,n){var s,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)ine.call(t,s)&&!lne.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:sne,type:e,key:i,ref:o,props:a,_owner:one.current}}M2.Fragment=ane;M2.jsx=_z;M2.jsxs=_z;Nz.exports=M2;var r=Nz.exports,$S={},Oz={exports:{}},Si={},$z={exports:{}},Pz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,F){var D=Z.length;Z.push(F);e:for(;0<D;){var O=D-1>>>1,T=Z[O];if(0<a(T,F))Z[O]=F,Z[D]=T,D=O;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var F=Z[0],D=Z.pop();if(D!==F){Z[0]=D;e:for(var O=0,T=Z.length,R=T>>>1;O<R;){var z=2*(O+1)-1,_=Z[z],U=z+1,Q=Z[U];if(0>a(_,D))U<T&&0>a(Q,_)?(Z[O]=Q,Z[U]=D,O=U):(Z[O]=_,Z[z]=D,O=z);else if(U<T&&0>a(Q,D))Z[O]=Q,Z[U]=D,O=U;else break e}}return F}function a(Z,F){var D=Z.sortIndex-F.sortIndex;return D!==0?D:Z.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,h=null,g=3,m=!1,p=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Z){for(var F=n(u);F!==null;){if(F.callback===null)s(u);else if(F.startTime<=Z)s(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(u)}}function j(Z){if(v=!1,w(Z),!p)if(n(c)!==null)p=!0,X(N);else{var F=n(u);F!==null&&J(j,F.startTime-Z)}}function N(Z,F){p=!1,v&&(v=!1,y(E),E=-1),m=!0;var D=g;try{for(w(F),h=n(c);h!==null&&(!(h.expirationTime>F)||Z&&!C());){var O=h.callback;if(typeof O=="function"){h.callback=null,g=h.priorityLevel;var T=O(h.expirationTime<=F);F=e.unstable_now(),typeof T=="function"?h.callback=T:h===n(c)&&s(c),w(F)}else s(c);h=n(c)}if(h!==null)var R=!0;else{var z=n(u);z!==null&&J(j,z.startTime-F),R=!1}return R}finally{h=null,g=D,m=!1}}var L=!1,k=null,E=-1,S=5,I=-1;function C(){return!(e.unstable_now()-I<S)}function M(){if(k!==null){var Z=e.unstable_now();I=Z;var F=!0;try{F=k(!0,Z)}finally{F?A():(L=!1,k=null)}}else L=!1}var A;if(typeof x=="function")A=function(){x(M)};else if(typeof MessageChannel!="undefined"){var H=new MessageChannel,W=H.port2;H.port1.onmessage=M,A=function(){W.postMessage(null)}}else A=function(){b(M,0)};function X(Z){k=Z,L||(L=!0,A())}function J(Z,F){E=b(function(){Z(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,X(N))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(Z){switch(g){case 1:case 2:case 3:var F=3;break;default:F=g}var D=g;g=F;try{return Z()}finally{g=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,F){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var D=g;g=Z;try{return F()}finally{g=D}},e.unstable_scheduleCallback=function(Z,F,D){var O=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?O+D:O):D=O,Z){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=D+T,Z={id:f++,callback:F,priorityLevel:Z,startTime:D,expirationTime:T,sortIndex:-1},D>O?(Z.sortIndex=D,t(u,Z),n(c)===null&&Z===n(u)&&(v?(y(E),E=-1):v=!0,J(j,D-O))):(Z.sortIndex=T,t(c,Z),p||m||(p=!0,X(N))),Z},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(Z){var F=g;return function(){var D=g;g=F;try{return Z.apply(this,arguments)}finally{g=D}}}})(Pz);$z.exports=Pz;var cne=$z.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dne=d,ji=cne;function Pt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dz=new Set,tp={};function Ju(e,t){th(e,t),th(e+"Capture",t)}function th(e,t){for(tp[e]=t,e=0;e<t.length;e++)Dz.add(t[e])}var Dl=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),PS=Object.prototype.hasOwnProperty,une=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x5={},v5={};function fne(e){return PS.call(v5,e)?!0:PS.call(x5,e)?!1:une.test(e)?v5[e]=!0:(x5[e]=!0,!1)}function hne(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gne(e,t,n,s){if(t===null||typeof t=="undefined"||hne(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oa(e,t,n,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ks={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ks[e]=new Oa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ks[t]=new Oa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ks[e]=new Oa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ks[e]=new Oa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ks[e]=new Oa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ks[e]=new Oa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ks[e]=new Oa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ks[e]=new Oa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ks[e]=new Oa(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jk=/[\-:]([a-z])/g;function Zk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jk,Zk);Ks[t]=new Oa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jk,Zk);Ks[t]=new Oa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jk,Zk);Ks[t]=new Oa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ks[e]=new Oa(e,1,!1,e.toLowerCase(),null,!1,!1)});Ks.xlinkHref=new Oa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ks[e]=new Oa(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qk(e,t,n,s){var a=Ks.hasOwnProperty(t)?Ks[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gne(t,n,a,s)&&(n=null),s||a===null?fne(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Jl=dne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cv=Symbol.for("react.element"),u0=Symbol.for("react.portal"),f0=Symbol.for("react.fragment"),Kk=Symbol.for("react.strict_mode"),DS=Symbol.for("react.profiler"),Rz=Symbol.for("react.provider"),Fz=Symbol.for("react.context"),Xk=Symbol.for("react.forward_ref"),RS=Symbol.for("react.suspense"),FS=Symbol.for("react.suspense_list"),eE=Symbol.for("react.memo"),Oc=Symbol.for("react.lazy"),Bz=Symbol.for("react.offscreen"),y5=Symbol.iterator;function wg(e){return e===null||typeof e!="object"?null:(e=y5&&e[y5]||e["@@iterator"],typeof e=="function"?e:null)}var Mn=Object.assign,o4;function um(e){if(o4===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);o4=t&&t[1]||""}return`
`+o4+e}var l4=!1;function c4(e,t){if(!e||l4)return"";l4=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{l4=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?um(e):""}function mne(e){switch(e.tag){case 5:return um(e.type);case 16:return um("Lazy");case 13:return um("Suspense");case 19:return um("SuspenseList");case 0:case 2:case 15:return e=c4(e.type,!1),e;case 11:return e=c4(e.type.render,!1),e;case 1:return e=c4(e.type,!0),e;default:return""}}function BS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case f0:return"Fragment";case u0:return"Portal";case DS:return"Profiler";case Kk:return"StrictMode";case RS:return"Suspense";case FS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fz:return(e.displayName||"Context")+".Consumer";case Rz:return(e._context.displayName||"Context")+".Provider";case Xk:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case eE:return t=e.displayName||null,t!==null?t:BS(e.type)||"Memo";case Oc:t=e._payload,e=e._init;try{return BS(e(t))}catch(n){}}return null}function pne(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return BS(t);case 8:return t===Kk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ud(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zz(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xne(e){var t=zz(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dv(e){e._valueTracker||(e._valueTracker=xne(e))}function Uz(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=zz(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Iy(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function zS(e,t){var n=t.checked;return Mn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function b5(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=ud(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wz(e,t){t=t.checked,t!=null&&Qk(e,"checked",t,!1)}function US(e,t){Wz(e,t);var n=ud(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?WS(e,t.type,n):t.hasOwnProperty("defaultValue")&&WS(e,t.type,ud(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function w5(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function WS(e,t,n){(t!=="number"||Iy(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fm=Array.isArray;function A0(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+ud(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function HS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Pt(91));return Mn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function j5(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Pt(92));if(fm(n)){if(1<n.length)throw Error(Pt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ud(n)}}function Hz(e,t){var n=ud(t.value),s=ud(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function N5(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vz(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function VS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vz(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uv,Gz=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uv=uv||document.createElement("div"),uv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rp(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Cm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vne=["Webkit","ms","Moz","O"];Object.keys(Cm).forEach(function(e){vne.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cm[t]=Cm[e]})});function qz(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Cm.hasOwnProperty(e)&&Cm[e]?(""+t).trim():t+"px"}function Yz(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=qz(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var yne=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function GS(e,t){if(t){if(yne[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Pt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Pt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Pt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Pt(62))}}function qS(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var YS=null;function tE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var JS=null,_0=null,O0=null;function S5(e){if(e=Xp(e)){if(typeof JS!="function")throw Error(Pt(280));var t=e.stateNode;t&&(t=O2(t),JS(e.stateNode,e.type,t))}}function Jz(e){_0?O0?O0.push(e):O0=[e]:_0=e}function Zz(){if(_0){var e=_0,t=O0;if(O0=_0=null,S5(e),t)for(e=0;e<t.length;e++)S5(t[e])}}function Qz(e,t){return e(t)}function Kz(){}var d4=!1;function Xz(e,t,n){if(d4)return e(t,n);d4=!0;try{return Qz(e,t,n)}finally{d4=!1,(_0!==null||O0!==null)&&(Kz(),Zz())}}function np(e,t){var n=e.stateNode;if(n===null)return null;var s=O2(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Pt(231,t,typeof n));return n}var ZS=!1;if(Dl)try{var jg={};Object.defineProperty(jg,"passive",{get:function(){ZS=!0}}),window.addEventListener("test",jg,jg),window.removeEventListener("test",jg,jg)}catch(e){ZS=!1}function bne(e,t,n,s,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var km=!1,Ty=null,Ay=!1,QS=null,wne={onError:function(e){km=!0,Ty=e}};function jne(e,t,n,s,a,i,o,l,c){km=!1,Ty=null,bne.apply(wne,arguments)}function Nne(e,t,n,s,a,i,o,l,c){if(jne.apply(this,arguments),km){if(km){var u=Ty;km=!1,Ty=null}else throw Error(Pt(198));Ay||(Ay=!0,QS=u)}}function Zu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function eU(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function C5(e){if(Zu(e)!==e)throw Error(Pt(188))}function Sne(e){var t=e.alternate;if(!t){if(t=Zu(e),t===null)throw Error(Pt(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return C5(a),e;if(i===s)return C5(a),t;i=i.sibling}throw Error(Pt(188))}if(n.return!==s.return)n=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o)throw Error(Pt(189))}}if(n.alternate!==s)throw Error(Pt(190))}if(n.tag!==3)throw Error(Pt(188));return n.stateNode.current===n?e:t}function tU(e){return e=Sne(e),e!==null?rU(e):null}function rU(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rU(e);if(t!==null)return t;e=e.sibling}return null}var nU=ji.unstable_scheduleCallback,k5=ji.unstable_cancelCallback,Cne=ji.unstable_shouldYield,kne=ji.unstable_requestPaint,Fn=ji.unstable_now,Ene=ji.unstable_getCurrentPriorityLevel,rE=ji.unstable_ImmediatePriority,sU=ji.unstable_UserBlockingPriority,_y=ji.unstable_NormalPriority,Lne=ji.unstable_LowPriority,aU=ji.unstable_IdlePriority,I2=null,il=null;function Mne(e){if(il&&typeof il.onCommitFiberRoot=="function")try{il.onCommitFiberRoot(I2,e,void 0,(e.current.flags&128)===128)}catch(t){}}var Oo=Math.clz32?Math.clz32:Ane,Ine=Math.log,Tne=Math.LN2;function Ane(e){return e>>>=0,e===0?32:31-(Ine(e)/Tne|0)|0}var fv=64,hv=4194304;function hm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Oy(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?s=hm(l):(i&=o,i!==0&&(s=hm(i)))}else o=n&~a,o!==0?s=hm(o):i!==0&&(s=hm(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Oo(t),a=1<<n,s|=e[n],t&=~a;return s}function _ne(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function One(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Oo(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&s)&&(a[o]=_ne(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function KS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function iU(){var e=fv;return fv<<=1,!(fv&4194240)&&(fv=64),e}function u4(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Oo(t),e[t]=n}function $ne(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Oo(n),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~i}}function nE(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Oo(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var Qr=0;function oU(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lU,sE,cU,dU,uU,XS=!1,gv=[],Qc=null,Kc=null,Xc=null,sp=new Map,ap=new Map,Rc=[],Pne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function E5(e,t){switch(e){case"focusin":case"focusout":Qc=null;break;case"dragenter":case"dragleave":Kc=null;break;case"mouseover":case"mouseout":Xc=null;break;case"pointerover":case"pointerout":sp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ap.delete(t.pointerId)}}function Ng(e,t,n,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Xp(t),t!==null&&sE(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Dne(e,t,n,s,a){switch(t){case"focusin":return Qc=Ng(Qc,e,t,n,s,a),!0;case"dragenter":return Kc=Ng(Kc,e,t,n,s,a),!0;case"mouseover":return Xc=Ng(Xc,e,t,n,s,a),!0;case"pointerover":var i=a.pointerId;return sp.set(i,Ng(sp.get(i)||null,e,t,n,s,a)),!0;case"gotpointercapture":return i=a.pointerId,ap.set(i,Ng(ap.get(i)||null,e,t,n,s,a)),!0}return!1}function fU(e){var t=Nu(e.target);if(t!==null){var n=Zu(t);if(n!==null){if(t=n.tag,t===13){if(t=eU(n),t!==null){e.blockedOn=t,uU(e.priority,function(){cU(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function H1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=eC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);YS=s,n.target.dispatchEvent(s),YS=null}else return t=Xp(n),t!==null&&sE(t),e.blockedOn=n,!1;t.shift()}return!0}function L5(e,t,n){H1(e)&&n.delete(t)}function Rne(){XS=!1,Qc!==null&&H1(Qc)&&(Qc=null),Kc!==null&&H1(Kc)&&(Kc=null),Xc!==null&&H1(Xc)&&(Xc=null),sp.forEach(L5),ap.forEach(L5)}function Sg(e,t){e.blockedOn===t&&(e.blockedOn=null,XS||(XS=!0,ji.unstable_scheduleCallback(ji.unstable_NormalPriority,Rne)))}function ip(e){function t(a){return Sg(a,e)}if(0<gv.length){Sg(gv[0],e);for(var n=1;n<gv.length;n++){var s=gv[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Qc!==null&&Sg(Qc,e),Kc!==null&&Sg(Kc,e),Xc!==null&&Sg(Xc,e),sp.forEach(t),ap.forEach(t),n=0;n<Rc.length;n++)s=Rc[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Rc.length&&(n=Rc[0],n.blockedOn===null);)fU(n),n.blockedOn===null&&Rc.shift()}var $0=Jl.ReactCurrentBatchConfig,$y=!0;function Fne(e,t,n,s){var a=Qr,i=$0.transition;$0.transition=null;try{Qr=1,aE(e,t,n,s)}finally{Qr=a,$0.transition=i}}function Bne(e,t,n,s){var a=Qr,i=$0.transition;$0.transition=null;try{Qr=4,aE(e,t,n,s)}finally{Qr=a,$0.transition=i}}function aE(e,t,n,s){if($y){var a=eC(e,t,n,s);if(a===null)w4(e,t,s,Py,n),E5(e,s);else if(Dne(a,e,t,n,s))s.stopPropagation();else if(E5(e,s),t&4&&-1<Pne.indexOf(e)){for(;a!==null;){var i=Xp(a);if(i!==null&&lU(i),i=eC(e,t,n,s),i===null&&w4(e,t,s,Py,n),i===a)break;a=i}a!==null&&s.stopPropagation()}else w4(e,t,s,null,n)}}var Py=null;function eC(e,t,n,s){if(Py=null,e=tE(s),e=Nu(e),e!==null)if(t=Zu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=eU(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Py=e,null}function hU(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ene()){case rE:return 1;case sU:return 4;case _y:case Lne:return 16;case aU:return 536870912;default:return 16}default:return 16}}var zc=null,iE=null,V1=null;function gU(){if(V1)return V1;var e,t=iE,n=t.length,s,a="value"in zc?zc.value:zc.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===a[i-s];s++);return V1=a.slice(e,1<s?1-s:void 0)}function G1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mv(){return!0}function M5(){return!1}function Ci(e){function t(n,s,a,i,o){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?mv:M5,this.isPropagationStopped=M5,this}return Mn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mv)},persist:function(){},isPersistent:mv}),t}var Lh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oE=Ci(Lh),Kp=Mn({},Lh,{view:0,detail:0}),zne=Ci(Kp),f4,h4,Cg,T2=Mn({},Kp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cg&&(Cg&&e.type==="mousemove"?(f4=e.screenX-Cg.screenX,h4=e.screenY-Cg.screenY):h4=f4=0,Cg=e),f4)},movementY:function(e){return"movementY"in e?e.movementY:h4}}),I5=Ci(T2),Une=Mn({},T2,{dataTransfer:0}),Wne=Ci(Une),Hne=Mn({},Kp,{relatedTarget:0}),g4=Ci(Hne),Vne=Mn({},Lh,{animationName:0,elapsedTime:0,pseudoElement:0}),Gne=Ci(Vne),qne=Mn({},Lh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yne=Ci(qne),Jne=Mn({},Lh,{data:0}),T5=Ci(Jne),Zne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xne(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kne[e])?!!t[e]:!1}function lE(){return Xne}var ese=Mn({},Kp,{key:function(e){if(e.key){var t=Zne[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=G1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qne[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lE,charCode:function(e){return e.type==="keypress"?G1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?G1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tse=Ci(ese),rse=Mn({},T2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A5=Ci(rse),nse=Mn({},Kp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lE}),sse=Ci(nse),ase=Mn({},Lh,{propertyName:0,elapsedTime:0,pseudoElement:0}),ise=Ci(ase),ose=Mn({},T2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lse=Ci(ose),cse=[9,13,27,32],cE=Dl&&"CompositionEvent"in window,Em=null;Dl&&"documentMode"in document&&(Em=document.documentMode);var dse=Dl&&"TextEvent"in window&&!Em,mU=Dl&&(!cE||Em&&8<Em&&11>=Em),_5=" ",O5=!1;function pU(e,t){switch(e){case"keyup":return cse.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xU(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var h0=!1;function use(e,t){switch(e){case"compositionend":return xU(t);case"keypress":return t.which!==32?null:(O5=!0,_5);case"textInput":return e=t.data,e===_5&&O5?null:e;default:return null}}function fse(e,t){if(h0)return e==="compositionend"||!cE&&pU(e,t)?(e=gU(),V1=iE=zc=null,h0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mU&&t.locale!=="ko"?null:t.data;default:return null}}var hse={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hse[e.type]:t==="textarea"}function vU(e,t,n,s){Jz(s),t=Dy(t,"onChange"),0<t.length&&(n=new oE("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Lm=null,op=null;function gse(e){MU(e,0)}function A2(e){var t=p0(e);if(Uz(t))return e}function mse(e,t){if(e==="change")return t}var yU=!1;if(Dl){var m4;if(Dl){var p4="oninput"in document;if(!p4){var P5=document.createElement("div");P5.setAttribute("oninput","return;"),p4=typeof P5.oninput=="function"}m4=p4}else m4=!1;yU=m4&&(!document.documentMode||9<document.documentMode)}function D5(){Lm&&(Lm.detachEvent("onpropertychange",bU),op=Lm=null)}function bU(e){if(e.propertyName==="value"&&A2(op)){var t=[];vU(t,op,e,tE(e)),Xz(gse,t)}}function pse(e,t,n){e==="focusin"?(D5(),Lm=t,op=n,Lm.attachEvent("onpropertychange",bU)):e==="focusout"&&D5()}function xse(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return A2(op)}function vse(e,t){if(e==="click")return A2(t)}function yse(e,t){if(e==="input"||e==="change")return A2(t)}function bse(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ro=typeof Object.is=="function"?Object.is:bse;function lp(e,t){if(Ro(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!PS.call(t,a)||!Ro(e[a],t[a]))return!1}return!0}function R5(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function F5(e,t){var n=R5(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=R5(n)}}function wU(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wU(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jU(){for(var e=window,t=Iy();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(s){n=!1}if(n)e=t.contentWindow;else break;t=Iy(e.document)}return t}function dE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wse(e){var t=jU(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wU(n.ownerDocument.documentElement,n)){if(s!==null&&dE(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=F5(n,i);var o=F5(n,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jse=Dl&&"documentMode"in document&&11>=document.documentMode,g0=null,tC=null,Mm=null,rC=!1;function B5(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rC||g0==null||g0!==Iy(s)||(s=g0,"selectionStart"in s&&dE(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Mm&&lp(Mm,s)||(Mm=s,s=Dy(tC,"onSelect"),0<s.length&&(t=new oE("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=g0)))}function pv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var m0={animationend:pv("Animation","AnimationEnd"),animationiteration:pv("Animation","AnimationIteration"),animationstart:pv("Animation","AnimationStart"),transitionend:pv("Transition","TransitionEnd")},x4={},NU={};Dl&&(NU=document.createElement("div").style,"AnimationEvent"in window||(delete m0.animationend.animation,delete m0.animationiteration.animation,delete m0.animationstart.animation),"TransitionEvent"in window||delete m0.transitionend.transition);function _2(e){if(x4[e])return x4[e];if(!m0[e])return e;var t=m0[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in NU)return x4[e]=t[n];return e}var SU=_2("animationend"),CU=_2("animationiteration"),kU=_2("animationstart"),EU=_2("transitionend"),LU=new Map,z5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bd(e,t){LU.set(e,t),Ju(t,[e])}for(var v4=0;v4<z5.length;v4++){var y4=z5[v4],Nse=y4.toLowerCase(),Sse=y4[0].toUpperCase()+y4.slice(1);bd(Nse,"on"+Sse)}bd(SU,"onAnimationEnd");bd(CU,"onAnimationIteration");bd(kU,"onAnimationStart");bd("dblclick","onDoubleClick");bd("focusin","onFocus");bd("focusout","onBlur");bd(EU,"onTransitionEnd");th("onMouseEnter",["mouseout","mouseover"]);th("onMouseLeave",["mouseout","mouseover"]);th("onPointerEnter",["pointerout","pointerover"]);th("onPointerLeave",["pointerout","pointerover"]);Ju("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ju("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ju("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ju("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ju("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ju("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cse=new Set("cancel close invalid load scroll toggle".split(" ").concat(gm));function U5(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Nne(s,t,void 0,e),e.currentTarget=null}function MU(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;U5(a,l,u),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;U5(a,l,u),i=c}}}if(Ay)throw e=QS,Ay=!1,QS=null,e}function un(e,t){var n=t[oC];n===void 0&&(n=t[oC]=new Set);var s=e+"__bubble";n.has(s)||(IU(t,e,2,!1),n.add(s))}function b4(e,t,n){var s=0;t&&(s|=4),IU(n,e,s,t)}var xv="_reactListening"+Math.random().toString(36).slice(2);function cp(e){if(!e[xv]){e[xv]=!0,Dz.forEach(function(n){n!=="selectionchange"&&(Cse.has(n)||b4(n,!1,e),b4(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xv]||(t[xv]=!0,b4("selectionchange",!1,t))}}function IU(e,t,n,s){switch(hU(t)){case 1:var a=Fne;break;case 4:a=Bne;break;default:a=aE}n=a.bind(null,t,n,e),a=void 0,!ZS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function w4(e,t,n,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Nu(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}Xz(function(){var u=i,f=tE(n),h=[];e:{var g=LU.get(e);if(g!==void 0){var m=oE,p=e;switch(e){case"keypress":if(G1(n)===0)break e;case"keydown":case"keyup":m=tse;break;case"focusin":p="focus",m=g4;break;case"focusout":p="blur",m=g4;break;case"beforeblur":case"afterblur":m=g4;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=I5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Wne;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=sse;break;case SU:case CU:case kU:m=Gne;break;case EU:m=ise;break;case"scroll":m=zne;break;case"wheel":m=lse;break;case"copy":case"cut":case"paste":m=Yne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=A5}var v=(t&4)!==0,b=!v&&e==="scroll",y=v?g!==null?g+"Capture":null:g;v=[];for(var x=u,w;x!==null;){w=x;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,y!==null&&(j=np(x,y),j!=null&&v.push(dp(x,j,w)))),b)break;x=x.return}0<v.length&&(g=new m(g,p,null,n,f),h.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&n!==YS&&(p=n.relatedTarget||n.fromElement)&&(Nu(p)||p[Rl]))break e;if((m||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=u,p=p?Nu(p):null,p!==null&&(b=Zu(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(v=I5,j="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=A5,j="onPointerLeave",y="onPointerEnter",x="pointer"),b=m==null?g:p0(m),w=p==null?g:p0(p),g=new v(j,x+"leave",m,n,f),g.target=b,g.relatedTarget=w,j=null,Nu(f)===u&&(v=new v(y,x+"enter",p,n,f),v.target=w,v.relatedTarget=b,j=v),b=j,m&&p)t:{for(v=m,y=p,x=0,w=v;w;w=_f(w))x++;for(w=0,j=y;j;j=_f(j))w++;for(;0<x-w;)v=_f(v),x--;for(;0<w-x;)y=_f(y),w--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=_f(v),y=_f(y)}v=null}else v=null;m!==null&&W5(h,g,m,v,!1),p!==null&&b!==null&&W5(h,b,p,v,!0)}}e:{if(g=u?p0(u):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var N=mse;else if($5(g))if(yU)N=yse;else{N=xse;var L=pse}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(N=vse);if(N&&(N=N(e,u))){vU(h,N,n,f);break e}L&&L(e,g,u),e==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&WS(g,"number",g.value)}switch(L=u?p0(u):window,e){case"focusin":($5(L)||L.contentEditable==="true")&&(g0=L,tC=u,Mm=null);break;case"focusout":Mm=tC=g0=null;break;case"mousedown":rC=!0;break;case"contextmenu":case"mouseup":case"dragend":rC=!1,B5(h,n,f);break;case"selectionchange":if(jse)break;case"keydown":case"keyup":B5(h,n,f)}var k;if(cE)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else h0?pU(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(mU&&n.locale!=="ko"&&(h0||E!=="onCompositionStart"?E==="onCompositionEnd"&&h0&&(k=gU()):(zc=f,iE="value"in zc?zc.value:zc.textContent,h0=!0)),L=Dy(u,E),0<L.length&&(E=new T5(E,e,null,n,f),h.push({event:E,listeners:L}),k?E.data=k:(k=xU(n),k!==null&&(E.data=k)))),(k=dse?use(e,n):fse(e,n))&&(u=Dy(u,"onBeforeInput"),0<u.length&&(f=new T5("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=k))}MU(h,t)})}function dp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dy(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=np(e,n),i!=null&&s.unshift(dp(e,i,a)),i=np(e,t),i!=null&&s.push(dp(e,i,a))),e=e.return}return s}function _f(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function W5(e,t,n,s,a){for(var i=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,a?(c=np(n,i),c!=null&&o.unshift(dp(n,c,l))):a||(c=np(n,i),c!=null&&o.push(dp(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var kse=/\r\n?/g,Ese=/\u0000|\uFFFD/g;function H5(e){return(typeof e=="string"?e:""+e).replace(kse,`
`).replace(Ese,"")}function vv(e,t,n){if(t=H5(t),H5(e)!==t&&n)throw Error(Pt(425))}function Ry(){}var nC=null,sC=null;function aC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var iC=typeof setTimeout=="function"?setTimeout:void 0,Lse=typeof clearTimeout=="function"?clearTimeout:void 0,V5=typeof Promise=="function"?Promise:void 0,Mse=typeof queueMicrotask=="function"?queueMicrotask:typeof V5!="undefined"?function(e){return V5.resolve(null).then(e).catch(Ise)}:iC;function Ise(e){setTimeout(function(){throw e})}function j4(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),ip(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);ip(t)}function ed(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function G5(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mh=Math.random().toString(36).slice(2),tl="__reactFiber$"+Mh,up="__reactProps$"+Mh,Rl="__reactContainer$"+Mh,oC="__reactEvents$"+Mh,Tse="__reactListeners$"+Mh,Ase="__reactHandles$"+Mh;function Nu(e){var t=e[tl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rl]||n[tl]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=G5(e);e!==null;){if(n=e[tl])return n;e=G5(e)}return t}e=n,n=e.parentNode}return null}function Xp(e){return e=e[tl]||e[Rl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function p0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Pt(33))}function O2(e){return e[up]||null}var lC=[],x0=-1;function wd(e){return{current:e}}function hn(e){0>x0||(e.current=lC[x0],lC[x0]=null,x0--)}function cn(e,t){x0++,lC[x0]=e.current,e.current=t}var fd={},da=wd(fd),Wa=wd(!1),Pu=fd;function rh(e,t){var n=e.type.contextTypes;if(!n)return fd;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ha(e){return e=e.childContextTypes,e!=null}function Fy(){hn(Wa),hn(da)}function q5(e,t,n){if(da.current!==fd)throw Error(Pt(168));cn(da,t),cn(Wa,n)}function TU(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(Pt(108,pne(e)||"Unknown",a));return Mn({},n,s)}function By(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fd,Pu=da.current,cn(da,e),cn(Wa,Wa.current),!0}function Y5(e,t,n){var s=e.stateNode;if(!s)throw Error(Pt(169));n?(e=TU(e,t,Pu),s.__reactInternalMemoizedMergedChildContext=e,hn(Wa),hn(da),cn(da,e)):hn(Wa),cn(Wa,n)}var Ml=null,$2=!1,N4=!1;function AU(e){Ml===null?Ml=[e]:Ml.push(e)}function _se(e){$2=!0,AU(e)}function jd(){if(!N4&&Ml!==null){N4=!0;var e=0,t=Qr;try{var n=Ml;for(Qr=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Ml=null,$2=!1}catch(a){throw Ml!==null&&(Ml=Ml.slice(e+1)),nU(rE,jd),a}finally{Qr=t,N4=!1}}return null}var v0=[],y0=0,zy=null,Uy=0,Hi=[],Vi=0,Du=null,Il=1,Tl="";function cu(e,t){v0[y0++]=Uy,v0[y0++]=zy,zy=e,Uy=t}function _U(e,t,n){Hi[Vi++]=Il,Hi[Vi++]=Tl,Hi[Vi++]=Du,Du=e;var s=Il;e=Tl;var a=32-Oo(s)-1;s&=~(1<<a),n+=1;var i=32-Oo(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,Il=1<<32-Oo(t)+a|n<<a|s,Tl=i+e}else Il=1<<i|n<<a|s,Tl=e}function uE(e){e.return!==null&&(cu(e,1),_U(e,1,0))}function fE(e){for(;e===zy;)zy=v0[--y0],v0[y0]=null,Uy=v0[--y0],v0[y0]=null;for(;e===Du;)Du=Hi[--Vi],Hi[Vi]=null,Tl=Hi[--Vi],Hi[Vi]=null,Il=Hi[--Vi],Hi[Vi]=null}var wi=null,vi=null,vn=!1,Co=null;function OU(e,t){var n=Yi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function J5(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wi=e,vi=ed(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wi=e,vi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Du!==null?{id:Il,overflow:Tl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Yi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wi=e,vi=null,!0):!1;default:return!1}}function cC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dC(e){if(vn){var t=vi;if(t){var n=t;if(!J5(e,t)){if(cC(e))throw Error(Pt(418));t=ed(n.nextSibling);var s=wi;t&&J5(e,t)?OU(s,n):(e.flags=e.flags&-4097|2,vn=!1,wi=e)}}else{if(cC(e))throw Error(Pt(418));e.flags=e.flags&-4097|2,vn=!1,wi=e}}}function Z5(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wi=e}function yv(e){if(e!==wi)return!1;if(!vn)return Z5(e),vn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!aC(e.type,e.memoizedProps)),t&&(t=vi)){if(cC(e))throw $U(),Error(Pt(418));for(;t;)OU(e,t),t=ed(t.nextSibling)}if(Z5(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Pt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vi=ed(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vi=null}}else vi=wi?ed(e.stateNode.nextSibling):null;return!0}function $U(){for(var e=vi;e;)e=ed(e.nextSibling)}function nh(){vi=wi=null,vn=!1}function hE(e){Co===null?Co=[e]:Co.push(e)}var Ose=Jl.ReactCurrentBatchConfig;function kg(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Pt(309));var s=n.stateNode}if(!s)throw Error(Pt(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Pt(284));if(!n._owner)throw Error(Pt(290,e))}return e}function bv(e,t){throw e=Object.prototype.toString.call(t),Error(Pt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Q5(e){var t=e._init;return t(e._payload)}function PU(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function s(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function a(y,x){return y=sd(y,x),y.index=0,y.sibling=null,y}function i(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,w,j){return x===null||x.tag!==6?(x=I4(w,y.mode,j),x.return=y,x):(x=a(x,w),x.return=y,x)}function c(y,x,w,j){var N=w.type;return N===f0?f(y,x,w.props.children,j,w.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Oc&&Q5(N)===x.type)?(j=a(x,w.props),j.ref=kg(y,x,w),j.return=y,j):(j=X1(w.type,w.key,w.props,null,y.mode,j),j.ref=kg(y,x,w),j.return=y,j)}function u(y,x,w,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=T4(w,y.mode,j),x.return=y,x):(x=a(x,w.children||[]),x.return=y,x)}function f(y,x,w,j,N){return x===null||x.tag!==7?(x=Mu(w,y.mode,j,N),x.return=y,x):(x=a(x,w),x.return=y,x)}function h(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=I4(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case cv:return w=X1(x.type,x.key,x.props,null,y.mode,w),w.ref=kg(y,null,x),w.return=y,w;case u0:return x=T4(x,y.mode,w),x.return=y,x;case Oc:var j=x._init;return h(y,j(x._payload),w)}if(fm(x)||wg(x))return x=Mu(x,y.mode,w,null),x.return=y,x;bv(y,x)}return null}function g(y,x,w,j){var N=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(y,x,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cv:return w.key===N?c(y,x,w,j):null;case u0:return w.key===N?u(y,x,w,j):null;case Oc:return N=w._init,g(y,x,N(w._payload),j)}if(fm(w)||wg(w))return N!==null?null:f(y,x,w,j,null);bv(y,w)}return null}function m(y,x,w,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(w)||null,l(x,y,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case cv:return y=y.get(j.key===null?w:j.key)||null,c(x,y,j,N);case u0:return y=y.get(j.key===null?w:j.key)||null,u(x,y,j,N);case Oc:var L=j._init;return m(y,x,w,L(j._payload),N)}if(fm(j)||wg(j))return y=y.get(w)||null,f(x,y,j,N,null);bv(x,j)}return null}function p(y,x,w,j){for(var N=null,L=null,k=x,E=x=0,S=null;k!==null&&E<w.length;E++){k.index>E?(S=k,k=null):S=k.sibling;var I=g(y,k,w[E],j);if(I===null){k===null&&(k=S);break}e&&k&&I.alternate===null&&t(y,k),x=i(I,x,E),L===null?N=I:L.sibling=I,L=I,k=S}if(E===w.length)return n(y,k),vn&&cu(y,E),N;if(k===null){for(;E<w.length;E++)k=h(y,w[E],j),k!==null&&(x=i(k,x,E),L===null?N=k:L.sibling=k,L=k);return vn&&cu(y,E),N}for(k=s(y,k);E<w.length;E++)S=m(k,y,E,w[E],j),S!==null&&(e&&S.alternate!==null&&k.delete(S.key===null?E:S.key),x=i(S,x,E),L===null?N=S:L.sibling=S,L=S);return e&&k.forEach(function(C){return t(y,C)}),vn&&cu(y,E),N}function v(y,x,w,j){var N=wg(w);if(typeof N!="function")throw Error(Pt(150));if(w=N.call(w),w==null)throw Error(Pt(151));for(var L=N=null,k=x,E=x=0,S=null,I=w.next();k!==null&&!I.done;E++,I=w.next()){k.index>E?(S=k,k=null):S=k.sibling;var C=g(y,k,I.value,j);if(C===null){k===null&&(k=S);break}e&&k&&C.alternate===null&&t(y,k),x=i(C,x,E),L===null?N=C:L.sibling=C,L=C,k=S}if(I.done)return n(y,k),vn&&cu(y,E),N;if(k===null){for(;!I.done;E++,I=w.next())I=h(y,I.value,j),I!==null&&(x=i(I,x,E),L===null?N=I:L.sibling=I,L=I);return vn&&cu(y,E),N}for(k=s(y,k);!I.done;E++,I=w.next())I=m(k,y,E,I.value,j),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?E:I.key),x=i(I,x,E),L===null?N=I:L.sibling=I,L=I);return e&&k.forEach(function(M){return t(y,M)}),vn&&cu(y,E),N}function b(y,x,w,j){if(typeof w=="object"&&w!==null&&w.type===f0&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case cv:e:{for(var N=w.key,L=x;L!==null;){if(L.key===N){if(N=w.type,N===f0){if(L.tag===7){n(y,L.sibling),x=a(L,w.props.children),x.return=y,y=x;break e}}else if(L.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Oc&&Q5(N)===L.type){n(y,L.sibling),x=a(L,w.props),x.ref=kg(y,L,w),x.return=y,y=x;break e}n(y,L);break}else t(y,L);L=L.sibling}w.type===f0?(x=Mu(w.props.children,y.mode,j,w.key),x.return=y,y=x):(j=X1(w.type,w.key,w.props,null,y.mode,j),j.ref=kg(y,x,w),j.return=y,y=j)}return o(y);case u0:e:{for(L=w.key;x!==null;){if(x.key===L)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(y,x.sibling),x=a(x,w.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=T4(w,y.mode,j),x.return=y,y=x}return o(y);case Oc:return L=w._init,b(y,x,L(w._payload),j)}if(fm(w))return p(y,x,w,j);if(wg(w))return v(y,x,w,j);bv(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(y,x.sibling),x=a(x,w),x.return=y,y=x):(n(y,x),x=I4(w,y.mode,j),x.return=y,y=x),o(y)):n(y,x)}return b}var sh=PU(!0),DU=PU(!1),Wy=wd(null),Hy=null,b0=null,gE=null;function mE(){gE=b0=Hy=null}function pE(e){var t=Wy.current;hn(Wy),e._currentValue=t}function uC(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function P0(e,t){Hy=e,gE=b0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(za=!0),e.firstContext=null)}function eo(e){var t=e._currentValue;if(gE!==e)if(e={context:e,memoizedValue:t,next:null},b0===null){if(Hy===null)throw Error(Pt(308));b0=e,Hy.dependencies={lanes:0,firstContext:e}}else b0=b0.next=e;return t}var Su=null;function xE(e){Su===null?Su=[e]:Su.push(e)}function RU(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,xE(t)):(n.next=a.next,a.next=n),t.interleaved=n,Fl(e,s)}function Fl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $c=!1;function vE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FU(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _l(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function td(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Pr&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Fl(e,n)}return a=s.interleaved,a===null?(t.next=t,xE(s)):(t.next=a.next,a.next=t),s.interleaved=t,Fl(e,n)}function q1(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,nE(e,n)}}function K5(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vy(e,t,n,s){var a=e.updateQueue;$c=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,f=u=c=null,l=i;do{var g=l.lane,m=l.eventTime;if((s&g)===g){f!==null&&(f=f.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,v=l;switch(g=t,m=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){h=p.call(m,h,g);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,g=typeof p=="function"?p.call(m,h,g):p,g==null)break e;h=Mn({},h,g);break e;case 2:$c=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=a.effects,g===null?a.effects=[l]:g.push(l))}else m={eventTime:m,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=m,c=h):f=f.next=m,o|=g;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;g=l,l=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(!0);if(f===null&&(c=h),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=h}}function X5(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(Pt(191,a));a.call(s)}}}var ex={},ol=wd(ex),fp=wd(ex),hp=wd(ex);function Cu(e){if(e===ex)throw Error(Pt(174));return e}function yE(e,t){switch(cn(hp,t),cn(fp,e),cn(ol,ex),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:VS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=VS(t,e)}hn(ol),cn(ol,t)}function ah(){hn(ol),hn(fp),hn(hp)}function BU(e){Cu(hp.current);var t=Cu(ol.current),n=VS(t,e.type);t!==n&&(cn(fp,e),cn(ol,n))}function bE(e){fp.current===e&&(hn(ol),hn(fp))}var Sn=wd(0);function Gy(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var S4=[];function wE(){for(var e=0;e<S4.length;e++)S4[e]._workInProgressVersionPrimary=null;S4.length=0}var Y1=Jl.ReactCurrentDispatcher,C4=Jl.ReactCurrentBatchConfig,Ru=0,kn=null,ns=null,hs=null,qy=!1,Im=!1,gp=0,$se=0;function na(){throw Error(Pt(321))}function jE(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ro(e[n],t[n]))return!1;return!0}function NE(e,t,n,s,a,i){if(Ru=i,kn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y1.current=e===null||e.memoizedState===null?Fse:Bse,e=n(s,a),Im){i=0;do{if(Im=!1,gp=0,25<=i)throw Error(Pt(301));i+=1,hs=ns=null,t.updateQueue=null,Y1.current=zse,e=n(s,a)}while(Im)}if(Y1.current=Yy,t=ns!==null&&ns.next!==null,Ru=0,hs=ns=kn=null,qy=!1,t)throw Error(Pt(300));return e}function SE(){var e=gp!==0;return gp=0,e}function Xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hs===null?kn.memoizedState=hs=e:hs=hs.next=e,hs}function to(){if(ns===null){var e=kn.alternate;e=e!==null?e.memoizedState:null}else e=ns.next;var t=hs===null?kn.memoizedState:hs.next;if(t!==null)hs=t,ns=e;else{if(e===null)throw Error(Pt(310));ns=e,e={memoizedState:ns.memoizedState,baseState:ns.baseState,baseQueue:ns.baseQueue,queue:ns.queue,next:null},hs===null?kn.memoizedState=hs=e:hs=hs.next=e}return hs}function mp(e,t){return typeof t=="function"?t(e):t}function k4(e){var t=to(),n=t.queue;if(n===null)throw Error(Pt(311));n.lastRenderedReducer=e;var s=ns,a=s.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,u=i;do{var f=u.lane;if((Ru&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,kn.lanes|=f,Fu|=f}u=u.next}while(u!==null&&u!==i);c===null?o=s:c.next=l,Ro(s,t.memoizedState)||(za=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do i=a.lane,kn.lanes|=i,Fu|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function E4(e){var t=to(),n=t.queue;if(n===null)throw Error(Pt(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ro(i,t.memoizedState)||(za=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function zU(){}function UU(e,t){var n=kn,s=to(),a=t(),i=!Ro(s.memoizedState,a);if(i&&(s.memoizedState=a,za=!0),s=s.queue,CE(VU.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||hs!==null&&hs.memoizedState.tag&1){if(n.flags|=2048,pp(9,HU.bind(null,n,s,a,t),void 0,null),vs===null)throw Error(Pt(349));Ru&30||WU(n,t,a)}return a}function WU(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=kn.updateQueue,t===null?(t={lastEffect:null,stores:null},kn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function HU(e,t,n,s){t.value=n,t.getSnapshot=s,GU(t)&&qU(e)}function VU(e,t,n){return n(function(){GU(t)&&qU(e)})}function GU(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ro(e,n)}catch(s){return!0}}function qU(e){var t=Fl(e,1);t!==null&&$o(t,e,1,-1)}function eA(e){var t=Xo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mp,lastRenderedState:e},t.queue=e,e=e.dispatch=Rse.bind(null,kn,e),[t.memoizedState,e]}function pp(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=kn.updateQueue,t===null?(t={lastEffect:null,stores:null},kn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function YU(){return to().memoizedState}function J1(e,t,n,s){var a=Xo();kn.flags|=e,a.memoizedState=pp(1|t,n,void 0,s===void 0?null:s)}function P2(e,t,n,s){var a=to();s=s===void 0?null:s;var i=void 0;if(ns!==null){var o=ns.memoizedState;if(i=o.destroy,s!==null&&jE(s,o.deps)){a.memoizedState=pp(t,n,i,s);return}}kn.flags|=e,a.memoizedState=pp(1|t,n,i,s)}function tA(e,t){return J1(8390656,8,e,t)}function CE(e,t){return P2(2048,8,e,t)}function JU(e,t){return P2(4,2,e,t)}function ZU(e,t){return P2(4,4,e,t)}function QU(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function KU(e,t,n){return n=n!=null?n.concat([e]):null,P2(4,4,QU.bind(null,t,e),n)}function kE(){}function XU(e,t){var n=to();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&jE(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function eW(e,t){var n=to();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&jE(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function tW(e,t,n){return Ru&21?(Ro(n,t)||(n=iU(),kn.lanes|=n,Fu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,za=!0),e.memoizedState=n)}function Pse(e,t){var n=Qr;Qr=n!==0&&4>n?n:4,e(!0);var s=C4.transition;C4.transition={};try{e(!1),t()}finally{Qr=n,C4.transition=s}}function rW(){return to().memoizedState}function Dse(e,t,n){var s=nd(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},nW(e))sW(t,n);else if(n=RU(e,t,n,s),n!==null){var a=Ea();$o(n,e,s,a),aW(n,t,s)}}function Rse(e,t,n){var s=nd(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(nW(e))sW(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,Ro(l,o)){var c=t.interleaved;c===null?(a.next=a,xE(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch(u){}finally{}n=RU(e,t,a,s),n!==null&&(a=Ea(),$o(n,e,s,a),aW(n,t,s))}}function nW(e){var t=e.alternate;return e===kn||t!==null&&t===kn}function sW(e,t){Im=qy=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function aW(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,nE(e,n)}}var Yy={readContext:eo,useCallback:na,useContext:na,useEffect:na,useImperativeHandle:na,useInsertionEffect:na,useLayoutEffect:na,useMemo:na,useReducer:na,useRef:na,useState:na,useDebugValue:na,useDeferredValue:na,useTransition:na,useMutableSource:na,useSyncExternalStore:na,useId:na,unstable_isNewReconciler:!1},Fse={readContext:eo,useCallback:function(e,t){return Xo().memoizedState=[e,t===void 0?null:t],e},useContext:eo,useEffect:tA,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,J1(4194308,4,QU.bind(null,t,e),n)},useLayoutEffect:function(e,t){return J1(4194308,4,e,t)},useInsertionEffect:function(e,t){return J1(4,2,e,t)},useMemo:function(e,t){var n=Xo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Xo();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Dse.bind(null,kn,e),[s.memoizedState,e]},useRef:function(e){var t=Xo();return e={current:e},t.memoizedState=e},useState:eA,useDebugValue:kE,useDeferredValue:function(e){return Xo().memoizedState=e},useTransition:function(){var e=eA(!1),t=e[0];return e=Pse.bind(null,e[1]),Xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=kn,a=Xo();if(vn){if(n===void 0)throw Error(Pt(407));n=n()}else{if(n=t(),vs===null)throw Error(Pt(349));Ru&30||WU(s,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,tA(VU.bind(null,s,i,e),[e]),s.flags|=2048,pp(9,HU.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=Xo(),t=vs.identifierPrefix;if(vn){var n=Tl,s=Il;n=(s&~(1<<32-Oo(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=gp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$se++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bse={readContext:eo,useCallback:XU,useContext:eo,useEffect:CE,useImperativeHandle:KU,useInsertionEffect:JU,useLayoutEffect:ZU,useMemo:eW,useReducer:k4,useRef:YU,useState:function(){return k4(mp)},useDebugValue:kE,useDeferredValue:function(e){var t=to();return tW(t,ns.memoizedState,e)},useTransition:function(){var e=k4(mp)[0],t=to().memoizedState;return[e,t]},useMutableSource:zU,useSyncExternalStore:UU,useId:rW,unstable_isNewReconciler:!1},zse={readContext:eo,useCallback:XU,useContext:eo,useEffect:CE,useImperativeHandle:KU,useInsertionEffect:JU,useLayoutEffect:ZU,useMemo:eW,useReducer:E4,useRef:YU,useState:function(){return E4(mp)},useDebugValue:kE,useDeferredValue:function(e){var t=to();return ns===null?t.memoizedState=e:tW(t,ns.memoizedState,e)},useTransition:function(){var e=E4(mp)[0],t=to().memoizedState;return[e,t]},useMutableSource:zU,useSyncExternalStore:UU,useId:rW,unstable_isNewReconciler:!1};function wo(e,t){if(e&&e.defaultProps){t=Mn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fC(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Mn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var D2={isMounted:function(e){return(e=e._reactInternals)?Zu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ea(),a=nd(e),i=_l(s,a);i.payload=t,n!=null&&(i.callback=n),t=td(e,i,a),t!==null&&($o(t,e,a,s),q1(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ea(),a=nd(e),i=_l(s,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=td(e,i,a),t!==null&&($o(t,e,a,s),q1(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ea(),s=nd(e),a=_l(n,s);a.tag=2,t!=null&&(a.callback=t),t=td(e,a,s),t!==null&&($o(t,e,s,n),q1(t,e,s))}};function rA(e,t,n,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!lp(n,s)||!lp(a,i):!0}function iW(e,t,n){var s=!1,a=fd,i=t.contextType;return typeof i=="object"&&i!==null?i=eo(i):(a=Ha(t)?Pu:da.current,s=t.contextTypes,i=(s=s!=null)?rh(e,a):fd),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=D2,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function nA(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&D2.enqueueReplaceState(t,t.state,null)}function hC(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},vE(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=eo(i):(i=Ha(t)?Pu:da.current,a.context=rh(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(fC(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&D2.enqueueReplaceState(a,a.state,null),Vy(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ih(e,t){try{var n="",s=t;do n+=mne(s),s=s.return;while(s);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function L4(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function gC(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Use=typeof WeakMap=="function"?WeakMap:Map;function oW(e,t,n){n=_l(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Zy||(Zy=!0,SC=s),gC(e,t)},n}function lW(e,t,n){n=_l(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){gC(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){gC(e,t),typeof s!="function"&&(rd===null?rd=new Set([this]):rd.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function sA(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Use;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=rae.bind(null,e,t,n),t.then(e,e))}function aA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function iA(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_l(-1,1),t.tag=2,td(n,t,1))),n.lanes|=1),e)}var Wse=Jl.ReactCurrentOwner,za=!1;function Na(e,t,n,s){t.child=e===null?DU(t,null,n,s):sh(t,e.child,n,s)}function oA(e,t,n,s,a){n=n.render;var i=t.ref;return P0(t,a),s=NE(e,t,n,s,i,a),n=SE(),e!==null&&!za?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Bl(e,t,a)):(vn&&n&&uE(t),t.flags|=1,Na(e,t,s,a),t.child)}function lA(e,t,n,s,a){if(e===null){var i=n.type;return typeof i=="function"&&!OE(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,cW(e,t,i,s,a)):(e=X1(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:lp,n(o,s)&&e.ref===t.ref)return Bl(e,t,a)}return t.flags|=1,e=sd(i,s),e.ref=t.ref,e.return=t,t.child=e}function cW(e,t,n,s,a){if(e!==null){var i=e.memoizedProps;if(lp(i,s)&&e.ref===t.ref)if(za=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(za=!0);else return t.lanes=e.lanes,Bl(e,t,a)}return mC(e,t,n,s,a)}function dW(e,t,n){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},cn(j0,fi),fi|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,cn(j0,fi),fi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,cn(j0,fi),fi|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,cn(j0,fi),fi|=s;return Na(e,t,a,n),t.child}function uW(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mC(e,t,n,s,a){var i=Ha(n)?Pu:da.current;return i=rh(t,i),P0(t,a),n=NE(e,t,n,s,i,a),s=SE(),e!==null&&!za?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Bl(e,t,a)):(vn&&s&&uE(t),t.flags|=1,Na(e,t,n,a),t.child)}function cA(e,t,n,s,a){if(Ha(n)){var i=!0;By(t)}else i=!1;if(P0(t,a),t.stateNode===null)Z1(e,t),iW(t,n,s),hC(t,n,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=eo(u):(u=Ha(n)?Pu:da.current,u=rh(t,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&nA(t,o,s,u),$c=!1;var g=t.memoizedState;o.state=g,Vy(t,s,o,a),c=t.memoizedState,l!==s||g!==c||Wa.current||$c?(typeof f=="function"&&(fC(t,n,f,s),c=t.memoizedState),(l=$c||rA(t,n,l,s,g,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,FU(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:wo(t.type,l),o.props=u,h=t.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=eo(c):(c=Ha(n)?Pu:da.current,c=rh(t,c));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||g!==c)&&nA(t,o,s,c),$c=!1,g=t.memoizedState,o.state=g,Vy(t,s,o,a);var p=t.memoizedState;l!==h||g!==p||Wa.current||$c?(typeof m=="function"&&(fC(t,n,m,s),p=t.memoizedState),(u=$c||rA(t,n,u,s,g,p,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=p),o.props=s,o.state=p,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return pC(e,t,n,s,i,a)}function pC(e,t,n,s,a,i){uW(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&Y5(t,n,!1),Bl(e,t,i);s=t.stateNode,Wse.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=sh(t,e.child,null,i),t.child=sh(t,null,l,i)):Na(e,t,l,i),t.memoizedState=s.state,a&&Y5(t,n,!0),t.child}function fW(e){var t=e.stateNode;t.pendingContext?q5(e,t.pendingContext,t.pendingContext!==t.context):t.context&&q5(e,t.context,!1),yE(e,t.containerInfo)}function dA(e,t,n,s,a){return nh(),hE(a),t.flags|=256,Na(e,t,n,s),t.child}var xC={dehydrated:null,treeContext:null,retryLane:0};function vC(e){return{baseLanes:e,cachePool:null,transitions:null}}function hW(e,t,n){var s=t.pendingProps,a=Sn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),cn(Sn,a&1),e===null)return dC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=B2(o,s,0,null),e=Mu(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=vC(n),t.memoizedState=xC,e):EE(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Hse(e,t,o,s,l,a,n);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=sd(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=sd(l,i):(i=Mu(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?vC(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=xC,s}return i=e.child,e=i.sibling,s=sd(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function EE(e,t){return t=B2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wv(e,t,n,s){return s!==null&&hE(s),sh(t,e.child,null,n),e=EE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hse(e,t,n,s,a,i,o){if(n)return t.flags&256?(t.flags&=-257,s=L4(Error(Pt(422))),wv(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=B2({mode:"visible",children:s.children},a,0,null),i=Mu(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&sh(t,e.child,null,o),t.child.memoizedState=vC(o),t.memoizedState=xC,i);if(!(t.mode&1))return wv(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(Pt(419)),s=L4(i,s,void 0),wv(e,t,o,s)}if(l=(o&e.childLanes)!==0,za||l){if(s=vs,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Fl(e,a),$o(s,e,a,-1))}return _E(),s=L4(Error(Pt(421))),wv(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=nae.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,vi=ed(a.nextSibling),wi=t,vn=!0,Co=null,e!==null&&(Hi[Vi++]=Il,Hi[Vi++]=Tl,Hi[Vi++]=Du,Il=e.id,Tl=e.overflow,Du=t),t=EE(t,s.children),t.flags|=4096,t)}function uA(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),uC(e.return,t,n)}function M4(e,t,n,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=a)}function gW(e,t,n){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Na(e,t,s.children,n),s=Sn.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uA(e,n,t);else if(e.tag===19)uA(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(cn(Sn,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Gy(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),M4(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Gy(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}M4(t,!0,n,null,i);break;case"together":M4(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Z1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Pt(153));if(t.child!==null){for(e=t.child,n=sd(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=sd(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vse(e,t,n){switch(t.tag){case 3:fW(t),nh();break;case 5:BU(t);break;case 1:Ha(t.type)&&By(t);break;case 4:yE(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;cn(Wy,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(cn(Sn,Sn.current&1),t.flags|=128,null):n&t.child.childLanes?hW(e,t,n):(cn(Sn,Sn.current&1),e=Bl(e,t,n),e!==null?e.sibling:null);cn(Sn,Sn.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return gW(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),cn(Sn,Sn.current),s)break;return null;case 22:case 23:return t.lanes=0,dW(e,t,n)}return Bl(e,t,n)}var mW,yC,pW,xW;mW=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yC=function(){};pW=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Cu(ol.current);var i=null;switch(n){case"input":a=zS(e,a),s=zS(e,s),i=[];break;case"select":a=Mn({},a,{value:void 0}),s=Mn({},s,{value:void 0}),i=[];break;case"textarea":a=HS(e,a),s=HS(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ry)}GS(n,s);var o;n=null;for(u in a)if(!s.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(tp.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(l=a!=null?a[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(tp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&un("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};xW=function(e,t,n,s){n!==s&&(t.flags|=4)};function Eg(e,t){if(!vn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function sa(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Gse(e,t,n){var s=t.pendingProps;switch(fE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sa(t),null;case 1:return Ha(t.type)&&Fy(),sa(t),null;case 3:return s=t.stateNode,ah(),hn(Wa),hn(da),wE(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(yv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Co!==null&&(EC(Co),Co=null))),yC(e,t),sa(t),null;case 5:bE(t);var a=Cu(hp.current);if(n=t.type,e!==null&&t.stateNode!=null)pW(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Pt(166));return sa(t),null}if(e=Cu(ol.current),yv(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[tl]=t,s[up]=i,e=(t.mode&1)!==0,n){case"dialog":un("cancel",s),un("close",s);break;case"iframe":case"object":case"embed":un("load",s);break;case"video":case"audio":for(a=0;a<gm.length;a++)un(gm[a],s);break;case"source":un("error",s);break;case"img":case"image":case"link":un("error",s),un("load",s);break;case"details":un("toggle",s);break;case"input":b5(s,i),un("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},un("invalid",s);break;case"textarea":j5(s,i),un("invalid",s)}GS(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&vv(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&vv(s.textContent,l,e),a=["children",""+l]):tp.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&un("scroll",s)}switch(n){case"input":dv(s),w5(s,i,!0);break;case"textarea":dv(s),N5(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Ry)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vz(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[tl]=t,e[up]=s,mW(e,t,!1,!1),t.stateNode=e;e:{switch(o=qS(n,s),n){case"dialog":un("cancel",e),un("close",e),a=s;break;case"iframe":case"object":case"embed":un("load",e),a=s;break;case"video":case"audio":for(a=0;a<gm.length;a++)un(gm[a],e);a=s;break;case"source":un("error",e),a=s;break;case"img":case"image":case"link":un("error",e),un("load",e),a=s;break;case"details":un("toggle",e),a=s;break;case"input":b5(e,s),a=zS(e,s),un("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Mn({},s,{value:void 0}),un("invalid",e);break;case"textarea":j5(e,s),a=HS(e,s),un("invalid",e);break;default:a=s}GS(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Yz(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Gz(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&rp(e,c):typeof c=="number"&&rp(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(tp.hasOwnProperty(i)?c!=null&&i==="onScroll"&&un("scroll",e):c!=null&&Qk(e,i,c,o))}switch(n){case"input":dv(e),w5(e,s,!1);break;case"textarea":dv(e),N5(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ud(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?A0(e,!!s.multiple,i,!1):s.defaultValue!=null&&A0(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ry)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sa(t),null;case 6:if(e&&t.stateNode!=null)xW(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Pt(166));if(n=Cu(hp.current),Cu(ol.current),yv(t)){if(s=t.stateNode,n=t.memoizedProps,s[tl]=t,(i=s.nodeValue!==n)&&(e=wi,e!==null))switch(e.tag){case 3:vv(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vv(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[tl]=t,t.stateNode=s}return sa(t),null;case 13:if(hn(Sn),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(vn&&vi!==null&&t.mode&1&&!(t.flags&128))$U(),nh(),t.flags|=98560,i=!1;else if(i=yv(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(Pt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Pt(317));i[tl]=t}else nh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sa(t),i=!1}else Co!==null&&(EC(Co),Co=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Sn.current&1?as===0&&(as=3):_E())),t.updateQueue!==null&&(t.flags|=4),sa(t),null);case 4:return ah(),yC(e,t),e===null&&cp(t.stateNode.containerInfo),sa(t),null;case 10:return pE(t.type._context),sa(t),null;case 17:return Ha(t.type)&&Fy(),sa(t),null;case 19:if(hn(Sn),i=t.memoizedState,i===null)return sa(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Eg(i,!1);else{if(as!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Gy(e),o!==null){for(t.flags|=128,Eg(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return cn(Sn,Sn.current&1|2),t.child}e=e.sibling}i.tail!==null&&Fn()>oh&&(t.flags|=128,s=!0,Eg(i,!1),t.lanes=4194304)}else{if(!s)if(e=Gy(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Eg(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!vn)return sa(t),null}else 2*Fn()-i.renderingStartTime>oh&&n!==1073741824&&(t.flags|=128,s=!0,Eg(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Fn(),t.sibling=null,n=Sn.current,cn(Sn,s?n&1|2:n&1),t):(sa(t),null);case 22:case 23:return AE(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?fi&1073741824&&(sa(t),t.subtreeFlags&6&&(t.flags|=8192)):sa(t),null;case 24:return null;case 25:return null}throw Error(Pt(156,t.tag))}function qse(e,t){switch(fE(t),t.tag){case 1:return Ha(t.type)&&Fy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ah(),hn(Wa),hn(da),wE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bE(t),null;case 13:if(hn(Sn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Pt(340));nh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return hn(Sn),null;case 4:return ah(),null;case 10:return pE(t.type._context),null;case 22:case 23:return AE(),null;case 24:return null;default:return null}}var jv=!1,ia=!1,Yse=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function w0(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){In(e,t,s)}else n.current=null}function bC(e,t,n){try{n()}catch(s){In(e,t,s)}}var fA=!1;function Jse(e,t){if(nC=$y,e=jU(),dE(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch(j){n=null;break e}var o=0,l=-1,c=-1,u=0,f=0,h=e,g=null;t:for(;;){for(var m;h!==n||a!==0&&h.nodeType!==3||(l=o+a),h!==i||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)g=h,h=m;for(;;){if(h===e)break t;if(g===n&&++u===a&&(l=o),g===i&&++f===s&&(c=o),(m=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(sC={focusedElem:e,selectionRange:n},$y=!1,Jt=t;Jt!==null;)if(t=Jt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Jt=e;else for(;Jt!==null;){t=Jt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,b=p.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:wo(t.type,v),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pt(163))}}catch(j){In(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Jt=e;break}Jt=t.return}return p=fA,fA=!1,p}function Tm(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&bC(t,n,i)}a=a.next}while(a!==s)}}function R2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function wC(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vW(e){var t=e.alternate;t!==null&&(e.alternate=null,vW(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tl],delete t[up],delete t[oC],delete t[Tse],delete t[Ase])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yW(e){return e.tag===5||e.tag===3||e.tag===4}function hA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yW(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jC(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ry));else if(s!==4&&(e=e.child,e!==null))for(jC(e,t,n),e=e.sibling;e!==null;)jC(e,t,n),e=e.sibling}function NC(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(NC(e,t,n),e=e.sibling;e!==null;)NC(e,t,n),e=e.sibling}var Ws=null,jo=!1;function xc(e,t,n){for(n=n.child;n!==null;)bW(e,t,n),n=n.sibling}function bW(e,t,n){if(il&&typeof il.onCommitFiberUnmount=="function")try{il.onCommitFiberUnmount(I2,n)}catch(l){}switch(n.tag){case 5:ia||w0(n,t);case 6:var s=Ws,a=jo;Ws=null,xc(e,t,n),Ws=s,jo=a,Ws!==null&&(jo?(e=Ws,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ws.removeChild(n.stateNode));break;case 18:Ws!==null&&(jo?(e=Ws,n=n.stateNode,e.nodeType===8?j4(e.parentNode,n):e.nodeType===1&&j4(e,n),ip(e)):j4(Ws,n.stateNode));break;case 4:s=Ws,a=jo,Ws=n.stateNode.containerInfo,jo=!0,xc(e,t,n),Ws=s,jo=a;break;case 0:case 11:case 14:case 15:if(!ia&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&bC(n,t,o),a=a.next}while(a!==s)}xc(e,t,n);break;case 1:if(!ia&&(w0(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){In(n,t,l)}xc(e,t,n);break;case 21:xc(e,t,n);break;case 22:n.mode&1?(ia=(s=ia)||n.memoizedState!==null,xc(e,t,n),ia=s):xc(e,t,n);break;default:xc(e,t,n)}}function gA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Yse),t.forEach(function(s){var a=sae.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function go(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ws=l.stateNode,jo=!1;break e;case 3:Ws=l.stateNode.containerInfo,jo=!0;break e;case 4:Ws=l.stateNode.containerInfo,jo=!0;break e}l=l.return}if(Ws===null)throw Error(Pt(160));bW(i,o,a),Ws=null,jo=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){In(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wW(t,e),t=t.sibling}function wW(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(go(t,e),Vo(e),s&4){try{Tm(3,e,e.return),R2(3,e)}catch(v){In(e,e.return,v)}try{Tm(5,e,e.return)}catch(v){In(e,e.return,v)}}break;case 1:go(t,e),Vo(e),s&512&&n!==null&&w0(n,n.return);break;case 5:if(go(t,e),Vo(e),s&512&&n!==null&&w0(n,n.return),e.flags&32){var a=e.stateNode;try{rp(a,"")}catch(v){In(e,e.return,v)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Wz(a,i),qS(l,o);var u=qS(l,i);for(o=0;o<c.length;o+=2){var f=c[o],h=c[o+1];f==="style"?Yz(a,h):f==="dangerouslySetInnerHTML"?Gz(a,h):f==="children"?rp(a,h):Qk(a,f,h,u)}switch(l){case"input":US(a,i);break;case"textarea":Hz(a,i);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?A0(a,!!i.multiple,m,!1):g!==!!i.multiple&&(i.defaultValue!=null?A0(a,!!i.multiple,i.defaultValue,!0):A0(a,!!i.multiple,i.multiple?[]:"",!1))}a[up]=i}catch(v){In(e,e.return,v)}}break;case 6:if(go(t,e),Vo(e),s&4){if(e.stateNode===null)throw Error(Pt(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){In(e,e.return,v)}}break;case 3:if(go(t,e),Vo(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ip(t.containerInfo)}catch(v){In(e,e.return,v)}break;case 4:go(t,e),Vo(e);break;case 13:go(t,e),Vo(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(IE=Fn())),s&4&&gA(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(ia=(u=ia)||f,go(t,e),ia=u):go(t,e),Vo(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Jt=e,f=e.child;f!==null;){for(h=Jt=f;Jt!==null;){switch(g=Jt,m=g.child,g.tag){case 0:case 11:case 14:case 15:Tm(4,g,g.return);break;case 1:w0(g,g.return);var p=g.stateNode;if(typeof p.componentWillUnmount=="function"){s=g,n=g.return;try{t=s,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){In(s,n,v)}}break;case 5:w0(g,g.return);break;case 22:if(g.memoizedState!==null){pA(h);continue}}m!==null?(m.return=g,Jt=m):pA(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{a=h.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=qz("display",o))}catch(v){In(e,e.return,v)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){In(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:go(t,e),Vo(e),s&4&&gA(e);break;case 21:break;default:go(t,e),Vo(e)}}function Vo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(yW(n)){var s=n;break e}n=n.return}throw Error(Pt(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(rp(a,""),s.flags&=-33);var i=hA(e);NC(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=hA(e);jC(e,l,o);break;default:throw Error(Pt(161))}}catch(c){In(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zse(e,t,n){Jt=e,jW(e)}function jW(e,t,n){for(var s=(e.mode&1)!==0;Jt!==null;){var a=Jt,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||jv;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ia;l=jv;var u=ia;if(jv=o,(ia=c)&&!u)for(Jt=a;Jt!==null;)o=Jt,c=o.child,o.tag===22&&o.memoizedState!==null?xA(a):c!==null?(c.return=o,Jt=c):xA(a);for(;i!==null;)Jt=i,jW(i),i=i.sibling;Jt=a,jv=l,ia=u}mA(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Jt=i):mA(e)}}function mA(e){for(;Jt!==null;){var t=Jt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ia||R2(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ia)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:wo(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&X5(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}X5(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&ip(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pt(163))}ia||t.flags&512&&wC(t)}catch(g){In(t,t.return,g)}}if(t===e){Jt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Jt=n;break}Jt=t.return}}function pA(e){for(;Jt!==null;){var t=Jt;if(t===e){Jt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Jt=n;break}Jt=t.return}}function xA(e){for(;Jt!==null;){var t=Jt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{R2(4,t)}catch(c){In(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){In(t,a,c)}}var i=t.return;try{wC(t)}catch(c){In(t,i,c)}break;case 5:var o=t.return;try{wC(t)}catch(c){In(t,o,c)}}}catch(c){In(t,t.return,c)}if(t===e){Jt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Jt=l;break}Jt=t.return}}var Qse=Math.ceil,Jy=Jl.ReactCurrentDispatcher,LE=Jl.ReactCurrentOwner,Ki=Jl.ReactCurrentBatchConfig,Pr=0,vs=null,Hn=null,Js=0,fi=0,j0=wd(0),as=0,xp=null,Fu=0,F2=0,ME=0,Am=null,Fa=null,IE=0,oh=1/0,kl=null,Zy=!1,SC=null,rd=null,Nv=!1,Uc=null,Qy=0,_m=0,CC=null,Q1=-1,K1=0;function Ea(){return Pr&6?Fn():Q1!==-1?Q1:Q1=Fn()}function nd(e){return e.mode&1?Pr&2&&Js!==0?Js&-Js:Ose.transition!==null?(K1===0&&(K1=iU()),K1):(e=Qr,e!==0||(e=window.event,e=e===void 0?16:hU(e.type)),e):1}function $o(e,t,n,s){if(50<_m)throw _m=0,CC=null,Error(Pt(185));Qp(e,n,s),(!(Pr&2)||e!==vs)&&(e===vs&&(!(Pr&2)&&(F2|=n),as===4&&Fc(e,Js)),Va(e,s),n===1&&Pr===0&&!(t.mode&1)&&(oh=Fn()+500,$2&&jd()))}function Va(e,t){var n=e.callbackNode;One(e,t);var s=Oy(e,e===vs?Js:0);if(s===0)n!==null&&k5(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&k5(n),t===1)e.tag===0?_se(vA.bind(null,e)):AU(vA.bind(null,e)),Mse(function(){!(Pr&6)&&jd()}),n=null;else{switch(oU(s)){case 1:n=rE;break;case 4:n=sU;break;case 16:n=_y;break;case 536870912:n=aU;break;default:n=_y}n=IW(n,NW.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function NW(e,t){if(Q1=-1,K1=0,Pr&6)throw Error(Pt(327));var n=e.callbackNode;if(D0()&&e.callbackNode!==n)return null;var s=Oy(e,e===vs?Js:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Ky(e,s);else{t=s;var a=Pr;Pr|=2;var i=CW();(vs!==e||Js!==t)&&(kl=null,oh=Fn()+500,Lu(e,t));do try{eae();break}catch(l){SW(e,l)}while(!0);mE(),Jy.current=i,Pr=a,Hn!==null?t=0:(vs=null,Js=0,t=as)}if(t!==0){if(t===2&&(a=KS(e),a!==0&&(s=a,t=kC(e,a))),t===1)throw n=xp,Lu(e,0),Fc(e,s),Va(e,Fn()),n;if(t===6)Fc(e,s);else{if(a=e.current.alternate,!(s&30)&&!Kse(a)&&(t=Ky(e,s),t===2&&(i=KS(e),i!==0&&(s=i,t=kC(e,i))),t===1))throw n=xp,Lu(e,0),Fc(e,s),Va(e,Fn()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(Pt(345));case 2:du(e,Fa,kl);break;case 3:if(Fc(e,s),(s&130023424)===s&&(t=IE+500-Fn(),10<t)){if(Oy(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Ea(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=iC(du.bind(null,e,Fa,kl),t);break}du(e,Fa,kl);break;case 4:if(Fc(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Oo(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=Fn()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Qse(s/1960))-s,10<s){e.timeoutHandle=iC(du.bind(null,e,Fa,kl),s);break}du(e,Fa,kl);break;case 5:du(e,Fa,kl);break;default:throw Error(Pt(329))}}}return Va(e,Fn()),e.callbackNode===n?NW.bind(null,e):null}function kC(e,t){var n=Am;return e.current.memoizedState.isDehydrated&&(Lu(e,t).flags|=256),e=Ky(e,t),e!==2&&(t=Fa,Fa=n,t!==null&&EC(t)),e}function EC(e){Fa===null?Fa=e:Fa.push.apply(Fa,e)}function Kse(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],i=a.getSnapshot;a=a.value;try{if(!Ro(i(),a))return!1}catch(o){return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fc(e,t){for(t&=~ME,t&=~F2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Oo(t),s=1<<n;e[n]=-1,t&=~s}}function vA(e){if(Pr&6)throw Error(Pt(327));D0();var t=Oy(e,0);if(!(t&1))return Va(e,Fn()),null;var n=Ky(e,t);if(e.tag!==0&&n===2){var s=KS(e);s!==0&&(t=s,n=kC(e,s))}if(n===1)throw n=xp,Lu(e,0),Fc(e,t),Va(e,Fn()),n;if(n===6)throw Error(Pt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,du(e,Fa,kl),Va(e,Fn()),null}function TE(e,t){var n=Pr;Pr|=1;try{return e(t)}finally{Pr=n,Pr===0&&(oh=Fn()+500,$2&&jd())}}function Bu(e){Uc!==null&&Uc.tag===0&&!(Pr&6)&&D0();var t=Pr;Pr|=1;var n=Ki.transition,s=Qr;try{if(Ki.transition=null,Qr=1,e)return e()}finally{Qr=s,Ki.transition=n,Pr=t,!(Pr&6)&&jd()}}function AE(){fi=j0.current,hn(j0)}function Lu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Lse(n)),Hn!==null)for(n=Hn.return;n!==null;){var s=n;switch(fE(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Fy();break;case 3:ah(),hn(Wa),hn(da),wE();break;case 5:bE(s);break;case 4:ah();break;case 13:hn(Sn);break;case 19:hn(Sn);break;case 10:pE(s.type._context);break;case 22:case 23:AE()}n=n.return}if(vs=e,Hn=e=sd(e.current,null),Js=fi=t,as=0,xp=null,ME=F2=Fu=0,Fa=Am=null,Su!==null){for(t=0;t<Su.length;t++)if(n=Su[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}n.pending=s}Su=null}return e}function SW(e,t){do{var n=Hn;try{if(mE(),Y1.current=Yy,qy){for(var s=kn.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}qy=!1}if(Ru=0,hs=ns=kn=null,Im=!1,gp=0,LE.current=null,n===null||n.return===null){as=1,xp=t,Hn=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Js,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=aA(o);if(m!==null){m.flags&=-257,iA(m,o,l,i,t),m.mode&1&&sA(i,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var v=new Set;v.add(c),t.updateQueue=v}else p.add(c);break e}else{if(!(t&1)){sA(i,u,t),_E();break e}c=Error(Pt(426))}}else if(vn&&l.mode&1){var b=aA(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),iA(b,o,l,i,t),hE(ih(c,l));break e}}i=c=ih(c,l),as!==4&&(as=2),Am===null?Am=[i]:Am.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=oW(i,c,t);K5(i,y);break e;case 1:l=c;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(rd===null||!rd.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=lW(i,l,t);K5(i,j);break e}}i=i.return}while(i!==null)}EW(n)}catch(N){t=N,Hn===n&&n!==null&&(Hn=n=n.return);continue}break}while(!0)}function CW(){var e=Jy.current;return Jy.current=Yy,e===null?Yy:e}function _E(){(as===0||as===3||as===2)&&(as=4),vs===null||!(Fu&268435455)&&!(F2&268435455)||Fc(vs,Js)}function Ky(e,t){var n=Pr;Pr|=2;var s=CW();(vs!==e||Js!==t)&&(kl=null,Lu(e,t));do try{Xse();break}catch(a){SW(e,a)}while(!0);if(mE(),Pr=n,Jy.current=s,Hn!==null)throw Error(Pt(261));return vs=null,Js=0,as}function Xse(){for(;Hn!==null;)kW(Hn)}function eae(){for(;Hn!==null&&!Cne();)kW(Hn)}function kW(e){var t=MW(e.alternate,e,fi);e.memoizedProps=e.pendingProps,t===null?EW(e):Hn=t,LE.current=null}function EW(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qse(n,t),n!==null){n.flags&=32767,Hn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{as=6,Hn=null;return}}else if(n=Gse(n,t,fi),n!==null){Hn=n;return}if(t=t.sibling,t!==null){Hn=t;return}Hn=t=e}while(t!==null);as===0&&(as=5)}function du(e,t,n){var s=Qr,a=Ki.transition;try{Ki.transition=null,Qr=1,tae(e,t,n,s)}finally{Ki.transition=a,Qr=s}return null}function tae(e,t,n,s){do D0();while(Uc!==null);if(Pr&6)throw Error(Pt(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Pt(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if($ne(e,i),e===vs&&(Hn=vs=null,Js=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nv||(Nv=!0,IW(_y,function(){return D0(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ki.transition,Ki.transition=null;var o=Qr;Qr=1;var l=Pr;Pr|=4,LE.current=null,Jse(e,n),wW(n,e),wse(sC),$y=!!nC,sC=nC=null,e.current=n,Zse(n),kne(),Pr=l,Qr=o,Ki.transition=i}else e.current=n;if(Nv&&(Nv=!1,Uc=e,Qy=a),i=e.pendingLanes,i===0&&(rd=null),Mne(n.stateNode),Va(e,Fn()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(Zy)throw Zy=!1,e=SC,SC=null,e;return Qy&1&&e.tag!==0&&D0(),i=e.pendingLanes,i&1?e===CC?_m++:(_m=0,CC=e):_m=0,jd(),null}function D0(){if(Uc!==null){var e=oU(Qy),t=Ki.transition,n=Qr;try{if(Ki.transition=null,Qr=16>e?16:e,Uc===null)var s=!1;else{if(e=Uc,Uc=null,Qy=0,Pr&6)throw Error(Pt(331));var a=Pr;for(Pr|=4,Jt=e.current;Jt!==null;){var i=Jt,o=i.child;if(Jt.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Jt=u;Jt!==null;){var f=Jt;switch(f.tag){case 0:case 11:case 15:Tm(8,f,i)}var h=f.child;if(h!==null)h.return=f,Jt=h;else for(;Jt!==null;){f=Jt;var g=f.sibling,m=f.return;if(vW(f),f===u){Jt=null;break}if(g!==null){g.return=m,Jt=g;break}Jt=m}}}var p=i.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}Jt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Jt=o;else e:for(;Jt!==null;){if(i=Jt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Tm(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Jt=y;break e}Jt=i.return}}var x=e.current;for(Jt=x;Jt!==null;){o=Jt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Jt=w;else e:for(o=x;Jt!==null;){if(l=Jt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:R2(9,l)}}catch(N){In(l,l.return,N)}if(l===o){Jt=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Jt=j;break e}Jt=l.return}}if(Pr=a,jd(),il&&typeof il.onPostCommitFiberRoot=="function")try{il.onPostCommitFiberRoot(I2,e)}catch(N){}s=!0}return s}finally{Qr=n,Ki.transition=t}}return!1}function yA(e,t,n){t=ih(n,t),t=oW(e,t,1),e=td(e,t,1),t=Ea(),e!==null&&(Qp(e,1,t),Va(e,t))}function In(e,t,n){if(e.tag===3)yA(e,e,n);else for(;t!==null;){if(t.tag===3){yA(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(rd===null||!rd.has(s))){e=ih(n,e),e=lW(t,e,1),t=td(t,e,1),e=Ea(),t!==null&&(Qp(t,1,e),Va(t,e));break}}t=t.return}}function rae(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Ea(),e.pingedLanes|=e.suspendedLanes&n,vs===e&&(Js&n)===n&&(as===4||as===3&&(Js&130023424)===Js&&500>Fn()-IE?Lu(e,0):ME|=n),Va(e,t)}function LW(e,t){t===0&&(e.mode&1?(t=hv,hv<<=1,!(hv&130023424)&&(hv=4194304)):t=1);var n=Ea();e=Fl(e,t),e!==null&&(Qp(e,t,n),Va(e,n))}function nae(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),LW(e,n)}function sae(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Pt(314))}s!==null&&s.delete(t),LW(e,n)}var MW;MW=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wa.current)za=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return za=!1,Vse(e,t,n);za=!!(e.flags&131072)}else za=!1,vn&&t.flags&1048576&&_U(t,Uy,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Z1(e,t),e=t.pendingProps;var a=rh(t,da.current);P0(t,n),a=NE(null,t,s,e,a,n);var i=SE();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ha(s)?(i=!0,By(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,vE(t),a.updater=D2,t.stateNode=a,a._reactInternals=t,hC(t,s,e,n),t=pC(null,t,s,!0,i,n)):(t.tag=0,vn&&i&&uE(t),Na(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Z1(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=iae(s),e=wo(s,e),a){case 0:t=mC(null,t,s,e,n);break e;case 1:t=cA(null,t,s,e,n);break e;case 11:t=oA(null,t,s,e,n);break e;case 14:t=lA(null,t,s,wo(s.type,e),n);break e}throw Error(Pt(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:wo(s,a),mC(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:wo(s,a),cA(e,t,s,a,n);case 3:e:{if(fW(t),e===null)throw Error(Pt(387));s=t.pendingProps,i=t.memoizedState,a=i.element,FU(e,t),Vy(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ih(Error(Pt(423)),t),t=dA(e,t,s,n,a);break e}else if(s!==a){a=ih(Error(Pt(424)),t),t=dA(e,t,s,n,a);break e}else for(vi=ed(t.stateNode.containerInfo.firstChild),wi=t,vn=!0,Co=null,n=DU(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nh(),s===a){t=Bl(e,t,n);break e}Na(e,t,s,n)}t=t.child}return t;case 5:return BU(t),e===null&&dC(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,aC(s,a)?o=null:i!==null&&aC(s,i)&&(t.flags|=32),uW(e,t),Na(e,t,o,n),t.child;case 6:return e===null&&dC(t),null;case 13:return hW(e,t,n);case 4:return yE(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=sh(t,null,s,n):Na(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:wo(s,a),oA(e,t,s,a,n);case 7:return Na(e,t,t.pendingProps,n),t.child;case 8:return Na(e,t,t.pendingProps.children,n),t.child;case 12:return Na(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,cn(Wy,s._currentValue),s._currentValue=o,i!==null)if(Ro(i.value,o)){if(i.children===a.children&&!Wa.current){t=Bl(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=_l(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),uC(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Pt(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),uC(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Na(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,P0(t,n),a=eo(a),s=s(a),t.flags|=1,Na(e,t,s,n),t.child;case 14:return s=t.type,a=wo(s,t.pendingProps),a=wo(s.type,a),lA(e,t,s,a,n);case 15:return cW(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:wo(s,a),Z1(e,t),t.tag=1,Ha(s)?(e=!0,By(t)):e=!1,P0(t,n),iW(t,s,a),hC(t,s,a,n),pC(null,t,s,!0,e,n);case 19:return gW(e,t,n);case 22:return dW(e,t,n)}throw Error(Pt(156,t.tag))};function IW(e,t){return nU(e,t)}function aae(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yi(e,t,n,s){return new aae(e,t,n,s)}function OE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function iae(e){if(typeof e=="function")return OE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xk)return 11;if(e===eE)return 14}return 2}function sd(e,t){var n=e.alternate;return n===null?(n=Yi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function X1(e,t,n,s,a,i){var o=2;if(s=e,typeof e=="function")OE(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case f0:return Mu(n.children,a,i,t);case Kk:o=8,a|=8;break;case DS:return e=Yi(12,n,t,a|2),e.elementType=DS,e.lanes=i,e;case RS:return e=Yi(13,n,t,a),e.elementType=RS,e.lanes=i,e;case FS:return e=Yi(19,n,t,a),e.elementType=FS,e.lanes=i,e;case Bz:return B2(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rz:o=10;break e;case Fz:o=9;break e;case Xk:o=11;break e;case eE:o=14;break e;case Oc:o=16,s=null;break e}throw Error(Pt(130,e==null?e:typeof e,""))}return t=Yi(o,n,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function Mu(e,t,n,s){return e=Yi(7,e,s,t),e.lanes=n,e}function B2(e,t,n,s){return e=Yi(22,e,s,t),e.elementType=Bz,e.lanes=n,e.stateNode={isHidden:!1},e}function I4(e,t,n){return e=Yi(6,e,null,t),e.lanes=n,e}function T4(e,t,n){return t=Yi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oae(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=u4(0),this.expirationTimes=u4(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=u4(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function $E(e,t,n,s,a,i,o,l,c){return e=new oae(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Yi(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vE(i),e}function lae(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u0,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function TW(e){if(!e)return fd;e=e._reactInternals;e:{if(Zu(e)!==e||e.tag!==1)throw Error(Pt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ha(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Pt(171))}if(e.tag===1){var n=e.type;if(Ha(n))return TU(e,n,t)}return t}function AW(e,t,n,s,a,i,o,l,c){return e=$E(n,s,!0,e,a,i,o,l,c),e.context=TW(null),n=e.current,s=Ea(),a=nd(n),i=_l(s,a),i.callback=t!=null?t:null,td(n,i,a),e.current.lanes=a,Qp(e,a,s),Va(e,s),e}function z2(e,t,n,s){var a=t.current,i=Ea(),o=nd(a);return n=TW(n),t.context===null?t.context=n:t.pendingContext=n,t=_l(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=td(a,t,o),e!==null&&($o(e,a,o,i),q1(e,a,o)),o}function Xy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function PE(e,t){bA(e,t),(e=e.alternate)&&bA(e,t)}function cae(){return null}var _W=typeof reportError=="function"?reportError:function(e){console.error(e)};function DE(e){this._internalRoot=e}U2.prototype.render=DE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Pt(409));z2(e,t,null,null)};U2.prototype.unmount=DE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bu(function(){z2(null,e,null,null)}),t[Rl]=null}};function U2(e){this._internalRoot=e}U2.prototype.unstable_scheduleHydration=function(e){if(e){var t=dU();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rc.length&&t!==0&&t<Rc[n].priority;n++);Rc.splice(n,0,e),n===0&&fU(e)}};function RE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function W2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wA(){}function dae(e,t,n,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var u=Xy(o);i.call(u)}}var o=AW(t,s,e,0,null,!1,!1,"",wA);return e._reactRootContainer=o,e[Rl]=o.current,cp(e.nodeType===8?e.parentNode:e),Bu(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var u=Xy(c);l.call(u)}}var c=$E(e,0,!1,null,null,!1,!1,"",wA);return e._reactRootContainer=c,e[Rl]=c.current,cp(e.nodeType===8?e.parentNode:e),Bu(function(){z2(t,c,n,s)}),c}function H2(e,t,n,s,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Xy(o);l.call(c)}}z2(t,o,e,a)}else o=dae(n,t,e,a,s);return Xy(o)}lU=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hm(t.pendingLanes);n!==0&&(nE(t,n|1),Va(t,Fn()),!(Pr&6)&&(oh=Fn()+500,jd()))}break;case 13:Bu(function(){var s=Fl(e,1);if(s!==null){var a=Ea();$o(s,e,1,a)}}),PE(e,1)}};sE=function(e){if(e.tag===13){var t=Fl(e,134217728);if(t!==null){var n=Ea();$o(t,e,134217728,n)}PE(e,134217728)}};cU=function(e){if(e.tag===13){var t=nd(e),n=Fl(e,t);if(n!==null){var s=Ea();$o(n,e,t,s)}PE(e,t)}};dU=function(){return Qr};uU=function(e,t){var n=Qr;try{return Qr=e,t()}finally{Qr=n}};JS=function(e,t,n){switch(t){case"input":if(US(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=O2(s);if(!a)throw Error(Pt(90));Uz(s),US(s,a)}}}break;case"textarea":Hz(e,n);break;case"select":t=n.value,t!=null&&A0(e,!!n.multiple,t,!1)}};Qz=TE;Kz=Bu;var uae={usingClientEntryPoint:!1,Events:[Xp,p0,O2,Jz,Zz,TE]},Lg={findFiberByHostInstance:Nu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fae={bundleType:Lg.bundleType,version:Lg.version,rendererPackageName:Lg.rendererPackageName,rendererConfig:Lg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tU(e),e===null?null:e.stateNode},findFiberByHostInstance:Lg.findFiberByHostInstance||cae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Sv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sv.isDisabled&&Sv.supportsFiber)try{I2=Sv.inject(fae),il=Sv}catch(e){}}Si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uae;Si.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!RE(t))throw Error(Pt(200));return lae(e,t,null,n)};Si.createRoot=function(e,t){if(!RE(e))throw Error(Pt(299));var n=!1,s="",a=_W;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=$E(e,1,!1,null,null,n,!1,s,a),e[Rl]=t.current,cp(e.nodeType===8?e.parentNode:e),new DE(t)};Si.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Pt(188)):(e=Object.keys(e).join(","),Error(Pt(268,e)));return e=tU(t),e=e===null?null:e.stateNode,e};Si.flushSync=function(e){return Bu(e)};Si.hydrate=function(e,t,n){if(!W2(t))throw Error(Pt(200));return H2(null,e,t,!0,n)};Si.hydrateRoot=function(e,t,n){if(!RE(e))throw Error(Pt(405));var s=n!=null&&n.hydratedSources||null,a=!1,i="",o=_W;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=AW(t,null,e,1,n!=null?n:null,a,!1,i,o),e[Rl]=t.current,cp(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new U2(t)};Si.render=function(e,t,n){if(!W2(t))throw Error(Pt(200));return H2(null,e,t,!1,n)};Si.unmountComponentAtNode=function(e){if(!W2(e))throw Error(Pt(40));return e._reactRootContainer?(Bu(function(){H2(null,null,e,!1,function(){e._reactRootContainer=null,e[Rl]=null})}),!0):!1};Si.unstable_batchedUpdates=TE;Si.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!W2(n))throw Error(Pt(200));if(e==null||e._reactInternals===void 0)throw Error(Pt(38));return H2(e,t,n,!1,s)};Si.version="18.3.1-next-f1338f8080-20240426";function OW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OW)}catch(e){console.error(e)}}OW(),Oz.exports=Si;var Nd=Oz.exports,jA=Nd;$S.createRoot=jA.createRoot,$S.hydrateRoot=jA.hydrateRoot;/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vp.apply(this,arguments)}var Wc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wc||(Wc={}));const NA="popstate";function hae(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return LC("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:eb(a)}return mae(t,n,null,e)}function En(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function $W(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function gae(){return Math.random().toString(36).substr(2,8)}function SA(e,t){return{usr:e.state,key:e.key,idx:t}}function LC(e,t,n,s){return n===void 0&&(n=null),vp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ih(t):t,{state:n,key:t&&t.key||s||gae()})}function eb(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Ih(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function mae(e,t,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=Wc.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(vp({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function h(){l=Wc.Pop;let b=f(),y=b==null?null:b-u;u=b,c&&c({action:l,location:v.location,delta:y})}function g(b,y){l=Wc.Push;let x=LC(v.location,b,y);u=f()+1;let w=SA(x,u),j=v.createHref(x);try{o.pushState(w,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}i&&c&&c({action:l,location:v.location,delta:1})}function m(b,y){l=Wc.Replace;let x=LC(v.location,b,y);u=f();let w=SA(x,u),j=v.createHref(x);o.replaceState(w,"",j),i&&c&&c({action:l,location:v.location,delta:0})}function p(b){let y=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof b=="string"?b:eb(b);return x=x.replace(/ $/,"%20"),En(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return l},get location(){return e(a,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(NA,h),c=b,()=>{a.removeEventListener(NA,h),c=null}},createHref(b){return t(a,b)},createURL:p,encodeLocation(b){let y=p(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:m,go(b){return o.go(b)}};return v}var CA;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(CA||(CA={}));function pae(e,t,n){return n===void 0&&(n="/"),xae(e,t,n,!1)}function xae(e,t,n,s){let a=typeof t=="string"?Ih(t):t,i=lh(a.pathname||"/",n);if(i==null)return null;let o=PW(e);vae(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Mae(i);l=Eae(o[c],u,s)}return l}function PW(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(En(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=ad([s,c.relativePath]),f=n.concat(c);i.children&&i.children.length>0&&(En(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),PW(i.children,t,f,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Cae(u,i.index),routesMeta:f})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of DW(i.path))a(i,o,c)}),t}function DW(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=DW(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function vae(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:kae(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const yae=/^:[\w-]+$/,bae=3,wae=2,jae=1,Nae=10,Sae=-2,kA=e=>e==="*";function Cae(e,t){let n=e.split("/"),s=n.length;return n.some(kA)&&(s+=Sae),t&&(s+=wae),n.filter(a=>!kA(a)).reduce((a,i)=>a+(yae.test(i)?bae:i===""?jae:Nae),s)}function kae(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function Eae(e,t,n){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,f=i==="/"?t:t.slice(i.length)||"/",h=tb({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),g=c.route;if(!h&&u&&n&&!s[s.length-1].route.index&&(h=tb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:ad([i,h.pathname]),pathnameBase:_ae(ad([i,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(i=ad([i,h.pathnameBase]))}return o}function tb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Lae(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((u,f,h)=>{let{paramName:g,isOptional:m}=f;if(g==="*"){let v=l[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const p=l[h];return m&&!p?u[g]=void 0:u[g]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Lae(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),$W(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function Mae(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $W(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Iae(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Ih(e):e;return{pathname:n?n.startsWith("/")?n:Tae(n,t):t,search:Oae(s),hash:$ae(a)}}function Tae(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function A4(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Aae(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function FE(e,t){let n=Aae(e);return t?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function BE(e,t,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Ih(e):(a=vp({},e),En(!a.pathname||!a.pathname.includes("?"),A4("?","pathname","search",a)),En(!a.pathname||!a.pathname.includes("#"),A4("#","pathname","hash",a)),En(!a.search||!a.search.includes("#"),A4("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!s&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;a.pathname=g.join("/")}l=h>=0?t[h]:"/"}let c=Iae(a,l),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const ad=e=>e.join("/").replace(/\/\/+/g,"/"),_ae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Oae=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$ae=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Pae(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const RW=["post","put","patch","delete"];new Set(RW);const Dae=["get",...RW];new Set(Dae);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yp.apply(this,arguments)}const V2=d.createContext(null),FW=d.createContext(null),Zl=d.createContext(null),G2=d.createContext(null),ul=d.createContext({outlet:null,matches:[],isDataRoute:!1}),BW=d.createContext(null);function Rae(e,t){let{relative:n}=t===void 0?{}:t;Th()||En(!1);let{basename:s,navigator:a}=d.useContext(Zl),{hash:i,pathname:o,search:l}=q2(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:ad([s,o])),a.createHref({pathname:c,search:l,hash:i})}function Th(){return d.useContext(G2)!=null}function bs(){return Th()||En(!1),d.useContext(G2).location}function zW(e){d.useContext(Zl).static||d.useLayoutEffect(e)}function Ht(){let{isDataRoute:e}=d.useContext(ul);return e?Xae():Fae()}function Fae(){Th()||En(!1);let e=d.useContext(V2),{basename:t,future:n,navigator:s}=d.useContext(Zl),{matches:a}=d.useContext(ul),{pathname:i}=bs(),o=JSON.stringify(FE(a,n.v7_relativeSplatPath)),l=d.useRef(!1);return zW(()=>{l.current=!0}),d.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let h=BE(u,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ad([t,h.pathname])),(f.replace?s.replace:s.push)(h,f.state,f)},[t,s,o,i,e])}const Bae=d.createContext(null);function zae(e){let t=d.useContext(ul).outlet;return t&&d.createElement(Bae.Provider,{value:e},t)}function ea(){let{matches:e}=d.useContext(ul),t=e[e.length-1];return t?t.params:{}}function q2(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=d.useContext(Zl),{matches:a}=d.useContext(ul),{pathname:i}=bs(),o=JSON.stringify(FE(a,s.v7_relativeSplatPath));return d.useMemo(()=>BE(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Uae(e,t){return Wae(e,t)}function Wae(e,t,n,s){Th()||En(!1);let{navigator:a}=d.useContext(Zl),{matches:i}=d.useContext(ul),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=bs(),f;if(t){var h;let b=typeof t=="string"?Ih(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||En(!1),f=b}else f=u;let g=f.pathname||"/",m=g;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let p=pae(e,{pathname:m}),v=Yae(p&&p.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:ad([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:ad([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,s);return t&&v?d.createElement(G2.Provider,{value:{location:yp({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Wc.Pop}},v):v}function Hae(){let e=Kae(),t=Pae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:a},n):null,null)}const Vae=d.createElement(Hae,null);class Gae extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?d.createElement(ul.Provider,{value:this.props.routeContext},d.createElement(BW.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qae(e){let{routeContext:t,match:n,children:s}=e,a=d.useContext(V2);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(ul.Provider,{value:t},s)}function Yae(e,t,n,s){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let f=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);f>=0||En(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:g,errors:m}=n,p=h.route.loader&&g[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,h,g)=>{let m,p=!1,v=null,b=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||Vae,c&&(u<0&&g===0?(p=!0,b=null):u===g&&(p=!0,b=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,g+1)),x=()=>{let w;return m?w=v:p?w=b:h.route.Component?w=d.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=f,d.createElement(qae,{match:h,routeContext:{outlet:f,matches:y,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?d.createElement(Gae,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var UW=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(UW||{}),rb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(rb||{});function Jae(e){let t=d.useContext(V2);return t||En(!1),t}function Zae(e){let t=d.useContext(FW);return t||En(!1),t}function Qae(e){let t=d.useContext(ul);return t||En(!1),t}function WW(e){let t=Qae(),n=t.matches[t.matches.length-1];return n.route.id||En(!1),n.route.id}function Kae(){var e;let t=d.useContext(BW),n=Zae(rb.UseRouteError),s=WW(rb.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function Xae(){let{router:e}=Jae(UW.UseNavigateStable),t=WW(rb.UseNavigateStable),n=d.useRef(!1);return zW(()=>{n.current=!0}),d.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,yp({fromRouteId:t},i)))},[e,t])}function MC(e){let{to:t,replace:n,state:s,relative:a}=e;Th()||En(!1);let{future:i,static:o}=d.useContext(Zl),{matches:l}=d.useContext(ul),{pathname:c}=bs(),u=Ht(),f=BE(t,FE(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(f);return d.useEffect(()=>u(JSON.parse(h),{replace:n,state:s,relative:a}),[u,h,a,n,s]),null}function zE(e){return zae(e.context)}function Gt(e){En(!1)}function eie(e){let{basename:t="/",children:n=null,location:s,navigationType:a=Wc.Pop,navigator:i,static:o=!1,future:l}=e;Th()&&En(!1);let c=t.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:c,navigator:i,static:o,future:yp({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Ih(s));let{pathname:f="/",search:h="",hash:g="",state:m=null,key:p="default"}=s,v=d.useMemo(()=>{let b=lh(f,c);return b==null?null:{location:{pathname:b,search:h,hash:g,state:m,key:p},navigationType:a}},[c,f,h,g,m,p,a]);return v==null?null:d.createElement(Zl.Provider,{value:u},d.createElement(G2.Provider,{children:n,value:v}))}function tie(e){let{children:t,location:n}=e;return Uae(IC(t),n)}new Promise(()=>{});function IC(e,t){t===void 0&&(t=[]);let n=[];return d.Children.forEach(e,(s,a)=>{if(!d.isValidElement(s))return;let i=[...t,a];if(s.type===d.Fragment){n.push.apply(n,IC(s.props.children,i));return}s.type!==Gt&&En(!1),!s.props.index||!s.props.children||En(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=IC(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nb(){return nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nb.apply(this,arguments)}function HW(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function rie(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nie(e,t){return e.button===0&&(!t||t==="_self")&&!rie(e)}function TC(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function sie(e,t){let n=TC(e);return t&&t.forEach((s,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}const aie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],iie=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],oie="6";try{window.__reactRouterVersion=oie}catch(e){}const lie=d.createContext({isTransitioning:!1}),cie="startTransition",EA=rne[cie];function die(e){let{basename:t,children:n,future:s,window:a}=e,i=d.useRef();i.current==null&&(i.current=hae({window:a,v5Compat:!0}));let o=i.current,[l,c]=d.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},f=d.useCallback(h=>{u&&EA?EA(()=>c(h)):c(h)},[c,u]);return d.useLayoutEffect(()=>o.listen(f),[o,f]),d.createElement(eie,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const uie=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",fie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zn=d.forwardRef(function(t,n){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:f,unstable_viewTransition:h}=t,g=HW(t,aie),{basename:m}=d.useContext(Zl),p,v=!1;if(typeof u=="string"&&fie.test(u)&&(p=u,uie))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),N=lh(j.pathname,m);j.origin===w.origin&&N!=null?u=N+j.search+j.hash:v=!0}catch(w){}let b=Rae(u,{relative:a}),y=mie(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:a,unstable_viewTransition:h});function x(w){s&&s(w),w.defaultPrevented||y(w)}return d.createElement("a",nb({},g,{href:p||b,onClick:v||i?s:x,ref:n,target:c}))}),hie=d.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,unstable_viewTransition:u,children:f}=t,h=HW(t,iie),g=q2(c,{relative:h.relative}),m=bs(),p=d.useContext(FW),{navigator:v,basename:b}=d.useContext(Zl),y=p!=null&&xie(g)&&u===!0,x=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,w=m.pathname,j=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;a||(w=w.toLowerCase(),j=j?j.toLowerCase():null,x=x.toLowerCase()),j&&b&&(j=lh(j,b)||j);const N=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let L=w===x||!o&&w.startsWith(x)&&w.charAt(N)==="/",k=j!=null&&(j===x||!o&&j.startsWith(x)&&j.charAt(x.length)==="/"),E={isActive:L,isPending:k,isTransitioning:y},S=L?s:void 0,I;typeof i=="function"?I=i(E):I=[i,L?"active":null,k?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let C=typeof l=="function"?l(E):l;return d.createElement(zn,nb({},h,{"aria-current":S,className:I,ref:n,style:C,to:c,unstable_viewTransition:u}),typeof f=="function"?f(E):f)});var AC;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(AC||(AC={}));var LA;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(LA||(LA={}));function gie(e){let t=d.useContext(V2);return t||En(!1),t}function mie(e,t){let{target:n,replace:s,state:a,preventScrollReset:i,relative:o,unstable_viewTransition:l}=t===void 0?{}:t,c=Ht(),u=bs(),f=q2(e,{relative:o});return d.useCallback(h=>{if(nie(h,n)){h.preventDefault();let g=s!==void 0?s:eb(u)===eb(f);c(e,{replace:g,state:a,preventScrollReset:i,relative:o,unstable_viewTransition:l})}},[u,c,f,s,a,n,e,i,o,l])}function pie(e){let t=d.useRef(TC(e)),n=d.useRef(!1),s=bs(),a=d.useMemo(()=>sie(s.search,n.current?null:t.current),[s.search]),i=Ht(),o=d.useCallback((l,c)=>{const u=TC(typeof l=="function"?l(a):l);n.current=!0,i("?"+u,c)},[i,a]);return[a,o]}function xie(e,t){t===void 0&&(t={});let n=d.useContext(lie);n==null&&En(!1);let{basename:s}=gie(AC.useViewTransitionState),a=q2(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=lh(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=lh(n.nextLocation.pathname,s)||n.nextLocation.pathname;return tb(a.pathname,o)!=null||tb(a.pathname,i)!=null}function VW(e,t){return function(){return e.apply(t,arguments)}}const{toString:vie}=Object.prototype,{getPrototypeOf:UE}=Object,{iterator:Y2,toStringTag:GW}=Symbol,J2=(e=>t=>{const n=vie.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),zo=e=>(e=e.toLowerCase(),t=>J2(t)===e),Z2=e=>t=>typeof t===e,{isArray:Ah}=Array,bp=Z2("undefined");function tx(e){return e!==null&&!bp(e)&&e.constructor!==null&&!bp(e.constructor)&&Ga(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const qW=zo("ArrayBuffer");function yie(e){let t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&qW(e.buffer),t}const bie=Z2("string"),Ga=Z2("function"),YW=Z2("number"),rx=e=>e!==null&&typeof e=="object",wie=e=>e===!0||e===!1,ey=e=>{if(J2(e)!=="object")return!1;const t=UE(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(GW in e)&&!(Y2 in e)},jie=e=>{if(!rx(e)||tx(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},Nie=zo("Date"),Sie=zo("File"),Cie=zo("Blob"),kie=zo("FileList"),Eie=e=>rx(e)&&Ga(e.pipe),Lie=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ga(e.append)&&((t=J2(e))==="formdata"||t==="object"&&Ga(e.toString)&&e.toString()==="[object FormData]"))},Mie=zo("URLSearchParams"),[Iie,Tie,Aie,_ie]=["ReadableStream","Request","Response","Headers"].map(zo),Oie=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nx(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e=="undefined")return;let s,a;if(typeof e!="object"&&(e=[e]),Ah(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(tx(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(s=0;s<o;s++)l=i[s],t.call(null,e[l],l,e)}}function JW(e,t){if(tx(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,a;for(;s-- >0;)if(a=n[s],t===a.toLowerCase())return a;return null}const ku=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,ZW=e=>!bp(e)&&e!==ku;function _C(){const{caseless:e}=ZW(this)&&this||{},t={},n=(s,a)=>{const i=e&&JW(t,a)||a;ey(t[i])&&ey(s)?t[i]=_C(t[i],s):ey(s)?t[i]=_C({},s):Ah(s)?t[i]=s.slice():t[i]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&nx(arguments[s],n);return t}const $ie=(e,t,n,{allOwnKeys:s}={})=>(nx(t,(a,i)=>{n&&Ga(a)?e[i]=VW(a,n):e[i]=a},{allOwnKeys:s}),e),Pie=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Die=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Rie=(e,t,n,s)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&UE(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Fie=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},Bie=e=>{if(!e)return null;if(Ah(e))return e;let t=e.length;if(!YW(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},zie=(e=>t=>e&&t instanceof e)(typeof Uint8Array!="undefined"&&UE(Uint8Array)),Uie=(e,t)=>{const s=(e&&e[Y2]).call(e);let a;for(;(a=s.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Wie=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},Hie=zo("HTMLFormElement"),Vie=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,a){return s.toUpperCase()+a}),MA=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Gie=zo("RegExp"),QW=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};nx(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(s[i]=o||a)}),Object.defineProperties(e,s)},qie=e=>{QW(e,(t,n)=>{if(Ga(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(Ga(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Yie=(e,t)=>{const n={},s=a=>{a.forEach(i=>{n[i]=!0})};return Ah(e)?s(e):s(String(e).split(t)),n},Jie=()=>{},Zie=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Qie(e){return!!(e&&Ga(e.append)&&e[GW]==="FormData"&&e[Y2])}const Kie=e=>{const t=new Array(10),n=(s,a)=>{if(rx(s)){if(t.indexOf(s)>=0)return;if(tx(s))return s;if(!("toJSON"in s)){t[a]=s;const i=Ah(s)?[]:{};return nx(s,(o,l)=>{const c=n(o,a+1);!bp(c)&&(i[l]=c)}),t[a]=void 0,i}}return s};return n(e,0)},Xie=zo("AsyncFunction"),eoe=e=>e&&(rx(e)||Ga(e))&&Ga(e.then)&&Ga(e.catch),KW=((e,t)=>e?setImmediate:t?((n,s)=>(ku.addEventListener("message",({source:a,data:i})=>{a===ku&&i===n&&s.length&&s.shift()()},!1),a=>{s.push(a),ku.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ga(ku.postMessage)),toe=typeof queueMicrotask!="undefined"?queueMicrotask.bind(ku):typeof process!="undefined"&&process.nextTick||KW,roe=e=>e!=null&&Ga(e[Y2]),St={isArray:Ah,isArrayBuffer:qW,isBuffer:tx,isFormData:Lie,isArrayBufferView:yie,isString:bie,isNumber:YW,isBoolean:wie,isObject:rx,isPlainObject:ey,isEmptyObject:jie,isReadableStream:Iie,isRequest:Tie,isResponse:Aie,isHeaders:_ie,isUndefined:bp,isDate:Nie,isFile:Sie,isBlob:Cie,isRegExp:Gie,isFunction:Ga,isStream:Eie,isURLSearchParams:Mie,isTypedArray:zie,isFileList:kie,forEach:nx,merge:_C,extend:$ie,trim:Oie,stripBOM:Pie,inherits:Die,toFlatObject:Rie,kindOf:J2,kindOfTest:zo,endsWith:Fie,toArray:Bie,forEachEntry:Uie,matchAll:Wie,isHTMLForm:Hie,hasOwnProperty:MA,hasOwnProp:MA,reduceDescriptors:QW,freezeMethods:qie,toObjectSet:Yie,toCamelCase:Vie,noop:Jie,toFiniteNumber:Zie,findKey:JW,global:ku,isContextDefined:ZW,isSpecCompliantForm:Qie,toJSONObject:Kie,isAsyncFn:Xie,isThenable:eoe,setImmediate:KW,asap:toe,isIterable:roe};function ur(e,t,n,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}St.inherits(ur,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:St.toJSONObject(this.config),code:this.code,status:this.status}}});const XW=ur.prototype,eH={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{eH[e]={value:e}});Object.defineProperties(ur,eH);Object.defineProperty(XW,"isAxiosError",{value:!0});ur.from=(e,t,n,s,a,i)=>{const o=Object.create(XW);return St.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),ur.call(o,e.message,t,n,s,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const noe=null;function OC(e){return St.isPlainObject(e)||St.isArray(e)}function tH(e){return St.endsWith(e,"[]")?e.slice(0,-2):e}function IA(e,t,n){return e?e.concat(t).map(function(a,i){return a=tH(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function soe(e){return St.isArray(e)&&!e.some(OC)}const aoe=St.toFlatObject(St,{},null,function(t){return/^is[A-Z]/.test(t)});function Q2(e,t,n){if(!St.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=St.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!St.isUndefined(b[v])});const s=n.metaTokens,a=n.visitor||f,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob!="undefined"&&Blob)&&St.isSpecCompliantForm(t);if(!St.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(St.isDate(p))return p.toISOString();if(St.isBoolean(p))return p.toString();if(!c&&St.isBlob(p))throw new ur("Blob is not supported. Use a Buffer instead.");return St.isArrayBuffer(p)||St.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function f(p,v,b){let y=p;if(p&&!b&&typeof p=="object"){if(St.endsWith(v,"{}"))v=s?v:v.slice(0,-2),p=JSON.stringify(p);else if(St.isArray(p)&&soe(p)||(St.isFileList(p)||St.endsWith(v,"[]"))&&(y=St.toArray(p)))return v=tH(v),y.forEach(function(w,j){!(St.isUndefined(w)||w===null)&&t.append(o===!0?IA([v],j,i):o===null?v:v+"[]",u(w))}),!1}return OC(p)?!0:(t.append(IA(b,v,i),u(p)),!1)}const h=[],g=Object.assign(aoe,{defaultVisitor:f,convertValue:u,isVisitable:OC});function m(p,v){if(!St.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(p),St.forEach(p,function(y,x){(!(St.isUndefined(y)||y===null)&&a.call(t,y,St.isString(x)?x.trim():x,v,g))===!0&&m(y,v?v.concat(x):[x])}),h.pop()}}if(!St.isObject(e))throw new TypeError("data must be an object");return m(e),t}function TA(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function WE(e,t){this._pairs=[],e&&Q2(e,this,t)}const rH=WE.prototype;rH.append=function(t,n){this._pairs.push([t,n])};rH.toString=function(t){const n=t?function(s){return t.call(this,s,TA)}:TA;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function ioe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nH(e,t,n){if(!t)return e;const s=n&&n.encode||ioe;St.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(t,n):i=St.isURLSearchParams(t)?t.toString():new WE(t,n).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class AA{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){St.forEach(this.handlers,function(s){s!==null&&t(s)})}}const sH={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ooe=typeof URLSearchParams!="undefined"?URLSearchParams:WE,loe=typeof FormData!="undefined"?FormData:null,coe=typeof Blob!="undefined"?Blob:null,doe={isBrowser:!0,classes:{URLSearchParams:ooe,FormData:loe,Blob:coe},protocols:["http","https","file","blob","url","data"]},HE=typeof window!="undefined"&&typeof document!="undefined",$C=typeof navigator=="object"&&navigator||void 0,uoe=HE&&(!$C||["ReactNative","NativeScript","NS"].indexOf($C.product)<0),foe=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hoe=HE&&window.location.href||"http://localhost",goe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:HE,hasStandardBrowserEnv:uoe,hasStandardBrowserWebWorkerEnv:foe,navigator:$C,origin:hoe},Symbol.toStringTag,{value:"Module"})),oa=te(te({},goe),doe);function moe(e,t){return Q2(e,new oa.classes.URLSearchParams,te({visitor:function(n,s,a,i){return oa.isNode&&St.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function poe(e){return St.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function xoe(e){const t={},n=Object.keys(e);let s;const a=n.length;let i;for(s=0;s<a;s++)i=n[s],t[i]=e[i];return t}function aH(e){function t(n,s,a,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&St.isArray(a)?a.length:o,c?(St.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!l):((!a[o]||!St.isObject(a[o]))&&(a[o]=[]),t(n,s,a[o],i)&&St.isArray(a[o])&&(a[o]=xoe(a[o])),!l)}if(St.isFormData(e)&&St.isFunction(e.entries)){const n={};return St.forEachEntry(e,(s,a)=>{t(poe(s),a,n,0)}),n}return null}function voe(e,t,n){if(St.isString(e))try{return(t||JSON.parse)(e),St.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const sx={transitional:sH,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",a=s.indexOf("application/json")>-1,i=St.isObject(t);if(i&&St.isHTMLForm(t)&&(t=new FormData(t)),St.isFormData(t))return a?JSON.stringify(aH(t)):t;if(St.isArrayBuffer(t)||St.isBuffer(t)||St.isStream(t)||St.isFile(t)||St.isBlob(t)||St.isReadableStream(t))return t;if(St.isArrayBufferView(t))return t.buffer;if(St.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return moe(t,this.formSerializer).toString();if((l=St.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Q2(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),voe(t)):t}],transformResponse:[function(t){const n=this.transitional||sx.transitional,s=n&&n.forcedJSONParsing,a=this.responseType==="json";if(St.isResponse(t)||St.isReadableStream(t))return t;if(t&&St.isString(t)&&(s&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?ur.from(l,ur.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:oa.classes.FormData,Blob:oa.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};St.forEach(["delete","get","head","post","put","patch"],e=>{sx.headers[e]={}});const yoe=St.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),boe=e=>{const t={};let n,s,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!n||t[n]&&yoe[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},_A=Symbol("internals");function Mg(e){return e&&String(e).trim().toLowerCase()}function ty(e){return e===!1||e==null?e:St.isArray(e)?e.map(ty):String(e)}function woe(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const joe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function _4(e,t,n,s,a){if(St.isFunction(s))return s.call(this,t,n);if(a&&(t=n),!!St.isString(t)){if(St.isString(s))return t.indexOf(s)!==-1;if(St.isRegExp(s))return s.test(t)}}function Noe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function Soe(e,t){const n=St.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(a,i,o){return this[s].call(this,t,a,i,o)},configurable:!0})})}class qa{constructor(t){t&&this.set(t)}set(t,n,s){const a=this;function i(l,c,u){const f=Mg(c);if(!f)throw new Error("header name must be a non-empty string");const h=St.findKey(a,f);(!h||a[h]===void 0||u===!0||u===void 0&&a[h]!==!1)&&(a[h||c]=ty(l))}const o=(l,c)=>St.forEach(l,(u,f)=>i(u,f,c));if(St.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(St.isString(t)&&(t=t.trim())&&!joe(t))o(boe(t),n);else if(St.isObject(t)&&St.isIterable(t)){let l={},c,u;for(const f of t){if(!St.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[u=f[0]]=(c=l[u])?St.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}o(l,n)}else t!=null&&i(n,t,s);return this}get(t,n){if(t=Mg(t),t){const s=St.findKey(this,t);if(s){const a=this[s];if(!n)return a;if(n===!0)return woe(a);if(St.isFunction(n))return n.call(this,a,s);if(St.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Mg(t),t){const s=St.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||_4(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let a=!1;function i(o){if(o=Mg(o),o){const l=St.findKey(s,o);l&&(!n||_4(s,s[l],l,n))&&(delete s[l],a=!0)}}return St.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let s=n.length,a=!1;for(;s--;){const i=n[s];(!t||_4(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,s={};return St.forEach(this,(a,i)=>{const o=St.findKey(s,i);if(o){n[o]=ty(a),delete n[i];return}const l=t?Noe(i):String(i).trim();l!==i&&delete n[i],n[l]=ty(a),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return St.forEach(this,(s,a)=>{s!=null&&s!==!1&&(n[a]=t&&St.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[_A]=this[_A]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Mg(o);s[l]||(Soe(a,o),s[l]=!0)}return St.isArray(t)?t.forEach(i):i(t),this}}qa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);St.reduceDescriptors(qa.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});St.freezeMethods(qa);function O4(e,t){const n=this||sx,s=t||n,a=qa.from(s.headers);let i=s.data;return St.forEach(e,function(l){i=l.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function iH(e){return!!(e&&e.__CANCEL__)}function _h(e,t,n){ur.call(this,e==null?"canceled":e,ur.ERR_CANCELED,t,n),this.name="CanceledError"}St.inherits(_h,ur,{__CANCEL__:!0});function oH(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new ur("Request failed with status code "+n.status,[ur.ERR_BAD_REQUEST,ur.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Coe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function koe(e,t){e=e||10;const n=new Array(e),s=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),f=s[i];o||(o=u),n[a]=c,s[a]=u;let h=i,g=0;for(;h!==a;)g+=n[h++],h=h%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const m=f&&u-f;return m?Math.round(g*1e3/m):void 0}}function Eoe(e,t){let n=0,s=1e3/t,a,i;const o=(u,f=Date.now())=>{n=f,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const f=Date.now(),h=f-n;h>=s?o(u,f):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},s-h)))},()=>a&&o(a)]}const sb=(e,t,n=3)=>{let s=0;const a=koe(50,250);return Eoe(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,u=a(c),f=o<=l;s=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&f?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},n)},OA=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},$A=e=>(...t)=>St.asap(()=>e(...t)),Loe=oa.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,oa.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(oa.origin),oa.navigator&&/(msie|trident)/i.test(oa.navigator.userAgent)):()=>!0,Moe=oa.hasStandardBrowserEnv?{write(e,t,n,s,a,i){const o=[e+"="+encodeURIComponent(t)];St.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),St.isString(s)&&o.push("path="+s),St.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ioe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Toe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function lH(e,t,n){let s=!Ioe(t);return e&&(s||n==!1)?Toe(e,t):t}const PA=e=>e instanceof qa?te({},e):e;function zu(e,t){t=t||{};const n={};function s(u,f,h,g){return St.isPlainObject(u)&&St.isPlainObject(f)?St.merge.call({caseless:g},u,f):St.isPlainObject(f)?St.merge({},f):St.isArray(f)?f.slice():f}function a(u,f,h,g){if(St.isUndefined(f)){if(!St.isUndefined(u))return s(void 0,u,h,g)}else return s(u,f,h,g)}function i(u,f){if(!St.isUndefined(f))return s(void 0,f)}function o(u,f){if(St.isUndefined(f)){if(!St.isUndefined(u))return s(void 0,u)}else return s(void 0,f)}function l(u,f,h){if(h in t)return s(u,f);if(h in e)return s(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,f,h)=>a(PA(u),PA(f),h,!0)};return St.forEach(Object.keys(te(te({},e),t)),function(f){const h=c[f]||a,g=h(e[f],t[f],f);St.isUndefined(g)&&h!==l||(n[f]=g)}),n}const cH=e=>{const t=zu({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=qa.from(o),t.url=nH(lH(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(St.isFormData(n)){if(oa.hasStandardBrowserEnv||oa.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...f]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...f].join("; "))}}if(oa.hasStandardBrowserEnv&&(s&&St.isFunction(s)&&(s=s(t)),s||s!==!1&&Loe(t.url))){const u=a&&i&&Moe.read(i);u&&o.set(a,u)}return t},Aoe=typeof XMLHttpRequest!="undefined",_oe=Aoe&&function(e){return new Promise(function(n,s){const a=cH(e);let i=a.data;const o=qa.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,f,h,g,m,p;function v(){m&&m(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function y(){if(!b)return;const w=qa.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:w,config:e,request:b};oH(function(k){n(k),v()},function(k){s(k),v()},N),b=null}"onloadend"in b?b.onloadend=y:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(y)},b.onabort=function(){b&&(s(new ur("Request aborted",ur.ECONNABORTED,e,b)),b=null)},b.onerror=function(){s(new ur("Network Error",ur.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||sH;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),s(new ur(j,N.clarifyTimeoutError?ur.ETIMEDOUT:ur.ECONNABORTED,e,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&St.forEach(o.toJSON(),function(j,N){b.setRequestHeader(N,j)}),St.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),l&&l!=="json"&&(b.responseType=a.responseType),u&&([g,p]=sb(u,!0),b.addEventListener("progress",g)),c&&b.upload&&([h,m]=sb(c),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(f=w=>{b&&(s(!w||w.type?new _h(null,e,b):w),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const x=Coe(a.url);if(x&&oa.protocols.indexOf(x)===-1){s(new ur("Unsupported protocol "+x+":",ur.ERR_BAD_REQUEST,e));return}b.send(i||null)})},Ooe=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,a;const i=function(u){if(!a){a=!0,l();const f=u instanceof Error?u:this.reason;s.abort(f instanceof ur?f:new _h(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,i(new ur(`timeout ${t} of ms exceeded`,ur.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>St.asap(l),c}},$oe=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let s=0,a;for(;s<n;)a=s+t,yield e.slice(s,a),s=a},Poe=function(e,t){return s4(this,null,function*(){try{for(var n=h5(Doe(e)),s,a,i;s=!(a=yield new Jd(n.next())).done;s=!1){const o=a.value;yield*a4($oe(o,t))}}catch(a){i=[a]}finally{try{s&&(a=n.return)&&(yield new Jd(a.call(n)))}finally{if(i)throw i[0]}}})},Doe=function(e){return s4(this,null,function*(){if(e[Symbol.asyncIterator]){yield*a4(e);return}const t=e.getReader();try{for(;;){const{done:n,value:s}=yield new Jd(t.read());if(n)break;yield s}}finally{yield new Jd(t.cancel())}})},DA=(e,t,n,s)=>{const a=Poe(e,t);let i=0,o,l=u=>{o||(o=!0,s&&s(u))};return new ReadableStream({pull(u){return pe(this,null,function*(){try{const{done:f,value:h}=yield a.next();if(f){l(),u.close();return}let g=h.byteLength;if(n){let m=i+=g;n(m)}u.enqueue(new Uint8Array(h))}catch(f){throw l(f),f}})},cancel(u){return l(u),a.return()}},{highWaterMark:2})},K2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dH=K2&&typeof ReadableStream=="function",Roe=K2&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):e=>pe(void 0,null,function*(){return new Uint8Array(yield new Response(e).arrayBuffer())})),uH=(e,...t)=>{try{return!!e(...t)}catch(n){return!1}},Foe=dH&&uH(()=>{let e=!1;const t=new Request(oa.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),RA=64*1024,PC=dH&&uH(()=>St.isReadableStream(new Response("").body)),ab={stream:PC&&(e=>e.body)};K2&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ab[t]&&(ab[t]=St.isFunction(e[t])?n=>n[t]():(n,s)=>{throw new ur(`Response type '${t}' is not supported`,ur.ERR_NOT_SUPPORT,s)})})})(new Response);const Boe=e=>pe(void 0,null,function*(){if(e==null)return 0;if(St.isBlob(e))return e.size;if(St.isSpecCompliantForm(e))return(yield new Request(oa.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(St.isArrayBufferView(e)||St.isArrayBuffer(e))return e.byteLength;if(St.isURLSearchParams(e)&&(e=e+""),St.isString(e))return(yield Roe(e)).byteLength}),zoe=(e,t)=>pe(void 0,null,function*(){const n=St.toFiniteNumber(e.getContentLength());return n==null?Boe(t):n}),Uoe=K2&&(e=>pe(void 0,null,function*(){let{url:t,method:n,data:s,signal:a,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:f,withCredentials:h="same-origin",fetchOptions:g}=cH(e);u=u?(u+"").toLowerCase():"text";let m=Ooe([a,i&&i.toAbortSignal()],o),p;const v=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let b;try{if(c&&Foe&&n!=="get"&&n!=="head"&&(b=yield zoe(f,s))!==0){let N=new Request(t,{method:"POST",body:s,duplex:"half"}),L;if(St.isFormData(s)&&(L=N.headers.get("content-type"))&&f.setContentType(L),N.body){const[k,E]=OA(b,sb($A(c)));s=DA(N.body,RA,k,E)}}St.isString(h)||(h=h?"include":"omit");const y="credentials"in Request.prototype;p=new Request(t,he(te({},g),{signal:m,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:s,duplex:"half",credentials:y?h:void 0}));let x=yield fetch(p,g);const w=PC&&(u==="stream"||u==="response");if(PC&&(l||w&&v)){const N={};["status","statusText","headers"].forEach(S=>{N[S]=x[S]});const L=St.toFiniteNumber(x.headers.get("content-length")),[k,E]=l&&OA(L,sb($A(l),!0))||[];x=new Response(DA(x.body,RA,k,()=>{E&&E(),v&&v()}),N)}u=u||"text";let j=yield ab[St.findKey(ab,u)||"text"](x,e);return!w&&v&&v(),yield new Promise((N,L)=>{oH(N,L,{data:j,headers:qa.from(x.headers),status:x.status,statusText:x.statusText,config:e,request:p})})}catch(y){throw v&&v(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new ur("Network Error",ur.ERR_NETWORK,e,p),{cause:y.cause||y}):ur.from(y,y&&y.code,e,p)}})),DC={http:noe,xhr:_oe,fetch:Uoe};St.forEach(DC,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const FA=e=>`- ${e}`,Woe=e=>St.isFunction(e)||e===null||e===!1,fH={getAdapter:e=>{e=St.isArray(e)?e:[e];const{length:t}=e;let n,s;const a={};for(let i=0;i<t;i++){n=e[i];let o;if(s=n,!Woe(n)&&(s=DC[(o=String(n)).toLowerCase()],s===void 0))throw new ur(`Unknown adapter '${o}'`);if(s)break;a[o||"#"+i]=s}if(!s){const i=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(FA).join(`
`):" "+FA(i[0]):"as no adapter specified";throw new ur("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:DC};function $4(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _h(null,e)}function BA(e){return $4(e),e.headers=qa.from(e.headers),e.data=O4.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),fH.getAdapter(e.adapter||sx.adapter)(e).then(function(s){return $4(e),s.data=O4.call(e,e.transformResponse,s),s.headers=qa.from(s.headers),s},function(s){return iH(s)||($4(e),s&&s.response&&(s.response.data=O4.call(e,e.transformResponse,s.response),s.response.headers=qa.from(s.response.headers))),Promise.reject(s)})}const hH="1.11.0",X2={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{X2[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const zA={};X2.transitional=function(t,n,s){function a(i,o){return"[Axios v"+hH+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(t===!1)throw new ur(a(o," has been removed"+(n?" in "+n:"")),ur.ERR_DEPRECATED);return n&&!zA[o]&&(zA[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};X2.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Hoe(e,t,n){if(typeof e!="object")throw new ur("options must be an object",ur.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const i=s[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new ur("option "+i+" must be "+c,ur.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ur("Unknown option "+i,ur.ERR_BAD_OPTION)}}const ry={assertOptions:Hoe,validators:X2},Go=ry.validators;class Iu{constructor(t){this.defaults=t||{},this.interceptors={request:new AA,response:new AA}}request(t,n){return pe(this,null,function*(){try{return yield this._request(t,n)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch(o){}}throw s}})}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=zu(this.defaults,n);const{transitional:s,paramsSerializer:a,headers:i}=n;s!==void 0&&ry.assertOptions(s,{silentJSONParsing:Go.transitional(Go.boolean),forcedJSONParsing:Go.transitional(Go.boolean),clarifyTimeoutError:Go.transitional(Go.boolean)},!1),a!=null&&(St.isFunction(a)?n.paramsSerializer={serialize:a}:ry.assertOptions(a,{encode:Go.function,serialize:Go.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ry.assertOptions(n,{baseUrl:Go.spelling("baseURL"),withXsrfToken:Go.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&St.merge(i.common,i[n.method]);i&&St.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=qa.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let f,h=0,g;if(!c){const p=[BA.bind(this),void 0];for(p.unshift(...l),p.push(...u),g=p.length,f=Promise.resolve(n);h<g;)f=f.then(p[h++],p[h++]);return f}g=l.length;let m=n;for(h=0;h<g;){const p=l[h++],v=l[h++];try{m=p(m)}catch(b){v.call(this,b);break}}try{f=BA.call(this,m)}catch(p){return Promise.reject(p)}for(h=0,g=u.length;h<g;)f=f.then(u[h++],u[h++]);return f}getUri(t){t=zu(this.defaults,t);const n=lH(t.baseURL,t.url,t.allowAbsoluteUrls);return nH(n,t.params,t.paramsSerializer)}}St.forEach(["delete","get","head","options"],function(t){Iu.prototype[t]=function(n,s){return this.request(zu(s||{},{method:t,url:n,data:(s||{}).data}))}});St.forEach(["post","put","patch"],function(t){function n(s){return function(i,o,l){return this.request(zu(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Iu.prototype[t]=n(),Iu.prototype[t+"Form"]=n(!0)});class VE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,l){s.reason||(s.reason=new _h(i,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new VE(function(a){t=a}),cancel:t}}}function Voe(e){return function(n){return e.apply(null,n)}}function Goe(e){return St.isObject(e)&&e.isAxiosError===!0}const RC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(RC).forEach(([e,t])=>{RC[t]=e});function gH(e){const t=new Iu(e),n=VW(Iu.prototype.request,t);return St.extend(n,Iu.prototype,t,{allOwnKeys:!0}),St.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return gH(zu(e,a))},n}const Un=gH(sx);Un.Axios=Iu;Un.CanceledError=_h;Un.CancelToken=VE;Un.isCancel=iH;Un.VERSION=hH;Un.toFormData=Q2;Un.AxiosError=ur;Un.Cancel=Un.CanceledError;Un.all=function(t){return Promise.all(t)};Un.spread=Voe;Un.isAxiosError=Goe;Un.mergeConfig=zu;Un.AxiosHeaders=qa;Un.formToJSON=e=>aH(St.isHTMLForm(e)?new FormData(e):e);Un.getAdapter=fH.getAdapter;Un.HttpStatusCode=RC;Un.default=Un;const gn="https://api.54links.com/api",Se=Un.create({baseURL:gn,headers:{"Content-Type":"application/json"}}),Qu=Un.create({baseURL:gn,headers:{"Content-Type":"multipart/form-data"}});Qu.interceptors.request.use(e=>{var t;if(!((t=e.headers)!=null&&t.Authorization)){const n=ew();n&&(e.headers.Authorization=`Bearer ${n}`)}return e});Qu.interceptors.response.use(e=>e,e=>{var t;return((t=e==null?void 0:e.response)==null?void 0:t.status)===401&&(GE(null),window.dispatchEvent(new Event("auth:unauthorized"))),Promise.reject(e)});function ew(){return localStorage.getItem("auth_token")||localStorage.getItem("token")||null}function GE(e){if(!e){localStorage.removeItem("auth_token"),localStorage.removeItem("token"),delete Se.defaults.headers.common.Authorization;return}localStorage.setItem("auth_token",e),localStorage.setItem("token",e),Se.defaults.headers.common.Authorization=`Bearer ${e}`}const UA=ew();UA&&(Se.defaults.headers.common.Authorization=`Bearer ${UA}`);Se.interceptors.request.use(e=>{var t;if(!((t=e.headers)!=null&&t.Authorization)){const n=ew();n&&(e.headers.Authorization=`Bearer ${n}`)}return e});Se.interceptors.response.use(e=>e,e=>{var t;return((t=e==null?void 0:e.response)==null?void 0:t.status)===401&&(GE(null),window.dispatchEvent(new Event("auth:unauthorized"))),Promise.reject(e)});const Hs={search:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("circle",{cx:"11",cy:"11",r:"7"}),r.jsx("path",{d:"M21 21l-3.5-3.5"})]}),see:()=>r.jsx("svg",{stroke:"currentColor",className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",width:"24px",fill:"#5f6368",children:r.jsx("path",{d:"M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800q146 0 266 81.5T920-500q-54 137-174 218.5T480-200Zm0-300Zm0 220q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113 0-207.5 59.5T128-500q50 101 144.5 160.5T480-280Z"})}),msg:()=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 -960 960 960",fill:"currentColor",children:r.jsx("path",{d:"M80-80v-720q0-33 23.5-56.5T160-880h640q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H240L80-80Zm126-240h594v-480H160v525l46-45Zm-46 0v-480 480Z"})}),heart:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 21s-6.7-4.35-9.43-7.06A5.5 5.5 0 0 1 11.5 6.5L12 7l.5-.5a5.5 5.5 0 0 1 8.93 7.44C18.72 16.65 12 21 12 21z"})}),comment:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H8l-5 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),share:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"M4 12v7a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-7"}),r.jsx("path",{d:"M16 6l-4-4-4 4M12 2v14"})]}),dots:()=>r.jsxs("svg",{className:"h-5 w-5 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("circle",{cx:"5",cy:"12",r:"2"}),r.jsx("circle",{cx:"12",cy:"12",r:"2"}),r.jsx("circle",{cx:"19",cy:"12",r:"2"})]}),plus:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"M11 5h2v14h-2z"}),r.jsx("path",{d:"M5 11h14v2H5z"})]}),edit:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),r.jsx("path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z"})]}),products:()=>r.jsx("svg",{className:"h-[18px] w-[18px]",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M3 7l9-4 9 4-9 4-9-4Zm0 4l9 4 9-4v6l-9 4-9-4v-6Z"})}),funding:()=>r.jsx("svg",{className:"h-[18px] w-[18px]",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 -960 960 960",width:"24px",children:r.jsx("path",{d:"M200-120q-33 0-56.5-23.5T120-200v-640h80v640h640v80H200Zm40-120v-360h160v360H240Zm200 0v-560h160v560H440Zm200 0v-200h160v200H640Z"})}),services:()=>r.jsx("svg",{className:"h-[18px] w-[18px]",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",width:"24px",children:r.jsx("path",{d:"M360-640h240v-80H360v80ZM80-160v-200h160v40h80v-40h320v40h80v-40h160v200H80Zm0-240v-160q0-33 23.5-56.5T160-640h120v-80q0-33 23.5-56.5T360-800h240q33 0 56.5 23.5T680-720v80h120q33 0 56.5 23.5T880-560v160H720v-80h-80v80H320v-80h-80v80H80Z"})}),boost:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})}),briefcase:()=>r.jsx("svg",{className:"h-[18px] w-[18px]",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",width:"24px",children:r.jsx("path",{d:"M360-640h240v-80H360v80ZM80-160v-200h160v40h80v-40h320v40h80v-40h160v200H80Zm0-240v-160q0-33 23.5-56.5T160-640h120v-80q0-33 23.5-56.5T360-800h240q33 0 56.5 23.5T680-720v80h120q33 0 56.5 23.5T880-560v160H720v-80h-80v80H320v-80h-80v80H80Z"})}),filter:()=>r.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M3 5h18v2l-7 7v5l-4 2v-7L3 7z"})}),company:()=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"24px",fill:"#5f6368",children:r.jsx("path",{d:"M80-120v-720h400v160h400v560H80Zm80-80h80v-80h-80v80Zm0-160h80v-80h-80v80Zm0-160h80v-80h-80v80Zm0-160h80v-80h-80v80Zm160 480h80v-80h-80v80Zm0-160h80v-80h-80v80Zm0-160h80v-80h-80v80Zm0-160h80v-80h-80v80Zm160 480h320v-400H480v80h80v80h-80v80h80v80h-80v80Zm160-240v-80h80v80h-80Zm0 160v-80h80v80h-80Z"})}),close:()=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#5f6368",children:r.jsx("path",{d:"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"})}),bell:()=>r.jsx("svg",{className:"text-gray-600",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20",children:r.jsx("path",{d:"M12 22a2.5 2.5 0 0 0 2.45-2H9.55A2.5 2.5 0 0 0 12 22ZM18 16v-5a6 6 0 1 0-12 0v5l-1.8 1.8A1 1 0 0 0 5 20h14a1 1 0 0 0 .8-1.6Z"})}),chat:()=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",width:"20",viewBox:"0 -960 960 960",fill:"#5f6368",children:r.jsx("path",{d:"M80-80v-720q0-33 23.5-56.5T160-880h640q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H240L80-80Z"})}),feed:()=>r.jsx("svg",{className:"h-[18px] w-[18px]",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M3 3h8v8H3zM13 3h8v5h-8zM13 10h8v11h-8zM3 13h8v8H3z"})}),people:()=>r.jsx("svg",{className:"h-[18px] w-[18px]",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M16 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4ZM6 12a3 3 0 1 0-3-3 3 3 0 0 0 3 3ZM2 20a6 6 0 0 1 12 0v1H2Zm12.5 1v-1a7.5 7.5 0 0 1 9.5-7.2V21Z"})}),jobs:()=>r.jsxs("svg",{className:"h-[18px] w-[18px]",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"M10 3h4a2 2 0 0 1 2 2v1h3a2 2 0 0 1 2 2v3H3V8a2 2 0 0 1 2-2h3V5a2 2 0 0 1 2-2Zm4 3V5h-4v1h4Z"}),r.jsx("path",{d:"M3 11h18v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7Zm8 2H5v2h6v-2Z"})]}),calendar:()=>r.jsxs("svg",{className:"h-[18px] w-[18px]",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"M7 2h2v3H7zm8 0h2v3h-2z"}),r.jsx("path",{d:"M5 5h14a2 2 0 0 1 2 2v13H3V7a2 2 0 0 1 2-2h3V5a2 2 0 0 1 2-2Zm0 5v9h14v-9H5Z"})]}),biz:()=>r.jsxs("svg",{className:"h-[18px] w-[18px]",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"M3 21V3h8v6h10v12H3Z"}),r.jsx("path",{d:"M7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"})]}),pin:()=>r.jsx("svg",{className:"h-[18px] w-[18px]",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Zm0 9.5A2.5 2.5 0 1 1 14.5 9 2.5 2.5 0 0 1 12 11.5Z"})}),chevron:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"m6 9 6 6 6-6"})}),eye:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 5c5 0 9.3 3.1 11 7-1.7 3.9-6 7-11 7S2.7 15.9 1 12c1.7-3.9 6-7 11-7Zm0 10a3 3 0 1 0-3-3 3 3 0 0 0 3 3Z"})})};function $r({label:e,type:t="text",placeholder:n,value:s,onChange:a,rightIcon:i,name:o,error:l}){return r.jsxs("div",{className:"space-y-1",children:[e&&r.jsx("label",{className:"text-sm font-medium text-gray-700",children:e}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{name:o,type:t,placeholder:n,value:s,onChange:a,className:`w-full rounded-xl border px-4 py-3 pr-11 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${l?"border-red-400 focus:ring-red-400":"border-gray-200"}`}),i&&r.jsx("span",{className:"absolute inset-y-0 right-0 grid w-10 place-items-center text-gray-400",children:i})]}),l&&r.jsx("p",{className:"text-xs text-red-600",children:l})]})}let qoe={data:""},Yoe=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||qoe,Joe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Zoe=/\/\*[^]*?\*\/|  +/g,WA=/\n+/g,Bc=(e,t)=>{let n="",s="",a="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":s+=i[1]=="f"?Bc(o,i):i+"{"+Bc(o,i[1]=="k"?"":t)+"}":typeof o=="object"?s+=Bc(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Bc.p?Bc.p(i,o):i+":"+o+";")}return n+(t&&a?t+"{"+a+"}":a)+s},wl={},mH=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+mH(e[n]);return t}return e},Qoe=(e,t,n,s,a)=>{let i=mH(e),o=wl[i]||(wl[i]=(c=>{let u=0,f=11;for(;u<c.length;)f=101*f+c.charCodeAt(u++)>>>0;return"go"+f})(i));if(!wl[o]){let c=i!==e?e:(u=>{let f,h,g=[{}];for(;f=Joe.exec(u.replace(Zoe,""));)f[4]?g.shift():f[3]?(h=f[3].replace(WA," ").trim(),g.unshift(g[0][h]=g[0][h]||{})):g[0][f[1]]=f[2].replace(WA," ").trim();return g[0]})(e);wl[o]=Bc(a?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&wl.g?wl.g:null;return n&&(wl.g=wl[o]),((c,u,f,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=f?c+u.data:u.data+c)})(wl[o],t,s,l),o},Koe=(e,t,n)=>e.reduce((s,a,i)=>{let o=t[i];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Bc(l,""):l===!1?"":l}return s+a+(o==null?"":o)},"");function tw(e){let t=this||{},n=e.call?e(t.p):e;return Qoe(n.unshift?n.raw?Koe(n,[].slice.call(arguments,1),t.p):n.reduce((s,a)=>Object.assign(s,a&&a.call?a(t.p):a),{}):n,Yoe(t.target),t.g,t.o,t.k)}let pH,FC,BC;tw.bind({g:1});let zl=tw.bind({k:1});function Xoe(e,t,n,s){Bc.p=t,pH=e,FC=n,BC=s}function Sd(e,t){let n=this||{};return function(){let s=arguments;function a(i,o){let l=Object.assign({},i),c=l.className||a.className;n.p=Object.assign({theme:FC&&FC()},l),n.o=/ *go\d+/.test(c),l.className=tw.apply(n,s)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),BC&&u[0]&&BC(l),pH(u,l)}return a}}var ele=e=>typeof e=="function",ib=(e,t)=>ele(e)?e(t):e,tle=(()=>{let e=0;return()=>(++e).toString()})(),xH=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),rle=20,qE="default",vH=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return he(te({},e),{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return he(te({},e),{toasts:e.toasts.map(o=>o.id===t.toast.id?te(te({},o),t.toast):o)});case 2:let{toast:s}=t;return vH(e,{type:e.toasts.find(o=>o.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=t;return he(te({},e),{toasts:e.toasts.map(o=>o.id===a||a===void 0?he(te({},o),{dismissed:!0,visible:!1}):o)});case 4:return t.toastId===void 0?he(te({},e),{toasts:[]}):he(te({},e),{toasts:e.toasts.filter(o=>o.id!==t.toastId)});case 5:return he(te({},e),{pausedAt:t.time});case 6:let i=t.time-(e.pausedAt||0);return he(te({},e),{pausedAt:void 0,toasts:e.toasts.map(o=>he(te({},o),{pauseDuration:o.pauseDuration+i}))})}},ny=[],yH={toasts:[],pausedAt:void 0,settings:{toastLimit:rle}},rl={},bH=(e,t=qE)=>{rl[t]=vH(rl[t]||yH,e),ny.forEach(([n,s])=>{n===t&&s(rl[t])})},wH=e=>Object.keys(rl).forEach(t=>bH(e,t)),nle=e=>Object.keys(rl).find(t=>rl[t].toasts.some(n=>n.id===e)),rw=(e=qE)=>t=>{bH(t,e)},sle={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ale=(e={},t=qE)=>{let[n,s]=d.useState(rl[t]||yH),a=d.useRef(rl[t]);d.useEffect(()=>(a.current!==rl[t]&&s(rl[t]),ny.push([t,s]),()=>{let o=ny.findIndex(([l])=>l===t);o>-1&&ny.splice(o,1)}),[t]);let i=n.toasts.map(o=>{var l,c,u;return he(te(te(te({},e),e[o.type]),o),{removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((c=e[o.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||sle[o.type],style:te(te(te({},e.style),(u=e[o.type])==null?void 0:u.style),o.style)})});return he(te({},n),{toasts:i})},ile=(e,t="blank",n)=>he(te({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{id:(n==null?void 0:n.id)||tle()}),ax=e=>(t,n)=>{let s=ile(t,e,n);return rw(s.toasterId||nle(s.id))({type:2,toast:s}),s.id},ss=(e,t)=>ax("blank")(e,t);ss.error=ax("error");ss.success=ax("success");ss.loading=ax("loading");ss.custom=ax("custom");ss.dismiss=(e,t)=>{let n={type:3,toastId:e};t?rw(t)(n):wH(n)};ss.dismissAll=e=>ss.dismiss(void 0,e);ss.remove=(e,t)=>{let n={type:4,toastId:e};t?rw(t)(n):wH(n)};ss.removeAll=e=>ss.remove(void 0,e);ss.promise=(e,t,n)=>{let s=ss.loading(t.loading,te(te({},n),n==null?void 0:n.loading));return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?ib(t.success,a):void 0;return i?ss.success(i,te(te({id:s},n),n==null?void 0:n.success)):ss.dismiss(s),a}).catch(a=>{let i=t.error?ib(t.error,a):void 0;i?ss.error(i,te(te({id:s},n),n==null?void 0:n.error)):ss.dismiss(s)}),e};var ole=1e3,lle=(e,t="default")=>{let{toasts:n,pausedAt:s}=ale(e,t),a=d.useRef(new Map).current,i=d.useCallback((h,g=ole)=>{if(a.has(h))return;let m=setTimeout(()=>{a.delete(h),o({type:4,toastId:h})},g);a.set(h,m)},[]);d.useEffect(()=>{if(s)return;let h=Date.now(),g=n.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(h-m.createdAt);if(p<0){m.visible&&ss.dismiss(m.id);return}return setTimeout(()=>ss.dismiss(m.id,t),p)});return()=>{g.forEach(m=>m&&clearTimeout(m))}},[n,s,t]);let o=d.useCallback(rw(t),[t]),l=d.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=d.useCallback((h,g)=>{o({type:1,toast:{id:h,height:g}})},[o]),u=d.useCallback(()=>{s&&o({type:6,time:Date.now()})},[s,o]),f=d.useCallback((h,g)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:v}=g||{},b=n.filter(w=>(w.position||v)===(h.position||v)&&w.height),y=b.findIndex(w=>w.id===h.id),x=b.filter((w,j)=>j<y&&w.visible).length;return b.filter(w=>w.visible).slice(...m?[x+1]:[0,x]).reduce((w,j)=>w+(j.height||0)+p,0)},[n]);return d.useEffect(()=>{n.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let g=a.get(h.id);g&&(clearTimeout(g),a.delete(h.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:f}}},cle=zl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,dle=zl`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ule=zl`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,fle=Sd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cle} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${dle} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ule} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,hle=zl`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,gle=Sd("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${hle} 1s linear infinite;
`,mle=zl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ple=zl`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,xle=Sd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mle} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ple} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,vle=Sd("div")`
  position: absolute;
`,yle=Sd("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ble=zl`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wle=Sd("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ble} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,jle=({toast:e})=>{let{icon:t,type:n,iconTheme:s}=e;return t!==void 0?typeof t=="string"?d.createElement(wle,null,t):t:n==="blank"?null:d.createElement(yle,null,d.createElement(gle,te({},s)),n!=="loading"&&d.createElement(vle,null,n==="error"?d.createElement(fle,te({},s)):d.createElement(xle,te({},s))))},Nle=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Sle=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Cle="0%{opacity:0;} 100%{opacity:1;}",kle="0%{opacity:1;} 100%{opacity:0;}",Ele=Sd("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Lle=Sd("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Mle=(e,t)=>{let n=e.includes("top")?1:-1,[s,a]=xH()?[Cle,kle]:[Nle(n),Sle(n)];return{animation:t?`${zl(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${zl(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Ile=d.memo(({toast:e,position:t,style:n,children:s})=>{let a=e.height?Mle(e.position||t||"top-center",e.visible):{opacity:0},i=d.createElement(jle,{toast:e}),o=d.createElement(Lle,te({},e.ariaProps),ib(e.message,e));return d.createElement(Ele,{className:e.className,style:te(te(te({},a),n),e.style)},typeof s=="function"?s({icon:i,message:o}):d.createElement(d.Fragment,null,i,o))});Xoe(d.createElement);var Tle=({id:e,className:t,style:n,onHeightUpdate:s,children:a})=>{let i=d.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;s(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return d.createElement("div",{ref:i,className:t,style:n},a)},Ale=(e,t)=>{let n=e.includes("top"),s=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return te(te({left:0,right:0,display:"flex",position:"absolute",transition:xH()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`},s),a)},_le=tw`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Cv=16,Ole=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:s,children:a,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:u}=lle(n,i);return d.createElement("div",{"data-rht-toaster":i||"",style:te({position:"fixed",zIndex:9999,top:Cv,left:Cv,right:Cv,bottom:Cv,pointerEvents:"none"},o),className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(f=>{let h=f.position||t,g=u.calculateOffset(f,{reverseOrder:e,gutter:s,defaultPosition:t}),m=Ale(h,g);return d.createElement(Tle,{id:f.id,key:f.id,onHeightUpdate:u.updateHeight,className:f.visible?_le:"",style:m},f.type==="custom"?ib(f.message,f):a?a(f):d.createElement(Ile,{toast:f,position:h}))}))},Ig=ss;function $le(e){if(typeof document=="undefined")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}$le(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);const oe={success:(e,t)=>Ig.success(e,t),error:(e,t)=>Ig.error(e,t),loading:(e,t)=>Ig.loading(e,t),dismiss:e=>Ig.dismiss(e),promise:(e,t,n)=>Ig.promise(e,t,n)};function Ple(e={}){const{nonce:t,onScriptLoadSuccess:n,onScriptLoadError:s}=e,[a,i]=d.useState(!1),o=d.useRef(n);o.current=n;const l=d.useRef(s);return l.current=s,d.useEffect(()=>{const c=document.createElement("script");return c.src="https://accounts.google.com/gsi/client",c.async=!0,c.defer=!0,c.nonce=t,c.onload=()=>{var u;i(!0),(u=o.current)===null||u===void 0||u.call(o)},c.onerror=()=>{var u;i(!1),(u=l.current)===null||u===void 0||u.call(l)},document.body.appendChild(c),()=>{document.body.removeChild(c)}},[t]),a}const jH=d.createContext(null);function Dle({clientId:e,nonce:t,onScriptLoadSuccess:n,onScriptLoadError:s,children:a}){const i=Ple({nonce:t,onScriptLoadSuccess:n,onScriptLoadError:s}),o=d.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:i}),[e,i]);return dr.createElement(jH.Provider,{value:o},a)}function Rle(){const e=d.useContext(jH);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function Fle(c){var u=c,{flow:e="implicit",scope:t="",onSuccess:n,onError:s,onNonOAuthError:a,overrideScope:i,state:o}=u,l=pc(u,["flow","scope","onSuccess","onError","onNonOAuthError","overrideScope","state"]);const{clientId:f,scriptLoadedSuccessfully:h}=Rle(),g=d.useRef(),m=d.useRef(n);m.current=n;const p=d.useRef(s);p.current=s;const v=d.useRef(a);v.current=a,d.useEffect(()=>{var x,w;if(!h)return;const j=e==="implicit"?"initTokenClient":"initCodeClient",N=(w=(x=window==null?void 0:window.google)===null||x===void 0?void 0:x.accounts)===null||w===void 0?void 0:w.oauth2[j](te({client_id:f,scope:i?t:`openid profile email ${t}`,callback:L=>{var k,E;if(L.error)return(k=p.current)===null||k===void 0?void 0:k.call(p,L);(E=m.current)===null||E===void 0||E.call(m,L)},error_callback:L=>{var k;(k=v.current)===null||k===void 0||k.call(v,L)},state:o},l));g.current=N},[f,h,e,t,o]);const b=d.useCallback(x=>{var w;return(w=g.current)===null||w===void 0?void 0:w.requestAccessToken(x)},[]),y=d.useCallback(()=>{var x;return(x=g.current)===null||x===void 0?void 0:x.requestCode()},[]);return e==="implicit"?b:y}const Ble=({isOpen:e,onClose:t,userInfo:n,accessToken:s,onSuccess:a})=>{const[i,o]=d.useState(null),[l,c]=d.useState(!1),[u,f]=d.useState(!1),[h,g]=d.useState(""),[m,p]=d.useState("");if(!e)return null;const v=w=>{if(!w)return"Birth date is required.";const j=new Date(w),N=new Date,L=18;return j>N?"Birth date cannot be in the future.":N.getFullYear()-j.getFullYear()<L?`You must be at least ${L} years old to sign up.`:null},b=w=>{o(w),f(!0),g(""),p("")},y=w=>{g(w.target.value),p("")},x=()=>pe(void 0,null,function*(){var j,N,L;const w=v(h);if(w){p(w);return}c(!0);try{const k=yield Se.post("/auth/google",{accessToken:s,accountType:i,birthDate:i==="individual"?h:null}),E=(j=k==null?void 0:k.data)==null?void 0:j.token;E&&(localStorage.setItem("auth_token",E),localStorage.setItem("token",E),oe.success("Account created successfully! "),a(),t(),window.location.href="/")}catch(k){oe.error(((L=(N=k==null?void 0:k.response)==null?void 0:N.data)==null?void 0:L.message)||"Failed to create account")}finally{c(!1)}});return r.jsx("div",{style:{marginTop:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full mx-4",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to 54Links!"}),r.jsx("p",{className:"text-gray-600",children:"Choose your account type to get started"})]}),r.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-gray-50 rounded-xl",children:[r.jsx("img",{src:n==null?void 0:n.picture,alt:"Profile",className:"w-12 h-12 rounded-full"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:n==null?void 0:n.name}),r.jsx("p",{className:"text-sm text-gray-500",children:n==null?void 0:n.email})]})]}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsx("button",{type:"button",onClick:()=>b("individual"),className:`w-full p-4 rounded-xl border-2 transition-all ${i==="individual"?"border-brand-500 bg-brand-50 text-brand-700":"border-gray-200 text-gray-700 hover:border-gray-300"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5ZM3 22a9 9 0 1 1 18 0Z"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-semibold",children:"Individual"}),r.jsx("p",{className:"text-sm opacity-75",children:"Personal networking and connections"})]})]})}),r.jsx("button",{type:"button",onClick:()=>b("company"),className:`w-full p-4 rounded-xl border-2 transition-all ${i==="company"?"border-brand-500 bg-brand-50 text-brand-700":"border-gray-200 text-gray-700 hover:border-gray-300"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M3 21V3h8v6h10v12H3Z"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-semibold",children:"Corporate"}),r.jsx("p",{className:"text-sm opacity-75",children:"Business networking and opportunities"})]})]})})]}),u&&i==="individual"&&r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Birth Date"}),r.jsx("input",{type:"date",value:h,onChange:y,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${m?"border-red-400 focus:ring-red-400":"border-gray-200"}`,max:new Date().toISOString().split("T")[0]}),m&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:m})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:t,className:"flex-1 px-4 py-3 text-gray-700 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors",disabled:l,children:"Cancel"}),r.jsxs("button",{onClick:x,disabled:l||i==="individual"&&!h||!i,className:"flex-1 px-4 py-3 bg-gradient-to-r from-brand-600 to-brand-500 text-white rounded-xl hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[l&&r.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),l?"Creating...":"Continue"]})]})]})})};function ch({page:e="signin",showProfile:t=!1,showAccountTypeModalChange:n}){Ht();const[s,a]=d.useState(!1),[i,o]=d.useState(null),[l,c]=d.useState(null),[u,f]=d.useState(!1),[h,g]=d.useState(null),[m,p]=d.useState(null);d.useEffect(()=>{n&&n(u)},[u]);const v=e==="signup"?"Sign up with Google":"Sign in with Google",b=Fle({scope:"openid profile email",onSuccess:x=>pe(this,null,function*(){var w,j;c(null),a(!0);try{const L=(yield Se.post("/auth/google/check-status",{accessToken:x.access_token})).data;if(L.requiresAccountType){g(L.userInfo),p(x.access_token),f(!0),a(!1);return}const k=L==null?void 0:L.token;k&&(localStorage.setItem("auth_token",k),localStorage.setItem("token",k),oe.success("Welcome back! "),window.location.href="/")}catch(N){console.error(N),c("Login failed"),oe.error(((j=(w=N==null?void 0:N.response)==null?void 0:w.data)==null?void 0:j.message)||"Login failed"),a(!1)}}),onError:()=>{c("Google login failed"),oe.error("Google login failed"),a(!1)}}),y=()=>{f(!1)};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"w-full",children:[r.jsx("button",{type:"button",onClick:()=>b(),disabled:s,"aria-busy":s,className:"w-full rounded-xl border border-gray-200 bg-white py-3 font-medium text-gray-700 hover:bg-gray-50",children:r.jsxs("span",{className:"inline-flex items-center gap-3 justify-center",children:[s?r.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}):r.jsxs("svg",{viewBox:"0 0 48 48",className:"h-5 w-5",children:[r.jsx("path",{fill:"#FFC107",d:"M43.6 20.5H42V20H24v8h11.3C33.5 31.9 29.2 35 24 35c-6.1 0-11-4.9-11-11s4.9-11 11-11c2.8 0 5.3 1.1 7.2 2.8l5.7-5.7C33.6 7 29.1 5 24 5 12.9 5 4 13.9 4 25s8.9 20 20 20 20-8.9 20-20c0-1.3-.1-2.5-.4-3.7z"}),r.jsx("path",{fill:"#FF3D00",d:"M6.3 14.7l6.6 4.8C14.7 16.3 18.9 13 24 13c2.8 0 5.3 1.1 7.2 2.8l5.7-5.7C33.6 7 29.1 5 24 5 16.2 5 9.6 9.3 6.3 14.7z"}),r.jsx("path",{fill:"#4CAF50",d:"M24 45c5 0 9.5-1.9 12.9-5.1l-6-4.9C29 36.5 26.6 37.5 24 37.5c-5.2 0-9.5-3.5-11.1-8.2l-6.6 5.1C9.6 40.7 16.2 45 24 45z"}),r.jsx("path",{fill:"#1976D2",d:"M43.6 20.5H42V20H24v8h11.3c-1.3 3.4-5.3 5.5-11.3 5.5-5.2 0-9.5-3.5-11.1-8.2l-6.6 5.1C9.6 40.7 16.2 45 24 45c11.1 0 20-8.9 20-20 0-1.3-.1-2.5-.4-3.7z"})]}),s?e==="signup"?"Signing up":"Signing in":v]})}),l&&r.jsx("p",{className:"text-red-600 mt-3 text-sm",children:l}),t&&i&&r.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[r.jsx("img",{src:i.picture,alt:"profile",className:"w-10 h-10 rounded-full"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-semibold",children:i.name}),r.jsx("p",{className:"text-sm text-gray-500",children:i.email})]})]})]}),r.jsx(Ble,{isOpen:u,onClose:()=>{f(!1),a(!1)},userInfo:h,accessToken:m,onSuccess:y})]})}const Bn=({options:e,value:t,onChange:n,placeholder:s="Search and select...",label:a,sublabel:i,error:o,disabled:l=!1,multiple:c=!1,selectedValues:u=[],onMultipleChange:f,className:h=""})=>{const[g,m]=d.useState(!1),[p,v]=d.useState(""),[b,y]=d.useState(-1),x=d.useRef(null),w=d.useRef(null),j=e.filter(C=>(typeof C=="string"?C:C.label).toLowerCase().includes(p.toLowerCase()));d.useEffect(()=>{const C=M=>{x.current&&!x.current.contains(M.target)&&(m(!1),v(""),y(-1))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const N=C=>{var M;if(!g){if(C.key==="Enter"||C.key==="ArrowDown"){C.preventDefault(),m(!0),y(0);return}return}switch(C.key){case"ArrowDown":C.preventDefault(),y(A=>A<j.length-1?A+1:0);break;case"ArrowUp":C.preventDefault(),y(A=>A>0?A-1:j.length-1);break;case"Enter":C.preventDefault(),b>=0&&j[b]&&L(j[b]);break;case"Escape":C.preventDefault(),m(!1),v(""),y(-1),(M=w.current)==null||M.blur();break}},L=C=>{if(c){const M=typeof C=="string"?C:C.value;u.includes(M)||f([...u,M])}else{const M=typeof C=="string"?C:C.value;n(M),m(!1),v(""),y(-1)}},k=C=>{c&&f(u.filter(M=>M!==C))},E=()=>{c?f([]):n(""),v(""),y(-1)},S=()=>{if(c)return u.length>0?`${u.length} selected`:s;if(t&&e.length>0){const C=e.find(M=>typeof M=="string"?M===t:M.value===t);if(C)return typeof C=="string"?C:C.label}return s},I=()=>c?u.length>0:!!t;return r.jsxs("div",{className:`relative ${h}`,children:[a&&r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a," ",i&&r.jsxs("span",{className:"text-gray-400 font-normal",children:["(",i,")"]})]}),r.jsxs("div",{className:"relative",ref:x,children:[c&&u.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:u.map(C=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-brand-100 text-brand-800 rounded-md text-sm",children:[C,r.jsx("button",{type:"button",onClick:()=>k(C),className:"text-brand-600 hover:text-brand-800",children:r.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]},C))}),r.jsxs("div",{className:`relative w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white cursor-pointer ${o?"border-red-400 focus:ring-red-400":"border-gray-200"} ${l?"opacity-50 cursor-not-allowed":""}`,onClick:()=>!l&&m(!g),children:[r.jsx("input",{ref:w,type:"text",className:"w-full bg-transparent outline-none cursor-pointer",placeholder:S(),value:g?p:S(),onChange:C=>v(C.target.value),onKeyDown:N,disabled:l}),r.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center gap-1",children:[I()&&!l&&r.jsx("button",{type:"button",onClick:C=>{C.stopPropagation(),E()},className:"p-1 text-gray-400 hover:text-gray-600",title:"Clear selection",children:r.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})}),r.jsx("div",{className:"pointer-events-none",children:r.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform ${g?"rotate-180":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M19 9l-7 7-7-7"})})})]})]}),g&&!l&&r.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-xl shadow-lg max-h-60 overflow-auto",children:[c&&u.length>0&&r.jsxs("div",{className:"px-4 py-2 text-sm cursor-pointer text-red-600 hover:bg-red-50 border-b border-gray-100",onClick:C=>{C.stopPropagation(),E(),m(!1)},children:["Clear All (",u.length,")"]}),j.length===0?r.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No options found"}):j.map((C,M)=>{const A=typeof C=="string"?C:C.value,H=typeof C=="string"?C:C.label,W=c?u.includes(A):A===t;return r.jsx("div",{className:`px-4 py-3 text-sm cursor-pointer transition-colors ${b===M?"bg-brand-50 text-brand-700":"text-gray-700 hover:bg-gray-50"} ${W?"bg-brand-100 text-brand-800":""}`,onClick:()=>L(C),onMouseEnter:()=>y(M),children:H},A)})]})]}),o&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:o})]})};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zle=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ule=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),HA=e=>{const t=Ule(e);return t.charAt(0).toUpperCase()+t.slice(1)},NH=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),Wle=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hle={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=d.forwardRef((u,c)=>{var f=u,{color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o}=f,l=pc(f,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return d.createElement("svg",te(te(he(te({ref:c},Hle),{width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:NH("lucide",a)}),!i&&!Wle(l)&&{"aria-hidden":"true"}),l),[...o.map(([h,g])=>d.createElement(h,g)),...Array.isArray(i)?i:[i]])});/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=(e,t)=>{const n=d.forwardRef((o,i)=>{var l=o,{className:s}=l,a=pc(l,["className"]);return d.createElement(Vle,te({ref:i,iconNode:t,className:NH(`lucide-${zle(HA(e))}`,`lucide-${e}`,s)},a))});return n.displayName=HA(e),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gle=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],SH=At("activity",Gle);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qle=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],CH=At("arrow-left",qle);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yle=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Jle=At("award",Yle);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zle=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Qle=At("badge-check",Zle);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],Xle=At("badge-percent",Kle);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"8",y2:"16",key:"10p56q"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],tce=At("badge-plus",ece);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],nce=At("bell",rce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=[["path",{d:"M10 22V7a1 1 0 0 0-1-1H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5a1 1 0 0 0-1-1H2",key:"1ah6g2"}],["rect",{x:"14",y:"2",width:"8",height:"8",rx:"1",key:"88lufb"}]],ace=At("blocks",sce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2",key:"1ksdt3"}],["path",{d:"M22 13a18.15 18.15 0 0 1-20 0",key:"12hx5q"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],VA=At("briefcase-business",ice);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ix=At("briefcase",oce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lce=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],cce=At("building",lce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dce=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],To=At("calendar-days",dce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],kH=At("calendar-plus",uce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fce=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],hce=At("calendar-range",fce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gce=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],YE=At("camera",gce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mce=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Oh=At("calendar",mce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pce=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],xce=At("check-check",pce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vce=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yce=At("check",vce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bce=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],id=At("chevron-down",bce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wce=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],jce=At("chevron-left",wce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nce=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Sce=At("chevron-right",Nce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cce=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],R0=At("chevron-up",Cce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],JE=At("circle-alert",kce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ece=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ox=At("circle-check-big",Ece);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Cn=At("circle-plus",Lce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],EH=At("circle-question-mark",Mce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ice=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],LH=At("circle-x",Ice);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tce=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ki=At("clock",Tce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ace=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],_ce=At("coins",Ace);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$ce=At("compass",Oce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pce=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ws=At("copy",Pce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Cd=At("dollar-sign",Dce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rce=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],La=At("download",Rce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fce=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bce=At("earth",Fce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zce=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Fo=At("ellipsis-vertical",zce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uce=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Lo=At("external-link",Uce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wce=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Hce=At("eye-off",Wce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vce=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Uu=At("eye",Vce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gce=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],qce=At("factory",Gce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yce=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],MH=At("file-text",Yce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jce=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],GA=At("file",Jce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zce=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],ro=At("flag",Zce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qce=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Kce=At("funnel",Qce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],no=At("globe",Xce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ede=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],P4=At("graduation-cap",ede);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tde=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],IH=At("handshake",tde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rde=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],TH=At("hash",rde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nde=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],sde=At("heart-handshake",nde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ade=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],os=At("heart",ade);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ide=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ode=At("house",ide);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lde=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],N0=At("image",lde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cde=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],AH=At("languages",cde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dde=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ys=At("layers",dde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ude=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],fde=At("layout-grid",ude);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hde=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],gde=At("lightbulb",hde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mde=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],ob=At("link",mde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pde=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qA=At("loader-circle",pde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xde=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],dh=At("mail",xde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vde=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Hr=At("map-pin",vde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yde=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],bde=At("map-pinned",yde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wde=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],ZE=At("map",wde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jde=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Nde=At("maximize-2",jde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sde=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],cs=At("message-circle",Sde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cde=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],zC=At("message-square",Cde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kde=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],YA=At("minimize-2",kde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ede=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Lde=At("network",Ede);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mde=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Ide=At("paperclip",Mde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tde=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Ade=At("pause",Tde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _de=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],hd=At("pencil",_de);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ode=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],_H=At("phone",Ode);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $de=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],kv=At("play",$de);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pde=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],UC=At("plus",Pde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dde=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],Rde=At("presentation",Dde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fde=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],OH=At("refresh-ccw",Fde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bde=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zde=At("refresh-cw",Bde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ude=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ja=At("search",Ude);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wde=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],lb=At("send",Wde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hde=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vde=At("settings",Hde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gde=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],js=At("share-2",Gde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qde=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m4.243 5.21 14.39 12.472",key:"1c9a7c"}]],$H=At("shield-ban",qde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yde=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],PH=At("shield",Yde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jde=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Zde=At("shopping-cart",Jde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Kde=At("smile",Qde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xde=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],JA=At("square-check-big",Xde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eue=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ql=At("square-pen",eue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tue=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],rue=At("square",tue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nue=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ku=At("star",nue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sue=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],kd=At("tag",sue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aue=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],iue=At("tags",aue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ZA=At("target",oue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lue=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],On=At("trash-2",lue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cue=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],due=At("truck",cue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uue=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],WC=At("upload",uue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fue=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],nw=At("user-check",fue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hue=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],sn=At("user-round",hue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gue=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],sw=At("user-x",gue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mue=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ka=At("user",mue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pue=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lx=At("users",pue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xue=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Ji=At("video",xue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vue=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],QA=At("volume-2",vue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yue=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],bue=At("volume-x",yue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wue=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],jue=At("wallet",wue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],KA=At("wrench",Nue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sue=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sr=At("x",Sue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],kue=At("zap",Cue),An=["Afghanistan","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","British Virgin Islands","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Columbia","Comoros","Cook Islands","Costa Rica","Croatia","Cuba","Curacao","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Eritrea","Estonia","Ethiopia","Faroe Islands","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Greenland","Grenada","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Ivory Coast","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mayotte","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","Netherlands Antilles","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Northern Mariana Islands","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Republic of the Congo","Reunion","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Martin","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","U.S. Virgin Islands","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Western Sahara","Yemen","Zambia","Zimbabwe"];var Eue=Object.defineProperty,Lue=(e,t,n)=>t in e?Eue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xn=(e,t,n)=>Lue(e,typeof t!="symbol"?t+"":t,n);const cb={x:0,y:0,width:0,height:0,unit:"px"},Of=(e,t,n)=>Math.min(Math.max(e,t),n),Mue=(...e)=>e.filter(t=>t&&typeof t=="string").join(" "),XA=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function $f(e,t,n){return e.unit==="%"?he(te(te({},cb),e),{unit:"%"}):{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function vc(e,t,n){return e.unit?e.unit==="px"?he(te(te({},cb),e),{unit:"px"}):{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:he(te(te({},cb),e),{unit:"px"})}function e_(e,t,n,s,a,i=0,o=0,l=s,c=a){const u=te({},e);let f=Math.min(i,s),h=Math.min(o,a),g=Math.min(l,s),m=Math.min(c,a);t&&(t>1?(f=o?o*t:f,h=f/t,g=l*t):(h=i?i/t:h,f=h*t,m=c/t)),u.y<0&&(u.height=Math.max(u.height+u.y,h),u.y=0),u.x<0&&(u.width=Math.max(u.width+u.x,f),u.x=0);const p=s-(u.x+u.width);p<0&&(u.x=Math.min(u.x,s-f),u.width+=p);const v=a-(u.y+u.height);if(v<0&&(u.y=Math.min(u.y,a-h),u.height+=v),u.width<f&&((n==="sw"||n=="nw")&&(u.x-=f-u.width),u.width=f),u.height<h&&((n==="nw"||n=="ne")&&(u.y-=h-u.height),u.height=h),u.width>g&&((n==="sw"||n=="nw")&&(u.x-=g-u.width),u.width=g),u.height>m&&((n==="nw"||n=="ne")&&(u.y-=m-u.height),u.height=m),t){const b=u.width/u.height;if(b<t){const y=Math.max(u.width/t,h);(n==="nw"||n=="ne")&&(u.y-=y-u.height),u.height=y}else if(b>t){const y=Math.max(u.height*t,f);(n==="sw"||n=="nw")&&(u.x-=y-u.width),u.width=y}}return u}function Iue(e,t,n,s){const a=te({},e);return t==="ArrowLeft"?s==="nw"?(a.x-=n,a.y-=n,a.width+=n,a.height+=n):s==="w"?(a.x-=n,a.width+=n):s==="sw"?(a.x-=n,a.width+=n,a.height+=n):s==="ne"?(a.y+=n,a.width-=n,a.height-=n):s==="e"?a.width-=n:s==="se"&&(a.width-=n,a.height-=n):t==="ArrowRight"&&(s==="nw"?(a.x+=n,a.y+=n,a.width-=n,a.height-=n):s==="w"?(a.x+=n,a.width-=n):s==="sw"?(a.x+=n,a.width-=n,a.height-=n):s==="ne"?(a.y-=n,a.width+=n,a.height+=n):s==="e"?a.width+=n:s==="se"&&(a.width+=n,a.height+=n)),t==="ArrowUp"?s==="nw"?(a.x-=n,a.y-=n,a.width+=n,a.height+=n):s==="n"?(a.y-=n,a.height+=n):s==="ne"?(a.y-=n,a.width+=n,a.height+=n):s==="sw"?(a.x+=n,a.width-=n,a.height-=n):s==="s"?a.height-=n:s==="se"&&(a.width-=n,a.height-=n):t==="ArrowDown"&&(s==="nw"?(a.x+=n,a.y+=n,a.width-=n,a.height-=n):s==="n"?(a.y+=n,a.height-=n):s==="ne"?(a.y+=n,a.width-=n,a.height-=n):s==="sw"?(a.x-=n,a.width+=n,a.height+=n):s==="s"?a.height+=n:s==="se"&&(a.width+=n,a.height+=n)),a}const Pf={capture:!0,passive:!1};let Tue=0;const Ic=class yo extends d.PureComponent{constructor(){super(...arguments),xn(this,"docMoveBound",!1),xn(this,"mouseDownOnCrop",!1),xn(this,"dragStarted",!1),xn(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),xn(this,"componentRef",d.createRef()),xn(this,"mediaRef",d.createRef()),xn(this,"resizeObserver"),xn(this,"initChangeCalled",!1),xn(this,"instanceId",`rc-${Tue++}`),xn(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),xn(this,"onCropPointerDown",t=>{const{crop:n,disabled:s}=this.props,a=this.getBox();if(!n)return;const i=vc(n,a.width,a.height);if(s)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const o=t.target.dataset.ord,l=!!o;let c=t.clientX,u=t.clientY,f=i.x,h=i.y;if(o){const g=t.clientX-a.x,m=t.clientY-a.y;let p=0,v=0;o==="ne"||o=="e"?(p=g-(i.x+i.width),v=m-i.y,f=i.x,h=i.y+i.height):o==="se"||o==="s"?(p=g-(i.x+i.width),v=m-(i.y+i.height),f=i.x,h=i.y):o==="sw"||o=="w"?(p=g-i.x,v=m-(i.y+i.height),f=i.x+i.width,h=i.y):(o==="nw"||o=="n")&&(p=g-i.x,v=m-i.y,f=i.x+i.width,h=i.y+i.height),c=f+a.x+p,u=h+a.y+v}this.evData={startClientX:c,startClientY:u,startCropX:f,startCropY:h,clientX:t.clientX,clientY:t.clientY,isResize:l,ord:o},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),xn(this,"onComponentPointerDown",t=>{const{crop:n,disabled:s,locked:a,keepSelection:i,onChange:o}=this.props,l=this.getBox();if(s||a||i&&n)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=t.clientX-l.x,u=t.clientY-l.y,f={unit:"px",x:c,y:u,width:0,height:0};this.evData={startClientX:t.clientX,startClientY:t.clientY,startCropX:c,startCropY:u,clientX:t.clientX,clientY:t.clientY,isResize:!0},this.mouseDownOnCrop=!0,o(vc(f,l.width,l.height),$f(f,l.width,l.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),xn(this,"onDocPointerMove",t=>{const{crop:n,disabled:s,onChange:a,onDragStart:i}=this.props,o=this.getBox();if(s||!n||!this.mouseDownOnCrop)return;t.cancelable&&t.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(t));const{evData:l}=this;l.clientX=t.clientX,l.clientY=t.clientY;let c;l.isResize?c=this.resizeCrop():c=this.dragCrop(),XA(n,c)||a(vc(c,o.width,o.height),$f(c,o.width,o.height))}),xn(this,"onComponentKeyDown",t=>{const{crop:n,disabled:s,onChange:a,onComplete:i}=this.props;if(s)return;const o=t.key;let l=!1;if(!n)return;const c=this.getBox(),u=this.makePixelCrop(c),f=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?yo.nudgeStepLarge:t.shiftKey?yo.nudgeStepMedium:yo.nudgeStep;if(o==="ArrowLeft"?(u.x-=f,l=!0):o==="ArrowRight"?(u.x+=f,l=!0):o==="ArrowUp"?(u.y-=f,l=!0):o==="ArrowDown"&&(u.y+=f,l=!0),l){t.cancelable&&t.preventDefault(),u.x=Of(u.x,0,c.width-u.width),u.y=Of(u.y,0,c.height-u.height);const h=vc(u,c.width,c.height),g=$f(u,c.width,c.height);a(h,g),i&&i(h,g)}}),xn(this,"onHandlerKeyDown",(t,n)=>{const{aspect:s=0,crop:a,disabled:i,minWidth:o=0,minHeight:l=0,maxWidth:c,maxHeight:u,onChange:f,onComplete:h}=this.props,g=this.getBox();if(i||!a)return;if(t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="ArrowLeft"||t.key==="ArrowRight")t.stopPropagation(),t.preventDefault();else return;const m=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?yo.nudgeStepLarge:t.shiftKey?yo.nudgeStepMedium:yo.nudgeStep,p=vc(a,g.width,g.height),v=Iue(p,t.key,m,n),b=e_(v,s,n,g.width,g.height,o,l,c,u);if(!XA(a,b)){const y=$f(b,g.width,g.height);f(b,y),h&&h(b,y)}}),xn(this,"onDocPointerDone",t=>{const{crop:n,disabled:s,onComplete:a,onDragEnd:i}=this.props,o=this.getBox();this.unbindDocMove(),!(s||!n)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,i&&i(t),a&&a(vc(n,o.width,o.height),$f(n,o.width,o.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),xn(this,"onDragFocus",()=>{var t;(t=this.componentRef.current)==null||t.scrollTo(0,0)})}get document(){return document}getBox(){const t=this.mediaRef.current;if(!t)return{x:0,y:0,width:0,height:0};const{x:n,y:s,width:a,height:i}=t.getBoundingClientRect();return{x:n,y:s,width:a,height:i}}componentDidUpdate(t){const{crop:n,onComplete:s}=this.props;if(s&&!t.crop&&n){const{width:a,height:i}=this.getBox();a&&i&&s(vc(n,a,i),$f(n,a,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,Pf),this.document.addEventListener("pointerup",this.onDocPointerDone,Pf),this.document.addEventListener("pointercancel",this.onDocPointerDone,Pf),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,Pf),this.document.removeEventListener("pointerup",this.onDocPointerDone,Pf),this.document.removeEventListener("pointercancel",this.onDocPointerDone,Pf),this.docMoveBound=!1)}getCropStyle(){const{crop:t}=this.props;if(t)return{top:`${t.y}${t.unit}`,left:`${t.x}${t.unit}`,width:`${t.width}${t.unit}`,height:`${t.height}${t.unit}`}}dragCrop(){const{evData:t}=this,n=this.getBox(),s=this.makePixelCrop(n),a=t.clientX-t.startClientX,i=t.clientY-t.startClientY;return s.x=Of(t.startCropX+a,0,n.width-s.width),s.y=Of(t.startCropY+i,0,n.height-s.height),s}getPointRegion(t,n,s,a){const{evData:i}=this,o=i.clientX-t.x,l=i.clientY-t.y;let c;a&&n?c=n==="nw"||n==="n"||n==="ne":c=l<i.startCropY;let u;return s&&n?u=n==="nw"||n==="w"||n==="sw":u=o<i.startCropX,u?c?"nw":"sw":c?"ne":"se"}resolveMinDimensions(t,n,s=0,a=0){const i=Math.min(s,t.width),o=Math.min(a,t.height);return!n||!i&&!o?[i,o]:n>1?i?[i,i/n]:[o*n,o]:o?[o*n,o]:[i,i/n]}resizeCrop(){const{evData:t}=this,{aspect:n=0,maxWidth:s,maxHeight:a}=this.props,i=this.getBox(),[o,l]=this.resolveMinDimensions(i,n,this.props.minWidth,this.props.minHeight);let c=this.makePixelCrop(i);const u=this.getPointRegion(i,t.ord,o,l),f=t.ord||u;let h=t.clientX-t.startClientX,g=t.clientY-t.startClientY;(o&&f==="nw"||f==="w"||f==="sw")&&(h=Math.min(h,-o)),(l&&f==="nw"||f==="n"||f==="ne")&&(g=Math.min(g,-l));const m={unit:"px",x:0,y:0,width:0,height:0};u==="ne"?(m.x=t.startCropX,m.width=h,n?(m.height=m.width/n,m.y=t.startCropY-m.height):(m.height=Math.abs(g),m.y=t.startCropY-m.height)):u==="se"?(m.x=t.startCropX,m.y=t.startCropY,m.width=h,n?m.height=m.width/n:m.height=g):u==="sw"?(m.x=t.startCropX+h,m.y=t.startCropY,m.width=Math.abs(h),n?m.height=m.width/n:m.height=g):u==="nw"&&(m.x=t.startCropX+h,m.width=Math.abs(h),n?(m.height=m.width/n,m.y=t.startCropY-m.height):(m.height=Math.abs(g),m.y=t.startCropY+g));const p=e_(m,n,u,i.width,i.height,o,l,s,a);return n||yo.xyOrds.indexOf(f)>-1?c=p:yo.xOrds.indexOf(f)>-1?(c.x=p.x,c.width=p.width):yo.yOrds.indexOf(f)>-1&&(c.y=p.y,c.height=p.height),c.x=Of(c.x,0,i.width-c.width),c.y=Of(c.y,0,i.height-c.height),c}renderCropSelection(){const{ariaLabels:t=yo.defaultProps.ariaLabels,disabled:n,locked:s,renderSelectionAddon:a,ruleOfThirds:i,crop:o}=this.props,l=this.getCropStyle();if(o)return dr.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!s&&dr.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},dr.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),dr.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),dr.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),dr.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),dr.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"nw"),role:"button"}),dr.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"n"),role:"button"}),dr.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"ne"),role:"button"}),dr.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"e"),role:"button"}),dr.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"se"),role:"button"}),dr.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"s"),role:"button"}),dr.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"sw"),role:"button"}),dr.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"w"),role:"button"})),a&&dr.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:c=>c.stopPropagation()},a(this.state)),i&&dr.createElement(dr.Fragment,null,dr.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),dr.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(t){const n=te(te({},cb),this.props.crop||{});return vc(n,t.width,t.height)}render(){const{aspect:t,children:n,circularCrop:s,className:a,crop:i,disabled:o,locked:l,style:c,ruleOfThirds:u}=this.props,{cropIsActive:f,newCropIsBeingDrawn:h}=this.state,g=i?this.renderCropSelection():null,m=Mue("ReactCrop",a,f&&"ReactCrop--active",o&&"ReactCrop--disabled",l&&"ReactCrop--locked",h&&"ReactCrop--new-crop",i&&t&&"ReactCrop--fixed-aspect",i&&s&&"ReactCrop--circular-crop",i&&u&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",s&&"ReactCrop--no-animate");return dr.createElement("div",{ref:this.componentRef,className:m,style:c},dr.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),i?dr.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},dr.createElement("defs",null,dr.createElement("mask",{id:`hole-${this.instanceId}`},dr.createElement("rect",{width:"100%",height:"100%",fill:"white"}),s?dr.createElement("ellipse",{cx:`${i.x+i.width/2}${i.unit}`,cy:`${i.y+i.height/2}${i.unit}`,rx:`${i.width/2}${i.unit}`,ry:`${i.height/2}${i.unit}`,fill:"black"}):dr.createElement("rect",{x:`${i.x}${i.unit}`,y:`${i.y}${i.unit}`,width:`${i.width}${i.unit}`,height:`${i.height}${i.unit}`,fill:"black"}))),dr.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,g)}};xn(Ic,"xOrds",["e","w"]),xn(Ic,"yOrds",["n","s"]),xn(Ic,"xyOrds",["nw","ne","se","sw"]),xn(Ic,"nudgeStep",1),xn(Ic,"nudgeStepMedium",10),xn(Ic,"nudgeStepLarge",100),xn(Ic,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let Aue=Ic;function aw({image:e,imageDimensions:t,onCropComplete:n,onCancel:s,config:a,type:i}){const[o,l]=d.useState({unit:"px",width:100,height:100,x:0,y:0}),[c,u]=d.useState(null),[f,h]=d.useState(!1),g=d.useRef(null),m=d.useRef(null),[p,v]=d.useState({width:600,height:500}),[b,y]=d.useState({minWidth:0,minHeight:0});d.useEffect(()=>{const N=()=>{const L=window.innerWidth*.8,k=window.innerHeight*.8;let E=Math.min(t.width,L),S=Math.min(t.height,k);E=Math.max(E,400),S=Math.max(S,300),v({width:E,height:S+120})};t.width>0&&t.height>0&&N()},[t]);const x=N=>{const{naturalWidth:L,naturalHeight:k}=N.currentTarget,E=N.currentTarget.width,S=N.currentTarget.height;h(!0);const I=E/L,C=S/k,M=Math.min(I,C);let A=Math.floor(a.minWidth*M),H=Math.floor(a.minHeight*M);A=Math.max(1,Math.min(A,E)),H=Math.max(1,Math.min(H,S)),y({minWidth:A,minHeight:H});let W,X;if(i==="avatar"){const D=Math.min(E,S);W=D,X=D}else{const D=a.aspect;E/S>D?(X=S,W=X*D):(W=E,X=W/D),W<A&&(W=A,X=W/D),X<H&&(X=H,W=X*D),W>E&&(W=E,X=W/D),X>S&&(X=S,W=X*D)}const J=Math.max(0,(E-W)/2),Z=Math.max(0,(S-X)/2),F={unit:"px",width:Math.round(W),height:Math.round(X),x:Math.round(J),y:Math.round(Z)};console.log("Initial crop set:",F,{scaledMinWidth:A,scaledMinHeight:H,displayedWidth:E,displayedHeight:S,naturalWidth:L,naturalHeight:k}),l(F),u(F)},w=()=>{const N=m.current;if(!N||!c)return console.error("No completed crop or canvas"),null;const L=g.current;if(!L)return console.error("No image reference"),null;const k=L.naturalWidth/L.width,E=L.naturalHeight/L.height,S=N.getContext("2d"),I=window.devicePixelRatio;return N.width=c.width*I,N.height=c.height*I,S.setTransform(I,0,0,I,0,0),S.imageSmoothingQuality="high",S.drawImage(L,c.x*k,c.y*E,c.width*k,c.height*E,0,0,c.width,c.height),new Promise(C=>{N.toBlob(M=>{console.log("Generated blob:",M?`size: ${M.size} bytes`:"null"),C(M)},"image/jpeg",.9)})},j=()=>pe(this,null,function*(){console.log("Starting crop process...");const N=yield w();N?(console.log("Crop successful, calling onCropComplete"),n(N)):console.error("Failed to generate cropped image")});return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg overflow-hidden flex flex-col",style:{width:`${p.width}px`,maxWidth:"90vw",maxHeight:"90vh"},children:[r.jsxs("div",{className:"p-4 border-b",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Crop ",i==="avatar"?"Profile Photo":"Cover Image"]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:i==="avatar"?"Select a square area for your profile picture":"Adjust the crop area for your cover image"})]}),r.jsx("div",{className:"flex-1 p-4 overflow-auto",children:r.jsx("div",{className:"flex justify-center items-center",children:r.jsx(Aue,{crop:o,onChange:N=>{l(N)},onComplete:N=>{console.log("Crop completed:",N),u(N)},aspect:i==="avatar"?1:a.aspect,minWidth:b.minWidth||void 0,minHeight:b.minHeight||void 0,keepSelection:!0,children:r.jsx("img",{ref:g,src:e,onLoad:x,alt:"Crop preview",style:{maxWidth:"100%",maxHeight:"60vh",objectFit:"contain",display:"block"}})})})}),r.jsx("canvas",{ref:m,className:"hidden"}),r.jsx("div",{className:"p-4 border-t bg-gray-50",children:r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:s,className:"px-6 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md border border-gray-300 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:j,disabled:!c,className:"px-6 py-2 text-sm font-medium text-white bg-brand-600 hover:bg-brand-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Changes"})]})})]})})}const t_=e=>/^[^\s@]+@[^\s@]+\.[a-zA-Z]{2,}$/.test(String(e||"").toLowerCase()),_ue={avatar:{aspect:1,minWidth:100,minHeight:100}},Oue=({value:e,onChange:t,error:n,citiesLoading:s,getCitiesForCountry:a})=>{const[i,o]=d.useState(!1),[l,c]=d.useState(""),[u,f]=d.useState("");if(s)return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Other Countries of Operations (Branches) ",r.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),r.jsxs("div",{className:"flex items-center justify-center p-4",children:[r.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-500",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading cities..."})]})]});const h=()=>{if(l&&u){const p={country:l,city:u};t([...e,p]),c(""),f(""),o(!1)}},g=p=>{const v=e.filter((b,y)=>y!==p);t(v)},m=(p,v)=>{const b=e.map((y,x)=>x===p?he(te({},y),{city:v}):y);t(b)};return d.useState(0),d.useState(!1),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Other Countries of Operations (Branches) ",r.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),e.length>0&&r.jsx("div",{className:"space-y-2",children:e.map((p,v)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg bg-gray-50",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-sm",children:p.country}),r.jsxs("div",{className:"text-xs text-gray-500",children:["City: ",p.city]})]}),r.jsx(Bn,{options:a(p.country),value:p.city,onChange:b=>m(v,b),placeholder:"Select city",className:"w-48"}),r.jsx("button",{type:"button",onClick:()=>g(v),className:"p-1 text-red-500 hover:text-red-700",title:"Remove",children:r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]},v))}),i?r.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg bg-blue-50 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(Bn,{options:An,value:l,onChange:c,placeholder:"Select country"}),r.jsx(Bn,{options:l?a(l):[],value:u,onChange:f,placeholder:"Select city",disabled:!l})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:h,disabled:!l||!u,className:"px-3 py-1 bg-brand-600 text-white rounded-lg text-sm hover:bg-brand-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),r.jsx("button",{type:"button",onClick:()=>{o(!1),c(""),f("")},className:"px-3 py-1 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:"Cancel"})]})]}):r.jsxs("button",{type:"button",onClick:()=>o(!0),className:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})}),"Add Country & City"]}),n&&r.jsx("p",{className:"text-xs text-red-600",children:n}),r.jsx("p",{className:"text-xs text-gray-500",children:"Select countries where your company has branches or operations (optional)"})]})};function db({isOpen:e,onClose:t,initialTab:n="signup"}){const s=Ht(),a=d.useRef(null),[i,o]=d.useState(n),[l,c]=d.useState({email:"",password:"",remember:!1}),[u,f]=d.useState({email:"",password:""}),[h,g]=d.useState(!1),[m,p]=d.useState(!1),[v,b]=d.useState(!1),[y,x]=d.useState(!1),[w,j]=d.useState([]),[N,L]=d.useState(!0);d.useEffect(()=>{pe(this,null,function*(){try{const ne=yield fetch("/data/cities.json");if(!ne.ok)throw new Error("Failed to fetch cities");const Ce=yield ne.json();j(Ce)}catch(ne){console.error("Error fetching cities:",ne),oe.error("Failed to load cities data")}finally{L(!1)}})},[]);const k=d.useMemo(()=>w.slice(0,1e4).map(V=>({value:V.city,label:`${V.city}${V.country?`, ${V.country}`:""}`,country:V.country})),[w]),E=d.useCallback(V=>V?k.filter(ne=>{var Ce;return((Ce=ne.country)==null?void 0:Ce.toLowerCase())===V.toLowerCase()}):[],[k]),[S,I]=d.useState("individual"),[C,M]=d.useState({name:"",email:"",phone:"",country:"",password:"",confirmPassword:"",tos:!1,avatarUrl:null,avatarPreview:null,birthDate:"",gender:"",nationality:"",otherCountries:[],webpage:""}),[A,H]=d.useState({name:"",email:"",phone:"",country:"",password:"",confirmPassword:"",tos:"",avatarUrl:"",birthDate:"",gender:"",nationality:"",otherCountries:"",webpage:""}),[W,X]=d.useState(!1),[J,Z]=d.useState(!1),[F,D]=d.useState(!1),[O,T]=d.useState(null),[R,z]=d.useState({width:0,height:0});d.useEffect(()=>{const V=localStorage.getItem("token")||localStorage.getItem("auth_token");b(!!V)},[]);const _=V=>{const{name:ne,value:Ce,type:fe,checked:xe}=V.target;c(se=>he(te({},se),{[ne]:fe==="checkbox"?xe:Ce})),f(se=>he(te({},se),{[ne]:""}))},U=V=>{const{name:ne,value:Ce,type:fe,checked:xe}=V.target;M(se=>he(te({},se),{[ne]:fe==="checkbox"?xe:Ce})),H(se=>he(te({},se),{[ne]:""}))},Q=(V,ne)=>pe(this,null,function*(){if(ne){if(ne.size>5242880){H(xe=>he(te({},xe),{[V]:"File size must be less than 5MB"}));return}if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(ne.type)){H(xe=>he(te({},xe),{[V]:"Please select a valid image file (JPG, PNG, GIF, WEBP)"}));return}{const xe=new FileReader;xe.onload=se=>{const ae=new Image;ae.onload=()=>{z({width:ae.width,height:ae.height}),T(se.target.result),D(!0)},ae.src=se.target.result},xe.readAsDataURL(ne),M(se=>he(te({},se),{avatarFile:null,avatarPreview:null}))}H(xe=>he(te({},xe),{avatarUrl:""}))}else M(Ce=>he(te({},Ce),{avatarFile:null,avatarPreview:null}))}),re=V=>{const ne=V.type||"image/jpeg",Ce=ne==="image/png"?"png":ne==="image/webp"?"webp":"jpg",fe=`avatar-${Date.now()}.${Ce}`,xe=new File([V],fe,{type:ne}),se=URL.createObjectURL(V);M(ae=>he(te({},ae),{avatarFile:xe,avatarPreview:se})),D(!1),T(null),z({width:0,height:0})},le=()=>{D(!1),T(null),z({width:0,height:0})},ue=S==="company"?"Organization name":"Name",ge=S==="company"?"Organization email":"Email Address",ke=S==="company"?"Organization phone":"Phone Number";function tt(){const V={email:"",password:""};return l.email?t_(l.email)||(V.email="Please enter a valid email."):V.email="Email is required.",l.password||(V.password="Password is required."),f(V),!V.email&&!V.password}function He(){const V={name:"",email:"",phone:"",country:"",password:"",confirmPassword:"",tos:"",birthDate:"",gender:"",nationality:"",otherCountries:"",webpage:""};if(C.name?C.name.trim().length<2?V.name=`${ue} must be at least 2 characters long.`:/^[\p{L}0-9\s\-'\.]+$/u.test(C.name.trim())||(V.name=`${ue} can only contain letters, numbers, spaces, hyphens, apostrophes, and periods.`):V.name=`${ue} is required.`,C.email?t_(C.email)||(V.email="Please enter a valid email."):V.email=`${ge} is required.`,!C.phone)V.phone=`${ke} is required.`;else{const ne=String(C.phone).replace(/\D/g,"");ne.length<6?V.phone="Please enter a valid phone number.":ne.length>15?V.phone="Phone number is too long.":/^\+?[\d\s\-\(\)]+$/.test(C.phone)||(V.phone="Please enter a valid phone number format.")}if(C.country||(V.country="Country is required."),C.password?C.password.length<8?V.password="Password must be at least 8 characters long.":/^(?=.*[A-Za-z])(?=.*\d)(?=.*[^A-Za-z\d]).+$/.test(C.password)||(V.password="Create a strong password with a mix of letters, numbers and symbols."):V.password="Password is required.",C.confirmPassword?C.password!==C.confirmPassword&&(V.confirmPassword="Passwords do not match."):V.confirmPassword="Please confirm password.",C.tos||(V.tos="You must agree to the Terms and Privacy Policy."),S==="individual"){if(!C.birthDate)V.birthDate="Birth date is required.";else{const ne=new Date(C.birthDate),Ce=new Date,fe=18,xe=120;if(ne>Ce)V.birthDate="Birth date cannot be in the future.";else{const se=Ce.getFullYear()-ne.getFullYear();se<fe?V.birthDate="You must be at least 18 years old.":se>xe&&(V.birthDate="Please enter a valid birth date.")}}C.gender||(V.gender="Gender is required."),C.nationality||(V.nationality="Nationality is required.")}return S==="company"&&(/^(https?:\/\/)?([\w-]+\.)+[a-zA-Z]{2,}(\/\S*)?$/.test(C.webpage.trim())||(V.webpage="Please enter a valid website address (e.g. google.com)")),H(V),Object.values(V).every(ne=>!ne)}function ze(V){return pe(this,null,function*(){var ne;if(V.preventDefault(),!tt()){oe.error("Please fix the highlighted fields.");return}g(!0);try{const Ce=Se.post("/auth/login",{email:l.email,password:l.password}),fe=yield oe.promise(Ce,{loading:"Signing you in",success:"Welcome back! ",error:se=>{var ae,G;return((G=(ae=se==null?void 0:se.response)==null?void 0:ae.data)==null?void 0:G.message)||"Login failed. Check your credentials."}},{id:"login"}),xe=(ne=fe==null?void 0:fe.data)==null?void 0:ne.token;xe&&(localStorage.setItem("auth_token",xe),localStorage.setItem("token",xe),b(!0),t(),window.location.href="/")}catch(Ce){g(!1)}finally{g(!1)}})}const rt=V=>pe(this,null,function*(){try{const ne=new FormData;return ne.append("file",V),(yield Se.post("/profile/uploadLogo",ne,{headers:{"Content-Type":"multipart/form-data"}})).data.url}catch(ne){throw console.error("Error uploading file:",ne),new Error("Failed to upload file")}});function Xe(V){return pe(this,null,function*(){var ne;if(V.preventDefault(),!He()){oe.error("Please fix the highlighted fields.");return}g(!0);try{let Ce=null;if(C.avatarFile)try{Ce=yield rt(C.avatarFile)}catch(G){oe.error("Failed to upload profile picture. Please try again."),g(!1);return}const fe={name:C.name,email:C.email,phone:C.phone,countryOfResidence:C.country,password:C.password,accountType:S,avatarUrl:Ce,birthDate:C.birthDate,gender:C.gender,nationality:C.nationality,otherCountries:C.otherCountries,webpage:C.webpage},xe=Se.post("/auth/signup",fe),se=yield oe.promise(xe,{loading:"Creating your account",success:"Account created! ",error:G=>{var Ne,Be;return((Be=(Ne=G==null?void 0:G.response)==null?void 0:Ne.data)==null?void 0:Be.message)||"Sign up failed."}},{id:"signup"}),ae=((ne=se==null?void 0:se.data)==null?void 0:ne.email)||fe.email;t(),s("/verify-email-sent",{state:{email:ae}})}catch(Ce){console.error("Signup error:",Ce)}finally{g(!1)}})}return e?r.jsxs("div",{style:{zIndex:999},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:[r.jsxs("div",{ref:a,className:`relative w-full ${i!="signup"?"max-w-md":"max-w-2xl"} bg-white rounded-xl translate-y-5 shadow-xl p-6 md:p-8 max-h-[85vh]  ${y?"overflow-hidden":"overflow-y-auto"}`,children:[r.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:r.jsx(Sr,{size:24})}),v?r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Welcome Back"}),r.jsx("p",{className:"mt-1 text-gray-500",children:"Sign in to continue your professional journey"})]}):r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"54Links"}),r.jsx("p",{className:"mt-1 text-gray-600",children:"Discover, connect, and collaborate across markets."}),r.jsx("p",{className:"mt-1 text-gray-500",children:i==="login"?"Log in to start connecting.":"Join the global networking community"})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-2 rounded-xl bg-gray-100 p-1 text-sm",children:[r.jsx("button",{onClick:()=>o("login"),className:`text-center rounded-lg py-2 font-medium transition ${i==="login"?"bg-white shadow-soft text-brand-700":"text-gray-600 hover:text-gray-900"}`,children:"Sign In"}),r.jsx("button",{onClick:()=>o("signup"),className:`text-center rounded-lg py-2 font-medium transition ${i==="signup"?"bg-white shadow-soft text-brand-700":"text-gray-600 hover:text-gray-900"}`,children:"Sign Up"})]}),i==="login"?r.jsxs("form",{onSubmit:ze,className:"mt-6 space-y-4",children:[r.jsx($r,{name:"email",label:"Email Address",type:"email",placeholder:"Enter your email",value:l.email,onChange:_,error:u.email,rightIcon:r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M4 6h16v12H4z"}),r.jsx("path",{d:"m22 6-10 7L2 6"})]})}),r.jsx("div",{children:r.jsx($r,{name:"password",label:"Password",type:m?"text":"password",placeholder:"Enter your password",value:l.password,onChange:_,error:u.password,rightIcon:r.jsx("button",{type:"button",onClick:()=>p(V=>!V),"aria-label":m?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:m?r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M3 3l18 18"}),r.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})})}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{name:"remember",type:"checkbox",checked:l.remember,onChange:_,className:"h-4 w-4 rounded border-gray-300 text-brand-500 focus:ring-brand-500"}),r.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),r.jsx("button",{type:"button",onClick:()=>s("/forgot"),className:"text-brand-500 hover:underline",children:"Forgot password?"})]}),r.jsxs("button",{type:"submit",disabled:h,className:"mt-1 w-full rounded-xl bg-gradient-to-r from-brand-600 to-brand-500 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[h&&r.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),h?"Signing In...":"Sign In"]}),r.jsxs("div",{className:"relative my-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-200"})}),r.jsx("div",{className:"relative flex justify-center",children:r.jsx("span",{className:"bg-white px-4 text-xs uppercase tracking-wider text-gray-400",children:"or continue with"})})]}),r.jsx(ch,{page:"signin",showAccountTypeModalChange:V=>{x(V),V&&a.current&&a.current.scrollTo({top:0,behavior:"instant"})}}),r.jsxs("div",{className:"mt-4 text-center text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Don't have an account?"})," ",r.jsx("button",{type:"button",onClick:()=>o("signup"),className:"text-brand-500 hover:underline font-medium",children:"Sign up"})]})]}):r.jsxs("form",{onSubmit:Xe,className:"mt-6",children:[r.jsxs("div",{className:"flex gap-3 mb-4",children:[r.jsxs("button",{type:"button",onClick:()=>I("individual"),className:`flex-1 inline-flex items-center justify-center gap-2 rounded-xl border px-4 py-3 text-sm ${S==="individual"?"border-brand-500 text-brand-700 bg-brand-50":"border-gray-200 text-gray-700"}`,children:[r.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5ZM3 22a9 9 0 1 1 18 0Z"})}),"Individual"]}),r.jsxs("button",{type:"button",onClick:()=>I("company"),className:`flex-1 inline-flex items-center justify-center gap-2 rounded-xl border px-4 py-3 text-sm ${S==="company"?"border-brand-500 text-brand-700 bg-brand-50":"border-gray-200 text-gray-700"}`,children:[r.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M3 21V3h8v6h10v12H3Z"})}),"Organization"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsx($r,{label:ue,name:"name",placeholder:S==="company"?"54Links Ltd.":"John Doe",value:C.name,onChange:U,error:A.name})}),r.jsx("div",{className:"md:col-span-1",children:r.jsx($r,{label:ge,name:"email",type:"email",placeholder:S==="company"?"contact@yourcompany.com":"john@example.com",value:C.email,onChange:U,error:A.email})}),r.jsx("div",{className:"md:col-span-1",children:r.jsx($r,{label:ke,name:"phone",onWheel:V=>V.currentTarget.blur(),placeholder:"Phone",value:C.phone,onChange:V=>{const{name:ne,value:Ce}=V.target,fe=Ce.replace(/[^+\d\-\(\)]/g,"");if((fe.match(/\+/g)||[]).length>1){const se=fe.replace(/\+/g,"");M(ae=>he(te({},ae),{[ne]:"+"+se}))}else M(se=>he(te({},se),{[ne]:fe}));H(se=>he(te({},se),{[ne]:""}))},error:A.phone})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(Bn,{label:"Country",options:An,value:C.country,onChange:V=>{M(ne=>he(te({},ne),{country:V})),H(ne=>he(te({},ne),{country:""}))},placeholder:"Select your country",error:A.country})}),S==="individual"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"md:col-span-2 space-y-3",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Profile Picture (Optional)"}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-20 h-20 rounded-full border-2 border-gray-200 bg-gray-50 flex items-center justify-center overflow-hidden",children:C.avatarPreview?r.jsx("img",{src:C.avatarPreview,alt:"Profile preview",className:"w-full h-full object-cover"}):r.jsxs("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),C.avatarPreview&&r.jsx("button",{type:"button",onClick:()=>Q("avatar",null),className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:r.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:r.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{type:"file",name:"avatar",accept:"image/*",onChange:V=>{const ne=V.target.files[0];Q("avatar",ne)},className:"hidden",id:"avatar-upload"}),r.jsx("label",{htmlFor:"avatar-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-50 text-brand-700 border border-brand-200 rounded-lg cursor-pointer hover:bg-brand-100 transition-colors",children:C.avatarUrl?"Change Picture":"Upload Picture"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:C.avatarPreview?"Image selected":"JPG, PNG up to 5MB"})]})]})]}),r.jsxs("div",{className:"md:col-span-1 space-y-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Birth Date"}),r.jsx("input",{type:"date",name:"birthDate",value:C.birthDate,onChange:U,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${A.birthDate?"border-red-400 focus:ring-red-400":"border-gray-200"}`}),A.birthDate&&r.jsx("p",{className:"text-xs text-red-600",children:A.birthDate})]}),r.jsxs("div",{className:"md:col-span-1 space-y-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Gender"}),r.jsxs("select",{name:"gender",value:C.gender,onChange:U,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${A.gender?"border-red-400 focus:ring-red-400":"border-gray-200"}`,children:[r.jsx("option",{value:"",disabled:!0,children:"Select gender"}),r.jsx("option",{value:"male",children:"Male"}),r.jsx("option",{value:"female",children:"Female"})]}),A.gender&&r.jsx("p",{className:"text-xs text-red-600",children:A.gender})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(Bn,{label:"Nationality",options:An,value:C.nationality,onChange:V=>{M(ne=>he(te({},ne),{nationality:V})),H(ne=>he(te({},ne),{nationality:""}))},placeholder:"Select your nationality",error:A.nationality})})]}),S==="company"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"md:col-span-2 space-y-3",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Company Logo (Optional)"}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-20 h-20 rounded-lg border-2 border-gray-200 bg-gray-50 flex items-center justify-center overflow-hidden",children:C.avatarPreview?r.jsx("img",{src:C.avatarPreview,alt:"Logo preview",className:"w-full h-full object-contain"}):r.jsxs("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("circle",{cx:"9",cy:"9",r:"2"}),r.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]})}),C.avatarPreview&&r.jsx("button",{type:"button",onClick:()=>Q("avatar",null),className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:r.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:r.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{type:"file",name:"avatar",accept:"image/*",onChange:V=>{const ne=V.target.files[0];Q("avatar",ne)},className:"hidden",id:"avatar-upload"}),r.jsx("label",{htmlFor:"avatar-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-50 text-brand-700 border border-brand-200 rounded-lg cursor-pointer hover:bg-brand-100 transition-colors",children:C.avatarUrl?"Change Logo":"Upload Logo"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:C.avatarPreview?"Logo selected":"JPG, PNG up to 5MB"})]})]})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(Oue,{value:C.otherCountries,onChange:V=>{M(ne=>he(te({},ne),{otherCountries:V})),H(ne=>he(te({},ne),{otherCountries:""}))},error:A.otherCountries,citiesLoading:N,getCitiesForCountry:E})}),r.jsxs("div",{className:"md:col-span-2 space-y-1",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Company Website ",r.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),r.jsx("input",{name:"webpage",placeholder:"https://www.yourcompany.com",value:C.webpage,onChange:U,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${A.webpage?"border-red-400 focus:ring-red-400":"border-gray-200"}`}),A.webpage&&r.jsx("p",{className:"text-xs text-red-600",children:A.webpage})]})]}),r.jsxs("div",{children:[r.jsx($r,{label:"Password",name:"password",type:W?"text":"password",placeholder:"At least 8 characters",value:C.password,onChange:U,error:A.password,rightIcon:r.jsx("button",{type:"button",onClick:()=>X(V=>!V),"aria-label":W?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:W?r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M3 3l18 18"}),r.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),C.password&&/^(?=.*[A-Za-z])(?=.*\d)(?=.*[^A-Za-z\d]).+$/.test(C.password)?r.jsxs("div",{className:"flex items-center gap-2 mt-2 text-green-600",children:[r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:r.jsx("path",{d:"M20 6L9 17l-5-5"})}),r.jsx("p",{className:"text-xs",children:"Password validated"})]}):A.password?null:r.jsx("p",{className:"text-xs text-gray-500 my-2",children:"Create a strong password with a mix of letters, numbers and symbols."})]}),r.jsx($r,{label:"Confirm Password",name:"confirmPassword",type:J?"text":"password",placeholder:"Confirm your password",value:C.confirmPassword,onChange:U,error:A.confirmPassword,rightIcon:r.jsx("button",{type:"button",onClick:()=>Z(V=>!V),"aria-label":J?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:J?r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M3 3l18 18"}),r.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),r.jsxs("div",{className:"md:col-span-2 flex items-start gap-3 text-sm",children:[r.jsx("input",{name:"tos",type:"checkbox",checked:C.tos,onChange:U,className:`mt-1 h-4 w-4 rounded border-gray-300 text-brand-600 focus:ring-brand-500 ${A.tos?"ring-2 ring-red-400":""}`}),r.jsxs("p",{className:"text-gray-600",children:["I agree to the"," ",r.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 underline",children:"Terms of Service"})," and"," ",r.jsx("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 underline",children:"Privacy Policy"})]})]}),A.tos&&r.jsx("div",{className:"md:col-span-2 -mt-2",children:r.jsx("p",{className:"text-xs text-red-600",children:A.tos})}),r.jsxs("div",{className:"md:col-span-2 space-y-4",children:[r.jsxs("button",{type:"submit",disabled:h,className:"w-full rounded-xl bg-gradient-to-r from-brand-700 to-brand-500 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[h&&r.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),h?"Creating Account":"Create Account"]}),r.jsx(ch,{page:"signup",showAccountTypeModalChange:V=>{x(V),V&&a.current&&a.current.scrollTo({top:0,behavior:"instant"})}})]}),r.jsxs("div",{className:"md:col-span-2 text-center text-sm mt-4",children:[r.jsx("span",{className:"text-gray-600",children:"Already have an account?"})," ",r.jsx("button",{type:"button",onClick:()=>o("login"),className:"text-brand-500 hover:underline font-medium",children:"Sign in"})]})]})]})]}),F&&O&&r.jsx(aw,{image:O,imageDimensions:R,onCropComplete:re,onCancel:le,config:_ue.avatar,type:"avatar"})]}):null}const $ue=[{value:"complaint",label:"Complaint / Feedback"},{value:"partnership",label:"Partnership / Collaboration"},{value:"information",label:"Request Information"},{value:"other",label:"Other"}];function DH({isOpen:e,onClose:t}){const n=d.useRef(null),[s,a]=d.useState(!1),[i,o]=d.useState({fullName:"",email:"",phone:"",contactReason:"",message:"",companyName:"",website:"",attachment:null,attachmentPreview:null}),[l,c]=d.useState({}),u=p=>{const{name:v,value:b}=p.target;o(y=>he(te({},y),{[v]:b})),c(y=>he(te({},y),{[v]:""}))},f=p=>{if(p){if(p.size>10485760){c(y=>he(te({},y),{attachment:"File size must be less than 10MB"}));return}if(!["image/jpeg","image/jpg","image/png","image/gif","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"].includes(p.type)){c(y=>he(te({},y),{attachment:"Please select a valid file (Images, PDF, Word documents, or text files)"}));return}if(p.type.startsWith("image/")){const y=new FileReader;y.onload=x=>{const w=x.target.result;o(j=>he(te({},j),{attachment:w,attachmentPreview:w}))},y.readAsDataURL(p)}else o(y=>he(te({},y),{attachment:p,attachmentPreview:null}))}else o(v=>he(te({},v),{attachment:null,attachmentPreview:null}));c(v=>he(te({},v),{attachment:""}))},h=()=>{const p={};i.fullName.trim()?i.fullName.trim().length<2&&(p.fullName="Full name must be at least 2 characters long."):p.fullName="Full name is required.";const v=b=>/^[^\s@]+@[^\s@]+\.[a-zA-Z]{2,}$/.test(String(b||"").toLowerCase());if(i.email.trim()?v(i.email.toLowerCase())||(p.email="Please enter a valid email address."):p.email="Email is required.",i.phone&&i.phone.trim()){const b=i.phone.replace(/\D/g,"");b.length<6?p.phone="Phone number must be at least 6 digits.":b.length>15?p.phone="Phone number is too long (max 15 digits).":/^\+?[\d\s\-\(\)]+$/.test(i.phone)||(p.phone="Please enter a valid phone number format.")}return i.contactReason||(p.contactReason="Please select a reason for contact."),i.message.trim()?i.message.trim().length<10&&(p.message="Message must be at least 10 characters long."):p.message="Message is required.",i.contactReason==="partnership"&&(!i.companyName||!i.companyName.trim()?p.companyName="Company/Organization name is required for partnership inquiries.":i.companyName.trim().length<2&&(p.companyName="Company name must be at least 2 characters long."),i.website&&i.website.trim()&&!/^(https?:\/\/)?([\w-]+\.)+[a-zA-Z]{2,}(\/\S*)?$/.test(i.website.trim())&&(p.website="Please enter a valid website address.")),c(p),Object.keys(p).length===0},g=p=>pe(this,null,function*(){if(p.preventDefault(),!h()){oe.error("Please fix the highlighted fields.");return}a(!0);try{const v=new FormData;if(v.append("fullName",i.fullName),v.append("email",i.email),v.append("phone",i.phone||""),v.append("contactReason",i.contactReason),v.append("message",i.message),v.append("companyName",i.companyName||""),v.append("website",i.website||""),i.attachment)if(typeof i.attachment=="string"){const x=yield(yield fetch(i.attachment)).blob();v.append("attachment",x,"attachment")}else v.append("attachment",i.attachment);const b=Se.post("/contact",v,{headers:{"Content-Type":"multipart/form-data"}});yield oe.promise(b,{loading:"Sending your message",success:"Message sent successfully! We'll get back to you soon.",error:y=>{var x,w;return((w=(x=y==null?void 0:y.response)==null?void 0:x.data)==null?void 0:w.message)||"Failed to send message. Please try again."}},{id:"contact"}),o({fullName:"",email:"",phone:"",contactReason:"",message:"",companyName:"",website:"",attachment:null,attachmentPreview:null}),t()}catch(v){}finally{a(!1)}});if(!e)return null;const m=i.contactReason==="partnership";return r.jsx("div",{style:{zIndex:999},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:r.jsxs("div",{ref:n,className:"relative w-full max-w-2xl bg-white rounded-xl shadow-xl p-6 md:p-8 max-h-[85vh] overflow-y-auto",children:[r.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:r.jsx(Sr,{size:24})}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Contact Us"}),r.jsx("p",{className:"mt-1 text-gray-600",children:"Get in touch with our team. We're here to help!"})]}),r.jsxs("form",{onSubmit:g,className:"space-y-6",children:[r.jsx($r,{label:"Full Name *",name:"fullName",placeholder:"Enter your full name",value:i.fullName,onChange:u,error:l.fullName}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx($r,{label:"Email Address *",name:"email",type:"email",placeholder:"your.email@example.com",value:i.email,onChange:u,error:l.email}),r.jsx($r,{label:"Phone Number",name:"phone",placeholder:"+1 (555) 123-4567",value:i.phone,onChange:p=>{const{name:v,value:b}=p.target,y=b.replace(/[^+\d\s\-\(\)]/g,"");if((y.match(/\+/g)||[]).length>1){const w=y.replace(/\+/g,"");o(j=>he(te({},j),{[v]:"+"+w}))}else o(w=>he(te({},w),{[v]:y}));c(w=>he(te({},w),{[v]:""}))},error:l.phone})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Reason for Contact *"}),r.jsxs("select",{name:"contactReason",value:i.contactReason,onChange:u,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${l.contactReason?"border-red-400 focus:ring-red-400":"border-gray-200"}`,children:[r.jsx("option",{value:"",disabled:!0,children:"Select a reason"}),$ue.map(p=>r.jsx("option",{value:p.value,children:p.label},p.value))]}),l.contactReason&&r.jsx("p",{className:"text-xs text-red-600",children:l.contactReason})]}),m&&r.jsxs("div",{className:"space-y-4 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[r.jsx("h3",{className:"text-sm font-medium text-blue-900",children:"Partnership Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx($r,{label:"Company / Organization Name *",name:"companyName",placeholder:"Your company name",value:i.companyName,onChange:u,error:l.companyName}),r.jsx($r,{label:"Website",name:"website",placeholder:"https://www.yourcompany.com",value:i.website,onChange:u,error:l.website})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Message *"}),r.jsx("textarea",{name:"message",rows:5,placeholder:"Please describe your inquiry in detail...",value:i.message,onChange:u,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white resize-none ${l.message?"border-red-400 focus:ring-red-400":"border-gray-200"}`}),l.message&&r.jsx("p",{className:"text-xs text-red-600",children:l.message})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Attachment (Optional)"}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-20 h-20 rounded-lg border-2 border-gray-200 bg-gray-50 flex items-center justify-center overflow-hidden",children:i.attachmentPreview?r.jsx("img",{src:i.attachmentPreview,alt:"Attachment preview",className:"w-full h-full object-cover"}):i.attachment?r.jsxs("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14,2 14,8 20,8"})]}):r.jsxs("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14,2 14,8 20,8"})]})}),i.attachment&&r.jsx("button",{type:"button",onClick:()=>f(null),className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:r.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:r.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{type:"file",name:"attachment",accept:"image/*,.pdf,.doc,.docx,.txt",onChange:p=>{const v=p.target.files[0];f(v)},className:"hidden",id:"contact-attachment"}),r.jsxs("label",{htmlFor:"contact-attachment",className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-50 text-brand-700 border border-brand-200 rounded-lg cursor-pointer hover:bg-brand-100 transition-colors",children:[r.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),r.jsx("polyline",{points:"7,10 12,15 17,10"}),r.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),i.attachment?"Change File":"Upload File"]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i.attachment?`${i.attachment.name||"File selected"}`:"Images, PDF, Word docs, or text files up to 10MB"}),l.attachment&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:l.attachment})]})]})]}),r.jsxs("button",{type:"submit",disabled:s,className:"w-full rounded-xl bg-brand-600 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s&&r.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),s?"Sending Message...":"Send Message"]})]})]})})}const HC={primary:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white bg-[#034ea2] hover:bg-[#023771] hover:text-[#ffffff99] focus:outline-none focus:ring-2 focus:ring-[#034ea2]/30",primaryWide:"w-full rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-[#034ea2] hover:bg-[#023771] hover:text-[#ffffff99] focus:outline-none focus:ring-2 focus:ring-[#034ea2]/30",pill:"inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-sm font-medium text-white bg-[#034ea2] hover:bg-[#023771] hover:text-[#ffffff99]"},RH=d.createContext(null);function Pue({children:e}){const[t,n]=d.useState(ew()),[s,a]=d.useState(null),[i,o]=d.useState(!0),[l,c]=d.useState(null),[u,f]=d.useState(!!t),[h,g]=d.useState(!1);d.useEffect(()=>{GE(t||null)},[t]);const m=x=>pe(this,null,function*(){var j;if(!(x||t)){a(null),c(null),f(!1);return}f(!0);try{const N=Se.defaults.headers.common.Authorization;x&&(Se.defaults.headers.common.Authorization=`Bearer ${x}`);const{data:L}=yield Se.get("/profile/me");a((L==null?void 0:L.user)||null),o((L==null?void 0:L.settings)||null),c((L==null?void 0:L.profile)||null)}catch(N){((j=N==null?void 0:N.response)==null?void 0:j.status)==401&&(n(null),a(null),c(null))}finally{f(!1),g(!0)}});d.useEffect(()=>{m()},[t]),d.useEffect(()=>{const x=()=>{n(null),a(null),c(null)};return window.addEventListener("auth:unauthorized",x),()=>window.removeEventListener("auth:unauthorized",x)},[]);const p=x=>pe(this,null,function*(){return n(x),!0}),v=()=>{f(!0),window.location.href="/",localStorage.removeItem("auth_token"),localStorage.removeItem("token"),localStorage.removeItem("activeAccountId")},b=(x=[])=>{if(!(x!=null&&x.length))return!0;const w=(s==null?void 0:s.role)||(s==null?void 0:s.accountType);return x.includes(w)};console.log(s==null?void 0:s.email);const y=d.useMemo(()=>({token:t,user:s,profile:l,loading:u,ready:h,setProfile:c,setToken:p,refreshAuth:m,signOut:v,hasRole:b,setUser:a,settings:i,setSettings:o,isAuthed:!!(s&&t)}),[t,s,l,u,h,i]);return r.jsx(RH.Provider,{value:y,children:e})}function Xt(){return d.useContext(RH)}const FH=d.createContext(),Due=({children:e})=>{let t={profile:!1,login_prompt:!1};const[n,s]=d.useState([]),[a,i]=d.useState([]);let o=["support_messages"];const[l,c]=d.useState(t);function u(){c(t),document.removeEventListener("click",g)}function f(v){c(he(te({},l),{[v]:!1}))}const h=(v,b)=>{const y=document.getElementById(v);console.log({Section:y}),y?y.scrollIntoView({behavior:b?"instant":v=="home"||v=="about"||v=="move_after_pagination"||v=="contact"?"smooth":"instant"}):setTimeout(()=>h(v),2e3)},g=v=>{let b=!0;Object.keys(t).forEach(y=>{var x;(x=v==null?void 0:v.target)!=null&&x.closest(`._${y}`)&&(b=!1)}),Object.keys(t).forEach(y=>{o.includes(y)&&l[y]&&(b=!1)}),b&&(document.removeEventListener("click",g),u())},p={filtersToClear:n,setFiltersToClear:s,_openPopUps:l,_scrollToSection:h,_closeAllPopUps:u,_showPopUp:(v,b)=>{setTimeout(()=>document.addEventListener("click",g),200),c(he(te({},t),{[v]:b||!0}))},_closeThisPopUp:f,initial_popups:t,updateData:a,setUpdateData:i};return r.jsx(FH.Provider,{value:p,children:e})},yr=()=>d.useContext(FH),cl=Object.create(null);cl.open="0";cl.close="1";cl.ping="2";cl.pong="3";cl.message="4";cl.upgrade="5";cl.noop="6";const sy=Object.create(null);Object.keys(cl).forEach(e=>{sy[cl[e]]=e});const VC={type:"error",data:"parser error"},BH=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",zH=typeof ArrayBuffer=="function",UH=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,QE=({type:e,data:t},n,s)=>BH&&t instanceof Blob?n?s(t):r_(t,s):zH&&(t instanceof ArrayBuffer||UH(t))?n?s(t):r_(new Blob([t]),s):s(cl[e]+(t||"")),r_=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function n_(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let D4;function Rue(e,t){if(BH&&e.data instanceof Blob)return e.data.arrayBuffer().then(n_).then(t);if(zH&&(e.data instanceof ArrayBuffer||UH(e.data)))return t(n_(e.data));QE(e,!1,n=>{D4||(D4=new TextEncoder),t(D4.encode(n))})}const s_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mm=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(let e=0;e<s_.length;e++)mm[s_.charCodeAt(e)]=e;const Fue=e=>{let t=e.length*.75,n=e.length,s,a=0,i,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),f=new Uint8Array(u);for(s=0;s<n;s+=4)i=mm[e.charCodeAt(s)],o=mm[e.charCodeAt(s+1)],l=mm[e.charCodeAt(s+2)],c=mm[e.charCodeAt(s+3)],f[a++]=i<<2|o>>4,f[a++]=(o&15)<<4|l>>2,f[a++]=(l&3)<<6|c&63;return u},Bue=typeof ArrayBuffer=="function",KE=(e,t)=>{if(typeof e!="string")return{type:"message",data:WH(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:zue(e.substring(1),t)}:sy[n]?e.length>1?{type:sy[n],data:e.substring(1)}:{type:sy[n]}:VC},zue=(e,t)=>{if(Bue){const n=Fue(e);return WH(n,t)}else return{base64:!0,data:e}},WH=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},HH="",Uue=(e,t)=>{const n=e.length,s=new Array(n);let a=0;e.forEach((i,o)=>{QE(i,!1,l=>{s[o]=l,++a===n&&t(s.join(HH))})})},Wue=(e,t)=>{const n=e.split(HH),s=[];for(let a=0;a<n.length;a++){const i=KE(n[a],t);if(s.push(i),i.type==="error")break}return s};function Hue(){return new TransformStream({transform(e,t){Rue(e,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,s)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let R4;function Ev(e){return e.reduce((t,n)=>t+n.length,0)}function Lv(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let a=0;a<t;a++)n[a]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function Vue(e,t){R4||(R4=new TextDecoder);const n=[];let s=0,a=-1,i=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(s===0){if(Ev(n)<1)break;const c=Lv(n,1);i=(c[0]&128)===128,a=c[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(Ev(n)<2)break;const c=Lv(n,2);a=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),s=3}else if(s===2){if(Ev(n)<8)break;const c=Lv(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),f=u.getUint32(0);if(f>Math.pow(2,21)-1){l.enqueue(VC);break}a=f*Math.pow(2,32)+u.getUint32(4),s=3}else{if(Ev(n)<a)break;const c=Lv(n,a);l.enqueue(KE(i?c:R4.decode(c),t)),s=0}if(a===0||a>e){l.enqueue(VC);break}}}})}const VH=4;function Gn(e){if(e)return Gue(e)}function Gue(e){for(var t in Gn.prototype)e[t]=Gn.prototype[t];return e}Gn.prototype.on=Gn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Gn.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Gn.prototype.off=Gn.prototype.removeListener=Gn.prototype.removeAllListeners=Gn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===t||s.fn===t){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Gn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,t)}return this};Gn.prototype.emitReserved=Gn.prototype.emit;Gn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Gn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const iw=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Gi=typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")(),que="arraybuffer";function GH(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const Yue=Gi.setTimeout,Jue=Gi.clearTimeout;function ow(e,t){t.useNativeTimers?(e.setTimeoutFn=Yue.bind(Gi),e.clearTimeoutFn=Jue.bind(Gi)):(e.setTimeoutFn=Gi.setTimeout.bind(Gi),e.clearTimeoutFn=Gi.clearTimeout.bind(Gi))}const Zue=1.33;function Que(e){return typeof e=="string"?Kue(e):Math.ceil((e.byteLength||e.size)*Zue)}function Kue(e){let t=0,n=0;for(let s=0,a=e.length;s<a;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function qH(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Xue(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function efe(e){let t={},n=e.split("&");for(let s=0,a=n.length;s<a;s++){let i=n[s].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class tfe extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class XE extends Gn{constructor(t){super(),this.writable=!1,ow(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,s){return super.emitReserved("error",new tfe(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=KE(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Xue(t);return n.length?"?"+n:""}}class rfe extends XE{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};Wue(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Uue(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=qH()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let YH=!1;try{YH=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(e){}const nfe=YH;function sfe(){}class afe extends rfe{constructor(t){if(super(t),typeof location!="undefined"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location!="undefined"&&t.hostname!==location.hostname||s!==t.port}}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}let F0=class ay extends Gn{constructor(t,n,s){super(),this.createRequest=t,ow(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var t;const n=GH(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this._opts.extraHeaders[a])}}catch(a){}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{s.setRequestHeader("Accept","*/*")}catch(a){}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document!="undefined"&&(this._index=ay.requestsCount++,ay.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr=="undefined"||this._xhr===null)){if(this._xhr.onreadystatechange=sfe,t)try{this._xhr.abort()}catch(n){}typeof document!="undefined"&&delete ay.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};F0.requestsCount=0;F0.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",a_);else if(typeof addEventListener=="function"){const e="onpagehide"in Gi?"pagehide":"unload";addEventListener(e,a_,!1)}}function a_(){for(let e in F0.requests)F0.requests.hasOwnProperty(e)&&F0.requests[e].abort()}const ife=function(){const e=JH({xdomain:!1});return e&&e.responseType!==null}();class ofe extends afe{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=ife&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new F0(JH,this.uri(),t)}}function JH(e){const t=e.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!t||nfe))return new XMLHttpRequest}catch(n){}if(!t)try{return new Gi[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(n){}}const ZH=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class lfe extends XE{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,s=ZH?{}:GH(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;QE(s,this.supportsBinary,i=>{try{this.doWrite(s,i)}catch(o){}a&&iw(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=qH()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const F4=Gi.WebSocket||Gi.MozWebSocket;class cfe extends lfe{createSocket(t,n,s){return ZH?new F4(t,n,s):n?new F4(t,n):new F4(t)}doWrite(t,n){this.ws.send(n)}}class dfe extends XE{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=Vue(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),a=Hue();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const i=()=>{s.read().then(({done:l,value:c})=>{l||(this.onPacket(c),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;this._writer.write(s).then(()=>{a&&iw(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const ufe={websocket:cfe,webtransport:dfe,polling:ofe},ffe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,hfe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function GC(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let a=ffe.exec(e||""),i={},o=14;for(;o--;)i[hfe[o]]=a[o]||"";return n!=-1&&s!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=gfe(i,i.path),i.queryKey=mfe(i,i.query),i}function gfe(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function mfe(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,i){a&&(n[a]=i)}),n}const qC=typeof addEventListener=="function"&&typeof removeEventListener=="function",iy=[];qC&&addEventListener("offline",()=>{iy.forEach(e=>e())},!1);class od extends Gn{constructor(t,n){if(super(),this.binaryType=que,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const s=GC(t);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=GC(n.host).host);ow(this,n),this.secure=n.secure!=null?n.secure:typeof location!="undefined"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=n.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const a=s.prototype.name;this.transports.push(a),this._transportsByName[a]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=efe(this.opts.query)),qC&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},iy.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=VH,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&od.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",od.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const a=this.writeBuffer[s].data;if(a&&(n+=Que(a)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,iw(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,s){return this._sendPacket("message",t,n,s),this}send(t,n,s){return this._sendPacket("message",t,n,s),this}_sendPacket(t,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const i={type:t,data:n,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}_onError(t){if(od.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),qC&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=iy.indexOf(this._offlineEventListener);s!==-1&&iy.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}od.protocol=VH;class pfe extends od{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),s=!1;od.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!s)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;od.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=n.name,this.emitReserved("upgradeError",g)}}))};function i(){s||(s=!0,f(),n.close(),n=null)}const o=h=>{const g=new Error("probe error: "+h);g.transport=n.name,i(),this.emitReserved("upgradeError",g)};function l(){o("transport closed")}function c(){o("socket closed")}function u(h){n&&h.name!==n.name&&i()}const f=()=>{n.removeListener("open",a),n.removeListener("error",o),n.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};n.once("open",a),n.once("error",o),n.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let s=0;s<t.length;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}}let xfe=class extends pfe{constructor(t,n={}){const s=typeof t=="object"?t:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(a=>ufe[a]).filter(a=>!!a)),super(t,s)}};function vfe(e,t="",n){let s=e;n=n||typeof location!="undefined"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n!="undefined"?e=n.protocol+"//"+e:e="https://"+e),s=GC(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const i=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+i+":"+s.port+t,s.href=s.protocol+"://"+i+(n&&n.port===s.port?"":":"+s.port),s}const yfe=typeof ArrayBuffer=="function",bfe=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,QH=Object.prototype.toString,wfe=typeof Blob=="function"||typeof Blob!="undefined"&&QH.call(Blob)==="[object BlobConstructor]",jfe=typeof File=="function"||typeof File!="undefined"&&QH.call(File)==="[object FileConstructor]";function eL(e){return yfe&&(e instanceof ArrayBuffer||bfe(e))||wfe&&e instanceof Blob||jfe&&e instanceof File}function oy(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(oy(e[n]))return!0;return!1}if(eL(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return oy(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&oy(e[n]))return!0;return!1}function Nfe(e){const t=[],n=e.data,s=e;return s.data=YC(n,t),s.attachments=t.length,{packet:s,buffers:t}}function YC(e,t){if(!e)return e;if(eL(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=YC(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=YC(e[s],t));return n}return e}function Sfe(e,t){return e.data=JC(e.data,t),delete e.attachments,e}function JC(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=JC(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=JC(e[n],t));return e}const Cfe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],kfe=5;var Ar;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ar||(Ar={}));class Efe{constructor(t){this.replacer=t}encode(t){return(t.type===Ar.EVENT||t.type===Ar.ACK)&&oy(t)?this.encodeAsBinary({type:t.type===Ar.EVENT?Ar.BINARY_EVENT:Ar.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Ar.BINARY_EVENT||t.type===Ar.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Nfe(t),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}function i_(e){return Object.prototype.toString.call(e)==="[object Object]"}class tL extends Gn{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===Ar.BINARY_EVENT;s||n.type===Ar.BINARY_ACK?(n.type=s?Ar.EVENT:Ar.ACK,this.reconstructor=new Lfe(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(eL(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(Ar[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Ar.BINARY_EVENT||s.type===Ar.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(i,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(o)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(i,n)}else s.nsp="/";const a=t.charAt(n+1);if(a!==""&&Number(a)==a){const i=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}s.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(tL.isPayloadValid(s.type,i))s.data=i;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(n){return!1}}static isPayloadValid(t,n){switch(t){case Ar.CONNECT:return i_(n);case Ar.DISCONNECT:return n===void 0;case Ar.CONNECT_ERROR:return typeof n=="string"||i_(n);case Ar.EVENT:case Ar.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Cfe.indexOf(n[0])===-1);case Ar.ACK:case Ar.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Lfe{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Sfe(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Mfe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:tL,Encoder:Efe,get PacketType(){return Ar},protocol:kfe},Symbol.toStringTag,{value:"Module"}));function No(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Ife=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class KH extends Gn{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[No(t,"open",this.onopen.bind(this)),No(t,"packet",this.onpacket.bind(this)),No(t,"error",this.onerror.bind(this)),No(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var s,a,i;if(Ife.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Ar.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const f=this.ids++,h=n.pop();this._registerAckCallback(f,h),o.id=f}const l=(a=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||a===void 0?void 0:a.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},a),o=(...l)=>{this.io.clearTimeoutFn(i),n.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((s,a)=>{const i=(o,l)=>o?a(o):s(l);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...i)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...i)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ar.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ar.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ar.EVENT:case Ar.BINARY_EVENT:this.onevent(t);break;case Ar.ACK:case Ar.BINARY_ACK:this.onack(t);break;case Ar.DISCONNECT:this.ondisconnect();break;case Ar.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:Ar.ACK,id:t,data:a}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ar.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function $h(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}$h.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};$h.prototype.reset=function(){this.attempts=0};$h.prototype.setMin=function(e){this.ms=e};$h.prototype.setMax=function(e){this.max=e};$h.prototype.setJitter=function(e){this.jitter=e};class ZC extends Gn{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,ow(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new $h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const a=n.parser||Mfe;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new xfe(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=No(n,"open",function(){s.onopen(),t&&t()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=No(n,"error",i);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(a),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(No(t,"ping",this.onping.bind(this)),No(t,"data",this.ondata.bind(this)),No(t,"error",this.onerror.bind(this)),No(t,"close",this.onclose.bind(this)),No(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){iw(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new KH(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Tg={};function ly(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=vfe(e,t.path||"/socket.io"),s=n.source,a=n.id,i=n.path,o=Tg[a]&&i in Tg[a].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new ZC(s,t):(Tg[a]||(Tg[a]=new ZC(s,t)),c=Tg[a]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(ly,{Manager:ZC,Socket:KH,io:ly,connect:ly});const XH=d.createContext(),Tfe=({children:e})=>{const[t,n]=d.useState(null),[s,a]=d.useState(!1),[i,o]=d.useState(null),[l,c]=d.useState([]),[u,f]=d.useState(0),{token:h,isAuthed:g,user:m}=Xt(),p="https://api.54links.com";d.useEffect(()=>{if(!g||!h)return;const S=ly(p,{auth:{userId:m.id}});return S.on("connect",()=>{a(!0),o(null),S.emit("get_unread_count",I=>{I!=null&&I.ok&&f(I.data.count||0)}),S.emit("get_online_connections")}),S.on("connect_error",I=>{a(!1),o(I.message)}),S.on("disconnect",()=>{a(!1)}),S.on("error",I=>{o(typeof I=="string"?I:I==null?void 0:I.message)}),S.on("online_connections",I=>{c(Array.isArray(I)?I:[])}),S.on("user_status_change",()=>{S.emit("get_online_connections")}),S.on("unread_count_update",({count:I})=>{Number.isFinite(I)&&f(I)}),n(S),()=>{S.disconnect(),n(null),a(!1)}},[g,h,m==null?void 0:m.id]);const v=d.useCallback((S,I={})=>new Promise((C,M)=>{if(!t||!s)return M(new Error("Socket not connected"));t.emit(S,I,A=>{A!=null&&A.ok?C(A.data):M(new Error((A==null?void 0:A.error)||`Socket call failed: ${S}`))})}),[t,s]),b=d.useCallback(()=>v("fetch_conversations"),[v]),y=d.useCallback((S,I)=>v("fetch_messages",te({conversationId:S},I||{})),[v]),x=d.useCallback((S,I)=>v("open_conversation_with_user",te({otherUserId:S},I||{})),[v]),w=d.useCallback(S=>v("search_users",{q:S}),[v]),j=d.useCallback(()=>new Promise((S,I)=>{if(!t||!s)return I(new Error("Socket not connected"));t.emit("get_online_connections",C=>{C!=null&&C.ok?(c(C.data||[]),S(C.data||[])):I(new Error((C==null?void 0:C.error)||"Failed to get online connections"))})}),[t,s]),N=d.useCallback((S,I,C=[])=>new Promise((M,A)=>{if(!t||!s)return A(new Error("Socket not connected"));t.emit("private_message",{receiverId:S,content:I,attachments:C},H=>{H!=null&&H.ok?M(H.data):A(new Error((H==null?void 0:H.error)||"Failed to send message"))})}),[t,s]),L=d.useCallback(S=>new Promise((I,C)=>{if(!t||!s)return C(new Error("Socket not connected"));t.emit("mark_read",{conversationId:S},M=>{M!=null&&M.ok?I(M.data):C(new Error((M==null?void 0:M.error)||"Failed to mark as read"))})}),[t,s]),k=d.useCallback(S=>{if(!t||!s)return()=>{};const I=C=>S==null?void 0:S(C);return t.on("private_message",I),()=>t.off("private_message",I)},[t,s]),E=d.useMemo(()=>({socket:t,connected:s,error:i,onlineConnections:l,totalUnreadCount:u,fetchConversations:b,fetchMessages:y,openConversationWithUser:x,searchUsers:w,sendPrivateMessage:N,markMessagesAsRead:L,onPrivateMessage:k,getOnlineConnections:j}),[t,s,i,l,u,b,y,x,w,N,L,k,j]);return r.jsx(XH.Provider,{value:E,children:e})},lw=()=>{const e=d.useContext(XH);if(!e)throw new Error("useSocket must be used within a SocketProvider");return e},Afe=[{value:"technical",label:"Technical Error / System Failure"},{value:"account",label:"Login / Access Problem"},{value:"data",label:"Incorrect or Outdated Data"},{value:"general",label:"Improvement Suggestion"},{value:"other",label:"Other"}];function _fe({isOpen:e,onClose:t}){const n=d.useRef(null),{user:s,profile:a}=Xt(),[i,o]=d.useState(!1),[l,c]=d.useState({fullName:(s==null?void 0:s.name)||(a==null?void 0:a.name)||"",email:(s==null?void 0:s.email)||(a==null?void 0:a.email)||"",phone:(s==null?void 0:s.phone)||(a==null?void 0:a.phone)||"",supportReason:"",priority:"medium",message:"",attachment:null,attachmentPreview:null}),[u,f]=d.useState({}),h=v=>{const{name:b,value:y}=v.target;c(x=>he(te({},x),{[b]:y})),f(x=>he(te({},x),{[b]:""}))},g=v=>{if(v){if(v.size>10485760){f(x=>he(te({},x),{attachment:"File size must be less than 10MB"}));return}if(!["image/jpeg","image/jpg","image/png","image/gif","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"].includes(v.type)){f(x=>he(te({},x),{attachment:"Please select a valid file (Images, PDF, Word documents, or text files)"}));return}if(v.type.startsWith("image/")){const x=new FileReader;x.onload=w=>{const j=w.target.result;c(N=>he(te({},N),{attachment:j,attachmentPreview:j}))},x.readAsDataURL(v)}else c(x=>he(te({},x),{attachment:v,attachmentPreview:null}))}else c(b=>he(te({},b),{attachment:null,attachmentPreview:null}));f(b=>he(te({},b),{attachment:""}))},m=()=>{const v={};if(!s){l.fullName.trim()?l.fullName.trim().length<2&&(v.fullName="Full name must be at least 2 characters long."):v.fullName="Full name is required.";const b=y=>/^[^\s@]+@[^\s@]+\.[a-zA-Z]{2,}$/.test(String(y||"").toLowerCase());l.email.trim()?b(l.email.toLowerCase())||(v.email="Please enter a valid email address."):v.email="Email is required."}if(l.phone&&l.phone.trim()){const b=l.phone.replace(/\D/g,"");b.length<6?v.phone="Phone number must be at least 6 digits.":b.length>15?v.phone="Phone number is too long (max 15 digits).":/^\+?[\d\s\-\(\)]+$/.test(l.phone)||(v.phone="Please enter a valid phone number format.")}return l.supportReason||(v.supportReason="Please select a reason for support."),l.priority||(v.priority="Please select a priority level."),l.message.trim()?l.message.trim().length<10&&(v.message="Message must be at least 10 characters long."):v.message="Message is required.",f(v),Object.keys(v).length===0},p=v=>pe(this,null,function*(){if(v.preventDefault(),!m()){oe.error("Please fix the highlighted fields.");return}o(!0);try{console.log("Submitting support request...");const b=new FormData;if(b.append("fullName",l.fullName),b.append("email",l.email),b.append("phone",l.phone||""),b.append("supportReason",l.supportReason),b.append("priority",l.priority),b.append("message",l.message),l.attachment)if(typeof l.attachment=="string"){const w=yield(yield fetch(l.attachment)).blob();b.append("attachment",w,"attachment")}else b.append("attachment",l.attachment);const y=Qu.post("/support",b);console.log("API call made to /support"),yield oe.promise(y,{loading:"Sending your support request",success:"Support request sent successfully! We'll get back to you soon.",error:x=>{var w,j;return console.error("Support submission error:",x),((j=(w=x==null?void 0:x.response)==null?void 0:w.data)==null?void 0:j.message)||"Failed to send support request. Please try again."}},{id:"support"}),c({fullName:(s==null?void 0:s.name)||(a==null?void 0:a.name)||"",email:(s==null?void 0:s.email)||(a==null?void 0:a.email)||"",phone:(s==null?void 0:s.phone)||(a==null?void 0:a.phone)||"",supportReason:"",priority:"medium",message:"",attachment:null,attachmentPreview:null}),t()}catch(b){console.error("Support submission error:",b)}finally{o(!1)}});return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:r.jsxs("div",{ref:n,className:"relative w-full max-w-2xl bg-white rounded-xl shadow-xl p-6 md:p-8 max-h-[85vh] overflow-y-auto",children:[r.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:r.jsx(Sr,{size:24})}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Support"}),r.jsx("p",{className:"mt-1 text-gray-600",children:"Need help? Our support team is here to assist you."})]}),r.jsxs("form",{onSubmit:p,className:"space-y-6",children:[s?r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Full Name *"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-brand-50 grid place-items-center overflow-hidden flex-shrink-0",children:s!=null&&s.avatarUrl?r.jsx("img",{src:s.avatarUrl,alt:"avatar",className:"h-full w-full object-cover"}):r.jsx("span",{className:"font-semibold text-brand-600 text-sm",children:l.fullName?l.fullName.charAt(0).toUpperCase():"U"})}),r.jsx("div",{className:"w-full rounded-xl border border-gray-200 px-4 py-3 text-sm bg-gray-50 text-gray-900",children:l.fullName})]})]}):r.jsx($r,{label:"Full Name *",name:"fullName",placeholder:"Enter your full name",value:l.fullName,onChange:h,error:u.fullName}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s?r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email Address *"}),r.jsx("div",{className:"w-full rounded-xl border border-gray-200 px-4 py-3 text-sm bg-gray-50 text-gray-900",children:l.email})]}):r.jsx($r,{label:"Email Address *",name:"email",type:"email",placeholder:"your.email@example.com",value:l.email,onChange:h,error:u.email}),s!=null&&s.phone?r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Phone Number"}),r.jsx("div",{className:"w-full rounded-xl border border-gray-200 px-4 py-3 text-sm bg-gray-50 text-gray-900",children:l.phone})]}):r.jsx($r,{label:"Phone Number",name:"phone",placeholder:"+1 (555) 123-4567",value:l.phone,onChange:v=>{const{name:b,value:y}=v.target,x=y.replace(/[^+\d\s\-\(\)]/g,"");if((x.match(/\+/g)||[]).length>1){const j=x.replace(/\+/g,"");c(N=>he(te({},N),{[b]:"+"+j}))}else c(j=>he(te({},j),{[b]:x}));f(j=>he(te({},j),{[b]:""}))},error:u.phone})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Reason for Support *"}),r.jsxs("select",{name:"supportReason",value:l.supportReason,onChange:h,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${u.supportReason?"border-red-400 focus:ring-red-400":"border-gray-200"}`,children:[r.jsx("option",{value:"",disabled:!0,children:"Select a reason"}),Afe.map(v=>r.jsx("option",{value:v.value,children:v.label},v.value))]}),u.supportReason&&r.jsx("p",{className:"text-xs text-red-600",children:u.supportReason})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Request Priority *"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"priority",value:"low",checked:l.priority==="low",onChange:h,className:"text-brand-600 focus:ring-brand-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Low  Does not prevent platform use"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"priority",value:"medium",checked:l.priority==="medium",onChange:h,className:"text-brand-600 focus:ring-brand-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Medium  Partially impacts use"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"priority",value:"high",checked:l.priority==="high",onChange:h,className:"text-brand-600 focus:ring-brand-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"High  Completely prevents use"})]})]}),u.priority&&r.jsx("p",{className:"text-xs text-red-600",children:u.priority})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Message *"}),r.jsx("textarea",{name:"message",rows:5,placeholder:"Please describe your issue in detail...",value:l.message,onChange:h,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white resize-none ${u.message?"border-red-400 focus:ring-red-400":"border-gray-200"}`}),u.message&&r.jsx("p",{className:"text-xs text-red-600",children:u.message})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Attachment (Optional)"}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-20 h-20 rounded-lg border-2 border-gray-200 bg-gray-50 flex items-center justify-center overflow-hidden",children:l.attachmentPreview?r.jsx("img",{src:l.attachmentPreview,alt:"Attachment preview",className:"w-full h-full object-cover"}):l.attachment?r.jsxs("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14,2 14,8 20,8"})]}):r.jsxs("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14,2 14,8 20,8"})]})}),l.attachment&&r.jsx("button",{type:"button",onClick:()=>g(null),className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:r.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:r.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{type:"file",name:"attachment",accept:"image/*,.pdf,.doc,.docx,.txt",onChange:v=>{const b=v.target.files[0];g(b)},className:"hidden",id:"support-attachment"}),r.jsxs("label",{htmlFor:"support-attachment",className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-50 text-brand-700 border border-brand-200 rounded-lg cursor-pointer hover:bg-brand-100 transition-colors",children:[r.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),r.jsx("polyline",{points:"7,10 12,15 17,10"}),r.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),l.attachment?"Change File":"Upload File"]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l.attachment?`${l.attachment.name||"File selected"}`:"Images, PDF, Word docs, or text files up to 10MB"}),u.attachment&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:u.attachment})]})]})]}),r.jsxs("button",{type:"submit",disabled:i,className:"w-full rounded-xl bg-brand-600 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i&&r.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),i?"Sending Request...":"Send Request"]})]})]})}):null}const uh="/assets/logo-DLxVxQY5.png";function an({page:e}){const t=Ht(),{pathname:n}=bs(),{user:s,profile:a,signOut:i,settings:o,setToken:l,refreshAuth:c}=Xt(),{socket:u,totalUnreadCount:f,connected:h}=lw(),[g,m]=d.useState(!1),[p,v]=d.useState(!1),[b,y]=d.useState(!1),[x,w]=d.useState(0),[j,N]=d.useState(0),[L,k]=d.useState(0),[E,S]=d.useState(0),[I,C]=d.useState(0),[M,A]=d.useState(0),[H,W]=d.useState({connectionsPending:0,meetingsPending:0,messagesPending:0,jobApplicationsPending:0,eventRegistrationsPending:0,companyInvitationsPending:0,postsPending:0,customNotificationsPending:0,commentsPending:0}),[X,J]=d.useState(!1),[Z,F]=d.useState(!1),[D,O]=d.useState(!1),[T,R]=d.useState(!1),z=d.useRef(null),_=d.useRef(null),U=d.useRef(null);yr();const[Q,re]=d.useState([]),[le,ue]=d.useState(localStorage.getItem("activeAccountId")||(s==null?void 0:s.id)||null);d.useEffect(()=>{if(!(s!=null&&s.id)){re([]),ue(null);return}const G=((s==null?void 0:s.accountType)||(s==null?void 0:s.type))==="company",Ne={id:s.id,type:G?"company":"user",name:s.name||(a==null?void 0:a.name)||(G?"Company":"User"),avatarUrl:s.avatarUrl||(a==null?void 0:a.avatarUrl)},Be=Array.isArray(s.representativeOf)?s.representativeOf.filter(Te=>{var lt;return(Te==null?void 0:Te.status)==="authorized"&&((lt=Te==null?void 0:Te.company)==null?void 0:lt.id)}).map(Te=>({id:Te.company.id,type:"company",name:Te.company.name,avatarUrl:Te.company.avatarUrl,authToken:Te.authorizationToken})):[],dt=Array.isArray(s.companyRepresentatives)?s.companyRepresentatives.filter(Te=>{var lt;return(Te==null?void 0:Te.status)==="authorized"&&((lt=Te==null?void 0:Te.representative)==null?void 0:lt.id)}).map(Te=>({id:Te.representative.id,type:"representative",name:Te.representative.name,avatarUrl:Te.representative.avatarUrl,authToken:Te.authorizationToken})):[],nt=G?[Ne,...dt]:[Ne,...Be];re(nt),ue(Te=>{const lt=nt.some(_e=>_e.id===Te)?Te:Ne.id;return localStorage.setItem("activeAccountId",lt),lt})},[s==null?void 0:s.id,s==null?void 0:s.name,s==null?void 0:s.avatarUrl,s==null?void 0:s.accountType,s==null?void 0:s.type,s==null?void 0:s.representativeOf,s==null?void 0:s.companyRepresentatives,a==null?void 0:a.name,a==null?void 0:a.avatarUrl]);function ge(G){return pe(this,null,function*(){try{if(G.id===le){m(!1);return}const{data:Ne}=yield Se.post("/auth/company-token",{companyId:G.id});Ne!=null&&Ne.token&&(l(Ne.token),yield c(Ne.token),localStorage.setItem("activeAccountId",G.id),ue(G.id),m(!1)),t("/")}catch(Ne){console.error("Switch account failed:",Ne)}})}d.useEffect(()=>{o!=null&&o.hideMainFeed&&n==="/"&&t("/people")},[o==null?void 0:o.hideMainFeed,n,t]),d.useEffect(()=>{function G(Ne){z.current&&!z.current.contains(Ne.target)&&m(!1),_.current&&!_.current.contains(Ne.target)&&v(!1),U.current&&U.current.contains(Ne.target)}return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]),d.useEffect(()=>(document.body.style.overflow=b?"hidden":"",()=>{document.body.style.overflow=""}),[b]),d.useEffect(()=>{if(!h||!u||!(s!=null&&s.id))return;const G=Ne=>{var dt;const Be=(dt=Ne&&Ne.data&&typeof Ne.data.count=="number"&&Ne.data.count)!=null?dt:typeof(Ne==null?void 0:Ne.count)=="number"?Ne.count:0;w(Be)};return u.emit("get_unread_count"),u.on("get_unread_count_result",G),u.on("unread_count_update",G),()=>{u.off("get_unread_count_result",G),u.off("unread_count_update",G)}},[h,u,s==null?void 0:s.id]),d.useEffect(()=>{typeof f=="number"&&w(f)},[f]),d.useEffect(()=>{if(!h||!u||!(s!=null&&s.id))return;const G=(nt={})=>{N(Number.isFinite(nt.connectionsPending)?nt.connectionsPending:0),k(Number.isFinite(nt.meetingsPending)?nt.meetingsPending:0),S(Number.isFinite(nt.jobApplicationsPending)?nt.jobApplicationsPending:0),C(Number.isFinite(nt.eventRegistrationsPending)?nt.eventRegistrationsPending:0),A(Number.isFinite(nt.companyInvitationsPending)?nt.companyInvitationsPending:0),W({connectionsPending:Number.isFinite(nt.connectionsPending)?nt.connectionsPending:0,meetingsPending:Number.isFinite(nt.meetingsPending)?nt.meetingsPending:0,messagesPending:Number.isFinite(nt.messagesPending)?nt.messagesPending:0,jobApplicationsPending:Number.isFinite(nt.jobApplicationsPending)?nt.jobApplicationsPending:0,eventRegistrationsPending:Number.isFinite(nt.eventRegistrationsPending)?nt.eventRegistrationsPending:0,companyInvitationsPending:Number.isFinite(nt.companyInvitationsPending)?nt.companyInvitationsPending:0,postsPending:Number.isFinite(nt.postsPending)?nt.postsPending:0,customNotificationsPending:Number.isFinite(nt.customNotificationsPending)?nt.customNotificationsPending:0,commentsPending:Number.isFinite(nt.commentsPending)?nt.commentsPending:0})},Ne=nt=>G(nt),Be=()=>u.emit("get_header_badge_counts",nt=>G(nt||{}));Be(),u.on("header_badge_counts",Ne);const dt=setInterval(()=>{document.visibilityState!=="hidden"&&Be()},4e3);return()=>{u.off("header_badge_counts",Ne),clearInterval(dt)}},[h,u,s==null?void 0:s.id]);const ke=dr.useMemo(()=>[...o!=null&&o.hideMainFeed?[]:[{name:"feed",label:"Feed",path:"/",icon:r.jsx(Hs.feed,{})}],{name:"people",label:"People",path:"/people",icon:r.jsx(Hs.people,{})},{name:"companies",label:"Organizations",path:"/companies",icon:r.jsx(Hs.company,{})},{name:"jobs",label:"Jobs",path:"/jobs",icon:r.jsx(Hs.jobs,{})},{name:"events",label:"Events",path:"/events",icon:r.jsx(Hs.calendar,{})},{name:"products",label:"Products",path:"/products",icon:r.jsx(Hs.products,{})},{name:"services",label:"Services",path:"/services",icon:r.jsx(Hs.briefcase,{})},{name:"tourism",label:"Tourism",path:"/tourism",icon:r.jsx(Hs.pin,{})},{name:"funding",label:"Funding",path:"/funding",icon:r.jsx(Hs.funding,{})}],[o==null?void 0:o.hideMainFeed]),[tt,He]=d.useState(typeof window!="undefined"&&window.innerWidth>=1280);d.useEffect(()=>{function G(){He(window.innerWidth>=1280)}return window.addEventListener("resize",G),()=>window.removeEventListener("resize",G)},[]);const ze=!tt,rt=ze?ke:ke.slice(0,7),Xe=ze?[]:ke.slice(7);function V(G){return e?e===G.name:n===G.path}function ne(G){var nt,Te;if(!G)return"U";const Ne=G.trim().split(/\s+/),Be=((nt=Ne[0])==null?void 0:nt.charAt(0).toUpperCase())||"",dt=((Te=Ne[1])==null?void 0:Te.charAt(0).toUpperCase())||"";return Be+dt}ne((s==null?void 0:s.name)||(a==null?void 0:a.name));const Ce=Xe.some(V),fe=Math.min(99,(j||0)+(L||0)+(E||0)+(I||0)+(M||0)),xe=Math.min(99,fe+(H.messagesPending||0)+(H.postsPending||0)+(H.customNotificationsPending||0)+(H.commentsPending||0)),se=({item:G,onClick:Ne})=>{const Be=V(G);return r.jsxs("a",{href:"#",onClick:dt=>{dt.preventDefault(),v(!1),Ne==null||Ne(),t(G.path)},className:`flex items-center gap-2 px-3 py-1.5 rounded-full transition-colors whitespace-nowrap ${Be?"bg-brand-50 text-brand-600":"text-gray-700 hover:bg-brand-50 hover:text-brand-600"} ${ze?"flex-shrink-0":""}`,children:[G.icon," ",(!s||n.includes("/landing"))&&G.name==="feed"?"Home":G.label]})},ae=()=>{t("/notifications")};return r.jsxs(r.Fragment,{children:[r.jsx("header",{className:"sticky z-50 top-0 bg-white/90 backdrop-blur border-b border-gray-200",children:r.jsxs("div",{className:"mx-auto max-w-7xl h-16 px-4 sm:px-6 lg:px-8 flex items-center justify-between gap-4",children:[r.jsx("button",{className:"md:hidden -ml-2 p-2 rounded-lg hover:bg-gray-100","aria-label":"Open menu",onClick:()=>y(!0),children:r.jsx("svg",{className:"h-6 w-6 text-gray-700",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})}),r.jsx("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>t("/"),children:r.jsx("div",{className:"leading-tight",children:r.jsx("img",{src:uh,width:120,alt:"54Links"})})}),r.jsx("nav",{style:(s==null?void 0:s.accountType)=="admin"?{display:"none"}:{},className:"hidden md:flex items-center gap-1 text-sm ml-4 lg:ml-6 flex-1 min-w-0",children:r.jsxs("div",{className:`flex items-center gap-1 ${ze?"overflow-x-auto":""}`,children:[rt.map(G=>r.jsx(se,{item:G},G.name)),!ze&&Xe.length>0&&r.jsxs("div",{className:"relative flex-shrink-0",ref:_,children:[r.jsxs("button",{"aria-haspopup":"menu","aria-expanded":p,onClick:()=>v(G=>!G),className:`flex items-center gap-2 px-3 py-1.5 rounded-full transition-colors border whitespace-nowrap ${Ce||p?"bg-brand-500 text-white border-brand-500":"text-gray-700 border-gray-200 hover:bg-brand-50 hover:text-brand-600"}`,title:"More",children:[r.jsx("svg",{className:"h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})}),r.jsx("span",{children:"More"})]}),p&&r.jsx("div",{role:"menu",className:"absolute left-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg p-2 z-50",children:Xe.map(G=>{const Ne=V(G);return r.jsxs("button",{role:"menuitem",onClick:()=>{v(!1),t(G.path)},className:`w-full text-left px-3 py-2 text-sm flex items-center gap-2 rounded-md ${Ne?"bg-brand-50 text-brand-700":"hover:bg-brand-50 hover:text-brand-700 text-gray-700"}`,children:[r.jsx("span",{className:"shrink-0",children:G.icon}),r.jsx("span",{children:G.label})]},G.name)})})]})]})}),r.jsx("div",{className:"ml-auto flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:s?r.jsxs(r.Fragment,{children:[r.jsxs("button",{style:(s==null?void 0:s.accountType)=="admin"?{display:"none"}:{},onClick:()=>{ae()},className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Notifications",children:[xe>0&&r.jsx("span",{className:"absolute -top-1 -right-1 grid h-4 w-4 place-items-center rounded-full bg-red-500 text-white text-[10px] font-medium",children:xe>9?"9+":xe}),r.jsx("svg",{className:"text-gray-600 h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 22a2.5 2.5 0 0 0 2.45-2H9.55A2.5 2.5 0 0 0 12 22ZM18 16v-5a6 6 0 1 0-12 0v5l-1.8 1.8A1 1 0 0 0 5 20h14a1 1 0 0 0 .8-1.6Z"})})]}),r.jsxs("button",{style:(s==null?void 0:s.accountType)=="admin"?{display:"none"}:{},onClick:()=>t("/messages"),className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Messages",children:[x>0&&r.jsx("span",{className:"absolute -top-1 -right-1 grid h-4 w-4 place-items-center rounded-full bg-brand-500 text-white text-[10px] font-medium",children:x>9?"9+":x}),r.jsx("svg",{className:"text-gray-600 h-5 w-5",viewBox:"0 -960 960 960",fill:"currentColor",children:r.jsx("path",{d:"M80-80v-720q0-33 23.5-56.5T160-880h640q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H240L80-80Z"})})]}),r.jsxs("div",{className:"relative",ref:z,children:[r.jsx("button",{onClick:()=>m(G=>!G),className:"h-9 w-9 lg:h-10 lg:w-10 rounded-full bg-brand-50 grid place-items-center flex-shrink-0 overflow-hidden hover:bg-brand-100 transition-colors relative","aria-label":"Open profile menu",children:s!=null&&s.avatarUrl?r.jsx("img",{src:s.avatarUrl,alt:"avatar",className:"h-full w-full object-cover"}):r.jsx("span",{className:"font-semibold text-brand-600 text-sm",children:ne((s==null?void 0:s.name)||(a==null?void 0:a.name))})}),r.jsx("span",{className:"absolute border bottom-0 right-0 translate-x-0 translate-y-1/4 bg-white rounded-full p-[1px] shadow-sm",children:r.jsx(id,{size:12,className:"text-gray-600"})}),g&&r.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg p-2 z-50",children:[r.jsxs("div",{onClick:()=>{m(!1),t("/profile")},style:(s==null?void 0:s.accountType)=="admin"?{display:"none"}:{},className:"flex cursor-pointer items-center gap-3 p-3 border-b border-gray-100 hover:bg-gray-50 rounded-t-lg transition-colors",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-brand-50 grid place-items-center flex-shrink-0 overflow-hidden",children:s!=null&&s.avatarUrl?r.jsx("img",{src:s==null?void 0:s.avatarUrl,alt:"avatar",className:"h-full w-full object-cover"}):r.jsx("span",{className:"font-semibold text-brand-600 text-sm",children:ne((s==null?void 0:s.name)||(a==null?void 0:a.name))})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("div",{className:"font-medium text-sm truncate",children:(s==null?void 0:s.name)||(a==null?void 0:a.name)||"User"}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:(s==null?void 0:s.email)||(a==null?void 0:a.email)})]})]}),Q.length>1&&r.jsxs("div",{className:"border-t border-gray-100 mt-2 pt-2 max-h-60 overflow-y-auto",children:[r.jsx("div",{className:"px-3 py-1 text-xs font-medium text-gray-400",children:"Switch account"}),Q.map(G=>{var Ne;return r.jsxs("button",{onClick:()=>ge(G),className:`w-full flex items-center gap-3 px-3 py-2 rounded-md text-sm ${le===G.id?"bg-brand-50 text-brand-700 font-semibold":"hover:bg-gray-50 text-gray-700"}`,title:G.type==="company"?"Switch to company":G.type==="representative"?"Switch to representative":"Switch to personal",children:[r.jsx("div",{className:"h-7 w-7 rounded-full flex-shrink-0 overflow-hidden bg-gray-100 flex items-center justify-center",children:G.avatarUrl?r.jsx("img",{src:G.avatarUrl,alt:G.name,className:"h-full w-full object-cover flex-shrink-0"}):r.jsx("span",{className:"text-xs font-bold text-brand-600",children:(Ne=G.name||"A")==null?void 0:Ne.charAt(0)})}),r.jsxs("div",{className:"min-w-0 flex flex-col items-start justify-start",children:[r.jsx("div",{className:"truncate w-full",children:G.name}),r.jsx("div",{className:"text-[10px] text-gray-400 truncate w-full text-left self-start",children:G.type==="company"?"Company":G.type==="representative"?"Representative":"Personal"})]})]},`${G.type}:${G.id}`)})]}),r.jsx("button",{onClick:()=>{m(!1),t("/profile")},style:(s==null?void 0:s.accountType)=="admin"?{display:"none"}:{},className:"w-full text-left px-3 py-2 text-sm flex items-center gap-2 hover:bg-brand-50 hover:text-brand-600 rounded-md transition-colors",children:(s==null?void 0:s.accountType)=="company"?"Company Profile":"My Profile"}),r.jsx("button",{onClick:()=>{m(!1),t("/settings")},style:(s==null?void 0:s.accountType)=="admin"?{display:"none"}:{},className:"w-full text-left px-3 py-2 text-sm flex items-center gap-2 hover:bg-brand-50 hover:text-brand-600 rounded-md transition-colors",children:"Settings & Privacy"}),r.jsx("button",{onClick:()=>{m(!1),O(!0)},className:"w-full text-left px-3 py-2 text-sm flex items-center gap-2 hover:bg-brand-50 hover:text-brand-600 rounded-md transition-colors",children:"Support"}),r.jsx("button",{onClick:()=>{m(!1),i()},className:"w-full text-left px-3 py-2 text-sm flex items-center gap-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",children:"Sign out"}),r.jsxs("div",{className:"border-t border-gray-100 mt-3 pt-2 text-[11px] text-gray-400 text-center space-x-1",children:[r.jsx("button",{onClick:()=>R(!0),className:"hover:underline",children:"Contact us"})," ",r.jsx("a",{href:"/privacy",className:"hover:underline",children:"Privacy"})," ",r.jsx("a",{href:"/terms",className:"hover:underline",children:"Terms"})," ",r.jsx("a",{href:"/landing",className:"hover:underline",children:"About 54links"})]})]})]})]}):r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("button",{onClick:()=>J(!0),className:"border border-brand-600 text-brand-600 px-4 py-1.5 rounded-lg text-sm font-semibold whitespace-nowrap hover:bg-brand-50 transition-colors",children:"Login"}),r.jsx("button",{onClick:()=>F(!0),className:`${HC.primary} px-4 py-2  text-sm font-semibold whitespace-nowrap hover:opacity-90 transition-opacity`,children:"Join Now"})]})})]})}),b&&r.jsxs("div",{className:"fixed inset-0 z-[60] md:hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>y(!1),"aria-hidden":"true"}),r.jsxs("div",{className:"absolute left-0 top-0 h-full w-[86%] max-w-sm bg-white shadow-xl border-r border-gray-200 p-4 flex flex-col",ref:U,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{y(!1),t("/")},children:r.jsx("img",{src:uh,alt:"54Links",className:"h-8 w-auto"})}),r.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100","aria-label":"Close menu",onClick:()=>y(!1),children:r.jsx("svg",{className:"h-6 w-6 text-gray-700",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),s&&r.jsxs("div",{className:"mt-4 flex items-center gap-3 p-3 rounded-xl border border-gray-200",onClick:()=>{y(!1),t("/profile")},children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-brand-50 grid place-items-center overflow-hidden",children:s!=null&&s.avatarUrl?r.jsx("img",{src:s.avatarUrl,alt:"avatar",className:"h-full w-full object-cover"}):r.jsx("span",{className:"font-semibold text-brand-600 text-sm",children:ne((s==null?void 0:s.name)||(a==null?void 0:a.name))})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-medium text-sm truncate",children:(s==null?void 0:s.name)||(a==null?void 0:a.name)||"User"}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:(s==null?void 0:s.email)||(a==null?void 0:a.email)})]})]}),r.jsx("div",{className:"space-y-1 overflow-y-auto flex-1",children:rt.map(G=>{const Ne=V(G);return r.jsxs("button",{onClick:()=>{y(!1),t(G.path)},className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg text-left transition-colors ${Ne?"bg-brand-50 text-brand-700":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx("span",{className:"shrink-0",children:G.icon}),r.jsx("span",{className:"text-sm font-medium",children:(!s||n.includes("/landing"))&&G.name==="feed"?"Home":G.label})]},G.name)})}),r.jsx("div",{className:"mt-auto pt-4 border-t border-gray-200 space-y-3",children:s?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>{y(!1),ae()},className:"relative flex-1 inline-flex items-center justify-center gap-2 rounded-lg border border-gray-200 px-3 py-2.5 text-sm hover:bg-gray-50 transition-colors",children:[r.jsx(Hs.bell,{}),r.jsx("span",{children:"Notifications"}),xe>0&&r.jsx("span",{className:"absolute -top-1 -right-1 grid h-5 w-5 place-items-center rounded-full bg-red-500 text-white text-[11px] font-medium",children:xe>9?"9+":xe})]}),r.jsxs("button",{onClick:()=>{y(!1),t("/messages")},className:"relative flex-1 inline-flex items-center justify-center gap-2 rounded-lg border border-gray-200 px-3 py-2.5 text-sm hover:bg-gray-50 transition-colors",children:[r.jsx(Hs.chat,{}),r.jsx("span",{children:"Messages"}),x>0&&r.jsx("span",{className:"absolute -top-1 -right-1 grid h-5 w-5 place-items-center rounded-full bg-brand-500 text-white text-[11px] font-medium",children:x>9?"9+":x})]})]}),r.jsx("button",{onClick:()=>{y(!1),t("/profile")},className:"w-full rounded-lg px-3 py-2.5 text-sm border border-gray-200 hover:bg-gray-50 transition-colors",children:"Profile"}),r.jsx("button",{onClick:()=>{y(!1),t("/settings")},className:"w-full rounded-lg px-3 py-2.5 text-sm border border-gray-200 hover:bg-gray-50 transition-colors",children:"Settings"}),r.jsx("button",{onClick:()=>{y(!1),O(!0)},className:"w-full rounded-lg px-3 py-2.5 text-sm border border-gray-200 hover:bg-gray-50 transition-colors",children:"Support"}),r.jsx("button",{onClick:()=>{y(!1),i()},className:"w-full rounded-lg px-3 py-2.5 text-sm text-red-600 border border-red-200 hover:bg-red-50 transition-colors",children:"Sign out"}),r.jsxs("div",{className:"border-t border-gray-100 mt-3 pt-2 text-[11px] text-gray-400 text-center space-x-1",children:[r.jsx("button",{onClick:()=>R(!0),className:"hover:underline",children:"Contact us"})," ",r.jsx("a",{href:"/privacy",className:"hover:underline",children:"Privacy"})," ",r.jsx("a",{href:"/terms",className:"hover:underline",children:"Terms"})," ",r.jsx("a",{href:"/landing",className:"hover:underline",children:"About 54links"})]})]}):r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>J(!0),className:"border border-brand-600 text-brand-600 px-4 py-1.5 rounded-lg text-sm font-semibold whitespace-nowrap hover:bg-brand-50 transition-colors",children:"Login"}),r.jsx("button",{onClick:()=>F(!0),className:`${HC.primary} px-4 py-2  text-sm font-semibold whitespace-nowrap hover:opacity-90 transition-opacity`,children:"Join Now"})]})})]})]}),r.jsx(db,{isOpen:X,onClose:()=>J(!1),initialTab:"login"}),r.jsx(db,{isOpen:Z,onClose:()=>F(!1),initialTab:"signup"}),r.jsx(_fe,{isOpen:D,onClose:()=>O(!1)}),r.jsx(DH,{isOpen:T,onClose:()=>R(!1)})]})}function Xa({message:e="Loading",tip:t,notFull:n}){return r.jsxs("div",{className:`${n?"py-2":"min-h-screen"} grid place-items-center bg-gray-50`,children:[r.jsxs("div",{className:"flex flex-col items-center gap-5",children:[r.jsxs("div",{className:"relative h-14 w-14",role:"status","aria-live":"polite","aria-label":e,children:[r.jsx("span",{className:"absolute inset-0 rounded-full border-4 border-gray-200"}),r.jsx("span",{className:"absolute inset-0 rounded-full border-4 border-transparent animate-spin",style:{borderTopColor:"#0a66c2",borderRightColor:"#0a66c2"}})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm font-medium text-gray-800",children:e}),t&&r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:t})]}),r.jsx("div",{className:"mt-1 h-1.5 w-40 overflow-hidden rounded-full bg-gray-200",children:r.jsx("div",{className:"h-full w-1/3 animate-[shimmer_1.2s_infinite]",style:{background:"linear-gradient(90deg, transparent, rgba(10,102,194,0.35), transparent)"}})})]}),r.jsx("style",{children:`
        @keyframes shimmer {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(300%); }
        }
        @media (prefers-reduced-motion: reduce) {
          .animate-spin { animation: none !important; }
          [style*="shimmer_1.2s_infinite"] { display:none; }
        }
      `})]})}function Ofe(){Ht();const e=yr(),[t,n]=d.useState(!1),[s,a]=d.useState("login");return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`fixed inset-0 ${e._openPopUps.login_prompt?"":"opacity-0 pointer-events-none"} transition-all z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm`,children:r.jsxs("div",{className:"bg-white _login_prompt w-full max-w-lg rounded-2xl shadow-xl overflow-hidden animate-fadeIn",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Sign in to continue"}),r.jsx("button",{onClick:()=>{e._closeAllPopUps()},className:"text-gray-400 hover:text-gray-600 transition",children:r.jsx(Sr,{size:20})})]}),r.jsxs("div",{className:"p-6 text-center space-y-4",children:[r.jsx("div",{className:"mx-auto h-14 w-14 rounded-full bg-brand-600/10 flex items-center justify-center",children:r.jsx("svg",{className:"h-7 w-7 text-brand-600",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:`M12 1a5 5 0 0 0-5 5v4H6a2 2 \r
              0 0 0-2 2v9a2 2 0 0 0 2 2h12a2 2 \r
              0 0 0 2-2v-9a2 2 0 0 0-2-2h-1V6a5 \r
              5 0 0 0-5-5Zm-3 9V6a3 3 0 0 1 6 0v4H9Z`})})}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Join 54Links to explore"," ",r.jsx("span",{className:"font-medium text-brand-600",children:"connections"}),","," ",r.jsx("span",{className:"font-medium text-brand-600",children:"opportunities"}),","," ",r.jsx("span",{className:"font-medium text-brand-600",children:"jobs"}),", and"," ",r.jsx("span",{className:"font-medium text-brand-600",children:"events"})," across Africa and beyond."]})]}),r.jsxs("div",{className:"p-6 border-t space-y-3",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsx("button",{onClick:()=>{a("login"),n(!0),e._closeAllPopUps()},className:"flex-1 rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 shadow-sm transition transform hover:scale-[1.02]",children:"Log in"}),r.jsx("button",{onClick:()=>{a("signup"),n(!0),e._closeAllPopUps()},className:"flex-1 rounded-lg px-4 py-2.5 text-sm font-semibold border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition",children:"Join now"})]}),r.jsx("button",{onClick:()=>e._closeAllPopUps(),className:"w-full text-sm text-gray-500 hover:text-gray-700 transition",children:"Continue without login "})]})]})}),r.jsx(db,{isOpen:t,onClose:()=>n(!1),initialTab:s})]})}const $fe=({user:e,makePublic:t=!1})=>{const n=yr();return dr.useEffect(()=>{if(e||t===!0)return;const s=i=>{i.preventDefault()},a={passive:!1};return document.addEventListener("touchmove",s,a),document.addEventListener("wheel",s,a),document.addEventListener("scroll",s,a),()=>{document.removeEventListener("touchmove",s),document.removeEventListener("wheel",s),document.removeEventListener("scroll",s)}},[e,t]),e||t===!0?null:r.jsxs(r.Fragment,{children:[!e&&t!==!0&&r.jsx("style",{children:`
          body, html {
            overflow: hidden !important;
            height: 100%;
            position: fixed;
            width: 100%;
            touch-action: none;
            overscroll-behavior: none;
          }
          
          /* iOS Safari specific fixes */
          @supports (-webkit-touch-callout: none) {
            body, html {
              -webkit-overflow-scrolling: none;
              position: fixed;
              overflow: hidden;
            }
          }
          
          /* Additional iOS 16+ specific fixes */
          @supports (overflow: clip) {
            body, html {
              overflow: clip !important;
            }
          }
        `}),!e&&t!==!0&&r.jsx("div",{className:"fixed inset-0 z-30 bg-transparent",style:{touchAction:"none",overscrollBehavior:"none",WebkitOverflowScrolling:"none"}}),r.jsx("div",{className:"fixed inset-0 z-40 _login_prompt",onClick:()=>{var s;(s=n._showPopUp)==null||s.call(n,"login_prompt")},style:{background:`
            linear-gradient(
              180deg,
              rgba(0, 0, 0, 0.1) 0%,
              rgba(0, 0, 0, 0.05) 30%,
              rgba(0, 0, 0, 0.02) 60%,
              rgba(0, 0, 0, 0.05) 85%,
              rgba(139, 53, 139, 0.15) 100%
            )
          `,backdropFilter:"blur(1px)",touchAction:"none"}}),r.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-300 shadow-lg z-50",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-full bg-brand-600/10 flex items-center justify-center flex-shrink-0",children:r.jsx("svg",{className:"h-4 w-4 text-brand-600",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:`M12 1a5 5 0 0 0-5 5v4H6a2 2\r
                0 0 0-2 2v9a2 2 0 0 0 2 2h12a2 2\r
                0 0 0 2-2v-9a2 2 0 0 0-2-2h-1V6a5\r
                5 0 0 0-5-5Zm-3 9V6a3 3 0 0 1 6 0v4H9Z`})})}),r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-medium text-brand-600",children:"Sign in"})," to explore connections, opportunities, jobs, and events across Africa and beyond."]})]})})})]})};function ei({children:e,makePublic:t=!1}){const{loading:n,user:s}=Xt(),a=yr(),{pathname:i}=bs(),o=Ht();return d.useEffect(()=>{a._scrollToSection("top",!0)},[i]),d.useEffect(()=>{s&&(s==null?void 0:s.accountType)=="admin"&&o("/admin")},[s]),n||(s==null?void 0:s.accountType)=="admin"?r.jsx(Xa,{}):r.jsxs(r.Fragment,{children:[r.jsx(Ofe,{}),r.jsx("div",{id:"top",className:"min-h-screen bg-[#F7F7FB] text-gray-900",children:e}),r.jsx($fe,{user:s,makePublic:t})]})}const eV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJ8AAAAfCAYAAAD5qx84AAAACXBIWXMAAAsSAAALEgHS3X78AAAEyUlEQVR4nO1c0XHbMAxFcv23NjAzgd0JokxQdQI7E8SZoM4EVSaIvYE7QewN5AkqT1B5AvV0Be94LAFComxJid4d73ISKUIkBDyAiG/KsoQRIkQAMMeOGQAU47KF4XbIwl8RKwDIAeAd2x+8NiIAo+XzQwHAb6LXHSplFzItHdcrWTYdyNMIX4YiaIdwbbJGdW/dgWiV8v1wXD8MSflcbrcMbHGAPCkztxKMp8aGyMTNGwU899OjT5wvAYAn4t5zR+4NPJYtvaIcHw628s07esGIcReHjje5Uvqt4/prhx/Eh4DN+bpyIzsAmDiun9Eido0lfgCJIW/WA7kGjT4EHJVbuyfuJT3Kp2WjwrULW/koYv4AAPsLzB8TURugW7vEnH3B3PI0ec/deETQssZ71KXli9B9uXDsWRKXSobe1Oyr0NJXFt1FM07IfS+VvqmevSDuHR3KpeWtjMSUee4JlXDH7On/qJLMRktLN5TVr422J+YqAuajEAfKS6FO3zVzz0ZWluWckScmxu2ZMRvPfJFQF3zIpesqjXbbdgccz1t90CiSohcuzNCCtBEARmiVOIsXW9x6w6S9fBDvndTt2lywCCDfHM/bDilDf2FMMcLmTlh80Io3I/q5FG/JKKoEYspgKx+VzX9nhN/jIkk0nuN5J4PnUeQ2ROmHiAVuZhNP0ETxgOHaZ9xnXdGjsMWGFzvUCkCEfEWCVODnKZ5XWhynCafpO+fTWFucNkHORWHZgPNFnme6OF7IGip8r6TOurYZ7T7hl0AlhVcMz3v+JBbNlbLa4bWciIDrnjopfGZdi+cD1z9vEqGbAUcbR2vfiKOw6tk/iTFdH59dC1vGJRUM162zLwo/4hDFOxPX98YpTyvHsLblO3j6U5bLxJPFATme15fjs2vAl/9qw/JzuTgQWrwdEXBMcG/NKPiIcuscXy1raipfJiw9ilBhUsJNgHEf8IumFmVPEFwq8FEO895FPV0T+DbmGuklSfScMklwGzNsCxyX1tqPABKuMCHswg77LAUEPBRDCTh8MtQJsqi+ErgCGLvNMVncBBvpuobU8+UMh9HJUUkB6IjrIhVwtgz7PALAr5rSLaS5ydBi0vE/uPoLir9PhKcnOghK8Fz6KwB8B4AXDJ5OzFhR5bipfAonlGbUIyZYGEuPusUj7s2RkGJaqwDgHzIcs0YdUUSRLVgeL0JrW2DRRa55vhlwrPGreMO/U5zMRYRjT8ChlS8XRNCU8K4g5TwqthePRtomwfVy7dM97rMrQMiN1Aq33ivBUdzOypJMMe0WmcEDhQJJr24+Ilow2XNpoypAmp5wNEEseG7fAg5X37nn3e1TicS6n+Pp1RLn1W3F6MJGMHehLR8XHk+E+T2N9cgFe4UMreEbIdQGPZm2cHbqa9qgwkVbXo5XTm6xQ0gVg4nt+B9dvcSG4WcTvB9ZRQJNIa5Av0Ur9dCQm5l4CSz/GXFZLJkAZGYEBVwU68OrZTn3zHHd4dboFKMSbpkBNs7Y/25AJw2fGTGztwu8rww9kCiiqQOu0yrXnNVHkHC/1aIw0cjV1V3qH3wUkaD21fOF/DKBDfOXqKjnut6f6uv7Zas6NYwh9Y7U2vrmssdV7y6tr9RpOV34sAMA+AuOFMc7CnzcnAAAAABJRU5ErkJggg==",Pfe="/assets/lg-main-ma_Dj4p7.png";function Ed({onClick:e}){return r.jsx("div",{className:"md:hidden mb-4",children:r.jsxs("button",{onClick:e,className:"inline-flex items-center gap-2 rounded-xl border border-gray-200 bg-white px-4 py-2 text-sm font-medium shadow-sm",children:[r.jsx(Hs.filter,{})," Filters"]})})}function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function Dfe(e,t){if(wp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t||"default");if(wp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rfe(e){var t=Dfe(e,"string");return wp(t)=="symbol"?t:t+""}function Et(e,t,n){return(t=Rfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tV(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var B4,o_;function Ffe(){if(o_)return B4;o_=1;var e=function(n,s,a,i,o,l,c,u){if(!n){var f;if(s===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[a,i,o,l,c,u],g=0;f=new Error(s.replace(/%s/g,function(){return h[g++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};return B4=e,B4}var Bfe=Ffe(),ls=tV(Bfe),vr=d.createContext(null);function zfe(){ls(!!d.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=d.useContext(vr);return ls(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}function Ufe(e,t,n){return Object.keys(e).reduce(function(a,i){return t(a,e[i],i)},n)}function Wfe(e,t){Object.keys(e).forEach(n=>t(e[n],n))}function Hfe(e,t,n,s){var a={},i=(o,l)=>{var c=n[l];c!==t[l]&&(a[l]=c,o(s,c))};return Wfe(e,i),a}function Vfe(e,t,n){var s=Ufe(n,function(i,o,l){return typeof e[l]=="function"&&i.push(google.maps.event.addListener(t,o,e[l])),i},[]);return s}function Gfe(e){google.maps.event.removeListener(e)}function _r(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];e.forEach(Gfe)}function Mr(e){var{updaterMap:t,eventMap:n,prevProps:s,nextProps:a,instance:i}=e,o=Vfe(a,i,n);return Hfe(t,s,a,i),o}function qfe(e){var{children:t,options:n,id:s,mapContainerStyle:a,mapContainerClassName:i,center:o,onClick:l,onDblClick:c,onDrag:u,onDragEnd:f,onDragStart:h,onMouseMove:g,onMouseOut:m,onMouseOver:p,onMouseDown:v,onMouseUp:b,onRightClick:y,onCenterChanged:x,onLoad:w,onUnmount:j}=e,[N,L]=d.useState(null),k=d.useRef(null),[E,S]=d.useState(null),[I,C]=d.useState(null),[M,A]=d.useState(null),[H,W]=d.useState(null),[X,J]=d.useState(null),[Z,F]=d.useState(null),[D,O]=d.useState(null),[T,R]=d.useState(null),[z,_]=d.useState(null),[U,Q]=d.useState(null),[re,le]=d.useState(null),[ue,ge]=d.useState(null);return d.useEffect(()=>{n&&N!==null&&N.setOptions(n)},[N,n]),d.useEffect(()=>{N!==null&&typeof o!="undefined"&&N.setCenter(o)},[N,o]),d.useEffect(()=>{N&&c&&(I!==null&&google.maps.event.removeListener(I),C(google.maps.event.addListener(N,"dblclick",c)))},[c]),d.useEffect(()=>{N&&f&&(M!==null&&google.maps.event.removeListener(M),A(google.maps.event.addListener(N,"dragend",f)))},[f]),d.useEffect(()=>{N&&h&&(H!==null&&google.maps.event.removeListener(H),W(google.maps.event.addListener(N,"dragstart",h)))},[h]),d.useEffect(()=>{N&&v&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(N,"mousedown",v)))},[v]),d.useEffect(()=>{N&&g&&(Z!==null&&google.maps.event.removeListener(Z),F(google.maps.event.addListener(N,"mousemove",g)))},[g]),d.useEffect(()=>{N&&m&&(D!==null&&google.maps.event.removeListener(D),O(google.maps.event.addListener(N,"mouseout",m)))},[m]),d.useEffect(()=>{N&&p&&(T!==null&&google.maps.event.removeListener(T),R(google.maps.event.addListener(N,"mouseover",p)))},[p]),d.useEffect(()=>{N&&b&&(z!==null&&google.maps.event.removeListener(z),_(google.maps.event.addListener(N,"mouseup",b)))},[b]),d.useEffect(()=>{N&&y&&(U!==null&&google.maps.event.removeListener(U),Q(google.maps.event.addListener(N,"rightclick",y)))},[y]),d.useEffect(()=>{N&&l&&(re!==null&&google.maps.event.removeListener(re),le(google.maps.event.addListener(N,"click",l)))},[l]),d.useEffect(()=>{N&&u&&(ue!==null&&google.maps.event.removeListener(ue),ge(google.maps.event.addListener(N,"drag",u)))},[u]),d.useEffect(()=>{N&&x&&(E!==null&&google.maps.event.removeListener(E),S(google.maps.event.addListener(N,"center_changed",x)))},[l]),d.useEffect(()=>{var ke=k.current===null?null:new google.maps.Map(k.current,n);return L(ke),ke!==null&&w&&w(ke),()=>{ke!==null&&j&&j(ke)}},[]),r.jsx("div",{id:s,ref:k,style:a,className:i,children:r.jsx(vr.Provider,{value:N,children:N!==null?t:null})})}d.memo(qfe);function l_(e,t,n,s,a,i,o){try{var l=e[i](o),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(s,a)}function rV(e){return function(){var t=this,n=arguments;return new Promise(function(s,a){var i=e.apply(t,n);function o(c){l_(i,s,a,o,l,"next",c)}function l(c){l_(i,s,a,o,l,"throw",c)}o(void 0)})}}function nV(e){var{googleMapsApiKey:t,googleMapsClientId:n,version:s="weekly",language:a,region:i,libraries:o,channel:l,mapIds:c,authReferrerPolicy:u,apiUrl:f="https://maps.googleapis.com"}=e,h=[];return ls(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?h.push("key=".concat(t)):n&&h.push("client=".concat(n)),s&&h.push("v=".concat(s)),a&&h.push("language=".concat(a)),i&&h.push("region=".concat(i)),o&&o.length&&h.push("libraries=".concat(o.sort().join(","))),l&&h.push("channel=".concat(l)),c&&c.length&&h.push("map_ids=".concat(c.join(","))),u&&h.push("auth_referrer_policy=".concat(u)),h.push("loading=async"),h.push("callback=initMap"),"".concat(f,"/maps/api/js?").concat(h.join("&"))}var Hc=typeof document!="undefined";function sV(e){var{url:t,id:n,nonce:s}=e;return Hc?new Promise(function(i,o){var l=document.getElementById(n),c=window;if(l){var u=l.getAttribute("data-state");if(l.src===t&&u!=="error"){if(u==="ready")return i(n);var f=c.initMap,h=l.onerror;c.initMap=function(){f&&f(),i(n)},l.onerror=function(m){h&&h(m),o(m)};return}else l.remove()}var g=document.createElement("script");g.type="text/javascript",g.src=t,g.id=n,g.async=!0,g.nonce=s||"",g.onerror=function(p){g.setAttribute("data-state","error"),o(p)},c.initMap=function(){g.setAttribute("data-state","ready"),i(n)},document.head.appendChild(g)}).catch(a=>{throw console.error("injectScript error: ",a),a}):Promise.reject(new Error("document is undefined"))}function c_(e){var t=e.href;return t&&(t.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:e.tagName.toLowerCase()==="style"&&e.styleSheet&&e.styleSheet.cssText&&e.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(e.styleSheet.cssText="",!0):e.tagName.toLowerCase()==="style"&&e.innerHTML&&e.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(e.innerHTML="",!0):e.tagName.toLowerCase()==="style"&&!e.styleSheet&&!e.innerHTML}function rL(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(a,i){return c_(a)||Reflect.apply(t,e,[a,i]),a};var n=e.appendChild.bind(e);e.appendChild=function(a){return c_(a)||Reflect.apply(n,e,[a]),a}}}var Ag=!1;function aV(){return r.jsx("div",{children:"Loading..."})}var jp={id:"script-loader",version:"weekly"};class Yfe extends d.PureComponent{constructor(){super(...arguments),Et(this,"check",null),Et(this,"state",{loaded:!1}),Et(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),Et(this,"isCleaningUp",rV(function*(){function t(n){if(!Ag)n();else if(Hc)var s=window.setInterval(function(){Ag||(window.clearInterval(s),n())},1)}return new Promise(t)})),Et(this,"cleanup",()=>{Ag=!0;var t=document.getElementById(this.props.id);t&&t.parentNode&&t.parentNode.removeChild(t),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(s){return typeof s.src=="string"&&s.src.includes("maps.googleapis")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(s){return s.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(s){return s.innerText!==void 0&&s.innerText.length>0&&s.innerText.includes(".gm-")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)})}),Et(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&rL(),ls(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var t={id:this.props.id,nonce:this.props.nonce,url:nV(this.props)};sV(t).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),Et(this,"getRef",t=>{this.check=t})}componentDidMount(){if(Hc){if(window.google&&window.google.maps&&!Ag){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(t){this.props.libraries!==t.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Hc&&t.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Hc){this.cleanup();var t=()=>{this.check||(delete window.google,Ag=!1)};window.setTimeout(t,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return r.jsxs(r.Fragment,{children:[r.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||r.jsx(aV,{})]})}}Et(Yfe,"defaultProps",jp);function Jfe(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;n[s]=e[s]}return n}function nL(e,t){if(e==null)return{};var n,s,a=Jfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var d_;function Zfe(e){var{id:t=jp.id,version:n=jp.version,nonce:s,googleMapsApiKey:a,googleMapsClientId:i,language:o,region:l,libraries:c,preventGoogleFontsLoading:u,channel:f,mapIds:h,authReferrerPolicy:g,apiUrl:m="https://maps.googleapis.com"}=e,p=d.useRef(!1),[v,b]=d.useState(!1),[y,x]=d.useState(void 0);d.useEffect(function(){return p.current=!0,()=>{p.current=!1}},[]),d.useEffect(function(){Hc&&u&&rL()},[u]),d.useEffect(function(){v&&ls(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[v]);var w=nV({version:n,googleMapsApiKey:a,googleMapsClientId:i,language:o,region:l,libraries:c,channel:f,mapIds:h,authReferrerPolicy:g,apiUrl:m});d.useEffect(function(){if(!Hc)return;function L(){p.current&&(b(!0),d_=w)}if(window.google&&window.google.maps&&d_===w){L();return}sV({id:t,url:w,nonce:s}).then(L).catch(function(E){p.current&&x(E),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(a||"-",") or Client ID (").concat(i||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(E)})},[t,w,s]);var j=d.useRef(void 0);return d.useEffect(function(){j.current&&c!==j.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),j.current=c},[c]),{isLoaded:v,loadError:y,url:w}}var Qfe=["loadingElement","onLoad","onError","onUnmount","children"],Kfe=r.jsx(aV,{});function Xfe(e){var{loadingElement:t,onLoad:n,onError:s,onUnmount:a,children:i}=e,o=nL(e,Qfe),{isLoaded:l,loadError:c}=Zfe(o);return d.useEffect(function(){l&&typeof n=="function"&&n()},[l,n]),d.useEffect(function(){c&&typeof s=="function"&&s(c)},[c,s]),d.useEffect(function(){return()=>{a&&a()}},[a]),l?i:t||Kfe}d.memo(Xfe);function e0e(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(f){try{u(s.next(f))}catch(h){o(h)}}function c(f){try{u(s.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((s=s.apply(e,[])).next())})}function t0e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r0e=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var s,a,i;if(Array.isArray(t)){if(s=t.length,s!=n.length)return!1;for(a=s;a--!==0;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),s=i.length,s!==Object.keys(n).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[a]))return!1;for(a=s;a--!==0;){var o=i[a];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n},n0e=t0e(r0e),u_="__googleMapsScriptId",S0;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(S0||(S0={}));class fu{constructor(t){var{apiKey:n,authReferrerPolicy:s,channel:a,client:i,id:o=u_,language:l,libraries:c=[],mapIds:u,nonce:f,region:h,retries:g=3,url:m="https://maps.googleapis.com/maps/api/js",version:p}=t;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=s,this.channel=a,this.client=i,this.id=o||u_,this.language=l,this.libraries=c,this.mapIds=u,this.nonce=f,this.region=h,this.retries=g,this.url=m,this.version=p,fu.instance){if(!n0e(this.options,fu.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(fu.instance.options)));return fu.instance}fu.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?S0.FAILURE:this.done?S0.SUCCESS:this.loading?S0.LOADING:S0.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var t=this.url;return t+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(t+="&key=".concat(this.apiKey)),this.channel&&(t+="&channel=".concat(this.channel)),this.client&&(t+="&client=".concat(this.client)),this.libraries.length>0&&(t+="&libraries=".concat(this.libraries.join(","))),this.language&&(t+="&language=".concat(this.language)),this.region&&(t+="&region=".concat(this.region)),this.version&&(t+="&v=".concat(this.version)),this.mapIds&&(t+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(t+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),t}deleteScript(){var t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,n)=>{this.loadCallback(s=>{s?n(s.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,n;if(document.getElementById(this.id)){this.callback();return}var s={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(s).forEach(i=>!s[i]&&delete s[i]),!((n=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.maps)===null||n===void 0)&&n.importLibrary||(i=>{var o,l,c,u="The Google Maps JavaScript API",f="google",h="importLibrary",g="__ib__",m=document,p=window;p=p[f]||(p[f]={});var v=p.maps||(p.maps={}),b=new Set,y=new URLSearchParams,x=()=>o||(o=new Promise((w,j)=>e0e(this,void 0,void 0,function*(){var N;yield l=m.createElement("script"),l.id=this.id,y.set("libraries",[...b]+"");for(c in i)y.set(c.replace(/[A-Z]/g,L=>"_"+L[0].toLowerCase()),i[c]);y.set("callback",f+".maps."+g),l.src=this.url+"?"+y,v[g]=w,l.onerror=()=>o=j(Error(u+" could not load.")),l.nonce=this.nonce||((N=m.querySelector("script[nonce]"))===null||N===void 0?void 0:N.nonce)||"",m.head.append(l)})));v[h]?console.warn(u+" only loads once. Ignoring:",i):v[h]=function(w){for(var j=arguments.length,N=new Array(j>1?j-1:0),L=1;L<j;L++)N[L-1]=arguments[L];return b.add(w)&&x().then(()=>v[h](w,...N))}})(s);var a=this.libraries.map(i=>this.importLibrary(i));a.length||a.push(this.importLibrary("core")),Promise.all(a).then(()=>this.callback(),i=>{var o=new ErrorEvent("error",{error:i});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var s0e=["maps"];function a0e(e){var{id:t=jp.id,version:n=jp.version,nonce:s,googleMapsApiKey:a,language:i,region:o,libraries:l=s0e,preventGoogleFontsLoading:c,mapIds:u,authReferrerPolicy:f}=e,h=d.useRef(!1),[g,m]=d.useState(!1),[p,v]=d.useState(void 0);d.useEffect(function(){return h.current=!0,()=>{h.current=!1}},[]);var b=d.useMemo(()=>new fu({id:t,apiKey:a,version:n,libraries:l,language:i||"en",region:o||"US",mapIds:u||[],nonce:s||"",authReferrerPolicy:f||"origin"}),[t,a,n,l,i,o,u,s,f]);d.useEffect(function(){g||b.load().then(()=>{h.current&&m(!0)}).catch(w=>{v(w)})},[]),d.useEffect(()=>{Hc&&c&&rL()},[c]);var y=d.useRef();return d.useEffect(()=>{y.current&&l!==y.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),y.current=l},[l]),{isLoaded:g,loadError:p}}function f_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ub(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(n),!0).forEach(function(s){Et(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var h_={},g_={options(e,t){e.setOptions(t)}};function i0e(e){var{options:t,onLoad:n,onUnmount:s}=e,a=d.useContext(vr),[i,o]=d.useState(null);return d.useEffect(()=>{i!==null&&i.setMap(a)},[a]),d.useEffect(()=>{t&&i!==null&&i.setOptions(t)},[i,t]),d.useEffect(()=>{var l=new google.maps.TrafficLayer(ub(ub({},t),{},{map:a}));return o(l),n&&n(l),()=>{i!==null&&(s&&s(i),i.setMap(null))}},[]),null}d.memo(i0e);class o0e extends d.PureComponent{constructor(){super(...arguments),Et(this,"state",{trafficLayer:null}),Et(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),Et(this,"registeredEvents",[])}componentDidMount(){var t=new google.maps.TrafficLayer(ub(ub({},this.props.options),{},{map:this.context}));this.registeredEvents=Mr({updaterMap:g_,eventMap:h_,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{trafficLayer:t}},this.setTrafficLayerCallback)}componentDidUpdate(t){this.state.trafficLayer!==null&&(_r(this.registeredEvents),this.registeredEvents=Mr({updaterMap:g_,eventMap:h_,prevProps:t,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),_r(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}Et(o0e,"contextType",vr);function l0e(e){var{onLoad:t,onUnmount:n}=e,s=d.useContext(vr),[a,i]=d.useState(null);return d.useEffect(()=>{a!==null&&a.setMap(s)},[s]),d.useEffect(()=>{var o=new google.maps.BicyclingLayer;return i(o),o.setMap(s),t&&t(o),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}d.memo(l0e);class c0e extends d.PureComponent{constructor(){super(...arguments),Et(this,"state",{bicyclingLayer:null}),Et(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var t=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:t}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}Et(c0e,"contextType",vr);function d0e(e){var{onLoad:t,onUnmount:n}=e,s=d.useContext(vr),[a,i]=d.useState(null);return d.useEffect(()=>{a!==null&&a.setMap(s)},[s]),d.useEffect(()=>{var o=new google.maps.TransitLayer;return i(o),o.setMap(s),t&&t(o),()=>{a!==null&&(n&&n(a),a.setMap(null))}},[]),null}d.memo(d0e);class u0e extends d.PureComponent{constructor(){super(...arguments),Et(this,"state",{transitLayer:null}),Et(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var t=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:t}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}Et(u0e,"contextType",vr);function m_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function fb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(n),!0).forEach(function(s){Et(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var p_={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},x_={drawingMode(e,t){e.setDrawingMode(t)},options(e,t){e.setOptions(t)}};function f0e(e){var{options:t,drawingMode:n,onCircleComplete:s,onMarkerComplete:a,onOverlayComplete:i,onPolygonComplete:o,onPolylineComplete:l,onRectangleComplete:c,onLoad:u,onUnmount:f}=e,h=d.useContext(vr),[g,m]=d.useState(null),[p,v]=d.useState(null),[b,y]=d.useState(null),[x,w]=d.useState(null),[j,N]=d.useState(null),[L,k]=d.useState(null),[E,S]=d.useState(null);return d.useEffect(()=>{g!==null&&g.setMap(h)},[h]),d.useEffect(()=>{t&&g!==null&&g.setOptions(t)},[g,t]),d.useEffect(()=>{g!==null&&g.setDrawingMode(n!=null?n:null)},[g,n]),d.useEffect(()=>{g&&s&&(p!==null&&google.maps.event.removeListener(p),v(google.maps.event.addListener(g,"circlecomplete",s)))},[g,s]),d.useEffect(()=>{g&&a&&(b!==null&&google.maps.event.removeListener(b),y(google.maps.event.addListener(g,"markercomplete",a)))},[g,a]),d.useEffect(()=>{g&&i&&(x!==null&&google.maps.event.removeListener(x),w(google.maps.event.addListener(g,"overlaycomplete",i)))},[g,i]),d.useEffect(()=>{g&&o&&(j!==null&&google.maps.event.removeListener(j),N(google.maps.event.addListener(g,"polygoncomplete",o)))},[g,o]),d.useEffect(()=>{g&&l&&(L!==null&&google.maps.event.removeListener(L),k(google.maps.event.addListener(g,"polylinecomplete",l)))},[g,l]),d.useEffect(()=>{g&&c&&(E!==null&&google.maps.event.removeListener(E),S(google.maps.event.addListener(g,"rectanglecomplete",c)))},[g,c]),d.useEffect(()=>{ls(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var I=new google.maps.drawing.DrawingManager(fb(fb({},t),{},{map:h}));return n&&I.setDrawingMode(n),s&&v(google.maps.event.addListener(I,"circlecomplete",s)),a&&y(google.maps.event.addListener(I,"markercomplete",a)),i&&w(google.maps.event.addListener(I,"overlaycomplete",i)),o&&N(google.maps.event.addListener(I,"polygoncomplete",o)),l&&k(google.maps.event.addListener(I,"polylinecomplete",l)),c&&S(google.maps.event.addListener(I,"rectanglecomplete",c)),m(I),u&&u(I),()=>{g!==null&&(p&&google.maps.event.removeListener(p),b&&google.maps.event.removeListener(b),x&&google.maps.event.removeListener(x),j&&google.maps.event.removeListener(j),L&&google.maps.event.removeListener(L),E&&google.maps.event.removeListener(E),f&&f(g),g.setMap(null))}},[]),null}d.memo(f0e);class h0e extends d.PureComponent{constructor(t){super(t),Et(this,"registeredEvents",[]),Et(this,"state",{drawingManager:null}),Et(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),ls(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var t=new google.maps.drawing.DrawingManager(fb(fb({},this.props.options),{},{map:this.context}));this.registeredEvents=Mr({updaterMap:x_,eventMap:p_,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{drawingManager:t}},this.setDrawingManagerCallback)}componentDidUpdate(t){this.state.drawingManager!==null&&(_r(this.registeredEvents),this.registeredEvents=Mr({updaterMap:x_,eventMap:p_,prevProps:t,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),_r(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}Et(h0e,"contextType",vr);function v_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function B0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(n),!0).forEach(function(s){Et(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var y_={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},b_={animation(e,t){e.setAnimation(t)},clickable(e,t){e.setClickable(t)},cursor(e,t){e.setCursor(t)},draggable(e,t){e.setDraggable(t)},icon(e,t){e.setIcon(t)},label(e,t){e.setLabel(t)},map(e,t){e.setMap(t)},opacity(e,t){e.setOpacity(t)},options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},shape(e,t){e.setShape(t)},title(e,t){e.setTitle(t)},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},hb={};function g0e(e){var{position:t,options:n,clusterer:s,noClustererRedraw:a,children:i,draggable:o,visible:l,animation:c,clickable:u,cursor:f,icon:h,label:g,opacity:m,shape:p,title:v,zIndex:b,onClick:y,onDblClick:x,onDrag:w,onDragEnd:j,onDragStart:N,onMouseOut:L,onMouseOver:k,onMouseUp:E,onMouseDown:S,onRightClick:I,onClickableChanged:C,onCursorChanged:M,onAnimationChanged:A,onDraggableChanged:H,onFlatChanged:W,onIconChanged:X,onPositionChanged:J,onShapeChanged:Z,onTitleChanged:F,onVisibleChanged:D,onZindexChanged:O,onLoad:T,onUnmount:R}=e,z=d.useContext(vr),[_,U]=d.useState(null),[Q,re]=d.useState(null),[le,ue]=d.useState(null),[ge,ke]=d.useState(null),[tt,He]=d.useState(null),[ze,rt]=d.useState(null),[Xe,V]=d.useState(null),[ne,Ce]=d.useState(null),[fe,xe]=d.useState(null),[se,ae]=d.useState(null),[G,Ne]=d.useState(null),[Be,dt]=d.useState(null),[nt,Te]=d.useState(null),[lt,_e]=d.useState(null),[be,Y]=d.useState(null),[ie,de]=d.useState(null),[$e,it]=d.useState(null),[gt,De]=d.useState(null),[Le,Ae]=d.useState(null),[Pe,Qe]=d.useState(null),[mt,Me]=d.useState(null),[Oe,We]=d.useState(null);d.useEffect(()=>{_!==null&&_.setMap(z)},[z]),d.useEffect(()=>{typeof n!="undefined"&&_!==null&&_.setOptions(n)},[_,n]),d.useEffect(()=>{typeof o!="undefined"&&_!==null&&_.setDraggable(o)},[_,o]),d.useEffect(()=>{t&&_!==null&&_.setPosition(t)},[_,t]),d.useEffect(()=>{typeof l!="undefined"&&_!==null&&_.setVisible(l)},[_,l]),d.useEffect(()=>{_==null||_.setAnimation(c)},[_,c]),d.useEffect(()=>{_&&u!==void 0&&_.setClickable(u)},[_,u]),d.useEffect(()=>{_&&f!==void 0&&_.setCursor(f)},[_,f]),d.useEffect(()=>{_&&h!==void 0&&_.setIcon(h)},[_,h]),d.useEffect(()=>{_&&g!==void 0&&_.setLabel(g)},[_,g]),d.useEffect(()=>{_&&m!==void 0&&_.setOpacity(m)},[_,m]),d.useEffect(()=>{_&&p!==void 0&&_.setShape(p)},[_,p]),d.useEffect(()=>{_&&v!==void 0&&_.setTitle(v)},[_,v]),d.useEffect(()=>{_&&b!==void 0&&_.setZIndex(b)},[_,b]),d.useEffect(()=>{_&&x&&(Q!==null&&google.maps.event.removeListener(Q),re(google.maps.event.addListener(_,"dblclick",x)))},[x]),d.useEffect(()=>{_&&j&&(le!==null&&google.maps.event.removeListener(le),ue(google.maps.event.addListener(_,"dragend",j)))},[j]),d.useEffect(()=>{_&&N&&(ge!==null&&google.maps.event.removeListener(ge),ke(google.maps.event.addListener(_,"dragstart",N)))},[N]),d.useEffect(()=>{_&&S&&(tt!==null&&google.maps.event.removeListener(tt),He(google.maps.event.addListener(_,"mousedown",S)))},[S]),d.useEffect(()=>{_&&L&&(ze!==null&&google.maps.event.removeListener(ze),rt(google.maps.event.addListener(_,"mouseout",L)))},[L]),d.useEffect(()=>{_&&k&&(Xe!==null&&google.maps.event.removeListener(Xe),V(google.maps.event.addListener(_,"mouseover",k)))},[k]),d.useEffect(()=>{_&&E&&(ne!==null&&google.maps.event.removeListener(ne),Ce(google.maps.event.addListener(_,"mouseup",E)))},[E]),d.useEffect(()=>{_&&I&&(fe!==null&&google.maps.event.removeListener(fe),xe(google.maps.event.addListener(_,"rightclick",I)))},[I]),d.useEffect(()=>{_&&y&&(se!==null&&google.maps.event.removeListener(se),ae(google.maps.event.addListener(_,"click",y)))},[y]),d.useEffect(()=>{_&&w&&(G!==null&&google.maps.event.removeListener(G),Ne(google.maps.event.addListener(_,"drag",w)))},[w]),d.useEffect(()=>{_&&C&&(Be!==null&&google.maps.event.removeListener(Be),dt(google.maps.event.addListener(_,"clickable_changed",C)))},[C]),d.useEffect(()=>{_&&M&&(nt!==null&&google.maps.event.removeListener(nt),Te(google.maps.event.addListener(_,"cursor_changed",M)))},[M]),d.useEffect(()=>{_&&A&&(lt!==null&&google.maps.event.removeListener(lt),_e(google.maps.event.addListener(_,"animation_changed",A)))},[A]),d.useEffect(()=>{_&&H&&(be!==null&&google.maps.event.removeListener(be),Y(google.maps.event.addListener(_,"draggable_changed",H)))},[H]),d.useEffect(()=>{_&&W&&(ie!==null&&google.maps.event.removeListener(ie),de(google.maps.event.addListener(_,"flat_changed",W)))},[W]),d.useEffect(()=>{_&&X&&($e!==null&&google.maps.event.removeListener($e),it(google.maps.event.addListener(_,"icon_changed",X)))},[X]),d.useEffect(()=>{_&&J&&(gt!==null&&google.maps.event.removeListener(gt),De(google.maps.event.addListener(_,"position_changed",J)))},[J]),d.useEffect(()=>{_&&Z&&(Le!==null&&google.maps.event.removeListener(Le),Ae(google.maps.event.addListener(_,"shape_changed",Z)))},[Z]),d.useEffect(()=>{_&&F&&(Pe!==null&&google.maps.event.removeListener(Pe),Qe(google.maps.event.addListener(_,"title_changed",F)))},[F]),d.useEffect(()=>{_&&D&&(mt!==null&&google.maps.event.removeListener(mt),Me(google.maps.event.addListener(_,"visible_changed",D)))},[D]),d.useEffect(()=>{_&&O&&(Oe!==null&&google.maps.event.removeListener(Oe),We(google.maps.event.addListener(_,"zindex_changed",O)))},[O]),d.useEffect(()=>{var vt=B0(B0(B0({},n||hb),s?hb:{map:z}),{},{position:t}),Ge=new google.maps.Marker(vt);return s?s.addMarker(Ge,!!a):Ge.setMap(z),t&&Ge.setPosition(t),typeof l!="undefined"&&Ge.setVisible(l),typeof o!="undefined"&&Ge.setDraggable(o),typeof u!="undefined"&&Ge.setClickable(u),typeof f=="string"&&Ge.setCursor(f),h&&Ge.setIcon(h),typeof g!="undefined"&&Ge.setLabel(g),typeof m!="undefined"&&Ge.setOpacity(m),p&&Ge.setShape(p),typeof v=="string"&&Ge.setTitle(v),typeof b=="number"&&Ge.setZIndex(b),x&&re(google.maps.event.addListener(Ge,"dblclick",x)),j&&ue(google.maps.event.addListener(Ge,"dragend",j)),N&&ke(google.maps.event.addListener(Ge,"dragstart",N)),S&&He(google.maps.event.addListener(Ge,"mousedown",S)),L&&rt(google.maps.event.addListener(Ge,"mouseout",L)),k&&V(google.maps.event.addListener(Ge,"mouseover",k)),E&&Ce(google.maps.event.addListener(Ge,"mouseup",E)),I&&xe(google.maps.event.addListener(Ge,"rightclick",I)),y&&ae(google.maps.event.addListener(Ge,"click",y)),w&&Ne(google.maps.event.addListener(Ge,"drag",w)),C&&dt(google.maps.event.addListener(Ge,"clickable_changed",C)),M&&Te(google.maps.event.addListener(Ge,"cursor_changed",M)),A&&_e(google.maps.event.addListener(Ge,"animation_changed",A)),H&&Y(google.maps.event.addListener(Ge,"draggable_changed",H)),W&&de(google.maps.event.addListener(Ge,"flat_changed",W)),X&&it(google.maps.event.addListener(Ge,"icon_changed",X)),J&&De(google.maps.event.addListener(Ge,"position_changed",J)),Z&&Ae(google.maps.event.addListener(Ge,"shape_changed",Z)),F&&Qe(google.maps.event.addListener(Ge,"title_changed",F)),D&&Me(google.maps.event.addListener(Ge,"visible_changed",D)),O&&We(google.maps.event.addListener(Ge,"zindex_changed",O)),U(Ge),T&&T(Ge),()=>{Q!==null&&google.maps.event.removeListener(Q),le!==null&&google.maps.event.removeListener(le),ge!==null&&google.maps.event.removeListener(ge),tt!==null&&google.maps.event.removeListener(tt),ze!==null&&google.maps.event.removeListener(ze),Xe!==null&&google.maps.event.removeListener(Xe),ne!==null&&google.maps.event.removeListener(ne),fe!==null&&google.maps.event.removeListener(fe),se!==null&&google.maps.event.removeListener(se),Be!==null&&google.maps.event.removeListener(Be),nt!==null&&google.maps.event.removeListener(nt),lt!==null&&google.maps.event.removeListener(lt),be!==null&&google.maps.event.removeListener(be),ie!==null&&google.maps.event.removeListener(ie),$e!==null&&google.maps.event.removeListener($e),gt!==null&&google.maps.event.removeListener(gt),Pe!==null&&google.maps.event.removeListener(Pe),mt!==null&&google.maps.event.removeListener(mt),Oe!==null&&google.maps.event.removeListener(Oe),R&&R(Ge),s?s.removeMarker(Ge,!!a):Ge&&Ge.setMap(null)}},[]);var qe=d.useMemo(()=>i?d.Children.map(i,vt=>{if(!d.isValidElement(vt))return vt;var Ge=vt;return d.cloneElement(Ge,{anchor:_})}):null,[i,_]);return r.jsx(r.Fragment,{children:qe})||null}d.memo(g0e);class m0e extends d.PureComponent{constructor(){super(...arguments),Et(this,"registeredEvents",[])}componentDidMount(){var t=this;return rV(function*(){var n=B0(B0(B0({},t.props.options||hb),t.props.clusterer?hb:{map:t.context}),{},{position:t.props.position});t.marker=new google.maps.Marker(n),t.props.clusterer?t.props.clusterer.addMarker(t.marker,!!t.props.noClustererRedraw):t.marker.setMap(t.context),t.registeredEvents=Mr({updaterMap:b_,eventMap:y_,prevProps:{},nextProps:t.props,instance:t.marker}),t.props.onLoad&&t.props.onLoad(t.marker)})()}componentDidUpdate(t){this.marker&&(_r(this.registeredEvents),this.registeredEvents=Mr({updaterMap:b_,eventMap:y_,prevProps:t,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),_r(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var t=this.props.children?d.Children.map(this.props.children,n=>{if(!d.isValidElement(n))return n;var s=n;return d.cloneElement(s,{anchor:this.marker})}):null;return t||null}}Et(m0e,"contextType",vr);var p0e=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(t){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var s=n.getMaxZoom(),a=this.cluster.getBounds(),i=n.getMap();i!==null&&"fitBounds"in i&&i.fitBounds(a),this.timeOut=window.setTimeout(function(){var o=n.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(a);var l=o.getZoom()||0;s!==null&&l>s&&o.setZoom(s+1)}},100)}t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var t;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(t=this.getPanes())===null||t===void 0||t.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var t=this.getPosFromLatLng(this.center);this.div.style.top=t!==null?"".concat(t.y,"px"):"0",this.div.style.left=t!==null?"".concat(t.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var t,n,s,a,i,o;if(this.div&&this.center){var l=this.sums===null||typeof this.sums.title=="undefined"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,c=this.backgroundPosition.split(" "),u=parseInt(((t=c[0])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),f=parseInt(((n=c[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),h=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(h!==null?"".concat(h.y,"px"):"0","; left: ").concat(h!==null?"".concat(h.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var g=document.createElement("img");g.alt=l,g.src=this.url,g.width=this.width,g.height=this.height,g.setAttribute("style","position: absolute; top: ".concat(f,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(g.style.clip="rect(-".concat(f,"px, -").concat(u+this.width,"px, -").concat(f+this.height,", -").concat(u,")"));var m=document.createElement("div");m.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((s=this.sums)===null||s===void 0)&&s.text&&(m.innerText="".concat((a=this.sums)===null||a===void 0?void 0:a.text)),!((i=this.sums)===null||i===void 0)&&i.html&&(m.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(g),this.div.appendChild(m),this.div.title=l,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(t){this.sums=t;var n=this.cluster.getClusterer().getStyles(),s=n[Math.min(n.length-1,Math.max(0,t.index-1))];s&&(this.url=s.url,this.height=s.height,this.width=s.width,s.className&&(this.className="".concat(this.clusterClassName," ").concat(s.className)),this.anchorText=s.anchorText||[0,0],this.anchorIcon=s.anchorIcon||[this.height/2,this.width/2],this.textColor=s.textColor||"black",this.textSize=s.textSize||11,this.textDecoration=s.textDecoration||"none",this.fontWeight=s.fontWeight||"bold",this.fontStyle=s.fontStyle||"normal",this.fontFamily=s.fontFamily||"Arial,sans-serif",this.backgroundPosition=s.backgroundPosition||"0 0")},e.prototype.setCenter=function(t){this.center=t},e.prototype.getPosFromLatLng=function(t){var n=this.getProjection().fromLatLngToDivPixel(t);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},e}(),x0e=function(){function e(t){this.markerClusterer=t,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new p0e(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var t=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),s=0,a=n;s<a.length;s++){var i=a[s],o=i.getPosition();o&&t.extend(o)}return t},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(t){var n;if(this.isMarkerAlreadyAdded(t))return!1;if(this.center){if(this.averageCenter){var s=t.getPosition();if(s){var a=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(a-1)+s.lat())/a,(this.center.lng()*(a-1)+s.lng())/a),this.calculateBounds()}}}else{var s=t.getPosition();s&&(this.center=s,this.calculateBounds())}t.isAdded=!0,this.markers.push(t);var i=this.markers.length,o=this.markerClusterer.getMaxZoom(),l=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(o!==null&&typeof l!="undefined"&&l>o)t.getMap()!==this.map&&t.setMap(this.map);else if(i<this.minClusterSize)t.getMap()!==this.map&&t.setMap(this.map);else if(i===this.minClusterSize)for(var c=0,u=this.markers;c<u.length;c++){var f=u[c];f.setMap(null)}else t.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(t){if(this.bounds!==null){var n=t.getPosition();if(n)return this.bounds.contains(n)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var t,n=this.markers.length,s=this.markerClusterer.getMaxZoom(),a=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(s!==null&&typeof a!="undefined"&&a>s){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},e.prototype.isMarkerAlreadyAdded=function(t){if(this.markers.includes)return this.markers.includes(t);for(var n=0;n<this.markers.length;n++)if(t===this.markers[n])return!0;return!1},e}();function v0e(e,t){var n=e.length,s=n.toString().length,a=Math.min(s,t);return{text:n.toString(),index:a,title:""}}var y0e=2e3,b0e=500,w0e="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",j0e="png",N0e=[53,56,66,78,90],S0e="cluster",iV=function(){function e(t,n,s){n===void 0&&(n=[]),s===void 0&&(s={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=s.gridSize||60,this.minClusterSize=s.minimumClusterSize||2,this.maxZoom=s.maxZoom||null,this.styles=s.styles||[],this.title=s.title||"",this.zoomOnClick=!0,s.zoomOnClick!==void 0&&(this.zoomOnClick=s.zoomOnClick),this.averageCenter=!1,s.averageCenter!==void 0&&(this.averageCenter=s.averageCenter),this.ignoreHidden=!1,s.ignoreHidden!==void 0&&(this.ignoreHidden=s.ignoreHidden),this.enableRetinaIcons=!1,s.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=s.enableRetinaIcons),this.imagePath=s.imagePath||w0e,this.imageExtension=s.imageExtension||j0e,this.imageSizes=s.imageSizes||N0e,this.calculator=s.calculator||v0e,this.batchSize=s.batchSize||y0e,this.batchSizeIE=s.batchSizeIE||b0e,this.clusterClass=s.clusterClass||S0e,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var t,n;this.resetViewport(!1),(((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var t=this.getMap();this.activeMap=t,this.ready=!0,this.repaint(),t!==null&&(this.listeners=[google.maps.event.addListener(t,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(t,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var t=0,n=this.markers;t<n.length;t++){var s=n[t];s.getMap()!==this.activeMap&&s.setMap(this.activeMap)}for(var a=0,i=this.clusters;a<i.length;a++){var o=i[a];o.remove()}this.clusters=[];for(var l=0,c=this.listeners;l<c.length;l++){var u=c[l];google.maps.event.removeListener(u)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var t=0;t<this.imageSizes.length;t++)this.styles.push({url:"".concat(this.imagePath+(t+1),".").concat(this.imageExtension),height:this.imageSizes[t]||0,width:this.imageSizes[t]||0})},e.prototype.fitMapToMarkers=function(){for(var t=this.getMarkers(),n=new google.maps.LatLngBounds,s=0,a=t;s<a.length;s++){var i=a[s],o=i.getPosition();o&&n.extend(o)}var l=this.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(n)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(t){this.gridSize=t},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(t){this.minClusterSize=t},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(t){this.maxZoom=t},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(t){this.styles=t},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(t){this.title=t},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(t){this.zoomOnClick=t},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(t){this.averageCenter=t},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(t){this.ignoreHidden=t},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons=t},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(t){this.imageExtension=t},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(t){this.imagePath=t},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(t){this.imageSizes=t},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(t){this.calculator=t},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(t){this.batchSizeIE=t},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(t){this.clusterClass=t},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(t,n){this.pushMarkerTo(t),n||this.redraw()},e.prototype.addMarkers=function(t,n){for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var a=t[s];a&&this.pushMarkerTo(a)}n||this.redraw()},e.prototype.pushMarkerTo=function(t){var n=this;t.getDraggable()&&google.maps.event.addListener(t,"dragend",function(){n.ready&&(t.isAdded=!1,n.repaint())}),t.isAdded=!1,this.markers.push(t)},e.prototype.removeMarker_=function(t){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(t);else for(var s=0;s<this.markers.length;s++)if(t===this.markers[s]){n=s;break}return n===-1?!1:(t.setMap(null),this.markers.splice(n,1),!0)},e.prototype.removeMarker=function(t,n){var s=this.removeMarker_(t);return!n&&s&&this.repaint(),s},e.prototype.removeMarkers=function(t,n){for(var s=!1,a=0,i=t;a<i.length;a++){var o=i[a];s=s||this.removeMarker_(o)}return!n&&s&&this.repaint(),s},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var t=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var s=0,a=t;s<a.length;s++){var i=a[s];i.remove()}},0)},e.prototype.getExtendedBounds=function(t){var n=this.getProjection(),s=n.fromLatLngToDivPixel(new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()));s!==null&&(s.x+=this.gridSize,s.y-=this.gridSize);var a=n.fromLatLngToDivPixel(new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()));if(a!==null&&(a.x-=this.gridSize,a.y+=this.gridSize),s!==null){var i=n.fromDivPixelToLatLng(s);i!==null&&t.extend(i)}if(a!==null){var o=n.fromDivPixelToLatLng(a);o!==null&&t.extend(o)}return t},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(t){for(var n=0,s=this.clusters;n<s.length;n++){var a=s[n];a.remove()}this.clusters=[];for(var i=0,o=this.markers;i<o.length;i++){var l=o[i];l.isAdded=!1,t&&l.setMap(null)}},e.prototype.distanceBetweenPoints=function(t,n){var s=6371,a=(n.lat()-t.lat())*Math.PI/180,i=(n.lng()-t.lng())*Math.PI/180,o=Math.sin(a/2)*Math.sin(a/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return s*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},e.prototype.isMarkerInBounds=function(t,n){var s=t.getPosition();return s?n.contains(s):!1},e.prototype.addToClosestCluster=function(t){for(var n,s=4e4,a=null,i=0,o=this.clusters;i<o.length;i++){var l=o[i];n=l;var c=n.getCenter(),u=t.getPosition();if(c&&u){var f=this.distanceBetweenPoints(c,u);f<s&&(s=f,a=n)}}a&&a.isMarkerInClusterBounds(t)?a.addMarker(t):(n=new x0e(this),n.addMarker(t),this.clusters.push(n))},e.prototype.createClusters=function(t){var n=this;if(this.ready){t===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var s=this.getMap(),a=s!==null&&("getBounds"in s)?s.getBounds():null,i=(s==null?void 0:s.getZoom())||0,o=i>3?new google.maps.LatLngBounds(a==null?void 0:a.getSouthWest(),a==null?void 0:a.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),l=this.getExtendedBounds(o),c=Math.min(t+this.batchSize,this.markers.length),u=t;u<c;u++){var f=this.markers[u];f&&!f.isAdded&&this.isMarkerInBounds(f,l)&&(!this.ignoreHidden||this.ignoreHidden&&f.getVisible())&&this.addToClosestCluster(f)}if(c<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(c)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var h=0,g=this.clusters;h<g.length;h++){var m=g[h];m.updateIcon()}}}},e.prototype.extend=function(t,n){return function(a){for(var i in a.prototype){var o=i;this.prototype[o]=a.prototype[o]}return this}.apply(t,[n])},e}();function w_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function C0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(n),!0).forEach(function(s){Et(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var zi={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},zr={averageCenter(e,t){e.setAverageCenter(t)},batchSizeIE(e,t){e.setBatchSizeIE(t)},calculator(e,t){e.setCalculator(t)},clusterClass(e,t){e.setClusterClass(t)},enableRetinaIcons(e,t){e.setEnableRetinaIcons(t)},gridSize(e,t){e.setGridSize(t)},ignoreHidden(e,t){e.setIgnoreHidden(t)},imageExtension(e,t){e.setImageExtension(t)},imagePath(e,t){e.setImagePath(t)},imageSizes(e,t){e.setImageSizes(t)},maxZoom(e,t){e.setMaxZoom(t)},minimumClusterSize(e,t){e.setMinimumClusterSize(t)},styles(e,t){e.setStyles(t)},title(e,t){e.setTitle(t)},zoomOnClick(e,t){e.setZoomOnClick(t)}},k0e={};function E0e(e){var{children:t,options:n,averageCenter:s,batchSizeIE:a,calculator:i,clusterClass:o,enableRetinaIcons:l,gridSize:c,ignoreHidden:u,imageExtension:f,imagePath:h,imageSizes:g,maxZoom:m,minimumClusterSize:p,styles:v,title:b,zoomOnClick:y,onClick:x,onClusteringBegin:w,onClusteringEnd:j,onMouseOver:N,onMouseOut:L,onLoad:k,onUnmount:E}=e,[S,I]=d.useState(null),C=d.useContext(vr),[M,A]=d.useState(null),[H,W]=d.useState(null),[X,J]=d.useState(null),[Z,F]=d.useState(null),[D,O]=d.useState(null);return d.useEffect(()=>{S&&L&&(Z!==null&&google.maps.event.removeListener(Z),F(google.maps.event.addListener(S,zi.onMouseOut,L)))},[L]),d.useEffect(()=>{S&&N&&(D!==null&&google.maps.event.removeListener(D),O(google.maps.event.addListener(S,zi.onMouseOver,N)))},[N]),d.useEffect(()=>{S&&x&&(M!==null&&google.maps.event.removeListener(M),A(google.maps.event.addListener(S,zi.onClick,x)))},[x]),d.useEffect(()=>{S&&w&&(H!==null&&google.maps.event.removeListener(H),W(google.maps.event.addListener(S,zi.onClusteringBegin,w)))},[w]),d.useEffect(()=>{S&&j&&(X!==null&&google.maps.event.removeListener(X),W(google.maps.event.addListener(S,zi.onClusteringEnd,j)))},[j]),d.useEffect(()=>{typeof s!="undefined"&&S!==null&&zr.averageCenter(S,s)},[S,s]),d.useEffect(()=>{typeof a!="undefined"&&S!==null&&zr.batchSizeIE(S,a)},[S,a]),d.useEffect(()=>{typeof i!="undefined"&&S!==null&&zr.calculator(S,i)},[S,i]),d.useEffect(()=>{typeof o!="undefined"&&S!==null&&zr.clusterClass(S,o)},[S,o]),d.useEffect(()=>{typeof l!="undefined"&&S!==null&&zr.enableRetinaIcons(S,l)},[S,l]),d.useEffect(()=>{typeof c!="undefined"&&S!==null&&zr.gridSize(S,c)},[S,c]),d.useEffect(()=>{typeof u!="undefined"&&S!==null&&zr.ignoreHidden(S,u)},[S,u]),d.useEffect(()=>{typeof f!="undefined"&&S!==null&&zr.imageExtension(S,f)},[S,f]),d.useEffect(()=>{typeof h!="undefined"&&S!==null&&zr.imagePath(S,h)},[S,h]),d.useEffect(()=>{typeof g!="undefined"&&S!==null&&zr.imageSizes(S,g)},[S,g]),d.useEffect(()=>{typeof m!="undefined"&&S!==null&&zr.maxZoom(S,m)},[S,m]),d.useEffect(()=>{typeof p!="undefined"&&S!==null&&zr.minimumClusterSize(S,p)},[S,p]),d.useEffect(()=>{typeof v!="undefined"&&S!==null&&zr.styles(S,v)},[S,v]),d.useEffect(()=>{typeof b!="undefined"&&S!==null&&zr.title(S,b)},[S,b]),d.useEffect(()=>{typeof y!="undefined"&&S!==null&&zr.zoomOnClick(S,y)},[S,y]),d.useEffect(()=>{if(C){var T=C0e({},n||k0e),R=new iV(C,[],T);return s&&zr.averageCenter(R,s),a&&zr.batchSizeIE(R,a),i&&zr.calculator(R,i),o&&zr.clusterClass(R,o),l&&zr.enableRetinaIcons(R,l),c&&zr.gridSize(R,c),u&&zr.ignoreHidden(R,u),f&&zr.imageExtension(R,f),h&&zr.imagePath(R,h),g&&zr.imageSizes(R,g),m&&zr.maxZoom(R,m),p&&zr.minimumClusterSize(R,p),v&&zr.styles(R,v),b&&zr.title(R,b),y&&zr.zoomOnClick(R,y),L&&F(google.maps.event.addListener(R,zi.onMouseOut,L)),N&&O(google.maps.event.addListener(R,zi.onMouseOver,N)),x&&A(google.maps.event.addListener(R,zi.onClick,x)),w&&W(google.maps.event.addListener(R,zi.onClusteringBegin,w)),j&&J(google.maps.event.addListener(R,zi.onClusteringEnd,j)),I(R),k&&k(R),()=>{Z!==null&&google.maps.event.removeListener(Z),D!==null&&google.maps.event.removeListener(D),M!==null&&google.maps.event.removeListener(M),H!==null&&google.maps.event.removeListener(H),X!==null&&google.maps.event.removeListener(X),E&&E(R)}}},[]),S!==null&&t(S)||null}d.memo(E0e);class L0e extends d.PureComponent{constructor(){super(...arguments),Et(this,"registeredEvents",[]),Et(this,"state",{markerClusterer:null}),Et(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var t=new iV(this.context,[],this.props.options);this.registeredEvents=Mr({updaterMap:zr,eventMap:zi,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({markerClusterer:t}),this.setClustererCallback)}}componentDidUpdate(t){this.state.markerClusterer&&(_r(this.registeredEvents),this.registeredEvents=Mr({updaterMap:zr,eventMap:zi,prevProps:t,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),_r(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}Et(L0e,"contextType",vr);function j_(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}var oV=function(){function e(t){t===void 0&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",t.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),typeof t.visible=="undefined"&&(typeof t.isHidden=="undefined"?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var t=this,n=function(f){f.returnValue=!1,f.preventDefault&&f.preventDefault(),t.enableEventPropagation||j_(f)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var s=this.getPanes();if(s!==null&&s[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var a=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-a.left-a.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,l=i;o<l.length;o++){var c=l[o];this.eventListeners.push(google.maps.event.addListener(this.div,c,j_))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){t.div&&(t.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var t="";return this.closeBoxURL!==""&&(t='<img alt=""',t+=' aria-hidden="true"',t+=" src='"+this.closeBoxURL+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin+";",t+="'>"),t},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(t){if(this.div&&!t){var n=this.getMap();if(n instanceof google.maps.Map){var s=0,a=0,i=n.getBounds();i&&!i.contains(this.position)&&n.setCenter(this.position);var o=n.getDiv(),l=o.offsetWidth,c=o.offsetHeight,u=this.pixelOffset.width,f=this.pixelOffset.height,h=this.div.offsetWidth,g=this.div.offsetHeight,m=this.infoBoxClearance.width,p=this.infoBoxClearance.height,v=this.getProjection(),b=v.fromLatLngToContainerPixel(this.position);b!==null&&(b.x<-u+m?s=b.x+u-m:b.x+h+u+m>l&&(s=b.x+h+u+m-l),this.alignBottom?b.y<-f+p+g?a=b.y+f-p-g:b.y+f+p>c&&(a=b.y+f+p-c):b.y<-f+p?a=b.y+f-p:b.y+g+f+p>c&&(a=b.y+g+f+p-c)),s===0&&a===0||n.panBy(s,a)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var t=this.boxStyle;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this.div.style[n]=t[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity!="undefined"&&this.div.style.opacity!==""){var s=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+s*100+')"',this.div.style.filter="alpha(opacity="+s*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var t={top:0,bottom:0,left:0,right:0};if(!this.div)return t;if(document.defaultView){var n=this.div.ownerDocument,s=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;s&&(t.top=parseInt(s.borderTopWidth||"",10)||0,t.bottom=parseInt(s.borderBottomWidth||"",10)||0,t.left=parseInt(s.borderLeftWidth||"",10)||0,t.right=parseInt(s.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var a=this.div.currentStyle;a&&(t.top=parseInt(a.borderTopWidth||"",10)||0,t.bottom=parseInt(a.borderBottomWidth||"",10)||0,t.left=parseInt(a.borderLeftWidth||"",10)||0,t.right=parseInt(a.borderRightWidth||"",10)||0)}return t},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var t=this.getProjection(),n=t.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(t){t===void 0&&(t={}),typeof t.boxClass!="undefined"&&(this.boxClass=t.boxClass,this.setBoxStyle()),typeof t.boxStyle!="undefined"&&(this.boxStyle=t.boxStyle,this.setBoxStyle()),typeof t.content!="undefined"&&this.setContent(t.content),typeof t.disableAutoPan!="undefined"&&(this.disableAutoPan=t.disableAutoPan),typeof t.maxWidth!="undefined"&&(this.maxWidth=t.maxWidth),typeof t.pixelOffset!="undefined"&&(this.pixelOffset=t.pixelOffset),typeof t.alignBottom!="undefined"&&(this.alignBottom=t.alignBottom),typeof t.position!="undefined"&&this.setPosition(t.position),typeof t.zIndex!="undefined"&&this.setZIndex(t.zIndex),typeof t.closeBoxMargin!="undefined"&&(this.closeBoxMargin=t.closeBoxMargin),typeof t.closeBoxURL!="undefined"&&(this.closeBoxURL=t.closeBoxURL),typeof t.infoBoxClearance!="undefined"&&(this.infoBoxClearance=t.infoBoxClearance),typeof t.isHidden!="undefined"&&(this.isHidden=t.isHidden),typeof t.visible!="undefined"&&(this.isHidden=!t.visible),typeof t.enableEventPropagation!="undefined"&&(this.enableEventPropagation=t.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(t){this.content=t,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(t){this.position=t,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(t){this.isHidden=!t,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(t){this.zIndex=t,this.div&&(this.div.style.zIndex=t+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var t=this.getMap();return typeof t=="undefined"||t===null?!1:!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(t,n){var s=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var a=n.getPosition();s.setPosition(a)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){s.setMap(n.map)})),this.setMap(t),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var t=0,n=this.eventListeners;t<n.length;t++){var s=n[t];google.maps.event.removeListener(s)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(t,n){return function(a){for(var i in a.prototype)Object.prototype.hasOwnProperty.call(this,i)||(this.prototype[i]=a.prototype[i]);return this}.apply(t,[n])},e}(),M0e=["position"],I0e=["position"];function N_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function gb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(n),!0).forEach(function(s){Et(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var S_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},C_={options(e,t){e.setOptions(t)},position(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},T0e={};function A0e(e){var{children:t,anchor:n,options:s,position:a,zIndex:i,onCloseClick:o,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:f,onLoad:h,onUnmount:g}=e,m=d.useContext(vr),[p,v]=d.useState(null),[b,y]=d.useState(null),[x,w]=d.useState(null),[j,N]=d.useState(null),[L,k]=d.useState(null),[E,S]=d.useState(null),I=d.useRef(null);return d.useEffect(()=>{m&&p!==null&&(p.close(),n?p.open(m,n):p.getPosition()&&p.open(m))},[m,p,n]),d.useEffect(()=>{s&&p!==null&&p.setOptions(s)},[p,s]),d.useEffect(()=>{if(a&&p!==null){var C=a instanceof google.maps.LatLng?a:new google.maps.LatLng(a.lat,a.lng);p.setPosition(C)}},[a]),d.useEffect(()=>{typeof i=="number"&&p!==null&&p.setZIndex(i)},[i]),d.useEffect(()=>{p&&o&&(b!==null&&google.maps.event.removeListener(b),y(google.maps.event.addListener(p,"closeclick",o)))},[o]),d.useEffect(()=>{p&&l&&(x!==null&&google.maps.event.removeListener(x),w(google.maps.event.addListener(p,"domready",l)))},[l]),d.useEffect(()=>{p&&c&&(j!==null&&google.maps.event.removeListener(j),N(google.maps.event.addListener(p,"content_changed",c)))},[c]),d.useEffect(()=>{p&&u&&(L!==null&&google.maps.event.removeListener(L),k(google.maps.event.addListener(p,"position_changed",u)))},[u]),d.useEffect(()=>{p&&f&&(E!==null&&google.maps.event.removeListener(E),S(google.maps.event.addListener(p,"zindex_changed",f)))},[f]),d.useEffect(()=>{if(m){var C=s||T0e,{position:M}=C,A=nL(C,M0e),H;M&&!(M instanceof google.maps.LatLng)&&(H=new google.maps.LatLng(M.lat,M.lng));var W=new oV(gb(gb({},A),H?{position:H}:{}));I.current=document.createElement("div"),v(W),o&&y(google.maps.event.addListener(W,"closeclick",o)),l&&w(google.maps.event.addListener(W,"domready",l)),c&&N(google.maps.event.addListener(W,"content_changed",c)),u&&k(google.maps.event.addListener(W,"position_changed",u)),f&&S(google.maps.event.addListener(W,"zindex_changed",f)),W.setContent(I.current),n?W.open(m,n):W.getPosition()?W.open(m):ls(!1,"You must provide either an anchor or a position prop for <InfoBox>."),h&&h(W)}return()=>{p!==null&&(b&&google.maps.event.removeListener(b),j&&google.maps.event.removeListener(j),x&&google.maps.event.removeListener(x),L&&google.maps.event.removeListener(L),E&&google.maps.event.removeListener(E),g&&g(p),p.close())}},[]),I.current?Nd.createPortal(d.Children.only(t),I.current):null}d.memo(A0e);class _0e extends d.PureComponent{constructor(){super(...arguments),Et(this,"registeredEvents",[]),Et(this,"containerElement",null),Et(this,"state",{infoBox:null}),Et(this,"open",(t,n)=>{n?this.context!==null&&t.open(this.context,n):t.getPosition()?this.context!==null&&t.open(this.context):ls(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),Et(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var t=this.props.options||{},{position:n}=t,s=nL(t,I0e),a;n&&!(n instanceof google.maps.LatLng)&&(a=new google.maps.LatLng(n.lat,n.lng));var i=new oV(gb(gb({},s),a?{position:a}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Mr({updaterMap:C_,eventMap:S_,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)}componentDidUpdate(t){var{infoBox:n}=this.state;n!==null&&(_r(this.registeredEvents),this.registeredEvents=Mr({updaterMap:C_,eventMap:S_,prevProps:t,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:t}=this.props,{infoBox:n}=this.state;n!==null&&(t&&t(n),_r(this.registeredEvents),n.close())}render(){return this.containerElement?Nd.createPortal(d.Children.only(this.props.children),this.containerElement):null}}Et(_0e,"contextType",vr);var z4,k_;function O0e(){return k_||(k_=1,z4=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var s,a,i;if(Array.isArray(t)){if(s=t.length,s!=n.length)return!1;for(a=s;a--!==0;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),s=i.length,s!==Object.keys(n).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[a]))return!1;for(a=s;a--!==0;){var o=i[a];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),z4}var $0e=O0e(),E_=tV($0e),L_=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],U4=1,_g=8;class sL{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,s]=new Uint8Array(t,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var a=s>>4;if(a!==U4)throw new Error("Got v".concat(a," data when expected v").concat(U4,"."));var i=L_[s&15];if(!i)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(t,2,1),[l]=new Uint32Array(t,4,1);return new sL(l,o,i,t)}constructor(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,a=arguments.length>3?arguments[3]:void 0;if(isNaN(t)||t<0)throw new Error("Unpexpected numItems value: ".concat(t,"."));this.numItems=+t,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=s,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;var i=L_.indexOf(this.ArrayType),o=t*2*this.ArrayType.BYTES_PER_ELEMENT,l=t*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-l%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(s,"."));a&&a instanceof ArrayBuffer?(this.data=a,this.ids=new this.IndexArrayType(this.data,_g,t),this.coords=new this.ArrayType(this.data,_g+l+c,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(_g+o+l+c),this.ids=new this.IndexArrayType(this.data,_g,t),this.coords=new this.ArrayType(this.data,_g+l+c,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(U4<<4)+i]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=t)}add(t,n){var s=this._pos>>1;return this.ids[s]=s,this.coords[this._pos++]=t,this.coords[this._pos++]=n,s}finish(){var t=this._pos>>1;if(t!==this.numItems)throw new Error("Added ".concat(t," items when expected ").concat(this.numItems,"."));return QC(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,n,s,a){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:o,nodeSize:l}=this,c=[0,i.length-1,0],u=[];c.length;){var f=c.pop()||0,h=c.pop()||0,g=c.pop()||0;if(h-g<=l){for(var m=g;m<=h;m++){var p=o[2*m],v=o[2*m+1];p>=t&&p<=s&&v>=n&&v<=a&&u.push(i[m])}continue}var b=g+h>>1,y=o[2*b],x=o[2*b+1];y>=t&&y<=s&&x>=n&&x<=a&&u.push(i[b]),(f===0?t<=y:n<=x)&&(c.push(g),c.push(b-1),c.push(1-f)),(f===0?s>=y:a>=x)&&(c.push(b+1),c.push(h),c.push(1-f))}return u}within(t,n,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:i,nodeSize:o}=this,l=[0,a.length-1,0],c=[],u=s*s;l.length;){var f=l.pop()||0,h=l.pop()||0,g=l.pop()||0;if(h-g<=o){for(var m=g;m<=h;m++)M_(i[2*m],i[2*m+1],t,n)<=u&&c.push(a[m]);continue}var p=g+h>>1,v=i[2*p],b=i[2*p+1];M_(v,b,t,n)<=u&&c.push(a[p]),(f===0?t-s<=v:n-s<=b)&&(l.push(g),l.push(p-1),l.push(1-f)),(f===0?t+s>=v:n+s>=b)&&(l.push(p+1),l.push(h),l.push(1-f))}return c}}function QC(e,t,n,s,a,i){if(!(a-s<=n)){var o=s+a>>1;lV(e,t,o,s,a,i),QC(e,t,n,s,o-1,1-i),QC(e,t,n,o+1,a,1-i)}}function lV(e,t,n,s,a,i){for(;a>s;){if(a-s>600){var o=a-s+1,l=n-s+1,c=Math.log(o),u=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*u*(o-u)/o)*(l-o/2<0?-1:1),h=Math.max(s,Math.floor(n-l*u/o+f)),g=Math.min(a,Math.floor(n+(o-l)*u/o+f));lV(e,t,n,h,g,i)}var m=t[2*n+i],p=s,v=a;for(Og(e,t,s,n),t[2*a+i]>m&&Og(e,t,s,a);p<v;){for(Og(e,t,p,v),p++,v--;t[2*p+i]<m;)p++;for(;t[2*v+i]>m;)v--}t[2*s+i]===m?Og(e,t,s,v):(v++,Og(e,t,v,a)),v<=n&&(s=v+1),n<=v&&(a=v-1)}}function Og(e,t,n,s){W4(e,n,s),W4(t,2*n,2*s),W4(t,2*n+1,2*s+1)}function W4(e,t,n){var s=e[t];e[t]=e[n],e[n]=s}function M_(e,t,n,s){var a=e-n,i=t-s;return a*a+i*i}var P0e={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},I_=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1)),Zd=2,Pc=3,H4=4,Tc=5,cV=6;class D0e{constructor(t){this.options=Object.assign(Object.create(P0e),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){var{log:n,minZoom:s,maxZoom:a}=this.options;n&&console.time("total time");var i="prepare ".concat(t.length," points");n&&console.time(i),this.points=t;for(var o=[],l=0;l<t.length;l++){var c=t[l];if(c.geometry){var[u,f]=c.geometry.coordinates,h=I_(Mv(u)),g=I_(Iv(f));o.push(h,g,1/0,l,-1,1),this.options.reduce&&o.push(0)}}var m=this.trees[a+1]=this._createTree(o);n&&console.timeEnd(i);for(var p=a;p>=s;p--){var v=+Date.now();m=this.trees[p]=this._createTree(this._cluster(m,p)),n&&console.log("z%d: %d clusters in %dms",p,m.numItems,+Date.now()-v)}return n&&console.timeEnd("total time"),this}getClusters(t,n){var s=((t[0]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,t[1])),i=t[2]===180?180:((t[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)s=-180,i=180;else if(s>i){var l=this.getClusters([s,a,180,o],n),c=this.getClusters([-180,a,i,o],n);return l.concat(c)}var u=this.trees[this._limitZoom(n)],f=u.range(Mv(s),Iv(o),Mv(i),Iv(a)),h=u.data,g=[];for(var m of f){var p=this.stride*m;g.push(h[p+Tc]>1?T_(h,p,this.clusterProps):this.points[h[p+Pc]])}return g}getChildren(t){var n=this._getOriginId(t),s=this._getOriginZoom(t),a="No cluster with the specified id.",i=this.trees[s];if(!i)throw new Error(a);var o=i.data;if(n*this.stride>=o.length)throw new Error(a);var l=this.options.radius/(this.options.extent*Math.pow(2,s-1)),c=o[n*this.stride],u=o[n*this.stride+1],f=i.within(c,u,l),h=[];for(var g of f){var m=g*this.stride;o[m+H4]===t&&h.push(o[m+Tc]>1?T_(o,m,this.clusterProps):this.points[o[m+Pc]])}if(h.length===0)throw new Error(a);return h}getLeaves(t,n,s){n=n||10,s=s||0;var a=[];return this._appendLeaves(a,t,n,s,0),a}getTile(t,n,s){var a=this.trees[this._limitZoom(t)],i=Math.pow(2,t),{extent:o,radius:l}=this.options,c=l/o,u=(s-c)/i,f=(s+1+c)/i,h={features:[]};return this._addTileFeatures(a.range((n-c)/i,u,(n+1+c)/i,f),a.data,n,s,i,h),n===0&&this._addTileFeatures(a.range(1-c/i,u,1,f),a.data,i,s,i,h),n===i-1&&this._addTileFeatures(a.range(0,u,c/i,f),a.data,-1,s,i,h),h.features.length?h:null}getClusterExpansionZoom(t){for(var n=this._getOriginZoom(t)-1;n<=this.options.maxZoom;){var s=this.getChildren(t);if(n++,s.length!==1)break;t=s[0].properties.cluster_id}return n}_appendLeaves(t,n,s,a,i){var o=this.getChildren(n);for(var l of o){var c=l.properties;if(c&&c.cluster?i+c.point_count<=a?i+=c.point_count:i=this._appendLeaves(t,c.cluster_id,s,a,i):i<a?i++:t.push(l),t.length===s)break}return i}_createTree(t){for(var n=new sL(t.length/this.stride|0,this.options.nodeSize,Float32Array),s=0;s<t.length;s+=this.stride)n.add(t[s],t[s+1]);return n.finish(),n.data=t,n}_addTileFeatures(t,n,s,a,i,o){for(var l of t){var c=l*this.stride,u=n[c+Tc]>1,f=void 0,h=void 0,g=void 0;if(u)f=dV(n,c,this.clusterProps),h=n[c],g=n[c+1];else{var m=this.points[n[c+Pc]];f=m.properties;var[p,v]=m.geometry.coordinates;h=Mv(p),g=Iv(v)}var b={type:1,geometry:[[Math.round(this.options.extent*(h*i-s)),Math.round(this.options.extent*(g*i-a))]],tags:f},y=void 0;u||this.options.generateId?y=n[c+Pc]:y=this.points[n[c+Pc]].id,y!==void 0&&(b.id=y),o.features.push(b)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,n){for(var{radius:s,extent:a,reduce:i,minPoints:o}=this.options,l=s/(a*Math.pow(2,n)),c=t.data,u=[],f=this.stride,h=0;h<c.length;h+=f)if(!(c[h+Zd]<=n)){c[h+Zd]=n;var g=c[h],m=c[h+1],p=t.within(c[h],c[h+1],l),v=c[h+Tc],b=v;for(var y of p){var x=y*f;c[x+Zd]>n&&(b+=c[x+Tc])}if(b>v&&b>=o){var w=g*v,j=m*v,N=void 0,L=-1,k=((h/f|0)<<5)+(n+1)+this.points.length;for(var E of p){var S=E*f;if(!(c[S+Zd]<=n)){c[S+Zd]=n;var I=c[S+Tc];w+=c[S]*I,j+=c[S+1]*I,c[S+H4]=k,i&&(N||(N=this._map(c,h,!0),L=this.clusterProps.length,this.clusterProps.push(N)),i(N,this._map(c,S)))}}c[h+H4]=k,u.push(w/b,j/b,1/0,k,-1,b),i&&u.push(L)}else{for(var C=0;C<f;C++)u.push(c[h+C]);if(b>1)for(var M of p){var A=M*f;if(!(c[A+Zd]<=n)){c[A+Zd]=n;for(var H=0;H<f;H++)u.push(c[A+H])}}}}return u}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,n,s){if(t[n+Tc]>1){var a=this.clusterProps[t[n+cV]];return s?Object.assign({},a):a}var i=this.points[t[n+Pc]].properties,o=this.options.map(i);return s&&o===i?Object.assign({},o):o}}function T_(e,t,n){return{type:"Feature",id:e[t+Pc],properties:dV(e,t,n),geometry:{type:"Point",coordinates:[R0e(e[t]),F0e(e[t+1])]}}}function dV(e,t,n){var s=e[t+Tc],a=s>=1e4?"".concat(Math.round(s/1e3),"k"):s>=1e3?"".concat(Math.round(s/100)/10,"k"):s,i=e[t+cV],o=i===-1?{}:Object.assign({},n[i]);return Object.assign(o,{cluster:!0,cluster_id:e[t+Pc],point_count:s,point_count_abbreviated:a})}function Mv(e){return e/360+.5}function Iv(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function R0e(e){return(e-.5)*360}function F0e(e){var t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function B0e(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}class gi{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,n){this.isAdvancedMarker(t)?t.map=n:t.setMap(n)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class KC{constructor(t){var{markers:n,position:s}=t;this.markers=n,s&&(s instanceof google.maps.LatLng?this._position=s:this._position=new google.maps.LatLng(s))}get bounds(){if(!(this.markers.length===0&&!this._position)){var t=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)t.extend(gi.getPosition(n));return t}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>gi.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(gi.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class z0e{constructor(t){var{maxZoom:n=16}=t;this.maxZoom=n}noop(t){var{markers:n}=t;return U0e(n)}}var U0e=e=>{var t=e.map(n=>new KC({position:gi.getPosition(n),markers:[n]}));return t};class W0e extends z0e{constructor(t){var{maxZoom:n,radius:s=60}=t,a=B0e(t,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new D0e(Object.assign({maxZoom:this.maxZoom,radius:s},a))}calculate(t){var n=!1,s={zoom:t.map.getZoom()};if(!E_(t.markers,this.markers)){n=!0,this.markers=[...t.markers];var a=this.markers.map(i=>{var o=gi.getPosition(i),l=[o.lng(),o.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:l},properties:{marker:i}}});this.superCluster.load(a)}return n||(this.state.zoom<=this.maxZoom||s.zoom<=this.maxZoom)&&(n=!E_(this.state,s)),this.state=s,n&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:n}}cluster(t){var{map:n}=t;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(s=>this.transformCluster(s))}transformCluster(t){var{geometry:{coordinates:[n,s]},properties:a}=t;if(a.cluster)return new KC({markers:this.superCluster.getLeaves(a.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:s,lng:n}});var i=a.marker;return new KC({markers:[i],position:gi.getPosition(i)})}}class H0e{constructor(t,n){this.markers={sum:t.length};var s=n.map(i=>i.count),a=s.reduce((i,o)=>i+o,0);this.clusters={count:n.length,markers:{mean:a/n.length,sum:a,min:Math.min(...s),max:Math.max(...s)}}}}class V0e{render(t,n,s){var{count:a,position:i}=t,o=a>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",l='<svg fill="'.concat(o,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(a,`</text>
</svg>`),c="Cluster of ".concat(a," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+a;if(gi.isAdvancedMarkerAvailable(s)){var f=new DOMParser,h=f.parseFromString(l,"image/svg+xml").documentElement;h.setAttribute("transform","translate(0 25)");var g={map:s,position:i,zIndex:u,title:c,content:h};return new google.maps.marker.AdvancedMarkerElement(g)}var m={position:i,zIndex:u,title:c,icon:{url:"data:image/svg+xml;base64,".concat(btoa(l)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(m)}}function G0e(e,t){for(var n in t.prototype)e.prototype[n]=t.prototype[n]}class aL{constructor(){G0e(aL,google.maps.OverlayView)}}var Om;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})(Om||(Om={}));var q0e=(e,t,n)=>{n.fitBounds(t.bounds)};class Y0e extends aL{constructor(t){var{map:n,markers:s=[],algorithmOptions:a={},algorithm:i=new W0e(a),renderer:o=new V0e,onClusterClick:l=q0e}=t;super(),this.markers=[...s],this.clusters=[],this.algorithm=i,this.renderer=o,this.onClusterClick=l,n&&this.setMap(n)}addMarker(t,n){this.markers.includes(t)||(this.markers.push(t),n||this.render())}addMarkers(t,n){t.forEach(s=>{this.addMarker(s,!0)}),n||this.render()}removeMarker(t,n){var s=this.markers.indexOf(t);return s===-1?!1:(gi.setMap(t,null),this.markers.splice(s,1),n||this.render(),!0)}removeMarkers(t,n){var s=!1;return t.forEach(a=>{s=this.removeMarker(a,!0)||s}),s&&!n&&this.render(),s}clearMarkers(t){this.markers.length=0,t||this.render()}render(){var t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,Om.CLUSTERING_BEGIN,this);var{clusters:n,changed:s}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(s||s==null){var a=new Set;for(var i of n)i.markers.length==1&&a.add(i.markers[0]);var o=[];for(var l of this.clusters)l.marker!=null&&(l.markers.length==1?a.has(l.marker)||gi.setMap(l.marker,null):o.push(l.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>o.forEach(c=>gi.setMap(c,null)))}google.maps.event.trigger(this,Om.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>gi.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){var t=new H0e(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(s=>{s.markers.length===1?s.marker=s.markers[0]:(s.marker=this.renderer.render(s,t,n),s.markers.forEach(a=>gi.setMap(a,null)),this.onClusterClick&&s.marker.addListener("click",a=>{google.maps.event.trigger(this,Om.CLUSTER_CLICK,s),this.onClusterClick(a,s,n)})),gi.setMap(s.marker,n)})}}function A_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function __(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(n),!0).forEach(function(s){Et(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function J0e(e){var t=zfe(),[n,s]=d.useState(null);return d.useEffect(()=>{if(t&&n===null){var a=new Y0e(__(__({},e),{},{map:t}));s(a)}},[t]),n}function Z0e(e){var{children:t,options:n}=e,s=J0e(n);return s!==null?t(s):null}d.memo(Z0e);var O_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},$_={options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},zIndex(e,t){e.setZIndex(t)}};function Q0e(e){var{children:t,anchor:n,options:s,position:a,zIndex:i,onCloseClick:o,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:f,onLoad:h,onUnmount:g}=e,m=d.useContext(vr),[p,v]=d.useState(null),[b,y]=d.useState(null),[x,w]=d.useState(null),[j,N]=d.useState(null),[L,k]=d.useState(null),[E,S]=d.useState(null),I=d.useRef(null);return d.useEffect(()=>{p!==null&&(p.close(),n?p.open(m,n):p.getPosition()&&p.open(m))},[m,p,n]),d.useEffect(()=>{s&&p!==null&&p.setOptions(s)},[p,s]),d.useEffect(()=>{a&&p!==null&&p.setPosition(a)},[a]),d.useEffect(()=>{typeof i=="number"&&p!==null&&p.setZIndex(i)},[i]),d.useEffect(()=>{p&&o&&(b!==null&&google.maps.event.removeListener(b),y(google.maps.event.addListener(p,"closeclick",o)))},[o]),d.useEffect(()=>{p&&l&&(x!==null&&google.maps.event.removeListener(x),w(google.maps.event.addListener(p,"domready",l)))},[l]),d.useEffect(()=>{p&&c&&(j!==null&&google.maps.event.removeListener(j),N(google.maps.event.addListener(p,"content_changed",c)))},[c]),d.useEffect(()=>{p&&u&&(L!==null&&google.maps.event.removeListener(L),k(google.maps.event.addListener(p,"position_changed",u)))},[u]),d.useEffect(()=>{p&&f&&(E!==null&&google.maps.event.removeListener(E),S(google.maps.event.addListener(p,"zindex_changed",f)))},[f]),d.useEffect(()=>{var C=new google.maps.InfoWindow(s);return v(C),I.current=document.createElement("div"),o&&y(google.maps.event.addListener(C,"closeclick",o)),l&&w(google.maps.event.addListener(C,"domready",l)),c&&N(google.maps.event.addListener(C,"content_changed",c)),u&&k(google.maps.event.addListener(C,"position_changed",u)),f&&S(google.maps.event.addListener(C,"zindex_changed",f)),C.setContent(I.current),a&&C.setPosition(a),i&&C.setZIndex(i),n?C.open(m,n):C.getPosition()?C.open(m):ls(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),h&&h(C),()=>{b&&google.maps.event.removeListener(b),j&&google.maps.event.removeListener(j),x&&google.maps.event.removeListener(x),L&&google.maps.event.removeListener(L),E&&google.maps.event.removeListener(E),g&&g(C),C.close()}},[]),I.current?Nd.createPortal(d.Children.only(t),I.current):null}d.memo(Q0e);class K0e extends d.PureComponent{constructor(){super(...arguments),Et(this,"registeredEvents",[]),Et(this,"containerElement",null),Et(this,"state",{infoWindow:null}),Et(this,"open",(t,n)=>{n?t.open(this.context,n):t.getPosition()?t.open(this.context):ls(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),Et(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var t=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Mr({updaterMap:$_,eventMap:O_,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({infoWindow:t}),this.setInfoWindowCallback)}componentDidUpdate(t){this.state.infoWindow!==null&&(_r(this.registeredEvents),this.registeredEvents=Mr({updaterMap:$_,eventMap:O_,prevProps:t,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(_r(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Nd.createPortal(d.Children.only(this.props.children),this.containerElement):null}}Et(K0e,"contextType",vr);function P_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function mb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(n),!0).forEach(function(s){Et(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var D_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},R_={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},visible(e,t){e.setVisible(t)}},X0e={};function ehe(e){var{options:t,draggable:n,editable:s,visible:a,path:i,onDblClick:o,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:f,onMouseOut:h,onMouseOver:g,onMouseUp:m,onRightClick:p,onClick:v,onDrag:b,onLoad:y,onUnmount:x}=e,w=d.useContext(vr),[j,N]=d.useState(null),[L,k]=d.useState(null),[E,S]=d.useState(null),[I,C]=d.useState(null),[M,A]=d.useState(null),[H,W]=d.useState(null),[X,J]=d.useState(null),[Z,F]=d.useState(null),[D,O]=d.useState(null),[T,R]=d.useState(null),[z,_]=d.useState(null),[U,Q]=d.useState(null);return d.useEffect(()=>{j!==null&&j.setMap(w)},[w]),d.useEffect(()=>{typeof t!="undefined"&&j!==null&&j.setOptions(t)},[j,t]),d.useEffect(()=>{typeof n!="undefined"&&j!==null&&j.setDraggable(n)},[j,n]),d.useEffect(()=>{typeof s!="undefined"&&j!==null&&j.setEditable(s)},[j,s]),d.useEffect(()=>{typeof a!="undefined"&&j!==null&&j.setVisible(a)},[j,a]),d.useEffect(()=>{typeof i!="undefined"&&j!==null&&j.setPath(i)},[j,i]),d.useEffect(()=>{j&&o&&(L!==null&&google.maps.event.removeListener(L),k(google.maps.event.addListener(j,"dblclick",o)))},[o]),d.useEffect(()=>{j&&l&&(E!==null&&google.maps.event.removeListener(E),S(google.maps.event.addListener(j,"dragend",l)))},[l]),d.useEffect(()=>{j&&c&&(I!==null&&google.maps.event.removeListener(I),C(google.maps.event.addListener(j,"dragstart",c)))},[c]),d.useEffect(()=>{j&&u&&(M!==null&&google.maps.event.removeListener(M),A(google.maps.event.addListener(j,"mousedown",u)))},[u]),d.useEffect(()=>{j&&f&&(H!==null&&google.maps.event.removeListener(H),W(google.maps.event.addListener(j,"mousemove",f)))},[f]),d.useEffect(()=>{j&&h&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(j,"mouseout",h)))},[h]),d.useEffect(()=>{j&&g&&(Z!==null&&google.maps.event.removeListener(Z),F(google.maps.event.addListener(j,"mouseover",g)))},[g]),d.useEffect(()=>{j&&m&&(D!==null&&google.maps.event.removeListener(D),O(google.maps.event.addListener(j,"mouseup",m)))},[m]),d.useEffect(()=>{j&&p&&(T!==null&&google.maps.event.removeListener(T),R(google.maps.event.addListener(j,"rightclick",p)))},[p]),d.useEffect(()=>{j&&v&&(z!==null&&google.maps.event.removeListener(z),_(google.maps.event.addListener(j,"click",v)))},[v]),d.useEffect(()=>{j&&b&&(U!==null&&google.maps.event.removeListener(U),Q(google.maps.event.addListener(j,"drag",b)))},[b]),d.useEffect(()=>{var re=new google.maps.Polyline(mb(mb({},t||X0e),{},{map:w}));return i&&re.setPath(i),typeof a!="undefined"&&re.setVisible(a),typeof s!="undefined"&&re.setEditable(s),typeof n!="undefined"&&re.setDraggable(n),o&&k(google.maps.event.addListener(re,"dblclick",o)),l&&S(google.maps.event.addListener(re,"dragend",l)),c&&C(google.maps.event.addListener(re,"dragstart",c)),u&&A(google.maps.event.addListener(re,"mousedown",u)),f&&W(google.maps.event.addListener(re,"mousemove",f)),h&&J(google.maps.event.addListener(re,"mouseout",h)),g&&F(google.maps.event.addListener(re,"mouseover",g)),m&&O(google.maps.event.addListener(re,"mouseup",m)),p&&R(google.maps.event.addListener(re,"rightclick",p)),v&&_(google.maps.event.addListener(re,"click",v)),b&&Q(google.maps.event.addListener(re,"drag",b)),N(re),y&&y(re),()=>{L!==null&&google.maps.event.removeListener(L),E!==null&&google.maps.event.removeListener(E),I!==null&&google.maps.event.removeListener(I),M!==null&&google.maps.event.removeListener(M),H!==null&&google.maps.event.removeListener(H),X!==null&&google.maps.event.removeListener(X),Z!==null&&google.maps.event.removeListener(Z),D!==null&&google.maps.event.removeListener(D),T!==null&&google.maps.event.removeListener(T),z!==null&&google.maps.event.removeListener(z),x&&x(re),re.setMap(null)}},[]),null}d.memo(ehe);class the extends d.PureComponent{constructor(){super(...arguments),Et(this,"registeredEvents",[]),Et(this,"state",{polyline:null}),Et(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var t=new google.maps.Polyline(mb(mb({},this.props.options),{},{map:this.context}));this.registeredEvents=Mr({updaterMap:R_,eventMap:D_,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{polyline:t}},this.setPolylineCallback)}componentDidUpdate(t){this.state.polyline!==null&&(_r(this.registeredEvents),this.registeredEvents=Mr({updaterMap:R_,eventMap:D_,prevProps:t,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),_r(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}Et(the,"contextType",vr);function F_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function B_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F_(Object(n),!0).forEach(function(s){Et(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var z_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},U_={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},paths(e,t){e.setPaths(t)},visible(e,t){e.setVisible(t)}};function rhe(e){var{options:t,draggable:n,editable:s,visible:a,path:i,paths:o,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:f,onMouseMove:h,onMouseOut:g,onMouseOver:m,onMouseUp:p,onRightClick:v,onClick:b,onDrag:y,onLoad:x,onUnmount:w,onEdit:j}=e,N=d.useContext(vr),[L,k]=d.useState(null),[E,S]=d.useState(null),[I,C]=d.useState(null),[M,A]=d.useState(null),[H,W]=d.useState(null),[X,J]=d.useState(null),[Z,F]=d.useState(null),[D,O]=d.useState(null),[T,R]=d.useState(null),[z,_]=d.useState(null),[U,Q]=d.useState(null),[re,le]=d.useState(null);return d.useEffect(()=>{L!==null&&L.setMap(N)},[N]),d.useEffect(()=>{typeof t!="undefined"&&L!==null&&L.setOptions(t)},[L,t]),d.useEffect(()=>{typeof n!="undefined"&&L!==null&&L.setDraggable(n)},[L,n]),d.useEffect(()=>{typeof s!="undefined"&&L!==null&&L.setEditable(s)},[L,s]),d.useEffect(()=>{typeof a!="undefined"&&L!==null&&L.setVisible(a)},[L,a]),d.useEffect(()=>{typeof i!="undefined"&&L!==null&&L.setPath(i)},[L,i]),d.useEffect(()=>{typeof o!="undefined"&&L!==null&&L.setPaths(o)},[L,o]),d.useEffect(()=>{L&&typeof l=="function"&&(E!==null&&google.maps.event.removeListener(E),S(google.maps.event.addListener(L,"dblclick",l)))},[l]),d.useEffect(()=>{L&&(google.maps.event.addListener(L.getPath(),"insert_at",()=>{j==null||j(L)}),google.maps.event.addListener(L.getPath(),"set_at",()=>{j==null||j(L)}),google.maps.event.addListener(L.getPath(),"remove_at",()=>{j==null||j(L)}))},[L,j]),d.useEffect(()=>{L&&typeof c=="function"&&(I!==null&&google.maps.event.removeListener(I),C(google.maps.event.addListener(L,"dragend",c)))},[c]),d.useEffect(()=>{L&&typeof u=="function"&&(M!==null&&google.maps.event.removeListener(M),A(google.maps.event.addListener(L,"dragstart",u)))},[u]),d.useEffect(()=>{L&&typeof f=="function"&&(H!==null&&google.maps.event.removeListener(H),W(google.maps.event.addListener(L,"mousedown",f)))},[f]),d.useEffect(()=>{L&&typeof h=="function"&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(L,"mousemove",h)))},[h]),d.useEffect(()=>{L&&typeof g=="function"&&(Z!==null&&google.maps.event.removeListener(Z),F(google.maps.event.addListener(L,"mouseout",g)))},[g]),d.useEffect(()=>{L&&typeof m=="function"&&(D!==null&&google.maps.event.removeListener(D),O(google.maps.event.addListener(L,"mouseover",m)))},[m]),d.useEffect(()=>{L&&typeof p=="function"&&(T!==null&&google.maps.event.removeListener(T),R(google.maps.event.addListener(L,"mouseup",p)))},[p]),d.useEffect(()=>{L&&typeof v=="function"&&(z!==null&&google.maps.event.removeListener(z),_(google.maps.event.addListener(L,"rightclick",v)))},[v]),d.useEffect(()=>{L&&typeof b=="function"&&(U!==null&&google.maps.event.removeListener(U),Q(google.maps.event.addListener(L,"click",b)))},[b]),d.useEffect(()=>{L&&typeof y=="function"&&(re!==null&&google.maps.event.removeListener(re),le(google.maps.event.addListener(L,"drag",y)))},[y]),d.useEffect(()=>{var ue=new google.maps.Polygon(B_(B_({},t),{},{map:N}));return i&&ue.setPath(i),o&&ue.setPaths(o),typeof a!="undefined"&&ue.setVisible(a),typeof s!="undefined"&&ue.setEditable(s),typeof n!="undefined"&&ue.setDraggable(n),l&&S(google.maps.event.addListener(ue,"dblclick",l)),c&&C(google.maps.event.addListener(ue,"dragend",c)),u&&A(google.maps.event.addListener(ue,"dragstart",u)),f&&W(google.maps.event.addListener(ue,"mousedown",f)),h&&J(google.maps.event.addListener(ue,"mousemove",h)),g&&F(google.maps.event.addListener(ue,"mouseout",g)),m&&O(google.maps.event.addListener(ue,"mouseover",m)),p&&R(google.maps.event.addListener(ue,"mouseup",p)),v&&_(google.maps.event.addListener(ue,"rightclick",v)),b&&Q(google.maps.event.addListener(ue,"click",b)),y&&le(google.maps.event.addListener(ue,"drag",y)),k(ue),x&&x(ue),()=>{E!==null&&google.maps.event.removeListener(E),I!==null&&google.maps.event.removeListener(I),M!==null&&google.maps.event.removeListener(M),H!==null&&google.maps.event.removeListener(H),X!==null&&google.maps.event.removeListener(X),Z!==null&&google.maps.event.removeListener(Z),D!==null&&google.maps.event.removeListener(D),T!==null&&google.maps.event.removeListener(T),z!==null&&google.maps.event.removeListener(z),U!==null&&google.maps.event.removeListener(U),w&&w(ue),ue.setMap(null)}},[]),null}d.memo(rhe);class nhe extends d.PureComponent{constructor(){super(...arguments),Et(this,"registeredEvents",[])}componentDidMount(){var t=this.props.options||{};this.polygon=new google.maps.Polygon(t),this.polygon.setMap(this.context),this.registeredEvents=Mr({updaterMap:U_,eventMap:z_,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(t){this.polygon&&(_r(this.registeredEvents),this.registeredEvents=Mr({updaterMap:U_,eventMap:z_,prevProps:t,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),_r(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}Et(nhe,"contextType",vr);function W_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function pb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(n),!0).forEach(function(s){Et(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var H_={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},V_={bounds(e,t){e.setBounds(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},visible(e,t){e.setVisible(t)}};function she(e){var{options:t,bounds:n,draggable:s,editable:a,visible:i,onDblClick:o,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:f,onMouseOut:h,onMouseOver:g,onMouseUp:m,onRightClick:p,onClick:v,onDrag:b,onBoundsChanged:y,onLoad:x,onUnmount:w}=e,j=d.useContext(vr),[N,L]=d.useState(null),[k,E]=d.useState(null),[S,I]=d.useState(null),[C,M]=d.useState(null),[A,H]=d.useState(null),[W,X]=d.useState(null),[J,Z]=d.useState(null),[F,D]=d.useState(null),[O,T]=d.useState(null),[R,z]=d.useState(null),[_,U]=d.useState(null),[Q,re]=d.useState(null),[le,ue]=d.useState(null);return d.useEffect(()=>{N!==null&&N.setMap(j)},[j]),d.useEffect(()=>{typeof t!="undefined"&&N!==null&&N.setOptions(t)},[N,t]),d.useEffect(()=>{typeof s!="undefined"&&N!==null&&N.setDraggable(s)},[N,s]),d.useEffect(()=>{typeof a!="undefined"&&N!==null&&N.setEditable(a)},[N,a]),d.useEffect(()=>{typeof i!="undefined"&&N!==null&&N.setVisible(i)},[N,i]),d.useEffect(()=>{typeof n!="undefined"&&N!==null&&N.setBounds(n)},[N,n]),d.useEffect(()=>{N&&o&&(k!==null&&google.maps.event.removeListener(k),E(google.maps.event.addListener(N,"dblclick",o)))},[o]),d.useEffect(()=>{N&&l&&(S!==null&&google.maps.event.removeListener(S),I(google.maps.event.addListener(N,"dragend",l)))},[l]),d.useEffect(()=>{N&&c&&(C!==null&&google.maps.event.removeListener(C),M(google.maps.event.addListener(N,"dragstart",c)))},[c]),d.useEffect(()=>{N&&u&&(A!==null&&google.maps.event.removeListener(A),H(google.maps.event.addListener(N,"mousedown",u)))},[u]),d.useEffect(()=>{N&&f&&(W!==null&&google.maps.event.removeListener(W),X(google.maps.event.addListener(N,"mousemove",f)))},[f]),d.useEffect(()=>{N&&h&&(J!==null&&google.maps.event.removeListener(J),Z(google.maps.event.addListener(N,"mouseout",h)))},[h]),d.useEffect(()=>{N&&g&&(F!==null&&google.maps.event.removeListener(F),D(google.maps.event.addListener(N,"mouseover",g)))},[g]),d.useEffect(()=>{N&&m&&(O!==null&&google.maps.event.removeListener(O),T(google.maps.event.addListener(N,"mouseup",m)))},[m]),d.useEffect(()=>{N&&p&&(R!==null&&google.maps.event.removeListener(R),z(google.maps.event.addListener(N,"rightclick",p)))},[p]),d.useEffect(()=>{N&&v&&(_!==null&&google.maps.event.removeListener(_),U(google.maps.event.addListener(N,"click",v)))},[v]),d.useEffect(()=>{N&&b&&(Q!==null&&google.maps.event.removeListener(Q),re(google.maps.event.addListener(N,"drag",b)))},[b]),d.useEffect(()=>{N&&y&&(le!==null&&google.maps.event.removeListener(le),ue(google.maps.event.addListener(N,"bounds_changed",y)))},[y]),d.useEffect(()=>{var ge=new google.maps.Rectangle(pb(pb({},t),{},{map:j}));return typeof i!="undefined"&&ge.setVisible(i),typeof a!="undefined"&&ge.setEditable(a),typeof s!="undefined"&&ge.setDraggable(s),typeof n!="undefined"&&ge.setBounds(n),o&&E(google.maps.event.addListener(ge,"dblclick",o)),l&&I(google.maps.event.addListener(ge,"dragend",l)),c&&M(google.maps.event.addListener(ge,"dragstart",c)),u&&H(google.maps.event.addListener(ge,"mousedown",u)),f&&X(google.maps.event.addListener(ge,"mousemove",f)),h&&Z(google.maps.event.addListener(ge,"mouseout",h)),g&&D(google.maps.event.addListener(ge,"mouseover",g)),m&&T(google.maps.event.addListener(ge,"mouseup",m)),p&&z(google.maps.event.addListener(ge,"rightclick",p)),v&&U(google.maps.event.addListener(ge,"click",v)),b&&re(google.maps.event.addListener(ge,"drag",b)),y&&ue(google.maps.event.addListener(ge,"bounds_changed",y)),L(ge),x&&x(ge),()=>{k!==null&&google.maps.event.removeListener(k),S!==null&&google.maps.event.removeListener(S),C!==null&&google.maps.event.removeListener(C),A!==null&&google.maps.event.removeListener(A),W!==null&&google.maps.event.removeListener(W),J!==null&&google.maps.event.removeListener(J),F!==null&&google.maps.event.removeListener(F),O!==null&&google.maps.event.removeListener(O),R!==null&&google.maps.event.removeListener(R),_!==null&&google.maps.event.removeListener(_),Q!==null&&google.maps.event.removeListener(Q),le!==null&&google.maps.event.removeListener(le),w&&w(ge),ge.setMap(null)}},[]),null}d.memo(she);class ahe extends d.PureComponent{constructor(){super(...arguments),Et(this,"registeredEvents",[]),Et(this,"state",{rectangle:null}),Et(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var t=new google.maps.Rectangle(pb(pb({},this.props.options),{},{map:this.context}));this.registeredEvents=Mr({updaterMap:V_,eventMap:H_,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{rectangle:t}},this.setRectangleCallback)}componentDidUpdate(t){this.state.rectangle!==null&&(_r(this.registeredEvents),this.registeredEvents=Mr({updaterMap:V_,eventMap:H_,prevProps:t,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),_r(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}Et(ahe,"contextType",vr);function G_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function xb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(n),!0).forEach(function(s){Et(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var q_={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Y_={center(e,t){e.setCenter(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},radius(e,t){e.setRadius(t)},visible(e,t){e.setVisible(t)}},ihe={};function ohe(e){var{options:t,center:n,radius:s,draggable:a,editable:i,visible:o,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:f,onMouseMove:h,onMouseOut:g,onMouseOver:m,onMouseUp:p,onRightClick:v,onClick:b,onDrag:y,onCenterChanged:x,onRadiusChanged:w,onLoad:j,onUnmount:N}=e,L=d.useContext(vr),[k,E]=d.useState(null),[S,I]=d.useState(null),[C,M]=d.useState(null),[A,H]=d.useState(null),[W,X]=d.useState(null),[J,Z]=d.useState(null),[F,D]=d.useState(null),[O,T]=d.useState(null),[R,z]=d.useState(null),[_,U]=d.useState(null),[Q,re]=d.useState(null),[le,ue]=d.useState(null),[ge,ke]=d.useState(null),[tt,He]=d.useState(null);return d.useEffect(()=>{k!==null&&k.setMap(L)},[L]),d.useEffect(()=>{typeof t!="undefined"&&k!==null&&k.setOptions(t)},[k,t]),d.useEffect(()=>{typeof a!="undefined"&&k!==null&&k.setDraggable(a)},[k,a]),d.useEffect(()=>{typeof i!="undefined"&&k!==null&&k.setEditable(i)},[k,i]),d.useEffect(()=>{typeof o!="undefined"&&k!==null&&k.setVisible(o)},[k,o]),d.useEffect(()=>{typeof s=="number"&&k!==null&&k.setRadius(s)},[k,s]),d.useEffect(()=>{typeof n!="undefined"&&k!==null&&k.setCenter(n)},[k,n]),d.useEffect(()=>{k&&l&&(S!==null&&google.maps.event.removeListener(S),I(google.maps.event.addListener(k,"dblclick",l)))},[l]),d.useEffect(()=>{k&&c&&(C!==null&&google.maps.event.removeListener(C),M(google.maps.event.addListener(k,"dragend",c)))},[c]),d.useEffect(()=>{k&&u&&(A!==null&&google.maps.event.removeListener(A),H(google.maps.event.addListener(k,"dragstart",u)))},[u]),d.useEffect(()=>{k&&f&&(W!==null&&google.maps.event.removeListener(W),X(google.maps.event.addListener(k,"mousedown",f)))},[f]),d.useEffect(()=>{k&&h&&(J!==null&&google.maps.event.removeListener(J),Z(google.maps.event.addListener(k,"mousemove",h)))},[h]),d.useEffect(()=>{k&&g&&(F!==null&&google.maps.event.removeListener(F),D(google.maps.event.addListener(k,"mouseout",g)))},[g]),d.useEffect(()=>{k&&m&&(O!==null&&google.maps.event.removeListener(O),T(google.maps.event.addListener(k,"mouseover",m)))},[m]),d.useEffect(()=>{k&&p&&(R!==null&&google.maps.event.removeListener(R),z(google.maps.event.addListener(k,"mouseup",p)))},[p]),d.useEffect(()=>{k&&v&&(_!==null&&google.maps.event.removeListener(_),U(google.maps.event.addListener(k,"rightclick",v)))},[v]),d.useEffect(()=>{k&&b&&(Q!==null&&google.maps.event.removeListener(Q),re(google.maps.event.addListener(k,"click",b)))},[b]),d.useEffect(()=>{k&&y&&(le!==null&&google.maps.event.removeListener(le),ue(google.maps.event.addListener(k,"drag",y)))},[y]),d.useEffect(()=>{k&&x&&(ge!==null&&google.maps.event.removeListener(ge),ke(google.maps.event.addListener(k,"center_changed",x)))},[b]),d.useEffect(()=>{k&&w&&(tt!==null&&google.maps.event.removeListener(tt),He(google.maps.event.addListener(k,"radius_changed",w)))},[w]),d.useEffect(()=>{var ze=new google.maps.Circle(xb(xb({},t||ihe),{},{map:L}));return typeof s=="number"&&ze.setRadius(s),typeof n!="undefined"&&ze.setCenter(n),typeof s=="number"&&ze.setRadius(s),typeof o!="undefined"&&ze.setVisible(o),typeof i!="undefined"&&ze.setEditable(i),typeof a!="undefined"&&ze.setDraggable(a),l&&I(google.maps.event.addListener(ze,"dblclick",l)),c&&M(google.maps.event.addListener(ze,"dragend",c)),u&&H(google.maps.event.addListener(ze,"dragstart",u)),f&&X(google.maps.event.addListener(ze,"mousedown",f)),h&&Z(google.maps.event.addListener(ze,"mousemove",h)),g&&D(google.maps.event.addListener(ze,"mouseout",g)),m&&T(google.maps.event.addListener(ze,"mouseover",m)),p&&z(google.maps.event.addListener(ze,"mouseup",p)),v&&U(google.maps.event.addListener(ze,"rightclick",v)),b&&re(google.maps.event.addListener(ze,"click",b)),y&&ue(google.maps.event.addListener(ze,"drag",y)),x&&ke(google.maps.event.addListener(ze,"center_changed",x)),w&&He(google.maps.event.addListener(ze,"radius_changed",w)),E(ze),j&&j(ze),()=>{S!==null&&google.maps.event.removeListener(S),C!==null&&google.maps.event.removeListener(C),A!==null&&google.maps.event.removeListener(A),W!==null&&google.maps.event.removeListener(W),J!==null&&google.maps.event.removeListener(J),F!==null&&google.maps.event.removeListener(F),O!==null&&google.maps.event.removeListener(O),R!==null&&google.maps.event.removeListener(R),_!==null&&google.maps.event.removeListener(_),Q!==null&&google.maps.event.removeListener(Q),ge!==null&&google.maps.event.removeListener(ge),tt!==null&&google.maps.event.removeListener(tt),N&&N(ze),ze.setMap(null)}},[]),null}d.memo(ohe);class lhe extends d.PureComponent{constructor(){super(...arguments),Et(this,"registeredEvents",[]),Et(this,"state",{circle:null}),Et(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var t=new google.maps.Circle(xb(xb({},this.props.options),{},{map:this.context}));this.registeredEvents=Mr({updaterMap:Y_,eventMap:q_,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{circle:t}},this.setCircleCallback)}componentDidUpdate(t){this.state.circle!==null&&(_r(this.registeredEvents),this.registeredEvents=Mr({updaterMap:Y_,eventMap:q_,prevProps:t,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var t;this.props.onUnmount&&this.props.onUnmount(this.state.circle),_r(this.registeredEvents),(t=this.state.circle)===null||t===void 0||t.setMap(null)}}render(){return null}}Et(lhe,"contextType",vr);function J_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function vb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(n),!0).forEach(function(s){Et(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var Z_={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Q_={add(e,t){e.add(t)},addgeojson(e,t,n){e.addGeoJson(t,n)},contains(e,t){e.contains(t)},foreach(e,t){e.forEach(t)},loadgeojson(e,t,n,s){e.loadGeoJson(t,n,s)},overridestyle(e,t,n){e.overrideStyle(t,n)},remove(e,t){e.remove(t)},revertstyle(e,t){e.revertStyle(t)},controlposition(e,t){e.setControlPosition(t)},controls(e,t){e.setControls(t)},drawingmode(e,t){e.setDrawingMode(t)},map(e,t){e.setMap(t)},style(e,t){e.setStyle(t)},togeojson(e,t){e.toGeoJson(t)}};function che(e){var{options:t,onClick:n,onDblClick:s,onMouseDown:a,onMouseMove:i,onMouseOut:o,onMouseOver:l,onMouseUp:c,onRightClick:u,onAddFeature:f,onRemoveFeature:h,onRemoveProperty:g,onSetGeometry:m,onSetProperty:p,onLoad:v,onUnmount:b}=e,y=d.useContext(vr),[x,w]=d.useState(null),[j,N]=d.useState(null),[L,k]=d.useState(null),[E,S]=d.useState(null),[I,C]=d.useState(null),[M,A]=d.useState(null),[H,W]=d.useState(null),[X,J]=d.useState(null),[Z,F]=d.useState(null),[D,O]=d.useState(null),[T,R]=d.useState(null),[z,_]=d.useState(null),[U,Q]=d.useState(null),[re,le]=d.useState(null);return d.useEffect(()=>{x!==null&&x.setMap(y)},[y]),d.useEffect(()=>{x&&s&&(j!==null&&google.maps.event.removeListener(j),N(google.maps.event.addListener(x,"dblclick",s)))},[s]),d.useEffect(()=>{x&&a&&(L!==null&&google.maps.event.removeListener(L),k(google.maps.event.addListener(x,"mousedown",a)))},[a]),d.useEffect(()=>{x&&i&&(E!==null&&google.maps.event.removeListener(E),S(google.maps.event.addListener(x,"mousemove",i)))},[i]),d.useEffect(()=>{x&&o&&(I!==null&&google.maps.event.removeListener(I),C(google.maps.event.addListener(x,"mouseout",o)))},[o]),d.useEffect(()=>{x&&l&&(M!==null&&google.maps.event.removeListener(M),A(google.maps.event.addListener(x,"mouseover",l)))},[l]),d.useEffect(()=>{x&&c&&(H!==null&&google.maps.event.removeListener(H),W(google.maps.event.addListener(x,"mouseup",c)))},[c]),d.useEffect(()=>{x&&u&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(x,"rightclick",u)))},[u]),d.useEffect(()=>{x&&n&&(Z!==null&&google.maps.event.removeListener(Z),F(google.maps.event.addListener(x,"click",n)))},[n]),d.useEffect(()=>{x&&f&&(D!==null&&google.maps.event.removeListener(D),O(google.maps.event.addListener(x,"addfeature",f)))},[f]),d.useEffect(()=>{x&&h&&(T!==null&&google.maps.event.removeListener(T),R(google.maps.event.addListener(x,"removefeature",h)))},[h]),d.useEffect(()=>{x&&g&&(z!==null&&google.maps.event.removeListener(z),_(google.maps.event.addListener(x,"removeproperty",g)))},[g]),d.useEffect(()=>{x&&m&&(U!==null&&google.maps.event.removeListener(U),Q(google.maps.event.addListener(x,"setgeometry",m)))},[m]),d.useEffect(()=>{x&&p&&(re!==null&&google.maps.event.removeListener(re),le(google.maps.event.addListener(x,"setproperty",p)))},[p]),d.useEffect(()=>{if(y!==null){var ue=new google.maps.Data(vb(vb({},t),{},{map:y}));s&&N(google.maps.event.addListener(ue,"dblclick",s)),a&&k(google.maps.event.addListener(ue,"mousedown",a)),i&&S(google.maps.event.addListener(ue,"mousemove",i)),o&&C(google.maps.event.addListener(ue,"mouseout",o)),l&&A(google.maps.event.addListener(ue,"mouseover",l)),c&&W(google.maps.event.addListener(ue,"mouseup",c)),u&&J(google.maps.event.addListener(ue,"rightclick",u)),n&&F(google.maps.event.addListener(ue,"click",n)),f&&O(google.maps.event.addListener(ue,"addfeature",f)),h&&R(google.maps.event.addListener(ue,"removefeature",h)),g&&_(google.maps.event.addListener(ue,"removeproperty",g)),m&&Q(google.maps.event.addListener(ue,"setgeometry",m)),p&&le(google.maps.event.addListener(ue,"setproperty",p)),w(ue),v&&v(ue)}return()=>{x&&(j!==null&&google.maps.event.removeListener(j),L!==null&&google.maps.event.removeListener(L),E!==null&&google.maps.event.removeListener(E),I!==null&&google.maps.event.removeListener(I),M!==null&&google.maps.event.removeListener(M),H!==null&&google.maps.event.removeListener(H),X!==null&&google.maps.event.removeListener(X),Z!==null&&google.maps.event.removeListener(Z),D!==null&&google.maps.event.removeListener(D),T!==null&&google.maps.event.removeListener(T),z!==null&&google.maps.event.removeListener(z),U!==null&&google.maps.event.removeListener(U),re!==null&&google.maps.event.removeListener(re),b&&b(x),x.setMap(null))}},[]),null}d.memo(che);class dhe extends d.PureComponent{constructor(){super(...arguments),Et(this,"registeredEvents",[]),Et(this,"state",{data:null}),Et(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var t=new google.maps.Data(vb(vb({},this.props.options),{},{map:this.context}));this.registeredEvents=Mr({updaterMap:Q_,eventMap:Z_,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({data:t}),this.setDataCallback)}}componentDidUpdate(t){this.state.data!==null&&(_r(this.registeredEvents),this.registeredEvents=Mr({updaterMap:Q_,eventMap:Z_,prevProps:t,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),_r(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}Et(dhe,"contextType",vr);function K_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function X_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(n),!0).forEach(function(s){Et(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var eO={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},tO={options(e,t){e.setOptions(t)},url(e,t){e.setUrl(t)},zIndex(e,t){e.setZIndex(t)}};class uhe extends d.PureComponent{constructor(){super(...arguments),Et(this,"registeredEvents",[]),Et(this,"state",{kmlLayer:null}),Et(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var t=new google.maps.KmlLayer(X_(X_({},this.props.options),{},{map:this.context}));this.registeredEvents=Mr({updaterMap:tO,eventMap:eO,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{kmlLayer:t}},this.setKmlLayerCallback)}componentDidUpdate(t){this.state.kmlLayer!==null&&(_r(this.registeredEvents),this.registeredEvents=Mr({updaterMap:tO,eventMap:eO,prevProps:t,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),_r(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}Et(uhe,"contextType",vr);function uV(e,t){return typeof t=="function"?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function fhe(e,t){return new t(e.lat,e.lng)}function hhe(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function ghe(e,t,n){return e instanceof t?e:n(e,t)}function mhe(e,t,n){return e instanceof t?e:n(e,t)}function phe(e,t,n){var s=e&&e.fromLatLngToDivPixel(n.getNorthEast()),a=e&&e.fromLatLngToDivPixel(n.getSouthWest());return s&&a?{left:"".concat(a.x+t.x,"px"),top:"".concat(s.y+t.y,"px"),width:"".concat(s.x-a.x-t.x,"px"),height:"".concat(a.y-s.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}function xhe(e,t,n){var s=e&&e.fromLatLngToDivPixel(n);if(s){var{x:a,y:i}=s;return{left:"".concat(a+t.x,"px"),top:"".concat(i+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}function fV(e,t,n,s){return n!==void 0?phe(e,t,mhe(n,google.maps.LatLngBounds,hhe)):xhe(e,t,ghe(s,google.maps.LatLng,fhe))}function vhe(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.height&&e.height===t.height}function rO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function yhe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(n),!0).forEach(function(s){Et(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function bhe(e,t,n,s,a){class i extends google.maps.OverlayView{constructor(l,c,u,f){super(),this.container=l,this.pane=c,this.position=u,this.bounds=f}onAdd(){var l,c=(l=this.getPanes())===null||l===void 0?void 0:l[this.pane];c==null||c.appendChild(this.container)}draw(){var l=this.getProjection(),c=yhe({},this.container?uV(this.container,a):{x:0,y:0}),u=fV(l,c,this.bounds,this.position);for(var[f,h]of Object.entries(u))this.container.style[f]=h}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new i(e,t,n,s)}function nO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function whe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(n),!0).forEach(function(s){Et(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function sO(e){if(!e)return"";var t=e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng);return t+""}function aO(e){if(!e)return"";var t=e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west));return t+""}function jhe(e){var{position:t,bounds:n,mapPaneName:s,zIndex:a,onLoad:i,onUnmount:o,getPixelPositionOffset:l,children:c}=e,u=d.useContext(vr),f=d.useMemo(()=>{var g=document.createElement("div");return g.style.position="absolute",g},[]),h=d.useMemo(()=>bhe(f,s,t,n,l),[f,s,t,n]);return d.useEffect(()=>(i==null||i(h),h==null||h.setMap(u),()=>{o==null||o(h),h==null||h.setMap(null)}),[u,h]),d.useEffect(()=>{f.style.zIndex="".concat(a)},[a,f]),Nd.createPortal(c,f)}d.memo(jhe);class Ph extends d.PureComponent{constructor(t){super(t),Et(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),Et(this,"updatePane",()=>{var s=this.props.mapPaneName,a=this.overlayView.getPanes();ls(!!s,"OverlayView requires props.mapPaneName but got %s",s),a?this.setState({paneEl:a[s]}):this.setState({paneEl:null})}),Et(this,"onAdd",()=>{var s,a;this.updatePane(),(s=(a=this.props).onLoad)===null||s===void 0||s.call(a,this.overlayView)}),Et(this,"onPositionElement",()=>{var s=this.overlayView.getProjection(),a=whe({x:0,y:0},this.containerRef.current?uV(this.containerRef.current,this.props.getPixelPositionOffset):{}),i=fV(s,a,this.props.bounds,this.props.position);if(!vhe(i,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var o,l,c,u;this.setState({containerStyle:{top:(o=i.top)!==null&&o!==void 0?o:0,left:(l=i.left)!==null&&l!==void 0?l:0,width:(c=i.width)!==null&&c!==void 0?c:0,height:(u=i.height)!==null&&u!==void 0?u:0,position:"absolute"}})}}),Et(this,"draw",()=>{this.onPositionElement()}),Et(this,"onRemove",()=>{var s,a;this.setState(()=>({paneEl:null})),(s=(a=this.props).onUnmount)===null||s===void 0||s.call(a,this.overlayView)}),this.containerRef=d.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(t){var n=sO(t.position),s=sO(this.props.position),a=aO(t.bounds),i=aO(this.props.bounds);(n!==s||a!==i)&&this.overlayView.draw(),t.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var t=this.state.paneEl;return t?Nd.createPortal(r.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:d.Children.only(this.props.children)}),t):null}}Et(Ph,"FLOAT_PANE","floatPane");Et(Ph,"MAP_PANE","mapPane");Et(Ph,"MARKER_LAYER","markerLayer");Et(Ph,"OVERLAY_LAYER","overlayLayer");Et(Ph,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");Et(Ph,"contextType",vr);function Nhe(){}function iO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function oO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(n),!0).forEach(function(s){Et(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var lO={onDblClick:"dblclick",onClick:"click"},cO={opacity(e,t){e.setOpacity(t)}};function She(e){var{url:t,bounds:n,options:s,visible:a}=e,i=d.useContext(vr),o=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),l=d.useMemo(()=>new google.maps.GroundOverlay(t,o,s),[]);return d.useEffect(()=>{l!==null&&l.setMap(i)},[i]),d.useEffect(()=>{typeof t!="undefined"&&l!==null&&(l.set("url",t),l.setMap(i))},[l,t]),d.useEffect(()=>{typeof a!="undefined"&&l!==null&&l.setOpacity(a?1:0)},[l,a]),d.useEffect(()=>{var c=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n!="undefined"&&l!==null&&(l.set("bounds",c),l.setMap(i))},[l,n]),null}d.memo(She);class hV extends d.PureComponent{constructor(){super(...arguments),Et(this,"registeredEvents",[]),Et(this,"state",{groundOverlay:null}),Et(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){ls(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var t=new google.maps.GroundOverlay(this.props.url,this.props.bounds,oO(oO({},this.props.options),{},{map:this.context}));this.registeredEvents=Mr({updaterMap:cO,eventMap:lO,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{groundOverlay:t}},this.setGroundOverlayCallback)}componentDidUpdate(t){this.state.groundOverlay!==null&&(_r(this.registeredEvents),this.registeredEvents=Mr({updaterMap:cO,eventMap:lO,prevProps:t,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}Et(hV,"defaultProps",{onLoad:Nhe});Et(hV,"contextType",vr);function dO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function yb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(n),!0).forEach(function(s){Et(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var uO={},fO={data(e,t){e.setData(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)}};function Che(e){var{data:t,onLoad:n,onUnmount:s,options:a}=e,i=d.useContext(vr),[o,l]=d.useState(null);return d.useEffect(()=>{google.maps.visualization||ls(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),d.useEffect(()=>{ls(!!t,"data property is required in HeatmapLayer %s",t)},[t]),d.useEffect(()=>{o!==null&&o.setMap(i)},[i]),d.useEffect(()=>{a&&o!==null&&o.setOptions(a)},[o,a]),d.useEffect(()=>{var c=new google.maps.visualization.HeatmapLayer(yb(yb({},a),{},{data:t,map:i}));return l(c),n&&n(c),()=>{o!==null&&(s&&s(o),o.setMap(null))}},[]),null}d.memo(Che);class khe extends d.PureComponent{constructor(){super(...arguments),Et(this,"registeredEvents",[]),Et(this,"state",{heatmapLayer:null}),Et(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){ls(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),ls(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var t=new google.maps.visualization.HeatmapLayer(yb(yb({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Mr({updaterMap:fO,eventMap:uO,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{heatmapLayer:t}},this.setHeatmapLayerCallback)}componentDidUpdate(t){_r(this.registeredEvents),this.registeredEvents=Mr({updaterMap:fO,eventMap:uO,prevProps:t,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),_r(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}Et(khe,"contextType",vr);var hO={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},gO={register(e,t,n){e.registerPanoProvider(t,n)},links(e,t){e.setLinks(t)},motionTracking(e,t){e.setMotionTracking(t)},options(e,t){e.setOptions(t)},pano(e,t){e.setPano(t)},position(e,t){e.setPosition(t)},pov(e,t){e.setPov(t)},visible(e,t){e.setVisible(t)},zoom(e,t){e.setZoom(t)}};class Ehe extends d.PureComponent{constructor(){super(...arguments),Et(this,"registeredEvents",[]),Et(this,"state",{streetViewPanorama:null}),Et(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var t,n,s=(t=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&t!==void 0?t:null;this.registeredEvents=Mr({updaterMap:gO,eventMap:hO,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({streetViewPanorama:s}),this.setStreetViewPanoramaCallback)}componentDidUpdate(t){this.state.streetViewPanorama!==null&&(_r(this.registeredEvents),this.registeredEvents=Mr({updaterMap:gO,eventMap:hO,prevProps:t,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),_r(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}Et(Ehe,"contextType",vr);class Lhe extends d.PureComponent{constructor(){super(...arguments),Et(this,"state",{streetViewService:null}),Et(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var t=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:t}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}Et(Lhe,"contextType",vr);var mO={onDirectionsChanged:"directions_changed"},pO={directions(e,t){e.setDirections(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},panel(e,t){e.setPanel(t)},routeIndex(e,t){e.setRouteIndex(t)}};class Mhe extends d.PureComponent{constructor(){super(...arguments),Et(this,"registeredEvents",[]),Et(this,"state",{directionsRenderer:null}),Et(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var t=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Mr({updaterMap:pO,eventMap:mO,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{directionsRenderer:t}},this.setDirectionsRendererCallback)}componentDidUpdate(t){this.state.directionsRenderer!==null&&(_r(this.registeredEvents),this.registeredEvents=Mr({updaterMap:pO,eventMap:mO,prevProps:t,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),_r(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}Et(Mhe,"contextType",vr);var xO={onPlacesChanged:"places_changed"},vO={bounds(e,t){e.setBounds(t)}};class Ihe extends d.PureComponent{constructor(){super(...arguments),Et(this,"registeredEvents",[]),Et(this,"containerElement",d.createRef()),Et(this,"state",{searchBox:null}),Et(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(ls(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var t=this.containerElement.current.querySelector("input");if(t!==null){var n=new google.maps.places.SearchBox(t,this.props.options);this.registeredEvents=Mr({updaterMap:vO,eventMap:xO,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(t){this.state.searchBox!==null&&(_r(this.registeredEvents),this.registeredEvents=Mr({updaterMap:vO,eventMap:xO,prevProps:t,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),_r(this.registeredEvents))}render(){return r.jsx("div",{ref:this.containerElement,children:d.Children.only(this.props.children)})}}Et(Ihe,"contextType",vr);var yO={onPlaceChanged:"place_changed"},bO={bounds(e,t){e.setBounds(t)},restrictions(e,t){e.setComponentRestrictions(t)},fields(e,t){e.setFields(t)},options(e,t){e.setOptions(t)},types(e,t){e.setTypes(t)}};class gV extends d.PureComponent{constructor(){super(...arguments),Et(this,"registeredEvents",[]),Et(this,"containerElement",d.createRef()),Et(this,"state",{autocomplete:null}),Et(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var t;ls(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(t=this.containerElement.current)===null||t===void 0?void 0:t.querySelector("input");if(n){var s=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=Mr({updaterMap:bO,eventMap:yO,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({autocomplete:s}),this.setAutocompleteCallback)}}componentDidUpdate(t){_r(this.registeredEvents),this.registeredEvents=Mr({updaterMap:bO,eventMap:yO,prevProps:t,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&_r(this.registeredEvents)}render(){return r.jsx("div",{ref:this.containerElement,className:this.props.className,children:d.Children.only(this.props.children)})}}Et(gV,"defaultProps",{className:""});Et(gV,"contextType",vr);const yc={caret:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M7 10l5 5 5-5z"})}),caretUp:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M7 14l5-5 5 5z"})}),search:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"11",cy:"11",r:"8"}),r.jsx("path",{d:"m21 21-4.35-4.35"})]}),clear:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})};function fl({tree:e,selected:t,onChange:n,shown:s=[],from:a}){const[i,o]=d.useState({}),[l,c]=d.useState(""),[u,f]=d.useState(e);d.useEffect(()=>{if(!l.trim()){f(e);return}const O=l.toLowerCase().trim(),T=e.map(R=>{const z=R.name.toLowerCase().includes(O),_=(R.categories||[]).map(U=>{const Q=U.name.toLowerCase().includes(O),re=(U.subcategories||[]).map(le=>{const ue=le.name.toLowerCase().includes(O),ge=(le.subsubs||[]).filter(ke=>ke.name.toLowerCase().includes(O));return ue||ge.length>0?he(te({},le),{subsubs:ge}):null}).filter(Boolean);return Q||re.length>0?he(te({},U),{subcategories:re}):null}).filter(Boolean);return z||_.length>0?he(te({},R),{categories:_}):null}).filter(Boolean);if(f(T),l.trim()){const R=te({},i);T.forEach(z=>{var U;const _=`id-${z.id}`;R[_]=!0,(U=z.categories)==null||U.forEach(Q=>{var le;const re=`cat-${Q.id}`;R[re]=!0,(le=Q.subcategories)==null||le.forEach(ue=>{const ge=`sc-${ue.id}`;R[ge]=!0})})}),o(R)}},[l,e]);const h=(O,T)=>{const R={identityIds:new Set(N(t.identityIds)),categoryIds:new Set(N(t.categoryIds)),subcategoryIds:new Set(N(t.subcategoryIds)),subsubCategoryIds:new Set(N(t.subsubCategoryIds))},z=u.find(U=>U.id===O);if(!z)return;T?(R.identityIds.add(O),(z.categories||[]).forEach(U=>{R.categoryIds.add(U.id),(U.subcategories||[]).forEach(Q=>{R.subcategoryIds.add(Q.id),(Q.subsubs||[]).forEach(re=>{R.subsubCategoryIds.add(re.id)})})})):(z.categories||[]).forEach(U=>{R.categoryIds.delete(U.id),(U.subcategories||[]).forEach(Q=>{R.subcategoryIds.delete(Q.id),(Q.subsubs||[]).forEach(re=>{R.subsubCategoryIds.delete(re.id)})})});const _=k(R);n(_)},g=(O,T,R)=>{var re;const z={identityIds:new Set(N(t.identityIds)),categoryIds:new Set(N(t.categoryIds)),subcategoryIds:new Set(N(t.subcategoryIds)),subsubCategoryIds:new Set(N(t.subsubCategoryIds))},_=u.find(le=>le.id===O);if(!_)return;const U=(re=_.categories)==null?void 0:re.find(le=>le.id===T);if(!U)return;R?(z.identityIds.add(O),z.categoryIds.add(T),(U.subcategories||[]).forEach(le=>{z.subcategoryIds.add(le.id),(le.subsubs||[]).forEach(ue=>{z.subsubCategoryIds.add(ue.id)})})):(U.subcategories||[]).forEach(le=>{z.subcategoryIds.delete(le.id),(le.subsubs||[]).forEach(ue=>{z.subsubCategoryIds.delete(ue.id)})});const Q=k(z);n(Q)},m=(O,T,R,z)=>{var ue,ge;const _={identityIds:new Set(N(t.identityIds)),categoryIds:new Set(N(t.categoryIds)),subcategoryIds:new Set(N(t.subcategoryIds)),subsubCategoryIds:new Set(N(t.subsubCategoryIds))},U=u.find(ke=>ke.id===O);if(!U)return;const Q=(ue=U.categories)==null?void 0:ue.find(ke=>ke.id===T);if(!Q)return;const re=(ge=Q.subcategories)==null?void 0:ge.find(ke=>ke.id===R);if(!re)return;z?(_.identityIds.add(O),_.categoryIds.add(T),_.subcategoryIds.add(R),(re.subsubs||[]).forEach(ke=>{_.subsubCategoryIds.add(ke.id)})):(re.subsubs||[]).forEach(ke=>{_.subsubCategoryIds.delete(ke.id)});const le=k(_);n(le)},p=O=>{var z;const T=u.find(_=>_.id===O);if(!T||!((z=T.categories)!=null&&z.length))return!1;const R=N(t.categoryIds);return T.categories.every(_=>R.has(_.id))},v=(O,T)=>{var U,Q;const R=u.find(re=>re.id===O);if(!R)return!1;const z=(U=R.categories)==null?void 0:U.find(re=>re.id===T);if(!z||!((Q=z.subcategories)!=null&&Q.length))return!1;const _=N(t.subcategoryIds);return z.subcategories.every(re=>_.has(re.id))},b=(O,T,R)=>{var re,le,ue;const z=u.find(ge=>ge.id===O);if(!z)return!1;const _=(re=z.categories)==null?void 0:re.find(ge=>ge.id===T);if(!_)return!1;const U=(le=_.subcategories)==null?void 0:le.find(ge=>ge.id===R);if(!U||!((ue=U.subsubs)!=null&&ue.length))return!1;const Q=N(t.subsubCategoryIds);return U.subsubs.every(ge=>Q.has(ge.id))},y=O=>{var _;const T=u.find(U=>U.id===O);if(!T||!((_=T.categories)!=null&&_.length))return!1;const R=N(t.categoryIds),z=T.categories.filter(U=>R.has(U.id)).length;return z>0&&z<T.categories.length},x=(O,T)=>{var Q,re;const R=u.find(le=>le.id===O);if(!R)return!1;const z=(Q=R.categories)==null?void 0:Q.find(le=>le.id===T);if(!z||!((re=z.subcategories)!=null&&re.length))return!1;const _=N(t.subcategoryIds),U=z.subcategories.filter(le=>_.has(le.id)).length;return U>0&&U<z.subcategories.length},w=(O,T,R)=>{var le,ue,ge;const z=u.find(ke=>ke.id===O);if(!z)return!1;const _=(le=z.categories)==null?void 0:le.find(ke=>ke.id===T);if(!_)return!1;const U=(ue=_.subcategories)==null?void 0:ue.find(ke=>ke.id===R);if(!U||!((ge=U.subsubs)!=null&&ge.length))return!1;const Q=N(t.subsubCategoryIds),re=U.subsubs.filter(ke=>Q.has(ke.id)).length;return re>0&&re<U.subsubs.length},j=O=>O.stopPropagation(),N=O=>O instanceof Set?O:new Set(O||[]),L=(O,T)=>N(t==null?void 0:t[O]).has(T),k=O=>{const T={identityIds:new Set(N(O.identityIds)),categoryIds:new Set(N(O.categoryIds)),subcategoryIds:new Set(N(O.subcategoryIds)),subsubCategoryIds:new Set(N(O.subsubCategoryIds))},R=new Map,z=new Map;u.forEach(_=>{(_.categories||[]).forEach(U=>{R.has(U.id)||R.set(U.id,new Set),(U.subcategories||[]).forEach(Q=>{R.get(U.id).add(Q.id),z.has(Q.id)||z.set(Q.id,new Set),(Q.subsubs||[]).forEach(re=>{z.get(Q.id).add(re.id)})})})});for(const _ of T.subcategoryIds){const U=new Set;for(const[re,le]of R)le.has(_)&&U.add(re);if(!Array.from(U).some(re=>T.categoryIds.has(re))){T.subcategoryIds.delete(_);const re=z.get(_);if(re)for(const le of re)T.subsubCategoryIds.delete(le)}}for(const _ of T.subsubCategoryIds){const U=new Set;for(const[re,le]of z)le.has(_)&&U.add(re);Array.from(U).some(re=>T.subcategoryIds.has(re))||T.subsubCategoryIds.delete(_)}return T},E=()=>{const O=k({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set});n(O)},S=()=>{o({})},I=(O,T,R)=>{const z={identityIds:new Set(N(t.identityIds)),categoryIds:new Set(N(t.categoryIds)),subcategoryIds:new Set(N(t.subcategoryIds)),subsubCategoryIds:new Set(N(t.subsubCategoryIds))},_=z[O];if(R?_.add(T):_.delete(T),!R){const Q=u.find(re=>re.id===T);Q&&Q.categories&&Q.categories.forEach(re=>{z.categoryIds.delete(re.id),re.subcategories&&re.subcategories.forEach(le=>{z.subcategoryIds.delete(le.id),le.subsubs&&le.subsubs.forEach(ue=>{z.subsubCategoryIds.delete(ue.id)})})})}const U=k(z);n(U)},C=(O,T)=>{const z=`id-${O.id}`,_=`cat-${T.id}`;o(U=>{const Q=!U[_],re=te({},U);return re[z]=!0,(O.categories||[]).forEach(le=>{delete re[`cat-${le.id}`],(le.subcategories||[]).forEach(ue=>{delete re[`sc-${ue.id}`]})}),Q&&(re[_]=!0),re})},M=(O,T)=>{const R=`sc-${T.id}`;o(z=>{const _=!z[R],U=te({},z);return(O.subcategories||[]).forEach(Q=>delete U[`sc-${Q.id}`]),_&&(U[R]=!0),U})},A=(O,T)=>R=>{const z=R.target.checked,_={identityIds:new Set(N(t.identityIds)),categoryIds:new Set(N(t.categoryIds)),subcategoryIds:new Set(N(t.subcategoryIds)),subsubCategoryIds:new Set(N(t.subsubCategoryIds))};z?(_.identityIds.add(O),_.categoryIds.add(T.id)):(_.categoryIds.delete(T.id),(T.subcategories||[]).forEach(Q=>{_.subcategoryIds.delete(Q.id),(Q.subsubs||[]).forEach(re=>_.subsubCategoryIds.delete(re.id))}));const U=k(_);n(U)},H=(O,T,R)=>z=>{const _=z.target.checked,U={identityIds:new Set(N(t.identityIds)),categoryIds:new Set(N(t.categoryIds)),subcategoryIds:new Set(N(t.subcategoryIds)),subsubCategoryIds:new Set(N(t.subsubCategoryIds))};_?(U.identityIds.add(O),U.categoryIds.add(T),U.subcategoryIds.add(R.id)):(U.subcategoryIds.delete(R.id),(R.subsubs||[]).forEach(re=>U.subsubCategoryIds.delete(re.id)));const Q=k(U);n(Q)},W=(O,T,R,z)=>_=>{const U=_.target.checked,Q={identityIds:new Set(N(t.identityIds)),categoryIds:new Set(N(t.categoryIds)),subcategoryIds:new Set(N(t.subcategoryIds)),subsubCategoryIds:new Set(N(t.subsubCategoryIds))};U?(Q.identityIds.add(O),Q.categoryIds.add(T),Q.subcategoryIds.add(R),Q.subsubCategoryIds.add(z.id)):Q.subsubCategoryIds.delete(z.id);const re=k(Q);n(re)},X=O=>{const T=N(t.categoryIds);let R=0;return(O.categories||[]).forEach(z=>{T.has(z.id)&&(R+=1)}),R},J=O=>{const T=N(t.subcategoryIds);let R=0;return(O.subcategories||[]).forEach(z=>{T.has(z.id)&&(R+=1)}),R},Z=O=>{const T=N(t.subsubCategoryIds);let R=0;return(O.subsubs||[]).forEach(z=>{T.has(z.id)&&(R+=1)}),R},F=({count:O})=>O>0?r.jsx("span",{className:"ml-2 inline-flex items-center rounded-full border border-gray-200 bg-brand-50 px-1.5 py-0.5 text-[10px] leading-none text-brand-600",children:O}):null;d.useEffect(()=>{if(!(s!=null&&s.length))return;const O={};u.forEach(R=>{const _=`id-${R.id}`;O[_]=!0}),o(O),n({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set})},[s,u,a]);const D=()=>{c("")};return r.jsxs("div",{className:"rounded-xl border border-gray-200",children:[r.jsxs("div",{className:"p-3 border-b bg-white",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(yc.search,{})}),r.jsx("input",{type:"text",placeholder:"Search identities, categories, subcategories...",value:l,onChange:O=>c(O.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none"}),l&&r.jsx("button",{onClick:D,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:r.jsx(yc.clear,{})})]}),l&&r.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Showing ",u.length," result",u.length!==1?"s":"",' for "',l,'"']})]}),!(s!=null&&s.length)&&r.jsx("div",{className:"flex justify-between items-center p-2 border-b bg-white",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:S,className:"text-xs px-2 py-1 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Close All"}),r.jsx("button",{type:"button",onClick:E,className:"text-xs px-2 py-1 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Clear"})]})}),u.map(O=>{const T=O.id,R=`id-${T}`,z=!!i[R],_=(O.categories||[]).length>0,U=X(O);return r.jsxs("div",{className:`border-b last:border-b-0 ${s.length&&!s.some(Q=>Q.toLowerCase()===O.name.toLowerCase()||O.name.toLowerCase()===Q.toLowerCase())?"hidden":""}`,children:[r.jsx("div",{role:_?"button":void 0,tabIndex:_?0:-1,onClick:_?()=>o(Q=>he(te({},Q),{[R]:!Q[R]})):void 0,className:`w-full flex items-center justify-between px-3 py-2 ${_?"hover:bg-gray-50 cursor-pointer":""}`,children:r.jsxs("div",{className:`flex items-center ${z?"bg-brand-50":""}  gap-2 flex-1 min-w-0 px-5 rounded-full py-1.5 border border-gray-200`,children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600 shrink-0",checked:L("identityIds",T),onChange:Q=>I("identityIds",T,Q.target.checked),onClick:j}),r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r.jsx("span",{title:O.name,className:"font-medium text-brand-600 truncate min-w-0",children:O.name}),r.jsx(F,{count:U})]}),_&&r.jsx("span",{className:"text-gray-500",children:z?r.jsx(yc.caretUp,{}):r.jsx(yc.caret,{})})]})}),r.jsx("div",{className:`${s.length?"":"px-4"}`,children:z&&_&&r.jsxs("div",{className:"bg-slate-50/80 px-4 py-3 space-y-3",children:[O.categories&&O.categories.length>0&&r.jsx("div",{className:"flex justify-between items-center px-3 py-2 bg-slate-200 rounded-lg",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:p(T),ref:Q=>{Q&&(Q.indeterminate=y(T))},onChange:Q=>h(T,Q.target.checked)}),r.jsx("span",{className:"text-sm font-medium text-slate-800",children:p(T)?"Deselect All Categories":"Select All Categories"})]})}),(O.categories||[]).map(Q=>{const re=`cat-${Q.id}`,le=!!i[re],ue=(Q.subcategories||[]).length>0,ge=J(Q);return r.jsxs("div",{className:"rounded-lg border border-slate-200",children:[r.jsxs("div",{className:`flex items-center justify-between px-3 py-2 bg-slate-100 ${ue?"cursor-pointer hover:bg-slate-100/80":""}`,onClick:ue?()=>C(O,Q):void 0,children:[r.jsxs("label",{className:"flex items-center gap-2 w-full flex-1",onClick:j,children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:L("categoryIds",Q.id),onChange:A(T,Q)}),r.jsxs("span",{className:"text-sm font-medium text-slate-800 w-full flex items-center",children:[Q.name,r.jsx(F,{count:ge})]})]}),ue&&r.jsx("button",{type:"button",onClick:ke=>{ke.stopPropagation(),C(O,Q)},className:"text-slate-600 hover:text-slate-800","aria-label":le?"Collapse":"Expand",children:le?r.jsx(yc.caretUp,{}):r.jsx(yc.caret,{})})]}),le&&ue&&r.jsxs("div",{className:"px-3 py-2 space-y-2 bg-sky-50 border-l-2 border-sky-200",children:[Q.subcategories&&Q.subcategories.length>0&&r.jsx("div",{className:"flex justify-between items-center px-3 py-2 bg-sky-100 rounded-md",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:v(T,Q.id),ref:ke=>{ke&&(ke.indeterminate=x(T,Q.id))},onChange:ke=>g(T,Q.id,ke.target.checked)}),r.jsx("span",{className:"text-sm font-medium text-sky-900",children:v(T,Q.id)?"Deselect All Subcategories":"Select All Subcategories"})]})}),(Q.subcategories||[]).map(ke=>{const tt=`sc-${ke.id}`,He=!!i[tt],ze=(ke.subsubs||[]).length>0,rt=Z(ke);return r.jsxs("div",{className:"border border-slate-200 rounded-md overflow-hidden",children:[r.jsxs("div",{className:`flex items-center justify-between px-3 py-2 bg-brand-50 ${ze?"cursor-pointer":""}`,onClick:ze?()=>M(Q,ke):void 0,children:[r.jsxs("label",{className:"flex items-center gap-2",onClick:j,children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:L("subcategoryIds",ke.id),onChange:H(T,Q.id,ke)}),r.jsxs("span",{className:"text-sm font-medium text-sky-900 flex items-center",children:[ke.name,r.jsx(F,{count:rt})]})]}),ze&&r.jsx("button",{type:"button",onClick:Xe=>{Xe.stopPropagation(),M(Q,ke)},className:"text-sky-700 hover:text-sky-900","aria-label":He?"Collapse":"Expand",children:He?r.jsx(yc.caretUp,{}):r.jsx(yc.caret,{})})]}),He&&ze&&r.jsxs("div",{className:"px-3 py-2 bg-[#f0f9ff] border-l-2 border-sky-200 grid gap-2",children:[ke.subsubs&&ke.subsubs.length>0&&r.jsx("div",{className:"flex justify-between items-center px-3 py-2 bg-indigo-100 rounded-sm",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:b(T,Q.id,ke.id),ref:Xe=>{Xe&&(Xe.indeterminate=w(T,Q.id,ke.id))},onChange:Xe=>m(T,Q.id,ke.id,Xe.target.checked)}),r.jsx("span",{className:"text-xs font-medium text-indigo-900",children:b(T,Q.id,ke.id)?"Deselect All Subsubcategories":"Select All Subsubcategories"})]})}),ke.subsubs.map(Xe=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:L("subsubCategoryIds",Xe.id),onChange:W(T,Q.id,ke.id,Xe)}),r.jsx("span",{className:"text-xs text-indigo-950/90",children:Xe.name})]},Xe.id))]})]},tt)})]})]},re)})]})})]},R)}),u.length===0&&l&&r.jsxs("div",{className:"p-4 text-center text-gray-500",children:['No results found for "',l,'"']})]})}const wO={caret:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M7 10l5 5 5-5z"})}),caretUp:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M7 14l5-5 5 5z"})})};function Rn({label:e,value:t="",onChange:n,options:s=[],className:a="",column:i,hide:o,_hide:l,collapsible:c=!0,maxVisible:u=3}){const f=t?t.split(","):[],h=s.length>0&&f.length===s.length,[g,m]=d.useState(h),[p,v]=d.useState(!0);d.useEffect(()=>{if(s.length===0){m(!1);return}f.length===s.length?m(!0):m(!1)},[f,s]);const b=(k,E)=>{let S=[...f];E?S.includes(k)||S.push(k):S=S.filter(I=>I!==k),n(S.length>0?S.join(","):"")},y=k=>{m(k),n(k?s.join(","):"")},x=f.length,w=({count:k})=>k>0?r.jsx("span",{className:"ml-2 inline-flex items-center rounded-full border border-gray-200 bg-brand-50 px-1.5 py-0.5 text-[10px] leading-none text-brand-600",children:k}):null,j=c&&s.length>0,N=p?s:[],L=p?0:s.length;return r.jsxs("div",{className:`mt-3 ${a} ${o?"hidden":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:g,onChange:k=>y(k.target.checked),className:"h-4 w-4 accent-brand-600 hidden"}),r.jsx("label",{className:"text-xs text-gray-500 block",children:e}),r.jsx(w,{count:x})]}),j&&r.jsx("button",{type:"button",onClick:()=>v(!p),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1",children:p?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Collapse"}),r.jsx(wO.caretUp,{})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Expand"}),r.jsx(wO.caret,{})]})})]}),r.jsx("div",{className:`mt-1 rounded-xl border border-gray-200 bg-white ${p?"p-3":"p-1"}`,children:N.length>0?r.jsx("div",{className:`grid grid-cols-${i||1} gap-2`,children:N.map(k=>{const E=f.includes(k);return r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:E,onChange:S=>b(k,S.target.checked),className:"h-4 w-4 accent-brand-600"}),k]},k)})}):r.jsxs("div",{className:"text-xs text-gray-400 text-center py-2",children:[L," options hidden"]})})]})}function The({value:e,onChange:t,options:n=["Junior","Mid","Senior","Lead","Director","C-level"],label:s="Experience Level",placeholder:a="Any"}){const i=d.useRef(null),[o,l]=d.useState(!1),[c,u]=d.useState(""),f=d.useMemo(()=>(e||"").split(",").map(p=>p.trim()).filter(Boolean),[e]),h=p=>{const v=new Set(f);v.has(p)?v.delete(p):v.add(p);const b=Array.from(v);t==null||t(b.length?b.join(","):"")},g=d.useMemo(()=>f.length?f.length<=2?f.join(", "):`${f.length} selected`:a,[f,a]),m=d.useMemo(()=>c?n.filter(p=>p.toLowerCase().includes(c.toLowerCase())):n,[n,c]);return d.useEffect(()=>{const p=b=>{i.current&&(i.current.contains(b.target)||l(!1))},v=b=>{b.key==="Escape"&&l(!1)};return o&&(document.addEventListener("mousedown",p),document.addEventListener("keydown",v)),()=>{document.removeEventListener("mousedown",p),document.removeEventListener("keydown",v)}},[o]),r.jsxs("div",{className:"mt-4 relative",ref:i,children:[r.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:s}),r.jsxs("button",{type:"button",onClick:()=>l(p=>!p),"aria-haspopup":"listbox","aria-expanded":o,className:"w-full flex items-center justify-between rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm",children:[r.jsx("span",{className:"truncate",children:g}),r.jsx("svg",{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})]}),o&&r.jsxs("div",{role:"listbox",tabIndex:-1,className:"absolute z-50 mt-1 w-full bg-white border border-gray-200 rounded-xl shadow-lg max-h-64 overflow-auto",children:[r.jsx("div",{className:"sticky top-0 z-10 bg-white p-2 border-b border-gray-100",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:c,onChange:p=>u(p.target.value),placeholder:"Search...",className:"w-full border border-gray-200 rounded-lg px-2 py-1 text-sm pr-6",autoFocus:!0}),c&&r.jsx("button",{type:"button",onClick:()=>u(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:""})]})}),m.length>0?m.map(p=>{const v=f.includes(p);return r.jsxs("label",{className:"flex items-center gap-2 px-2 py-2 rounded-lg hover:bg-gray-50 text-sm cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:v,onChange:()=>h(p)}),r.jsx("span",{children:p})]},p)}):r.jsx("div",{className:"px-2 py-3 text-sm text-gray-400",children:"No results found"}),r.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-2 px-2 py-2 border-t border-gray-100",children:[r.jsx("button",{type:"button",onClick:()=>{t==null||t(""),l(!1)},className:"text-xs px-2 py-1 rounded-lg border border-gray-200 hover:bg-gray-50",children:"Clear"}),r.jsx("button",{type:"button",onClick:()=>l(!1),className:"text-xs px-2 py-1 rounded-lg bg-gray-900 text-white hover:bg-black",children:"Done"})]})]})]})}const Ahe=["places"];function Kl({setShowTotalCount:e,catComponent:t,selectedFilters:n=[],setSelectedFilters:s,showAudienceFilters:a,from:i,query:o,setQuery:l,country:c,setCountry:u,city:f,setCity:h,categoryId:g,setCategoryId:m,subcategoryId:p,setSubcategoryId:v,setRole:b,setGoalId:y,categories:x=[],goals:w=[],goalId:j,role:N,generalTree:L=[],onSubcategoryChange:k,price:E,setPrice:S,serviceType:I,setServiceType:C,priceType:M,setPriceType:A,deliveryTime:H,setDeliveryTime:W,postType:X,setPostType:J,season:Z,setSeason:F,budgetRange:D,setBudgetRange:O,fundingGoal:T,setFundingGoal:R,amountRaised:z,setAmountRaised:_,currency:U,setCurrency:Q,deadline:re,setDeadline:le,experienceLevel:ue,setExperienceLevel:ge,locationType:ke,setLocationType:tt,jobType:He,setJobType:ze,workMode:rt,setWorkMode:Xe,workLocation:V,setWorkLocation:ne,workSchedule:Ce,setWorkSchedule:fe,careerLevel:xe,setCareerLevel:se,paymentType:ae,setPaymentType:G,eventType:Ne,setEventType:Be,date:dt,setDate:nt,registrationType:Te,setRegistrationType:lt,jobsView:_e,setJobsView:be,eventsView:Y,setEventsView:ie,productsView:de,setProductsView:$e,servicesView:it,setServicesView:gt,tourismView:De,setTourismView:Le,fundingView:Ae,setFundingView:Pe,audienceTree:Qe=[],audienceSelections:mt={identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set},setAudienceSelections:Me=()=>{},selectedIndustries:Oe=[],setSelectedIndustries:We,viewOnlyConnections:qe,setViewOnlyConnections:vt}){const Ge=yr(),{user:ot}=Xt(),[Mt,_t]=d.useState({}),[Ct,B]=d.useState(!0),[ee,q]=d.useState({}),[K,ce]=d.useState([]),[ye,Ze]=d.useState(!0);d.useEffect(()=>{pe(this,null,function*(){try{const It=yield fetch("/data/cities.json");if(!It.ok)throw new Error("Failed to fetch cities");const Ft=yield It.json();ce(Ft)}catch(It){console.error("Error fetching cities:",It)}finally{Ze(!1)}})},[]);const[ut,we]=d.useState([]),[Ee,Ie]=d.useState(""),[Ve,ht]=d.useState(!1),ft=d.useRef(null),ct=d.useRef(null),{isLoaded:xt}=a0e({googleMapsApiKey:"AIzaSyAF9zZKiLS2Ep98eFCX-jA871QAJxG5des",libraries:Ahe});d.useEffect(()=>{if(!xt||!ct.current)return;const Ue=new window.google.maps.places.Autocomplete(ct.current,{types:["(cities)"]});Ue.addListener("place_changed",()=>{var lr,wr;const It=Ue.getPlace(),Ft=(lr=It.address_components.find(uc=>uc.types.includes("locality")))==null?void 0:lr.long_name,Kt=(wr=It.address_components.find(uc=>uc.types.includes("country")))==null?void 0:wr.long_name;h(Ft),u(Kt),st(`${Ft||""}${Kt?", "+Kt:""}`)})},[xt,h,u]);const ve=Ue=>{const It=Ue.target.value;st(It);const Ft=It.split(",").map(Kt=>Kt.trim());h(Ft[0]||void 0),u(Ft[1]||Ft[0]||void 0)},Fe=d.useRef(null),[et,Ye]=d.useState(f||""),[pt,Ke]=d.useState(!1),[je,st]=d.useState("");d.useEffect(()=>{f!==et&&Ye(f||"")},[f]),d.useEffect(()=>{pe(this,null,function*(){var It;try{const Ft=yield Se.get("/industry-categories/tree");we(Array.isArray((It=Ft.data)==null?void 0:It.industryCategories)?Ft.data.industryCategories:[])}catch(Ft){console.error("Failed to fetch industries:",Ft),we([])}})},[]),d.useEffect(()=>{const Ue=Ft=>{Fe.current&&(Fe.current.contains(Ft.target)||(Ke(!1),Ye("")))},It=Ft=>{Ft.key==="Escape"&&(Ke(!1),Ye(""))};return pt&&(document.addEventListener("mousedown",Ue),document.addEventListener("keydown",It)),()=>{document.removeEventListener("mousedown",Ue),document.removeEventListener("keydown",It)}},[pt]),d.useEffect(()=>{const Ue=Ft=>{ft.current&&(ft.current.contains(Ft.target)||(ht(!1),Ie("")))},It=Ft=>{Ft.key==="Escape"&&(ht(!1),Ie(""))};return Ve&&(document.addEventListener("mousedown",Ue),document.addEventListener("keydown",It)),()=>{document.removeEventListener("mousedown",Ue),document.removeEventListener("keydown",It)}},[Ve]);const wt=d.useMemo(()=>f?String(f).split(",").map(Ue=>Ue.trim()).filter(Boolean):[],[f]),Lt=d.useMemo(()=>c?String(c).split(",").map(Ue=>Ue.trim().toLowerCase()).filter(Boolean):[],[c]),Wt=Ue=>{const It=new Set(wt);It.has(Ue)?It.delete(Ue):It.add(Ue);const Ft=Array.from(It);h(Ft.length?Ft.join(", "):void 0),Ye("")},hr=Ue=>{const It=new Set(Oe);It.has(Ue)?It.delete(Ue):It.add(Ue);const Ft=Array.from(It);We==null||We(Ft),Ie(""),we(Kt=>[...Kt])},Dt=d.useMemo(()=>wt.length?wt.length<=2?wt.join(", "):`${wt.length} cities selected`:"All cities",[wt]),er=d.useMemo(()=>{let Ue=K;if(Lt.length>0){const It=new Set(Lt);Ue=Ue.filter(Ft=>It.has(Ft.country.toLowerCase()))}if(et){const It=et.toLowerCase();Ue=Ue.filter(Ft=>{var Kt,lr;return Ft.city.toLowerCase().includes(It)||((lr=(Kt=Ft.city_ascii)==null?void 0:Kt.toLowerCase())==null?void 0:lr.includes(It))})}return Ue.slice(0,30)},[K,Lt,et]),tr=d.useMemo(()=>Oe.length?Oe.length<=2?Oe.map(It=>{var Ft;return(Ft=ut.find(Kt=>Kt.id===It))==null?void 0:Ft.name}).filter(Boolean).join(", "):`${Oe.length} industries selected`:"All industries",[Oe,ut]),jt=d.useMemo(()=>{let Ue=ut;if(Ee){const It=Ee.toLowerCase();Ue=Ue.filter(Ft=>Ft.name.toLowerCase().includes(It))}return Ue.slice(0,30)},[ut,Ee]),Zt=d.useMemo(()=>{const Ue=n.length,It=Object.values(Mt).filter(Boolean).length;return Ue+It},[n,Mt]),cr=({count:Ue})=>Ue>0?r.jsx("span",{className:"ml-2 inline-flex items-center rounded-full border border-gray-200 bg-brand-50 px-1.5 py-0.5 text-[10px] leading-none text-brand-600",children:Ue}):null,br=Ue=>Ue.subcategories?Ue.subcategories.filter(It=>Mt[It.id]).length:0,Xr=Ue=>{q(It=>he(te({},It),{[Ue]:!It[Ue]}))},on=x.find(Ue=>String(Ue.id)===String(g)),gr=(on==null?void 0:on.subcategories)||[],pa=["Entrepreneur","Seller","Buyer","Job Seeker","Professional","Partnership","Investor","Event Organizer","Government Official","Traveler","NGO","Support Role","Freelancer","Student"],Dn=i==="service"||i==="services",qr=i==="tourism",Fs=i==="funding",xa=i==="people",va=d.useMemo(()=>{var Ue,It,Ft,Kt;return!!(o&&o.trim()||c||f||g||p||N||i==="events"&&(Ne||dt||Te||Y)||i==="products"&&de||Dn&&it||qr&&De||Fs&&Ae||j||n.length>0||wt.length>0||Oe.length>0||i==="products"&&E!==void 0&&E!==""&&E!==null||i==="jobs"&&(ue||He||rt||V||Ce||xe||ae||_e)||Dn&&(I||M||H||ue||ke)||qr&&(X||Z||D)||Fs&&(T||z||U||re)||xa&&(ue||qe)||xa&&(ue||qe)||i==="events"&&(Ne||dt||Te)||mt&&(((Ue=mt.identityIds)==null?void 0:Ue.size)>0||((It=mt.categoryIds)==null?void 0:It.size)>0||((Ft=mt.subcategoryIds)==null?void 0:Ft.size)>0||((Kt=mt.subsubCategoryIds)==null?void 0:Kt.size)>0))},[Y,de,it,De,Ae,o,c,f,g,p,N,j,n,wt,Oe,E,i,He,rt,V,Ce,xe,ae,_e,ue,ke,Dn,I,M,H,qr,X,Z,D,Fs,T,z,U,re,xa,qe,Ne,dt,Te,mt]);d.useEffect(()=>{e(va)},[va,e]);const ra=()=>{l(""),u(void 0),h(void 0),m(void 0),v(void 0),b==null||b(void 0),y==null||y(void 0),Ye(""),st(""),vt==null||vt(!1),s==null||s([]),_t({}),Ke(!1),S==null||S(""),C==null||C(""),A==null||A(""),W==null||W(""),ge==null||ge(""),tt==null||tt(""),ze==null||ze(""),Xe==null||Xe(""),ne==null||ne(""),fe==null||fe(""),se==null||se(""),G==null||G(""),be==null||be(""),J==null||J(""),F==null||F(""),O==null||O(""),R==null||R(""),_==null||_(""),Q==null||Q(""),le==null||le(""),Be==null||Be(""),nt==null||nt(""),lt==null||lt(""),Me==null||Me({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),We==null||We([]),Ie(""),ht(!1)};return d.useEffect(()=>{ra();const Ue=n.length?document.querySelector("#secundary-filters"):document.querySelector("#filters")},[Ge.updateData]),d.useEffect(()=>{!Ge.filtersToClear||Ge.filtersToClear.length===0||(Ge.filtersToClear.forEach(Ue=>{switch(Ue){case"Search":l("");break;case"Country":u(void 0),Ye(""),st("");break;case"City":h(void 0),Ye("");break;case"Category":m(void 0);break;case"Subcategory":v(void 0);break;case"Role":b==null||b(void 0);break;case"Goal":y==null||y(void 0);break;case"Price":S==null||S("");break;case"Experience Level":ge==null||ge("");break;case"Job Type":ze==null||ze("");break;case"Work Mode":Xe==null||Xe("");break;case"View Only my connections":vt==null||vt(!1);break;case"Work Location":ne==null||ne("");break;case"Work Schedule":fe==null||fe("");break;case"Career Level":se==null||se("");break;case"Payment Type":G==null||G("");break;case"Service Type":C==null||C("");break;case"Price Type":A==null||A("");break;case"Typical Delivery":W==null||W("");break;case"Location Type":tt==null||tt("");break;case"Post Type":J==null||J("");break;case"Best Season to Visit":F==null||F("");break;case"Budget Range":O==null||O("");break;case"Funding Goal":R==null||R("");break;case"Amount Raised":_==null||_("");break;case"Currency":Q==null||Q("");break;case"Deadline":le==null||le("");break;case"Event Type":Be==null||Be("");break;case"Date":nt==null||nt("");break;case"Registration Type":lt==null||lt("");break;case"Audience Interests":Me==null||Me({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set});break;case"Industries":We==null||We([]);break}}),Ge.setFiltersToClear([]))},[Ge.filtersToClear]),r.jsxs("div",{id:"filters",className:"rounded-2xl bg-white border border-gray-100 shadow-sm p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold flex items-center gap-2",children:"Filters"}),r.jsx("button",{type:"button",onClick:ra,disabled:!va,className:`inline-flex items-center rounded-lg border px-2.5 py-1.5 text-xs font-medium transition ${va?"border-gray-200 text-gray-700 hover:bg-gray-50":"border-gray-100 text-gray-400 cursor-not-allowed"}`,"aria-disabled":!va,title:"Reset all filters",children:"Reset"})]}),r.jsxs("div",{className:"mt-3 hidden",children:[r.jsx("label",{className:"text-xs text-gray-500",children:"City / Country"}),xt?r.jsx("input",{ref:ct,value:je,onChange:ve,placeholder:"Type city or country",className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm"}):r.jsx("input",{disabled:!0,placeholder:"Loading...",className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm"})]}),r.jsx("div",{id:"secundary-filters"}),r.jsxs("div",{className:"mt-3 hidden",children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Category"}),r.jsxs("select",{className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm",value:g||"",onChange:Ue=>{const It=Ue.target.value||"";m(It||void 0),v(void 0)},children:[r.jsx("option",{value:"",children:"All categories"}),x.map(Ue=>r.jsx("option",{value:Ue.id,children:Ue.name},Ue.id))]})]}),r.jsxs("div",{className:"mt-3 hidden",children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Subcategory"}),r.jsxs("select",{className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm",value:p||"",onChange:Ue=>v(Ue.target.value||void 0),disabled:!g,children:[r.jsx("option",{value:"",children:"All subcategories"}),gr.map(Ue=>r.jsx("option",{value:Ue.id,children:Ue.name},Ue.id))]})]}),i==="events"&&r.jsx(Rn,{hide:i!=="events",value:Y||"",onChange:ie,options:["Events","Event Experiences","Event Seekers"],label:"View",placeholder:"Select"}),i==="products"&&r.jsx(Rn,{hide:i!=="products",value:de||"",onChange:$e,options:["Products","Product Reviews","Product Seekers"],label:"View",placeholder:"Select"}),Dn&&r.jsx(Rn,{hide:!Dn,value:it||"",onChange:gt,options:["Service Offers","Service Requests","Service Experiences"],label:"View",placeholder:"Select"}),qr&&r.jsx(Rn,{hide:!qr,value:De||"",onChange:Le,options:["Travel Experiences","Destination Seekers"],label:"View",placeholder:"Select"}),Fs&&r.jsx(Rn,{hide:!Fs,value:Ae||"",onChange:Pe,options:["Funding Opportunities","Fund Seekers"],label:"View",placeholder:"Select"}),r.jsx("div",{children:t}),Array.isArray(Qe)&&Qe.length>0&&n.length>0&&a&&r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:"Audience Interests"}),r.jsx(fl,{tree:Qe,shown:n,from:i,selected:mt||{identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set},onChange:Me})]}),Dn&&r.jsxs(r.Fragment,{children:[r.jsx(Rn,{hide:!n.includes("Service Type"),value:I||"",onChange:C,options:["Consulting","Freelance Work","Product/Service"],label:"Service Type"}),r.jsx(Rn,{hide:!n.includes("Price Type"),value:M||"",onChange:A,options:["Fixed Price","Hourly"],label:"Price Type"}),r.jsx(Rn,{hide:!n.includes("Typical Delivery"),value:H||"",onChange:W,options:["1 Day","3 Days","1 Week","2 Weeks","1 Month"],label:"Typical Delivery"}),r.jsx(Rn,{hide:!n.includes("Location Type"),value:ke||"",onChange:tt,options:["Remote","On-site"],label:"Location Type"}),r.jsx(Rn,{hide:!n.includes("Experience Level"),value:ue||"",onChange:ge,options:["Entry Level","Intermediate","Expert"],label:"Experience Level",placeholder:"Any"})]}),qr&&r.jsxs(r.Fragment,{children:[r.jsx(Rn,{hide:!n.includes("Post Type"),value:X||"",onChange:J,options:["Destination","Experience","Culture"],label:"Post Type"}),r.jsx(Rn,{hide:!n.includes("Best Season to Visit"),value:Z||"",onChange:F,options:["Summer","Winter","All Year","Rainy Season","Dry Season"],label:"Best Season to Visit"}),r.jsx(Rn,{hide:!n.includes("Budget Range"),value:D||"",onChange:O,options:["$100 - $500","$500 - $2000","$2000+"],label:"Budget Range"})]}),xa&&r.jsx(r.Fragment,{children:ot&&r.jsx("div",{className:"mt-3",children:r.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:qe||!1,onClick:Ue=>vt==null?void 0:vt(Ue.target.checked)}),r.jsx("span",{className:"text-gray-700",children:"View my connections"})]})})}),i==="events"&&r.jsxs(r.Fragment,{children:[r.jsx(Rn,{hide:!n.includes("Event Type"),value:Ne||"",onChange:Be,options:["Workshop","Conference","Networking"],label:"Event Type"}),r.jsxs("div",{className:"mt-3 hidden",children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Date"}),r.jsx("input",{type:"date",value:dt||"",onChange:Ue=>nt==null?void 0:nt(Ue.target.value),className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),r.jsx(Rn,{hide:!n.includes("Registration Type"),value:Te||"",onChange:lt,options:["Free","Paid"],label:"Registration Type"}),L&&L.length>0&&n.some(Ue=>L.some(It=>It.id===Ue))&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-xs text-gray-500 block",children:"Categories"}),r.jsx(cr,{count:Zt})]}),r.jsx("button",{type:"button",onClick:()=>B(!Ct),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1",children:Ct?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Collapse"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Expand"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),Ct&&r.jsx("div",{className:"space-y-3",children:L.map(Ue=>n.includes(Ue.id)&&r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:n.includes(Ue.id),onChange:It=>{var Ft;if(It.target.checked)s&&!n.includes(Ue.id)&&s([...n,Ue.id]);else if(s){s(n.filter(lr=>lr!==Ue.id)),Ge.setFiltersToClear([Ue.name]);const Kt=te({},Mt);(Ft=Ue.subcategories)==null||Ft.forEach(lr=>{const wr=lr.id;delete Kt[wr]}),_t(Kt),k&&k(Kt)}},className:"h-4 w-4 accent-brand-600"}),r.jsx("label",{className:"text-xs text-gray-500 block",children:Ue.name}),r.jsx(cr,{count:br(Ue)})]}),Ue.subcategories&&Ue.subcategories.length>0&&r.jsx("button",{type:"button",onClick:()=>Xr(Ue.id),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1 p-1",children:ee[Ue.id]!==!1?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Collapse"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Expand"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),n.includes(Ue.id)&&Ue.subcategories&&Ue.subcategories.length>0&&ee[Ue.id]!==!1&&r.jsx("div",{className:"mt-1 rounded-xl border border-gray-200 bg-white p-3",children:r.jsx("div",{className:"grid grid-cols-1 gap-2",children:Ue.subcategories.map(It=>{const Ft=It.id,Kt=Mt[Ft]||!1;return r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:Kt,onChange:lr=>{const wr=he(te({},Mt),{[Ft]:lr.target.checked});_t(wr),k&&k(wr)}}),It.name]},It.id)})})})]},Ue.id))})]})]}),i==="jobs"&&r.jsx(r.Fragment,{children:L&&L.length>0&&n.some(Ue=>L.some(It=>It.id===Ue))&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-xs text-gray-500 block",children:"Categories"}),r.jsx(cr,{count:Zt})]}),r.jsx("button",{type:"button",onClick:()=>B(!Ct),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1",children:Ct?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Collapse"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Expand"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),Ct&&r.jsx("div",{className:"space-y-3",children:L.map(Ue=>n.includes(Ue.id)&&r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:n.includes(Ue.id),onChange:It=>{var Ft;if(It.target.checked)s&&!n.includes(Ue.id)&&s([...n,Ue.id]);else if(s){s(n.filter(lr=>lr!==Ue.id)),Ge.setFiltersToClear([Ue.name]);const Kt=te({},Mt);(Ft=Ue.subcategories)==null||Ft.forEach(lr=>{const wr=lr.id;delete Kt[wr]}),_t(Kt),k&&k(Kt)}},className:"h-4 w-4 accent-brand-600"}),r.jsx("label",{className:"text-xs text-gray-500 block",children:Ue.name}),r.jsx(cr,{count:br(Ue)})]}),Ue.subcategories&&Ue.subcategories.length>0&&r.jsx("button",{type:"button",onClick:()=>Xr(Ue.id),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1 p-1",children:ee[Ue.id]!==!1?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Collapse"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Expand"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),n.includes(Ue.id)&&Ue.subcategories&&Ue.subcategories.length>0&&ee[Ue.id]!==!1&&r.jsx("div",{className:"mt-1 rounded-xl border border-gray-200 bg-white p-3",children:r.jsx("div",{className:"grid grid-cols-1 gap-2",children:Ue.subcategories.map(It=>{const Ft=It.id,Kt=Mt[Ft]||!1;return r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:Kt,onChange:lr=>{const wr=he(te({},Mt),{[Ft]:lr.target.checked});_t(wr),k&&k(wr)}}),It.name]},It.id)})})})]},Ue.id))})]})}),i==="products"&&r.jsx(r.Fragment,{children:L&&L.length>0&&n.some(Ue=>L.some(It=>It.id===Ue))&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-xs text-gray-500 block",children:"Categories"}),r.jsx(cr,{count:Zt})]}),r.jsx("button",{type:"button",onClick:()=>B(!Ct),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1",children:Ct?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Collapse"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Expand"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),Ct&&r.jsx("div",{className:"space-y-3",children:L.map(Ue=>n.includes(Ue.id)&&r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:n.includes(Ue.id),onChange:It=>{var Ft;if(It.target.checked)s&&!n.includes(Ue.id)&&s([...n,Ue.id]);else if(s){s(n.filter(lr=>lr!==Ue.id)),Ge.setFiltersToClear([Ue.name]);const Kt=te({},Mt);(Ft=Ue.subcategories)==null||Ft.forEach(lr=>{const wr=lr.id;delete Kt[wr]}),_t(Kt),k&&k(Kt)}},className:"h-4 w-4 accent-brand-600"}),r.jsx("label",{className:"text-xs text-gray-500 block",children:Ue.name}),r.jsx(cr,{count:br(Ue)})]}),Ue.subcategories&&Ue.subcategories.length>0&&r.jsx("button",{type:"button",onClick:()=>Xr(Ue.id),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1 p-1",children:ee[Ue.id]!==!1?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Collapse"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Expand"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),n.includes(Ue.id)&&Ue.subcategories&&Ue.subcategories.length>0&&ee[Ue.id]!==!1&&r.jsx("div",{className:"mt-1 rounded-xl border border-gray-200 bg-white p-3",children:r.jsx("div",{className:"grid grid-cols-1 gap-2",children:Ue.subcategories.map(It=>{const Ft=It.id,Kt=Mt[Ft]||!1;return r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:Kt,onChange:lr=>{const wr=he(te({},Mt),{[Ft]:lr.target.checked});_t(wr),k&&k(wr)}}),It.name]},It.id)})})})]},Ue.id))})]})}),Dn&&r.jsx(r.Fragment,{children:L&&L.length>0&&n.some(Ue=>L.some(It=>It.id===Ue))&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-xs text-gray-500 block",children:"Categories"}),r.jsx(cr,{count:Zt})]}),r.jsx("button",{type:"button",onClick:()=>B(!Ct),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1",children:Ct?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Collapse"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Expand"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),Ct&&r.jsx("div",{className:"space-y-3",children:L.map(Ue=>n.includes(Ue.id)&&r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:n.includes(Ue.id),onChange:It=>{var Ft;if(It.target.checked)s&&!n.includes(Ue.id)&&s([...n,Ue.id]);else if(s){s(n.filter(lr=>lr!==Ue.id)),Ge.setFiltersToClear([Ue.name]);const Kt=te({},Mt);(Ft=Ue.subcategories)==null||Ft.forEach(lr=>{const wr=lr.id;delete Kt[wr]}),_t(Kt),k&&k(Kt)}},className:"h-4 w-4 accent-brand-600"}),r.jsx("label",{className:"text-xs text-gray-500 block",children:Ue.name}),r.jsx(cr,{count:br(Ue)})]}),Ue.subcategories&&Ue.subcategories.length>0&&r.jsx("button",{type:"button",onClick:()=>Xr(Ue.id),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1 p-1",children:ee[Ue.id]!==!1?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Collapse"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Expand"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),n.includes(Ue.id)&&Ue.subcategories&&Ue.subcategories.length>0&&ee[Ue.id]!==!1&&r.jsx("div",{className:"mt-1 rounded-xl border border-gray-200 bg-white p-3",children:r.jsx("div",{className:"grid grid-cols-1 gap-2",children:Ue.subcategories.map(It=>{const Ft=It.id,Kt=Mt[Ft]||!1;return r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:Kt,onChange:lr=>{const wr=he(te({},Mt),{[Ft]:lr.target.checked});_t(wr),k&&k(wr)}}),It.name]},It.id)})})})]},Ue.id))})]})}),qr&&r.jsx(r.Fragment,{children:L&&L.length>0&&n.some(Ue=>L.some(It=>It.id===Ue))&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-xs text-gray-500 block",children:"Categories"}),r.jsx(cr,{count:Zt})]}),r.jsx("button",{type:"button",onClick:()=>B(!Ct),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1",children:Ct?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Collapse"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Expand"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),Ct&&r.jsx("div",{className:"space-y-3",children:L.map(Ue=>n.includes(Ue.id)&&r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:n.includes(Ue.id),onChange:It=>{var Ft;if(It.target.checked)s&&!n.includes(Ue.id)&&s([...n,Ue.id]);else if(s){s(n.filter(lr=>lr!==Ue.id)),Ge.setFiltersToClear([Ue.name]);const Kt=te({},Mt);(Ft=Ue.subcategories)==null||Ft.forEach(lr=>{const wr=lr.id;delete Kt[wr]}),_t(Kt),k&&k(Kt)}},className:"h-4 w-4 accent-brand-600"}),r.jsx("label",{className:"text-xs text-gray-500 block",children:Ue.name}),r.jsx(cr,{count:br(Ue)})]}),Ue.subcategories&&Ue.subcategories.length>0&&r.jsx("button",{type:"button",onClick:()=>Xr(Ue.id),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1 p-1",children:ee[Ue.id]!==!1?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Collapse"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Expand"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),n.includes(Ue.id)&&Ue.subcategories&&Ue.subcategories.length>0&&ee[Ue.id]!==!1&&r.jsx("div",{className:"mt-1 rounded-xl border border-gray-200 bg-white p-3",children:r.jsx("div",{className:"grid grid-cols-1 gap-2",children:Ue.subcategories.map(It=>{const Ft=It.id,Kt=Mt[Ft]||!1;return r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:Kt,onChange:lr=>{const wr=he(te({},Mt),{[Ft]:lr.target.checked});_t(wr),k&&k(wr)}}),It.name]},It.id)})})})]},Ue.id))})]})}),Fs&&r.jsx(r.Fragment,{children:L&&L.length>0&&n.some(Ue=>L.some(It=>It.id===Ue))&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-xs text-gray-500 block",children:"Categories"}),r.jsx(cr,{count:Zt})]}),r.jsx("button",{type:"button",onClick:()=>B(!Ct),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1",children:Ct?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Collapse"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Expand"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),Ct&&r.jsx("div",{className:"space-y-3",children:L.map(Ue=>n.includes(Ue.id)&&r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:n.includes(Ue.id),onChange:It=>{var Ft;if(It.target.checked)s&&!n.includes(Ue.id)&&s([...n,Ue.id]);else if(s){s(n.filter(lr=>lr!==Ue.id)),Ge.setFiltersToClear([Ue.name]);const Kt=te({},Mt);(Ft=Ue.subcategories)==null||Ft.forEach(lr=>{const wr=lr.id;delete Kt[wr]}),_t(Kt),k&&k(Kt)}},className:"h-4 w-4 accent-brand-600"}),r.jsx("label",{className:"text-xs text-gray-500 block",children:Ue.name}),r.jsx(cr,{count:br(Ue)})]}),Ue.subcategories&&Ue.subcategories.length>0&&r.jsx("button",{type:"button",onClick:()=>Xr(Ue.id),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1 p-1",children:ee[Ue.id]!==!1?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Collapse"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Expand"}),r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),n.includes(Ue.id)&&Ue.subcategories&&Ue.subcategories.length>0&&ee[Ue.id]!==!1&&r.jsx("div",{className:"mt-1 rounded-xl border border-gray-200 bg-white p-3",children:r.jsx("div",{className:"grid grid-cols-1 gap-2",children:Ue.subcategories.map(It=>{const Ft=It.id,Kt=Mt[Ft]||!1;return r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:Kt,onChange:lr=>{const wr=he(te({},Mt),{[Ft]:lr.target.checked});_t(wr),k&&k(wr)}}),It.name]},It.id)})})})]},Ue.id))})]})}),Fs&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Funding Goal"}),r.jsx("input",{type:"number",min:"0",value:T!=null?T:"",onChange:Ue=>R==null?void 0:R(Ue.target.value.replace(/[^\d\-\(\)]/g,"")),placeholder:"e.g., 50000",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Amount Raised"}),r.jsx("input",{type:"number",min:"0",value:z!=null?z:"",onChange:Ue=>_==null?void 0:_(Ue.target.value.replace(/[^\d\-\(\)]/g,"")),placeholder:"e.g., 25000",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Deadline"}),r.jsx("input",{type:"date",value:re||"",onChange:Ue=>le==null?void 0:le(Ue.target.value),className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]})]}),i==="products"&&r.jsxs("div",{className:"mt-3 hidden",children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Price"}),r.jsx("input",{type:"range",min:"0",max:"1000",step:"0.01",value:E!=null?E:0,onChange:Ue=>S==null?void 0:S(Ue.target.value),className:"mt-1 w-full cursor-pointer"}),r.jsx("div",{className:"text-sm text-gray-700 mt-1",children:E!=null?E:"0.00"})]}),i==="jobs"&&r.jsxs(r.Fragment,{children:[r.jsx(Rn,{hide:i!=="jobs",value:_e||"",onChange:be,options:["Job Seekers","Job Offers","Job Experiences"],label:"View",placeholder:"Select"}),r.jsx(Rn,{hide:i!="jobs",value:He||"",onChange:ze,options:["Full-time","Part-time","Contract","Internship","Temporary"],label:"Job Type"}),r.jsx(Rn,{value:V||"",onChange:ne,options:["Office","Field","Home","Client Site"],label:"Work Location"}),r.jsx(Rn,{value:Ce||"",onChange:fe,options:["Regular Hours","Flexible Hours","Shifts","Weekends","Overtime","On-Call"],label:"Work Schedule"}),r.jsx(Rn,{value:xe||"",onChange:se,options:["Entry Level","Mid Level","Senior Level","Executive","Volunteer / Community Work"],label:"Career Level"}),r.jsx(Rn,{value:ae||"",onChange:G,options:["Hourly Jobs","Salaried Jobs","Commission-Based","Stipend-Based","Equity / Profit-Sharing Roles"],label:"Payment Type"})]}),r.jsx("div",{className:"mt-3",children:r.jsx(The,{value:c,onChange:Ue=>{u(Ue)},options:An,label:"Country",placeholder:"All"})}),r.jsxs("div",{className:"mt-3 relative",ref:Fe,children:[r.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:"City"}),r.jsxs("button",{type:"button",onClick:()=>Ke(Ue=>!Ue),"aria-haspopup":"listbox","aria-expanded":pt,className:"w-full flex items-center justify-between rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm",children:[r.jsx("span",{className:"truncate",children:Dt}),r.jsx("svg",{className:`h-4 w-4 transition-transform ${pt?"rotate-180":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})]}),pt&&r.jsxs("div",{role:"listbox",tabIndex:-1,className:"absolute z-[100] mt-1 w-full bg-white border border-gray-200 rounded-xl shadow-lg max-h-64 overflow-auto",children:[r.jsx("div",{className:"sticky top-0 z-10 bg-white p-2 border-b border-gray-100",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:et,onChange:Ue=>Ye(Ue.target.value),placeholder:"Search cities...",className:"w-full border border-gray-200 rounded-lg px-2 py-1 text-sm pr-6",autoFocus:!0}),et&&r.jsx("button",{type:"button",onClick:()=>Ye(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:""})]})}),er.length>0?er.map(Ue=>{const It=wt.includes(Ue.city);return r.jsxs("label",{className:"flex items-center gap-2 px-2 py-2 rounded-lg hover:bg-gray-50 text-sm cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:It,onChange:()=>Wt(Ue.city)}),r.jsxs("span",{children:[Ue.city,", ",Ue.country]})]},Ue.id)}):r.jsx("div",{className:"px-2 py-3 text-sm text-gray-400",children:"No cities found"}),r.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-2 px-2 py-2 border-t border-gray-100",children:[r.jsx("button",{type:"button",onClick:()=>{h(void 0),Ye(""),Ke(!1)},className:"text-xs px-2 py-1 rounded-lg border border-gray-200 hover:bg-gray-50",children:"Clear"}),r.jsx("button",{type:"button",onClick:()=>Ke(!1),className:"text-xs px-2 py-1 rounded-lg bg-gray-900 text-white hover:bg-black",children:"Done"})]})]})]}),r.jsxs("div",{className:"mt-3 relative",ref:ft,children:[r.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:"Industries"}),r.jsxs("button",{type:"button",onClick:()=>ht(Ue=>!Ue),"aria-haspopup":"listbox","aria-expanded":Ve,className:"w-full flex items-center justify-between rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm",children:[r.jsx("span",{className:"truncate",children:tr}),r.jsx("svg",{className:`h-4 w-4 transition-transform ${Ve?"rotate-180":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})]}),Ve&&r.jsxs("div",{role:"listbox",tabIndex:-1,className:"absolute z-[100] mt-1 w-full bg-white border border-gray-200 rounded-xl shadow-lg max-h-64 overflow-auto",children:[r.jsx("div",{className:"sticky top-0 z-10 bg-white p-2 border-b border-gray-100",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:Ee,onChange:Ue=>Ie(Ue.target.value),placeholder:"Search industries...",className:"w-full border border-gray-200 rounded-lg px-2 py-1 text-sm pr-6",autoFocus:!0}),Ee&&r.jsx("button",{type:"button",onClick:()=>Ie(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:""})]})}),jt.length>0?jt.map(Ue=>{const It=Oe.includes(Ue.id);return r.jsxs("label",{className:"flex items-center gap-2 px-2 py-2 rounded-lg hover:bg-gray-50 text-sm cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:It,onChange:()=>hr(Ue.id)}),r.jsx("span",{children:Ue.name})]},`${Ue.id}-${It}`)}):r.jsx("div",{className:"px-2 py-3 text-sm text-gray-400",children:"No industries found"}),r.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-2 px-2 py-2 border-t border-gray-100",children:[r.jsx("button",{type:"button",onClick:()=>{We==null||We([]),Ie(""),ht(!1)},className:"text-xs px-2 py-1 rounded-lg border border-gray-200 hover:bg-gray-50",children:"Clear"}),r.jsx("button",{type:"button",onClick:()=>ht(!1),className:"text-xs px-2 py-1 rounded-lg bg-gray-900 text-white hover:bg-black",children:"Done"})]})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Search"}),r.jsxs("div",{className:"mt-1 flex items-center gap-2 rounded-xl border border-gray-200 px-3 py-2",children:[r.jsx(Hs.search,{}),r.jsx("input",{className:"w-full text-sm outline-none",placeholder:"Title, keywords",value:o,onChange:Ue=>l(Ue.target.value)})]})]}),r.jsxs("div",{className:"mt-3 hidden",children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Goal"}),r.jsxs("select",{className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm",value:j||"",onChange:Ue=>y(Ue.target.value||void 0),children:[r.jsx("option",{value:"",children:"All goals"}),w.map(Ue=>r.jsx("option",{value:Ue.id,children:Ue.name},Ue.id))]})]}),r.jsxs("div",{className:"mt-3 hidden",children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Role"}),r.jsxs("select",{className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm",value:N||"",onChange:Ue=>b(Ue.target.value||void 0),children:[r.jsx("option",{value:"",children:"All roles"}),pa.map(Ue=>r.jsx("option",{value:Ue,children:Ue},Ue))]})]})]})}function Ld(s){var a=s,{isOpen:e,onClose:t}=a,n=pc(a,["isOpen","onClose"]);return e?r.jsxs("div",{className:"fixed inset-0 z-[60]",children:[r.jsx("button",{className:"absolute inset-0 bg-black/40 backdrop-blur-[1px]",onClick:t,"aria-label":"Close filters"}),r.jsxs("div",{className:"absolute inset-x-0 bottom-0 max-h-[80vh] overflow-auto rounded-t-2xl bg-white p-4 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between pb-2 border-b",children:[r.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[r.jsx(Hs.filter,{})," Filters"]}),r.jsx("button",{onClick:t,className:"grid h-8 w-8 place-items-center rounded-lg border border-gray-200","aria-label":"Close",children:r.jsx(Hs.close,{})})]}),r.jsx("div",{className:"pt-3",children:r.jsx(Kl,te({},n))})]})]}):null}function _he({isOpen:e,onClose:t,onTypeSelect:n,postTypes:s}){const[a,i]=d.useState(!1);if(!e)return null;const o=a?s:s==null?void 0:s.slice(0,4),l=(s==null?void 0:s.length)>4,c=(o==null?void 0:o.length)+(l&&!a?1:0),u=()=>c<=2?"grid-cols-2 max-w-md mx-auto":c===3?"grid-cols-3 max-w-2xl mx-auto":"grid-cols-2 sm:grid-cols-4";return r.jsx("div",{className:"fixed z-[99] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:r.jsxs("div",{className:"bg-white z-[99] w-full max-w-2xl mx-4 h-[80vh] rounded-2xl shadow-xl flex flex-col overflow-hidden relative",children:[r.jsxs("div",{className:"bg-brand-500 p-4 flex justify-between items-center flex-shrink-0",children:[r.jsx("div",{className:"text-white font-medium",children:"Create Your Post"}),r.jsx("button",{onClick:t,className:"text-white hover:text-brand-100",children:r.jsx(Sr,{size:20})})]}),r.jsxs("div",{className:"flex-1 p-6 overflow-y-auto flex flex-col",children:[r.jsxs("div",{className:"text-center mb-8 mt-5",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"What would you like to share?"}),r.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Select an option below to get started."})]}),r.jsx("div",{className:"flex-1"}),r.jsxs("div",{className:`grid ${u()} gap-4`,children:[o==null?void 0:o.map((f,h)=>r.jsxs("button",{onClick:()=>n(f),className:"flex flex-col items-center gap-3 p-4 rounded-xl border-2 border-gray-100 hover:border-brand-200 hover:bg-brand-50 transition-all duration-200 text-center group hover:shadow-md",children:[f.Icon&&r.jsx("div",{className:"p-3 rounded-lg bg-brand-100 group-hover:bg-brand-200 transition-colors",children:r.jsx(f.Icon,{className:"w-6 h-6 text-brand-600 group-hover:text-brand-700"})}),r.jsx("span",{className:"font-medium text-gray-900 text-sm leading-tight",children:f.label})]},h)),l&&!a&&r.jsxs("button",{onClick:()=>i(!0),className:"flex flex-col items-center gap-3 p-4 rounded-xl border-2 border-gray-100 hover:border-brand-200 hover:bg-brand-50 transition-all duration-200 text-center group hover:shadow-md",children:[r.jsx("div",{className:"p-3 rounded-lg bg-gray-100 group-hover:bg-brand-200 transition-colors",children:r.jsx(id,{className:"w-6 h-6 text-gray-600 group-hover:text-brand-700"})}),r.jsx("span",{className:"font-medium text-gray-900 text-sm leading-tight",children:"More"})]}),l&&a&&r.jsxs("button",{onClick:()=>i(!1),className:"flex flex-col items-center gap-3 p-4 rounded-xl border-2 border-gray-100 hover:border-brand-200 hover:bg-brand-50 transition-all duration-200 text-center group hover:shadow-md",children:[r.jsx("div",{className:"p-3 rounded-lg bg-gray-100 group-hover:bg-brand-200 transition-colors",children:r.jsx(R0,{className:"w-6 h-6 text-gray-600 group-hover:text-brand-700"})}),r.jsx("span",{className:"font-medium text-gray-900 text-sm leading-tight",children:"Show Less"})]})]})]}),r.jsx("div",{className:"p-4 border-t border-gray-200 flex-shrink-0",children:r.jsx("button",{onClick:t,className:"w-full px-4 py-3 text-base font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors",children:"Cancel"})})]})})}const Ohe="modulepreload",$he=function(e){return"/"+e},jO={},Xl=function(t,n,s){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.all(n.map(l=>{if(l=$he(l),l in jO)return;jO[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Ohe,c||(f.as="script",f.crossOrigin=""),f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}return a.then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},Phe=d.lazy(()=>Xl(()=>Promise.resolve().then(()=>yEe),void 0)),Dhe=d.lazy(()=>Xl(()=>Promise.resolve().then(()=>_5e),void 0)),Rhe=d.lazy(()=>Xl(()=>Promise.resolve().then(()=>$5e),void 0)),Fhe=d.lazy(()=>Xl(()=>Promise.resolve().then(()=>JEe),void 0)),Bhe=d.lazy(()=>Xl(()=>Promise.resolve().then(()=>lLe),void 0)),zhe=d.lazy(()=>Xl(()=>Promise.resolve().then(()=>eLe),void 0)),Uhe=d.lazy(()=>Xl(()=>Promise.resolve().then(()=>o5e),void 0)),Whe=d.lazy(()=>Xl(()=>Promise.resolve().then(()=>hLe),void 0));function Hhe({isOpen:e,onClose:t,postType:n,from:s,hideHeader:a=!1,onBack:i}){if(!e||!n)return null;const o=()=>n.label=="Share a Job Opening"||n.label=="Share a job opening"?r.jsx(Phe,{triggerImageSelection:n.triggerImageSelection,hideHeader:a,onSuccess:t}):n.label=="Highlight an opportunity"||n.label=="Highlight a tourism attraction"||n.label=="Highlight a tourist Attraction"||n.label=="Highlight a career progress"||n.label=="Share an experience"||n.label=="Share work experience"||n.label=="Highlight an event"||n.label=="Highlight a product"||n.label=="Highlight a service"||n.label=="Share tourism experiences"||n.label=="Highlight a funding opportunity"||n.label=="Highlight a Product"||n.label=="Highlight a Service "||n.label=="Share a Tourism Experience"||n.label=="Highlight an Opportunity"||n.label=="Highlight a Funding Opportunity"?r.jsx(Dhe,{type:n.label=="Highlight an event"?"event":n.label=="Highlight a product"||n.label=="Highlight a Product"?"product":n.label=="Highlight a service"||n.label=="Highlight a Service "?"service":n.label=="Share tourism experiences"||n.label=="Share a Tourism Experience"?"tourism":n.label=="Highlight a funding opportunity"||n.label=="Highlight a Funding Opportunity"||n.label=="Highlight an Opportunity"?"funding":n.from||s,triggerImageSelection:n.triggerImageSelection,hideHeader:a,onSuccess:t}):n.label=="Find Jobs"||n.label=="Find jobs"||n.label=="Find events"||n.label=="Find Products"||n.label=="Find Services"||n.label=="Explore tourism attractions"||n.label=="Explore funding opportunities"||n.label=="Find products"||n.label=="Find Services"||n.label=="Explore Tourism Attractions"||n.label=="Explore funding opportunities"?r.jsx(Rhe,{type:n.label=="Find Jobs"||n.label=="Find jobs"?"job":n.label=="Find events"?"event":n.label=="Find Products"||n.label=="Find products"?"product":n.label=="Find Services"||n.label=="Find Services"?"service":n.label=="Explore funding opportunities"||n.label=="Explore funding opportunities"?"funding":n.label=="Explore tourism attractions"||n.label=="Explore Tourism Attractions"?"tourism":n.from||s,triggerImageSelection:n.triggerImageSelection,hideHeader:a,onSuccess:t}):n.label=="Host an Event"||n.label=="Host an event"?r.jsx(Fhe,{type:n.from||s,triggerImageSelection:n.triggerImageSelection,hideHeader:a,onSuccess:t}):n.label=="Add a New Product"||n.label=="Add new product"?r.jsx(Bhe,{triggerImageSelection:n.triggerImageSelection,hideHeader:a,onSuccess:t}):n.label=="Add a New Service"||n.label=="Add new service"?r.jsx(zhe,{triggerImageSelection:n.triggerImageSelection,hideHeader:a,onSuccess:t}):n.label=="Post a Tourism Attraction"||n.label=="Post a tourism attraction"||n.label=="_Share a Tourism Activity"?r.jsx(Whe,{triggerImageSelection:n.triggerImageSelection,hideHeader:a,onSuccess:t}):n.label=="Publish an Opportunity"||n.label=="Publish an opportunity"?r.jsx(Uhe,{triggerImageSelection:n.triggerImageSelection,hideHeader:a,onSuccess:t}):r.jsx("div",{className:"p-6 text-center text-gray-600",children:"Form not available for this post type"});return r.jsx("div",{className:"fixed z-[99] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:r.jsxs("div",{className:"bg-white z-[99] w-full max-w-2xl mx-4 rounded-2xl shadow-xl flex flex-col max-h-[80vh] overflow-hidden relative",children:[r.jsxs("div",{className:"bg-brand-500 p-4 flex justify-between items-center flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[i&&r.jsx("button",{onClick:i,className:"text-white hover:text-brand-100 transition-colors","aria-label":"Go back",children:r.jsx(CH,{size:20})}),r.jsx("div",{className:"text-white font-medium",children:n.label})]}),r.jsx("button",{onClick:t,className:"text-white hover:text-brand-100 transition-colors","aria-label":"Close",children:r.jsx(Sr,{size:20})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsx(d.Suspense,{fallback:r.jsx(Xa,{message:"Loading form..."}),children:o()})})]})})}function Vhe(e){var a,i;if(!e)return"U";const t=e.trim().split(/\s+/),n=((a=t[0])==null?void 0:a.charAt(0).toUpperCase())||"",s=((i=t[1])==null?void 0:i.charAt(0).toUpperCase())||"";return n+s}function Xu({typeOfPosts:e,from:t}){var L;const[n,s]=d.useState(""),[a,i]=d.useState(!1),[o,l]=d.useState(null),[c,u]=d.useState(!1),[f,h]=d.useState(!1),[g,m]=d.useState(!1),p=Ht(),{user:v}=Xt(),b=yr(),y=d.useRef(null),x=d.useRef(null);d.useEffect(()=>{function k(E){y.current&&!y.current.contains(E.target)&&x.current&&!x.current.contains(E.target)&&m(!1)}return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const w=()=>{var k;if(!(v!=null&&v.id)){(k=b._showPopUp)==null||k.call(b,"login_prompt");return}i(!0)},j=k=>{const E=f?he(te({},k),{triggerImageSelection:!0}):k;l(E),i(!1),u(!0),h(!1)},N=()=>{u(!1),l(null)};return r.jsxs("div",{className:"w-full _login_prompt",children:[r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx("div",{className:" cursor-pointer",onClick:()=>{var k;if(!(v!=null&&v.id)){(k=b._showPopUp)==null||k.call(b,"login_prompt");return}p("/profile")},children:v!=null&&v.avatarUrl?r.jsx("img",{src:v.avatarUrl,alt:(v==null?void 0:v.name)||"Profile",className:"w-12 h-12 rounded-full object-cover"}):r.jsx("div",{className:"w-12 h-12 rounded-full bg-brand-100 border-2 border-brand-200 flex items-center justify-center",children:r.jsx("span",{className:"text-brand-600 font-semibold text-lg",children:Vhe((v==null?void 0:v.name)||"User")})})}),r.jsx("input",{type:"text",placeholder:t=="feed"?(v==null?void 0:v.accountType)!="company"?"Explore opportunities and Share insights.":"Find markets and share opportunities.":t=="job"?(v==null?void 0:v.accountType)!="company"?"Explore Top Job Opportunities and insights.":"Find top talents and share insights.":t=="event"?(v==null?void 0:v.accountType)!="company"?"Explore exciting events happening near you. ":"Create events and find the right people to attend.":t=="product"?(v==null?void 0:v.accountType)!="company"?"Explore and enjoy products designed to meet your needs.":"Find markets and promote your products.":t=="service"?(v==null?void 0:v.accountType)!="company"?"Find and explore services tailored for you.":"Find clients and promote your top services.":t=="tourism"?(v==null?void 0:v.accountType)!="company"?"Explore destinations, share stories, and connect through tourism.":"Find travellers and other tourism enthusiasts and boost your sales.":t=="funding"?(v==null?void 0:v.accountType)!="company"?"Explore funding opportunities that open doors to new possibilities.":"Find the right candidates and partners for your programs.":"Share your thoughts, opportunities, or insights...",value:n,onChange:k=>s(k.target.value),onClick:w,className:"flex-1 bg-gray-100 rounded-full px-6 py-3 text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-100 transition-all cursor-pointer"})]}),r.jsx("div",{className:"flex items-center justify-between _login_prompt",children:r.jsxs("div",{className:"flex items-center gap-4 relative flex-wrap",children:[(L=e==null?void 0:e.filter(k=>!k.hide))==null?void 0:L.slice(0,2).map(k=>r.jsxs("button",{className:"flex items-center gap-2 text-gray-600 hover:text-brand-600 transition-all bg-gray-50 duration-200 font-medium px-3 py-2 rounded-full hover:bg-brand-50",onClick:()=>{var E;if(!(v!=null&&v.id)){(E=b._showPopUp)==null||E.call(b,"login_prompt");return}j(k)},children:[r.jsx(k.Icon,{size:"20"}),r.jsx("span",{className:"text-sm",children:k.label})]},k.type||k.id)),e&&(e==null?void 0:e.filter(k=>!k.hide).length)>2&&r.jsxs("div",{className:"relative w-full",children:[r.jsxs("button",{ref:y,className:`flex items-center gap-2 text-gray-600 hover:text-brand-600 transition-all duration-200 font-medium px-3 py-2 rounded-lg hover:bg-brand-50 ${g?"bg-brand-50 text-brand-600":""}`,onClick:()=>m(!g),children:[r.jsx("span",{className:"text-sm",children:"More"}),r.jsx(id,{className:`w-4 h-4 transition-transform duration-200 ${g?"rotate-180":""}`})]}),g&&r.jsx("div",{ref:x,className:"absolute top-full left-0 mt-2 w-64 max-md:w-full bg-white border border-gray-200 rounded-xl shadow-lg py-2 z-50",children:e==null?void 0:e.filter(k=>!k.hide).slice(2).map(k=>r.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-brand-50 hover:text-brand-600 transition-colors duration-200 flex items-center gap-2",onClick:()=>{var E;if(!(v!=null&&v.id)){(E=b._showPopUp)==null||E.call(b,"login_prompt");return}j(k),m(!1)},children:[r.jsx(k.Icon,{size:"20",className:"shrink-0"}),r.jsx("span",{children:k.label})]},k.type||k.id))})]})]})})]}),r.jsx(_he,{isOpen:a,onClose:()=>i(!1),onTypeSelect:j,postTypes:e==null?void 0:e.filter(k=>!k.hide)}),r.jsx(Hhe,{onBack:()=>{w(),u(!1)},isOpen:c,onClose:N,postType:o,from:t,hideHeader:!0})]})}const Ghe=["Partnership / Collaboration","Investment Opportunities","Hiring / Job Offer","Seeking Mentorship","Offering Mentorship","Networking & Professional Growth","Exploring Business Opportunities","Project Collaboration","Advisory / Consulting","Knowledge Sharing","Market Expansion","Technology / Innovation Exchange","Event Invitation","Career Guidance","Other"];function Yn({open:e,onClose:t,toUserId:n,toName:s,onSent:a}){const[i,o]=d.useState(""),[l,c]=d.useState(""),[u,f]=d.useState(!1),[h,g]=d.useState(""),{user:m}=Xt(),p=Ghe.filter(b=>!((m==null?void 0:m.accountType)==="company"&&b==="Seeking Mentorship"));d.useEffect(()=>{c(""),o(""),g("")},[e]);function v(){return pe(this,null,function*(){var b,y;f(!0),g("");try{yield Se.post("/connections/requests",{toUserId:n,reason:i||null,message:l||null}),a&&a(),oe.success("Your request has been sent!"),t()}catch(x){console.error(x),g(((y=(b=x==null?void 0:x.response)==null?void 0:b.data)==null?void 0:y.message)||"Failed to send request")}finally{f(!1)}})}return e?r.jsx("div",{className:"fixed z-[100] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:r.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-xl overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h3",{className:"text-lg font-semibold text-brand-600",children:"Connection Request"}),r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-brand-600",children:r.jsx(Sr,{size:20})})]}),r.jsxs("div",{className:"p-4 space-y-3",children:[r.jsx("p",{className:"text-sm text-gray-600",children:s?`Send a connection request to ${s}.`:"Please select the reason and optionally write a message."}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Reason (optional)"}),r.jsxs("select",{className:"mt-1 w-full rounded-xl border px-3 py-2 text-sm focus:ring-2 focus:ring-brand-500 focus:outline-none",value:i,onChange:b=>o(b.target.value),children:[r.jsx("option",{value:"",children:"Select reason"}),p.map(b=>r.jsx("option",{value:b,children:b},b))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Message (optional)"}),r.jsx("textarea",{rows:4,className:"mt-1 w-full rounded-xl border px-3 py-2 text-sm focus:ring-2 focus:ring-brand-500 focus:outline-none",placeholder:"Write a short note",value:l,onChange:b=>c(b.target.value)})]}),h&&r.jsx("div",{className:"text-sm text-red-600",children:h})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border-t",children:[r.jsx("button",{className:"rounded-xl px-4 py-2 text-sm border bg-white hover:bg-brand-50 hover:text-brand-600 transition-colors",onClick:t,disabled:u,children:"Cancel"}),r.jsxs("button",{className:"inline-flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-semibold text-white bg-brand-500 hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500/30 transition-colors",onClick:v,disabled:u,children:[r.jsx(lb,{size:16}),u?"Sending":"Send"]})]})]})}):null}function is({open:e,onClose:t,title:n="Are you sure?",text:s="",confirmText:a="Confirm",cancelText:i="Cancel",tone:o="default",withInput:l=!1,inputLabel:c="Reason (optional)",inputPlaceholder:u="",inputType:f="text",initialValue:h="",requireValue:g=!1,onConfirm:m,onResult:p}){const[v,b]=d.useState(h),[y,x]=d.useState(!1),w=d.useRef(null),j=d.useRef(null);d.useEffect(()=>{e&&(x(!1),b(h||""),setTimeout(()=>{l&&j.current&&j.current.focus()},0))},[e,h,l]),d.useEffect(()=>{function S(I){e&&(I.key==="Escape"&&(t==null||t()),I.key==="Enter"&&!y&&(!l||!g||v.trim().length>0)&&L())}return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[e,y,v,l,g]);function N(S){S.target===w.current&&(t==null||t())}function L(){return pe(this,null,function*(){if(!y){if(!m){t==null||t();return}try{x(!0);const S=yield m(l?v:"");p==null||p(S),t==null||t()}catch(S){x(!1),console.error("ConfirmDialog onConfirm error:",S)}}})}const k=o==="danger"?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-brand-600 hover:bg-brand-700 focus:ring-brand-500",E=y||l&&g&&v.trim().length===0;return r.jsx("div",{ref:w,onClick:N,className:`fixed inset-0 z-[110] transition ${e?"opacity-100":"opacity-0 pointer-events-none"} flex items-center justify-center bg-black/40 backdrop-blur-sm`,"aria-hidden":!e,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title",children:r.jsxs("div",{className:`bg-white w-[92vw] sm:w-full sm:max-w-md rounded-2xl shadow-xl overflow-hidden transform transition-all ${e?"scale-100":"scale-95"}`,children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h3",{id:"confirm-dialog-title",className:"text-lg font-semibold",children:n}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition","aria-label":"Close dialog",children:r.jsx(Sr,{size:20})})]}),r.jsxs("div",{className:"p-5 space-y-4",children:[s?r.jsx("p",{className:"text-sm text-gray-700",children:s}):null,l&&r.jsxs("div",{className:"text-left",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:c}),f==="textarea"?r.jsx("textarea",{ref:j,rows:4,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",placeholder:u,value:v,onChange:S=>b(S.target.value)}):r.jsx("input",{ref:j,type:"text",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",placeholder:u,value:v,onChange:S=>b(S.target.value)}),g&&v.trim().length===0&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:"This field is required."})]})]}),r.jsxs("div",{className:"p-4 border-t flex items-center justify-end gap-2",children:[r.jsx("button",{type:"button",onClick:t,className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-gray-400",children:i}),r.jsx("button",{type:"button",onClick:L,disabled:E,className:`inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-semibold text-white focus:outline-none focus:ring-2 disabled:opacity-60 ${k}`,children:y?"Working":a})]})]})})}const Md=(e,t)=>Se.post("/likes",{targetType:e,targetId:t}),cw=(e,t)=>Se.get(`/likes/${e}/${t}`),qhe=(e,t,n,s=null)=>Se.post("/comments",{targetType:e,targetId:t,text:n,parentCommentId:s}),cx=(e,t)=>Se.get(`/comments/${e}/${t}`),Yhe=(e,t)=>Se.put(`/comments/${e}`,{text:t}),Jhe=e=>Se.delete(`/comments/${e}`),Zhe=(e,t)=>Se.get(`/likes/${e}/${t}/users`),Id=(e,t,n,s)=>Se.post("/reports",{targetType:e,targetId:t,category:n,description:s});function Td({open:e,onClose:t,entityType:n,entityId:s}){const a=Ht(),[i,o]=d.useState([]),[l,c]=d.useState(!1),[u,f]=d.useState(null),{user:h}=Xt();d.useEffect(()=>{e&&n&&s&&g()},[e,n,s]);const g=()=>pe(this,null,function*(){try{c(!0),f(null);const p=yield Zhe(n,s);o(p.data.likes||[])}catch(p){console.error("Error fetching likes:",p),f("Failed to load likes")}finally{c(!1)}}),m=(p,v)=>{v.stopPropagation(),a(`/profile/${p}`),t()};return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[80vh] flex flex-col overflow-hidden",onClick:p=>p.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Likes ",l?"":`(${i.length})`]}),r.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:r.jsx(Sr,{size:20,className:"text-gray-600"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:l?r.jsx("div",{className:"flex justify-center items-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600"})}):u?r.jsx("div",{className:"text-center py-8 text-gray-500",children:u}):i.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No likes yet"}):r.jsx("div",{className:"divide-y divide-gray-100",children:i.map(p=>{var v;return r.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:b=>m(p.user.id,b),children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:p.user.avatarUrl?r.jsx("div",{className:`w-12 h-12 ${p.user.accountType==="company"?"rounded":"rounded-full"} overflow-hidden border border-gray-200`,children:r.jsx("img",{src:p.user.avatarUrl,alt:p.user.name,className:"w-full h-full object-cover"})}):r.jsx("div",{className:`w-12 h-12 ${p.user.accountType==="company"?"rounded":"rounded-full"} bg-gray-200 flex items-center justify-center border border-gray-200`,children:r.jsx(ka,{size:20,className:"text-gray-400"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:[p.user.name," ",((v=p.user)==null?void 0:v.id)==(h==null?void 0:h.id)?"(You)":""]}),p.user.accountType==="company"&&r.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs bg-blue-100 text-blue-800",children:"Company"})]}),r.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[p.user.professionalTitle&&r.jsx("span",{children:p.user.professionalTitle}),p.user.companyName&&p.user.professionalTitle&&"  ",p.user.companyName&&r.jsx("span",{children:p.user.companyName})]}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400 mt-1",children:[r.jsx(no,{size:10}),r.jsxs("span",{children:["Liked ",new Date(p.createdAt).toLocaleDateString()]})]})]})]})},p.id)})})})]})}):null}var mV={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(i=a(i,s(l)))}return i}function s(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var l in i)t.call(i,l)&&i[l]&&(o=a(o,l));return o}function a(i,o){return o?i?i+" "+o:i+o:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(mV);var Qhe=mV.exports;const pV=L2(Qhe);var XC={exports:{}},e6={exports:{}},Np=1e3,Sp=Np*60,Cp=Sp*60,kp=Cp*24,Khe=kp*365.25,Xhe=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return ege(e);if(n==="number"&&isNaN(e)===!1)return t.long?rge(e):tge(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function ege(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),s=(t[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return n*Khe;case"days":case"day":case"d":return n*kp;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Cp;case"minutes":case"minute":case"mins":case"min":case"m":return n*Sp;case"seconds":case"second":case"secs":case"sec":case"s":return n*Np;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function tge(e){return e>=kp?Math.round(e/kp)+"d":e>=Cp?Math.round(e/Cp)+"h":e>=Sp?Math.round(e/Sp)+"m":e>=Np?Math.round(e/Np)+"s":e+"ms"}function rge(e){return Tv(e,kp,"day")||Tv(e,Cp,"hour")||Tv(e,Sp,"minute")||Tv(e,Np,"second")||e+" ms"}function Tv(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}(function(e,t){t=e.exports=a.debug=a.default=a,t.coerce=c,t.disable=o,t.enable=i,t.enabled=l,t.humanize=Xhe,t.names=[],t.skips=[],t.formatters={};var n;function s(u){var f=0,h;for(h in u)f=(f<<5)-f+u.charCodeAt(h),f|=0;return t.colors[Math.abs(f)%t.colors.length]}function a(u){function f(){if(f.enabled){var h=f,g=+new Date,m=g-(n||g);h.diff=m,h.prev=n,h.curr=g,n=g;for(var p=new Array(arguments.length),v=0;v<p.length;v++)p[v]=arguments[v];p[0]=t.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");var b=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,function(x,w){if(x==="%%")return x;b++;var j=t.formatters[w];if(typeof j=="function"){var N=p[b];x=j.call(h,N),p.splice(b,1),b--}return x}),t.formatArgs.call(h,p);var y=f.log||t.log||console.log.bind(console);y.apply(h,p)}}return f.namespace=u,f.enabled=t.enabled(u),f.useColors=t.useColors(),f.color=s(u),typeof t.init=="function"&&t.init(f),f}function i(u){t.save(u),t.names=[],t.skips=[];for(var f=(typeof u=="string"?u:"").split(/[\s,]+/),h=f.length,g=0;g<h;g++)f[g]&&(u=f[g].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.substr(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function o(){t.enable("")}function l(u){var f,h;for(f=0,h=t.skips.length;f<h;f++)if(t.skips[f].test(u))return!1;for(f=0,h=t.names.length;f<h;f++)if(t.names[f].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}})(e6,e6.exports);var nge=e6.exports;(function(e,t){var n={};t=e.exports=nge,t.log=i,t.formatArgs=a,t.save=o,t.load=l,t.useColors=s,t.storage=typeof chrome!="undefined"&&typeof chrome.storage!="undefined"?chrome.storage.local:c(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function s(){return typeof window!="undefined"&&window.process&&window.process.type==="renderer"?!0:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(u){try{return JSON.stringify(u)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}};function a(u){var f=this.useColors;if(u[0]=(f?"%c":"")+this.namespace+(f?" %c":" ")+u[0]+(f?"%c ":" ")+"+"+t.humanize(this.diff),!!f){var h="color: "+this.color;u.splice(1,0,h,"color: inherit");var g=0,m=0;u[0].replace(/%[a-zA-Z%]/g,function(p){p!=="%%"&&(g++,p==="%c"&&(m=g))}),u.splice(m,0,h)}}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(u){try{u==null?t.storage.removeItem("debug"):t.storage.debug=u}catch(f){}}function l(){var u;try{u=t.storage.debug}catch(f){}return!u&&typeof process!="undefined"&&"env"in process&&(u=n.DEBUG),u}t.enable(l());function c(){try{return window.localStorage}catch(u){}}})(XC,XC.exports);var sge=XC.exports,NO=sge("jsonp"),age=lge,ige=0;function oge(){}function lge(e,t,n){typeof t=="function"&&(n=t,t={}),t||(t={});var s=t.prefix||"__jp",a=t.name||s+ige++,i=t.param||"callback",o=t.timeout!=null?t.timeout:6e4,l=encodeURIComponent,c=document.getElementsByTagName("script")[0]||document.head,u,f;o&&(f=setTimeout(function(){h(),n&&n(new Error("Timeout"))},o));function h(){u.parentNode&&u.parentNode.removeChild(u),window[a]=oge,f&&clearTimeout(f)}function g(){window[a]&&h()}return window[a]=function(m){NO("jsonp got",m),h(),n&&n(null,m)},e+=(~e.indexOf("?")?"&":"?")+i+"="+l(a),e=e.replace("?&","?"),NO('jsonp req "%s"',e),u=document.createElement("script"),u.src=e,c.parentNode.insertBefore(u,c),g}const ef=L2(age);var cge=Object.defineProperty,dge=Object.defineProperties,uge=Object.getOwnPropertyDescriptors,bb=Object.getOwnPropertySymbols,xV=Object.prototype.hasOwnProperty,vV=Object.prototype.propertyIsEnumerable,SO=(e,t,n)=>t in e?cge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mi=(e,t)=>{for(var n in t||(t={}))xV.call(t,n)&&SO(e,n,t[n]);if(bb)for(var n of bb(t))vV.call(t,n)&&SO(e,n,t[n]);return e},dw=(e,t)=>dge(e,uge(t)),uw=(e,t)=>{var n={};for(var s in e)xV.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&bb)for(var s of bb(e))t.indexOf(s)<0&&vV.call(e,s)&&(n[s]=e[s]);return n};function tf(e){return n=>{var s=n,{bgStyle:a={},borderRadius:i=0,iconFillColor:o="white",round:l=!1,size:c=64}=s,u=uw(s,["bgStyle","borderRadius","iconFillColor","round","size"]);return r.jsxs("svg",dw(mi({viewBox:"0 0 64 64",width:c,height:c},u),{children:[l?r.jsx("circle",{cx:"32",cy:"32",r:"32",fill:e.color,style:a}):r.jsx("rect",{width:"64",height:"64",rx:i,ry:i,fill:e.color,style:a}),r.jsx("path",{d:e.path,fill:o})]}))}}class fge extends Error{constructor(t){super(t),this.name="AssertionError"}}function mn(e,t){if(!e)throw new fge(t)}function tn(e){const t=Object.entries(e).filter(([,n])=>n!=null).map(([n,s])=>`${encodeURIComponent(n)}=${encodeURIComponent(String(s))}`);return t.length>0?`?${t.join("&")}`:""}const hge=e=>!!e&&(typeof e=="object"||typeof e=="function")&&"then"in e&&typeof e.then=="function",gge=(e,t)=>({left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-e/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-t/2}),mge=(e,t)=>({top:(window.screen.height-t)/2,left:(window.screen.width-e)/2});function pge(e,t,n){var s=t,{height:a,width:i}=s,o=uw(s,["height","width"]);const l=mi({height:a,width:i,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},o),c=window.open(e,"",Object.keys(l).map(u=>`${u}=${l[u]}`).join(", "));if(n){const u=window.setInterval(()=>{try{(c===null||c.closed)&&(window.clearInterval(u),n(c))}catch(f){console.error(f)}},1e3)}return c}function xge(e){var t=e,{beforeOnClick:n,children:s,className:a,disabled:i,disabledStyle:o={opacity:.6},forwardedRef:l,htmlTitle:c,networkLink:u,networkName:f,onClick:h,onShareWindowClose:g,openShareDialogOnClick:m=!0,opts:p,resetButtonStyle:v=!0,style:b,title:y,url:x,windowHeight:w=400,windowPosition:j="windowCenter",windowWidth:N=550}=t,L=uw(t,["beforeOnClick","children","className","disabled","disabledStyle","forwardedRef","htmlTitle","networkLink","networkName","onClick","onShareWindowClose","openShareDialogOnClick","opts","resetButtonStyle","style","title","url","windowHeight","windowPosition","windowWidth"]);const k=I=>pe(this,null,function*(){const C=u(x,p);if(!i){if(I.preventDefault(),n){const M=n();hge(M)&&(yield M)}if(m){const M=mi({height:w,width:N},j==="windowCenter"?gge(N,w):mge(N,w));pge(C,M,g)}h&&h(I,C)}}),E=pV("react-share__ShareButton",{"react-share__ShareButton--disabled":!!i,disabled:!!i},a),S=mi(mi(v?{backgroundColor:"transparent",border:"none",padding:0,font:"inherit",color:"inherit",cursor:"pointer"}:{},b),i&&o);return r.jsx("button",dw(mi({},L),{className:E,onClick:k,ref:l,style:S,title:c,children:s}))}function yn(e,t,n,s){const a=(i,o)=>{const l=n(i),c=mi({},i);return Object.keys(l).forEach(f=>{delete c[f]}),r.jsx(xge,dw(mi(mi({},s),c),{forwardedRef:o,networkName:e,networkLink:t,opts:l}))};return a.displayName=`ShareButton-${e}`,d.forwardRef(a)}function vge(e,{title:t,separator:n}){return mn(e,"bluesky.url"),"https://bsky.app/intent/compose"+tn({text:t?t+n+e:e})}yn("bluesky",vge,e=>({title:e.title,separator:e.separator||" "}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});const Ns=tf({color:"#7f7f7f",path:"M17,22v20h30V22H17z M41.1,25L32,32.1L22.9,25H41.1z M20,39V26.6l12,9.3l12-9.3V39H20z"});function yge(e,{subject:t,body:n,separator:s}){return"mailto:"+tn({subject:t,body:n?n+s+e:e})}const Ss=yn("email",yge,e=>({subject:e.subject,body:e.body,separator:e.separator||" "}),{openShareDialogOnClick:!1,onClick:(e,t)=>{window.location.href=t}}),Cs=tf({color:"#0965FE",path:"M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z"}),ks=tf({color:"#0A7CFF",path:"M 53.066406 21.871094 C 52.667969 21.339844 51.941406 21.179688 51.359375 21.496094 L 37.492188 29.058594 L 28.867188 21.660156 C 28.339844 21.207031 27.550781 21.238281 27.054688 21.730469 L 11.058594 37.726562 C 10.539062 38.25 10.542969 39.09375 11.0625 39.613281 C 11.480469 40.027344 12.121094 40.121094 12.640625 39.839844 L 26.503906 32.28125 L 35.136719 39.679688 C 35.667969 40.132812 36.457031 40.101562 36.949219 39.609375 L 52.949219 23.613281 C 53.414062 23.140625 53.464844 22.398438 53.066406 21.871094 Z M 53.066406 21.871094"});function bge(e,{appId:t,redirectUri:n,to:s}){return"https://www.facebook.com/dialog/send"+tn({link:e,redirect_uri:n||e,app_id:t,to:s})}const Es=yn("facebookmessenger",bge,e=>({appId:e.appId,redirectUri:e.redirectUri,to:e.to}),{windowWidth:1e3,windowHeight:820});function wge(e,{hashtag:t}){return mn(e,"facebook.url"),"https://www.facebook.com/sharer/sharer.php"+tn({u:e,hashtag:t})}const Ls=yn("facebook",wge,e=>({hashtag:e.hashtag}),{windowWidth:550,windowHeight:400});function jge(){const e=d.useRef(!1);return d.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),d.useCallback(()=>e.current,[])}function Nge(e){var t=e,{children:n=g=>g,className:s,getCount:a,url:i}=t,o=uw(t,["children","className","getCount","url"]);const l=jge(),[c,u]=d.useState(void 0),[f,h]=d.useState(!1);return d.useEffect(()=>{h(!0),a(i,g=>{l()&&(u(g),h(!1))})},[i]),r.jsx("span",dw(mi({className:pV("react-share__ShareCount",s)},o),{children:!f&&c!==void 0&&n(c)}))}function rf(e){const t=n=>r.jsx(Nge,mi({getCount:e},n));return t.displayName=`ShareCount(${e.name})`,t}function Sge(e,t){const n=`https://graph.facebook.com/?id=${e}&fields=og_object{engagement}`;ef(n,(s,a)=>{t(!s&&a&&a.og_object&&a.og_object.engagement?a.og_object.engagement.count:void 0)})}rf(Sge);function Cge(e,{title:t}){return mn(e,"hatena.url"),`http://b.hatena.ne.jp/add?mode=confirm&url=${e}&title=${t}`}yn("hatena",Cge,e=>({title:e.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function kge(e,t){ef("https://bookmark.hatenaapis.com/count/entry"+tn({url:e}),(s,a)=>{t(a!=null?a:void 0)})}rf(kge);function Ege(e,{title:t,description:n}){return mn(e,"instapaper.url"),"http://www.instapaper.com/hello2"+tn({url:e,title:t,description:n})}yn("instapaper",Ege,e=>({title:e.title,description:e.description}),{windowWidth:500,windowHeight:500,windowPosition:"windowCenter"});function Lge(e,{title:t}){return mn(e,"line.url"),"https://social-plugins.line.me/lineit/share"+tn({url:e,text:t})}yn("line",Lge,e=>({title:e.title}),{windowWidth:500,windowHeight:500});const Ms=tf({color:"#0077B5",path:"M20.4,44h5.4V26.6h-5.4V44z M23.1,18c-1.7,0-3.1,1.4-3.1,3.1c0,1.7,1.4,3.1,3.1,3.1 c1.7,0,3.1-1.4,3.1-3.1C26.2,19.4,24.8,18,23.1,18z M39.5,26.2c-2.6,0-4.4,1.4-5.1,2.8h-0.1v-2.4h-5.2V44h5.4v-8.6 c0-2.3,0.4-4.5,3.2-4.5c2.8,0,2.8,2.6,2.8,4.6V44H46v-9.5C46,29.8,45,26.2,39.5,26.2z"});function Mge(e,{title:t,summary:n,source:s}){return mn(e,"linkedin.url"),"https://linkedin.com/shareArticle"+tn({url:e,mini:"true",title:t,summary:n,source:s})}const Is=yn("linkedin",Mge,({title:e,summary:t,source:n})=>({title:e,summary:t,source:n}),{windowWidth:750,windowHeight:600});function Ige(e,{title:t,description:n}){return mn(e,"livejournal.url"),"https://www.livejournal.com/update.bml"+tn({subject:t,event:n})}yn("livejournal",Ige,e=>({title:e.title,description:e.description}),{windowWidth:660,windowHeight:460});function Tge(e,{title:t,description:n,imageUrl:s}){return mn(e,"mailru.url"),"https://connect.mail.ru/share"+tn({url:e,title:t,description:n,image_url:s})}yn("mailru",Tge,e=>({title:e.title,description:e.description,imageUrl:e.imageUrl}),{windowWidth:660,windowHeight:460});function Age(e,{title:t,description:n,image:s}){return mn(e,"ok.url"),"https://connect.ok.ru/offer"+tn({url:e,title:t,description:n,imageUrl:s})}yn("ok",Age,e=>({title:e.title,description:e.description,image:e.image}),{windowWidth:588,windowHeight:480,windowPosition:"screenCenter"});function _ge(e,t){window.OK||(window.OK={Share:{count:function(i,o){var l,c;(c=(l=window.OK.callbacks)[i])==null||c.call(l,o)}},callbacks:[]});const n="https://connect.ok.ru/dk",s=window.OK.callbacks.length;return window.ODKL={updateCount(a,i){var o,l;const c=a===""?0:parseInt(a.replace("react-share-",""),10);(l=(o=window.OK.callbacks)[c])==null||l.call(o,i===""?void 0:parseInt(i,10))}},window.OK.callbacks.push(t),ef(n+tn({"st.cmd":"extLike",uid:`react-share-${s}`,ref:e}))}rf(_ge);function Oge(e,{media:t,description:n,pinId:s}){return s?`https://pinterest.com/pin/${s}/repin/x/`:(mn(e,"pinterest.url"),mn(t,"pinterest.media"),"https://pinterest.com/pin/create/button/"+tn({url:e,media:t,description:n}))}yn("pinterest",Oge,e=>({media:e.media,description:e.description,pinId:e.pinId}),{windowWidth:1e3,windowHeight:730});function $ge(e,t){ef("https://api.pinterest.com/v1/urls/count.json"+tn({url:e}),(s,a)=>{t(a?a.count:void 0)})}rf($ge);function Pge(e,{title:t}){return mn(e,"pocket.url"),"https://getpocket.com/save"+tn({url:e,title:t})}yn("pocket",Pge,e=>({title:e.title}),{windowWidth:500,windowHeight:500});function Dge(e,{title:t}){return mn(e,"reddit.url"),"https://www.reddit.com/web/submit"+tn({url:e,title:t})}yn("reddit",Dge,e=>({title:e.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function Rge(e,{title:t}){return mn(e,"gab.url"),"https://gab.com/compose"+tn({url:e,text:t})}yn("gab",Rge,e=>({title:e.title}),{windowWidth:660,windowHeight:640,windowPosition:"windowCenter"});function Fge(e,t){const n=`https://www.reddit.com/api/info.json?limit=1&url=${e}`;ef(n,{param:"jsonp"},(s,a)=>{t(!s&&a&&a.data&&a.data.children.length>0&&a.data.children[0].data.score?a.data.children[0].data.score:void 0)})}rf(Fge);const Ts=tf({color:"#25A3E3",path:"m45.90873,15.44335c-0.6901,-0.0281 -1.37668,0.14048 -1.96142,0.41265c-0.84989,0.32661 -8.63939,3.33986 -16.5237,6.39174c-3.9685,1.53296 -7.93349,3.06593 -10.98537,4.24067c-3.05012,1.1765 -5.34694,2.05098 -5.4681,2.09312c-0.80775,0.28096 -1.89996,0.63566 -2.82712,1.72788c-0.23354,0.27218 -0.46884,0.62161 -0.58825,1.10275c-0.11941,0.48114 -0.06673,1.09222 0.16682,1.5716c0.46533,0.96052 1.25376,1.35737 2.18443,1.71383c3.09051,0.99037 6.28638,1.93508 8.93263,2.8236c0.97632,3.44171 1.91401,6.89571 2.84116,10.34268c0.30554,0.69185 0.97105,0.94823 1.65764,0.95525l-0.00351,0.03512c0,0 0.53908,0.05268 1.06412,-0.07375c0.52679,-0.12292 1.18879,-0.42846 1.79109,-0.99212c0.662,-0.62161 2.45836,-2.38812 3.47683,-3.38552l7.6736,5.66477l0.06146,0.03512c0,0 0.84989,0.59703 2.09312,0.68132c0.62161,0.04214 1.4399,-0.07726 2.14229,-0.59176c0.70766,-0.51626 1.1765,-1.34683 1.396,-2.29506c0.65673,-2.86224 5.00979,-23.57745 5.75257,-27.00686l-0.02107,0.08077c0.51977,-1.93157 0.32837,-3.70159 -0.87096,-4.74991c-0.60054,-0.52152 -1.2924,-0.7498 -1.98425,-0.77965l0,0.00176zm-0.2072,3.29069c0.04741,0.0439 0.0439,0.0439 0.00351,0.04741c-0.01229,-0.00351 0.14048,0.2072 -0.15804,1.32576l-0.01229,0.04214l-0.00878,0.03863c-0.75858,3.50668 -5.15554,24.40802 -5.74203,26.96472c-0.08077,0.34417 -0.11414,0.31959 -0.09482,0.29852c-0.1756,-0.02634 -0.50045,-0.16506 -0.52679,-0.1756l-13.13468,-9.70175c4.4988,-4.33199 9.09945,-8.25307 13.744,-12.43229c0.8218,-0.41265 0.68483,-1.68573 -0.29852,-1.70681c-1.04305,0.24584 -1.92279,0.99564 -2.8798,1.47502c-5.49971,3.2626 -11.11882,6.13186 -16.55882,9.49279c-2.792,-0.97105 -5.57873,-1.77704 -8.15298,-2.57601c2.2336,-0.89555 4.00889,-1.55579 5.75608,-2.23009c3.05188,-1.1765 7.01687,-2.7042 10.98537,-4.24067c7.94051,-3.06944 15.92667,-6.16346 16.62028,-6.43037l0.05619,-0.02283l0.05268,-0.02283c0.19316,-0.0878 0.30378,-0.09658 0.35471,-0.10009c0,0 -0.01756,-0.05795 -0.00351,-0.04566l-0.00176,0zm-20.91715,22.0638l2.16687,1.60145c-0.93418,0.91311 -1.81743,1.77353 -2.45485,2.38812l0.28798,-3.98957"});function Bge(e,{title:t}){return mn(e,"telegram.url"),"https://telegram.me/share/url"+tn({url:e,text:t})}const As=yn("telegram",Bge,e=>({title:e.title}),{windowWidth:550,windowHeight:400});function zge(e,{title:t}){return mn(e,"threads.url"),"https://threads.net/intent/post"+tn({url:e,text:t})}yn("threads",zge,e=>({title:e.title}),{windowWidth:550,windowHeight:600});function Uge(e,{title:t,caption:n,tags:s,posttype:a}){return mn(e,"tumblr.url"),"https://www.tumblr.com/widgets/share/tool"+tn({canonicalUrl:e,title:t,caption:n,tags:s,posttype:a})}yn("tumblr",Uge,e=>({title:e.title,tags:(e.tags||[]).join(","),caption:e.caption,posttype:e.posttype||"link"}),{windowWidth:660,windowHeight:460});function Wge(e,t){return ef("https://api.tumblr.com/v2/share/stats"+tn({url:e}),(s,a)=>{t(!s&&a&&a.response?a.response.note_count:void 0)})}rf(Wge);const _s=tf({color:"#00aced",path:"M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z"});function Hge(e,{title:t,via:n,hashtags:s=[],related:a=[]}){return mn(e,"twitter.url"),mn(Array.isArray(s),"twitter.hashtags is not an array"),mn(Array.isArray(a),"twitter.related is not an array"),"https://twitter.com/intent/tweet"+tn({url:e,text:t,via:n,hashtags:s.length>0?s.join(","):void 0,related:a.length>0?a.join(","):void 0})}const Os=yn("twitter",Hge,e=>({hashtags:e.hashtags,title:e.title,via:e.via,related:e.related}),{windowWidth:550,windowHeight:400});function Vge(e,{title:t,separator:n}){return mn(e,"viber.url"),"viber://forward"+tn({text:t?t+n+e:e})}yn("viber",Vge,e=>({title:e.title,separator:e.separator||" "}),{windowWidth:660,windowHeight:460});function Gge(e,{title:t,image:n,noParse:s,noVkLinks:a}){return mn(e,"vk.url"),"https://vk.com/share.php"+tn({url:e,title:t,image:n,noparse:s?1:0,no_vk_links:a?1:0})}yn("vk",Gge,e=>({title:e.title,image:e.image,noParse:e.noParse,noVkLinks:e.noVkLinks}),{windowWidth:660,windowHeight:460});function qge(e,t){window.VK||(window.VK={}),window.VK.Share={count:(a,i)=>{var o,l;return(l=(o=window.VK.callbacks)==null?void 0:o[a])==null?void 0:l.call(o,i)}},window.VK.callbacks=[];const n="https://vk.com/share.php",s=window.VK.callbacks.length;return window.VK.callbacks.push(t),ef(n+tn({act:"count",index:s,url:e}))}rf(qge);function Yge(e,{title:t,image:n}){return mn(e,"weibo.url"),"http://service.weibo.com/share/share.php"+tn({url:e,title:t,pic:n})}yn("weibo",Yge,e=>({title:e.title,image:e.image}),{windowWidth:660,windowHeight:550,windowPosition:"screenCenter"});const $s=tf({color:"#25D366",path:"m42.32286,33.93287c-0.5178,-0.2589 -3.04726,-1.49644 -3.52105,-1.66732c-0.4712,-0.17346 -0.81554,-0.2589 -1.15987,0.2589c-0.34175,0.51004 -1.33075,1.66474 -1.63108,2.00648c-0.30032,0.33658 -0.60064,0.36247 -1.11327,0.12945c-0.5178,-0.2589 -2.17994,-0.80259 -4.14759,-2.56312c-1.53269,-1.37217 -2.56312,-3.05503 -2.86603,-3.57283c-0.30033,-0.5178 -0.03366,-0.80259 0.22524,-1.06149c0.23301,-0.23301 0.5178,-0.59547 0.7767,-0.90616c0.25372,-0.31068 0.33657,-0.5178 0.51262,-0.85437c0.17088,-0.36246 0.08544,-0.64725 -0.04402,-0.90615c-0.12945,-0.2589 -1.15987,-2.79613 -1.58964,-3.80584c-0.41424,-1.00971 -0.84142,-0.88027 -1.15987,-0.88027c-0.29773,-0.02588 -0.64208,-0.02588 -0.98382,-0.02588c-0.34693,0 -0.90616,0.12945 -1.37736,0.62136c-0.4712,0.5178 -1.80194,1.76053 -1.80194,4.27186c0,2.51134 1.84596,4.945 2.10227,5.30747c0.2589,0.33657 3.63497,5.51458 8.80262,7.74113c1.23237,0.5178 2.1903,0.82848 2.94111,1.08738c1.23237,0.38836 2.35599,0.33657 3.24402,0.20712c0.99159,-0.15534 3.04985,-1.24272 3.47963,-2.45956c0.44013,-1.21683 0.44013,-2.22654 0.31068,-2.45955c-0.12945,-0.23301 -0.46601,-0.36247 -0.98382,-0.59548m-9.40068,12.84407l-0.02589,0c-3.05503,0 -6.08417,-0.82849 -8.72495,-2.38189l-0.62136,-0.37023l-6.47252,1.68286l1.73463,-6.29129l-0.41424,-0.64725c-1.70875,-2.71846 -2.6149,-5.85116 -2.6149,-9.07706c0,-9.39809 7.68934,-17.06155 17.15993,-17.06155c4.58253,0 8.88029,1.78642 12.11655,5.02268c3.23625,3.21036 5.02267,7.50812 5.02267,12.06476c-0.0078,9.3981 -7.69712,17.06155 -17.14699,17.06155m14.58906,-31.58846c-3.93529,-3.80584 -9.1133,-5.95471 -14.62789,-5.95471c-11.36055,0 -20.60848,9.2065 -20.61625,20.52564c0,3.61684 0.94757,7.14565 2.75211,10.26282l-2.92557,10.63564l10.93337,-2.85309c3.0136,1.63108 6.4052,2.4958 9.85634,2.49839l0.01037,0c11.36574,0 20.61884,-9.2091 20.62403,-20.53082c0,-5.48093 -2.14111,-10.64081 -6.03239,-14.51915"});function Jge(){return/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)}function Zge(e,{title:t,separator:n}){return mn(e,"whatsapp.url"),"https://"+(Jge()?"api":"web")+".whatsapp.com/send"+tn({text:t?t+n+e:e})}const Ps=yn("whatsapp",Zge,e=>({title:e.title,separator:e.separator||" "}),{windowWidth:550,windowHeight:400});function Qge(e,{quote:t,hashtag:n}){return mn(e,"workplace.url"),"https://work.facebook.com/sharer.php"+tn({u:e,quote:t,hashtag:n})}yn("workplace",Qge,e=>({quote:e.quote,hashtag:e.hashtag}),{windowWidth:550,windowHeight:400});const Ad=()=>r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"relative mb-6",children:r.jsx("div",{className:"w-full h-64 bg-gradient-to-br from-gray-200 to-gray-300 rounded-lg"})}),r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-8 bg-gray-300 rounded mb-2 w-3/4"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded mb-3 w-1/2"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),r.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded ml-2"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]})]}),r.jsx("div",{className:"h-8 bg-gray-300 rounded w-24"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-20"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-18"})]}),r.jsxs("div",{className:"mt-5 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),r.jsx("div",{className:"h-4 bg-gray-300 rounded w-20"})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-100",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-4 bg-gray-300 rounded mb-1 w-32"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"})]})]})]}),r.jsxs("div",{className:"mt-5 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),r.jsx("div",{className:"h-4 bg-gray-300 rounded w-24"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]}),r.jsxs("div",{className:"mt-5 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),r.jsx("div",{className:"h-4 bg-gray-300 rounded w-20"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("div",{className:"h-3 bg-gray-200 rounded mb-1 w-16"}),r.jsx("div",{className:"h-4 bg-gray-300 rounded w-20"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("div",{className:"h-3 bg-gray-200 rounded mb-1 w-12"}),r.jsx("div",{className:"h-4 bg-gray-300 rounded w-16"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("div",{className:"h-3 bg-gray-200 rounded mb-1 w-24"}),r.jsx("div",{className:"h-4 bg-gray-300 rounded w-28"})]})]})]}),r.jsxs("div",{className:"mt-5 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),r.jsx("div",{className:"h-4 bg-gray-300 rounded w-24"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-20"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-18"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-14"})]})]}),r.jsxs("div",{className:"mt-5 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),r.jsx("div",{className:"h-4 bg-gray-300 rounded w-16"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})]}),r.jsxs("div",{className:"mt-5 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),r.jsx("div",{className:"h-4 bg-gray-300 rounded w-20"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-20"})]})]}),r.jsxs("div",{className:"mt-5 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),r.jsx("div",{className:"h-4 bg-gray-300 rounded w-28"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-18"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-24"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"})]})]}),r.jsxs("div",{className:"mt-5 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),r.jsx("div",{className:"h-4 bg-gray-300 rounded w-24"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/5"})]})]}),r.jsxs("div",{className:"flex gap-3 mt-6",children:[r.jsx("div",{className:"flex-1 h-10 bg-gray-300 rounded-lg"}),r.jsx("div",{className:"flex-1 h-10 bg-gray-300 rounded-lg"}),r.jsx("div",{className:"flex-1 h-10 bg-gray-300 rounded-lg"})]})]});function Kge(e){if(!e)return"";const t=new Date(e).getTime(),n=Date.now(),s=Math.floor((n-t)/1e3);if(s<60)return"Just now";const a=Math.floor(s/60);if(a<60)return`${a} min${a>1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i>1?"s":""} ago`;const o=Math.floor(i/24);if(o<30)return`${o} day${o>1?"s":""} ago`;const l=Math.floor(o/30);if(l<12)return`${l} month${l>1?"s":""} ago`;const c=Math.floor(l/12);return`${c} year${c>1?"s":""} ago`}function Xge(e,t){return e&&t?`${e}, ${t}`:e||t||""}function eme(e){return e?new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):""}function Qd({children:e,tone:t="brand"}){const n={brand:"bg-brand-50 text-brand-600",green:"bg-green-100 text-green-700",gray:"bg-gray-100 text-gray-700",blue:"bg-blue-100 text-blue-700"};return r.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] ${n[t]||n.gray}`,children:e})}function jl({title:e,icon:t,className:n,children:s}){return r.jsxs("div",{className:`${n} mt-5 text-left`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t?r.jsx(t,{size:16,className:"text-brand-600"}):null,r.jsx("h3",{className:"font-medium text-sm",children:e})]}),s]})}function tme({jobId:e,isOpen:t,onClose:n}){var L,k,E,S,I,C,M,A;const[s,a]=d.useState(!1),[i,o]=d.useState(!1),[l,c]=d.useState(null),[u,f]=d.useState(""),[h,g]=d.useState(!1),m=d.useRef(null),p=d.useRef(null),v=d.useRef(null),b=yr(),{user:y}=Xt(),x=Ht();d.useEffect(()=>{function H(X){p.current&&m.current&&!p.current.contains(X.target)&&!m.current.contains(X.target)&&g(!1)}function W(X){X.key==="Escape"&&g(!1)}return document.addEventListener("mousedown",H),document.addEventListener("keydown",W),()=>{document.removeEventListener("mousedown",H),document.removeEventListener("keydown",W)}},[]),d.useEffect(()=>{if(!t){c(null),f("");return}if(!e)return;let H=!0;function W(){return pe(this,null,function*(){o(!0),f(""),c(null);try{const{data:X}=yield Se.get(`/jobs/${e}`);H&&c(X.job)}catch(X){console.error("Error fetching job details:",X),H&&f("Failed to load job details.")}finally{H&&o(!1)}})}return W(),()=>{H=!1}},[t,e]);function w(){oe.success("Connection request sent"),a(!1)}if(!t)return null;let j=(l==null?void 0:l.coverImageBase64)||(l==null?void 0:l.coverImage)||null;j=j&&(j!=null&&j.startsWith("data:image")||j!=null&&j.startsWith("http"))?j:j?`${gn}/uploads/${j}`:null;const N=(((L=l==null?void 0:l.postedBy)==null?void 0:L.name)||"?").split(" ").map(H=>H[0]).join("").slice(0,2).toUpperCase();return r.jsxs("div",{className:"fixed z-[99] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[r.jsxs("div",{ref:v,className:"bg-white z-[99] w-full max-w-2xl rounded-2xl shadow-xl flex flex-col max-h-[85vh] overflow-hidden relative",children:[r.jsxs("div",{className:"bg-brand-500 p-4 flex justify-between items-center",children:[r.jsx("div",{className:"text-white font-medium",children:"Job Details"}),r.jsx("button",{onClick:()=>{var H;n(),(H=b._closeAllPopUps)==null||H.call(b)},className:"text-white hover:text-brand-100",children:r.jsx(Sr,{size:20})})]}),r.jsx("div",{className:"p-6 overflow-y-auto",children:i?r.jsx(Ad,{}):u?r.jsx("div",{className:"text-sm text-red-600",children:u}):l?r.jsxs(r.Fragment,{children:[l.coverImageBase64&&r.jsx("div",{className:"relative mb-6",children:r.jsx("img",{src:j,alt:l.title,className:"w-full h-64 object-cover bg-gray-50 rounded-lg"})}),r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:l.title}),!l.make_company_name_private&&l.companyName&&r.jsx("p",{className:"text-lg text-gray-700 font-medium mt-1",children:l.companyName}),r.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-600",children:[r.jsx(ki,{size:16}),r.jsx("span",{children:Kge(l.createdAt)}),(()=>{const H=(l==null?void 0:l.countries)||[],W=l==null?void 0:l.country,X=l==null?void 0:l.city;return H.length>0?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mx-1",children:""}),r.jsx(Hr,{size:16}),r.jsx("div",{className:"flex flex-wrap gap-1",children:H.map((J,Z)=>r.jsxs("span",{children:[J.city?`${J.city}, `:"",J.country,Z<H.length-1&&", "]},Z))})]}):W?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mx-1",children:""}),r.jsx(Hr,{size:16}),r.jsx("span",{children:Xge(X,W)})]}):null})()]})]}),(l.minSalary||l.maxSalary)&&r.jsxs("div",{className:"text-2xl font-bold text-brand-600",children:[l.currency||"US$"," ",l.minSalary,l.maxSalary?` - ${l.maxSalary}`:""]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[l.jobType&&r.jsx(Qd,{tone:"brand",children:l.jobType}),l.workMode&&r.jsx(Qd,{tone:"blue",children:l.workMode}),l.experienceLevel&&r.jsx(Qd,{tone:"gray",children:l.experienceLevel})]}),r.jsx(jl,{title:"Posted By",icon:sn,children:r.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border border-gray-100 hover:border-brand-200",onClick:()=>{var H;l!=null&&l.postedByUserId&&(b._showPopUp("profile"),(H=b._setProfileUserId)==null||H.call(b,l.postedByUserId))},children:[(k=l.postedBy)!=null&&k.avatarUrl?r.jsx("img",{src:l.postedBy.avatarUrl,alt:l.postedBy.name,className:"w-10 h-10 rounded-full object-cover"}):r.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-brand-600 font-medium",children:N})}),r.jsx("div",{children:r.jsx("div",{className:"font-medium",children:(E=l.postedBy)==null?void 0:E.name})})]})}),r.jsx(jl,{title:"Description",icon:cs,children:r.jsx("div",{className:"text-sm text-gray-700",dangerouslySetInnerHTML:{__html:l.description||"No description provided."}})}),r.jsx(jl,{title:"Job Details",icon:ix,children:r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.department&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-500",children:"Department"}),r.jsx("span",{className:"font-medium",children:l.department})]}),l.positions&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-500",children:"Positions"}),r.jsx("span",{className:"font-medium",children:l.positions})]}),l.applicationDeadline&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-500",children:"Application Deadline"}),r.jsx("span",{className:"font-medium",children:eme(l.applicationDeadline)})]})]})}),((S=l.requiredSkills)==null?void 0:S.length)>0&&r.jsx(jl,{className:"hidden",title:"Required Skills",icon:kd,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:l.requiredSkills.map((H,W)=>r.jsx(Qd,{tone:"gray",children:H},`skill-${W}`))})}),l.benefits&&r.jsx(jl,{title:"Benefits",icon:Cd,children:r.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:l.benefits})}),((I=l.audienceCategories)==null?void 0:I.length)>0&&r.jsx(jl,{title:"Categories",icon:ys,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:l.audienceCategories.map((H,W)=>r.jsx(Qd,{tone:"brand",children:H.name},`cat-${W}`))})}),((C=l.audienceSubcategories)==null?void 0:C.length)>0&&r.jsx(jl,{title:"Subcategories",icon:ys,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:l.audienceSubcategories.map((H,W)=>r.jsx(Qd,{tone:"gray",children:H.name},`subcat-${W}`))})}),((M=l.audienceIdentities)==null?void 0:M.length)>0&&r.jsx(jl,{title:"Target Audience",icon:sn,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:l.audienceIdentities.map((H,W)=>r.jsx(Qd,{tone:"blue",children:H.name},`identity-${W}`))})}),l.applicationInstructions&&r.jsx(jl,{title:"How to Apply",icon:Oh,children:r.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:l.applicationInstructions})}),r.jsxs("div",{className:"flex gap-3 mt-6 relative",children:[h&&r.jsx(rme,{job:l,shareMenuRef:m,setShareOpen:g}),r.jsxs("button",{ref:p,onClick:H=>{H.stopPropagation(),g(W=>!W)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[r.jsx(js,{size:18}),"Share"]}),l.postedByUserId!==(y==null?void 0:y.id)&&r.jsxs("button",{onClick:()=>{if(!(y!=null&&y.id)){b._showPopUp("login_prompt");return}a(!0)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[r.jsx(sn,{size:18}),"Connect"]}),r.jsx("button",{onClick:()=>{var H;if(!(y!=null&&y.id)){b._showPopUp("login_prompt");return}n(),x(`/messages?userId=${l.postedByUserId}`),oe.success("Starting conversation with "+(((H=l.postedBy)==null?void 0:H.name)||"job poster"))},className:"flex-1 rounded-lg px-4 py-2 text-sm font-medium bg-brand-500 text-white hover:bg-brand-700 active:bg-brand-800 flex items-center justify-center gap-2 transition-all duration-200 shadow-sm hover:shadow-md",children:"Message"})]})]}):r.jsx("div",{className:"text-sm text-gray-600",children:"No job details available."})})]}),r.jsx(Yn,{open:s,onClose:()=>a(!1),toUserId:l==null?void 0:l.postedByUserId,toName:((A=l==null?void 0:l.postedBy)==null?void 0:A.name)||"Job Poster",onSent:w})]})}const rme=({job:e,shareMenuRef:t,setShareOpen:n})=>{var c,u;const s=`${window.location.origin}/job/${e==null?void 0:e.id}`,a=(e==null?void 0:e.title)||"Job Opportunity on 54Links",i=((e==null?void 0:e.description)||"").slice(0,160)+(((e==null?void 0:e.description)||"").length>160?"":""),o=["54Links","Jobs","Career","Hiring"].filter(Boolean),l=((u=(c=import.meta)==null?void 0:c.env)==null?void 0:u.VITE_FACEBOOK_APP_ID)||void 0;return r.jsxs("div",{ref:t,className:"absolute bottom-14 left-0 mt-2 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this job"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx(Ps,{url:s,title:a,separator:"  ",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx($s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),r.jsx(Ls,{url:s,quote:i,hashtag:"#54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Cs,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),r.jsx(Is,{url:s,title:a,summary:i,source:"54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ms,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),r.jsx(Os,{url:s,title:a,hashtags:o,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(_s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),r.jsx(As,{url:s,title:a,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ts,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),r.jsx(Ss,{url:s,subject:a,body:i+`

`+s,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ns,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),l&&r.jsx(Es,{url:s,appId:l,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(ks,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),r.jsx("div",{className:"mt-2",children:r.jsx(nme,{shareUrl:s,setShareOpen:n})})]})},nme=({shareUrl:e,setShareOpen:t})=>r.jsxs("button",{onClick:()=>pe(void 0,null,function*(){try{yield navigator.clipboard.writeText(e),oe.success("Link copied"),t(!1)}catch(n){oe.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[r.jsx(ws,{size:16}),"Copy link"]});function sme(e,t){if(!t)return"";const n=Date.now()-new Date(t).getTime(),s=Math.floor(n/6e4);if(s<1)return"just now";if(s<60)return`${s} min${s!==1?"s":""} ago`;const a=Math.floor(s/60);if(a<24)return`${a} hour${a!==1?"s":""} ago`;const i=Math.floor(a/24);return`${i} day${i!==1?"s":""} ago`}function _d({open:e,onClose:t,entityType:n="job",entityId:s,currentUser:a,onCountChange:i}){const o=yr(),[l,c]=d.useState(!1),[u,f]=d.useState(!1),[h,g]=d.useState([]),[m,p]=d.useState(""),[v,b]=d.useState(null),[y,x]=d.useState(""),[w,j]=d.useState(!1),[N,L]=d.useState(null),[k,E]=d.useState(!1),[S,I]=d.useState(null),C=d.useRef(null),M=d.useRef(null),A=d.useRef(null),[,H]=d.useState(0);d.useEffect(()=>{if(!e)return;const z=setInterval(()=>H(_=>_+1),6e4);return()=>clearInterval(z)},[e]),d.useEffect(()=>{function z(U){e&&C.current&&U.target===C.current&&(t==null||t())}function _(U){e&&U.key==="Escape"&&(t==null||t())}return document.addEventListener("mousedown",z),document.addEventListener("keydown",_),()=>{document.removeEventListener("mousedown",z),document.removeEventListener("keydown",_)}},[e,t]),d.useEffect(()=>{const z=_=>{S&&!_.target.closest(".comment-menu")&&I(null)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[S]),d.useEffect(()=>{if(e){const z=setTimeout(()=>{var _;return(_=A.current)==null?void 0:_.focus()},10);return()=>clearTimeout(z)}},[e]);const W=(..._)=>pe(this,[..._],function*({silent:z=!1}={}){if(s){z||c(!0);try{const{data:U}=yield cx(n,s),re=(Array.isArray(U)?U:[]).map(le=>{var ue,ge,ke,tt;return{id:le.id,userId:(ge=(ue=le.user)==null?void 0:ue.id)!=null?ge:le.userId,userName:((ke=le.user)==null?void 0:ke.name)||"User",avatar:((tt=le.user)==null?void 0:tt.avatarUrl)||`https://i.pravatar.cc/60?u=${encodeURIComponent(le.userId)}`,text:le.text,createdAt:le.createdAt,updatedAt:le.updatedAt}});g(re),i==null||i(re.length)}catch(U){oe.error("Couldn't load comments.")}finally{z||c(!1)}}});d.useEffect(()=>{!e||!s||W({silent:!1})},[e,s,n]);function X(){return pe(this,null,function*(){var U;const z=m.trim();if(!z)return;if(!(a!=null&&a.id)){(U=o._showPopUp)==null||U.call(o,"login_prompt");return}f(!0);const _={id:"local-"+Math.random().toString(36).slice(2),userId:a.id,userName:a.name||"You",avatar:a.avatarUrl||`https://i.pravatar.cc/60?u=${encodeURIComponent(a.id)}`,text:z,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};g(Q=>{const re=[_,...Q];return i==null||i(re.length),re}),p("");try{const{data:Q}=yield qhe(n,s,z);Q!=null&&Q.id&&g(re=>re.map(le=>{var ue,ge,ke,tt,He;return le.id===_.id?{id:Q.id,userId:(ge=(ue=Q.user)==null?void 0:ue.id)!=null?ge:Q.userId,userName:((ke=Q.user)==null?void 0:ke.name)||"User",avatar:((tt=Q.user)==null?void 0:tt.avatarUrl)||`https://i.pravatar.cc/60?u=${encodeURIComponent(Q.userId)}`,text:Q.text,createdAt:Q.createdAt,updatedAt:(He=Q.updatedAt)!=null?He:Q.createdAt}:le})),W({silent:!0})}catch(Q){g(re=>{const le=re.filter(ue=>ue.id!==_.id);return i==null||i(le.length),le}),oe.error("Couldn't add comment. Try again.")}finally{f(!1)}})}function J(z){b(z.id),x(z.text)}function Z(){b(null),x(""),j(!1)}function F(){return pe(this,null,function*(){const z=y.trim();if(!(!v||!z)){j(!0);try{const{data:_}=yield Yhe(v,z);g(U=>U.map(Q=>{var re,le;return Q.id===v?he(te({},Q),{text:(re=_==null?void 0:_.text)!=null?re:z,updatedAt:(le=_==null?void 0:_.updatedAt)!=null?le:new Date().toISOString()}):Q})),Z()}catch(_){oe.error("Couldn't update comment. Try again."),j(!1)}}})}function D(z){L(z)}const O=()=>pe(this,null,function*(){if(N){E(!0);try{yield Jhe(N.id),g(z=>{const _=z.filter(U=>U.id!==N.id);return i==null||i(_.length),_}),L(null)}catch(z){throw oe.error("Couldn't delete comment. Try again."),z}finally{E(!1)}}});if(!e)return null;const T=h.length>0||l,R=z=>!!(a!=null&&a.id)&&z.userId===a.id;return r.jsxs("div",{ref:C,className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-[2px] flex items-center justify-center p-4",children:[r.jsxs("div",{ref:M,className:"w-full sm:max-w-2xl max-h-[90vh] sm:max-h-[80vh] bg-white sm:rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-4 py-3 sm:px-5",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Comments"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Share your feedback and questions. Be respectful."})]}),r.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100",onClick:t,"aria-label":"Close",children:r.jsx(Sr,{size:18})})]}),r.jsx("div",{className:"px-4 sm:px-5 pt-3",children:r.jsxs("div",{className:"flex items-start gap-3",children:[(a==null?void 0:a.avatarUrl)&&r.jsx("img",{src:(a==null?void 0:a.avatarUrl)||(a!=null&&a.id?`https://i.pravatar.cc/60?u=${encodeURIComponent(a.id)}`:"https://i.pravatar.cc/60?u=guest"),alt:"",className:"h-9 w-9 rounded-full object-cover"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("textarea",{ref:A,value:m,onChange:z=>p(z.target.value),onKeyDown:z=>{z.key==="Enter"&&(z.ctrlKey||z.metaKey)&&(z.preventDefault(),X())},rows:3,placeholder:"Write a comment (Ctrl/+Enter to send)",className:"w-full resize-y min-h-[84px] rounded-xl border border-gray-300 bg-white px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-brand-200"}),r.jsx("div",{className:"mt-2 flex items-center justify-end",children:r.jsx("button",{onClick:X,disabled:u||!m.trim(),className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium bg-brand-500 text-white hover:bg-brand-600 disabled:opacity-60",children:u?r.jsxs(r.Fragment,{children:[r.jsx(qA,{size:16,className:"animate-spin"}),"Sending"]}):r.jsxs(r.Fragment,{children:[r.jsx(lb,{size:16}),"Send"]})})})]})]})}),r.jsx("div",{className:T?"px-4 sm:px-5 pb-5 flex-1 overflow-auto":"px-4 sm:px-5 pb-5",children:r.jsx("div",{className:"mt-4",children:l?r.jsx("div",{className:"text-sm text-gray-500",children:"Loading comments"}):h.length===0?r.jsx("div",{className:"text-sm text-gray-500",children:"No comments yet. Start the conversation!"}):r.jsx("ul",{className:"space-y-4 pr-1",children:h.map(z=>r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("img",{src:z.avatar||"https://i.pravatar.cc/60",alt:"",className:"h-8 w-8 rounded-full object-cover"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"text-xs text-gray-500",children:[r.jsx("span",{className:"font-medium text-gray-800",children:z.userName||"User"})," "," ",sme(null,z.createdAt)]}),R(z)&&v!==z.id&&r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:_=>{_.stopPropagation(),I(S===z.id?null:z.id)},className:"p-1 text-gray-500 hover:text-gray-700 rounded","aria-label":"More options",title:"More options",children:r.jsx(Fo,{size:14})}),S===z.id&&r.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white border rounded shadow-lg z-10 comment-menu",children:[r.jsx("button",{onClick:_=>{_.stopPropagation(),J(z),I(null)},className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Edit"}),r.jsx("button",{onClick:_=>{_.stopPropagation(),D(z),I(null)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Delete"})]})]})]}),v===z.id?r.jsxs("div",{className:"mt-2",children:[r.jsx("textarea",{value:y,onChange:_=>x(_.target.value),onKeyDown:_=>{_.key==="Enter"&&(_.ctrlKey||_.metaKey)&&(_.preventDefault(),F())},rows:3,className:"w-full rounded-xl border border-gray-300 bg-white px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-brand-200"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("button",{onClick:F,disabled:w||!y.trim(),className:"inline-flex items-center gap-2 rounded-xl px-3 py-1.5 text-sm font-medium bg-brand-500 text-white hover:bg-brand-600 disabled:opacity-60",children:w?r.jsxs(r.Fragment,{children:[r.jsx(qA,{size:14,className:"animate-spin"}),"Saving"]}):"Save"}),r.jsx("button",{onClick:Z,className:"inline-flex items-center gap-2 rounded-xl px-3 py-1.5 text-sm font-medium border border-gray-300 text-gray-700 bg-white hover:border-gray-400",children:"Cancel"})]})]}):r.jsx("div",{className:"text-sm text-gray-800 whitespace-pre-line mt-1",children:z.text})]})]},z.id))})})})]}),r.jsx(is,{open:!!N,onClose:()=>L(null),title:"Delete comment?",text:"This action cannot be undone.",confirmText:k?"Deleting":"Delete",cancelText:"Cancel",tone:"danger",onConfirm:O})]})}function ame({open:e,onClose:t,job:n}){var C;const[s,a]=d.useState(""),[i,o]=d.useState(""),[l,c]=d.useState(""),[u,f]=d.useState(""),[h,g]=d.useState(""),{profile:m}=Xt(),[p,v]=d.useState("existing"),[b,y]=d.useState(0),[x,w]=d.useState(null),[j,N]=d.useState(""),[L,k]=d.useState(!0),[E,S]=d.useState(!1),I=M=>pe(this,null,function*(){var H,W,X;if(M.preventDefault(),S(!0),p==="existing"&&(!(m!=null&&m.cvBase64)||m.cvBase64.length===0)){oe.error("Please upload a CV to proceed with your application");return}if(p==="upload"&&!x){oe.error("Please upload a CV file to proceed with your application");return}let A=null;if(p==="existing"&&((H=m==null?void 0:m.cvBase64)==null?void 0:H.length)>0)A=m.cvBase64[b];else if(p==="upload"&&x){const J=yield new Promise((Z,F)=>{const D=new FileReader;D.onload=()=>Z(D.result),D.onerror=F,D.readAsDataURL(x)});A={original_filename:x.name,title:j.trim()||x.name,base64:J,created_at:new Date().toISOString()}}try{if(yield Se.post("/job-applications",{jobId:n.id,coverLetter:s,expectedSalary:i||null,availability:l||null,availabilityDate:l==="specific"?u:null,employmentType:h||null,cvData:A}),p==="upload"&&L&&A)try{const Z=[...(m==null?void 0:m.cvBase64)||[],A];yield Se.put("/profile/portfolio",{cvBase64:Z})}catch(J){console.error("Failed to save CV to profile:",J)}oe.success("Application submitted successfully!"),t("applied"),S(!1),a(""),o(""),c(""),f(""),g(""),v("existing"),y(0),w(null),N(""),k(!0)}catch(J){oe.error(((X=(W=J.response)==null?void 0:W.data)==null?void 0:X.message)||"Failed to submit application"),S(!1)}});return e?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Apply for ",n==null?void 0:n.title]}),r.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Close",children:r.jsx(Sr,{size:20,className:"text-gray-500"})})]}),r.jsxs("form",{onSubmit:I,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Letter"}),r.jsx("textarea",{value:s,onChange:M=>a(M.target.value),placeholder:"Tell us why you're interested in this position...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent resize-none",rows:6,required:!0})]}),r.jsxs("div",{className:"hidden",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Expected Salary / Rate ",r.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),r.jsx("input",{type:"text",value:i,onChange:M=>o(M.target.value),placeholder:"e.g., $50,000 - $60,000, Negotiable",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Availability ",r.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),r.jsxs("select",{value:l,onChange:M=>c(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select availability"}),r.jsx("option",{value:"immediate",children:"Immediate"}),r.jsx("option",{value:"1month",children:"1 Month"}),r.jsx("option",{value:"specific",children:"Specific Date"})]}),l==="specific"&&r.jsx("input",{type:"date",min:new Date().toISOString().split("T")[0],value:u,onChange:M=>f(M.target.value),className:"w-full mt-2 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]}),r.jsxs("div",{className:"hidden",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Employment Type Preference ",r.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),r.jsxs("select",{value:h,onChange:M=>g(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select employment type"}),r.jsx("option",{value:"full-time",children:"Full-time"}),r.jsx("option",{value:"part-time",children:"Part-time"}),r.jsx("option",{value:"contract",children:"Contract"}),r.jsx("option",{value:"internship",children:"Internship"}),r.jsx("option",{value:"remote",children:"Remote"}),r.jsx("option",{value:"hybrid",children:"Hybrid"}),r.jsx("option",{value:"onsite",children:"Onsite"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["CV/Resume ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex gap-4 mb-3",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"cvSelection",value:"existing",checked:p==="existing",onChange:M=>v(M.target.value),className:"mr-2"}),r.jsx("span",{className:"text-sm",children:"Use existing CV"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"cvSelection",value:"upload",checked:p==="upload",onChange:M=>v(M.target.value),className:"mr-2"}),r.jsx("span",{className:"text-sm",children:"Upload new CV"})]})]}),p==="existing"&&r.jsx("div",{children:((C=m==null?void 0:m.cvBase64)==null?void 0:C.length)>0?r.jsx("div",{className:"space-y-2",children:m.cvBase64.map((M,A)=>r.jsxs("div",{className:`flex items-center justify-between border rounded-lg p-3 cursor-pointer transition-colors ${b===A?"border-brand-500 bg-brand-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>y(A),children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-12 bg-red-600 text-white flex items-center justify-center rounded",children:"PDF"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:M.title||M.original_filename}),r.jsxs("p",{className:"text-xs text-gray-500",children:[Math.round(M.base64.length*3/4/1024)," KB  Last used on ",new Date(M.created_at).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("a",{href:M.base64,download:M.original_filename,children:r.jsx(La,{size:18,className:"text-gray-500 cursor-pointer"})}),b===A&&r.jsx(ox,{size:20,className:"text-green-600"})]})]},A))}):r.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-lg",children:'No CVs available in your profile. Please switch to "Upload new CV" to upload a resume.'})}),p==="upload"&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("input",{type:"text",placeholder:"CV Title (optional)",value:j,onChange:M=>N(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:M=>{const A=M.target.files[0];if(A){if(A.size>10*1024*1024){oe.error("File size must be less than 10MB");return}w(A),j.trim()||N(A.name.replace(/\.[^/.]+$/,""))}},className:"hidden",id:"cv-upload-job",required:p==="upload"}),r.jsx("label",{htmlFor:"cv-upload-job",className:"flex items-center justify-center w-full h-20 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-brand-500 hover:bg-brand-50 transition-colors",children:r.jsxs("div",{className:"text-center",children:[r.jsx(WC,{size:20,className:"mx-auto mb-1 text-gray-400"}),r.jsx("p",{className:"text-sm text-gray-600",children:x?x.name:"Click to upload CV"}),r.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOC, DOCX up to 10MB"})]})})]}),!x&&r.jsx("p",{className:"text-sm text-red-600",children:"Please upload a CV file to continue"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"save-to-profile",checked:L,onChange:M=>k(M.target.checked),className:"mr-2"}),r.jsx("label",{htmlFor:"save-to-profile",className:"text-sm text-gray-700",children:"Save to my profile"})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-brand-500 hover:bg-brand-600 rounded-lg transition-colors",disabled:E||p==="existing"&&(!(m!=null&&m.cvBase64)||m.cvBase64.length===0)||p==="upload"&&!x,children:E?"Submitting Application...":"Submit Application"})]})]})]})})}):null}function Ta({src:e,alt:t}){const n=d.useRef(null),s=d.useRef(null),a=d.useRef(null),i=d.useRef(null),[o,l]=d.useState(!1),[c,u]=d.useState(!0),[f,h]=d.useState(.7),[g,m]=d.useState(.7),[p,v]=d.useState(!1),[b,y]=d.useState(!0),[x,w]=d.useState(0),[j,N]=d.useState(0),[L,k]=d.useState(!1),[E,S]=d.useState(null),[I,C]=d.useState(!1),[M,A]=d.useState(!1),[H,W]=d.useState(null),[X,J]=d.useState(!1),[Z,F]=d.useState(null),[D,O]=d.useState(!1);d.useEffect(()=>{const se=n.current;if(!se)return;const ae=new IntersectionObserver(G=>{G.forEach(Ne=>{const Be=Ne.intersectionRatio>=.5;Be&&!o&&!L&&!X?pe(this,null,function*(){try{se.muted=!0,u(!0),yield se.play(),l(!0),C(!0)}catch(nt){console.log("Auto-play failed:",nt)}}):Be&&o&&!X?(Z===!1?(se.muted=!1,u(!1)):(se.muted=!0,u(!0)),C(!0)):!Be&&o&&!L&&!X?(se.pause(),l(!1),C(!1)):!Be&&o&&(se.muted=!0,u(!0),C(!1))})},{threshold:[0,.5,1],rootMargin:"0px"});return se&&ae.observe(se),()=>{se&&ae.unobserve(se)}},[o,L,X,Z]);const T=se=>{const ae=Math.floor(se/60),G=Math.floor(se%60);return`${ae}:${G.toString().padStart(2,"0")}`};d.useEffect(()=>{const se=n.current;if(!se)return;const ae=()=>w(se.currentTime),G=()=>N(se.duration);return se.addEventListener("timeupdate",ae),se.addEventListener("loadedmetadata",G),se.addEventListener("canplay",()=>y(!1)),()=>{se.removeEventListener("timeupdate",ae),se.removeEventListener("loadedmetadata",G),se.removeEventListener("canplay",()=>y(!1))}},[]),d.useEffect(()=>{n.current&&(n.current.volume=f)},[f]),d.useEffect(()=>{const se=()=>{const ae=document.fullscreenElement;k(!!ae),!ae&&p&&Xe()};return document.addEventListener("fullscreenchange",se),()=>{document.removeEventListener("fullscreenchange",se)}},[p]),d.useEffect(()=>{const se=ae=>{i.current&&!i.current.contains(ae.target)&&A(!1)};return document.addEventListener("mousedown",se),()=>{document.removeEventListener("mousedown",se)}},[]),d.useEffect(()=>(D?(document.addEventListener("mousemove",tt),document.addEventListener("mouseup",He)):(document.removeEventListener("mousemove",tt),document.removeEventListener("mouseup",He)),()=>{document.removeEventListener("mousemove",tt),document.removeEventListener("mouseup",He)}),[D]);const R=se=>{se&&se.stopPropagation(),X||J(!0),n.current&&(o?(n.current.pause(),l(!1)):n.current.play().then(()=>{l(!0)}).catch(ae=>{console.log("Play failed:",ae)}))},z=se=>{se.stopPropagation(),c?(h(g===0?.7:g),u(!1),n.current.muted=!1,F(!1)):(m(f),h(0),u(!0),n.current.muted=!0,F(!0)),A(!1),Xe()},_=()=>{A(!0),H&&clearTimeout(H)},U=()=>{const se=setTimeout(()=>{A(!1)},500);W(se)},Q=()=>{A(!0),H&&clearTimeout(H)},re=()=>{const se=setTimeout(()=>{A(!1)},500);W(se)},le=se=>{se.stopPropagation();const ae=parseFloat(se.target.value);h(ae),c||m(ae),ae>0&&c&&(u(!1),n.current.muted=!1,F(!1))},ue=se=>pe(this,null,function*(){if(se&&se.stopPropagation(),!!s.current)try{document.fullscreenElement?(yield document.exitFullscreen(),k(!1)):(yield s.current.requestFullscreen(),k(!0),n.current&&!o&&(yield n.current.play(),l(!0)),Xe())}catch(ae){console.log(`Fullscreen error: ${ae.message}`)}}),ge=se=>{if(se.stopPropagation(),!n.current||!a.current)return;const ae=a.current,G=ae.getBoundingClientRect(),Ne=(se.clientX-G.left)/ae.offsetWidth,Be=Math.max(0,Math.min(Ne*j,j));n.current.currentTime=Be,w(Be)},ke=se=>{if(se.stopPropagation(),se.preventDefault(),!n.current||!a.current)return;O(!0);const ae=a.current,G=ae.getBoundingClientRect(),Ne=(se.clientX-G.left)/ae.offsetWidth,Be=Math.max(0,Math.min(Ne*j,j));n.current.currentTime=Be,w(Be)},tt=se=>{if(!D||!n.current||!a.current)return;const ae=a.current,G=ae.getBoundingClientRect(),Ne=(se.clientX-G.left)/ae.offsetWidth,Be=Math.max(0,Math.min(Ne*j,j));n.current.currentTime=Be,w(Be)},He=()=>{D&&O(!1)},ze=se=>{se.stopPropagation(),R(se),Xe()},rt=se=>{se.stopPropagation(),ue(se)},Xe=()=>{v(!0),E&&clearTimeout(E);const se=setTimeout(()=>{!o||L||v(!1)},3e3);S(se)},V=()=>{v(!0),E&&clearTimeout(E)},ne=()=>{if(o&&!L){const se=setTimeout(()=>{v(!1),A(!1)},1e3);S(se)}},Ce=se=>{if(L)switch(se.stopPropagation(),se.key){case" ":case"k":se.preventDefault(),R(se);break;case"f":se.preventDefault(),ue(se);break;case"m":se.preventDefault(),z(se);break;case"ArrowUp":se.preventDefault(),h(ae=>{const G=Math.min(1,ae+.1);return m(G),G}),c&&(u(!1),n.current.muted=!1,F(!1));break;case"ArrowDown":se.preventDefault(),h(ae=>{const G=Math.max(0,ae-.1);return m(G),G});break;case"ArrowLeft":se.preventDefault(),n.current&&(n.current.currentTime=Math.max(0,n.current.currentTime-10));break;case"ArrowRight":se.preventDefault(),n.current&&(n.current.currentTime=Math.min(j,n.current.currentTime+10));break}};d.useEffect(()=>(L&&document.addEventListener("keydown",Ce),()=>{document.removeEventListener("keydown",Ce)}),[L,o,c,j,f]);const fe=j>0?x/j*100:0,xe=()=>c||f===0?r.jsx(bue,{size:L?24:16,className:"text-white"}):f>.5?r.jsx(QA,{size:L?24:16,className:"text-white"}):r.jsx(QA,{size:L?24:16,className:"text-white"});return r.jsxs("div",{ref:s,className:`relative w-full bg-black group ${L?"fixed inset-0 z-50 bg-black":"min-h-64 sm:min-h-80 md:min-h-96"}`,onMouseEnter:V,onMouseLeave:ne,onMouseMove:Xe,children:[r.jsx("video",{ref:n,src:e,className:`w-full cursor-pointer ${L?"w-full h-full object-contain":"max-h-96 object-contain"} ${b?"invisible":"visible"}`,muted:c,loop:!0,playsInline:!0,onPlay:()=>l(!0),onPause:()=>l(!1),onLoadedData:()=>y(!1),onWaiting:()=>y(!0),onCanPlay:()=>y(!1),onClick:ze}),b&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 min-h-64 sm:min-h-80 md:min-h-96",children:r.jsx("div",{className:"w-12 h-12 border-4 border-white border-t-transparent rounded-full animate-spin"})}),(p||L)&&r.jsx("div",{ref:a,className:`absolute bg-gray-600 bg-opacity-50 cursor-pointer group/progress z-40 ${L?"bottom-16 left-4 right-4 h-3":"bottom-12 left-0 right-0 h-2"}`,onClick:ge,onMouseDown:ke,children:r.jsx("div",{className:"h-full bg-brand-500 relative group-hover/progress:bg-brand-400 transition-colors",style:{width:`${fe}%`},children:r.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 bg-white rounded-full opacity-0 group-hover/progress:opacity-100 transition-opacity",style:{width:L?"12px":"10px",height:L?"12px":"10px"}})})}),r.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-3 transition-opacity duration-300 z-20 ${p||L?"opacity-100":"opacity-0"} ${L?"p-6":""}`,children:[r.jsxs("div",{className:`flex items-center justify-between text-white mb-2 px-1 ${L?"text-sm mb-4":"text-xs"}`,children:[r.jsx("span",{children:T(x)}),r.jsx("span",{children:T(j)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 video-controls",children:[r.jsx("button",{onClick:R,className:`bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-all duration-200 ${L?"w-12 h-12":"w-8 h-8"}`,children:o?r.jsx(Ade,{size:L?24:16,className:"text-white"}):r.jsx(kv,{size:L?24:16,className:"text-white ml-0.5"})}),r.jsxs("div",{className:"relative flex items-center gap-1",ref:i,children:[r.jsx("button",{onClick:z,onMouseEnter:_,onMouseLeave:U,className:`bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-all duration-200 ${L?"w-12 h-12":"w-8 h-8"}`,children:xe()}),M&&r.jsxs("div",{className:"absolute bottom-full left-0 mb-2 bg-black bg-opacity-90 rounded-lg p-3 shadow-lg z-30",onMouseEnter:Q,onMouseLeave:re,children:[r.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f,onChange:le,className:"w-24 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white"}),r.jsxs("div",{className:"text-xs text-white text-center mt-1",children:[Math.round(f*100),"%"]})]})]}),!L&&r.jsxs("div",{className:"text-xs text-white ml-2",children:[T(x)," / ",T(j)]})]}),r.jsx("div",{className:"flex items-center gap-2 video-controls",children:r.jsx("button",{onClick:rt,className:`bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-all duration-200 ${L?"w-12 h-12":"w-8 h-8"}`,children:L?r.jsx(YA,{size:L?24:16,className:"text-white"}):r.jsx(Nde,{size:L?24:16,className:"text-white"})})})]})]}),!o&&!p&&!L&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 transition-opacity duration-200 group-hover:bg-opacity-20 cursor-pointer z-10",onClick:ze,children:r.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-90 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all duration-200 hover:scale-110",children:r.jsx(kv,{size:32,className:"text-black ml-1"})})}),L&&!o&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-40 cursor-pointer z-10",onClick:ze,children:r.jsx("div",{className:"w-24 h-24 bg-white bg-opacity-90 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all duration-200 hover:scale-110",children:r.jsx(kv,{size:48,className:"text-black ml-2"})})}),!L&&r.jsxs("div",{className:"absolute top-3 right-3 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded flex items-center gap-1 z-10",children:[r.jsx(kv,{size:12}),"Video"]}),L&&r.jsx("button",{onClick:rt,className:"absolute top-4 right-4 z-50 w-10 h-10 bg-black bg-opacity-50 rounded-full flex items-center justify-center hover:bg-opacity-70 transition-colors",children:r.jsx(YA,{size:20,className:"text-white"})})]})}function ime(e,t){if(e)return e;if(!t)return"";const n=Date.now()-new Date(t).getTime(),s=Math.floor(n/6e4);if(s<60)return`${s} min${s!==1?"s":""} ago`;const a=Math.floor(s/60);if(a<24)return`${a} hour${a!==1?"s":""} ago`;const i=Math.floor(a/24);return`${i} day${i!==1?"s":""} ago`}function Od({job:e,onEdit:t,onDelete:n,type:s="grid",matchPercentage:a=0}){var nt,Te,lt,_e,be,Y,ie,de,$e,it,gt;if((e==null?void 0:e.id)=="45d43faa-f907-4361-b25b-c43222a1a636")return;const{user:i,settings:o,profile:l}=Xt(),c=Ht(),u=yr(),[f,h]=d.useState(!1),[g,m]=d.useState(!1),[p,v]=d.useState(null),[b,y]=d.useState((e==null?void 0:e.connectionStatus)||"none"),[x,w]=d.useState((e==null?void 0:e.applicationStatus)||"not_applied"),[j,N]=d.useState(!1),[L,k]=d.useState(!!(e!=null&&e.isLiked)),[E,S]=d.useState(Number((e==null?void 0:e.likesCount)||0)),[I,C]=d.useState(Number((e==null?void 0:e.commentsCount)||0)),[M,A]=d.useState(!1),[H,W]=d.useState(!1),X=d.useRef(null),[J,Z]=d.useState(!1),[F,D]=d.useState(!1),[O,T]=d.useState(!1),[R,z]=d.useState(!1),[_,U]=d.useState(!1),[Q,re]=d.useState(!1),le=d.useRef(null);d.useEffect(()=>{function De(Ae){X.current&&!X.current.contains(Ae.target)&&W(!1),le.current&&!le.current.contains(Ae.target)&&(T(!1),z(!1))}function Le(Ae){Ae.key==="Escape"&&(W(!1),T(!1),z(!1))}return document.addEventListener("mousedown",De),document.addEventListener("keydown",Le),()=>{document.removeEventListener("mousedown",De),document.removeEventListener("keydown",Le)}},[]);const ue=(i==null?void 0:i.id)&&(e==null?void 0:e.postedByUserId)&&i.id===e.postedByUserId,ge=(e==null?void 0:e.postedByUserAvatarUrl)||null,ke=De=>De?De!=null&&De.startsWith("data:")||De!=null&&De.startsWith("http")?De:`${gn}/uploads/${De}`:null,tt=d.useMemo(()=>{var Ae;const De=ke(e==null?void 0:e.videoUrl),Le=ke((e==null?void 0:e.coverImageBase64)||(e==null?void 0:e.coverImage));return De?{type:"video",url:De}:Le?{type:"image",url:Le}:!(e!=null&&e.make_company_name_private)&&((Ae=e==null?void 0:e.company)!=null&&Ae.avatarUrl)?{type:"image",url:ke(e.company.avatarUrl)}:null},[e==null?void 0:e.videoUrl,e==null?void 0:e.coverImageBase64,e==null?void 0:e.make_company_name_private,(nt=e==null?void 0:e.company)==null?void 0:nt.avatarUrl]);console.log({jobId:e==null?void 0:e.id,coverImage:e==null?void 0:e.coverImageBase64,videoUrl:e==null?void 0:e.videoUrl,mediaToDisplay:tt});const He=["Job Offer",...Array.isArray(e==null?void 0:e.audienceCategories)?e==null?void 0:e.audienceCategories.map(De=>De.name):[],e==null?void 0:e.jobType,e==null?void 0:e.workMode,e==null?void 0:e.categoryName,e==null?void 0:e.subcategoryName].filter(Boolean),ze=(e==null?void 0:e.salaryMin)!=null||(e==null?void 0:e.salaryMax)!=null?`${(e==null?void 0:e.currency)||"USD"} ${(Te=e==null?void 0:e.salaryMin)!=null?Te:""}${(e==null?void 0:e.salaryMax)!=null?` - ${e==null?void 0:e.salaryMax}`:""}`:"",rt=d.useMemo(()=>ime(e==null?void 0:e.timeAgo,e==null?void 0:e.createdAt),[e==null?void 0:e.timeAgo,e==null?void 0:e.createdAt]);function Xe(){m(!1),y("pending_outgoing")}const V=De=>{if(!De)return"";const Le=De.replace(/<br\s*\/?>/gi,". "),Ae=document.createElement("div");Ae.innerHTML=Le;let Pe=Ae.textContent||Ae.innerText||"";return Pe=Pe.replace(/\s+/g," ").trim(),Pe},ne=()=>pe(this,null,function*(){var De;if(!(i!=null&&i.id)){(De=u._showPopUp)==null||De.call(u,"login_prompt");return}k(Le=>!Le),S(Le=>L?Math.max(0,Le-1):Le+1);try{const{data:Le}=yield Md("job",e.id);k(Le.liked),S(Le.count)}catch(Le){k(Ae=>!Ae),S(Ae=>L?Ae+1:Math.max(0,Ae-1))}}),Ce=De=>pe(this,null,function*(){try{yield Id("job",e.id,"other",De),oe.success("Report submitted. Thank you.")}catch(Le){oe.success("Report submitted. Thank you.")}}),fe=`${window.location.origin}/job/${e==null?void 0:e.id}`,xe=(e==null?void 0:e.title)||"Opportunity on 54Links",se=((e==null?void 0:e.description)||"").slice(0,160)+(((e==null?void 0:e.description)||"").length>160?"":""),ae=["54Links","Jobs","Opportunities"].filter(Boolean),G=((_e=(lt=import.meta)==null?void 0:lt.env)==null?void 0:_e.VITE_FACEBOOK_APP_ID)||void 0,Ne=()=>r.jsxs("button",{onClick:()=>pe(this,null,function*(){try{yield navigator.clipboard.writeText(fe),oe.success("Link copied"),W(!1)}catch(De){oe.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[r.jsx(ws,{size:16}),"Copy link"]}),Be=()=>r.jsxs("div",{ref:X,className:"absolute z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl bottom-0 right-3",role:"dialog","aria-label":"Share options",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this job"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx(Ps,{url:fe,title:xe,separator:"  ",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx($s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),r.jsx(Ls,{url:fe,quote:se,hashtag:"#54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Cs,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),r.jsx(Is,{url:fe,title:xe,summary:se,source:"54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ms,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),r.jsx(Os,{url:fe,title:xe,hashtags:ae,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(_s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),r.jsx(As,{url:fe,title:xe,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ts,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),r.jsx(Ss,{url:fe,subject:xe,body:se+`

`+fe,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ns,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),G&&r.jsx(Es,{url:fe,appId:G,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(ks,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),r.jsx("div",{className:"mt-2",children:r.jsx(Ne,{})})]}),dt=()=>r.jsx("div",{ref:le,className:"absolute z-30 w-48 rounded-xl border border-gray-200 bg-white p-2 shadow-xl top-12 right-3",role:"dialog","aria-label":"Options menu",children:R?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-900 border-b border-gray-200 mb-2",children:"Delete this job?"}),r.jsxs("button",{onClick:()=>pe(this,null,function*(){var De,Le;try{yield Se.delete(`/jobs/${e.id}`),oe.success("Job deleted successfully"),U(!0),n&&n(e)}catch(Ae){console.error("Failed to delete job:",Ae),oe.error(((Le=(De=Ae==null?void 0:Ae.response)==null?void 0:De.data)==null?void 0:Le.message)||"Failed to delete job")}T(!1),z(!1)}),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors mb-1",children:[r.jsx(On,{size:16}),"Confirm Delete"]}),r.jsx("button",{onClick:()=>z(!1),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>{c(`/job/${e.id}`),T(!1)},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors mb-1",children:[r.jsx(Ql,{size:16}),"Edit"]}),r.jsxs("button",{onClick:()=>z(!0),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[r.jsx(On,{size:16}),"Delete"]})]})});return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 overflow-hidden ${_?"hidden":""}`,children:[r.jsxs("div",{className:"px-4 pt-3 pb-2 flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsx("div",{className:"cursor-pointer flex-shrink-0",onClick:De=>{De.stopPropagation(),e!=null&&e.postedByUserId&&c(`/profile/${e.postedByUserId}`)},children:ge?r.jsx("div",{className:`flex bg-white items-center  justify-center w-20 h-20 ${((be=e==null?void 0:e.postedBy)==null?void 0:be.accountType)==="company"?" rounded":"rounded-full"} border border-gray-300  overflow-hidden`,children:r.jsx("img",{src:ge,alt:(e==null?void 0:e.postedByUserName)||"User",className:"w-full h-full",style:{objectFit:"contain"}})}):r.jsx("div",{className:`w-20  h-20 bg-gray-200 flex items-center justify-center ${((Y=e==null?void 0:e.postedBy)==null?void 0:Y.accountType)==="company"?"rounded":"rounded-full"} border border-gray-100`,children:r.jsx(ka,{size:24,className:"text-gray-400"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-semibold text-sm text-gray-900 hover:underline cursor-pointer",onClick:De=>{De.stopPropagation(),e!=null&&e.postedByUserId&&c(`/profile/${e.postedByUserId}`)},children:(e==null?void 0:e.postedByUserName)||"User"}),r.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[!(e!=null&&e.make_company_name_private)&&(e!=null&&e.companyName)?e==null?void 0:e.companyName:(ie=e==null?void 0:e.company)!=null&&ie.followersCount?`${e.company.followersCount.toLocaleString()} followers`:"",(!(e!=null&&e.make_company_name_private)&&(e==null?void 0:e.companyName)||((de=e==null?void 0:e.company)==null?void 0:de.followersCount))&&(($e=e==null?void 0:e.profile)==null?void 0:$e.professionalTitle)&&" | ",(it=e==null?void 0:e.profile)==null?void 0:it.professionalTitle]}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5",children:[r.jsx("span",{children:rt}),r.jsx("span",{children:""}),r.jsx(no,{size:12})]})]})]}),r.jsxs("div",{className:"relative flex-shrink-0",children:[ue&&r.jsx("button",{onClick:De=>{De.stopPropagation(),T(Le=>!Le)},className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors","aria-label":"More options",children:r.jsx(Fo,{size:20,className:"text-gray-600"})}),O&&r.jsx(dt,{})]})]}),r.jsxs("div",{className:"px-4 pb-3",children:[r.jsx("h3",{className:"font-semibold text-base text-gray-900 mb-1 hover:text-brand-600 cursor-pointer transition-colors",onClick:()=>{ue?c(`/job/${e.id}`):N(!0)},children:e==null?void 0:e.title}),r.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:[r.jsx("div",{dangerouslySetInnerHTML:{__html:e.description.length>150&&!Q?(e.description||"No description provided.").slice(0,150):e.description||"No description provided."},className:Q?"":"line-clamp-3"}),(e==null?void 0:e.description)&&V(e==null?void 0:e.description).length>150&&r.jsx("button",{onClick:()=>re(!Q),className:"text-gray-500 hover:text-brand-600 font-medium mt-1",children:Q?"Show less":"...more"})]})]}),tt&&r.jsx("div",{className:"relative",children:tt.type==="video"?r.jsx(Ta,{src:tt.url,alt:"Job video"}):r.jsx("img",{src:tt.url,alt:"Job cover",className:"w-full max-h-96 object-cover cursor-pointer",onClick:()=>N(!0)})}),r.jsxs("div",{className:"flex justify-between px-4 pt-3 pb-3",children:[He.length>0&&r.jsx("div",{className:" flex-1",children:r.jsxs("div",{className:"flex flex-wrap gap-1.5 flex-1",children:[He.slice(0,3).map((De,Le)=>r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-brand-500",children:["#",De.replace(/\s+/g,"")]},Le)),He.length>3&&r.jsxs("div",{className:"relative inline-block group/tags",children:[r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium text-gray-600 bg-gray-100 cursor-help",children:["+",He.length-3," more"]}),r.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/tags:opacity-100 group-hover/tags:visible z-10 whitespace-nowrap max-w-xs",children:[r.jsx("div",{className:"flex flex-wrap gap-1",children:He.slice(3).map((De,Le)=>r.jsxs("span",{className:"inline-block",children:["#",De.replace(/\s+/g,""),Le<He.length-4?",":""]},Le))}),r.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]})}),r.jsx("div",{children:a>0&&r.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${a>=80?"bg-green-100 text-green-700 border border-green-200":a>=60?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:[a,"% match"]})})]}),(E>0||I>0)&&r.jsxs("div",{className:"px-4 py-2 flex items-center justify-between text-xs text-gray-500 border-t border-gray-100",children:[r.jsx("div",{className:"flex items-center gap-1",children:E>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"flex -space-x-1",children:r.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center",children:r.jsx(os,{size:10,className:"text-white fill-white"})})}),r.jsxs("button",{onClick:()=>h(!0),className:"hover:underline cursor-pointer",children:[E," ",E===1?"like":"likes"]})]})}),r.jsx("div",{className:"flex items-center gap-3",children:I>0&&r.jsxs("button",{onClick:()=>Z(!0),className:"hover:underline",children:[I," comment",I!==1?"s":""]})})]}),r.jsxs("div",{className:"px-2 py-1 border-t border-gray-100 grid grid-cols-4 gap-1",children:[r.jsxs("button",{onClick:ne,className:`flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium ${L?"text-blue-600":"text-gray-600"}`,children:[r.jsx(os,{size:20,className:L?"fill-blue-600":""}),r.jsx("span",{className:"max-sm:hidden",children:"Like"})]}),r.jsxs("button",{onClick:()=>Z(!0),className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(cs,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Comment"})]}),r.jsxs("button",{onClick:()=>{var De;if(i!=null&&i.id)A(!0);else{(De=u._showPopUp)==null||De.call(u,"login_prompt");return}},className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(ro,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Report"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:De=>{De.stopPropagation(),W(Le=>!Le)},className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(js,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Share"})]}),H&&r.jsx(Be,{})]})]}),r.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[ze&&r.jsx("div",{className:"text-sm font-semibold text-gray-900",children:ze}),r.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[r.jsx(Hr,{size:14}),!((gt=e==null?void 0:e.countries)!=null&&gt.length)&&!(e!=null&&e.country)&&r.jsx("span",{children:"All countries"}),r.jsx("span",{children:(()=>{const De=(e==null?void 0:e.countries)||[],Le=e==null?void 0:e.country,Ae=e==null?void 0:e.city;if(De.length>0)if(De.length===1){const Pe=De[0];return r.jsxs("span",{children:[Pe.city?`${Pe.city}, `:"",Pe.country||"-"]})}else{const Pe=De[0],Qe=De.length-1;return r.jsxs("div",{className:"relative group/location",children:[r.jsxs("span",{className:"cursor-help",children:[Pe.country,Pe.city?`, ${Pe.city}`:""," +",Qe]}),r.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/location:opacity-100 group-hover/location:visible z-10 whitespace-nowrap max-w-xs",children:[r.jsx("div",{className:"space-y-1",children:De.map((mt,Me)=>r.jsxs("div",{className:"text-left",children:[mt.city?`${mt.city}, `:"",mt.country]},Me))}),r.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})}return r.jsxs("span",{children:[Ae?`${Ae}, `:"",Le||"-"]})})()})]})]}),!ue&&r.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[x==="applied"?r.jsxs("button",{className:"flex-1 px-4 py-2 rounded-full bg-green-100 text-green-700 font-medium text-sm flex items-center justify-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Applied"]}):r.jsx("button",{onClick:()=>{if(!(i!=null&&i.id)){u._showPopUp("login_prompt");return}D(!0)},className:"flex-1 px-4 py-2 rounded-full bg-brand-600 text-white font-medium text-sm hover:bg-brand-700 transition-colors",children:"Apply"}),b!=="connected"&&r.jsx("button",{disabled:b==="pending_outgoing"||b==="outgoing_pending"||b==="incoming_pending",onClick:()=>{if(b==="pending_incoming"||b==="incoming_pending"){c("/notifications");return}if(!(i!=null&&i.id)){u._showPopUp("login_prompt");return}m(!0)},className:`flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors ${b==="pending_outgoing"||b==="outgoing_pending"?"bg-yellow-100 text-yellow-700":b==="pending_incoming"||b==="incoming_pending"?"bg-brand-100 text-brand-600 hover:bg-brand-200":"border-2 border-brand-600 text-brand-600 hover:bg-brand-50"}`,children:b==="pending_outgoing"||b==="outgoing_pending"?"Pending":b==="pending_incoming"||b==="incoming_pending"?"Respond":"Connect"})]})]})]}),r.jsx(Yn,{open:g,onClose:()=>m(!1),toUserId:e==null?void 0:e.postedByUserId,toName:(e==null?void 0:e.postedByUserName)||"Job Poster",onSent:Xe}),r.jsx($d,{userId:p,isOpen:!!p,onClose:()=>v(null),onSent:Xe}),r.jsx(tme,{jobId:e==null?void 0:e.id,isOpen:j,onClose:()=>N(!1)}),r.jsx(is,{open:M,onClose:()=>A(!1),title:"Report this job?",text:"Tell us what's happening. Our team will review.",confirmText:"Submit report",cancelText:"Cancel",withInput:!0,inputType:"textarea",inputLabel:"Report details",inputPlaceholder:"Describe the issue (spam, scam, offensive, etc.)",requireValue:!0,onConfirm:Ce}),r.jsx(_d,{open:J,onClose:()=>Z(!1),entityType:"job",entityId:e==null?void 0:e.id,currentUser:i,onCountChange:De=>C(De)}),r.jsx(Td,{open:f,onClose:()=>h(!1),entityType:"job",entityId:e==null?void 0:e.id}),r.jsx(ame,{open:F,onClose:De=>{De=="applied"&&w("applied"),D(!1)},job:e,profile:l})]})}function ome(e){if(!e)return"";const t=new Date(e).getTime(),n=Date.now(),s=Math.floor((n-t)/1e3);if(s<60)return"Just now";const a=Math.floor(s/60);if(a<60)return`${a} min${a>1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i>1?"s":""} ago`;const o=Math.floor(i/24);if(o<30)return`${o} day${o>1?"s":""} ago`;const l=Math.floor(o/30);if(l<12)return`${l} month${l>1?"s":""} ago`;const c=Math.floor(l/12);return`${c} year${c>1?"s":""} ago`}function $g({children:e,tone:t="brand"}){const n={brand:"bg-brand-50 text-brand-600",green:"bg-green-100 text-green-700",gray:"bg-gray-100 text-gray-700",blue:"bg-blue-100 text-blue-700",red:"bg-red-100 text-red-700"};return r.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] ${n[t]||n.gray}`,children:e})}function bc({title:e,icon:t,children:n}){return r.jsxs("div",{className:"mt-5 text-left",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t?r.jsx(t,{size:16,className:"text-brand-600"}):null,r.jsx("h3",{className:"font-medium text-sm",children:e})]}),n]})}function lme({needId:e,isOpen:t,onClose:n,item:s}){var E,S,I,C;const[a,i]=d.useState(!1),[o,l]=d.useState(!1),[c,u]=d.useState(null),[f,h]=d.useState(""),[g,m]=d.useState(!1),p=d.useRef(null),v=d.useRef(null),b=d.useRef(null),y=yr(),{user:x}=Xt(),w=Ht();d.useEffect(()=>{function M(H){v.current&&p.current&&!v.current.contains(H.target)&&!p.current.contains(H.target)&&m(!1)}function A(H){H.key==="Escape"&&m(!1)}return document.addEventListener("mousedown",M),document.addEventListener("keydown",A),()=>{document.removeEventListener("mousedown",M),document.removeEventListener("keydown",A)}},[]),d.useEffect(()=>{if(!t){u(null),h("");return}if(!e)return;let M=!0;function A(){return pe(this,null,function*(){l(!0),h(""),u(null);try{const{data:H}=yield Se.get(`/needs/${e}`);M&&u(H)}catch(H){console.error("Error fetching need details:",H),M&&h("Failed to load need details.")}finally{M&&l(!1)}})}return A(),()=>{M=!1}},[t,e]);function j(){oe.success("Connection request sent"),i(!1)}if(!t)return null;const N=((c==null?void 0:c.user.name)||(s==null?void 0:s.userName)||"?").split(" ").map(M=>M[0]).join("").slice(0,2).toUpperCase(),L=()=>{var M;if(((M=c==null?void 0:c.attachments)==null?void 0:M.length)>0){for(const A of c.attachments)if(A!=null&&A.base64url&&A.base64url.startsWith("data:image")||A.base64url.startsWith("http://")||A.base64url.startsWith("https://"))return A.base64url}return null},k=()=>{var H,W;const M=(H=c==null?void 0:c.city)==null?void 0:H.trim(),A=(W=c==null?void 0:c.country)==null?void 0:W.trim();return M&&A?`${M}, ${A}`:A||M||""};return r.jsxs("div",{className:"fixed z-[99] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[r.jsxs("div",{ref:b,className:"bg-white z-[99] w-full max-w-2xl rounded-2xl shadow-xl flex flex-col max-h-[85vh] overflow-hidden relative",children:[r.jsxs("div",{className:"bg-brand-500 p-4 flex justify-between items-center",children:[r.jsx("div",{className:"text-white font-medium",children:"Need Details"}),r.jsx("button",{onClick:()=>{var M;n(),(M=y._closeAllPopUps)==null||M.call(y)},className:"text-white hover:text-brand-100",children:r.jsx(Sr,{size:20})})]}),r.jsx("div",{className:"p-6 overflow-y-auto",children:o?r.jsx(Ad,{}):f?r.jsx("div",{className:"text-sm text-red-600",children:f}):c?r.jsxs(r.Fragment,{children:[(()=>{var A;const M=L();return M?r.jsx("div",{className:"relative mb-6",children:r.jsx("img",{src:M,alt:c.title,className:"w-full h-64 object-cover bg-gray-50 rounded-lg"})}):((A=c.attachments)==null?void 0:A.length)>0?r.jsx("div",{className:"relative mb-6",children:r.jsx("div",{className:"w-full h-64 bg-gray-200 flex justify-center items-center rounded-lg",children:r.jsx("img",{src:uh,className:"w-[100px]",alt:"54Links logo"})})}):null})(),r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:c.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-600",children:[r.jsx(ki,{size:16}),r.jsx("span",{children:ome(c.createdAt)}),k()&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mx-1",children:""}),r.jsx(Hr,{size:16}),r.jsx("span",{children:k()})]})]})]}),c.budget&&r.jsx("div",{className:"text-2xl font-bold text-brand-600",children:c.budget})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[c.urgency&&r.jsxs($g,{tone:c.urgency==="High"?"red":c.urgency==="Medium"?"blue":"gray",children:[c.urgency," Priority"]}),c.relatedEntityType&&r.jsx($g,{tone:"brand",children:c.relatedEntityType})]}),r.jsx(bc,{title:"Posted by",icon:sn,children:r.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border border-gray-100 hover:border-brand-200",onClick:()=>{},children:[c.userAvatarUrl?r.jsx("img",{src:c==null?void 0:c.user.avatarUrl,alt:c==null?void 0:c.user.name,className:"w-10 h-10 rounded-full object-cover"}):r.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-brand-600 font-medium",children:N})}),r.jsx("div",{children:r.jsx("div",{className:"font-medium",children:(c==null?void 0:c.user.name)||"User"})})]})}),r.jsx(bc,{title:"Description",icon:cs,children:r.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:c.description||"No description provided."})}),r.jsx(bc,{title:"Details",icon:Cd,children:r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[c.budget&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-500",children:"Budget"}),r.jsx("span",{className:"font-medium",children:c.budget})]}),c.urgency&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-500",children:"Urgency"}),r.jsx("span",{className:"font-medium",children:c.urgency})]})]})}),k()&&r.jsx(bc,{title:"Location",icon:Hr,children:r.jsx("div",{className:"text-sm text-gray-700",children:k()})}),((E=c.audienceCategories)==null?void 0:E.length)>0&&r.jsx(bc,{title:"Categories",icon:ys,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:c.audienceCategories.map((M,A)=>r.jsx($g,{tone:"brand",children:M.name},`cat-${A}`))})}),((S=c.audienceSubcategories)==null?void 0:S.length)>0&&r.jsx(bc,{title:"Subcategories",icon:ys,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:c.audienceSubcategories.map((M,A)=>r.jsx($g,{tone:"gray",children:M.name},`subcat-${A}`))})}),((I=c.audienceIdentities)==null?void 0:I.length)>0&&r.jsx(bc,{title:"Target Audience",icon:sn,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:c.audienceIdentities.map((M,A)=>r.jsx($g,{tone:"blue",children:M.name},`identity-${A}`))})}),((C=c.attachments)==null?void 0:C.length)>0&&r.jsx(bc,{title:"Attachments",icon:kd,children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:c.attachments.map((M,A)=>{const H=M.base64url&&M.base64url.startsWith("data:image"),W=M.name||`Attachment ${A+1}`;return r.jsx("div",{className:"relative",children:H?r.jsx("img",{src:M.base64url,alt:W,className:"w-full h-24 object-cover rounded-lg border border-gray-200"}):r.jsxs("a",{href:M.base64url,download:W,target:"_blank",rel:"noopener noreferrer",className:"w-full h-24 bg-gray-100 rounded-lg border border-gray-200 flex flex-col items-center justify-center cursor-pointer hover:bg-gray-200 transition-colors group",title:`Download ${W}`,children:[r.jsx(MH,{size:24,className:"text-gray-400 mb-1"}),r.jsx("span",{className:"text-xs text-gray-600 text-center px-1 truncate max-w-full",children:W}),r.jsx(Lo,{size:12,className:"text-gray-400 mt-1 opacity-0 group-hover:opacity-100 transition-opacity"})]})},A)})})}),r.jsxs("div",{className:"flex gap-3 mt-6 relative",children:[r.jsxs("button",{ref:v,onClick:M=>{M.stopPropagation(),m(A=>!A)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[r.jsx(js,{size:18}),"Share"]}),c.userId!==(x==null?void 0:x.id)&&r.jsxs("button",{onClick:()=>{if(!(x!=null&&x.id)){y._showPopUp("login_prompt");return}i(!0)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[r.jsx(sn,{size:18}),"Connect"]}),r.jsx("button",{onClick:()=>{if(!(x!=null&&x.id)){y._showPopUp("login_prompt");return}n(),w(`/messages?userId=${c.userId}`),oe.success("Starting conversation with "+(c.userName||"user"))},className:"flex-1 rounded-lg px-4 py-2 text-sm font-medium bg-brand-500 text-white hover:bg-brand-700 active:bg-brand-800 flex items-center justify-center gap-2 transition-all duration-200 shadow-sm hover:shadow-md",children:"Message"}),g&&r.jsx(cme,{need:c,shareMenuRef:p,setShareOpen:m})]})]}):r.jsx("div",{className:"text-sm text-gray-600",children:"No need details available."})})]}),r.jsx(Yn,{open:a,onClose:()=>i(!1),toUserId:c==null?void 0:c.userId,toName:(c==null?void 0:c.userName)||"User",onSent:j})]})}const cme=({need:e,shareMenuRef:t,setShareOpen:n})=>{var c,u;const s=`${window.location.origin}/need/${e==null?void 0:e.id}`,a=(e==null?void 0:e.title)||"Need on 54Links",i=((e==null?void 0:e.description)||"").slice(0,160)+(((e==null?void 0:e.description)||"").length>160?"":""),o=["54Links","Needs","Community"].filter(Boolean),l=((u=(c=import.meta)==null?void 0:c.env)==null?void 0:u.VITE_FACEBOOK_APP_ID)||void 0;return r.jsxs("div",{ref:t,className:"absolute bottom-14 left-0 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this need"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx(Ps,{url:s,title:a,separator:"  ",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx($s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),r.jsx(Ls,{url:s,quote:i,hashtag:"#54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Cs,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),r.jsx(Is,{url:s,title:a,summary:i,source:"54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ms,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),r.jsx(Os,{url:s,title:a,hashtags:o,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(_s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),r.jsx(As,{url:s,title:a,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ts,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),r.jsx(Ss,{url:s,subject:a,body:i+`

`+s,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ns,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),l&&r.jsx(Es,{url:s,appId:l,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(ks,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),r.jsx("div",{className:"mt-2",children:r.jsx(dme,{shareUrl:s,setShareOpen:n})})]})},dme=({shareUrl:e,setShareOpen:t})=>r.jsxs("button",{onClick:()=>pe(void 0,null,function*(){try{yield navigator.clipboard.writeText(e),oe.success("Link copied"),t(!1)}catch(n){oe.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[r.jsx(ws,{size:16}),"Copy link"]});function ume(e,t){if(e)return e;if(!t)return"";const n=Date.now()-new Date(t).getTime(),s=Math.floor(n/6e4);if(s<60)return`${s} min${s!==1?"s":""} ago`;const a=Math.floor(s/60);if(a<24)return`${a} hour${a!==1?"s":""} ago`;const i=Math.floor(a/24);return`${i} day${i!==1?"s":""} ago`}const fme=e=>!e||typeof e!="string"?!1:e.startsWith("data:")||e.startsWith("http://")||e.startsWith("https://"),hme=e=>{if(!e)return"";const t=e.match(/\.([a-zA-Z0-9]+)(?:\?|$)/);return t?t[1].toLowerCase():""},gme=e=>{if((e==null?void 0:e.type)==="video")return"video";if((e==null?void 0:e.type)==="image")return"image";const t=(e==null?void 0:e.base64url)||(e==null?void 0:e.url)||"",n=hme(t),s=["mp4","webm","ogg","mov","avi","mkv"],a=["jpg","jpeg","png","gif","webp","bmp","svg"];return s.includes(n)?"video":(a.includes(n),"image")};function ec({need:e,onEdit:t,onDelete:n,type:s="grid",matchPercentage:a=0}){var it,gt,De;const{user:i,settings:o}=Xt(),l=Ht(),c=yr(),[u,f]=d.useState(!1),[h,g]=d.useState(null),[m,p]=d.useState((e==null?void 0:e.connectionStatus)||"none"),[v,b]=d.useState(!1),[y,x]=d.useState(!!(e!=null&&e.isLiked)),[w,j]=d.useState(Number(e.likesCount||0)),[N,L]=d.useState(Number((e==null?void 0:e.commentsCount)||0)),[k,E]=d.useState(0),[S,I]=d.useState(!1),[C,M]=d.useState(!1),[A,H]=d.useState(!1),[W,X]=d.useState(!1),[J,Z]=d.useState(!1),F=d.useRef(null),[D,O]=d.useState(!1),[T,R]=d.useState(!1),[z,_]=d.useState(!1),[U,Q]=d.useState(!1),[re,le]=d.useState(!1),ue=d.useRef(null),ge=d.useRef(null);d.useEffect(()=>{function Le(Pe){F.current&&!F.current.contains(Pe.target)&&Z(!1),ue.current&&!ue.current.contains(Pe.target)&&(R(!1),_(!1))}function Ae(Pe){Pe.key==="Escape"&&(Z(!1),R(!1),_(!1))}return document.addEventListener("mousedown",Le),document.addEventListener("keydown",Ae),()=>{document.removeEventListener("mousedown",Le),document.removeEventListener("keydown",Ae)}},[]),d.useEffect(()=>()=>{ge.current&&clearTimeout(ge.current)},[]),d.useEffect(()=>{e!=null&&e.id&&(cw("need",e.id).then(({data:Le})=>{x(Le.liked),j(Le.count)}).catch(()=>{}),cx("need",e.id).then(({data:Le})=>{const Ae=Array.isArray(Le)?Le.length:0;L(Ae)}).catch(()=>{}))},[e==null?void 0:e.id]);const ke=(i==null?void 0:i.id)&&(e==null?void 0:e.userId)&&i.id===e.userId,He=(()=>{var Ae;const Le=[];if(((Ae=e==null?void 0:e.attachments)==null?void 0:Ae.length)>0)for(const Pe of e.attachments){const Qe=Pe==null?void 0:Pe.base64url;if(fme(Qe)){const mt=gme(Pe);Le.push({url:Qe,type:mt,name:(Pe==null?void 0:Pe.name)||`attachment-${Le.length}`})}}return Le.sort((Pe,Qe)=>Pe.type==="video"&&Qe.type!=="video"?-1:Pe.type!=="video"&&Qe.type==="video"?1:0)})(),ze=He.length>1,rt=He[k],Xe=(rt==null?void 0:rt.type)==="video",V=d.useMemo(()=>{const Le=Array.isArray(e==null?void 0:e.tags)?e.tags:[],Ae=[e==null?void 0:e.relatedEntityType,e==null?void 0:e.urgency,e==null?void 0:e.categoryName,e==null?void 0:e.subcategoryName].filter(Boolean);return[...new Set([(e==null?void 0:e.relatedEntityType)=="job"?"Job Seeker":"",...Array.isArray(e==null?void 0:e.audienceCategories)?e==null?void 0:e.audienceCategories.map(Pe=>Pe.name):[],e==null?void 0:e.relatedEntityType,...Le,...Ae.slice(1)])].filter(Boolean)},[e==null?void 0:e.audienceCategories,e==null?void 0:e.tags,e==null?void 0:e.relatedEntityType,e==null?void 0:e.urgency,e==null?void 0:e.categoryName,e==null?void 0:e.subcategoryName]),ne=d.useMemo(()=>ume(e==null?void 0:e.timeAgo,e==null?void 0:e.createdAt),[e==null?void 0:e.timeAgo,e==null?void 0:e.createdAt]),Ce=d.useMemo(()=>{var Pe,Qe;const Le=(Pe=e==null?void 0:e.city)==null?void 0:Pe.trim(),Ae=(Qe=e==null?void 0:e.country)==null?void 0:Qe.trim();return Le&&Ae?`${Le}, ${Ae}`:Ae||Le||""},[e==null?void 0:e.city,e==null?void 0:e.country]);function fe(){f(!1),p("pending_outgoing")}const xe=Le=>{if(!Le)return"";const Ae=Le.replace(/<br\s*\/?>/gi,". "),Pe=document.createElement("div");Pe.innerHTML=Ae;let Qe=Pe.textContent||Pe.innerText||"";return Qe=Qe.replace(/\s+/g," ").trim(),Qe},se=()=>{I(!S),M(!0),ge.current&&clearTimeout(ge.current),ge.current=setTimeout(()=>{M(!1)},3e3)},ae=()=>{I(!0),M(!0),ge.current&&clearTimeout(ge.current),ge.current=setTimeout(()=>{M(!1)},3e3)},G=()=>{I(!1),M(!0),ge.current&&clearTimeout(ge.current)},Ne=Le=>{Xe?(Le.stopPropagation(),se()):b(!0)},Be=()=>pe(this,null,function*(){var Le;if(!(i!=null&&i.id)){(Le=c._showPopUp)==null||Le.call(c,"login_prompt");return}x(Ae=>!Ae),j(Ae=>y?Math.max(0,Ae-1):Ae+1);try{const{data:Ae}=yield Md("need",e.id);x(Ae.liked),j(Ae.count)}catch(Ae){x(Pe=>!Pe),j(Pe=>y?Pe+1:Math.max(0,Pe-1))}}),dt=Le=>pe(this,null,function*(){try{yield Id("need",e.id,"other",Le),oe.success("Report submitted. Thank you.")}catch(Ae){oe.success("Report submitted. Thank you.")}}),nt=`${window.location.origin}/need/${e==null?void 0:e.id}`,Te=(e==null?void 0:e.title)||"Need on 54Links",lt=((e==null?void 0:e.description)||"").slice(0,160)+(((e==null?void 0:e.description)||"").length>160?"":""),_e=["54Links","Needs","Help"].filter(Boolean),be=((gt=(it=import.meta)==null?void 0:it.env)==null?void 0:gt.VITE_FACEBOOK_APP_ID)||void 0,Y=()=>r.jsxs("button",{onClick:()=>pe(this,null,function*(){try{yield navigator.clipboard.writeText(nt),oe.success("Link copied"),Z(!1)}catch(Le){oe.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[r.jsx(ws,{size:16}),"Copy link"]}),ie=()=>r.jsxs("div",{ref:F,className:"absolute z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl bottom-0 right-3",role:"dialog","aria-label":"Share options",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this need"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx(Ps,{url:nt,title:Te,separator:"  ",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx($s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),r.jsx(Ls,{url:nt,quote:lt,hashtag:"#54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Cs,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),r.jsx(Is,{url:nt,title:Te,summary:lt,source:"54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ms,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),r.jsx(Os,{url:nt,title:Te,hashtags:_e,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(_s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),r.jsx(As,{url:nt,title:Te,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ts,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),r.jsx(Ss,{url:nt,subject:Te,body:lt+`

`+nt,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ns,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),be&&r.jsx(Es,{url:nt,appId:be,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(ks,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),r.jsx("div",{className:"mt-2",children:r.jsx(Y,{})})]}),de=()=>r.jsx("div",{ref:ue,className:"absolute z-30 w-48 rounded-xl border border-gray-200 bg-white p-2 shadow-xl top-12 right-3",role:"dialog","aria-label":"Options menu",children:z?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-900 border-b border-gray-200 mb-2",children:"Delete this need?"}),r.jsxs("button",{onClick:()=>pe(this,null,function*(){var Le,Ae;try{yield Se.delete(`/needs/${e.id}`),oe.success("Need deleted successfully"),Q(!0),n&&n(e)}catch(Pe){console.error("Failed to delete need:",Pe),oe.error(((Ae=(Le=Pe==null?void 0:Pe.response)==null?void 0:Le.data)==null?void 0:Ae.message)||"Failed to delete need")}R(!1),_(!1)}),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors mb-1",children:[r.jsx(On,{size:16}),"Confirm Delete"]}),r.jsx("button",{onClick:()=>_(!1),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>{l(`/need/${e.id}`),R(!1)},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors mb-1",children:[r.jsx(Ql,{size:16}),"Edit"]}),r.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[r.jsx(On,{size:16}),"Delete"]})]})});return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 overflow-hidden ${U?"hidden":""}`,children:[r.jsxs("div",{className:"px-4 pt-3 pb-2 flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsx("div",{className:"cursor-pointer flex-shrink-0",onClick:Le=>{Le.stopPropagation(),e!=null&&e.userId&&l(`/profile/${e.userId}`)},children:e!=null&&e.userAvatarUrl?r.jsx("div",{className:"flex bg-white items-center justify-center w-20 h-20 rounded-full border border-gray-300 overflow-hidden",children:r.jsx("img",{src:e.userAvatarUrl,alt:(e==null?void 0:e.userName)||"User",className:"w-full h-full",style:{objectFit:"contain"}})}):r.jsx("div",{className:"w-20 h-20 bg-gray-200 flex items-center justify-center rounded-full border border-gray-100",children:r.jsx(ka,{size:24,className:"text-gray-400"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-semibold text-sm text-gray-900 hover:underline cursor-pointer",onClick:Le=>{Le.stopPropagation(),e!=null&&e.userId&&l(`/profile/${e.userId}`)},children:(e==null?void 0:e.userName)||"User"}),r.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:((De=e==null?void 0:e.profile)==null?void 0:De.professionalTitle)||"Need Poster"}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5",children:[r.jsx("span",{children:ne}),r.jsx("span",{children:""}),r.jsx(no,{size:12})]})]})]}),r.jsxs("div",{className:"relative flex-shrink-0",children:[ke&&r.jsx("button",{onClick:Le=>{Le.stopPropagation(),R(Ae=>!Ae)},className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors","aria-label":"More options",children:r.jsx(Fo,{size:20,className:"text-gray-600"})}),T&&r.jsx(de,{})]})]}),r.jsxs("div",{className:"px-4 pb-3",children:[r.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:[r.jsx("div",{className:re?"":"line-clamp-3",children:xe(e==null?void 0:e.description)}),(e==null?void 0:e.description)&&xe(e==null?void 0:e.description).length>250&&r.jsx("button",{onClick:()=>le(!re),className:"text-gray-500 hover:text-brand-600 font-medium mt-1",children:re?"Show less":"...more"})]}),(e==null?void 0:e.budget)&&r.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:e.budget})]}),(o==null?void 0:o.contentType)!=="text"&&He.length>0&&r.jsxs("div",{className:"relative",children:[r.jsx("div",{onClick:Ne,className:"relative w-full max-h-96 overflow-hidden cursor-pointer",children:ze?r.jsx("div",{className:"flex w-full h-full transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${k*100}%)`},children:He.map((Le,Ae)=>r.jsx("div",{className:"flex-shrink-0 w-full h-96 relative",children:Le.type==="video"?r.jsx("div",{className:"relative w-full h-full bg-black",children:r.jsx(Ta,{src:Le.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:Ae===k&&S,onPlay:ae,onPause:G})}):r.jsx("img",{src:Le.url,alt:Le.name||`Media ${Ae+1}`,className:"w-full h-96 object-cover"})},Ae))}):r.jsx("div",{className:"w-full h-96 relative",children:rt.type==="video"?r.jsx("div",{className:"relative w-full h-full bg-black",children:r.jsx(Ta,{src:rt.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:S,onPlay:ae,onPause:G})}):r.jsx("img",{src:rt.url,alt:rt.name||"Media",className:"w-full h-96 object-cover"})})}),ze&&r.jsx("div",{className:"absolute bottom-3 right-3 flex gap-1",children:He.map((Le,Ae)=>r.jsx("button",{onClick:Pe=>{Pe.stopPropagation(),E(Ae),Le.type==="video"?(I(!1),M(!0)):(I(!1),M(!1))},className:`w-[10px] h-[10px] rounded-full border border-gray-300 transition-colors ${Ae===k?Le.type==="video"?"bg-blue-500":"bg-white":"bg-white/50"}`,"aria-label":`Go to ${Le.type} ${Ae+1}`},Ae))})]}),r.jsxs("div",{className:"flex justify-between px-4 pt-3 pb-3",children:[(V.length>0||!0)&&r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex flex-wrap gap-1.5 flex-1",children:[r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-50 text-green-600 border border-green-200",children:"Looking for"}),V.slice(0,3).map((Le,Ae)=>r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-brand-500",children:["#",Le.replace(/\s+/g,"")]},Ae)),V.length>3&&r.jsxs("div",{className:"relative inline-block group/tags",children:[r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium text-gray-600 bg-gray-100 cursor-help",children:["+",V.length-3," more"]}),r.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/tags:opacity-100 group-hover/tags:visible z-10 whitespace-nowrap max-w-xs",children:[r.jsx("div",{className:"flex flex-wrap gap-1",children:V.slice(3).map((Le,Ae)=>r.jsxs("span",{className:"inline-block",children:["#",Le.replace(/\s+/g,""),Ae<V.length-4?",":""]},Ae))}),r.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]})}),r.jsx("div",{children:a>0&&r.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${a>=80?"bg-green-100 text-green-700 border border-green-200":a>=60?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:[a,"% match"]})})]}),(w>0||N>0)&&r.jsxs("div",{className:"px-4 py-2 flex items-center justify-between text-xs text-gray-500 border-t border-gray-100",children:[r.jsx("div",{className:"flex items-center gap-1",children:w>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"flex -space-x-1",children:r.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center",children:r.jsx(os,{size:10,className:"text-white fill-white"})})}),r.jsxs("button",{onClick:()=>H(!0),className:"hover:underline cursor-pointer",children:[w," ",w===1?"like":"likes"]})]})}),r.jsx("div",{className:"flex items-center gap-3",children:N>0&&r.jsxs("button",{onClick:()=>O(!0),className:"hover:underline",children:[N," comment",N!==1?"s":""]})})]}),r.jsxs("div",{className:"px-2 py-1 border-t border-gray-100 grid grid-cols-4 gap-1",children:[r.jsxs("button",{onClick:Be,className:`flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium ${y?"text-blue-600":"text-gray-600"}`,children:[r.jsx(os,{size:20,className:y?"fill-blue-600":""}),r.jsx("span",{className:"max-sm:hidden",children:"Like"})]}),r.jsxs("button",{onClick:()=>O(!0),className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(cs,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Comment"})]}),r.jsxs("button",{onClick:()=>{var Le;if(i!=null&&i.id)X(!0);else{(Le=c._showPopUp)==null||Le.call(c,"login_prompt");return}},className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(ro,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Report"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:Le=>{Le.stopPropagation(),Z(Ae=>!Ae)},className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(js,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Share"})]}),J&&r.jsx(ie,{})]})]}),r.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50",children:[r.jsx("div",{className:"flex items-center gap-3",children:Ce&&r.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[r.jsx(Hr,{size:14}),r.jsx("span",{children:Ce})]})}),!ke&&r.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[r.jsx("button",{onClick:()=>{if(!(i!=null&&i.id)){c._showPopUp("login_prompt");return}l(`/messages?userId=${e.userId}`),oe.success("Starting conversation with "+(e.userName||"user"))},className:"flex-1 px-4 py-2 rounded-full bg-brand-600 text-white font-medium text-sm hover:bg-brand-700 transition-colors",children:"Message"}),m!=="connected"&&$e()]})]})]}),r.jsx(Yn,{open:u,onClose:()=>f(!1),toUserId:e==null?void 0:e.userId,toName:(e==null?void 0:e.userName)||"User",onSent:fe}),r.jsx($d,{userId:h,isOpen:!!h,onClose:()=>g(null),onSent:fe}),r.jsx(lme,{needId:e==null?void 0:e.id,isOpen:v,onClose:()=>b(!1)}),r.jsx(is,{open:W,onClose:()=>X(!1),title:"Report this need?",text:"Tell us what's happening. Our team will review.",confirmText:"Submit report",cancelText:"Cancel",withInput:!0,inputType:"textarea",inputLabel:"Report details",inputPlaceholder:"Describe the issue (spam, scam, offensive, etc.)",requireValue:!0,onConfirm:dt}),r.jsx(Td,{open:A,onClose:()=>H(!1),entityType:"need",entityId:e==null?void 0:e.id}),r.jsx(_d,{open:D,onClose:()=>O(!1),entityType:"need",entityId:e==null?void 0:e.id,currentUser:i,onCountChange:Le=>L(Le)})]});function $e(){const Le=m||(e==null?void 0:e.connectionStatus)||"none";return Le==="connected"?r.jsx("button",{className:"flex-1 px-4 py-2 rounded-full bg-green-100 text-green-700 font-medium text-sm",children:"Connected"}):Le==="pending_outgoing"||Le==="outgoing_pending"?r.jsx("button",{className:"flex-1 px-4 py-2 rounded-full bg-yellow-100 text-yellow-700 font-medium text-sm",children:"Pending"}):Le==="pending_incoming"||Le==="incoming_pending"?r.jsx("button",{onClick:()=>l("/notifications"),className:"flex-1 px-4 py-2 rounded-full bg-brand-100 text-brand-600 hover:bg-brand-200 font-medium text-sm transition-colors",children:"Respond"}):i!=null&&i.id?r.jsx("button",{onClick:()=>f(!0),className:"flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors border-2 border-brand-600 text-brand-600 hover:bg-brand-50",children:"Connect"}):r.jsx("button",{onClick:()=>c._showPopUp("login_prompt"),className:"flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors border-2 border-brand-600 text-brand-600 hover:bg-brand-50",children:"Connect"})}}function mme(e){if(!e)return"";const t=new Date(e).getTime(),n=Date.now(),s=Math.floor((n-t)/1e3);if(s<60)return"Just now";const a=Math.floor(s/60);if(a<60)return`${a} min${a>1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i>1?"s":""} ago`;const o=Math.floor(i/24);if(o<30)return`${o} day${o>1?"s":""} ago`;const l=Math.floor(o/30);if(l<12)return`${l} month${l>1?"s":""} ago`;const c=Math.floor(l/12);return`${c} year${c>1?"s":""} ago`}function pme(e,t){return e&&t?`${e}, ${t}`:e||t||""}function xme(e,t="USD",n){try{return`${new Intl.NumberFormat(void 0,{style:"currency",currency:t,minimumFractionDigits:e%1?2:0,maximumFractionDigits:2}).format(e)}${n?` / ${n}`:""}`}catch(s){return`${e}${n?` / ${n}`:""}`}}function wc({children:e,tone:t="brand"}){const n={brand:"bg-brand-50 text-brand-600",green:"bg-green-100 text-green-700",gray:"bg-gray-100 text-gray-700",blue:"bg-blue-100 text-blue-700"};return r.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] ${n[t]||n.gray}`,children:e})}function Df({title:e,icon:t,children:n}){return r.jsxs("div",{className:"mt-5 text-left",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t?r.jsx(t,{size:16,className:"text-brand-600"}):null,r.jsx("h3",{className:"font-medium text-sm",children:e})]}),n]})}function vme({serviceId:e,isOpen:t,onClose:n}){var S,I,C,M,A,H,W,X;const[s,a]=d.useState(!1),[i,o]=d.useState(!1),[l,c]=d.useState(null),[u,f]=d.useState(""),[h,g]=d.useState(0),[m,p]=d.useState(!1),v=d.useRef(null),b=d.useRef(null),y=d.useRef(null),x=yr(),{user:w}=Xt(),j=Ht();d.useEffect(()=>{function J(F){b.current&&v.current&&!b.current.contains(F.target)&&!v.current.contains(F.target)&&p(!1)}function Z(F){F.key==="Escape"&&p(!1)}return document.addEventListener("mousedown",J),document.addEventListener("keydown",Z),()=>{document.removeEventListener("mousedown",J),document.removeEventListener("keydown",Z)}},[]),d.useEffect(()=>{if(!t){c(null),f("");return}if(!e)return;let J=!0;function Z(){return pe(this,null,function*(){o(!0),f(""),c(null);try{const{data:F}=yield Se.get(`/services/${e}`);J&&c(F)}catch(F){console.error("Error fetching service details:",F),J&&f("Failed to load service details.")}finally{J&&o(!1)}})}return Z(),()=>{J=!1}},[t,e]);function N(){oe.success("Connection request sent"),a(!1)}function L(){var J;(J=l==null?void 0:l.attachments)!=null&&J.length&&g(Z=>(Z+1)%l.attachments.length)}function k(){var J;(J=l==null?void 0:l.attachments)!=null&&J.length&&g(Z=>(Z-1+l.attachments.length)%l.attachments.length)}if(!t)return null;(()=>{const Z=((l==null?void 0:l.attachments)||[])[h];return Z&&Z.startsWith("data:image")?Z:typeof Z=="string"&&/\.(jpe?g|png|gif|webp|svg)$/i.test(Z)?Z.startsWith("http")?Z:`${API_URL}/uploads/${Z}`:null})();const E=(((S=l==null?void 0:l.provider)==null?void 0:S.name)||"?").split(" ").map(J=>J[0]).join("").slice(0,2).toUpperCase();return r.jsxs("div",{className:"fixed z-[99] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[r.jsxs("div",{ref:y,className:"bg-white z-[99] w-full max-w-2xl rounded-2xl shadow-xl flex flex-col max-h-[85vh] overflow-hidden relative",children:[r.jsxs("div",{className:"bg-brand-500 p-4 flex justify-between items-center",children:[r.jsx("div",{className:"text-white font-medium",children:"Service Details"}),r.jsx("button",{onClick:()=>{var J;n(),(J=x._closeAllPopUps)==null||J.call(x)},className:"text-white hover:text-brand-100",children:r.jsx(Sr,{size:20})})]}),r.jsx("div",{className:"p-6 overflow-y-auto",children:i?r.jsx(Ad,{}):u?r.jsx("div",{className:"text-sm text-red-600",children:u}):l?r.jsxs(r.Fragment,{children:[(()=>{const J=(l.attachments||[]).filter(D=>typeof D!="string"?!1:D.startsWith("data:image")?!0:typeof D=="string"&&/\.(jpe?g|png|gif|webp|svg)$/i.test(D)||D.startsWith("http://")||D.startsWith("https://"));if(J.length===0)return null;const Z=J[h];let F=null;return Z.startsWith("data:image")||Z.startsWith("http://")||Z.startsWith("https://")?F=Z:F=`${API_URL}/uploads/${Z}`,r.jsx("div",{className:"relative mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:F,alt:l.title,className:"w-full h-64 object-contain bg-gray-50 rounded-lg"}),J.length>1&&r.jsxs("div",{className:"absolute inset-x-0 bottom-0 flex justify-between p-2",children:[r.jsx("button",{onClick:k,className:"p-2 rounded-full bg-white/80 backdrop-blur-sm shadow-lg hover:bg-white",children:""}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-full px-3 py-1 text-xs",children:[h+1," / ",J.length]}),r.jsx("button",{onClick:L,className:"p-2 rounded-full bg-white/80 backdrop-blur-sm shadow-lg hover:bg-white",children:""})]})]})})})(),r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:l.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-600",children:[r.jsx(ki,{size:16}),r.jsx("span",{children:mme(l.createdAt)}),l.country&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mx-1",children:""}),r.jsx(Hr,{size:16}),r.jsx("span",{children:pme(l.city,l.country)})]})]})]}),l.priceAmount&&r.jsx("div",{className:"text-2xl font-bold text-brand-600",children:xme(l.priceAmount,l.currency,l.priceType)})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[l.serviceType&&r.jsx(wc,{tone:"brand",children:l.serviceType}),l.locationType&&r.jsx(wc,{tone:"blue",children:l.locationType}),l.experienceLevel&&r.jsx(wc,{tone:"gray",children:l.experienceLevel}),l.deliveryTime&&r.jsx(wc,{tone:"green",children:l.deliveryTime})]}),r.jsx(Df,{title:"Posted By",icon:sn,children:r.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border border-gray-100 hover:border-brand-200",onClick:()=>{var J;l!=null&&l.providerUserId&&(x._showPopUp("profile"),(J=x._setProfileUserId)==null||J.call(x,l.providerUserId))},children:[(I=l.provider)!=null&&I.avatarUrl?r.jsx("img",{src:l.provider.avatarUrl,alt:l.provider.name,className:"w-10 h-10 rounded-full object-cover"}):r.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-brand-600 font-medium",children:E})}),r.jsx("div",{children:r.jsx("div",{className:"font-medium",children:((C=l.provider)==null?void 0:C.name)||"Service Provider"})})]})}),r.jsx(Df,{title:"Description",icon:cs,children:r.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:l.description||"No description provided."})}),((M=l.skills)==null?void 0:M.length)>0&&r.jsx(Df,{title:"Skills",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:l.skills.map((J,Z)=>r.jsx(wc,{tone:"gray",children:J},`skill-${Z}`))})}),((A=l.audienceCategories)==null?void 0:A.length)>0&&r.jsx(Df,{title:"Categories",icon:ys,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:l.audienceCategories.map((J,Z)=>r.jsx(wc,{tone:"brand",children:J.name},`cat-${Z}`))})}),((H=l.audienceSubcategories)==null?void 0:H.length)>0&&r.jsx(Df,{title:"Subcategories",icon:ys,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:l.audienceSubcategories.map((J,Z)=>r.jsx(wc,{tone:"gray",children:J.name},`subcat-${Z}`))})}),((W=l.audienceIdentities)==null?void 0:W.length)>0&&r.jsx(Df,{title:"Target Audience",icon:sn,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:l.audienceIdentities.map((J,Z)=>r.jsx(wc,{tone:"blue",children:J.name},`identity-${Z}`))})}),r.jsxs("div",{className:"flex gap-3 mt-6 relative",children:[r.jsxs("button",{ref:b,onClick:J=>{J.stopPropagation(),p(Z=>!Z)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[r.jsx(js,{size:18}),"Share"]}),l.providerUserId!==(w==null?void 0:w.id)&&r.jsxs("button",{onClick:()=>{if(!(w!=null&&w.id)){x._showPopUp("login_prompt");return}a(!0)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[r.jsx(sn,{size:18}),"Connect"]}),r.jsx("button",{onClick:()=>{var J;if(!(w!=null&&w.id)){x._showPopUp("login_prompt");return}n(),j(`/messages?userId=${l.providerUserId}`),oe.success("Starting conversation with "+(((J=l.provider)==null?void 0:J.name)||"service provider"))},className:"flex-1 rounded-lg px-4 py-2 text-sm font-medium bg-brand-500 text-white hover:bg-brand-700 active:bg-brand-800 flex items-center justify-center gap-2 transition-all duration-200 shadow-sm hover:shadow-md",children:"Message"}),m&&r.jsx(yme,{service:l,shareMenuRef:v,setShareOpen:p})]})]}):r.jsx("div",{className:"text-sm text-gray-600",children:"No service details available."})})]}),r.jsx(Yn,{open:s,onClose:()=>a(!1),toUserId:l==null?void 0:l.providerUserId,toName:((X=l==null?void 0:l.provider)==null?void 0:X.name)||"Service Provider",onSent:N})]})}const yme=({service:e,shareMenuRef:t,setShareOpen:n})=>{var c,u;const s=`${window.location.origin}/service/${e==null?void 0:e.id}`,a=(e==null?void 0:e.title)||"Service on 54Links",i=((e==null?void 0:e.description)||"").slice(0,160)+(((e==null?void 0:e.description)||"").length>160?"":""),o=["54Links","Services","Marketplace"].filter(Boolean),l=((u=(c=import.meta)==null?void 0:c.env)==null?void 0:u.VITE_FACEBOOK_APP_ID)||void 0;return r.jsxs("div",{ref:t,className:"absolute bottom-14 left-0 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this service"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx(Ps,{url:s,title:a,separator:"  ",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx($s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),r.jsx(Ls,{url:s,quote:i,hashtag:"#54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Cs,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),r.jsx(Is,{url:s,title:a,summary:i,source:"54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ms,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),r.jsx(Os,{url:s,title:a,hashtags:o,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(_s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),r.jsx(As,{url:s,title:a,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ts,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),r.jsx(Ss,{url:s,subject:a,body:i+`

`+s,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ns,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),l&&r.jsx(Es,{url:s,appId:l,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(ks,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),r.jsx("div",{className:"mt-2",children:r.jsx(bme,{shareUrl:s,setShareOpen:n})})]})},bme=({shareUrl:e,setShareOpen:t})=>r.jsxs("button",{onClick:()=>pe(void 0,null,function*(){try{yield navigator.clipboard.writeText(e),oe.success("Link copied"),t(!1)}catch(n){oe.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[r.jsx(ws,{size:16}),"Copy link"]}),wme=e=>!e||typeof e!="string"?!1:e.startsWith("data:")||e.startsWith("http://")||e.startsWith("https://"),jme=e=>{if(!e)return"";const t=e.match(/\.([a-zA-Z0-9]+)(?:\?|$)/);return t?t[1].toLowerCase():""},Nme=e=>{if(!e)return"unknown";if(e.startsWith("data:"))return e.startsWith("data:image")?"image":e.startsWith("data:video")?"video":"unknown";const t=jme(e),n=["mp4","webm","ogg","mov","avi","mkv"],s=["jpg","jpeg","png","gif","webp","bmp","svg"],a=["pdf","doc","docx","txt","rtf","odt"];return n.includes(t)?"video":s.includes(t)?"image":a.includes(t)?"document":"unknown"};function fw({item:e,currentUserId:t,currency:n="USD",onDetails:s,onContact:a,onConnect:i,onEdit:o,onDelete:l,type:c="grid",matchPercentage:u=20}){var Pe,Qe,mt,Me,Oe;const f=Ht(),h=yr(),{user:g,settings:m}=Xt(),p=t&&(e==null?void 0:e.providerUserId)&&t===e.providerUserId||!!(g!=null&&g.id)&&(e==null?void 0:e.providerUserId)===g.id,[v,b]=d.useState(!1),[y,x]=d.useState(!1),[w,j]=d.useState((e==null?void 0:e.connectionStatus)||"none"),[N,L]=d.useState(null),[k,E]=d.useState(!1),[S,I]=d.useState(!!(e!=null&&e.isLiked)),[C,M]=d.useState(Number(e.likesCount||0)),[A,H]=d.useState(Number((e==null?void 0:e.commentsCount)||0)),[W,X]=d.useState(!1),[J,Z]=d.useState(!1),[F,D]=d.useState(!1),[O,T]=d.useState(!1),[R,z]=d.useState(!1),_=d.useRef(null),[U,Q]=d.useState(!1),re=d.useRef(null),le=d.useRef(null),[ue,ge]=d.useState(0),[ke,tt]=d.useState(!1),[He,ze]=d.useState(!1),[rt,Xe]=d.useState(!1),V=d.useRef(null);d.useEffect(()=>{function We(vt){var Ge;re.current&&!re.current.contains(vt.target)&&!((Ge=le.current)!=null&&Ge.contains(vt.target))&&Q(!1),_.current&&!_.current.contains(vt.target)&&(D(!1),T(!1))}function qe(vt){vt.key==="Escape"&&(Q(!1),D(!1),T(!1))}return document.addEventListener("mousedown",We),document.addEventListener("keydown",qe),()=>{document.removeEventListener("mousedown",We),document.removeEventListener("keydown",qe)}},[]),d.useEffect(()=>()=>{V.current&&clearTimeout(V.current)},[]);const Ce=(()=>{const We=(e==null?void 0:e.images)||[],qe=[];return We.forEach((vt,Ge)=>{if(wme(vt)){const ot=Nme(vt);(ot==="image"||ot==="video")&&qe.push({url:vt,type:ot,name:`media-${Ge}`})}}),qe.sort((vt,Ge)=>vt.type==="video"&&Ge.type!=="video"?-1:vt.type!=="video"&&Ge.type==="video"?1:0)})(),fe=Ce.length>1,xe=Ce[ue],se=(xe==null?void 0:xe.type)==="video",ae=["Service",...Array.isArray(e==null?void 0:e.audienceCategories)?e==null?void 0:e.audienceCategories.map(We=>We.name):[],e==null?void 0:e.serviceType,e==null?void 0:e.experienceLevel,e==null?void 0:e.categoryName,e==null?void 0:e.subcategoryName,e==null?void 0:e.deliveryTime].filter(Boolean),G=d.useMemo(()=>{var qe;const We=Number((qe=e==null?void 0:e.priceAmount)!=null?qe:0);try{return`${new Intl.NumberFormat(void 0,{style:"currency",currency:n,minimumFractionDigits:We%1?2:0,maximumFractionDigits:2}).format(We)}${e!=null&&e.priceType?` / ${e.priceType}`:""}`}catch(vt){return`${We}${e!=null&&e.priceType?` / ${e.priceType}`:""}`}},[e==null?void 0:e.priceAmount,e==null?void 0:e.priceType,n]),Ne=d.useMemo(()=>{var vt,Ge;const We=(vt=e==null?void 0:e.city)==null?void 0:vt.trim(),qe=(Ge=e==null?void 0:e.country)==null?void 0:Ge.trim();return We&&qe?`${We}, ${qe}`:qe||We||(e==null?void 0:e.locationType)||""},[e==null?void 0:e.city,e==null?void 0:e.country,e==null?void 0:e.locationType]),Be=d.useMemo(()=>{if(e!=null&&e.timeAgo)return e.timeAgo;if(!(e!=null&&e.createdAt))return"";const We=Date.now()-new Date(e.createdAt).getTime(),qe=Math.floor(We/6e4);if(qe<60)return`${qe} min${qe!==1?"s":""} ago`;const vt=Math.floor(qe/60);if(vt<24)return`${vt} hour${vt!==1?"s":""} ago`;const Ge=Math.floor(vt/24);return`${Ge} day${Ge!==1?"s":""} ago`},[e==null?void 0:e.timeAgo,e==null?void 0:e.createdAt]);function dt(){b(!1),j("pending_outgoing"),i==null||i(e)}const nt=We=>{if(!We)return"";const qe=We.replace(/<br\s*\/?>/gi,". "),vt=document.createElement("div");vt.innerHTML=qe;let Ge=vt.textContent||vt.innerText||"";return Ge=Ge.replace(/\s+/g," ").trim(),Ge},Te=()=>{tt(!ke),ze(!0),V.current&&clearTimeout(V.current),V.current=setTimeout(()=>{ze(!1)},3e3)},lt=()=>{tt(!0),ze(!0),V.current&&clearTimeout(V.current),V.current=setTimeout(()=>{ze(!1)},3e3)},_e=()=>{tt(!1),ze(!0),V.current&&clearTimeout(V.current)},be=We=>{se?(We.stopPropagation(),Te()):p?o?o(e):f(`/service/${e.id}`):(x(!0),s==null||s(e))};c==="list"&&(m==null||m.contentType);const ie=()=>pe(this,null,function*(){var We;if(!(g!=null&&g.id)){(We=h._showPopUp)==null||We.call(h,"login_prompt");return}I(qe=>!qe),M(qe=>S?Math.max(0,qe-1):qe+1);try{const{data:qe}=yield Md("service",e.id);I(qe.liked),M(qe.count)}catch(qe){I(vt=>!vt),M(vt=>S?vt+1:Math.max(0,vt-1))}}),de=We=>pe(this,null,function*(){try{yield Id("service",e.id,"other",We),oe.success("Report submitted. Thank you.")}catch(qe){oe.success("Report submitted. Thank you.")}}),$e=(e==null?void 0:e.avatarUrl)||null,it=`${window.location.origin}/service/${e==null?void 0:e.id}`,gt=(e==null?void 0:e.title)||"Service on 54Links",De=((e==null?void 0:e.description)||"").slice(0,160)+(((e==null?void 0:e.description)||"").length>160?"":""),Le=["54Links","Services","Professionals"].filter(Boolean),Ae=((Qe=(Pe=import.meta)==null?void 0:Pe.env)==null?void 0:Qe.VITE_FACEBOOK_APP_ID)||void 0;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 overflow-hidden ${R?"hidden":""}`,children:[r.jsxs("div",{className:"px-4 pt-3 pb-2 flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsx("div",{className:"cursor-pointer flex-shrink-0",onClick:We=>{We.stopPropagation(),e!=null&&e.providerUserId&&f(`/profile/${e.providerUserId}`)},children:$e?r.jsx("div",{className:`flex bg-white items-center justify-center w-20 h-20 ${((mt=e==null?void 0:e.postedBy)==null?void 0:mt.accountType)==="company"?"rounded":"rounded-full"} border border-gray-300 overflow-hidden`,children:r.jsx("img",{src:$e,alt:(e==null?void 0:e.providerUserName)||"User",className:"w-full h-full",style:{objectFit:"contain"}})}):r.jsx("div",{className:`w-20 h-20 bg-gray-200 flex items-center justify-center ${((Me=e==null?void 0:e.postedBy)==null?void 0:Me.accountType)==="company"?"rounded":"rounded-full"} border border-gray-100`,children:r.jsx(ka,{size:24,className:"text-gray-400"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-semibold text-sm text-gray-900 hover:underline cursor-pointer",onClick:We=>{We.stopPropagation(),e!=null&&e.providerUserId&&f(`/profile/${e.providerUserId}`)},children:(e==null?void 0:e.providerUserName)||"User"}),r.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:((Oe=e==null?void 0:e.profile)==null?void 0:Oe.professionalTitle)||"Service Provider"}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5",children:[r.jsx("span",{children:Be}),r.jsx("span",{children:""}),r.jsx(no,{size:12})]})]})]}),r.jsxs("div",{className:"relative flex-shrink-0",children:[p&&r.jsx("button",{onClick:We=>{We.stopPropagation(),D(qe=>!qe)},className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors","aria-label":"More options",children:r.jsx(Fo,{size:20,className:"text-gray-600"})}),F&&r.jsx("div",{ref:_,className:"absolute z-30 w-48 rounded-xl border border-gray-200 bg-white p-2 shadow-xl top-12 right-3",role:"dialog","aria-label":"Options menu",children:O?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-900 border-b border-gray-200 mb-2",children:"Delete this service?"}),r.jsxs("button",{onClick:()=>pe(this,null,function*(){var We,qe;try{yield Se.delete(`/services/${e.id}`),oe.success("Service deleted successfully"),z(!0)}catch(vt){console.error("Failed to delete service:",vt),oe.error(((qe=(We=vt==null?void 0:vt.response)==null?void 0:We.data)==null?void 0:qe.message)||"Failed to delete service")}D(!1),T(!1)}),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors mb-1",children:[r.jsx(On,{size:16}),"Confirm Delete"]}),r.jsx("button",{onClick:()=>T(!1),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>{o?o(e):f(`/service/${e.id}`),D(!1)},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors mb-1",children:[r.jsx(Ql,{size:16}),"Edit"]}),r.jsxs("button",{onClick:()=>T(!0),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[r.jsx(On,{size:16}),"Delete"]})]})})]})]}),r.jsxs("div",{className:"px-4 pb-3",children:[r.jsx("h3",{className:"font-semibold text-base text-gray-900 mb-1 hover:text-brand-600 cursor-pointer transition-colors",onClick:()=>{p?o?o(e):f(`/service/${e.id}`):(x(!0),s==null||s(e))},children:e==null?void 0:e.title}),r.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:[r.jsx("div",{className:rt?"":"line-clamp-3",children:nt(e==null?void 0:e.description)}),(e==null?void 0:e.description)&&nt(e==null?void 0:e.description).length>250&&r.jsx("button",{onClick:()=>Xe(!rt),className:"text-gray-500 hover:text-brand-600 font-medium mt-1",children:rt?"Show less":"...more"})]})]}),(m==null?void 0:m.contentType)!=="text"&&Ce.length>0&&r.jsxs("div",{className:"relative",children:[r.jsx("div",{onClick:be,className:"relative w-full max-h-96 overflow-hidden cursor-pointer",children:fe?r.jsx("div",{className:"flex w-full h-full transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${ue*100}%)`},children:Ce.map((We,qe)=>r.jsx("div",{className:"flex-shrink-0 w-full h-96 relative",children:We.type==="video"?r.jsx("div",{className:"relative w-full h-full bg-black",children:r.jsx(Ta,{src:We.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:qe===ue&&ke,onPlay:lt,onPause:_e})}):r.jsx("img",{src:We.url,alt:We.name||`Media ${qe+1}`,className:"w-full h-96 object-cover"})},qe))}):r.jsx("div",{className:"w-full h-96 relative",children:xe.type==="video"?r.jsx("div",{className:"relative w-full h-full bg-black",children:r.jsx(Ta,{src:xe.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:ke,onPlay:lt,onPause:_e})}):r.jsx("img",{src:xe.url,alt:xe.name||"Media",className:"w-full h-96 object-cover"})})}),fe&&r.jsx("div",{className:"absolute bottom-3 right-3 flex gap-1",children:Ce.map((We,qe)=>r.jsx("button",{onClick:vt=>{vt.stopPropagation(),ge(qe),We.type==="video"?(tt(!1),ze(!0)):(tt(!1),ze(!1))},className:`w-[10px] h-[10px] rounded-full border border-gray-300 transition-colors ${qe===ue?We.type==="video"?"bg-blue-500":"bg-white":"bg-white/50"}`,"aria-label":`Go to ${We.type} ${qe+1}`},qe))})]}),r.jsxs("div",{className:"flex justify-between px-4 pt-3 pb-3",children:[ae.length>0&&r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex flex-wrap gap-1.5 flex-1",children:[ae.slice(0,3).map((We,qe)=>r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-brand-500",children:["#",We.replace(/\s+/g,"")]},qe)),ae.length>3&&r.jsxs("div",{className:"relative inline-block group/tags",children:[r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium text-gray-600 bg-gray-100 cursor-help",children:["+",ae.length-3," more"]}),r.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/tags:opacity-100 group-hover/tags:visible z-10 whitespace-nowrap max-w-xs",children:[r.jsx("div",{className:"flex flex-wrap gap-1",children:ae.slice(3).map((We,qe)=>r.jsxs("span",{className:"inline-block",children:["#",We.replace(/\s+/g,""),qe<ae.length-4?",":""]},qe))}),r.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]})}),r.jsx("div",{children:u>0&&r.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${u>=80?"bg-green-100 text-green-700 border border-green-200":u>=60?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:[u,"% match"]})})]}),(C>0||A>0)&&r.jsxs("div",{className:"px-4 py-2 flex items-center justify-between text-xs text-gray-500 border-t border-gray-100",children:[r.jsx("div",{className:"flex items-center gap-1",children:C>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"flex -space-x-1",children:r.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center",children:r.jsx(os,{size:10,className:"text-white fill-white"})})}),r.jsxs("button",{onClick:()=>E(!0),className:"hover:underline cursor-pointer",children:[C," ",C===1?"like":"likes"]})]})}),r.jsx("div",{className:"flex items-center gap-3",children:A>0&&r.jsxs("button",{onClick:()=>Z(!0),className:"hover:underline",children:[A," comment",A!==1?"s":""]})})]}),r.jsxs("div",{className:"px-2 py-1 border-t border-gray-100 grid grid-cols-4 gap-1",children:[r.jsxs("button",{onClick:ie,className:`flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium ${S?"text-blue-600":"text-gray-600"}`,children:[r.jsx(os,{size:20,className:S?"fill-blue-600":""}),r.jsx("span",{className:"max-sm:hidden",children:"Like"})]}),r.jsxs("button",{onClick:()=>Z(!0),className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(cs,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Comment"})]}),r.jsxs("button",{onClick:()=>{var We;if(g!=null&&g.id)X(!0);else{(We=h._showPopUp)==null||We.call(h,"login_prompt");return}},className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(ro,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Report"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:We=>{We.stopPropagation(),Q(qe=>!qe)},className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(js,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Share"})]}),U&&r.jsxs("div",{ref:re,className:"absolute z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl bottom-0 right-3",role:"dialog","aria-label":"Share options",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this service"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx(Ps,{url:it,title:gt,separator:"  ",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx($s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),r.jsx(Ls,{url:it,quote:De,hashtag:"#54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Cs,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),r.jsx(Is,{url:it,title:gt,summary:De,source:"54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ms,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),r.jsx(Os,{url:it,title:gt,hashtags:Le,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(_s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),r.jsx(As,{url:it,title:gt,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ts,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),r.jsx(Ss,{url:it,subject:gt,body:De+`

`+it,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ns,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),Ae&&r.jsx(Es,{url:it,appId:Ae,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(ks,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),r.jsx("div",{className:"mt-2",children:r.jsxs("button",{onClick:()=>pe(this,null,function*(){try{yield navigator.clipboard.writeText(it),oe.success("Link copied"),Q(!1)}catch(We){oe.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[r.jsx(ws,{size:16}),"Copy link"]})})]})]})]}),!p&&r.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[(e==null?void 0:e.priceAmount)&&r.jsx("div",{className:"text-sm font-semibold text-gray-900",children:G}),Ne&&r.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[r.jsx(Hr,{size:14}),r.jsx("span",{children:Ne})]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[r.jsx("button",{onClick:()=>{if(!(g!=null&&g.id)){h._showPopUp("login_prompt");return}x(!0),s==null||s(e)},className:"flex-1 px-4 py-2 rounded-full bg-brand-600 text-white font-medium text-sm hover:bg-brand-700 transition-colors",children:"View Details"}),w!=="connected"&&r.jsx("button",{onClick:()=>{if(!(g!=null&&g.id)){h._showPopUp("login_prompt");return}b(!0)},className:`flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors ${w==="pending_outgoing"||w==="outgoing_pending"?"bg-yellow-100 text-yellow-700":w==="pending_incoming"||w==="incoming_pending"?"bg-brand-100 text-brand-600 hover:bg-brand-200":"border-2 border-brand-600 text-brand-600 hover:bg-brand-50"}`,children:w==="pending_outgoing"||w==="outgoing_pending"?"Pending":w==="pending_incoming"||w==="incoming_pending"?"Respond":"Connect"})]})]})]}),r.jsx(Yn,{open:v,onClose:()=>b(!1),toUserId:e==null?void 0:e.providerUserId,toName:(e==null?void 0:e.providerUserName)||"Service Provider",onSent:dt}),r.jsx($d,{userId:N,isOpen:!!N,onClose:()=>L(null),onSent:dt}),r.jsx(vme,{serviceId:e==null?void 0:e.id,isOpen:y,onClose:()=>x(!1)}),r.jsx(Td,{open:k,onClose:()=>E(!1),entityType:"service",entityId:e==null?void 0:e.id}),r.jsx(is,{open:W,onClose:()=>X(!1),title:"Report this service?",text:"Tell us what's happening. Our team will review.",confirmText:"Submit report",cancelText:"Cancel",withInput:!0,inputType:"textarea",inputLabel:"Report details",inputPlaceholder:"Describe the issue (spam, scam, offensive, etc.)",requireValue:!0,onConfirm:de}),r.jsx(_d,{open:J,onClose:()=>Z(!1),entityType:"service",entityId:e==null?void 0:e.id,currentUser:g,onCountChange:We=>H(We)})]})}function Sme(e){if(!e)return"";const t=new Date(e).getTime(),n=Date.now(),s=Math.floor((n-t)/1e3);if(s<60)return"Just now";const a=Math.floor(s/60);if(a<60)return`${a} min${a>1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i>1?"s":""} ago`;const o=Math.floor(i/24);if(o<30)return`${o} day${o>1?"s":""} ago`;const l=Math.floor(o/30);if(l<12)return`${l} month${l>1?"s":""} ago`;const c=Math.floor(l/12);return`${c} year${c>1?"s":""} ago`}function CO({children:e,tone:t="brand"}){const n={brand:"bg-brand-50 text-brand-600",green:"bg-green-100 text-green-700",gray:"bg-gray-100 text-gray-700",blue:"bg-blue-100 text-blue-700"};return r.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] ${n[t]||n.gray}`,children:e})}function Pg({title:e,icon:t,children:n}){return r.jsxs("div",{className:"mt-5 text-left",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t?r.jsx(t,{size:16,className:"text-brand-600"}):null,r.jsx("h3",{className:"font-medium text-sm",children:e})]}),n]})}function Cme({productId:e,isOpen:t,onClose:n,onSave:s}){var C,M,A,H,W,X,J,Z;const[a,i]=d.useState(!1),[o,l]=d.useState(0),[c,u]=d.useState(!1),[f,h]=d.useState(null),[g,m]=d.useState(""),[p,v]=d.useState(!1),b=d.useRef(null),y=d.useRef(null),x=d.useRef(null),w=yr(),{user:j}=Xt(),N=Ht();d.useEffect(()=>{function F(O){y.current&&b.current&&!y.current.contains(O.target)&&!b.current.contains(O.target)&&v(!1)}function D(O){O.key==="Escape"&&v(!1)}return document.addEventListener("mousedown",F),document.addEventListener("keydown",D),()=>{document.removeEventListener("mousedown",F),document.removeEventListener("keydown",D)}},[]),d.useEffect(()=>{if(!t){h(null),m("");return}if(!e)return;let F=!0;function D(){return pe(this,null,function*(){u(!0),m(""),h(null);try{const{data:O}=yield Se.get(`/products/${e}`);F&&h(O)}catch(O){console.error("Error fetching product details:",O),F&&m("Failed to load product details.")}finally{F&&u(!1)}})}return D(),()=>{F=!1}},[t,e]);function L(){oe.success("Connection request sent"),i(!1)}function k(){var F;(F=f==null?void 0:f.images)!=null&&F.length&&l(D=>(D+1)%f.images.length)}function E(){var F;(F=f==null?void 0:f.images)!=null&&F.length&&l(D=>(D-1+f.images.length)%f.images.length)}if(!t)return null;let S=((M=(C=f==null?void 0:f.images)==null?void 0:C[o])==null?void 0:M.filename)||((A=f==null?void 0:f.images)==null?void 0:A[o])||null;S=S&&(S!=null&&S.startsWith("data:image")||S!=null&&S.startsWith("http"))?S:S?`${gn}/uploads/${S}`:null;const I=(((H=f==null?void 0:f.seller)==null?void 0:H.name)||(f==null?void 0:f.sellerUserName)||"?").split(" ").map(F=>F[0]).join("").slice(0,2).toUpperCase();return r.jsxs("div",{className:"fixed z-[99] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[r.jsxs("div",{ref:x,className:"bg-white z-[99] w-full max-w-2xl rounded-2xl shadow-xl flex flex-col max-h-[85vh] overflow-hidden relative",children:[r.jsxs("div",{className:"bg-brand-500 p-4 flex justify-between items-center",children:[r.jsx("div",{className:"text-white font-medium",children:"Product Details"}),r.jsx("button",{onClick:()=>{var F;n(),(F=w._closeAllPopUps)==null||F.call(w)},className:"text-white hover:text-brand-100",children:r.jsx(Sr,{size:20})})]}),r.jsx("div",{className:"p-6 overflow-y-auto",children:c?r.jsx(Ad,{}):g?r.jsx("div",{className:"text-sm text-red-600",children:g}):f?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"relative mb-6",children:S?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:S,alt:f.title,className:"w-full h-64 object-contain bg-gray-50 rounded-lg"}),((W=f.images)==null?void 0:W.length)>1&&r.jsxs("div",{className:"absolute inset-x-0 bottom-0 flex justify-between p-2",children:[r.jsx("button",{onClick:E,className:"p-2 rounded-full bg-white/80 backdrop-blur-sm shadow-lg hover:bg-white",children:""}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-full px-3 py-1 text-xs",children:[o+1," / ",f.images.length]}),r.jsx("button",{onClick:k,className:"p-2 rounded-full bg-white/80 backdrop-blur-sm shadow-lg hover:bg-white",children:""})]})]}):r.jsx(r.Fragment,{})}),r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:f.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-600",children:[r.jsx(ki,{size:16}),r.jsx("span",{children:Sme(f.createdAt)}),f.country&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mx-1",children:""}),r.jsx(Hr,{size:16}),r.jsx("span",{children:f.country})]})]})]}),r.jsxs("div",{className:"text-2xl font-bold text-brand-600",children:[f.currency||"US$"," ",f.price]})]}),r.jsx(Pg,{title:"Posted By",icon:sn,children:r.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border border-gray-100 hover:border-brand-200",children:[f.avatarUrl?r.jsx("img",{src:f.avatarUrl,alt:f.sellerUserName,className:"w-10 h-10 rounded-full object-cover"}):r.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-brand-600 font-medium",children:I})}),r.jsx("div",{children:r.jsx("div",{className:"font-medium",children:(X=f.seller)==null?void 0:X.name})})]})}),r.jsx(Pg,{title:"Description",icon:cs,children:r.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:f.description||"No description provided."})}),((J=f.audienceCategories)==null?void 0:J.length)>0&&r.jsx(Pg,{title:"Categories",icon:ys,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:f.audienceCategories.map((F,D)=>r.jsx(CO,{tone:"brand",children:F.name},`cat-${D}`))})}),((Z=f.tags)==null?void 0:Z.length)>0&&r.jsx(Pg,{title:"Tags",icon:kd,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:f.tags.map((F,D)=>r.jsx(CO,{tone:"gray",children:F},`tag-${D}`))})}),(f.specifications||f.condition||f.brand)&&r.jsx(Pg,{title:"Additional Details",icon:Cd,children:r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[f.brand&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-500",children:"Brand"}),r.jsx("span",{className:"font-medium",children:f.brand})]}),f.condition&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-500",children:"Condition"}),r.jsx("span",{className:"font-medium",children:f.condition})]}),f.specifications&&Object.entries(f.specifications).map(([F,D])=>r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-500",children:F}),r.jsx("span",{className:"font-medium",children:D})]},F))]})}),r.jsxs("div",{className:"flex gap-3 mt-6 relative",children:[r.jsxs("button",{ref:y,onClick:F=>{F.stopPropagation(),v(D=>!D)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[r.jsx(js,{size:18}),"Share"]}),f.sellerUserId!==(j==null?void 0:j.id)&&r.jsxs("button",{onClick:()=>{if(!(j!=null&&j.id)){w._showPopUp("login_prompt");return}i(!0)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[r.jsx(sn,{size:18}),"Connect"]}),r.jsx("button",{onClick:()=>{if(!(j!=null&&j.id)){w._showPopUp("login_prompt");return}n(),N(`/messages?userId=${f.sellerUserId}`),oe.success("Starting conversation with "+(f.sellerUserName||"seller"))},className:"flex-1 rounded-lg px-4 py-2 text-sm font-medium bg-brand-500 text-white hover:bg-brand-700 active:bg-brand-800 flex items-center justify-center gap-2 transition-all duration-200 shadow-sm hover:shadow-md",children:"Message"}),p&&r.jsx(kme,{product:f,shareMenuRef:b,setShareOpen:v})]})]}):r.jsx("div",{className:"text-sm text-gray-600",children:"No product details available."})})]}),r.jsx(Yn,{open:a,onClose:()=>i(!1),toUserId:f==null?void 0:f.sellerUserId,toName:(f==null?void 0:f.sellerUserName)||"Seller",onSent:L})]})}const kme=({product:e,shareMenuRef:t,setShareOpen:n})=>{var c,u;const s=`${window.location.origin}/product/${e==null?void 0:e.id}`,a=(e==null?void 0:e.title)||"Product on 54Links",i=((e==null?void 0:e.description)||"").slice(0,160)+(((e==null?void 0:e.description)||"").length>160?"":""),o=["54Links","Products","Marketplace"].filter(Boolean),l=((u=(c=import.meta)==null?void 0:c.env)==null?void 0:u.VITE_FACEBOOK_APP_ID)||void 0;return r.jsxs("div",{ref:t,className:"absolute bottom-14 left-0 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this product"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx(Ps,{url:s,title:a,separator:"  ",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx($s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),r.jsx(Ls,{url:s,quote:i,hashtag:"#54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Cs,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),r.jsx(Is,{url:s,title:a,summary:i,source:"54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ms,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),r.jsx(Os,{url:s,title:a,hashtags:o,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(_s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),r.jsx(As,{url:s,title:a,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ts,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),r.jsx(Ss,{url:s,subject:a,body:i+`

`+s,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ns,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),l&&r.jsx(Es,{url:s,appId:l,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(ks,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),r.jsx("div",{className:"mt-2",children:r.jsx(Eme,{shareUrl:s,setShareOpen:n})})]})},Eme=({shareUrl:e,setShareOpen:t})=>r.jsxs("button",{onClick:()=>pe(void 0,null,function*(){try{yield navigator.clipboard.writeText(e),oe.success("Link copied"),t(!1)}catch(n){oe.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[r.jsx(ws,{size:16}),"Copy link"]}),Lme=e=>!e||typeof e!="string"?!1:e.startsWith("data:")||e.startsWith("http://")||e.startsWith("https://"),Mme=e=>{if(!e)return"";const t=e.match(/\.([a-zA-Z0-9]+)(?:\?|$)/);return t?t[1].toLowerCase():""},Ime=e=>{if(!e)return"unknown";if(e.startsWith("data:"))return e.startsWith("data:image")?"image":e.startsWith("data:video")?"video":"unknown";const t=Mme(e),n=["mp4","webm","ogg","mov","avi","mkv"],s=["jpg","jpeg","png","gif","webp","bmp","svg"],a=["pdf","doc","docx","txt","rtf","odt"];return n.includes(t)?"video":s.includes(t)?"image":a.includes(t)?"document":"unknown"};function hw({item:e,currency:t="US$",featured:n,onContact:s,onSave:a,matchPercentage:i=20,type:o="grid"}){var de,$e,it,gt;const l=Ht(),c=yr(),{user:u,settings:f}=Xt(),[h,g]=d.useState(!1);d.useState(!1);const[m,p]=d.useState(null),[v,b]=d.useState(!1),[y,x]=d.useState(!1),[w,j]=d.useState((e==null?void 0:e.connectionStatus)||"none"),[N,L]=d.useState(!!(e!=null&&e.isLiked)),[k,E]=d.useState(Number(e.likesCount||0)),[S,I]=d.useState(Number((e==null?void 0:e.commentsCount)||0)),[C,M]=d.useState(0),[A,H]=d.useState(!1),[W,X]=d.useState(!1),[J,Z]=d.useState(!1),[F,D]=d.useState(!1),O=d.useRef(null),T=d.useRef(null),[R,z]=d.useState(!1),[_,U]=d.useState(!1),[Q,re]=d.useState(!1),[le,ue]=d.useState(!1),ge=d.useRef(null),[ke,tt]=d.useState(!1),He=d.useRef(null);d.useEffect(()=>{function De(Ae){var Pe;O.current&&!O.current.contains(Ae.target)&&!((Pe=T.current)!=null&&Pe.contains(Ae.target))&&D(!1),ge.current&&!ge.current.contains(Ae.target)&&(U(!1),re(!1))}function Le(Ae){Ae.key==="Escape"&&(D(!1),U(!1),re(!1))}return document.addEventListener("mousedown",De),document.addEventListener("keydown",Le),()=>{document.removeEventListener("mousedown",De),document.removeEventListener("keydown",Le)}},[]),d.useEffect(()=>()=>{He.current&&clearTimeout(He.current)},[]);function ze(){g(!1),j("pending_outgoing")}const rt=De=>{if(!De)return"";const Le=De.replace(/<br\s*\/?>/gi,". "),Ae=document.createElement("div");Ae.innerHTML=Le;let Pe=Ae.textContent||Ae.innerText||"";return Pe=Pe.replace(/\s+/g," ").trim(),Pe},V=(()=>{const De=(e==null?void 0:e.images)||[],Le=[];return De.forEach((Ae,Pe)=>{let Qe=(Ae==null?void 0:Ae.filename)||Ae||null;if(Qe&&!Qe.startsWith("data:")&&!Qe.startsWith("http")&&(Qe=`${gn}/uploads/${Qe}`),Lme(Qe)){const mt=Ime(Qe);(mt==="image"||mt==="video")&&Le.push({url:Qe,type:mt,name:`media-${Pe}`})}}),Le.sort((Ae,Pe)=>Ae.type==="video"&&Pe.type!=="video"?-1:Ae.type!=="video"&&Pe.type==="video"?1:0)})(),ne=V.length>1,Ce=V[C],fe=(Ce==null?void 0:Ce.type)==="video",xe=o==="list";(((de=e==null?void 0:e.seller)==null?void 0:de.name)||(e==null?void 0:e.sellerUserName)||"?").split(" ").map(De=>De[0]).join("").slice(0,2).toUpperCase();const se=d.useMemo(()=>{if(!(e!=null&&e.createdAt))return"";const De=Date.now()-new Date(e.createdAt).getTime(),Le=Math.floor(De/6e4);if(Le<60)return`${Le} mins ago`;const Ae=Math.floor(Le/60);return Ae<24?`${Ae} hrs ago`:`${Math.floor(Ae/24)} days ago`},[e==null?void 0:e.createdAt]);xe&&(f==null||f.contentType);const ae=()=>{H(!A),X(!0),He.current&&clearTimeout(He.current),He.current=setTimeout(()=>{X(!1)},3e3)},G=()=>{H(!0),X(!0),He.current&&clearTimeout(He.current),He.current=setTimeout(()=>{X(!1)},3e3)},Ne=()=>{H(!1),X(!0),He.current&&clearTimeout(He.current)},Be=De=>{fe?(De.stopPropagation(),ae()):be?l(`/product/${e.id}`):b(!0)},dt=()=>pe(this,null,function*(){var De;if(!(u!=null&&u.id)){(De=c._showPopUp)==null||De.call(c,"login_prompt");return}L(Le=>!Le),E(Le=>N?Math.max(0,Le-1):Le+1);try{const{data:Le}=yield Md("product",e.id);L(Le.liked),E(Le.count)}catch(Le){L(Ae=>!Ae),E(Ae=>N?Ae+1:Math.max(0,Ae-1))}}),nt=De=>pe(this,null,function*(){try{yield Id("product",e.id,"other",De),oe.success("Report submitted. Thank you.")}catch(Le){oe.success("Report submitted. Thank you.")}}),Te=()=>r.jsxs("button",{onClick:()=>pe(this,null,function*(){try{yield navigator.clipboard.writeText(shareUrl),oe.success("Link copied"),D(!1)}catch(De){oe.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[r.jsx(ws,{size:16}),"Copy link"]}),lt=()=>{var mt,Me;const De=`${window.location.origin}/products?id=${e==null?void 0:e.id}`,Le=(e==null?void 0:e.title)||"Product on 54Links",Ae=((e==null?void 0:e.description)||"").slice(0,160)+(((e==null?void 0:e.description)||"").length>160?"":""),Pe=["54Links","Products","Shopping"].filter(Boolean),Qe=((Me=(mt=import.meta)==null?void 0:mt.env)==null?void 0:Me.VITE_FACEBOOK_APP_ID)||void 0;return r.jsxs("div",{ref:O,className:"absolute bottom-0 right-3 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this product"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx(Ps,{url:De,title:Le,separator:"  ",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx($s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),r.jsx(Ls,{url:De,quote:Ae,hashtag:"#54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Cs,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),r.jsx(Is,{url:De,title:Le,summary:Ae,source:"54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ms,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),r.jsx(Os,{url:De,title:Le,hashtags:Pe,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(_s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),r.jsx(As,{url:De,title:Le,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ts,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),r.jsx(Ss,{url:De,subject:Le,body:Ae+`

`+De,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ns,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),Qe&&r.jsx(Es,{url:De,appId:Qe,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(ks,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),r.jsx("div",{className:"mt-2",children:r.jsx(Te,{})})]})},_e=()=>r.jsx("div",{ref:ge,className:"absolute z-30 w-48 rounded-xl border border-gray-200 bg-white p-2 shadow-xl top-12 right-3",role:"dialog","aria-label":"Options menu",children:Q?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-900 border-b border-gray-200 mb-2",children:"Delete this product?"}),r.jsxs("button",{onClick:()=>pe(this,null,function*(){var De,Le;try{yield Se.delete(`/products/${e.id}`),oe.success("Product deleted successfully"),ue(!0)}catch(Ae){console.error("Failed to delete product:",Ae),oe.error(((Le=(De=Ae==null?void 0:Ae.response)==null?void 0:De.data)==null?void 0:Le.message)||"Failed to delete product")}U(!1),re(!1)}),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors mb-1",children:[r.jsx(On,{size:16}),"Confirm Delete"]}),r.jsx("button",{onClick:()=>re(!1),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>{l(`/product/${e.id}`),U(!1)},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors mb-1",children:[r.jsx(Ql,{size:16}),"Edit"]}),r.jsxs("button",{onClick:()=>re(!0),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[r.jsx(On,{size:16}),"Delete"]})]})}),be=(u==null?void 0:u.id)&&(e==null?void 0:e.sellerUserId)&&u.id===e.sellerUserId,Y=(e==null?void 0:e.avatarUrl)||null,ie=["Product",...Array.isArray(e==null?void 0:e.audienceCategories)?e==null?void 0:e.audienceCategories.map(De=>De.name):[],...Array.isArray(e==null?void 0:e.tags)?e.tags:[]].filter(Boolean);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 overflow-hidden ${le?"hidden":""}`,children:[r.jsxs("div",{className:"px-4 pt-3 pb-2 flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsx("div",{className:"cursor-pointer flex-shrink-0",onClick:De=>{De.stopPropagation(),e!=null&&e.sellerUserId&&l(`/profile/${e.sellerUserId}`)},children:Y?r.jsx("div",{className:`flex bg-white items-center justify-center w-20 h-20 ${(($e=e==null?void 0:e.postedBy)==null?void 0:$e.accountType)==="company"?"rounded":"rounded-full"} border border-gray-300 overflow-hidden`,children:r.jsx("img",{src:Y,alt:(e==null?void 0:e.sellerUserName)||"User",className:"w-full h-full",style:{objectFit:"contain"}})}):r.jsx("div",{className:`w-20 h-20 bg-gray-200 flex items-center justify-center ${((it=e==null?void 0:e.postedBy)==null?void 0:it.accountType)==="company"?"rounded":"rounded-full"} border border-gray-100`,children:r.jsx(ka,{size:24,className:"text-gray-400"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-semibold text-sm text-gray-900 hover:underline cursor-pointer",onClick:De=>{De.stopPropagation(),e!=null&&e.sellerUserId&&l(`/profile/${e.sellerUserId}`)},children:(e==null?void 0:e.sellerUserName)||"User"}),r.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:((gt=e==null?void 0:e.profile)==null?void 0:gt.professionalTitle)||"Seller"}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5",children:[r.jsx("span",{children:se}),r.jsx("span",{children:""}),r.jsx(no,{size:12})]})]})]}),r.jsxs("div",{className:"relative flex-shrink-0",children:[be&&r.jsx("button",{onClick:De=>{De.stopPropagation(),U(Le=>!Le)},className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors","aria-label":"More options",children:r.jsx(Fo,{size:20,className:"text-gray-600"})}),_&&r.jsx(_e,{})]})]}),r.jsxs("div",{className:"px-4 pb-3",children:[r.jsx("h3",{className:"font-semibold text-base text-gray-900 mb-1 hover:text-brand-600 cursor-pointer transition-colors",onClick:()=>{be?l(`/product/${e.id}`):b(!0)},children:e==null?void 0:e.title}),r.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:[r.jsx("div",{className:ke?"":"line-clamp-3",children:rt(e==null?void 0:e.description)}),(e==null?void 0:e.description)&&rt(e==null?void 0:e.description).length>150&&r.jsx("button",{onClick:()=>tt(!ke),className:"text-gray-500 hover:text-brand-600 font-medium mt-1",children:ke?"Show less":"...more"})]})]}),(f==null?void 0:f.contentType)!=="text"&&V.length>0&&r.jsxs("div",{className:"relative",children:[r.jsx("div",{onClick:Be,className:"relative w-full max-h-96 overflow-hidden cursor-pointer",children:ne?r.jsx("div",{className:"flex w-full h-full transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${C*100}%)`},children:V.map((De,Le)=>r.jsx("div",{className:"flex-shrink-0 w-full h-96 relative",children:De.type==="video"?r.jsx("div",{className:"relative w-full h-full bg-black",children:r.jsx(Ta,{src:De.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:Le===C&&A,onPlay:G,onPause:Ne})}):r.jsx("img",{src:De.url,alt:De.name||`Media ${Le+1}`,className:"w-full h-96 object-cover"})},Le))}):r.jsx("div",{className:"w-full h-96 relative",children:Ce.type==="video"?r.jsx("div",{className:"relative w-full h-full bg-black",children:r.jsx(Ta,{src:Ce.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:A,onPlay:G,onPause:Ne})}):r.jsx("img",{src:Ce.url,alt:Ce.name||"Media",className:"w-full h-96 object-cover"})})}),ne&&r.jsx("div",{className:"absolute bottom-3 right-3 flex gap-1",children:V.map((De,Le)=>r.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),M(Le),De.type==="video"?(H(!1),X(!0)):(H(!1),X(!1))},className:`w-[10px] h-[10px] rounded-full border border-gray-300 transition-colors ${Le===C?De.type==="video"?"bg-blue-500":"bg-white":"bg-white/50"}`,"aria-label":`Go to ${De.type} ${Le+1}`},Le))})]}),r.jsxs("div",{className:"flex justify-between px-4 pt-3 pb-3",children:[ie.length>0&&r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex flex-wrap gap-1.5 flex-1",children:[ie.slice(0,3).map((De,Le)=>r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-brand-500",children:["#",De.replace(/\s+/g,"")]},Le)),ie.length>3&&r.jsxs("div",{className:"relative inline-block group/tags",children:[r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium text-gray-600 bg-gray-100 cursor-help",children:["+",ie.length-3," more"]}),r.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/tags:opacity-100 group-hover/tags:visible z-10 whitespace-nowrap max-w-xs",children:[r.jsx("div",{className:"flex flex-wrap gap-1",children:ie.slice(3).map((De,Le)=>r.jsxs("span",{className:"inline-block",children:["#",De.replace(/\s+/g,""),Le<ie.length-4?",":""]},Le))}),r.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]})}),r.jsx("div",{children:i>0&&r.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${i>=80?"bg-green-100 text-green-700 border border-green-200":i>=60?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:[i,"% match"]})})]}),(k>0||S>0)&&r.jsxs("div",{className:"px-4 py-2 flex items-center justify-between text-xs text-gray-500 border-t border-gray-100",children:[r.jsx("div",{className:"flex items-center gap-1",children:k>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"flex -space-x-1",children:r.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center",children:r.jsx(os,{size:10,className:"text-white fill-white"})})}),r.jsxs("button",{onClick:()=>x(!0),className:"hover:underline cursor-pointer",children:[k," ",k===1?"like":"likes"]})]})}),r.jsx("div",{className:"flex items-center gap-3",children:S>0&&r.jsxs("button",{onClick:()=>z(!0),className:"hover:underline",children:[S," comment",S!==1?"s":""]})})]}),r.jsxs("div",{className:"px-2 py-1 border-t border-gray-100 grid grid-cols-4 gap-1",children:[r.jsxs("button",{onClick:dt,className:`flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium ${N?"text-blue-600":"text-gray-600"}`,children:[r.jsx(os,{size:20,className:N?"fill-blue-600":""}),r.jsx("span",{className:"max-sm:hidden",children:"Like"})]}),r.jsxs("button",{onClick:()=>z(!0),className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(cs,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Comment"})]}),r.jsxs("button",{onClick:()=>{var De;if(u!=null&&u.id)Z(!0);else{(De=c._showPopUp)==null||De.call(c,"login_prompt");return}},className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(ro,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Report"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:De=>{De.stopPropagation(),D(Le=>!Le)},className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(js,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Share"})]}),F&&r.jsx(lt,{})]})]}),r.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[(e==null?void 0:e.price)&&r.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[t," ",e.price]}),(e==null?void 0:e.country)&&r.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[r.jsx(Hr,{size:14}),r.jsxs("span",{children:[e!=null&&e.city?`${e.city}, `:"",(e==null?void 0:e.country)||""]})]})]}),!be&&r.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[r.jsx("button",{onClick:()=>{if(!(u!=null&&u.id)){c._showPopUp("login_prompt");return}b(!0)},className:"flex-1 px-4 py-2 rounded-full bg-brand-600 text-white font-medium text-sm hover:bg-brand-700 transition-colors",children:"View Details"}),w!=="connected"&&r.jsx("button",{onClick:()=>{if(!(u!=null&&u.id)){c._showPopUp("login_prompt");return}g(!0)},className:`flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors ${w==="pending_outgoing"||w==="outgoing_pending"?"bg-yellow-100 text-yellow-700":w==="pending_incoming"||w==="incoming_pending"?"bg-brand-100 text-brand-600 hover:bg-brand-200":"border-2 border-brand-600 text-brand-600 hover:bg-brand-50"}`,children:w==="pending_outgoing"||w==="outgoing_pending"?"Pending":w==="pending_incoming"||w==="incoming_pending"?"Respond":"Connect"})]})]})]}),r.jsx(Yn,{open:h,onClose:()=>g(!1),toUserId:e==null?void 0:e.sellerUserId,toName:(e==null?void 0:e.sellerUserName)||"Seller",onSent:ze}),r.jsx($d,{userId:m,isOpen:!!m,onClose:()=>p(null),onSent:ze}),r.jsx(Cme,{productId:e.id,isOpen:v,onClose:()=>b(!1),onSave:a}),r.jsx(is,{open:J,onClose:()=>Z(!1),title:"Report this product?",text:"Tell us what's happening. Our team will review.",confirmText:"Submit report",cancelText:"Cancel",withInput:!0,inputType:"textarea",inputLabel:"Report details",inputPlaceholder:"Describe the issue (spam, scam, offensive, etc.)",requireValue:!0,onConfirm:nt}),r.jsx(Td,{open:y,onClose:()=>x(!1),entityType:"product",entityId:e==null?void 0:e.id}),r.jsx(_d,{open:R,onClose:()=>z(!1),entityType:"product",entityId:e==null?void 0:e.id,currentUser:u,onCountChange:De=>I(De)})]})}function Tme(e){if(!e)return"";const t=new Date(e).getTime(),n=Date.now(),s=Math.floor((n-t)/1e3);if(s<60)return"Just now";const a=Math.floor(s/60);if(a<60)return`${a} min${a>1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i>1?"s":""} ago`;const o=Math.floor(i/24);if(o<30)return`${o} day${o>1?"s":""} ago`;const l=Math.floor(o/30);if(l<12)return`${l} month${l>1?"s":""} ago`;const c=Math.floor(l/12);return`${c} year${c>1?"s":""} ago`}function Dg({children:e,tone:t="brand"}){const n={brand:"bg-brand-50 text-brand-600",green:"bg-green-100 text-green-700",gray:"bg-gray-100 text-gray-700",blue:"bg-blue-100 text-blue-700",red:"bg-red-100 text-red-700"};return r.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] ${n[t]||n.gray}`,children:e})}function Kd({title:e,icon:t,children:n}){return r.jsxs("div",{className:"mt-5 text-left",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t?r.jsx(t,{size:16,className:"text-brand-600"}):null,r.jsx("h3",{className:"font-medium text-sm",children:e})]}),n]})}function Ame({momentId:e,isOpen:t,onClose:n,item:s}){var E,S,I,C,M,A;const[a,i]=d.useState(!1),[o,l]=d.useState(!1),[c,u]=d.useState(null),[f,h]=d.useState(""),[g,m]=d.useState(!1),p=d.useRef(null),v=d.useRef(null),b=d.useRef(null),y=yr(),{user:x}=Xt(),w=Ht();d.useEffect(()=>{function H(X){v.current&&p.current&&!v.current.contains(X.target)&&!p.current.contains(X.target)&&m(!1)}function W(X){X.key==="Escape"&&m(!1)}return document.addEventListener("mousedown",H),document.addEventListener("keydown",W),()=>{document.removeEventListener("mousedown",H),document.removeEventListener("keydown",W)}},[]),d.useEffect(()=>{if(!t){u(null),h("");return}if(!e)return;let H=!0;function W(){return pe(this,null,function*(){l(!0),h(""),u(null);try{const{data:X}=yield Se.get(`/moments/${e}`);H&&u(X)}catch(X){console.error("Error fetching moment details:",X),H&&h("Failed to load moment details.")}finally{H&&l(!1)}})}return W(),()=>{H=!1}},[t,e]);function j(){oe.success("Connection request sent"),i(!1)}if(!t)return null;const N=((c==null?void 0:c.user.name)||(s==null?void 0:s.userName)||"?").split(" ").map(H=>H[0]).join("").slice(0,2).toUpperCase(),L=()=>{var H,W;if(((H=c==null?void 0:c.images)==null?void 0:H.length)>0)for(const X of c.images){if(typeof X=="string"&&X.startsWith("data:image"))return X;if(X!=null&&X.base64url&&X.base64url.startsWith("data:image"))return X.base64url}if(((W=c==null?void 0:c.attachments)==null?void 0:W.length)>0){for(const X of c.attachments)if(X!=null&&X.base64url&&X.base64url.startsWith("data:image"))return X.base64url}return null},k=()=>{var X,J;const H=(X=c==null?void 0:c.city)==null?void 0:X.trim(),W=(J=c==null?void 0:c.country)==null?void 0:J.trim();return H&&W?`${H}, ${W}`:W||H||""};return r.jsxs("div",{className:"fixed z-[99] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[r.jsxs("div",{ref:b,className:"bg-white z-[99] w-full max-w-2xl rounded-2xl shadow-xl flex flex-col max-h-[85vh] overflow-hidden relative",children:[r.jsxs("div",{className:"bg-brand-500 p-4 flex justify-between items-center",children:[r.jsx("div",{className:"text-white font-medium",children:"Moment Details"}),r.jsx("button",{onClick:()=>{var H;n(),(H=y._closeAllPopUps)==null||H.call(y)},className:"text-white hover:text-brand-100",children:r.jsx(Sr,{size:20})})]}),r.jsx("div",{className:"p-6 overflow-y-auto",children:o?r.jsx(Ad,{}):f?r.jsx("div",{className:"text-sm text-red-600",children:f}):c?r.jsxs(r.Fragment,{children:[(()=>{var W,X;const H=L();return H?r.jsx("div",{className:"relative mb-6",children:r.jsx("img",{src:H,alt:c.title,className:"w-full h-64 object-cover bg-gray-50 rounded-lg"})}):((W=c==null?void 0:c.images)==null?void 0:W.length)>0||((X=c==null?void 0:c.attachments)==null?void 0:X.length)>0?r.jsx(r.Fragment,{}):null})(),r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:c.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-600",children:[r.jsx(ki,{size:16}),r.jsx("span",{children:Tme(c.createdAt)}),k()&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mx-1",children:""}),r.jsx(Hr,{size:16}),r.jsx("span",{children:k()})]})]})]})}),r.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[c.type&&r.jsx(Dg,{tone:"brand",children:c.type}),Array.isArray(c.tags)&&c.tags.map((H,W)=>r.jsx(Dg,{tone:"gray",children:H},`tag-${W}`))]}),r.jsx(Kd,{title:"Posted By",icon:sn,children:r.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border border-gray-100 hover:border-brand-200 ",onClick:()=>{var H;c!=null&&c.userId&&(y._showPopUp("profile"),(H=y._setProfileUserId)==null||H.call(y,c.userId))},children:[c.userAvatarUrl?r.jsx("img",{src:c.userAvatarUrl,alt:(E=c==null?void 0:c.user)==null?void 0:E.name,className:"w-10 h-10 rounded-full object-cover"}):r.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-brand-600 font-medium",children:N})}),r.jsx("div",{children:r.jsx("div",{className:"font-medium",children:(c==null?void 0:c.user.name)||"User"})})]})}),r.jsx(Kd,{title:"Description",icon:cs,children:r.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:c.description||"No description provided."})}),k()&&r.jsx(Kd,{title:"Location",icon:Hr,children:r.jsx("div",{className:"text-sm text-gray-700",children:k()})}),((S=c.audienceCategories)==null?void 0:S.length)>0&&r.jsx(Kd,{title:"Categories",icon:ys,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:c.audienceCategories.map((H,W)=>r.jsx(Dg,{tone:"brand",children:H.name},`cat-${W}`))})}),((I=c.audienceSubcategories)==null?void 0:I.length)>0&&r.jsx(Kd,{title:"Subcategories",icon:ys,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:c.audienceSubcategories.map((H,W)=>r.jsx(Dg,{tone:"gray",children:H.name},`subcat-${W}`))})}),((C=c.audienceIdentities)==null?void 0:C.length)>0&&r.jsx(Kd,{title:"Target Audience",icon:sn,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:c.audienceIdentities.map((H,W)=>r.jsx(Dg,{tone:"blue",children:H.name},`identity-${W}`))})}),(((M=c.images)==null?void 0:M.length)>0||((A=c.attachments)==null?void 0:A.length)>0)&&r.jsx(Kd,{title:"Attachments",icon:kd,children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[...c.images||[],...c.attachments||[]].map((H,W)=>{const X=H.name||H.title||`Attachment ${W+1}`;return r.jsx("div",{className:"relative",children:r.jsx("img",{src:H.base64url,alt:X,className:"w-full h-24 object-cover rounded-lg border border-gray-200"})},W)})})}),r.jsxs("div",{className:"flex gap-3 mt-6 relative",children:[r.jsxs("button",{ref:v,onClick:H=>{H.stopPropagation(),m(W=>!W)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[r.jsx(js,{size:18}),"Share"]}),c.userId!==(x==null?void 0:x.id)&&r.jsxs("button",{onClick:()=>{if(!(x!=null&&x.id)){y._showPopUp("login_prompt");return}i(!0)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[r.jsx(sn,{size:18}),"Connect"]}),r.jsx("button",{onClick:()=>{if(!(x!=null&&x.id)){y._showPopUp("login_prompt");return}n(),w(`/messages?userId=${c.userId}`),oe.success("Starting conversation with "+(c.userName||"user"))},className:"flex-1 rounded-lg px-4 py-2 text-sm font-medium bg-brand-500 text-white hover:bg-brand-700 active:bg-brand-800 flex items-center justify-center gap-2 transition-all duration-200 shadow-sm hover:shadow-md",children:"Message"}),g&&r.jsx(_me,{moment:c,shareMenuRef:p,setShareOpen:m})]})]}):r.jsx("div",{className:"text-sm text-gray-600",children:"No moment details available."})})]}),r.jsx(Yn,{open:a,onClose:()=>i(!1),toUserId:c==null?void 0:c.userId,toName:(c==null?void 0:c.userName)||"User",onSent:j})]})}const _me=({moment:e,shareMenuRef:t,setShareOpen:n})=>{var c,u;const s=`${window.location.origin}/moment/${e==null?void 0:e.id}`,a=(e==null?void 0:e.title)||"Moment on 54Links",i=((e==null?void 0:e.description)||"").slice(0,160)+(((e==null?void 0:e.description)||"").length>160?"":""),o=["54Links","Moments","Community"].filter(Boolean),l=((u=(c=import.meta)==null?void 0:c.env)==null?void 0:u.VITE_FACEBOOK_APP_ID)||void 0;return r.jsxs("div",{ref:t,className:"absolute bottom-14 left-0 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this moment"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx(Ps,{url:s,title:a,separator:"  ",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx($s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),r.jsx(Ls,{url:s,quote:i,hashtag:"#54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Cs,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),r.jsx(Is,{url:s,title:a,summary:i,source:"54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ms,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),r.jsx(Os,{url:s,title:a,hashtags:o,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(_s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),r.jsx(As,{url:s,title:a,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ts,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),r.jsx(Ss,{url:s,subject:a,body:i+`

`+s,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ns,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),l&&r.jsx(Es,{url:s,appId:l,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(ks,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),r.jsx("div",{className:"mt-2",children:r.jsx(Ome,{shareUrl:s,setShareOpen:n})})]})},Ome=({shareUrl:e,setShareOpen:t})=>r.jsxs("button",{onClick:()=>pe(void 0,null,function*(){try{yield navigator.clipboard.writeText(e),oe.success("Link copied"),t(!1)}catch(n){oe.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[r.jsx(ws,{size:16}),"Copy link"]});function $me(e,t){if(e)return e;if(!t)return"";const n=Date.now()-new Date(t).getTime(),s=Math.floor(n/6e4);if(s<60)return`${s} min${s!==1?"s":""} ago`;const a=Math.floor(s/60);if(a<24)return`${a} hour${a!==1?"s":""} ago`;const i=Math.floor(a/24);return`${i} day${i!==1?"s":""} ago`}const kO=e=>!e||typeof e!="string"?!1:e.startsWith("data:")||e.startsWith("http://")||e.startsWith("https://"),Pme=e=>{if(!e)return"";const t=e.match(/\.([a-zA-Z0-9]+)(?:\?|$)/);return t?t[1].toLowerCase():""},EO=e=>{if((e==null?void 0:e.type)==="video")return"video";if((e==null?void 0:e.type)==="image")return"image";const t=(e==null?void 0:e.base64url)||(e==null?void 0:e.url)||"",n=Pme(t),s=["mp4","webm","ogg","mov","avi","mkv"],a=["jpg","jpeg","png","gif","webp","bmp","svg"];return s.includes(n)?"video":(a.includes(n),"image")};function tc({moment:e,onEdit:t,onDelete:n,type:s="grid",matchPercentage:a=20}){var Le,Ae,Pe,Qe,mt,Me,Oe,We,qe,vt;const{user:i,settings:o}=Xt(),l=Ht(),c=yr(),[u,f]=d.useState(!1),[h,g]=d.useState((e==null?void 0:e.connectionStatus)||"none"),[m,p]=d.useState(!!(e!=null&&e.isLiked)),[v,b]=d.useState(Number((e==null?void 0:e.likesCount)||0)),[y,x]=d.useState(Number((e==null?void 0:e.commentsCount)||0)),[w,j]=d.useState(!1),[N,L]=d.useState(!1),[k,E]=d.useState(!1),S=d.useRef(null),I=d.useRef(null),[C,M]=d.useState(!1),[A,H]=d.useState(!1),[W,X]=d.useState(0),[J,Z]=d.useState(!1),[F,D]=d.useState(!1),[O,T]=d.useState(!1),[R,z]=d.useState(!1),[_,U]=d.useState(!1),Q=d.useRef(null),[re,le]=d.useState(!1),ue=d.useRef(null);d.useEffect(()=>{function Ge(Mt){var _t;S.current&&!S.current.contains(Mt.target)&&!((_t=I.current)!=null&&_t.contains(Mt.target))&&E(!1),Q.current&&!Q.current.contains(Mt.target)&&(T(!1),z(!1))}function ot(Mt){Mt.key==="Escape"&&(E(!1),T(!1),z(!1))}return document.addEventListener("mousedown",Ge),document.addEventListener("keydown",ot),()=>{document.removeEventListener("mousedown",Ge),document.removeEventListener("keydown",ot)}},[]),d.useEffect(()=>()=>{ue.current&&clearTimeout(ue.current)},[]),d.useEffect(()=>{e!=null&&e.id&&(cw("moment",e.id).then(({data:Ge})=>{p(Ge.liked),b(Ge.count)}).catch(()=>{}),cx("moment",e.id).then(({data:Ge})=>{const ot=Array.isArray(Ge)?Ge.length:0;x(ot)}).catch(()=>{}))},[e==null?void 0:e.id]);const ge=(i==null?void 0:i.id)&&(e==null?void 0:e.userId)&&i.id===e.userId,ke=s==="list",He=(()=>{var ot,Mt;const Ge=[];if(((ot=e==null?void 0:e.images)==null?void 0:ot.length)>0)for(const _t of e.images){const Ct=_t==null?void 0:_t.base64url;if(kO(Ct)){const B=EO(_t);Ge.push({url:Ct,type:B,name:(_t==null?void 0:_t.name)||`media-${Ge.length}`})}}if(((Mt=e==null?void 0:e.attachments)==null?void 0:Mt.length)>0&&Ge.length===0)for(const _t of e.attachments){const Ct=_t==null?void 0:_t.base64url;if(kO(Ct)){const B=EO(_t);Ge.push({url:Ct,type:B,name:(_t==null?void 0:_t.name)||`attachment-${Ge.length}`})}}return Ge.sort((_t,Ct)=>_t.type==="video"&&Ct.type!=="video"?-1:_t.type!=="video"&&Ct.type==="video"?1:0)})(),ze=He.length>1,rt=He[W],Xe=(rt==null?void 0:rt.type)==="video",V=d.useMemo(()=>{var Mt,_t;const Ge=(Mt=e==null?void 0:e.city)==null?void 0:Mt.trim(),ot=(_t=e==null?void 0:e.country)==null?void 0:_t.trim();return Ge&&ot?`${Ge}, ${ot}`:ot||Ge||""},[e==null?void 0:e.city,e==null?void 0:e.country]),ne=d.useMemo(()=>{const Ge=Array.isArray(e==null?void 0:e.tags)?e.tags:[],ot=[e==null?void 0:e.relatedEntityType,e==null?void 0:e.type,e==null?void 0:e.categoryName,e==null?void 0:e.subcategoryName].filter(Boolean);return[...new Set([...Array.isArray(e==null?void 0:e.audienceCategories)?e==null?void 0:e.audienceCategories.map(Mt=>Mt.name):[],e==null?void 0:e.relatedEntityType,...Ge,...ot.slice(1)])].filter(Boolean)},[e==null?void 0:e.audienceCategories,e==null?void 0:e.tags,e==null?void 0:e.relatedEntityType,e==null?void 0:e.type,e==null?void 0:e.categoryName,e==null?void 0:e.subcategoryName]),Ce=ne.slice(0,2),fe=Math.max(0,ne.length-Ce.length),xe=d.useMemo(()=>$me(e==null?void 0:e.timeAgo,e==null?void 0:e.createdAt),[e==null?void 0:e.timeAgo,e==null?void 0:e.createdAt]);function se(){f(!1),g("pending_outgoing")}const ae=Ge=>{if(!Ge)return"";const ot=Ge.replace(/<br\s*\/?>/gi,". "),Mt=document.createElement("div");Mt.innerHTML=ot;let _t=Mt.textContent||Mt.innerText||"";return _t=_t.replace(/\s+/g," ").trim(),_t},G=()=>{Z(!J),D(!0),ue.current&&clearTimeout(ue.current),ue.current=setTimeout(()=>{D(!1)},3e3)},Ne=()=>{Z(!0),D(!0),ue.current&&clearTimeout(ue.current),ue.current=setTimeout(()=>{D(!1)},3e3)},Be=()=>{Z(!1),D(!0),ue.current&&clearTimeout(ue.current)},dt=Ge=>{Xe?(Ge.stopPropagation(),G()):H(!0)};ke&&(o==null||o.contentType);const nt=()=>pe(this,null,function*(){var Ge;if(!(i!=null&&i.id)){(Ge=c._showPopUp)==null||Ge.call(c,"login_prompt");return}p(ot=>!ot),b(ot=>m?Math.max(0,ot-1):ot+1);try{const{data:ot}=yield Md("moment",e.id);p(ot.liked),b(ot.count)}catch(ot){p(Mt=>!Mt),b(Mt=>m?Mt+1:Math.max(0,Mt-1))}}),Te=Ge=>pe(this,null,function*(){try{yield Id("moment",e.id,"other",Ge),oe.success("Report submitted. Thank you.")}catch(ot){oe.success("Report submitted. Thank you.")}}),lt=()=>pe(this,null,function*(){var Ge,ot;try{yield Se.delete(`/moments/${e.id}`),oe.success("Moment deleted successfully"),U(!0),n&&n(e)}catch(Mt){console.error("Failed to delete moment:",Mt),oe.error(((ot=(Ge=Mt==null?void 0:Mt.response)==null?void 0:Ge.data)==null?void 0:ot.message)||"Failed to delete moment")}}),_e=`${window.location.origin}/moment/${e==null?void 0:e.id}`,be=(e==null?void 0:e.title)||"Moment on 54Links",Y=((e==null?void 0:e.description)||"").slice(0,160)+(((e==null?void 0:e.description)||"").length>160?"":""),ie=["54Links","Moments","Achievements"].filter(Boolean),de=((Ae=(Le=import.meta)==null?void 0:Le.env)==null?void 0:Ae.VITE_FACEBOOK_APP_ID)||void 0,$e=()=>r.jsxs("button",{onClick:()=>pe(this,null,function*(){try{yield navigator.clipboard.writeText(_e),oe.success("Link copied"),E(!1)}catch(Ge){oe.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[r.jsx(ws,{size:16}),"Copy link"]}),it=()=>r.jsxs("div",{ref:S,className:"absolute bottom-0 right-3 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this moment"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx(Ps,{url:_e,title:be,separator:"  ",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx($s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),r.jsx(Ls,{url:_e,quote:Y,hashtag:"#54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Cs,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),r.jsx(Is,{url:_e,title:be,summary:Y,source:"54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ms,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),r.jsx(Os,{url:_e,title:be,hashtags:ie,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(_s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),r.jsx(As,{url:_e,title:be,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ts,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),r.jsx(Ss,{url:_e,subject:be,body:Y+`

`+_e,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ns,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),de&&r.jsx(Es,{url:_e,appId:de,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(ks,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),r.jsx("div",{className:"mt-2",children:r.jsx($e,{})})]}),gt=()=>r.jsx("div",{ref:Q,className:"absolute z-30 w-48 rounded-xl border border-gray-200 bg-white p-2 shadow-xl top-12 right-3",role:"dialog","aria-label":"Options menu",children:R?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-900 border-b border-gray-200 mb-2",children:"Delete this moment?"}),r.jsxs("button",{onClick:()=>pe(this,null,function*(){yield lt(),T(!1),z(!1)}),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors mb-1",children:[r.jsx(On,{size:16}),"Confirm Delete"]}),r.jsx("button",{onClick:()=>z(!1),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>{l(`/moment/${e.id}`),T(!1)},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors mb-1",children:[r.jsx(Ql,{size:16}),"Edit"]}),r.jsxs("button",{onClick:()=>z(!0),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[r.jsx(On,{size:16}),"Delete"]})]})});return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 overflow-hidden ${_?"hidden":""}`,children:[r.jsxs("div",{className:"px-4 pt-3 pb-2 flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsx("div",{className:"cursor-pointer flex-shrink-0",onClick:Ge=>{Ge.stopPropagation(),e!=null&&e.userId&&l(`/profile/${e.userId}`)},children:(Pe=e==null?void 0:e.user)!=null&&Pe.avatarUrl||e!=null&&e.avatarUrl?r.jsx("div",{className:`flex bg-white items-center justify-center w-20 h-20 ${((Qe=e==null?void 0:e.postedBy)==null?void 0:Qe.accountType)==="company"?"rounded":"rounded-full"} border border-gray-300 overflow-hidden`,children:r.jsx("img",{src:((mt=e.user)==null?void 0:mt.avatarUrl)||e.avatarUrl,alt:((Me=e==null?void 0:e.user)==null?void 0:Me.name)||(e==null?void 0:e.userName)||"User",className:"w-full h-full",style:{objectFit:"contain"}})}):r.jsx("div",{className:`w-20 h-20 bg-gray-200 flex items-center justify-center ${((Oe=e==null?void 0:e.postedBy)==null?void 0:Oe.accountType)==="company"?"rounded":"rounded-full"} border border-gray-100`,children:r.jsx(ka,{size:24,className:"text-gray-400"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-semibold text-sm text-gray-900 hover:underline cursor-pointer",onClick:Ge=>{Ge.stopPropagation(),e!=null&&e.userId&&l(`/profile/${e.userId}`)},children:((We=e==null?void 0:e.user)==null?void 0:We.name)||(e==null?void 0:e.userName)||"User"}),r.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:((qe=e==null?void 0:e.profile)==null?void 0:qe.professionalTitle)||"Moment Creator"}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5",children:[r.jsx("span",{children:xe}),r.jsx("span",{children:""}),r.jsx(no,{size:12})]})]})]}),r.jsxs("div",{className:"relative flex-shrink-0",children:[ge&&r.jsx("button",{onClick:Ge=>{Ge.stopPropagation(),T(ot=>!ot)},className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors","aria-label":"More options",children:r.jsx(Fo,{size:20,className:"text-gray-600"})}),O&&r.jsx(gt,{})]})]}),r.jsx("div",{className:"px-4 pb-3",children:r.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:[r.jsx("div",{className:re?"":"line-clamp-3",children:ae(e==null?void 0:e.description)}),(e==null?void 0:e.description)&&ae(e==null?void 0:e.description).length>250&&r.jsx("button",{onClick:()=>le(!re),className:"text-gray-500 hover:text-brand-600 font-medium mt-1",children:re?"Show less":"...more"})]})}),(o==null?void 0:o.contentType)!=="text"&&He.length>0&&r.jsxs("div",{className:"relative",children:[r.jsx("div",{onClick:dt,className:"relative w-full max-h-96 overflow-hidden cursor-pointer",children:ze?r.jsx("div",{className:"flex w-full h-full transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${W*100}%)`},children:He.map((Ge,ot)=>r.jsx("div",{className:"flex-shrink-0 w-full h-96 relative",children:Ge.type==="video"?r.jsx("div",{className:"relative w-full h-full bg-black",children:r.jsx(Ta,{src:Ge.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:ot===W&&J,onPlay:Ne,onPause:Be})}):r.jsx("img",{src:Ge.url,alt:Ge.name||`Media ${ot+1}`,className:"w-full h-96 object-cover"})},ot))}):r.jsx("div",{className:"w-full h-96 relative",children:rt.type==="video"?r.jsx("div",{className:"relative w-full h-full bg-black",children:r.jsx(Ta,{src:rt.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:J,onPlay:Ne,onPause:Be})}):r.jsx("img",{src:rt.url,alt:rt.name||"Media",className:"w-full h-96 object-cover"})})}),ze&&r.jsx("div",{className:"absolute bottom-3 right-3 flex gap-1",children:He.map((Ge,ot)=>r.jsx("button",{onClick:Mt=>{Mt.stopPropagation(),X(ot),Ge.type==="video"?(Z(!1),D(!0)):(Z(!1),D(!1))},className:`w-[10px] h-[10px] rounded-full border border-gray-300 transition-colors ${ot===W?Ge.type==="video"?"bg-blue-500":"bg-white":"bg-white/50"}`,"aria-label":`Go to ${Ge.type} ${ot+1}`},ot))})]}),r.jsxs("div",{className:"flex justify-between px-4 pt-3 pb-3",children:[!!Ce.length&&r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex flex-wrap gap-1.5 flex-1",children:[r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-50 text-green-600 border border-green-200",children:"Experience"}),Ce.map(Ge=>r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-brand-500",children:["#",Ge.replace(/\s+/g,"")]},Ge)),fe>0&&r.jsxs("div",{className:"relative inline-block group/tags",children:[r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium text-gray-600 bg-gray-100 cursor-help",children:["+",fe," more"]}),r.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/tags:opacity-100 group-hover/tags:visible z-10 whitespace-nowrap max-w-xs",children:[r.jsx("div",{className:"flex flex-wrap gap-1",children:ne.slice(2).map((Ge,ot)=>r.jsxs("span",{className:"inline-block",children:["#",Ge.replace(/\s+/g,""),ot<ne.length-3?",":""]},ot))}),r.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]})}),r.jsx("div",{children:a>0&&r.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${a>=80?"bg-green-100 text-green-700 border border-green-200":a>=60?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:[a,"% match"]})})]}),(v>0||y>0)&&r.jsxs("div",{className:"px-4 py-2 flex items-center justify-between text-xs text-gray-500 border-t border-gray-100",children:[r.jsx("div",{className:"flex items-center gap-1",children:v>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"flex -space-x-1",children:r.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center",children:r.jsx(os,{size:10,className:"text-white fill-white"})})}),r.jsxs("button",{onClick:()=>L(!0),className:"hover:underline cursor-pointer",children:[v," ",v===1?"like":"likes"]})]})}),r.jsx("div",{className:"flex items-center gap-3",children:y>0&&r.jsxs("button",{onClick:()=>M(!0),className:"hover:underline",children:[y," comment",y!==1?"s":""]})})]}),r.jsxs("div",{className:"px-2 py-1 border-t border-gray-100 grid grid-cols-4 gap-1",children:[r.jsxs("button",{onClick:nt,className:`flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium ${m?"text-blue-600":"text-gray-600"}`,children:[r.jsx(os,{size:20,className:m?"fill-blue-600":""}),r.jsx("span",{className:"max-sm:hidden",children:"Like"})]}),r.jsxs("button",{onClick:()=>M(!0),className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(cs,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Comment"})]}),r.jsxs("button",{onClick:()=>{var Ge;if(i!=null&&i.id)j(!0);else{(Ge=c._showPopUp)==null||Ge.call(c,"login_prompt");return}},className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(ro,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Report"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:Ge=>{Ge.stopPropagation(),E(ot=>!ot)},className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(js,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Share"})]}),k&&r.jsx(it,{})]})]}),r.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[r.jsx(Hr,{size:14}),r.jsx("span",{children:V})]})}),!ge&&r.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[r.jsx("button",{onClick:()=>{var Ge;if(!(i!=null&&i.id)){c._showPopUp("login_prompt");return}l(`/messages?userId=${e.userId}`),oe.success("Starting conversation with "+(((Ge=e.user)==null?void 0:Ge.name)||e.userName||"moment creator"))},className:"flex-1 px-4 py-2 rounded-full bg-brand-600 text-white font-medium text-sm hover:bg-brand-700 transition-colors",children:"Message"}),h!=="connected"&&De()]})]})]}),r.jsx(Yn,{open:u,onClose:()=>f(!1),toUserId:e==null?void 0:e.userId,toName:((vt=e==null?void 0:e.user)==null?void 0:vt.name)||(e==null?void 0:e.userName)||"User",onSent:se}),r.jsx(is,{open:w,onClose:()=>j(!1),title:"Report this moment?",text:"Tell us what's happening. Our team will review.",confirmText:"Submit report",cancelText:"Cancel",withInput:!0,inputType:"textarea",inputLabel:"Report details",inputPlaceholder:"Describe the issue (spam, scam, offensive, etc.)",requireValue:!0,onConfirm:Te}),r.jsx(_d,{open:C,onClose:()=>M(!1),entityType:"moment",entityId:e==null?void 0:e.id,currentUser:i,onCountChange:Ge=>x(Ge)}),r.jsx(Td,{open:N,onClose:()=>L(!1),entityType:"moment",entityId:e==null?void 0:e.id}),r.jsx(Ame,{momentId:e==null?void 0:e.id,isOpen:A,onClose:()=>H(!1),item:e})]});function De(){const Ge=h||(e==null?void 0:e.connectionStatus)||"none";return Ge==="connected"?r.jsx("button",{className:"flex-1 px-4 py-2 rounded-full bg-green-100 text-green-700 font-medium text-sm",children:"Connected"}):Ge==="pending_outgoing"||Ge==="outgoing_pending"?r.jsx("button",{className:"flex-1 px-4 py-2 rounded-full bg-yellow-100 text-yellow-700 font-medium text-sm",children:"Pending"}):Ge==="pending_incoming"||Ge==="incoming_pending"?r.jsx("button",{onClick:()=>l("/notifications"),className:"flex-1 px-4 py-2 rounded-full bg-brand-100 text-brand-600 hover:bg-brand-200 font-medium text-sm transition-colors",children:"Respond"}):i!=null&&i.id?r.jsx("button",{onClick:()=>f(!0),className:"flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors border-2 border-brand-600 text-brand-600 hover:bg-brand-50",children:"Connect"}):r.jsx("button",{onClick:()=>c._showPopUp("login_prompt"),className:"flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors border-2 border-brand-600 text-brand-600 hover:bg-brand-50",children:"Connect"})}}function Dme(e){if(!e)return"";const t=new Date(e).getTime(),n=Date.now(),s=Math.floor((n-t)/1e3);if(s<60)return"Just now";const a=Math.floor(s/60);if(a<60)return`${a} min${a>1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i>1?"s":""} ago`;const o=Math.floor(i/24);if(o<30)return`${o} day${o>1?"s":""} ago`;const l=Math.floor(o/30);if(l<12)return`${l} month${l>1?"s":""} ago`;const c=Math.floor(l/12);return`${c} year${c>1?"s":""} ago`}function LO(e,t){return e&&t?`${e}, ${t}`:e||t||""}function Rg({children:e,tone:t="brand"}){const n={brand:"bg-brand-50 text-brand-600",green:"bg-green-100 text-green-700",gray:"bg-gray-100 text-gray-700",blue:"bg-blue-100 text-blue-700"};return r.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] ${n[t]||n.gray}`,children:e})}function Nl({title:e,icon:t,children:n}){return r.jsxs("div",{className:"mt-5 text-left",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t?r.jsx(t,{size:16,className:"text-brand-600"}):null,r.jsx("h3",{className:"font-medium text-sm",children:e})]}),n]})}function Rme({experienceId:e,isOpen:t,onClose:n}){var I,C,M,A,H,W,X,J,Z,F;const[s,a]=d.useState(!1),[i,o]=d.useState(!1),[l,c]=d.useState(null),[u,f]=d.useState(""),[h,g]=d.useState(0),[m,p]=d.useState(!1),v=d.useRef(null),b=d.useRef(null),y=d.useRef(null),x=yr(),{user:w}=Xt(),j=Ht();d.useEffect(()=>{function D(T){b.current&&v.current&&!b.current.contains(T.target)&&!v.current.contains(T.target)&&p(!1)}function O(T){T.key==="Escape"&&p(!1)}return document.addEventListener("mousedown",D),document.addEventListener("keydown",O),()=>{document.removeEventListener("mousedown",D),document.removeEventListener("keydown",O)}},[]),d.useEffect(()=>{if(!t){c(null),f("");return}if(!e)return;let D=!0;function O(){return pe(this,null,function*(){o(!0),f(""),c(null);try{const{data:T}=yield Se.get(`/tourism/${e}`);D&&c(T)}catch(T){console.error("Error fetching experience details:",T),D&&f("Failed to load experience details.")}finally{D&&o(!1)}})}return O(),()=>{D=!1}},[t,e]);function N(){oe.success("Connection request sent"),a(!1)}function L(){var D;(D=l==null?void 0:l.images)!=null&&D.length&&g(O=>(O+1)%l.images.length)}function k(){var D;(D=l==null?void 0:l.images)!=null&&D.length&&g(O=>(O-1+l.images.length)%l.images.length)}if(!t)return null;const E=((I=l==null?void 0:l.images)==null?void 0:I[h])||null,S=(((C=l==null?void 0:l.author)==null?void 0:C.name)||"?").split(" ").map(D=>D[0]).join("").slice(0,2).toUpperCase();return r.jsxs("div",{className:"fixed z-[99] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[r.jsxs("div",{ref:y,className:"bg-white z-[99] w-full max-w-2xl rounded-2xl shadow-xl flex flex-col max-h-[85vh] overflow-hidden relative",children:[r.jsxs("div",{className:"bg-brand-500 p-4 flex justify-between items-center",children:[r.jsx("div",{className:"text-white font-medium",children:"Experience Details"}),r.jsx("button",{onClick:()=>{var D;n(),(D=x._closeAllPopUps)==null||D.call(x)},className:"text-white hover:text-brand-100",children:r.jsx(Sr,{size:20})})]}),r.jsx("div",{className:"p-6 overflow-y-auto",children:i?r.jsx(Ad,{}):u?r.jsx("div",{className:"text-sm text-red-600",children:u}):l?r.jsxs(r.Fragment,{children:[((M=l.images)==null?void 0:M.length)>0&&r.jsx("div",{className:"relative mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:E,alt:l.title,className:"w-full h-64 object-cover bg-gray-50 rounded-lg"}),l.images.length>1&&r.jsxs("div",{className:"absolute inset-x-0 bottom-0 flex justify-between p-2",children:[r.jsx("button",{onClick:k,className:"p-2 rounded-full bg-white/80 backdrop-blur-sm shadow-lg hover:bg-white",children:""}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-full px-3 py-1 text-xs",children:[h+1," / ",l.images.length]}),r.jsx("button",{onClick:L,className:"p-2 rounded-full bg-white/80 backdrop-blur-sm shadow-lg hover:bg-white",children:""})]})]})}),r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:l.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-600",children:[r.jsx(ki,{size:16}),r.jsx("span",{children:Dme(l.createdAt)}),l.location&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mx-1",children:""}),r.jsx(Hr,{size:16}),r.jsx("span",{children:LO(l.location,l.country)})]})]})]})}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:l.postType&&r.jsx(Rg,{tone:"brand",children:l.postType})}),r.jsx(Nl,{title:"Posted By",icon:sn,children:r.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border border-gray-100 hover:border-brand-200",onClick:()=>{var D;l!=null&&l.authorUserId&&(x._showPopUp("profile"),(D=x._setProfileUserId)==null||D.call(x,l.authorUserId))},children:[(A=l.author)!=null&&A.avatarUrl?r.jsx("img",{src:l.author.avatarUrl,alt:l.author.name,className:"w-10 h-10 rounded-full object-cover"}):r.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-brand-600 font-medium",children:S})}),r.jsx("div",{children:r.jsx("div",{className:"font-medium",children:((H=l.author)==null?void 0:H.name)||"Experience Author"})})]})}),r.jsx(Nl,{title:"Description",icon:cs,children:r.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:l.description||"No description provided."})}),(l.location||l.country)&&r.jsx(Nl,{title:"Location",icon:Hr,children:r.jsx("p",{className:"text-sm text-gray-700",children:LO(l.location,l.country)})}),l.season&&r.jsx(Nl,{title:"Best Season to Visit",icon:Oh,children:r.jsx("p",{className:"text-sm text-gray-700",children:l.season})}),l.budgetRange&&r.jsx(Nl,{title:"Budget Range",icon:jue,children:r.jsx("p",{className:"text-sm text-gray-700",children:l.budgetRange})}),((W=l.tags)==null?void 0:W.length)>0&&r.jsx(Nl,{title:"Tags",icon:kd,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:l.tags.map((D,O)=>r.jsx(Rg,{tone:"gray",children:D},`tag-${O}`))})}),((X=l.audienceCategories)==null?void 0:X.length)>0&&r.jsx(Nl,{title:"Categories",icon:ys,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:l.audienceCategories.map((D,O)=>r.jsx(Rg,{tone:"brand",children:D.name},`cat-${O}`))})}),((J=l.audienceSubcategories)==null?void 0:J.length)>0&&r.jsx(Nl,{title:"Subcategories",icon:ys,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:l.audienceSubcategories.map((D,O)=>r.jsx(Rg,{tone:"gray",children:D.name},`subcat-${O}`))})}),((Z=l.audienceIdentities)==null?void 0:Z.length)>0&&r.jsx(Nl,{title:"Target Audience",icon:sn,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:l.audienceIdentities.map((D,O)=>r.jsx(Rg,{tone:"blue",children:D.name},`identity-${O}`))})}),r.jsxs("div",{className:"flex gap-3 mt-6 relative",children:[r.jsxs("button",{ref:b,onClick:D=>{D.stopPropagation(),p(O=>!O)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[r.jsx(js,{size:18}),"Share"]}),l.authorUserId!==(w==null?void 0:w.id)&&r.jsxs("button",{onClick:()=>{if(!(w!=null&&w.id)){x._showPopUp("login_prompt");return}a(!0)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[r.jsx(sn,{size:18}),"Connect"]}),r.jsx("button",{onClick:()=>{var D;if(!(w!=null&&w.id)){x._showPopUp("login_prompt");return}n(),j(`/messages?userId=${l.authorUserId}`),oe.success("Starting conversation with "+(((D=l.author)==null?void 0:D.name)||"experience author"))},className:"flex-1 rounded-lg px-4 py-2 text-sm font-medium bg-brand-500 text-white hover:bg-brand-700 active:bg-brand-800 flex items-center justify-center gap-2 transition-all duration-200 shadow-sm hover:shadow-md",children:"Message"}),m&&r.jsx(Fme,{experience:l,shareMenuRef:v,setShareOpen:p})]})]}):r.jsx("div",{className:"text-sm text-gray-600",children:"No experience details available."})})]}),r.jsx(Yn,{open:s,onClose:()=>a(!1),toUserId:l==null?void 0:l.authorUserId,toName:((F=l==null?void 0:l.author)==null?void 0:F.name)||"Experience Author",onSent:N})]})}const Fme=({experience:e,shareMenuRef:t,setShareOpen:n})=>{var c,u;const s=`${window.location.origin}/experience/${e==null?void 0:e.id}`,a=(e==null?void 0:e.title)||"Experience on 54Links",i=((e==null?void 0:e.description)||"").slice(0,160)+(((e==null?void 0:e.description)||"").length>160?"":""),o=["54Links","Travel","Experiences"].filter(Boolean),l=((u=(c=import.meta)==null?void 0:c.env)==null?void 0:u.VITE_FACEBOOK_APP_ID)||void 0;return r.jsxs("div",{ref:t,className:"absolute bottom-14 left-0 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this experience"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx(Ps,{url:s,title:a,separator:"  ",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx($s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),r.jsx(Ls,{url:s,quote:i,hashtag:"#54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Cs,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),r.jsx(Is,{url:s,title:a,summary:i,source:"54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ms,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),r.jsx(Os,{url:s,title:a,hashtags:o,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(_s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),r.jsx(As,{url:s,title:a,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ts,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),r.jsx(Ss,{url:s,subject:a,body:i+`

`+s,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ns,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),l&&r.jsx(Es,{url:s,appId:l,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(ks,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),r.jsx("div",{className:"mt-2",children:r.jsx(Bme,{shareUrl:s,setShareOpen:n})})]})},Bme=({shareUrl:e,setShareOpen:t})=>r.jsxs("button",{onClick:()=>pe(void 0,null,function*(){try{yield navigator.clipboard.writeText(e),oe.success("Link copied"),t(!1)}catch(n){oe.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[r.jsx(ws,{size:16}),"Copy link"]}),zme=e=>!e||typeof e!="string"?!1:e.startsWith("data:")||e.startsWith("http://")||e.startsWith("https://"),Ume=e=>{if(!e)return"";const t=e.match(/\.([a-zA-Z0-9]+)(?:\?|$)/);return t?t[1].toLowerCase():""},Wme=e=>{if(!e)return"unknown";if(e.startsWith("data:"))return e.startsWith("data:image")?"image":e.startsWith("data:video")?"video":"unknown";const t=Ume(e),n=["mp4","webm","ogg","mov","avi","mkv"],s=["jpg","jpeg","png","gif","webp","bmp","svg"];return n.includes(t)?"video":s.includes(t)?"image":"unknown"};function Hme(e,t){if(e)return e;if(!t)return"";const n=Date.now()-new Date(t).getTime(),s=Math.floor(n/6e4);if(s<60)return`${s} min${s!==1?"s":""} ago`;const a=Math.floor(s/60);if(a<24)return`${a} hour${a!==1?"s":""} ago`;const i=Math.floor(a/24);return`${i} day${i!==1?"s":""} ago`}function gw({item:e,type:t="grid",matchPercentage:n=20}){var Be,dt,nt;const s=Ht(),a=yr(),{user:i,settings:o}=Xt(),[l,c]=d.useState(!1),[u,f]=d.useState((e==null?void 0:e.connectionStatus)||"none"),[h,g]=d.useState(!1),[m,p]=d.useState(!1),[v,b]=d.useState(!!(e!=null&&e.isLiked)),[y,x]=d.useState(Number(e.likesCount||0)),[w,j]=d.useState(Number((e==null?void 0:e.commentsCount)||0)),[N,L]=d.useState(!1),[k,E]=d.useState(!1),[S,I]=d.useState(0),[C,M]=d.useState(!1),[A,H]=d.useState(!1),[W,X]=d.useState(!1),J=d.useRef(null),Z=d.useRef(null),[F,D]=d.useState(!1),[O,T]=d.useState(!1),[R,z]=d.useState(!1),_=d.useRef(null),U=()=>r.jsx("div",{ref:_,className:"absolute z-30 w-48 rounded-xl border border-gray-200 bg-white p-2 shadow-xl top-12 right-3",role:"dialog","aria-label":"Options menu",children:O?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-900 border-b border-gray-200 mb-2",children:"Delete this experience?"}),r.jsxs("button",{onClick:()=>pe(this,null,function*(){var Te,lt;try{yield Se.delete(`/tourism/${e.id}`),oe.success("Experience deleted successfully"),z(!0)}catch(_e){console.error("Failed to delete experience:",_e),oe.error(((lt=(Te=_e==null?void 0:_e.response)==null?void 0:Te.data)==null?void 0:lt.message)||"Failed to delete experience")}D(!1),T(!1)}),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors mb-1",children:[r.jsx(On,{size:16}),"Confirm Delete"]}),r.jsx("button",{onClick:()=>T(!1),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>{s(`/experience/${e.id}`),D(!1)},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors mb-1",children:[r.jsx(Ql,{size:16}),"Edit"]}),r.jsxs("button",{onClick:()=>T(!0),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[r.jsx(On,{size:16}),"Delete"]})]})}),Q=d.useRef(null);d.useEffect(()=>{function Te(_e){var be;J.current&&!J.current.contains(_e.target)&&!((be=Z.current)!=null&&be.contains(_e.target))&&X(!1),_.current&&!_.current.contains(_e.target)&&(D(!1),T(!1))}function lt(_e){_e.key==="Escape"&&(X(!1),D(!1),T(!1))}return document.addEventListener("mousedown",Te),document.addEventListener("keydown",lt),()=>{document.removeEventListener("mousedown",Te),document.removeEventListener("keydown",lt)}},[]),d.useEffect(()=>()=>{Q.current&&clearTimeout(Q.current)},[]),d.useEffect(()=>{e!=null&&e.id&&(cw("experience",e.id).then(({data:Te})=>{b(Te.liked),x(Te.count)}).catch(()=>{}),cx("experience",e.id).then(({data:Te})=>{const lt=Array.isArray(Te)?Te.length:0;j(lt)}).catch(()=>{}))},[e==null?void 0:e.id]);const re=!!(i!=null&&i.id)&&(e==null?void 0:e.authorUserId)===i.id,le=t==="list";console.log({isOwner:re});const ge=(()=>{const Te=(e==null?void 0:e.images)||[],lt=[];return Te.forEach((_e,be)=>{let Y=(_e==null?void 0:_e.base64url)||_e||null;if(Y&&!Y.startsWith("data:")&&!Y.startsWith("http")&&(Y=`${gn}/uploads/${Y}`),zme(Y)){const ie=Wme(Y);(ie==="image"||ie==="video")&&lt.push({url:Y,type:ie,name:`media-${be}`})}}),lt.sort((_e,be)=>_e.type==="video"&&be.type!=="video"?-1:_e.type!=="video"&&be.type==="video"?1:0)})(),ke=ge.length>1,tt=ge[S],He=(tt==null?void 0:tt.type)==="video",ze=["Tourism",...Array.isArray(e==null?void 0:e.audienceCategories)?e==null?void 0:e.audienceCategories.map(Te=>Te.name):[],...Array.isArray(e==null?void 0:e.tags)?e.tags.filter(Boolean):[]],rt=ze.slice(0,2),Xe=Math.max(0,ze.length-rt.length),V=d.useMemo(()=>Hme(e==null?void 0:e.timeAgo,e==null?void 0:e.createdAt),[e==null?void 0:e.timeAgo,e==null?void 0:e.createdAt]);function ne(){c(!1),f("pending_outgoing")}const Ce=()=>{M(!C),H(!0),Q.current&&clearTimeout(Q.current),Q.current=setTimeout(()=>{H(!1)},3e3)},fe=()=>{M(!0),H(!0),Q.current&&clearTimeout(Q.current),Q.current=setTimeout(()=>{H(!1)},3e3)},xe=()=>{M(!1),H(!0),Q.current&&clearTimeout(Q.current)},se=Te=>{He?(Te.stopPropagation(),Ce()):re?s(`/experience/${e.id}`):g(!0)};le&&(o==null||o.contentType);const ae=()=>pe(this,null,function*(){var Te;if(!(i!=null&&i.id)){(Te=a._showPopUp)==null||Te.call(a,"login_prompt");return}b(lt=>!lt),x(lt=>v?Math.max(0,lt-1):lt+1);try{const{data:lt}=yield Md("experience",e.id);b(lt.liked),x(lt.count)}catch(lt){b(_e=>!_e),x(_e=>v?_e+1:Math.max(0,_e-1))}}),G=Te=>pe(this,null,function*(){try{yield Id("experience",e.id,"other",Te),oe.success("Report submitted. Thank you.")}catch(lt){oe.success("Report submitted. Thank you.")}});return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 overflow-hidden ${R?"hidden":""}`,children:[r.jsxs("div",{className:"px-4 pt-3 pb-2 flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsx("div",{className:"cursor-pointer flex-shrink-0",onClick:Te=>{Te.stopPropagation(),e!=null&&e.authorUserId&&s(`/profile/${e.authorUserId}`)},children:e!=null&&e.avatarUrl?r.jsx("div",{className:`flex bg-white items-center justify-center w-20 h-20 ${((Be=e==null?void 0:e.author)==null?void 0:Be.accountType)==="company"?"rounded":"rounded-full"} border border-gray-300 overflow-hidden`,children:r.jsx("img",{src:e.avatarUrl,alt:(e==null?void 0:e.authorUserName)||"User",className:"w-full h-full",style:{objectFit:"contain"}})}):r.jsx("div",{className:`w-20 h-20 bg-gray-200 flex items-center justify-center ${((dt=e==null?void 0:e.author)==null?void 0:dt.accountType)==="company"?"rounded":"rounded-full"} border border-gray-100`,children:r.jsx(ka,{size:24,className:"text-gray-400"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-semibold text-sm text-gray-900 hover:underline cursor-pointer",onClick:Te=>{Te.stopPropagation(),e!=null&&e.authorUserId&&s(`/profile/${e.authorUserId}`)},children:(e==null?void 0:e.authorUserName)||"User"}),r.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:((nt=e==null?void 0:e.profile)==null?void 0:nt.professionalTitle)||"Experience Author"}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5",children:[r.jsx("span",{children:V}),r.jsx("span",{children:""}),r.jsx(no,{size:12})]})]})]}),r.jsxs("div",{className:"relative flex-shrink-0",children:[re&&r.jsx("button",{onClick:Te=>{Te.stopPropagation(),D(lt=>!lt)},className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors","aria-label":"More options",children:r.jsx(Fo,{size:20,className:"text-gray-600"})}),F&&r.jsx(U,{})]})]}),r.jsxs("div",{className:"px-4 pb-3",children:[r.jsx("h3",{className:"font-semibold text-base text-gray-900 mb-1 hover:text-brand-600 cursor-pointer transition-colors",onClick:()=>{re?s(`/experience/${e.id}`):g(!0)},children:e==null?void 0:e.title}),r.jsx("div",{className:"text-sm text-gray-700 mb-2",children:r.jsx("div",{className:"line-clamp-3",children:e==null?void 0:e.description})})]}),(o==null?void 0:o.contentType)!=="text"&&ge.length>0&&r.jsxs("div",{className:"relative",children:[r.jsx("div",{onClick:se,className:"relative w-full max-h-96 overflow-hidden cursor-pointer",children:ke?r.jsx("div",{className:"flex w-full h-full transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${S*100}%)`},children:ge.map((Te,lt)=>r.jsx("div",{className:"flex-shrink-0 w-full h-96 relative",children:Te.type==="video"?r.jsx("div",{className:"relative w-full h-full bg-black",children:r.jsx(Ta,{src:Te.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:lt===S&&C,onPlay:fe,onPause:xe})}):r.jsx("img",{src:Te.url,alt:Te.name||`Media ${lt+1}`,className:"w-full h-96 object-cover"})},lt))}):r.jsx("div",{className:"w-full h-96 relative",children:tt.type==="video"?r.jsx("div",{className:"relative w-full h-full bg-black",children:r.jsx(Ta,{src:tt.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:C,onPlay:fe,onPause:xe})}):r.jsx("img",{src:tt.url,alt:tt.name||"Media",className:"w-full h-96 object-cover"})})}),ke&&r.jsx("div",{className:"absolute bottom-3 right-3 flex gap-1",children:ge.map((Te,lt)=>r.jsx("button",{onClick:_e=>{_e.stopPropagation(),I(lt),Te.type==="video"?(M(!1),H(!0)):(M(!1),H(!1))},className:`w-[10px] h-[10px] rounded-full border border-gray-300 transition-colors ${lt===S?Te.type==="video"?"bg-blue-500":"bg-white":"bg-white/50"}`,"aria-label":`Go to ${Te.type} ${lt+1}`},lt))})]}),r.jsxs("div",{className:"flex justify-between px-4 pt-3 pb-3",children:[!!rt.length&&r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex flex-wrap gap-1.5 flex-1",children:[rt.map(Te=>r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-brand-500",children:["#",Te.replace(/\s+/g,"")]},Te)),Xe>0&&r.jsxs("div",{className:"relative inline-block group/tags",children:[r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium text-gray-600 bg-gray-100 cursor-help",children:["+",Xe," more"]}),r.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/tags:opacity-100 group-hover/tags:visible z-10 whitespace-nowrap max-w-xs",children:[r.jsx("div",{className:"flex flex-wrap gap-1",children:ze.slice(2).map((Te,lt)=>r.jsxs("span",{className:"inline-block",children:["#",Te.replace(/\s+/g,""),lt<ze.length-3?",":""]},lt))}),r.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]})}),r.jsx("div",{children:n>0&&r.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${n>=80?"bg-green-100 text-green-700 border border-green-200":n>=60?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:[n,"% match"]})})]}),(y>0||w>0)&&r.jsxs("div",{className:"px-4 py-2 flex items-center justify-between text-xs text-gray-500 border-t border-gray-100",children:[r.jsx("div",{className:"flex items-center gap-1",children:y>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"flex -space-x-1",children:r.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center",children:r.jsx(os,{size:10,className:"text-white fill-white"})})}),r.jsxs("button",{onClick:()=>p(!0),className:"hover:underline cursor-pointer",children:[y," ",y===1?"like":"likes"]})]})}),r.jsx("div",{className:"flex items-center gap-3",children:w>0&&r.jsxs("button",{onClick:()=>E(!0),className:"hover:underline",children:[w," comment",w!==1?"s":""]})})]}),r.jsxs("div",{className:"px-2 py-1 border-t border-gray-100 grid grid-cols-4 gap-1",children:[r.jsxs("button",{onClick:ae,className:`flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium ${v?"text-blue-600":"text-gray-600"}`,children:[r.jsx(os,{size:20,className:v?"fill-blue-600":""}),r.jsx("span",{className:"max-sm:hidden",children:"Like"})]}),r.jsxs("button",{onClick:()=>E(!0),className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(cs,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Comment"})]}),r.jsxs("button",{onClick:()=>{var Te;if(i!=null&&i.id)L(!0);else{(Te=a._showPopUp)==null||Te.call(a,"login_prompt");return}},className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(ro,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Report"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:Te=>{Te.stopPropagation(),X(lt=>!lt)},className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(js,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Share"})]}),W&&r.jsx(Vme,{item:e,shareMenuRef:J,setShareOpen:X})]})]}),!re&&r.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[r.jsx(Hr,{size:14}),r.jsx("span",{children:e!=null&&e.location?`${e.location}${e!=null&&e.country?`, ${e.country}`:""}`:(e==null?void 0:e.country)||""})]}),(e==null?void 0:e.season)&&r.jsxs("div",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-medium",children:"Best season:"})," ",e.season]}),(e==null?void 0:e.budgetRange)&&r.jsxs("div",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-medium",children:"Budget:"})," ",e.budgetRange]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[r.jsx("button",{onClick:()=>{if(!(i!=null&&i.id)){a._showPopUp("login_prompt");return}s(`/messages?userId=${e.authorUserId}`),oe.success("Starting conversation with "+(e.authorUserName||"experience author"))},className:"flex-1 px-4 py-2 rounded-full bg-brand-600 text-white font-medium text-sm hover:bg-brand-700 transition-colors",children:"Message"}),u!=="connected"&&Ne()]})]})]}),r.jsx(Yn,{open:l,onClose:()=>c(!1),toUserId:e==null?void 0:e.authorUserId,toName:(e==null?void 0:e.authorUserName)||"Experience Author",onSent:ne}),r.jsx(Rme,{experienceId:e==null?void 0:e.id,isOpen:h,onClose:()=>g(!1)}),r.jsx(Td,{open:m,onClose:()=>p(!1),entityType:"experience",entityId:e==null?void 0:e.id}),r.jsx(is,{open:N,onClose:()=>L(!1),title:"Report this experience?",text:"Tell us what's happening. Our team will review.",confirmText:"Submit report",cancelText:"Cancel",withInput:!0,inputType:"textarea",inputLabel:"Report details",inputPlaceholder:"Describe the issue (spam, scam, offensive, etc.)",requireValue:!0,onConfirm:G}),r.jsx(_d,{open:k,onClose:()=>E(!1),entityType:"experience",entityId:e==null?void 0:e.id,currentUser:i,onCountChange:Te=>j(Te)})]});function Ne(){var lt;const Te=(lt=u||(e==null?void 0:e.connectionStatus)||"none")==null?void 0:lt.toLowerCase();return Te==="connected"?r.jsx("button",{className:"flex-1 px-4 py-2 rounded-full bg-green-100 text-green-700 font-medium text-sm",children:"Connected"}):Te==="pending_outgoing"||Te==="outgoing_pending"||Te==="pending"?r.jsx("button",{className:"flex-1 px-4 py-2 rounded-full bg-yellow-100 text-yellow-700 font-medium text-sm",children:"Pending"}):Te==="pending_incoming"||Te==="incoming_pending"?r.jsx("button",{onClick:()=>s("/notifications"),className:"flex-1 px-4 py-2 rounded-full bg-brand-100 text-brand-600 hover:bg-brand-200 font-medium text-sm transition-colors",children:"Respond"}):i!=null&&i.id?r.jsx("button",{onClick:()=>c(!0),className:"flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors border-2 border-brand-600 text-brand-600 hover:bg-brand-50",children:"Connect"}):r.jsx("button",{onClick:()=>a._showPopUp("login_prompt"),className:"flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors border-2 border-brand-600 text-brand-600 hover:bg-brand-50",children:"Connect"})}}const Vme=({item:e,shareMenuRef:t,setShareOpen:n})=>{var c,u;const s=`${window.location.origin}/experience/${e==null?void 0:e.id}`,a=(e==null?void 0:e.title)||"Experience on 54Links",i=((e==null?void 0:e.description)||"").slice(0,160)+(((e==null?void 0:e.description)||"").length>160?"":""),o=["54Links","Tourism","Travel","Experience"].filter(Boolean),l=((u=(c=import.meta)==null?void 0:c.env)==null?void 0:u.VITE_FACEBOOK_APP_ID)||void 0;return r.jsxs("div",{ref:t,className:"absolute bottom-0 right-3 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this experience"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx(Ps,{url:s,title:a,separator:"  ",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx($s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),r.jsx(Ls,{url:s,quote:i,hashtag:"#54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Cs,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),r.jsx(Is,{url:s,title:a,summary:i,source:"54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ms,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),r.jsx(Os,{url:s,title:a,hashtags:o,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(_s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),r.jsx(As,{url:s,title:a,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ts,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),r.jsx(Ss,{url:s,subject:a,body:i+`

`+s,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ns,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),l&&r.jsx(Es,{url:s,appId:l,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(ks,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),r.jsx("div",{className:"mt-2",children:r.jsx(Gme,{shareUrl:s,setShareOpen:n})})]})},Gme=({shareUrl:e,setShareOpen:t})=>r.jsxs("button",{onClick:()=>pe(void 0,null,function*(){try{yield navigator.clipboard.writeText(e),oe.success("Link copied"),t(!1)}catch(n){oe.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[r.jsx(ws,{size:16}),"Copy link"]});function qme(e){if(!e)return"";const t=new Date(e).getTime(),n=Date.now(),s=Math.floor((n-t)/1e3);if(s<60)return"Just now";const a=Math.floor(s/60);if(a<60)return`${a} min${a>1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i>1?"s":""} ago`;const o=Math.floor(i/24);if(o<30)return`${o} day${o>1?"s":""} ago`;const l=Math.floor(o/30);if(l<12)return`${l} month${l>1?"s":""} ago`;const c=Math.floor(l/12);return`${c} year${c>1?"s":""} ago`}function Yme(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):""}function Jme(e){if(!e)return null;const t=new Date,n=new Date(e),s=Math.ceil((n-t)/(1e3*60*60*24));return s>0?s:0}function Fg({children:e,tone:t="brand"}){const n={brand:"bg-brand-50 text-brand-600",green:"bg-green-100 text-green-700",gray:"bg-gray-100 text-gray-700",blue:"bg-blue-100 text-blue-700"};return r.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] ${n[t]||n.gray}`,children:e})}function li({title:e,icon:t,children:n}){return r.jsxs("div",{className:"mt-5 text-left",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t?r.jsx(t,{size:16,className:"text-brand-600"}):null,r.jsx("h3",{className:"font-medium text-sm",children:e})]}),n]})}function Zme({value:e}){return r.jsx("div",{className:"w-full h-2 rounded-full bg-gray-100 overflow-hidden",children:r.jsx("div",{className:"h-full rounded-full bg-brand-500",style:{width:`${Math.min(100,e)}%`}})})}function Qme({crowdfundId:e,isOpen:t,onClose:n}){var W,X,J,Z,F,D,O,T,R,z;const[s,a]=d.useState(!1),[i,o]=d.useState(!1),[l,c]=d.useState(null),[u,f]=d.useState(""),[h,g]=d.useState(0),[m,p]=d.useState(!1),v=d.useRef(null),b=d.useRef(null),y=d.useRef(null),x=yr(),{user:w}=Xt(),j=Ht();d.useEffect(()=>{function _(Q){b.current&&v.current&&!b.current.contains(Q.target)&&!v.current.contains(Q.target)&&p(!1)}function U(Q){Q.key==="Escape"&&p(!1)}return document.addEventListener("mousedown",_),document.addEventListener("keydown",U),()=>{document.removeEventListener("mousedown",_),document.removeEventListener("keydown",U)}},[]),d.useEffect(()=>{if(!t){c(null),f("");return}if(!e)return;let _=!0;function U(){return pe(this,null,function*(){o(!0),f(""),c(null);try{const{data:Q}=yield Se.get(`/funding/projects/${e}`);_&&c(Q)}catch(Q){console.error("Error fetching crowdfund details:",Q),_&&f("Failed to load crowdfund details.")}finally{_&&o(!1)}})}return U(),()=>{_=!1}},[t,e]);function N(){oe.success("Connection request sent"),a(!1)}function L(){var _;(_=l==null?void 0:l.images)!=null&&_.length&&g(U=>(U+1)%l.images.length)}function k(){var _;(_=l==null?void 0:l.images)!=null&&_.length&&g(U=>(U-1+l.images.length)%l.images.length)}if(!t)return null;const E=(W=l==null?void 0:l.images)==null?void 0:W[h],S=E?typeof E=="string"?E:E.base64url||E:null,I=parseFloat((l==null?void 0:l.raised)||0),C=parseFloat((l==null?void 0:l.goal)||0),M=C>0?Math.min(100,I/C*100):0,A=Jme(l==null?void 0:l.deadline),H=(((X=l==null?void 0:l.creator)==null?void 0:X.name)||"?").split(" ").map(_=>_[0]).join("").slice(0,2).toUpperCase();return r.jsxs("div",{className:"fixed z-[99] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[r.jsxs("div",{ref:y,className:"bg-white z-[99] w-full max-w-2xl rounded-2xl shadow-xl flex flex-col max-h-[85vh] overflow-hidden relative",children:[r.jsxs("div",{className:"bg-brand-500 p-4 flex justify-between items-center",children:[r.jsx("div",{className:"text-white font-medium",children:"Crowdfunding Project Details"}),r.jsx("button",{onClick:()=>{var _;n(),(_=x._closeAllPopUps)==null||_.call(x)},className:"text-white hover:text-brand-100",children:r.jsx(Sr,{size:20})})]}),r.jsx("div",{className:"p-6 overflow-y-auto",children:i?r.jsx(Ad,{}):u?r.jsx("div",{className:"text-sm text-red-600",children:u}):l?r.jsxs(r.Fragment,{children:[((J=l.images)==null?void 0:J.length)>0&&r.jsx("div",{className:"relative mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:S,alt:l.title,className:"w-full h-64 object-cover bg-gray-50 rounded-lg"}),l.images.length>1&&r.jsxs("div",{className:"absolute inset-x-0 bottom-0 flex justify-between p-2",children:[r.jsx("button",{onClick:k,className:"p-2 rounded-full bg-white/80 backdrop-blur-sm shadow-lg hover:bg-white",children:""}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-full px-3 py-1 text-xs",children:[h+1," / ",l.images.length]}),r.jsx("button",{onClick:L,className:"p-2 rounded-full bg-white/80 backdrop-blur-sm shadow-lg hover:bg-white",children:""})]})]})}),r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:l.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-600",children:[r.jsx(ki,{size:16}),r.jsx("span",{children:qme(l.createdAt)}),(l.city||l.country)&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mx-1",children:""}),r.jsx(Hr,{size:16}),r.jsxs("span",{children:[l.city?`${l.city}, `:"",l.country||""]})]})]})]})}),l.category&&r.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:r.jsx(Fg,{tone:"brand",children:l.category.name})}),r.jsx(li,{title:"Funding Progress",icon:Cd,children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(Zme,{value:M}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-semibold",children:[l.currency," ",Number.isFinite(I)?I.toLocaleString():"0"]})," ","raised"]}),r.jsxs("div",{children:["of"," ",r.jsxs("span",{className:"font-semibold",children:[l.currency," ",Number.isFinite(C)?C.toLocaleString():"0"]})," ","goal"]}),A!==null&&r.jsxs("div",{className:"text-gray-500",children:[" ",A," days left"]})]})]})}),r.jsx(li,{title:"Creator",icon:sn,children:r.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border border-gray-100 hover:border-brand-200",onClick:()=>{var _;l!=null&&l.creatorUserId&&(x._showPopUp("profile"),(_=x._setProfileUserId)==null||_.call(x,l.creatorUserId))},children:[r.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-brand-600 font-medium",children:H})}),r.jsx("div",{children:r.jsx("div",{className:"font-medium",children:((Z=l.creator)==null?void 0:Z.name)||"Project Creator"})})]})}),r.jsx(li,{title:"Project Pitch",icon:cs,children:r.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:l.pitch||"No description provided."})}),l.deadline&&r.jsx(li,{title:"Deadline",icon:Oh,children:r.jsxs("p",{className:"text-sm text-gray-700",children:[Yme(l.deadline),A!==null&&A>0&&` (${A} days left)`]})}),(l.city||l.country)&&r.jsx(li,{title:"Location",icon:Hr,children:r.jsxs("p",{className:"text-sm text-gray-700",children:[l.city?`${l.city}, `:"",l.country||""]})}),l.rewards&&r.jsx(li,{title:"Rewards",icon:Jle,children:r.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:l.rewards})}),l.team&&r.jsx(li,{title:"Team",icon:lx,children:r.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:l.team})}),(l.email||l.phone)&&r.jsxs(li,{title:"Contact Information",icon:dh,children:[l.email&&r.jsxs("p",{className:"text-sm text-gray-700 flex items-center gap-2 mb-1",children:[r.jsx(dh,{size:14,className:"text-gray-500"}),r.jsx("a",{href:`mailto:${l.email}`,className:"hover:underline text-brand-600",children:l.email})]}),l.phone&&r.jsxs("p",{className:"text-sm text-gray-700 flex items-center gap-2",children:[r.jsx(_H,{size:14,className:"text-gray-500"}),r.jsx("a",{href:`tel:${l.phone}`,className:"hover:underline text-brand-600",children:l.phone})]})]}),((F=l.links)==null?void 0:F.length)>0&&r.jsx(li,{title:"Links",icon:ob,children:r.jsx("div",{className:"space-y-1",children:l.links.map((_,U)=>r.jsxs("p",{className:"text-sm text-gray-700 flex items-center gap-2",children:[r.jsx(ob,{size:14,className:"text-gray-500"}),r.jsx("a",{href:_,target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-brand-600 truncate",children:_})]},`link-${U}`))})}),((D=l.tags)==null?void 0:D.length)>0&&r.jsx(li,{title:"Tags",icon:kd,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:l.tags.map((_,U)=>r.jsx(Fg,{tone:"gray",children:_},`tag-${U}`))})}),((O=l.audienceCategories)==null?void 0:O.length)>0&&r.jsx(li,{title:"Target Categories",icon:ys,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:l.audienceCategories.map((_,U)=>r.jsx(Fg,{tone:"brand",children:_.name},`cat-${U}`))})}),((T=l.audienceSubcategories)==null?void 0:T.length)>0&&r.jsx(li,{title:"Target Subcategories",icon:ys,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:l.audienceSubcategories.map((_,U)=>r.jsx(Fg,{tone:"gray",children:_.name},`subcat-${U}`))})}),((R=l.audienceIdentities)==null?void 0:R.length)>0&&r.jsx(li,{title:"Target Audience",icon:sn,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:l.audienceIdentities.map((_,U)=>r.jsx(Fg,{tone:"blue",children:_.name},`identity-${U}`))})}),r.jsxs("div",{className:"flex gap-3 mt-6 relative",children:[r.jsxs("button",{ref:b,onClick:_=>{_.stopPropagation(),p(U=>!U)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[r.jsx(js,{size:18}),"Share"]}),l.creatorUserId!==(w==null?void 0:w.id)&&r.jsxs("button",{onClick:()=>{if(!(w!=null&&w.id)){x._showPopUp("login_prompt");return}a(!0)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[r.jsx(sn,{size:18}),"Connect"]}),r.jsx("button",{onClick:()=>{var _;if(!(w!=null&&w.id)){x._showPopUp("login_prompt");return}n(),j(`/messages?userId=${l.creatorUserId}`),oe.success("Starting conversation with "+(((_=l.creator)==null?void 0:_.name)||"project creator"))},className:"flex-1 rounded-lg px-4 py-2 text-sm font-medium bg-brand-500 text-white hover:bg-brand-700 active:bg-brand-800 flex items-center justify-center gap-2 transition-all duration-200 shadow-sm hover:shadow-md",children:"Message"}),m&&r.jsx(Kme,{crowdfund:l,shareMenuRef:v,setShareOpen:p})]})]}):r.jsx("div",{className:"text-sm text-gray-600",children:"No project details available."})})]}),r.jsx(Yn,{open:s,onClose:()=>a(!1),toUserId:l==null?void 0:l.creatorUserId,toName:((z=l==null?void 0:l.creator)==null?void 0:z.name)||"Project Creator",onSent:N})]})}const Kme=({crowdfund:e,shareMenuRef:t,setShareOpen:n})=>{var c,u;const s=`${window.location.origin}/funding/${e==null?void 0:e.id}`,a=(e==null?void 0:e.title)||"Crowdfunding Project on 54Links",i=((e==null?void 0:e.pitch)||"").slice(0,160)+(((e==null?void 0:e.pitch)||"").length>160?"":""),o=["54Links","Crowdfunding","Startup","Funding"].filter(Boolean),l=((u=(c=import.meta)==null?void 0:c.env)==null?void 0:u.VITE_FACEBOOK_APP_ID)||void 0;return r.jsxs("div",{ref:t,className:"absolute bottom-14 left-0 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this project"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx(Ps,{url:s,title:a,separator:"  ",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx($s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),r.jsx(Ls,{url:s,quote:i,hashtag:"#54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Cs,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),r.jsx(Is,{url:s,title:a,summary:i,source:"54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ms,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),r.jsx(Os,{url:s,title:a,hashtags:o,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(_s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),r.jsx(As,{url:s,title:a,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ts,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),r.jsx(Ss,{url:s,subject:a,body:i+`

`+s,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ns,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),l&&r.jsx(Es,{url:s,appId:l,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(ks,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),r.jsx("div",{className:"mt-2",children:r.jsx(Xme,{shareUrl:s,setShareOpen:n})})]})},Xme=({shareUrl:e,setShareOpen:t})=>r.jsxs("button",{onClick:()=>pe(void 0,null,function*(){try{yield navigator.clipboard.writeText(e),oe.success("Link copied"),t(!1)}catch(n){oe.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[r.jsx(ws,{size:16}),"Copy link"]}),yV="#034ea2",epe=e=>!e||typeof e!="string"?!1:e.startsWith("data:")||e.startsWith("http://")||e.startsWith("https://"),tpe=e=>{if(!e)return"";const t=e.match(/\.([a-zA-Z0-9]+)(?:\?|$)/);return t?t[1].toLowerCase():""},rpe=e=>{if(!e)return"unknown";if(e.startsWith("data:"))return e.startsWith("data:image")?"image":e.startsWith("data:video")?"video":"unknown";const t=tpe(e),n=["mp4","webm","ogg","mov","avi","mkv"],s=["jpg","jpeg","png","gif","webp","bmp","svg"],a=["pdf","doc","docx","txt","rtf","odt"];return n.includes(t)?"video":s.includes(t)?"image":a.includes(t)?"document":"unknown"},npe=({value:e})=>r.jsx("div",{className:"w-full h-2 rounded-full bg-gray-100 overflow-hidden",children:r.jsx("div",{className:"h-full rounded-full",style:{width:`${Math.min(100,e)}%`,background:yV}})});function mw({item:e,matchPercentage:t=20,type:n="grid",onDelete:s}){var Ae,Pe,Qe,mt,Me;const[a,i]=d.useState(!1),[o,l]=d.useState((e==null?void 0:e.connectionStatus)||"none"),[c,u]=d.useState(!1),[f,h]=d.useState(!1),[g,m]=d.useState(!!(e!=null&&e.isLiked)),[p,v]=d.useState(Number(e.likesCount||0)),[b,y]=d.useState(Number((e==null?void 0:e.commentsCount)||0)),[x,w]=d.useState(0),[j,N]=d.useState(!1),[L,k]=d.useState(!1),[E,S]=d.useState(!1),[I,C]=d.useState(!1),[M,A]=d.useState(!1),H=d.useRef(null),W=d.useRef(null),[X,J]=d.useState(!1),[Z,F]=d.useState(!1),[D,O]=d.useState(!1),T=d.useRef(null),[R,z]=d.useState(!1),{user:_,settings:U}=Xt(),Q=yr(),re=Ht(),le=d.useRef(null);d.useEffect(()=>{function Oe(qe){var vt;H.current&&!H.current.contains(qe.target)&&!((vt=W.current)!=null&&vt.contains(qe.target))&&A(!1),T.current&&!T.current.contains(qe.target)&&(J(!1),F(!1))}function We(qe){qe.key==="Escape"&&(A(!1),J(!1),F(!1))}return document.addEventListener("mousedown",Oe),document.addEventListener("keydown",We),()=>{document.removeEventListener("mousedown",Oe),document.removeEventListener("keydown",We)}},[]),d.useEffect(()=>()=>{le.current&&clearTimeout(le.current)},[]);const ge=(()=>{var We;const Oe=[];if(((We=e==null?void 0:e.images)==null?void 0:We.length)>0)for(const qe of e.images){let vt=(qe==null?void 0:qe.base64url)||qe||null;if(epe(vt)){const Ge=rpe(vt);(Ge==="image"||Ge==="video")&&Oe.push({url:vt,type:Ge,name:`media-${Oe.length}`})}}return Oe.sort((qe,vt)=>qe.type==="video"&&vt.type!=="video"?-1:qe.type!=="video"&&vt.type==="video"?1:0)})(),ke=ge.length>1,tt=ge[x],He=(tt==null?void 0:tt.type)==="video",ze=parseFloat((e==null?void 0:e.raised)||0),rt=parseFloat((e==null?void 0:e.goal)||0),Xe=rt>0?Math.min(100,ze/rt*100):0,V=d.useMemo(()=>{if(!(e!=null&&e.deadline))return null;const Oe=new Date,We=new Date(e.deadline),qe=Math.ceil((We-Oe)/(1e3*60*60*24));return qe>0?qe:0},[e==null?void 0:e.deadline]),ne=["Funding",...Array.isArray(e==null?void 0:e.audienceCategories)?e==null?void 0:e.audienceCategories.map(Oe=>Oe.name):[],...Array.isArray(e==null?void 0:e.tags)?e.tags.filter(Boolean):[]],Ce=ne.slice(0,2),fe=Math.max(0,ne.length-Ce.length),xe=d.useMemo(()=>{if(e!=null&&e.timeAgo)return e.timeAgo;if(!(e!=null&&e.createdAt))return"";const Oe=Date.now()-new Date(e.createdAt).getTime(),We=Math.floor(Oe/6e4);if(We<60)return`${We} min${We!==1?"s":""} ago`;const qe=Math.floor(We/60);if(qe<24)return`${qe} hour${qe!==1?"s":""} ago`;const vt=Math.floor(qe/24);return`${vt} day${vt!==1?"s":""} ago`},[e==null?void 0:e.timeAgo,e==null?void 0:e.createdAt]),se=Oe=>{if(!Oe)return"";const We=Oe.replace(/<br\s*\/?>/gi,". "),qe=document.createElement("div");qe.innerHTML=We;let vt=qe.textContent||qe.innerText||"";return vt=vt.replace(/\s+/g," ").trim(),vt},ae=!!(_!=null&&_.id)&&_.id===(e==null?void 0:e.creatorUserId);d.useEffect(()=>{e!=null&&e.id&&(cw("funding",e.id).then(({data:Oe})=>{m(Oe.liked),v(Oe.count)}).catch(()=>{}),cx("funding",e.id).then(({data:Oe})=>{const We=Array.isArray(Oe)?Oe.length:0;y(We)}).catch(()=>{}))},[e==null?void 0:e.id]);const G=()=>{N(!j),k(!0),le.current&&clearTimeout(le.current),le.current=setTimeout(()=>{k(!1)},3e3)},Ne=()=>{N(!0),k(!0),le.current&&clearTimeout(le.current),le.current=setTimeout(()=>{k(!1)},3e3)},Be=()=>{N(!1),k(!0),le.current&&clearTimeout(le.current)},dt=Oe=>{He?(Oe.stopPropagation(),G()):ae?re(`/funding/${e.id}`):u(!0)},nt=`${window.location.origin}/funding/${e==null?void 0:e.id}`,Te=(e==null?void 0:e.title)||"Crowdfunding project on 54Links",lt=((e==null?void 0:e.pitch)||"").slice(0,160)+(((e==null?void 0:e.pitch)||"").length>160?"":""),_e=["54Links","Crowdfunding","Support"].filter(Boolean),be=((Pe=(Ae=import.meta)==null?void 0:Ae.env)==null?void 0:Pe.VITE_FACEBOOK_APP_ID)||void 0,Y=()=>r.jsxs("button",{onClick:()=>pe(this,null,function*(){try{yield navigator.clipboard.writeText(nt),oe.success("Link copied"),A(!1)}catch(Oe){oe.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[r.jsx(ws,{size:16}),"Copy link"]}),ie=()=>r.jsx("div",{ref:T,className:"absolute z-30 w-48 rounded-xl border border-gray-200 bg-white p-2 shadow-xl top-12 right-3",role:"dialog","aria-label":"Options menu",children:Z?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-900 border-b border-gray-200 mb-2",children:"Delete this project?"}),r.jsxs("button",{onClick:()=>pe(this,null,function*(){var Oe,We;try{yield Se.delete(`/funding/projects/${e.id}`),oe.success("Project deleted successfully"),O(!0),s&&s(e)}catch(qe){console.error("Failed to delete project:",qe),oe.error(((We=(Oe=qe==null?void 0:qe.response)==null?void 0:Oe.data)==null?void 0:We.message)||"Failed to delete project")}J(!1),F(!1)}),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors mb-1",children:[r.jsx(On,{size:16}),"Confirm Delete"]}),r.jsx("button",{onClick:()=>F(!1),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>{re(`/funding/${e.id}`),J(!1)},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors mb-1",children:[r.jsx(Ql,{size:16}),"Edit"]}),r.jsxs("button",{onClick:()=>F(!0),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[r.jsx(On,{size:16}),"Delete"]})]})}),de=()=>r.jsxs("div",{ref:H,className:"absolute bottom-0 right-3 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this project"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx(Ps,{url:nt,title:Te,separator:"  ",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx($s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),r.jsx(Ls,{url:nt,quote:lt,hashtag:"#54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Cs,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),r.jsx(Is,{url:nt,title:Te,summary:lt,source:"54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ms,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),r.jsx(Os,{url:nt,title:Te,hashtags:_e,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(_s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),r.jsx(As,{url:nt,title:Te,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ts,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),r.jsx(Ss,{url:nt,subject:Te,body:lt+`

`+nt,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ns,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),be&&r.jsx(Es,{url:nt,appId:be,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(ks,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),r.jsx("div",{className:"mt-2",children:r.jsx(Y,{})})]});function $e(){i(!1),l("pending_outgoing")}n==="list"&&(U==null||U.contentType);const gt=()=>pe(this,null,function*(){var Oe;if(!(_!=null&&_.id)){(Oe=Q._showPopUp)==null||Oe.call(Q,"login_prompt");return}m(We=>!We),v(We=>g?Math.max(0,We-1):We+1);try{const{data:We}=yield Md("funding",e.id);m(We.liked),v(We.count)}catch(We){m(qe=>!qe),v(qe=>g?qe+1:Math.max(0,qe-1))}}),De=Oe=>pe(this,null,function*(){try{yield Id("funding",e.id,"other",Oe),oe.success("Report submitted. Thank you.")}catch(We){oe.success("Report submitted. Thank you.")}});return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 overflow-hidden ${D?"hidden":""}`,children:[r.jsxs("div",{className:"px-4 pt-3 pb-2 flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsx("div",{className:"cursor-pointer flex-shrink-0",onClick:Oe=>{Oe.stopPropagation(),e!=null&&e.creatorUserId&&re(`/profile/${e.creatorUserId}`)},children:e!=null&&e.avatarUrl?r.jsx("div",{className:`flex bg-white items-center justify-center w-20 h-20 ${((Qe=e==null?void 0:e.postedBy)==null?void 0:Qe.accountType)==="company"?"rounded":"rounded-full"} border border-gray-300 overflow-hidden`,children:r.jsx("img",{src:e.avatarUrl,alt:(e==null?void 0:e.creatorUserName)||"User",className:"w-full h-full",style:{objectFit:"contain"}})}):r.jsx("div",{className:`w-20 h-20 bg-gray-200 flex items-center justify-center ${((mt=e==null?void 0:e.postedBy)==null?void 0:mt.accountType)==="company"?"rounded":"rounded-full"} border border-gray-100`,children:r.jsx(ka,{size:24,className:"text-gray-400"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-semibold text-sm text-gray-900 hover:underline cursor-pointer",onClick:Oe=>{Oe.stopPropagation(),e!=null&&e.creatorUserId&&re(`/profile/${e.creatorUserId}`)},children:(e==null?void 0:e.creatorUserName)||"User"}),r.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:((Me=e==null?void 0:e.profile)==null?void 0:Me.professionalTitle)||"Project Creator"}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5",children:[r.jsx("span",{children:xe}),r.jsx("span",{children:""}),r.jsx(no,{size:12})]})]})]}),r.jsxs("div",{className:"relative flex-shrink-0",children:[ae&&r.jsx("button",{onClick:Oe=>{Oe.stopPropagation(),J(We=>!We)},className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors","aria-label":"More options",children:r.jsx(Fo,{size:20,className:"text-gray-600"})}),X&&r.jsx(ie,{})]})]}),r.jsxs("div",{className:"px-4 pb-3",children:[r.jsx("h3",{className:"font-semibold text-base text-gray-900 mb-1 hover:text-brand-600 cursor-pointer transition-colors",onClick:()=>{ae?re(`/funding/${e.id}`):u(!0)},children:e==null?void 0:e.title}),r.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:[r.jsx("div",{className:R?"":"line-clamp-3",children:se(e==null?void 0:e.pitch)}),(e==null?void 0:e.pitch)&&se(e==null?void 0:e.pitch).length>250&&r.jsx("button",{onClick:()=>z(!R),className:"text-gray-500 hover:text-brand-600 font-medium mt-1",children:R?"Show less":"...more"})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx(npe,{value:Xe}),r.jsxs("div",{className:"flex items-center gap-4 text-sm mt-2",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-semibold",children:[e==null?void 0:e.currency," ",Number.isFinite(ze)?ze.toLocaleString():"0"]})," ","raised"]}),r.jsxs("div",{children:["of"," ",r.jsxs("span",{className:"font-semibold",children:[e==null?void 0:e.currency," ",Number.isFinite(rt)?rt.toLocaleString():"0"]})," ","goal"]}),V!==null&&r.jsxs("div",{className:"text-gray-500",children:[" ",V," days left"]})]})]})]}),(U==null?void 0:U.contentType)!=="text"&&ge.length>0&&r.jsxs("div",{className:"relative",children:[r.jsx("div",{onClick:dt,className:"relative w-full max-h-96 overflow-hidden cursor-pointer",children:ke?r.jsx("div",{className:"flex w-full h-full transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${x*100}%)`},children:ge.map((Oe,We)=>r.jsx("div",{className:"flex-shrink-0 w-full h-96 relative",children:Oe.type==="video"?r.jsx("div",{className:"relative w-full h-full bg-black",children:r.jsx(Ta,{src:Oe.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:We===x&&j,onPlay:Ne,onPause:Be})}):r.jsx("img",{src:Oe.url,alt:Oe.name||`Media ${We+1}`,className:"w-full h-96 object-cover"})},We))}):r.jsx("div",{className:"w-full h-96 relative",children:tt.type==="video"?r.jsx("div",{className:"relative w-full h-full bg-black",children:r.jsx(Ta,{src:tt.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:j,onPlay:Ne,onPause:Be})}):r.jsx("img",{src:tt.url,alt:tt.name||"Media",className:"w-full h-96 object-cover"})})}),ke&&r.jsx("div",{className:"absolute bottom-3 right-3 flex gap-1",children:ge.map((Oe,We)=>r.jsx("button",{onClick:qe=>{qe.stopPropagation(),w(We),Oe.type==="video"?(N(!1),k(!0)):(N(!1),k(!1))},className:`w-[10px] h-[10px] rounded-full border border-gray-300 transition-colors ${We===x?Oe.type==="video"?"bg-blue-500":"bg-white":"bg-white/50"}`,"aria-label":`Go to ${Oe.type} ${We+1}`},We))})]}),r.jsxs("div",{className:"flex justify-between px-4 pt-3 pb-3",children:[!!Ce.length&&r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex flex-wrap gap-1.5 flex-1",children:[Ce.map(Oe=>r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-brand-500",children:["#",Oe.replace(/\s+/g,"")]},Oe)),fe>0&&r.jsxs("div",{className:"relative inline-block group/tags",children:[r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium text-gray-600 bg-gray-100 cursor-help",children:["+",fe," more"]}),r.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/tags:opacity-100 group-hover/tags:visible z-10 whitespace-nowrap max-w-xs",children:[r.jsx("div",{className:"flex flex-wrap gap-1",children:ne.slice(2).map((Oe,We)=>r.jsxs("span",{className:"inline-block",children:["#",Oe.replace(/\s+/g,""),We<ne.length-3?",":""]},We))}),r.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]})}),r.jsx("div",{children:t>0&&r.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${t>=80?"bg-green-100 text-green-700 border border-green-200":t>=60?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:[t,"% match"]})})]}),(p>0||b>0)&&r.jsxs("div",{className:"px-4 py-2 flex items-center justify-between text-xs text-gray-500 border-t border-gray-100",children:[r.jsx("div",{className:"flex items-center gap-1",children:p>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"flex -space-x-1",children:r.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center",children:r.jsx(os,{size:10,className:"text-white fill-white"})})}),r.jsxs("button",{onClick:()=>h(!0),className:"hover:underline cursor-pointer",children:[p," ",p===1?"like":"likes"]})]})}),r.jsx("div",{className:"flex items-center gap-3",children:b>0&&r.jsxs("button",{onClick:()=>C(!0),className:"hover:underline",children:[b," comment",b!==1?"s":""]})})]}),r.jsxs("div",{className:"px-2 py-1 border-t border-gray-100 grid grid-cols-4 gap-1",children:[r.jsxs("button",{onClick:gt,className:`flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium ${g?"text-blue-600":"text-gray-600"}`,children:[r.jsx(os,{size:20,className:g?"fill-blue-600":""}),r.jsx("span",{className:"max-sm:hidden",children:"Like"})]}),r.jsxs("button",{onClick:()=>C(!0),className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(cs,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Comment"})]}),r.jsxs("button",{onClick:()=>{var Oe;if(_!=null&&_.id)S(!0);else{(Oe=Q._showPopUp)==null||Oe.call(Q,"login_prompt");return}},className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(ro,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Report"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:Oe=>{Oe.stopPropagation(),A(We=>!We)},className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(js,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Share"})]}),M&&r.jsx(de,{})]})]}),!ae&&r.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[r.jsx(Hr,{size:14}),r.jsxs("span",{children:[e!=null&&e.city?`${e.city}, `:"",(e==null?void 0:e.country)||""]})]})}),r.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.creatorUserId==(_==null?void 0:_.id)&&r.jsx("button",{onClick:()=>{if(!_){Q._showPopUp("login_prompt");return}re(`/messages?userId=${e.creatorUserId}`)},className:"px-4 py-2 rounded-full text-white font-medium text-sm transition-colors",style:{background:yV},children:"Support Project"}),r.jsx("button",{onClick:()=>{if(!(_!=null&&_.id)){Q._showPopUp("login_prompt");return}re(`/messages?userId=${e.creatorUserId}`),oe.success("Starting conversation with "+(e.creatorUserName||"project creator"))},className:"flex-1 px-4 py-2 rounded-full bg-brand-600 text-white font-medium text-sm hover:bg-brand-700 transition-colors",children:"Message"}),o!=="connected"&&Le()]})]})]}),r.jsx(Yn,{open:a,onClose:()=>i(!1),toUserId:e==null?void 0:e.creatorUserId,toName:(e==null?void 0:e.creatorUserName)||(e==null?void 0:e.creatorName)||"Project Creator",onSent:$e}),r.jsx(Qme,{crowdfundId:e==null?void 0:e.id,isOpen:c,onClose:()=>u(!1)}),r.jsx(Td,{open:f,onClose:()=>h(!1),entityType:"funding",entityId:e==null?void 0:e.id}),r.jsx(is,{open:E,onClose:()=>S(!1),title:"Report this project?",text:"Tell us what's happening. Our team will review.",confirmText:"Submit report",cancelText:"Cancel",withInput:!0,inputType:"textarea",inputLabel:"Report details",inputPlaceholder:"Describe the issue (spam, scam, offensive, etc.)",requireValue:!0,onConfirm:De}),r.jsx(_d,{open:I,onClose:()=>C(!1),entityType:"funding",entityId:e==null?void 0:e.id,currentUser:_,onCountChange:Oe=>y(Oe)})]});function Le(){if(e.creatorUserId==(_==null?void 0:_.id))return null;const Oe=(o||"none").toLowerCase();return Oe==="connected"?r.jsx("button",{className:"flex-1 px-4 py-2 rounded-full bg-green-100 text-green-700 font-medium text-sm",children:"Connected"}):Oe==="pending_outgoing"||Oe==="outgoing_pending"||Oe==="pending"?r.jsx("button",{className:"flex-1 px-4 py-2 rounded-full bg-yellow-100 text-yellow-700 font-medium text-sm",children:"Pending"}):Oe==="pending_incoming"||Oe==="incoming_pending"?r.jsx("button",{onClick:()=>re("/notifications"),className:"flex-1 px-4 py-2 rounded-full bg-brand-100 text-brand-600 hover:bg-brand-200 font-medium text-sm transition-colors",children:"Respond"}):_!=null&&_.id?r.jsx("button",{onClick:()=>i(!0),className:"flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors border-2 border-brand-600 text-brand-600 hover:bg-brand-50",children:"Connect"}):r.jsx("button",{onClick:()=>Q._showPopUp("login_prompt"),className:"flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors border-2 border-brand-600 text-brand-600 hover:bg-brand-50",title:"Sign in to send a request",children:"Connect"})}}function spe(e){if(!e)return"";const t=new Date(e).getTime(),n=Date.now(),s=Math.floor((n-t)/1e3);if(s<60)return"Just now";const a=Math.floor(s/60);if(a<60)return`${a} min${a>1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i>1?"s":""} ago`;const o=Math.floor(i/24);if(o<30)return`${o} day${o>1?"s":""} ago`;const l=Math.floor(o/30);if(l<12)return`${l} month${l>1?"s":""} ago`;const c=Math.floor(l/12);return`${c} year${c>1?"s":""} ago`}function MO(e,t){return e&&t?`${e}, ${t}`:e||t||""}function ape(e){return e?new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):""}function ipe(e,t,n){if(!e)return"";const s=new Date(e),a=t?new Date(t):null,i={weekday:"long",year:"numeric",month:"long",day:"numeric"},o={hour:"2-digit",minute:"2-digit"};let l=s.toLocaleDateString(void 0,i);return l+=" at "+s.toLocaleTimeString(void 0,o),a&&(s.toDateString()===a.toDateString()?l+=" - "+a.toLocaleTimeString(void 0,o):(l+=" - "+a.toLocaleDateString(void 0,i),l+=" at "+a.toLocaleTimeString(void 0,o))),n&&(l+=` (${n})`),l}function Rf({children:e,tone:t="brand"}){const n={brand:"bg-brand-50 text-brand-600",green:"bg-green-100 text-green-700",gray:"bg-gray-100 text-gray-700",blue:"bg-blue-100 text-blue-700"};return r.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] ${n[t]||n.gray}`,children:e})}function jc({title:e,icon:t,children:n}){return r.jsxs("div",{className:"mt-5 text-left",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t?r.jsx(t,{size:16,className:"text-brand-600"}):null,r.jsx("h3",{className:"font-medium text-sm",children:e})]}),n]})}function ope({eventId:e,isOpen:t,onClose:n,item:s}){var k,E,S;const[a,i]=d.useState(!1),[o,l]=d.useState(!1),[c,u]=d.useState(null),[f,h]=d.useState(""),[g,m]=d.useState(!1),p=d.useRef(null),v=d.useRef(null),b=d.useRef(null),y=yr(),{user:x}=Xt(),w=Ht();d.useEffect(()=>{function I(M){v.current&&p.current&&!v.current.contains(M.target)&&!p.current.contains(M.target)&&m(!1)}function C(M){M.key==="Escape"&&m(!1)}return document.addEventListener("mousedown",I),document.addEventListener("keydown",C),()=>{document.removeEventListener("mousedown",I),document.removeEventListener("keydown",C)}},[]),d.useEffect(()=>{if(!t){u(null),h("");return}if(!e)return;let I=!0;function C(){return pe(this,null,function*(){l(!0),h(""),u(null);try{const{data:M}=yield Se.get(`/events/${e}`);I&&u(M)}catch(M){console.error("Error fetching event details:",M),I&&h("Failed to load event details.")}finally{I&&l(!1)}})}return C(),()=>{I=!1}},[t,e]);function j(){oe.success("Connection request sent"),i(!1)}if(!t)return null;let N=(c==null?void 0:c.coverImageUrl)||(c==null?void 0:c.coverImage)||null;N=N&&(N!=null&&N.startsWith("data:image")||N!=null&&N.startsWith("http"))?N:N?`${gn}/uploads/${N}`:null;const L=((c==null?void 0:c.organizerUserName)||(s==null?void 0:s.organizerUserName)||"?").split(" ").map(I=>I[0]).join("").slice(0,2).toUpperCase();return r.jsxs("div",{className:"fixed z-[99] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[r.jsxs("div",{ref:b,className:"bg-white z-[99] w-full max-w-2xl rounded-2xl shadow-xl flex flex-col max-h-[85vh] overflow-hidden relative",children:[r.jsxs("div",{className:"bg-brand-500 p-4 flex justify-between items-center",children:[r.jsx("div",{className:"text-white font-medium",children:"Event Details"}),r.jsx("button",{onClick:()=>{var I;n(),(I=y._closeAllPopUps)==null||I.call(y)},className:"text-white hover:text-brand-100",children:r.jsx(Sr,{size:20})})]}),r.jsx("div",{className:"p-6 overflow-y-auto",children:o?r.jsx(Ad,{}):f?r.jsx("div",{className:"text-sm text-red-600",children:f}):c?r.jsxs(r.Fragment,{children:[c.coverImageUrl&&r.jsx("div",{className:"relative mb-6",children:r.jsx("img",{src:N,alt:c.title,className:"w-full h-64 object-cover bg-gray-50 rounded-lg"})}),r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:c.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-600",children:[r.jsx(ki,{size:16}),r.jsx("span",{children:spe(c.createdAt)}),c.country&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mx-1",children:""}),r.jsx(Hr,{size:16}),r.jsx("span",{children:MO(c.city,c.country)})]})]})]}),c.registrationType==="Paid"&&c.price&&r.jsxs("div",{className:"text-2xl font-bold text-brand-600",children:[c.currency||"USD"," ",c.price]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[c.eventType&&r.jsx(Rf,{tone:"brand",children:c.eventType}),c.locationType&&r.jsx(Rf,{tone:"blue",children:c.locationType}),c.registrationType&&r.jsx(Rf,{tone:c.registrationType==="Free"?"green":"gray",children:c.registrationType})]}),r.jsx(jc,{title:"Organizer",icon:sn,children:r.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border border-gray-100 hover:border-brand-200 cursor-pointer",onClick:()=>{var I;c!=null&&c.organizerUserId&&(y._showPopUp("profile"),(I=y._setProfileUserId)==null||I.call(y,c.organizerUserId))},children:[c.organizerUserAvatarUrl?r.jsx("img",{src:c.organizerUserAvatarUrl||(s==null?void 0:s.organizerUserName),alt:c.organizerUserName||(s==null?void 0:s.organizerUserName),className:"w-10 h-10 rounded-full object-cover"}):r.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-brand-600 font-medium",children:L})}),r.jsx("div",{children:r.jsx("div",{className:"font-medium",children:c.organizerUserName||(s==null?void 0:s.organizerUserName)||"Event Organizer"})})]})}),r.jsx(jc,{title:"Description",icon:cs,children:r.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:c.description||"No description provided."})}),r.jsx(jc,{title:"Date & Time",icon:Oh,children:r.jsx("div",{className:"text-sm text-gray-700",children:ipe(c.startAt,c.endAt,c.timezone)})}),r.jsx(jc,{title:"Location",icon:Hr,children:r.jsx("div",{className:"text-sm text-gray-700",children:c.locationType==="Virtual"?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(no,{size:16,className:"text-brand-600"}),r.jsx("span",{children:"Virtual Event"}),c.onlineUrl&&r.jsx("a",{href:c.onlineUrl,target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 hover:underline",children:"Join Link"})]}):r.jsxs("div",{children:[r.jsx("p",{children:c.address}),r.jsx("p",{children:MO(c.city,c.country)})]})})}),r.jsx(jc,{title:"Registration",icon:Cd,children:r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-500",children:"Registration Type"}),r.jsx("span",{className:"font-medium",children:c.registrationType||"Free"})]}),c.registrationType==="Paid"&&c.price&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-500",children:"Price"}),r.jsxs("span",{className:"font-medium",children:[c.currency||"USD"," ",c.price]})]}),c.capacity&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-500",children:"Capacity"}),r.jsxs("span",{className:"font-medium",children:[c.capacity," attendees"]})]}),c.registrationDeadline&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-500",children:"Registration Deadline"}),r.jsx("span",{className:"font-medium",children:ape(c.registrationDeadline)})]})]})}),((k=c.audienceCategories)==null?void 0:k.length)>0&&r.jsx(jc,{title:"Categories",icon:ys,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:c.audienceCategories.map((I,C)=>r.jsx(Rf,{tone:"brand",children:I.name},`cat-${C}`))})}),((E=c.audienceSubcategories)==null?void 0:E.length)>0&&r.jsx(jc,{title:"Subcategories",icon:ys,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:c.audienceSubcategories.map((I,C)=>r.jsx(Rf,{tone:"gray",children:I.name},`subcat-${C}`))})}),((S=c.audienceIdentities)==null?void 0:S.length)>0&&r.jsx(jc,{title:"Target Audience",icon:sn,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:c.audienceIdentities.map((I,C)=>r.jsx(Rf,{tone:"blue",children:I.name},`identity-${C}`))})}),r.jsxs("div",{className:"flex gap-3 mt-6 relative",children:[r.jsxs("button",{ref:v,onClick:I=>{I.stopPropagation(),m(C=>!C)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[r.jsx(js,{size:18}),"Share"]}),c.organizerUserId!==(x==null?void 0:x.id)&&r.jsxs("button",{onClick:()=>{if(!(x!=null&&x.id)){y._showPopUp("login_prompt");return}i(!0)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[r.jsx(sn,{size:18}),"Connect"]}),r.jsx("button",{onClick:()=>{if(!(x!=null&&x.id)){y._showPopUp("login_prompt");return}n(),w(`/messages?userId=${c.organizerUserId}`),oe.success("Starting conversation with "+(c.organizerUserName||(s==null?void 0:s.organizerUserName)||"event organizer"))},className:"flex-1 rounded-lg px-4 py-2 text-sm font-medium bg-brand-500 text-white hover:bg-brand-700 active:bg-brand-800 flex items-center justify-center gap-2 transition-all duration-200 shadow-sm hover:shadow-md",children:"Message"}),g&&r.jsx(lpe,{event:c,shareMenuRef:p,setShareOpen:m})]})]}):r.jsx("div",{className:"text-sm text-gray-600",children:"No event details available."})})]}),r.jsx(Yn,{open:a,onClose:()=>i(!1),toUserId:c==null?void 0:c.organizerUserId,toName:(c==null?void 0:c.organizerUserName)||"Event Organizer",onSent:j})]})}const lpe=({event:e,shareMenuRef:t,setShareOpen:n})=>{var c,u;const s=`${window.location.origin}/event/${e==null?void 0:e.id}`,a=(e==null?void 0:e.title)||"Event on 54Links",i=((e==null?void 0:e.description)||"").slice(0,160)+(((e==null?void 0:e.description)||"").length>160?"":""),o=["54Links","Events","Networking","Community"].filter(Boolean),l=((u=(c=import.meta)==null?void 0:c.env)==null?void 0:u.VITE_FACEBOOK_APP_ID)||void 0;return r.jsxs("div",{ref:t,className:"absolute bottom-14 left-0 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this event"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx(Ps,{url:s,title:a,separator:"  ",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx($s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),r.jsx(Ls,{url:s,quote:i,hashtag:"#54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Cs,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),r.jsx(Is,{url:s,title:a,summary:i,source:"54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ms,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),r.jsx(Os,{url:s,title:a,hashtags:o,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(_s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),r.jsx(As,{url:s,title:a,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ts,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),r.jsx(Ss,{url:s,subject:a,body:i+`

`+s,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ns,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),l&&r.jsx(Es,{url:s,appId:l,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(ks,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),r.jsx("div",{className:"mt-2",children:r.jsx(cpe,{shareUrl:s,setShareOpen:n})})]})},cpe=({shareUrl:e,setShareOpen:t})=>r.jsxs("button",{onClick:()=>pe(void 0,null,function*(){try{yield navigator.clipboard.writeText(e),oe.success("Link copied"),t(!1)}catch(n){oe.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[r.jsx(ws,{size:16}),"Copy link"]});function dpe({open:e,onClose:t,event:n}){const[s,a]=d.useState(""),[i,o]=d.useState(""),[l,c]=d.useState(!1),[u,f]=d.useState({}),h=()=>{const p={};return(!s||s<1)&&(p.numberOfPeople="Number of people is required and must be at least 1"),i.trim()||(p.reasonForAttending="Reason for attending is required"),f(p),Object.keys(p).length===0};function g(p){a(""),o(""),p=="registered"?t("registered"):t()}const m=p=>pe(this,null,function*(){var v,b;if(p.preventDefault(),!!h()){c(!0);try{yield Se.post("/event-registrations",{eventId:n.id,numberOfPeople:parseInt(s),reasonForAttending:i.trim()}),oe.success("Registration submitted successfully!"),g("registered"),f({})}catch(y){oe.error(((b=(v=y.response)==null?void 0:v.data)==null?void 0:b.message)||"Failed to submit registration")}finally{c(!1)}}});return e?r.jsx("div",{className:"fixed z-[100] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",children:r.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-brand-100 rounded-full",children:r.jsx(Oh,{size:20,className:"text-brand-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-brand-600",children:"Register for Event"}),r.jsx("p",{className:"text-sm text-gray-600 truncate max-w-xs",children:n==null?void 0:n.title})]})]}),r.jsx("button",{onClick:g,className:"p-2 text-gray-500 hover:text-brand-600 hover:bg-gray-100 rounded-full transition-colors",children:r.jsx(Sr,{size:20})})]}),r.jsxs("form",{onSubmit:m,className:"p-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Number of People"}),r.jsx("input",{type:"number",min:"1",value:s,onChange:p=>a(p.target.value.replace(/[^\d\-\(\)]/g,"")),placeholder:"Enter number of people",className:`w-full rounded-xl border px-3 py-2 text-sm focus:ring-2 focus:ring-brand-500 focus:outline-none ${u.numberOfPeople?"border-red-500":"border-gray-200"}`,required:!0}),u.numberOfPeople&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.numberOfPeople})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Reason for Attending"}),r.jsx("textarea",{value:i,onChange:p=>o(p.target.value),placeholder:"e.g., Networking, learning, pitching, etc.",rows:3,className:`w-full rounded-xl border px-3 py-2 text-sm focus:ring-2 focus:ring-brand-500 focus:outline-none resize-none ${u.reasonForAttending?"border-red-500":"border-gray-200"}`,required:!0}),u.reasonForAttending&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.reasonForAttending}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Let the organizer know why you're interested in attending"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Event Details"}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Date:"})," ",(n==null?void 0:n.eventDate)||"TBD"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Location:"})," ",(n==null?void 0:n.location)||(n==null?void 0:n.city)||"TBD"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Price:"})," ",n!=null&&n.price?`$${n.price}`:"Free"]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border-t",children:[r.jsx("button",{type:"button",className:"rounded-xl px-4 py-2 text-sm border bg-white hover:bg-gray-50 transition-colors",onClick:g,disabled:l,children:"Cancel"}),r.jsx("button",{type:"submit",onClick:m,disabled:l,className:"inline-flex items-center gap-2 rounded-xl px-6 py-2 text-sm font-semibold text-white bg-brand-500 hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500/30 transition-colors disabled:opacity-50",children:l?"Registering...":"Register"})]})]})}):null}function upe(e,t){if(e)return e;if(!t)return"";const n=Date.now()-new Date(t).getTime(),s=Math.floor(n/6e4);if(s<60)return`${s} min${s!==1?"s":""} ago`;const a=Math.floor(s/60);if(a<24)return`${a} hour${a!==1?"s":""} ago`;const i=Math.floor(a/24);return`${i} day${i!==1?"s":""} ago`}function nf({e,type:t="grid",matchPercentage:n=20}){var nt,Te,lt,_e,be;const s=Ht(),a=yr(),{user:i,settings:o}=Xt(),[l,c]=d.useState(!1),[u,f]=d.useState(null);d.useState(!1);const[h,g]=d.useState((e==null?void 0:e.connectionStatus)||"none"),[m,p]=d.useState((e==null?void 0:e.registrationStatus)||"not_registered"),[v,b]=d.useState(!1),[y,x]=d.useState(!1),[w,j]=d.useState(!1),[N,L]=d.useState(!!(e!=null&&e.isLiked)),[k,E]=d.useState(Number(e.likesCount||0)),[S,I]=d.useState(Number((e==null?void 0:e.commentsCount)||0)),[C,M]=d.useState(!1),[A,H]=d.useState(!1),W=d.useRef(null),X=d.useRef(null),[J,Z]=d.useState(!1),[F,D]=d.useState(!1),[O,T]=d.useState(!1),[R,z]=d.useState(!1),[_,U]=d.useState(!1),Q=d.useRef(null);d.useEffect(()=>{function Y(de){var $e;W.current&&!W.current.contains(de.target)&&!(($e=X.current)!=null&&$e.contains(de.target))&&H(!1),Q.current&&!Q.current.contains(de.target)&&(D(!1),T(!1))}function ie(de){de.key==="Escape"&&(H(!1),D(!1),T(!1))}return document.addEventListener("mousedown",Y),document.addEventListener("keydown",ie),()=>{document.removeEventListener("mousedown",Y),document.removeEventListener("keydown",ie)}},[]);const re=(i==null?void 0:i.id)&&(e==null?void 0:e.organizerUserId)&&i.id===e.organizerUserId,le=t==="list",ue=Y=>Y?Y!=null&&Y.startsWith("data:")||Y!=null&&Y.startsWith("http")?Y:`${gn}/uploads/${Y}`:null,ge=d.useMemo(()=>{const Y=ue(e==null?void 0:e.videoUrl),ie=ue((e==null?void 0:e.coverImageBase64)||(e==null?void 0:e.coverImage));return Y?{type:"video",url:Y}:ie?{type:"image",url:ie}:null},[e==null?void 0:e.videoUrl,e==null?void 0:e.coverImageBase64,e==null?void 0:e.coverImage]);console.log({eventId:e==null?void 0:e.id,coverImage:e==null?void 0:e.coverImageBase64,videoUrl:e==null?void 0:e.videoUrl,mediaToDisplay:ge});const ke=`${window.location.origin}/event/${e==null?void 0:e.id}`,tt=(e==null?void 0:e.title)||"Event on 54Links",He=((e==null?void 0:e.description)||"").slice(0,160)+(((e==null?void 0:e.description)||"").length>160?"":""),ze=["54Links","Events","Networking"].filter(Boolean),rt=((Te=(nt=import.meta)==null?void 0:nt.env)==null?void 0:Te.VITE_FACEBOOK_APP_ID)||void 0,Xe=()=>r.jsxs("button",{onClick:()=>pe(this,null,function*(){try{yield navigator.clipboard.writeText(ke),oe.success("Link copied"),H(!1)}catch(Y){oe.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[r.jsx(ws,{size:16}),"Copy link"]}),V=()=>r.jsxs("div",{ref:W,className:"absolute bottom-0 right-3 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this event"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx(Ps,{url:ke,title:tt,separator:"  ",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx($s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),r.jsx(Ls,{url:ke,quote:He,hashtag:"#54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Cs,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),r.jsx(Is,{url:ke,title:tt,summary:He,source:"54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ms,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),r.jsx(Os,{url:ke,title:tt,hashtags:ze,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(_s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),r.jsx(As,{url:ke,title:tt,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ts,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),r.jsx(Ss,{url:ke,subject:tt,body:He+`

`+ke,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ns,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),rt&&r.jsx(Es,{url:ke,appId:rt,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(ks,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),r.jsx("div",{className:"mt-2",children:r.jsx(Xe,{})})]}),ne=()=>r.jsx("div",{ref:Q,className:"absolute z-30 w-48 rounded-xl border border-gray-200 bg-white p-2 shadow-xl top-12 right-3",role:"dialog","aria-label":"Options menu",children:O?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-900 border-b border-gray-200 mb-2",children:"Delete this event?"}),r.jsxs("button",{onClick:()=>pe(this,null,function*(){var Y,ie;try{yield Se.delete(`/events/${e.id}`),oe.success("Event deleted successfully"),z(!0)}catch(de){console.error("Failed to delete event:",de),oe.error(((ie=(Y=de==null?void 0:de.response)==null?void 0:Y.data)==null?void 0:ie.message)||"Failed to delete event")}D(!1),T(!1)}),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors mb-1",children:[r.jsx(On,{size:16}),"Confirm Delete"]}),r.jsx("button",{onClick:()=>T(!1),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>{s(`/event/${e.id}`),D(!1)},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors mb-1",children:[r.jsx(Ql,{size:16}),"Edit"]}),r.jsxs("button",{onClick:()=>T(!0),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[r.jsx(On,{size:16}),"Delete"]})]})}),Ce=["Event",...Array.isArray(e==null?void 0:e.audienceCategories)?e==null?void 0:e.audienceCategories.map(Y=>Y.name):[],e.eventType||"Event",e.categoryName,e.subcategoryName].filter(Boolean),fe=(e==null?void 0:e.price)!=null&&e.price!==""&&!isNaN(Number(e.price)),xe=fe?`${(e==null?void 0:e.currency)||"USD"} ${e.price}`:"Free",se=d.useMemo(()=>upe(e==null?void 0:e.timeAgo,e==null?void 0:e.createdAt),[e==null?void 0:e.timeAgo,e==null?void 0:e.createdAt]);function ae(){c(!1),g("pending_outgoing"),document.body.style.overflow=""}function G(){c(!1),document.body.style.overflow=""}const Ne=Y=>{if(!Y)return"";const ie=Y.replace(/<br\s*\/?>/gi,". "),de=document.createElement("div");de.innerHTML=ie;let $e=de.textContent||de.innerText||"";return $e=$e.replace(/\s+/g," ").trim(),$e};le&&(o==null||o.contentType);const Be=()=>pe(this,null,function*(){var Y;if(!(i!=null&&i.id)){(Y=a._showPopUp)==null||Y.call(a,"login_prompt");return}L(ie=>!ie),E(ie=>N?Math.max(0,ie-1):ie+1);try{const{data:ie}=yield Md("event",e.id);L(ie.liked),E(ie.count)}catch(ie){L(de=>!de),E(de=>N?de+1:Math.max(0,de-1))}}),dt=Y=>pe(this,null,function*(){try{yield Id("event",e.id,"other",Y),oe.success("Report submitted. Thank you.")}catch(ie){oe.success("Report submitted. Thank you.")}});return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 overflow-hidden ${R?"hidden":""}`,children:[r.jsxs("div",{className:"px-4 pt-3 pb-2 flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsx("div",{className:"cursor-pointer flex-shrink-0",onClick:Y=>{Y.stopPropagation(),e!=null&&e.organizerUserId&&s(`/profile/${e.organizerUserId}`)},children:e!=null&&e.avatarUrl?r.jsx("div",{className:`flex bg-white items-center justify-center w-20 h-20 ${((lt=e==null?void 0:e.postedBy)==null?void 0:lt.accountType)==="company"?"rounded":"rounded-full"} border border-gray-300 overflow-hidden`,children:r.jsx("img",{src:e.avatarUrl,alt:(e==null?void 0:e.organizerUserName)||"User",className:"w-full h-full",style:{objectFit:"contain"}})}):r.jsx("div",{className:`w-20 h-20 bg-gray-200 flex items-center justify-center ${((_e=e==null?void 0:e.postedBy)==null?void 0:_e.accountType)==="company"?"rounded":"rounded-full"} border border-gray-100`,children:r.jsx(ka,{size:24,className:"text-gray-400"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-semibold text-sm text-gray-900 hover:underline cursor-pointer",onClick:Y=>{Y.stopPropagation(),e!=null&&e.organizerUserId&&s(`/profile/${e.organizerUserId}`)},children:(e==null?void 0:e.organizerUserName)||"User"}),r.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:((be=e==null?void 0:e.profile)==null?void 0:be.professionalTitle)||"Event Organizer"}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5",children:[r.jsx("span",{children:se}),r.jsx("span",{children:""}),r.jsx(no,{size:12})]})]})]}),r.jsxs("div",{className:"relative flex-shrink-0",children:[re&&r.jsx("button",{onClick:Y=>{Y.stopPropagation(),D(ie=>!ie)},className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors","aria-label":"More options",children:r.jsx(Fo,{size:20,className:"text-gray-600"})}),F&&r.jsx(ne,{})]})]}),r.jsxs("div",{className:"px-4 pb-3",children:[r.jsx("h3",{className:"font-semibold text-base text-gray-900 mb-1 hover:text-brand-600 cursor-pointer transition-colors",onClick:()=>{re?s(`/event/${e.id}`):x(!0)},children:e==null?void 0:e.title}),r.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:[r.jsx("div",{className:_?"":"line-clamp-3",children:Ne(e==null?void 0:e.description)}),(e==null?void 0:e.description)&&Ne(e==null?void 0:e.description).length>250&&r.jsx("button",{onClick:()=>U(!_),className:"text-gray-500 hover:text-brand-600 font-medium mt-1",children:_?"Show less":"Show more"})]})]}),(o==null?void 0:o.contentType)!=="text"&&ge&&r.jsx("div",{className:"relative",children:ge.type==="video"?r.jsx(Ta,{src:ge.url,alt:"Event video"}):r.jsx("img",{src:ge.url,alt:"Event cover",className:"w-full max-h-96 object-cover cursor-pointer",onClick:()=>x(!0)})}),r.jsxs("div",{className:"flex justify-between px-4 pt-3 pb-3",children:[Ce.length>0&&r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex flex-wrap gap-1.5 flex-1",children:[Ce.slice(0,3).map((Y,ie)=>r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-brand-500",children:["#",Y.replace(/\s+/g,"")]},ie)),Ce.length>3&&r.jsxs("div",{className:"relative inline-block group/tags",children:[r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium text-gray-600 bg-gray-100 cursor-help",children:["+",Ce.length-3," more"]}),r.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/tags:opacity-100 group-hover/tags:visible z-10 whitespace-nowrap max-w-xs",children:[r.jsx("div",{className:"flex flex-wrap gap-1",children:Ce.slice(3).map((Y,ie)=>r.jsxs("span",{className:"inline-block",children:["#",Y.replace(/\s+/g,""),ie<Ce.length-4?",":""]},ie))}),r.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]})}),r.jsx("div",{children:n>0&&r.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${n>=80?"bg-green-100 text-green-700 border border-green-200":n>=60?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:[n,"% match"]})})]}),(k>0||S>0)&&r.jsxs("div",{className:"px-4 py-2 flex items-center justify-between text-xs text-gray-500 border-t border-gray-100",children:[r.jsx("div",{className:"flex items-center gap-1",children:k>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"flex -space-x-1",children:r.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center",children:r.jsx(os,{size:10,className:"text-white fill-white"})})}),r.jsxs("button",{onClick:()=>b(!0),className:"hover:underline cursor-pointer",children:[k," ",k===1?"like":"likes"]})]})}),r.jsx("div",{className:"flex items-center gap-3",children:S>0&&r.jsxs("button",{onClick:()=>Z(!0),className:"hover:underline",children:[S," comment",S!==1?"s":""]})})]}),r.jsxs("div",{className:"px-2 py-1 border-t border-gray-100 grid grid-cols-4 gap-1",children:[r.jsxs("button",{onClick:Be,className:`flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium ${N?"text-blue-600":"text-gray-600"}`,children:[r.jsx(os,{size:20,className:N?"fill-blue-600":""}),r.jsx("span",{className:"max-sm:hidden",children:"Like"})]}),r.jsxs("button",{onClick:()=>Z(!0),className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(cs,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Comment"})]}),r.jsxs("button",{onClick:()=>{var Y;if(i!=null&&i.id)M(!0);else{(Y=a._showPopUp)==null||Y.call(a,"login_prompt");return}},className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(ro,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Report"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:Y=>{Y.stopPropagation(),H(ie=>!ie)},className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[r.jsx(js,{size:20}),r.jsx("span",{className:"max-sm:hidden",children:"Share"})]}),A&&r.jsx(V,{})]})]}),r.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[fe&&r.jsx("div",{className:"text-sm font-semibold text-gray-900",children:xe}),r.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[r.jsx(Hr,{size:14}),r.jsxs("span",{children:[e!=null&&e.city?`${e.city}, `:"",(e==null?void 0:e.country)||""]})]})]}),!re&&r.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[m==="registered"?r.jsxs("button",{className:"flex-1 px-4 py-2 rounded-full bg-green-100 text-green-700 font-medium text-sm flex items-center justify-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Registered"]}):r.jsx("button",{onClick:()=>{if(!(i!=null&&i.id)){a._showPopUp("login_prompt");return}j(!0)},className:"flex-1 px-4 py-2 rounded-full bg-brand-600 text-white font-medium text-sm hover:bg-brand-700 transition-colors",children:"Register"}),h!=="connected"&&r.jsx("button",{onClick:()=>{if(!(i!=null&&i.id)){a._showPopUp("login_prompt");return}c(!0)},className:`flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors ${h==="pending_outgoing"||h==="outgoing_pending"?"bg-yellow-100 text-yellow-700":h==="pending_incoming"||h==="incoming_pending"?"bg-brand-100 text-brand-600 hover:bg-brand-200":"border-2 border-brand-600 text-brand-600 hover:bg-brand-50"}`,children:h==="pending_outgoing"||h==="outgoing_pending"?"Pending":h==="pending_incoming"||h==="incoming_pending"?"Respond":"Connect"})]})]})]}),r.jsx(Yn,{open:l,onClose:G,toUserId:e==null?void 0:e.organizerUserId,toName:(e==null?void 0:e.organizerUserName)||"Event Organizer",onSent:ae}),r.jsx($d,{userId:u,isOpen:!!u,onClose:()=>f(null),onSent:ae}),r.jsx(Td,{open:v,onClose:()=>b(!1),entityType:"event",entityId:e==null?void 0:e.id}),r.jsx(ope,{eventId:e==null?void 0:e.id,isOpen:y,item:e,onClose:()=>x(!1)}),r.jsx(dpe,{open:w,onClose:Y=>{Y==="registered"&&p("registered"),j(!1)},event:e}),r.jsx(is,{open:C,onClose:()=>M(!1),title:"Report this event?",text:"Tell us what's happening. Our team will review.",confirmText:"Submit report",cancelText:"Cancel",withInput:!0,inputType:"textarea",inputLabel:"Report details",inputPlaceholder:"Describe the issue (spam, scam, offensive, etc.)",requireValue:!0,onConfirm:dt}),r.jsx(_d,{open:J,onClose:()=>Z(!1),entityType:"event",entityId:e==null?void 0:e.id,currentUser:i,onCountChange:Y=>I(Y)})]})}const fpe=[{value:"Etc/GMT+12",offset:"GMT-12:00",label:"International Date Line West"},{value:"America/Adak",offset:"GMT-10:00",label:"Adak (Alaska Aleutian)"},{value:"Pacific/Honolulu",offset:"GMT-10:00",label:"Honolulu (Hawaii)"},{value:"America/Anchorage",offset:"GMT-09:00",label:"Anchorage (Alaska)"},{value:"America/Los_Angeles",offset:"GMT-08:00",label:"Los Angeles (Pacific Time)"},{value:"America/Denver",offset:"GMT-07:00",label:"Denver (Mountain Time)"},{value:"America/Chicago",offset:"GMT-06:00",label:"Chicago (Central Time)"},{value:"America/Guatemala",offset:"GMT-06:00",label:"Guatemala (Central America)"},{value:"America/New_York",offset:"GMT-05:00",label:"New York (Eastern Time)"},{value:"America/Bogota",offset:"GMT-05:00",label:"Bogot (Colombia)"},{value:"America/Caracas",offset:"GMT-04:00",label:"Caracas (Venezuela)"},{value:"America/Halifax",offset:"GMT-04:00",label:"Halifax (Atlantic Time)"},{value:"America/Argentina/Buenos_Aires",offset:"GMT-03:00",label:"Buenos Aires"},{value:"America/Sao_Paulo",offset:"GMT-03:00",label:"So Paulo"},{value:"America/Noronha",offset:"GMT-02:00",label:"Fernando de Noronha"},{value:"Atlantic/Azores",offset:"GMT-01:00",label:"Azores"},{value:"Atlantic/Cape_Verde",offset:"GMT-01:00",label:"Cape Verde"},{value:"Europe/London",offset:"GMT+00:00",label:"London"},{value:"Africa/Abidjan",offset:"GMT+00:00",label:"Abidjan (Ghana, Ivory Coast, etc.)"},{value:"Atlantic/Reykjavik",offset:"GMT+00:00",label:"Reykjavik (Iceland)"},{value:"Europe/Berlin",offset:"GMT+01:00",label:"Berlin (Central European Time)"},{value:"Europe/Paris",offset:"GMT+01:00",label:"Paris"},{value:"Africa/Lagos",offset:"GMT+01:00",label:"Lagos (West Africa)"},{value:"Africa/Johannesburg",offset:"GMT+02:00",label:"Johannesburg (South African Standard Time)"},{value:"Europe/Athens",offset:"GMT+02:00",label:"Athens (Eastern European Time)"},{value:"Europe/Moscow",offset:"GMT+03:00",label:"Moscow"},{value:"Africa/Nairobi",offset:"GMT+03:00",label:"Nairobi (East Africa)"},{value:"Asia/Dubai",offset:"GMT+04:00",label:"Dubai"},{value:"Asia/Karachi",offset:"GMT+05:00",label:"Karachi"},{value:"Asia/Kolkata",offset:"GMT+05:30",label:"New Delhi (India Standard Time)"},{value:"Asia/Katmandu",offset:"GMT+05:45",label:"Kathmandu (Nepal)"},{value:"Asia/Dhaka",offset:"GMT+06:00",label:"Dhaka"},{value:"Asia/Bangkok",offset:"GMT+07:00",label:"Bangkok"},{value:"Asia/Hong_Kong",offset:"GMT+08:00",label:"Hong Kong"},{value:"Asia/Shanghai",offset:"GMT+08:00",label:"Shanghai (China)"},{value:"Australia/Perth",offset:"GMT+08:00",label:"Perth (Western Australia)"},{value:"Asia/Tokyo",offset:"GMT+09:00",label:"Tokyo"},{value:"Australia/Adelaide",offset:"GMT+09:30",label:"Adelaide (Central Australia)"},{value:"Australia/Sydney",offset:"GMT+10:00",label:"Sydney (Eastern Australia)"},{value:"Pacific/Guadalcanal",offset:"GMT+11:00",label:"Guadalcanal (Solomon Islands)"},{value:"Pacific/Auckland",offset:"GMT+12:00",label:"Auckland (New Zealand)"},{value:"Pacific/Fiji",offset:"GMT+12:00",label:"Suva (Fiji)"},{value:"Pacific/Chatham",offset:"GMT+12:45",label:"Chatham (New Zealand)"},{value:"Pacific/Tongatapu",offset:"GMT+13:00",label:"Nukualofa (Tonga)"}],pw=fpe,hpe=()=>r.jsxs("div",{className:"animate-pulse",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-md"}),r.jsx("div",{className:"absolute -bottom-2 -right-2 flex -space-x-2",children:r.jsx("div",{className:"w-7 h-7 bg-gray-200 rounded-md border-2 border-white"})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded w-32"}),r.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"}),r.jsx("div",{className:"h-5 bg-gray-200 rounded w-12"})]}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-48 mb-2"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-24 mb-3"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-8 mx-auto mb-1"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-12 mx-auto"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-8 mx-auto mb-1"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-12 mx-auto"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-8 mx-auto mb-1"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-12 mx-auto"})]})]})]})]}),r.jsxs("div",{className:"mb-5",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-12"})]}),r.jsx("div",{className:"h-16 bg-gray-200 rounded"})]}),r.jsxs("div",{className:"mb-5",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-40"})]})]}),r.jsxs("div",{className:"mb-5",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-20"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-18"})]})]}),r.jsxs("div",{className:"mb-5",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-14"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"})]})]}),r.jsxs("div",{className:"mb-5",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-18"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-20"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-22"})]})]}),r.jsxs("div",{className:"mb-5",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-20"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-18"})]})]}),r.jsxs("div",{className:"mb-5",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-12"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-14"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-18"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-20"})]})]}),r.jsxs("div",{className:"mb-5",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-20"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-24"})]})]}),r.jsxs("div",{className:"mb-5",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"rounded-lg border p-3",children:[r.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-1"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-16 mb-2"}),r.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[r.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-12"}),r.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-14"})]}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-32"})]})}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[r.jsx("div",{className:"w-full h-16 bg-gray-200 rounded"}),r.jsx("div",{className:"w-full h-16 bg-gray-200 rounded"}),r.jsx("div",{className:"w-full h-16 bg-gray-200 rounded"})]})]}),r.jsxs("div",{className:"rounded-lg border p-3",children:[r.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-28 mb-1"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-20 mb-2"}),r.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[r.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-16"}),r.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-18"})]}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-36"})]})}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[r.jsx("div",{className:"w-full h-16 bg-gray-200 rounded"}),r.jsx("div",{className:"w-full h-16 bg-gray-200 rounded"}),r.jsx("div",{className:"w-full h-16 bg-gray-200 rounded"})]})]})]})]}),r.jsxs("div",{className:"mb-5",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"h-5 bg-gray-200 rounded w-6 mx-auto mb-1"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-12 mx-auto"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"h-5 bg-gray-200 rounded w-8 mx-auto mb-1"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-14 mx-auto"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"h-5 bg-gray-200 rounded w-6 mx-auto mb-1"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-10 mx-auto"})]})]})]}),r.jsxs("div",{className:"mb-5",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"rounded-lg border p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-24 mb-1"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-12"}),r.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-16"})]})]}),r.jsxs("div",{className:"rounded-lg border p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-36"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-28 mb-1"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-14"}),r.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-18"})]})]})]})]}),r.jsx("div",{className:"mb-4",children:r.jsx("div",{className:"h-3 bg-gray-200 rounded w-48"})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"flex-1 h-10 bg-gray-200 rounded-lg"}),r.jsx("div",{className:"flex-1 h-10 bg-gray-200 rounded-lg"}),r.jsx("div",{className:"flex-1 h-10 bg-gray-200 rounded-lg"})]})]});function Av(e){var a,i;if(!e)return"U";const t=e.trim().split(/\s+/),n=((a=t[0])==null?void 0:a.charAt(0).toUpperCase())||"",s=((i=t[1])==null?void 0:i.charAt(0).toUpperCase())||"";return n+s}function IO(e){if(!e)return"";const t=new Date(e).getTime(),n=Date.now(),s=Math.floor((n-t)/1e3);if(s<60)return"Just now";const a=Math.floor(s/60);if(a<60)return`${a} min${a>1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i>1?"s":""} ago`;const o=Math.floor(i/24);if(o<30)return`${o} day${o>1?"s":""} ago`;const l=Math.floor(o/30);if(l<12)return`${l} month${l>1?"s":""} ago`;const c=Math.floor(l/12);return`${c} year${c>1?"s":""} ago`}function gpe(e,t){return e&&t?`${e}, ${t}`:e||t||""}function Kn({children:e,tone:t="brand"}){const n={brand:"bg-brand-50 text-brand-600",green:"bg-green-100 text-green-700",gray:"bg-gray-100 text-gray-700",blue:"bg-blue-100 text-blue-700",red:"bg-red-100 text-red-700"};return r.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] ${n[t]||n.gray}`,children:e})}function ci({title:e,icon:t,children:n}){return r.jsxs("div",{className:"mt-5 text-left",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t?r.jsx(t,{size:16,className:"text-brand-600"}):null,r.jsx("h3",{className:"font-medium text-sm",children:e})]}),n]})}function t6(e,t){if(!e)return null;try{const n=new Date(e);if(isNaN(n.getTime()))return null;const s=n.getTime();return new Date(s+t*6e4).toISOString()}catch(n){return null}}function TO(e,t){if(!e)return!1;try{const n=Date.now(),s=new Date(e);if(isNaN(s.getTime()))return!1;const a=s.getTime(),i=a-10*60*1e3,o=t6(e,Number(t)||30),l=o?new Date(o).getTime():a+(Number(t)||30)*60*1e3;return n>=i&&n<=l}catch(n){return!1}}function AO(e,t,n){if(!e)return"Invalid date";try{const s=new Date(e);if(isNaN(s.getTime()))return"Invalid date";const a={dateStyle:"medium",timeStyle:"short",timeZone:t||void 0};return`${s.toLocaleString(void 0,a)}  ${n} min`}catch(s){return"Invalid date"}}function mpe({open:e,onClose:t,toUserId:n,toName:s,onCreated:a}){const i=Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",[o,l]=d.useState({date:"",time:"",duration:"30",mode:"video",location:"",link:"",title:`Meeting with ${s!=null?s:"User"}`,agenda:"",timezone:i}),[c,u]=d.useState(!1),[f,h]=d.useState({});d.useEffect(()=>{e&&(h({}),u(!1))},[e]);function g(){const v={};return o.date||(v.date="Pick a date"),o.time||(v.time="Pick a time"),o.title.trim()||(v.title="Add a title"),v}function m(v,b){l(y=>he(te({},y),{[v]:b}))}function p(v){return pe(this,null,function*(){var x,w;v.preventDefault();const b=g();if(h(b),Object.keys(b).length)return;const y=new Date(`${o.date}T${o.time}:00`).toISOString();u(!0);try{const j={toUserId:n,title:o.title,agenda:o.agenda,scheduledAt:y,duration:parseInt(o.duration),timezone:o.timezone,mode:o.mode,location:o.mode==="in_person"?o.location:null,link:o.mode==="video"?o.link:null},{data:N}=yield Se.post("/meeting-requests",j);oe.success("Meeting request sent successfully!"),a==null||a(N),t()}catch(j){console.error("Error creating meeting request:",j),oe.error(((w=(x=j==null?void 0:j.response)==null?void 0:x.data)==null?void 0:w.message)||"Failed to send meeting request")}finally{u(!1)}})}return e?r.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm",children:r.jsxs("div",{className:"w-[92vw] sm:w-full sm:max-w-lg max-h-[80vh] bg-white rounded-2xl shadow-xl flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between bg-brand-500 px-4 py-3",children:[r.jsx("div",{className:"text-white font-medium",children:"Request Meeting"}),r.jsx("button",{onClick:t,className:"text-white/90 hover:text-white",children:r.jsx(Sr,{size:20})})]}),r.jsxs("form",{id:"meetingForm",onSubmit:p,className:"p-5 overflow-y-auto flex-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Title"}),r.jsx("input",{type:"text",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:o.title,onChange:v=>m("title",v.target.value),placeholder:"e.g., Intro call about collaboration"}),f.title&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:f.title})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date"}),r.jsx("input",{type:"date",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:o.date,onChange:v=>m("date",v.target.value)}),f.date&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:f.date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Time"}),r.jsx("input",{type:"time",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:o.time,onChange:v=>m("time",v.target.value)}),f.time&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:f.time})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Duration"}),r.jsxs("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:o.duration,onChange:v=>m("duration",v.target.value),children:[r.jsx("option",{value:"15",children:"15 minutes"}),r.jsx("option",{value:"30",children:"30 minutes"}),r.jsx("option",{value:"45",children:"45 minutes"}),r.jsx("option",{value:"60",children:"60 minutes"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Timezone"}),r.jsx("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:o.timezone,onChange:v=>m("timezone",v.target.value),children:pw.map((v,b)=>r.jsx("option",{value:v.value,children:`${v.offset} - ${v.label}`}))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Meeting mode"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("button",{type:"button",onClick:()=>m("mode","video"),className:`flex items-center justify-center gap-2 rounded-lg border px-3 py-2 text-sm ${o.mode==="video"?"border-brand-500 bg-brand-50 text-brand-700":"border-gray-300 bg-white text-gray-700"}`,children:[r.jsx(Ji,{size:18})," Video call"]}),r.jsxs("button",{type:"button",onClick:()=>m("mode","in_person"),className:`flex items-center justify-center gap-2 rounded-lg border px-3 py-2 text-sm ${o.mode==="in_person"?"border-brand-500 bg-brand-50 text-brand-700":"border-gray-300 bg-white text-gray-700"}`,children:[r.jsx(ZE,{size:18})," In person"]})]})]}),o.mode==="video"?r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Call link"}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("div",{className:"rounded-lg border border-gray-300 px-3 py-2 flex-1 flex items-center gap-2",children:[r.jsx(ob,{size:16,className:"text-gray-500"}),r.jsx("input",{type:"url",className:"w-full text-sm focus:outline-none",placeholder:"https://meet.google.com/abc-defg-hij",value:o.link,onChange:v=>m("link",v.target.value)})]})}),f.link&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:f.link})]}):r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Location"}),r.jsx("input",{type:"text",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",placeholder:"e.g., Avenida Julius Nyerere 123, Maputo",value:o.location,onChange:v=>m("location",v.target.value)}),f.location&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:f.location})]}),o.date&&o.time&&r.jsx("div",{className:"rounded-lg border bg-gray-50 px-3 py-2 text-xs text-gray-700",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(To,{size:14,className:"text-brand-600"}),r.jsxs("span",{children:[new Date(`${o.date}T${o.time}:00`).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})," ","(",o.timezone,")  ",o.duration," min  ",o.mode==="video"?"Video call":"In person"]})]})})]}),r.jsxs("div",{className:"p-4 border-t flex items-center justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-gray-400",children:"Cancel"}),r.jsxs("button",{type:"submit",form:"meetingForm",disabled:c,className:"inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium text-white bg-brand-500 hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500/30 disabled:opacity-60",children:[r.jsx(ki,{size:18}),c?"Creating":"Create request"]})]})]})}):null}const ppe=({profile:e,shareMenuRef:t,setShareOpen:n})=>{var u,f;const s=`https://54links.com/profile/${e==null?void 0:e.id}`,a=`${(e==null?void 0:e.name)||"Profile"} on 54Links`,i=(e==null?void 0:e.about)||`Check out ${(e==null?void 0:e.name)||"this profile"} on 54Links`,o=i.slice(0,160)+(i.length>160?"":""),l=["54Links","Profile","Networking"].filter(Boolean),c=((f=(u=import.meta)==null?void 0:u.env)==null?void 0:f.VITE_FACEBOOK_APP_ID)||void 0;return r.jsxs("div",{ref:t,className:"absolute bottom-14 left-0 mt-2 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this profile"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx(Ps,{url:s,title:a,separator:"  ",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx($s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),r.jsx(Ls,{url:s,quote:o,hashtag:"#54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Cs,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),r.jsx(Is,{url:s,title:a,summary:o,source:"54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ms,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),r.jsx(Os,{url:s,title:a,hashtags:l,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(_s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),r.jsx(As,{url:s,title:a,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ts,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),r.jsx(Ss,{url:s,subject:a,body:o+`

`+s,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ns,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),c&&r.jsx(Es,{url:s,appId:c,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(ks,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),r.jsx("div",{className:"mt-2",children:r.jsx(xpe,{shareUrl:s,setShareOpen:n})})]})},xpe=({shareUrl:e,setShareOpen:t})=>r.jsxs("button",{onClick:()=>pe(void 0,null,function*(){try{yield navigator.clipboard.writeText(e),oe.success("Link copied"),t(!1)}catch(n){oe.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[r.jsx(ws,{size:16}),"Copy link"]});function $d({userId:e,isOpen:t,onClose:n,onSent:s}){var ke,tt,He,ze,rt,Xe;const[a,i]=d.useState(!1),[o,l]=d.useState(null),[c,u]=d.useState(""),[f,h]=d.useState(!1),[g,m]=d.useState(!1),[p,v]=d.useState(!1),[b,y]=d.useState(!1),[x,w]=d.useState([]),[j,N]=d.useState(!1),[L,k]=d.useState([]),[E,S]=d.useState(!1),[I,C]=d.useState(!1),M=d.useRef(null),A=d.useRef(null);function H(V){return pe(this,null,function*(){if(!T)return O._showPopUp("login_prompt");yield Se.post(`/users/${e}/block`,{note:V}),l(ne=>{const Ce=he(te({},ne),{block:he(te({},(ne==null?void 0:ne.block)||{}),{iBlockedThem:!0,status:"i_blocked"})});return["connected","outgoing_pending","incoming_pending","pending","pending_outgoing","pending_incoming"].includes(ne==null?void 0:ne.connectionStatus)&&(Ce.connectionStatus="none"),Ce}),oe.success("User blocked")})}function W(){return pe(this,null,function*(){if(!T)return O._showPopUp("login_prompt");yield Se.delete(`/users/${e}/block`),l(V=>{const ne=he(te({},V),{block:he(te({},(V==null?void 0:V.block)||{}),{iBlockedThem:!1,status:"none"})});return(V==null?void 0:V.connectionStatus)==="blocked"&&(ne.connectionStatus="none"),ne}),oe.success("User unblocked")})}function X(V){return pe(this,null,function*(){if(!T)return O._showPopUp("login_prompt");yield Se.post("/reports",{targetType:"user",targetId:e,description:V}),oe.success("Report submitted. Thanks for keeping the community safe.")})}const[J,Z]=d.useState(!1),[F,D]=d.useState([]),O=yr(),{user:T}=Xt(),R=Ht();d.useEffect(()=>(f?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[f]),d.useEffect(()=>{function V(Ce){A.current&&M.current&&!A.current.contains(Ce.target)&&!M.current.contains(Ce.target)&&C(!1)}function ne(Ce){Ce.key==="Escape"&&C(!1)}return document.addEventListener("mousedown",V),document.addEventListener("keydown",ne),()=>{document.removeEventListener("mousedown",V),document.removeEventListener("keydown",ne)}},[]);function z(){if(!T)return O._showPopUp("login_prompt");h(!0)}function _(){if(!T)return O._showPopUp("login_prompt");Z(!0)}const U=d.useMemo(()=>Array.isArray(o==null?void 0:o.languages)?o.languages.map(V=>typeof V=="string"?{name:V}:V).filter(Boolean):[],[o]);d.useEffect(()=>{pe(this,null,function*(){try{const{data:V}=yield Se.get("/feed/meta");k(V.categories||[])}catch(V){console.error(V)}})},[]),d.useEffect(()=>{if(!t||!e)return;let V=!0;return pe(this,null,function*(){i(!0),u("");try{const{data:ne}=yield Se.get(`/users/${e}/public`);V&&l(ne)}catch(ne){console.error(ne),V&&u("Failed to load profile.")}finally{V&&i(!1)}}),()=>{V=!1}},[t,e]),d.useEffect(()=>{if(!t||!e)return;function V(){return pe(this,null,function*(){N(!0);try{const ne={tab:"all",userId:e,limit:20,offset:0},{data:Ce}=yield Se.get("/feed",{params:ne});w(Ce.items||[])}catch(ne){console.error("Error loading user feed:",ne)}finally{N(!1)}})}V()},[t,e]),d.useEffect(()=>{if(!t||!e||!T)return;function V(){return pe(this,null,function*(){try{const{data:ne}=yield Se.get("/meeting-requests"),fe=[...ne.received.filter(xe=>xe.fromUserId===e),...ne.sent.filter(xe=>xe.toUserId===e)].filter(xe=>xe.status==="accepted").map(xe=>({id:xe.id,toUserId:e,title:xe.title,agenda:xe.agenda,mode:xe.mode,link:xe.link,location:xe.location,timezone:xe.timezone,duration:xe.duration,isoStart:xe.scheduledAt,createdAt:xe.createdAt}));D(fe)}catch(ne){console.error("Error loading meetings:",ne)}})}V()},[t,T==null?void 0:T.id,e]);function Q(V){const ne=[V,...F].sort((Ce,fe)=>new Date(fe.isoStart)-new Date(Ce.isoStart));D(ne)}function re(){return o?o.connectionStatus==="outgoing_pending"?r.jsx("button",{className:"col-span-1 rounded-lg px-3 py-2 text-sm font-medium bg-yellow-100 text-yellow-700 cursor-default",children:"Pending request"}):o.connectionStatus==="incoming_pending"?r.jsxs("button",{onClick:()=>R("/notifications"),className:"col-span-1 items-center flex justify-center rounded-lg px-3 py-2 text-sm font-medium bg-brand-100 text-brand-600 cursor-pointer",children:[r.jsx(Lo,{size:16,className:"mr-1"}),"Respond"]}):o.connectionStatus==="connected"?r.jsx("div",{className:"col-span-1",children:r.jsx("button",{onClick:()=>m(!0),title:"Connected  click to remove","aria-label":"Connected. Click to remove connection",className:`group/conn w-full inline-flex items-center justify-center rounded-lg px-3 py-2 text-sm font-semibold\r
               bg-green-100 text-green-700 border border-green-200\r
               hover:bg-red-50 hover:text-red-700 hover:border-red-300\r
               focus:outline-none focus:ring-2 focus:ring-red-500/30\r
               transition-all duration-200`,children:r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(nw,{size:14,className:"block group-hover/conn:hidden group-focus/conn:hidden"}),r.jsx(sw,{size:14,className:"hidden group-hover/conn:block group-focus/conn:block"}),r.jsx("span",{className:"block group-hover/conn:hidden group-focus/conn:hidden",children:"Connected"}),r.jsx("span",{className:"hidden group-hover/conn:block group-focus/conn:block",children:"Remove"}),r.jsxs("span",{className:"ml-1 inline-flex items-center",children:[r.jsx(On,{size:12,className:"block group-hover/conn:hidden group-focus/conn:hidden text-gray-500","aria-hidden":"true"}),r.jsx("span",{className:"hidden group-hover/conn:inline group-focus/conn:inline text-[10px] leading-none text-gray-500",children:"tap to remove"})]})]})})}):r.jsx("button",{onClick:z,className:"col-span-1 rounded-lg px-3 py-2 text-sm font-medium text-white bg-brand-500 hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500/30 transition-colors",children:"Connect"}):null}function le(V){return pe(this,null,function*(){var ne,Ce;if(!T)return O._showPopUp("login_prompt");try{yield Se.delete(`/connections/${e}`,{data:{note:V}}),l(fe=>he(te({},fe),{connectionStatus:"none"}))}catch(fe){console.error(fe),oe.error(((Ce=(ne=fe==null?void 0:fe.response)==null?void 0:ne.data)==null?void 0:Ce.message)||"Failed to remove connection")}})}const ue=!!((ke=o==null?void 0:o.block)!=null&&ke.iBlockedThem),ge=V=>{var ne,Ce,fe,xe,se,ae,G,Ne,Be,dt,nt,Te;return V.kind==="job"?r.jsx(Od,{type:"grid",matchPercentage:V.matchPercentage,job:he(te({},V),{categoryName:(ne=L.find(lt=>String(lt.id)===String(V.categoryId)))==null?void 0:ne.name,subcategoryName:(xe=(fe=(Ce=L.find(lt=>String(lt.id)===String(V.categoryId)))==null?void 0:Ce.subcategories)==null?void 0:fe.find(lt=>String(lt.id)===String(V.subcategoryId)))==null?void 0:xe.name})},`job-${V.id}`):V.kind==="need"?r.jsx(ec,{type:"grid",matchPercentage:V.matchPercentage,need:he(te({},V),{categoryName:(se=L.find(lt=>String(lt.id)===String(V.categoryId)))==null?void 0:se.name,subcategoryName:(Ne=(G=(ae=L.find(lt=>String(lt.id)===String(V.categoryId)))==null?void 0:ae.subcategories)==null?void 0:G.find(lt=>String(lt.id)===String(V.subcategoryId)))==null?void 0:Ne.name})},`need-${V.id}`):V.kind==="service"?r.jsx(fw,{type:"grid",item:V,matchPercentage:V.matchPercentage,currentUserId:T==null?void 0:T.id},`service-${V.id}`):V.kind==="product"?r.jsx(hw,{type:"grid",item:V,matchPercentage:V.matchPercentage,currentUserId:T==null?void 0:T.id},`product-${V.id}`):V.kind==="moment"?r.jsx(tc,{type:"grid",matchPercentage:V.matchPercentage,moment:he(te({},V),{categoryName:(Be=L.find(lt=>String(lt.id)===String(V.categoryId)))==null?void 0:Be.name,subcategoryName:(Te=(nt=(dt=L.find(lt=>String(lt.id)===String(V.categoryId)))==null?void 0:dt.subcategories)==null?void 0:nt.find(lt=>String(lt.id)===String(V.subcategoryId)))==null?void 0:Te.name})},`moment-${V.id}`):V.kind==="tourism"?r.jsx(gw,{type:"grid",item:V,matchPercentage:V.matchPercentage,currentUserId:T==null?void 0:T.id},`tourism-${V.id}`):V.kind==="funding"?r.jsx(mw,{type:"grid",item:V,matchPercentage:V.matchPercentage,currentUserId:T==null?void 0:T.id},`funding-${V.id}`):r.jsx(nf,{type:"grid",item:V,e:V,matchPercentage:V.matchPercentage},`event-${V.id}`)};return t?r.jsxs("div",{className:"fixed z-[99] _profile inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",children:[r.jsxs("div",{className:"bg-white z-[99] w-full max-w-5xl rounded-2xl shadow-xl flex flex-col max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"bg-brand-500 p-4 flex justify-between items-center",children:[r.jsx("div",{className:"text-white font-medium",children:"Profile"}),r.jsx("button",{onClick:()=>{n(),O._closeAllPopUps()},className:"text-white hover:text-brand-100",children:r.jsx(Sr,{size:20})})]}),r.jsxs("div",{className:"p-6 overflow-y-auto",children:[a&&r.jsx(hpe,{}),c&&r.jsx("div",{className:"text-sm text-red-600",children:c}),!a&&!c&&o&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`flex items-start gap-4 ${o.accountType==="company"?"bg-brand-50 p-4 rounded-lg border":""}`,children:[r.jsxs("div",{className:"relative",children:[o.avatarUrl?r.jsx("div",{className:"h-32 w-32 rounded-md border-4 border-white shadow-md bg-white flex justify-center items-center overflow-hidden",children:r.jsx("img",{src:o.avatarUrl,alt:o.name,className:"w-full"})}):r.jsx("div",{className:"h-32 w-32 rounded-md border-4 border-white shadow-md bg-brand-50 grid place-items-center overflow-hidden",children:r.jsx("span",{className:"font-semibold text-brand-600 text-lg",children:Av(o.name)})}),o.companyMemberships&&o.companyMemberships.length>0&&r.jsxs("div",{className:"absolute -bottom-2 -right-2 flex -space-x-2",children:[[...o.companyMemberships].sort((V,ne)=>(ne.isMain?1:0)-(V.isMain?1:0)).slice(0,3).map((V,ne)=>V.company.avatarUrl?r.jsx("img",{src:V.company.avatarUrl,alt:V.company.name,className:`h-7 w-7 rounded-full border-2 border-white shadow-sm object-cover ${V.isMain?"ring-2 ring-brand-400":""}`,title:`${V.company.name} (${V.role})`},V.companyId):r.jsx("div",{className:`h-7 w-7 rounded-full border-2 border-white shadow-sm bg-gray-100 flex items-center justify-center text-xs font-medium text-gray-600 ${V.isMain?"ring-2 ring-brand-400":""}`,title:`${V.company.name} (${V.role})`,children:Av(V.company.name)},V.companyId)),o.companyMemberships.length>3&&r.jsxs("div",{className:"h-7 w-7 rounded-full border-2 border-white shadow-sm bg-gray-100 flex items-center justify-center text-xs font-medium text-gray-600 z-10",children:["+",o.companyMemberships.length-3]})]})]}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx("h2",{className:`${o.accountType==="company"?"text-xl":"text-lg"} font-semibold`,children:o.name}),o.accountType&&r.jsx(Kn,{tone:o.accountType==="company"?"blue":"gray",children:o.accountType==="company"?"Company":"Individual"}),o.primaryIdentity&&r.jsx(Kn,{tone:"brand",children:o.primaryIdentity}),o.experienceLevel&&r.jsx(Kn,{tone:"gray",children:o.experienceLevel})]}),o.accountType==="company"?r.jsxs("div",{className:"mt-1",children:[r.jsx("p",{className:"text-sm font-medium text-brand-600",children:o.professionalTitle||(o.categories&&o.categories.length>0?o.categories.join(", "):"Company")}),o.categories&&o.categories.length>0&&r.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[o.categories.map((V,ne)=>r.jsx(Kn,{tone:"brand",children:V},`cat-${ne}`)),o.subcategories&&o.subcategories.map((V,ne)=>r.jsx(Kn,{tone:"gray",children:V},`subcat-${ne}`))]})]}):r.jsx("p",{className:"text-sm font-medium text-brand-600 mt-1",children:o.professionalTitle||o.title||""}),(o.city||o.country)&&r.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mt-1",children:[r.jsx(Hr,{size:14})," ",gpe(o.city,o.country)]}),r.jsx("div",{className:"mt-3 grid grid-cols-3 gap-4 text-sm hidden",children:r.jsxs("div",{className:"",children:[r.jsx("p",{className:"font-semibold text-brand-600",children:(tt=o.connections)!=null?tt:0}),r.jsx("p",{className:"text-gray-500 text-xs",children:"Connections"})]})})]})]}),o.about&&r.jsxs(ci,{title:"About",icon:sn,children:[r.jsx("p",{className:`text-sm text-gray-700 ${o.accountType==="company"?"bg-white p-3 rounded border border-gray-100":""}`,children:o.about}),o.accountType==="company"&&o.skills&&o.skills.length>0&&r.jsxs("div",{className:"mt-3",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Company Expertise:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:o.skills.map((V,ne)=>r.jsx(Kn,{tone:"green",children:V},`skill-${ne}`))})]})]}),Array.isArray(o.workSamples)&&o.workSamples.length>0&&r.jsx(ci,{title:"Work Samples",icon:ix,children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:o.workSamples.map(V=>r.jsxs("div",{className:"rounded-lg border p-3",children:[r.jsx("div",{className:"flex items-start justify-between gap-2",children:r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-medium text-sm truncate",children:V.title}),V.category&&r.jsx("div",{className:"mt-1",children:r.jsx(Kn,{tone:"brand",children:V.category})}),Array.isArray(V.technologies)&&V.technologies.length>0&&r.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[V.technologies.slice(0,6).map((ne,Ce)=>r.jsx(Kn,{tone:"gray",children:ne},`${V.id}-tech-${Ce}`)),V.technologies.length>6&&r.jsxs("span",{className:"text-[11px] text-gray-500",children:["+",V.technologies.length-6," more"]})]}),V.description&&r.jsx("p",{className:"mt-2 text-xs text-gray-600 line-clamp-3",children:V.description}),r.jsxs("div",{className:"mt-2 text-[11px] text-gray-500",children:[V.completionDate?new Date(V.completionDate).toLocaleDateString():null,V.createdAt?`  added ${IO(V.createdAt)}`:null]})]})}),Array.isArray(V.attachments)&&V.attachments.length>0&&r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsx("div",{className:"grid grid-cols-3 gap-2",children:V.attachments.filter(ne=>ne==null?void 0:ne.isImage).map((ne,Ce)=>{const fe=ne.base64url||ne.url;return fe?r.jsx("a",{href:fe,target:"_blank",rel:"noreferrer",title:ne.name||"Image",className:"block",children:r.jsx("img",{src:fe,alt:ne.name||V.title,className:"w-full h-24 object-cover rounded-md border",loading:"lazy"})},`${V.id}-img-${Ce}`):null})}),r.jsx("div",{className:"flex flex-col gap-1",children:V.attachments.filter(ne=>!(ne!=null&&ne.isImage)).map((ne,Ce)=>{const fe=ne.base64url||ne.url||"#",xe=ne.name||"document";return r.jsxs("a",{href:fe,target:"_blank",rel:"noreferrer",download:xe,className:"inline-flex items-center gap-2 text-xs font-medium text-brand-700 underline",title:xe,children:[r.jsx(Lo,{size:14}),r.jsx("span",{className:"truncate max-w-[14rem]",children:xe})]},`${V.id}-doc-${Ce}`)})})]}),V.projectUrl&&r.jsx("div",{className:"mt-3",children:r.jsxs("a",{href:V.projectUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-xs font-medium text-brand-700 underline",children:[r.jsx(Lo,{size:14})," View project"]})})]},V.id))})}),(o.email||o.website||Array.isArray(o.links)&&o.links.length)&&r.jsx(ci,{title:"Contact",icon:sn,children:r.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[o.email&&r.jsxs("div",{children:[" ",o.email]}),o.website&&r.jsxs("div",{children:[" ",r.jsx("a",{href:o.website,target:"_blank",rel:"noreferrer",className:"underline text-brand-700",children:o.website})]}),Array.isArray(o.links)&&o.links.map((V,ne)=>r.jsxs("div",{children:[""," ",r.jsx("a",{href:V,target:"_blank",rel:"noreferrer",className:"underline text-brand-700",children:V})]},ne))]})}),Array.isArray(o.lookingFor)&&o.lookingFor.length>0&&r.jsx(ci,{title:"Looking For",icon:ZA,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:o.lookingFor.map((V,ne)=>r.jsx(Kn,{tone:"green",children:V},`${V}-${ne}`))})}),Array.isArray(o.identities)&&o.identities.length>0&&r.jsx(ci,{title:o.accountType==="company"?"Company Identity":"Identities",icon:sn,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:o.identities.map((V,ne)=>r.jsx(Kn,{tone:"blue",children:V},`ident-${ne}`))})}),x.length>0&&r.jsx(ci,{title:"Posts and activities",icon:SH,children:r.jsx("div",{className:"space-y-4",children:j?r.jsx("div",{className:"text-sm text-gray-600",children:"Loading posts..."}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:E?x.map(ge):x.slice(0,4).map(ge)}),x.length>4&&r.jsx("div",{className:"flex justify-center pt-2",children:r.jsxs("button",{onClick:()=>S(!E),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-brand-600 bg-brand-50 hover:bg-brand-100 rounded-lg transition-colors duration-200",children:[r.jsx("span",{children:E?"View Less":`View All ${x.length} posts`}),r.jsx(Lo,{size:16,className:`transition-transform duration-200 ${E?"rotate-180":""}`})]})})]})})}),o.interests&&r.jsx(ci,{title:o.accountType==="company"?"Company Interests":"Identity Interests",icon:ZA,children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.interests.identities&&o.interests.identities.length>0?[...new Set(o.interests.identities)].map((V,ne)=>r.jsx(Kn,{tone:"green",children:V},`ident-int-${ne}`)):Array.isArray(o.identityInterests)&&o.identityInterests.length>0?[...new Set(o.identityInterests)].map((V,ne)=>r.jsx(Kn,{tone:"green",children:V},`old-ident-int-${ne}`)):null,o.interests.categories&&o.interests.categories.length>0&&[...new Set(o.interests.categories)].map((V,ne)=>r.jsx(Kn,{tone:"brand",children:V},`cat-int-${ne}`)),o.interests.subcategories&&o.interests.subcategories.length>0&&[...new Set(o.interests.subcategories)].map((V,ne)=>r.jsx(Kn,{tone:"gray",children:V},`sub-int-${ne}`))]})}),(He=o.cats)!=null&&He.length||(ze=o.subs)!=null&&ze.length?r.jsx(ci,{title:"Expertise & Interests",icon:ys,children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[(o.cats||[]).map(V=>r.jsx(Kn,{tone:"brand",children:V},`cat-${V}`)),(o.subs||[]).map(V=>r.jsx(Kn,{tone:"gray",children:V},`sub-${V}`))]})}):null,Array.isArray(o.subsubs)&&o.subsubs.length>0&&r.jsx(ci,{title:"Specialties",icon:ys,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:[...new Set(o.subsubs)].map((V,ne)=>r.jsx(Kn,{tone:"gray",children:V},`s3-${ne}`))})}),Array.isArray(o.skills)&&o.skills.length>0&&r.jsx(ci,{title:"Skills",icon:TH,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:o.skills.map((V,ne)=>r.jsx(Kn,{tone:"gray",children:V},`${V}-${ne}`))})}),U.length>0&&r.jsx(ci,{title:o.accountType==="company"?"Working Languages":"Languages",icon:AH,children:r.jsx("div",{className:"flex flex-wrap gap-2",children:U.map((V,ne)=>r.jsxs(Kn,{tone:o.accountType==="company"?"blue":"gray",children:[V.name,V.level?`  ${V.level}`:""]},`${V.name}-${ne}`))})}),(()=>{var xe,se,ae,G,Ne,Be,dt,nt,Te,lt,_e,be,Y,ie,de,$e,it,gt,De,Le,Ae,Pe,Qe,mt,Me,Oe,We,qe,vt,Ge;const V=o.counts||{},ne=o.stats||{},fe=[["Jobs",(Ne=(G=(xe=V.jobs)!=null?xe:ne.jobs)!=null?G:(ae=(se=o.recent)==null?void 0:se.jobs)==null?void 0:ae.length)!=null?Ne:0],["Events",(lt=(Te=(Be=V.events)!=null?Be:ne.events)!=null?Te:(nt=(dt=o.recent)==null?void 0:dt.events)==null?void 0:nt.length)!=null?lt:0],["Funding",(de=(ie=(_e=V.funding)!=null?_e:ne.funding)!=null?ie:(Y=(be=o.recent)==null?void 0:be.funding)==null?void 0:Y.length)!=null?de:0],["Services",(Le=(De=($e=V.services)!=null?$e:ne.services)!=null?De:(gt=(it=o.recent)==null?void 0:it.services)==null?void 0:gt.length)!=null?Le:0],["Products",(Me=(mt=(Ae=V.products)!=null?Ae:ne.products)!=null?mt:(Qe=(Pe=o.recent)==null?void 0:Pe.products)==null?void 0:Qe.length)!=null?Me:0],["Tourism",(Ge=(vt=(Oe=V.tourism)!=null?Oe:ne.tourism)!=null?vt:(qe=(We=o.recent)==null?void 0:We.tourism)==null?void 0:qe.length)!=null?Ge:0]].filter(([,ot])=>Number(ot)>=1);return fe.length===0?null:r.jsx(ci,{title:"Overview",icon:Ku,children:r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 text-sm",children:fe.map(([ot,Mt])=>r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-brand-600",children:Mt}),r.jsx("p",{className:"text-gray-500 text-xs",children:ot})]},ot))})})})(),null,!1,!1,!1,!1,(o==null?void 0:o.connectionStatus)=="connected"&&r.jsx(ci,{title:"Meetings",icon:To,children:o.meetings&&o.meetings.length>0?r.jsx("div",{className:"space-y-3",children:o.meetings.map(V=>{var ae,G;const ne=V.mode==="video"&&TO(V.scheduledAt,V.duration),Ce=Date.now();let fe,xe,se;try{const Ne=new Date(V.scheduledAt);if(isNaN(Ne.getTime()))se="Upcoming";else{fe=Ne.getTime();const Be=t6(V.scheduledAt,Number(V.duration)||30);xe=Be?new Date(Be).getTime():fe+(Number(V.duration)||30)*60*1e3,se=Ce<fe?"Upcoming":Ce>xe?"Ended":"Ongoing"}}catch(Ne){se="Upcoming"}return r.jsx("div",{className:"rounded-lg border p-3",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"font-medium text-sm truncate",children:V.title||"Untitled meeting"}),r.jsx("span",{className:`text-[11px] px-2 py-0.5 rounded-full ${se==="Upcoming"?"bg-blue-50 text-blue-700":se==="Ongoing"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:se})]}),r.jsxs("div",{className:"text-xs text-gray-600 mt-0.5",children:[AO(V.scheduledAt,V.timezone,V.duration)," "," ",V.mode==="video"?"Online":"In person"]}),V.mode==="in_person"&&V.location?r.jsxs("div",{className:"text-xs text-gray-500 mt-0.5 line-clamp-1",children:[" ",V.location]}):null,V.mode==="video"&&V.link?r.jsxs("div",{className:"text-xs text-gray-500 mt-0.5 truncate",children:[" ",V.link]}):null,V.agenda?r.jsxs("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:[" ",V.agenda]}):null,r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsxs("div",{className:"flex -space-x-2",children:[V.from&&(V.from.avatarUrl?r.jsx("img",{src:V.from.avatarUrl,alt:V.from.name,className:"h-6 w-6 rounded-full border border-white",title:V.from.name}):r.jsx("div",{className:"h-6 w-6 rounded-full border border-white bg-brand-50 flex items-center justify-center text-xs font-semibold text-brand-600",title:V.from.name,children:Av(V.from.name)})),V.to&&(V.to.avatarUrl?r.jsx("img",{src:V.to.avatarUrl,alt:V.to.name,className:"h-6 w-6 rounded-full border border-white",title:V.to.name}):r.jsx("div",{className:"h-6 w-6 rounded-full border border-white bg-brand-50 flex items-center justify-center text-xs font-semibold text-brand-600",title:V.to.name,children:Av(V.to.name)}))]}),r.jsxs("span",{className:"text-xs text-gray-500",children:[((ae=V.from)==null?void 0:ae.name)||"User"," and ",((G=V.to)==null?void 0:G.name)||"User"]})]})]}),r.jsx("div",{className:"shrink-0 flex items-center gap-2",children:V.mode==="video"?r.jsx("a",{href:V.link||"#",target:"_blank",rel:"noreferrer",title:ne?"Open call link":"Join opens 10 min before start",className:`inline-flex items-center justify-center rounded-md px-3 py-1.5 text-xs font-medium ${ne?"bg-brand-500 text-white hover:bg-brand-600":"bg-gray-100 text-gray-500 cursor-not-allowed"}`,onClick:Ne=>{ne||Ne.preventDefault()},children:"Join"}):V.location?r.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(V.location)}`,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-md px-3 py-1.5 text-xs font-medium bg-brand-50 text-brand-700 hover:bg-brand-100",children:"Open Map"}):null})]})},V.id)})}):F.length===0?r.jsx("div",{className:"text-sm text-gray-600",children:"No meetings yet. Create one from the button below."}):r.jsx("div",{className:"space-y-3",children:F.map(V=>{const ne=V.mode==="video"&&TO(V.isoStart,V.duration),Ce=Date.now();let fe,xe,se;try{const ae=new Date(V.isoStart);if(isNaN(ae.getTime()))se="Upcoming";else{fe=ae.getTime();const G=t6(V.isoStart,Number(V.duration)||30);xe=G?new Date(G).getTime():fe+(Number(V.duration)||30)*60*1e3,se=Ce<fe?"Upcoming":Ce>xe?"Ended":"Ongoing"}}catch(ae){se="Upcoming"}return r.jsx("div",{className:"rounded-lg border p-3",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"font-medium text-sm truncate",children:V.title||"Untitled meeting"}),r.jsx("span",{className:`text-[11px] px-2 py-0.5 rounded-full ${se==="Upcoming"?"bg-blue-50 text-blue-700":se==="Ongoing"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:se})]}),r.jsxs("div",{className:"text-xs text-gray-600 mt-0.5",children:[AO(V.isoStart||V.scheduledAt,V.timezone,V.duration)," "," ",V.mode==="video"?"Online":"In person"]}),V.mode==="in_person"&&V.location?r.jsxs("div",{className:"text-xs text-gray-500 mt-0.5 line-clamp-1",children:[" ",V.location]}):null,V.mode==="video"&&V.link?r.jsxs("div",{className:"text-xs text-gray-500 mt-0.5 truncate",children:[" ",V.link]}):null,V.agenda?r.jsxs("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:[" ",V.agenda]}):null]}),r.jsx("div",{className:"shrink-0 flex items-center gap-2",children:V.mode==="video"?r.jsx("a",{href:V.link||"#",target:"_blank",rel:"noreferrer",title:ne?"Open call link":"Join opens 10 min before start",className:`inline-flex items-center justify-center rounded-md px-3 py-1.5 text-xs font-medium ${ne?"bg-brand-500 text-white hover:bg-brand-600":"bg-gray-100 text-gray-500 cursor-not-allowed"}`,onClick:ae=>{ne||ae.preventDefault()},children:"Join"}):V.location?r.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(V.location)}`,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-md px-3 py-1.5 text-xs font-medium bg-brand-50 text-brand-700 hover:bg-brand-100",children:"Open Map"}):null})]})},V.id)})})}),r.jsxs("div",{className:"mt-6 text-xs text-gray-500",children:["Member since ",new Date(o.memberSince).toLocaleDateString(),"  ",IO(o.memberSince)]}),r.jsxs("div",{className:"flex items-center gap-2 my-4",children:[T&&r.jsxs("button",{onClick:()=>ue?W():v(!0),className:`inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-sm font-medium transition-all
                  ${ue?"border border-red-300 text-red-700 bg-red-50 hover:bg-red-100":"border-2 border-gray-200 text-gray-700 bg-white hover:border-red-300 hover:text-red-700 hover:bg-red-50"}`,"aria-label":ue?"Unblock user":"Block user",title:ue?"Unblock user":"Block user",children:[r.jsx($H,{size:16}),r.jsx("span",{children:ue?"Unblock user":"Block user"})]}),r.jsxs("button",{onClick:()=>y(!0),className:"inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-sm font-medium border-2 border-gray-200 text-gray-700 bg-white hover:border-amber-300 hover:text-amber-700 hover:bg-amber-50 transition-all","aria-label":"Report user",title:"Report user",children:[r.jsx(ro,{size:16}),r.jsx("span",{children:"Report user"})]})]}),r.jsxs("div",{className:`grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-3 mt-6 relative ${ue?"hidden":""}`,children:[I&&r.jsx(ppe,{profile:o,shareMenuRef:M,setShareOpen:C}),r.jsxs("button",{ref:A,onClick:V=>{V.stopPropagation(),C(ne=>!ne)},className:"col-span-1 inline-flex items-center justify-center gap-2 rounded-lg px-3 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[r.jsx(js,{size:16}),r.jsx("span",{children:"Share"})]}),r.jsx("button",{onClick:()=>{if(!T){O._showPopUp("login_prompt");return}n(),R(`/profile/${e}`)},className:"col-span-1 rounded-lg px-3 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:"View Full Profile"}),re(),(o==null?void 0:o.connectionStatus)=="connected"&&!((rt=o==null?void 0:o.block)!=null&&rt.iBlockedThem)&&!((Xe=o==null?void 0:o.block)!=null&&Xe.theyBlockedMe)&&r.jsxs("button",{onClick:_,className:"col-span-1 inline-flex items-center justify-center rounded-lg px-3 py-2 text-sm font-medium border border-brand-200 bg-white text-brand-700 hover:border-brand-500 hover:text-brand-700 transition-colors",children:[r.jsx(To,{size:16,className:"mr-1"}),"Request Meeting"]}),r.jsx("button",{onClick:()=>{if(!T){O._showPopUp("login_prompt");return}n(),R(`/messages?userId=${e}`),oe.success("Starting conversation with "+o.name)},className:"col-span-1 rounded-lg px-3 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:"Message"})]})]})]})]}),r.jsx(Yn,{open:f,onClose:()=>h(!1),toUserId:e,toName:o==null?void 0:o.name,onSent:()=>{l(he(te({},o),{connectionStatus:"outgoing_pending"})),s==null||s()}}),r.jsx(mpe,{open:J,onClose:()=>Z(!1),toUserId:e,toName:o==null?void 0:o.name,onCreated:V=>{Q(V)}}),r.jsx(is,{open:g,onClose:()=>m(!1),title:"Remove this connection?",text:"This action will remove the connection. You can send a new request later.",confirmText:"Remove",cancelText:"Cancel",tone:"danger",withInput:!0,inputLabel:"Optional reason",inputPlaceholder:"Why are you removing this connection?",inputType:"textarea",requireValue:!1,onConfirm:le,onResult:V=>{oe.success("Connection removed")}}),r.jsx(is,{open:p,onClose:()=>v(!1),title:"Block this user?",text:"They wont be able to message or connect with you. Any connection and pending requests will be removed.",confirmText:"Block",cancelText:"Cancel",tone:"danger",withInput:!0,inputLabel:"Optional note",inputPlaceholder:"Why are you blocking this user?",inputType:"textarea",requireValue:!1,onConfirm:H}),r.jsx(is,{open:b,onClose:()=>y(!1),title:"Report this user?",text:"Tell us whats going on. Our team will review.",confirmText:"Submit report",cancelText:"Cancel",tone:"default",withInput:!0,inputLabel:"Report details",inputPlaceholder:"Describe the issue (spam, harassment, impersonation, etc.)",inputType:"textarea",requireValue:!0,onConfirm:X})]}):null}function vpe(e,t=0){if(e!=null&&e.avatarUrl)return e.avatarUrl;if(e!=null&&e.avatar)return e.avatar}function ype(e){return e?e.split(" ").map(t=>t.charAt(0).toUpperCase()).slice(0,2).join(""):"?"}function _O({item:e,idx:t=0,size:n="md",className:s=""}){const a=vpe(e,t),i=ype(e==null?void 0:e.name);return a?r.jsx("img",{alt:"",className:`${n==="sm"?"h-9 w-9":"h-10 w-10"} rounded-full object-cover flex-shrink-0 ${s}`,src:a}):r.jsx("div",{className:`${n==="sm"?"h-9 w-9":"h-10 w-10"} rounded-full flex-shrink-0 flex items-center justify-center font-semibold ${s}`,style:{backgroundColor:"#f3f4f6",color:"#374151"},title:(e==null?void 0:e.name)||"Unknown",children:i})}function OO(e){const t=Number(e==null?void 0:e.matchPercentage);return Number.isFinite(t)?Math.max(0,Math.min(100,Math.round(t))):null}const bpe=()=>r.jsxs("div",{className:"rounded-xl border border-gray-100 p-3 relative animate-pulse",children:[r.jsx("div",{className:"inline-block mb-1 bg-gray-200 rounded-full px-2 py-0.5 text-[11px] w-16 h-5"}),r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 w-3/4"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded mb-1 w-full"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]}),r.jsx("div",{className:"absolute top-2 right-2 h-8 w-8 rounded-lg bg-gray-200"})]}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[r.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-20"}),r.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-16"}),r.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-24"})]}),r.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[r.jsx("div",{className:"flex-1 h-8 bg-gray-200 rounded-lg"}),r.jsx("div",{className:"flex-1 h-8 bg-gray-200 rounded-lg"})]})]}),wpe=()=>r.jsxs("div",{className:"flex flex-col border-b last:border-b-0 pb-3 last:pb-0 animate-pulse",children:[r.jsx("div",{className:"inline-block mb-2 bg-gray-200 rounded-full px-2 py-0.5 text-[11px] w-16 h-5"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[r.jsx("div",{className:"h-9 w-9 rounded-full bg-gray-200 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 w-2/3"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]})]}),r.jsx("div",{className:"h-8 bg-gray-200 rounded-lg w-20"})]}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[r.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-16"}),r.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-20"})]})]});function Pd({matches:e=[],nearby:t=[],loading:n=!1}){const[s,a]=d.useState(null),[i,o]=d.useState(!1),[l,c]=d.useState({id:null,name:""}),u=yr(),{user:f}=Xt(),h=Ht(),g=d.useMemo(()=>{const x={};return[...e,...t].forEach(w=>x[w.id]=w.connectionStatus||"none"),x},[e,t]),[m,p]=d.useState(g);function v(x,w){c({id:x,name:w}),o(!0)}function b(){p(x=>he(te({},x),{[s||l.id]:"pending_outgoing"}))}const y=x=>{const w=m[x.id]||x.connectionStatus||"none";return w==="connected"?r.jsx("button",{className:"flex-1 rounded-lg px-3 py-1.5 text-sm font-semibold bg-green-100 text-green-700 cursor-default",children:"Connected"}):w==="pending_outgoing"?r.jsx("button",{className:"flex-1 rounded-lg px-3 py-1.5 text-sm font-semibold bg-yellow-100 text-yellow-700 cursor-default",children:"Pending"}):w==="pending_incoming"?r.jsx("button",{className:"flex-1 rounded-lg px-3 py-1.5 text-sm font-semibold bg-brand-100 text-brand-500 cursor-default",children:"Respond"}):w==="unauthenticated"?r.jsx("button",{onClick:()=>u._showPopUp("login_prompt"),className:"flex-1 rounded-lg px-3 py-1.5 text-sm bg-gray-100 border  border-gray-200 text-gray-700 hover:border-brand-500 hover:text-brand-500",title:"Sign in to send a request",children:"Connect"}):r.jsx("button",{onClick:()=>v(x.id,x.name),className:"flex-1 rounded-lg px-3 py-1.5 text-sm bg-gray-100 border  border-gray-200 text-gray-700 hover:border-brand-500 hover:text-brand-500",children:"Connect"})};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:`rounded-lg bg-white border border-gray-100 shadow p-4 ${f?"":"hidden"}`,children:[r.jsx("h3",{className:"font-semibold",children:"People You May Want to Meet "}),r.jsx("div",{className:"mt-4 space-y-3",children:n?r.jsx(r.Fragment,{children:r.jsx(bpe,{})}):r.jsxs(r.Fragment,{children:[e.map((x,w)=>{const j=OO(x);return r.jsxs("div",{className:"rounded-xl border border-gray-100 p-3 relative",children:[j!==null&&r.jsxs("span",{className:"inline-flex mb-1 items-center bg-gray-100 rounded-full text-gray-600  border border-gray-200 px-2 py-0.5 text-[11px] font-semibold ",title:`${j}% match`,children:[j,"% match"]}),r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx(_O,{item:x,idx:w,size:"md"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-medium truncate max-w-[160px]",title:x.name,children:x.name}),r.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[200px]",title:`${x.professionalTitle}`,children:x.professionalTitle}),r.jsx("div",{title:`${x.location}`,className:"text-xs flex items-center mt-1 text-gray-500 truncate max-w-[200px]",children:x.location?r.jsxs(r.Fragment,{children:[r.jsx(Hr,{size:13}),x.location]}):null})]})]}),r.jsx("div",{className:"flex items-center gap-2 shrink-0",children:r.jsx("button",{onClick:()=>{h("/profile/"+x.id)},className:"grid absolute top-2 right-2 _profile shrink-0 place-items-center h-8 w-8 rounded-lg border border-gray-200 text-gray-600",title:"View profile",children:r.jsx(Hs.see,{})})})]}),Array.isArray(x.cats)&&x.cats.length>0&&r.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:x.cats.filter((N,L)=>L<=2).map(N=>r.jsx("span",{className:"inline-block bg-gray-100 text-gray-600 text-[11px] px-2 py-0.5 rounded-full truncate max-w-[120px]",title:N,children:N},N))}),j!==null&&r.jsxs("div",{className:"mt-2 hidden",children:[r.jsx("div",{className:"h-1.5 w-full bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-1.5 bg-brand-500 rounded-full",style:{width:`${j}%`},"aria-hidden":"true"})}),r.jsxs("span",{className:"sr-only",children:[j,"% match"]})]}),r.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[y(x),r.jsx("button",{onClick:()=>{if(!(f!=null&&f.id)){u._showPopUp("login_prompt");return}h(`/messages?userId=${x.id}`),oe.success("Starting conversation with "+x.name)},className:"flex-1 _login_prompt rounded-lg px-3 py-1.5 text-sm border border-gray-200 text-gray-700 bg-white hover:border-brand-500 hover:text-brand-500",children:"Message"})]})]},x.id||x.name||w)}),e.length===0&&r.jsx("div",{className:"text-sm text-gray-500 border rounded-xl p-3",children:"No suggestions right now."})]})})]}),r.jsxs("div",{className:"rounded-lg bg-white border border-gray-100 shadow p-4",children:[r.jsx("h3",{className:"font-semibold",children:"People Around You"}),r.jsx("div",{className:"mt-3 space-y-3",children:n?r.jsx(r.Fragment,{children:r.jsx(wpe,{})}):r.jsxs(r.Fragment,{children:[t.map((x,w)=>{const j=OO(x);return r.jsxs("div",{className:"flex flex-col border-b last:border-b-0 pb-3 last:pb-0 relative",children:[r.jsx("div",{children:j!==null&&r.jsxs("span",{className:"inline-flex mb-2 items-center rounded-full bg-gray-100  text-gray-600  border border-gray-200 px-2 py-0.5 text-[11px] font-semibold",title:`${j}% match`,children:[j,"% match"]})}),r.jsxs("div",{className:"flex items-center justify-between gap-1",children:[r.jsx("div",{className:"flex items-center gap-2 shrink-0",children:r.jsx("button",{onClick:()=>{h("/profile/"+x.id)},className:"grid absolute top-0 right-2 _profile shrink-0 place-items-center h-8 w-8 rounded-lg border border-gray-200 text-gray-600",title:"View profile",children:r.jsx(Hs.see,{})})}),r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx(_O,{item:x,idx:w,size:"sm"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-medium truncate max-w-[160px]",title:x.name,children:x.name}),r.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[200px]",title:`${x.professionalTitle}`,children:x.professionalTitle}),r.jsx("div",{title:`${x.location}`,className:"text-xs flex items-center mt-1 text-gray-500 truncate max-w-[200px]",children:x.location?r.jsxs(r.Fragment,{children:[r.jsx(Hr,{size:13}),x.location]}):null})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:y(x)})]}),Array.isArray(x.cats)&&x.cats.length>0&&r.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:x.cats.filter((N,L)=>L<=2).map(N=>r.jsx("span",{className:"inline-block bg-gray-100 text-gray-600 text-[11px] px-2 py-0.5 rounded-full truncate max-w-[120px]",title:N,children:N},N))}),j!==null&&r.jsxs("div",{className:"mt-2 hidden",children:[r.jsx("div",{className:"h-1.5 w-full bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-1.5 bg-brand-500 rounded-full",style:{width:`${j}%`},"aria-hidden":"true"})}),r.jsxs("span",{className:"sr-only",children:[j,"% match"]})]})]},x.id||x.name||w)}),t.length===0&&r.jsx("div",{className:"text-sm text-gray-500 border rounded-xl p-3",children:"No nearby profiles for these filters."})]})})]})]}),r.jsx($d,{userId:s,isOpen:!!s,onClose:()=>a(null),onSent:b}),r.jsx(Yn,{open:i,onClose:()=>o(!1),toUserId:l.id,toName:l.name,onSent:b})]})}function Dd({activeTab:e}){Ht();const t=e==="Events"?"No events found":e==="Job Opportunities"?"No job opportunities found":"No results found",n=e==="Events"?"We couldnt find events that match your filters.":e==="Job Opportunities"?"We couldnt find job opportunities that match your filters.":"We couldnt find any items that match your filters.";return r.jsx("div",{className:"rounded-2xl border bg-white p-8 text-gray-700",children:r.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[r.jsx("div",{className:"h-16 w-16 rounded-2xl grid place-items-center bg-brand-50",children:r.jsxs("svg",{className:"h-8 w-8 text-brand-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("circle",{cx:"11",cy:"11",r:"7"}),r.jsx("path",{d:"M21 21l-3.5-3.5"})]})}),r.jsx("h3",{className:"text-lg font-semibold text-brand-600",children:t}),r.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:n}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{})]})})}function sf({title:e="Quick Actions",items:t=[]}){const{user:n}=Xt(),s=Ht();return r.jsx(r.Fragment,{children:r.jsxs("div",{className:`rounded-2xl ${n?"":"hidden"} hidden bg-white border border-gray-100 shadow-soft p-4`,children:[r.jsx("h3",{className:"font-semibold text-brand-600",children:e}),r.jsx("ul",{className:"mt-3 space-y-2 text-sm text-gray-700",children:t.filter(a=>!a.hide).map(({label:a,Icon:i,onClick:o,disabled:l,path:c},u)=>r.jsx("li",{children:r.jsxs("button",{type:"button",onClick:c?()=>{s(c)}:o,disabled:l,className:`w-full text-left rounded-lg px-3 py-2 flex items-center gap-2 hover:bg-brand-50 hover:text-brand-600 transition-colors ${l?"opacity-50 cursor-not-allowed":""}`,children:[i?r.jsx(i,{size:16,className:"text-brand-500"}):null,r.jsx("span",{children:a})]})},u))})]})})}const C0="#034ea2",Ac={chevron:({open:e})=>r.jsx("svg",{className:`h-4 w-4 transform transition-transform duration-200 ${e?"rotate-90":""}`,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),bell:()=>r.jsx(nce,{size:18,color:C0}),users:()=>r.jsx(sn,{size:20,color:C0}),chat:()=>r.jsx(cs,{size:16,color:C0}),plus:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M11 5h2v6h6v2h-6v6h-2v-6H5v-2h6z"})}),calendar:()=>r.jsx(Oh,{size:18,color:C0}),check:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"white",children:r.jsx("path",{d:"M9 16.2 4.8 12l-1.8 1.8L9 20l12-12-1.8-1.8z"})}),close:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M18 6 6 18M6 6l12 12"})}),pin:()=>r.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Zm0 10a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z"})})},V4=({title:e,icon:t,children:n,right:s})=>{const[a,i]=d.useState(!1);return r.jsxs("div",{className:"border-b border-gray-100",children:[r.jsxs("button",{onClick:()=>i(!a),className:"w-full flex items-center justify-between px-4 py-3 text-left",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold text-gray-800",children:[t,e]}),r.jsxs("div",{className:"flex items-center gap-2",children:[s,r.jsx(Ac.chevron,{open:a})]})]}),a&&r.jsx("div",{className:"px-4 pb-4",children:n})]})},G4=({n:e})=>r.jsx("span",{className:"ml-2 inline-flex h-5 min-w-[20px] items-center justify-center rounded-full bg-[#FF6B6B] px-1.5 text-[11px] font-semibold text-white",children:e}),$O=a=>{var i=a,{children:e,className:t="",style:n}=i,s=pc(i,["children","className","style"]);return r.jsx("button",he(te({className:`h-8 w-8 grid place-items-center rounded-full shadow-sm ${t}`,style:n},s),{children:e}))};function jpe(){const{user:e}=Xt(),t=Ht(),{socket:n,connected:s}=lw(),[a,i]=d.useState([]),[o,l]=d.useState([]),[c,u]=d.useState([]),[f,h]=d.useState(!0),g=(y,x,w)=>new Promise((j,N)=>{if(!n||!s)return N(new Error("Socket not connected"));let L;const k=()=>{clearTimeout(L),w&&n.off(w,E)},E=S=>{k(),j(S)};n.emit(y,x||{},S=>{k(),j(S)}),w&&n.once(w,E),L=setTimeout(()=>{k(),N(new Error(`${y} timeout`))},7e3)}),m=()=>pe(this,null,function*(){var y,x,w,j,N,L,k;if(!(!n||!s))try{h(!0);const[E,S,I]=yield Promise.all([g("qa_fetch_connection_requests",{},"qa_fetch_connection_requests_result"),g("qa_fetch_recent_chats",{},"qa_fetch_recent_chats_result"),g("qa_fetch_upcoming_meetings",{},"qa_fetch_upcoming_meetings_result")]),C=(w=(x=(y=E==null?void 0:E.data)==null?void 0:y.incoming)!=null?x:E==null?void 0:E.incoming)!=null?w:[],M=(N=(j=S==null?void 0:S.data)!=null?j:S)!=null?N:[],A=(k=(L=I==null?void 0:I.data)!=null?L:I)!=null?k:[];i(C),l(M),u(A)}catch(E){console.error("QuickActions loadData error:",E)}finally{h(!1)}});d.useEffect(()=>{e&&s&&m()},[e,s]),d.useEffect(()=>{if(!e||!s)return;const y=setInterval(()=>{m()},5e3);return()=>clearInterval(y)},[e,s]);const p=(y,x)=>pe(this,null,function*(){try{const w=yield g("qa_respond_connection_request",{requestId:y,action:x},"qa_respond_connection_request_result");w!=null&&w.ok&&m()}catch(w){console.error("respond error:",w)}}),v=y=>{t(`/messages?userId=${y}`)},b=y=>{const x=c.find(w=>w.id===y);x&&(x.mode==="in_person"&&x.location?window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(x.location)}`,"_blank"):x.link&&window.open(x.link,"_blank"))};return e?r.jsxs("aside",{className:`w-full hidden ${e?"":"hidden"} max-w-sm rounded-2xl border border-gray-200 bg-white shadow-sm my-2`,children:[r.jsxs("div",{className:"px-4 pt-4 pb-3 border-b border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ac.bell,{}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Hub"})]}),r.jsx("button",{onClick:m,className:"h-8 w-8 grid place-items-center rounded-full border border-gray-200 text-gray-600 hover:bg-gray-50",title:"Refresh",children:r.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Stay connected and organized"})]}),r.jsx(V4,{title:"Connection Requests",icon:r.jsx(Ac.users,{}),right:r.jsx(G4,{n:a.length}),children:f?r.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:"Loading"}):a.length===0?r.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:"No pending connection requests"}):a.map(y=>{var x,w;return r.jsxs("div",{className:"flex items-center justify-between mb-3 hover:bg-gray-50 cursor-pointer",children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx("img",{src:((x=y.from)==null?void 0:x.avatarUrl)||"https://i.pravatar.cc/80?img=1",alt:"",className:"h-9 w-9 rounded-full object-cover flex-shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-[14px] font-semibold text-gray-900 truncate",children:y.fromName||((w=y.from)==null?void 0:w.name)}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:y.reason||"Professional"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($O,{style:{background:C0},onClick:()=>p(y.id,"accept"),children:r.jsx(Ac.check,{})}),r.jsx($O,{className:"border border-gray-200 text-gray-500 bg-white",onClick:()=>p(y.id,"reject"),children:r.jsx(Sr,{size:18})})]})]},y.id)})}),r.jsx(V4,{title:"Recent Chats",icon:r.jsx(Ac.chat,{}),right:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>t("/messages"),className:"h-7 w-7 grid place-items-center rounded-md border border-gray-200 text-gray-600 hover:bg-gray-50",children:r.jsx(Ac.plus,{})}),r.jsx(G4,{n:o.length})]}),children:f?r.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:"Loading"}):o.length===0?r.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:"No recent chats"}):o.map(y=>r.jsxs("div",{className:"flex items-center justify-between mb-3 rounded-lg px-2 py-1 hover:bg-gray-50 cursor-pointer",onClick:()=>v(y.otherUser.id),children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:y.otherUser.avatarUrl||"https://i.pravatar.cc/80?img=1",alt:"",className:"h-9 w-9 rounded-full object-cover flex-shrink-0"}),r.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-2 ring-white bg-gray-300"})]}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:y.otherUser.name}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:y.lastMessage||"No messages yet"})]})]}),r.jsx("span",{className:"text-[11px] text-gray-400",children:y.lastMessageTime?new Date(y.lastMessageTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):""})]},y.id))}),r.jsx(V4,{title:"Upcoming Meetings",icon:r.jsx(Ac.calendar,{}),right:r.jsx(G4,{n:c.length}),children:f?r.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:"Loading"}):c.length===0?r.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:"No upcoming meetings"}):c.map(y=>{const x=new Date(y.scheduledAt),w=new Date,j=new Date;j.setDate(w.getDate()+1);let N="";x.toDateString()===w.toDateString()?N="Today":x.toDateString()===j.toDateString()?N="Tomorrow":N=x.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});const L=x.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),k=y.fromUserId===(e==null?void 0:e.id)?y.recipient:y.requester;return r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white mb-3",children:[r.jsxs("div",{className:"p-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-semibold text-gray-800",children:y.title}),r.jsx("span",{className:`rounded-full text-[11px] px-2 py-0.5 ${N==="Today"?"bg-orange-100 text-orange-700":N==="Tomorrow"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:N})]}),r.jsxs("div",{className:"mt-1 text-xs text-gray-500 flex items-center gap-1.5",children:[r.jsx(Ac.pin,{})," with ",(k==null?void 0:k.name)||"Unknown","  ",L]})]}),r.jsx("div",{className:"p-3 pt-0",children:r.jsx("button",{className:"w-full rounded-xl px-4 py-2.5 text-sm font-semibold text-white",style:{background:C0},onClick:()=>b(y.id),children:y.mode==="in_person"?"See Map":"Join Meeting"})})]},y.id)})})]}):null}function af(){const{user:e,profile:t}=Xt(),n=(e==null?void 0:e.organizationId)&&(e==null?void 0:e.organization);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`rounded-2xl bg-white hidden border p-4 shadow-sm ${e?"":"hidden"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("img",{src:(t==null?void 0:t.avatarUrl)||(e==null?void 0:e.avatarUrl)||"https://www.gravatar.com/avatar/?d=mp&s=200",alt:"",className:"h-12 w-12 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-semibold",children:e==null?void 0:e.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:[t==null?void 0:t.primaryIdentity,r.jsx("br",{}),e==null?void 0:e.city," ",e!=null&&e.city&&(e!=null&&e.country||e!=null&&e.countryOfResidence)?",":""," ",(e==null?void 0:e.country)||(e==null?void 0:e.countryOfResidence)]}),n&&r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-50 rounded-full",children:[e.organization.avatarUrl?r.jsx("img",{src:e.organization.avatarUrl,alt:e.organization.name,className:"w-4 h-4 rounded-full object-cover"}):r.jsx("div",{className:"w-4 h-4 bg-blue-200 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-xs text-blue-700 font-medium",children:e.organization.name.charAt(0).toUpperCase()})}),r.jsx("span",{className:"text-xs text-blue-700 font-medium truncate max-w-24",children:e.organization.name})]}),(e==null?void 0:e.organizationRole)&&r.jsxs("span",{className:"text-xs text-gray-500",children:[" ",e.organizationRole]})]})]})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-2 bg-gray-50 rounded-xl text-center text-sm",children:[r.jsxs("div",{className:"p-3 border-r",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Connections"}),r.jsx("div",{className:"font-semibold",children:"1"})]}),r.jsxs("div",{className:"p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Posts"}),r.jsx("div",{className:"font-semibold"})]})]}),r.jsxs("button",{className:`mt-4 ${HC.primaryWide} flex items-center justify-center`,children:[r.jsxs("svg",{width:"19",height:"16",viewBox:"0 0 19 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("g",{clipPath:"url(#clip0_294_101)",children:r.jsx("path",{d:"M9.96875 3.3125C10.325 3.09375 10.5625 2.69687 10.5625 2.25C10.5625 1.55937 10.0031 1 9.3125 1C8.62187 1 8.0625 1.55937 8.0625 2.25C8.0625 2.7 8.3 3.09375 8.65625 3.3125L6.86562 6.89375C6.58125 7.4625 5.84375 7.625 5.34688 7.22813L2.5625 5C2.71875 4.79063 2.8125 4.53125 2.8125 4.25C2.8125 3.55938 2.25312 3 1.5625 3C0.871875 3 0.3125 3.55938 0.3125 4.25C0.3125 4.94062 0.871875 5.5 1.5625 5.5C1.56875 5.5 1.57812 5.5 1.58438 5.5L3.0125 13.3562C3.18438 14.3062 4.0125 15 4.98125 15H13.6438C14.6094 15 15.4375 14.3094 15.6125 13.3562L17.0406 5.5C17.0469 5.5 17.0562 5.5 17.0625 5.5C17.7531 5.5 18.3125 4.94062 18.3125 4.25C18.3125 3.55938 17.7531 3 17.0625 3C16.3719 3 15.8125 3.55938 15.8125 4.25C15.8125 4.53125 15.9062 4.79063 16.0625 5L13.2781 7.22813C12.7812 7.625 12.0437 7.4625 11.7594 6.89375L9.96875 3.3125Z",fill:"white"})}),r.jsx("defs",{children:r.jsx("clipPath",{id:"clip0_294_101",children:r.jsx("path",{d:"M0.3125 0H18.3125V16H0.3125V0Z",fill:"white"})})})]}),r.jsx("span",{className:"ml-1",children:"Boost Your Profile"})]})]}),r.jsx(jpe,{})]})}const Npe=()=>r.jsxs("div",{className:"group relative rounded-[15px] border border-gray-100 bg-white shadow-sm overflow-hidden flex flex-col animate-pulse",children:[r.jsxs("div",{className:"relative overflow-hidden",children:[r.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-gray-200 to-gray-300"}),r.jsx("div",{className:"absolute top-4 left-4",children:r.jsx("div",{className:"w-20 h-6 bg-gray-300 rounded-full"})}),r.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),r.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"})]})]}),r.jsxs("div",{className:"p-5 flex flex-col flex-1",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2 w-3/4"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded mb-1 w-full"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]}),r.jsx("div",{className:"mb-3",children:r.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3"})}),r.jsxs("div",{className:"mb-3 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-7 h-7 bg-gray-300 rounded-full"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]}),r.jsx("div",{className:"h-5 bg-gray-200 rounded w-20"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"h-3 bg-gray-200 rounded w-12"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]}),r.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-12"})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-2",children:[r.jsx("div",{className:"h-10 w-10 bg-gray-300 rounded-xl flex-shrink-0"}),r.jsx("div",{className:"flex-1 h-10 bg-gray-300 rounded-xl"}),r.jsx("div",{className:"h-10 w-20 bg-gray-300 rounded-xl"})]})]}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent opacity-50"})]});function Rd({columns:e=3,count:t=6,className:n=""}){const s=Array.from({length:t},(i,o)=>r.jsx(Npe,{},o)),a=()=>{const i={1:"grid-cols-1",2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",5:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",6:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6"};return i[e]||i[3]};return r.jsx("div",{className:`grid ${a()} gap-6 ${n}`,children:s})}const hl=({onRetry:e,message:t="Failed to load feed. Please try again.",buttonText:n="Try Again"})=>r.jsx("div",{className:"min-h-[160px] flex items-center justify-center",children:r.jsxs("div",{className:"text-center p-6 bg-white rounded-xl border border-gray-200 max-w-md w-full",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(JE,{className:"w-6 h-6 text-red-600"})})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Oops! Something went wrong"}),r.jsx("p",{className:"text-gray-600 mb-6",children:t}),r.jsxs("button",{onClick:e,className:"inline-flex items-center gap-2 px-6 py-3 bg-brand-600 text-white rounded-lg hover:bg-brand-700 transition-colors font-medium",children:[r.jsx(zde,{className:"w-4 h-4"}),n]})]})});function Spe(e,t=400){const[n,s]=d.useState(e);return d.useEffect(()=>{const a=setTimeout(()=>s(e),t);return()=>clearTimeout(a)},[e,t]),n}function Cpe(){const e=Ht();d.useState(!1);const[t,n]=d.useState("All");d.useMemo(()=>["All","Events","Jobs","Needs","Moments","Services","Products","Experiences","Funding"],[]);const[s,a]=d.useState(""),i=Spe(s,400),[o,l]=d.useState(),[c,u]=d.useState(),[f,h]=d.useState(),[g,m]=d.useState(),[p,v]=d.useState(),[b,y]=d.useState(),[x,w]=d.useState([]),[j,N]=d.useState([]),[L,k]=d.useState([]),[E,S]=d.useState([]),[I,C]=d.useState(!1),[M,A]=d.useState(0),[H,W]=d.useState(0),[X,J]=d.useState(!1),Z=d.useRef(null),[F,D]=d.useState(!0),[O,T]=d.useState(!1),R=d.useRef(null);d.useRef(null);const z=d.useRef(0),_=d.useRef(null),U=d.useRef(0),Q=d.useRef(!1),re=d.useRef(!1),le=d.useRef({}),ue=d.useRef(null),[ge,ke]=d.useState([]),[tt,He]=d.useState([]),[ze,rt]=d.useState(!1),[Xe,V]=d.useState(!1);d.useState([]),d.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set});const[ne,Ce]=d.useState([]),[fe,xe]=d.useState("list"),se=yr(),{user:ae,settings:G}=Xt();d.useEffect(()=>{pe(this,null,function*(){try{const{data:Te}=yield Se.get("/feed/meta");w(Te.categories||[]),N(Te.countries||[]),k(Te.goals||[])}catch(Te){console.error(Te)}})},[]);const Ne=d.useCallback(()=>pe(this,null,function*(){_.current&&_.current.abort(),_.current=new AbortController;const Te=Date.now();U.current=Te,Q.current&&console.log("Canceling previous request"),Q.current=!0,C(!0);try{const _e={tab:t==="Events"?"events":t==="Jobs"?"jobs":t==="Needs"?"needs":t==="Moments"?"moments":t==="Services"?"services":t==="Products"?"products":t==="Experiences"?"tourism":t==="Funding"?"funding":"all",q:i||void 0,country:o||void 0,city:c||void 0,goalId:p||void 0,role:b||void 0,categoryId:f||void 0,subcategoryId:g||void 0,industryIds:ne.length>0?ne.join(","):void 0,limit:5,offset:0},{data:be}=yield Se.get("/feed",{params:_e,signal:_.current.signal});if(Te===U.current){const Y=Array.isArray(be.items)?be.items:[];S(Y),A(typeof be.total=="number"?be.total:Y.length),D(typeof be.total=="number"?Y.length<be.total:Y.length===5),z.current=Y.length,J(!1),Z.current&&(clearTimeout(Z.current),Z.current=null)}}catch(lt){if(lt.name==="AbortError"){console.log("Request was canceled");return}console.error("Failed to load feed:",lt),Te===U.current&&(S([]),J(!0),Z.current&&clearTimeout(Z.current),Z.current=setTimeout(()=>{Ne()},3e3))}finally{Te===U.current&&(Q.current=!1,C(!1),_.current=null)}}),[t,i,o,c,f,g,p,b,ne]),Be=d.useCallback(()=>pe(this,null,function*(){if(!(Q.current||I||O||!F)){Q.current=!0,T(!0);try{const lt={tab:t==="Events"?"events":t==="Jobs"?"jobs":t==="Needs"?"needs":t==="Moments"?"moments":t==="Services"?"services":t==="Products"?"products":t==="Experiences"?"tourism":t==="Funding"?"funding":"all",q:i||void 0,country:o||void 0,city:c||void 0,goalId:p||void 0,role:b||void 0,categoryId:f||void 0,subcategoryId:g||void 0,industryIds:ne.length>0?ne.join(","):void 0,limit:5,offset:z.current},{data:_e}=yield Se.get("/feed",{params:lt}),be=Array.isArray(_e.items)?_e.items:[];S(Y=>[...Y,...be]),z.current+=be.length,D(be.length===5),J(!1)}catch(Te){console.error("Failed to load more:",Te)}finally{Q.current=!1,T(!1)}}}),[t,i,o,c,f,g,p,b,ne,E.length,I,O,F]);d.useEffect(()=>{const Te=JSON.stringify({activeTab:t,debouncedQ:i,country:o,city:c,categoryId:f,subcategoryId:g,goalId:p,role:b,selectedIndustries:[...ne].sort()});if(Te!==le.current)return le.current=Te,ue.current&&clearTimeout(ue.current),_.current&&_.current.abort(),re.current?ue.current=setTimeout(()=>{Ne()},300):(re.current=!0,Ne()),()=>{ue.current&&clearTimeout(ue.current),Z.current&&clearTimeout(Z.current)}},[t,i,o,c,f,g,p,b,ne,Ne]),d.useEffect(()=>{pe(this,null,function*(){rt(!0);try{const Te={q:i||void 0,country:o||void 0,city:c||void 0,goalId:p||void 0,role:b||void 0,categoryId:f||void 0,subcategoryId:g||void 0,industryIds:ne.length>0?ne.join(","):void 0,limit:10},{data:lt}=yield Se.get("/feed/suggestions",{params:Te});ke(lt.matches||[]),He(lt.nearby||[])}catch(Te){console.error(Te)}finally{rt(!1)}})},[i,o,c,f,g,b,p,ne]),d.useEffect(()=>{if(!R.current||!F)return;const Te=R.current,lt=new IntersectionObserver(_e=>{const[be]=_e;be.isIntersecting&&Be()},{root:null,rootMargin:"700px",threshold:0});return lt.observe(Te),()=>lt.disconnect()},[R,F,Be]);const dt={setShowTotalCount:W,query:s,setQuery:a,country:o,setCountry:l,city:c,setCity:u,categoryId:f,setCategoryId:h,subcategoryId:g,setSubcategoryId:m,categories:x,countries:j,role:b,setGoalId:v,setRole:y,goalId:p,goals:L,selectedIndustries:ne,setSelectedIndustries:Ce,onApply:()=>V(!1)},nt=Te=>{var lt,_e,be,Y,ie,de,$e,it,gt,De,Le,Ae;return Te.kind==="job"?r.jsx(Od,{type:fe,matchPercentage:Te.matchPercentage,job:he(te({},Te),{categoryName:(lt=x.find(Pe=>String(Pe.id)===String(Te.categoryId)))==null?void 0:lt.name,subcategoryName:(Y=(be=(_e=x.find(Pe=>String(Pe.id)===String(Te.categoryId)))==null?void 0:_e.subcategories)==null?void 0:be.find(Pe=>String(Pe.id)===String(Te.subcategoryId)))==null?void 0:Y.name})},`job-${Te.id}`):Te.kind==="need"?r.jsx(ec,{type:fe,matchPercentage:Te.matchPercentage,need:he(te({},Te),{categoryName:(ie=x.find(Pe=>String(Pe.id)===String(Te.categoryId)))==null?void 0:ie.name,subcategoryName:(it=($e=(de=x.find(Pe=>String(Pe.id)===String(Te.categoryId)))==null?void 0:de.subcategories)==null?void 0:$e.find(Pe=>String(Pe.id)===String(Te.subcategoryId)))==null?void 0:it.name})},`need-${Te.id}`):Te.kind==="service"?r.jsx(fw,{type:fe,item:Te,matchPercentage:Te.matchPercentage,currentUserId:ae==null?void 0:ae.id},`service-${Te.id}`):Te.kind==="product"?r.jsx(hw,{type:fe,item:Te,matchPercentage:Te.matchPercentage,currentUserId:ae==null?void 0:ae.id},`product-${Te.id}`):Te.kind==="moment"?r.jsx(tc,{type:fe,matchPercentage:Te.matchPercentage,moment:he(te({},Te),{categoryName:(gt=x.find(Pe=>String(Pe.id)===String(Te.categoryId)))==null?void 0:gt.name,subcategoryName:(Ae=(Le=(De=x.find(Pe=>String(Pe.id)===String(Te.categoryId)))==null?void 0:De.subcategories)==null?void 0:Le.find(Pe=>String(Pe.id)===String(Te.subcategoryId)))==null?void 0:Ae.name})},`moment-${Te.id}`):Te.kind==="tourism"?r.jsx(gw,{type:fe,item:Te,matchPercentage:Te.matchPercentage,currentUserId:ae==null?void 0:ae.id},`tourism-${Te.id}`):Te.kind==="funding"?r.jsx(mw,{type:fe,item:Te,matchPercentage:Te.matchPercentage,currentUserId:ae==null?void 0:ae.id},`funding-${Te.id}`):r.jsx(nf,{type:fe,item:Te,e:Te,matchPercentage:Te.matchPercentage},`event-${Te.id}`)};return r.jsxs(ei,{children:[r.jsxs("main",{className:`mx-auto ${se._openPopUps.profile?"relative z-50":""} max-w-7xl px-4 sm:px-6 lg:px-8 py-6 grid lg:grid-cols-12 gap-6`,children:[r.jsx(Ed,{onClick:()=>V(!0)}),r.jsxs("aside",{className:"lg:col-span-3 hidden lg:flex flex-col space-y-4 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto pr-1",children:[r.jsx("div",{className:"_sticky top-0 z-10 _bg-white",children:r.jsx(Kl,te({},dt))}),r.jsx(sf,{title:"Quick Actions",items:[{label:"Edit Profile",Icon:hd,onClick:()=>e("/profile")},{label:"Settings and Privacy",Icon:hd,onClick:()=>e("/settings")},{label:"Share a Job Opening",Icon:Cn,onClick:()=>e("/jobs/create"),hide:(ae==null?void 0:ae.accountType)=="individual"},{label:"Create an Event",Icon:Cn,onClick:()=>e("/events/create"),hide:(ae==null?void 0:ae.accountType)=="individual"},{label:(ae==null?void 0:ae.accountType)=="company"?"Share an experience":"Highlight a career progress",Icon:Cn,onClick:()=>e("/moment/job/create"),from:"job",hide:(ae==null?void 0:ae.accountType)=="company"},{label:"Find Jobs",Icon:Cn,onClick:()=>e("/need/job/create"),from:"job",hide:(ae==null?void 0:ae.accountType)=="company"},{label:"Highlight an event",Icon:Cn,onClick:()=>e("/moment/event/create"),from:"event",hide:(ae==null?void 0:ae.accountType)=="company"},{label:"Ask About an Event",Icon:Cn,onClick:()=>e("/need/event/create"),from:"event",hide:(ae==null?void 0:ae.accountType)=="company"}]}),r.jsx(af,{})]}),r.jsxs("div",{className:"lg:col-span-9 grid lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx("div",{className:"flex items-center flex-wrap w-full justify-between mb-4",children:r.jsx(Xu,{from:"feed",typeOfPosts:[{label:"Share a job opening",Icon:ix,from:"job",hide:(ae==null?void 0:ae.accountType)==="individual"},{label:"Host an event",Icon:kH,from:"event",hide:(ae==null?void 0:ae.accountType)==="individual"},{label:"Add new product",Icon:kd,from:"product",hide:(ae==null?void 0:ae.accountType)==="individual"},{label:"Add new service",Icon:cce,from:"service",hide:(ae==null?void 0:ae.accountType)==="individual"},{label:"Post a tourism attraction",Icon:Hr,from:"tourism",hide:(ae==null?void 0:ae.accountType)==="individual"},{label:"Publish an opportunity",Icon:Cd,from:"funding",hide:(ae==null?void 0:ae.accountType)==="individual"},{label:"Share work experience",Icon:Ku,from:"job",hide:(ae==null?void 0:ae.accountType)==="individual"},{label:"Highlight an event",Icon:Ji,from:"event",hide:(ae==null?void 0:ae.accountType)==="individual"},{label:"Highlight a product",Icon:due,from:"product",hide:(ae==null?void 0:ae.accountType)==="individual"},{label:"Highlight a service",Icon:dh,from:"service",hide:(ae==null?void 0:ae.accountType)==="individual"},{label:"Highlight a tourism attraction",Icon:ode,from:"tourism",hide:(ae==null?void 0:ae.accountType)==="individual"},{label:"Highlight an opportunity",Icon:kue,from:"funding",hide:(ae==null?void 0:ae.accountType)==="individual"},{label:"Find jobs",Icon:Ja,from:"job",hide:(ae==null?void 0:ae.accountType)==="company"},{label:"Find events",Icon:EH,from:"event",hide:(ae==null?void 0:ae.accountType)==="company"},{label:"Find Products",Icon:Zde,from:"product",hide:(ae==null?void 0:ae.accountType)==="company"},{label:"Find Services",Icon:Vde,from:"service",hide:(ae==null?void 0:ae.accountType)==="company"},{label:"Explore tourism attractions",Icon:no,from:"tourism",hide:(ae==null?void 0:ae.accountType)==="company"},{label:"Explore funding opportunities",Icon:MH,from:"funding",hide:(ae==null?void 0:ae.accountType)==="company"},{label:"Highlight a career progress",Icon:ka,from:"job",hide:(ae==null?void 0:ae.accountType)==="company"},{label:"Highlight an event",Icon:zC,from:"event",hide:(ae==null?void 0:ae.accountType)==="company"},{label:"Highlight a product",Icon:YE,from:"product",hide:(ae==null?void 0:ae.accountType)==="company"},{label:"Highlight a service",Icon:_H,from:"service",hide:(ae==null?void 0:ae.accountType)==="company"},{label:"Share tourism experiences",Icon:os,from:"tourism",hide:(ae==null?void 0:ae.accountType)==="company"},{label:"Highlight a funding opportunity",Icon:PH,from:"funding",hide:(ae==null?void 0:ae.accountType)==="company"}]})}),r.jsxs("section",{className:"space-y-4 overflow-hidden",children:[X&&r.jsx(hl,{onRetry:()=>{J(!1),Z.current&&clearTimeout(Z.current),Z.current=null,ue.current&&clearTimeout(ue.current),ue.current=null,Ne()},message:"Failed to load feed. Please try again.",buttonText:"Try Again"}),I&&r.jsx("div",{className:"min-h-[160px] grid text-gray-600",children:r.jsx(Rd,{columns:1})}),!X&&!I&&H&&r.jsxs("div",{className:"text-sm text-gray-600",children:[M," result",M===1?"":"s"]}),!X&&!I&&E.length===0&&r.jsx(Dd,{activeTab:t}),!X&&!I&&E.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`grid grid-cols-1 ${fe==="list"?"sm:grid-cols-1":"lg:grid-cols-3"} gap-6`,children:E.map(nt)}),!I&&F&&r.jsx("div",{ref:R,className:"h-10 w-full",children:O&&r.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Loading more"})})]})]})]}),r.jsx("aside",{className:"lg:col-span-1 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto",children:r.jsx(Pd,{loading:ze,matches:ge,nearby:tt})})]})]}),r.jsx(Ld,te({isOpen:Xe,onClose:()=>V(!1)},dt))]})}const kpe={avatar:{aspect:1,minWidth:100,minHeight:100}},Epe=({value:e,onChange:t,error:n,citiesLoading:s,getCitiesForCountry:a})=>{const[i,o]=d.useState(!1),[l,c]=d.useState(""),[u,f]=d.useState("");if(s)return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Other Countries of Operations (Branches) ",r.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),r.jsxs("div",{className:"flex items-center justify-center p-4",children:[r.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-500",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading cities..."})]})]});const h=()=>{if(l&&u){const p={country:l,city:u};t([...e,p]),c(""),f(""),o(!1)}},g=p=>{const v=e.filter((b,y)=>y!==p);t(v)},m=(p,v)=>{const b=e.map((y,x)=>x===p?he(te({},y),{city:v}):y);t(b)};return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Other Countries of Operations (Branches) ",r.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),e.length>0&&r.jsx("div",{className:"space-y-2",children:e.map((p,v)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg bg-gray-50",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-sm",children:p.country}),r.jsxs("div",{className:"text-xs text-gray-500",children:["City: ",p.city]})]}),r.jsx(Bn,{options:a(p.country),value:p.city,onChange:b=>m(v,b),placeholder:"Select city",className:"w-48"}),r.jsx("button",{type:"button",onClick:()=>g(v),className:"p-1 text-red-500 hover:text-red-700",title:"Remove",children:r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]},v))}),i?r.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg bg-blue-50 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(Bn,{options:An,value:l,onChange:c,placeholder:"Select country"}),r.jsx(Bn,{options:l?a(l):[],value:u,onChange:f,placeholder:"Select city",disabled:!l})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:h,disabled:!l||!u,className:"px-3 py-1 bg-brand-600 text-white rounded-lg text-sm hover:bg-brand-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),r.jsx("button",{type:"button",onClick:()=>{o(!1),c(""),f("")},className:"px-3 py-1 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:"Cancel"})]})]}):r.jsxs("button",{type:"button",onClick:()=>o(!0),className:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})}),"Add Country & City"]}),n&&r.jsx("p",{className:"text-xs text-red-600",children:n}),r.jsx("p",{className:"text-xs text-gray-500",children:"Select countries where your company has branches or operations (optional)"})]})};function q4(){const e=Ht(),[t,n]=d.useState(!1),[s,a]=d.useState(!1),[i,o]=d.useState([]),[l,c]=d.useState(!0);d.useEffect(()=>{pe(this,null,function*(){try{const ne=yield fetch("/data/cities.json");if(!ne.ok)throw new Error("Failed to fetch cities");const Ce=yield ne.json();o(Ce)}catch(ne){console.error("Error fetching cities:",ne),oe.error("Failed to load cities data")}finally{c(!1)}})},[]);const u=d.useMemo(()=>i.slice(0,1e4).map(V=>({value:V.city,label:`${V.city}${V.country?`, ${V.country}`:""}`,country:V.country})),[i]),f=d.useCallback(V=>V?u.filter(ne=>{var Ce;return((Ce=ne.country)==null?void 0:Ce.toLowerCase())===V.toLowerCase()}):[],[u]);d.useState("All"),d.useMemo(()=>["All","Events","Jobs","Services","Products"],[]);const[h,g]=d.useState("signup"),[m,p]=d.useState({email:"",password:"",remember:!1}),[v,b]=d.useState({email:"",password:""}),[y,x]=d.useState({name:"",email:"",phone:"",country:"",password:"",confirmPassword:"",tos:!1,avatarUrl:null,avatarPreview:null,birthDate:"",gender:"",nationality:"",otherCountries:[],webpage:""}),[w,j]=d.useState({name:"",email:"",phone:"",country:"",password:"",confirmPassword:"",tos:"",avatarUrl:"",birthDate:"",gender:"",nationality:"",otherCountries:"",webpage:""}),[N,L]=d.useState("individual"),[k,E]=d.useState(!1),[S,I]=d.useState(!1),[C,M]=d.useState(!1),[A,H]=d.useState(!1),[W,X]=d.useState(!1),[J,Z]=d.useState(null),[F,D]=d.useState({width:0,height:0}),O=V=>{const{name:ne,value:Ce,type:fe,checked:xe}=V.target;p(se=>he(te({},se),{[ne]:fe==="checkbox"?xe:Ce})),b(se=>he(te({},se),{[ne]:""}))},T=V=>{const{name:ne,value:Ce,type:fe,checked:xe}=V.target;x(se=>he(te({},se),{[ne]:fe==="checkbox"?xe:Ce})),j(se=>he(te({},se),{[ne]:""}))},R=(V,ne)=>pe(this,null,function*(){if(ne){if(ne.size>5242880){j(xe=>he(te({},xe),{[V]:"File size must be less than 5MB"}));return}if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(ne.type)){j(xe=>he(te({},xe),{[V]:"Please select a valid image file (JPG, PNG, GIF, WEBP)"}));return}{const xe=new FileReader;xe.onload=se=>{const ae=new Image;ae.onload=()=>{D({width:ae.width,height:ae.height}),Z(se.target.result),X(!0)},ae.src=se.target.result},xe.readAsDataURL(ne),x(se=>he(te({},se),{avatarFile:null,avatarPreview:null}))}j(xe=>he(te({},xe),{avatarUrl:""}))}else x(Ce=>he(te({},Ce),{avatarFile:null,avatarPreview:null}))}),z=V=>{const ne=V.type||"image/jpeg",Ce=ne==="image/png"?"png":ne==="image/webp"?"webp":"jpg",fe=`avatar-${Date.now()}.${Ce}`,xe=new File([V],fe,{type:ne}),se=URL.createObjectURL(V);x(ae=>he(te({},ae),{avatarFile:xe,avatarPreview:se})),X(!1),Z(null),D({width:0,height:0})},_=()=>{X(!1),Z(null),D({width:0,height:0})},U=N==="company"?"Company name":"Name",Q=N==="company"?"Company email":"Email Address",re=N==="company"?"Company phone":"Phone Number",le=V=>/^[^\s@]+@[^\s@]+\.[a-zA-Z]{2,}$/.test(String(V||"").toLowerCase());function ue(){const V={email:"",password:""};return m.email?le(m.email)||(V.email="Please enter a valid email."):V.email="Email is required.",m.password||(V.password="Password is required."),b(V),!V.email&&!V.password}function ge(){const V={name:"",email:"",phone:"",country:"",password:"",confirmPassword:"",tos:"",birthDate:"",gender:"",nationality:"",otherCountries:"",webpage:""};if(y.name?y.name.trim().length<2?V.name=`${U} must be at least 2 characters long.`:/^[\p{L}0-9\s\-'\.]+$/u.test(y.name.trim())||(V.name=`${U} can only contain letters, numbers, spaces, hyphens, apostrophes, and periods.`):V.name=`${U} is required.`,y.email?le(y.email)||(V.email="Please enter a valid email."):V.email=`${Q} is required.`,!y.phone)V.phone=`${re} is required.`;else{const ne=String(y.phone).replace(/\D/g,"");ne.length<6?V.phone="Please enter a valid phone number.":ne.length>15?V.phone="Phone number is too long.":/^\+?[\d\s\-\(\)]+$/.test(y.phone)||(V.phone="Please enter a valid phone number format.")}if(y.country||(V.country="Country is required."),y.password?y.password.length<8?V.password="Password must be at least 8 characters long.":/^(?=.*[A-Za-z])(?=.*\d)(?=.*[^A-Za-z\d]).+$/.test(y.password)||(V.password="Create a strong password with a mix of letters, numbers and symbols."):V.password="Password is required.",y.confirmPassword?y.password!==y.confirmPassword&&(V.confirmPassword="Passwords do not match."):V.confirmPassword="Please confirm password.",y.tos||(V.tos="You must agree to the Terms and Privacy Policy."),N==="individual"){if(!y.birthDate)V.birthDate="Birth date is required.";else{const ne=new Date(y.birthDate),Ce=new Date,fe=18,xe=120;if(ne>Ce)V.birthDate="Birth date cannot be in the future.";else{const se=Ce.getFullYear()-ne.getFullYear();se<fe?V.birthDate="You must be at least 18 years old.":se>xe&&(V.birthDate="Please enter a valid birth date.")}}y.gender||(V.gender="Gender is required."),y.nationality||(V.nationality="Nationality is required.")}if(N==="company"){const ne=/^(https?:\/\/)?([\w-]+\.)+[a-zA-Z]{2,}(\/\S*)?$/;y.webpage&&!ne.test(y.webpage.trim())&&(V.webpage="Please enter a valid website address (e.g. google.com)")}return j(V),Object.values(V).every(ne=>!ne)}function ke(V){return pe(this,null,function*(){var ne;if(V.preventDefault(),!ue()){oe.error("Please fix the highlighted fields.");return}H(!0);try{const Ce=Se.post("/auth/login",{email:m.email,password:m.password}),fe=yield oe.promise(Ce,{loading:"Signing you in",success:"Welcome back! ",error:se=>{var ae,G;return((G=(ae=se==null?void 0:se.response)==null?void 0:ae.data)==null?void 0:G.message)||"Login failed. Check your credentials."}},{id:"login"}),xe=(ne=fe==null?void 0:fe.data)==null?void 0:ne.token;xe&&(localStorage.setItem("auth_token",xe),localStorage.setItem("token",xe),window.location.href="/")}catch(Ce){H(!1)}finally{H(!1)}})}const tt=V=>pe(this,null,function*(){try{const ne=new FormData;return ne.append("file",V),(yield Se.post("/profile/uploadLogo",ne,{headers:{"Content-Type":"multipart/form-data"}})).data.url}catch(ne){throw console.error("Error uploading file:",ne),new Error("Failed to upload file")}});function He(V){return pe(this,null,function*(){var ne;if(V.preventDefault(),!ge()){oe.error("Please fix the highlighted fields.");return}H(!0);try{let Ce=null;if(y.avatarFile)try{Ce=yield tt(y.avatarFile)}catch(G){oe.error("Failed to upload profile picture. Please try again."),H(!1);return}const fe={name:y.name,email:y.email,phone:y.phone,countryOfResidence:y.country,password:y.password,accountType:N,avatarUrl:Ce,birthDate:y.birthDate,gender:y.gender,nationality:y.nationality,otherCountries:y.otherCountries,webpage:y.webpage},xe=Se.post("/auth/signup",fe),se=yield oe.promise(xe,{loading:"Creating your account",success:"Account created! ",error:G=>{var Ne,Be;return((Be=(Ne=G==null?void 0:G.response)==null?void 0:Ne.data)==null?void 0:Be.message)||"Sign up failed."}},{id:"signup"}),ae=((ne=se==null?void 0:se.data)==null?void 0:ne.email)||fe.email;e("/verify-email-sent",{state:{email:ae}})}catch(Ce){}finally{H(!1)}})}yr();const{user:ze,settings:rt}=Xt(),{pathname:Xe}=bs();return r.jsxs(ei,{makePublic:!0,children:[r.jsx(an,{page:"feed"}),(rt==null?void 0:rt.hideMainFeed)&&r.jsx(r.Fragment,{}),ze&&!(rt!=null&&rt.hideMainFeed)&&!Xe.includes("/landing")&&r.jsx(Cpe,{}),r.jsxs("section",{className:`relative overflow-visible ${ze!=null&&ze.id&&!Xe.includes("/landing")?"hidden":""}`,children:[r.jsxs("div",{className:"relative bg-brand-600 overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"absolute inset-0 bg-brand-700/20"}),r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Ccircle cx='40' cy='40' r='3'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})]}),r.jsx("div",{className:"relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-24 md:py-32",children:r.jsxs("div",{className:"grid lg:grid-cols-12 gap-16 items-center",children:[r.jsxs("div",{className:"lg:col-span-7 text-white",children:[r.jsx("div",{className:"flex items-center gap-3 mb-8",children:r.jsx("span",{className:"text-3xl font-bold",children:r.jsx("img",{src:eV,width:110})})}),r.jsx("h1",{className:"text-6xl md:text-7xl font-black leading-[0.9] mb-8",children:r.jsxs("span",{className:"block",children:[r.jsx("label",{className:"text-accent-100",children:"Connect. "})," Collaborate. and Grow."]})}),r.jsxs("p",{className:"text-xl text-white/90 leading-relaxed mb-10 max-w-2xl",children:[r.jsx("strong",{className:"text-white",children:"54Links"})," is where founders, professionals, and teams connect to build meaningful relationships, discover new opportunities, and grow together. Whether you're just starting out or leading an established business, 54Links helps you meet the right people to move forward."]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-12",children:[r.jsx("button",{onClick:()=>n(!0),className:"px-10 py-4 bg-white text-brand-600 font-bold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 text-lg",children:"Join Our Growing Network"}),r.jsx("button",{onClick:()=>e("/people"),className:"px-10 py-4 border-2 border-white/60 text-white font-semibold rounded-xl hover:bg-white/10 hover:border-white transition-all duration-200 text-lg",children:"Explore"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 text-white/90",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 flex-shrink-0 bg-accent-500 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 flex-shrink-0 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M16 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM4 18a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v2H4v-2z"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-white",children:"Intelligent Matching System"}),r.jsx("div",{className:"text-sm",children:"AI-powered connections"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 flex-shrink-0 bg-accent-600 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-white",children:"Job Opportunities"}),r.jsx("div",{className:"text-sm",children:"Discover your next big opportunity or hire top talents"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 flex-shrink-0 bg-accent-700 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M7 4V2C7 1.45 7.45 1 8 1h8c.55 0 1 .45 1 1v2h4c1.1 0 2 .9 2 2v14c0 1.1-.9 2-2 2H3c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h4zM9 2v2h6V2H9z"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-white",children:"Business Marketplace"}),r.jsx("div",{className:"text-sm",children:"Buy, sell, and trade"})]})]})]})]}),r.jsx("div",{className:"lg:col-span-5",children:r.jsx("div",{className:"relative",children:r.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl md:scale-110",children:[r.jsx("img",{alt:"Global business networking",className:"w-full object-cover",src:"https://theblackrise.com/wp-content/uploads/2023/11/AdobeStock_257397505-scaled.jpeg"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"})]})})})]})})]}),r.jsx("div",{id:"features",className:"py-24 bg-white",children:r.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-20",children:[r.jsx("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:"How It Works"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Get started in three simple steps and start building meaningful connections."})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-12",children:[r.jsxs("div",{className:"text-center group",children:[r.jsxs("div",{className:"relative mb-8",children:[r.jsx("div",{className:"w-24 h-24 bg-brand-500 rounded-2xl flex items-center justify-center mx-auto shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:r.jsx("span",{className:"text-3xl font-bold text-white",children:"1"})}),r.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-accent-500 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})]}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Step 1: Create Your Profile"}),r.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:"Tell us about yourself, what you do, and what you hope to find. Whether you're a founder, freelancer, or professional  your journey starts here."})]}),r.jsxs("div",{className:"text-center group",children:[r.jsxs("div",{className:"relative mb-8",children:[r.jsx("div",{className:"w-24 h-24 bg-accent-500 rounded-2xl flex items-center justify-center mx-auto shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:r.jsx("span",{className:"text-3xl font-bold text-white",children:"2"})}),r.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-brand-500 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M16 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM4 18a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v2H4v-2z"})})})]}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Get Matched Instantly"}),r.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:"Our AI instantly connects you with people, jobs, and opportunities that fit your goals and interests."})]}),r.jsxs("div",{className:"text-center group",children:[r.jsxs("div",{className:"relative mb-8",children:[r.jsx("div",{className:"w-24 h-24 bg-brand-600 rounded-2xl flex items-center justify-center mx-auto shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:r.jsx("span",{className:"text-3xl font-bold text-white",children:"3"})}),r.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-accent-600 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})})]}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Connect & Grow"}),r.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:"Chat, collaborate, buy, sell, hire, or partner. 54Links helps you build meaningful relationships that drive real results."})]})]})]})}),r.jsx("div",{className:"py-20 bg-gray-100",children:r.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:["See ",r.jsx("span",{className:"text-brand-600",children:"54Links"})," in Action"]}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"See how simple it is to discover opportunities, connect with professionals, and grow  all in one smart platform."})]}),r.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl border border-gray-200 mx-auto max-w-5xl",children:[r.jsx("img",{src:Pfe,alt:"54Links Platform Interface",className:"w-full h-auto object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"}),r.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8 text-white",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-brand-600 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M16 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM4 18a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v2H4v-2z"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-bold",children:"Build Meaningful Business Connections"}),r.jsx("div",{className:"text-white/80 max-md:hidden",children:"Meet professionals, entrepreneurs, and businesses in one trusted and secure space."})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 max-md:hidden",children:[r.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 border border-white/30",children:[r.jsx("div",{className:"font-semibold",children:"Discover Opportunities"}),r.jsx("div",{className:"text-sm text-white/80",children:"Business & Career Growth"})]}),r.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 border border-white/30",children:[r.jsx("div",{className:"font-semibold",children:"Connect Instantly"}),r.jsx("div",{className:"text-sm text-white/80",children:"Meet Like-minded Professionals"})]}),r.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 border border-white/30",children:[r.jsx("div",{className:"font-semibold",children:"Smart. Simple. Effective."}),r.jsx("div",{className:"text-sm text-white/80",children:"Simple. Secure. Powerful connections that work."})]})]})]})]})]})}),r.jsx("div",{className:"py-24 bg-gray-50",children:r.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-20",children:[r.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:["Everything You Need to ",r.jsx("span",{className:"text-brand-600",children:"Succeed"})]}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"From career growth to business partnerships, 54Links connects you with the people, tools, and community to thrive globally."})]}),r.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{onClick:()=>e("/people"),className:"group bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 hover:border-brand-200 cursor-pointer",children:[r.jsx("div",{className:"w-16 h-16 bg-brand-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:r.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M16 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM4 18a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v2H4v-2z"})})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Real Connections"}),r.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Easily connect with the right people. Our smart matching system introduces you to professionals, founders, and business leaders who align with your goals and interests."}),r.jsxs("button",{onClick:()=>e("/people"),className:"flex items-center text-brand-600 font-semibold",children:[r.jsx("span",{children:"Explore Network"}),r.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})]})]}),r.jsxs("div",{onClick:()=>e("/jobs"),className:"group bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 hover:border-accent-200 cursor-pointer",children:[r.jsx("div",{className:"w-16 h-16 bg-accent-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:r.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"})})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Explore Top Job Opportunities"}),r.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Find your next role or discover great talent. Explore exclusive opportunities with filters that help you match faster."}),r.jsxs("button",{onClick:()=>e("/jobs"),className:"flex items-center text-accent-600 font-semibold",children:[r.jsx("span",{children:"Find Opportunities"}),r.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})]})]}),r.jsxs("div",{onClick:()=>e("/products"),className:"group bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 hover:border-brand-200 cursor-pointer",children:[r.jsx("div",{className:"w-16 h-16 bg-brand-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:r.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M7 4V2C7 1.45 7.45 1 8 1h8c.55 0 1 .45 1 1v2h4c1.1 0 2 .9 2 2v14c0 1.1-.9 2-2 2H3c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h4zM9 2v2h6V2H9z"})})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Business Marketplace"}),r.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Buy, sell, or collaborate with trusted businesses. Discover suppliers, support entrepreneurs, and grow your network with confidence."}),r.jsxs("button",{onClick:()=>e("/products"),className:"flex items-center text-brand-600 font-semibold",children:[r.jsx("span",{children:"Explore Marketplace"}),r.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})]})]}),r.jsxs("div",{onClick:()=>e("/events"),className:"group bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 hover:border-accent-200 cursor-pointer",children:[r.jsx("div",{className:"w-16 h-16 bg-accent-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:r.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.1 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM5 6v2h14V6H5z"})})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Events & Communities"}),r.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Join events and communities built for growth. Learn, connect, and lead alongside global professionals and innovators."}),r.jsxs("button",{onClick:()=>e("/events"),className:"flex items-center text-accent-600 font-semibold",children:[r.jsx("span",{children:"Join Events"}),r.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})]})]}),r.jsxs("div",{onClick:()=>e("/tourism"),className:"group bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 hover:border-brand-200 cursor-pointer",children:[r.jsx("div",{className:"w-16 h-16 bg-brand-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:r.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Tourism & Culture"}),r.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Discover the world through business connections. Promote destinations, connect with tourism innovators, and celebrate culture across borders."}),r.jsxs("button",{onClick:()=>e("/tourism"),className:"flex items-center text-brand-600 font-semibold",children:[r.jsx("span",{children:"Explore the World"}),r.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})]})]}),r.jsxs("div",{onClick:()=>e("/funding"),className:"group bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 hover:border-accent-200 cursor-pointer",children:[r.jsx("div",{className:"w-16 h-16 bg-accent-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:r.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Funding & Investment Opportunities"}),r.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Turn your ideas into reality. Find investors, access funding, and grow within a vibrant startup ecosystem."}),r.jsxs("button",{onClick:()=>e("/funding"),className:"flex items-center text-accent-600 font-semibold",children:[r.jsx("span",{children:"Get Funded"}),r.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})]})]})]})]})}),r.jsx("div",{id:"benefits",className:"py-24 bg-white",children:r.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-20",children:[r.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:["Why Professionals Choose ",r.jsx("span",{className:"text-brand-600",children:"54Links"})]}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Join a trusted platform built to help you form real connections and grow faster."})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[r.jsxs("div",{onClick:()=>e("/people"),className:"text-center cursor-pointer hover:transform hover:scale-105 transition-transform",children:[r.jsx("div",{className:"w-20 h-20 bg-brand-500 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Verified Network"}),r.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Every member is verified  helping you connect confidently with real professionals and trusted businesses."})]}),r.jsxs("div",{onClick:()=>e("/people"),className:"text-center cursor-pointer hover:transform hover:scale-105 transition-transform",children:[r.jsx("div",{className:"w-20 h-20 bg-accent-500 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.1 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"})})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Smart Matching Technology"}),r.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Our intelligent algorithm connects you with the most relevant people and opportunities."})]}),r.jsxs("div",{onClick:()=>e("/privacy"),className:"text-center cursor-pointer hover:transform hover:scale-105 transition-transform",children:[r.jsx("div",{className:"w-20 h-20 bg-brand-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Safe and Secure"}),r.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Your information is always protected with top-tier security  and you decide who sees your profile."})]})]})]})}),r.jsx("div",{id:"community",className:"py-20 bg-brand-600",children:r.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Join Our Growing Business Community"}),r.jsx("p",{className:"text-xl text-white/90 max-w-3xl mx-auto",children:"54Links is where ideas grow, partnerships form, and businesses scale."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[r.jsxs("div",{onClick:()=>e("/people"),className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 cursor-pointer hover:bg-white/20 transition-colors",children:[r.jsx("div",{className:"w-12 h-12 bg-accent-500 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M16 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM4 18a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v2H4v-2z"})})}),r.jsx("div",{className:"text-white font-semibold mb-2",children:"Professional Network"}),r.jsx("div",{className:"text-white/80 text-sm",children:"Connect with verified professionals around the world."})]}),r.jsxs("div",{onClick:()=>e("/events"),className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 cursor-pointer hover:bg-white/20 transition-colors",children:[r.jsx("div",{className:"w-12 h-12 bg-accent-700 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.1 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM5 6v2h14V6H5z"})})}),r.jsx("div",{className:"text-white font-semibold mb-2",children:"Business Events"}),r.jsx("div",{className:"text-white/80 text-sm",children:"Exclusive networking opportunities"})]}),r.jsxs("div",{onClick:()=>e("/people"),className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 cursor-pointer hover:bg-white/20 transition-colors",children:[r.jsx("div",{className:"w-12 h-12 bg-accent-600 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),r.jsx("div",{className:"text-white font-semibold mb-2",children:"Intelligent Matching System"}),r.jsx("div",{className:"text-white/80 text-sm",children:"Get connected to the right people  automatically."})]})]})]})}),r.jsx("div",{className:"py-16 bg-gray-50 hidden",children:r.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Ready to Begin?"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Create your free account today and start building connections that make a difference."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[r.jsxs("div",{onClick:()=>e("/signup"),className:"bg-white rounded-xl p-6 shadow-sm border border-brand-100 cursor-pointer hover:shadow-md transition-all",children:[r.jsx("div",{className:"w-12 h-12 bg-brand-500 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"1"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Create Your Profile"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Set up your professional profile in minutes"})]}),r.jsxs("div",{onClick:()=>e("/people"),className:"bg-white rounded-xl p-6 shadow-sm border border-accent-100 cursor-pointer hover:shadow-md transition-all",children:[r.jsx("div",{className:"w-12 h-12 bg-accent-500 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"2"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Discover Connections"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Find relevant professionals and businesses"})]}),r.jsxs("div",{onClick:()=>e("/people"),className:"bg-white rounded-xl p-6 shadow-sm border border-brand-100 cursor-pointer hover:shadow-md transition-all",children:[r.jsx("div",{className:"w-12 h-12 bg-brand-600 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"3"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Grow Your Network"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Build partnerships and accelerate your success"})]})]})]})}),r.jsx("div",{className:"py-16 bg-white",children:r.jsxs("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Ready to Begin?"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Create your free account today and start building connections that make a difference."})]}),r.jsx("div",{className:"flex justify-center",children:r.jsxs("div",{className:"w-full max-w-lg bg-white rounded-xl shadow-xl p-6 md:p-8",children:[r.jsxs("div",{className:"mb-6 grid grid-cols-2 rounded-xl bg-gray-100 p-1 text-sm",children:[r.jsx("button",{onClick:()=>g("login"),className:`text-center rounded-lg py-2 font-medium transition ${h==="login"?"bg-white shadow-soft text-brand-700":"text-gray-600 hover:text-gray-900"}`,children:"Sign In"}),r.jsx("button",{onClick:()=>g("signup"),className:`text-center rounded-lg py-2 font-medium transition ${h==="signup"?"bg-white shadow-soft text-brand-700":"text-gray-600 hover:text-gray-900"}`,children:"Sign Up"})]}),h==="login"?r.jsxs("form",{onSubmit:ke,className:"space-y-4",children:[r.jsx($r,{name:"email",label:"Email Address",type:"email",placeholder:"Enter your email",value:m.email,onChange:O,error:v.email,rightIcon:r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M4 6h16v12H4z"}),r.jsx("path",{d:"m22 6-10 7L2 6"})]})}),r.jsx($r,{name:"password",label:"Password",type:k?"text":"password",placeholder:"Enter your password",value:m.password,onChange:O,error:v.password,rightIcon:r.jsx("button",{type:"button",onClick:()=>E(V=>!V),"aria-label":k?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:k?r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M3 3l18 18"}),r.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{name:"remember",type:"checkbox",checked:m.remember,onChange:O,className:"h-4 w-4 rounded border-gray-300 text-brand-500 focus:ring-brand-500"}),r.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),r.jsx("button",{type:"button",onClick:()=>e("/forgot"),className:"text-brand-500 hover:underline",children:"Forgot password?"})]}),r.jsxs("button",{type:"submit",disabled:A,className:"mt-1 w-full rounded-xl bg-brand-600 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[A&&r.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),A?"Signing In...":"Sign In"]}),r.jsxs("div",{className:"relative my-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-200"})}),r.jsx("div",{className:"relative flex justify-center",children:r.jsx("span",{className:"bg-white px-4 text-xs uppercase tracking-wider text-gray-400",children:"or continue with"})})]}),r.jsx(ch,{page:"signin"}),r.jsxs("div",{className:"mt-4 text-center text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Don't have an account?"})," ",r.jsx("button",{type:"button",onClick:()=>g("signup"),className:"text-brand-500 hover:underline font-medium",children:"Sign up"})]})]}):r.jsxs("form",{onSubmit:He,className:"",children:[r.jsxs("div",{className:"flex gap-3 mb-4",children:[r.jsxs("button",{type:"button",onClick:()=>L("individual"),className:`flex-1 inline-flex items-center justify-center gap-2 rounded-xl border px-4 py-3 text-sm ${N==="individual"?"border-brand-500 text-brand-700 bg-brand-50":"border-gray-200 text-gray-700"}`,children:[r.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5ZM3 22a9 9 0 1 1 18 0Z"})}),"Individual"]}),r.jsxs("button",{type:"button",onClick:()=>L("company"),className:`flex-1 inline-flex items-center justify-center gap-2 rounded-xl border px-4 py-3 text-sm ${N==="company"?"border-brand-500 text-brand-700 bg-brand-50":"border-gray-200 text-gray-700"}`,children:[r.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M3 21V3h8v6h10v12H3Z"})}),"Organization"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsx($r,{label:U,name:"name",placeholder:N==="company"?"54Links Ltd.":"John Doe",value:y.name,onChange:T,error:w.name})}),r.jsx("div",{className:"md:col-span-1",children:r.jsx($r,{label:Q,name:"email",type:"email",placeholder:N==="company"?"contact@yourcompany.com":"john@example.com",value:y.email,onChange:T,error:w.email})}),r.jsx("div",{className:"md:col-span-1",children:r.jsx($r,{label:re,name:"phone",onWheel:V=>V.currentTarget.blur(),placeholder:"Phone",value:y.phone,onChange:V=>{const{name:ne,value:Ce}=V.target,fe=Ce.replace(/[^+\d\-\(\)]/g,"");if((fe.match(/\+/g)||[]).length>1){const se=fe.replace(/\+/g,"");x(ae=>he(te({},ae),{[ne]:"+"+se}))}else x(se=>he(te({},se),{[ne]:fe}));j(se=>he(te({},se),{[ne]:""}))},error:w.phone})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(Bn,{label:"Country",options:An,value:y.country,onChange:V=>{x(ne=>he(te({},ne),{country:V})),j(ne=>he(te({},ne),{country:""}))},placeholder:"Select your country",error:w.country})}),N==="individual"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"md:col-span-2 space-y-3",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Profile Picture (Optional)"}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-20 h-20 rounded-full border-2 border-gray-200 bg-gray-50 flex items-center justify-center overflow-hidden",children:y.avatarPreview?r.jsx("img",{src:y.avatarPreview,alt:"Profile preview",className:"w-full h-full object-cover"}):r.jsxs("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),y.avatarPreview&&r.jsx("button",{type:"button",onClick:()=>R("avatar",null),className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:r.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:r.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{type:"file",name:"avatar",accept:"image/*",onChange:V=>{const ne=V.target.files[0];R("avatar",ne)},className:"hidden",id:"avatar-upload"}),r.jsx("label",{htmlFor:"avatar-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-50 text-brand-700 border border-brand-200 rounded-lg cursor-pointer hover:bg-brand-100 transition-colors",children:y.avatarUrl?"Change Picture":"Upload Picture"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:y.avatarPreview?"Image selected":"JPG, PNG up to 5MB"})]})]})]}),r.jsxs("div",{className:"md:col-span-1 space-y-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Birth Date"}),r.jsx("input",{type:"date",name:"birthDate",value:y.birthDate,onChange:T,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${w.birthDate?"border-red-400 focus:ring-red-400":"border-gray-200"}`}),w.birthDate&&r.jsx("p",{className:"text-xs text-red-600",children:w.birthDate})]}),r.jsxs("div",{className:"md:col-span-1 space-y-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Gender"}),r.jsxs("select",{name:"gender",value:y.gender,onChange:T,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${w.gender?"border-red-400 focus:ring-red-400":"border-gray-200"}`,children:[r.jsx("option",{value:"",disabled:!0,children:"Select gender"}),r.jsx("option",{value:"male",children:"Male"}),r.jsx("option",{value:"female",children:"Female"})]}),w.gender&&r.jsx("p",{className:"text-xs text-red-600",children:w.gender})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(Bn,{label:"Nationality",options:An,value:y.nationality,onChange:V=>{x(ne=>he(te({},ne),{nationality:V})),j(ne=>he(te({},ne),{nationality:""}))},placeholder:"Select your nationality",error:w.nationality})})]}),N==="company"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"md:col-span-2 space-y-3",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Company Logo (Optional)"}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-20 h-20 rounded-lg border-2 border-gray-200 bg-gray-50 flex items-center justify-center overflow-hidden",children:y.avatarPreview?r.jsx("img",{src:y.avatarPreview,alt:"Logo preview",className:"w-full h-full object-contain"}):r.jsxs("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("circle",{cx:"9",cy:"9",r:"2"}),r.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]})}),y.avatarPreview&&r.jsx("button",{type:"button",onClick:()=>R("avatar",null),className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:r.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:r.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{type:"file",name:"avatar",accept:"image/*",onChange:V=>{const ne=V.target.files[0];R("avatar",ne)},className:"hidden",id:"logo-upload"}),r.jsx("label",{htmlFor:"logo-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-50 text-brand-700 border border-brand-200 rounded-lg cursor-pointer hover:bg-brand-100 transition-colors",children:y.avatarUrl?"Change Logo":"Upload Logo"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:y.avatarPreview?"Logo selected":"JPG, PNG up to 5MB"})]})]})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(Epe,{value:y.otherCountries,onChange:V=>{x(ne=>he(te({},ne),{otherCountries:V})),j(ne=>he(te({},ne),{otherCountries:""}))},error:w.otherCountries,citiesLoading:l,getCitiesForCountry:f})}),r.jsxs("div",{className:"md:col-span-2 space-y-1",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Company Website ",r.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),r.jsx("input",{name:"webpage",placeholder:"https://www.yourcompany.com",value:y.webpage,onChange:T,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${w.webpage?"border-red-400 focus:ring-red-400":"border-gray-200"}`}),w.webpage&&r.jsx("p",{className:"text-xs text-red-600",children:w.webpage})]})]}),r.jsxs("div",{children:[r.jsx($r,{label:"Password",name:"password",type:S?"text":"password",placeholder:"Create a strong password",value:y.password,onChange:T,error:w.password,rightIcon:r.jsx("button",{type:"button",onClick:()=>I(V=>!V),"aria-label":S?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:S?r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M3 3l18 18"}),r.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),y.password&&/^(?=.*[A-Za-z])(?=.*\d)(?=.*[^A-Za-z\d]).+$/.test(y.password)?r.jsxs("div",{className:"flex items-center gap-2 mt-2 text-green-600",children:[r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:r.jsx("path",{d:"M20 6L9 17l-5-5"})}),r.jsx("p",{className:"text-xs",children:"Password validated"})]}):w.password?null:r.jsx("p",{className:"text-xs text-gray-500 my-2",children:"Create a strong password with a mix of letters, numbers and symbols."})]}),r.jsx($r,{label:"Confirm Password",name:"confirmPassword",type:C?"text":"password",placeholder:"Confirm your password",value:y.confirmPassword,onChange:T,error:w.confirmPassword,rightIcon:r.jsx("button",{type:"button",onClick:()=>M(V=>!V),"aria-label":C?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:C?r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M3 3l18 18"}),r.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),r.jsxs("div",{className:"md:col-span-2 flex items-start gap-3 text-sm",children:[r.jsx("input",{name:"tos",type:"checkbox",checked:y.tos,onChange:T,className:`mt-1 h-4 w-4 rounded border-gray-300 text-brand-600 focus:ring-brand-500 ${w.tos?"ring-2 ring-red-400":""}`}),r.jsxs("p",{className:"text-gray-600",children:["I agree to the"," ",r.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 underline",children:"Terms of Service"})," and"," ",r.jsx("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 underline",children:"Privacy Policy"})]})]}),w.tos&&r.jsx("div",{className:"md:col-span-2 -mt-2",children:r.jsx("p",{className:"text-xs text-red-600",children:w.tos})}),r.jsxs("div",{className:"md:col-span-2 space-y-4",children:[r.jsxs("button",{type:"submit",disabled:A,className:"w-full rounded-xl bg-brand-600 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[A&&r.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),A?"Creating Account":"Create Account"]}),r.jsx(ch,{page:"signup"})]}),r.jsxs("div",{className:"md:col-span-2 text-center text-sm mt-4",children:[r.jsx("span",{className:"text-gray-600",children:"Already have an account?"})," ",r.jsx("button",{type:"button",onClick:()=>g("login"),className:"text-brand-500 hover:underline font-medium",children:"Sign in"})]})]})]})]})})]})}),r.jsxs("div",{className:"py-24 bg-brand-600 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),r.jsxs("div",{className:"relative mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 text-center",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-5xl md:text-6xl font-black text-white mb-6",children:["Ready to Build Your",r.jsx("span",{className:"block text-accent-100",children:"Global Business Network?"})]}),r.jsxs("p",{className:"text-xl text-white/90 mb-12 max-w-4xl mx-auto leading-relaxed",children:["Join our growing community of professionals and entrepreneurs using ",r.jsx("strong",{children:"54Links"})," to grow faster, connect smarter, and build stronger partnerships."]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center mb-12",children:[r.jsxs("button",{onClick:()=>n(!0),className:"group relative px-12 py-5 bg-white text-brand-600 font-bold rounded-2xl shadow-2xl hover:shadow-3xl transform hover:scale-105 transition-all duration-300 text-xl",children:[r.jsxs("span",{className:"relative z-10 flex items-center gap-3",children:[" Start Building Connections",r.jsx("svg",{className:"w-6 h-6 group-hover:translate-x-1 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})]}),r.jsx("div",{className:"absolute inset-0 bg-accent-50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),r.jsx("button",{onClick:()=>e("/people"),className:"px-12 py-5 border-2 border-white/60 text-white font-bold rounded-2xl hover:bg-white/10 hover:border-white transition-all duration-300 text-xl",children:" Explore the Network"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-white/90",children:[r.jsxs("div",{className:"flex items-center justify-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-accent-500 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-bold text-white",children:"Verified Network"}),r.jsx("div",{className:"text-sm",children:"Trusted connections only"})]})]}),r.jsxs("div",{className:"flex items-center justify-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-accent-600 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-bold text-white",children:"Secure Platform"}),r.jsx("div",{className:"text-sm",children:"Enterprise-grade security"})]})]}),r.jsxs("div",{className:"flex items-center justify-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-accent-700 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M16 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM4 18a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v2H4v-2z"})})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-bold text-white",children:"Global Community"}),r.jsx("div",{className:"text-sm",children:"Connections"})]})]})]})]})]}),r.jsx("div",{className:"py-20 bg-gray-50 border-t border-gray-200",children:r.jsxs("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-brand-500 rounded-xl mb-6",children:r.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Got Questions? We're Here to Help."}),r.jsx("p",{className:"text-lg text-gray-600 mb-10 max-w-2xl mx-auto",children:"Reach out to our team  we're here to help you grow."}),r.jsx("button",{onClick:()=>a(!0),className:"px-10 py-4 bg-brand-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl hover:bg-brand-700 transform hover:scale-105 transition-all duration-200 text-lg",children:"Report / Contact Us"})]})}),r.jsx("footer",{className:"bg-brand-700 text-white py-16",children:r.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-12",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("div",{className:"flex items-center gap-3 mb-6",children:r.jsx("span",{className:"text-2xl font-bold text-white",children:"54Links"})}),r.jsx("p",{className:"text-white/90 mb-6 max-w-md leading-relaxed",children:"A comprehensive business networking platform connecting entrepreneurs, professionals, and businesses. Building stronger networks through meaningful connections."}),r.jsxs("div",{className:"flex gap-4 hidden",children:[r.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-accent-500 transition-colors",children:r.jsx("span",{className:"text-sm",children:""})}),r.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-accent-500 transition-colors",children:r.jsx("span",{className:"text-sm",children:""})}),r.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-accent-500 transition-colors",children:r.jsx("span",{className:"text-sm",children:""})}),r.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-accent-500 transition-colors",children:r.jsx("span",{className:"text-sm",children:""})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-accent-100",children:"Platform"}),r.jsxs("ul",{className:"space-y-3 text-white/80",children:[r.jsx("li",{children:r.jsx("a",{onClick:()=>e("/"),className:"hover:text-accent-200 transition-colors cursor-pointer",children:"Feed"})}),r.jsx("li",{children:r.jsx("a",{onClick:()=>e("/people"),className:"hover:text-accent-200 transition-colors cursor-pointer",children:"People"})}),r.jsx("li",{children:r.jsx("a",{onClick:()=>e("/jobs"),className:"hover:text-accent-200 transition-colors cursor-pointer",children:"Jobs"})}),r.jsx("li",{children:r.jsx("a",{onClick:()=>e("/events"),className:"hover:text-accent-200 transition-colors cursor-pointer",children:"Events"})}),r.jsx("li",{children:r.jsx("a",{onClick:()=>e("/products"),className:"hover:text-accent-200 transition-colors cursor-pointer",children:"Products"})}),r.jsx("li",{children:r.jsx("a",{onClick:()=>e("/services"),className:"hover:text-accent-200 transition-colors cursor-pointer",children:"Services"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-accent-100",children:"Company"}),r.jsxs("ul",{className:"space-y-3 text-white/80",children:[r.jsx("li",{children:r.jsx("a",{onClick:()=>e("/terms"),className:"hover:text-accent-200 transition-colors cursor-pointer",children:"Terms of Service"})}),r.jsx("li",{children:r.jsx("a",{onClick:()=>e("/privacy"),className:"hover:text-accent-200 transition-colors cursor-pointer",children:"Privacy Policy"})})]})]})]}),r.jsx("div",{className:"border-t border-white/20 pt-8",children:r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[r.jsx("div",{className:"text-white/70 text-sm",children:" 2025 54Links. All rights reserved. Building global business networks together."}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-white/70",children:[r.jsx("span",{children:" Global Platform"}),r.jsx("span",{children:" Secure & Verified"}),r.jsx("span",{children:" Trusted Connections"})]})]})})]})})]}),r.jsx(db,{isOpen:t,onClose:()=>n(!1),initialTab:"signup"}),r.jsx(DH,{isOpen:s,onClose:()=>a(!1)}),W&&J&&r.jsx(aw,{image:J,imageDimensions:F,onCropComplete:z,onCancel:_,config:kpe.avatar,type:"avatar"})]})}function Lpe(){return r.jsxs(ei,{children:[r.jsx(an,{}),r.jsxs("div",{className:"flex items-center justify-center h-[100vh] w-full flex-col",children:[r.jsx("h3",{className:"pb-4 text-[25px]",children:"Page not found"}),r.jsx("p",{children:r.jsx(zn,{to:"/",className:"underline",children:"Home"})})]})]})}function bV(){const{pathname:e}=bs(),t=e==="/login";return r.jsxs("div",{className:"mt-6 grid grid-cols-2 rounded-xl bg-gray-100 p-1 text-sm",children:[r.jsx(zn,{to:"/login",className:`text-center rounded-lg py-2 font-medium transition ${t?"bg-white shadow-soft text-brand-700":"text-gray-600 hover:text-gray-900"}`,children:"Sign In"}),r.jsx(zn,{to:"/signup",className:`text-center rounded-lg py-2 font-medium transition ${t?"text-gray-600 hover:text-gray-900":"bg-white shadow-soft text-brand-700"}`,children:"Sign Up"})]})}const Mpe="/assets/phone-hero-DC2KSVGI.png";function wV(){const e=Ht();return r.jsxs("div",{className:"to-brand-600 from-brand-600 bg-gradient-to-br h-full text-white relative overflow-hidden flex flex-col items-center justify-center p-10",children:[r.jsx("div",{className:"absolute left-4 top-4",children:r.jsx("h1",{onClick:()=>e("/"),className:"hover:underline cursor-pointer text-[20px]",children:r.jsx("img",{src:eV,width:110})})}),r.jsxs("div",{className:"max-w-md text-center mt-16",children:[r.jsx("div",{className:"mx-auto w-[26rem] relative",children:r.jsx("img",{alt:"phone",src:Mpe,className:"w-full h-full object-contain drop-shadow-2xl"})}),r.jsxs("h1",{className:"mt-6 text-[2rem] md:text-[2rem] font-bold leading-tight",children:["Connect. Collaborate.",r.jsx("br",{}),"and Grow."]}),r.jsx("p",{className:"mt-8 tracking-wide uppercase text-sm text-white/80",children:" 2025 54Links"})]})]})}const Ipe=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(e||"").toLowerCase());function Tpe(){Ht();const[e,t]=d.useState({email:"",password:"",remember:!1}),[n,s]=d.useState({email:"",password:""}),[a,i]=d.useState(!1),[o,l]=d.useState(!1),[c,u]=d.useState(!1);d.useEffect(()=>{const m=localStorage.getItem("token")||localStorage.getItem("auth_token");u(!!m)},[]);const f=m=>{const{name:p,value:v,type:b,checked:y}=m.target;t(x=>he(te({},x),{[p]:b==="checkbox"?y:v})),s(x=>he(te({},x),{[p]:""}))};function h(){const m={email:"",password:""};return e.email?Ipe(e.email)||(m.email="Please enter a valid email."):m.email="Email is required.",e.password||(m.password="Password is required."),s(m),!m.email&&!m.password}function g(m){return pe(this,null,function*(){var p;if(m.preventDefault(),!h()){oe.error("Please fix the highlighted fields.");return}i(!0);try{const v=Se.post("/auth/login",{email:e.email,password:e.password}),b=yield oe.promise(v,{loading:"Signing you in",success:"Welcome back! ",error:x=>{var w,j;return((j=(w=x==null?void 0:x.response)==null?void 0:w.data)==null?void 0:j.message)||"Login failed. Check your credentials."}},{id:"login"}),y=(p=b==null?void 0:b.data)==null?void 0:p.token;y&&(localStorage.setItem("auth_token",y),localStorage.setItem("token",y),u(!0)),window.location.href="/"}catch(v){i(!1)}finally{i(!1)}})}return r.jsxs("div",{className:"min-h-screen grid md:grid-cols-2",children:[r.jsx("div",{className:"hidden md:block",children:r.jsx(wV,{})}),r.jsx("div",{className:"flex items-center justify-center p-6 md:p-10",children:r.jsxs("div",{className:"w-full max-w-md",children:[c?r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Welcome Back"}),r.jsx("p",{className:"mt-1 text-gray-500",children:"Sign in to continue your professional journey"})]}):r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:r.jsx("img",{src:uh,width:130,className:"mb-6"})}),r.jsx("p",{className:"mt-1 text-gray-600",children:"Discover, connect, and collaborate across markets."}),r.jsx("p",{className:"mt-1 text-gray-500",children:"Log in to start connecting."})]}),r.jsx(bV,{}),r.jsxs("form",{onSubmit:g,className:"mt-6 space-y-4",children:[r.jsx($r,{name:"email",label:"Email Address",type:"email",placeholder:"Enter your email",value:e.email,onChange:f,error:n.email,rightIcon:r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M4 6h16v12H4z"}),r.jsx("path",{d:"m22 6-10 7L2 6"})]})}),r.jsx($r,{name:"password",label:"Password",type:o?"text":"password",placeholder:"Enter your password",value:e.password,onChange:f,error:n.password,rightIcon:r.jsx("button",{type:"button",onClick:()=>l(m=>!m),"aria-label":o?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:o?r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M3 3l18 18"}),r.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{name:"remember",type:"checkbox",checked:e.remember,onChange:f,className:"h-4 w-4 rounded border-gray-300 text-brand-500 focus:ring-brand-500"}),r.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),r.jsx(zn,{to:"/forgot",className:"text-brand-500 hover:underline",children:"Forgot password?"})]}),r.jsxs("button",{type:"submit",disabled:a,className:"mt-1 w-full rounded-xl bg-gradient-to-r from-brand-600 to-brand-500 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[a&&r.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),a?"Signing In...":"Sign In"]}),r.jsxs("div",{className:"relative my-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-200"})}),r.jsx("div",{className:"relative flex justify-center",children:r.jsx("span",{className:"bg-white px-4 text-xs uppercase tracking-wider text-gray-400",children:"or continue with"})})]}),r.jsx(ch,{page:"signin"})]})]})})]})}const Ape=e=>/^[^\s@]+@[^\s@]+\.[a-zA-Z]{2,}$/.test(String(e||"").toLowerCase()),_pe={avatar:{aspect:1,minWidth:100,minHeight:100}},Ope=({value:e,onChange:t,error:n,citiesLoading:s,getCitiesForCountry:a})=>{const[i,o]=d.useState(!1),[l,c]=d.useState(""),[u,f]=d.useState(""),h=()=>{if(l&&u){const p={country:l,city:u};t([...e,p]),c(""),f(""),o(!1)}},g=p=>{const v=e.filter((b,y)=>y!==p);t(v)},m=(p,v)=>{const b=e.map((y,x)=>x===p?he(te({},y),{city:v}):y);t(b)};return s?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Other Countries of Operations (Branches) ",r.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),r.jsxs("div",{className:"flex items-center justify-center p-4",children:[r.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-500",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading cities..."})]})]}):r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Other Countries of Operations (Branches) ",r.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),e.length>0&&r.jsx("div",{className:"space-y-2",children:e.map((p,v)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg bg-gray-50",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-sm",children:p.country}),r.jsxs("div",{className:"text-xs text-gray-500",children:["City: ",p.city]})]}),r.jsx(Bn,{options:a(p.country),value:p.city,onChange:b=>m(v,b),placeholder:"Select city",className:"w-48"}),r.jsx("button",{type:"button",onClick:()=>g(v),className:"p-1 text-red-500 hover:text-red-700",title:"Remove",children:r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]},v))}),i?r.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg bg-blue-50 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(Bn,{options:An,value:l,onChange:c,placeholder:"Select country"}),r.jsx(Bn,{options:l?a(l):[],value:u,onChange:f,placeholder:"Select city",disabled:!l})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:h,disabled:!l||!u,className:"px-3 py-1 bg-brand-600 text-white rounded-lg text-sm hover:bg-brand-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),r.jsx("button",{type:"button",onClick:()=>{o(!1),c(""),f("")},className:"px-3 py-1 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:"Cancel"})]})]}):r.jsxs("button",{type:"button",onClick:()=>o(!0),className:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})}),"Add Country & City"]}),n&&r.jsx("p",{className:"text-xs text-red-600",children:n}),r.jsx("p",{className:"text-xs text-gray-500",children:"Select countries where your company has branches or operations (optional)"})]})};function $pe(){const[e,t]=d.useState("individual"),[n,s]=d.useState(!1),a=Ht(),[i,o]=d.useState([]),[l,c]=d.useState(!0);d.useEffect(()=>{pe(this,null,function*(){try{const D=yield fetch("/data/cities.json");if(!D.ok)throw new Error("Failed to fetch cities");const O=yield D.json();o(O)}catch(D){console.error("Error fetching cities:",D),oe.error("Failed to load cities data")}finally{c(!1)}})},[]);const u=d.useMemo(()=>i.slice(0,1e4).map(F=>({value:F.city,label:`${F.city}${F.country?`, ${F.country}`:""}`,country:F.country})),[i]),f=d.useCallback(F=>F?u.filter(D=>{var O;return((O=D.country)==null?void 0:O.toLowerCase())===F.toLowerCase()}):[],[u]),[h,g]=d.useState({name:"",email:"",phone:"",country:"",password:"",confirmPassword:"",tos:!1,avatarUrl:null,avatarPreview:null,birthDate:"",gender:"",nationality:"",otherCountries:[],webpage:""}),[m,p]=d.useState({name:"",email:"",phone:"",country:"",password:"",confirmPassword:"",tos:"",avatarUrl:"",birthDate:"",gender:"",nationality:"",otherCountries:"",webpage:""}),[v,b]=d.useState(!1),[y,x]=d.useState(null),[w,j]=d.useState({width:0,height:0}),[N,L]=d.useState(!1),[k,E]=d.useState(!1),S=F=>{const{name:D,value:O,type:T,checked:R}=F.target;g(z=>he(te({},z),{[D]:T==="checkbox"?R:O})),p(z=>he(te({},z),{[D]:""}))},I=(F,D)=>pe(this,null,function*(){if(D){if(D.size>5242880){p(R=>he(te({},R),{[F]:"File size must be less than 5MB"}));return}if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(D.type)){p(R=>he(te({},R),{[F]:"Please select a valid image file (JPG, PNG, GIF, WEBP)"}));return}{const R=new FileReader;R.onload=z=>{const _=new Image;_.onload=()=>{j({width:_.width,height:_.height}),x(z.target.result),b(!0)},_.src=z.target.result},R.readAsDataURL(D),g(z=>he(te({},z),{avatarFile:null,avatarPreview:null}))}p(R=>he(te({},R),{avatarUrl:""}))}else g(O=>he(te({},O),{avatarFile:null,avatarPreview:null}))}),C=F=>{const D=F.type||"image/jpeg",O=D==="image/png"?"png":D==="image/webp"?"webp":"jpg",T=`avatar-${Date.now()}.${O}`,R=new File([F],T,{type:D}),z=URL.createObjectURL(F);g(_=>he(te({},_),{avatarFile:R,avatarPreview:z})),b(!1),x(null),j({width:0,height:0})},M=()=>{b(!1),x(null),j({width:0,height:0})},A=e==="company"?"Organization name":"Name",H=e==="company"?"Organization email":"Email Address",W=e==="company"?"Organization phone":"Phone Number";function X(){const F={name:"",email:"",phone:"",country:"",password:"",confirmPassword:"",tos:"",birthDate:"",gender:"",nationality:"",otherCountries:"",webpage:""};if(h.name?h.name.trim().length<2?F.name=`${A} must be at least 2 characters long.`:/^[\p{L}0-9\s\-'\.]+$/u.test(h.name.trim())||(F.name=`${A} can only contain letters (including accents), numbers, spaces, hyphens, apostrophes, and periods.`):F.name=`${A} is required.`,h.email?Ape(h.email)||(F.email="Please enter a valid email."):F.email=`${H} is required.`,!h.phone)F.phone=`${W} is required.`;else{const D=String(h.phone).replace(/\D/g,"");D.length<6?F.phone="Please enter a valid phone number.":D.length>15?F.phone="Phone number is too long.":/^\+?[\d\s\-\(\)]+$/.test(h.phone)||(F.phone="Please enter a valid phone number format.")}if(h.country||(F.country="Country is required."),h.password?h.password.length<8?F.password="Password must be at least 8 characters long.":/^(?=.*[A-Za-z])(?=.*\d)(?=.*[^A-Za-z\d]).+$/.test(h.password)||(F.password="Create a strong password with a mix of letters, numbers and symbols."):F.password="Password is required.",h.confirmPassword?h.password!==h.confirmPassword&&(F.confirmPassword="Passwords do not match."):F.confirmPassword="Please confirm password.",h.tos||(F.tos="You must agree to the Terms and Privacy Policy."),e==="individual"){if(!h.birthDate)F.birthDate="Birth date is required.";else{const D=new Date(h.birthDate),O=new Date,T=18,R=120;if(D>O)F.birthDate="Birth date cannot be in the future.";else{const z=O.getFullYear()-D.getFullYear();z<T?F.birthDate=`You must be at least ${T} years old to sign up.`:z>R&&(F.birthDate="Please enter a valid birth date.")}}h.gender||(F.gender="Gender is required."),h.nationality||(F.nationality="Nationality is required.")}return e==="company"&&h.webpage&&(/^(https?:\/\/)?([\w-]+\.)+[a-zA-Z]{2,}(\/\S*)?$/.test(h.webpage.trim())||(F.webpage="Please enter a valid website address (e.g. google.com)")),p(F),Object.values(F).every(D=>!D)}const J=F=>pe(this,null,function*(){try{const D=new FormData;return D.append("file",F),(yield Se.post("/profile/uploadLogo",D,{headers:{"Content-Type":"multipart/form-data"}})).data.url}catch(D){throw console.error("Error uploading file:",D),new Error("Failed to upload file")}});function Z(F){return pe(this,null,function*(){var D;if(F.preventDefault(),!X()){oe.error("Please fix the highlighted fields.");return}s(!0);try{let O=null;if(h.avatarFile)try{O=yield J(h.avatarFile)}catch(U){oe.error("Failed to upload profile picture. Please try again."),s(!1);return}const T={name:h.name,email:h.email,phone:h.phone,countryOfResidence:h.country,password:h.password,accountType:e,avatarUrl:O,birthDate:h.birthDate,gender:h.gender,nationality:h.nationality,otherCountries:h.otherCountries,webpage:h.webpage},R=Se.post("/auth/signup",T),z=yield oe.promise(R,{loading:"Creating your account",success:"Account created! ",error:U=>{var Q,re;return((re=(Q=U==null?void 0:U.response)==null?void 0:Q.data)==null?void 0:re.message)||"Sign up failed."}},{id:"signup"}),_=((D=z==null?void 0:z.data)==null?void 0:D.email)||T.email;a("/verify-email-sent",{state:{email:_}})}catch(O){}finally{s(!1)}})}return r.jsxs("div",{className:"min-h-screen grid md:grid-cols-2",children:[r.jsx("div",{className:"hidden md:block sticky top-0 h-[100vh]",children:r.jsx(wV,{})}),r.jsx("div",{className:"flex items-center justify-center p-6 md:p-10 overflow-y-auto",children:r.jsxs("div",{className:"w-full max-w-2xl",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 flex items-center gap-x-2 mb-4 mt-5",children:r.jsx("img",{src:uh,width:130})}),r.jsx("p",{className:"mt-1 text-gray-500",children:"Join the global networking community"}),r.jsx("div",{className:"max-w-xs",children:r.jsx(bV,{})}),r.jsxs("div",{className:"mt-6 flex gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>t("individual"),className:`flex-1 inline-flex items-center justify-center gap-2 rounded-xl border px-4 py-3 text-sm ${e==="individual"?"border-brand-500 text-brand-700 bg-brand-50":"border-gray-200 text-gray-700"}`,children:[r.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5ZM3 22a9 9 0 1 1 18 0Z"})}),"Individual"]}),r.jsxs("button",{type:"button",onClick:()=>t("company"),className:`flex-1 inline-flex items-center justify-center gap-2 rounded-xl border px-4 py-3 text-sm ${e==="company"?"border-brand-500 text-brand-700 bg-brand-50":"border-gray-200 text-gray-700"}`,children:[r.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M3 21V3h8v6h10v12H3Z"})}),"Organization"]})]}),r.jsxs("form",{onSubmit:Z,className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsx($r,{label:A,name:"name",placeholder:e==="company"?"54Links Ltd.":"John Doe",value:h.name,onChange:S,error:m.name})}),r.jsx("div",{className:"md:col-span-1",children:r.jsx($r,{label:H,name:"email",type:"email",placeholder:e==="company"?"contact@yourcompany.com":"john@example.com",value:h.email,onChange:S,error:m.email})}),r.jsx("div",{className:"md:col-span-1",children:r.jsx($r,{label:W,name:"phone",onWheel:F=>F.currentTarget.blur(),placeholder:"Phone",value:h.phone,onChange:F=>{const{name:D,value:O}=F.target,T=O.replace(/[^+\d\-\(\)]/g,"");if((T.match(/\+/g)||[]).length>1){const z=T.replace(/\+/g,"");g(_=>he(te({},_),{[D]:"+"+z}))}else g(z=>he(te({},z),{[D]:T}));p(z=>he(te({},z),{[D]:""}))},error:m.phone})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(Bn,{label:"Country",options:An,value:h.country,onChange:F=>{g(D=>he(te({},D),{country:F})),p(D=>he(te({},D),{country:""}))},placeholder:"Select your country",error:m.country})}),e==="individual"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"md:col-span-2 space-y-3",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Profile Picture (Optional)"}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-20 h-20 rounded-full border-2 border-gray-200 bg-gray-50 flex items-center justify-center overflow-hidden",children:h.avatarPreview?r.jsx("img",{src:h.avatarPreview,alt:"Profile preview",className:"w-full h-full object-cover"}):r.jsxs("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),h.avatarPreview&&r.jsx("button",{type:"button",onClick:()=>I("avatar",null),className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:r.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:r.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{type:"file",name:"avatar",accept:"image/*",onChange:F=>{const D=F.target.files[0];I("avatar",D)},className:"hidden",id:"avatar-upload"}),r.jsx("label",{htmlFor:"avatar-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-50 text-brand-700 border border-brand-200 rounded-lg cursor-pointer hover:bg-brand-100 transition-colors",children:h.avatarUrl?"Change Picture":"Upload Picture"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h.avatarPreview?"Image selected":"JPG, PNG up to 5MB"})]})]})]}),r.jsxs("div",{className:"md:col-span-1 space-y-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Birth Date"}),r.jsx("input",{type:"date",name:"birthDate",value:h.birthDate,onChange:S,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${m.birthDate?"border-red-400 focus:ring-red-400":"border-gray-200"}`}),m.birthDate&&r.jsx("p",{className:"text-xs text-red-600",children:m.birthDate})]}),r.jsxs("div",{className:"md:col-span-1 space-y-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Gender"}),r.jsxs("select",{name:"gender",value:h.gender,onChange:S,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${m.gender?"border-red-400 focus:ring-red-400":"border-gray-200"}`,children:[r.jsx("option",{value:"",disabled:!0,children:"Select gender"}),r.jsx("option",{value:"male",children:"Male"}),r.jsx("option",{value:"female",children:"Female"})]}),m.gender&&r.jsx("p",{className:"text-xs text-red-600",children:m.gender})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(Bn,{label:"Nationality",options:An,value:h.nationality,onChange:F=>{g(D=>he(te({},D),{nationality:F})),p(D=>he(te({},D),{nationality:""}))},placeholder:"Select your nationality",error:m.nationality})})]}),e==="company"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"md:col-span-2 space-y-3",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Company Logo (Optional)"}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-20 h-20 rounded-lg border-2 border-gray-200 bg-gray-50 flex items-center justify-center overflow-hidden",children:h.avatarPreview?r.jsx("img",{src:h.avatarPreview,alt:"Logo preview",className:"w-full h-full object-contain"}):r.jsxs("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),r.jsx("circle",{cx:"9",cy:"9",r:"2"}),r.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]})}),h.avatarPreview&&r.jsx("button",{type:"button",onClick:()=>I("avatar",null),className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:r.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:r.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{type:"file",name:"avatar",accept:"image/*",onChange:F=>{const D=F.target.files[0];I("avatar",D)},className:"hidden",id:"avatar-upload"}),r.jsx("label",{htmlFor:"avatar-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-50 text-brand-700 border border-brand-200 rounded-lg cursor-pointer hover:bg-brand-100 transition-colors",children:h.avatarUrl?"Change Logo":"Upload Logo"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h.avatarPreview?"Logo selected":"JPG, PNG up to 5MB"})]})]})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(Ope,{value:h.otherCountries,onChange:F=>{g(D=>he(te({},D),{otherCountries:F})),p(D=>he(te({},D),{otherCountries:""}))},error:m.otherCountries,citiesLoading:l,getCitiesForCountry:f})}),r.jsxs("div",{className:"md:col-span-2 space-y-1",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Company Website ",r.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),r.jsx("input",{name:"webpage",placeholder:"https://www.yourcompany.com",value:h.webpage,onChange:S,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${m.webpage?"border-red-400 focus:ring-red-400":"border-gray-200"}`}),m.webpage&&r.jsx("p",{className:"text-xs text-red-600",children:m.webpage})]})]}),r.jsxs("div",{children:[r.jsx($r,{label:"Password",name:"password",type:N?"text":"password",placeholder:"Create a strong password",value:h.password,onChange:S,error:m.password,rightIcon:r.jsx("button",{type:"button",onClick:()=>L(F=>!F),"aria-label":N?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:N?r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M3 3l18 18"}),r.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),h.password&&/^(?=.*[A-Za-z])(?=.*\d)(?=.*[^A-Za-z\d]).+$/.test(h.password)?r.jsxs("div",{className:"flex items-center gap-2 mt-2 text-green-600",children:[r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:r.jsx("path",{d:"M20 6L9 17l-5-5"})}),r.jsx("p",{className:"text-xs",children:"Password validated"})]}):m.password?null:r.jsx("p",{className:"text-xs text-gray-500 my-2",children:"Create a strong password with a mix of letters, numbers and symbols."})]}),r.jsx($r,{label:"Confirm Password",name:"confirmPassword",type:k?"text":"password",placeholder:"Confirm your password",value:h.confirmPassword,onChange:S,error:m.confirmPassword,rightIcon:r.jsx("button",{type:"button",onClick:()=>E(F=>!F),"aria-label":k?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:k?r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M3 3l18 18"}),r.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),r.jsxs("div",{className:"md:col-span-2 flex items-start gap-3 text-sm",children:[r.jsx("input",{name:"tos",type:"checkbox",checked:h.tos,onChange:S,className:`mt-1 h-4 w-4 rounded border-gray-300 text-brand-600 focus:ring-brand-500 ${m.tos?"ring-2 ring-red-400":""}`}),r.jsxs("p",{className:"text-gray-600",children:["I agree to the"," ",r.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 underline",children:"Terms of Service"})," and"," ",r.jsx("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 underline",children:"Privacy Policy"})]})]}),m.tos&&r.jsx("div",{className:"md:col-span-2 -mt-2",children:r.jsx("p",{className:"text-xs text-red-600",children:m.tos})}),r.jsxs("div",{className:"md:col-span-2 space-y-4",children:[r.jsxs("button",{type:"submit",disabled:n,className:"w-full rounded-xl bg-gradient-to-r from-brand-700 to-brand-500 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[n&&r.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),n?"Creating Account":"Create Account"]}),r.jsx(ch,{page:"signup"})]})]}),v&&y&&r.jsx(aw,{image:y,imageDimensions:w,onCropComplete:C,onCancel:M,config:_pe.avatar,type:"avatar"})]})})]})}function Ppe(){const{state:e}=bs(),t=e==null?void 0:e.email;return r.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
      bg-gradient-to-br from-brand-50 via-white to-brand-50\r
      sm:px-6 md:px-8`,children:r.jsxs("div",{className:"w-full max-w-xl",children:[r.jsxs("div",{className:`rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5\r
            backdrop-blur p-6 sm:p-8 md:p-10`,children:[r.jsx("div",{className:`mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center\r
              rounded-full bg-brand-100 text-brand-600`,children:r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.jsx("path",{d:"m22 4-12 12-3-3"})]})}),r.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Email Sent!"}),r.jsxs("p",{className:"mt-3 text-center text-base sm:text-lg text-slate-600",children:["Weve sent a verification link to"," ",t?r.jsx("b",{children:t}):"your email","."]}),r.jsx("p",{className:"mt-2 text-center text-base text-slate-600",children:"Please verify your email to finish setting up your account."}),r.jsx("p",{className:"mt-2 text-center text-sm sm:text-base text-slate-500",children:"If you dont see it, check your spam or promotions folder."}),r.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-3",children:[r.jsx(zn,{to:"/login",className:`inline-flex items-center justify-center rounded-xl border border-gray-200 bg-white px-5 py-3\r
                         text-sm font-medium text-gray-700 hover:bg-gray-50 w-full sm:w-auto`,children:"Back to Sign In"}),r.jsx(zn,{to:"/signup",className:`inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-brand-700 to-brand-500\r
                         px-5 py-3 text-sm font-semibold text-white shadow-soft hover:opacity-95 w-full sm:w-auto`,children:"Create another account"})]})]}),r.jsx("p",{className:"mt-6 text-center text-xs text-gray-500",children:"Didnt receive the email? Wait a minute and try resending from the app."})]})})}function Dpe(){const{token:e}=ea(),t=Ht(),[n,s]=d.useState("verifying"),[a,i]=d.useState("");return d.useEffect(()=>{function o(){return pe(this,null,function*(){try{const l=Se.get(`/auth/verify/${e}`);yield oe.promise(l,{loading:"Verifying your email",success:"Email verified!",error:"Verification failed."},{id:"verify"}),s("success"),i("Your email has been successfully verified. You can now sign in and start using your account.")}catch(l){s("error"),i("This verification link is no longer validit may have expired or already been used. Please request a new link and try again. If youve already verified, you can sign in.")}})}e&&o()},[e,t]),r.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
                 bg-gradient-to-br from-brand-50 via-white to-brand-50\r
                 sm:px-6 md:px-8`,children:r.jsx("div",{className:"w-full max-w-xl",children:r.jsxs("div",{className:`rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5\r
                     backdrop-blur p-6 sm:p-8 md:p-10`,children:[r.jsxs("div",{className:`mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full
              ${n==="success"?"bg-brand-100 text-brand-600":n==="error"?"bg-red-100 text-red-600":"bg-brand-100 text-brand-600"}`,children:[n==="verifying"&&r.jsxs("svg",{className:"h-7 w-7 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),n==="success"&&r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.jsx("path",{d:"m22 4-12 12-3-3"})]}),n==="error"&&r.jsx("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})]}),r.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold text-slate-900",children:n==="success"?"Verified!":n==="error"?"We couldnt verify your email":"Verifying"}),r.jsx("p",{className:"mt-3 text-center text-base sm:text-lg text-slate-600",children:a||(n==="verifying"?"Hold on while we validate your token.":"")}),n==="error"&&r.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-3",children:[r.jsx(zn,{to:"/login",className:`inline-flex items-center justify-center rounded-xl border border-gray-200 bg-white px-5 py-3\r
                           text-sm font-medium text-gray-700 hover:bg-gray-50 w-full sm:w-auto`,children:"Back to Sign In"}),r.jsx(zn,{to:"/signup",className:`inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-brand-700 to-brand-500\r
                           px-5 py-3 text-sm font-semibold text-white shadow-soft hover:opacity-95 w-full sm:w-auto`,children:"Create account"})]}),n==="success"&&r.jsx("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-3",children:r.jsx(zn,{to:"/login",className:`inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-brand-700 to-brand-500\r
                           px-5 py-3 text-sm font-semibold text-white shadow-soft hover:opacity-95 w-full sm:w-auto`,children:"Sign in to Start"})})]})})})}const Rpe=e=>Se.post("/auth/delete-account",e),Fpe=e=>Se.post(`/auth/delete-account/${e}`),Bpe=5e3;function zpe(){const{token:e}=ea(),t=Ht(),{logout:n}=Xt(),[s,a]=d.useState("deleting"),[i,o]=d.useState("");return d.useEffect(()=>{function l(){return pe(this,null,function*(){try{yield oe.promise(Fpe(e),{loading:"Deleting your account",success:"Account deleted successfully",error:"Account deletion failed."},{id:"delete-account"}),a("success"),o("Your account has been permanently deleted. Thank you for using our platform."),setTimeout(()=>{n(),t("/")},Bpe)}catch(c){a("error"),o("This deletion link is no longer validit may have expired or already been used. If you still want to delete your account, please request a new deletion email from your settings.")}})}e&&l()},[e,t,n]),r.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
                 bg-gradient-to-br from-red-50 via-white to-red-50\r
                 sm:px-6 md:px-8`,children:r.jsx("div",{className:"w-full max-w-xl",children:r.jsxs("div",{className:`rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5\r
                     backdrop-blur p-6 sm:p-8 md:p-10`,children:[r.jsxs("div",{className:`mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full
              ${s==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:[s==="deleting"&&r.jsxs("svg",{className:"h-7 w-7 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),s==="success"&&r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.jsx("path",{d:"m22 4-12 12-3-3"})]}),s==="error"&&r.jsx("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})]}),r.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold text-slate-900",children:s==="success"?"Account Deleted":s==="error"?"We couldn't delete your account":"Deleting Account"}),r.jsx("p",{className:"mt-3 text-center text-base sm:text-lg text-slate-600",children:i||(s==="deleting"?"Please wait while we permanently delete your account and all associated data.":"")}),s==="error"&&r.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-3",children:[r.jsx(zn,{to:"/settings",className:`inline-flex items-center justify-center rounded-xl border border-gray-200 bg-white px-5 py-3\r
                           text-sm font-medium text-gray-700 hover:bg-gray-50 w-full sm:w-auto`,children:"Back to Settings"}),r.jsx(zn,{to:"/",className:`inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-brand-700 to-brand-500\r
                           px-5 py-3 text-sm font-semibold text-white shadow-soft hover:opacity-95 w-full sm:w-auto`,children:"Go to Home"})]}),s==="success"&&r.jsx("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-3",children:r.jsx(zn,{to:"/",className:`inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-brand-700 to-brand-500\r
                           px-5 py-3 text-sm font-semibold text-white shadow-soft hover:opacity-95 w-full sm:w-auto`,children:"Go to Home"})})]})})})}const PO=e=>/^[^\s@]+@[^\s@]+\.[a-zA-Z]{2,}$/.test(String(e||"").toLowerCase());function Upe(){const e=Ht(),[t,n]=d.useState(""),[s,a]=d.useState(""),[i,o]=d.useState(!1);function l(){return t?PO(t)?(a(""),!0):(a("Please enter a valid email."),!1):(a("Email is required."),!1)}function c(u){return pe(this,null,function*(){if(u.preventDefault(),!l())if(!t)oe.error("Email is required.");else if(!PO(t))oe.error("Please enter a valid email.");else{oe.error("Please fix the highlighted fields.");return}o(!0);try{const f=Se.post("/auth/forgot-password",{email:t});yield oe.promise(f,{loading:"Sending reset link",success:"Reset link sent! Check your inbox.",error:h=>{var g,m;return((m=(g=h==null?void 0:h.response)==null?void 0:g.data)==null?void 0:m.message)||"Failed to send reset email."}},{id:"forgot"}),e("/reset-email-sent",{state:{email:t}})}finally{o(!1)}})}return r.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
      bg-[conic-gradient(at_10%_-10%,#FDF2FF_0%,#FFF7ED_30%,#FFFFFF_60%)] sm:px-6 md:px-8`,children:r.jsxs("div",{className:"w-full max-w-md rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5 backdrop-blur p-6 sm:p-8 md:p-10",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-slate-900 text-center",children:"Forgot your password?"}),r.jsx("p",{className:"mt-3 text-center text-slate-600",children:"Enter your email and well send you a reset link."}),r.jsxs("form",{onSubmit:c,className:"mt-6 space-y-4",children:[r.jsx($r,{label:"Email Address",name:"email",type:"email",placeholder:"you@example.com",value:t,onChange:u=>n(u.target.value),error:s}),r.jsxs("button",{type:"submit",disabled:i,className:"w-full rounded-xl bg-gradient-to-r from-brand-700 to-brand-500 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i&&r.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),i?"Sending":"Send reset link"]})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx(zn,{to:"/login",className:"text-brand-700 hover:underline",children:"Back to Sign in"})})]})})}function Wpe(){const{state:e}=bs(),t=e==null?void 0:e.email;return r.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
      bg-gradient-to-br from-brand-50 via-white to-brand-50 sm:px-6 md:px-8`,children:r.jsxs("div",{className:"w-full max-w-xl rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5 backdrop-blur p-6 sm:p-8 md:p-10 text-center",children:[r.jsx("div",{className:"mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full bg-brand-100 text-brand-600",children:r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.jsx("path",{d:"m22 4-12 12-3-3"})]})}),r.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Reset Email Sent!"}),r.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-600",children:["We sent a password reset link to ",t?r.jsx("b",{children:t}):"your email","."]}),r.jsx("p",{className:"mt-2 text-sm sm:text-base text-slate-500",children:"If you dont see it, check your spam folder."}),r.jsx("div",{className:"mt-8",children:r.jsx(zn,{to:"/login",className:"text-brand-700 hover:underline",children:"Back to Sign in"})})]})})}function Hpe(){const{token:e}=ea(),t=Ht(),[n,s]=d.useState(""),[a,i]=d.useState(""),[o,l]=d.useState({password:"",confirm:""}),[c,u]=d.useState(!1),[f,h]=d.useState(!1),[g,m]=d.useState(!1);function p(){const b={password:"",confirm:""};return n?n.length<6?b.password="Use at least 6 characters.":/^(?=.*[A-Za-z])(?=.*\d)(?=.*[^A-Za-z\d]).+$/.test(n)||(b.password="Create a strong password with a mix of letters, numbers and symbols."):b.password="Password is required.",a?n!==a&&(b.confirm="Passwords do not match."):b.confirm="Please confirm your password.",l(b),!b.password&&!b.confirm}function v(b){return pe(this,null,function*(){if(b.preventDefault(),!p()){oe.error("Please fix the highlighted fields.");return}u(!0);try{const y=Se.post("/auth/reset-password",{token:e,password:n});yield oe.promise(y,{loading:"Updating password",success:"Password updated. You can sign in now.",error:"Reset failed."},{id:"reset"}),t("/reset-success")}finally{u(!1)}})}return r.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
      bg-gradient-to-br from-brand-50 via-white to-brand-50 sm:px-6 md:px-8`,children:r.jsxs("div",{className:"w-full max-w-md rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5 backdrop-blur p-6 sm:p-8 md:p-10",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-slate-900 text-center",children:"Create a new password"}),r.jsxs("form",{onSubmit:v,className:"mt-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx($r,{label:"New password",type:f?"text":"password",name:"password",value:n,onChange:b=>s(b.target.value),placeholder:"Enter a strong password",error:o.password,rightIcon:r.jsx("button",{type:"button",onClick:()=>h(b=>!b),"aria-label":f?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:f?r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M3 3l18 18"}),r.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),!o.password&&r.jsx("p",{className:"text-xs text-gray-500 my-2",children:"Create a strong password with a mix of letters, numbers and symbols."})]}),r.jsx($r,{label:"Confirm password",type:g?"text":"password",name:"confirm",value:a,onChange:b=>i(b.target.value),placeholder:"Re-enter your password",error:o.confirm,rightIcon:r.jsx("button",{type:"button",onClick:()=>m(b=>!b),"aria-label":g?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:g?r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M3 3l18 18"}),r.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[r.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),r.jsxs("button",{type:"submit",disabled:c,className:"w-full rounded-xl bg-gradient-to-r from-brand-700 to-brand-500 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[c&&r.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),c?"Saving":"Reset password"]})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx(zn,{to:"/login",className:"text-brand-700 hover:underline",children:"Back to Sign in"})})]})})}function Vpe(){return r.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
      bg-[conic-gradient(at_10%_-10%,#FDF2FF_0%,#FFF7ED_30%,#FFFFFF_60%)] sm:px-6 md:px-8`,children:r.jsxs("div",{className:"w-full max-w-xl rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5 backdrop-blur p-6 sm:p-8 md:p-10 text-center",children:[r.jsx("div",{className:"mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full bg-green-100 text-green-600",children:r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.jsx("path",{d:"m22 4-12 12-3-3"})]})}),r.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Password reset successfully"}),r.jsx("p",{className:"mt-3 text-base sm:text-lg text-slate-600",children:"Your password has been updated. You can now sign in with your new password."}),r.jsx("div",{className:"mt-8 flex justify-center",children:r.jsx(zn,{to:"/login",className:`inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-brand-700 to-brand-500\r
                       px-6 py-3 text-sm font-semibold text-white shadow-soft hover:opacity-95`,children:"Go to Sign In"})})]})})}const Gpe=()=>Se.get("/profile/me"),jV=e=>Se.put("/profile/personal",e),qpe=e=>Se.put("/profile/professional",e),Ype=e=>Se.put("/profile/portfolio",e),Jpe=()=>Se.get("/public/identities?type=all"),Zpe=e=>Se.put("/profile/do-selections",e),Qpe=e=>Se.put("/profile/interest-selections",e),Kpe=e=>Se.put("/profile/industry-selections",e),DO=()=>Se.get("/profile/work-samples"),Xpe=e=>Se.post("/profile/work-samples",e),exe=(e,t)=>Se.put(`/profile/work-samples/${e}`,t),txe=e=>Se.delete(`/profile/work-samples/${e}`),rxe=()=>Se.get("/profile/gallery"),nxe=e=>Qu.post("/profile/gallery",e),sxe=(e,t)=>Qu.put(`/profile/gallery/${e}`,t),axe=e=>Se.delete(`/profile/gallery/${e}`),ixe=e=>Se.put("/profile/availability",e),Y4=e=>e instanceof FormData?Qu.put("/profile/avatar",e):Se.put("/profile/avatar",e),J4=e=>e instanceof FormData?Qu.put("/profile/cover-image",e):Se.put("/profile/cover-image",e);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var wb={};wb.version="0.18.5";var NV=1252,oxe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],SV=function(e){oxe.indexOf(e)!=-1&&(NV=e)};function lxe(){SV(1252)}var Ep=function(e){SV(e)};function cxe(){Ep(1200),lxe()}var _v=function(t){return String.fromCharCode(t)},RO=function(t){return String.fromCharCode(t)},hu,Vc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Lp(e){for(var t="",n=0,s=0,a=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)n=e.charCodeAt(u++),i=n>>2,s=e.charCodeAt(u++),o=(n&3)<<4|s>>4,a=e.charCodeAt(u++),l=(s&15)<<2|a>>6,c=a&63,isNaN(s)?l=c=64:isNaN(a)&&(c=64),t+=Vc.charAt(i)+Vc.charAt(o)+Vc.charAt(l)+Vc.charAt(c);return t}function Ul(e){var t="",n=0,s=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=Vc.indexOf(e.charAt(u++)),o=Vc.indexOf(e.charAt(u++)),n=i<<2|o>>4,t+=String.fromCharCode(n),l=Vc.indexOf(e.charAt(u++)),s=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(s)),c=Vc.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Wr=function(){return typeof Buffer!="undefined"&&typeof process!="undefined"&&typeof process.versions!="undefined"&&!!process.versions.node}(),rc=function(){if(typeof Buffer!="undefined"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(t){e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Wu(e){return Wr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array!="undefined"?new Uint8Array(e):new Array(e)}function FO(e){return Wr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array!="undefined"?new Uint8Array(e):new Array(e)}var Mo=function(t){return Wr?rc(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function xw(e){if(typeof ArrayBuffer=="undefined")return Mo(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),s=0;s!=e.length;++s)n[s]=e.charCodeAt(s)&255;return t}function dx(e){if(Array.isArray(e))return e.map(function(s){return String.fromCharCode(s)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function dxe(e){if(typeof Uint8Array=="undefined")throw new Error("Unsupported");return new Uint8Array(e)}var Gs=Wr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:rc(t)}))}:function(e){if(typeof Uint8Array!="undefined"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var s=new Uint8Array(n),a=0;for(t=0,n=0;t<e.length;n+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)s.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";s.set(new Uint8Array(e[t]),n)}return s}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function uxe(e){for(var t=[],n=0,s=e.length+250,a=Wu(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[n++]=o;else if(o<2048)a[n++]=192|o>>6&31,a[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[n++]=240|o>>8&7,a[n++]=128|o>>2&63,a[n++]=128|l>>6&15|(o&3)<<4,a[n++]=128|l&63}else a[n++]=224|o>>12&15,a[n++]=128|o>>6&63,a[n++]=128|o&63;n>s&&(t.push(a.slice(0,n)),n=0,a=Wu(65535),s=65530)}return t.push(a.slice(0,n)),Gs(t)}var $m=/\u0000/g,Ov=/[\u0001-\u0006]/g;function z0(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function Ao(e,t){var n=""+e;return n.length>=t?n:Tn("0",t-n.length)+n}function iL(e,t){var n=""+e;return n.length>=t?n:Tn(" ",t-n.length)+n}function jb(e,t){var n=""+e;return n.length>=t?n:n+Tn(" ",t-n.length)}function fxe(e,t){var n=""+Math.round(e);return n.length>=t?n:Tn("0",t-n.length)+n}function hxe(e,t){var n=""+e;return n.length>=t?n:Tn("0",t-n.length)+n}var BO=Math.pow(2,32);function Ff(e,t){if(e>BO||e<-BO)return fxe(e,t);var n=Math.round(e);return hxe(n,t)}function Nb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var zO=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Z4=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function gxe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var _n={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},UO={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},mxe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Sb(e,t,n){for(var s=e<0?-1:1,a=e*s,i=0,o=1,l=0,c=1,u=0,f=0,h=Math.floor(a);u<t&&(h=Math.floor(a),l=h*o+i,f=h*u+c,!(a-h<5e-8));)a=1/(a-h),i=o,o=l,c=u,u=f;if(f>t&&(u>t?(f=c,l=i):(f=u,l=o)),!n)return[0,s*l,f];var g=Math.floor(s*l/f);return[g,s*l-g*f,f]}function $v(e,t,n){if(e>2958465||e<0)return null;var s=e|0,a=Math.floor(86400*(e-s)),i=0,o=[],l={D:s,T:a,u:86400*(e-s)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(s+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++s,++l.D)),s===60)o=n?[1317,10,29]:[1900,2,29],i=3;else if(s===0)o=n?[1317,8,29]:[1900,1,0],i=6;else{s>60&&--s;var c=new Date(1900,0,1);c.setDate(c.getDate()+s-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),s<60&&(i=(i+6)%7),n&&(i=jxe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var CV=new Date(1899,11,31,0,0,0),pxe=CV.getTime(),xxe=new Date(1900,2,1,0,0,0);function kV(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=xxe&&(n+=24*60*60*1e3),(n-(pxe+(e.getTimezoneOffset()-CV.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function oL(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function vxe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function yxe(e){var t=e<0?12:11,n=oL(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function bxe(e){var t=oL(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function wxe(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=yxe(e):t===10?n=e.toFixed(10).substr(0,12):n=bxe(e),oL(vxe(n.toUpperCase()))}function r6(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):wxe(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return gd(14,kV(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function jxe(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function Nxe(e,t,n,s){var a="",i=0,o=0,l=n.y,c,u=0;switch(e){case 98:l=n.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=n.m,u=t.length;break;case 3:return Z4[n.m-1][1];case 5:return Z4[n.m-1][0];default:return Z4[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=n.d,u=t.length;break;case 3:return zO[n.q][0];default:return zO[n.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(n.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=n.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=n.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?Ao(n.S,t.length):(s>=2?o=s===3?1e3:100:o=s===1?10:1,i=Math.round(o*(n.S+n.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=Ao(i,2+s),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=n.D*24+n.H;break;case"[m]":case"[mm]":c=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":c=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var f=u>0?Ao(c,u):"";return f}function Gc(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,s=e.substr(0,n);n!=e.length;n+=t)s+=(s.length>0?",":"")+e.substr(n,t);return s}var EV=/%/g;function Sxe(e,t,n){var s=t.replace(EV,""),a=t.length-s.length;return Ol(e,s,n*Math.pow(10,2*a))+Tn("%",a)}function Cxe(e,t,n){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return Ol(e,t.substr(0,s),n/Math.pow(10,3*(t.length-s)))}function LV(e,t){var n,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+LV(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),n=(t/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),n.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,a)+"."+n.substr(2+a),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,f){return c+u+f.substr(0,(a+i)%a)+"."+f.substr(i)+"E"})}else n=t.toExponential(s);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var MV=/# (\?+)( ?)\/( ?)(\d+)/;function kxe(e,t,n){var s=parseInt(e[4],10),a=Math.round(t*s),i=Math.floor(a/s),o=a-i*s,l=s;return n+(i===0?"":""+i)+" "+(o===0?Tn(" ",e[1].length+1+e[4].length):iL(o,e[1].length)+e[2]+"/"+e[3]+Ao(l,e[4].length))}function Exe(e,t,n){return n+(t===0?"":""+t)+Tn(" ",e[1].length+2+e[4].length)}var IV=/^#*0*\.([0#]+)/,TV=/\).*[0#]/,AV=/\(###\) ###\\?-####/;function Sa(e){for(var t="",n,s=0;s!=e.length;++s)switch(n=e.charCodeAt(s)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function WO(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function HO(e,t){var n=e-Math.floor(e),s=Math.pow(10,t);return t<(""+Math.round(n*s)).length?0:Math.round(n*s)}function Lxe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Mxe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Bi(e,t,n){if(e.charCodeAt(0)===40&&!t.match(TV)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Bi("n",s,n):"("+Bi("n",s,-n)+")"}if(t.charCodeAt(t.length-1)===44)return Cxe(e,t,n);if(t.indexOf("%")!==-1)return Sxe(e,t,n);if(t.indexOf("E")!==-1)return LV(t,n);if(t.charCodeAt(0)===36)return"$"+Bi(e,t.substr(t.charAt(1)==" "?2:1),n);var a,i,o,l,c=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+Ff(c,t.length);if(t.match(/^[#?]+$/))return a=Ff(n,0),a==="0"&&(a=""),a.length>t.length?a:Sa(t.substr(0,t.length-a.length))+a;if(i=t.match(MV))return kxe(i,c,u);if(t.match(/^#+0+$/))return u+Ff(c,t.length-t.indexOf("0"));if(i=t.match(IV))return a=WO(n,i[1].length).replace(/^([^\.]+)$/,"$1."+Sa(i[1])).replace(/\.$/,"."+Sa(i[1])).replace(/\.(\d*)$/,function(p,v){return"."+v+Tn("0",Sa(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+WO(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Gc(Ff(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Bi(e,t,-n):Gc(""+(Math.floor(n)+Lxe(n,i[1].length)))+"."+Ao(HO(n,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Bi(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=z0(Bi(e,t.replace(/[\\-]/g,""),n)),o=0,z0(z0(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<a.length?a.charAt(o++):p==="0"?"0":""}));if(t.match(AV))return a=Bi(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Sb(c,Math.pow(10,o)-1,!1),a=""+u,f=Ol("n",i[1],l[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+i[2]+"/"+i[3],f=jb(l[2],o),f.length<i[4].length&&(f=Sa(i[4].substr(i[4].length-f.length))+f),a+=f,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Sb(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?iL(l[1],o)+i[2]+"/"+i[3]+jb(l[2],o):Tn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Ff(n,0),t.length<=a.length?a:Sa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var h=t.indexOf(".")-o,g=t.length-a.length-h;return Sa(t.substr(0,h)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=HO(n,i[1].length),n<0?"-"+Bi(e,t,-n):Gc(Mxe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Ao(0,3-p.length):"")+p})+"."+Ao(o,i[1].length);switch(t){case"###,##0.00":return Bi(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var m=Gc(Ff(c,0));return m!=="0"?u+m:"";case"###,###.00":return Bi(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Bi(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Ixe(e,t,n){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return Ol(e,t.substr(0,s),n/Math.pow(10,3*(t.length-s)))}function Txe(e,t,n){var s=t.replace(EV,""),a=t.length-s.length;return Ol(e,s,n*Math.pow(10,2*a))+Tn("%",a)}function _V(e,t){var n,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+_V(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),n=(t/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,f){return c+u+f.substr(0,(a+i)%a)+"."+f.substr(i)+"E"})}else n=t.toExponential(s);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Qo(e,t,n){if(e.charCodeAt(0)===40&&!t.match(TV)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Qo("n",s,n):"("+Qo("n",s,-n)+")"}if(t.charCodeAt(t.length-1)===44)return Ixe(e,t,n);if(t.indexOf("%")!==-1)return Txe(e,t,n);if(t.indexOf("E")!==-1)return _V(t,n);if(t.charCodeAt(0)===36)return"$"+Qo(e,t.substr(t.charAt(1)==" "?2:1),n);var a,i,o,l,c=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+Ao(c,t.length);if(t.match(/^[#?]+$/))return a=""+n,n===0&&(a=""),a.length>t.length?a:Sa(t.substr(0,t.length-a.length))+a;if(i=t.match(MV))return Exe(i,c,u);if(t.match(/^#+0+$/))return u+Ao(c,t.length-t.indexOf("0"));if(i=t.match(IV))return a=(""+n).replace(/^([^\.]+)$/,"$1."+Sa(i[1])).replace(/\.$/,"."+Sa(i[1])),a=a.replace(/\.(\d*)$/,function(p,v){return"."+v+Tn("0",Sa(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Gc(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Qo(e,t,-n):Gc(""+n)+"."+Tn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Qo(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=z0(Qo(e,t.replace(/[\\-]/g,""),n)),o=0,z0(z0(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<a.length?a.charAt(o++):p==="0"?"0":""}));if(t.match(AV))return a=Qo(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Sb(c,Math.pow(10,o)-1,!1),a=""+u,f=Ol("n",i[1],l[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+i[2]+"/"+i[3],f=jb(l[2],o),f.length<i[4].length&&(f=Sa(i[4].substr(i[4].length-f.length))+f),a+=f,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Sb(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?iL(l[1],o)+i[2]+"/"+i[3]+jb(l[2],o):Tn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+n,t.length<=a.length?a:Sa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var h=t.indexOf(".")-o,g=t.length-a.length-h;return Sa(t.substr(0,h)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Qo(e,t,-n):Gc(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Ao(0,3-p.length):"")+p})+"."+Ao(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=Gc(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return Qo(e,t.slice(0,t.lastIndexOf(".")),n)+Sa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ol(e,t,n){return(n|0)===n?Qo(e,t,n):Bi(e,t,n)}function Axe(e){for(var t=[],n=!1,s=0,a=0;s<e.length;++s)switch(e.charCodeAt(s)){case 34:n=!n;break;case 95:case 42:case 92:++s;break;case 59:t[t.length]=e.substr(a,s-a),a=s+1}if(t[t.length]=e.substr(a),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var OV=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function $V(e){for(var t=0,n="",s="";t<e.length;)switch(n=e.charAt(t)){case"G":Nb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(s=n;e.charAt(t++)!=="]"&&t<e.length;)s+=e.charAt(t);if(s.match(OV))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function _xe(e,t,n,s){for(var a=[],i="",o=0,l="",c="t",u,f,h,g="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!Nb(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(h=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(h);a[a.length]={t:"t",v:i},++o;break;case"\\":var m=e.charAt(++o),p=m==="("||m===")"?m:"t";a[a.length]={t:p,v:m},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=$v(t,n,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=$v(t,n),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=g),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var v={t:l,v:l};if(u==null&&(u=$v(t,n)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(v.v=u.H>=12?"P":"A"),v.t="T",g="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(v.v=u.H>=12?"PM":"AM"),v.t="T",o+=5,g="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(v.v=u.H>=12?"":""),v.t="T",o+=5,g="h"):(v.t="t",++o),u==null&&v.t==="T")return"";a[a.length]=v,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(OV)){if(u==null&&(u=$v(t,n),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",$V(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:s===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var b=0,y=0,x;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=g,c="h",b<1&&(b=1);break;case"s":(x=a[o].v.match(/\.0+$/))&&(y=Math.max(y,x[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&a[o].v.match(/[Hh]/)&&(b=1),b<2&&a[o].v.match(/[Mm]/)&&(b=2),b<3&&a[o].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",j;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=Nxe(a[o].t.charCodeAt(0),a[o].v,u,y),a[o].t="t";break;case"n":case"?":for(j=o+1;a[j]!=null&&((l=a[j].t)==="?"||l==="D"||(l===" "||l==="t")&&a[j+1]!=null&&(a[j+1].t==="?"||a[j+1].t==="t"&&a[j+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[j].v==="/"||a[j].v===" "&&a[j+1]!=null&&a[j+1].t=="?"));)a[o].v+=a[j].v,a[j]={v:"",t:";"},++j;w+=a[o].v,o=j-1;break;case"G":a[o].t="t",a[o].v=r6(t,n);break}var N="",L,k;if(w.length>0){w.charCodeAt(0)==40?(L=t<0&&w.charCodeAt(0)===45?-t:t,k=Ol("n",w,L)):(L=t<0&&s>1?-t:t,k=Ol("n",w,L),L<0&&a[0]&&a[0].t=="t"&&(k=k.substr(1),a[0].v="-"+a[0].v)),j=k.length-1;var E=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){E=o;break}var S=a.length;if(E===a.length&&k.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(j>=a[o].v.length-1?(j-=a[o].v.length,a[o].v=k.substr(j+1,a[o].v.length)):j<0?a[o].v="":(a[o].v=k.substr(0,j+1),j=-1),a[o].t="t",S=o);j>=0&&S<a.length&&(a[S].v=k.substr(0,j+1)+a[S].v)}else if(E!==a.length&&k.indexOf("E")===-1){for(j=k.indexOf(".")-1,o=E;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(f=a[o].v.indexOf(".")>-1&&o===E?a[o].v.indexOf(".")-1:a[o].v.length-1,N=a[o].v.substr(f+1);f>=0;--f)j>=0&&(a[o].v.charAt(f)==="0"||a[o].v.charAt(f)==="#")&&(N=k.charAt(j--)+N);a[o].v=N,a[o].t="t",S=o}for(j>=0&&S<a.length&&(a[S].v=k.substr(0,j+1)+a[S].v),j=k.indexOf(".")+1,o=E;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==E)){for(f=a[o].v.indexOf(".")>-1&&o===E?a[o].v.indexOf(".")+1:0,N=a[o].v.substr(0,f);f<a[o].v.length;++f)j<k.length&&(N+=k.charAt(j++));a[o].v=N,a[o].t="t",S=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(L=s>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Ol(a[o].t,a[o].v,L),a[o].t="t");var I="";for(o=0;o!==a.length;++o)a[o]!=null&&(I+=a[o].v);return I}var VO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function GO(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function Oxe(e,t){var n=Axe(e),s=n.length,a=n[s-1].indexOf("@");if(s<4&&a>-1&&--s,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||a>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=a>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=a>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=a>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var i=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[s,i];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(VO),l=n[1].match(VO);return GO(t,o)?[s,n[0]]:GO(t,l)?[s,n[1]]:[s,n[o!=null&&l!=null?2:1]]}return[s,i]}function gd(e,t,n){n==null&&(n={});var s="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?s=n.dateNF:s=e;break;case"number":e==14&&n.dateNF?s=n.dateNF:s=(n.table!=null?n.table:_n)[e],s==null&&(s=n.table&&n.table[UO[e]]||_n[UO[e]]),s==null&&(s=mxe[e]||"General");break}if(Nb(s,0))return r6(t,n);t instanceof Date&&(t=kV(t,n.date1904));var a=Oxe(s,t);if(Nb(a[1]))return r6(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return _xe(a[1],t,n,a[0])}function PV(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(_n[n]==null){t<0&&(t=n);continue}if(_n[n]==e){t=n;break}}t<0&&(t=391)}return _n[t]=e,t}function vw(e){for(var t=0;t!=392;++t)e[t]!==void 0&&PV(e[t],t)}function yw(){_n=gxe()}var DV=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function $xe(e){var t=typeof e=="number"?_n[e]:e;return t=t.replace(DV,"(\\d+)"),new RegExp("^"+t+"$")}function Pxe(e,t,n){var s=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(DV)||[]).forEach(function(h,g){var m=parseInt(n[g+1],10);switch(h.toLowerCase().charAt(0)){case"y":s=m;break;case"d":i=m;break;case"h":o=m;break;case"s":c=m;break;case"m":o>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:s==-1&&a==-1&&i==-1?f:u+"T"+f}var Dxe=function(){var e={};e.version="1.2.0";function t(){for(var k=0,E=new Array(256),S=0;S!=256;++S)k=S,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,E[S]=k;return typeof Int32Array!="undefined"?new Int32Array(E):E}var n=t();function s(k){var E=0,S=0,I=0,C=typeof Int32Array!="undefined"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)C[I]=k[I];for(I=0;I!=256;++I)for(S=k[I],E=256+I;E<4096;E+=256)S=C[E]=S>>>8^k[S&255];var M=[];for(I=1;I!=16;++I)M[I-1]=typeof Int32Array!="undefined"?C.subarray(I*256,I*256+256):C.slice(I*256,I*256+256);return M}var a=s(n),i=a[0],o=a[1],l=a[2],c=a[3],u=a[4],f=a[5],h=a[6],g=a[7],m=a[8],p=a[9],v=a[10],b=a[11],y=a[12],x=a[13],w=a[14];function j(k,E){for(var S=E^-1,I=0,C=k.length;I<C;)S=S>>>8^n[(S^k.charCodeAt(I++))&255];return~S}function N(k,E){for(var S=E^-1,I=k.length-15,C=0;C<I;)S=w[k[C++]^S&255]^x[k[C++]^S>>8&255]^y[k[C++]^S>>16&255]^b[k[C++]^S>>>24]^v[k[C++]]^p[k[C++]]^m[k[C++]]^g[k[C++]]^h[k[C++]]^f[k[C++]]^u[k[C++]]^c[k[C++]]^l[k[C++]]^o[k[C++]]^i[k[C++]]^n[k[C++]];for(I+=15;C<I;)S=S>>>8^n[(S^k[C++])&255];return~S}function L(k,E){for(var S=E^-1,I=0,C=k.length,M=0,A=0;I<C;)M=k.charCodeAt(I++),M<128?S=S>>>8^n[(S^M)&255]:M<2048?(S=S>>>8^n[(S^(192|M>>6&31))&255],S=S>>>8^n[(S^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,A=k.charCodeAt(I++)&1023,S=S>>>8^n[(S^(240|M>>8&7))&255],S=S>>>8^n[(S^(128|M>>2&63))&255],S=S>>>8^n[(S^(128|A>>6&15|(M&3)<<4))&255],S=S>>>8^n[(S^(128|A&63))&255]):(S=S>>>8^n[(S^(224|M>>12&15))&255],S=S>>>8^n[(S^(128|M>>6&63))&255],S=S>>>8^n[(S^(128|M&63))&255]);return~S}return e.table=n,e.bstr=j,e.buf=N,e.str=L,e}(),en=function(){var t={};t.version="1.2.1";function n(B,ee){for(var q=B.split("/"),K=ee.split("/"),ce=0,ye=0,Ze=Math.min(q.length,K.length);ce<Ze;++ce){if(ye=q[ce].length-K[ce].length)return ye;if(q[ce]!=K[ce])return q[ce]<K[ce]?-1:1}return q.length-K.length}function s(B){if(B.charAt(B.length-1)=="/")return B.slice(0,-1).indexOf("/")===-1?B:s(B.slice(0,-1));var ee=B.lastIndexOf("/");return ee===-1?B:B.slice(0,ee+1)}function a(B){if(B.charAt(B.length-1)=="/")return a(B.slice(0,-1));var ee=B.lastIndexOf("/");return ee===-1?B:B.slice(ee+1)}function i(B,ee){typeof ee=="string"&&(ee=new Date(ee));var q=ee.getHours();q=q<<6|ee.getMinutes(),q=q<<5|ee.getSeconds()>>>1,B.write_shift(2,q);var K=ee.getFullYear()-1980;K=K<<4|ee.getMonth()+1,K=K<<5|ee.getDate(),B.write_shift(2,K)}function o(B){var ee=B.read_shift(2)&65535,q=B.read_shift(2)&65535,K=new Date,ce=q&31;q>>>=5;var ye=q&15;q>>>=4,K.setMilliseconds(0),K.setFullYear(q+1980),K.setMonth(ye-1),K.setDate(ce);var Ze=ee&31;ee>>>=5;var ut=ee&63;return ee>>>=6,K.setHours(ee),K.setMinutes(ut),K.setSeconds(Ze<<1),K}function l(B){hi(B,0);for(var ee={},q=0;B.l<=B.length-4;){var K=B.read_shift(2),ce=B.read_shift(2),ye=B.l+ce,Ze={};switch(K){case 21589:q=B.read_shift(1),q&1&&(Ze.mtime=B.read_shift(4)),ce>5&&(q&2&&(Ze.atime=B.read_shift(4)),q&4&&(Ze.ctime=B.read_shift(4))),Ze.mtime&&(Ze.mt=new Date(Ze.mtime*1e3));break}B.l=ye,ee[K]=Ze}return ee}var c;function u(){return c||(c={})}function f(B,ee){if(B[0]==80&&B[1]==75)return De(B,ee);if((B[0]|32)==109&&(B[1]|32)==105)return qe(B,ee);if(B.length<512)throw new Error("CFB file size "+B.length+" < 512");var q=3,K=512,ce=0,ye=0,Ze=0,ut=0,we=0,Ee=[],Ie=B.slice(0,512);hi(Ie,0);var Ve=h(Ie);switch(q=Ve[0],q){case 3:K=512;break;case 4:K=4096;break;case 0:if(Ve[1]==0)return De(B,ee);default:throw new Error("Major Version: Expected 3 or 4 saw "+q)}K!==512&&(Ie=B.slice(0,K),hi(Ie,28));var ht=B.slice(0,K);g(Ie,q);var ft=Ie.read_shift(4,"i");if(q===3&&ft!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ft);Ie.l+=4,Ze=Ie.read_shift(4,"i"),Ie.l+=4,Ie.chk("00100000","Mini Stream Cutoff Size: "),ut=Ie.read_shift(4,"i"),ce=Ie.read_shift(4,"i"),we=Ie.read_shift(4,"i"),ye=Ie.read_shift(4,"i");for(var ct=-1,xt=0;xt<109&&(ct=Ie.read_shift(4,"i"),!(ct<0));++xt)Ee[xt]=ct;var ve=m(B,K);b(we,ye,ve,K,Ee);var Fe=x(ve,Ze,Ee,K);Fe[Ze].name="!Directory",ce>0&&ut!==A&&(Fe[ut].name="!MiniFAT"),Fe[Ee[0]].name="!FAT",Fe.fat_addrs=Ee,Fe.ssz=K;var et={},Ye=[],pt=[],Ke=[];w(Ze,Fe,ve,Ye,ce,et,pt,ut),p(pt,Ke,Ye),Ye.shift();var je={FileIndex:pt,FullPaths:Ke};return ee&&ee.raw&&(je.raw={header:ht,sectors:ve}),je}function h(B){if(B[B.l]==80&&B[B.l+1]==75)return[0,0];B.chk(H,"Header Signature: "),B.l+=16;var ee=B.read_shift(2,"u");return[B.read_shift(2,"u"),ee]}function g(B,ee){var q=9;switch(B.l+=2,q=B.read_shift(2)){case 9:if(ee!=3)throw new Error("Sector Shift: Expected 9 saw "+q);break;case 12:if(ee!=4)throw new Error("Sector Shift: Expected 12 saw "+q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+q)}B.chk("0600","Mini Sector Shift: "),B.chk("000000000000","Reserved: ")}function m(B,ee){for(var q=Math.ceil(B.length/ee)-1,K=[],ce=1;ce<q;++ce)K[ce-1]=B.slice(ce*ee,(ce+1)*ee);return K[q-1]=B.slice(q*ee),K}function p(B,ee,q){for(var K=0,ce=0,ye=0,Ze=0,ut=0,we=q.length,Ee=[],Ie=[];K<we;++K)Ee[K]=Ie[K]=K,ee[K]=q[K];for(;ut<Ie.length;++ut)K=Ie[ut],ce=B[K].L,ye=B[K].R,Ze=B[K].C,Ee[K]===K&&(ce!==-1&&Ee[ce]!==ce&&(Ee[K]=Ee[ce]),ye!==-1&&Ee[ye]!==ye&&(Ee[K]=Ee[ye])),Ze!==-1&&(Ee[Ze]=K),ce!==-1&&K!=Ee[K]&&(Ee[ce]=Ee[K],Ie.lastIndexOf(ce)<ut&&Ie.push(ce)),ye!==-1&&K!=Ee[K]&&(Ee[ye]=Ee[K],Ie.lastIndexOf(ye)<ut&&Ie.push(ye));for(K=1;K<we;++K)Ee[K]===K&&(ye!==-1&&Ee[ye]!==ye?Ee[K]=Ee[ye]:ce!==-1&&Ee[ce]!==ce&&(Ee[K]=Ee[ce]));for(K=1;K<we;++K)if(B[K].type!==0){if(ut=K,ut!=Ee[ut])do ut=Ee[ut],ee[K]=ee[ut]+"/"+ee[K];while(ut!==0&&Ee[ut]!==-1&&ut!=Ee[ut]);Ee[K]=-1}for(ee[0]+="/",K=1;K<we;++K)B[K].type!==2&&(ee[K]+="/")}function v(B,ee,q){for(var K=B.start,ce=B.size,ye=[],Ze=K;q&&ce>0&&Ze>=0;)ye.push(ee.slice(Ze*M,Ze*M+M)),ce-=M,Ze=gu(q,Ze*4);return ye.length===0?kt(0):Gs(ye).slice(0,B.size)}function b(B,ee,q,K,ce){var ye=A;if(B===A){if(ee!==0)throw new Error("DIFAT chain shorter than expected")}else if(B!==-1){var Ze=q[B],ut=(K>>>2)-1;if(!Ze)return;for(var we=0;we<ut&&(ye=gu(Ze,we*4))!==A;++we)ce.push(ye);b(gu(Ze,K-4),ee-1,q,K,ce)}}function y(B,ee,q,K,ce){var ye=[],Ze=[];ce||(ce=[]);var ut=K-1,we=0,Ee=0;for(we=ee;we>=0;){ce[we]=!0,ye[ye.length]=we,Ze.push(B[we]);var Ie=q[Math.floor(we*4/K)];if(Ee=we*4&ut,K<4+Ee)throw new Error("FAT boundary crossed: "+we+" 4 "+K);if(!B[Ie])break;we=gu(B[Ie],Ee)}return{nodes:ye,data:e$([Ze])}}function x(B,ee,q,K){var ce=B.length,ye=[],Ze=[],ut=[],we=[],Ee=K-1,Ie=0,Ve=0,ht=0,ft=0;for(Ie=0;Ie<ce;++Ie)if(ut=[],ht=Ie+ee,ht>=ce&&(ht-=ce),!Ze[ht]){we=[];var ct=[];for(Ve=ht;Ve>=0;){ct[Ve]=!0,Ze[Ve]=!0,ut[ut.length]=Ve,we.push(B[Ve]);var xt=q[Math.floor(Ve*4/K)];if(ft=Ve*4&Ee,K<4+ft)throw new Error("FAT boundary crossed: "+Ve+" 4 "+K);if(!B[xt]||(Ve=gu(B[xt],ft),ct[Ve]))break}ye[ht]={nodes:ut,data:e$([we])}}return ye}function w(B,ee,q,K,ce,ye,Ze,ut){for(var we=0,Ee=K.length?2:0,Ie=ee[B].data,Ve=0,ht=0,ft;Ve<Ie.length;Ve+=128){var ct=Ie.slice(Ve,Ve+128);hi(ct,64),ht=ct.read_shift(2),ft=fL(ct,0,ht-Ee),K.push(ft);var xt={name:ft,type:ct.read_shift(1),color:ct.read_shift(1),L:ct.read_shift(4,"i"),R:ct.read_shift(4,"i"),C:ct.read_shift(4,"i"),clsid:ct.read_shift(16),state:ct.read_shift(4,"i"),start:0,size:0},ve=ct.read_shift(2)+ct.read_shift(2)+ct.read_shift(2)+ct.read_shift(2);ve!==0&&(xt.ct=j(ct,ct.l-8));var Fe=ct.read_shift(2)+ct.read_shift(2)+ct.read_shift(2)+ct.read_shift(2);Fe!==0&&(xt.mt=j(ct,ct.l-8)),xt.start=ct.read_shift(4,"i"),xt.size=ct.read_shift(4,"i"),xt.size<0&&xt.start<0&&(xt.size=xt.type=0,xt.start=A,xt.name=""),xt.type===5?(we=xt.start,ce>0&&we!==A&&(ee[we].name="!StreamData")):xt.size>=4096?(xt.storage="fat",ee[xt.start]===void 0&&(ee[xt.start]=y(q,xt.start,ee.fat_addrs,ee.ssz)),ee[xt.start].name=xt.name,xt.content=ee[xt.start].data.slice(0,xt.size)):(xt.storage="minifat",xt.size<0?xt.size=0:we!==A&&xt.start!==A&&ee[we]&&(xt.content=v(xt,ee[we].data,(ee[ut]||{}).data))),xt.content&&hi(xt.content,0),ye[ft]=xt,Ze.push(xt)}}function j(B,ee){return new Date((xi(B,ee+4)/1e7*Math.pow(2,32)+xi(B,ee)/1e7-11644473600)*1e3)}function N(B,ee){return u(),f(c.readFileSync(B),ee)}function L(B,ee){var q=ee&&ee.type;switch(q||Wr&&Buffer.isBuffer(B)&&(q="buffer"),q||"base64"){case"file":return N(B,ee);case"base64":return f(Mo(Ul(B)),ee);case"binary":return f(Mo(B),ee)}return f(B,ee)}function k(B,ee){var q=ee||{},K=q.root||"Root Entry";if(B.FullPaths||(B.FullPaths=[]),B.FileIndex||(B.FileIndex=[]),B.FullPaths.length!==B.FileIndex.length)throw new Error("inconsistent CFB structure");B.FullPaths.length===0&&(B.FullPaths[0]=K+"/",B.FileIndex[0]={name:K,type:5}),q.CLSID&&(B.FileIndex[0].clsid=q.CLSID),E(B)}function E(B){var ee="Sh33tJ5";if(!en.find(B,"/"+ee)){var q=kt(4);q[0]=55,q[1]=q[3]=50,q[2]=54,B.FileIndex.push({name:ee,type:2,content:q,size:4,L:69,R:69,C:69}),B.FullPaths.push(B.FullPaths[0]+ee),S(B)}}function S(B,ee){k(B);for(var q=!1,K=!1,ce=B.FullPaths.length-1;ce>=0;--ce){var ye=B.FileIndex[ce];switch(ye.type){case 0:K?q=!0:(B.FileIndex.pop(),B.FullPaths.pop());break;case 1:case 2:case 5:K=!0,isNaN(ye.R*ye.L*ye.C)&&(q=!0),ye.R>-1&&ye.L>-1&&ye.R==ye.L&&(q=!0);break;default:q=!0;break}}if(!(!q&&!ee)){var Ze=new Date(1987,1,19),ut=0,we=Object.create?Object.create(null):{},Ee=[];for(ce=0;ce<B.FullPaths.length;++ce)we[B.FullPaths[ce]]=!0,B.FileIndex[ce].type!==0&&Ee.push([B.FullPaths[ce],B.FileIndex[ce]]);for(ce=0;ce<Ee.length;++ce){var Ie=s(Ee[ce][0]);K=we[Ie],K||(Ee.push([Ie,{name:a(Ie).replace("/",""),type:1,clsid:X,ct:Ze,mt:Ze,content:null}]),we[Ie]=!0)}for(Ee.sort(function(ft,ct){return n(ft[0],ct[0])}),B.FullPaths=[],B.FileIndex=[],ce=0;ce<Ee.length;++ce)B.FullPaths[ce]=Ee[ce][0],B.FileIndex[ce]=Ee[ce][1];for(ce=0;ce<Ee.length;++ce){var Ve=B.FileIndex[ce],ht=B.FullPaths[ce];if(Ve.name=a(ht).replace("/",""),Ve.L=Ve.R=Ve.C=-(Ve.color=1),Ve.size=Ve.content?Ve.content.length:0,Ve.start=0,Ve.clsid=Ve.clsid||X,ce===0)Ve.C=Ee.length>1?1:-1,Ve.size=0,Ve.type=5;else if(ht.slice(-1)=="/"){for(ut=ce+1;ut<Ee.length&&s(B.FullPaths[ut])!=ht;++ut);for(Ve.C=ut>=Ee.length?-1:ut,ut=ce+1;ut<Ee.length&&s(B.FullPaths[ut])!=s(ht);++ut);Ve.R=ut>=Ee.length?-1:ut,Ve.type=1}else s(B.FullPaths[ce+1]||"")==s(ht)&&(Ve.R=ce+1),Ve.type=2}}}function I(B,ee){var q=ee||{};if(q.fileType=="mad")return vt(B,q);switch(S(B),q.fileType){case"zip":return Ae(B,q)}var K=function(ft){for(var ct=0,xt=0,ve=0;ve<ft.FileIndex.length;++ve){var Fe=ft.FileIndex[ve];if(Fe.content){var et=Fe.content.length;et>0&&(et<4096?ct+=et+63>>6:xt+=et+511>>9)}}for(var Ye=ft.FullPaths.length+3>>2,pt=ct+7>>3,Ke=ct+127>>7,je=pt+xt+Ye+Ke,st=je+127>>7,wt=st<=109?0:Math.ceil((st-109)/127);je+st+wt+127>>7>st;)wt=++st<=109?0:Math.ceil((st-109)/127);var Lt=[1,wt,st,Ke,Ye,xt,ct,0];return ft.FileIndex[0].size=ct<<6,Lt[7]=(ft.FileIndex[0].start=Lt[0]+Lt[1]+Lt[2]+Lt[3]+Lt[4]+Lt[5])+(Lt[6]+7>>3),Lt}(B),ce=kt(K[7]<<9),ye=0,Ze=0;{for(ye=0;ye<8;++ye)ce.write_shift(1,W[ye]);for(ye=0;ye<8;++ye)ce.write_shift(2,0);for(ce.write_shift(2,62),ce.write_shift(2,3),ce.write_shift(2,65534),ce.write_shift(2,9),ce.write_shift(2,6),ye=0;ye<3;++ye)ce.write_shift(2,0);for(ce.write_shift(4,0),ce.write_shift(4,K[2]),ce.write_shift(4,K[0]+K[1]+K[2]+K[3]-1),ce.write_shift(4,0),ce.write_shift(4,4096),ce.write_shift(4,K[3]?K[0]+K[1]+K[2]-1:A),ce.write_shift(4,K[3]),ce.write_shift(-4,K[1]?K[0]-1:A),ce.write_shift(4,K[1]),ye=0;ye<109;++ye)ce.write_shift(-4,ye<K[2]?K[1]+ye:-1)}if(K[1])for(Ze=0;Ze<K[1];++Ze){for(;ye<236+Ze*127;++ye)ce.write_shift(-4,ye<K[2]?K[1]+ye:-1);ce.write_shift(-4,Ze===K[1]-1?A:Ze+1)}var ut=function(ft){for(Ze+=ft;ye<Ze-1;++ye)ce.write_shift(-4,ye+1);ft&&(++ye,ce.write_shift(-4,A))};for(Ze=ye=0,Ze+=K[1];ye<Ze;++ye)ce.write_shift(-4,J.DIFSECT);for(Ze+=K[2];ye<Ze;++ye)ce.write_shift(-4,J.FATSECT);ut(K[3]),ut(K[4]);for(var we=0,Ee=0,Ie=B.FileIndex[0];we<B.FileIndex.length;++we)Ie=B.FileIndex[we],Ie.content&&(Ee=Ie.content.length,!(Ee<4096)&&(Ie.start=Ze,ut(Ee+511>>9)));for(ut(K[6]+7>>3);ce.l&511;)ce.write_shift(-4,J.ENDOFCHAIN);for(Ze=ye=0,we=0;we<B.FileIndex.length;++we)Ie=B.FileIndex[we],Ie.content&&(Ee=Ie.content.length,!(!Ee||Ee>=4096)&&(Ie.start=Ze,ut(Ee+63>>6)));for(;ce.l&511;)ce.write_shift(-4,J.ENDOFCHAIN);for(ye=0;ye<K[4]<<2;++ye){var Ve=B.FullPaths[ye];if(!Ve||Ve.length===0){for(we=0;we<17;++we)ce.write_shift(4,0);for(we=0;we<3;++we)ce.write_shift(4,-1);for(we=0;we<12;++we)ce.write_shift(4,0);continue}Ie=B.FileIndex[ye],ye===0&&(Ie.start=Ie.size?Ie.start-1:A);var ht=ye===0&&q.root||Ie.name;if(Ee=2*(ht.length+1),ce.write_shift(64,ht,"utf16le"),ce.write_shift(2,Ee),ce.write_shift(1,Ie.type),ce.write_shift(1,Ie.color),ce.write_shift(-4,Ie.L),ce.write_shift(-4,Ie.R),ce.write_shift(-4,Ie.C),Ie.clsid)ce.write_shift(16,Ie.clsid,"hex");else for(we=0;we<4;++we)ce.write_shift(4,0);ce.write_shift(4,Ie.state||0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,Ie.start),ce.write_shift(4,Ie.size),ce.write_shift(4,0)}for(ye=1;ye<B.FileIndex.length;++ye)if(Ie=B.FileIndex[ye],Ie.size>=4096)if(ce.l=Ie.start+1<<9,Wr&&Buffer.isBuffer(Ie.content))Ie.content.copy(ce,ce.l,0,Ie.size),ce.l+=Ie.size+511&-512;else{for(we=0;we<Ie.size;++we)ce.write_shift(1,Ie.content[we]);for(;we&511;++we)ce.write_shift(1,0)}for(ye=1;ye<B.FileIndex.length;++ye)if(Ie=B.FileIndex[ye],Ie.size>0&&Ie.size<4096)if(Wr&&Buffer.isBuffer(Ie.content))Ie.content.copy(ce,ce.l,0,Ie.size),ce.l+=Ie.size+63&-64;else{for(we=0;we<Ie.size;++we)ce.write_shift(1,Ie.content[we]);for(;we&63;++we)ce.write_shift(1,0)}if(Wr)ce.l=ce.length;else for(;ce.l<ce.length;)ce.write_shift(1,0);return ce}function C(B,ee){var q=B.FullPaths.map(function(we){return we.toUpperCase()}),K=q.map(function(we){var Ee=we.split("/");return Ee[Ee.length-(we.slice(-1)=="/"?2:1)]}),ce=!1;ee.charCodeAt(0)===47?(ce=!0,ee=q[0].slice(0,-1)+ee):ce=ee.indexOf("/")!==-1;var ye=ee.toUpperCase(),Ze=ce===!0?q.indexOf(ye):K.indexOf(ye);if(Ze!==-1)return B.FileIndex[Ze];var ut=!ye.match(Ov);for(ye=ye.replace($m,""),ut&&(ye=ye.replace(Ov,"!")),Ze=0;Ze<q.length;++Ze)if((ut?q[Ze].replace(Ov,"!"):q[Ze]).replace($m,"")==ye||(ut?K[Ze].replace(Ov,"!"):K[Ze]).replace($m,"")==ye)return B.FileIndex[Ze];return null}var M=64,A=-2,H="d0cf11e0a1b11ae1",W=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:A,FREESECT:-1,HEADER_SIGNATURE:H,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Z(B,ee,q){u();var K=I(B,q);c.writeFileSync(ee,K)}function F(B){for(var ee=new Array(B.length),q=0;q<B.length;++q)ee[q]=String.fromCharCode(B[q]);return ee.join("")}function D(B,ee){var q=I(B,ee);switch(ee&&ee.type||"buffer"){case"file":return u(),c.writeFileSync(ee.filename,q),q;case"binary":return typeof q=="string"?q:F(q);case"base64":return Lp(typeof q=="string"?q:F(q));case"buffer":if(Wr)return Buffer.isBuffer(q)?q:rc(q);case"array":return typeof q=="string"?Mo(q):q}return q}var O;function T(B){try{var ee=B.InflateRaw,q=new ee;if(q._processChunk(new Uint8Array([3,0]),q._finishFlushFlag),q.bytesRead)O=B;else throw new Error("zlib does not expose bytesRead")}catch(K){console.error("cannot use native zlib: "+(K.message||K))}}function R(B,ee){if(!O)return it(B,ee);var q=O.InflateRaw,K=new q,ce=K._processChunk(B.slice(B.l),K._finishFlushFlag);return B.l+=K.bytesRead,ce}function z(B){return O?O.deflateRawSync(B):Te(B)}var _=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Q=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function re(B){var ee=(B<<1|B<<11)&139536|(B<<5|B<<15)&558144;return(ee>>16|ee>>8|ee)&255}for(var le=typeof Uint8Array!="undefined",ue=le?new Uint8Array(256):[],ge=0;ge<256;++ge)ue[ge]=re(ge);function ke(B,ee){var q=ue[B&255];return ee<=8?q>>>8-ee:(q=q<<8|ue[B>>8&255],ee<=16?q>>>16-ee:(q=q<<8|ue[B>>16&255],q>>>24-ee))}function tt(B,ee){var q=ee&7,K=ee>>>3;return(B[K]|(q<=6?0:B[K+1]<<8))>>>q&3}function He(B,ee){var q=ee&7,K=ee>>>3;return(B[K]|(q<=5?0:B[K+1]<<8))>>>q&7}function ze(B,ee){var q=ee&7,K=ee>>>3;return(B[K]|(q<=4?0:B[K+1]<<8))>>>q&15}function rt(B,ee){var q=ee&7,K=ee>>>3;return(B[K]|(q<=3?0:B[K+1]<<8))>>>q&31}function Xe(B,ee){var q=ee&7,K=ee>>>3;return(B[K]|(q<=1?0:B[K+1]<<8))>>>q&127}function V(B,ee,q){var K=ee&7,ce=ee>>>3,ye=(1<<q)-1,Ze=B[ce]>>>K;return q<8-K||(Ze|=B[ce+1]<<8-K,q<16-K)||(Ze|=B[ce+2]<<16-K,q<24-K)||(Ze|=B[ce+3]<<24-K),Ze&ye}function ne(B,ee,q){var K=ee&7,ce=ee>>>3;return K<=5?B[ce]|=(q&7)<<K:(B[ce]|=q<<K&255,B[ce+1]=(q&7)>>8-K),ee+3}function Ce(B,ee,q){var K=ee&7,ce=ee>>>3;return q=(q&1)<<K,B[ce]|=q,ee+1}function fe(B,ee,q){var K=ee&7,ce=ee>>>3;return q<<=K,B[ce]|=q&255,q>>>=8,B[ce+1]=q,ee+8}function xe(B,ee,q){var K=ee&7,ce=ee>>>3;return q<<=K,B[ce]|=q&255,q>>>=8,B[ce+1]=q&255,B[ce+2]=q>>>8,ee+16}function se(B,ee){var q=B.length,K=2*q>ee?2*q:ee+5,ce=0;if(q>=ee)return B;if(Wr){var ye=FO(K);if(B.copy)B.copy(ye);else for(;ce<B.length;++ce)ye[ce]=B[ce];return ye}else if(le){var Ze=new Uint8Array(K);if(Ze.set)Ze.set(B);else for(;ce<q;++ce)Ze[ce]=B[ce];return Ze}return B.length=K,B}function ae(B){for(var ee=new Array(B),q=0;q<B;++q)ee[q]=0;return ee}function G(B,ee,q){var K=1,ce=0,ye=0,Ze=0,ut=0,we=B.length,Ee=le?new Uint16Array(32):ae(32);for(ye=0;ye<32;++ye)Ee[ye]=0;for(ye=we;ye<q;++ye)B[ye]=0;we=B.length;var Ie=le?new Uint16Array(we):ae(we);for(ye=0;ye<we;++ye)Ee[ce=B[ye]]++,K<ce&&(K=ce),Ie[ye]=0;for(Ee[0]=0,ye=1;ye<=K;++ye)Ee[ye+16]=ut=ut+Ee[ye-1]<<1;for(ye=0;ye<we;++ye)ut=B[ye],ut!=0&&(Ie[ye]=Ee[ut+16]++);var Ve=0;for(ye=0;ye<we;++ye)if(Ve=B[ye],Ve!=0)for(ut=ke(Ie[ye],K)>>K-Ve,Ze=(1<<K+4-Ve)-1;Ze>=0;--Ze)ee[ut|Ze<<Ve]=Ve&15|ye<<4;return K}var Ne=le?new Uint16Array(512):ae(512),Be=le?new Uint16Array(32):ae(32);if(!le){for(var dt=0;dt<512;++dt)Ne[dt]=0;for(dt=0;dt<32;++dt)Be[dt]=0}(function(){for(var B=[],ee=0;ee<32;ee++)B.push(5);G(B,Be,32);var q=[];for(ee=0;ee<=143;ee++)q.push(8);for(;ee<=255;ee++)q.push(9);for(;ee<=279;ee++)q.push(7);for(;ee<=287;ee++)q.push(8);G(q,Ne,288)})();var nt=function(){for(var ee=le?new Uint8Array(32768):[],q=0,K=0;q<Q.length-1;++q)for(;K<Q[q+1];++K)ee[K]=q;for(;K<32768;++K)ee[K]=29;var ce=le?new Uint8Array(259):[];for(q=0,K=0;q<U.length-1;++q)for(;K<U[q+1];++K)ce[K]=q;function ye(ut,we){for(var Ee=0;Ee<ut.length;){var Ie=Math.min(65535,ut.length-Ee),Ve=Ee+Ie==ut.length;for(we.write_shift(1,+Ve),we.write_shift(2,Ie),we.write_shift(2,~Ie&65535);Ie-- >0;)we[we.l++]=ut[Ee++]}return we.l}function Ze(ut,we){for(var Ee=0,Ie=0,Ve=le?new Uint16Array(32768):[];Ie<ut.length;){var ht=Math.min(65535,ut.length-Ie);if(ht<10){for(Ee=ne(we,Ee,+(Ie+ht==ut.length)),Ee&7&&(Ee+=8-(Ee&7)),we.l=Ee/8|0,we.write_shift(2,ht),we.write_shift(2,~ht&65535);ht-- >0;)we[we.l++]=ut[Ie++];Ee=we.l*8;continue}Ee=ne(we,Ee,+(Ie+ht==ut.length)+2);for(var ft=0;ht-- >0;){var ct=ut[Ie];ft=(ft<<5^ct)&32767;var xt=-1,ve=0;if((xt=Ve[ft])&&(xt|=Ie&-32768,xt>Ie&&(xt-=32768),xt<Ie))for(;ut[xt+ve]==ut[Ie+ve]&&ve<250;)++ve;if(ve>2){ct=ce[ve],ct<=22?Ee=fe(we,Ee,ue[ct+1]>>1)-1:(fe(we,Ee,3),Ee+=5,fe(we,Ee,ue[ct-23]>>5),Ee+=3);var Fe=ct<8?0:ct-4>>2;Fe>0&&(xe(we,Ee,ve-U[ct]),Ee+=Fe),ct=ee[Ie-xt],Ee=fe(we,Ee,ue[ct]>>3),Ee-=3;var et=ct<4?0:ct-2>>1;et>0&&(xe(we,Ee,Ie-xt-Q[ct]),Ee+=et);for(var Ye=0;Ye<ve;++Ye)Ve[ft]=Ie&32767,ft=(ft<<5^ut[Ie])&32767,++Ie;ht-=ve-1}else ct<=143?ct=ct+48:Ee=Ce(we,Ee,1),Ee=fe(we,Ee,ue[ct]),Ve[ft]=Ie&32767,++Ie}Ee=fe(we,Ee,0)-1}return we.l=(Ee+7)/8|0,we.l}return function(we,Ee){return we.length<8?ye(we,Ee):Ze(we,Ee)}}();function Te(B){var ee=kt(50+Math.floor(B.length*1.1)),q=nt(B,ee);return ee.slice(0,q)}var lt=le?new Uint16Array(32768):ae(32768),_e=le?new Uint16Array(32768):ae(32768),be=le?new Uint16Array(128):ae(128),Y=1,ie=1;function de(B,ee){var q=rt(B,ee)+257;ee+=5;var K=rt(B,ee)+1;ee+=5;var ce=ze(B,ee)+4;ee+=4;for(var ye=0,Ze=le?new Uint8Array(19):ae(19),ut=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],we=1,Ee=le?new Uint8Array(8):ae(8),Ie=le?new Uint8Array(8):ae(8),Ve=Ze.length,ht=0;ht<ce;++ht)Ze[_[ht]]=ye=He(B,ee),we<ye&&(we=ye),Ee[ye]++,ee+=3;var ft=0;for(Ee[0]=0,ht=1;ht<=we;++ht)Ie[ht]=ft=ft+Ee[ht-1]<<1;for(ht=0;ht<Ve;++ht)(ft=Ze[ht])!=0&&(ut[ht]=Ie[ft]++);var ct=0;for(ht=0;ht<Ve;++ht)if(ct=Ze[ht],ct!=0){ft=ue[ut[ht]]>>8-ct;for(var xt=(1<<7-ct)-1;xt>=0;--xt)be[ft|xt<<ct]=ct&7|ht<<3}var ve=[];for(we=1;ve.length<q+K;)switch(ft=be[Xe(B,ee)],ee+=ft&7,ft>>>=3){case 16:for(ye=3+tt(B,ee),ee+=2,ft=ve[ve.length-1];ye-- >0;)ve.push(ft);break;case 17:for(ye=3+He(B,ee),ee+=3;ye-- >0;)ve.push(0);break;case 18:for(ye=11+Xe(B,ee),ee+=7;ye-- >0;)ve.push(0);break;default:ve.push(ft),we<ft&&(we=ft);break}var Fe=ve.slice(0,q),et=ve.slice(q);for(ht=q;ht<286;++ht)Fe[ht]=0;for(ht=K;ht<30;++ht)et[ht]=0;return Y=G(Fe,lt,286),ie=G(et,_e,30),ee}function $e(B,ee){if(B[0]==3&&!(B[1]&3))return[Wu(ee),2];for(var q=0,K=0,ce=FO(ee||1<<18),ye=0,Ze=ce.length>>>0,ut=0,we=0;!(K&1);){if(K=He(B,q),q+=3,K>>>1)K>>1==1?(ut=9,we=5):(q=de(B,q),ut=Y,we=ie);else{q&7&&(q+=8-(q&7));var Ee=B[q>>>3]|B[(q>>>3)+1]<<8;if(q+=32,Ee>0)for(!ee&&Ze<ye+Ee&&(ce=se(ce,ye+Ee),Ze=ce.length);Ee-- >0;)ce[ye++]=B[q>>>3],q+=8;continue}for(;;){!ee&&Ze<ye+32767&&(ce=se(ce,ye+32767),Ze=ce.length);var Ie=V(B,q,ut),Ve=K>>>1==1?Ne[Ie]:lt[Ie];if(q+=Ve&15,Ve>>>=4,!(Ve>>>8&255))ce[ye++]=Ve;else{if(Ve==256)break;Ve-=257;var ht=Ve<8?0:Ve-4>>2;ht>5&&(ht=0);var ft=ye+U[Ve];ht>0&&(ft+=V(B,q,ht),q+=ht),Ie=V(B,q,we),Ve=K>>>1==1?Be[Ie]:_e[Ie],q+=Ve&15,Ve>>>=4;var ct=Ve<4?0:Ve-2>>1,xt=Q[Ve];for(ct>0&&(xt+=V(B,q,ct),q+=ct),!ee&&Ze<ft&&(ce=se(ce,ft+100),Ze=ce.length);ye<ft;)ce[ye]=ce[ye-xt],++ye}}}return ee?[ce,q+7>>>3]:[ce.slice(0,ye),q+7>>>3]}function it(B,ee){var q=B.slice(B.l||0),K=$e(q,ee);return B.l+=K[1],K[0]}function gt(B,ee){if(B)typeof console!="undefined"&&console.error(ee);else throw new Error(ee)}function De(B,ee){var q=B;hi(q,0);var K=[],ce=[],ye={FileIndex:K,FullPaths:ce};k(ye,{root:ee.root});for(var Ze=q.length-4;(q[Ze]!=80||q[Ze+1]!=75||q[Ze+2]!=5||q[Ze+3]!=6)&&Ze>=0;)--Ze;q.l=Ze+4,q.l+=4;var ut=q.read_shift(2);q.l+=6;var we=q.read_shift(4);for(q.l=we,Ze=0;Ze<ut;++Ze){q.l+=20;var Ee=q.read_shift(4),Ie=q.read_shift(4),Ve=q.read_shift(2),ht=q.read_shift(2),ft=q.read_shift(2);q.l+=8;var ct=q.read_shift(4),xt=l(q.slice(q.l+Ve,q.l+Ve+ht));q.l+=Ve+ht+ft;var ve=q.l;q.l=ct+4,Le(q,Ee,Ie,ye,xt),q.l=ve}return ye}function Le(B,ee,q,K,ce){B.l+=2;var ye=B.read_shift(2),Ze=B.read_shift(2),ut=o(B);if(ye&8257)throw new Error("Unsupported ZIP encryption");for(var we=B.read_shift(4),Ee=B.read_shift(4),Ie=B.read_shift(4),Ve=B.read_shift(2),ht=B.read_shift(2),ft="",ct=0;ct<Ve;++ct)ft+=String.fromCharCode(B[B.l++]);if(ht){var xt=l(B.slice(B.l,B.l+ht));(xt[21589]||{}).mt&&(ut=xt[21589].mt),((ce||{})[21589]||{}).mt&&(ut=ce[21589].mt)}B.l+=ht;var ve=B.slice(B.l,B.l+Ee);switch(Ze){case 8:ve=R(B,Ie);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ze)}var Fe=!1;ye&8&&(we=B.read_shift(4),we==134695760&&(we=B.read_shift(4),Fe=!0),Ee=B.read_shift(4),Ie=B.read_shift(4)),Ee!=ee&&gt(Fe,"Bad compressed size: "+ee+" != "+Ee),Ie!=q&&gt(Fe,"Bad uncompressed size: "+q+" != "+Ie),ot(K,ft,ve,{unsafe:!0,mt:ut})}function Ae(B,ee){var q=ee||{},K=[],ce=[],ye=kt(1),Ze=q.compression?8:0,ut=0,we=0,Ee=0,Ie=0,Ve=0,ht=B.FullPaths[0],ft=ht,ct=B.FileIndex[0],xt=[],ve=0;for(we=1;we<B.FullPaths.length;++we)if(ft=B.FullPaths[we].slice(ht.length),ct=B.FileIndex[we],!(!ct.size||!ct.content||ft=="Sh33tJ5")){var Fe=Ie,et=kt(ft.length);for(Ee=0;Ee<ft.length;++Ee)et.write_shift(1,ft.charCodeAt(Ee)&127);et=et.slice(0,et.l),xt[Ve]=Dxe.buf(ct.content,0);var Ye=ct.content;Ze==8&&(Ye=z(Ye)),ye=kt(30),ye.write_shift(4,67324752),ye.write_shift(2,20),ye.write_shift(2,ut),ye.write_shift(2,Ze),ct.mt?i(ye,ct.mt):ye.write_shift(4,0),ye.write_shift(-4,xt[Ve]),ye.write_shift(4,Ye.length),ye.write_shift(4,ct.content.length),ye.write_shift(2,et.length),ye.write_shift(2,0),Ie+=ye.length,K.push(ye),Ie+=et.length,K.push(et),Ie+=Ye.length,K.push(Ye),ye=kt(46),ye.write_shift(4,33639248),ye.write_shift(2,0),ye.write_shift(2,20),ye.write_shift(2,ut),ye.write_shift(2,Ze),ye.write_shift(4,0),ye.write_shift(-4,xt[Ve]),ye.write_shift(4,Ye.length),ye.write_shift(4,ct.content.length),ye.write_shift(2,et.length),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(4,0),ye.write_shift(4,Fe),ve+=ye.l,ce.push(ye),ve+=et.length,ce.push(et),++Ve}return ye=kt(22),ye.write_shift(4,101010256),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,Ve),ye.write_shift(2,Ve),ye.write_shift(4,ve),ye.write_shift(4,Ie),ye.write_shift(2,0),Gs([Gs(K),Gs(ce),ye])}var Pe={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Qe(B,ee){if(B.ctype)return B.ctype;var q=B.name||"",K=q.match(/\.([^\.]+)$/);return K&&Pe[K[1]]||ee&&(K=(q=ee).match(/[\.\\]([^\.\\])+$/),K&&Pe[K[1]])?Pe[K[1]]:"application/octet-stream"}function mt(B){for(var ee=Lp(B),q=[],K=0;K<ee.length;K+=76)q.push(ee.slice(K,K+76));return q.join(`\r
`)+`\r
`}function Me(B){var ee=B.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ee){var Ie=Ee.charCodeAt(0).toString(16).toUpperCase();return"="+(Ie.length==1?"0"+Ie:Ie)});ee=ee.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ee.charAt(0)==`
`&&(ee="=0D"+ee.slice(1)),ee=ee.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var q=[],K=ee.split(`\r
`),ce=0;ce<K.length;++ce){var ye=K[ce];if(ye.length==0){q.push("");continue}for(var Ze=0;Ze<ye.length;){var ut=76,we=ye.slice(Ze,Ze+ut);we.charAt(ut-1)=="="?ut--:we.charAt(ut-2)=="="?ut-=2:we.charAt(ut-3)=="="&&(ut-=3),we=ye.slice(Ze,Ze+ut),Ze+=ut,Ze<ye.length&&(we+="="),q.push(we)}}return q.join(`\r
`)}function Oe(B){for(var ee=[],q=0;q<B.length;++q){for(var K=B[q];q<=B.length&&K.charAt(K.length-1)=="=";)K=K.slice(0,K.length-1)+B[++q];ee.push(K)}for(var ce=0;ce<ee.length;++ce)ee[ce]=ee[ce].replace(/[=][0-9A-Fa-f]{2}/g,function(ye){return String.fromCharCode(parseInt(ye.slice(1),16))});return Mo(ee.join(`\r
`))}function We(B,ee,q){for(var K="",ce="",ye="",Ze,ut=0;ut<10;++ut){var we=ee[ut];if(!we||we.match(/^\s*$/))break;var Ee=we.match(/^(.*?):\s*([^\s].*)$/);if(Ee)switch(Ee[1].toLowerCase()){case"content-location":K=Ee[2].trim();break;case"content-type":ye=Ee[2].trim();break;case"content-transfer-encoding":ce=Ee[2].trim();break}}switch(++ut,ce.toLowerCase()){case"base64":Ze=Mo(Ul(ee.slice(ut).join("")));break;case"quoted-printable":Ze=Oe(ee.slice(ut));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ce)}var Ie=ot(B,K.slice(q.length),Ze,{unsafe:!0});ye&&(Ie.ctype=ye)}function qe(B,ee){if(F(B.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var q=ee&&ee.root||"",K=(Wr&&Buffer.isBuffer(B)?B.toString("binary"):F(B)).split(`\r
`),ce=0,ye="";for(ce=0;ce<K.length;++ce)if(ye=K[ce],!!/^Content-Location:/i.test(ye)&&(ye=ye.slice(ye.indexOf("file")),q||(q=ye.slice(0,ye.lastIndexOf("/")+1)),ye.slice(0,q.length)!=q))for(;q.length>0&&(q=q.slice(0,q.length-1),q=q.slice(0,q.lastIndexOf("/")+1),ye.slice(0,q.length)!=q););var Ze=(K[1]||"").match(/boundary="(.*?)"/);if(!Ze)throw new Error("MAD cannot find boundary");var ut="--"+(Ze[1]||""),we=[],Ee=[],Ie={FileIndex:we,FullPaths:Ee};k(Ie);var Ve,ht=0;for(ce=0;ce<K.length;++ce){var ft=K[ce];ft!==ut&&ft!==ut+"--"||(ht++&&We(Ie,K.slice(Ve,ce),q),Ve=ce)}return Ie}function vt(B,ee){var q=ee||{},K=q.boundary||"SheetJS";K="------="+K;for(var ce=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+K.slice(2)+'"',"","",""],ye=B.FullPaths[0],Ze=ye,ut=B.FileIndex[0],we=1;we<B.FullPaths.length;++we)if(Ze=B.FullPaths[we].slice(ye.length),ut=B.FileIndex[we],!(!ut.size||!ut.content||Ze=="Sh33tJ5")){Ze=Ze.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ve){return"_x"+ve.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ve){return"_u"+ve.charCodeAt(0).toString(16)+"_"});for(var Ee=ut.content,Ie=Wr&&Buffer.isBuffer(Ee)?Ee.toString("binary"):F(Ee),Ve=0,ht=Math.min(1024,Ie.length),ft=0,ct=0;ct<=ht;++ct)(ft=Ie.charCodeAt(ct))>=32&&ft<128&&++Ve;var xt=Ve>=ht*4/5;ce.push(K),ce.push("Content-Location: "+(q.root||"file:///C:/SheetJS/")+Ze),ce.push("Content-Transfer-Encoding: "+(xt?"quoted-printable":"base64")),ce.push("Content-Type: "+Qe(ut,Ze)),ce.push(""),ce.push(xt?Me(Ie):mt(Ie))}return ce.push(K+`--\r
`),ce.join(`\r
`)}function Ge(B){var ee={};return k(ee,B),ee}function ot(B,ee,q,K){var ce=K&&K.unsafe;ce||k(B);var ye=!ce&&en.find(B,ee);if(!ye){var Ze=B.FullPaths[0];ee.slice(0,Ze.length)==Ze?Ze=ee:(Ze.slice(-1)!="/"&&(Ze+="/"),Ze=(Ze+ee).replace("//","/")),ye={name:a(ee),type:2},B.FileIndex.push(ye),B.FullPaths.push(Ze),ce||en.utils.cfb_gc(B)}return ye.content=q,ye.size=q?q.length:0,K&&(K.CLSID&&(ye.clsid=K.CLSID),K.mt&&(ye.mt=K.mt),K.ct&&(ye.ct=K.ct)),ye}function Mt(B,ee){k(B);var q=en.find(B,ee);if(q){for(var K=0;K<B.FileIndex.length;++K)if(B.FileIndex[K]==q)return B.FileIndex.splice(K,1),B.FullPaths.splice(K,1),!0}return!1}function _t(B,ee,q){k(B);var K=en.find(B,ee);if(K){for(var ce=0;ce<B.FileIndex.length;++ce)if(B.FileIndex[ce]==K)return B.FileIndex[ce].name=a(q),B.FullPaths[ce]=q,!0}return!1}function Ct(B){S(B,!0)}return t.find=C,t.read=L,t.parse=f,t.write=D,t.writeFile=Z,t.utils={cfb_new:Ge,cfb_add:ot,cfb_del:Mt,cfb_mov:_t,cfb_gc:Ct,ReadShift:Dm,CheckField:tG,prep_blob:hi,bconcat:Gs,use_zlib:T,_deflateRaw:Te,_inflateRaw:it,consts:J},t}();function Rxe(e){return typeof e=="string"?xw(e):Array.isArray(e)?dxe(e):e}function ux(e,t,n){if(typeof Deno!="undefined"){if(n&&typeof t=="string")switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=xw(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var s=n=="utf8"?Ip(t):t;if(typeof IE_SaveFile!="undefined")return IE_SaveFile(s,e);if(typeof Blob!="undefined"){var a=new Blob([Rxe(s)],{type:"application/octet-stream"});if(typeof navigator!="undefined"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs!="undefined")return saveAs(a,e);if(typeof URL!="undefined"&&typeof document!="undefined"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout!="undefined"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout!="undefined"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $!="undefined"&&typeof File!="undefined"&&typeof Folder!="undefined")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=dx(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Xs(e){for(var t=Object.keys(e),n=[],s=0;s<t.length;++s)Object.prototype.hasOwnProperty.call(e,t[s])&&n.push(t[s]);return n}function qO(e,t){for(var n=[],s=Xs(e),a=0;a!==s.length;++a)n[e[s[a]][t]]==null&&(n[e[s[a]][t]]=s[a]);return n}function lL(e){for(var t=[],n=Xs(e),s=0;s!==n.length;++s)t[e[n[s]]]=n[s];return t}function bw(e){for(var t=[],n=Xs(e),s=0;s!==n.length;++s)t[e[n[s]]]=parseInt(n[s],10);return t}function Fxe(e){for(var t=[],n=Xs(e),s=0;s!==n.length;++s)t[e[n[s]]]==null&&(t[e[n[s]]]=[]),t[e[n[s]]].push(n[s]);return t}var Cb=new Date(1899,11,30,0,0,0);function Za(e,t){var n=e.getTime(),s=Cb.getTime()+(e.getTimezoneOffset()-Cb.getTimezoneOffset())*6e4;return(n-s)/(24*60*60*1e3)}var RV=new Date,Bxe=Cb.getTime()+(RV.getTimezoneOffset()-Cb.getTimezoneOffset())*6e4,YO=RV.getTimezoneOffset();function FV(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Bxe),t.getTimezoneOffset()!==YO&&t.setTime(t.getTime()+(t.getTimezoneOffset()-YO)*6e4),t}var JO=new Date("2017-02-19T19:06:09.000Z"),BV=isNaN(JO.getFullYear())?new Date("2/19/17"):JO,zxe=BV.getFullYear()==2017;function Ma(e,t){var n=new Date(e);if(zxe)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(BV.getFullYear()==1917&&!isNaN(n.getFullYear())){var s=n.getFullYear();return e.indexOf(""+s)>-1||n.setFullYear(n.getFullYear()+100),n}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function ww(e,t){if(Wr&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder!="undefined")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return n[i]||i})}catch(i){}for(var s=[],a=0;a!=e.length;++a)s.push(String.fromCharCode(e[a]));return s.join("")}function Qa(e){if(typeof JSON!="undefined"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Qa(e[n]));return t}function Tn(e,t){for(var n="";n.length<t;)n+=e;return n}function $l(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,s=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(s))||(s=s.replace(/[(](.*)[)]/,function(a,i){return n=-n,i}),!isNaN(t=Number(s)))?t/n:t}var Uxe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Mp(e){var t=new Date(e),n=new Date(NaN),s=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&Uxe.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return s<0||s>8099?n:(a>0||i>1)&&s!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}function xr(e,t,n){if(e.FullPaths){if(typeof n=="string"){var s;return Wr?s=rc(n):s=uxe(n),en.utils.cfb_add(e,t,s)}en.utils.cfb_add(e,t,n)}else e.file(t,n)}function cL(){return en.utils.cfb_new()}var Jn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Wxe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},dL=lL(Wxe),uL=/[&<>'"]/g,Hxe=/[\u0000-\u0008\u000b-\u001f]/g;function Zr(e){var t=e+"";return t.replace(uL,function(n){return dL[n]}).replace(Hxe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function ZO(e){return Zr(e).replace(/ /g,"_x0020_")}var zV=/[\u0000-\u001f]/g;function Vxe(e){var t=e+"";return t.replace(uL,function(n){return dL[n]}).replace(/\n/g,"<br/>").replace(zV,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function Gxe(e){var t=e+"";return t.replace(uL,function(n){return dL[n]}).replace(zV,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function qxe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Yxe(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Q4(e){for(var t="",n=0,s=0,a=0,i=0,o=0,l=0;n<e.length;){if(s=e.charCodeAt(n++),s<128){t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(n++),s>191&&s<224){o=(s&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(n++),s<240){t+=String.fromCharCode((s&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(n++),l=((s&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function QO(e){var t=Wu(2*e.length),n,s,a=1,i=0,o=0,l;for(s=0;s<e.length;s+=a)a=1,(l=e.charCodeAt(s))<128?n=l:l<224?(n=(l&31)*64+(e.charCodeAt(s+1)&63),a=2):l<240?(n=(l&15)*4096+(e.charCodeAt(s+1)&63)*64+(e.charCodeAt(s+2)&63),a=3):(a=4,n=(l&7)*262144+(e.charCodeAt(s+1)&63)*4096+(e.charCodeAt(s+2)&63)*64+(e.charCodeAt(s+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=n%256,t[i++]=n>>>8;return t.slice(0,i).toString("ucs2")}function KO(e){return rc(e,"binary").toString("utf8")}var Pv="foo bar baz",Pm=Wr&&(KO(Pv)==Q4(Pv)&&KO||QO(Pv)==Q4(Pv)&&QO)||Q4,Ip=Wr?function(e){return rc(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,s=0,a=0;n<e.length;)switch(s=e.charCodeAt(n++),!0){case s<128:t.push(String.fromCharCode(s));break;case s<2048:t.push(String.fromCharCode(192+(s>>6))),t.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,a=e.charCodeAt(n++)-56320+(s<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(s>>12))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)))}return t.join("")},Jxe=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var s=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)s=s.replace(e[a][0],e[a][1]);return s}}(),UV=/(^\s|\s$|\n)/;function qs(e,t){return"<"+e+(t.match(UV)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Tp(e){return Xs(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Rt(e,t,n){return"<"+e+(n!=null?Tp(n):"")+(t!=null?(t.match(UV)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function n6(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}function Zxe(e,t){switch(typeof e){case"string":var n=Rt("vt:lpwstr",Zr(e));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Rt((e|0)==e?"vt:i4":"vt:r8",Zr(String(e)));case"boolean":return Rt("vt:bool",e?"true":"false")}if(e instanceof Date)return Rt("vt:filetime",n6(e));throw new Error("Unable to serialize "+e)}var gs={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Dh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],pi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Qxe(e,t){for(var n=1-2*(e[t+7]>>>7),s=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return s==2047?a==0?n*(1/0):NaN:(s==0?s=-1022:(s-=1023,a+=Math.pow(2,52)),n*Math.pow(2,s-52)*a)}function Kxe(e,t,n){var s=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=s?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[n+l]=i&255;e[n+6]=(a&15)<<4|i&15,e[n+7]=a>>4|s}var XO=function(e){for(var t=[],n=10240,s=0;s<e[0].length;++s)if(e[0][s])for(var a=0,i=e[0][s].length;a<i;a+=n)t.push.apply(t,e[0][s].slice(a,a+n));return t},e$=Wr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:rc(t)})):XO(e)}:XO,t$=function(e,t,n){for(var s=[],a=t;a<n;a+=2)s.push(String.fromCharCode(pm(e,a)));return s.join("").replace($m,"")},fL=Wr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace($m,""):t$(e,t,n)}:t$,r$=function(e,t,n){for(var s=[],a=t;a<t+n;++a)s.push(("0"+e[a].toString(16)).slice(-2));return s.join("")},WV=Wr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):r$(e,t,n)}:r$,n$=function(e,t,n){for(var s=[],a=t;a<n;a++)s.push(String.fromCharCode(n0(e,a)));return s.join("")},fx=Wr?function(t,n,s){return Buffer.isBuffer(t)?t.toString("utf8",n,s):n$(t,n,s)}:n$,HV=function(e,t){var n=xi(e,t);return n>0?fx(e,t+4,t+4+n-1):""},VV=HV,GV=function(e,t){var n=xi(e,t);return n>0?fx(e,t+4,t+4+n-1):""},qV=GV,YV=function(e,t){var n=2*xi(e,t);return n>0?fx(e,t+4,t+4+n-1):""},JV=YV,ZV=function(t,n){var s=xi(t,n);return s>0?fL(t,n+4,n+4+s):""},QV=ZV,KV=function(e,t){var n=xi(e,t);return n>0?fx(e,t+4,t+4+n):""},XV=KV,eG=function(e,t){return Qxe(e,t)},kb=eG,hL=function(t){return Array.isArray(t)||typeof Uint8Array!="undefined"&&t instanceof Uint8Array};Wr&&(VV=function(t,n){if(!Buffer.isBuffer(t))return HV(t,n);var s=t.readUInt32LE(n);return s>0?t.toString("utf8",n+4,n+4+s-1):""},qV=function(t,n){if(!Buffer.isBuffer(t))return GV(t,n);var s=t.readUInt32LE(n);return s>0?t.toString("utf8",n+4,n+4+s-1):""},JV=function(t,n){if(!Buffer.isBuffer(t))return YV(t,n);var s=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+s-1)},QV=function(t,n){if(!Buffer.isBuffer(t))return ZV(t,n);var s=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+s)},XV=function(t,n){if(!Buffer.isBuffer(t))return KV(t,n);var s=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+s)},kb=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):eG(t,n)},hL=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array!="undefined"&&t instanceof Uint8Array});var n0=function(e,t){return e[t]},pm=function(e,t){return e[t+1]*256+e[t]},Xxe=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},xi=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},gu=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},eve=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Dm(e,t){var n="",s,a,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,Wr&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)n+=String.fromCharCode(pm(this,u)),u+=2;e*=2;break;case"utf8":n=fx(this,this.l,this.l+e);break;case"utf16le":e*=2,n=fL(this,this.l,this.l+e);break;case"wstr":return Dm.call(this,e,"dbcs");case"lpstr-ansi":n=VV(this,this.l),e=4+xi(this,this.l);break;case"lpstr-cp":n=qV(this,this.l),e=4+xi(this,this.l);break;case"lpwstr":n=JV(this,this.l),e=4+2*xi(this,this.l);break;case"lpp4":e=4+xi(this,this.l),n=QV(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+xi(this,this.l),n=XV(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=n0(this,this.l+e++))!==0;)i.push(_v(o));n=i.join("");break;case"_wstr":for(e=0,n="";(o=pm(this,this.l+e))!==0;)i.push(_v(o)),e+=2;e+=2,n=i.join("");break;case"dbcs-cont":for(n="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=n0(this,u),this.l=u+1,l=Dm.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(_v(pm(this,u))),u+=2}n=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=n0(this,u),this.l=u+1,l=Dm.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(_v(n0(this,u))),u+=1}n=i.join("");break;default:switch(e){case 1:return s=n0(this,this.l),this.l++,s;case 2:return s=(t==="i"?Xxe:pm)(this,this.l),this.l+=2,s;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(s=(e>0?gu:eve)(this,this.l),this.l+=4,s):(a=xi(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=kb(this,this.l):a=kb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:n=WV(this,this.l,e);break}}return this.l+=e,n}var tve=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},rve=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},nve=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function sve(e,t,n){var s=0,a=0;if(n==="dbcs"){for(a=0;a!=t.length;++a)nve(this,t.charCodeAt(a),this.l+2*a);s=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;s=t.length}else if(n==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(n==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:s=1,this[this.l]=t&255;break;case 2:s=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:s=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:s=4,tve(this,t,this.l);break;case 8:if(s=8,n==="f"){Kxe(this,t,this.l);break}case 16:break;case-4:s=4,rve(this,t,this.l);break}return this.l+=s,this}function tG(e,t){var n=WV(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function hi(e,t){e.l=t,e.read_shift=Dm,e.chk=tG,e.write_shift=sve}function dl(e,t){e.l+=t}function kt(e){var t=Wu(e);return hi(t,0),t}function Ya(){var e=[],t=Wr?256:2048,n=function(u){var f=kt(u);return hi(f,0),f},s=n(t),a=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&e.push(s),s=null)},i=function(u){return s&&u<s.length-s.l?s:(a(),s=n(Math.max(u+1,t)))},o=function(){return a(),Gs(e)},l=function(u){a(),s=u,s.l==null&&(s.l=s.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function Tt(e,t,n,s){var a=+t,i;if(!isNaN(a)){s||(s=Qwe[a].p||(n||[]).length||0),i=1+(a>=128?1:0)+1,s>=128&&++i,s>=16384&&++i,s>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(s>=128)o.write_shift(1,(s&127)+128),s>>=7;else{o.write_shift(1,s);break}s>0&&hL(n)&&e.push(n)}}function Rm(e,t,n){var s=Qa(e);if(t.s?(s.cRel&&(s.c+=t.s.c),s.rRel&&(s.r+=t.s.r)):(s.cRel&&(s.c+=t.c),s.rRel&&(s.r+=t.r)),!n||n.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function s$(e,t,n){var s=Qa(e);return s.s=Rm(s.s,t.s,n),s.e=Rm(s.e,t.s,n),s}function Fm(e,t){if(e.cRel&&e.c<0)for(e=Qa(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Qa(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=Kr(e);return!e.cRel&&e.cRel!=null&&(n=ove(n)),!e.rRel&&e.rRel!=null&&(n=ave(n)),n}function K4(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+la(e.s.c)+":"+(e.e.cRel?"":"$")+la(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Zs(e.s.r)+":"+(e.e.rRel?"":"$")+Zs(e.e.r):Fm(e.s,t.biff)+":"+Fm(e.e,t.biff)}function gL(e){return parseInt(ive(e),10)-1}function Zs(e){return""+(e+1)}function ave(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ive(e){return e.replace(/\$(\d+)$/,"$1")}function mL(e){for(var t=lve(e),n=0,s=0;s!==t.length;++s)n=26*n+t.charCodeAt(s)-64;return n-1}function la(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function ove(e){return e.replace(/^([A-Z])/,"$$$1")}function lve(e){return e.replace(/^\$([A-Z])/,"$1")}function cve(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ps(e){for(var t=0,n=0,s=0;s<e.length;++s){var a=e.charCodeAt(s);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(n=26*n+(a-64))}return{c:n-1,r:t-1}}function Kr(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Ni(e){var t=e.indexOf(":");return t==-1?{s:ps(e),e:ps(e)}:{s:ps(e.slice(0,t)),e:ps(e.slice(t+1))}}function qn(e,t){return typeof t=="undefined"||typeof t=="number"?qn(e.s,e.e):(typeof e!="string"&&(e=Kr(e)),typeof t!="string"&&(t=Kr(t)),e==t?e:e+":"+t)}function pn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,s=0,a=0,i=e.length;for(n=0;s<i&&!((a=e.charCodeAt(s)-64)<1||a>26);++s)n=26*n+a;for(t.s.c=--n,n=0;s<i&&!((a=e.charCodeAt(s)-48)<0||a>9);++s)n=10*n+a;if(t.s.r=--n,s===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++s,n=0;s!=i&&!((a=e.charCodeAt(s)-64)<1||a>26);++s)n=26*n+a;for(t.e.c=--n,n=0;s!=i&&!((a=e.charCodeAt(s)-48)<0||a>9);++s)n=10*n+a;return t.e.r=--n,t}function a$(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=gd(e.z,n?Za(t):t)}catch(s){}try{return e.w=gd((e.XF||{}).numFmtId||(n?14:0),n?Za(t):t)}catch(s){return""+t}}function Wl(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?hx[e.v]||e.v:t==null?a$(e,e.v):a$(e,t))}function of(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",s={};return s[n]=e,{SheetNames:[n],Sheets:s}}function rG(e,t,n){var s=n||{},a=e?Array.isArray(e):s.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&s.origin!=null){if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?ps(s.origin):s.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=pn(i["!ref"]);u.s.c=f.s.c,u.s.r=f.s.r,u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(u.e.r=o=f.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[h].length;++g)if(typeof t[h][g]!="undefined"){var m={v:t[h][g]},p=o+h,v=l+g;if(u.s.r>p&&(u.s.r=p),u.s.c>v&&(u.s.c=v),u.e.r<p&&(u.e.r=p),u.e.c<v&&(u.e.c=v),t[h][g]&&typeof t[h][g]=="object"&&!Array.isArray(t[h][g])&&!(t[h][g]instanceof Date))m=t[h][g];else if(Array.isArray(m.v)&&(m.f=t[h][g][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(s.nullError)m.t="e",m.v=0;else if(s.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=s.dateNF||_n[14],s.cellDates?(m.t="d",m.w=gd(m.z,Za(m.v))):(m.t="n",m.v=Za(m.v),m.w=gd(m.z,m.v))):m.t="s";if(a)i[p]||(i[p]=[]),i[p][v]&&i[p][v].z&&(m.z=i[p][v].z),i[p][v]=m;else{var b=Kr({c:v,r:p});i[b]&&i[b].z&&(m.z=i[b].z),i[b]=m}}}return u.s.c<1e7&&(i["!ref"]=qn(u)),i}function Rh(e,t){return rG(null,e,t)}function dve(e){return e.read_shift(4,"i")}function Po(e,t){return t||(t=kt(4)),t.write_shift(4,e),t}function ca(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function xs(e,t){var n=!1;return t==null&&(n=!0,t=kt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function uve(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function fve(e,t){return t||(t=kt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function pL(e,t){var n=e.l,s=e.read_shift(1),a=ca(e),i=[],o={t:a,h:a};if(s&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(uve(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}function hve(e,t){var n=!1;return t==null&&(n=!0,t=kt(15+4*e.t.length)),t.write_shift(1,0),xs(e.t,t),n?t.slice(0,t.l):t}var gve=pL;function mve(e,t){var n=!1;return t==null&&(n=!0,t=kt(23+4*e.t.length)),t.write_shift(1,1),xs(e.t,t),t.write_shift(4,1),fve({ich:0,ifnt:0},t),n?t.slice(0,t.l):t}function so(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function lf(e,t){return t==null&&(t=kt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function cf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function df(e,t){return t==null&&(t=kt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var pve=ca,nG=xs;function xL(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Eb(e,t){var n=!1;return t==null&&(n=!0,t=kt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var xve=ca,s6=xL,vL=Eb;function sG(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,s=t[0]&2;e.l+=4;var a=s===0?kb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):gu(t,0)>>2;return n?a/100:a}function aG(e,t){t==null&&(t=kt(4));var n=0,s=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?s=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(s=1,n=1),s)t.write_shift(-4,((n?a:e)<<2)+(n+2));else throw new Error("unsupported RkNumber "+e)}function iG(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function vve(e,t){return t||(t=kt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var uf=iG,Fh=vve;function Bh(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Hu(e,t){return(t||kt(8)).write_shift(8,e,"f")}function yve(e){var t={},n=e.read_shift(1),s=n>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,s){case 0:t.auto=1;break;case 1:t.index=a;var u=Lve[a];u&&(t.rgb=p$(u));break;case 2:t.rgb=p$([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Lb(e,t){if(t||(t=kt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var s=e.rgb||"FFFFFF";typeof s=="number"&&(s=("000000"+s.toString(16)).slice(-6)),t.write_shift(1,parseInt(s.slice(0,2),16)),t.write_shift(1,parseInt(s.slice(2,4),16)),t.write_shift(1,parseInt(s.slice(4,6),16)),t.write_shift(1,255)}return t}function bve(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function wve(e,t){t||(t=kt(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,n),t.write_shift(1,0),t}var oG=2,di=3,Dv=11,Mb=19,Rv=64,jve=65,Nve=71,Sve=4108,Cve=4126,Vs=80,i$={1:{n:"CodePage",t:oG},2:{n:"Category",t:Vs},3:{n:"PresentationFormat",t:Vs},4:{n:"ByteCount",t:di},5:{n:"LineCount",t:di},6:{n:"ParagraphCount",t:di},7:{n:"SlideCount",t:di},8:{n:"NoteCount",t:di},9:{n:"HiddenCount",t:di},10:{n:"MultimediaClipCount",t:di},11:{n:"ScaleCrop",t:Dv},12:{n:"HeadingPairs",t:Sve},13:{n:"TitlesOfParts",t:Cve},14:{n:"Manager",t:Vs},15:{n:"Company",t:Vs},16:{n:"LinksUpToDate",t:Dv},17:{n:"CharacterCount",t:di},19:{n:"SharedDoc",t:Dv},22:{n:"HyperlinksChanged",t:Dv},23:{n:"AppVersion",t:di,p:"version"},24:{n:"DigSig",t:jve},26:{n:"ContentType",t:Vs},27:{n:"ContentStatus",t:Vs},28:{n:"Language",t:Vs},29:{n:"Version",t:Vs},255:{},2147483648:{n:"Locale",t:Mb},2147483651:{n:"Behavior",t:Mb},1919054434:{}},o$={1:{n:"CodePage",t:oG},2:{n:"Title",t:Vs},3:{n:"Subject",t:Vs},4:{n:"Author",t:Vs},5:{n:"Keywords",t:Vs},6:{n:"Comments",t:Vs},7:{n:"Template",t:Vs},8:{n:"LastAuthor",t:Vs},9:{n:"RevNumber",t:Vs},10:{n:"EditTime",t:Rv},11:{n:"LastPrinted",t:Rv},12:{n:"CreatedDate",t:Rv},13:{n:"ModifiedDate",t:Rv},14:{n:"PageCount",t:di},15:{n:"WordCount",t:di},16:{n:"CharCount",t:di},17:{n:"Thumbnail",t:Nve},18:{n:"Application",t:Vs},19:{n:"DocSecurity",t:di},255:{},2147483648:{n:"Locale",t:Mb},2147483651:{n:"Behavior",t:Mb},1919054434:{}};function kve(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Eve=kve([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Lve=Qa(Eve),hx={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Mve={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Fv={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function lG(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function cG(e,t){var n=Fxe(Mve),s=[],a;s[s.length]=Jn,s[s.length]=Rt("Types",null,{xmlns:gs.CT,"xmlns:xsd":gs.xsd,"xmlns:xsi":gs.xsi}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Rt("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],s[s.length]=Rt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Fv[c][t.bookType]||Fv[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){s[s.length]=Rt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Fv[c][t.bookType]||Fv[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){s[s.length]=Rt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:n[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var Ur={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function dG(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function U0(e){var t=[Jn,Rt("Relationships",null,{xmlns:gs.RELS})];return Xs(e["!id"]).forEach(function(n){t[t.length]=Rt("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Jr(e,t,n,s,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=s,a.Target=n,[Ur.HLINK,Ur.XPATH,Ur.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function Ive(e){var t=[Jn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function l$(e,t,n){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Tve(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Ave(e){var t=[Jn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=e.length;++n)t.push(l$(e[n][0],e[n][1])),t.push(Tve("",e[n][0]));return t.push(l$("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function uG(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+wb.version+"</meta:generator></office:meta></office:document-meta>"}var Tu=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function X4(e,t,n,s,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Zr(t),s[s.length]=n?Rt(e,t,n):qs(e,t))}function fG(e,t){var n=t||{},s=[Jn,Rt("cp:coreProperties",null,{"xmlns:cp":gs.CORE_PROPS,"xmlns:dc":gs.dc,"xmlns:dcterms":gs.dcterms,"xmlns:dcmitype":gs.dcmitype,"xmlns:xsi":gs.xsi})],a={};if(!e&&!n.Props)return s.join("");e&&(e.CreatedDate!=null&&X4("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:n6(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a),e.ModifiedDate!=null&&X4("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:n6(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a));for(var i=0;i!=Tu.length;++i){var o=Tu[i],l=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&X4(o[0],l,null,s,a)}return s.length>2&&(s[s.length]="</cp:coreProperties>",s[1]=s[1].replace("/>",">")),s.join("")}var W0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],hG=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function gG(e){var t=[],n=Rt;return e||(e={}),e.Application="SheetJS",t[t.length]=Jn,t[t.length]=Rt("Properties",null,{xmlns:gs.EXT_PROPS,"xmlns:vt":gs.vt}),W0.forEach(function(s){if(e[s[1]]!==void 0){var a;switch(s[2]){case"string":a=Zr(String(e[s[1]]));break;case"bool":a=e[s[1]]?"true":"false";break}a!==void 0&&(t[t.length]=n(s[0],a))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(s){return"<vt:lpstr>"+Zr(s)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function mG(e){var t=[Jn,Rt("Properties",null,{xmlns:gs.CUST_PROPS,"xmlns:vt":gs.vt})];if(!e)return t.join("");var n=1;return Xs(e).forEach(function(a){++n,t[t.length]=Rt("property",Zxe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Zr(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var c$={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function _ve(e,t){var n=[];return Xs(c$).map(function(s){for(var a=0;a<Tu.length;++a)if(Tu[a][1]==s)return Tu[a];for(a=0;a<W0.length;++a)if(W0[a][1]==s)return W0[a];throw s}).forEach(function(s){if(e[s[1]]!=null){var a=t&&t.Props&&t.Props[s[1]]!=null?t.Props[s[1]]:e[s[1]];switch(s[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),n.push(qs(c$[s[1]]||s[1],a))}}),Rt("DocumentProperties",n.join(""),{xmlns:pi.o})}function Ove(e,t){var n=["Worksheets","SheetNames"],s="CustomDocumentProperties",a=[];return e&&Xs(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Tu.length;++o)if(i==Tu[o][1])return;for(o=0;o<W0.length;++o)if(i==W0[o][1])return;for(o=0;o<n.length;++o)if(i==n[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(Rt(ZO(i),l,{"dt:dt":c}))}}),t&&Xs(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(Rt(ZO(i),o,{"dt:dt":l}))}}),"<"+s+' xmlns="'+pi.o+'">'+a.join("")+"</"+s+">"}function $ve(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,n=t.getTime()/1e3+11644473600,s=n%Math.pow(2,32),a=(n-s)/Math.pow(2,32);s*=1e7,a*=1e7;var i=s/Math.pow(2,32)|0;i>0&&(s=s%Math.pow(2,32),a+=i);var o=kt(8);return o.write_shift(4,s),o.write_shift(4,a),o}function d$(e,t){var n=kt(4),s=kt(4);switch(n.write_shift(4,e==80?31:e),e){case 3:s.write_shift(-4,t);break;case 5:s=kt(8),s.write_shift(8,t,"f");break;case 11:s.write_shift(4,t?1:0);break;case 64:s=$ve(t);break;case 31:case 80:for(s=kt(4+2*(t.length+1)+(t.length%2?0:2)),s.write_shift(4,t.length+1),s.write_shift(0,t,"dbcs");s.l!=s.length;)s.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Gs([n,s])}var pG=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Pve(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function u$(e,t,n){var s=kt(8),a=[],i=[],o=8,l=0,c=kt(8),u=kt(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),o+=8+c.length,!t){u=kt(8),u.write_shift(4,0),a.unshift(u);var f=[kt(4)];for(f[0].write_shift(4,e.length),l=0;l<e.length;++l){var h=e[l][0];for(c=kt(8+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);f.push(c)}c=Gs(f),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(pG.indexOf(e[l][0])>-1||hG.indexOf(e[l][0])>-1)&&e[l][1]!=null){var g=e[l][1],m=0;if(t){m=+t[e[l][0]];var p=n[m];if(p.p=="version"&&typeof g=="string"){var v=g.split(".");g=(+v[0]<<16)+(+v[1]||0)}c=d$(p.t,g)}else{var b=Pve(g);b==-1&&(b=31,g=String(g)),c=d$(b,g)}i.push(c),u=kt(8),u.write_shift(4,t?m:2+l),a.push(u),o+=8+c.length}var y=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,y),y+=i[l].length;return s.write_shift(4,o),s.write_shift(4,i.length),Gs([s].concat(a).concat(i))}function f$(e,t,n,s,a,i){var o=kt(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,en.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=u$(e,n,s);if(l.push(c),a){var u=u$(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(u)}return Gs(l)}function Dve(e,t){t||(t=kt(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}function Rve(e,t){return e.read_shift(t)===1}function Ca(e,t){return t||(t=kt(2)),t.write_shift(2,+!!e),t}function xG(e){return e.read_shift(2,"u")}function Ui(e,t){return t||(t=kt(2)),t.write_shift(2,e),t}function vG(e,t,n){return n||(n=kt(2)),n.write_shift(1,t=="e"?+e:+!!e),n.write_shift(1,t=="e"?1:0),n}function yG(e,t,n){var s=e.read_shift(n&&n.biff>=12?2:1),a="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else n.biff==12&&(a="wstr");n.biff>=2&&n.biff<=5&&(a="cpstr");var o=s?e.read_shift(s,a):"";return o}function Fve(e){var t=e.t||"",n=kt(3);n.write_shift(2,t.length),n.write_shift(1,1);var s=kt(2*t.length);s.write_shift(2*t.length,t,"utf16le");var a=[n,s];return Gs(a)}function Bve(e,t,n){var s;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?s=e.read_shift(t,"sbcs-cont"):s=e.read_shift(t,"dbcs-cont"),s}function zve(e,t,n){var s=e.read_shift(n&&n.biff==2?1:2);return s===0?(e.l++,""):Bve(e,s,n)}function Uve(e,t,n){if(n.biff>5)return zve(e,t,n);var s=e.read_shift(1);return s===0?(e.l++,""):e.read_shift(s,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function bG(e,t,n){return n||(n=kt(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function h$(e,t){t||(t=kt(6+e.length*2)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function Wve(e){var t=kt(512),n=0,s=e.Target;s.slice(0,7)=="file://"&&(s=s.slice(7));var a=s.indexOf("#"),i=a>-1?31:23;switch(s.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)t.write_shift(4,o[n]);if(i==28)s=s.slice(1),h$(s,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));var l=a>-1?s.slice(0,a):s;for(t.write_shift(4,2*(l.length+1)),n=0;n<l.length;++n)t.write_shift(2,l.charCodeAt(n));t.write_shift(2,0),i&8&&h$(a>-1?s.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));for(var c=0;s.slice(c*3,c*3+3)=="../"||s.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,s.length-3*c+1),n=0;n<s.length-3*c;++n)t.write_shift(1,s.charCodeAt(n+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function Vu(e,t,n,s){return s||(s=kt(6)),s.write_shift(2,e),s.write_shift(2,t),s.write_shift(2,n||0),s}function Hve(e,t,n){var s=n.biff>8?4:2,a=e.read_shift(s),i=e.read_shift(s,"i"),o=e.read_shift(s,"i");return[a,i,o]}function Vve(e){var t=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2);return{s:{c:s,r:t},e:{c:a,r:n}}}function wG(e,t){return t||(t=kt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function yL(e,t,n){var s=1536,a=16;switch(n.bookType){case"biff8":break;case"biff5":s=1280,a=8;break;case"biff4":s=4,a=6;break;case"biff3":s=3,a=6;break;case"biff2":s=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=kt(a);return i.write_shift(2,s),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Gve(e,t){var n=!t||t.biff==8,s=kt(n?112:54);for(s.write_shift(t.biff==8?2:1,7),n&&s.write_shift(1,0),s.write_shift(4,859007059),s.write_shift(4,5458548|(n?0:536870912));s.l<s.length;)s.write_shift(1,n?0:32);return s}function qve(e,t){var n=!t||t.biff>=8?2:1,s=kt(8+n*e.name.length);s.write_shift(4,e.pos),s.write_shift(1,e.hs||0),s.write_shift(1,e.dt),s.write_shift(1,e.name.length),t.biff>=8&&s.write_shift(1,1),s.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=s.slice(0,s.l);return a.l=s.l,a}function Yve(e,t){var n=kt(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var s=[],a=0;a<e.length;++a)s[a]=Fve(e[a]);var i=Gs([n].concat(s));return i.parts=[n.length].concat(s.map(function(o){return o.length})),i}function Jve(){var e=kt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Zve(e){var t=kt(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Qve(e,t){var n=e.name||"Arial",s=t&&t.biff==5,a=s?15+n.length:16+2*n.length,i=kt(a);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,n.length),s||i.write_shift(1,1),i.write_shift((s?1:2)*n.length,n,s?"sbcs":"utf16le"),i}function Kve(e,t,n,s){var a=kt(10);return Vu(e,t,s,a),a.write_shift(4,n),a}function Xve(e,t,n,s,a){var i=!a||a.biff==8,o=kt(8+ +i+(1+i)*n.length);return Vu(e,t,s,o),o.write_shift(2,n.length),i&&o.write_shift(1,1),o.write_shift((1+i)*n.length,n,i?"utf16le":"sbcs"),o}function e1e(e,t,n,s){var a=n&&n.biff==5;s||(s=kt(a?3+t.length:5+2*t.length)),s.write_shift(2,e),s.write_shift(a?1:2,t.length),a||s.write_shift(1,1),s.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=s.length>s.l?s.slice(0,s.l):s;return i.l==null&&(i.l=i.length),i}function t1e(e,t){var n=t.biff==8||!t.biff?4:2,s=kt(2*n+6);return s.write_shift(n,e.s.r),s.write_shift(n,e.e.r+1),s.write_shift(2,e.s.c),s.write_shift(2,e.e.c+1),s.write_shift(2,0),s}function g$(e,t,n,s){var a=n&&n.biff==5;s||(s=kt(a?16:20)),s.write_shift(2,0),e.style?(s.write_shift(2,e.numFmtId||0),s.write_shift(2,65524)):(s.write_shift(2,e.numFmtId||0),s.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),s.write_shift(4,i),s.write_shift(4,0),a||s.write_shift(4,0),s.write_shift(2,0),s}function r1e(e){var t=kt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function n1e(e,t,n,s,a,i){var o=kt(8);return Vu(e,t,s,o),vG(n,i,o),o}function s1e(e,t,n,s){var a=kt(14);return Vu(e,t,s,a),Hu(n,a),a}function a1e(e,t,n){if(n.biff<8)return i1e(e,t,n);for(var s=[],a=e.l+t,i=e.read_shift(n.biff>8?4:2);i--!==0;)s.push(Hve(e,n.biff>8?12:6,n));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return s}function i1e(e,t,n){e[e.l+1]==3&&e[e.l]++;var s=yG(e,t,n);return s.charCodeAt(0)==3?s.slice(1):s}function o1e(e){var t=kt(2+e.length*8);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)wG(e[n],t);return t}function l1e(e){var t=kt(24),n=ps(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var s="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(s[a],16));return Gs([t,Wve(e[1])])}function c1e(e){var t=e[1].Tooltip,n=kt(10+2*(t.length+1));n.write_shift(2,2048);var s=ps(e[0]);n.write_shift(2,s.r),n.write_shift(2,s.r),n.write_shift(2,s.c),n.write_shift(2,s.c);for(var a=0;a<t.length;++a)n.write_shift(2,t.charCodeAt(a));return n.write_shift(2,0),n}function d1e(e){return e||(e=kt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function u1e(e,t,n){if(!n.cellStyles)return dl(e,t);var s=n&&n.biff>=12?4:2,a=e.read_shift(s),i=e.read_shift(s),o=e.read_shift(s),l=e.read_shift(s),c=e.read_shift(2);s==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:l,flags:c};return(n.biff>=5||!n.biff)&&(u.level=c>>8&7),u}function f1e(e,t){var n=kt(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,e.width*256),n.write_shift(2,0);var s=0;return e.hidden&&(s|=1),n.write_shift(1,s),s=e.level||0,n.write_shift(1,s),n.write_shift(2,0),n}function h1e(e){for(var t=kt(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}function g1e(e,t,n){var s=kt(15);return mx(s,e,t),s.write_shift(8,n,"f"),s}function m1e(e,t,n){var s=kt(9);return mx(s,e,t),s.write_shift(2,n),s}var p1e=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=lL({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(l,c){var u=[],f=Wu(1);switch(c.type){case"base64":f=Mo(Ul(l));break;case"binary":f=Mo(l);break;case"buffer":case"array":f=l;break}hi(f,0);var h=f.read_shift(1),g=!!(h&136),m=!1,p=!1;switch(h){case 2:break;case 3:break;case 48:m=!0,g=!0;break;case 49:m=!0,g=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var v=0,b=521;h==2&&(v=f.read_shift(2)),f.l+=3,h!=2&&(v=f.read_shift(4)),v>1048576&&(v=1e6),h!=2&&(b=f.read_shift(2));var y=f.read_shift(2),x=c.codepage||1252;h!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(x=e[f[f.l]]),f.l+=1,f.l+=2),p&&(f.l+=36);for(var w=[],j={},N=Math.min(f.length,h==2?521:b-10-(m?264:0)),L=p?32:11;f.l<N&&f[f.l]!=13;)switch(j={},j.name=hu.utils.decode(x,f.slice(f.l,f.l+L)).replace(/[\u0000\r\n].*$/g,""),f.l+=L,j.type=String.fromCharCode(f.read_shift(1)),h!=2&&!p&&(j.offset=f.read_shift(4)),j.len=f.read_shift(1),h==2&&(j.offset=f.read_shift(2)),j.dec=f.read_shift(1),j.name.length&&w.push(j),h!=2&&(f.l+=p?13:14),j.type){case"B":(!m||j.len!=8)&&c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(f[f.l]!==13&&(f.l=b-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=b;var k=0,E=0;for(u[0]=[],E=0;E!=w.length;++E)u[0][E]=w[E].name;for(;v-- >0;){if(f[f.l]===42){f.l+=y;continue}for(++f.l,u[++k]=[],E=0,E=0;E!=w.length;++E){var S=f.slice(f.l,f.l+w[E].len);f.l+=w[E].len,hi(S,0);var I=hu.utils.decode(x,S);switch(w[E].type){case"C":I.trim().length&&(u[k][E]=I.replace(/\s+$/,""));break;case"D":I.length===8?u[k][E]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):u[k][E]=I;break;case"F":u[k][E]=parseFloat(I.trim());break;case"+":case"I":u[k][E]=p?S.read_shift(-4,"i")^2147483648:S.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":u[k][E]=!0;break;case"N":case"F":u[k][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[k][E]="##MEMO##"+(p?parseInt(I.trim(),10):S.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(u[k][E]=+I||0);break;case"@":u[k][E]=new Date(S.read_shift(-8,"f")-621356832e5);break;case"T":u[k][E]=new Date((S.read_shift(4)-2440588)*864e5+S.read_shift(4));break;case"Y":u[k][E]=S.read_shift(4,"i")/1e4+S.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[k][E]=-S.read_shift(-8,"f");break;case"B":if(m&&w[E].len==8){u[k][E]=S.read_shift(8,"f");break}case"G":case"P":S.l+=w[E].len;break;case"0":if(w[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[E].type)}}}if(h!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=w,u}function s(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var f=Rh(n(l,u),u);return f["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,f}function a(l,c){try{return of(s(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&Ep(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var f=Ya(),h=Ob(l,{header:1,raw:!0,cellDates:!0}),g=h[0],m=h.slice(1),p=l["!cols"]||[],v=0,b=0,y=0,x=1;for(v=0;v<g.length;++v){if(((p[v]||{}).DBF||{}).name){g[v]=p[v].DBF.name,++y;continue}if(g[v]!=null){if(++y,typeof g[v]=="number"&&(g[v]=g[v].toString(10)),typeof g[v]!="string")throw new Error("DBF Invalid column name "+g[v]+" |"+typeof g[v]+"|");if(g.indexOf(g[v])!==v){for(b=0;b<1024;++b)if(g.indexOf(g[v]+"_"+b)==-1){g[v]+="_"+b;break}}}}var w=pn(l["!ref"]),j=[],N=[],L=[];for(v=0;v<=w.e.c-w.s.c;++v){var k="",E="",S=0,I=[];for(b=0;b<m.length;++b)m[b][v]!=null&&I.push(m[b][v]);if(I.length==0||g[v]==null){j[v]="?";continue}for(b=0;b<I.length;++b){switch(typeof I[b]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=I[b]instanceof Date?"D":"C";break;default:E="C"}S=Math.max(S,String(I[b]).length),k=k&&k!=E?"C":E}S>250&&(S=250),E=((p[v]||{}).DBF||{}).type,E=="C"&&p[v].DBF.len>S&&(S=p[v].DBF.len),k=="B"&&E=="N"&&(k="N",L[v]=p[v].DBF.dec,S=p[v].DBF.len),N[v]=k=="C"||E=="N"?S:i[k]||0,x+=N[v],j[v]=k}var C=f.next(32);for(C.write_shift(4,318902576),C.write_shift(4,m.length),C.write_shift(2,296+32*y),C.write_shift(2,x),v=0;v<4;++v)C.write_shift(4,0);for(C.write_shift(4,0|(+t[NV]||3)<<8),v=0,b=0;v<g.length;++v)if(g[v]!=null){var M=f.next(32),A=(g[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,A,"sbcs"),M.write_shift(1,j[v]=="?"?"C":j[v],"sbcs"),M.write_shift(4,b),M.write_shift(1,N[v]||i[j[v]]||0),M.write_shift(1,L[v]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),b+=N[v]||i[j[v]]||0}var H=f.next(264);for(H.write_shift(4,13),v=0;v<65;++v)H.write_shift(4,0);for(v=0;v<m.length;++v){var W=f.next(x);for(W.write_shift(1,0),b=0;b<g.length;++b)if(g[b]!=null)switch(j[b]){case"L":W.write_shift(1,m[v][b]==null?63:m[v][b]?84:70);break;case"B":W.write_shift(8,m[v][b]||0,"f");break;case"N":var X="0";for(typeof m[v][b]=="number"&&(X=m[v][b].toFixed(L[b]||0)),y=0;y<N[b]-X.length;++y)W.write_shift(1,32);W.write_shift(1,X,"sbcs");break;case"D":m[v][b]?(W.write_shift(4,("0000"+m[v][b].getFullYear()).slice(-4),"sbcs"),W.write_shift(2,("00"+(m[v][b].getMonth()+1)).slice(-2),"sbcs"),W.write_shift(2,("00"+m[v][b].getDate()).slice(-2),"sbcs")):W.write_shift(8,"00000000","sbcs");break;case"C":var J=String(m[v][b]!=null?m[v][b]:"").slice(0,N[b]);for(W.write_shift(1,J,"sbcs"),y=0;y<N[b]-J.length;++y)W.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:a,to_sheet:s,from_sheet:o}}(),x1e=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Xs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(g,m){var p=e[m];return typeof p=="number"?RO(p):p},s=function(g,m,p){var v=m.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return v==59?g:RO(v)};e["|"]=254;function a(g,m){switch(m.type){case"base64":return i(Ul(g),m);case"binary":return i(g,m);case"buffer":return i(Wr&&Buffer.isBuffer(g)?g.toString("binary"):dx(g),m);case"array":return i(ww(g),m)}throw new Error("Unrecognized type "+m.type)}function i(g,m){var p=g.split(/[\n\r]+/),v=-1,b=-1,y=0,x=0,w=[],j=[],N=null,L={},k=[],E=[],S=[],I=0,C;for(+m.codepage>=0&&Ep(+m.codepage);y!==p.length;++y){I=0;var M=p[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(t,n),A=M.replace(/;;/g,"\0").split(";").map(function(_){return _.replace(/\u0000/g,";")}),H=A[0],W;if(M.length>0)switch(H){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":A[1].charAt(0)=="P"&&j.push(M.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,J=!1,Z=!1,F=!1,D=-1,O=-1;for(x=1;x<A.length;++x)switch(A[x].charAt(0)){case"A":break;case"X":b=parseInt(A[x].slice(1))-1,J=!0;break;case"Y":for(v=parseInt(A[x].slice(1))-1,J||(b=0),C=w.length;C<=v;++C)w[C]=[];break;case"K":W=A[x].slice(1),W.charAt(0)==='"'?W=W.slice(1,W.length-1):W==="TRUE"?W=!0:W==="FALSE"?W=!1:isNaN($l(W))?isNaN(Mp(W).getDate())||(W=Ma(W)):(W=$l(W),N!==null&&$V(N)&&(W=FV(W))),X=!0;break;case"E":F=!0;var T=mye(A[x].slice(1),{r:v,c:b});w[v][b]=[w[v][b],T];break;case"S":Z=!0,w[v][b]=[w[v][b],"S5S"];break;case"G":break;case"R":D=parseInt(A[x].slice(1))-1;break;case"C":O=parseInt(A[x].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+M)}if(X&&(w[v][b]&&w[v][b].length==2?w[v][b][0]=W:w[v][b]=W,N=null),Z){if(F)throw new Error("SYLK shared formula cannot have own formula");var R=D>-1&&w[D][O];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");w[v][b][1]=pye(R[1],{r:v-D,c:b-O})}break;case"F":var z=0;for(x=1;x<A.length;++x)switch(A[x].charAt(0)){case"X":b=parseInt(A[x].slice(1))-1,++z;break;case"Y":for(v=parseInt(A[x].slice(1))-1,C=w.length;C<=v;++C)w[C]=[];break;case"M":I=parseInt(A[x].slice(1))/20;break;case"F":break;case"G":break;case"P":N=j[parseInt(A[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(S=A[x].slice(1).split(" "),C=parseInt(S[0],10);C<=parseInt(S[1],10);++C)I=parseInt(S[2],10),E[C-1]=I===0?{hidden:!0}:{wch:I},bL(E[C-1]);break;case"C":b=parseInt(A[x].slice(1))-1,E[b]||(E[b]={});break;case"R":v=parseInt(A[x].slice(1))-1,k[v]||(k[v]={}),I>0?(k[v].hpt=I,k[v].hpx=kG(I)):I===0&&(k[v].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+M)}z<1&&(N=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+M)}}return k.length>0&&(L["!rows"]=k),E.length>0&&(L["!cols"]=E),m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),[w,L]}function o(g,m){var p=a(g,m),v=p[0],b=p[1],y=Rh(v,m);return Xs(b).forEach(function(x){y[x]=b[x]}),y}function l(g,m){return of(o(g,m),m)}function c(g,m,p,v){var b="C;Y"+(p+1)+";X"+(v+1)+";K";switch(g.t){case"n":b+=g.v||0,g.f&&!g.F&&(b+=";E"+jL(g.f,{r:p,c:v}));break;case"b":b+=g.v?"TRUE":"FALSE";break;case"e":b+=g.w||g.v;break;case"d":b+='"'+(g.w||g.v)+'"';break;case"s":b+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function u(g,m){m.forEach(function(p,v){var b="F;W"+(v+1)+" "+(v+1)+" ";p.hidden?b+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=Ib(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=Tb(p.wpx)),typeof p.wch=="number"&&(b+=Math.round(p.wch))),b.charAt(b.length-1)!=" "&&g.push(b)})}function f(g,m){m.forEach(function(p,v){var b="F;";p.hidden?b+="M0;":p.hpt?b+="M"+20*p.hpt+";":p.hpx&&(b+="M"+20*Ab(p.hpx)+";"),b.length>2&&g.push(b+"R"+(v+1))})}function h(g,m){var p=["ID;PWXL;N;E"],v=[],b=pn(g["!ref"]),y,x=Array.isArray(g),w=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),g["!cols"]&&u(p,g["!cols"]),g["!rows"]&&f(p,g["!rows"]),p.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var j=b.s.r;j<=b.e.r;++j)for(var N=b.s.c;N<=b.e.c;++N){var L=Kr({r:j,c:N});y=x?(g[j]||[])[N]:g[L],!(!y||y.v==null&&(!y.f||y.F))&&v.push(c(y,g,j,N))}return p.join(w)+w+v.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:o,from_sheet:h}}(),v1e=function(){function e(i,o){switch(o.type){case"base64":return t(Ul(i),o);case"binary":return t(i,o);case"buffer":return t(Wr&&Buffer.isBuffer(i)?i.toString("binary"):dx(i),o);case"array":return t(ww(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,f=0,h=[];f!==l.length;++f){if(l[f].trim()==="BOT"){h[++c]=[],u=0;continue}if(!(c<0)){var g=l[f].trim().split(","),m=g[0],p=g[1];++f;for(var v=l[f]||"";(v.match(/["]/g)||[]).length&1&&f<l.length-1;)v+=`
`+l[++f];switch(v=v.trim(),+m){case-1:if(v==="BOT"){h[++c]=[],u=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?h[c][u]=!0:v==="FALSE"?h[c][u]=!1:isNaN($l(p))?isNaN(Mp(p).getDate())?h[c][u]=p:h[c][u]=Ma(p):h[c][u]=$l(p),++u;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),h[c][u++]=v!==""?v:null;break}if(v==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function n(i,o){return Rh(e(i,o),o)}function s(i,o){return of(n(i,o),o)}var a=function(){var i=function(c,u,f,h,g){c.push(u),c.push(f+","+h),c.push('"'+g.replace(/"/g,'""')+'"')},o=function(c,u,f,h){c.push(u+","+f),c.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var u=[],f=pn(c["!ref"]),h,g=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,f.e.r-f.s.r+1,""),i(u,"TUPLES",0,f.e.c-f.s.c+1,""),i(u,"DATA",0,0,"");for(var m=f.s.r;m<=f.e.r;++m){o(u,-1,0,"BOT");for(var p=f.s.c;p<=f.e.c;++p){var v=Kr({r:m,c:p});if(h=g?(c[m]||[])[p]:c[v],!h){o(u,1,0,"");continue}switch(h.t){case"n":var b=h.w;!b&&h.v!=null&&(b=h.v),b==null?h.f&&!h.F?o(u,1,0,"="+h.f):o(u,1,0,""):o(u,0,b,"V");break;case"b":o(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=gd(h.z||_n[14],Za(Ma(h.v)))),o(u,0,h.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var y=`\r
`,x=u.join(y);return x}}();return{to_workbook:s,to_sheet:n,from_sheet:a}}(),jG=function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(h,g){for(var m=h.split(`
`),p=-1,v=-1,b=0,y=[];b!==m.length;++b){var x=m[b].trim().split(":");if(x[0]==="cell"){var w=ps(x[1]);if(y.length<=w.r)for(p=y.length;p<=w.r;++p)y[p]||(y[p]=[]);switch(p=w.r,v=w.c,x[2]){case"t":y[p][v]=e(x[3]);break;case"v":y[p][v]=+x[3];break;case"vtf":var j=x[x.length-1];case"vtc":switch(x[3]){case"nl":y[p][v]=!!+x[4];break;default:y[p][v]=+x[4];break}x[2]=="vtf"&&(y[p][v]=[y[p][v],j])}}}return g&&g.sheetRows&&(y=y.slice(0,g.sheetRows)),y}function s(h,g){return Rh(n(h,g),g)}function a(h,g){return of(s(h,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var g=[],m=[],p,v="",b=Ni(h["!ref"]),y=Array.isArray(h),x=b.s.r;x<=b.e.r;++x)for(var w=b.s.c;w<=b.e.c;++w)if(v=Kr({r:x,c:w}),p=y?(h[x]||[])[w]:h[v],!(!p||p.v==null||p.t==="z")){switch(m=["cell",v,"t"],p.t){case"s":case"str":m.push(t(p.v));break;case"n":p.f?(m[2]="vtf",m[3]="n",m[4]=p.v,m[5]=t(p.f)):(m[2]="v",m[3]=p.v);break;case"b":m[2]="vt"+(p.f?"f":"c"),m[3]="nl",m[4]=p.v?"1":"0",m[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var j=Za(Ma(p.v));m[2]="vtc",m[3]="nd",m[4]=""+j,m[5]=p.w||gd(p.z||_n[14],j);break;case"e":continue}g.push(m.join(":"))}return g.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function f(h){return[i,o,l,o,u(h),c].join(`
`)}return{to_workbook:a,to_sheet:s,from_sheet:f}}(),y1e=function(){function e(f,h,g,m,p){p.raw?h[g][m]=f:f===""||(f==="TRUE"?h[g][m]=!0:f==="FALSE"?h[g][m]=!1:isNaN($l(f))?isNaN(Mp(f).getDate())?h[g][m]=f:h[g][m]=Ma(f):h[g][m]=$l(f))}function t(f,h){var g=h||{},m=[];if(!f||f.length===0)return m;for(var p=f.split(/[\r\n]/),v=p.length-1;v>=0&&p[v].length===0;)--v;for(var b=10,y=0,x=0;x<=v;++x)y=p[x].indexOf(" "),y==-1?y=p[x].length:y++,b=Math.max(b,y);for(x=0;x<=v;++x){m[x]=[];var w=0;for(e(p[x].slice(0,b).trim(),m,x,w,g),w=1;w<=(p[x].length-b)/10+1;++w)e(p[x].slice(b+(w-1)*10,b+w*10).trim(),m,x,w,g)}return g.sheetRows&&(m=m.slice(0,g.sheetRows)),m}var n={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function a(f){for(var h={},g=!1,m=0,p=0;m<f.length;++m)(p=f.charCodeAt(m))==34?g=!g:!g&&p in n&&(h[p]=(h[p]||0)+1);p=[];for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&p.push([h[m],m]);if(!p.length){h=s;for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&p.push([h[m],m])}return p.sort(function(v,b){return v[0]-b[0]||s[v[1]]-s[b[1]]}),n[p.pop()[1]]||44}function i(f,h){var g=h||{},m="",p=g.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(m=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(m=f.charAt(4),f=f.slice(6)):m=a(f.slice(0,1024)):g&&g.FS?m=g.FS:m=a(f.slice(0,1024));var b=0,y=0,x=0,w=0,j=0,N=m.charCodeAt(0),L=!1,k=0,E=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var S=g.dateNF!=null?$xe(g.dateNF):null;function I(){var C=f.slice(w,j),M={};if(C.charAt(0)=='"'&&C.charAt(C.length-1)=='"'&&(C=C.slice(1,-1).replace(/""/g,'"')),C.length===0)M.t="z";else if(g.raw)M.t="s",M.v=C;else if(C.trim().length===0)M.t="s",M.v=C;else if(C.charCodeAt(0)==61)C.charCodeAt(1)==34&&C.charCodeAt(C.length-1)==34?(M.t="s",M.v=C.slice(2,-1).replace(/""/g,'"')):xye(C)?(M.t="n",M.f=C.slice(1)):(M.t="s",M.v=C);else if(C=="TRUE")M.t="b",M.v=!0;else if(C=="FALSE")M.t="b",M.v=!1;else if(!isNaN(x=$l(C)))M.t="n",g.cellText!==!1&&(M.w=C),M.v=x;else if(!isNaN(Mp(C).getDate())||S&&C.match(S)){M.z=g.dateNF||_n[14];var A=0;S&&C.match(S)&&(C=Pxe(C,g.dateNF,C.match(S)||[]),A=1),g.cellDates?(M.t="d",M.v=Ma(C,A)):(M.t="n",M.v=Za(Ma(C,A))),g.cellText!==!1&&(M.w=gd(M.z,M.v instanceof Date?Za(M.v):M.v)),g.cellNF||delete M.z}else M.t="s",M.v=C;if(M.t=="z"||(g.dense?(p[b]||(p[b]=[]),p[b][y]=M):p[Kr({c:y,r:b})]=M),w=j+1,E=f.charCodeAt(w),v.e.c<y&&(v.e.c=y),v.e.r<b&&(v.e.r=b),k==N)++y;else if(y=0,++b,g.sheetRows&&g.sheetRows<=b)return!0}e:for(;j<f.length;++j)switch(k=f.charCodeAt(j)){case 34:E===34&&(L=!L);break;case N:case 10:case 13:if(!L&&I())break e;break}return j-w>0&&I(),p["!ref"]=qn(v),p}function o(f,h){return!(h&&h.PRN)||h.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,h):Rh(t(f,h),h)}function l(f,h){var g="",m=h.type=="string"?[0,0,0,0]:Tje(f,h);switch(h.type){case"base64":g=Ul(f);break;case"binary":g=f;break;case"buffer":h.codepage==65001?g=f.toString("utf8"):h.codepage&&typeof hu!="undefined"?g=hu.utils.decode(h.codepage,f):g=Wr&&Buffer.isBuffer(f)?f.toString("binary"):dx(f);break;case"array":g=ww(f);break;case"string":g=f;break;default:throw new Error("Unrecognized type "+h.type)}return m[0]==239&&m[1]==187&&m[2]==191?g=Pm(g.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?g=Pm(g):h.type=="binary"&&typeof hu!="undefined"&&h.codepage&&(g=hu.utils.decode(h.codepage,hu.utils.encode(28591,g))),g.slice(0,19)=="socialcalc:version:"?jG.to_sheet(h.type=="string"?g:Pm(g),h):o(g,h)}function c(f,h){return of(l(f,h),h)}function u(f){for(var h=[],g=pn(f["!ref"]),m,p=Array.isArray(f),v=g.s.r;v<=g.e.r;++v){for(var b=[],y=g.s.c;y<=g.e.c;++y){var x=Kr({r:v,c:y});if(m=p?(f[v]||[])[y]:f[x],!m||m.v==null){b.push("          ");continue}for(var w=(m.w||(Wl(m),m.w)||"").slice(0,10);w.length<10;)w+=" ";b.push(w+(y===0?" ":""))}h.push(b.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),m$=function(){function e(T,R,z){if(T){hi(T,T.l||0);for(var _=z.Enum||D;T.l<T.length;){var U=T.read_shift(2),Q=_[U]||_[65535],re=T.read_shift(2),le=T.l+re,ue=Q.f&&Q.f(T,re,z);if(T.l=le,R(ue,Q,U))return}}}function t(T,R){switch(R.type){case"base64":return n(Mo(Ul(T)),R);case"binary":return n(Mo(T),R);case"buffer":case"array":return n(T,R)}throw"Unsupported type "+R.type}function n(T,R){if(!T)return T;var z=R||{},_=z.dense?[]:{},U="Sheet1",Q="",re=0,le={},ue=[],ge=[],ke={s:{r:0,c:0},e:{r:0,c:0}},tt=z.sheetRows||0;if(T[2]==0&&(T[3]==8||T[3]==9)&&T.length>=16&&T[14]==5&&T[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(T[2]==2)z.Enum=D,e(T,function(Xe,V,ne){switch(ne){case 0:z.vers=Xe,Xe>=4096&&(z.qpro=!0);break;case 6:ke=Xe;break;case 204:Xe&&(Q=Xe);break;case 222:Q=Xe;break;case 15:case 51:z.qpro||(Xe[1].v=Xe[1].v.slice(1));case 13:case 14:case 16:ne==14&&(Xe[2]&112)==112&&(Xe[2]&15)>1&&(Xe[2]&15)<15&&(Xe[1].z=z.dateNF||_n[14],z.cellDates&&(Xe[1].t="d",Xe[1].v=FV(Xe[1].v))),z.qpro&&Xe[3]>re&&(_["!ref"]=qn(ke),le[U]=_,ue.push(U),_=z.dense?[]:{},ke={s:{r:0,c:0},e:{r:0,c:0}},re=Xe[3],U=Q||"Sheet"+(re+1),Q="");var Ce=z.dense?(_[Xe[0].r]||[])[Xe[0].c]:_[Kr(Xe[0])];if(Ce){Ce.t=Xe[1].t,Ce.v=Xe[1].v,Xe[1].z!=null&&(Ce.z=Xe[1].z),Xe[1].f!=null&&(Ce.f=Xe[1].f);break}z.dense?(_[Xe[0].r]||(_[Xe[0].r]=[]),_[Xe[0].r][Xe[0].c]=Xe[1]):_[Kr(Xe[0])]=Xe[1];break}},z);else if(T[2]==26||T[2]==14)z.Enum=O,T[2]==14&&(z.qpro=!0,T.l=0),e(T,function(Xe,V,ne){switch(ne){case 204:U=Xe;break;case 22:Xe[1].v=Xe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Xe[3]>re&&(_["!ref"]=qn(ke),le[U]=_,ue.push(U),_=z.dense?[]:{},ke={s:{r:0,c:0},e:{r:0,c:0}},re=Xe[3],U="Sheet"+(re+1)),tt>0&&Xe[0].r>=tt)break;z.dense?(_[Xe[0].r]||(_[Xe[0].r]=[]),_[Xe[0].r][Xe[0].c]=Xe[1]):_[Kr(Xe[0])]=Xe[1],ke.e.c<Xe[0].c&&(ke.e.c=Xe[0].c),ke.e.r<Xe[0].r&&(ke.e.r=Xe[0].r);break;case 27:Xe[14e3]&&(ge[Xe[14e3][0]]=Xe[14e3][1]);break;case 1537:ge[Xe[0]]=Xe[1],Xe[0]==re&&(U=Xe[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+T[2]);if(_["!ref"]=qn(ke),le[Q||U]=_,ue.push(Q||U),!ge.length)return{SheetNames:ue,Sheets:le};for(var He={},ze=[],rt=0;rt<ge.length;++rt)le[ue[rt]]?(ze.push(ge[rt]||ue[rt]),He[ge[rt]]=le[ge[rt]]||le[ue[rt]]):(ze.push(ge[rt]),He[ge[rt]]={"!ref":"A1"});return{SheetNames:ze,Sheets:He}}function s(T,R){var z=R||{};if(+z.codepage>=0&&Ep(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var _=Ya(),U=pn(T["!ref"]),Q=Array.isArray(T),re=[];Bt(_,0,i(1030)),Bt(_,6,c(U));for(var le=Math.min(U.e.r,8191),ue=U.s.r;ue<=le;++ue)for(var ge=Zs(ue),ke=U.s.c;ke<=U.e.c;++ke){ue===U.s.r&&(re[ke]=la(ke));var tt=re[ke]+ge,He=Q?(T[ue]||[])[ke]:T[tt];if(!(!He||He.t=="z"))if(He.t=="n")(He.v|0)==He.v&&He.v>=-32768&&He.v<=32767?Bt(_,13,m(ue,ke,He.v)):Bt(_,14,v(ue,ke,He.v));else{var ze=Wl(He);Bt(_,15,h(ue,ke,ze.slice(0,239)))}}return Bt(_,1),_.end()}function a(T,R){var z=R||{};if(+z.codepage>=0&&Ep(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var _=Ya();Bt(_,0,o(T));for(var U=0,Q=0;U<T.SheetNames.length;++U)(T.Sheets[T.SheetNames[U]]||{})["!ref"]&&Bt(_,27,F(T.SheetNames[U],Q++));var re=0;for(U=0;U<T.SheetNames.length;++U){var le=T.Sheets[T.SheetNames[U]];if(!(!le||!le["!ref"])){for(var ue=pn(le["!ref"]),ge=Array.isArray(le),ke=[],tt=Math.min(ue.e.r,8191),He=ue.s.r;He<=tt;++He)for(var ze=Zs(He),rt=ue.s.c;rt<=ue.e.c;++rt){He===ue.s.r&&(ke[rt]=la(rt));var Xe=ke[rt]+ze,V=ge?(le[He]||[])[rt]:le[Xe];if(!(!V||V.t=="z"))if(V.t=="n")Bt(_,23,I(He,rt,re,V.v));else{var ne=Wl(V);Bt(_,22,k(He,rt,re,ne.slice(0,239)))}}++re}}return Bt(_,1),_.end()}function i(T){var R=kt(2);return R.write_shift(2,T),R}function o(T){var R=kt(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var z=0,_=0,U=0,Q=0;Q<T.SheetNames.length;++Q){var re=T.SheetNames[Q],le=T.Sheets[re];if(!(!le||!le["!ref"])){++U;var ue=Ni(le["!ref"]);z<ue.e.r&&(z=ue.e.r),_<ue.e.c&&(_=ue.e.c)}}return z>8191&&(z=8191),R.write_shift(2,z),R.write_shift(1,U),R.write_shift(1,_),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function l(T,R,z){var _={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&z.qpro?(_.s.c=T.read_shift(1),T.l++,_.s.r=T.read_shift(2),_.e.c=T.read_shift(1),T.l++,_.e.r=T.read_shift(2),_):(_.s.c=T.read_shift(2),_.s.r=T.read_shift(2),R==12&&z.qpro&&(T.l+=2),_.e.c=T.read_shift(2),_.e.r=T.read_shift(2),R==12&&z.qpro&&(T.l+=2),_.s.c==65535&&(_.s.c=_.e.c=_.s.r=_.e.r=0),_)}function c(T){var R=kt(8);return R.write_shift(2,T.s.c),R.write_shift(2,T.s.r),R.write_shift(2,T.e.c),R.write_shift(2,T.e.r),R}function u(T,R,z){var _=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(_[0].c=T.read_shift(1),_[3]=T.read_shift(1),_[0].r=T.read_shift(2),T.l+=2):(_[2]=T.read_shift(1),_[0].c=T.read_shift(2),_[0].r=T.read_shift(2)),_}function f(T,R,z){var _=T.l+R,U=u(T,R,z);if(U[1].t="s",z.vers==20768){T.l++;var Q=T.read_shift(1);return U[1].v=T.read_shift(Q,"utf8"),U}return z.qpro&&T.l++,U[1].v=T.read_shift(_-T.l,"cstr"),U}function h(T,R,z){var _=kt(7+z.length);_.write_shift(1,255),_.write_shift(2,R),_.write_shift(2,T),_.write_shift(1,39);for(var U=0;U<_.length;++U){var Q=z.charCodeAt(U);_.write_shift(1,Q>=128?95:Q)}return _.write_shift(1,0),_}function g(T,R,z){var _=u(T,R,z);return _[1].v=T.read_shift(2,"i"),_}function m(T,R,z){var _=kt(7);return _.write_shift(1,255),_.write_shift(2,R),_.write_shift(2,T),_.write_shift(2,z,"i"),_}function p(T,R,z){var _=u(T,R,z);return _[1].v=T.read_shift(8,"f"),_}function v(T,R,z){var _=kt(13);return _.write_shift(1,255),_.write_shift(2,R),_.write_shift(2,T),_.write_shift(8,z,"f"),_}function b(T,R,z){var _=T.l+R,U=u(T,R,z);if(U[1].v=T.read_shift(8,"f"),z.qpro)T.l=_;else{var Q=T.read_shift(2);j(T.slice(T.l,T.l+Q),U),T.l+=Q}return U}function y(T,R,z){var _=R&32768;return R&=-32769,R=(_?T:0)+(R>=8192?R-16384:R),(_?"":"$")+(z?la(R):Zs(R))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(T,R){hi(T,0);for(var z=[],_=0,U="",Q="",re="",le="";T.l<T.length;){var ue=T[T.l++];switch(ue){case 0:z.push(T.read_shift(8,"f"));break;case 1:Q=y(R[0].c,T.read_shift(2),!0),U=y(R[0].r,T.read_shift(2),!1),z.push(Q+U);break;case 2:{var ge=y(R[0].c,T.read_shift(2),!0),ke=y(R[0].r,T.read_shift(2),!1);Q=y(R[0].c,T.read_shift(2),!0),U=y(R[0].r,T.read_shift(2),!1),z.push(ge+ke+":"+Q+U)}break;case 3:if(T.l<T.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(T.read_shift(2));break;case 6:{for(var tt="";ue=T[T.l++];)tt+=String.fromCharCode(ue);z.push('"'+tt.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:le=z.pop(),re=z.pop(),z.push(["AND","OR"][ue-20]+"("+re+","+le+")");break;default:if(ue<32&&w[ue])le=z.pop(),re=z.pop(),z.push(re+w[ue]+le);else if(x[ue]){if(_=x[ue][1],_==69&&(_=T[T.l++]),_>z.length){console.error("WK1 bad formula parse 0x"+ue.toString(16)+":|"+z.join("|")+"|");return}var He=z.slice(-_);z.length-=_,z.push(x[ue][0]+"("+He.join(",")+")")}else return ue<=7?console.error("WK1 invalid opcode "+ue.toString(16)):ue<=24?console.error("WK1 unsupported op "+ue.toString(16)):ue<=30?console.error("WK1 invalid opcode "+ue.toString(16)):ue<=115?console.error("WK1 unsupported function opcode "+ue.toString(16)):console.error("WK1 unrecognized opcode "+ue.toString(16))}}z.length==1?R[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function N(T){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=T.read_shift(2),R[3]=T[T.l++],R[0].c=T[T.l++],R}function L(T,R){var z=N(T);return z[1].t="s",z[1].v=T.read_shift(R-4,"cstr"),z}function k(T,R,z,_){var U=kt(6+_.length);U.write_shift(2,T),U.write_shift(1,z),U.write_shift(1,R),U.write_shift(1,39);for(var Q=0;Q<_.length;++Q){var re=_.charCodeAt(Q);U.write_shift(1,re>=128?95:re)}return U.write_shift(1,0),U}function E(T,R){var z=N(T);z[1].v=T.read_shift(2);var _=z[1].v>>1;if(z[1].v&1)switch(_&7){case 0:_=(_>>3)*5e3;break;case 1:_=(_>>3)*500;break;case 2:_=(_>>3)/20;break;case 3:_=(_>>3)/200;break;case 4:_=(_>>3)/2e3;break;case 5:_=(_>>3)/2e4;break;case 6:_=(_>>3)/16;break;case 7:_=(_>>3)/64;break}return z[1].v=_,z}function S(T,R){var z=N(T),_=T.read_shift(4),U=T.read_shift(4),Q=T.read_shift(2);if(Q==65535)return _===0&&U===3221225472?(z[1].t="e",z[1].v=15):_===0&&U===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var re=Q&32768;return Q=(Q&32767)-16446,z[1].v=(1-re*2)*(U*Math.pow(2,Q+32)+_*Math.pow(2,Q)),z}function I(T,R,z,_){var U=kt(14);if(U.write_shift(2,T),U.write_shift(1,z),U.write_shift(1,R),_==0)return U.write_shift(4,0),U.write_shift(4,0),U.write_shift(2,65535),U;var Q=0,re=0,le=0,ue=0;return _<0&&(Q=1,_=-_),re=Math.log2(_)|0,_/=Math.pow(2,re-31),ue=_>>>0,ue&2147483648||(_/=2,++re,ue=_>>>0),_-=ue,ue|=2147483648,ue>>>=0,_*=Math.pow(2,32),le=_>>>0,U.write_shift(4,le),U.write_shift(4,ue),re+=16383+(Q?32768:0),U.write_shift(2,re),U}function C(T,R){var z=S(T);return T.l+=R-14,z}function M(T,R){var z=N(T),_=T.read_shift(4);return z[1].v=_>>6,z}function A(T,R){var z=N(T),_=T.read_shift(8,"f");return z[1].v=_,z}function H(T,R){var z=A(T);return T.l+=R-10,z}function W(T,R){return T[T.l+R-1]==0?T.read_shift(R,"cstr"):""}function X(T,R){var z=T[T.l++];z>R-1&&(z=R-1);for(var _="";_.length<z;)_+=String.fromCharCode(T[T.l++]);return _}function J(T,R,z){if(!(!z.qpro||R<21)){var _=T.read_shift(1);T.l+=17,T.l+=1,T.l+=2;var U=T.read_shift(R-21,"cstr");return[_,U]}}function Z(T,R){for(var z={},_=T.l+R;T.l<_;){var U=T.read_shift(2);if(U==14e3){for(z[U]=[0,""],z[U][0]=T.read_shift(2);T[T.l];)z[U][1]+=String.fromCharCode(T[T.l]),T.l++;T.l++}}return z}function F(T,R){var z=kt(5+T.length);z.write_shift(2,14e3),z.write_shift(2,R);for(var _=0;_<T.length;++_){var U=T.charCodeAt(_);z[z.l++]=U>127?95:U}return z[z.l++]=0,z}var D={0:{n:"BOF",f:xG},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:p},15:{n:"LABEL",f},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:W},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},O={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:L},23:{n:"NUMBER17",f:S},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:C},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Z},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:A},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:W},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:a,to_workbook:t}}(),b1e=/^\s|\s$|[\t\n\r]/;function NG(e,t){if(!t.bookSST)return"";var n=[Jn];n[n.length]=Rt("sst",null,{xmlns:Dh[0],count:e.Count,uniqueCount:e.Unique});for(var s=0;s!=e.length;++s)if(e[s]!=null){var a=e[s],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(b1e)&&(i+=' xml:space="preserve"'),i+=">"+Zr(a.t)+"</t>"),i+="</si>",n[n.length]=i}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function w1e(e){return[e.read_shift(4),e.read_shift(4)]}function j1e(e,t){return t||(t=kt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var N1e=hve;function S1e(e){var t=Ya();Tt(t,159,j1e(e));for(var n=0;n<e.length;++n)Tt(t,19,N1e(e[n]));return Tt(t,160),t.end()}function C1e(e){for(var t=[],n=e.split(""),s=0;s<n.length;++s)t[s]=n[s].charCodeAt(0);return t}function SG(e){var t=0,n,s=C1e(e),a=s.length+1,i,o,l,c,u;for(n=Wu(a),n[0]=s.length,i=1;i!=a;++i)n[i]=s[i-1];for(i=a-1;i>=0;--i)o=n[i],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var k1e=function(){function e(a,i){switch(i.type){case"base64":return t(Ul(a),i);case"binary":return t(a,i);case"buffer":return t(Wr&&Buffer.isBuffer(a)?a.toString("binary"):dx(a),i);case"array":return t(ww(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(f,h){Array.isArray(l)&&(l[h]=[]);for(var g=/\\\w+\b/g,m=0,p,v=-1;p=g.exec(f);){switch(p[0]){case"\\cell":var b=f.slice(m,g.lastIndex-p[0].length);if(b[0]==" "&&(b=b.slice(1)),++v,b.length){var y={v:b,t:"s"};Array.isArray(l)?l[h][v]=y:l[Kr({r:h,c:v})]=y}break}m=g.lastIndex}v>u.e.c&&(u.e.c=v)}),l["!ref"]=qn(u),l}function n(a,i){return of(e(a,i),i)}function s(a){for(var i=["{\\rtf1\\ansi"],o=pn(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var h=Kr({r:u,c:f});l=c?(a[u]||[])[f]:a[h],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Wl(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:s}}();function p$(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}var E1e=6,Pl=E1e;function Ib(e){return Math.floor((e+Math.round(128/Pl)/256)*Pl)}function Tb(e){return Math.floor((e-5)/Pl*100+.5)/100}function a6(e){return Math.round((e*Pl+5)/Pl*256)/256}function bL(e){e.width?(e.wpx=Ib(e.width),e.wch=Tb(e.wpx),e.MDW=Pl):e.wpx?(e.wch=Tb(e.wpx),e.width=a6(e.wch),e.MDW=Pl):typeof e.wch=="number"&&(e.width=a6(e.wch),e.wpx=Ib(e.width),e.MDW=Pl),e.customWidth&&delete e.customWidth}var L1e=96,CG=L1e;function Ab(e){return e*96/CG}function kG(e){return e*CG/96}function M1e(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&(t[t.length]=Rt("numFmt",null,{numFmtId:s,formatCode:Zr(e[s])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Rt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function I1e(e){var t=[];return t[t.length]=Rt("cellXfs",null),e.forEach(function(n){t[t.length]=Rt("xf",null,n)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Rt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function EG(e,t){var n=[Jn,Rt("styleSheet",null,{xmlns:Dh[0],"xmlns:vt":gs.vt})],s;return e.SSF&&(s=M1e(e.SSF))!=null&&(n[n.length]=s),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(s=I1e(t.cellXfs))&&(n[n.length]=s),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function T1e(e,t){var n=e.read_shift(2),s=ca(e);return[n,s]}function A1e(e,t,n){n||(n=kt(6+4*t.length)),n.write_shift(2,e),xs(t,n);var s=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),s}function _1e(e,t,n){var s={};s.sz=e.read_shift(2)/20;var a=bve(e);a.fItalic&&(s.italic=1),a.fCondense&&(s.condense=1),a.fExtend&&(s.extend=1),a.fShadow&&(s.shadow=1),a.fOutline&&(s.outline=1),a.fStrikeout&&(s.strike=1);var i=e.read_shift(2);switch(i===700&&(s.bold=1),e.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(s.underline=o);var l=e.read_shift(1);l>0&&(s.family=l);var c=e.read_shift(1);switch(c>0&&(s.charset=c),e.l++,s.color=yve(e),e.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=ca(e),s}function O1e(e,t){t||(t=kt(25+4*32)),t.write_shift(2,e.sz*20),wve(e,t),t.write_shift(2,e.bold?700:400);var n=0;e.vertAlign=="superscript"?n=1:e.vertAlign=="subscript"&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Lb(e.color,t);var s=0;return e.scheme=="major"&&(s=1),e.scheme=="minor"&&(s=2),t.write_shift(1,s),xs(e.name,t),t.length>t.l?t.slice(0,t.l):t}var $1e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],eN,P1e=dl;function x$(e,t){t||(t=kt(4*3+8*7+16*1)),eN||(eN=lL($1e));var n=eN[e.patternType];n==null&&(n=40),t.write_shift(4,n);var s=0;if(n!=40)for(Lb({auto:1},t),Lb({auto:1},t);s<12;++s)t.write_shift(4,0);else{for(;s<4;++s)t.write_shift(4,0);for(;s<12;++s)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function D1e(e,t){var n=e.l+t,s=e.read_shift(2),a=e.read_shift(2);return e.l=n,{ixfe:s,numFmtId:a}}function LG(e,t,n){n||(n=kt(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var s=0;return n.write_shift(1,s),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Bg(e,t){return t||(t=kt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var R1e=dl;function F1e(e,t){return t||(t=kt(51)),t.write_shift(1,0),Bg(null,t),Bg(null,t),Bg(null,t),Bg(null,t),Bg(null,t),t.length>t.l?t.slice(0,t.l):t}function B1e(e,t){return t||(t=kt(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Eb(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function z1e(e,t,n){var s=kt(2052);return s.write_shift(4,e),Eb(t,s),Eb(n,s),s.length>s.l?s.slice(0,s.l):s}function U1e(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&++n}),n!=0&&(Tt(e,615,Po(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&Tt(e,44,A1e(a,t[a]))}),Tt(e,616))}}function W1e(e){var t=1;Tt(e,611,Po(t)),Tt(e,43,O1e({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Tt(e,612)}function H1e(e){var t=2;Tt(e,603,Po(t)),Tt(e,45,x$({patternType:"none"})),Tt(e,45,x$({patternType:"gray125"})),Tt(e,604)}function V1e(e){var t=1;Tt(e,613,Po(t)),Tt(e,46,F1e()),Tt(e,614)}function G1e(e){var t=1;Tt(e,626,Po(t)),Tt(e,47,LG({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Tt(e,627)}function q1e(e,t){Tt(e,617,Po(t.length)),t.forEach(function(n){Tt(e,47,LG(n,0))}),Tt(e,618)}function Y1e(e){var t=1;Tt(e,619,Po(t)),Tt(e,48,B1e({xfId:0,builtinId:0,name:"Normal"})),Tt(e,620)}function J1e(e){var t=0;Tt(e,505,Po(t)),Tt(e,506)}function Z1e(e){var t=0;Tt(e,508,z1e(t,"TableStyleMedium9","PivotStyleMedium4")),Tt(e,509)}function Q1e(e,t){var n=Ya();return Tt(n,278),U1e(n,e.SSF),W1e(n),H1e(n),V1e(n),G1e(n),q1e(n,t.cellXfs),Y1e(n),J1e(n),Z1e(n),Tt(n,279),n.end()}function MG(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var n=[Jn];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function K1e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ca(e)}}function X1e(e){var t=kt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),xs(e.name,t),t.slice(0,t.l)}function eye(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function tye(e){var t=kt(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}function rye(e,t){var n=kt(8+2*t.length);return n.write_shift(4,e),xs(t,n),n.slice(0,n.l)}function nye(e){return e.l+=4,e.read_shift(4)!=0}function sye(e,t){var n=kt(8);return n.write_shift(4,e),n.write_shift(4,1),n}function aye(){var e=Ya();return Tt(e,332),Tt(e,334,Po(1)),Tt(e,335,X1e({name:"XLDAPR",version:12e4,flags:3496657072})),Tt(e,336),Tt(e,339,rye(1,"XLDAPR")),Tt(e,52),Tt(e,35,Po(514)),Tt(e,4096,Po(0)),Tt(e,4097,Ui(1)),Tt(e,36),Tt(e,53),Tt(e,340),Tt(e,337,sye(1)),Tt(e,51,tye([[1,0]])),Tt(e,338),Tt(e,333),e.end()}function IG(){var e=[Jn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function iye(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=Kr(n);var s=e.read_shift(1);return s&2&&(t.l="1"),s&8&&(t.a="1"),t}var k0=1024;function TG(e,t){for(var n=[21600,21600],s=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),a=[Rt("xml",null,{"xmlns:v":pi.v,"xmlns:o":pi.o,"xmlns:x":pi.x,"xmlns:mv":pi.mv}).replace(/\/>/,">"),Rt("o:shapelayout",Rt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Rt("v:shapetype",[Rt("v:stroke",null,{joinstyle:"miter"}),Rt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:s})];k0<e*1e3;)k0+=1e3;return t.forEach(function(i){var o=ps(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Rt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Rt("v:fill",c,l),f={on:"t",obscured:"t"};++k0,a=a.concat(["<v:shape"+Tp({id:"_x0000_s"+k0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Rt("v:shadow",null,f),Rt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",qs("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),qs("x:AutoFill","False"),qs("x:Row",String(o.r)),qs("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function AG(e){var t=[Jn,Rt("comments",null,{xmlns:Dh[0]})],n=[];return t.push("<authors>"),e.forEach(function(s){s[1].forEach(function(a){var i=Zr(a.a);n.indexOf(i)==-1&&(n.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&n.indexOf("tc="+a.ID)==-1&&(n.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(s){var a=0,i=[];if(s[1][0]&&s[1][0].T&&s[1][0].ID?a=n.indexOf("tc="+s[1][0].ID):s[1].forEach(function(c){c.a&&(a=n.indexOf(Zr(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+s[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(qs("t",Zr(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(qs("t",Zr(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function oye(e,t,n){var s=[Jn,Rt("ThreadedComments",null,{xmlns:gs.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),s.push(Rt("threadedComment",qs("text",o.t||""),c))})}),s.push("</ThreadedComments>"),s.join("")}function lye(e){var t=[Jn,Rt("personList",null,{xmlns:gs.TCMNT,"xmlns:x":Dh[0]}).replace(/[\/]>/,">")];return e.forEach(function(n,s){t.push(Rt("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+s).slice(-12)+"}",userId:n,providerId:"None"}))}),t.push("</personList>"),t.join("")}function cye(e){var t={};t.iauthor=e.read_shift(4);var n=uf(e);return t.rfx=n.s,t.ref=Kr(n.s),e.l+=16,t}function dye(e,t){return t==null&&(t=kt(36)),t.write_shift(4,e[1].iauthor),Fh(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var uye=ca;function fye(e){return xs(e.slice(0,54))}function hye(e){var t=Ya(),n=[];return Tt(t,628),Tt(t,630),e.forEach(function(s){s[1].forEach(function(a){n.indexOf(a.a)>-1||(n.push(a.a.slice(0,54)),Tt(t,632,fye(a.a)))})}),Tt(t,631),Tt(t,633),e.forEach(function(s){s[1].forEach(function(a){a.iauthor=n.indexOf(a.a);var i={s:ps(s[0]),e:ps(s[0])};Tt(t,635,dye([i,a])),a.t&&a.t.length>0&&Tt(t,637,mve(a)),Tt(t,636),delete a.iauthor})}),Tt(t,634),Tt(t,629),t.end()}function gye(e,t){t.FullPaths.forEach(function(n,s){if(s!=0){var a=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&en.utils.cfb_add(e,a,t.FileIndex[s].content)}})}var _G=["xlsb","xlsm","xlam","biff8","xla"],mye=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(s,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return l?f+=t.c:--f,c?u+=t.r:--u,a+(l?"":"$")+la(f)+(c?"":"$")+Zs(u)}return function(a,i){return t=i,a.replace(e,n)}}(),wL=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,jL=function(){return function(t,n){return t.replace(wL,function(s,a,i,o,l,c){var u=mL(o)-(i?0:n.c),f=gL(c)-(l?0:n.r),h=f==0?"":l?f+1:"["+f+"]",g=u==0?"":i?u+1:"["+u+"]";return a+"R"+h+"C"+g})}}();function pye(e,t){return e.replace(wL,function(n,s,a,i,o,l){return s+(a=="$"?a+i:la(mL(i)+t.c))+(o=="$"?o+l:Zs(gL(l)+t.r))})}function xye(e){return e.length!=1}function Wn(e){e.l+=1}function md(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function OG(e,t,n){var s=2;if(n){if(n.biff>=2&&n.biff<=5)return $G(e);n.biff==12&&(s=4)}var a=e.read_shift(s),i=e.read_shift(s),o=md(e),l=md(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function $G(e){var t=md(e),n=md(e),s=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:s,cRel:t[1],rRel:t[2]},e:{r:n[0],c:a,cRel:n[1],rRel:n[2]}}}function vye(e,t,n){if(n.biff<8)return $G(e);var s=e.read_shift(n.biff==12?4:2),a=e.read_shift(n.biff==12?4:2),i=md(e),o=md(e);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function PG(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return yye(e);var s=e.read_shift(n&&n.biff==12?4:2),a=md(e);return{r:s,c:a[0],cRel:a[1],rRel:a[2]}}function yye(e){var t=md(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function bye(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function wye(e,t,n){var s=n&&n.biff?n.biff:8;if(s>=2&&s<=5)return jye(e);var a=e.read_shift(s>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function jye(e){var t=e.read_shift(2),n=e.read_shift(1),s=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,s==1&&t>=8192&&(t=t-16384),a==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:a,rRel:s}}function Nye(e,t,n){var s=(e[e.l++]&96)>>5,a=OG(e,n.biff>=2&&n.biff<=5?6:8,n);return[s,a]}function Sye(e,t,n){var s=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=OG(e,i,n);return[s,a,o]}function Cye(e,t,n){var s=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[s]}function kye(e,t,n){var s=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[s,a]}function Eye(e,t,n){var s=(e[e.l++]&96)>>5,a=vye(e,t-1,n);return[s,a]}function Lye(e,t,n){var s=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[s]}function v$(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function Mye(e,t,n){e.l+=2;for(var s=e.read_shift(n&&n.biff==2?1:2),a=[],i=0;i<=s;++i)a.push(e.read_shift(n&&n.biff==2?1:2));return a}function Iye(e,t,n){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(n&&n.biff==2?1:2)]}function Tye(e,t,n){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(n&&n.biff==2?1:2)]}function Aye(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function _ye(e,t,n){var s=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[s]}function DG(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function Oye(e){return e.read_shift(2),DG(e)}function $ye(e){return e.read_shift(2),DG(e)}function Pye(e,t,n){var s=(e[e.l]&96)>>5;e.l+=1;var a=PG(e,0,n);return[s,a]}function Dye(e,t,n){var s=(e[e.l]&96)>>5;e.l+=1;var a=wye(e,0,n);return[s,a]}function Rye(e,t,n){var s=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var i=PG(e,0,n);return[s,a,i]}function Fye(e,t,n){var s=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(n&&n.biff<=3?1:2);return[Fbe[a],BG[a],s]}function Bye(e,t,n){var s=e[e.l++],a=e.read_shift(1),i=n&&n.biff<=3?[s==88?-1:0,e.read_shift(1)]:zye(e);return[a,(i[0]===0?BG:Rbe)[i[1]]]}function zye(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Uye(e,t,n){e.l+=n&&n.biff==2?3:4}function Wye(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var s=e.read_shift(2),a=e.read_shift(n&&n.biff==2?1:2);return[s,a]}function Hye(e){return e.l++,hx[e.read_shift(1)]}function Vye(e){return e.l++,e.read_shift(2)}function Gye(e){return e.l++,e.read_shift(1)!==0}function qye(e){return e.l++,Bh(e)}function Yye(e,t,n){return e.l++,yG(e,t-1,n)}function Jye(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Rve(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=hx[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Bh(e);break;case 2:n[1]=Uve(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function Zye(e,t,n){for(var s=e.read_shift(n.biff==12?4:2),a=[],i=0;i!=s;++i)a.push((n.biff==12?uf:Vve)(e));return a}function Qye(e,t,n){var s=0,a=0;n.biff==12?(s=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),s=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--s,--a==0&&(a=256));for(var i=0,o=[];i!=s&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=Jye(e,n.biff);return o}function Kye(e,t,n){var s=e.read_shift(1)>>>5&3,a=!n||n.biff>=8?4:2,i=e.read_shift(a);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[s,0,i]}function Xye(e,t,n){if(n.biff==5)return ebe(e);var s=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[s,a,i]}function ebe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var s=e.read_shift(2);return e.l+=12,[t,n,s]}function tbe(e,t,n){var s=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var a=e.read_shift(n&&n.biff==2?1:2);return[s,a]}function rbe(e,t,n){var s=e.read_shift(1)>>>5&3,a=e.read_shift(n&&n.biff==2?1:2);return[s,a]}function nbe(e,t,n){var s=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[s]}function sbe(e,t,n){var s=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[s,a]}var abe=dl,ibe=dl,obe=dl;function gx(e,t,n){return e.l+=2,[bye(e)]}function NL(e){return e.l+=6,[]}var lbe=gx,cbe=NL,dbe=NL,ube=gx;function RG(e){return e.l+=2,[xG(e),e.read_shift(2)&1]}var fbe=gx,hbe=RG,gbe=NL,mbe=gx,pbe=gx,xbe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function vbe(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=xbe[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:s,c:a,C:i}}function ybe(e){return e.l+=2,[e.read_shift(4)]}function bbe(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function wbe(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function jbe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function Nbe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function Sbe(e){return e.l+=4,[0,0]}var y$={1:{n:"PtgExp",f:Wye},2:{n:"PtgTbl",f:obe},3:{n:"PtgAdd",f:Wn},4:{n:"PtgSub",f:Wn},5:{n:"PtgMul",f:Wn},6:{n:"PtgDiv",f:Wn},7:{n:"PtgPower",f:Wn},8:{n:"PtgConcat",f:Wn},9:{n:"PtgLt",f:Wn},10:{n:"PtgLe",f:Wn},11:{n:"PtgEq",f:Wn},12:{n:"PtgGe",f:Wn},13:{n:"PtgGt",f:Wn},14:{n:"PtgNe",f:Wn},15:{n:"PtgIsect",f:Wn},16:{n:"PtgUnion",f:Wn},17:{n:"PtgRange",f:Wn},18:{n:"PtgUplus",f:Wn},19:{n:"PtgUminus",f:Wn},20:{n:"PtgPercent",f:Wn},21:{n:"PtgParen",f:Wn},22:{n:"PtgMissArg",f:Wn},23:{n:"PtgStr",f:Yye},26:{n:"PtgSheet",f:bbe},27:{n:"PtgEndSheet",f:wbe},28:{n:"PtgErr",f:Hye},29:{n:"PtgBool",f:Gye},30:{n:"PtgInt",f:Vye},31:{n:"PtgNum",f:qye},32:{n:"PtgArray",f:Lye},33:{n:"PtgFunc",f:Fye},34:{n:"PtgFuncVar",f:Bye},35:{n:"PtgName",f:Kye},36:{n:"PtgRef",f:Pye},37:{n:"PtgArea",f:Nye},38:{n:"PtgMemArea",f:tbe},39:{n:"PtgMemErr",f:abe},40:{n:"PtgMemNoMem",f:ibe},41:{n:"PtgMemFunc",f:rbe},42:{n:"PtgRefErr",f:nbe},43:{n:"PtgAreaErr",f:Cye},44:{n:"PtgRefN",f:Dye},45:{n:"PtgAreaN",f:Eye},46:{n:"PtgMemAreaN",f:jbe},47:{n:"PtgMemNoMemN",f:Nbe},57:{n:"PtgNameX",f:Xye},58:{n:"PtgRef3d",f:Rye},59:{n:"PtgArea3d",f:Sye},60:{n:"PtgRefErr3d",f:sbe},61:{n:"PtgAreaErr3d",f:kye},255:{}},Cbe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},kbe={1:{n:"PtgElfLel",f:RG},2:{n:"PtgElfRw",f:mbe},3:{n:"PtgElfCol",f:lbe},6:{n:"PtgElfRwV",f:pbe},7:{n:"PtgElfColV",f:ube},10:{n:"PtgElfRadical",f:fbe},11:{n:"PtgElfRadicalS",f:gbe},13:{n:"PtgElfColS",f:cbe},15:{n:"PtgElfColSV",f:dbe},16:{n:"PtgElfRadicalLel",f:hbe},25:{n:"PtgList",f:vbe},29:{n:"PtgSxName",f:ybe},255:{}},Ebe={0:{n:"PtgAttrNoop",f:Sbe},1:{n:"PtgAttrSemi",f:_ye},2:{n:"PtgAttrIf",f:Tye},4:{n:"PtgAttrChoose",f:Mye},8:{n:"PtgAttrGoto",f:Iye},16:{n:"PtgAttrSum",f:Uye},32:{n:"PtgAttrBaxcel",f:v$},33:{n:"PtgAttrBaxcel",f:v$},64:{n:"PtgAttrSpace",f:Oye},65:{n:"PtgAttrSpaceSemi",f:$ye},128:{n:"PtgAttrIfError",f:Aye},255:{}};function Lbe(e,t,n,s){if(s.biff<8)return dl(e,t);for(var a=e.l+t,i=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=Qye(e,0,s),i.push(n[o][1]);break;case"PtgMemArea":n[o][2]=Zye(e,n[o][1],s),i.push(n[o][2]);break;case"PtgExp":s&&s.biff==12&&(n[o][1][1]=e.read_shift(4),i.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return t=a-e.l,t!==0&&i.push(dl(e,t)),i}function Mbe(e,t,n){for(var s=e.l+t,a,i,o=[];s!=e.l;)t=s-e.l,i=e[e.l],a=y$[i]||y$[Cbe[i]],(i===24||i===25)&&(a=(i===24?kbe:Ebe)[e[e.l+1]]),!a||!a.f?dl(e,t):o.push([a.n,a.f(e,t,n)]);return o}function Ibe(e){for(var t=[],n=0;n<e.length;++n){for(var s=e[n],a=[],i=0;i<s.length;++i){var o=s[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Tbe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Abe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function FG(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var s=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!s)return"SH33TJSERR1";var a="";if(n.biff>8)switch(e[s[0]][0]){case 357:return a=s[1]==-1?"#REF":e.SheetNames[s[1]],s[1]==s[2]?a:a+":"+e.SheetNames[s[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[s[0]][0];case 355:default:return"SH33TJSSRC"+e[s[0]][0]}switch(e[s[0]][0][0]){case 1025:return a=s[1]==-1?"#REF":e.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?a:a+":"+e.SheetNames[s[2]];case 14849:return e[s[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[s[0]][0][3]?(a=s[1]==-1?"#REF":e[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?a:a+":"+e[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function b$(e,t,n){var s=FG(e,t,n);return s=="#REF"?s:Abe(s,n)}function fh(e,t,n,s,a){var i=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,f,h=0,g=0,m,p="";if(!e[0]||!e[0][0])return"";for(var v=-1,b="",y=0,x=e[0].length;y<x;++y){var w=e[0][y];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),v>=0){switch(e[0][v][1][0]){case 0:b=Tn(" ",e[0][v][1][1]);break;case 1:b=Tn("\r",e[0][v][1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}u=u+b,v=-1}l.push(u+Tbe[w[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=Rm(w[1][1],o,a),l.push(Fm(f,i));break;case"PtgRefN":f=n?Rm(w[1][1],n,a):w[1][1],l.push(Fm(f,i));break;case"PtgRef3d":h=w[1][1],f=Rm(w[1][2],o,a),p=b$(s,h,a),l.push(p+"!"+Fm(f,i));break;case"PtgFunc":case"PtgFuncVar":var j=w[1][0],N=w[1][1];j||(j=0),j&=127;var L=j==0?[]:l.slice(-j);l.length-=j,N==="User"&&(N=L.shift()),l.push(N+"("+L.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":m=s$(w[1][1],n?{s:n}:o,a),l.push(K4(m,a));break;case"PtgArea":m=s$(w[1][1],o,a),l.push(K4(m,a));break;case"PtgArea3d":h=w[1][1],m=w[1][2],p=b$(s,h,a),l.push(p+"!"+K4(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=w[1][2];var k=(s.names||[])[g-1]||(s[0]||[])[g],E=k?k.Name:"SH33TJSNAME"+String(g);E&&E.slice(0,6)=="_xlfn."&&!a.xlfn&&(E=E.slice(6)),l.push(E);break;case"PtgNameX":var S=w[1][1];g=w[1][2];var I;if(a.biff<=5)S<0&&(S=-S),s[S]&&(I=s[S][g]);else{var C="";if(((s[S]||[])[0]||[])[0]==14849||(((s[S]||[])[0]||[])[0]==1025?s[S][g]&&s[S][g].itab>0&&(C=s.SheetNames[s[S][g].itab-1]+"!"):C=s.SheetNames[g-1]+"!"),s[S]&&s[S][g])C+=s[S][g].Name;else if(s[0]&&s[0][g])C+=s[0][g].Name;else{var M=(FG(s,S,a)||"").split(";;");M[g-1]?C=M[g-1]:C+="SH33TJSERRX"}l.push(C);break}I||(I={Name:"SH33TJSERRY"}),l.push(I.Name);break;case"PtgParen":var A="(",H=")";if(v>=0){switch(b="",e[0][v][1][0]){case 2:A=Tn(" ",e[0][v][1][1])+A;break;case 3:A=Tn("\r",e[0][v][1][1])+A;break;case 4:H=Tn(" ",e[0][v][1][1])+H;break;case 5:H=Tn("\r",e[0][v][1][1])+H;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}l.push(A+l.pop()+H);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":f={c:w[1][1],r:w[1][0]};var W={c:n.c,r:n.r};if(s.sharedf[Kr(f)]){var X=s.sharedf[Kr(f)];l.push(fh(X,o,W,s,a))}else{var J=!1;for(c=0;c!=s.arrayf.length;++c)if(u=s.arrayf[c],!(f.c<u[0].s.c||f.c>u[0].e.c)&&!(f.r<u[0].s.r||f.r>u[0].e.r)){l.push(fh(u[1],o,W,s,a)),J=!0;break}J||l.push(w[1])}break;case"PtgArray":l.push("{"+Ibe(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var Z=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&Z.indexOf(e[0][y][0])==-1){w=e[0][v];var F=!0;switch(w[1][0]){case 4:F=!1;case 0:b=Tn(" ",w[1][1]);break;case 5:F=!1;case 1:b=Tn("\r",w[1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((F?b:"")+l.pop()+(F?"":b)),v=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function _be(e){if(e==null){var t=kt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Hu(e);return Hu(0)}function Obe(e,t,n,s,a){var i=Vu(t,n,a),o=_be(e.v),l=kt(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=kt(e.bf.length),f=0;f<e.bf.length;++f)u[f]=e.bf[f];var h=Gs([i,o,l,u]);return h}function jw(e,t,n){var s=e.read_shift(4),a=Mbe(e,s,n),i=e.read_shift(4),o=i>0?Lbe(e,i,a,n):null;return[a,o]}var $be=jw,Nw=jw,Pbe=jw,Dbe=jw,Rbe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},BG={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Fbe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Bbe(e){var t="of:="+e.replace(wL,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function zbe(e){return e.replace(/\./,"!")}var Bm=typeof Map!="undefined";function SL(e,t,n){var s=0,a=e.length;if(n){if(Bm?n.has(t):Object.prototype.hasOwnProperty.call(n,t)){for(var i=Bm?n.get(t):n[t];s<i.length;++s)if(e[i[s]].t===t)return e.Count++,i[s]}}else for(;s<a;++s)if(e[s].t===t)return e.Count++,s;return e[a]={t},e.Count++,e.Unique++,n&&(Bm?(n.has(t)||n.set(t,[]),n.get(t).push(a)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(a))),a}function Sw(e,t){var n={min:e+1,max:e+1},s=-1;return t.MDW&&(Pl=t.MDW),t.width!=null?n.customWidth=1:t.wpx!=null?s=Tb(t.wpx):t.wch!=null&&(s=t.wch),s>-1?(n.width=a6(s),n.customWidth=1):t.width!=null&&(n.width=t.width),t.hidden&&(n.hidden=!0),t.level!=null&&(n.outlineLevel=n.level=t.level),n}function zG(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function Fd(e,t,n){var s=n.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(s==null&&n.ssf){for(;a<392;++a)if(n.ssf[a]==null){PV(t.z,a),n.ssf[a]=t.z,n.revssf[t.z]=s=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===s)return a;return e[i]={numFmtId:s,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Ube(e,t,n){if(e&&e["!ref"]){var s=pn(e["!ref"]);if(s.e.c<s.s.c||s.e.r<s.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}function Wbe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+qn(e[n])+'"/>';return t+"</mergeCells>"}function Hbe(e,t,n,s,a){var i=!1,o={},l=null;if(s.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[n];try{t.Workbook&&(c=t.Workbook.Sheets[n].CodeName||c)}catch(f){}i=!0,o.codeName=Ip(Zr(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+Rt("outlinePr",null,u)}!i&&!l||(a[a.length]=Rt("sheetPr",l,o))}var Vbe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Gbe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function qbe(e){var t={sheet:1};return Vbe.forEach(function(n){e[n]!=null&&e[n]&&(t[n]="1")}),Gbe.forEach(function(n){e[n]!=null&&!e[n]&&(t[n]="0")}),e.password&&(t.password=SG(e.password).toString(16).toUpperCase()),Rt("sheetProtection",null,t)}function Ybe(e){return zG(e),Rt("pageMargins",null,e)}function Jbe(e,t){for(var n=["<cols>"],s,a=0;a!=t.length;++a)(s=t[a])&&(n[n.length]=Rt("col",null,Sw(a,s)));return n[n.length]="</cols>",n.join("")}function Zbe(e,t,n,s){var a=typeof e.ref=="string"?e.ref:qn(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var i=n.Workbook.Names,o=Ni(a);o.s.r==o.e.r&&(o.e.r=Ni(t["!ref"]).e.r,a=qn(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==s){c.Ref="'"+n.SheetNames[s]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+n.SheetNames[s]+"'!"+a}),Rt("autoFilter",null,{ref:a})}function Qbe(e,t,n,s){var a={workbookViewId:"0"};return(((s||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=s.Workbook.Views[0].RTL?"1":"0"),Rt("sheetViews",Rt("sheetView",null,a),{})}function Kbe(e,t,n,s){if(e.c&&n["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=hx[e.v];break;case"d":s&&s.cellDates?a=Ma(e.v,-1).toISOString():(e=Qa(e),e.t="n",a=""+(e.v=Za(Ma(e.v)))),typeof e.z=="undefined"&&(e.z=_n[14]);break;default:a=e.v;break}var l=qs("v",Zr(a)),c={r:t},u=Fd(s.cellXfs,e,s);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(s&&s.bookSST){l=qs("v",""+SL(s.Strings,e.v,s.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var f=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=Rt("f",Zr(e.f),f)+(e.v!=null?l:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(c.cm=1),Rt("c",l,c)}function Xbe(e,t,n,s){var a=[],i=[],o=pn(e["!ref"]),l="",c,u="",f=[],h=0,g=0,m=e["!rows"],p=Array.isArray(e),v={r:u},b,y=-1;for(g=o.s.c;g<=o.e.c;++g)f[g]=la(g);for(h=o.s.r;h<=o.e.r;++h){for(i=[],u=Zs(h),g=o.s.c;g<=o.e.c;++g){c=f[g]+u;var x=p?(e[h]||[])[g]:e[c];x!==void 0&&(l=Kbe(x,c,e,t))!=null&&i.push(l)}(i.length>0||m&&m[h])&&(v={r:u},m&&m[h]&&(b=m[h],b.hidden&&(v.hidden=1),y=-1,b.hpx?y=Ab(b.hpx):b.hpt&&(y=b.hpt),y>-1&&(v.ht=y,v.customHeight=1),b.level&&(v.outlineLevel=b.level)),a[a.length]=Rt("row",i.join(""),v))}if(m)for(;h<m.length;++h)m&&m[h]&&(v={r:h+1},b=m[h],b.hidden&&(v.hidden=1),y=-1,b.hpx?y=Ab(b.hpx):b.hpt&&(y=b.hpt),y>-1&&(v.ht=y,v.customHeight=1),b.level&&(v.outlineLevel=b.level),a[a.length]=Rt("row","",v));return a.join("")}function UG(e,t,n,s){var a=[Jn,Rt("worksheet",null,{xmlns:Dh[0],"xmlns:r":gs.r})],i=n.SheetNames[e],o=0,l="",c=n.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",f=pn(u);if(f.e.c>16383||f.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),u=qn(f)}s||(s={}),c["!comments"]=[];var h=[];Hbe(c,n,e,t,a),a[a.length]=Rt("dimension",null,{ref:u}),a[a.length]=Qbe(c,t,e,n),t.sheetFormat&&(a[a.length]=Rt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=Jbe(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=Xbe(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=qbe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=Zbe(c["!autofilter"],c,n,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=Wbe(c["!merges"]));var g=-1,m,p=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(v){v[1].Target&&(m={ref:v[0]},v[1].Target.charAt(0)!="#"&&(p=Jr(s,-1,Zr(v[1].Target).replace(/#.*$/,""),Ur.HLINK),m["r:id"]="rId"+p),(g=v[1].Target.indexOf("#"))>-1&&(m.location=Zr(v[1].Target.slice(g+1))),v[1].Tooltip&&(m.tooltip=Zr(v[1].Tooltip)),a[a.length]=Rt("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=Ybe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=qs("ignoredErrors",Rt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(p=Jr(s,-1,"../drawings/drawing"+(e+1)+".xml",Ur.DRAW),a[a.length]=Rt("drawing",null,{"r:id":"rId"+p}),c["!drawing"]=h),c["!comments"].length>0&&(p=Jr(s,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Ur.VML),a[a.length]=Rt("legacyDrawing",null,{"r:id":"rId"+p}),c["!legacy"]=p),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function e2e(e,t){var n={},s=e.l+t;n.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=s,i&7&&(n.level=i&7),i&16&&(n.hidden=!0),i&32&&(n.hpt=a/20),n}function t2e(e,t,n){var s=kt(145),a=(n["!rows"]||[])[e]||{};s.write_shift(4,e),s.write_shift(4,0);var i=320;a.hpx?i=Ab(a.hpx)*20:a.hpt&&(i=a.hpt*20),s.write_shift(2,i),s.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),s.write_shift(1,o),s.write_shift(1,0);var l=0,c=s.l;s.l+=4;for(var u={r:e,c:0},f=0;f<16;++f)if(!(t.s.c>f+1<<10||t.e.c<f<<10)){for(var h=-1,g=-1,m=f<<10;m<f+1<<10;++m){u.c=m;var p=Array.isArray(n)?(n[u.r]||[])[u.c]:n[Kr(u)];p&&(h<0&&(h=m),g=m)}h<0||(++l,s.write_shift(4,h),s.write_shift(4,g))}var v=s.l;return s.l=c,s.write_shift(4,l),s.l=v,s.length>s.l?s.slice(0,s.l):s}function r2e(e,t,n,s){var a=t2e(s,n,t);(a.length>17||(t["!rows"]||[])[s])&&Tt(e,0,a)}var n2e=uf,s2e=Fh;function a2e(){}function i2e(e,t){var n={},s=e[e.l];return++e.l,n.above=!(s&64),n.left=!(s&128),e.l+=18,n.name=pve(e),n}function o2e(e,t,n){n==null&&(n=kt(84+4*e.length));var s=192;t&&(t.above&&(s&=-65),t.left&&(s&=-129)),n.write_shift(1,s);for(var a=1;a<3;++a)n.write_shift(1,0);return Lb({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),nG(e,n),n.slice(0,n.l)}function l2e(e){var t=so(e);return[t]}function c2e(e,t,n){return n==null&&(n=kt(8)),lf(t,n)}function d2e(e){var t=cf(e);return[t]}function u2e(e,t,n){return n==null&&(n=kt(4)),df(t,n)}function f2e(e){var t=so(e),n=e.read_shift(1);return[t,n,"b"]}function h2e(e,t,n){return n==null&&(n=kt(9)),lf(t,n),n.write_shift(1,e.v?1:0),n}function g2e(e){var t=cf(e),n=e.read_shift(1);return[t,n,"b"]}function m2e(e,t,n){return n==null&&(n=kt(5)),df(t,n),n.write_shift(1,e.v?1:0),n}function p2e(e){var t=so(e),n=e.read_shift(1);return[t,n,"e"]}function x2e(e,t,n){return n==null&&(n=kt(9)),lf(t,n),n.write_shift(1,e.v),n}function v2e(e){var t=cf(e),n=e.read_shift(1);return[t,n,"e"]}function y2e(e,t,n){return n==null&&(n=kt(8)),df(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}function b2e(e){var t=so(e),n=e.read_shift(4);return[t,n,"s"]}function w2e(e,t,n){return n==null&&(n=kt(12)),lf(t,n),n.write_shift(4,t.v),n}function j2e(e){var t=cf(e),n=e.read_shift(4);return[t,n,"s"]}function N2e(e,t,n){return n==null&&(n=kt(8)),df(t,n),n.write_shift(4,t.v),n}function S2e(e){var t=so(e),n=Bh(e);return[t,n,"n"]}function C2e(e,t,n){return n==null&&(n=kt(16)),lf(t,n),Hu(e.v,n),n}function k2e(e){var t=cf(e),n=Bh(e);return[t,n,"n"]}function E2e(e,t,n){return n==null&&(n=kt(12)),df(t,n),Hu(e.v,n),n}function L2e(e){var t=so(e),n=sG(e);return[t,n,"n"]}function M2e(e,t,n){return n==null&&(n=kt(12)),lf(t,n),aG(e.v,n),n}function I2e(e){var t=cf(e),n=sG(e);return[t,n,"n"]}function T2e(e,t,n){return n==null&&(n=kt(8)),df(t,n),aG(e.v,n),n}function A2e(e){var t=so(e),n=pL(e);return[t,n,"is"]}function _2e(e){var t=so(e),n=ca(e);return[t,n,"str"]}function O2e(e,t,n){return n==null&&(n=kt(12+4*e.v.length)),lf(t,n),xs(e.v,n),n.length>n.l?n.slice(0,n.l):n}function $2e(e){var t=cf(e),n=ca(e);return[t,n,"str"]}function P2e(e,t,n){return n==null&&(n=kt(8+4*e.v.length)),df(t,n),xs(e.v,n),n.length>n.l?n.slice(0,n.l):n}function D2e(e,t,n){var s=e.l+t,a=so(e);a.r=n["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(n.cellFormula){e.l+=2;var l=Nw(e,s-e.l,n);o[3]=fh(l,null,a,n.supbooks,n)}else e.l=s;return o}function R2e(e,t,n){var s=e.l+t,a=so(e);a.r=n["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(n.cellFormula){e.l+=2;var l=Nw(e,s-e.l,n);o[3]=fh(l,null,a,n.supbooks,n)}else e.l=s;return o}function F2e(e,t,n){var s=e.l+t,a=so(e);a.r=n["!row"];var i=Bh(e),o=[a,i,"n"];if(n.cellFormula){e.l+=2;var l=Nw(e,s-e.l,n);o[3]=fh(l,null,a,n.supbooks,n)}else e.l=s;return o}function B2e(e,t,n){var s=e.l+t,a=so(e);a.r=n["!row"];var i=ca(e),o=[a,i,"str"];if(n.cellFormula){e.l+=2;var l=Nw(e,s-e.l,n);o[3]=fh(l,null,a,n.supbooks,n)}else e.l=s;return o}var z2e=uf,U2e=Fh;function W2e(e,t){return t==null&&(t=kt(4)),t.write_shift(4,e),t}function H2e(e,t){var n=e.l+t,s=uf(e),a=xL(e),i=ca(e),o=ca(e),l=ca(e);e.l=n;var c={rfx:s,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function V2e(e,t){var n=kt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Fh({s:ps(e[0]),e:ps(e[0])},n),vL("rId"+t,n);var s=e[1].Target.indexOf("#"),a=s==-1?"":e[1].Target.slice(s+1);return xs(a||"",n),xs(e[1].Tooltip||"",n),xs("",n),n.slice(0,n.l)}function G2e(){}function q2e(e,t,n){var s=e.l+t,a=iG(e),i=e.read_shift(1),o=[a];if(o[2]=i,n.cellFormula){var l=$be(e,s-e.l,n);o[1]=l}else e.l=s;return o}function Y2e(e,t,n){var s=e.l+t,a=uf(e),i=[a];if(n.cellFormula){var o=Dbe(e,s-e.l,n);i[1]=o,e.l=s}else e.l=s;return i}function J2e(e,t,n){n==null&&(n=kt(18));var s=Sw(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,(s.width||10)*256),n.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof s.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),n.write_shift(2,a),n}var WG=["left","right","top","bottom","header","footer"];function Z2e(e){var t={};return WG.forEach(function(n){t[n]=Bh(e)}),t}function Q2e(e,t){return t==null&&(t=kt(6*8)),zG(e),WG.forEach(function(n){Hu(e[n],t)}),t}function K2e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function X2e(e,t,n){n==null&&(n=kt(30));var s=924;return(((t||{}).Views||[])[0]||{}).RTL&&(s|=32),n.write_shift(2,s),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function ewe(e){var t=kt(24);return t.write_shift(4,4),t.write_shift(4,1),Fh(e,t),t}function twe(e,t){return t==null&&(t=kt(16*4+2)),t.write_shift(2,e.password?SG(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?t.write_shift(4,e[n[0]]!=null&&!e[n[0]]?1:0):t.write_shift(4,e[n[0]]!=null&&e[n[0]]?0:1)}),t}function rwe(){}function nwe(){}function swe(e,t,n,s,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Qa(t),t.z=t.z||_n[14],t.v=Za(Ma(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r:n,c:s};switch(c.s=Fd(a.cellXfs,t,a),t.l&&i["!links"].push([Kr(c),t.l]),t.c&&i["!comments"].push([Kr(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=SL(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?Tt(e,18,N2e(t,c)):Tt(e,7,w2e(t,c))):(c.t="str",o?Tt(e,17,P2e(t,c)):Tt(e,6,O2e(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Tt(e,13,T2e(t,c)):Tt(e,2,M2e(t,c)):o?Tt(e,16,E2e(t,c)):Tt(e,5,C2e(t,c)),!0;case"b":return c.t="b",o?Tt(e,15,m2e(t,c)):Tt(e,4,h2e(t,c)),!0;case"e":return c.t="e",o?Tt(e,14,y2e(t,c)):Tt(e,3,x2e(t,c)),!0}return o?Tt(e,12,u2e(t,c)):Tt(e,1,c2e(t,c)),!0}function awe(e,t,n,s){var a=pn(t["!ref"]||"A1"),i,o="",l=[];Tt(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var f=a.s.r;f<=u;++f){o=Zs(f),r2e(e,t,a,f);var h=!1;if(f<=a.e.r)for(var g=a.s.c;g<=a.e.c;++g){f===a.s.r&&(l[g]=la(g)),i=l[g]+o;var m=c?(t[f]||[])[g]:t[i];if(!m){h=!1;continue}h=swe(e,m,f,g,s,t,h)}}Tt(e,146)}function iwe(e,t){!t||!t["!merges"]||(Tt(e,177,W2e(t["!merges"].length)),t["!merges"].forEach(function(n){Tt(e,176,U2e(n))}),Tt(e,178))}function owe(e,t){!t||!t["!cols"]||(Tt(e,390),t["!cols"].forEach(function(n,s){n&&Tt(e,60,J2e(s,n))}),Tt(e,391))}function lwe(e,t){!t||!t["!ref"]||(Tt(e,648),Tt(e,649,ewe(pn(t["!ref"]))),Tt(e,650))}function cwe(e,t,n){t["!links"].forEach(function(s){if(s[1].Target){var a=Jr(n,-1,s[1].Target.replace(/#.*$/,""),Ur.HLINK);Tt(e,494,V2e(s,a))}}),delete t["!links"]}function dwe(e,t,n,s){if(t["!comments"].length>0){var a=Jr(s,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Ur.VML);Tt(e,551,vL("rId"+a)),t["!legacy"]=a}}function uwe(e,t,n,s){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:qn(a.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,l=Ni(i);l.s.r==l.e.r&&(l.e.r=Ni(t["!ref"]).e.r,i=qn(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==s){u.Ref="'"+n.SheetNames[s]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+n.SheetNames[s]+"'!"+i}),Tt(e,161,Fh(pn(i))),Tt(e,162)}}function fwe(e,t,n){Tt(e,133),Tt(e,137,X2e(t,n)),Tt(e,138),Tt(e,134)}function hwe(e,t){t["!protect"]&&Tt(e,535,twe(t["!protect"]))}function gwe(e,t,n,s){var a=Ya(),i=n.SheetNames[e],o=n.Sheets[i]||{},l=i;try{n&&n.Workbook&&(l=n.Workbook.Sheets[e].CodeName||l)}catch(u){}var c=pn(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Tt(a,129),(n.vbaraw||o["!outline"])&&Tt(a,147,o2e(l,o["!outline"])),Tt(a,148,s2e(c)),fwe(a,o,n.Workbook),owe(a,o),awe(a,o,e,t),hwe(a,o),uwe(a,o,n,e),iwe(a,o),cwe(a,o,s),o["!margins"]&&Tt(a,476,Q2e(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&lwe(a,o),dwe(a,o,e,s),Tt(a,130),a.end()}function mwe(e,t){e.l+=10;var n=ca(e);return{name:n}}var pwe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function xwe(e){return!e.Workbook||!e.Workbook.WBProps?"false":Yxe(e.Workbook.WBProps.date1904)?"true":"false"}var vwe="][*?/\\".split("");function HG(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return vwe.forEach(function(s){if(e.indexOf(s)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function ywe(e,t,n){e.forEach(function(s,a){HG(s);for(var i=0;i<a;++i)if(s==e[i])throw new Error("Duplicate Sheet Name: "+s);if(n){var o=t&&t[a]&&t[a].CodeName||s;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function bwe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];ywe(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)Ube(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}function VG(e){var t=[Jn];t[t.length]=Rt("workbook",null,{xmlns:Dh[0],"xmlns:r":gs.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,s={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(pwe.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(s[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(s.codeName=e.Workbook.WBProps.CodeName,delete s.CodeName)),t[t.length]=Rt("workbookPr",null,s);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Zr(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Rt("sheet",null,o)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=Rt("definedName",Zr(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function wwe(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=s6(e),n.name=ca(e),n}function jwe(e,t){return t||(t=kt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),vL(e.strRelID,t),xs(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Nwe(e,t){var n={},s=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var a=t>8?ca(e):"";return a.length>0&&(n.CodeName=a),n.autoCompressPictures=!!(s&65536),n.backupFile=!!(s&64),n.checkCompatibility=!!(s&4096),n.date1904=!!(s&1),n.filterPrivacy=!!(s&8),n.hidePivotFieldList=!!(s&1024),n.promptedSolutions=!!(s&16),n.publishItems=!!(s&2048),n.refreshAllConnections=!!(s&262144),n.saveExternalLinkValues=!!(s&128),n.showBorderUnselectedTables=!!(s&4),n.showInkAnnotation=!!(s&32),n.showObjects=["all","placeholders","none"][s>>13&3],n.showPivotChartFilter=!!(s&32768),n.updateLinks=["userSet","never","always"][s>>8&3],n}function Swe(e,t){t||(t=kt(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),nG(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Cwe(e,t,n){var s=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=xve(e),o=Pbe(e,0,n),l=xL(e);e.l=s;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function kwe(e,t){Tt(e,143);for(var n=0;n!=t.SheetNames.length;++n){var s=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,a={Hidden:s,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]};Tt(e,156,jwe(a))}Tt(e,144)}function Ewe(e,t){t||(t=kt(127));for(var n=0;n!=4;++n)t.write_shift(4,0);return xs("SheetJS",t),xs(wb.version,t),xs(wb.version,t),xs("7262",t),t.length>t.l?t.slice(0,t.l):t}function Lwe(e,t){t||(t=kt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var n=120;return t.write_shift(1,n),t.length>t.l?t.slice(0,t.l):t}function Mwe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var n=t.Workbook.Sheets,s=0,a=-1,i=-1;s<n.length;++s)!n[s]||!n[s].Hidden&&a==-1?a=s:n[s].Hidden==1&&i==-1&&(i=s);i>a||(Tt(e,135),Tt(e,158,Lwe(a)),Tt(e,136))}}function Iwe(e,t){var n=Ya();return Tt(n,131),Tt(n,128,Ewe()),Tt(n,153,Swe(e.Workbook&&e.Workbook.WBProps||null)),Mwe(n,e),kwe(n,e),Tt(n,132),n.end()}function Twe(e,t,n){return(t.slice(-4)===".bin"?Iwe:VG)(e)}function Awe(e,t,n,s,a){return(t.slice(-4)===".bin"?gwe:UG)(e,n,s,a)}function _we(e,t,n){return(t.slice(-4)===".bin"?Q1e:EG)(e,n)}function Owe(e,t,n){return(t.slice(-4)===".bin"?S1e:NG)(e,n)}function $we(e,t,n){return(t.slice(-4)===".bin"?hye:AG)(e)}function Pwe(e){return(e.slice(-4)===".bin"?aye:IG)()}function Dwe(e,t){var n=[];return e.Props&&n.push(_ve(e.Props,t)),e.Custprops&&n.push(Ove(e.Props,e.Custprops)),n.join("")}function Rwe(){return""}function Fwe(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(s,a){var i=[];i.push(Rt("NumberFormat",null,{"ss:Format":Zr(_n[s.numFmtId])}));var o={"ss:ID":"s"+(21+a)};n.push(Rt("Style",i.join(""),o))}),Rt("Styles",n.join(""))}function GG(e){return Rt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+jL(e.Ref,{r:0,c:0})})}function Bwe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],s=0;s<t.length;++s){var a=t[s];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||n.push(GG(a)))}return Rt("Names",n.join(""))}function zwe(e,t,n,s){if(!e||!((s||{}).Workbook||{}).Names)return"";for(var a=s.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==n&&(l.Name.match(/^_xlfn\./)||i.push(GG(l)))}return i.join("")}function Uwe(e,t,n,s){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Rt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Rt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Rt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),s&&s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[n])if(s.Workbook.Sheets[n].Hidden)a.push(Rt("Visible",s.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<n&&!(s.Workbook.Sheets[i]&&!s.Workbook.Sheets[i].Hidden);++i);i==n&&a.push("<Selected/>")}return((((s||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(qs("ProtectContents","True")),e["!protect"].objects&&a.push(qs("ProtectObjects","True")),e["!protect"].scenarios&&a.push(qs("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(qs("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(qs("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":Rt("WorksheetOptions",a.join(""),{xmlns:pi.x})}function Wwe(e){return e.map(function(t){var n=qxe(t.t||""),s=Rt("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Rt("Comment",s,{"ss:Author":t.a})}).join("")}function Hwe(e,t,n,s,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Zr(jL(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=ps(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Zr(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Zr(e.l.Tooltip))),n["!merges"])for(var u=n["!merges"],f=0;f!=u.length;++f)u[f].s.c!=o.c||u[f].s.r!=o.r||(u[f].e.c>u[f].s.c&&(l["ss:MergeAcross"]=u[f].e.c-u[f].s.c),u[f].e.r>u[f].s.r&&(l["ss:MergeDown"]=u[f].e.r-u[f].s.r));var h="",g="";switch(e.t){case"z":if(!s.sheetStubs)return"";break;case"n":h="Number",g=String(e.v);break;case"b":h="Boolean",g=e.v?"1":"0";break;case"e":h="Error",g=hx[e.v];break;case"d":h="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||_n[14]);break;case"s":h="String",g=Gxe(e.v||"");break}var m=Fd(s.cellXfs,e,s);l["ss:StyleID"]="s"+(21+m),l["ss:Index"]=o.c+1;var p=e.v!=null?g:"",v=e.t=="z"?"":'<Data ss:Type="'+h+'">'+p+"</Data>";return(e.c||[]).length>0&&(v+=Wwe(e.c)),Rt("Cell",v,l)}function Vwe(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=kG(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function Gwe(e,t,n,s){if(!e["!ref"])return"";var a=pn(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(b,y){bL(b);var x=!!b.width,w=Sw(y,b),j={"ss:Index":y+1};x&&(j["ss:Width"]=Ib(w.width)),b.hidden&&(j["ss:Hidden"]="1"),l.push(Rt("Column",null,j))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var f=[Vwe(u,(e["!rows"]||[])[u])],h=a.s.c;h<=a.e.c;++h){var g=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>h)&&!(i[o].s.r>u)&&!(i[o].e.c<h)&&!(i[o].e.r<u)){(i[o].s.c!=h||i[o].s.r!=u)&&(g=!0);break}if(!g){var m={r:u,c:h},p=Kr(m),v=c?(e[u]||[])[h]:e[p];f.push(Hwe(v,p,e,t,n,s,m))}}f.push("</Row>"),f.length>2&&l.push(f.join(""))}return l.join("")}function qwe(e,t,n){var s=[],a=n.SheetNames[e],i=n.Sheets[a],o=i?zwe(i,t,e,n):"";return o.length>0&&s.push("<Names>"+o+"</Names>"),o=i?Gwe(i,t,e,n):"",o.length>0&&s.push("<Table>"+o+"</Table>"),s.push(Uwe(i,t,e,n)),s.join("")}function Ywe(e,t){t||(t={}),e.SSF||(e.SSF=Qa(_n)),e.SSF&&(yw(),vw(e.SSF),t.revssf=bw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Fd(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(Dwe(e,t)),n.push(Rwe()),n.push(""),n.push("");for(var s=0;s<e.SheetNames.length;++s)n.push(Rt("Worksheet",qwe(s,t,e),{"ss:Name":Zr(e.SheetNames[s])}));return n[2]=Fwe(e,t),n[3]=Bwe(e),Jn+Rt("Workbook",n.join(""),{xmlns:pi.ss,"xmlns:o":pi.o,"xmlns:x":pi.x,"xmlns:ss":pi.ss,"xmlns:dt":pi.dt,"xmlns:html":pi.html})}var tN={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Jwe(e,t){var n=[],s=[],a=[],i=0,o,l=qO(i$,"n"),c=qO(o$,"n");if(e.Props)for(o=Xs(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?n:Object.prototype.hasOwnProperty.call(c,o[i])?s:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Xs(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?n:Object.prototype.hasOwnProperty.call(c,o[i])?s:a).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<a.length;++i)pG.indexOf(a[i][0])>-1||hG.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);s.length&&en.utils.cfb_add(t,"/SummaryInformation",f$(s,tN.SI,c,o$)),(n.length||u.length)&&en.utils.cfb_add(t,"/DocumentSummaryInformation",f$(n,tN.DSI,l,i$,u.length?u:null,tN.UDI))}function Zwe(e,t){var n=t||{},s=en.utils.cfb_new({root:"R"}),a="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":a="/Workbook",n.biff=8;break;case"biff5":a="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return en.utils.cfb_add(s,a,qG(e,n)),n.biff==8&&(e.Props||e.Custprops)&&Jwe(e,s),n.biff==8&&e.vbaraw&&gye(s,en.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),s}var Qwe={0:{f:e2e},1:{f:l2e},2:{f:L2e},3:{f:p2e},4:{f:f2e},5:{f:S2e},6:{f:_2e},7:{f:b2e},8:{f:B2e},9:{f:F2e},10:{f:D2e},11:{f:R2e},12:{f:d2e},13:{f:I2e},14:{f:v2e},15:{f:g2e},16:{f:k2e},17:{f:$2e},18:{f:j2e},19:{f:pL},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Cwe},40:{},42:{},43:{f:_1e},44:{f:T1e},45:{f:P1e},46:{f:R1e},47:{f:D1e},48:{},49:{f:dve},50:{},51:{f:eye},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:u1e},62:{f:A2e},63:{f:iye},64:{f:rwe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:dl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:K2e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:i2e},148:{f:n2e,p:16},151:{f:G2e},152:{},153:{f:Nwe},154:{},155:{},156:{f:wwe},157:{},158:{},159:{T:1,f:w1e},160:{T:-1},161:{T:1,f:uf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:z2e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:K1e},336:{T:-1},337:{f:nye,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:s6},357:{},358:{},359:{},360:{T:1},361:{},362:{f:a1e},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:q2e},427:{f:Y2e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Z2e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:a2e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:H2e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:s6},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:uye},633:{T:1},634:{T:-1},635:{T:1,f:cye},636:{T:-1},637:{f:gve},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:mwe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:nwe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Bt(e,t,n,s){var a=t;if(!isNaN(a)){var i=s||(n||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&hL(n)&&e.push(n)}}function Kwe(e,t,n,s){var a=(n||[]).length||0;if(a<=8224)return Bt(e,t,n,a);var i=t;if(!isNaN(i)){for(var o=n.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var f=e.next(4);for(f.write_shift(2,i),f.write_shift(2,u),e.push(n.slice(c,c+u)),c+=u;c<a;){for(f=e.next(4),f.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;f.write_shift(2,u),e.push(n.slice(c,c+u)),c+=u}}}function mx(e,t,n){return e||(e=kt(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function Xwe(e,t,n,s){var a=kt(9);return mx(a,e,t),vG(n,s||"b",a),a}function eje(e,t,n){var s=kt(8+2*n.length);return mx(s,e,t),s.write_shift(1,n.length),s.write_shift(n.length,n,"sbcs"),s.l<s.length?s.slice(0,s.l):s}function tje(e,t,n,s){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Za(Ma(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Bt(e,2,m1e(n,s,a)):Bt(e,3,g1e(n,s,a));return;case"b":case"e":Bt(e,5,Xwe(n,s,t.v,t.t));return;case"s":case"str":Bt(e,4,eje(n,s,(t.v||"").slice(0,255)));return}Bt(e,1,mx(null,n,s))}function rje(e,t,n,s){var a=Array.isArray(t),i=pn(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(s.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=qn(i)}for(var u=i.s.r;u<=i.e.r;++u){l=Zs(u);for(var f=i.s.c;f<=i.e.c;++f){u===i.s.r&&(c[f]=la(f)),o=c[f]+l;var h=a?(t[u]||[])[f]:t[o];h&&tje(e,h,u,f)}}}function nje(e,t){for(var n=t||{},s=Ya(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==n.sheet&&(a=i);if(a==0&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Bt(s,n.biff==4?1033:n.biff==3?521:9,yL(e,16,n)),rje(s,e.Sheets[e.SheetNames[a]],a,n),Bt(s,10),s.end()}function sje(e,t,n){Bt(e,49,Qve({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}function aje(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&Bt(e,1054,e1e(a,t[a],n))})}function ije(e,t){var n=kt(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Bt(e,2151,n),n=kt(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),wG(pn(t["!ref"]||"A1"),n),n.write_shift(4,4),Bt(e,2152,n)}function oje(e,t){for(var n=0;n<16;++n)Bt(e,224,g$({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(s){Bt(e,224,g$(s,0,t))})}function lje(e,t){for(var n=0;n<t["!links"].length;++n){var s=t["!links"][n];Bt(e,440,l1e(s)),s[1].Tooltip&&Bt(e,2048,c1e(s))}delete t["!links"]}function cje(e,t){if(t){var n=0;t.forEach(function(s,a){++n<=256&&s&&Bt(e,125,f1e(Sw(a,s),a))})}}function dje(e,t,n,s,a){var i=16+Fd(a.cellXfs,t,a);if(t.v==null&&!t.bf){Bt(e,513,Vu(n,s,i));return}if(t.bf)Bt(e,6,Obe(t,n,s,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Za(Ma(t.v)):t.v;Bt(e,515,s1e(n,s,o,i));break;case"b":case"e":Bt(e,517,n1e(n,s,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=SL(a.Strings,t.v,a.revStrings);Bt(e,253,Kve(n,s,l,i))}else Bt(e,516,Xve(n,s,(t.v||"").slice(0,255),i,a));break;default:Bt(e,513,Vu(n,s,i))}}function uje(e,t,n){var s=Ya(),a=n.SheetNames[e],i=n.Sheets[a]||{},o=(n||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,f,h="",g=[],m=pn(i["!ref"]||"A1"),p=u?65536:16384;if(m.e.c>255||m.e.r>=p){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,p-1)}Bt(s,2057,yL(n,16,t)),Bt(s,13,Ui(1)),Bt(s,12,Ui(100)),Bt(s,15,Ca(!0)),Bt(s,17,Ca(!1)),Bt(s,16,Hu(.001)),Bt(s,95,Ca(!0)),Bt(s,42,Ca(!1)),Bt(s,43,Ca(!1)),Bt(s,130,Ui(1)),Bt(s,128,r1e()),Bt(s,131,Ca(!1)),Bt(s,132,Ca(!1)),u&&cje(s,i["!cols"]),Bt(s,512,t1e(m,t)),u&&(i["!links"]=[]);for(var v=m.s.r;v<=m.e.r;++v){h=Zs(v);for(var b=m.s.c;b<=m.e.c;++b){v===m.s.r&&(g[b]=la(b)),f=g[b]+h;var y=c?(i[v]||[])[b]:i[f];y&&(dje(s,y,v,b,t),u&&y.l&&i["!links"].push([f,y.l]))}}var x=l.CodeName||l.name||a;return u&&Bt(s,574,Zve((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&Bt(s,229,o1e(i["!merges"])),u&&lje(s,i),Bt(s,442,bG(x)),u&&ije(s,i),Bt(s,10),s.end()}function fje(e,t,n){var s=Ya(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=n.biff==8,c=n.biff==5;if(Bt(s,2057,yL(e,5,n)),n.bookType=="xla"&&Bt(s,135),Bt(s,225,l?Ui(1200):null),Bt(s,193,Dve(2)),c&&Bt(s,191),c&&Bt(s,192),Bt(s,226),Bt(s,92,Gve("SheetJS",n)),Bt(s,66,Ui(l?1200:1252)),l&&Bt(s,353,Ui(0)),l&&Bt(s,448),Bt(s,317,h1e(e.SheetNames.length)),l&&e.vbaraw&&Bt(s,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Bt(s,442,bG(u))}Bt(s,156,Ui(17)),Bt(s,25,Ca(!1)),Bt(s,18,Ca(!1)),Bt(s,19,Ui(0)),l&&Bt(s,431,Ca(!1)),l&&Bt(s,444,Ui(0)),Bt(s,61,Jve()),Bt(s,64,Ca(!1)),Bt(s,141,Ui(0)),Bt(s,34,Ca(xwe(e)=="true")),Bt(s,14,Ca(!0)),l&&Bt(s,439,Ca(!1)),Bt(s,218,Ui(0)),sje(s,e,n),aje(s,e.SSF,n),oje(s,n),l&&Bt(s,352,Ca(!1));var f=s.end(),h=Ya();l&&Bt(h,140,d1e()),l&&n.Strings&&Kwe(h,252,Yve(n.Strings)),Bt(h,10);var g=h.end(),m=Ya(),p=0,v=0;for(v=0;v<e.SheetNames.length;++v)p+=(l?12:11)+(l?2:1)*e.SheetNames[v].length;var b=f.length+p+g.length;for(v=0;v<e.SheetNames.length;++v){var y=i[v]||{};Bt(m,133,qve({pos:b,hs:y.Hidden||0,dt:0,name:e.SheetNames[v]},n)),b+=t[v].length}var x=m.end();if(p!=x.length)throw new Error("BS8 "+p+" != "+x.length);var w=[];return f.length&&w.push(f),x.length&&w.push(x),g.length&&w.push(g),Gs(w)}function hje(e,t){var n=t||{},s=[];e&&!e.SSF&&(e.SSF=Qa(_n)),e&&e.SSF&&(yw(),vw(e.SSF),n.revssf=bw(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,CL(n),n.cellXfs=[],Fd(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)s[s.length]=uje(a,n,e);return s.unshift(fje(e,s,n)),Gs(s)}function qG(e,t){for(var n=0;n<=e.SheetNames.length;++n){var s=e.Sheets[e.SheetNames[n]];if(!(!s||!s["!ref"])){var a=Ni(s["!ref"]);a.e.c>255&&typeof console!="undefined"&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return hje(e,t);case 4:case 3:case 2:return nje(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function gje(e,t,n,s){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>n||a[u].s.c>o)&&!(a[u].e.r<n||a[u].e.c<o)){if(a[u].s.r<n||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var f=Kr({r:n,c:o}),h=s.dense?(e[n]||[])[o]:e[f],g=h&&h.v!=null&&(h.h||Vxe(h.w||(Wl(h),h.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),s.editable?g='<span contenteditable="true">'+g+"</span>":h&&(m["data-t"]=h&&h.t||"z",h.v!=null&&(m["data-v"]=h.v),h.z!=null&&(m["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+h.l.Target+'">'+g+"</a>")),m.id=(s.id||"sjs")+"-"+f,i.push(Rt("td",g,m))}}var p="<tr>";return p+i.join("")+"</tr>"}var mje='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',pje="</body></html>";function xje(e,t,n){var s=[];return s.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function YG(e,t){var n=t||{},s=n.header!=null?n.header:mje,a=n.footer!=null?n.footer:pje,i=[s],o=Ni(e["!ref"]);n.dense=Array.isArray(e),i.push(xje(e,o,n));for(var l=o.s.r;l<=o.e.r;++l)i.push(gje(e,o,l,n));return i.push("</table>"+a),i.join("")}function JG(e,t,n){var s=n||{},a=0,i=0;if(s.origin!=null)if(typeof s.origin=="number")a=s.origin;else{var o=typeof s.origin=="string"?ps(s.origin):s.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(s.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var f=Ni(e["!ref"]);u.s.r=Math.min(u.s.r,f.s.r),u.s.c=Math.min(u.s.c,f.s.c),u.e.r=Math.max(u.e.r,f.e.r),u.e.c=Math.max(u.e.c,f.e.c),a==-1&&(u.e.r=a=f.e.r+1)}var h=[],g=0,m=e["!rows"]||(e["!rows"]=[]),p=0,v=0,b=0,y=0,x=0,w=0;for(e["!cols"]||(e["!cols"]=[]);p<l.length&&v<c;++p){var j=l[p];if(w$(j)){if(s.display)continue;m[v]={hidden:!0}}var N=j.children;for(b=y=0;b<N.length;++b){var L=N[b];if(!(s.display&&w$(L))){var k=L.hasAttribute("data-v")?L.getAttribute("data-v"):L.hasAttribute("v")?L.getAttribute("v"):Jxe(L.innerHTML),E=L.getAttribute("data-z")||L.getAttribute("z");for(g=0;g<h.length;++g){var S=h[g];S.s.c==y+i&&S.s.r<v+a&&v+a<=S.e.r&&(y=S.e.c+1-i,g=-1)}w=+L.getAttribute("colspan")||1,((x=+L.getAttribute("rowspan")||1)>1||w>1)&&h.push({s:{r:v+a,c:y+i},e:{r:v+a+(x||1)-1,c:y+i+(w||1)-1}});var I={t:"s",v:k},C=L.getAttribute("data-t")||L.getAttribute("t")||"";k!=null&&(k.length==0?I.t=C||"z":s.raw||k.trim().length==0||C=="s"||(k==="TRUE"?I={t:"b",v:!0}:k==="FALSE"?I={t:"b",v:!1}:isNaN($l(k))?isNaN(Mp(k).getDate())||(I={t:"d",v:Ma(k)},s.cellDates||(I={t:"n",v:Za(I.v)}),I.z=s.dateNF||_n[14]):I={t:"n",v:$l(k)})),I.z===void 0&&E!=null&&(I.z=E);var M="",A=L.getElementsByTagName("A");if(A&&A.length)for(var H=0;H<A.length&&!(A[H].hasAttribute("href")&&(M=A[H].getAttribute("href"),M.charAt(0)!="#"));++H);M&&M.charAt(0)!="#"&&(I.l={Target:M}),s.dense?(e[v+a]||(e[v+a]=[]),e[v+a][y+i]=I):e[Kr({c:y+i,r:v+a})]=I,u.e.c<y+i&&(u.e.c=y+i),y+=w}}++v}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,v-1+a),e["!ref"]=qn(u),v>=c&&(e["!fullref"]=qn((u.e.r=l.length-p+v-1+a,u))),e}function ZG(e,t){var n=t||{},s=n.dense?[]:{};return JG(s,e,t)}function vje(e,t){return of(ZG(e,t),t)}function w$(e){var t="",n=yje(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function yje(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var bje=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Tp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Jn+t}}(),j$=function(){var e=function(i){return Zr(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,s=function(i,o,l){var c=[];c.push('      <table:table table:name="'+Zr(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,f=0,h=Ni(i["!ref"]||"A1"),g=i["!merges"]||[],m=0,p=Array.isArray(i);if(i["!cols"])for(f=0;f<=h.e.c;++f)c.push("        <table:table-column"+(i["!cols"][f]?' table:style-name="co'+i["!cols"][f].ods+'"':"")+`></table:table-column>
`);var v="",b=i["!rows"]||[];for(u=0;u<h.s.r;++u)v=b[u]?' table:style-name="ro'+b[u].ods+'"':"",c.push("        <table:table-row"+v+`></table:table-row>
`);for(;u<=h.e.r;++u){for(v=b[u]?' table:style-name="ro'+b[u].ods+'"':"",c.push("        <table:table-row"+v+`>
`),f=0;f<h.s.c;++f)c.push(t);for(;f<=h.e.c;++f){var y=!1,x={},w="";for(m=0;m!=g.length;++m)if(!(g[m].s.c>f)&&!(g[m].s.r>u)&&!(g[m].e.c<f)&&!(g[m].e.r<u)){(g[m].s.c!=f||g[m].s.r!=u)&&(y=!0),x["table:number-columns-spanned"]=g[m].e.c-g[m].s.c+1,x["table:number-rows-spanned"]=g[m].e.r-g[m].s.r+1;break}if(y){c.push(n);continue}var j=Kr({r:u,c:f}),N=p?(i[u]||[])[f]:i[j];if(N&&N.f&&(x["table:formula"]=Zr(Bbe(N.f)),N.F&&N.F.slice(0,j.length)==j)){var L=Ni(N.F);x["table:number-matrix-columns-spanned"]=L.e.c-L.s.c+1,x["table:number-matrix-rows-spanned"]=L.e.r-L.s.r+1}if(!N){c.push(t);continue}switch(N.t){case"b":w=N.v?"TRUE":"FALSE",x["office:value-type"]="boolean",x["office:boolean-value"]=N.v?"true":"false";break;case"n":w=N.w||String(N.v||0),x["office:value-type"]="float",x["office:value"]=N.v||0;break;case"s":case"str":w=N.v==null?"":N.v,x["office:value-type"]="string";break;case"d":w=N.w||Ma(N.v).toISOString(),x["office:value-type"]="date",x["office:date-value"]=Ma(N.v).toISOString(),x["table:style-name"]="ce1";break;default:c.push(t);continue}var k=e(w);if(N.l&&N.l.Target){var E=N.l.Target;E=E.charAt(0)=="#"?"#"+zbe(E.slice(1)):E,E.charAt(0)!="#"&&!E.match(/^\w+:/)&&(E="../"+E),k=Rt("text:a",k,{"xlink:href":E.replace(/&/g,"&amp;")})}c.push("          "+Rt("table:table-cell",Rt("text:p",k,{}),x)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var f=0;f<u["!cols"].length;++f)if(u["!cols"][f]){var h=u["!cols"][f];if(h.width==null&&h.wpx==null&&h.wch==null)continue;bL(h),h.ods=l;var g=u["!cols"][f].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var f=0;f<u["!rows"].length;++f)if(u["!rows"][f]){u["!rows"][f].ods=c;var h=u["!rows"][f].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[Jn],u=Tp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=Tp({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+f+`>
`),c.push(uG().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=o.SheetNames.length;++h)c.push(s(o.Sheets[o.SheetNames[h]],o,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function QG(e,t){if(t.bookType=="fods")return j$(e,t);var n=cL(),s="",a=[],i=[];return s="mimetype",xr(n,s,"application/vnd.oasis.opendocument.spreadsheet"),s="content.xml",xr(n,s,j$(e,t)),a.push([s,"text/xml"]),i.push([s,"ContentFile"]),s="styles.xml",xr(n,s,bje(e,t)),a.push([s,"text/xml"]),i.push([s,"StylesFile"]),s="meta.xml",xr(n,s,Jn+uG()),a.push([s,"text/xml"]),i.push([s,"MetadataFile"]),s="manifest.rdf",xr(n,s,Ave(i)),a.push([s,"application/rdf+xml"]),s="META-INF/manifest.xml",xr(n,s,Ive(a)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function _b(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function wje(e){return typeof TextEncoder!="undefined"?new TextEncoder().encode(e):Mo(Ip(e))}function jje(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var s=0;s<t.length;++s)if(e[n+s]!=t[s])continue e;return!0}return!1}function pd(e){var t=e.reduce(function(a,i){return a+i.length},0),n=new Uint8Array(t),s=0;return e.forEach(function(a){n.set(a,s),s+=a.length}),n}function Nje(e,t,n){var s=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,a=n/Math.pow(10,s-6176);e[t+15]|=s>>7,e[t+14]|=(s&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=n>=0?0:128}function Ap(e,t){var n=t?t[0]:0,s=e[n]&127;e:if(e[n++]>=128&&(s|=(e[n]&127)<<7,e[n++]<128||(s|=(e[n]&127)<<14,e[n++]<128)||(s|=(e[n]&127)<<21,e[n++]<128)||(s+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(s+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(s+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),s}function Yr(e){var t=new Uint8Array(7);t[0]=e&127;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383||(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)||(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)||(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)||(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103))break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function H0(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function rs(e){for(var t=[],n=[0];n[0]<e.length;){var s=n[0],a=Ap(e,n),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=n[0];e[n[0]++]>=128;);l=e.slice(c,n[0])}break;case 5:o=4,l=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,l=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=Ap(e,n),l=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(s))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Us(e){var t=[];return e.forEach(function(n,s){n.forEach(function(a){a.data&&(t.push(Yr(s*8+a.type)),a.type==2&&t.push(Yr(a.data.length)),t.push(a.data))})}),pd(t)}function mo(e){for(var t,n=[],s=[0];s[0]<e.length;){var a=Ap(e,s),i=rs(e.slice(s[0],s[0]+a));s[0]+=a;var o={id:H0(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=rs(l.data),u=H0(c[3][0].data);o.messages.push({meta:c,data:e.slice(s[0],s[0]+u)}),s[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=H0(i[3][0].data)>>>0>0),n.push(o)}return n}function Bf(e){var t=[];return e.forEach(function(n){var s=[];s[1]=[{data:Yr(n.id),type:0}],s[2]=[],n.merge!=null&&(s[3]=[{data:Yr(+!!n.merge),type:0}]);var a=[];n.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:Yr(o.data.length)}],s[2].push({data:Us(o.meta),type:2})});var i=Us(s);t.push(Yr(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),pd(t)}function Sje(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],s=Ap(t,n),a=[];n[0]<t.length;){var i=t[n[0]]&3;if(i==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[n[0]],l>1&&(o|=t[n[0]+1]<<8),l>2&&(o|=t[n[0]+2]<<16),l>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=l}a.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[n[0]]>>2&7)+4,c=(t[n[0]++]&224)<<3,c|=t[n[0]++]):(u=(t[n[0]++]>>2)+1,i==2?(c=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(c=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),a=[pd(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var f=pd(a);if(f.length!=s)throw new Error("Unexpected length: ".concat(f.length," != ").concat(s));return f}function po(e){for(var t=[],n=0;n<e.length;){var s=e[n++],a=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(Sje(s,e.slice(n,n+a))),n+=a}if(n!==e.length)throw new Error("data is not a valid framed stream!");return pd(t)}function zf(e){for(var t=[],n=0;n<e.length;){var s=Math.min(e.length-n,268435455),a=new Uint8Array(4);t.push(a);var i=Yr(s),o=i.length;t.push(i),s<=60?(o++,t.push(new Uint8Array([s-1<<2]))):s<=256?(o+=2,t.push(new Uint8Array([240,s-1&255]))):s<=65536?(o+=3,t.push(new Uint8Array([244,s-1&255,s-1>>8&255]))):s<=16777216?(o+=4,t.push(new Uint8Array([248,s-1&255,s-1>>8&255,s-1>>16&255]))):s<=4294967296&&(o+=5,t.push(new Uint8Array([252,s-1&255,s-1>>8&255,s-1>>16&255,s-1>>>24&255]))),t.push(e.slice(n,n+s)),o+=s,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,n+=s}return pd(t)}function rN(e,t){var n=new Uint8Array(32),s=_b(n),a=12,i=0;switch(n[0]=5,e.t){case"n":n[1]=2,Nje(n,a,e.v),i|=1,a+=16;break;case"b":n[1]=6,s.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,s.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(8,i,!0),n.slice(0,a)}function nN(e,t){var n=new Uint8Array(32),s=_b(n),a=12,i=0;switch(n[0]=3,e.t){case"n":n[2]=2,s.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":n[2]=6,s.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,s.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(4,i,!0),n.slice(0,a)}function Nc(e){var t=rs(e);return Ap(t[1][0].data)}function Cje(e,t,n){var s,a,i,o;if(!((s=e[6])!=null&&s[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&H0(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=_b(e[7][0].data),f=0,h=[],g=_b(e[4][0].data),m=0,p=[],v=0;v<t.length;++v){if(t[v]==null){u.setUint16(v*2,65535,!0),g.setUint16(v*2,65535);continue}u.setUint16(v*2,f,!0),g.setUint16(v*2,m,!0);var b,y;switch(typeof t[v]){case"string":b=rN({t:"s",v:t[v]},n),y=nN({t:"s",v:t[v]},n);break;case"number":b=rN({t:"n",v:t[v]},n),y=nN({t:"n",v:t[v]},n);break;case"boolean":b=rN({t:"b",v:t[v]},n),y=nN({t:"b",v:t[v]},n);break;default:throw new Error("Unsupported value "+t[v])}h.push(b),f+=b.length,p.push(y),m+=y.length,++c}for(e[2][0].data=Yr(c);v<e[7][0].data.length/2;++v)u.setUint16(v*2,65535,!0),g.setUint16(v*2,65535,!0);return e[6][0].data=pd(h),e[3][0].data=pd(p),c}function kje(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var s=Ni(n["!ref"]);s.s.r=s.s.c=0;var a=!1;s.e.c>9&&(a=!0,s.e.c=9),s.e.r>49&&(a=!0,s.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(qn(s)));var i=Ob(n,{range:s,header:1}),o=["~Sh33tJ5~"];i.forEach(function(R){return R.forEach(function(z){typeof z=="string"&&o.push(z)})});var l={},c=[],u=en.read(t.numbers,{type:"base64"});u.FileIndex.map(function(R,z){return[R,u.FullPaths[z]]}).forEach(function(R){var z=R[0],_=R[1];if(z.type==2&&z.name.match(/\.iwa/)){var U=z.content,Q=po(U),re=mo(Q);re.forEach(function(le){c.push(le.id),l[le.id]={deps:[],location:_,type:H0(le.messages[0].meta[1][0].data)}})}}),c.sort(function(R,z){return R-z});var f=c.filter(function(R){return R>1}).map(function(R){return[R,Yr(R)]});u.FileIndex.map(function(R,z){return[R,u.FullPaths[z]]}).forEach(function(R){var z=R[0];if(R[1],!!z.name.match(/\.iwa/)){var _=mo(po(z.content));_.forEach(function(U){U.messages.forEach(function(Q){f.forEach(function(re){U.messages.some(function(le){return H0(le.meta[1][0].data)!=11006&&jje(le.data,re[1])})&&l[re[0]].deps.push(U.id)})})})}});for(var h=en.find(u,l[1].location),g=mo(po(h.content)),m,p=0;p<g.length;++p){var v=g[p];v.id==1&&(m=v)}var b=Nc(rs(m.messages[0].data)[1][0].data);for(h=en.find(u,l[b].location),g=mo(po(h.content)),p=0;p<g.length;++p)v=g[p],v.id==b&&(m=v);for(b=Nc(rs(m.messages[0].data)[2][0].data),h=en.find(u,l[b].location),g=mo(po(h.content)),p=0;p<g.length;++p)v=g[p],v.id==b&&(m=v);for(b=Nc(rs(m.messages[0].data)[2][0].data),h=en.find(u,l[b].location),g=mo(po(h.content)),p=0;p<g.length;++p)v=g[p],v.id==b&&(m=v);var y=rs(m.messages[0].data);{y[6][0].data=Yr(s.e.r+1),y[7][0].data=Yr(s.e.c+1);var x=Nc(y[46][0].data),w=en.find(u,l[x].location),j=mo(po(w.content));{for(var N=0;N<j.length&&j[N].id!=x;++N);if(j[N].id!=x)throw"Bad ColumnRowUIDMapArchive";var L=rs(j[N].messages[0].data);L[1]=[],L[2]=[],L[3]=[];for(var k=0;k<=s.e.c;++k){var E=[];E[1]=E[2]=[{type:0,data:Yr(k+420690)}],L[1].push({type:2,data:Us(E)}),L[2].push({type:0,data:Yr(k)}),L[3].push({type:0,data:Yr(k)})}L[4]=[],L[5]=[],L[6]=[];for(var S=0;S<=s.e.r;++S)E=[],E[1]=E[2]=[{type:0,data:Yr(S+726270)}],L[4].push({type:2,data:Us(E)}),L[5].push({type:0,data:Yr(S)}),L[6].push({type:0,data:Yr(S)});j[N].messages[0].data=Us(L)}w.content=zf(Bf(j)),w.size=w.content.length,delete y[46];var I=rs(y[4][0].data);{I[7][0].data=Yr(s.e.r+1);var C=rs(I[1][0].data),M=Nc(C[2][0].data);w=en.find(u,l[M].location),j=mo(po(w.content));{if(j[0].id!=M)throw"Bad HeaderStorageBucket";var A=rs(j[0].messages[0].data);for(S=0;S<i.length;++S){var H=rs(A[2][0].data);H[1][0].data=Yr(S),H[4][0].data=Yr(i[S].length),A[2][S]={type:A[2][0].type,data:Us(H)}}j[0].messages[0].data=Us(A)}w.content=zf(Bf(j)),w.size=w.content.length;var W=Nc(I[2][0].data);w=en.find(u,l[W].location),j=mo(po(w.content));{if(j[0].id!=W)throw"Bad HeaderStorageBucket";for(A=rs(j[0].messages[0].data),k=0;k<=s.e.c;++k)H=rs(A[2][0].data),H[1][0].data=Yr(k),H[4][0].data=Yr(s.e.r+1),A[2][k]={type:A[2][0].type,data:Us(H)};j[0].messages[0].data=Us(A)}w.content=zf(Bf(j)),w.size=w.content.length;var X=Nc(I[4][0].data);(function(){for(var R=en.find(u,l[X].location),z=mo(po(R.content)),_,U=0;U<z.length;++U){var Q=z[U];Q.id==X&&(_=Q)}var re=rs(_.messages[0].data);{re[3]=[];var le=[];o.forEach(function(ke,tt){le[1]=[{type:0,data:Yr(tt)}],le[2]=[{type:0,data:Yr(1)}],le[3]=[{type:2,data:wje(ke)}],re[3].push({type:2,data:Us(le)})})}_.messages[0].data=Us(re);var ue=Bf(z),ge=zf(ue);R.content=ge,R.size=R.content.length})();var J=rs(I[3][0].data);{var Z=J[1][0];delete J[2];var F=rs(Z.data);{var D=Nc(F[2][0].data);(function(){for(var R=en.find(u,l[D].location),z=mo(po(R.content)),_,U=0;U<z.length;++U){var Q=z[U];Q.id==D&&(_=Q)}var re=rs(_.messages[0].data);{delete re[6],delete J[7];var le=new Uint8Array(re[5][0].data);re[5]=[];for(var ue=0,ge=0;ge<=s.e.r;++ge){var ke=rs(le);ue+=Cje(ke,i[ge],o),ke[1][0].data=Yr(ge),re[5].push({data:Us(ke),type:2})}re[1]=[{type:0,data:Yr(s.e.c+1)}],re[2]=[{type:0,data:Yr(s.e.r+1)}],re[3]=[{type:0,data:Yr(ue)}],re[4]=[{type:0,data:Yr(s.e.r+1)}]}_.messages[0].data=Us(re);var tt=Bf(z),He=zf(tt);R.content=He,R.size=R.content.length})()}Z.data=Us(F)}I[3][0].data=Us(J)}y[4][0].data=Us(I)}m.messages[0].data=Us(y);var O=Bf(g),T=zf(O);return h.content=T,h.size=h.content.length,u}function Eje(e){return function(n){for(var s=0;s!=e.length;++s){var a=e[s];n[a[0]]===void 0&&(n[a[0]]=a[1]),a[2]==="n"&&(n[a[0]]=Number(n[a[0]]))}}}function CL(e){Eje([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Lje(e,t){return t.bookType=="ods"?QG(e,t):t.bookType=="numbers"?kje(e,t):t.bookType=="xlsb"?Mje(e,t):Ije(e,t)}function Mje(e,t){k0=1024,e&&!e.SSF&&(e.SSF=Qa(_n)),e&&e.SSF&&(yw(),vw(e.SSF),t.revssf=bw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Bm?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n=t.bookType=="xlsb"?"bin":"xml",s=_G.indexOf(t.bookType)>-1,a=lG();CL(t=t||{});var i=cL(),o="",l=0;if(t.cellXfs=[],Fd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",xr(i,o,fG(e.Props,t)),a.coreprops.push(o),Jr(t.rels,2,o,Ur.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,xr(i,o,gG(e.Props)),a.extprops.push(o),Jr(t.rels,3,o,Ur.EXT_PROPS),e.Custprops!==e.Props&&Xs(e.Custprops||{}).length>0&&(o="docProps/custom.xml",xr(i,o,mG(e.Custprops)),a.custprops.push(o),Jr(t.rels,4,o,Ur.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],g=(h||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+l+"."+n,xr(i,o,Awe(l-1,o,t,e,f)),a.sheets.push(o),Jr(t.wbrels,-1,"worksheets/sheet"+l+"."+n,Ur.WS[0])}if(h){var m=h["!comments"],p=!1,v="";m&&m.length>0&&(v="xl/comments"+l+"."+n,xr(i,v,$we(m,v)),a.comments.push(v),Jr(f,-1,"../comments"+l+"."+n,Ur.CMNT),p=!0),h["!legacy"]&&p&&xr(i,"xl/drawings/vmlDrawing"+l+".vml",TG(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&xr(i,dG(o),U0(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,xr(i,o,Owe(t.Strings,o,t)),a.strs.push(o),Jr(t.wbrels,-1,"sharedStrings."+n,Ur.SST)),o="xl/workbook."+n,xr(i,o,Twe(e,o)),a.workbooks.push(o),Jr(t.rels,1,o,Ur.WB),o="xl/theme/theme1.xml",xr(i,o,MG(e.Themes,t)),a.themes.push(o),Jr(t.wbrels,-1,"theme/theme1.xml",Ur.THEME),o="xl/styles."+n,xr(i,o,_we(e,o,t)),a.styles.push(o),Jr(t.wbrels,-1,"styles."+n,Ur.STY),e.vbaraw&&s&&(o="xl/vbaProject.bin",xr(i,o,e.vbaraw),a.vba.push(o),Jr(t.wbrels,-1,"vbaProject.bin",Ur.VBA)),o="xl/metadata."+n,xr(i,o,Pwe(o)),a.metadata.push(o),Jr(t.wbrels,-1,"metadata."+n,Ur.XLMETA),xr(i,"[Content_Types].xml",cG(a,t)),xr(i,"_rels/.rels",U0(t.rels)),xr(i,"xl/_rels/workbook."+n+".rels",U0(t.wbrels)),delete t.revssf,delete t.ssf,i}function Ije(e,t){k0=1024,e&&!e.SSF&&(e.SSF=Qa(_n)),e&&e.SSF&&(yw(),vw(e.SSF),t.revssf=bw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Bm?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",s=_G.indexOf(t.bookType)>-1,a=lG();CL(t=t||{});var i=cL(),o="",l=0;if(t.cellXfs=[],Fd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",xr(i,o,fG(e.Props,t)),a.coreprops.push(o),Jr(t.rels,2,o,Ur.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,xr(i,o,gG(e.Props)),a.extprops.push(o),Jr(t.rels,3,o,Ur.EXT_PROPS),e.Custprops!==e.Props&&Xs(e.Custprops||{}).length>0&&(o="docProps/custom.xml",xr(i,o,mG(e.Custprops)),a.custprops.push(o),Jr(t.rels,4,o,Ur.CUST_PROPS));var f=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var h={"!id":{}},g=e.Sheets[e.SheetNames[l-1]],m=(g||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+n,xr(i,o,UG(l-1,t,e,h)),a.sheets.push(o),Jr(t.wbrels,-1,"worksheets/sheet"+l+"."+n,Ur.WS[0])}if(g){var p=g["!comments"],v=!1,b="";if(p&&p.length>0){var y=!1;p.forEach(function(x){x[1].forEach(function(w){w.T==!0&&(y=!0)})}),y&&(b="xl/threadedComments/threadedComment"+l+"."+n,xr(i,b,oye(p,f,t)),a.threadedcomments.push(b),Jr(h,-1,"../threadedComments/threadedComment"+l+"."+n,Ur.TCMNT)),b="xl/comments"+l+"."+n,xr(i,b,AG(p)),a.comments.push(b),Jr(h,-1,"../comments"+l+"."+n,Ur.CMNT),v=!0}g["!legacy"]&&v&&xr(i,"xl/drawings/vmlDrawing"+l+".vml",TG(l,g["!comments"])),delete g["!comments"],delete g["!legacy"]}h["!id"].rId1&&xr(i,dG(o),U0(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,xr(i,o,NG(t.Strings,t)),a.strs.push(o),Jr(t.wbrels,-1,"sharedStrings."+n,Ur.SST)),o="xl/workbook."+n,xr(i,o,VG(e)),a.workbooks.push(o),Jr(t.rels,1,o,Ur.WB),o="xl/theme/theme1.xml",xr(i,o,MG(e.Themes,t)),a.themes.push(o),Jr(t.wbrels,-1,"theme/theme1.xml",Ur.THEME),o="xl/styles."+n,xr(i,o,EG(e,t)),a.styles.push(o),Jr(t.wbrels,-1,"styles."+n,Ur.STY),e.vbaraw&&s&&(o="xl/vbaProject.bin",xr(i,o,e.vbaraw),a.vba.push(o),Jr(t.wbrels,-1,"vbaProject.bin",Ur.VBA)),o="xl/metadata."+n,xr(i,o,IG()),a.metadata.push(o),Jr(t.wbrels,-1,"metadata."+n,Ur.XLMETA),f.length>1&&(o="xl/persons/person.xml",xr(i,o,lye(f)),a.people.push(o),Jr(t.wbrels,-1,"persons/person.xml",Ur.PEOPLE)),xr(i,"[Content_Types].xml",cG(a,t)),xr(i,"_rels/.rels",U0(t.rels)),xr(i,"xl/_rels/workbook."+n+".rels",U0(t.wbrels)),delete t.revssf,delete t.ssf,i}function Tje(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=Ul(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function KG(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return ux(t.file,en.write(e,{type:Wr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return en.write(e,t)}function Aje(e,t){var n=Qa(t||{}),s=Lje(e,n);return _je(s,n)}function _je(e,t){var n={},s=Wr?"nodebuffer":typeof Uint8Array!="undefined"?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=s;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=s;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?en.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if(typeof Deno!="undefined"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(xw(a))}return t.password&&typeof encrypt_agile!="undefined"?KG(encrypt_agile(a,t.password),t):t.type==="file"?ux(t.file,a):t.type=="string"?Pm(a):a}function Oje(e,t){var n=t||{},s=Zwe(e,n);return KG(s,n)}function Ko(e,t,n){n||(n="");var s=n+e;switch(t.type){case"base64":return Lp(Ip(s));case"binary":return Ip(s);case"string":return e;case"file":return ux(t.file,s,"utf8");case"buffer":return Wr?rc(s,"utf8"):typeof TextEncoder!="undefined"?new TextEncoder().encode(s):Ko(s,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function $je(e,t){switch(t.type){case"base64":return Lp(e);case"binary":return e;case"string":return e;case"file":return ux(t.file,e,"binary");case"buffer":return Wr?rc(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Bv(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",s=0;s<e.length;++s)n+=String.fromCharCode(e[s]);return t.type=="base64"?Lp(n):t.type=="string"?Pm(n):n;case"file":return ux(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function px(e,t){cxe(),bwe(e);var n=Qa(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var s=px(e,n);return n.type="array",xw(s)}var a=0;if(n.sheet&&(typeof n.sheet=="number"?a=n.sheet:a=e.SheetNames.indexOf(n.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Ko(Ywe(e,n),n);case"slk":case"sylk":return Ko(x1e.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"htm":case"html":return Ko(YG(e.Sheets[e.SheetNames[a]],n),n);case"txt":return $je(XG(e.Sheets[e.SheetNames[a]],n),n);case"csv":return Ko(kL(e.Sheets[e.SheetNames[a]],n),n,"\uFEFF");case"dif":return Ko(v1e.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"dbf":return Bv(p1e.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"prn":return Ko(y1e.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"rtf":return Ko(k1e.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"eth":return Ko(jG.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"fods":return Ko(QG(e,n),n);case"wk1":return Bv(m$.sheet_to_wk1(e.Sheets[e.SheetNames[a]],n),n);case"wk3":return Bv(m$.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Bv(qG(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),Oje(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Aje(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function Pje(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(e.bookType=n.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Dje(e,t,n){var s={};return s.type="file",s.file=t,Pje(s),px(e,s)}function Rje(e,t,n,s,a,i,o,l){var c=Zs(n),u=l.defval,f=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),h=!0,g=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:n,enumerable:!1})}catch(b){g.__rowNum__=n}else g.__rowNum__=n;if(!o||e[n])for(var m=t.s.c;m<=t.e.c;++m){var p=o?e[n][m]:e[s[m]+c];if(p===void 0||p.t===void 0){if(u===void 0)continue;i[m]!=null&&(g[i[m]]=u);continue}var v=p.v;switch(p.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[m]!=null){if(v==null)if(p.t=="e"&&v===null)g[i[m]]=null;else if(u!==void 0)g[i[m]]=u;else if(f&&v===null)g[i[m]]=null;else continue;else g[i[m]]=f&&(p.t!=="n"||p.t==="n"&&l.rawNumbers!==!1)?v:Wl(p,v,l);v!=null&&(h=!1)}}return{row:g,isempty:h}}function Ob(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},s=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},f=u.range!=null?u.range:e["!ref"];switch(u.header===1?s=1:u.header==="A"?s=2:Array.isArray(u.header)?s=3:u.header==null&&(s=0),typeof f){case"string":c=pn(f);break;case"number":c=pn(e["!ref"]),c.s.r=f;break;default:c=f}s>0&&(a=0);var h=Zs(c.s.r),g=[],m=[],p=0,v=0,b=Array.isArray(e),y=c.s.r,x=0,w={};b&&!e[y]&&(e[y]=[]);var j=u.skipHidden&&e["!cols"]||[],N=u.skipHidden&&e["!rows"]||[];for(x=c.s.c;x<=c.e.c;++x)if(!(j[x]||{}).hidden)switch(g[x]=la(x),n=b?e[y][x]:e[g[x]+h],s){case 1:i[x]=x-c.s.c;break;case 2:i[x]=g[x];break;case 3:i[x]=u.header[x-c.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),l=o=Wl(n,null,u),v=w[o]||0,!v)w[o]=1;else{do l=o+"_"+v++;while(w[l]);w[o]=v,w[l]=1}i[x]=l}for(y=c.s.r+a;y<=c.e.r;++y)if(!(N[y]||{}).hidden){var L=Rje(e,c,y,g,s,i,b,u);(L.isempty===!1||(s===1?u.blankrows!==!1:u.blankrows))&&(m[p++]=L.row)}return m.length=p,m}var N$=/"/g;function Fje(e,t,n,s,a,i,o,l){for(var c=!0,u=[],f="",h=Zs(n),g=t.s.c;g<=t.e.c;++g)if(s[g]){var m=l.dense?(e[n]||[])[g]:e[s[g]+h];if(m==null)f="";else if(m.v!=null){c=!1,f=""+(l.rawNumbers&&m.t=="n"?m.v:Wl(m,null,l));for(var p=0,v=0;p!==f.length;++p)if((v=f.charCodeAt(p))===a||v===i||v===34||l.forceQuotes){f='"'+f.replace(N$,'""')+'"';break}f=="ID"&&(f='"ID"')}else m.f!=null&&!m.F?(c=!1,f="="+m.f,f.indexOf(",")>=0&&(f='"'+f.replace(N$,'""')+'"')):f="";u.push(f)}return l.blankrows===!1&&c?null:u.join(o)}function kL(e,t){var n=[],s=t==null?{}:t;if(e==null||e["!ref"]==null)return"";var a=pn(e["!ref"]),i=s.FS!==void 0?s.FS:",",o=i.charCodeAt(0),l=s.RS!==void 0?s.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),f="",h=[];s.dense=Array.isArray(e);for(var g=s.skipHidden&&e["!cols"]||[],m=s.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(g[p]||{}).hidden||(h[p]=la(p));for(var v=0,b=a.s.r;b<=a.e.r;++b)(m[b]||{}).hidden||(f=Fje(e,a,b,h,o,c,i,s),f!=null&&(s.strip&&(f=f.replace(u,"")),(f||s.blankrows!==!1)&&n.push((v++?l:"")+f)));return delete s.dense,n.join("")}function XG(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=kL(e,t);return n}function Bje(e){var t="",n,s="";if(e==null||e["!ref"]==null)return[];var a=pn(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=la(l);for(var f=a.s.r;f<=a.e.r;++f)for(i=Zs(f),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,n=u?(e[f]||[])[l]:e[t],s="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;s=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)s=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)s=""+n.v;else if(n.t=="b")s=n.v?"TRUE":"FALSE";else if(n.w!==void 0)s="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?s="'"+n.v:s=""+n.v}}c[c.length]=t+"="+s}return c}function eq(e,t,n){var s=n||{},a=+!s.skipHeader,i=e||{},o=0,l=0;if(i&&s.origin!=null)if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?ps(s.origin):s.origin;o=c.r,l=c.c}var u,f={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var h=pn(i["!ref"]);f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),o==-1&&(o=h.e.r+1,f.e.r=o+t.length-1+a)}else o==-1&&(o=0,f.e.r=t.length-1+a);var g=s.header||[],m=0;t.forEach(function(v,b){Xs(v).forEach(function(y){(m=g.indexOf(y))==-1&&(g[m=g.length]=y);var x=v[y],w="z",j="",N=Kr({c:l+m,r:o+b+a});u=_p(i,N),x&&typeof x=="object"&&!(x instanceof Date)?i[N]=x:(typeof x=="number"?w="n":typeof x=="boolean"?w="b":typeof x=="string"?w="s":x instanceof Date?(w="d",s.cellDates||(w="n",x=Za(x)),j=s.dateNF||_n[14]):x===null&&s.nullError&&(w="e",x=0),u?(u.t=w,u.v=x,delete u.w,delete u.R,j&&(u.z=j)):i[N]=u={t:w,v:x},j&&(u.z=j))})}),f.e.c=Math.max(f.e.c,l+g.length-1);var p=Zs(o);if(a)for(m=0;m<g.length;++m)i[la(m+l)+p]={t:"s",v:g[m]};return i["!ref"]=qn(f),i}function zje(e,t){return eq(null,e,t)}function _p(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var s=ps(t);return e[s.r]||(e[s.r]=[]),e[s.r][s.c]||(e[s.r][s.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?_p(e,Kr(t)):_p(e,Kr({r:t,c:n||0}))}function Uje(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Wje(){return{SheetNames:[],Sheets:{}}}function Hje(e,t,n,s){var a=1;if(!n)for(;a<=65535&&e.SheetNames.indexOf(n="Sheet"+a)!=-1;++a,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&e.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||n;for(++a;a<=65535&&e.SheetNames.indexOf(n=o+a)!=-1;++a);}if(HG(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function Vje(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var s=Uje(e,t);switch(e.Workbook.Sheets[s]||(e.Workbook.Sheets[s]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[s].Hidden=n}function Gje(e,t){return e.z=t,e}function tq(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function qje(e,t,n){return tq(e,"#"+t,n)}function Yje(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function Jje(e,t,n,s){for(var a=typeof t!="string"?t:pn(t),i=typeof t=="string"?t:qn(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=_p(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=n,s&&(c.D=!0))}return e}var Xi={encode_col:la,encode_row:Zs,encode_cell:Kr,encode_range:qn,decode_col:mL,decode_row:gL,split_cell:cve,decode_cell:ps,decode_range:Ni,format_cell:Wl,sheet_add_aoa:rG,sheet_add_json:eq,sheet_add_dom:JG,aoa_to_sheet:Rh,json_to_sheet:zje,table_to_sheet:ZG,table_to_book:vje,sheet_to_csv:kL,sheet_to_txt:XG,sheet_to_json:Ob,sheet_to_html:YG,sheet_to_formulae:Bje,sheet_to_row_object_array:Ob,sheet_get_cell:_p,book_new:Wje,book_append_sheet:Hje,book_set_sheet_visibility:Vje,cell_set_number_format:Gje,cell_set_hyperlink:tq,cell_set_internal_link:qje,cell_add_comment:Yje,sheet_set_array_formula:Jje,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Zje=(e={})=>Se.get("/admin/users",{params:e}),s0=e=>Se.get(`/admin/users/${e}`),xm=(e,t)=>Se.put(`/admin/users/${e}`,t),Qje=e=>Se.delete(`/admin/users/${e}`),Kje=(e,t)=>Se.put(`/admin/users/${e}/suspension`,{suspended:t}),Xje=(e={})=>Se.get("/admin/users/export",{params:e,responseType:["csv","excel"].includes(e.format)?"blob":"json"}),e4e=(...t)=>pe(void 0,[...t],function*(e={}){try{const n=e.format||"csv",s=n==="excel"?"csv":n,a=yield Xje(he(te({},e),{format:s}));if(n==="excel"){const i=a.data,o=b=>{const y=[];let x="",w=!1,j=0;for(;j<b.length;){const N=b[j];N==='"'?w&&b[j+1]==='"'?(x+='"',j+=2):(w=!w,j++):N===","&&!w?(y.push(x),x="",j++):(x+=N,j++)}return y.push(x),y},l=i.split(`
`).filter(b=>b.trim()),c=o(l[0]),u=[];for(let b=1;b<l.length;b++){const y=o(l[b]),x={};c.forEach((w,j)=>{x[w]=y[j]||""}),u.push(x)}const f=Xi.json_to_sheet(u),h=Xi.book_new();Xi.book_append_sheet(h,f,"Users");const g=px(h,{bookType:"xlsx",type:"array"}),m=new Blob([g],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),p=window.URL.createObjectURL(m),v=document.createElement("a");v.href=p,v.setAttribute("download","users-export.xlsx"),document.body.appendChild(v),v.click(),window.URL.revokeObjectURL(p),document.body.removeChild(v)}else{const i=n==="json"?"application/json":"text/csv",o=new Blob([n==="json"?JSON.stringify(a.data,null,2):a.data],{type:i}),l=window.URL.createObjectURL(o),c=document.createElement("a");c.href=l,c.setAttribute("download",`users-export.${n}`),document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(l),document.body.removeChild(c)}return!0}catch(n){throw console.error("Error downloading users data:",n),n}}),t4e=(e={})=>Se.get("/admin/moderation/content",{params:e}),r4e=(e,t,n)=>Se.put(`/admin/moderation/content/${e}/status`,{contentType:t,moderationStatus:n}),n4e=()=>Se.get("/admin/moderation/stats"),s4e=()=>Se.get("/admin/dashboard/stats"),a4e=(e=10)=>Se.get("/admin/dashboard/activity",{params:{limit:e}}),i4e=(e=30)=>Se.get("/admin/dashboard/growth",{params:{days:e}}),o4e=(e={})=>Se.get("/admin/contacts",{params:e}),l4e=(e,t,n="")=>Se.patch(`/admin/contacts/${e}/status`,{status:t,notes:n}),c4e=e=>Se.delete(`/admin/contacts/${e}`),d4e=e=>Se.patch(`/admin/contacts/${e}/read`),u4e=()=>Se.patch("/admin/contacts/read-all"),S$=()=>Se.get("/admin/contacts/unread/count"),f4e=e=>pe(void 0,null,function*(){try{const t=e.map(u=>{var f,h;return{ID:u.id,Name:u.fullName,Email:u.email,Phone:u.phone||"","Contact Reason":u.contactReason,Company:u.companyName||"",Website:u.website||"",Status:u.status,Message:((f=u.message)==null?void 0:f.substring(0,100))+(((h=u.message)==null?void 0:h.length)>100?"...":""),"Submitted At":new Date(u.createdAt).toLocaleString(),"Responded At":u.respondedAt?new Date(u.respondedAt).toLocaleString():"","Read At":u.readAt?new Date(u.readAt).toLocaleString():"",Notes:u.notes||""}}),n=Xi.json_to_sheet(t),s=Object.keys(t[0]||{}).map(u=>({wch:Math.max(u.length,...t.map(f=>{var h;return String((h=f[u])!=null?h:"").length}))+2}));n["!cols"]=s;const a=Xi.book_new();Xi.book_append_sheet(a,n,"Contacts");const i=px(a,{bookType:"xlsx",type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),l=window.URL.createObjectURL(o),c=document.createElement("a");return c.href=l,c.setAttribute("download",`contacts-export-${new Date().toISOString().split("T")[0]}.xlsx`),document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(l),document.body.removeChild(c),!0}catch(t){throw console.error("Error creating Excel file:",t),t}}),h4e=(e={})=>Se.get("/admin/supports",{params:e}),g4e=(e,t,n="")=>Se.patch(`/admin/supports/${e}/status`,{status:t,notes:n}),m4e=e=>Se.delete(`/admin/supports/${e}`),p4e=e=>Se.patch(`/admin/supports/${e}/read`),x4e=()=>Se.patch("/admin/supports/read-all"),C$=()=>Se.get("/admin/supports/unread/count"),v4e=()=>Se.get("/admin/settings"),y4e=e=>Se.put("/admin/settings",e),b4e=e=>Se.post("/admin/notifications/send-custom",e),w4e=e=>pe(void 0,null,function*(){try{const t=e.map(u=>{var f,h;return{ID:u.id,Name:u.fullName,Email:u.email,Phone:u.phone||"","Support Reason":u.supportReason,Priority:u.priority,Status:u.status,Message:((f=u.message)==null?void 0:f.substring(0,100))+(((h=u.message)==null?void 0:h.length)>100?"...":""),"Submitted At":new Date(u.createdAt).toLocaleString(),"Responded At":u.respondedAt?new Date(u.respondedAt).toLocaleString():"","Read At":u.readAt?new Date(u.readAt).toLocaleString():"",Notes:u.notes||""}}),n=Xi.json_to_sheet(t),s=Object.keys(t[0]||{}).map(u=>({wch:Math.max(u.length,...t.map(f=>{var h;return String((h=f[u])!=null?h:"").length}))+2}));n["!cols"]=s;const a=Xi.book_new();Xi.book_append_sheet(a,n,"Supports");const i=px(a,{bookType:"xlsx",type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),l=window.URL.createObjectURL(o),c=document.createElement("a");return c.href=l,c.setAttribute("download",`supports-export-${new Date().toISOString().split("T")[0]}.xlsx`),document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(l),document.body.removeChild(c),!0}catch(t){throw console.error("Error creating Excel file:",t),t}});function sN({avatarUrl:e,coverImage:t,onChange:n,type:s="avatar"}){const a=d.useRef(null),i=d.useRef(null),[o,l]=d.useState(!1),[c,u]=d.useState(!1),[f,h]=d.useState(!1),[g,m]=d.useState(!1),[p,v]=d.useState(null),[b,y]=d.useState({width:0,height:0}),x={avatar:!0,cover:!0},w={avatar:{aspect:1,minWidth:100,minHeight:100},cover:{aspect:16/9,minWidth:800,minHeight:450}};d.useEffect(()=>{const C=M=>{i.current&&!i.current.contains(M.target)&&h(!1)};return f&&document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[f]);const j=C=>{const M=C.target.files[0];if(!M)return;const A=5*1024*1024;if(M.size>A){oe.error("File size must be less than 5MB."),a.current&&(a.current.value="");return}if(!M.type.startsWith("image/")){oe.error("Please select a valid image file."),a.current&&(a.current.value="");return}if(x[s]){const W=new FileReader;W.onload=X=>{const J=new Image;J.onload=()=>{y({width:J.width,height:J.height}),v(X.target.result),m(!0)},J.src=X.target.result},W.readAsDataURL(M)}else N(M)},N=C=>pe(this,null,function*(){l(!0);try{const M=new FormData;M.append("file",C),s==="avatar"?(yield Y4(M),oe.success("Profile photo updated successfully!")):s==="cover"&&(yield J4(M),oe.success("Cover image updated successfully!"));const A=URL.createObjectURL(C);n(A)}catch(M){console.error(`Failed to upload ${s}:`,M),oe.error(`Failed to upload ${s==="avatar"?"profile photo":"cover image"}. Please try again.`)}finally{l(!1),a.current&&(a.current.value="")}}),L=C=>pe(this,null,function*(){m(!1),l(!0);try{const M=new FormData,A=C.type||"image/jpeg",H=A==="image/png"?"png":A==="image/webp"?"webp":"jpg",X=`${s==="avatar"?"avatar":"cover"}-${Date.now()}.${H}`;M.append("file",C,X),s==="avatar"?(yield Y4(M),oe.success("Profile photo updated successfully!")):s==="cover"&&(yield J4(M),oe.success("Cover image updated successfully!"));const J=URL.createObjectURL(C);n(J)}catch(M){console.error(`Failed to upload ${s}:`,M),oe.error(`Failed to upload ${s==="avatar"?"profile photo":"cover image"}. Please try again.`)}finally{l(!1),v(null),y({width:0,height:0}),a.current&&(a.current.value="")}}),k=()=>{m(!1),v(null),y({width:0,height:0}),a.current&&(a.current.value="")},E=()=>pe(this,null,function*(){u(!0),h(!1);try{s==="avatar"?(yield Y4({avatarUrl:null}),oe.success("Profile photo removed successfully!")):s==="cover"&&(yield J4({coverImage:null}),oe.success("Cover image removed successfully!")),n(null),a.current&&(a.current.value="")}catch(C){console.error(`Failed to remove ${s}:`,C),oe.error(`Failed to remove ${s==="avatar"?"profile photo":"cover image"}. Please try again.`)}finally{u(!1)}}),S=()=>{var C;h(!1),(C=a.current)==null||C.click()},I=()=>{var M;(s==="avatar"?e:t)?h(!f):(M=a.current)==null||M.click()};return r.jsxs("div",{children:[r.jsx("input",{type:"file",accept:"image/*",ref:a,className:"hidden",onChange:j,disabled:o||c}),r.jsx("div",{onClick:I,className:`bg-brand-600 rounded-full p-1 flex cursor-pointer hover:opacity-60 transition-opacity ${s==="avatar"?"absolute -bottom-1 -right-2 max-md:right-auto max-md:left-0":"absolute top-2 right-2"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[s!=="avatar"&&!t&&r.jsx("span",{className:"text-white",children:"Add"}),r.jsx(YE,{size:18,className:"text-white"}),(o||c)&&r.jsx("span",{className:"text-white text-xs",children:o?"Uploading...":"Removing..."})]})}),r.jsx("div",{className:"relative",children:f&&(s==="avatar"?e:t)&&r.jsx("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-md shadow-lg z-50 top-full right-0 mt-2 w-48",children:r.jsxs("div",{className:"py-1",children:[r.jsx("button",{onClick:S,disabled:o||c,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:"Change Image"}),r.jsx("button",{onClick:E,disabled:o||c,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100 disabled:opacity-50",children:c?"Removing...":"Remove Image"})]})})}),g&&p&&r.jsx(aw,{image:p,imageDimensions:b,onCropComplete:L,onCancel:k,config:w[s],type:s})]})}const $b=({isOpen:e,onClose:t,mediaUrl:n,mediaType:s="image",alt:a="Media",format:i="rounded"})=>{if(!e||!n)return document.body.style.overflow==="hidden"&&(document.body.style.overflow="unset"),null;const o=f=>{f.target===f.currentTarget&&t()},l=f=>{f.key==="Escape"&&t()},c=f=>{f.stopPropagation(),t()};dr.useEffect(()=>{if(e)return document.addEventListener("keydown",l),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",l),document.body.style.overflow="unset"}},[e,t]);const u=()=>{switch(i){case"square":return"rounded-xl";case"rounded":default:return"rounded-xl"}};return r.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-sm p-4",onClick:o,children:r.jsxs("div",{className:"relative max-w-[80vw] max-h-[80vh] w-auto h-auto",children:[r.jsx("button",{onClick:c,className:"absolute -top-16 right-0 text-white hover:opacity-50 transition-all duration-200 z-10 bg-black/80 hover:bg-white hover:text-black rounded-full p-3 border-2 border-white/50 hover:border-white shadow-lg hover:shadow-xl","aria-label":"Close media viewer",children:r.jsx(Sr,{size:28})}),s==="image"?r.jsx("img",{src:n,alt:a,className:`max-w-full h-auto object-contain shadow-2xl border-2 border-white/20 ${u()}`,style:{maxHeight:"calc(80vh - 2rem)"},onClick:f=>f.stopPropagation()}):r.jsx("div",{className:`max-w-full max-h-[calc(80vh-2rem)] object-contain shadow-2xl bg-white p-8 border-2 border-white/20 ${u()}`,children:r.jsxs("p",{className:"text-gray-500",children:["Unsupported media type: ",s]})})]})})},rq=({isOpen:e,onClose:t,onSelect:n,title:s,excludeIds:a=[],accountType:i="individual"})=>{const[o,l]=d.useState(""),[c,u]=d.useState([]),[f,h]=d.useState(!1),[g,m]=d.useState(null);d.useEffect(()=>{e&&o.length>=3?p():u([])},[o,e]);const p=()=>pe(void 0,null,function*(){h(!0);try{const x=yield Se.get(`/users/search?q=${o}`);console.log({response:x});const w=x.data.filter(j=>!a.includes(j.id)&&j.accountType==="individual");u(w)}catch(x){console.error("Error searching users:",x),oe.error("Failed to search users")}finally{h(!1)}}),v=x=>{m(x)},b=()=>{g&&(n(g),y())},y=()=>{l(""),u([]),m(null),t()};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:s}),r.jsx("button",{onClick:y,className:"text-gray-400 hover:text-gray-600",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsx("div",{className:"mb-4",children:r.jsx("input",{type:"text",placeholder:"Search users by name or email...",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent",value:o,onChange:x=>l(x.target.value)})}),r.jsx("div",{className:"max-h-64 overflow-y-auto mb-4",children:f?r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Searching..."})]}):c.length===0&&o.length>=3?r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-gray-500",children:"No users found"})}):r.jsx("div",{className:"space-y-2",children:c.map(x=>r.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${(g==null?void 0:g.id)===x.id?"border-brand-500 bg-brand-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>v(x),children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:x.avatarUrl?r.jsx("img",{src:x.avatarUrl,alt:x.name,className:"w-10 h-10 rounded-full object-cover"}):r.jsx("span",{className:"text-gray-600 font-medium",children:x.name.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-900",children:x.name}),r.jsx("div",{className:"text-sm text-gray-500",children:x.email}),x.professionalTitle&&r.jsx("div",{className:"text-xs text-gray-400",children:x.professionalTitle}),x.city&&x.country&&r.jsxs("div",{className:"text-xs text-gray-400",children:[x.city,", ",x.country]})]}),(g==null?void 0:g.id)===x.id&&r.jsx("div",{className:"text-brand-600",children:r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]})},x.id))})}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:y,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:b,disabled:!g,className:`px-4 py-2 rounded-lg ${g?"bg-brand-700 text-white hover:bg-brand-800":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Select User"})]})]})}):null},j4e=({isOpen:e,onClose:t,onSuccess:n,companyId:s,companyName:a})=>{const[i,o]=d.useState(null),[l,c]=d.useState(""),[u,f]=d.useState(""),[h,g]=d.useState(!1),[m,p]=d.useState(!1),v=()=>pe(void 0,null,function*(){var y,x;if(!i){oe.error("Please select a user to invite");return}g(!0);try{console.log("Sending staff invitation for user:",i.id,"with role:",l);const w=yield Se.post("/company/staff/invite",{staffId:i.id,role:l,message:u.trim()||void 0});console.log("Staff invitation response:",w.data),oe.dismiss(),console.log("Toast success called for staff invitation"),n&&n(w.data.invitation),b()}catch(w){console.error("Error inviting staff:",w),oe.error(((x=(y=w==null?void 0:w.response)==null?void 0:y.data)==null?void 0:x.message)||"Failed to send invitation")}finally{g(!1)}}),b=()=>{o(null),c(""),f(""),p(!1),t()};return e?r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Invite Staff Member"}),r.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select User"}),i?r.jsx("div",{className:"p-3 border border-brand-200 bg-brand-50 rounded-lg",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:i.avatarUrl?r.jsx("img",{src:i.avatarUrl,alt:i.name,className:"w-10 h-10 rounded-full object-cover"}):r.jsx("span",{className:"text-gray-600 font-medium",children:i.name.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-900",children:i.name}),r.jsx("div",{className:"text-sm text-gray-500",children:i.email})]}),r.jsx("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-600",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):r.jsx("button",{onClick:()=>p(!0),className:"w-full p-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-gray-400 hover:text-gray-600",children:"Click to select a user"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Role"}),r.jsx("input",{type:"text",value:l,onChange:y=>c(y.target.value),placeholder:"e.g. Software Engineer, Marketing Manager",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Personal Message (Optional)"}),r.jsx("textarea",{value:u,onChange:y=>f(y.target.value),placeholder:"Add a personal message to the invitation...",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent",rows:"3"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This message will be included in the invitation email"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:b,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:v,disabled:!i||h,className:`px-4 py-2 rounded-lg ${i&&!h?"bg-brand-700 text-white hover:bg-brand-800":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:h?"Sending...":"Send Invitation"})]})]}),m&&r.jsx(rq,{isOpen:m,onClose:()=>p(!1),onSelect:y=>{o(y),p(!1)},title:"Select Staff Member",accountType:"individual"})]}):null},N4e=({isOpen:e,onClose:t,onSuccess:n,title:s="Join Organization",description:a="Select an organization you'd like to join and send a request."})=>{const[i,o]=d.useState([]),[l,c]=d.useState(!1),[u,f]=d.useState(!1),[h,g]=d.useState(null),[m,p]=d.useState(""),[v,b]=d.useState(""),[y,x]=d.useState(!1);d.useEffect(()=>{e&&w()},[e]);const w=()=>pe(void 0,null,function*(){try{c(!0);const E=yield Se.get("/organization/organizations");o(E.data.organizations||[])}catch(E){console.error("Failed to load organizations:",E),oe.error("Failed to load organizations")}finally{c(!1)}}),j=E=>{g(E),x(!0)},N=()=>{g(null),p(""),x(!1)},L=()=>pe(void 0,null,function*(){var E,S;if(!h){oe.error("Please select an organization");return}try{f(!0),oe.loading("Sending join request...",{id:"join-request"});const I=yield Se.post("/organization/join-request",{organizationId:h.id,message:m.trim()||null});oe.success("Join request sent successfully!",{id:"join-request"}),n&&n(I.data.request),g(null),p(""),x(!1),t()}catch(I){console.error("Failed to submit join request:",I),(S=(E=I.response)==null?void 0:E.data)!=null&&S.message?oe.error(I.response.data.message,{id:"join-request"}):oe.error("Failed to send join request",{id:"join-request"})}finally{f(!1)}}),k=i.filter(E=>E.name.toLowerCase().includes(v.toLowerCase()));return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex md:items-center justify-between p-6 border-b",children:[r.jsxs("div",{className:"flex md:items-center gap-3 max-md:flex-col",children:[y&&r.jsxs("button",{onClick:N,className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 md:px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Back to organization list",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),r.jsx("span",{className:"text-sm font-medium",children:"Back"})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:y?"Send Join Request":s}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:y?`Request to join ${h==null?void 0:h.name}`:a})]})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 p-2 self-start",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsx("div",{className:"p-6",children:y?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"border border-brand-200 rounded-lg p-4 bg-brand-50",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:h.avatarUrl?r.jsx("img",{src:h.avatarUrl,alt:h.name,className:"w-12 h-12 rounded-lg object-cover"}):r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-gray-600 font-semibold text-lg",children:h.name.charAt(0).toUpperCase()})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:h.name}),r.jsx("span",{className:"text-sm opacity-80",children:h.email}),r.jsxs("div",{className:"text-sm text-gray-500",children:[h.city&&h.country&&r.jsxs("span",{children:[h.city,", ",h.country]}),h.webpage&&r.jsx("span",{className:"ml-2",children:r.jsx("a",{href:h.webpage,target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 hover:text-brand-800",children:"Website"})})]})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message (Optional)"}),r.jsx("textarea",{value:m,onChange:E=>p(E.target.value),placeholder:"Tell the organization why you'd like to join...",rows:"4",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent",maxLength:500}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[m.length,"/500 characters"]})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-4",children:r.jsx("input",{type:"text",placeholder:"Search organizations...",value:v,onChange:E=>b(E.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent"})}),r.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:l?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),r.jsx("p",{className:"text-gray-500 mt-2",children:"Loading organizations..."})]}):k.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-5 0v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h-4m-2-5a2 2 0 011-2h2a2 2 0 012 2m-2 2v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h-4"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No organizations found"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:v?"Try adjusting your search terms.":"No organizations are available at the moment."})]}):k.map(E=>r.jsx("div",{onClick:()=>j(E),className:"border border-gray-200 rounded-lg p-4 cursor-pointer transition-all hover:border-gray-300 hover:bg-gray-50",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:E.avatarUrl?r.jsx("img",{src:E.avatarUrl,alt:E.name,className:"w-12 h-12 rounded-lg object-cover"}):r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-gray-600 font-semibold text-lg",children:E.name.charAt(0).toUpperCase()})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:E.name}),r.jsx("span",{className:"text-sm opacity-80",children:E.email}),r.jsxs("div",{className:"text-sm text-gray-500",children:[E.city&&E.country&&r.jsxs("span",{children:[E.city,", ",E.country]}),E.webpage&&r.jsx("span",{className:"ml-2",children:r.jsx("a",{href:E.webpage,target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 hover:text-brand-800",onClick:S=>S.stopPropagation(),children:"Website"})})]})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},E.id))})]})}),r.jsxs("div",{className:"flex items-center justify-between p-6 border-t bg-gray-50 rounded-b-xl",children:[!y&&r.jsx("div",{children:r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"})}),r.jsxs("div",{className:"flex gap-3 flex-1",children:[y&&r.jsxs("button",{onClick:N,disabled:u,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:[r.jsx("span",{className:"max-md:hidden",children:"Back to Organizations"}),r.jsx("span",{className:"md:hidden",children:"Back"})]}),y&&r.jsx("button",{onClick:L,disabled:u,className:"px-4 py-2 flex-1 bg-brand-600 text-white rounded-lg hover:bg-brand-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Sending Request..."]}):"Send Request"})]})]})]})}):null},Yt={PERSONAL:"personal",PROFESSIONAL:"professional",PORTFOLIO:"portfolio",GALLERY:"gallery",DO:"do",INTERESTS:"interests",INDUSTRIES:"industries",REPRESENTATIVE:"representative",STAFF:"staff",ORGANIZATIONS:"organizations",JOIN_REQUESTS:"join_requests",APPLICATIONS:"applications",EVENTS:"events",JOB_APPLICATIONS:"job_applications",EVENT_REGISTRATIONS:"event_registrations"},$i={PROFESSIONAL_TITLE:50,ABOUT:300};function k$(){var WT,HT,VT,GT,qT,YT,JT,ZT,QT,KT,XT,e5,t5,r5,n5,s5,a5,i5,o5;const{id:e}=ea(),t=bs(),n=t.pathname.includes("/admin/user-profile/"),{user:s,profile:a,setProfile:i,setUser:o}=Xt(),l=Ht(),[c,u]=d.useState(!1),[f,h]=d.useState(!1),[g,m]=d.useState(Yt.PERSONAL),[p,v]=d.useState(!0),[b,y]=d.useState(!1),[x,w]=d.useState(null),[j,N]=d.useState([]),[L,k]=d.useState(!1),E=d.useRef(null),S=((WT=x==null?void 0:x.user)==null?void 0:WT.accountType)==="company";d.useEffect(()=>{var P;!x||!s||(s==null?void 0:s.id)!=((P=x==null?void 0:x.user)==null?void 0:P.id)&&(s==null?void 0:s.accountType)!="admin"&&window.location.reload()},[s,x]),d.useEffect(()=>{var at,yt;const P=new URLSearchParams(t.search),me=P.get("jobApplication"),Re=P.get("eventRegistration");me&&((at=x==null?void 0:x.user)!=null&&at.id)?(v(!0),S?(m(Yt.JOB_APPLICATIONS),LT().then(()=>{setTimeout(()=>{const bt=document.querySelector(`[data-application-id="${me}"]`);bt?(bt.scrollIntoView({behavior:"smooth",block:"center"}),bt.classList.add("ring-2","ring-brand-500","ring-offset-2"),setTimeout(()=>{bt.classList.remove("ring-2","ring-brand-500","ring-offset-2")},3e3)):oe.error("Job application not found or access denied"),v(!1)},500)}).catch(bt=>{console.error("Failed to load job applications:",bt),oe.error("Failed to load job applications"),v(!1)})):(m(Yt.APPLICATIONS),IT().then(()=>{setTimeout(()=>{const bt=document.querySelector(`[data-application-id="${me}"]`);bt?(bt.scrollIntoView({behavior:"smooth",block:"center"}),bt.classList.add("ring-2","ring-brand-500","ring-offset-2"),setTimeout(()=>{bt.classList.remove("ring-2","ring-brand-500","ring-offset-2")},3e3)):oe.error("Job application not found"),v(!1)},500)}).catch(bt=>{console.error("Failed to load job applications:",bt),oe.error("Failed to load job applications"),v(!1)}))):Re&&((yt=x==null?void 0:x.user)!=null&&yt.id)&&(v(!0),S?(m(Yt.EVENT_REGISTRATIONS),MT().then(()=>{setTimeout(()=>{const bt=document.querySelector(`[data-registration-id="${Re}"]`);bt?(bt.scrollIntoView({behavior:"smooth",block:"center"}),bt.classList.add("ring-2","ring-brand-500","ring-offset-2"),setTimeout(()=>{bt.classList.remove("ring-2","ring-brand-500","ring-offset-2")},3e3)):oe.error("Event registration not found or access denied"),v(!1)},500)}).catch(bt=>{console.error("Failed to load event registrations:",bt),oe.error("Failed to load event registrations"),v(!1)})):(m(Yt.EVENTS),TT().then(()=>{setTimeout(()=>{const bt=document.querySelector(`[data-registration-id="${Re}"]`);bt?(bt.scrollIntoView({behavior:"smooth",block:"center"}),bt.classList.add("ring-2","ring-brand-500","ring-offset-2"),setTimeout(()=>{bt.classList.remove("ring-2","ring-brand-500","ring-offset-2")},3e3)):oe.error("Event registration not found"),v(!1)},500)}).catch(bt=>{console.error("Failed to load event registrations:",bt),oe.error("Failed to load event registrations"),v(!1)})))},[t.search,x,S]);function I(P){var yt,bt;if(!P)return"U";const me=P.trim().split(/\s+/),Re=((yt=me[0])==null?void 0:yt.charAt(0).toUpperCase())||"",at=((bt=me[1])==null?void 0:bt.charAt(0).toUpperCase())||"";return Re+at}const[C,M]=d.useState({name:"",phone:"",nationality:"",country:"",countryOfResidence:"",city:"",address:"",birthDate:"",professionalTitle:"",about:"",avatarUrl:"",coverImage:"",gender:"",otherCountries:[],webpage:""}),[A,H]=d.useState({experienceLevel:"",skills:[],languages:[]}),[W,X]=d.useState({cvBase64:[],workSamples:[]}),[J,Z]=d.useState([]),[F,D]=d.useState(!1),[O,T]=d.useState(null),[R,z]=d.useState(!1),[_,U]=d.useState({title:"",description:"",projectUrl:"",skillsTags:[],attachments:[]}),[Q,re]=d.useState(""),[le,ue]=d.useState(""),[ge,ke]=d.useState(null),[tt,He]=d.useState([]),[ze,rt]=d.useState(!1),[Xe,V]=d.useState(!1),[ne,Ce]=d.useState(!1),[fe,xe]=d.useState({title:"",description:"",isPublic:!0}),[se,ae]=d.useState([]),[G,Ne]=d.useState(null),[Be,dt]=d.useState(null),[nt,Te]=d.useState(""),[lt,_e]=d.useState([]),[be,Y]=d.useState([]),[ie,de]=d.useState([]),[$e,it]=d.useState([]),[gt,De]=d.useState(null),Le=3,[Ae,Pe]=d.useState([]),[Qe,mt]=d.useState([]),[Me,Oe]=d.useState([]),[We,qe]=d.useState([]),[vt,Ge]=d.useState(null),[ot,Mt]=d.useState([]),[_t,Ct]=d.useState([]),[B,ee]=d.useState([]),[q,K]=d.useState([]),[ce,ye]=d.useState(()=>new Set),[Ze,ut]=d.useState(()=>new Set),[we,Ee]=d.useState(()=>new Set),[Ie,Ve]=d.useState(()=>new Set),[ht,ft]=d.useState(()=>new Set),[ct,xt]=d.useState(()=>new Set),[ve,Fe]=d.useState([]),[et,Ye]=d.useState([]),[pt,Ke]=d.useState(!1),[je,st]=d.useState(!1),[wt,Lt]=d.useState(null),[Wt,hr]=d.useState([]),[Dt,er]=d.useState([]),[tr,jt]=d.useState(!1),[Zt,cr]=d.useState(!1),[br,Xr]=d.useState(!1),[on,gr]=d.useState(null),[pa,Dn]=d.useState(""),[qr,Fs]=d.useState(!1),[xa,va]=d.useState(null),[ra,Ue]=d.useState(!1),[It,Ft]=d.useState([]),[Kt,lr]=d.useState(!1),[wr,uc]=d.useState(0),[ho,pg]=d.useState([]),[Bs,uT]=d.useState([]),[mte,fT]=d.useState(!1),[pte,hT]=d.useState(!1),[Avt,xte]=d.useState([]),[_vt,vte]=d.useState([]),[Ovt,gT]=d.useState(!1),[$vt,mT]=d.useState(!1),[fc,yte]=d.useState([]),[hc,bte]=d.useState([]),[wte,pT]=d.useState(!1),[jte,xT]=d.useState(!1),[Qx,Nte]=d.useState(new Set),[Kx,vT]=d.useState("all"),[Xx,yT]=d.useState("all"),[gc,ev]=d.useState(""),[Ste,qj]=d.useState(!1),[Cte,Yj]=d.useState(null),[bT,wT]=d.useState([]),[kte,jT]=d.useState(!0),xg=d.useMemo(()=>bT.slice(0,1e4).map(P=>({value:P.city,label:`${P.city}${P.country?`, ${P.country}`:""}`,country:P.country})),[bT]),Jj=d.useMemo(()=>C.countryOfResidence?xg.filter(P=>{var me;return((me=P.country)==null?void 0:me.toLowerCase())===C.countryOfResidence.toLowerCase()}):xg,[C.countryOfResidence,xg]);d.useEffect(()=>{C.countryOfResidence&&C.city&&(Jj.some(me=>me.value===C.city)||M(me=>he(te({},me),{city:""})))},[C.countryOfResidence,Jj,C.city]);const NT=d.useCallback(P=>P?xg.filter(me=>{var Re;return((Re=me.country)==null?void 0:Re.toLowerCase())===P.toLowerCase()}):[],[xg]),Ete=({value:P,onChange:me,error:Re})=>{const[at,yt]=d.useState(!1),[bt,Nt]=d.useState(""),[Ot,qt]=d.useState("");if(kte)return r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z",className:"opacity-75"})]}),"Loading cities..."]});const rr=()=>{if(bt&&Ot){const Ut={country:bt,city:Ot};me([...P,Ut]),Nt(""),qt(""),yt(!1)}},sr=Ut=>{const ar=P.filter((Gr,mr)=>mr!==Ut);me(ar)},Tr=(Ut,ar)=>{const Gr=P.map((mr,Qt)=>Qt===Ut?he(te({},mr),{city:ar}):mr);me(Gr)};return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Other Countries of Operations (Branches) ",r.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),P.length>0&&r.jsx("div",{className:"space-y-2",children:P.map((Ut,ar)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg bg-gray-50",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-sm",children:Ut.country}),r.jsxs("div",{className:"text-xs text-gray-500",children:["City: ",Ut.city]})]}),r.jsx(Bn,{options:NT(Ut.country),value:Ut.city,onChange:Gr=>Tr(ar,Gr),placeholder:"Select city",className:"w-48"}),r.jsx("button",{type:"button",onClick:()=>sr(ar),className:"p-1 text-red-500 hover:text-red-700",title:"Remove",children:r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]},ar))}),at?r.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg bg-blue-50 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(Bn,{options:An,value:bt,onChange:Nt,placeholder:"Select country"}),r.jsx(Bn,{options:bt?NT(bt):[],value:Ot,onChange:qt,placeholder:"Select city",disabled:!bt})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:rr,disabled:!bt||!Ot,className:"px-3 py-1 bg-brand-600 text-white rounded-lg text-sm hover:bg-brand-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),r.jsx("button",{type:"button",onClick:()=>{yt(!1),Nt(""),qt("")},className:"px-3 py-1 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:"Cancel"})]})]}):r.jsxs("button",{type:"button",onClick:()=>yt(!0),className:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})}),"Add Country & City"]}),Re&&r.jsx("p",{className:"text-xs text-red-600",children:Re}),r.jsx("p",{className:"text-xs text-gray-500",children:"Select countries where your company has branches or operations (optional)"})]})};d.useEffect(()=>{var P;S&&((P=x==null?void 0:x.user)!=null&&P.id)&&ii()},[S,(HT=x==null?void 0:x.user)==null?void 0:HT.id]),d.useEffect(()=>{var P;!S&&((P=x==null?void 0:x.user)!=null&&P.id)&&vg()},[S,(VT=x==null?void 0:x.user)==null?void 0:VT.id]),d.useEffect(()=>{var P;S&&((P=x==null?void 0:x.user)!=null&&P.id)&&(tv(),rv())},[S,(GT=x==null?void 0:x.user)==null?void 0:GT.id]),d.useEffect(()=>{var P;S&&((P=x==null?void 0:x.user)!=null&&P.id)&&g===Yt.JOB_APPLICATIONS&&LT()},[S,(qT=x==null?void 0:x.user)==null?void 0:qT.id,g]),d.useEffect(()=>{var P;S&&((P=x==null?void 0:x.user)!=null&&P.id)&&g===Yt.EVENT_REGISTRATIONS&&MT()},[S,(YT=x==null?void 0:x.user)==null?void 0:YT.id,g]),d.useEffect(()=>{var P;!S&&((P=x==null?void 0:x.user)!=null&&P.id)&&g===Yt.APPLICATIONS&&qte()},[S,(JT=x==null?void 0:x.user)==null?void 0:JT.id,g]),d.useEffect(()=>{var P;!S&&((P=x==null?void 0:x.user)!=null&&P.id)&&g===Yt.EVENTS&&Yte()},[S,(ZT=x==null?void 0:x.user)==null?void 0:ZT.id,g]),d.useEffect(()=>{var P;!S&&((P=x==null?void 0:x.user)!=null&&P.id)&&g===Yt.APPLICATIONS&&IT()},[!S,(QT=x==null?void 0:x.user)==null?void 0:QT.id,g]),d.useEffect(()=>{var P;!S&&((P=x==null?void 0:x.user)!=null&&P.id)&&g===Yt.EVENTS&&TT()},[!S,(KT=x==null?void 0:x.user)==null?void 0:KT.id,g]),d.useEffect(()=>{var P;(P=x==null?void 0:x.user)!=null&&P.id&&g===Yt.GALLERY&&sv()},[(XT=x==null?void 0:x.user)==null?void 0:XT.id,g]),d.useEffect(()=>{var P;g===Yt.GALLERY&&tt.length===0&&!ze&&((P=x==null?void 0:x.user)!=null&&P.id)&&sv()},[g,(e5=x==null?void 0:x.user)==null?void 0:e5.id]),d.useEffect(()=>{var P;S&&((P=x==null?void 0:x.user)!=null&&P.id)&&g===Yt.REPRESENTATIVE&&ii()},[S,(t5=x==null?void 0:x.user)==null?void 0:t5.id,g]),d.useEffect(()=>{var P;S&&((P=x==null?void 0:x.user)!=null&&P.id)&&g===Yt.JOIN_REQUESTS&&(tv(),rv())},[S,(r5=x==null?void 0:x.user)==null?void 0:r5.id,g]),d.useEffect(()=>{var P;S&&((P=x==null?void 0:x.user)!=null&&P.id)&&g===Yt.STAFF&&ii()},[S,(n5=x==null?void 0:x.user)==null?void 0:n5.id,g]);const ST=(P,me=150)=>{if(!P)return"";if(P.replace(/<[^>]*>/g,"").length<=me)return P;let at=0,yt=!1;for(let bt=0;bt<P.length&&at<me;bt++){const Nt=P[bt];if(Nt==="<")yt=!0;else if(Nt===">")yt=!1;else if(!yt&&(at++,at>=me))return P.substring(0,bt+1)+"..."}return P+"..."},CT=P=>{Nte(me=>{const Re=new Set(me);return Re.has(P)?Re.delete(P):Re.add(P),Re})},kT=P=>P.map(at=>{var yt,bt,Nt,Ot,qt;return{id:(yt=at.job)==null?void 0:yt.id,title:(bt=at.job)==null?void 0:bt.title,companyName:((Nt=at.job)==null?void 0:Nt.companyName)||((qt=(Ot=at.job)==null?void 0:Ot.postedBy)==null?void 0:qt.name)}}).filter(at=>at.id&&at.title).filter((at,yt,bt)=>yt===bt.findIndex(Nt=>Nt.id===at.id)),ET=P=>P.map(at=>{var yt,bt,Nt,Ot;return{id:(yt=at.event)==null?void 0:yt.id,title:(bt=at.event)==null?void 0:bt.title,organizerName:(Ot=(Nt=at.event)==null?void 0:Nt.organizer)==null?void 0:Ot.name}}).filter(at=>at.id&&at.title).filter((at,yt,bt)=>yt===bt.findIndex(Nt=>Nt.id===at.id)),Mf=P=>{let me=P;if(Kx!=="all"&&(me=me.filter(Re=>{var at;return((at=Re.job)==null?void 0:at.id)===Kx})),gc.trim()){const Re=gc.toLowerCase();me=me.filter(at=>{var yt,bt,Nt,Ot,qt,rr,sr,Tr,Ut;return((bt=(yt=at.job)==null?void 0:yt.title)==null?void 0:bt.toLowerCase().includes(Re))||((Ot=(Nt=at.job)==null?void 0:Nt.companyName)==null?void 0:Ot.toLowerCase().includes(Re))||((rr=(qt=at.applicant)==null?void 0:qt.name)==null?void 0:rr.toLowerCase().includes(Re))||((Tr=(sr=at.applicant)==null?void 0:sr.email)==null?void 0:Tr.toLowerCase().includes(Re))||((Ut=at.coverLetter)==null?void 0:Ut.toLowerCase().includes(Re))})}return me},If=P=>{let me=P;if(Xx!=="all"&&(me=me.filter(Re=>{var at;return((at=Re.event)==null?void 0:at.id)===Xx})),gc.trim()){const Re=gc.toLowerCase();me=me.filter(at=>{var yt,bt,Nt,Ot,qt,rr,sr,Tr,Ut,ar;return((bt=(yt=at.event)==null?void 0:yt.title)==null?void 0:bt.toLowerCase().includes(Re))||((qt=(Ot=(Nt=at.event)==null?void 0:Nt.organizer)==null?void 0:Ot.name)==null?void 0:qt.toLowerCase().includes(Re))||((sr=(rr=at.registrant)==null?void 0:rr.name)==null?void 0:sr.toLowerCase().includes(Re))||((Ut=(Tr=at.registrant)==null?void 0:Tr.email)==null?void 0:Ut.toLowerCase().includes(Re))||((ar=at.reasonForAttending)==null?void 0:ar.toLowerCase().includes(Re))})}return me},Lte=(P,me)=>pe(this,null,function*(){try{yield Se.put(`/job-applications/${P}/status`,{status:me}),pg(Re=>Re.map(at=>at.id===P?he(te({},at),{status:me}):at)),oe.success(`Application ${me} successfully`)}catch(Re){console.error("Failed to update application status:",Re),oe.error("Failed to update application status")}}),Mte=(P,me)=>pe(this,null,function*(){try{yield Se.patch(`/event-registrations/${P}/status`,{status:me}),uT(Re=>Re.map(at=>at.id===P?he(te({},at),{status:me}):at)),oe.success(`Registration ${me} successfully`)}catch(Re){console.error("Failed to update registration status:",Re),oe.error("Failed to update registration status")}});function ii(){return pe(this,null,function*(){var P,me,Re,at;try{const yt=yield Se.get("/company/representatives");if((P=yt.data)!=null&&P.representatives){Fe(yt.data.representatives);const Nt=yt.data.representatives.find(Ot=>Ot.status==="authorized");Nt&&Lt(Nt)}const bt=yield Se.get("/company/staff");(me=bt.data)!=null&&me.staff&&Ye(bt.data.staff);try{const Nt=yield Se.get("/company/invitations?type=representative&status=sent");(Re=Nt.data)!=null&&Re.invitations&&hr(Nt.data.invitations)}catch(Nt){console.log("Invitations endpoint not available yet")}try{const Nt=yield Se.get("/company/invitations?type=representative&status=pending&direction=incoming");(at=Nt.data)!=null&&at.invitations&&er(Nt.data.invitations)}catch(Nt){console.log("Incoming invitations endpoint not available yet")}}catch(yt){console.error("Failed to load company data:",yt)}})}function Ite(P){return pe(this,null,function*(){var me,Re;try{Ke(!1),cr(!0),oe.loading("Sending authorization request...",{id:"representative-invite"}),console.log("Sending representative invitation for user:",P.id);const at=yield Se.post("/company/representative/invite",{companyId:x.user.id,representativeId:P.id});console.log("Representative invitation response:",at.data),console.log({a:at.data}),at.data.invitation?(oe.success("Authorization request sent to user",{id:"representative-invite"}),console.log("Toast success called"),ii()):oe.error("Failed to send authorization request",{id:"representative-invite"})}catch(at){if(console.error("Failed to send representative request:",at),(Re=(me=at.response)==null?void 0:me.data)!=null&&Re.message){const yt=at.response.data.message;yt.includes("already sent")?oe.error("An invitation has already been sent to this user. Please wait for their response or try a different user.",{id:"representative-invite"}):yt.includes("already a representative")?oe.error("This user is already a representative for your company.",{id:"representative-invite"}):yt.includes("Only companies can")?oe.error("Only company accounts can invite representatives.",{id:"representative-invite"}):yt.includes("Invalid representative")?oe.error("This user cannot be selected as a representative.",{id:"representative-invite"}):oe.error(`Authorization request failed: ${yt}`,{id:"representative-invite"})}else oe.error("Failed to send authorization request. Please try again.",{id:"representative-invite"})}finally{cr(!1)}})}function Tte(P){return pe(this,null,function*(){try{Xr(!0),oe.loading("Sending staff invitation...",{id:"staff-invite"}),oe.dismiss(),oe.success("Staff invitation sent successfully",{id:"staff-invite"}),ii()}catch(me){console.error("Failed to handle staff invitation:",me),oe.error("Failed to process staff invitation",{id:"staff-invite"})}finally{Xr(!1)}})}function Ate(P){return pe(this,null,function*(){try{(yield Se.delete(`/company/staff/${P}`)).data&&(oe.success("Staff member removed successfully"),ii())}catch(me){console.error("Failed to remove staff member:",me),oe.error("Failed to remove staff member")}})}function _te(P,me){return pe(this,null,function*(){try{(yield Se.put(`/company/staff/${P}`,{role:me})).data&&(oe.success("Staff role updated successfully"),ii(),gr(null),Dn(""))}catch(Re){console.error("Failed to update staff role:",Re),oe.error("Failed to update staff role")}})}function Ote(P){gr(P.id),Dn(P.role)}function $te(){gr(null),Dn("")}function Pte(){return pe(this,null,function*(){try{(yield Se.delete(`/company/representative/${wt.representativeId}`)).data&&(oe.success("Representative authorization revoked successfully"),Lt(null),ii())}catch(P){console.error("Failed to remove representative:",P),oe.error("Failed to remove representative")}})}function Dte(P){return pe(this,null,function*(){try{jt(!0),(yield Se.put(`/company/invitations/${P}/cancel`)).data&&(oe.success("Invitation cancelled successfully"),ii())}catch(me){console.error("Failed to cancel invitation:",me),oe.error("Failed to cancel invitation")}finally{jt(!1)}})}function Rte(P){return pe(this,null,function*(){try{jt(!0),(yield Se.put(`/company/invitations/${P}/resend`)).data&&(oe.success("Invitation resent successfully"),ii())}catch(me){console.error("Failed to resend invitation:",me),oe.error("Failed to resend invitation")}finally{jt(!1)}})}function Fte(P){return pe(this,null,function*(){try{jt(!0),(yield Se.put(`/company/invitations/${P}/accept`)).data&&(oe.success("Representative request accepted successfully"),ii())}catch(me){console.error("Failed to accept invitation:",me),oe.error("Failed to accept representative request")}finally{jt(!1)}})}function Bte(P){return pe(this,null,function*(){try{jt(!0),(yield Se.put(`/company/invitations/${P}/reject`)).data&&(oe.success("Representative request rejected"),ii())}catch(me){console.error("Failed to reject invitation:",me),oe.error("Failed to reject representative request")}finally{jt(!1)}})}function vg(){return pe(this,null,function*(){try{Ue(!0);const P=yield Se.get("/company/staff/my-memberships");va(P.data.memberships||[])}catch(P){console.error("Failed to load membership status:",P)}finally{Ue(!1)}})}function zte(P){return pe(this,null,function*(){vg()})}function Ute(P){return pe(this,null,function*(){try{(yield Se.delete(`/company/staff/membership/${P}`)).data&&(oe.success("Successfully left the organization"),vg())}catch(me){console.error("Failed to leave organization:",me),oe.error("Failed to leave organization")}})}function Wte(P){return pe(this,null,function*(){try{(yield Se.put(`/company/staff/membership/${P}/set-main`)).data&&(oe.success("Main company set successfully"),vg())}catch(me){console.error("Failed to set main company:",me),oe.error("Failed to set main company")}})}function Hte(P){return pe(this,null,function*(){try{(yield Se.put(`/company/staff/membership/${P}/unset-main`)).data&&(oe.success("Main company unset successfully"),vg())}catch(me){console.error("Failed to unset main company:",me),oe.error("Failed to unset main company")}})}function tv(){return pe(this,null,function*(){var P;try{lr(!0);const me=yield Se.get("/organization/join-requests");(P=me.data)!=null&&P.requests&&Ft(me.data.requests)}catch(me){console.error("Failed to load organization join requests:",me)}finally{lr(!1)}})}function rv(){return pe(this,null,function*(){var P;try{const me=yield Se.get("/organization/join-requests/pending/count");((P=me.data)==null?void 0:P.count)!==void 0&&uc(me.data.count)}catch(me){console.error("Failed to load pending requests count:",me)}})}function Vte(P){return pe(this,null,function*(){try{(yield Se.put(`/organization/join-requests/${P}/approve`)).data&&(oe.success("Join request approved successfully!"),tv(),rv(),ii())}catch(me){console.error("Failed to approve join request:",me),oe.error("Failed to approve join request")}})}function Gte(P){return pe(this,null,function*(){try{(yield Se.put(`/organization/join-requests/${P}/reject`)).data&&(oe.success("Join request rejected"),tv(),rv())}catch(me){console.error("Failed to reject join request:",me),oe.error("Failed to reject join request")}})}function LT(){return pe(this,null,function*(){var P;try{fT(!0);const me=yield Se.get("/profile/job-applications");(P=me.data)!=null&&P.applications&&pg(me.data.applications)}catch(me){console.error("Failed to load job applications:",me)}finally{fT(!1)}})}function MT(){return pe(this,null,function*(){var P;try{hT(!0);const me=yield Se.get("/profile/event-registrations");(P=me.data)!=null&&P.registrations&&uT(me.data.registrations)}catch(me){console.error("Failed to load event registrations:",me)}finally{hT(!1)}})}function qte(){return pe(this,null,function*(){var P;try{gT(!0);const me=yield Se.get("/profile/applications/jobs");(P=me.data)!=null&&P.applications&&xte(me.data.applications)}catch(me){console.error("Failed to load individual job applications:",me)}finally{gT(!1)}})}function Yte(){return pe(this,null,function*(){var P;try{mT(!0);const me=yield Se.get("/profile/applications/events");(P=me.data)!=null&&P.registrations&&vte(me.data.registrations)}catch(me){console.error("Failed to load individual event registrations:",me)}finally{mT(!1)}})}function IT(){return pe(this,null,function*(){var P;try{pT(!0);const me=yield Se.get("/profile/applications/jobs");(P=me.data)!=null&&P.applications&&yte(me.data.applications)}catch(me){console.error("Failed to load my applications:",me)}finally{pT(!1)}})}function TT(){return pe(this,null,function*(){var P;try{xT(!0);const me=yield Se.get("/profile/applications/events");(P=me.data)!=null&&P.registrations&&bte(me.data.registrations)}catch(me){console.error("Failed to load my event registrations:",me)}finally{xT(!1)}})}const nv=d.useCallback(()=>pe(this,null,function*(){var P,me,Re,at,yt,bt,Nt,Ot,qt,rr,sr,Tr,Ut;try{v(!0),k(!1);let ar;const{data:Gr}=yield Jpe();if(n&&e){const{data:pr}=yield s0(e);ar={user:{id:pr.id,name:pr.name,email:pr.email,phone:pr.phone,nationality:pr.nationality,country:pr.country,countryOfResidence:pr.countryOfResidence,city:pr.city,accountType:pr.accountType,avatarUrl:pr.avatarUrl},profile:pr.profile||{},progress:pr.progress||{percent:0},doIdentityIds:((P=pr.identities)==null?void 0:P.map(Fr=>Fr.id))||[],doCategoryIds:((me=pr.categories)==null?void 0:me.map(Fr=>Fr.id))||[],doSubcategoryIds:((Re=pr.subcategories)==null?void 0:Re.map(Fr=>Fr.id))||[],doSubsubCategoryIds:((at=pr.subsubcategories)==null?void 0:at.map(Fr=>Fr.id))||[],interestIdentityIds:((bt=(yt=pr.interests)==null?void 0:yt.identities)==null?void 0:bt.map(Fr=>Fr.id))||[],interestCategoryIds:((Ot=(Nt=pr.interests)==null?void 0:Nt.categories)==null?void 0:Ot.map(Fr=>Fr.id))||[],interestSubcategoryIds:((rr=(qt=pr.interests)==null?void 0:qt.subcategories)==null?void 0:rr.map(Fr=>Fr.id))||[],interestSubsubCategoryIds:((Tr=(sr=pr.interests)==null?void 0:sr.subsubcategories)==null?void 0:Tr.map(Fr=>Fr.id))||[]}}else{const{data:pr}=yield Gpe();ar=pr;try{const{data:Fr}=yield DO();Z(Array.isArray(Fr==null?void 0:Fr.workSamples)?Fr.workSamples:[])}catch(Fr){console.error("Failed to load work samples:",Fr),Z([])}}w(ar),N(Array.isArray(Gr==null?void 0:Gr.identities)?Gr.identities:[]);const mr=ar.user||{},Qt=ar.profile||{};M({name:mr.name||"",phone:mr.phone||"",nationality:mr.nationality||"",country:mr.country||"",countryOfResidence:mr.countryOfResidence||"",city:mr.city||"",address:mr.address||"",birthDate:Qt.birthDate||"",professionalTitle:Qt.professionalTitle||"",about:Qt.about||"",avatarUrl:mr.avatarUrl||Qt.avatarUrl||"",coverImage:mr.coverImage||Qt.coverImage||"",gender:mr.gender||"",otherCountries:Array.isArray(mr.otherCountries)?mr.otherCountries:[],webpage:mr.webpage||""}),H({experienceLevel:Qt.experienceLevel||"",skills:Array.isArray(Qt.skills)?Qt.skills:[],languages:Array.isArray(Qt.languages)?Qt.languages:[]}),X({cvBase64:Array.isArray(Qt.cvBase64)?Qt.cvBase64.map(pr=>he(te({},pr),{created_at:pr.created_at||new Date().toISOString()})):Qt.cvBase64?[{original_filename:Qt.cvFileName||"",title:"",base64:Qt.cvBase64,created_at:new Date().toISOString()}]:[]}),D(!!Qt.isOpenToWork),_e(ar.doIdentityIds||[]),Y(ar.doCategoryIds||[]),de(ar.doSubcategoryIds||[]),it(ar.doSubsubCategoryIds||[]),Pe(ar.interestIdentityIds||[]),mt(ar.interestCategoryIds||[]),Oe(ar.interestSubcategoryIds||[]),qe(ar.interestSubsubCategoryIds||[]),Ct(ar.industryCategoryIds||[]),ee(ar.industrySubcategoryIds||[]),K(ar.industrySubsubCategoryIds||[]);const Qn=yield Se.get("/industry-categories/tree");Mt(Array.isArray((Ut=Qn.data)==null?void 0:Ut.industryCategories)?Qn.data.industryCategories:[])}catch(ar){console.error(ar),k(!0),E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{nv()},3e3)}finally{v(!1)}}),[n,e]);d.useEffect(()=>{pe(this,null,function*(){try{jT(!0);const me=yield fetch("/data/cities.json");if(!me.ok)throw new Error("Failed to fetch cities");const Re=yield me.json();wT(Re)}catch(me){console.error("Error fetching cities:",me),oe.error("Failed to load cities data"),wT([])}finally{jT(!1)}})},[]),d.useEffect(()=>(nv(),()=>{E.current&&clearTimeout(E.current)}),[nv]),d.useEffect(()=>{ot.length===0&&!p&&pe(this,null,function*(){var P;try{const me=yield Se.get("/api/industry-categories/tree");Mt(Array.isArray((P=me.data)==null?void 0:P.industryCategories)?me.data.industryCategories:[])}catch(me){console.error("Failed to load industry categories:",me)}})},[ot.length,p]);const AT=(a5=(s5=x==null?void 0:x.progress)==null?void 0:s5.percent)!=null?a5:0,Jte=["Junior","Mid","Senior","Lead","Director","C-level"],Zte=["Startup","Small business","Medium business","Large enterprise","Public company"];function Qte(){return pe(this,null,function*(){var P,me;try{if(y(!0),n&&e){const Re={name:C.name,phone:C.phone,nationality:C.nationality,country:C.country,countryOfResidence:C.countryOfResidence,city:C.city,address:C.address,gender:C.gender,otherCountries:C.otherCountries,webpage:C.webpage,profile:{birthDate:C.birthDate,professionalTitle:C.professionalTitle,about:C.about,avatarUrl:C.avatarUrl,coverImage:C.coverImage}};yield xm(e,Re),oe.success(S?"Company info saved!":"Personal info saved!");const{data:at}=yield s0(e);w(he(te({},x),{user:he(te({},x.user),{name:C.name,phone:C.phone,nationality:C.nationality,country:C.country,countryOfResidence:C.countryOfResidence,city:C.city,address:C.address}),profile:he(te({},x.profile),{birthDate:C.birthDate,professionalTitle:C.professionalTitle,about:C.about,avatarUrl:C.avatarUrl,coverImage:C.coverImage}),progress:at.progress}))}else{const{data:Re}=yield jV(C);w(Re),oe.success(S?"Company info saved!":"Personal info saved!")}}catch(Re){oe.error(((me=(P=Re==null?void 0:Re.response)==null?void 0:P.data)==null?void 0:me.message)||"Failed to save.")}finally{y(!1)}})}function Kte(){return pe(this,null,function*(){var P,me;try{if(y(!0),n&&e){const Re={profile:{experienceLevel:A.experienceLevel,skills:A.skills,languages:A.languages}};yield xm(e,Re),oe.success("Professional info saved!");const{data:at}=yield s0(e);w(he(te({},x),{profile:he(te({},x.profile),{experienceLevel:A.experienceLevel,skills:A.skills,languages:A.languages}),progress:at.progress}))}else{const{data:Re}=yield qpe(A);w(Re),oe.success("Professional info saved!")}}catch(Re){oe.error(((me=(P=Re==null?void 0:Re.response)==null?void 0:P.data)==null?void 0:me.message)||"Failed to save.")}finally{y(!1)}})}function Xte(){return pe(this,null,function*(){var P,me;try{if(y(!0),n&&e){const Re={profile:{cvBase64:W.cvBase64}};yield xm(e,Re),oe.success("Portfolio info saved!");const{data:at}=yield s0(e);w(he(te({},x),{profile:he(te({},x.profile),{cvBase64:W.cvBase64}),progress:at.progress}))}else{const{data:Re}=yield Ype({cvBase64:W.cvBase64});w(Re),i(he(te({},a),{cvBase64:W.cvBase64})),oe.success("Portfolio info saved!")}}catch(Re){oe.error(((me=(P=Re==null?void 0:Re.response)==null?void 0:P.data)==null?void 0:me.message)||"Failed to save.")}finally{y(!1)}})}function ere(){return pe(this,null,function*(){var P,me;try{if(y(!0),n&&e){yield xm(e,{profile:{isOpenToWork:F}}),oe.success("Availability updated!");const{data:at}=yield s0(e);w(he(te({},x),{profile:he(te({},x.profile),{isOpenToWork:F}),progress:at.progress}))}else{const{data:Re}=yield ixe({isOpenToWork:!F});w(Re),oe.success("Availability updated!")}}catch(Re){oe.error(((me=(P=Re==null?void 0:Re.response)==null?void 0:P.data)==null?void 0:me.message)||"Failed to update availability.")}finally{y(!1)}})}function _T(){const P=(Q||"").trim();P&&(U(me=>me.skillsTags.includes(P)?me:he(te({},me),{skillsTags:[...me.skillsTags,P]})),re(""))}function tre(P){U(me=>he(te({},me),{skillsTags:me.skillsTags.filter((Re,at)=>at!==P)}))}function rre(P){return pe(this,null,function*(){const me=Array.from(P||[]);if(me.length)try{const Re=yield Promise.all(me.map(at=>pe(this,null,function*(){const yt=yield ore(at);return{name:le||at.name,base64url:yt,isImage:lre(yt)}})));U(at=>he(te({},at),{attachments:[...at.attachments,...Re]})),ue("")}catch(Re){console.error(Re),oe.error("Some files could not be read.")}})}function nre(P){U(me=>he(te({},me),{attachments:me.attachments.filter((Re,at)=>at!==P)}))}function sre(P){ke(P)}function Zj(P,me){me.trim()&&(U(Re=>he(te({},Re),{attachments:Re.attachments.map((at,yt)=>yt===P?he(te({},at),{name:me.trim()}):at)})),ke(null))}function OT(){ke(null)}function are(P){T(P.id),z(!0),U({title:P.title||"",description:P.description||"",projectUrl:P.projectUrl||"",skillsTags:Array.isArray(P.technologies)?P.technologies:[],attachments:Array.isArray(P.attachments)?P.attachments:[]})}function Qj(){T(null),U({title:"",description:"",projectUrl:"",skillsTags:[],attachments:[]}),re(""),ue(""),ke(null)}function ire(){return pe(this,null,function*(){if(!_.title.trim()){oe.error("Project title is required");return}try{const P={title:_.title.trim(),description:_.description.trim()||null,projectUrl:_.projectUrl.trim()||null,technologies:_.skillsTags,attachments:_.attachments,isPublic:!0};if(O){yield exe(O,P);const{data:me}=yield DO();Z(Array.isArray(me==null?void 0:me.workSamples)?me.workSamples:[]),oe.success("Work sample updated successfully")}else{const{data:me}=yield Xpe(P);Z(Re=>[me.workSample,...Re]),oe.success("Work sample added successfully")}Qj(),z(!1)}catch(P){oe.error("Failed to save work sample")}})}function ore(P){return new Promise((me,Re)=>{const at=new FileReader;at.onerror=Re,at.onload=()=>me(at.result),at.readAsDataURL(P)})}function lre(P){return typeof P=="string"&&P.startsWith("data:image")}function $T(P){return P&&typeof P.base64url=="string"&&P.base64url.startsWith("data:image")}function sv(){return pe(this,null,function*(){try{rt(!0);const{data:P}=yield rxe();He(Array.isArray(P==null?void 0:P.gallery)?P.gallery:[])}catch(P){console.error("Failed to load gallery:",P),oe.error("Failed to load gallery")}finally{rt(!1)}})}function cre(P){return pe(this,null,function*(){const me=Array.from(P.target.files);if(!me||me.length===0)return;const Re=[],at=[];if(me.forEach((yt,bt)=>{if(!yt.type.startsWith("image/")){at.push(`File ${bt+1}: Please select an image file`);return}if(yt.size>5*1024*1024){at.push(`File ${bt+1}: Image size must be less than 5MB`);return}Re.push(yt)}),at.length>0){at.forEach(yt=>oe.error(yt));return}Re.length>0&&oe.success(`${Re.length} image(s) selected for upload`),ae(Re)})}function dre(){return pe(this,null,function*(){var P,me,Re,at,yt,bt;if(!G&&(!se||se.length===0)){oe.error("Please select at least one image");return}G&&se.length===0&&console.log("Updating gallery item metadata only (no new files)"),Ce(!0);try{const Nt=new FormData;se&&se.length>0&&se.forEach((Ot,qt)=>{Nt.append("imageBase64",Ot),console.log(`File ${qt+1}:`,Ot.name,Ot.size,Ot.type)}),Nt.append("title",fe.title||""),Nt.append("description",fe.description||""),Nt.append("isPublic",fe.isPublic.toString()),console.log("FormData contents:");for(let Ot of Nt.entries())console.log(Ot[0]+": "+(Ot[1]instanceof File?`File(${Ot[1].name})`:Ot[1]));if(G)console.log("Updating existing gallery item:",G.id),yield sxe(G.id,Nt),oe.success("Gallery item updated successfully");else{console.log(`Creating ${se.length} new gallery item(s)`);const Ot=yield nxe(Nt),qt=((me=(P=Ot.data)==null?void 0:P.galleryItems)==null?void 0:me.length)||((Re=Ot.data)==null?void 0:Re.length)||se.length;oe.success(`${qt} image(s) added to gallery successfully`)}yield sv(),Kj(),V(!1),ae([]),Ce(!1)}catch(Nt){console.error("Failed to save gallery item:",Nt),console.error("Error response:",(at=Nt.response)==null?void 0:at.data),oe.error(`Failed to save gallery item: ${((bt=(yt=Nt.response)==null?void 0:yt.data)==null?void 0:bt.message)||Nt.message}`)}finally{Ce(!1)}})}function ure(P){return pe(this,null,function*(){var me,Re;if(console.log("deleteGalleryItem called with:",P),!P||!P.id){console.error("Invalid gallery item:",P),oe.error("Invalid gallery item");return}try{console.log("Deleting gallery item:",P.id,P),yield axe(P.id),yield sv(),oe.success("Gallery item deleted successfully")}catch(at){console.error("Failed to delete gallery item:",at),oe.error(`Failed to delete gallery item: ${((Re=(me=at.response)==null?void 0:me.data)==null?void 0:Re.message)||at.message}`)}})}function fre(P){Ne(P),V(!0),xe({title:P.title||"",description:P.description||"",isPublic:P.isPublic!==!1}),ae([])}function Kj(){Ne(null),xe({title:"",description:"",isPublic:!0}),ae([])}function hre(){return pe(this,null,function*(){var P,me;try{if(y(!0),n&&e)oe.error("Admin editing of taxonomy selections is not supported yet.");else{const{data:Re}=yield Zpe({identityIds:lt,categoryIds:be,subcategoryIds:ie,subsubCategoryIds:$e});w(Re),oe.success("Updated what you DO!")}}catch(Re){oe.error(((me=(P=Re==null?void 0:Re.response)==null?void 0:P.data)==null?void 0:me.message)||"Failed to save.")}finally{y(!1)}})}function gre(){return pe(this,null,function*(){var P,me;try{if(y(!0),n&&e)oe.error("Admin editing of taxonomy selections is not supported yet.");else{const{data:Re}=yield Qpe({identityIds:Ae,categoryIds:Qe,subcategoryIds:Me,subsubCategoryIds:We});w(Re),oe.success("Updated what you're LOOKING FOR!")}}catch(Re){oe.error(((me=(P=Re==null?void 0:Re.response)==null?void 0:P.data)==null?void 0:me.message)||"Failed to save.")}finally{y(!1)}})}function mre(){return pe(this,null,function*(){var P,me;try{if(y(!0),n&&e)oe.error("Admin editing of taxonomy selections is not supported yet.");else{const{data:Re}=yield Kpe({industryCategoryIds:_t,industrySubcategoryIds:B,industrySubsubCategoryIds:q});w(Re),oe.success("Updated your industries!")}}catch(Re){oe.error(((me=(P=Re==null?void 0:Re.response)==null?void 0:P.data)==null?void 0:me.message)||"Failed to save.")}finally{y(!1)}})}const Yd=P=>P.id||`name:${P.name}`,PT=d.useMemo(()=>{const P={};for(const me of j){const Re=Yd(me);for(const at of me.categories||[])at!=null&&at.id&&(P[at.id]=P[at.id]||new Set,P[at.id].add(Re))}return P},[j]),DT=d.useMemo(()=>{const P={};for(const me of j){const Re=Yd(me);for(const at of me.categories||[])for(const yt of at.subcategories||[])yt!=null&&yt.id&&(P[yt.id]=P[yt.id]||new Set,P[yt.id].add(Re))}return P},[j]),RT=d.useMemo(()=>{const P={};for(const me of j){const Re=Yd(me);for(const at of me.categories||[])for(const yt of at.subcategories||[])for(const bt of yt.subsubs||[])bt!=null&&bt.id&&(P[bt.id]=P[bt.id]||new Set,P[bt.id].add(Re))}return P},[j]),mc=d.useMemo(()=>{const P={};for(const me of j)for(const Re of me.categories||[])for(const at of Re.subcategories||[])at!=null&&at.id&&(P[at.id]=Re.id);return P},[j]),yg=d.useMemo(()=>{const P={};for(const me of j)for(const Re of me.categories||[])for(const at of Re.subcategories||[])for(const yt of at.subsubs||[])yt!=null&&yt.id&&(P[yt.id]=at.id);return P},[j]),FT=d.useMemo(()=>{const P={};for(const me of j)for(const Re of me.categories||[]){if(!(Re!=null&&Re.id))continue;const at=(Re.subcategories||[]).map(yt=>yt.id).filter(Boolean);P[Re.id]=Array.from(new Set([...P[Re.id]||[],...at]))}return P},[j]),av=d.useMemo(()=>{const P={};for(const me of j)for(const Re of me.categories||[])for(const at of Re.subcategories||[]){if(!(at!=null&&at.id))continue;const yt=(at.subsubs||[]).map(bt=>bt.id).filter(Boolean);P[at.id]=Array.from(new Set([...P[at.id]||[],...yt]))}return P},[j]);function pre({catIds:P,setCatIds:me,setSubIds:Re,setXIds:at}){return yt=>{if(!yt)return;if(P.includes(yt)){const Nt=FT[yt]||[],Ot=Nt.flatMap(qt=>av[qt]||[]);me(qt=>qt.filter(rr=>rr!==yt)),Re(qt=>qt.filter(rr=>!Nt.includes(rr))),at(qt=>qt.filter(rr=>!Ot.includes(rr)))}else me(Nt=>[...Nt,yt])}}function xre({subIds:P,setSubIds:me,setXIds:Re,setCatIds:at}){return yt=>{if(!yt)return;const bt=mc[yt];if(P.includes(yt)){const Ot=av[yt]||[];me(qt=>qt.filter(rr=>rr!==yt)),Re(qt=>qt.filter(rr=>!Ot.includes(rr)))}else bt&&at(Ot=>Ot.includes(bt)?Ot:[...Ot,bt]),me(Ot=>[...Ot,yt])}}function vre({setXIds:P,subIds:me,setSubIds:Re,setCatIds:at}){return yt=>{if(!yt)return;const bt=yg[yt];bt&&mc[bt],P(Nt=>Nt.includes(yt)?Nt.filter(qt=>qt!==yt):[...Nt,yt])}}const yre=P=>{const Re=lt.includes(P),at=Re?[]:[P];_e(at),De(Re?null:P);const yt=(bt,Nt)=>{const Ot=bt[Nt];return Ot?at.some(qt=>Ot.has(qt)):!1};it(bt=>bt.filter(Nt=>yt(RT,Nt))),de(bt=>bt.filter(Nt=>yt(DT,Nt))),Y(bt=>bt.filter(Nt=>yt(PT,Nt)))},bre=pre({catIds:be,setCatIds:Y,setSubIds:de,setXIds:it}),wre=xre({subIds:ie,setSubIds:de,setXIds:it,setCatIds:Y}),jre=vre({setXIds:it,subIds:ie,setSubIds:de,setCatIds:Y}),Nre=P=>{Pe(me=>{const Re=me.includes(P),at=!Re;if(at&&me.length>=Le)return me;const yt=Re?me.filter(Nt=>Nt!==P):[...me,P];if(at)Ge(P);else if(Re&&vt===P){const Nt=yt.length>0?yt[yt.length-1]:null;Ge(Nt)}const bt=(Nt,Ot)=>{const qt=Nt[Ot];return qt?yt.some(rr=>qt.has(rr)):!1};return qe(Nt=>Nt.filter(Ot=>bt(RT,Ot))),Oe(Nt=>Nt.filter(Ot=>bt(DT,Ot))),mt(Nt=>Nt.filter(Ot=>bt(PT,Ot))),yt})},Sre=P=>{mt(me=>{if(me.includes(P)){const at=FT[P]||[],yt=at.flatMap(bt=>av[bt]||[]);return Oe(bt=>bt.filter(Nt=>!at.includes(Nt))),qe(bt=>bt.filter(Nt=>!yt.includes(Nt))),me.filter(bt=>bt!==P)}else return[...me,P]})},Cre=P=>{const me=mc[P];Oe(Re=>{if(Re.includes(P)){const yt=av[P]||[];return qe(bt=>bt.filter(Nt=>!yt.includes(Nt))),Re.filter(bt=>bt!==P)}else return me&&!Qe.includes(me)&&mt(yt=>[...yt,me]),[...Re,P]})},kre=P=>{const me=yg[P],Re=me?mc[me]:null;qe(at=>at.includes(P)?at.filter(bt=>bt!==P):(me&&!Me.includes(me)&&Oe(bt=>[...bt,me]),Re&&!Qe.includes(Re)&&mt(bt=>[...bt,Re]),[...at,P]))};function Ere({industryCatIds:P,setIndustryCatIds:me,setIndustrySubIds:Re,setIndustryXIds:at,setOpenIndustryCats:yt,setOpenIndustrySubs:bt}){return Nt=>{var qt,rr;if(!Nt)return;if(P.includes(Nt)){const sr=((rr=(qt=ot.find(Ut=>Ut.id===Nt))==null?void 0:qt.subcategories)==null?void 0:rr.map(Ut=>Ut.id))||[],Tr=sr.flatMap(Ut=>{var ar,Gr,mr,Qt;return((Qt=(mr=(Gr=(ar=ot.find(Qn=>Qn.id===Nt))==null?void 0:ar.subcategories)==null?void 0:Gr.find(Qn=>Qn.id===Ut))==null?void 0:mr.subsubs)==null?void 0:Qt.map(Qn=>Qn.id))||[]});me(Ut=>Ut.filter(ar=>ar!==Nt)),Re(Ut=>Ut.filter(ar=>!sr.includes(ar))),at(Ut=>Ut.filter(ar=>!Tr.includes(ar))),yt(Ut=>{const ar=new Set(Ut);return ar.delete(Nt),ar}),bt(Ut=>{const ar=new Set(Ut);for(const Gr of sr)ar.delete(Gr);return ar})}else me(sr=>[...sr,Nt]),yt(sr=>new Set(sr).add(Nt))}}function Lre({industrySubIds:P,setIndustrySubIds:me,setIndustryXIds:Re,setOpenIndustrySubs:at,setIndustryCatIds:yt,setOpenIndustryCats:bt}){return Nt=>{var rr,sr,Tr,Ut,ar;if(!Nt)return;const Ot=(rr=ot.find(Gr=>{var mr;return(mr=Gr.subcategories)==null?void 0:mr.some(Qt=>Qt.id===Nt)}))==null?void 0:rr.id;if(P.includes(Nt)){const Gr=((ar=(Ut=(Tr=(sr=ot.find(mr=>mr.id===Ot))==null?void 0:sr.subcategories)==null?void 0:Tr.find(mr=>mr.id===Nt))==null?void 0:Ut.subsubs)==null?void 0:ar.map(mr=>mr.id))||[];me(mr=>mr.filter(Qt=>Qt!==Nt)),Re(mr=>mr.filter(Qt=>!Gr.includes(Qt))),at(mr=>{const Qt=new Set(mr);return Qt.delete(Nt),Qt})}else Ot&&(yt(Gr=>Gr.includes(Ot)?Gr:[...Gr,Ot]),bt(Gr=>new Set(Gr).add(Ot))),me(Gr=>[...Gr,Nt])}}function Mre({setIndustryXIds:P,industrySubIds:me,setIndustrySubIds:Re,setIndustryCatIds:at,setOpenIndustryCats:yt}){return bt=>{var qt,rr;if(!bt)return;const Nt=(qt=ot.flatMap(sr=>sr.subcategories||[]).find(sr=>{var Tr;return(Tr=sr.subsubs)==null?void 0:Tr.some(Ut=>Ut.id===bt)}))==null?void 0:qt.id,Ot=Nt?(rr=ot.find(sr=>{var Tr;return(Tr=sr.subcategories)==null?void 0:Tr.some(Ut=>Ut.id===Nt)}))==null?void 0:rr.id:null;P(sr=>sr.includes(bt)?sr.filter(Ut=>Ut!==bt):(Nt&&!me.includes(Nt)&&Re(Ut=>[...Ut,Nt]),Ot&&(at(Ut=>Ut.includes(Ot)?Ut:[...Ut,Ot]),yt(Ut=>new Set(Ut).add(Ot))),[...sr,bt]))}}const Ire=Ere({industryCatIds:_t,setIndustryCatIds:Ct,setIndustrySubIds:ee,setIndustryXIds:K,setOpenIndustryCats:ft,setOpenIndustrySubs:xt}),Tre=Lre({industrySubIds:B,setIndustrySubIds:ee,setIndustryXIds:K,setOpenIndustrySubs:xt,setIndustryCatIds:Ct,setOpenIndustryCats:ft}),Are=Mre({setIndustryXIds:K,industrySubIds:B,setIndustrySubIds:ee,setIndustryCatIds:Ct,setOpenIndustryCats:ft}),BT=(P,me,Re)=>{const at=new Set(P),yt=new Set(me);for(const bt of me){const Nt=mc[bt];Nt&&at.add(Nt)}for(const bt of Re){const Nt=yg[bt];if(Nt){yt.add(Nt);const Ot=mc[Nt];Ot&&at.add(Ot)}}return{cats:at,subs:yt}};d.useEffect(()=>{if(g!==Yt.DO)return;const{cats:P,subs:me}=BT(be,ie,$e);ye(P),ut(me)},[g,be,ie,$e,mc,yg]),d.useEffect(()=>{g===Yt.DO&&lt.length>0&&!gt&&De(lt[lt.length-1])},[g,lt,gt]),d.useEffect(()=>{if(g!==Yt.INTERESTS)return;const{cats:P,subs:me}=BT(Qe,Me,We);Ee(P),Ve(me)},[g,Qe,Me,We,mc,yg]),d.useEffect(()=>{g===Yt.INTERESTS&&Ae.length>0&&!vt&&Ge(Ae[Ae.length-1])},[g,Ae,vt]),d.useEffect(()=>{if(g!==Yt.INDUSTRIES)return;const P=new Set(_t),me=new Set(B);ft(P),xt(me)},[g,_t,B]);const _re=()=>r.jsxs("div",{className:"min-h-screen grid place-items-center text-brand-700",children:[r.jsxs("svg",{className:"h-6 w-6 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),r.jsx("span",{className:"ml-2",children:"Loading"})]});if(p)return r.jsx(_re,{});if(L)return r.jsx(hl,{onRetry:()=>{k(!1),E.current&&clearTimeout(E.current),E.current=null,nv()},message:"Failed to load profile. Please try again.",buttonText:"Try Again"});if(!x)return null;function zT({picked:P,onToggle:me,activeTab:Re,onTabSwitch:at,limit:yt}){const bt=typeof yt=="number"&&P.length>=yt,Nt=d.useMemo(()=>{const Ot=new Set(P);return j.filter(qt=>Ot.has(Yd(qt)))},[P,j]);return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available Identities"}),r.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-2",children:j.filter(Ot=>Ot.type==(s==null?void 0:s.accountType)||g!=Yt.DO).map((Ot,qt)=>{const rr=Yd(Ot),sr=P.includes(rr),Tr=!sr&&bt;return r.jsxs("button",{onClick:()=>!Tr&&me(rr),disabled:Tr,className:`rounded-xl flex items-center justify-between border px-4 py-3 text-left hover:shadow-soft transition-all ${sr?"border-brand-700 bg-brand-50 ring-2 ring-brand-200":"border-gray-200"} ${Tr?"opacity-50 cursor-not-allowed":""}`,children:[r.jsx("div",{children:r.jsx("div",{className:"font-medium",children:Ot.name})}),r.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${sr?"bg-brand-600 border-brand-600":"border-gray-300"}`,children:sr&&r.jsx("svg",{className:"w-3 h-3 text-white mx-auto mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},`${qt}-${Ot.name}`)})})]}),Nt.length>0&&r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selected Identities"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Nt.map((Ot,qt)=>{const rr=Yd(Ot),sr=Re===rr;return r.jsx("button",{onClick:()=>at(rr),className:`px-4 py-2 rounded-full border text-sm font-medium transition-all ${sr?"bg-brand-700 text-white border-brand-700":"bg-white text-gray-700 ring-1 border-gray-300 hover:bg-gray-50"}`,children:Ot.name},`${qt}-${Ot.name}`)})})]})]})}function UT({selectedIdentitiesKeys:P,catIds:me,subIds:Re,xIds:at,openCats:yt,openSubs:bt,onToggleCat:Nt,onToggleSub:Ot,onToggleSubsub:qt,setOpenCats:rr,setOpenSubs:sr,catLimit:Tr,ensureCatOpenOnSelect:Ut=!0,ensureSubOpenOnSelect:ar=!0,color:Gr="categories"}){const mr=dn=>Array.isArray(dn==null?void 0:dn.subcategories)&&dn.subcategories.length>0,Qt=dn=>Array.isArray(dn==null?void 0:dn.subsubs)&&dn.subsubs.length>0,Qn=d.useMemo(()=>{const dn=new Set(P);return j.filter(oi=>dn.has(Yd(oi)))},[j,P]),Fr={identities:{container:"bg-gray-50 border-gray-200",subcategory:"bg-gray-100 border-gray-300",subsubcategory:"bg-gray-200"},categories:{container:"bg-gray-50 border-gray-200",subcategory:"bg-gray-100 border-gray-300",subsubcategory:"bg-gray-200"}}[Gr];if(Qn.length===0)return r.jsx("div",{className:`rounded-xl border bg-white p-6 text-sm text-gray-600 ${Fr.container}`,children:"Select at least one identity to see categories."});const Xj=dn=>{rr(oi=>{const Br=new Set(oi);return Br.has(dn)?Br.delete(dn):Br.add(dn),Br})},$a=dn=>{sr(oi=>{const Br=new Set(oi);return Br.has(dn)?Br.delete(dn):Br.add(dn),Br})};return r.jsx("div",{className:"space-y-4",children:Qn.map((dn,oi)=>r.jsxs("div",{className:`rounded-xl border ${Fr.container}`,children:[r.jsx("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 rounded-t-xl",children:r.jsx("div",{className:"font-semibold",children:dn.name})}),r.jsx("div",{className:"px-4 py-4 space-y-3",children:(dn.categories||[]).map((Br,Tf)=>{const bl=mr(Br),bg=!!Br.id&&yt.has(Br.id),e4=!!Br.id&&me.includes(Br.id);return r.jsxs("div",{className:"border rounded-lg bg-white",children:[" ",r.jsxs("div",{className:"flex items-center justify-between px-4 py-3 cursor-pointer select-none",role:"button","aria-expanded":bg,onClick:()=>Br.id&&Xj(Br.id),children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",onClick:us=>us.stopPropagation(),children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:e4,onChange:us=>{us.stopPropagation(),Br.id&&(Nt(Br.id),Ut&&bl&&rr(iv=>new Set(iv).add(Br.id)))},disabled:!Br.id||!1,title:Br.id?"":"Category not found in DB"}),r.jsx("span",{className:"font-medium",children:Br.name})]}),bl&&r.jsx("span",{className:`text-gray-500 transition-transform ${bg?"rotate-180":""}`,children:""})]}),bl&&bg&&r.jsx("div",{className:"px-4 pb-4 space-y-3",children:(Br.subcategories||[]).map((us,iv)=>{const t4=Qt(us),r4=!!us.id&&bt.has(us.id),l5=!!us.id&&Re.includes(us.id);return Br.id&&me.includes(Br.id),r.jsxs("div",{className:`border rounded-lg ${Fr.subcategory}`,children:[" ",r.jsxs("div",{className:"flex items-center justify-between px-4 py-3 cursor-pointer select-none",role:"button","aria-expanded":r4,onClick:()=>us.id&&$a(us.id),children:[r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",onClick:Oi=>Oi.stopPropagation(),children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:l5,onChange:Oi=>{Oi.stopPropagation(),us.id&&(Ot(us.id),ar&&t4&&sr(n4=>new Set(n4).add(us.id)))},disabled:!us.id||!1,title:us.id?"":"Subcategory not found in DB"}),r.jsx("span",{className:"font-medium",children:us.name})]}),t4&&r.jsx("span",{className:`text-gray-500 transition-transform ${r4?"rotate-180":""}`,children:""})]}),t4&&(r4||l5)&&r.jsx("div",{className:"px-4 pb-3",children:r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:us.subsubs.map((Oi,n4)=>{Br.id&&me.includes(Br.id);const $re=!!Oi.id&&at.includes(Oi.id),c5=!1;return r.jsxs("label",{className:`inline-flex items-center gap-2 px-2 py-1 border border-gray-300 rounded-full text-sm  ${Fr.subsubcategory}`,children:[r.jsx("input",{type:"checkbox",checked:!!Oi.id&&$re,onChange:()=>{!Oi.id||c5||qt(Oi.id)},disabled:!Oi.id||c5,title:Oi.id?"":"Level-3 not found in DB"}),r.jsx("span",{children:Oi.name})]},`ss-${oi}-${Tf}-${iv}-${n4}`)})})})]},`sub-${oi}-${Tf}-${iv}`)})})]},`cat-${oi}-${Tf}`)})})]},`iden-${oi}`))})}function Ore({title:P,subtitle:me,industryCatIds:Re,industrySubIds:at,industryXIds:yt,openIndustryCats:bt,openIndustrySubs:Nt,onToggleIndustryCat:Ot,onToggleIndustrySub:qt,onToggleIndustrySubsub:rr,setOpenIndustryCats:sr,setOpenIndustrySubs:Tr}){const Ut=Qt=>Array.isArray(Qt==null?void 0:Qt.subcategories)&&Qt.subcategories.length>0,ar=Qt=>Array.isArray(Qt==null?void 0:Qt.subsubs)&&Qt.subsubs.length>0,Gr=Qt=>{sr(Qn=>{const pr=new Set(Qn);return pr.has(Qt)?pr.delete(Qt):pr.add(Qt),pr})},mr=Qt=>{Tr(Qn=>{const pr=new Set(Qn);return pr.has(Qt)?pr.delete(Qt):pr.add(Qt),pr})};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:P}),r.jsx("p",{className:"text-gray-600",children:me})]}),r.jsx("div",{className:"space-y-4",children:ot.length===0?r.jsx("div",{className:"rounded-xl border bg-white p-6 text-sm text-gray-600",children:"Loading industry categories..."}):ot.map((Qt,Qn)=>{const pr=Ut(Qt),Fr=!!Qt.id&&bt.has(Qt.id),Xj=!!Qt.id&&Re.includes(Qt.id);return r.jsxs("div",{className:"rounded-xl border",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 rounded-t-xl",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:Xj,onChange:()=>Qt.id&&Ot(Qt.id)})}),r.jsx("div",{className:"font-semibold",children:Qt.name})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-xs text-gray-500",children:(Qt.subcategories||[]).length}),pr&&r.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700 ml-auto","aria-expanded":Fr,onClick:()=>Qt.id&&Gr(Qt.id),children:r.jsx("span",{className:`inline-block transition-transform ${Fr?"rotate-180":""}`,children:""})})]})]}),r.jsx("div",{className:`${pr&&Fr?"px-4 py-4 space-y-3":""}`,children:pr&&Fr&&r.jsx("div",{className:"ml-7 space-y-3",children:(Qt.subcategories||[]).map(($a,dn)=>{const oi=ar($a),Br=!!$a.id&&Nt.has($a.id),Tf=!!$a.id&&at.includes($a.id);return r.jsxs("div",{className:"border rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("label",{className:"flex items-center w-full flex-1 gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 text-brand-600",checked:Tf,onChange:()=>$a.id&&qt($a.id)}),r.jsx("span",{className:"font-medium w-full flex flex-1",children:$a.name})]}),oi&&r.jsx("button",{type:"button",onClick:()=>$a.id&&mr($a.id),className:"text-gray-500 hover:text-gray-700","aria-expanded":Br,"aria-label":`Toggle ${$a.name} sub-items`,children:r.jsx("span",{className:`inline-block transition-transform ${Br?"rotate-180":""}`,children:""})})]}),oi&&(Br||Tf)&&r.jsx("div",{className:"mt-2 flex flex-wrap gap-2 ml-7",children:$a.subsubs.map((bl,bg)=>{const e4=!!bl.id&&yt.includes(bl.id);return r.jsxs("label",{className:"inline-flex items-center gap-2 px-2 py-1 border rounded-full text-sm cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:e4,onChange:()=>bl.id&&rr(bl.id)}),r.jsx("span",{children:bl.name})]},`industry-ss-${Qn}-${dn}-${bg}`)})})]},`industry-sub-${Qn}-${dn}`)})})})]},`industry-cat-${Qn}`)})})]})}return r.jsxs("div",{className:"bg-[#F6F7FB]",children:[!n&&r.jsx(an,{}),r.jsxs("div",{className:"max-w-5xl mx-auto p-4 md:p-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm mb-6",children:[r.jsx("div",{className:"relative h-48 rounded-t-xl overflow-hidden border border-b-0",children:C.coverImage?r.jsxs("div",{className:"relative w-full h-full",children:[r.jsx("img",{src:C.coverImage,alt:"Cover",className:"w-full h-full object-cover cursor-pointer",onClick:()=>h(!0)}),r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx(sN,{type:"cover",coverImage:C.coverImage,onChange:P=>{M(he(te({},C),{coverImage:P}))}})})]}):r.jsxs("div",{className:"w-full h-full bg-gradient-to-r from-brand-600 to-brand-600 flex items-center justify-center relative",children:[r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx(sN,{type:"cover",coverImage:C.coverImage,onChange:P=>{M(he(te({},C),{coverImage:P}))}})}),r.jsxs("div",{className:"text-center",children:[r.jsx(YE,{size:32,className:"text-white mx-auto mb-2 opacity-70"}),r.jsx("p",{className:"text-white text-sm opacity-70",children:"cover image"})]})]})}),r.jsx("div",{className:"px-6 pb-6 relative",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between -mt-16 gap-4 mb-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(sN,{type:"avatar",onChange:P=>{M(he(te({},C),{avatarUrl:P})),o(he(te({},s),{avatarUrl:P}))},avatarUrl:C.avatarUrl}),C.avatarUrl?r.jsx("div",{className:`${S?"h-32 w-32 rounded-xl":"h-32 w-32 rounded-full"} border-4 border-white shadow-lg bg-white flex justify-center items-center overflow-hidden cursor-pointer hover:opacity-90 transition-opacity`,onClick:()=>u(!0),role:"button",tabIndex:0,children:r.jsx("img",{src:C.avatarUrl,alt:C.name||"Profile",className:"w-full h-full",style:{objectFit:S?"contain":"cover"}})}):r.jsx("div",{className:`${S?"h-32 w-32 rounded-xl":"h-32 w-32 rounded-full"} border-4 border-white shadow-lg bg-gradient-to-br from-brand-50 to-brand-50 grid place-items-center overflow-hidden`,children:r.jsx("span",{className:"font-semibold text-brand-600 text-2xl",children:I(C.name||"User")})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx("h1",{className:`${S?"text-3xl":"text-2xl"} font-bold text-white drop-shadow-md max-md:text-gray-900 relative z-10`,children:C.name||"Profile"}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10 blur-sm rounded-lg -m-1 z-0 max-md:hidden"})]}),S&&r.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-700 z-10 relative",children:"Company"}),!S&&((i5=x==null?void 0:x.user)==null?void 0:i5.accountType)&&r.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-gray-100 text-gray-700 z-10 relative",children:"Individual"})]}),r.jsx("div",{className:"mb-2 md:px-4 py-2 bg-white bg-opacity-90 backdrop-blur-sm rounded-lg shadow-sm border border-white border-opacity-20",children:r.jsx("p",{className:"text-gray-900 text-lg font-semibold",children:C.professionalTitle||(S?"Company":"Professional")})}),(C.city||C.countryOfResidence)&&r.jsxs("div",{className:"flex items-center gap-1 text-sm drop-shadow-md",children:[r.jsx(Hr,{size:16}),r.jsx("span",{children:[C.city,C.countryOfResidence].filter(Boolean).join(", ")})]})]})]}),r.jsxs("div",{className:"flex flex-col md:items-end gap-3 pt-5",children:[r.jsxs("div",{className:"text-right flex items-center gap-2",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Profile Completion"}),r.jsxs("div",{className:"text-sm font-bold text-gray-700",children:[" (",AT,"%) "]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-[10.5rem] max-md:w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-3 bg-gradient-to-r from-brand-500 to-brand-500 rounded-full transition-all duration-500 ease-out",style:{width:`${AT}%`}})}),r.jsxs("button",{onClick:()=>{var P;return l(`/profile/${(P=x==null?void 0:x.user)==null?void 0:P.id}`)},className:"px-4 py-1 w-full absolute justify-center gap-x-2 flex items-center top-[100%] translate-y-[6px] left-0 bg-green-600 text-white rounded-full hover:bg-green-700 transition-colors text-sm font-medium",children:["Public Profile ",r.jsx(Uu,{size:17})]})]})]})]})})]}),!n&&(s==null?void 0:s.accountType)=="individual"&&r.jsx("div",{className:"mt-4 bg-white rounded-xl shadow-soft p-4 border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${F?"bg-green-500":"bg-gray-400"}`}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900",children:F?"Open to work":"Not looking for work"}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:F?"Available for opportunities":"Tap to show availability"})]})]}),r.jsx("button",{onClick:()=>pe(this,null,function*(){const P=!F;D(P);try{yield ere()}catch(me){D(!P)}}),disabled:b,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${F?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:b?"...":F?"Close":"Open"})]})}),r.jsxs("div",{className:"mt-6 flex gap-2 flex-wrap",children:[r.jsx("button",{className:`px-4 py-2 rounded-full border ${g===Yt.PERSONAL?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>m(Yt.PERSONAL),children:S?"Company Info":"Personal"}),r.jsx("button",{className:`px-4 py-2 rounded-full border ${g===Yt.PROFESSIONAL?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>m(Yt.PROFESSIONAL),children:S?"Company Details":"Professional"}),r.jsx("button",{className:`px-4 py-2 rounded-full border ${g===Yt.DO?"bg-brand-700 text-white border-brand-700":"bg-gray-100 border-gray-300"}`,onClick:()=>m(Yt.DO),children:S?"What We Offer":"What I DO"}),r.jsx("button",{className:`px-4 py-2 rounded-full border ${g===Yt.INTERESTS?"bg-brand-700 text-white border-brand-700":"bg-gray-100 border-gray-300"}`,onClick:()=>m(Yt.INTERESTS),children:S?"What We're LOOKING FOR":"What I'm LOOKING FOR"}),r.jsx("button",{className:`px-4 py-2 rounded-full border ${g===Yt.PORTFOLIO?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>m(Yt.PORTFOLIO),children:S?"Company Portfolio":"Portfolio"}),r.jsx("button",{className:`px-4 py-2 rounded-full border ${g===Yt.GALLERY?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>m(Yt.GALLERY),children:"Gallery"}),r.jsx("button",{className:`px-4 py-2 rounded-full border ${g===Yt.INDUSTRIES?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>m(Yt.INDUSTRIES),children:S?"Company Industries":"Industries"}),S&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:`px-4 py-2 rounded-full border ${g===Yt.REPRESENTATIVE?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>m(Yt.REPRESENTATIVE),children:"Representative"}),r.jsx("button",{className:`px-4 py-2 rounded-full border ${g===Yt.STAFF?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>m(Yt.STAFF),children:r.jsx("label",{children:" Staff "})}),r.jsx("button",{className:`px-4 py-2 rounded-full border ${g===Yt.JOB_APPLICATIONS?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>m(Yt.JOB_APPLICATIONS),children:"Job Applications"}),r.jsx("button",{className:`px-4 py-2 rounded-full border ${g===Yt.EVENT_REGISTRATIONS?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>m(Yt.EVENT_REGISTRATIONS),children:"Event Registrations"}),r.jsxs("button",{className:`px-4 py-2 rounded-full border relative ${g===Yt.JOIN_REQUESTS?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>m(Yt.JOIN_REQUESTS),children:["Join Requests",wr>0&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:wr})]})]}),!S&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:`px-4 py-2 rounded-full border ${g===Yt.APPLICATIONS?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>m(Yt.APPLICATIONS),children:"My Applications"}),r.jsx("button",{className:`px-4 py-2 rounded-full border ${g===Yt.EVENTS?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>m(Yt.EVENTS),children:"My Events"}),r.jsx("button",{className:`px-4 py-2 rounded-full border ${g===Yt.ORGANIZATIONS?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>m(Yt.ORGANIZATIONS),children:"Organizations"})]})]}),r.jsxs("div",{className:"mt-4 bg-white rounded-2xl shadow-soft p-5",children:[g===Yt.PERSONAL&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:S?"Company name":"Full name"}),r.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:C.name,onChange:P=>M(he(te({},C),{name:P.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),r.jsx("input",{disabled:!n,className:`w-full ${n?"":"opacity-50 pointer-events-none"} border rounded-lg px-3 py-2 bg-gray-50`,value:((o5=x==null?void 0:x.user)==null?void 0:o5.email)||"",readOnly:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),r.jsx("input",{onWheel:P=>P.currentTarget.blur(),type:"tel",className:"w-full border rounded-lg px-3 py-2",value:C.phone,onChange:P=>{const Re=P.target.value.replace(/[^+\d\-\(\)]/g,"");if((Re.match(/\+/g)||[]).length>1){const yt=Re.replace(/\+/g,"");M(he(te({},C),{phone:"+"+yt}))}else M(he(te({},C),{phone:Re}))}})]}),!S&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Birth date"}),r.jsx("input",{type:"date",className:"w-full border rounded-lg px-3 py-2",value:C.birthDate||"",onChange:P=>M(he(te({},C),{birthDate:P.target.value}))})]}),!S&&r.jsx("div",{children:r.jsx(Bn,{label:"Nationality",options:An,value:C.country,onChange:P=>M(he(te({},C),{country:P})),placeholder:"Select country of birth"})}),r.jsx("div",{children:r.jsx(Bn,{label:S?"Country (Headquarters)":"Country of residence",options:An,value:C.countryOfResidence,onChange:P=>M(he(te({},C),{countryOfResidence:P})),placeholder:S?"Select country of Headquarters":"Select country of residence"})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-1",children:["City ",S?"(Headquarters)":""]}),r.jsx(Bn,{value:C.city,onChange:P=>M(he(te({},C),{city:P})),options:Jj,placeholder:"Search and select city..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address"}),r.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:C.address,onChange:P=>M(he(te({},C),{address:P.target.value})),placeholder:"Street address, building, apartment, etc."})]}),S?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Company Website ",r.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),r.jsx("input",{type:"url",className:"w-full border rounded-lg px-3 py-2",value:C.webpage,onChange:P=>M(he(te({},C),{webpage:P.target.value})),placeholder:"https://www.yourcompany.com"})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(Ete,{value:C.otherCountries,onChange:P=>M(me=>he(te({},me),{otherCountries:P}))})})]}):r.jsx(r.Fragment,{children:r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gender"}),r.jsxs("select",{value:C.gender,onChange:P=>M(he(te({},C),{gender:P.target.value})),className:"w-full border rounded-lg px-3 py-2",children:[r.jsx("option",{value:"",disabled:!0,children:"Select gender"}),r.jsx("option",{value:"male",children:"Male"}),r.jsx("option",{value:"female",children:"Female"})]})]})}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsx("label",{className:"block text-sm font-medium",children:S?"Company description/type":"Professional title"}),r.jsxs("span",{className:`text-xs ${C.professionalTitle.length>$i.PROFESSIONAL_TITLE?"text-red-600":"text-gray-500"}`,children:[C.professionalTitle.length,"/",$i.PROFESSIONAL_TITLE]})]}),r.jsx("input",{className:`w-full border rounded-lg px-3 py-2 ${C.professionalTitle.length>$i.PROFESSIONAL_TITLE?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-brand-500 focus:ring-brand-500"}`,value:C.professionalTitle,onChange:P=>{P.target.value.length<=$i.PROFESSIONAL_TITLE&&M(he(te({},C),{professionalTitle:P.target.value}))},placeholder:S?"e.g., Venture Capital Firm, Technology Startup":"e.g., Software Engineer, Marketing Specialist"}),C.professionalTitle.length>$i.PROFESSIONAL_TITLE&&r.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Professional title must be ",$i.PROFESSIONAL_TITLE," characters or less"]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsx("label",{className:"block text-sm font-medium",children:S?"About the company":"About you"}),r.jsxs("span",{className:`text-xs ${C.about.length>$i.ABOUT?"text-red-600":"text-gray-500"}`,children:[C.about.length,"/",$i.ABOUT]})]}),r.jsx("textarea",{className:`w-full border rounded-lg px-3 py-2 ${C.about.length>$i.ABOUT?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-brand-500 focus:ring-brand-500"}`,rows:"4",value:C.about,onChange:P=>{P.target.value.length<=$i.ABOUT&&M(he(te({},C),{about:P.target.value}))},placeholder:S?"Describe your company, its mission, and focus areas...":"Tell others about yourself, your background, and interests..."}),C.about.length>$i.ABOUT&&r.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["About section must be ",$i.ABOUT," characters or less"]})]})]}),r.jsx("div",{className:"flex justify-end gap-3",children:r.jsx("button",{disabled:b,onClick:Qte,className:"px-4 py-2 rounded-xl bg-brand-700 text-white disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:b?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Saving..."]}):"Save"})})]}),g===Yt.PROFESSIONAL&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:S?"Company size/stage":"Experience level"}),r.jsxs("select",{className:"w-full border rounded-lg px-3 py-2",value:A.experienceLevel,onChange:P=>H(me=>he(te({},me),{experienceLevel:P.target.value})),children:[r.jsx("option",{value:"",children:"Select"}),(S?Zte:Jte).map(P=>r.jsx("option",{value:P,children:P},P))]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:S?"Company expertise":"Skills"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:A.skills.map((P,me)=>r.jsxs("span",{className:"inline-flex items-center gap-1 bg-brand-50 text-brand-700 rounded-full px-3 py-1 text-sm",children:[P,r.jsx("button",{onClick:()=>H(Re=>he(te({},Re),{skills:Re.skills.filter((at,yt)=>yt!==me)})),children:""})]},me))}),r.jsx("input",{className:"w-full border rounded-lg px-3 py-2",placeholder:"Type a skill and press Enter",onKeyDown:P=>{if(P.key==="Enter"){P.preventDefault();const me=P.currentTarget.value.trim();me&&H(Re=>he(te({},Re),{skills:Array.from(new Set([...Re.skills||[],me]))})),P.currentTarget.value=""}}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:S?"Working languages":"Languages"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:A.languages.map((P,me)=>r.jsxs("span",{className:"inline-flex items-center gap-2 bg-gray-100 rounded-full px-3 py-1 text-sm",children:[r.jsx("b",{children:P.name})," ",r.jsx("em",{className:"text-gray-600",children:P.level}),r.jsx("button",{onClick:()=>H(Re=>he(te({},Re),{languages:Re.languages.filter((at,yt)=>yt!==me)})),children:""})]},me))}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsx("input",{id:"lang-name",className:"flex-1 border rounded-lg px-3 py-2",placeholder:"Language (e.g., English)"}),r.jsxs("select",{id:"lang-level",className:"w-40 border rounded-lg px-3 py-2",children:[r.jsx("option",{children:"Basic"}),r.jsx("option",{children:"Intermediate"}),r.jsx("option",{children:"Advanced"}),r.jsx("option",{children:"Native"})]}),r.jsx("button",{className:"px-3 py-2 rounded-lg border",onClick:()=>{const P=document.getElementById("lang-name").value.trim(),me=document.getElementById("lang-level").value;P&&(H(Re=>he(te({},Re),{languages:[...Re.languages||[],{name:P,level:me}]})),document.getElementById("lang-name").value="")},children:"+ Add"})]})]}),r.jsx("div",{className:"flex justify-end gap-3",children:r.jsx("button",{disabled:b,onClick:Kte,className:"px-4 py-2 rounded-xl bg-brand-700 text-white disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:b?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Saving..."]}):"Save"})})]}),g===Yt.GALLERY&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:"Gallery"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Showcase your images and photos"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs("button",{onClick:()=>V(!0),className:"px-4 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800",children:[r.jsx("span",{className:"max-md:hidden",children:"Add Image"}),r.jsx("span",{className:"md:hidden",children:r.jsx(UC,{size:16})})]})})]}),Xe&&r.jsxs("div",{className:"border rounded-lg p-6 bg-gray-50",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h4",{className:"font-medium text-lg",children:G?"Edit Image":"Add New Image"}),r.jsx("button",{type:"button",onClick:()=>{Kj(),V(!1)},className:"text-gray-400 hover:text-gray-600 p-1",title:"Close",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title (Optional)"}),r.jsx("input",{type:"text",placeholder:"Enter image title",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent",value:fe.title,onChange:P=>xe(me=>he(te({},me),{title:P.target.value}))})]}),r.jsx("input",{type:"hidden",value:fe.description,onChange:P=>xe(me=>he(te({},me),{description:P.target.value}))}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:G?"Replace Image (Optional)":"Images"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:cre,className:"hidden",id:"gallery-file-input"}),r.jsxs("label",{htmlFor:"gallery-file-input",className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),G?"Choose New Image":"Choose Images"]}),se.length>0&&r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[se.length," file(s) selected:"]}),se.map((P,me)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-sm",children:P.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:[(P.size/1024/1024).toFixed(2)," MB  ",P.type]})]}),r.jsx("button",{type:"button",onClick:()=>ae(Re=>Re.filter((at,yt)=>yt!==me)),className:"text-red-500 hover:text-red-700 p-1",title:"Remove file",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},me))]}),G&&se.length===0&&r.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:[r.jsxs("div",{className:"text-sm text-blue-800",children:["Current image: ",r.jsx("span",{className:"font-medium",children:G.imageFileName})]}),r.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Leave empty to keep current image, or select new file(s) to replace it."})]}),r.jsx("div",{className:"text-xs text-gray-500",children:G?"Select new image(s) to replace the current one, or leave empty to keep existing image":"Select multiple images to upload at once. Max 5MB per image."})]})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:fe.isPublic,onChange:P=>xe(me=>he(te({},me),{isPublic:P.target.checked}))}),r.jsx("span",{className:"text-sm",children:"Make this image public"})]})})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{type:"button",onClick:()=>{Kj(),V(!1)},className:"px-6 py-2 rounded-lg border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:dre,disabled:ne,className:`px-6 py-2 rounded-lg text-white transition-all ${ne?"bg-gray-500 cursor-not-allowed":"bg-brand-700 hover:bg-brand-800"}`,children:ne?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),G?"Updating...":"Uploading..."]}):G?"Update Image":"Add Image"})]})]}),ze?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),r.jsx("p",{className:"text-gray-500 mt-2",children:"Loading gallery..."})]}):tt.length===0&&!ze?r.jsxs("div",{className:`text-center ${Xe?"hidden":""} py-12 border-2 border-dashed border-gray-300 rounded-lg`,children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No images yet"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start building your gallery by adding your first image."}),r.jsx("div",{className:"mt-6",children:r.jsxs("button",{onClick:()=>V(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-brand-600 hover:bg-brand-700",children:[r.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Your First Image"]})})]}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:tt.map(P=>r.jsxs("div",{className:`border rounded-lg overflow-hidden bg-white ${Xe?"hidden":""}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:P.imageUrl,alt:P.title||"Gallery image",className:"w-full h-48 object-cover"}),r.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[r.jsx("button",{onClick:me=>{me.stopPropagation(),fre(P)},className:"p-1 bg-white rounded-full shadow-sm hover:bg-gray-50",title:"Edit",children:r.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),r.jsx("button",{onClick:me=>{me.stopPropagation(),P&&ure(P)},className:"p-1 bg-white rounded-full shadow-sm hover:bg-gray-50",title:"Delete",children:r.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),r.jsxs("div",{className:"p-4",children:[P.title&&r.jsx("h4",{className:"font-medium text-sm mb-1",children:P.title}),P.description&&r.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:P.description}),r.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[P.isPublic?"Public":"Private","  Added ",new Date(P.createdAt).toLocaleDateString()]})]})]},P.id))})]}),g===Yt.PORTFOLIO&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-4",children:S?"Company CV/Resume":"CV/Resume"}),r.jsxs("div",{className:"space-y-4",children:[W.cvBase64.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Uploaded CVs"}),W.cvBase64.map((P,me)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-gray-50",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[Be===me?r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("input",{type:"text",value:nt,onChange:Re=>Te(Re.target.value),className:"flex-1 text-sm border rounded px-2 py-1",placeholder:"Enter CV title",autoFocus:!0})}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium truncate",children:P.title||P.original_filename}),P.title&&r.jsxs("span",{className:"text-xs text-gray-500 truncate",children:["(",P.original_filename,")"]})]}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[(P.base64.length*.75/1024).toFixed(1)," KB  Uploaded ",new Date(P.created_at).toLocaleDateString()]})]}),r.jsx("div",{className:"flex items-center gap-2",children:Be===me?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>{X(Re=>he(te({},Re),{cvBase64:Re.cvBase64.map((at,yt)=>yt===me?he(te({},at),{title:nt.trim()||""}):at)})),dt(null),Te("")},className:"text-green-600 hover:text-green-800 p-1",title:"Save",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsx("button",{onClick:()=>{dt(null),Te("")},className:"text-gray-600 hover:text-gray-800 p-1",title:"Cancel",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>{dt(me),Te(P.title||"")},className:"text-blue-600 hover:text-blue-800 p-1",title:"Edit title",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),r.jsx("a",{href:P.base64,download:P.original_filename,className:"text-blue-600 hover:text-blue-800 p-1",title:"Download",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),r.jsx("button",{onClick:()=>{X(Re=>he(te({},Re),{cvBase64:Re.cvBase64.filter((at,yt)=>yt!==me)}))},className:"text-red-600 hover:text-red-800 p-1",title:"Remove",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},me))]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Add CV (PDF, DOC, DOCX)"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("input",{type:"text",placeholder:"CV Title (optional)",className:"w-full border rounded-lg px-3 py-2 text-sm",id:"cv-title"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"file",accept:".pdf,.doc,.docx",className:"hidden",id:"cv-upload",onChange:P=>{const me=P.target.files[0],Re=document.getElementById("cv-title").value.trim();if(me){if(me.size>10*1024*1024){oe.error("File size must be less than 10MB");return}const at=new FileReader;at.onload=yt=>{const bt=yt.target.result;X(Nt=>he(te({},Nt),{cvBase64:[...Nt.cvBase64,{original_filename:me.name,title:Re||"",base64:bt,created_at:new Date().toISOString()}]})),document.getElementById("cv-title").value="",P.target.value=""},at.readAsDataURL(me)}}}),r.jsx("label",{htmlFor:"cv-upload",className:"flex items-center justify-center w-full h-24 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-brand-500 hover:bg-brand-50 transition-colors",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"mx-auto h-8 w-8 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:r.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),r.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Click to upload CV"}),r.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOC, DOCX up to 10MB"})]})})]})]})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"font-semibold",children:S?"Company Work Samples":"Work Samples"}),r.jsxs("button",{onClick:()=>z(!0),className:"px-4 py-2 rounded-lg bg-brand-700 text-white hover:bg-brand-800 focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 transition-colors",children:[r.jsx("span",{className:"max-md:hidden",children:"Add Work Sample"}),r.jsx("span",{className:"md:hidden",children:r.jsx(UC,{size:16})})]})]}),r.jsxs("div",{className:"space-y-4",children:[J.length===0&&!R&&r.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No work samples yet"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Showcase your work by adding projects, case studies, or portfolio pieces."}),r.jsx("div",{className:"mt-6",children:r.jsxs("button",{onClick:()=>z(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500",children:[r.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Your First Work Sample"]})})]}),J.map((P,me)=>r.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsx("h4",{className:"font-medium text-lg",children:P.title}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>are(P),className:"text-blue-500 hover:text-blue-700 p-1",title:"Edit",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),r.jsx("button",{onClick:()=>pe(this,null,function*(){try{yield txe(P.id),Z(Re=>Re.filter((at,yt)=>yt!==me)),oe.success("Work sample deleted successfully")}catch(Re){oe.error("Failed to delete work sample")}}),className:"text-red-500 hover:text-red-700 p-1",title:"Delete",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),P.description&&r.jsx("p",{className:"text-gray-700 mb-3",children:P.description}),P.projectUrl&&r.jsxs("a",{href:P.projectUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 text-sm font-medium mb-2",children:[r.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View Project"]}),P.technologies&&P.technologies.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:P.technologies.map((Re,at)=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:Re},at))}),P.attachments&&P.attachments.length>0&&r.jsxs("div",{children:[r.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Attachments"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:P.attachments.map((Re,at)=>r.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3 bg-gray-50",children:[r.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-100 overflow-hidden grid place-items-center",children:$T(Re)?r.jsx("img",{src:Re.base64url,alt:Re.name,className:"h-full w-full object-cover"}):r.jsx("span",{className:"text-xs text-gray-500",children:"DOC"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"truncate text-sm font-medium",children:Re.name}),r.jsx("div",{className:"text-[11px] text-gray-500 truncate",children:$T(Re)?"Image":"Document"})]}),r.jsx("a",{href:Re.base64url,download:Re.name,className:"text-blue-600 hover:text-blue-800 p-1",title:"Download",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]},at))})]})]},P.id||me)),R&&r.jsxs("div",{className:"border rounded-lg p-6 bg-gray-50",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h4",{className:"font-medium text-lg",children:O?"Edit Work Sample":"Add New Work Sample"}),r.jsx("button",{type:"button",onClick:()=>{Qj(),z(!1)},className:"text-gray-400 hover:text-gray-600 p-1",title:"Close",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Project/Sample Title",r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx("input",{type:"text",placeholder:"Enter project title",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent",value:_.title,onChange:P=>U(me=>he(te({},me),{title:P.target.value}))})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),r.jsx("textarea",{placeholder:"Describe your project",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent",rows:"3",value:_.description,onChange:P=>U(me=>he(te({},me),{description:P.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Project URL"}),r.jsx("input",{type:"url",placeholder:"https://example.com",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent",value:_.projectUrl,onChange:P=>U(me=>he(te({},me),{projectUrl:P.target.value}))})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Skills & Tags"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"text",value:Q,onChange:P=>re(P.target.value),onKeyDown:P=>{P.key==="Enter"&&(P.preventDefault(),_T())},placeholder:"Add skills (e.g., JavaScript, Marketing, Design)",className:"flex-1 border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent"}),r.jsxs("button",{type:"button",onClick:_T,className:"inline-flex items-center gap-1 rounded-lg px-3 py-2 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700","aria-label":"Add skill",children:[r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})}),"Add"]})]}),_.skillsTags.length>0&&r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:_.skillsTags.map((P,me)=>r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-50 text-brand-700 px-3 py-1 text-xs border border-brand-100",children:[P,r.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>tre(me),title:"Remove",children:""})]},`${P}-${me}`))})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Portfolio Samples (Optional)"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-600",children:[r.jsx("div",{className:"mb-2",children:r.jsx("svg",{className:"mx-auto h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 4v16m8-8H4"})})}),"Upload images or documents showcasing your work",r.jsxs("div",{className:"mt-3 flex gap-2 justify-center flex-wrap",children:[r.jsx("input",{type:"text",placeholder:"File title (optional)",className:"flex-1 max-w-xs border rounded-lg px-3 py-2 text-sm",value:le,onChange:P=>ue(P.target.value)}),r.jsx("input",{type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.txt",className:"hidden",id:"sample-files",onChange:P=>rre(P.target.files)}),r.jsx("button",{type:"button",onClick:()=>document.getElementById("sample-files").click(),className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Choose Files"})]}),_.attachments.length>0&&r.jsx("div",{className:"mt-6 grid sm:grid-cols-2 gap-4 text-left",children:_.attachments.map((P,me)=>r.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 overflow-hidden grid place-items-center",children:P.isImage?r.jsx("img",{src:P.base64url,alt:P.name,className:"h-full w-full object-cover"}):r.jsx("span",{className:"text-xs text-gray-500",children:"DOC"})}),r.jsx("div",{className:"flex-1 min-w-0",children:ge===me?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"text",value:P.name,onChange:Re=>{const at=Re.target.value;U(yt=>he(te({},yt),{attachments:yt.attachments.map((bt,Nt)=>Nt===me?he(te({},bt),{name:at}):bt)}))},onKeyDown:Re=>{Re.key==="Enter"?Zj(me,P.name):Re.key==="Escape"&&OT()},onBlur:()=>Zj(me,P.name),className:"flex-1 text-sm border rounded px-2 py-1 focus:ring-2 focus:ring-brand-500 focus:border-transparent",autoFocus:!0}),r.jsx("button",{type:"button",onClick:()=>Zj(me,P.name),className:"text-green-600 hover:text-green-800 p-1",title:"Save",children:r.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsx("button",{type:"button",onClick:OT,className:"text-gray-600 hover:text-gray-800 p-1",title:"Cancel",children:r.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):r.jsxs("div",{children:[r.jsxs("div",{className:"truncate text-sm font-medium flex items-center gap-2",children:[P.name,r.jsx("button",{type:"button",onClick:()=>sre(me),className:"text-gray-400 hover:text-gray-600 p-1",title:"Edit title",children:r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]}),r.jsx("div",{className:"text-[11px] text-gray-500 truncate",children:"Attached"})]})}),r.jsx("button",{type:"button",onClick:()=>nre(me),className:"p-1 rounded hover:bg-gray-100",title:"Remove",children:r.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M9 3h6l1 2h4v2H4V5h4l1-2Zm1 6h2v9h-2V9Zm4 0h2v9h-2V9ZM6 9h2v9H6V9Z"})})})]},`${P.name}-${me}`))})]})]}),r.jsxs("div",{className:"md:col-span-2 flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:()=>{Qj(),z(!1)},className:"px-6 py-2 rounded-lg border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{className:"px-6 py-2 rounded-lg bg-brand-700 text-white hover:bg-brand-800 focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 transition-colors",onClick:ire,children:O?"Update Work Sample":"Add Work Sample"})]})]})]})]})]}),r.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t",children:r.jsx("button",{disabled:b,onClick:()=>pe(this,null,function*(){if(!W.cvBase64||W.cvBase64.length===0){oe.error("Please upload at least one CV before saving");return}yield Xte()}),className:"px-6 py-2 rounded-xl bg-brand-700 text-white hover:bg-brand-800 focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:b?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Saving..."]}):"Save Portfolio"})})]}),g===Yt.DO&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:S?"Company identity (what we DO)":"Identity (what you DO)"}),r.jsx("p",{className:"text-gray-600 mb-4",children:S?"Choose the identity that best represents what your company does.":"Choose the identity that best represents what you do."}),r.jsx(zT,{picked:lt,onToggle:yre,activeTab:gt,onTabSwitch:De,limit:1})]}),gt&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:S?"Categories (what we DO)":"Categories (what you DO)"}),r.jsx(UT,{selectedIdentitiesKeys:[gt],catIds:be,subIds:ie,xIds:$e,openCats:ce,openSubs:Ze,onToggleCat:P=>{bre(P),ye(me=>new Set(me).add(P))},onToggleSub:P=>{wre(P),ut(me=>new Set(me).add(P))},onToggleSubsub:jre,setOpenCats:ye,setOpenSubs:ut})]}),!gt&&lt.length===0&&r.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Select an identity to continue"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Choose an identity above to see and select relevant categories."})]}),r.jsx("div",{className:"flex justify-end gap-3",children:r.jsx("button",{disabled:b,onClick:hre,className:"px-4 py-2 rounded-xl bg-brand-700 text-white disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:b?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Saving..."]}):"Save"})})]}),g===Yt.INTERESTS&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold mb-2",children:S?"Identities (what we're LOOKING FOR)":"Identities (what you're LOOKING FOR)"}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Selected ",Ae.length,"/",Le]})]}),r.jsx(zT,{picked:Ae,onToggle:Nre,activeTab:vt,onTabSwitch:Ge,limit:Le}),vt&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold mb-2",children:S?"Categories (what we're LOOKING FOR)":"Categories (what you're LOOKING FOR)"}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Selected ",Qe.length]})]}),r.jsx(UT,{selectedIdentitiesKeys:[vt],catIds:Qe,subIds:Me,xIds:We,openCats:we,openSubs:Ie,onToggleCat:P=>{Sre(P),Ee(me=>new Set(me).add(P))},onToggleSub:P=>{Cre(P),Ve(me=>new Set(me).add(P))},onToggleSubsub:kre,setOpenCats:Ee,setOpenSubs:Ve})]}),!vt&&Ae.length===0&&r.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Select identities to continue"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Choose identities above to see and select relevant categories for what you're looking for."})]}),r.jsx("div",{className:"flex justify-end gap-3",children:r.jsx("button",{disabled:b,onClick:gre,className:"px-4 py-2 rounded-xl bg-brand-700 text-white disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:b?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Saving..."]}):"Save"})})]}),g===Yt.INDUSTRIES&&r.jsx("div",{className:"space-y-6",children:ot.length===0?r.jsx("div",{className:"rounded-xl border bg-white p-6 text-sm text-gray-600",children:"Loading industry categories..."}):r.jsxs(r.Fragment,{children:[r.jsx(Ore,{title:S?"Choose your company's industry focus":"Choose your industry focus",subtitle:S?"Select the industries that best represent your company's sector and expertise.":"Select the industries that best represent your professional sector and expertise.",industryCatIds:_t,industrySubIds:B,industryXIds:q,openIndustryCats:ht,openIndustrySubs:ct,onToggleIndustryCat:Ire,onToggleIndustrySub:Tre,onToggleIndustrySubsub:Are,setOpenIndustryCats:ft,setOpenIndustrySubs:xt}),r.jsx("div",{className:"flex justify-end gap-3",children:r.jsx("button",{disabled:b,onClick:mre,className:"px-4 py-2 rounded-xl bg-brand-700 text-white disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:b?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Saving..."]}):"Save"})})]})}),g===Yt.REPRESENTATIVE&&S&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Company Representative"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Select an individual user to act as the authorized representative for your company. They will receive an email request to authorize this relationship."}),Dt.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"font-medium mb-3 text-blue-700",children:"Requests to be Representative"}),r.jsx("div",{className:"space-y-3",children:Dt.map(P=>{var me,Re,at,yt,bt;return r.jsx("div",{className:"border border-blue-200 rounded-lg p-4 bg-blue-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-200 rounded-full flex items-center justify-center",children:(me=P.company)!=null&&me.avatarUrl?r.jsx("img",{src:P.company.avatarUrl,alt:P.company.name,className:"w-10 h-10 rounded-full object-cover"}):r.jsx("span",{className:"text-blue-700 font-medium",children:((at=(Re=P.company)==null?void 0:Re.name)==null?void 0:at.charAt(0).toUpperCase())||"?"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:((yt=P.company)==null?void 0:yt.name)||"Unknown Company"}),r.jsx("div",{className:"text-sm text-gray-600",children:((bt=P.company)==null?void 0:bt.email)||"No email"}),r.jsx("div",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800 inline-block mt-1",children:" Request to be Representative"}),P.createdAt&&r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Received ",new Date(P.createdAt).toLocaleDateString()]}),P.message&&r.jsxs("div",{className:"text-xs text-gray-600 mt-1 italic",children:['"',P.message,'"']})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>Fte(P.id),disabled:tr,className:"px-3 py-1 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 disabled:opacity-50",title:"Accept representative request",children:tr?"...":"Accept"}),r.jsx("button",{onClick:()=>Bte(P.id),disabled:tr,className:"px-3 py-1 border border-red-300 text-red-600 rounded-lg text-sm hover:bg-red-50 disabled:opacity-50",title:"Reject representative request",children:tr?"...":"Reject"})]})]})},P.id)})})]}),wt&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"font-medium mb-3 text-green-700",children:"Current Representative"}),r.jsx("div",{className:"border border-green-200 rounded-lg p-4 bg-green-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-full flex items-center justify-center",children:wt.representative.avatarUrl?r.jsx("img",{src:wt.representative.avatarUrl,alt:wt.representative.name,className:"w-12 h-12 rounded-full object-cover"}):r.jsx("span",{className:"text-green-700 font-medium",children:wt.representative.name.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:wt.representative.name}),r.jsx("div",{className:"text-sm text-gray-600",children:wt.representative.email}),wt.representative.professionalTitle&&r.jsx("div",{className:"text-xs text-gray-500",children:wt.representative.professionalTitle}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("div",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800",children:" Authorized"}),wt.authorizedAt&&r.jsxs("div",{className:"text-xs text-gray-500",children:["Authorized ",new Date(wt.authorizedAt).toLocaleDateString()]})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>Ke(!0),disabled:Zt,className:"px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:Zt?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Sending..."]}):"Replace"}),r.jsx("button",{onClick:Pte,className:"px-3 py-1 border border-red-300 text-red-600 rounded-lg text-sm hover:bg-red-50",children:"Remove"})]})]})})]}),Wt.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"font-medium mb-3 text-yellow-700",children:"Pending Requests"}),r.jsx("div",{className:"space-y-3",children:Wt.map(P=>{var Re;const me=P.representative||P.invitedUser;return r.jsx("div",{className:"border border-yellow-200 rounded-lg p-4 bg-yellow-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-yellow-200 rounded-full flex items-center justify-center",children:me!=null&&me.avatarUrl?r.jsx("img",{src:me.avatarUrl,alt:me.name,className:"w-10 h-10 rounded-full object-cover"}):r.jsx("span",{className:"text-yellow-700 font-medium",children:((Re=me==null?void 0:me.name)==null?void 0:Re.charAt(0).toUpperCase())||"?"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:(me==null?void 0:me.name)||"Unknown User"}),r.jsx("div",{className:"text-sm text-gray-600",children:(me==null?void 0:me.email)||"No email"}),r.jsx("div",{className:"text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800 inline-block mt-1",children:" Awaiting Authorization"}),P.createdAt&&r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Sent ",new Date(P.createdAt).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>Rte(P.id),disabled:tr,className:"px-3 py-1 border border-blue-300 text-blue-600 rounded-lg text-sm hover:bg-blue-50 disabled:opacity-50",title:"Resend invitation",children:tr?"...":"Resend"}),r.jsx("button",{onClick:()=>Dte(P.id),disabled:tr,className:"px-3 py-1 border border-red-300 text-red-600 rounded-lg text-sm hover:bg-red-50 disabled:opacity-50",title:"Cancel invitation",children:tr?"...":"Cancel"}),r.jsx("button",{onClick:()=>Ke(!0),disabled:Zt,className:"px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:Zt?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Sending..."]}):"Change"})]})]})},P.id)})})]}),!wt&&Wt.length===0&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"mb-4",children:r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Representative Selected"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Select an individual user to act as your company's authorized representative."}),r.jsx("button",{onClick:()=>Ke(!0),disabled:Zt,className:"px-4 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 disabled:opacity-50 disabled:cursor-not-allowed",children:Zt?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Sending..."]}):"Select Representative"})]})]})}),g===Yt.STAFF&&S&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:"Company Staff"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Manage team members who have access to company features"})]}),r.jsx("button",{onClick:()=>st(!0),disabled:br,className:"px-4 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 disabled:opacity-50 disabled:cursor-not-allowed",children:br?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Sending..."]}):"Invite Staff Member"})]}),r.jsx("div",{className:"space-y-3",children:et.length===0?r.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No staff members yet"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Invite team members to join your company."})]}):et.map(P=>r.jsx("div",{className:"border rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:P.staff.avatarUrl?r.jsx("img",{src:P.staff.avatarUrl,alt:P.staff.name,className:"w-10 h-10 rounded-full object-cover"}):r.jsx("span",{className:"text-gray-600 font-medium",children:P.staff.name.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:P.staff.name}),r.jsx("div",{className:"text-sm text-gray-500",children:P.staff.email}),r.jsxs("div",{className:"text-xs text-gray-400",children:["Role: ",on===P.id?r.jsx("input",{type:"text",value:pa,onChange:me=>Dn(me.target.value),className:"ml-1 px-2 py-1 border rounded text-sm",placeholder:"Enter role"}):P.role]}),r.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Status: ",P.status]})]})]}),r.jsx("div",{className:"flex gap-2",children:on===P.id?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>_te(P.staffId,pa),className:"px-3 py-1 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700",children:"Save"}),r.jsx("button",{onClick:$te,className:"px-3 py-1 border border-gray-300 text-gray-600 rounded-lg text-sm hover:bg-gray-50",children:"Cancel"})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>Ote(P),className:"px-3 py-1 border border-blue-300 text-blue-600 rounded-lg text-sm hover:bg-blue-50",children:"Edit"}),r.jsx("button",{onClick:()=>Ate(P.staffId),className:"px-3 py-1 border border-red-300 text-red-600 rounded-lg text-sm hover:bg-red-50",children:"Remove"})]})})]})},P.id))})]}),g===Yt.JOB_APPLICATIONS&&S&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Job Applications"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"View and manage applications for your job postings, ranked by similarity to your requirements."}),ho.length>0&&r.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Applications"}),r.jsx("input",{type:"text",value:gc,onChange:P=>ev(P.target.value),placeholder:"Search by job title, company, applicant name, or cover letter content...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Filter by Job"}),r.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",Mf(ho).length," of ",ho.length," applications"]})]}),r.jsxs("select",{value:Kx,onChange:P=>vT(P.target.value),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[r.jsxs("option",{value:"all",children:["All Jobs (",ho.length,")"]}),kT(ho).map(P=>r.jsxs("option",{value:P.id,children:[P.title," ",P.companyName?`at ${P.companyName}`:""," (",ho.filter(me=>{var Re;return((Re=me.job)==null?void 0:Re.id)===P.id}).length,")"]},P.id))]})]})]}),mte?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),r.jsx("p",{className:"text-gray-500 mt-2",children:"Loading applications..."})]}):Mf(ho).length===0?r.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No applications yet"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"When candidates apply to your jobs, their applications will appear here ranked by match quality."})]}):r.jsx("div",{className:"space-y-4",children:Mf(ho).map((P,me)=>{var Re,at,yt,bt,Nt,Ot,qt,rr,sr,Tr;return r.jsxs("div",{className:"border rounded-lg p-4 bg-white","data-application-id":P.id,children:[r.jsxs("div",{className:"flex md:items-center gap-2 justify-between mb-3 max-md:flex-col",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:(Re=P.applicant)!=null&&Re.avatarUrl?r.jsx("img",{src:P.applicant.avatarUrl,alt:P.applicant.name,className:"w-12 h-12 rounded-full object-cover"}):r.jsx("span",{className:"text-gray-600 font-medium",children:((yt=(at=P.applicant)==null?void 0:at.name)==null?void 0:yt.charAt(0).toUpperCase())||"?"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:((bt=P.applicant)==null?void 0:bt.name)||"Unknown Applicant"}),r.jsx("div",{className:"text-sm text-gray-600",children:((Nt=P.applicant)==null?void 0:Nt.email)||"No email"}),((qt=(Ot=P.applicant)==null?void 0:Ot.profile)==null?void 0:qt.professionalTitle)&&r.jsx("div",{className:"text-xs text-gray-500",children:P.applicant.profile.professionalTitle}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Applied to: ",((rr=P.job)==null?void 0:rr.title)||"Unknown Job"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${P.similarityScore>=80?"bg-green-100 text-green-800":P.similarityScore>=60?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[P.similarityScore,"% match"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["#",me+1]})]})]}),P.coverLetter&&r.jsxs("div",{className:"mb-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Cover Letter"}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("div",{className:"text-sm text-gray-600",dangerouslySetInnerHTML:{__html:Qx.has(P.id)?P.coverLetter:ST(P.coverLetter,200)}}),P.coverLetter.replace(/<[^>]*>/g,"").length>200&&r.jsx("button",{onClick:()=>CT(P.id),className:"mt-2 text-xs text-brand-600 hover:text-brand-800 font-medium",children:Qx.has(P.id)?"Show Less":"Read More"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4 p-3 bg-gray-50 rounded-lg",children:[P.expectedSalary&&r.jsxs("div",{className:"space-y-1",children:[r.jsx("h4",{className:"text-xs font-medium text-gray-600",children:"Expected Salary"}),r.jsx("p",{className:"text-sm text-gray-800 font-medium",children:P.expectedSalary})]}),P.availability&&r.jsxs("div",{className:"space-y-1",children:[r.jsx("h4",{className:"text-xs font-medium text-gray-600",children:"Availability"}),r.jsx("p",{className:"text-sm text-gray-800",children:P.availability==="immediate"?"Immediate":P.availability==="1month"?"Within 1 month":P.availability==="specific"?`Specific date: ${P.availabilityDate?new Date(P.availabilityDate).toLocaleDateString():"Not specified"}`:P.availability})]}),P.employmentType&&r.jsxs("div",{className:"space-y-1",children:[r.jsx("h4",{className:"text-xs font-medium text-gray-600",children:"Employment Type"}),r.jsx("p",{className:"text-sm text-gray-800",children:P.employmentType.replace("-"," ").replace(/\b\w/g,Ut=>Ut.toUpperCase())})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("h4",{className:"text-xs font-medium text-gray-600",children:"Application Status"}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("select",{value:P.status,onChange:Ut=>Lte(P.id,Ut.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"reviewed",children:"Reviewed"}),r.jsx("option",{value:"accepted",children:"Accepted"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})})]})]}),P.similarity&&P.similarity.matches&&r.jsxs("div",{className:"mb-3 hidden",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Matching Categories"}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[P.similarity.matches.categories.map(Ut=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:Ut.name},Ut.id)),P.similarity.matches.subcategories.map(Ut=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:Ut.name},Ut.id)),P.similarity.matches.subsubcategories.map(Ut=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-brand-100 text-brand-800",children:Ut.name},Ut.id))]})]}),((sr=P.job)==null?void 0:sr.coverImageBase64)&&r.jsxs("div",{className:"mb-3 hidden",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Job Cover Image"}),r.jsx("div",{className:"w-full max-w-xs",children:r.jsx("img",{src:P.job.coverImageBase64,alt:"Job cover",className:"w-full h-32 object-cover rounded-lg border"})})]}),((Tr=P.cvBase64)==null?void 0:Tr.base64)&&r.jsx("div",{className:"mb-4 p-4 border border-gray-300 bg-gray-50 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-12 bg-red-600 text-white flex items-center justify-center rounded",children:"PDF"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:P.cvBase64.title||P.cvBase64.original_filename}),r.jsxs("p",{className:"text-sm text-gray-600",children:[Math.round(P.cvBase64.base64.length*3/4/1024)," KB  Uploaded ",new Date(P.cvBase64.created_at).toLocaleDateString()]})]})]}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("a",{href:P.cvBase64.base64,download:P.cvBase64.original_filename,className:"text-gray-500 hover:text-gray-700 p-1",title:"Download",children:r.jsx(La,{size:18})})})]})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-xs text-gray-500",children:["Applied ",new Date(P.createdAt).toLocaleDateString()]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>l(`/profile/${P.applicant.id}`),className:"px-3 py-1 border border-blue-300 text-blue-600 rounded-lg text-sm hover:bg-blue-50",children:"View Profile"}),r.jsx("button",{onClick:()=>window.open(`/messages?userId=${P.applicant.id}`,"_blank"),className:"px-3 py-1 bg-brand-600 text-white rounded-lg text-sm hover:bg-brand-700",children:"Message"})]})]})]},P.id)})})]})}),g===Yt.EVENT_REGISTRATIONS&&S&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Event Registrations"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"View and manage registrations for your events, ranked by similarity to your target audience."}),Bs.length>0&&r.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Registrations"}),r.jsx("input",{type:"text",value:gc,onChange:P=>ev(P.target.value),placeholder:"Search by event title, organizer, attendee name, or reason for attending...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Filter by Event"}),r.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",If(Bs).length," of ",Bs.length," registrations"]})]}),r.jsxs("select",{value:Xx,onChange:P=>yT(P.target.value),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[r.jsxs("option",{value:"all",children:["All Events (",Bs.length,")"]}),ET(Bs).map(P=>r.jsxs("option",{value:P.id,children:[P.title," ",P.organizerName?`by ${P.organizerName}`:""," (",Bs.filter(me=>{var Re;return((Re=me.event)==null?void 0:Re.id)===P.id}).length,")"]},P.id))]})]})]}),pte?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),r.jsx("p",{className:"text-gray-500 mt-2",children:"Loading registrations..."})]}):If(Bs).length===0?r.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No registrations yet"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"When attendees register for your events, they will appear here ranked by audience match."})]}):r.jsx("div",{className:"space-y-4",children:If(Bs).map((P,me)=>{var Re,at,yt,bt,Nt,Ot,qt,rr;return r.jsxs("div",{className:"border rounded-lg p-4 bg-white","data-registration-id":P.id,children:[r.jsxs("div",{className:"flex md:items-center gap-2 justify-between mb-3 max-md:flex-col",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:(Re=P.registrant)!=null&&Re.avatarUrl?r.jsx("img",{src:P.registrant.avatarUrl,alt:P.registrant.name,className:"w-12 h-12 rounded-full object-cover"}):r.jsx("span",{className:"text-gray-600 font-medium",children:((yt=(at=P.registrant)==null?void 0:at.name)==null?void 0:yt.charAt(0).toUpperCase())||"?"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:((bt=P.registrant)==null?void 0:bt.name)||"Unknown Attendee"}),r.jsx("div",{className:"text-sm text-gray-600",children:((Nt=P.registrant)==null?void 0:Nt.email)||"No email"}),((qt=(Ot=P.registrant)==null?void 0:Ot.profile)==null?void 0:qt.professionalTitle)&&r.jsx("div",{className:"text-xs text-gray-500",children:P.registrant.profile.professionalTitle}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Event: ",((rr=P.event)==null?void 0:rr.title)||"Unknown Event"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${P.similarityScore>=80?"bg-green-100 text-green-800":P.similarityScore>=60?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[P.similarityScore,"% match"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["#",me+1]})]})]}),P.numberOfPeople&&P.numberOfPeople>1&&r.jsxs("div",{className:"mb-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Number of People"}),r.jsxs("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:[P.numberOfPeople," ",P.numberOfPeople===1?"person":"people"]})]}),P.reasonForAttending&&r.jsxs("div",{className:"mb-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Reason for Attending"}),r.jsx("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",dangerouslySetInnerHTML:{__html:P.reasonForAttending||""}})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Registration Status"}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("select",{value:P.status,onChange:sr=>Mte(P.id,sr.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"confirmed",children:"Confirmed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-xs text-gray-500",children:["Registered ",new Date(P.createdAt).toLocaleDateString()]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>l(`/profile/${P.registrant.id}`),className:"px-3 py-1 border border-blue-300 text-blue-600 rounded-lg text-sm hover:bg-blue-50",children:"View Profile"}),r.jsx("button",{onClick:()=>window.open(`/messages?userId=${P.registrant.id}`,"_blank"),className:"px-3 py-1 bg-brand-600 text-white rounded-lg text-sm hover:bg-brand-700",children:"Message"})]})]})]},P.id)})})]})}),g===Yt.JOIN_REQUESTS&&S&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Organization Join Requests"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Review and manage requests from individuals who want to join your organization."}),Kt?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),r.jsx("p",{className:"text-gray-500 mt-2",children:"Loading join requests..."})]}):It.length===0?r.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No join requests yet"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"When individuals request to join your organization, they will appear here for review."})]}):r.jsx("div",{className:"space-y-4",children:It.map(P=>{var me,Re,at,yt,bt;return r.jsx("div",{className:"border rounded-lg p-4 bg-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:(me=P.user)!=null&&me.avatarUrl?r.jsx("img",{src:P.user.avatarUrl,alt:P.user.name,className:"w-12 h-12 rounded-full object-cover"}):r.jsx("span",{className:"text-gray-600 font-medium",children:((at=(Re=P.user)==null?void 0:Re.name)==null?void 0:at.charAt(0).toUpperCase())||"?"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:((yt=P.user)==null?void 0:yt.name)||"Unknown User"}),r.jsx("div",{className:"text-sm text-gray-600",children:((bt=P.user)==null?void 0:bt.email)||"No email"}),P.message&&r.jsxs("div",{className:"text-xs text-gray-600 mt-1 italic",children:['"',P.message,'"']}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${P.status==="pending"?"bg-yellow-100 text-yellow-800":P.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.status==="pending"?" Pending Review":P.status==="approved"?" Approved":" Rejected"}),P.createdAt&&r.jsxs("div",{className:"text-xs text-gray-500",children:["Requested ",new Date(P.createdAt).toLocaleDateString()]})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[P.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>Vte(P.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 transition-colors",children:"Approve"}),r.jsx("button",{onClick:()=>Gte(P.id),className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg text-sm hover:bg-red-50 transition-colors",children:"Reject"})]}),P.status==="approved"&&r.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Member Added"}),P.status==="rejected"&&r.jsx("div",{className:"text-sm text-red-600 font-medium",children:"Request Rejected"})]})]})},P.id)})})]})}),g===Yt.APPLICATIONS&&!S&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-4",children:"My Job Applications"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"View your job applications, ranked by similarity to the job requirements."}),fc.length>0&&r.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Applications"}),r.jsx("input",{type:"text",value:gc,onChange:P=>ev(P.target.value),placeholder:"Search by job title, company, applicant name, or cover letter content...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Filter by Job"}),r.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",Mf(fc).length," of ",fc.length," applications"]})]}),r.jsxs("select",{value:Kx,onChange:P=>vT(P.target.value),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[r.jsxs("option",{value:"all",children:["All Jobs (",fc.length,")"]}),kT(fc).map(P=>r.jsxs("option",{value:P.id,children:[P.title," ",P.companyName?`at ${P.companyName}`:""," (",fc.filter(me=>{var Re;return((Re=me.job)==null?void 0:Re.id)===P.id}).length,")"]},P.id))]})]})]}),wte?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),r.jsx("p",{className:"text-gray-500 mt-2",children:"Loading applications..."})]}):Mf(fc).length===0?r.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No applications yet"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"When you apply to jobs, your applications will appear here ranked by match quality."})]}):r.jsx("div",{className:"space-y-4",children:Mf(fc).map((P,me)=>{var Re,at,yt,bt,Nt,Ot,qt,rr,sr,Tr;return r.jsxs("div",{className:"border rounded-lg p-4 bg-white","data-application-id":P.id,children:[r.jsxs("div",{className:"flex md:items-center gap-2 justify-between mb-3 max-md:flex-col",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:(at=(Re=P.job)==null?void 0:Re.postedBy)!=null&&at.avatarUrl?r.jsx("img",{src:P.job.postedBy.avatarUrl,alt:P.job.postedBy.name,className:"w-12 h-12 rounded-full object-cover"}):r.jsx("span",{className:"text-gray-600 font-medium",children:((Nt=(bt=(yt=P.job)==null?void 0:yt.postedBy)==null?void 0:bt.name)==null?void 0:Nt.charAt(0).toUpperCase())||"?"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:((qt=(Ot=P.job)==null?void 0:Ot.postedBy)==null?void 0:qt.name)||"Unknown Company"}),r.jsx("div",{className:"text-sm text-gray-600",children:((rr=P.job)==null?void 0:rr.title)||"Unknown Job"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${P.similarity.percentage>=80?"bg-green-100 text-green-800":P.similarity.percentage>=60?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[P.similarity.percentage,"% match"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["#",me+1]})]})]}),P.coverLetter&&r.jsxs("div",{className:"mb-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Cover Letter"}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("div",{className:"text-sm text-gray-600",dangerouslySetInnerHTML:{__html:Qx.has(P.id)?P.coverLetter:ST(P.coverLetter,200)}}),P.coverLetter.replace(/<[^>]*>/g,"").length>200&&r.jsx("button",{onClick:()=>CT(P.id),className:"mt-2 text-xs text-brand-600 hover:text-brand-800 font-medium",children:Qx.has(P.id)?"Show Less":"Read More"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4 p-3 bg-gray-50 rounded-lg",children:[P.expectedSalary&&r.jsxs("div",{className:"space-y-1",children:[r.jsx("h4",{className:"text-xs font-medium text-gray-600",children:"Expected Salary"}),r.jsx("p",{className:"text-sm text-gray-800 font-medium",children:P.expectedSalary})]}),P.availability&&r.jsxs("div",{className:"space-y-1",children:[r.jsx("h4",{className:"text-xs font-medium text-gray-600",children:"Availability"}),r.jsx("p",{className:"text-sm text-gray-800",children:P.availability==="immediate"?"Immediate":P.availability==="1month"?"Within 1 month":P.availability==="specific"?`Specific date: ${P.availabilityDate?new Date(P.availabilityDate).toLocaleDateString():"Not specified"}`:P.availability})]}),P.employmentType&&r.jsxs("div",{className:"space-y-1",children:[r.jsx("h4",{className:"text-xs font-medium text-gray-600",children:"Employment Type"}),r.jsx("p",{className:"text-sm text-gray-800",children:P.employmentType.replace("-"," ").replace(/\b\w/g,Ut=>Ut.toUpperCase())})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("h4",{className:"text-xs font-medium text-gray-600",children:"Application Status"}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${P.status==="pending"?"bg-yellow-100 text-yellow-800":P.status==="reviewed"?"bg-blue-100 text-blue-800":P.status==="accepted"?"bg-green-100 text-green-800":P.status==="rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:P.status?P.status.charAt(0).toUpperCase()+P.status.slice(1):"Unknown"})})]})]}),P.similarity&&P.similarity.matches&&r.jsxs("div",{className:"mb-3 hidden",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Matching Categories"}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[P.similarity.matches.categories.map(Ut=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:Ut.name},Ut.id)),P.similarity.matches.subcategories.map(Ut=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:Ut.name},Ut.id)),P.similarity.matches.subsubcategories.map(Ut=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-brand-100 text-brand-800",children:Ut.name},Ut.id))]})]}),((sr=P.job)==null?void 0:sr.coverImageBase64)&&r.jsxs("div",{className:"mb-3 hidden",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Job Cover Image"}),r.jsx("div",{className:"w-full max-w-xs",children:r.jsx("img",{src:P.job.coverImageBase64,alt:"Job cover",className:"w-full h-32 object-cover rounded-lg border"})})]}),((Tr=P.cvBase64)==null?void 0:Tr.base64)&&r.jsx("div",{className:"mb-4 p-4 border border-gray-300 bg-gray-50 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-12 bg-red-600 text-white flex items-center justify-center rounded",children:"PDF"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:P.cvBase64.title||P.cvBase64.original_filename}),r.jsxs("p",{className:"text-sm text-gray-600",children:[Math.round(P.cvBase64.base64.length*3/4/1024)," KB  Uploaded ",new Date(P.cvBase64.created_at).toLocaleDateString()]})]})]}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("a",{href:P.cvBase64.base64,download:P.cvBase64.original_filename,className:"text-gray-500 hover:text-gray-700 p-1",title:"Download",children:r.jsx(La,{size:18})})})]})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-xs text-gray-500",children:["Applied ",new Date(P.createdAt).toLocaleDateString()]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>{Yj(P.job.postedBy.id),qj(!0)},className:"px-3 py-1 border border-blue-300 text-blue-600 rounded-lg text-sm hover:bg-blue-50",children:"View Company"}),r.jsx("button",{onClick:()=>window.open(`/messages?userId=${P.job.postedBy.id}`,"_blank"),className:"px-3 py-1 bg-brand-600 text-white rounded-lg text-sm hover:bg-brand-700",children:"Message"})]})]})]},P.id)})})]})}),g===Yt.EVENTS&&!S&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-4",children:"My Event Registrations"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"View your event registrations, ranked by similarity to the event audience."}),hc.length>0&&r.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Events"}),r.jsx("input",{type:"text",value:gc,onChange:P=>ev(P.target.value),placeholder:"Search by event title, organizer, attendee name, or reason for attending...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Filter by Event"}),r.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",If(hc).length," of ",hc.length," registrations"]})]}),r.jsxs("select",{value:Xx,onChange:P=>yT(P.target.value),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[r.jsxs("option",{value:"all",children:["All Events (",hc.length,")"]}),ET(hc).map(P=>r.jsxs("option",{value:P.id,children:[P.title," ",P.organizerName?`by ${P.organizerName}`:""," (",hc.filter(me=>{var Re;return((Re=me.event)==null?void 0:Re.id)===P.id}).length,")"]},P.id))]})]})]}),jte?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),r.jsx("p",{className:"text-gray-500 mt-2",children:"Loading registrations..."})]}):If(hc).length===0?r.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No registrations yet"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"When you register for events, they will appear here ranked by audience match."})]}):r.jsx("div",{className:"space-y-4",children:If(hc).map((P,me)=>{var Re,at,yt,bt,Nt,Ot,qt,rr;return r.jsxs("div",{className:"border rounded-lg p-4 bg-white","data-registration-id":P.id,children:[r.jsxs("div",{className:"flex md:items-center gap-2 justify-between mb-3 max-md:flex-col",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:(at=(Re=P.event)==null?void 0:Re.organizer)!=null&&at.avatarUrl?r.jsx("img",{src:P.event.organizer.avatarUrl,alt:P.event.organizer.name,className:"w-12 h-12 rounded-full object-cover"}):r.jsx("span",{className:"text-gray-600 font-medium",children:((Nt=(bt=(yt=P.event)==null?void 0:yt.organizer)==null?void 0:bt.name)==null?void 0:Nt.charAt(0).toUpperCase())||"?"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:((qt=(Ot=P.event)==null?void 0:Ot.organizer)==null?void 0:qt.name)||"Unknown Organizer"}),r.jsx("div",{className:"text-sm text-gray-600",children:((rr=P.event)==null?void 0:rr.title)||"Unknown Event"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${P.similarity.percentage>=80?"bg-green-100 text-green-800":P.similarity.percentage>=60?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[P.similarity.percentage,"% match"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["#",me+1]})]})]}),P.numberOfPeople&&P.numberOfPeople>1&&r.jsxs("div",{className:"mb-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Number of People"}),r.jsxs("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:[P.numberOfPeople," ",P.numberOfPeople===1?"person":"people"]})]}),P.reasonForAttending&&r.jsxs("div",{className:"mb-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Reason for Attending"}),r.jsx("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",dangerouslySetInnerHTML:{__html:P.reasonForAttending||""}})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Registration Status"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${P.status==="pending"?"bg-yellow-100 text-yellow-800":P.status==="confirmed"?"bg-green-100 text-green-800":P.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:P.status?P.status.charAt(0).toUpperCase()+P.status.slice(1):"Unknown"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-xs text-gray-500",children:["Registered ",new Date(P.createdAt).toLocaleDateString()]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>{Yj(P.event.organizer.id),qj(!0)},className:"px-3 py-1 border border-blue-300 text-blue-600 rounded-lg text-sm hover:bg-blue-50",children:"View Organizer"}),r.jsx("button",{onClick:()=>window.open(`/messages?userId=${P.event.organizer.id}`,"_blank"),className:"px-3 py-1 bg-brand-600 text-white rounded-lg text-sm hover:bg-brand-700",children:"Message"})]})]})]},P.id)})})]})}),g===Yt.ORGANIZATIONS&&!S&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"font-semibold",children:"Organization Membership"}),r.jsx("button",{onClick:()=>Fs(!0),className:"px-4 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 text-sm",children:xa&&xa.length>0?"+ Join Another":"+ Join"})]}),ra?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),r.jsx("p",{className:"text-gray-500 mt-2",children:"Loading membership status..."})]}):xa&&xa.length>0?r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3 text-green-700",children:"Current Organizations"}),r.jsx("div",{className:"space-y-3",children:xa.map(P=>r.jsx("div",{className:"border border-green-200 rounded-lg p-4 bg-green-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"w-12 h-12 bg-green-200 rounded-lg flex items-center justify-center relative",children:[P.company.avatarUrl?r.jsx("img",{src:P.company.avatarUrl,alt:P.company.name,className:"w-12 h-12 rounded-lg object-cover"}):r.jsx("span",{className:"text-green-700 font-medium",children:P.company.name.charAt(0).toUpperCase()}),P.isMain&&r.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-yellow-500 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"font-medium",children:P.company.name}),P.isMain&&r.jsx("span",{className:"text-xs px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full",children:" Main Company"})]}),P.company.webpage&&r.jsx("div",{className:"text-sm text-gray-600",children:r.jsx("a",{href:P.company.webpage,target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 hover:text-brand-800",children:P.company.webpage})}),P.role&&r.jsxs("div",{className:"text-xs text-gray-500",children:["Role: ",P.role]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${P.status==="confirmed"?"bg-green-100 text-green-800":P.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:P.status==="confirmed"?" Confirmed Member":P.status==="pending"?" Pending Confirmation":P.status}),P.joinedAt&&r.jsxs("div",{className:"text-xs text-gray-500",children:["Joined ",new Date(P.joinedAt).toLocaleDateString()]})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[P.isMain?r.jsx("button",{onClick:()=>Hte(P.id),className:"px-3 py-1 border border-gray-300 text-gray-600 rounded-lg text-sm hover:bg-gray-50",title:"Unset as main company",children:"Unset Main"}):r.jsx("button",{onClick:()=>Wte(P.id),className:"px-3 py-1 border border-yellow-300 text-yellow-600 rounded-lg text-sm hover:bg-yellow-50",title:"Set as main company",children:"Set as Main"}),r.jsx("button",{onClick:()=>Ute(P.id),className:"px-3 py-1 border border-red-300 text-red-600 rounded-lg text-sm hover:bg-red-50",children:"Leave Organization"})]})]})},P.id))})]}):r.jsx("div",{className:"text-center py-8 text-gray-500",children:r.jsx("p",{children:"Join an organization to showcase your professional affiliation."})})]})})]})]}),pt&&r.jsx(rq,{isOpen:pt,onClose:()=>Ke(!1),onSelect:Ite,title:"Select Company Representative",description:"Choose an individual user to act as the authorized representative for your company. They will receive an email request to authorize this relationship.",accountType:"individual"}),je&&r.jsx(j4e,{isOpen:je,onClose:()=>st(!1),onSuccess:Tte,companyId:x.user.id,companyName:x.user.name}),qr&&r.jsx(N4e,{isOpen:qr,onClose:()=>Fs(!1),onSuccess:zte,title:"Join Organization",description:"Select an organization you'd like to join and send a request for approval."}),r.jsx($b,{isOpen:c,onClose:()=>u(!1),mediaUrl:C==null?void 0:C.avatarUrl,mediaType:"image",alt:`${C==null?void 0:C.name}'s profile picture`}),r.jsx($b,{isOpen:f,onClose:()=>h(!1),mediaUrl:C==null?void 0:C.coverImage,mediaType:"image",alt:`${C==null?void 0:C.name}'s cover image`}),r.jsx($d,{userId:Cte,isOpen:Ste,onClose:()=>{qj(!1),Yj(null)}})]})}const S4e=()=>Se.get("/user/settings"),C4e=e=>Se.put("/user/settings",e);function k4e(){const e=Xt(),[t,n]=d.useState(!0),[s,a]=d.useState(!1),[i,o]=d.useState("notifications"),[l,c]=d.useState(!1),[u,f]=d.useState(!1),[h,g]=d.useState(!1),[m,p]=d.useState({notifications:{jobOpportunities:{email:!0},connectionInvitations:{email:!0},connectionRecommendations:{email:!0},connectionUpdates:{email:!0},messages:{email:!0},meetingRequests:{email:!0}},emailFrequency:"daily",hideMainFeed:!1,connectionsOnly:!1,contentType:"all",notifyOnNewPost:!0,notifyOnComments:!0,bidirectionalMatch:!0,bidirectionalMatchFormula:"reciprocal"});d.useEffect(()=>{function C(){return pe(this,null,function*(){try{n(!0);const{data:M}=yield S4e();if(M){const A=typeof M.notifications=="string"?JSON.parse(M.notifications):M.notifications,H=he(te({notifications:{jobOpportunities:{email:!0},connectionInvitations:{email:!0},connectionRecommendations:{email:!0},connectionUpdates:{email:!0},messages:{email:!0},meetingRequests:{email:!0}},emailFrequency:"daily",hideMainFeed:!1,connectionsOnly:!1,contentType:"all",notifyOnNewPost:!0,notifyOnComments:!0,bidirectionalMatch:!0,bidirectionalMatchFormula:"reciprocal"},M),{notifications:A||H.notifications});p(H)}}catch(M){console.error("Error fetching settings:",M)}finally{n(!1)}})}C()},[]);const v=()=>pe(this,null,function*(){try{a(!0);const C=he(te({},m),{notifications:typeof m.notifications=="string"?m.notifications:JSON.stringify(m.notifications)});yield C4e(C),oe.success("Settings saved successfully"),e.setSettings(C),console.log({settingsToSave:C})}catch(C){console.error("Error saving settings:",C),oe.error("Failed to save settings")}finally{a(!1)}});console.log({set:e.settings});const b=(C,M)=>{p(A=>he(te({},A),{notifications:he(te({},A.notifications),{[C]:he(te({},A.notifications[C]),{[M]:!A.notifications[C][M]})})}))},y=C=>{p(M=>he(te({},M),{emailFrequency:C}))},x=()=>{p(C=>he(te({},C),{hideMainFeed:!C.hideMainFeed}))},w=()=>{p(C=>he(te({},C),{connectionsOnly:!C.connectionsOnly}))},j=C=>{p(M=>he(te({},M),{contentType:C}))},N=()=>{p(C=>he(te({},C),{notifyOnNewPost:!C.notifyOnNewPost}))},L=()=>{p(C=>he(te({},C),{notifyOnComments:!C.notifyOnComments}))},k=()=>{p(C=>he(te({},C),{bidirectionalMatch:!C.bidirectionalMatch}))},E=C=>{p(M=>he(te({},M),{bidirectionalMatchFormula:C}))},S=()=>pe(this,null,function*(){try{c(!0),yield Rpe({email:e.user.email}),f(!1),g(!0)}catch(C){console.error("Error requesting account deletion:",C),oe.error("Failed to send deletion email. Please try again.")}finally{c(!1)}});if(t)return r.jsxs("div",{children:[r.jsx(an,{}),r.jsx("div",{className:"max-w-5xl mx-auto p-4 md:p-8",children:r.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-5",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-6"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"h-12 bg-gray-200 rounded"}),r.jsx("div",{className:"h-12 bg-gray-200 rounded"}),r.jsx("div",{className:"h-12 bg-gray-200 rounded"})]})]})})})]});const I=[{id:"notifications",label:"Notifications",icon:""},{id:"privacy",label:"Privacy & Display",icon:""},{id:"account",label:"Account",icon:""}];return console.log({activeTab:i}),r.jsxs("div",{children:[r.jsx(an,{}),r.jsxs("div",{className:"max-w-5xl mx-auto p-4 md:p-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-5 mb-6",children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Settings"}),r.jsx("p",{className:"text-gray-500",children:"Manage your account settings and preferences"})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-5 mb-6",children:[r.jsx("div",{className:"flex flex-wrap sm:flex-nowrap sm:overflow-x-auto gap-2 mb-6",children:I.map(C=>r.jsxs("button",{onClick:()=>o(C.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors whitespace-nowrap ${i===C.id?"bg-brand-100 text-brand-700 border border-brand-200":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[r.jsx("span",{children:C.icon}),C.label]},C.id))}),r.jsxs("div",{children:[i==="notifications"&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Notification Preferences"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Choose how and when you want to be notified"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-b pb-4",children:[r.jsx("div",{className:"flex justify-between items-center mb-2",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Job opportunity recommendations"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Get notified about job opportunities that match your profile"})]})}),r.jsx("div",{className:"mt-3",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:m.notifications.jobOpportunities.email,onChange:()=>b("jobOpportunities","email")}),r.jsx("span",{className:"ml-2 text-sm",children:"Email notifications"})]})})]}),r.jsxs("div",{className:"border-b pb-4",children:[r.jsx("div",{className:"flex justify-between items-center mb-2",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Invitation to connect"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when someone invites you to connect"})]})}),r.jsx("div",{className:"mt-3",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:m.notifications.connectionInvitations.email,onChange:()=>b("connectionInvitations","email")}),r.jsx("span",{className:"ml-2 text-sm",children:"Email notifications"})]})})]}),r.jsxs("div",{className:"border-b pb-4",children:[r.jsx("div",{className:"flex justify-between items-center mb-2",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"New connection recommendations"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Get notified about people you might want to connect with"})]})}),r.jsx("div",{className:"mt-3",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:m.notifications.connectionRecommendations.email,onChange:()=>b("connectionRecommendations","email")}),r.jsx("span",{className:"ml-2 text-sm",children:"Email notifications"})]})})]}),r.jsxs("div",{className:"border-b pb-4",children:[r.jsx("div",{className:"flex justify-between items-center mb-2",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Updates from people and companies you're connected with"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Get notified about updates from your connections"})]})}),r.jsx("div",{className:"mt-3",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:m.notifications.connectionUpdates.email,onChange:()=>b("connectionUpdates","email")}),r.jsx("span",{className:"ml-2 text-sm",children:"Email notifications"})]})})]}),r.jsxs("div",{className:"border-b pb-4",children:[r.jsx("div",{className:"flex justify-between items-center mb-2",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"New message notifications"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when you receive new messages"})]})}),r.jsx("div",{className:"mt-3",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:m.notifications.messages.email,onChange:()=>b("messages","email")}),r.jsx("span",{className:"ml-2 text-sm",children:"Email notifications"})]})})]}),r.jsxs("div",{className:"border-b pb-4",children:[r.jsx("div",{className:"flex justify-between items-center mb-2",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Meeting request notifications"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Get notified about meeting requests and updates"})]})}),r.jsx("div",{className:"mt-3",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:m.notifications.meetingRequests.email,onChange:()=>b("meetingRequests","email")}),r.jsx("span",{className:"ml-2 text-sm",children:"Email notifications"})]})})]}),r.jsxs("div",{className:"border-b pb-4",children:[r.jsx("div",{className:"flex justify-between items-center mb-2",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"New posts"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when someone posts new content"})]})}),r.jsx("div",{className:"mt-3",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:!!m.notifyOnNewPost,onChange:N}),r.jsx("span",{className:"ml-2 text-sm",children:"Email notifications"})]})})]}),r.jsxs("div",{className:"border-b pb-4",children:[r.jsx("div",{className:"flex justify-between items-center mb-2",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Comments on my posts"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when someone comments on your posts"})]})}),r.jsx("div",{className:"mt-3",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:!!m.notifyOnComments,onChange:L}),r.jsx("span",{className:"ml-2 text-sm",children:"Email notifications"})]})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-2",children:[r.jsx("h3",{className:"font-medium",children:"Choose email frequency"}),r.jsx("p",{className:"text-sm text-gray-500",children:"How often would you like to receive email notifications?"})]}),r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"emailFrequency",className:"h-5 w-5 text-brand-600 focus:ring-brand-500",checked:m.emailFrequency==="daily",onChange:()=>y("daily")}),r.jsx("span",{className:"ml-2 text-sm",children:"Daily"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"emailFrequency",className:"h-5 w-5 text-brand-600 focus:ring-brand-500",checked:m.emailFrequency==="weekly",onChange:()=>y("weekly")}),r.jsx("span",{className:"ml-2 text-sm",children:"Weekly"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"emailFrequency",className:"h-5 w-5 text-brand-600 focus:ring-brand-500",checked:m.emailFrequency==="monthly",onChange:()=>y("monthly")}),r.jsx("span",{className:"ml-2 text-sm",children:"Monthly"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"emailFrequency",className:"h-5 w-5 text-brand-600 focus:ring-brand-500",checked:m.emailFrequency==="auto",onChange:()=>y("auto")}),r.jsx("span",{className:"ml-2 text-sm",children:"Let the platform decide"})]})]})]})]})]}),i==="privacy"&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Privacy & Display"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Control your privacy settings and display preferences"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-b pb-4",children:[r.jsx("div",{className:"flex justify-between items-center mb-2",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Hide main feed content"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Hide posts and content from the main feed while keeping access to other features"})]})}),r.jsx("div",{className:"mt-3",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:m.hideMainFeed,onChange:x}),r.jsx("span",{className:"ml-2 text-sm",children:"Hide main feed"})]})})]}),r.jsxs("div",{className:"border-b pb-4",children:[r.jsx("div",{className:"flex justify-between items-center mb-2",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Show only posts from my connections"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Only display posts from people and companies you're connected with"})]})}),r.jsx("div",{className:"mt-3",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:m.connectionsOnly,onChange:w}),r.jsx("span",{className:"ml-2 text-sm",children:"Connections only"})]})})]}),r.jsxs("div",{className:"border-b pb-4",children:[r.jsxs("div",{className:"mb-2",children:[r.jsx("h3",{className:"font-medium",children:"Content type preference"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Choose what type of content you want to see in your feed"})]}),r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"contentType",className:"h-5 w-5 text-brand-600 focus:ring-brand-500",checked:m.contentType==="all",onChange:()=>j("all")}),r.jsx("span",{className:"ml-2 text-sm",children:"All content (text and images)"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"contentType",className:"h-5 w-5 text-brand-600 focus:ring-brand-500",checked:m.contentType==="text",onChange:()=>j("text")}),r.jsx("span",{className:"ml-2 text-sm",children:"Text only"})]})]})]}),r.jsxs("div",{className:"border-b pb-4",children:[r.jsxs("div",{className:"mb-2",children:[r.jsx("h3",{className:"font-medium",children:"Connection matching preferences"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Control how the platform matches you with potential connections"})]}),r.jsxs("div",{className:"mt-3 mb-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:m.bidirectionalMatch,onChange:k}),r.jsx("span",{className:"ml-2 text-sm",children:"Enable bidirectional matching"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1 ml-7",children:"When enabled, the system considers both your interests and what others are looking for, creating more balanced matches"})]}),m.bidirectionalMatch&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"mb-2",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Matching formula"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Choose how to combine your match score with others' perspectives"})]}),r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"bidirectionalFormula",className:"h-5 w-5 text-brand-600 focus:ring-brand-500",checked:m.bidirectionalMatchFormula==="simple",onChange:()=>E("simple")}),r.jsxs("div",{className:"ml-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Simple Average"}),r.jsxs("p",{className:"text-xs text-gray-400",children:["Calculates the average of both match directions. Example: If you match them 80% but they match you 60%, the final score is 70%. ",r.jsx("span",{className:"text-gray-600",children:"(80% + 60%) / 2 = 70%"}),"."]})]})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"bidirectionalFormula",className:"h-5 w-5 text-brand-600 focus:ring-brand-500",checked:m.bidirectionalMatchFormula==="reciprocal",onChange:()=>E("reciprocal")}),r.jsxs("div",{className:"ml-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Weighted Reciprocal"}),r.jsxs("p",{className:"text-xs text-gray-400",children:["Prioritizes your own assessment (70%) while considering their perspective (30%). Example: If you match them 80% but they match you 60%, the final score is 74%. ",r.jsx("span",{className:"text-gray-600",children:"(80%0.7 + 60%0.3) = 74%"}),"."]})]})]})]}),r.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("h5",{className:"font-medium text-sm text-blue-900 mb-2",children:"How Matching Works"}),r.jsxs("div",{className:"text-xs text-blue-800 space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Unidirectional (one-way):"})," Only considers if others match what you're looking for"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Bidirectional (two-way):"})," Considers both directions - if you match their needs AND they match yours"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Why it matters:"})," Bidirectional matching helps ensure mutual interest and reduces unwanted connection requests"]})]})]})]})]})]})]}),i==="account"&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Account Management"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Manage your account settings and data"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:""}),"Account Information"]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your current account details"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("span",{className:"text-gray-900 bg-white px-3 py-2 rounded-lg border border-gray-200",children:e.user.name})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("span",{className:"text-gray-900 bg-white px-3 py-2 rounded-lg border border-gray-200",children:e.user.email})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium text-gray-700 mb-1",children:"Account Type"}),r.jsx("span",{className:"text-gray-900 bg-white px-3 py-2 rounded-lg border border-gray-200 capitalize",children:e.user.accountType})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium text-gray-700 mb-1",children:"Member Since"}),r.jsx("span",{className:"text-gray-900 bg-white px-3 py-2 rounded-lg border border-gray-200",children:new Date(e.user.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),r.jsxs("div",{className:"border border-red-200 rounded-2xl p-6 bg-red-50",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-red-600 text-sm",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-red-800",children:"Danger Zone"}),r.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Irreversible actions that will affect your account"})]})]}),r.jsx("div",{className:"bg-white rounded-xl p-5 border border-red-200",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h4",{className:"font-semibold text-red-800",children:"Delete Account"}),r.jsx("span",{className:"bg-red-100 text-red-700 text-xs px-2 py-1 rounded-full font-medium",children:"Permanent"})]}),r.jsx("p",{className:"text-sm text-red-600 mb-3",children:"Permanently delete your account and all associated data. This action cannot be undone."}),r.jsxs("div",{className:"space-y-1 text-xs text-red-500",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-1 h-1 bg-red-400 rounded-full"}),r.jsx("span",{children:"All your posts, connections, and profile data will be removed"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-1 h-1 bg-red-400 rounded-full"}),r.jsx("span",{children:"This action is permanent and cannot be reversed"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-1 h-1 bg-red-400 rounded-full"}),r.jsx("span",{children:"You'll need to create a new account to use the platform again"})]})]})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsxs("button",{onClick:()=>f(!0),className:"px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors font-medium flex items-center gap-2 min-w-[140px] justify-center",children:[r.jsx("span",{children:""}),"Delete Account"]})})]})})]})]})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:v,disabled:s,className:"px-4 py-2 rounded-xl bg-brand-700 text-white hover:bg-brand-800 transition-colors disabled:opacity-50",children:s?"Saving...":"Save Settings"})})]}),u&&r.jsx(E4e,{onClose:()=>f(!1),onConfirm:S,loading:l}),h&&r.jsx(L4e,{onClose:()=>g(!1)})]})}function E4e({onClose:e,onConfirm:t,loading:n}){return r.jsx("div",{style:{marginTop:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Confirm Account Deletion"}),r.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:""})]}),r.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently removed."}),r.jsxs("div",{className:"space-y-3 text-sm text-red-600 bg-red-50 p-3 rounded-lg mb-6",children:[r.jsx("p",{className:"font-medium",children:"This will permanently:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[r.jsx("li",{children:"Delete your profile and all personal information"}),r.jsx("li",{children:"Remove all your posts, connections, and messages"}),r.jsx("li",{children:"Cancel any pending meetings or requests"}),r.jsx("li",{children:"Remove your access to the platform"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:n,children:"Cancel"}),r.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",disabled:n,children:n?"Sending Email...":"Delete Account"})]})]})})})}function L4e({onClose:e}){return r.jsx("div",{style:{marginTop:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-green-600 text-xl",children:""})})}),r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Deletion Email Sent"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"We've sent a confirmation email to your inbox with a link to permanently delete your account."}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left",children:[r.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Next Steps:"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-blue-800",children:[r.jsx("li",{children:"Check your email inbox (and spam folder)"}),r.jsx("li",{children:"Click the account deletion link in the email"}),r.jsx("li",{children:"Confirm deletion on the following page"}),r.jsx("li",{children:"Your account will be permanently deleted"})]})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"The deletion link will expire in 24 hours for security reasons."})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("button",{onClick:e,className:"px-6 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition-colors",children:"Understood"})})]})})})}const M4e=d.forwardRef(function({label:t="Add some visual flair ",value:n,onChange:s,accept:a="image/png, image/jpeg, image/jpg, video/mp4, video/mov, video/avi, video/webm",maxSizeMB:i=50,preview:o=null,canSelectBothVideoAndImage:l=!1,selectedMediaType:c=null},u){const f=d.useRef(null),[h,g]=d.useState(null),[m,p]=d.useState(o),[v,b]=d.useState(c),[y,x]=d.useState(!1);console.log({preview:o,previewUrl:m});const w=()=>{f.current&&(f.current.accept="image/png, image/jpeg, image/jpg, image/gif, image/webp, video/mp4, video/mov, video/avi, video/webm, video/quicktime",f.current.click())};d.useImperativeHandle(u,()=>({pick:w})),d.useEffect(()=>{o&&p(o)},[o]),d.useEffect(()=>{c&&b(c)},[c]);const j=W=>{if(!W)return;if(W.size>i*1024*1024){alert(`File too big! Keep it under ${i}MB`);return}const X=W.type.startsWith("image/"),J=W.type.startsWith("video/");if(!X&&!J){alert("Please select an image or video file");return}g(W),b(X?"image":"video");const Z=URL.createObjectURL(W);p(Z),s==null||s(W,X?"image":"video")},N=W=>{var J;const X=(J=W.target.files)==null?void 0:J[0];j(X),W.target.value=""},L=W=>{W.preventDefault(),x(!0)},k=W=>{W.preventDefault(),x(!1)},E=W=>{W.preventDefault(),x(!1);const X=W.dataTransfer.files;X.length>0&&j(X[0])},S=()=>{s==null||s(null,null),g(null),p(null),b(null),f.current&&(f.current.value="")},I=()=>{f.current&&(f.current.accept="image/png, image/jpeg, image/jpg, image/gif, image/webp",f.current.click())},C=()=>{f.current&&(f.current.accept="video/mp4, video/mov, video/avi, video/webm, video/quicktime",f.current.click())},M=W=>{S(),setTimeout(()=>{W==="image"?I():C()},100)},A=()=>l?"image/png, image/jpeg, image/jpg, image/gif, image/webp, video/mp4, video/mov, video/avi, video/webm, video/quicktime":v==="image"?"image/png, image/jpeg, image/jpg, image/gif, image/webp":v==="video"?"video/mp4, video/mov, video/avi, video/webm, video/quicktime":"image/png, image/jpeg, image/jpg, image/gif, image/webp, video/mp4, video/mov, video/avi, video/webm, video/quicktime",H=()=>l?"PNG, JPG, GIF, WEBP, MP4, MOV, AVI  Max 50MB":v==="image"?"PNG, JPG, GIF, WEBP  Max 5MB":v==="video"?"MP4, MOV, AVI, WEBM  Max 50MB":"PNG, JPG, GIF, WEBP, MP4, MOV, AVI  Max 50MB";return r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:t}),r.jsx("input",{ref:f,type:"file",accept:A(),className:"hidden",onChange:N}),r.jsx("div",{className:`mt-2 rounded-2xl border border-dashed transition-colors ${y?"border-brand-400 bg-brand-50/60":"border-gray-300 bg-gray-50/60 hover:border-brand-400"} p-4`,onDragOver:L,onDragLeave:k,onDrop:E,children:!m&&!n?r.jsxs("div",{className:"text-center py-8",children:[r.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[(!v||v==="image")&&r.jsx("button",{type:"button",onClick:I,className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/80 border border-gray-200 hover:border-brand-400 hover:bg-brand-50/50 transition-all cursor-pointer",children:r.jsx(N0,{className:"h-8 w-8 text-brand-600"})}),(!v||v==="video")&&r.jsx("button",{type:"button",onClick:C,className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/80 border border-gray-200 hover:border-brand-400 hover:bg-brand-50/50 transition-all cursor-pointer",children:r.jsx(Ji,{className:"h-8 w-8 text-brand-600"})})]}),r.jsx("p",{className:"text-sm text-gray-600",children:y?"Drop your file here!":`Drag & drop your ${l?"image or video":v||"media"} here, or`}),r.jsxs("button",{type:"button",onClick:w,className:"mt-3 inline-flex items-center gap-2 rounded-full px-5 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30 transition-all",children:[r.jsx(WC,{className:"h-4 w-4"}),"Choose File"]}),r.jsx("p",{className:"mt-3 text-[11px] text-gray-400",children:H()}),!l&&v&&r.jsxs("p",{className:"mt-2 text-[10px] text-orange-600 bg-orange-50 px-2 py-1 rounded-full inline-block",children:["Currently: ",v," only"]})]}):r.jsxs("div",{className:"grid gap-4",children:[v==="image"||!v&&(m!=null&&m.includes("data:image")||n!=null&&n.includes("image"))?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:m||n,alt:"Cover preview",className:"w-full max-w-md rounded-xl object-contain aspect-[16/6] shadow max-h-32"}),r.jsxs("div",{className:"absolute top-2 right-2 bg-black/70 text-white px-2 py-1 rounded-full text-xs flex items-center gap-1",children:[r.jsx(N0,{className:"h-3 w-3"}),"Image"]})]}):r.jsxs("div",{className:"relative",children:[r.jsx("video",{src:m||n,controls:!0,className:"w-full max-w-md rounded-xl object-contain aspect-[16/6] shadow max-h-32 bg-black",children:"Your browser does not support the video tag."}),r.jsxs("div",{className:"absolute top-2 right-2 bg-black/70 text-white px-2 py-1 rounded-full text-xs flex items-center gap-1",children:[r.jsx(Ji,{className:"h-3 w-3"}),"Video"]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[!l&&v?r.jsx(r.Fragment,{children:v==="image"?r.jsxs(r.Fragment,{children:[r.jsxs("button",{type:"button",onClick:I,className:"flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30 transition-all",children:[r.jsx(N0,{className:"h-4 w-4"}),"Replace Image"]}),r.jsxs("button",{type:"button",onClick:()=>M("video"),className:"flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm border border-gray-200 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500/20 transition-all",children:[r.jsx(Ji,{className:"h-4 w-4"}),"Upload Video"]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("button",{type:"button",onClick:C,className:"flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30 transition-all",children:[r.jsx(Ji,{className:"h-4 w-4"}),"Replace Video"]}),r.jsxs("button",{type:"button",onClick:()=>M("image"),className:"flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm border border-gray-200 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500/20 transition-all",children:[r.jsx(N0,{className:"h-4 w-4"}),"Upload Image"]})]})}):r.jsxs("button",{type:"button",onClick:w,className:"flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30 transition-all",children:[r.jsx(WC,{className:"h-4 w-4"}),"Change ",v||"Media"]}),r.jsxs("button",{type:"button",onClick:S,className:"flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm border border-gray-200 bg-white text-gray-700 hover:border-red-400 hover:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-500/20 transition-all",children:[r.jsx(Sr,{className:"h-4 w-4"}),"Remove"]})]})]})})]})}),nq=M4e;function I4e(){this.__data__=[],this.size=0}var T4e=I4e;function A4e(e,t){return e===t||e!==e&&t!==t}var sq=A4e,_4e=sq;function O4e(e,t){for(var n=e.length;n--;)if(_4e(e[n][0],t))return n;return-1}var Cw=O4e,$4e=Cw,P4e=Array.prototype,D4e=P4e.splice;function R4e(e){var t=this.__data__,n=$4e(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():D4e.call(t,n,1),--this.size,!0}var F4e=R4e,B4e=Cw;function z4e(e){var t=this.__data__,n=B4e(t,e);return n<0?void 0:t[n][1]}var U4e=z4e,W4e=Cw;function H4e(e){return W4e(this.__data__,e)>-1}var V4e=H4e,G4e=Cw;function q4e(e,t){var n=this.__data__,s=G4e(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}var Y4e=q4e,J4e=T4e,Z4e=F4e,Q4e=U4e,K4e=V4e,X4e=Y4e;function zh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}zh.prototype.clear=J4e;zh.prototype.delete=Z4e;zh.prototype.get=Q4e;zh.prototype.has=K4e;zh.prototype.set=X4e;var kw=zh,eNe=kw;function tNe(){this.__data__=new eNe,this.size=0}var rNe=tNe;function nNe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var sNe=nNe;function aNe(e){return this.__data__.get(e)}var iNe=aNe;function oNe(e){return this.__data__.has(e)}var lNe=oNe,cNe=typeof Ys=="object"&&Ys&&Ys.Object===Object&&Ys,aq=cNe,dNe=aq,uNe=typeof self=="object"&&self&&self.Object===Object&&self,fNe=dNe||uNe||Function("return this")(),nc=fNe,hNe=nc,gNe=hNe.Symbol,EL=gNe,E$=EL,iq=Object.prototype,mNe=iq.hasOwnProperty,pNe=iq.toString,zg=E$?E$.toStringTag:void 0;function xNe(e){var t=mNe.call(e,zg),n=e[zg];try{e[zg]=void 0;var s=!0}catch(i){}var a=pNe.call(e);return s&&(t?e[zg]=n:delete e[zg]),a}var vNe=xNe,yNe=Object.prototype,bNe=yNe.toString;function wNe(e){return bNe.call(e)}var jNe=wNe,L$=EL,NNe=vNe,SNe=jNe,CNe="[object Null]",kNe="[object Undefined]",M$=L$?L$.toStringTag:void 0;function ENe(e){return e==null?e===void 0?kNe:CNe:M$&&M$ in Object(e)?NNe(e):SNe(e)}var Ew=ENe;function LNe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var oq=LNe,MNe=Ew,INe=oq,TNe="[object AsyncFunction]",ANe="[object Function]",_Ne="[object GeneratorFunction]",ONe="[object Proxy]";function $Ne(e){if(!INe(e))return!1;var t=MNe(e);return t==ANe||t==_Ne||t==TNe||t==ONe}var lq=$Ne,PNe=nc,DNe=PNe["__core-js_shared__"],RNe=DNe,aN=RNe,I$=function(){var e=/[^.]+$/.exec(aN&&aN.keys&&aN.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function FNe(e){return!!I$&&I$ in e}var BNe=FNe,zNe=Function.prototype,UNe=zNe.toString;function WNe(e){if(e!=null){try{return UNe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var cq=WNe,HNe=lq,VNe=BNe,GNe=oq,qNe=cq,YNe=/[\\^$.*+?()[\]{}|]/g,JNe=/^\[object .+?Constructor\]$/,ZNe=Function.prototype,QNe=Object.prototype,KNe=ZNe.toString,XNe=QNe.hasOwnProperty,e3e=RegExp("^"+KNe.call(XNe).replace(YNe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function t3e(e){if(!GNe(e)||VNe(e))return!1;var t=HNe(e)?e3e:JNe;return t.test(qNe(e))}var r3e=t3e;function n3e(e,t){return e==null?void 0:e[t]}var s3e=n3e,a3e=r3e,i3e=s3e;function o3e(e,t){var n=i3e(e,t);return a3e(n)?n:void 0}var Uh=o3e,l3e=Uh,c3e=nc,d3e=l3e(c3e,"Map"),LL=d3e,u3e=Uh,f3e=u3e(Object,"create"),Lw=f3e,T$=Lw;function h3e(){this.__data__=T$?T$(null):{},this.size=0}var g3e=h3e;function m3e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var p3e=m3e,x3e=Lw,v3e="__lodash_hash_undefined__",y3e=Object.prototype,b3e=y3e.hasOwnProperty;function w3e(e){var t=this.__data__;if(x3e){var n=t[e];return n===v3e?void 0:n}return b3e.call(t,e)?t[e]:void 0}var j3e=w3e,N3e=Lw,S3e=Object.prototype,C3e=S3e.hasOwnProperty;function k3e(e){var t=this.__data__;return N3e?t[e]!==void 0:C3e.call(t,e)}var E3e=k3e,L3e=Lw,M3e="__lodash_hash_undefined__";function I3e(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=L3e&&t===void 0?M3e:t,this}var T3e=I3e,A3e=g3e,_3e=p3e,O3e=j3e,$3e=E3e,P3e=T3e;function Wh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Wh.prototype.clear=A3e;Wh.prototype.delete=_3e;Wh.prototype.get=O3e;Wh.prototype.has=$3e;Wh.prototype.set=P3e;var D3e=Wh,A$=D3e,R3e=kw,F3e=LL;function B3e(){this.size=0,this.__data__={hash:new A$,map:new(F3e||R3e),string:new A$}}var z3e=B3e;function U3e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var W3e=U3e,H3e=W3e;function V3e(e,t){var n=e.__data__;return H3e(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Mw=V3e,G3e=Mw;function q3e(e){var t=G3e(this,e).delete(e);return this.size-=t?1:0,t}var Y3e=q3e,J3e=Mw;function Z3e(e){return J3e(this,e).get(e)}var Q3e=Z3e,K3e=Mw;function X3e(e){return K3e(this,e).has(e)}var eSe=X3e,tSe=Mw;function rSe(e,t){var n=tSe(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}var nSe=rSe,sSe=z3e,aSe=Y3e,iSe=Q3e,oSe=eSe,lSe=nSe;function Hh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Hh.prototype.clear=sSe;Hh.prototype.delete=aSe;Hh.prototype.get=iSe;Hh.prototype.has=oSe;Hh.prototype.set=lSe;var dq=Hh,cSe=kw,dSe=LL,uSe=dq,fSe=200;function hSe(e,t){var n=this.__data__;if(n instanceof cSe){var s=n.__data__;if(!dSe||s.length<fSe-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new uSe(s)}return n.set(e,t),this.size=n.size,this}var gSe=hSe,mSe=kw,pSe=rNe,xSe=sNe,vSe=iNe,ySe=lNe,bSe=gSe;function Vh(e){var t=this.__data__=new mSe(e);this.size=t.size}Vh.prototype.clear=pSe;Vh.prototype.delete=xSe;Vh.prototype.get=vSe;Vh.prototype.has=ySe;Vh.prototype.set=bSe;var wSe=Vh,jSe="__lodash_hash_undefined__";function NSe(e){return this.__data__.set(e,jSe),this}var SSe=NSe;function CSe(e){return this.__data__.has(e)}var kSe=CSe,ESe=dq,LSe=SSe,MSe=kSe;function Pb(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new ESe;++t<n;)this.add(e[t])}Pb.prototype.add=Pb.prototype.push=LSe;Pb.prototype.has=MSe;var ISe=Pb;function TSe(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}var ASe=TSe;function _Se(e,t){return e.has(t)}var OSe=_Se,$Se=ISe,PSe=ASe,DSe=OSe,RSe=1,FSe=2;function BSe(e,t,n,s,a,i){var o=n&RSe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),f=i.get(t);if(u&&f)return u==t&&f==e;var h=-1,g=!0,m=n&FSe?new $Se:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var p=e[h],v=t[h];if(s)var b=o?s(v,p,h,t,e,i):s(p,v,h,e,t,i);if(b!==void 0){if(b)continue;g=!1;break}if(m){if(!PSe(t,function(y,x){if(!DSe(m,x)&&(p===y||a(p,y,n,s,i)))return m.push(x)})){g=!1;break}}else if(!(p===v||a(p,v,n,s,i))){g=!1;break}}return i.delete(e),i.delete(t),g}var uq=BSe,zSe=nc,USe=zSe.Uint8Array,WSe=USe;function HSe(e){var t=-1,n=Array(e.size);return e.forEach(function(s,a){n[++t]=[a,s]}),n}var VSe=HSe;function GSe(e){var t=-1,n=Array(e.size);return e.forEach(function(s){n[++t]=s}),n}var qSe=GSe,_$=EL,O$=WSe,YSe=sq,JSe=uq,ZSe=VSe,QSe=qSe,KSe=1,XSe=2,eCe="[object Boolean]",tCe="[object Date]",rCe="[object Error]",nCe="[object Map]",sCe="[object Number]",aCe="[object RegExp]",iCe="[object Set]",oCe="[object String]",lCe="[object Symbol]",cCe="[object ArrayBuffer]",dCe="[object DataView]",$$=_$?_$.prototype:void 0,iN=$$?$$.valueOf:void 0;function uCe(e,t,n,s,a,i,o){switch(n){case dCe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case cCe:return!(e.byteLength!=t.byteLength||!i(new O$(e),new O$(t)));case eCe:case tCe:case sCe:return YSe(+e,+t);case rCe:return e.name==t.name&&e.message==t.message;case aCe:case oCe:return e==t+"";case nCe:var l=ZSe;case iCe:var c=s&KSe;if(l||(l=QSe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;s|=XSe,o.set(e,t);var f=JSe(l(e),l(t),s,a,i,o);return o.delete(e),f;case lCe:if(iN)return iN.call(e)==iN.call(t)}return!1}var fCe=uCe;function hCe(e,t){for(var n=-1,s=t.length,a=e.length;++n<s;)e[a+n]=t[n];return e}var gCe=hCe,mCe=Array.isArray,ML=mCe,pCe=gCe,xCe=ML;function vCe(e,t,n){var s=t(e);return xCe(e)?s:pCe(s,n(e))}var yCe=vCe;function bCe(e,t){for(var n=-1,s=e==null?0:e.length,a=0,i=[];++n<s;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var wCe=bCe;function jCe(){return[]}var NCe=jCe,SCe=wCe,CCe=NCe,kCe=Object.prototype,ECe=kCe.propertyIsEnumerable,P$=Object.getOwnPropertySymbols,LCe=P$?function(e){return e==null?[]:(e=Object(e),SCe(P$(e),function(t){return ECe.call(e,t)}))}:CCe,MCe=LCe;function ICe(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}var TCe=ICe;function ACe(e){return e!=null&&typeof e=="object"}var Iw=ACe,_Ce=Ew,OCe=Iw,$Ce="[object Arguments]";function PCe(e){return OCe(e)&&_Ce(e)==$Ce}var DCe=PCe,D$=DCe,RCe=Iw,fq=Object.prototype,FCe=fq.hasOwnProperty,BCe=fq.propertyIsEnumerable,zCe=D$(function(){return arguments}())?D$:function(e){return RCe(e)&&FCe.call(e,"callee")&&!BCe.call(e,"callee")},UCe=zCe,Db={exports:{}};function WCe(){return!1}var HCe=WCe;Db.exports;(function(e,t){var n=nc,s=HCe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||s;e.exports=u})(Db,Db.exports);var hq=Db.exports,VCe=9007199254740991,GCe=/^(?:0|[1-9]\d*)$/;function qCe(e,t){var n=typeof e;return t=t==null?VCe:t,!!t&&(n=="number"||n!="symbol"&&GCe.test(e))&&e>-1&&e%1==0&&e<t}var YCe=qCe,JCe=9007199254740991;function ZCe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=JCe}var gq=ZCe,QCe=Ew,KCe=gq,XCe=Iw,e6e="[object Arguments]",t6e="[object Array]",r6e="[object Boolean]",n6e="[object Date]",s6e="[object Error]",a6e="[object Function]",i6e="[object Map]",o6e="[object Number]",l6e="[object Object]",c6e="[object RegExp]",d6e="[object Set]",u6e="[object String]",f6e="[object WeakMap]",h6e="[object ArrayBuffer]",g6e="[object DataView]",m6e="[object Float32Array]",p6e="[object Float64Array]",x6e="[object Int8Array]",v6e="[object Int16Array]",y6e="[object Int32Array]",b6e="[object Uint8Array]",w6e="[object Uint8ClampedArray]",j6e="[object Uint16Array]",N6e="[object Uint32Array]",fn={};fn[m6e]=fn[p6e]=fn[x6e]=fn[v6e]=fn[y6e]=fn[b6e]=fn[w6e]=fn[j6e]=fn[N6e]=!0;fn[e6e]=fn[t6e]=fn[h6e]=fn[r6e]=fn[g6e]=fn[n6e]=fn[s6e]=fn[a6e]=fn[i6e]=fn[o6e]=fn[l6e]=fn[c6e]=fn[d6e]=fn[u6e]=fn[f6e]=!1;function S6e(e){return XCe(e)&&KCe(e.length)&&!!fn[QCe(e)]}var C6e=S6e;function k6e(e){return function(t){return e(t)}}var E6e=k6e,Rb={exports:{}};Rb.exports;(function(e,t){var n=aq,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i&&n.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch(u){}}();e.exports=l})(Rb,Rb.exports);var L6e=Rb.exports,M6e=C6e,I6e=E6e,R$=L6e,F$=R$&&R$.isTypedArray,T6e=F$?I6e(F$):M6e,mq=T6e,A6e=TCe,_6e=UCe,O6e=ML,$6e=hq,P6e=YCe,D6e=mq,R6e=Object.prototype,F6e=R6e.hasOwnProperty;function B6e(e,t){var n=O6e(e),s=!n&&_6e(e),a=!n&&!s&&$6e(e),i=!n&&!s&&!a&&D6e(e),o=n||s||a||i,l=o?A6e(e.length,String):[],c=l.length;for(var u in e)(t||F6e.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||P6e(u,c)))&&l.push(u);return l}var z6e=B6e,U6e=Object.prototype;function W6e(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||U6e;return e===n}var H6e=W6e;function V6e(e,t){return function(n){return e(t(n))}}var G6e=V6e,q6e=G6e,Y6e=q6e(Object.keys,Object),J6e=Y6e,Z6e=H6e,Q6e=J6e,K6e=Object.prototype,X6e=K6e.hasOwnProperty;function eke(e){if(!Z6e(e))return Q6e(e);var t=[];for(var n in Object(e))X6e.call(e,n)&&n!="constructor"&&t.push(n);return t}var tke=eke,rke=lq,nke=gq;function ske(e){return e!=null&&nke(e.length)&&!rke(e)}var ake=ske,ike=z6e,oke=tke,lke=ake;function cke(e){return lke(e)?ike(e):oke(e)}var dke=cke,uke=yCe,fke=MCe,hke=dke;function gke(e){return uke(e,hke,fke)}var mke=gke,B$=mke,pke=1,xke=Object.prototype,vke=xke.hasOwnProperty;function yke(e,t,n,s,a,i){var o=n&pke,l=B$(e),c=l.length,u=B$(t),f=u.length;if(c!=f&&!o)return!1;for(var h=c;h--;){var g=l[h];if(!(o?g in t:vke.call(t,g)))return!1}var m=i.get(e),p=i.get(t);if(m&&p)return m==t&&p==e;var v=!0;i.set(e,t),i.set(t,e);for(var b=o;++h<c;){g=l[h];var y=e[g],x=t[g];if(s)var w=o?s(x,y,g,t,e,i):s(y,x,g,e,t,i);if(!(w===void 0?y===x||a(y,x,n,s,i):w)){v=!1;break}b||(b=g=="constructor")}if(v&&!b){var j=e.constructor,N=t.constructor;j!=N&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof N=="function"&&N instanceof N)&&(v=!1)}return i.delete(e),i.delete(t),v}var bke=yke,wke=Uh,jke=nc,Nke=wke(jke,"DataView"),Ske=Nke,Cke=Uh,kke=nc,Eke=Cke(kke,"Promise"),Lke=Eke,Mke=Uh,Ike=nc,Tke=Mke(Ike,"Set"),Ake=Tke,_ke=Uh,Oke=nc,$ke=_ke(Oke,"WeakMap"),Pke=$ke,i6=Ske,o6=LL,l6=Lke,c6=Ake,d6=Pke,pq=Ew,Gh=cq,z$="[object Map]",Dke="[object Object]",U$="[object Promise]",W$="[object Set]",H$="[object WeakMap]",V$="[object DataView]",Rke=Gh(i6),Fke=Gh(o6),Bke=Gh(l6),zke=Gh(c6),Uke=Gh(d6),uu=pq;(i6&&uu(new i6(new ArrayBuffer(1)))!=V$||o6&&uu(new o6)!=z$||l6&&uu(l6.resolve())!=U$||c6&&uu(new c6)!=W$||d6&&uu(new d6)!=H$)&&(uu=function(e){var t=pq(e),n=t==Dke?e.constructor:void 0,s=n?Gh(n):"";if(s)switch(s){case Rke:return V$;case Fke:return z$;case Bke:return U$;case zke:return W$;case Uke:return H$}return t});var Wke=uu,oN=wSe,Hke=uq,Vke=fCe,Gke=bke,G$=Wke,q$=ML,Y$=hq,qke=mq,Yke=1,J$="[object Arguments]",Z$="[object Array]",zv="[object Object]",Jke=Object.prototype,Q$=Jke.hasOwnProperty;function Zke(e,t,n,s,a,i){var o=q$(e),l=q$(t),c=o?Z$:G$(e),u=l?Z$:G$(t);c=c==J$?zv:c,u=u==J$?zv:u;var f=c==zv,h=u==zv,g=c==u;if(g&&Y$(e)){if(!Y$(t))return!1;o=!0,f=!1}if(g&&!f)return i||(i=new oN),o||qke(e)?Hke(e,t,n,s,a,i):Vke(e,t,c,n,s,a,i);if(!(n&Yke)){var m=f&&Q$.call(e,"__wrapped__"),p=h&&Q$.call(t,"__wrapped__");if(m||p){var v=m?e.value():e,b=p?t.value():t;return i||(i=new oN),a(v,b,n,s,i)}}return g?(i||(i=new oN),Gke(e,t,n,s,a,i)):!1}var Qke=Zke,Kke=Qke,K$=Iw;function xq(e,t,n,s,a){return e===t?!0:e==null||t==null||!K$(e)&&!K$(t)?e!==e&&t!==t:Kke(e,t,n,s,xq,a)}var Xke=xq,eEe=Xke;function tEe(e,t){return eEe(e,t)}var rEe=tEe,vq={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(s,a){e.exports=a()})(typeof self!="undefined"?self:Ys,function(){return function(n){var s={};function a(i){if(s[i])return s[i].exports;var o=s[i]={i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=s,a.d=function(i,o,l){a.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=109)}([function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(17),o=a(18),l=a(19),c=a(45),u=a(46),f=a(47),h=a(48),g=a(49),m=a(12),p=a(32),v=a(33),b=a(31),y=a(1),x={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:i.default,Format:o.default,Leaf:l.default,Embed:h.default,Scroll:c.default,Block:f.default,Inline:u.default,Text:g.default,Attributor:{Attribute:m.default,Class:p.default,Style:v.default,Store:b.default}};s.default=x},function(n,s,a){var i=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var w in x)x.hasOwnProperty(w)&&(y[w]=x[w])};return function(y,x){b(y,x);function w(){this.constructor=y}y.prototype=x===null?Object.create(x):(w.prototype=x.prototype,new w)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=function(b){i(y,b);function y(x){var w=this;return x="[Parchment] "+x,w=b.call(this,x)||this,w.message=x,w.name=w.constructor.name,w}return y}(Error);s.ParchmentError=o;var l={},c={},u={},f={};s.DATA_KEY="__blot";var h;(function(b){b[b.TYPE=3]="TYPE",b[b.LEVEL=12]="LEVEL",b[b.ATTRIBUTE=13]="ATTRIBUTE",b[b.BLOT=14]="BLOT",b[b.INLINE=7]="INLINE",b[b.BLOCK=11]="BLOCK",b[b.BLOCK_BLOT=10]="BLOCK_BLOT",b[b.INLINE_BLOT=6]="INLINE_BLOT",b[b.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",b[b.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",b[b.ANY=15]="ANY"})(h=s.Scope||(s.Scope={}));function g(b,y){var x=p(b);if(x==null)throw new o("Unable to create "+b+" blot");var w=x,j=b instanceof Node||b.nodeType===Node.TEXT_NODE?b:w.create(y);return new w(j,y)}s.create=g;function m(b,y){return y===void 0&&(y=!1),b==null?null:b[s.DATA_KEY]!=null?b[s.DATA_KEY].blot:y?m(b.parentNode,y):null}s.find=m;function p(b,y){y===void 0&&(y=h.ANY);var x;if(typeof b=="string")x=f[b]||l[b];else if(b instanceof Text||b.nodeType===Node.TEXT_NODE)x=f.text;else if(typeof b=="number")b&h.LEVEL&h.BLOCK?x=f.block:b&h.LEVEL&h.INLINE&&(x=f.inline);else if(b instanceof HTMLElement){var w=(b.getAttribute("class")||"").split(/\s+/);for(var j in w)if(x=c[w[j]],x)break;x=x||u[b.tagName]}return x==null?null:y&h.LEVEL&x.scope&&y&h.TYPE&x.scope?x:null}s.query=p;function v(){for(var b=[],y=0;y<arguments.length;y++)b[y]=arguments[y];if(b.length>1)return b.map(function(j){return v(j)});var x=b[0];if(typeof x.blotName!="string"&&typeof x.attrName!="string")throw new o("Invalid definition");if(x.blotName==="abstract")throw new o("Cannot register abstract class");if(f[x.blotName||x.attrName]=x,typeof x.keyName=="string")l[x.keyName]=x;else if(x.className!=null&&(c[x.className]=x),x.tagName!=null){Array.isArray(x.tagName)?x.tagName=x.tagName.map(function(j){return j.toUpperCase()}):x.tagName=x.tagName.toUpperCase();var w=Array.isArray(x.tagName)?x.tagName:[x.tagName];w.forEach(function(j){(u[j]==null||x.className==null)&&(u[j]=x)})}return x}s.register=v},function(n,s,a){var i=a(51),o=a(11),l=a(3),c=a(20),u="\0",f=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};f.prototype.insert=function(h,g){var m={};return h.length===0?this:(m.insert=h,g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(m.attributes=g),this.push(m))},f.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},f.prototype.retain=function(h,g){if(h<=0)return this;var m={retain:h};return g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(m.attributes=g),this.push(m)},f.prototype.push=function(h){var g=this.ops.length,m=this.ops[g-1];if(h=l(!0,{},h),typeof m=="object"){if(typeof h.delete=="number"&&typeof m.delete=="number")return this.ops[g-1]={delete:m.delete+h.delete},this;if(typeof m.delete=="number"&&h.insert!=null&&(g-=1,m=this.ops[g-1],typeof m!="object"))return this.ops.unshift(h),this;if(o(h.attributes,m.attributes)){if(typeof h.insert=="string"&&typeof m.insert=="string")return this.ops[g-1]={insert:m.insert+h.insert},typeof h.attributes=="object"&&(this.ops[g-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof m.retain=="number")return this.ops[g-1]={retain:m.retain+h.retain},typeof h.attributes=="object"&&(this.ops[g-1].attributes=h.attributes),this}}return g===this.ops.length?this.ops.push(h):this.ops.splice(g,0,h),this},f.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},f.prototype.filter=function(h){return this.ops.filter(h)},f.prototype.forEach=function(h){this.ops.forEach(h)},f.prototype.map=function(h){return this.ops.map(h)},f.prototype.partition=function(h){var g=[],m=[];return this.forEach(function(p){var v=h(p)?g:m;v.push(p)}),[g,m]},f.prototype.reduce=function(h,g){return this.ops.reduce(h,g)},f.prototype.changeLength=function(){return this.reduce(function(h,g){return g.insert?h+c.length(g):g.delete?h-g.delete:h},0)},f.prototype.length=function(){return this.reduce(function(h,g){return h+c.length(g)},0)},f.prototype.slice=function(h,g){h=h||0,typeof g!="number"&&(g=1/0);for(var m=[],p=c.iterator(this.ops),v=0;v<g&&p.hasNext();){var b;v<h?b=p.next(h-v):(b=p.next(g-v),m.push(b)),v+=c.length(b)}return new f(m)},f.prototype.compose=function(h){var g=c.iterator(this.ops),m=c.iterator(h.ops),p=[],v=m.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var b=v.retain;g.peekType()==="insert"&&g.peekLength()<=b;)b-=g.peekLength(),p.push(g.next());v.retain-b>0&&m.next(v.retain-b)}for(var y=new f(p);g.hasNext()||m.hasNext();)if(m.peekType()==="insert")y.push(m.next());else if(g.peekType()==="delete")y.push(g.next());else{var x=Math.min(g.peekLength(),m.peekLength()),w=g.next(x),j=m.next(x);if(typeof j.retain=="number"){var N={};typeof w.retain=="number"?N.retain=x:N.insert=w.insert;var L=c.attributes.compose(w.attributes,j.attributes,typeof w.retain=="number");if(L&&(N.attributes=L),y.push(N),!m.hasNext()&&o(y.ops[y.ops.length-1],N)){var k=new f(g.rest());return y.concat(k).chop()}}else typeof j.delete=="number"&&typeof w.retain=="number"&&y.push(j)}return y.chop()},f.prototype.concat=function(h){var g=new f(this.ops.slice());return h.ops.length>0&&(g.push(h.ops[0]),g.ops=g.ops.concat(h.ops.slice(1))),g},f.prototype.diff=function(h,g){if(this.ops===h.ops)return new f;var m=[this,h].map(function(x){return x.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:u;var j=x===h?"on":"with";throw new Error("diff() called "+j+" non-document")}).join("")}),p=new f,v=i(m[0],m[1],g),b=c.iterator(this.ops),y=c.iterator(h.ops);return v.forEach(function(x){for(var w=x[1].length;w>0;){var j=0;switch(x[0]){case i.INSERT:j=Math.min(y.peekLength(),w),p.push(y.next(j));break;case i.DELETE:j=Math.min(w,b.peekLength()),b.next(j),p.delete(j);break;case i.EQUAL:j=Math.min(b.peekLength(),y.peekLength(),w);var N=b.next(j),L=y.next(j);o(N.insert,L.insert)?p.retain(j,c.attributes.diff(N.attributes,L.attributes)):p.push(L).delete(j);break}w-=j}}),p.chop()},f.prototype.eachLine=function(h,g){g=g||`
`;for(var m=c.iterator(this.ops),p=new f,v=0;m.hasNext();){if(m.peekType()!=="insert")return;var b=m.peek(),y=c.length(b)-m.peekLength(),x=typeof b.insert=="string"?b.insert.indexOf(g,y)-y:-1;if(x<0)p.push(m.next());else if(x>0)p.push(m.next(x));else{if(h(p,m.next(1).attributes||{},v)===!1)return;v+=1,p=new f}}p.length()>0&&h(p,{},v)},f.prototype.transform=function(h,g){if(g=!!g,typeof h=="number")return this.transformPosition(h,g);for(var m=c.iterator(this.ops),p=c.iterator(h.ops),v=new f;m.hasNext()||p.hasNext();)if(m.peekType()==="insert"&&(g||p.peekType()!=="insert"))v.retain(c.length(m.next()));else if(p.peekType()==="insert")v.push(p.next());else{var b=Math.min(m.peekLength(),p.peekLength()),y=m.next(b),x=p.next(b);if(y.delete)continue;x.delete?v.push(x):v.retain(b,c.attributes.transform(y.attributes,x.attributes,g))}return v.chop()},f.prototype.transformPosition=function(h,g){g=!!g;for(var m=c.iterator(this.ops),p=0;m.hasNext()&&p<=h;){var v=m.peekLength(),b=m.peekType();if(m.next(),b==="delete"){h-=Math.min(v,h-p);continue}else b==="insert"&&(p<h||!g)&&(h+=v);p+=v}return h},n.exports=f},function(n,s){var a=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=function(m){return typeof Array.isArray=="function"?Array.isArray(m):i.call(m)==="[object Array]"},u=function(m){if(!m||i.call(m)!=="[object Object]")return!1;var p=a.call(m,"constructor"),v=m.constructor&&m.constructor.prototype&&a.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!p&&!v)return!1;var b;for(b in m);return typeof b=="undefined"||a.call(m,b)},f=function(m,p){o&&p.name==="__proto__"?o(m,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):m[p.name]=p.newValue},h=function(m,p){if(p==="__proto__")if(a.call(m,p)){if(l)return l(m,p).value}else return;return m[p]};n.exports=function g(){var m,p,v,b,y,x,w=arguments[0],j=1,N=arguments.length,L=!1;for(typeof w=="boolean"&&(L=w,w=arguments[1]||{},j=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});j<N;++j)if(m=arguments[j],m!=null)for(p in m)v=h(w,p),b=h(m,p),w!==b&&(L&&b&&(u(b)||(y=c(b)))?(y?(y=!1,x=v&&c(v)?v:[]):x=v&&u(v)?v:{},f(w,{name:p,newValue:g(L,x,b)})):typeof b!="undefined"&&f(w,{name:p,newValue:b}));return w}},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BlockEmbed=s.bubbleFormats=void 0;var i=function(){function C(M,A){for(var H=0;H<A.length;H++){var W=A[H];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(M,W.key,W)}}return function(M,A,H){return A&&C(M.prototype,A),H&&C(M,H),M}}(),o=function C(M,A,H){M===null&&(M=Function.prototype);var W=Object.getOwnPropertyDescriptor(M,A);if(W===void 0){var X=Object.getPrototypeOf(M);return X===null?void 0:C(X,A,H)}else{if("value"in W)return W.value;var J=W.get;return J===void 0?void 0:J.call(H)}},l=a(3),c=w(l),u=a(2),f=w(u),h=a(0),g=w(h),m=a(16),p=w(m),v=a(6),b=w(v),y=a(7),x=w(y);function w(C){return C&&C.__esModule?C:{default:C}}function j(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}function N(C,M){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:C}function L(C,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);C.prototype=Object.create(M&&M.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(C,M):C.__proto__=M)}var k=1,E=function(C){L(M,C);function M(){return j(this,M),N(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return i(M,[{key:"attach",value:function(){o(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"attach",this).call(this),this.attributes=new g.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(H,W){var X=g.default.query(H,g.default.Scope.BLOCK_ATTRIBUTE);X!=null&&this.attributes.attribute(X,W)}},{key:"formatAt",value:function(H,W,X,J){this.format(X,J)}},{key:"insertAt",value:function(H,W,X){if(typeof W=="string"&&W.endsWith(`
`)){var J=g.default.create(S.blotName);this.parent.insertBefore(J,H===0?this:this.next),J.insertAt(0,W.slice(0,-1))}else o(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertAt",this).call(this,H,W,X)}}]),M}(g.default.Embed);E.scope=g.default.Scope.BLOCK_BLOT;var S=function(C){L(M,C);function M(A){j(this,M);var H=N(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,A));return H.cache={},H}return i(M,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(g.default.Leaf).reduce(function(H,W){return W.length()===0?H:H.insert(W.value(),I(W))},new f.default).insert(`
`,I(this))),this.cache.delta}},{key:"deleteAt",value:function(H,W){o(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"deleteAt",this).call(this,H,W),this.cache={}}},{key:"formatAt",value:function(H,W,X,J){W<=0||(g.default.query(X,g.default.Scope.BLOCK)?H+W===this.length()&&this.format(X,J):o(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"formatAt",this).call(this,H,Math.min(W,this.length()-H-1),X,J),this.cache={})}},{key:"insertAt",value:function(H,W,X){if(X!=null)return o(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertAt",this).call(this,H,W,X);if(W.length!==0){var J=W.split(`
`),Z=J.shift();Z.length>0&&(H<this.length()-1||this.children.tail==null?o(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertAt",this).call(this,Math.min(H,this.length()-1),Z):this.children.tail.insertAt(this.children.tail.length(),Z),this.cache={});var F=this;J.reduce(function(D,O){return F=F.split(D,!0),F.insertAt(0,O),O.length},H+Z.length)}}},{key:"insertBefore",value:function(H,W){var X=this.children.head;o(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertBefore",this).call(this,H,W),X instanceof p.default&&X.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"length",this).call(this)+k),this.cache.length}},{key:"moveChildren",value:function(H,W){o(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"moveChildren",this).call(this,H,W),this.cache={}}},{key:"optimize",value:function(H){o(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,H),this.cache={}}},{key:"path",value:function(H){return o(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"path",this).call(this,H,!0)}},{key:"removeChild",value:function(H){o(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"removeChild",this).call(this,H),this.cache={}}},{key:"split",value:function(H){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(W&&(H===0||H>=this.length()-k)){var X=this.clone();return H===0?(this.parent.insertBefore(X,this),this):(this.parent.insertBefore(X,this.next),X)}else{var J=o(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"split",this).call(this,H,W);return this.cache={},J}}}]),M}(g.default.Block);S.blotName="block",S.tagName="P",S.defaultChild="break",S.allowedChildren=[b.default,g.default.Embed,x.default];function I(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return C==null||(typeof C.formats=="function"&&(M=(0,c.default)(M,C.formats())),C.parent==null||C.parent.blotName=="scroll"||C.parent.statics.scope!==C.statics.scope)?M:I(C.parent,M)}s.bubbleFormats=I,s.BlockEmbed=E,s.default=S},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.overload=s.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},o=function(){function F(D,O){var T=[],R=!0,z=!1,_=void 0;try{for(var U=D[Symbol.iterator](),Q;!(R=(Q=U.next()).done)&&(T.push(Q.value),!(O&&T.length===O));R=!0);}catch(re){z=!0,_=re}finally{try{!R&&U.return&&U.return()}finally{if(z)throw _}}return T}return function(D,O){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return F(D,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function F(D,O){for(var T=0;T<O.length;T++){var R=O[T];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(D,R.key,R)}}return function(D,O,T){return O&&F(D.prototype,O),T&&F(D,T),D}}();a(50);var c=a(2),u=I(c),f=a(14),h=I(f),g=a(8),m=I(g),p=a(9),v=I(p),b=a(0),y=I(b),x=a(15),w=I(x),j=a(3),N=I(j),L=a(10),k=I(L),E=a(34),S=I(E);function I(F){return F&&F.__esModule?F:{default:F}}function C(F,D,O){return D in F?Object.defineProperty(F,D,{value:O,enumerable:!0,configurable:!0,writable:!0}):F[D]=O,F}function M(F,D){if(!(F instanceof D))throw new TypeError("Cannot call a class as a function")}var A=(0,k.default)("quill"),H=function(){l(F,null,[{key:"debug",value:function(O){O===!0&&(O="log"),k.default.level(O)}},{key:"find",value:function(O){return O.__quill||y.default.find(O)}},{key:"import",value:function(O){return this.imports[O]==null&&A.error("Cannot import "+O+". Are you sure it was registered?"),this.imports[O]}},{key:"register",value:function(O,T){var R=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof O!="string"){var _=O.attrName||O.blotName;typeof _=="string"?this.register("formats/"+_,O,T):Object.keys(O).forEach(function(U){R.register(U,O[U],T)})}else this.imports[O]!=null&&!z&&A.warn("Overwriting "+O+" with",T),this.imports[O]=T,(O.startsWith("blots/")||O.startsWith("formats/"))&&T.blotName!=="abstract"?y.default.register(T):O.startsWith("modules")&&typeof T.register=="function"&&T.register()}}]);function F(D){var O=this,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(M(this,F),this.options=W(D,T),this.container=this.options.container,this.container==null)return A.error("Invalid Quill container",D);this.options.debug&&F.debug(this.options.debug);var R=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=y.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(_){_===m.default.events.TEXT_CHANGE&&O.root.classList.toggle("ql-blank",O.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(_,U){var Q=O.selection.lastRange,re=Q&&Q.length===0?Q.index:void 0;X.call(O,function(){return O.editor.update(null,U,re)},_)});var z=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+R+"<p><br></p></div>");this.setContents(z),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(F,[{key:"addContainer",value:function(O){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof O=="string"){var R=O;O=document.createElement("div"),O.classList.add(R)}return this.container.insertBefore(O,T),O}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(O,T,R){var z=this,_=J(O,T,R),U=o(_,4);return O=U[0],T=U[1],R=U[3],X.call(this,function(){return z.editor.deleteText(O,T)},R,O,-1*T)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(O),this.container.classList.toggle("ql-disabled",!O)}},{key:"focus",value:function(){var O=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=O,this.scrollIntoView()}},{key:"format",value:function(O,T){var R=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return X.call(this,function(){var _=R.getSelection(!0),U=new u.default;if(_==null)return U;if(y.default.query(O,y.default.Scope.BLOCK))U=R.editor.formatLine(_.index,_.length,C({},O,T));else{if(_.length===0)return R.selection.format(O,T),U;U=R.editor.formatText(_.index,_.length,C({},O,T))}return R.setSelection(_,m.default.sources.SILENT),U},z)}},{key:"formatLine",value:function(O,T,R,z,_){var U=this,Q=void 0,re=J(O,T,R,z,_),le=o(re,4);return O=le[0],T=le[1],Q=le[2],_=le[3],X.call(this,function(){return U.editor.formatLine(O,T,Q)},_,O,0)}},{key:"formatText",value:function(O,T,R,z,_){var U=this,Q=void 0,re=J(O,T,R,z,_),le=o(re,4);return O=le[0],T=le[1],Q=le[2],_=le[3],X.call(this,function(){return U.editor.formatText(O,T,Q)},_,O,0)}},{key:"getBounds",value:function(O){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=void 0;typeof O=="number"?R=this.selection.getBounds(O,T):R=this.selection.getBounds(O.index,O.length);var z=this.container.getBoundingClientRect();return{bottom:R.bottom-z.top,height:R.height,left:R.left-z.left,right:R.right-z.left,top:R.top-z.top,width:R.width}}},{key:"getContents",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-O,R=J(O,T),z=o(R,2);return O=z[0],T=z[1],this.editor.getContents(O,T)}},{key:"getFormat",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof O=="number"?this.editor.getFormat(O,T):this.editor.getFormat(O.index,O.length)}},{key:"getIndex",value:function(O){return O.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(O){return this.scroll.leaf(O)}},{key:"getLine",value:function(O){return this.scroll.line(O)}},{key:"getLines",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof O!="number"?this.scroll.lines(O.index,O.length):this.scroll.lines(O,T)}},{key:"getModule",value:function(O){return this.theme.modules[O]}},{key:"getSelection",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return O&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-O,R=J(O,T),z=o(R,2);return O=z[0],T=z[1],this.editor.getText(O,T)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(O,T,R){var z=this,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:F.sources.API;return X.call(this,function(){return z.editor.insertEmbed(O,T,R)},_,O)}},{key:"insertText",value:function(O,T,R,z,_){var U=this,Q=void 0,re=J(O,0,R,z,_),le=o(re,4);return O=le[0],Q=le[2],_=le[3],X.call(this,function(){return U.editor.insertText(O,T,Q)},_,O,T.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(O,T,R){this.clipboard.dangerouslyPasteHTML(O,T,R)}},{key:"removeFormat",value:function(O,T,R){var z=this,_=J(O,T,R),U=o(_,4);return O=U[0],T=U[1],R=U[3],X.call(this,function(){return z.editor.removeFormat(O,T)},R,O)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(O){var T=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return X.call(this,function(){O=new u.default(O);var z=T.getLength(),_=T.editor.deleteText(0,z),U=T.editor.applyDelta(O),Q=U.ops[U.ops.length-1];Q!=null&&typeof Q.insert=="string"&&Q.insert[Q.insert.length-1]===`
`&&(T.editor.deleteText(T.getLength()-1,1),U.delete(1));var re=_.compose(U);return re},R)}},{key:"setSelection",value:function(O,T,R){if(O==null)this.selection.setRange(null,T||F.sources.API);else{var z=J(O,T,R),_=o(z,4);O=_[0],T=_[1],R=_[3],this.selection.setRange(new x.Range(O,T),R),R!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(O){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,R=new u.default().insert(O);return this.setContents(R,T)}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,T=this.scroll.update(O);return this.selection.update(O),T}},{key:"updateContents",value:function(O){var T=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return X.call(this,function(){return O=new u.default(O),T.editor.applyDelta(O,R)},R,!0)}}]),F}();H.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},H.events=m.default.events,H.sources=m.default.sources,H.version="1.3.7",H.imports={delta:u.default,parchment:y.default,"core/module":v.default,"core/theme":S.default};function W(F,D){if(D=(0,N.default)(!0,{container:F,modules:{clipboard:!0,keyboard:!0,history:!0}},D),!D.theme||D.theme===H.DEFAULTS.theme)D.theme=S.default;else if(D.theme=H.import("themes/"+D.theme),D.theme==null)throw new Error("Invalid theme "+D.theme+". Did you register it?");var O=(0,N.default)(!0,{},D.theme.DEFAULTS);[O,D].forEach(function(z){z.modules=z.modules||{},Object.keys(z.modules).forEach(function(_){z.modules[_]===!0&&(z.modules[_]={})})});var T=Object.keys(O.modules).concat(Object.keys(D.modules)),R=T.reduce(function(z,_){var U=H.import("modules/"+_);return U==null?A.error("Cannot load "+_+" module. Are you sure you registered it?"):z[_]=U.DEFAULTS||{},z},{});return D.modules!=null&&D.modules.toolbar&&D.modules.toolbar.constructor!==Object&&(D.modules.toolbar={container:D.modules.toolbar}),D=(0,N.default)(!0,{},H.DEFAULTS,{modules:R},O,D),["bounds","container","scrollingContainer"].forEach(function(z){typeof D[z]=="string"&&(D[z]=document.querySelector(D[z]))}),D.modules=Object.keys(D.modules).reduce(function(z,_){return D.modules[_]&&(z[_]=D.modules[_]),z},{}),D}function X(F,D,O,T){if(this.options.strict&&!this.isEnabled()&&D===m.default.sources.USER)return new u.default;var R=O==null?null:this.getSelection(),z=this.editor.delta,_=F();if(R!=null&&(O===!0&&(O=R.index),T==null?R=Z(R,_,D):T!==0&&(R=Z(R,O,T,D)),this.setSelection(R,m.default.sources.SILENT)),_.length()>0){var U,Q=[m.default.events.TEXT_CHANGE,_,z,D];if((U=this.emitter).emit.apply(U,[m.default.events.EDITOR_CHANGE].concat(Q)),D!==m.default.sources.SILENT){var re;(re=this.emitter).emit.apply(re,Q)}}return _}function J(F,D,O,T,R){var z={};return typeof F.index=="number"&&typeof F.length=="number"?typeof D!="number"?(R=T,T=O,O=D,D=F.length,F=F.index):(D=F.length,F=F.index):typeof D!="number"&&(R=T,T=O,O=D,D=0),(typeof O=="undefined"?"undefined":i(O))==="object"?(z=O,R=T):typeof O=="string"&&(T!=null?z[O]=T:R=O),R=R||m.default.sources.API,[F,D,z,R]}function Z(F,D,O,T){if(F==null)return null;var R=void 0,z=void 0;if(D instanceof u.default){var _=[F.index,F.index+F.length].map(function(le){return D.transformPosition(le,T!==m.default.sources.USER)}),U=o(_,2);R=U[0],z=U[1]}else{var Q=[F.index,F.index+F.length].map(function(le){return le<D||le===D&&T===m.default.sources.USER?le:O>=0?le+O:Math.max(D,le+O)}),re=o(Q,2);R=re[0],z=re[1]}return new x.Range(R,z-R)}s.expandConfig=W,s.overload=J,s.default=H},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function b(y,x){for(var w=0;w<x.length;w++){var j=x[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,x,w){return x&&b(y.prototype,x),w&&b(y,w),y}}(),o=function b(y,x,w){y===null&&(y=Function.prototype);var j=Object.getOwnPropertyDescriptor(y,x);if(j===void 0){var N=Object.getPrototypeOf(y);return N===null?void 0:b(N,x,w)}else{if("value"in j)return j.value;var L=j.get;return L===void 0?void 0:L.call(w)}},l=a(7),c=h(l),u=a(0),f=h(u);function h(b){return b&&b.__esModule?b:{default:b}}function g(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function m(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function p(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var v=function(b){p(y,b);function y(){return g(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"formatAt",value:function(w,j,N,L){if(y.compare(this.statics.blotName,N)<0&&f.default.query(N,f.default.Scope.BLOT)){var k=this.isolate(w,j);L&&k.wrap(N,L)}else o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,w,j,N,L)}},{key:"optimize",value:function(w){if(o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,w),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var j=this.parent.isolate(this.offset(),this.length());this.moveChildren(j),j.wrap(this)}}}],[{key:"compare",value:function(w,j){var N=y.order.indexOf(w),L=y.order.indexOf(j);return N>=0||L>=0?N-L:w===j?0:w<j?-1:1}}]),y}(f.default.Inline);v.allowedChildren=[v,f.default.Embed,c.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],s.default=v},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(0),o=l(i);function l(g){return g&&g.__esModule?g:{default:g}}function c(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function u(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function f(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var h=function(g){f(m,g);function m(){return c(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default.Text);s.default=h},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function x(w,j){for(var N=0;N<j.length;N++){var L=j[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(w,L.key,L)}}return function(w,j,N){return j&&x(w.prototype,j),N&&x(w,N),w}}(),o=function x(w,j,N){w===null&&(w=Function.prototype);var L=Object.getOwnPropertyDescriptor(w,j);if(L===void 0){var k=Object.getPrototypeOf(w);return k===null?void 0:x(k,j,N)}else{if("value"in L)return L.value;var E=L.get;return E===void 0?void 0:E.call(N)}},l=a(54),c=h(l),u=a(10),f=h(u);function h(x){return x&&x.__esModule?x:{default:x}}function g(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function m(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:x}function p(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}var v=(0,f.default)("quill:events"),b=["selectionchange","mousedown","mouseup","click"];b.forEach(function(x){document.addEventListener(x,function(){for(var w=arguments.length,j=Array(w),N=0;N<w;N++)j[N]=arguments[N];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(L){if(L.__quill&&L.__quill.emitter){var k;(k=L.__quill.emitter).handleDOM.apply(k,j)}})})});var y=function(x){p(w,x);function w(){g(this,w);var j=m(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return j.listeners={},j.on("error",v.error),j}return i(w,[{key:"emit",value:function(){v.log.apply(v,arguments),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(N){for(var L=arguments.length,k=Array(L>1?L-1:0),E=1;E<L;E++)k[E-1]=arguments[E];(this.listeners[N.type]||[]).forEach(function(S){var I=S.node,C=S.handler;(N.target===I||I.contains(N.target))&&C.apply(void 0,[N].concat(k))})}},{key:"listenDOM",value:function(N,L,k){this.listeners[N]||(this.listeners[N]=[]),this.listeners[N].push({node:L,handler:k})}}]),w}(c.default);y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},y.sources={API:"api",SILENT:"silent",USER:"user"},s.default=y},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});function i(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,l),this.quill=c,this.options=u};o.DEFAULTS={},s.default=o},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=["error","warn","log","info"],o="warn";function l(u){if(i.indexOf(u)<=i.indexOf(o)){for(var f,h=arguments.length,g=Array(h>1?h-1:0),m=1;m<h;m++)g[m-1]=arguments[m];(f=console)[u].apply(f,g)}}function c(u){return i.reduce(function(f,h){return f[h]=l.bind(console,h,u),f},{})}l.level=c.level=function(u){o=u},s.default=c},function(n,s,a){var i=Array.prototype.slice,o=a(52),l=a(53),c=n.exports=function(g,m,p){return p||(p={}),g===m?!0:g instanceof Date&&m instanceof Date?g.getTime()===m.getTime():!g||!m||typeof g!="object"&&typeof m!="object"?p.strict?g===m:g==m:h(g,m,p)};function u(g){return g==null}function f(g){return!(!g||typeof g!="object"||typeof g.length!="number"||typeof g.copy!="function"||typeof g.slice!="function"||g.length>0&&typeof g[0]!="number")}function h(g,m,p){var v,b;if(u(g)||u(m)||g.prototype!==m.prototype)return!1;if(l(g))return l(m)?(g=i.call(g),m=i.call(m),c(g,m,p)):!1;if(f(g)){if(!f(m)||g.length!==m.length)return!1;for(v=0;v<g.length;v++)if(g[v]!==m[v])return!1;return!0}try{var y=o(g),x=o(m)}catch(w){return!1}if(y.length!=x.length)return!1;for(y.sort(),x.sort(),v=y.length-1;v>=0;v--)if(y[v]!=x[v])return!1;for(v=y.length-1;v>=0;v--)if(b=y[v],!c(g[b],m[b],p))return!1;return typeof g==typeof m}},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(1),o=function(){function l(c,u,f){f===void 0&&(f={}),this.attrName=c,this.keyName=u;var h=i.Scope.TYPE&i.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&i.Scope.LEVEL|h:this.scope=i.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return l.keys=function(c){return[].map.call(c.attributes,function(u){return u.name})},l.prototype.add=function(c,u){return this.canAdd(c,u)?(c.setAttribute(this.keyName,u),!0):!1},l.prototype.canAdd=function(c,u){var f=i.query(c,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},l.prototype.remove=function(c){c.removeAttribute(this.keyName)},l.prototype.value=function(c){var u=c.getAttribute(this.keyName);return this.canAdd(c,u)&&u?u:""},l}();s.default=o},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Code=void 0;var i=function(){function E(S,I){var C=[],M=!0,A=!1,H=void 0;try{for(var W=S[Symbol.iterator](),X;!(M=(X=W.next()).done)&&(C.push(X.value),!(I&&C.length===I));M=!0);}catch(J){A=!0,H=J}finally{try{!M&&W.return&&W.return()}finally{if(A)throw H}}return C}return function(S,I){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return E(S,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(S,I){for(var C=0;C<I.length;C++){var M=I[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,I,C){return I&&E(S.prototype,I),C&&E(S,C),S}}(),l=function E(S,I,C){S===null&&(S=Function.prototype);var M=Object.getOwnPropertyDescriptor(S,I);if(M===void 0){var A=Object.getPrototypeOf(S);return A===null?void 0:E(A,I,C)}else{if("value"in M)return M.value;var H=M.get;return H===void 0?void 0:H.call(C)}},c=a(2),u=x(c),f=a(0),h=x(f),g=a(4),m=x(g),p=a(6),v=x(p),b=a(7),y=x(b);function x(E){return E&&E.__esModule?E:{default:E}}function w(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function j(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function N(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var L=function(E){N(S,E);function S(){return w(this,S),j(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return S}(v.default);L.blotName="code",L.tagName="CODE";var k=function(E){N(S,E);function S(){return w(this,S),j(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,[{key:"delta",value:function(){var C=this,M=this.domNode.textContent;return M.endsWith(`
`)&&(M=M.slice(0,-1)),M.split(`
`).reduce(function(A,H){return A.insert(H).insert(`
`,C.formats())},new u.default)}},{key:"format",value:function(C,M){if(!(C===this.statics.blotName&&M)){var A=this.descendant(y.default,this.length()-1),H=i(A,1),W=H[0];W!=null&&W.deleteAt(W.length()-1,1),l(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,C,M)}}},{key:"formatAt",value:function(C,M,A,H){if(M!==0&&!(h.default.query(A,h.default.Scope.BLOCK)==null||A===this.statics.blotName&&H===this.statics.formats(this.domNode))){var W=this.newlineIndex(C);if(!(W<0||W>=C+M)){var X=this.newlineIndex(C,!0)+1,J=W-X+1,Z=this.isolate(X,J),F=Z.next;Z.format(A,H),F instanceof S&&F.formatAt(0,C-X+M-J,A,H)}}}},{key:"insertAt",value:function(C,M,A){if(A==null){var H=this.descendant(y.default,C),W=i(H,2),X=W[0],J=W[1];X.insertAt(J,M)}}},{key:"length",value:function(){var C=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?C:C+1}},{key:"newlineIndex",value:function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(M)return this.domNode.textContent.slice(0,C).lastIndexOf(`
`);var A=this.domNode.textContent.slice(C).indexOf(`
`);return A>-1?C+A:-1}},{key:"optimize",value:function(C){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),l(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,C);var M=this.next;M!=null&&M.prev===this&&M.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===M.statics.formats(M.domNode)&&(M.optimize(C),M.moveChildren(this),M.remove())}},{key:"replace",value:function(C){l(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,C),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(M){var A=h.default.find(M);A==null?M.parentNode.removeChild(M):A instanceof h.default.Embed?A.remove():A.unwrap()})}}],[{key:"create",value:function(C){var M=l(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,C);return M.setAttribute("spellcheck",!1),M}},{key:"formats",value:function(){return!0}}]),S}(m.default);k.blotName="code-block",k.tagName="PRE",k.TAB="  ",s.Code=L,s.default=k},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},o=function(){function F(D,O){var T=[],R=!0,z=!1,_=void 0;try{for(var U=D[Symbol.iterator](),Q;!(R=(Q=U.next()).done)&&(T.push(Q.value),!(O&&T.length===O));R=!0);}catch(re){z=!0,_=re}finally{try{!R&&U.return&&U.return()}finally{if(z)throw _}}return T}return function(D,O){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return F(D,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function F(D,O){for(var T=0;T<O.length;T++){var R=O[T];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(D,R.key,R)}}return function(D,O,T){return O&&F(D.prototype,O),T&&F(D,T),D}}(),c=a(2),u=M(c),f=a(20),h=M(f),g=a(0),m=M(g),p=a(13),v=M(p),b=a(24),y=M(b),x=a(4),w=M(x),j=a(16),N=M(j),L=a(21),k=M(L),E=a(11),S=M(E),I=a(3),C=M(I);function M(F){return F&&F.__esModule?F:{default:F}}function A(F,D,O){return D in F?Object.defineProperty(F,D,{value:O,enumerable:!0,configurable:!0,writable:!0}):F[D]=O,F}function H(F,D){if(!(F instanceof D))throw new TypeError("Cannot call a class as a function")}var W=/^[ -~]*$/,X=function(){function F(D){H(this,F),this.scroll=D,this.delta=this.getDelta()}return l(F,[{key:"applyDelta",value:function(O){var T=this,R=!1;this.scroll.update();var z=this.scroll.length();return this.scroll.batchStart(),O=Z(O),O.reduce(function(_,U){var Q=U.retain||U.delete||U.insert.length||1,re=U.attributes||{};if(U.insert!=null){if(typeof U.insert=="string"){var le=U.insert;le.endsWith(`
`)&&R&&(R=!1,le=le.slice(0,-1)),_>=z&&!le.endsWith(`
`)&&(R=!0),T.scroll.insertAt(_,le);var ue=T.scroll.line(_),ge=o(ue,2),ke=ge[0],tt=ge[1],He=(0,C.default)({},(0,x.bubbleFormats)(ke));if(ke instanceof w.default){var ze=ke.descendant(m.default.Leaf,tt),rt=o(ze,1),Xe=rt[0];He=(0,C.default)(He,(0,x.bubbleFormats)(Xe))}re=h.default.attributes.diff(He,re)||{}}else if(i(U.insert)==="object"){var V=Object.keys(U.insert)[0];if(V==null)return _;T.scroll.insertAt(_,V,U.insert[V])}z+=Q}return Object.keys(re).forEach(function(ne){T.scroll.formatAt(_,Q,ne,re[ne])}),_+Q},0),O.reduce(function(_,U){return typeof U.delete=="number"?(T.scroll.deleteAt(_,U.delete),_):_+(U.retain||U.insert.length||1)},0),this.scroll.batchEnd(),this.update(O)}},{key:"deleteText",value:function(O,T){return this.scroll.deleteAt(O,T),this.update(new u.default().retain(O).delete(T))}},{key:"formatLine",value:function(O,T){var R=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(z).forEach(function(_){if(!(R.scroll.whitelist!=null&&!R.scroll.whitelist[_])){var U=R.scroll.lines(O,Math.max(T,1)),Q=T;U.forEach(function(re){var le=re.length();if(!(re instanceof v.default))re.format(_,z[_]);else{var ue=O-re.offset(R.scroll),ge=re.newlineIndex(ue+Q)-ue+1;re.formatAt(ue,ge,_,z[_])}Q-=le})}}),this.scroll.optimize(),this.update(new u.default().retain(O).retain(T,(0,k.default)(z)))}},{key:"formatText",value:function(O,T){var R=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(z).forEach(function(_){R.scroll.formatAt(O,T,_,z[_])}),this.update(new u.default().retain(O).retain(T,(0,k.default)(z)))}},{key:"getContents",value:function(O,T){return this.delta.slice(O,O+T)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(O,T){return O.concat(T.delta())},new u.default)}},{key:"getFormat",value:function(O){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=[],z=[];T===0?this.scroll.path(O).forEach(function(U){var Q=o(U,1),re=Q[0];re instanceof w.default?R.push(re):re instanceof m.default.Leaf&&z.push(re)}):(R=this.scroll.lines(O,T),z=this.scroll.descendants(m.default.Leaf,O,T));var _=[R,z].map(function(U){if(U.length===0)return{};for(var Q=(0,x.bubbleFormats)(U.shift());Object.keys(Q).length>0;){var re=U.shift();if(re==null)return Q;Q=J((0,x.bubbleFormats)(re),Q)}return Q});return C.default.apply(C.default,_)}},{key:"getText",value:function(O,T){return this.getContents(O,T).filter(function(R){return typeof R.insert=="string"}).map(function(R){return R.insert}).join("")}},{key:"insertEmbed",value:function(O,T,R){return this.scroll.insertAt(O,T,R),this.update(new u.default().retain(O).insert(A({},T,R)))}},{key:"insertText",value:function(O,T){var R=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return T=T.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(O,T),Object.keys(z).forEach(function(_){R.scroll.formatAt(O,T.length,_,z[_])}),this.update(new u.default().retain(O).insert(T,(0,k.default)(z)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var O=this.scroll.children.head;return O.statics.blotName!==w.default.blotName||O.children.length>1?!1:O.children.head instanceof N.default}},{key:"removeFormat",value:function(O,T){var R=this.getText(O,T),z=this.scroll.line(O+T),_=o(z,2),U=_[0],Q=_[1],re=0,le=new u.default;U!=null&&(U instanceof v.default?re=U.newlineIndex(Q)-Q+1:re=U.length()-Q,le=U.delta().slice(Q,Q+re-1).insert(`
`));var ue=this.getContents(O,T+re),ge=ue.diff(new u.default().insert(R).concat(le)),ke=new u.default().retain(O).concat(ge);return this.applyDelta(ke)}},{key:"update",value:function(O){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,z=this.delta;if(T.length===1&&T[0].type==="characterData"&&T[0].target.data.match(W)&&m.default.find(T[0].target)){var _=m.default.find(T[0].target),U=(0,x.bubbleFormats)(_),Q=_.offset(this.scroll),re=T[0].oldValue.replace(y.default.CONTENTS,""),le=new u.default().insert(re),ue=new u.default().insert(_.value()),ge=new u.default().retain(Q).concat(le.diff(ue,R));O=ge.reduce(function(ke,tt){return tt.insert?ke.insert(tt.insert,U):ke.push(tt)},new u.default),this.delta=z.compose(O)}else this.delta=this.getDelta(),(!O||!(0,S.default)(z.compose(O),this.delta))&&(O=z.diff(this.delta,R));return O}}]),F}();function J(F,D){return Object.keys(D).reduce(function(O,T){return F[T]==null||(D[T]===F[T]?O[T]=D[T]:Array.isArray(D[T])?D[T].indexOf(F[T])<0&&(O[T]=D[T].concat([F[T]])):O[T]=[D[T],F[T]]),O},{})}function Z(F){return F.reduce(function(D,O){if(O.insert===1){var T=(0,k.default)(O.attributes);return delete T.image,D.insert({image:O.attributes.image},T)}if(O.attributes!=null&&(O.attributes.list===!0||O.attributes.bullet===!0)&&(O=(0,k.default)(O),O.attributes.list?O.attributes.list="ordered":(O.attributes.list="bullet",delete O.attributes.bullet)),typeof O.insert=="string"){var R=O.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return D.insert(R,O.attributes)}return D.push(O)},new u.default)}s.default=X},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Range=void 0;var i=function(){function E(S,I){var C=[],M=!0,A=!1,H=void 0;try{for(var W=S[Symbol.iterator](),X;!(M=(X=W.next()).done)&&(C.push(X.value),!(I&&C.length===I));M=!0);}catch(J){A=!0,H=J}finally{try{!M&&W.return&&W.return()}finally{if(A)throw H}}return C}return function(S,I){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return E(S,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(S,I){for(var C=0;C<I.length;C++){var M=I[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,I,C){return I&&E(S.prototype,I),C&&E(S,C),S}}(),l=a(0),c=y(l),u=a(21),f=y(u),h=a(11),g=y(h),m=a(8),p=y(m),v=a(10),b=y(v);function y(E){return E&&E.__esModule?E:{default:E}}function x(E){if(Array.isArray(E)){for(var S=0,I=Array(E.length);S<E.length;S++)I[S]=E[S];return I}else return Array.from(E)}function w(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}var j=(0,b.default)("quill:selection"),N=function E(S){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,E),this.index=S,this.length=I},L=function(){function E(S,I){var C=this;w(this,E),this.emitter=I,this.scroll=S,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new N(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){C.mouseDown||setTimeout(C.update.bind(C,p.default.sources.USER),1)}),this.emitter.on(p.default.events.EDITOR_CHANGE,function(M,A){M===p.default.events.TEXT_CHANGE&&A.length()>0&&C.update(p.default.sources.SILENT)}),this.emitter.on(p.default.events.SCROLL_BEFORE_UPDATE,function(){if(C.hasFocus()){var M=C.getNativeRange();M!=null&&M.start.node!==C.cursor.textNode&&C.emitter.once(p.default.events.SCROLL_UPDATE,function(){try{C.setNativeRange(M.start.node,M.start.offset,M.end.node,M.end.offset)}catch(A){}})}}),this.emitter.on(p.default.events.SCROLL_OPTIMIZE,function(M,A){if(A.range){var H=A.range,W=H.startNode,X=H.startOffset,J=H.endNode,Z=H.endOffset;C.setNativeRange(W,X,J,Z)}}),this.update(p.default.sources.SILENT)}return o(E,[{key:"handleComposition",value:function(){var I=this;this.root.addEventListener("compositionstart",function(){I.composing=!0}),this.root.addEventListener("compositionend",function(){if(I.composing=!1,I.cursor.parent){var C=I.cursor.restore();if(!C)return;setTimeout(function(){I.setNativeRange(C.startNode,C.startOffset,C.endNode,C.endOffset)},1)}})}},{key:"handleDragging",value:function(){var I=this;this.emitter.listenDOM("mousedown",document.body,function(){I.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){I.mouseDown=!1,I.update(p.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(I,C){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[I])){this.scroll.update();var M=this.getNativeRange();if(!(M==null||!M.native.collapsed||c.default.query(I,c.default.Scope.BLOCK))){if(M.start.node!==this.cursor.textNode){var A=c.default.find(M.start.node,!1);if(A==null)return;if(A instanceof c.default.Leaf){var H=A.split(M.start.offset);A.parent.insertBefore(this.cursor,H)}else A.insertBefore(this.cursor,M.start.node);this.cursor.attach()}this.cursor.format(I,C),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(I){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=this.scroll.length();I=Math.min(I,M-1),C=Math.min(I+C,M-1)-I;var A=void 0,H=this.scroll.leaf(I),W=i(H,2),X=W[0],J=W[1];if(X==null)return null;var Z=X.position(J,!0),F=i(Z,2);A=F[0],J=F[1];var D=document.createRange();if(C>0){D.setStart(A,J);var O=this.scroll.leaf(I+C),T=i(O,2);if(X=T[0],J=T[1],X==null)return null;var R=X.position(J,!0),z=i(R,2);return A=z[0],J=z[1],D.setEnd(A,J),D.getBoundingClientRect()}else{var _="left",U=void 0;return A instanceof Text?(J<A.data.length?(D.setStart(A,J),D.setEnd(A,J+1)):(D.setStart(A,J-1),D.setEnd(A,J),_="right"),U=D.getBoundingClientRect()):(U=X.domNode.getBoundingClientRect(),J>0&&(_="right")),{bottom:U.top+U.height,height:U.height,left:U[_],right:U[_],top:U.top,width:0}}}},{key:"getNativeRange",value:function(){var I=document.getSelection();if(I==null||I.rangeCount<=0)return null;var C=I.getRangeAt(0);if(C==null)return null;var M=this.normalizeNative(C);return j.info("getNativeRange",M),M}},{key:"getRange",value:function(){var I=this.getNativeRange();if(I==null)return[null,null];var C=this.normalizedToRange(I);return[C,I]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(I){var C=this,M=[[I.start.node,I.start.offset]];I.native.collapsed||M.push([I.end.node,I.end.offset]);var A=M.map(function(X){var J=i(X,2),Z=J[0],F=J[1],D=c.default.find(Z,!0),O=D.offset(C.scroll);return F===0?O:D instanceof c.default.Container?O+D.length():O+D.index(Z,F)}),H=Math.min(Math.max.apply(Math,x(A)),this.scroll.length()-1),W=Math.min.apply(Math,[H].concat(x(A)));return new N(W,H-W)}},{key:"normalizeNative",value:function(I){if(!k(this.root,I.startContainer)||!I.collapsed&&!k(this.root,I.endContainer))return null;var C={start:{node:I.startContainer,offset:I.startOffset},end:{node:I.endContainer,offset:I.endOffset},native:I};return[C.start,C.end].forEach(function(M){for(var A=M.node,H=M.offset;!(A instanceof Text)&&A.childNodes.length>0;)if(A.childNodes.length>H)A=A.childNodes[H],H=0;else if(A.childNodes.length===H)A=A.lastChild,H=A instanceof Text?A.data.length:A.childNodes.length+1;else break;M.node=A,M.offset=H}),C}},{key:"rangeToNative",value:function(I){var C=this,M=I.collapsed?[I.index]:[I.index,I.index+I.length],A=[],H=this.scroll.length();return M.forEach(function(W,X){W=Math.min(H-1,W);var J=void 0,Z=C.scroll.leaf(W),F=i(Z,2),D=F[0],O=F[1],T=D.position(O,X!==0),R=i(T,2);J=R[0],O=R[1],A.push(J,O)}),A.length<2&&(A=A.concat(A)),A}},{key:"scrollIntoView",value:function(I){var C=this.lastRange;if(C!=null){var M=this.getBounds(C.index,C.length);if(M!=null){var A=this.scroll.length()-1,H=this.scroll.line(Math.min(C.index,A)),W=i(H,1),X=W[0],J=X;if(C.length>0){var Z=this.scroll.line(Math.min(C.index+C.length,A)),F=i(Z,1);J=F[0]}if(!(X==null||J==null)){var D=I.getBoundingClientRect();M.top<D.top?I.scrollTop-=D.top-M.top:M.bottom>D.bottom&&(I.scrollTop+=M.bottom-D.bottom)}}}}},{key:"setNativeRange",value:function(I,C){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:C,H=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(j.info("setNativeRange",I,C,M,A),!(I!=null&&(this.root.parentNode==null||I.parentNode==null||M.parentNode==null))){var W=document.getSelection();if(W!=null)if(I!=null){this.hasFocus()||this.root.focus();var X=(this.getNativeRange()||{}).native;if(X==null||H||I!==X.startContainer||C!==X.startOffset||M!==X.endContainer||A!==X.endOffset){I.tagName=="BR"&&(C=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode),M.tagName=="BR"&&(A=[].indexOf.call(M.parentNode.childNodes,M),M=M.parentNode);var J=document.createRange();J.setStart(I,C),J.setEnd(M,A),W.removeAllRanges(),W.addRange(J)}}else W.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(I){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;if(typeof C=="string"&&(M=C,C=!1),j.info("setRange",I),I!=null){var A=this.rangeToNative(I);this.setNativeRange.apply(this,x(A).concat([C]))}else this.setNativeRange(null);this.update(M)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,C=this.lastRange,M=this.getRange(),A=i(M,2),H=A[0],W=A[1];if(this.lastRange=H,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,g.default)(C,this.lastRange)){var X;!this.composing&&W!=null&&W.native.collapsed&&W.start.node!==this.cursor.textNode&&this.cursor.restore();var J=[p.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(C),I];if((X=this.emitter).emit.apply(X,[p.default.events.EDITOR_CHANGE].concat(J)),I!==p.default.sources.SILENT){var Z;(Z=this.emitter).emit.apply(Z,J)}}}}]),E}();function k(E,S){try{S.parentNode}catch(I){return!1}return S instanceof Text&&(S=S.parentNode),E.contains(S)}s.Range=N,s.default=L},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function p(v,b){for(var y=0;y<b.length;y++){var x=b[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,b,y){return b&&p(v.prototype,b),y&&p(v,y),v}}(),o=function p(v,b,y){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,b);if(x===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:p(w,b,y)}else{if("value"in x)return x.value;var j=x.get;return j===void 0?void 0:j.call(y)}},l=a(0),c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function f(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function h(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function g(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var m=function(p){g(v,p);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"insertInto",value:function(y,x){y.children.length===0?o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,y,x):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(c.default.Embed);m.blotName="break",m.tagName="BR",s.default=m},function(n,s,a){var i=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var p in m)m.hasOwnProperty(p)&&(g[p]=m[p])};return function(g,m){h(g,m);function p(){this.constructor=g}g.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=a(44),l=a(30),c=a(1),u=function(h){i(g,h);function g(m){var p=h.call(this,m)||this;return p.build(),p}return g.prototype.appendChild=function(m){this.insertBefore(m)},g.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},g.prototype.build=function(){var m=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(p){try{var v=f(p);m.insertBefore(v,m.children.head||void 0)}catch(b){if(b instanceof c.ParchmentError)return;throw b}})},g.prototype.deleteAt=function(m,p){if(m===0&&p===this.length())return this.remove();this.children.forEachAt(m,p,function(v,b,y){v.deleteAt(b,y)})},g.prototype.descendant=function(m,p){var v=this.children.find(p),b=v[0],y=v[1];return m.blotName==null&&m(b)||m.blotName!=null&&b instanceof m?[b,y]:b instanceof g?b.descendant(m,y):[null,-1]},g.prototype.descendants=function(m,p,v){p===void 0&&(p=0),v===void 0&&(v=Number.MAX_VALUE);var b=[],y=v;return this.children.forEachAt(p,v,function(x,w,j){(m.blotName==null&&m(x)||m.blotName!=null&&x instanceof m)&&b.push(x),x instanceof g&&(b=b.concat(x.descendants(m,w,y))),y-=j}),b},g.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),h.prototype.detach.call(this)},g.prototype.formatAt=function(m,p,v,b){this.children.forEachAt(m,p,function(y,x,w){y.formatAt(x,w,v,b)})},g.prototype.insertAt=function(m,p,v){var b=this.children.find(m),y=b[0],x=b[1];if(y)y.insertAt(x,p,v);else{var w=v==null?c.create("text",p):c.create(p,v);this.appendChild(w)}},g.prototype.insertBefore=function(m,p){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return m instanceof v}))throw new c.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,p)},g.prototype.length=function(){return this.children.reduce(function(m,p){return m+p.length()},0)},g.prototype.moveChildren=function(m,p){this.children.forEach(function(v){m.insertBefore(v,p)})},g.prototype.optimize=function(m){if(h.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var p=c.create(this.statics.defaultChild);this.appendChild(p),p.optimize(m)}else this.remove()},g.prototype.path=function(m,p){p===void 0&&(p=!1);var v=this.children.find(m,p),b=v[0],y=v[1],x=[[this,m]];return b instanceof g?x.concat(b.path(y,p)):(b!=null&&x.push([b,y]),x)},g.prototype.removeChild=function(m){this.children.remove(m)},g.prototype.replace=function(m){m instanceof g&&m.moveChildren(this),h.prototype.replace.call(this,m)},g.prototype.split=function(m,p){if(p===void 0&&(p=!1),!p){if(m===0)return this;if(m===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(m,this.length(),function(b,y,x){b=b.split(y,p),v.appendChild(b)}),v},g.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},g.prototype.update=function(m,p){var v=this,b=[],y=[];m.forEach(function(x){x.target===v.domNode&&x.type==="childList"&&(b.push.apply(b,x.addedNodes),y.push.apply(y,x.removedNodes))}),y.forEach(function(x){if(!(x.parentNode!=null&&x.tagName!=="IFRAME"&&document.body.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=c.find(x);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===v.domNode)&&w.detach()}}),b.filter(function(x){return x.parentNode==v.domNode}).sort(function(x,w){return x===w?0:x.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(x){var w=null;x.nextSibling!=null&&(w=c.find(x.nextSibling));var j=f(x);(j.next!=w||j.next==null)&&(j.parent!=null&&j.parent.removeChild(v),v.insertBefore(j,w||void 0))})},g}(l.default);function f(h){var g=c.find(h);if(g==null)try{g=c.create(h)}catch(m){g=c.create(c.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(p){g.domNode.appendChild(p)}),h.parentNode&&h.parentNode.replaceChild(g.domNode,h),g.attach()}return g}s.default=u},function(n,s,a){var i=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var p in m)m.hasOwnProperty(p)&&(g[p]=m[p])};return function(g,m){h(g,m);function p(){this.constructor=g}g.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=a(12),l=a(31),c=a(17),u=a(1),f=function(h){i(g,h);function g(m){var p=h.call(this,m)||this;return p.attributes=new l.default(p.domNode),p}return g.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},g.prototype.format=function(m,p){var v=u.query(m);v instanceof o.default?this.attributes.attribute(v,p):p&&v!=null&&(m!==this.statics.blotName||this.formats()[m]!==p)&&this.replaceWith(m,p)},g.prototype.formats=function(){var m=this.attributes.values(),p=this.statics.formats(this.domNode);return p!=null&&(m[this.statics.blotName]=p),m},g.prototype.replaceWith=function(m,p){var v=h.prototype.replaceWith.call(this,m,p);return this.attributes.copy(v),v},g.prototype.update=function(m,p){var v=this;h.prototype.update.call(this,m,p),m.some(function(b){return b.target===v.domNode&&b.type==="attributes"})&&this.attributes.build()},g.prototype.wrap=function(m,p){var v=h.prototype.wrap.call(this,m,p);return v instanceof g&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},g}(c.default);s.default=f},function(n,s,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var g in h)h.hasOwnProperty(g)&&(f[g]=h[g])};return function(f,h){u(f,h);function g(){this.constructor=f}f.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=a(30),l=a(1),c=function(u){i(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.value=function(h){return!0},f.prototype.index=function(h,g){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(g,1):-1},f.prototype.position=function(h,g){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(m+=1),[this.parent.domNode,m]},f.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},f.scope=l.Scope.INLINE_BLOT,f}(o.default);s.default=c},function(n,s,a){var i=a(11),o=a(3),l={attributes:{compose:function(u,f,h){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});var g=o(!0,{},f);h||(g=Object.keys(g).reduce(function(p,v){return g[v]!=null&&(p[v]=g[v]),p},{}));for(var m in u)u[m]!==void 0&&f[m]===void 0&&(g[m]=u[m]);return Object.keys(g).length>0?g:void 0},diff:function(u,f){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});var h=Object.keys(u).concat(Object.keys(f)).reduce(function(g,m){return i(u[m],f[m])||(g[m]=f[m]===void 0?null:f[m]),g},{});return Object.keys(h).length>0?h:void 0},transform:function(u,f,h){if(typeof u!="object")return f;if(typeof f=="object"){if(!h)return f;var g=Object.keys(f).reduce(function(m,p){return u[p]===void 0&&(m[p]=f[p]),m},{});return Object.keys(g).length>0?g:void 0}}},iterator:function(u){return new c(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function c(u){this.ops=u,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(u){u||(u=1/0);var f=this.ops[this.index];if(f){var h=this.offset,g=l.length(f);if(u>=g-h?(u=g-h,this.index+=1,this.offset=0):this.offset+=u,typeof f.delete=="number")return{delete:u};var m={};return f.attributes&&(m.attributes=f.attributes),typeof f.retain=="number"?m.retain=u:typeof f.insert=="string"?m.insert=f.insert.substr(h,u):m.insert=f.insert,m}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,f=this.index,h=this.next(),g=this.ops.slice(this.index);return this.offset=u,this.index=f,[h].concat(g)}else return[]},n.exports=l},function(n,s){var a=function(){function i(v,b){return b!=null&&v instanceof b}var o;try{o=Map}catch(v){o=function(){}}var l;try{l=Set}catch(v){l=function(){}}var c;try{c=Promise}catch(v){c=function(){}}function u(v,b,y,x,w){typeof b=="object"&&(y=b.depth,x=b.prototype,w=b.includeNonEnumerable,b=b.circular);var j=[],N=[],L=typeof Buffer!="undefined";typeof b=="undefined"&&(b=!0),typeof y=="undefined"&&(y=1/0);function k(E,S){if(E===null)return null;if(S===0)return E;var I,C;if(typeof E!="object")return E;if(i(E,o))I=new o;else if(i(E,l))I=new l;else if(i(E,c))I=new c(function(D,O){E.then(function(T){D(k(T,S-1))},function(T){O(k(T,S-1))})});else if(u.__isArray(E))I=[];else if(u.__isRegExp(E))I=new RegExp(E.source,p(E)),E.lastIndex&&(I.lastIndex=E.lastIndex);else if(u.__isDate(E))I=new Date(E.getTime());else{if(L&&Buffer.isBuffer(E))return Buffer.allocUnsafe?I=Buffer.allocUnsafe(E.length):I=new Buffer(E.length),E.copy(I),I;i(E,Error)?I=Object.create(E):typeof x=="undefined"?(C=Object.getPrototypeOf(E),I=Object.create(C)):(I=Object.create(x),C=x)}if(b){var M=j.indexOf(E);if(M!=-1)return N[M];j.push(E),N.push(I)}i(E,o)&&E.forEach(function(D,O){var T=k(O,S-1),R=k(D,S-1);I.set(T,R)}),i(E,l)&&E.forEach(function(D){var O=k(D,S-1);I.add(O)});for(var A in E){var H;C&&(H=Object.getOwnPropertyDescriptor(C,A)),!(H&&H.set==null)&&(I[A]=k(E[A],S-1))}if(Object.getOwnPropertySymbols)for(var W=Object.getOwnPropertySymbols(E),A=0;A<W.length;A++){var X=W[A],J=Object.getOwnPropertyDescriptor(E,X);J&&!J.enumerable&&!w||(I[X]=k(E[X],S-1),J.enumerable||Object.defineProperty(I,X,{enumerable:!1}))}if(w)for(var Z=Object.getOwnPropertyNames(E),A=0;A<Z.length;A++){var F=Z[A],J=Object.getOwnPropertyDescriptor(E,F);J&&J.enumerable||(I[F]=k(E[F],S-1),Object.defineProperty(I,F,{enumerable:!1}))}return I}return k(v,y)}u.clonePrototype=function(b){if(b===null)return null;var y=function(){};return y.prototype=b,new y};function f(v){return Object.prototype.toString.call(v)}u.__objToStr=f;function h(v){return typeof v=="object"&&f(v)==="[object Date]"}u.__isDate=h;function g(v){return typeof v=="object"&&f(v)==="[object Array]"}u.__isArray=g;function m(v){return typeof v=="object"&&f(v)==="[object RegExp]"}u.__isRegExp=m;function p(v){var b="";return v.global&&(b+="g"),v.ignoreCase&&(b+="i"),v.multiline&&(b+="m"),b}return u.__getRegExpFlags=p,u}();typeof n=="object"&&n.exports&&(n.exports=a)},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function I(C,M){var A=[],H=!0,W=!1,X=void 0;try{for(var J=C[Symbol.iterator](),Z;!(H=(Z=J.next()).done)&&(A.push(Z.value),!(M&&A.length===M));H=!0);}catch(F){W=!0,X=F}finally{try{!H&&J.return&&J.return()}finally{if(W)throw X}}return A}return function(C,M){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return I(C,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function I(C,M){for(var A=0;A<M.length;A++){var H=M[A];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(C,H.key,H)}}return function(C,M,A){return M&&I(C.prototype,M),A&&I(C,A),C}}(),l=function I(C,M,A){C===null&&(C=Function.prototype);var H=Object.getOwnPropertyDescriptor(C,M);if(H===void 0){var W=Object.getPrototypeOf(C);return W===null?void 0:I(W,M,A)}else{if("value"in H)return H.value;var X=H.get;return X===void 0?void 0:X.call(A)}},c=a(0),u=j(c),f=a(8),h=j(f),g=a(4),m=j(g),p=a(16),v=j(p),b=a(13),y=j(b),x=a(25),w=j(x);function j(I){return I&&I.__esModule?I:{default:I}}function N(I,C){if(!(I instanceof C))throw new TypeError("Cannot call a class as a function")}function L(I,C){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:I}function k(I,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);I.prototype=Object.create(C&&C.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(I,C):I.__proto__=C)}function E(I){return I instanceof m.default||I instanceof g.BlockEmbed}var S=function(I){k(C,I);function C(M,A){N(this,C);var H=L(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,M));return H.emitter=A.emitter,Array.isArray(A.whitelist)&&(H.whitelist=A.whitelist.reduce(function(W,X){return W[X]=!0,W},{})),H.domNode.addEventListener("DOMNodeInserted",function(){}),H.optimize(),H.enable(),H}return o(C,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(A,H){var W=this.line(A),X=i(W,2),J=X[0],Z=X[1],F=this.line(A+H),D=i(F,1),O=D[0];if(l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"deleteAt",this).call(this,A,H),O!=null&&J!==O&&Z>0){if(J instanceof g.BlockEmbed||O instanceof g.BlockEmbed){this.optimize();return}if(J instanceof y.default){var T=J.newlineIndex(J.length(),!0);if(T>-1&&(J=J.split(T+1),J===O)){this.optimize();return}}else if(O instanceof y.default){var R=O.newlineIndex(0);R>-1&&O.split(R+1)}var z=O.children.head instanceof v.default?null:O.children.head;J.moveChildren(O,z),J.remove()}this.optimize()}},{key:"enable",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",A)}},{key:"formatAt",value:function(A,H,W,X){this.whitelist!=null&&!this.whitelist[W]||(l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"formatAt",this).call(this,A,H,W,X),this.optimize())}},{key:"insertAt",value:function(A,H,W){if(!(W!=null&&this.whitelist!=null&&!this.whitelist[H])){if(A>=this.length())if(W==null||u.default.query(H,u.default.Scope.BLOCK)==null){var X=u.default.create(this.statics.defaultChild);this.appendChild(X),W==null&&H.endsWith(`
`)&&(H=H.slice(0,-1)),X.insertAt(0,H,W)}else{var J=u.default.create(H,W);this.appendChild(J)}else l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertAt",this).call(this,A,H,W);this.optimize()}}},{key:"insertBefore",value:function(A,H){if(A.statics.scope===u.default.Scope.INLINE_BLOT){var W=u.default.create(this.statics.defaultChild);W.appendChild(A),A=W}l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertBefore",this).call(this,A,H)}},{key:"leaf",value:function(A){return this.path(A).pop()||[null,-1]}},{key:"line",value:function(A){return A===this.length()?this.line(A-1):this.descendant(E,A)}},{key:"lines",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,W=function X(J,Z,F){var D=[],O=F;return J.children.forEachAt(Z,F,function(T,R,z){E(T)?D.push(T):T instanceof u.default.Container&&(D=D.concat(X(T,R,O))),O-=z}),D};return W(this,A,H)}},{key:"optimize",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,A,H),A.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,A,H))}},{key:"path",value:function(A){return l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"path",this).call(this,A).slice(1)}},{key:"update",value:function(A){if(this.batch!==!0){var H=h.default.sources.USER;typeof A=="string"&&(H=A),Array.isArray(A)||(A=this.observer.takeRecords()),A.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,H,A),l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"update",this).call(this,A.concat([])),A.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,H,A)}}}]),C}(u.default.Scroll);S.blotName="scroll",S.className="ql-editor",S.tagName="DIV",S.defaultChild="block",S.allowedChildren=[m.default,g.BlockEmbed,w.default],s.default=S},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.SHORTKEY=s.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},o=function(){function U(Q,re){var le=[],ue=!0,ge=!1,ke=void 0;try{for(var tt=Q[Symbol.iterator](),He;!(ue=(He=tt.next()).done)&&(le.push(He.value),!(re&&le.length===re));ue=!0);}catch(ze){ge=!0,ke=ze}finally{try{!ue&&tt.return&&tt.return()}finally{if(ge)throw ke}}return le}return function(Q,re){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return U(Q,re);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function U(Q,re){for(var le=0;le<re.length;le++){var ue=re[le];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(Q,ue.key,ue)}}return function(Q,re,le){return re&&U(Q.prototype,re),le&&U(Q,le),Q}}(),c=a(21),u=I(c),f=a(11),h=I(f),g=a(3),m=I(g),p=a(2),v=I(p),b=a(20),y=I(b),x=a(0),w=I(x),j=a(5),N=I(j),L=a(10),k=I(L),E=a(9),S=I(E);function I(U){return U&&U.__esModule?U:{default:U}}function C(U,Q,re){return Q in U?Object.defineProperty(U,Q,{value:re,enumerable:!0,configurable:!0,writable:!0}):U[Q]=re,U}function M(U,Q){if(!(U instanceof Q))throw new TypeError("Cannot call a class as a function")}function A(U,Q){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q&&(typeof Q=="object"||typeof Q=="function")?Q:U}function H(U,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);U.prototype=Object.create(Q&&Q.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(U,Q):U.__proto__=Q)}var W=(0,k.default)("quill:keyboard"),X=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",J=function(U){H(Q,U),l(Q,null,[{key:"match",value:function(le,ue){return ue=_(ue),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ge){return!!ue[ge]!==le[ge]&&ue[ge]!==null})?!1:ue.key===(le.which||le.keyCode)}}]);function Q(re,le){M(this,Q);var ue=A(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,re,le));return ue.bindings={},Object.keys(ue.options.bindings).forEach(function(ge){ge==="list autofill"&&re.scroll.whitelist!=null&&!re.scroll.whitelist.list||ue.options.bindings[ge]&&ue.addBinding(ue.options.bindings[ge])}),ue.addBinding({key:Q.keys.ENTER,shiftKey:null},T),ue.addBinding({key:Q.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ue.addBinding({key:Q.keys.BACKSPACE},{collapsed:!0},F),ue.addBinding({key:Q.keys.DELETE},{collapsed:!0},D)):(ue.addBinding({key:Q.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},F),ue.addBinding({key:Q.keys.DELETE},{collapsed:!0,suffix:/^.?$/},D)),ue.addBinding({key:Q.keys.BACKSPACE},{collapsed:!1},O),ue.addBinding({key:Q.keys.DELETE},{collapsed:!1},O),ue.addBinding({key:Q.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},F),ue.listen(),ue}return l(Q,[{key:"addBinding",value:function(le){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ke=_(le);if(ke==null||ke.key==null)return W.warn("Attempted to add invalid keyboard binding",ke);typeof ue=="function"&&(ue={handler:ue}),typeof ge=="function"&&(ge={handler:ge}),ke=(0,m.default)(ke,ue,ge),this.bindings[ke.key]=this.bindings[ke.key]||[],this.bindings[ke.key].push(ke)}},{key:"listen",value:function(){var le=this;this.quill.root.addEventListener("keydown",function(ue){if(!ue.defaultPrevented){var ge=ue.which||ue.keyCode,ke=(le.bindings[ge]||[]).filter(function(Te){return Q.match(ue,Te)});if(ke.length!==0){var tt=le.quill.getSelection();if(!(tt==null||!le.quill.hasFocus())){var He=le.quill.getLine(tt.index),ze=o(He,2),rt=ze[0],Xe=ze[1],V=le.quill.getLeaf(tt.index),ne=o(V,2),Ce=ne[0],fe=ne[1],xe=tt.length===0?[Ce,fe]:le.quill.getLeaf(tt.index+tt.length),se=o(xe,2),ae=se[0],G=se[1],Ne=Ce instanceof w.default.Text?Ce.value().slice(0,fe):"",Be=ae instanceof w.default.Text?ae.value().slice(G):"",dt={collapsed:tt.length===0,empty:tt.length===0&&rt.length()<=1,format:le.quill.getFormat(tt),offset:Xe,prefix:Ne,suffix:Be},nt=ke.some(function(Te){if(Te.collapsed!=null&&Te.collapsed!==dt.collapsed||Te.empty!=null&&Te.empty!==dt.empty||Te.offset!=null&&Te.offset!==dt.offset)return!1;if(Array.isArray(Te.format)){if(Te.format.every(function(lt){return dt.format[lt]==null}))return!1}else if(i(Te.format)==="object"&&!Object.keys(Te.format).every(function(lt){return Te.format[lt]===!0?dt.format[lt]!=null:Te.format[lt]===!1?dt.format[lt]==null:(0,h.default)(Te.format[lt],dt.format[lt])}))return!1;return Te.prefix!=null&&!Te.prefix.test(dt.prefix)||Te.suffix!=null&&!Te.suffix.test(dt.suffix)?!1:Te.handler.call(le,tt,dt)!==!0});nt&&ue.preventDefault()}}}})}}]),Q}(S.default);J.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},J.DEFAULTS={bindings:{bold:z("bold"),italic:z("italic"),underline:z("underline"),indent:{key:J.keys.TAB,format:["blockquote","indent","list"],handler:function(Q,re){if(re.collapsed&&re.offset!==0)return!0;this.quill.format("indent","+1",N.default.sources.USER)}},outdent:{key:J.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Q,re){if(re.collapsed&&re.offset!==0)return!0;this.quill.format("indent","-1",N.default.sources.USER)}},"outdent backspace":{key:J.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Q,re){re.format.indent!=null?this.quill.format("indent","-1",N.default.sources.USER):re.format.list!=null&&this.quill.format("list",!1,N.default.sources.USER)}},"indent code-block":R(!0),"outdent code-block":R(!1),"remove tab":{key:J.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Q){this.quill.deleteText(Q.index-1,1,N.default.sources.USER)}},tab:{key:J.keys.TAB,handler:function(Q){this.quill.history.cutoff();var re=new v.default().retain(Q.index).delete(Q.length).insert("	");this.quill.updateContents(re,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Q.index+1,N.default.sources.SILENT)}},"list empty enter":{key:J.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Q,re){this.quill.format("list",!1,N.default.sources.USER),re.format.indent&&this.quill.format("indent",!1,N.default.sources.USER)}},"checklist enter":{key:J.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Q){var re=this.quill.getLine(Q.index),le=o(re,2),ue=le[0],ge=le[1],ke=(0,m.default)({},ue.formats(),{list:"checked"}),tt=new v.default().retain(Q.index).insert(`
`,ke).retain(ue.length()-ge-1).retain(1,{list:"unchecked"});this.quill.updateContents(tt,N.default.sources.USER),this.quill.setSelection(Q.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:J.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Q,re){var le=this.quill.getLine(Q.index),ue=o(le,2),ge=ue[0],ke=ue[1],tt=new v.default().retain(Q.index).insert(`
`,re.format).retain(ge.length()-ke-1).retain(1,{header:null});this.quill.updateContents(tt,N.default.sources.USER),this.quill.setSelection(Q.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Q,re){var le=re.prefix.length,ue=this.quill.getLine(Q.index),ge=o(ue,2),ke=ge[0],tt=ge[1];if(tt>le)return!0;var He=void 0;switch(re.prefix.trim()){case"[]":case"[ ]":He="unchecked";break;case"[x]":He="checked";break;case"-":case"*":He="bullet";break;default:He="ordered"}this.quill.insertText(Q.index," ",N.default.sources.USER),this.quill.history.cutoff();var ze=new v.default().retain(Q.index-tt).delete(le+1).retain(ke.length()-2-tt).retain(1,{list:He});this.quill.updateContents(ze,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Q.index-le,N.default.sources.SILENT)}},"code exit":{key:J.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Q){var re=this.quill.getLine(Q.index),le=o(re,2),ue=le[0],ge=le[1],ke=new v.default().retain(Q.index+ue.length()-ge-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ke,N.default.sources.USER)}},"embed left":Z(J.keys.LEFT,!1),"embed left shift":Z(J.keys.LEFT,!0),"embed right":Z(J.keys.RIGHT,!1),"embed right shift":Z(J.keys.RIGHT,!0)}};function Z(U,Q){var re,le=U===J.keys.LEFT?"prefix":"suffix";return re={key:U,shiftKey:Q,altKey:null},C(re,le,/^$/),C(re,"handler",function(ge){var ke=ge.index;U===J.keys.RIGHT&&(ke+=ge.length+1);var tt=this.quill.getLeaf(ke),He=o(tt,1),ze=He[0];return ze instanceof w.default.Embed?(U===J.keys.LEFT?Q?this.quill.setSelection(ge.index-1,ge.length+1,N.default.sources.USER):this.quill.setSelection(ge.index-1,N.default.sources.USER):Q?this.quill.setSelection(ge.index,ge.length+1,N.default.sources.USER):this.quill.setSelection(ge.index+ge.length+1,N.default.sources.USER),!1):!0}),re}function F(U,Q){if(!(U.index===0||this.quill.getLength()<=1)){var re=this.quill.getLine(U.index),le=o(re,1),ue=le[0],ge={};if(Q.offset===0){var ke=this.quill.getLine(U.index-1),tt=o(ke,1),He=tt[0];if(He!=null&&He.length()>1){var ze=ue.formats(),rt=this.quill.getFormat(U.index-1,1);ge=y.default.attributes.diff(ze,rt)||{}}}var Xe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Q.prefix)?2:1;this.quill.deleteText(U.index-Xe,Xe,N.default.sources.USER),Object.keys(ge).length>0&&this.quill.formatLine(U.index-Xe,Xe,ge,N.default.sources.USER),this.quill.focus()}}function D(U,Q){var re=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Q.suffix)?2:1;if(!(U.index>=this.quill.getLength()-re)){var le={},ue=0,ge=this.quill.getLine(U.index),ke=o(ge,1),tt=ke[0];if(Q.offset>=tt.length()-1){var He=this.quill.getLine(U.index+1),ze=o(He,1),rt=ze[0];if(rt){var Xe=tt.formats(),V=this.quill.getFormat(U.index,1);le=y.default.attributes.diff(Xe,V)||{},ue=rt.length()}}this.quill.deleteText(U.index,re,N.default.sources.USER),Object.keys(le).length>0&&this.quill.formatLine(U.index+ue-1,re,le,N.default.sources.USER)}}function O(U){var Q=this.quill.getLines(U),re={};if(Q.length>1){var le=Q[0].formats(),ue=Q[Q.length-1].formats();re=y.default.attributes.diff(ue,le)||{}}this.quill.deleteText(U,N.default.sources.USER),Object.keys(re).length>0&&this.quill.formatLine(U.index,1,re,N.default.sources.USER),this.quill.setSelection(U.index,N.default.sources.SILENT),this.quill.focus()}function T(U,Q){var re=this;U.length>0&&this.quill.scroll.deleteAt(U.index,U.length);var le=Object.keys(Q.format).reduce(function(ue,ge){return w.default.query(ge,w.default.Scope.BLOCK)&&!Array.isArray(Q.format[ge])&&(ue[ge]=Q.format[ge]),ue},{});this.quill.insertText(U.index,`
`,le,N.default.sources.USER),this.quill.setSelection(U.index+1,N.default.sources.SILENT),this.quill.focus(),Object.keys(Q.format).forEach(function(ue){le[ue]==null&&(Array.isArray(Q.format[ue])||ue!=="link"&&re.quill.format(ue,Q.format[ue],N.default.sources.USER))})}function R(U){return{key:J.keys.TAB,shiftKey:!U,format:{"code-block":!0},handler:function(re){var le=w.default.query("code-block"),ue=re.index,ge=re.length,ke=this.quill.scroll.descendant(le,ue),tt=o(ke,2),He=tt[0],ze=tt[1];if(He!=null){var rt=this.quill.getIndex(He),Xe=He.newlineIndex(ze,!0)+1,V=He.newlineIndex(rt+ze+ge),ne=He.domNode.textContent.slice(Xe,V).split(`
`);ze=0,ne.forEach(function(Ce,fe){U?(He.insertAt(Xe+ze,le.TAB),ze+=le.TAB.length,fe===0?ue+=le.TAB.length:ge+=le.TAB.length):Ce.startsWith(le.TAB)&&(He.deleteAt(Xe+ze,le.TAB.length),ze-=le.TAB.length,fe===0?ue-=le.TAB.length:ge-=le.TAB.length),ze+=Ce.length+1}),this.quill.update(N.default.sources.USER),this.quill.setSelection(ue,ge,N.default.sources.SILENT)}}}}function z(U){return{key:U[0].toUpperCase(),shortKey:!0,handler:function(re,le){this.quill.format(U,!le.format[U],N.default.sources.USER)}}}function _(U){if(typeof U=="string"||typeof U=="number")return _({key:U});if((typeof U=="undefined"?"undefined":i(U))==="object"&&(U=(0,u.default)(U,!1)),typeof U.key=="string")if(J.keys[U.key.toUpperCase()]!=null)U.key=J.keys[U.key.toUpperCase()];else if(U.key.length===1)U.key=U.key.toUpperCase().charCodeAt(0);else return null;return U.shortKey&&(U[X]=U.shortKey,delete U.shortKey),U}s.default=J,s.SHORTKEY=X},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function y(x,w){var j=[],N=!0,L=!1,k=void 0;try{for(var E=x[Symbol.iterator](),S;!(N=(S=E.next()).done)&&(j.push(S.value),!(w&&j.length===w));N=!0);}catch(I){L=!0,k=I}finally{try{!N&&E.return&&E.return()}finally{if(L)throw k}}return j}return function(x,w){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return y(x,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function y(x,w,j){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,w);if(N===void 0){var L=Object.getPrototypeOf(x);return L===null?void 0:y(L,w,j)}else{if("value"in N)return N.value;var k=N.get;return k===void 0?void 0:k.call(j)}},l=function(){function y(x,w){for(var j=0;j<w.length;j++){var N=w[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,w,j){return w&&y(x.prototype,w),j&&y(x,j),x}}(),c=a(0),u=g(c),f=a(7),h=g(f);function g(y){return y&&y.__esModule?y:{default:y}}function m(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function p(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function v(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var b=function(y){v(x,y),l(x,null,[{key:"value",value:function(){}}]);function x(w,j){m(this,x);var N=p(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return N.selection=j,N.textNode=document.createTextNode(x.CONTENTS),N.domNode.appendChild(N.textNode),N._length=0,N}return l(x,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(j,N){if(this._length!==0)return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,j,N);for(var L=this,k=0;L!=null&&L.statics.scope!==u.default.Scope.BLOCK_BLOT;)k+=L.offset(L.parent),L=L.parent;L!=null&&(this._length=x.CONTENTS.length,L.optimize(),L.formatAt(k,x.CONTENTS.length,j,N),this._length=0)}},{key:"index",value:function(j,N){return j===this.textNode?0:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,j,N)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var j=this.textNode,N=this.selection.getNativeRange(),L=void 0,k=void 0,E=void 0;if(N!=null&&N.start.node===j&&N.end.node===j){var S=[j,N.start.offset,N.end.offset];L=S[0],k=S[1],E=S[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==x.CONTENTS){var I=this.textNode.data.split(x.CONTENTS).join("");this.next instanceof h.default?(L=this.next.domNode,this.next.insertAt(0,I),this.textNode.data=x.CONTENTS):(this.textNode.data=I,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(x.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),k!=null){var C=[k,E].map(function(A){return Math.max(0,Math.min(L.data.length,A-1))}),M=i(C,2);return k=M[0],E=M[1],{startNode:L,startOffset:k,endNode:L,endOffset:E}}}}},{key:"update",value:function(j,N){var L=this;if(j.some(function(E){return E.type==="characterData"&&E.target===L.textNode})){var k=this.restore();k&&(N.range=k)}}},{key:"value",value:function(){return""}}]),x}(u.default.Embed);b.blotName="cursor",b.className="ql-cursor",b.tagName="span",b.CONTENTS="\uFEFF",s.default=b},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(0),o=u(i),l=a(4),c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function f(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function h(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function g(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var m=function(p){g(v,p);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(o.default.Container);m.allowedChildren=[c.default,l.BlockEmbed,m],s.default=m},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.ColorStyle=s.ColorClass=s.ColorAttributor=void 0;var i=function(){function b(y,x){for(var w=0;w<x.length;w++){var j=x[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,x,w){return x&&b(y.prototype,x),w&&b(y,w),y}}(),o=function b(y,x,w){y===null&&(y=Function.prototype);var j=Object.getOwnPropertyDescriptor(y,x);if(j===void 0){var N=Object.getPrototypeOf(y);return N===null?void 0:b(N,x,w)}else{if("value"in j)return j.value;var L=j.get;return L===void 0?void 0:L.call(w)}},l=a(0),c=u(l);function u(b){return b&&b.__esModule?b:{default:b}}function f(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function h(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function g(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var m=function(b){g(y,b);function y(){return f(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"value",value:function(w){var j=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,w);return j.startsWith("rgb(")?(j=j.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+j.split(",").map(function(N){return("00"+parseInt(N).toString(16)).slice(-2)}).join("")):j}}]),y}(c.default.Attributor.Style),p=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),v=new m("color","color",{scope:c.default.Scope.INLINE});s.ColorAttributor=m,s.ColorClass=p,s.ColorStyle=v},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.sanitize=s.default=void 0;var i=function(){function v(b,y){for(var x=0;x<y.length;x++){var w=y[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,y,x){return y&&v(b.prototype,y),x&&v(b,x),b}}(),o=function v(b,y,x){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,y);if(w===void 0){var j=Object.getPrototypeOf(b);return j===null?void 0:v(j,y,x)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(x)}},l=a(6),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function f(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function h(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function g(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var m=function(v){g(b,v);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"format",value:function(x,w){if(x!==this.statics.blotName||!w)return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,x,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(x){var w=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,x);return x=this.sanitize(x),w.setAttribute("href",x),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(x){return x.getAttribute("href")}},{key:"sanitize",value:function(x){return p(x,this.PROTOCOL_WHITELIST)?x:this.SANITIZED_URL}}]),b}(c.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function p(v,b){var y=document.createElement("a");y.href=v;var x=y.href.slice(0,y.href.indexOf(":"));return b.indexOf(x)>-1}s.default=m,s.sanitize=p},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},o=function(){function b(y,x){for(var w=0;w<x.length;w++){var j=x[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,x,w){return x&&b(y.prototype,x),w&&b(y,w),y}}(),l=a(23),c=h(l),u=a(107),f=h(u);function h(b){return b&&b.__esModule?b:{default:b}}function g(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}var m=0;function p(b,y){b.setAttribute(y,b.getAttribute(y)!=="true")}var v=function(){function b(y){var x=this;g(this,b),this.select=y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){x.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case c.default.keys.ENTER:x.togglePicker();break;case c.default.keys.ESCAPE:x.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(b,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),p(this.label,"aria-expanded"),p(this.options,"aria-hidden")}},{key:"buildItem",value:function(x){var w=this,j=document.createElement("span");return j.tabIndex="0",j.setAttribute("role","button"),j.classList.add("ql-picker-item"),x.hasAttribute("value")&&j.setAttribute("data-value",x.getAttribute("value")),x.textContent&&j.setAttribute("data-label",x.textContent),j.addEventListener("click",function(){w.selectItem(j,!0)}),j.addEventListener("keydown",function(N){switch(N.keyCode){case c.default.keys.ENTER:w.selectItem(j,!0),N.preventDefault();break;case c.default.keys.ESCAPE:w.escape(),N.preventDefault();break}}),j}},{key:"buildLabel",value:function(){var x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML=f.default,x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}},{key:"buildOptions",value:function(){var x=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(j){var N=x.buildItem(j);w.appendChild(N),j.selected===!0&&x.selectItem(N)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var x=this;[].slice.call(this.select.attributes).forEach(function(w){x.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var x=this;this.close(),setTimeout(function(){return x.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,j=this.container.querySelector(".ql-selected");if(x!==j&&(j!=null&&j.classList.remove("ql-selected"),x!=null&&(x.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(x.parentNode.children,x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event=="undefined"?"undefined":i(Event))==="object"){var N=document.createEvent("Event");N.initEvent("change",!0,!0),this.select.dispatchEvent(N)}this.close()}}},{key:"update",value:function(){var x=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var j=x!=null&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",j)}}]),b}();s.default=v},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(0),o=W(i),l=a(5),c=W(l),u=a(4),f=W(u),h=a(16),g=W(h),m=a(25),p=W(m),v=a(24),b=W(v),y=a(35),x=W(y),w=a(6),j=W(w),N=a(22),L=W(N),k=a(7),E=W(k),S=a(55),I=W(S),C=a(42),M=W(C),A=a(23),H=W(A);function W(X){return X&&X.__esModule?X:{default:X}}c.default.register({"blots/block":f.default,"blots/block/embed":u.BlockEmbed,"blots/break":g.default,"blots/container":p.default,"blots/cursor":b.default,"blots/embed":x.default,"blots/inline":j.default,"blots/scroll":L.default,"blots/text":E.default,"modules/clipboard":I.default,"modules/history":M.default,"modules/keyboard":H.default}),o.default.register(f.default,g.default,b.default,j.default,L.default,E.default),s.default=c.default},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(1),o=function(){function l(c){this.domNode=c,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(c){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?u=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?u=document.createElement(c):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return i.create(c)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},l.prototype.deleteAt=function(c,u){var f=this.isolate(c,u);f.remove()},l.prototype.formatAt=function(c,u,f,h){var g=this.isolate(c,u);if(i.query(f,i.Scope.BLOT)!=null&&h)g.wrap(f,h);else if(i.query(f,i.Scope.ATTRIBUTE)!=null){var m=i.create(this.statics.scope);g.wrap(m),m.format(f,h)}},l.prototype.insertAt=function(c,u,f){var h=f==null?i.create("text",u):i.create(u,f),g=this.split(c);this.parent.insertBefore(h,g)},l.prototype.insertInto=function(c,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var f=null;c.children.insertBefore(this,u),u!=null&&(f=u.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=f)&&c.domNode.insertBefore(this.domNode,f),this.parent=c,this.attach()},l.prototype.isolate=function(c,u){var f=this.split(c);return f.split(u),f},l.prototype.length=function(){return 1},l.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},l.prototype.optimize=function(c){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},l.prototype.replaceWith=function(c,u){var f=typeof c=="string"?i.create(c,u):c;return f.replace(this),f},l.prototype.split=function(c,u){return c===0?this:this.next},l.prototype.update=function(c,u){},l.prototype.wrap=function(c,u){var f=typeof c=="string"?i.create(c,u):c;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},l.blotName="abstract",l}();s.default=o},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(12),o=a(32),l=a(33),c=a(1),u=function(){function f(h){this.attributes={},this.domNode=h,this.build()}return f.prototype.attribute=function(h,g){g?h.add(this.domNode,g)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},f.prototype.build=function(){var h=this;this.attributes={};var g=i.default.keys(this.domNode),m=o.default.keys(this.domNode),p=l.default.keys(this.domNode);g.concat(m).concat(p).forEach(function(v){var b=c.query(v,c.Scope.ATTRIBUTE);b instanceof i.default&&(h.attributes[b.attrName]=b)})},f.prototype.copy=function(h){var g=this;Object.keys(this.attributes).forEach(function(m){var p=g.attributes[m].value(g.domNode);h.format(m,p)})},f.prototype.move=function(h){var g=this;this.copy(h),Object.keys(this.attributes).forEach(function(m){g.attributes[m].remove(g.domNode)}),this.attributes={}},f.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(g,m){return g[m]=h.attributes[m].value(h.domNode),g},{})},f}();s.default=u},function(n,s,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var g in h)h.hasOwnProperty(g)&&(f[g]=h[g])};return function(f,h){u(f,h);function g(){this.constructor=f}f.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=a(12);function l(u,f){var h=u.getAttribute("class")||"";return h.split(/\s+/).filter(function(g){return g.indexOf(f+"-")===0})}var c=function(u){i(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(g){return g.split("-").slice(0,-1).join("-")})},f.prototype.add=function(h,g){return this.canAdd(h,g)?(this.remove(h),h.classList.add(this.keyName+"-"+g),!0):!1},f.prototype.remove=function(h){var g=l(h,this.keyName);g.forEach(function(m){h.classList.remove(m)}),h.classList.length===0&&h.removeAttribute("class")},f.prototype.value=function(h){var g=l(h,this.keyName)[0]||"",m=g.slice(this.keyName.length+1);return this.canAdd(h,m)?m:""},f}(o.default);s.default=c},function(n,s,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var g in h)h.hasOwnProperty(g)&&(f[g]=h[g])};return function(f,h){u(f,h);function g(){this.constructor=f}f.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=a(12);function l(u){var f=u.split("-"),h=f.slice(1).map(function(g){return g[0].toUpperCase()+g.slice(1)}).join("");return f[0]+h}var c=function(u){i(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(g){var m=g.split(":");return m[0].trim()})},f.prototype.add=function(h,g){return this.canAdd(h,g)?(h.style[l(this.keyName)]=g,!0):!1},f.prototype.remove=function(h){h.style[l(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},f.prototype.value=function(h){var g=h.style[l(this.keyName)];return this.canAdd(h,g)?g:""},f}(o.default);s.default=c},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function c(u,f){for(var h=0;h<f.length;h++){var g=f[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}return function(u,f,h){return f&&c(u.prototype,f),h&&c(u,h),u}}();function o(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(u,f){o(this,c),this.quill=u,this.options=f,this.modules={}}return i(c,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(h){f.modules[h]==null&&f.addModule(h)})}},{key:"addModule",value:function(f){var h=this.quill.constructor.import("modules/"+f);return this.modules[f]=new h(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),c}();l.DEFAULTS={modules:{}},l.themes={default:l},s.default=l},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function y(x,w){for(var j=0;j<w.length;j++){var N=w[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,w,j){return w&&y(x.prototype,w),j&&y(x,j),x}}(),o=function y(x,w,j){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,w);if(N===void 0){var L=Object.getPrototypeOf(x);return L===null?void 0:y(L,w,j)}else{if("value"in N)return N.value;var k=N.get;return k===void 0?void 0:k.call(j)}},l=a(0),c=h(l),u=a(7),f=h(u);function h(y){return y&&y.__esModule?y:{default:y}}function g(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function m(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function p(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var v="\uFEFF",b=function(y){p(x,y);function x(w){g(this,x);var j=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return j.contentNode=document.createElement("span"),j.contentNode.setAttribute("contenteditable",!1),[].slice.call(j.domNode.childNodes).forEach(function(N){j.contentNode.appendChild(N)}),j.leftGuard=document.createTextNode(v),j.rightGuard=document.createTextNode(v),j.domNode.appendChild(j.leftGuard),j.domNode.appendChild(j.contentNode),j.domNode.appendChild(j.rightGuard),j}return i(x,[{key:"index",value:function(j,N){return j===this.leftGuard?0:j===this.rightGuard?1:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,j,N)}},{key:"restore",value:function(j){var N=void 0,L=void 0,k=j.data.split(v).join("");if(j===this.leftGuard)if(this.prev instanceof f.default){var E=this.prev.length();this.prev.insertAt(E,k),N={startNode:this.prev.domNode,startOffset:E+k.length}}else L=document.createTextNode(k),this.parent.insertBefore(c.default.create(L),this),N={startNode:L,startOffset:k.length};else j===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,k),N={startNode:this.next.domNode,startOffset:k.length}):(L=document.createTextNode(k),this.parent.insertBefore(c.default.create(L),this.next),N={startNode:L,startOffset:k.length}));return j.data=v,N}},{key:"update",value:function(j,N){var L=this;j.forEach(function(k){if(k.type==="characterData"&&(k.target===L.leftGuard||k.target===L.rightGuard)){var E=L.restore(k.target);E&&(N.range=E)}})}}]),x}(c.default.Embed);s.default=b},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.AlignStyle=s.AlignClass=s.AlignAttribute=void 0;var i=a(0),o=l(i);function l(g){return g&&g.__esModule?g:{default:g}}var c={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",c),f=new o.default.Attributor.Class("align","ql-align",c),h=new o.default.Attributor.Style("align","text-align",c);s.AlignAttribute=u,s.AlignClass=f,s.AlignStyle=h},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.BackgroundStyle=s.BackgroundClass=void 0;var i=a(0),o=c(i),l=a(26);function c(h){return h&&h.__esModule?h:{default:h}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),f=new l.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});s.BackgroundClass=u,s.BackgroundStyle=f},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.DirectionStyle=s.DirectionClass=s.DirectionAttribute=void 0;var i=a(0),o=l(i);function l(g){return g&&g.__esModule?g:{default:g}}var c={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",c),f=new o.default.Attributor.Class("direction","ql-direction",c),h=new o.default.Attributor.Style("direction","direction",c);s.DirectionAttribute=u,s.DirectionClass=f,s.DirectionStyle=h},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.FontClass=s.FontStyle=void 0;var i=function(){function y(x,w){for(var j=0;j<w.length;j++){var N=w[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,w,j){return w&&y(x.prototype,w),j&&y(x,j),x}}(),o=function y(x,w,j){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,w);if(N===void 0){var L=Object.getPrototypeOf(x);return L===null?void 0:y(L,w,j)}else{if("value"in N)return N.value;var k=N.get;return k===void 0?void 0:k.call(j)}},l=a(0),c=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function h(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function g(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var m={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},p=new c.default.Attributor.Class("font","ql-font",m),v=function(y){g(x,y);function x(){return f(this,x),h(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return i(x,[{key:"value",value:function(j){return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,j).replace(/["']/g,"")}}]),x}(c.default.Attributor.Style),b=new v("font","font-family",m);s.FontStyle=b,s.FontClass=p},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.SizeStyle=s.SizeClass=void 0;var i=a(0),o=l(i);function l(f){return f&&f.__esModule?f:{default:f}}var c=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});s.SizeClass=c,s.SizeStyle=u},function(n,s,a){n.exports={align:{"":a(76),center:a(77),right:a(78),justify:a(79)},background:a(80),blockquote:a(81),bold:a(82),clean:a(83),code:a(58),"code-block":a(58),color:a(84),direction:{"":a(85),rtl:a(86)},float:{center:a(87),full:a(88),left:a(89),right:a(90)},formula:a(91),header:{1:a(92),2:a(93)},italic:a(94),image:a(95),indent:{"+1":a(96),"-1":a(97)},link:a(98),list:{ordered:a(99),bullet:a(100),check:a(101)},script:{sub:a(102),super:a(103)},strike:a(104),underline:a(105),video:a(106)}},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.getLastChangeIndex=s.default=void 0;var i=function(){function w(j,N){for(var L=0;L<N.length;L++){var k=N[L];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(j,k.key,k)}}return function(j,N,L){return N&&w(j.prototype,N),L&&w(j,L),j}}(),o=a(0),l=g(o),c=a(5),u=g(c),f=a(9),h=g(f);function g(w){return w&&w.__esModule?w:{default:w}}function m(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")}function p(w,j){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:w}function v(w,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);w.prototype=Object.create(j&&j.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(w,j):w.__proto__=j)}var b=function(w){v(j,w);function j(N,L){m(this,j);var k=p(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,N,L));return k.lastRecorded=0,k.ignoreChange=!1,k.clear(),k.quill.on(u.default.events.EDITOR_CHANGE,function(E,S,I,C){E!==u.default.events.TEXT_CHANGE||k.ignoreChange||(!k.options.userOnly||C===u.default.sources.USER?k.record(S,I):k.transform(S))}),k.quill.keyboard.addBinding({key:"Z",shortKey:!0},k.undo.bind(k)),k.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},k.redo.bind(k)),/Win/i.test(navigator.platform)&&k.quill.keyboard.addBinding({key:"Y",shortKey:!0},k.redo.bind(k)),k}return i(j,[{key:"change",value:function(L,k){if(this.stack[L].length!==0){var E=this.stack[L].pop();this.stack[k].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[L],u.default.sources.USER),this.ignoreChange=!1;var S=x(E[L]);this.quill.setSelection(S)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(L,k){if(L.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(k),S=Date.now();if(this.lastRecorded+this.options.delay>S&&this.stack.undo.length>0){var I=this.stack.undo.pop();E=E.compose(I.undo),L=I.redo.compose(L)}else this.lastRecorded=S;this.stack.undo.push({redo:L,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(L){this.stack.undo.forEach(function(k){k.undo=L.transform(k.undo,!0),k.redo=L.transform(k.redo,!0)}),this.stack.redo.forEach(function(k){k.undo=L.transform(k.undo,!0),k.redo=L.transform(k.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),j}(h.default);b.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function y(w){var j=w.ops[w.ops.length-1];return j==null?!1:j.insert!=null?typeof j.insert=="string"&&j.insert.endsWith(`
`):j.attributes!=null?Object.keys(j.attributes).some(function(N){return l.default.query(N,l.default.Scope.BLOCK)!=null}):!1}function x(w){var j=w.reduce(function(L,k){return L+=k.delete||0,L},0),N=w.length()-j;return y(w)&&(N-=1),N}s.default=b,s.getLastChangeIndex=x},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BaseTooltip=void 0;var i=function(){function T(R,z){for(var _=0;_<z.length;_++){var U=z[_];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,U.key,U)}}return function(R,z,_){return z&&T(R.prototype,z),_&&T(R,_),R}}(),o=function T(R,z,_){R===null&&(R=Function.prototype);var U=Object.getOwnPropertyDescriptor(R,z);if(U===void 0){var Q=Object.getPrototypeOf(R);return Q===null?void 0:T(Q,z,_)}else{if("value"in U)return U.value;var re=U.get;return re===void 0?void 0:re.call(_)}},l=a(3),c=S(l),u=a(2),f=S(u),h=a(8),g=S(h),m=a(23),p=S(m),v=a(34),b=S(v),y=a(59),x=S(y),w=a(60),j=S(w),N=a(28),L=S(N),k=a(61),E=S(k);function S(T){return T&&T.__esModule?T:{default:T}}function I(T,R){if(!(T instanceof R))throw new TypeError("Cannot call a class as a function")}function C(T,R){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:T}function M(T,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);T.prototype=Object.create(R&&R.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(T,R):T.__proto__=R)}var A=[!1,"center","right","justify"],H=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],W=[!1,"serif","monospace"],X=["1","2","3",!1],J=["small",!1,"large","huge"],Z=function(T){M(R,T);function R(z,_){I(this,R);var U=C(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,z,_)),Q=function re(le){if(!document.body.contains(z.root))return document.body.removeEventListener("click",re);U.tooltip!=null&&!U.tooltip.root.contains(le.target)&&document.activeElement!==U.tooltip.textbox&&!U.quill.hasFocus()&&U.tooltip.hide(),U.pickers!=null&&U.pickers.forEach(function(ue){ue.container.contains(le.target)||ue.close()})};return z.emitter.listenDOM("click",document.body,Q),U}return i(R,[{key:"addModule",value:function(_){var U=o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"addModule",this).call(this,_);return _==="toolbar"&&this.extendToolbar(U),U}},{key:"buildButtons",value:function(_,U){_.forEach(function(Q){var re=Q.getAttribute("class")||"";re.split(/\s+/).forEach(function(le){if(le.startsWith("ql-")&&(le=le.slice(3),U[le]!=null))if(le==="direction")Q.innerHTML=U[le][""]+U[le].rtl;else if(typeof U[le]=="string")Q.innerHTML=U[le];else{var ue=Q.value||"";ue!=null&&U[le][ue]&&(Q.innerHTML=U[le][ue])}})})}},{key:"buildPickers",value:function(_,U){var Q=this;this.pickers=_.map(function(le){if(le.classList.contains("ql-align"))return le.querySelector("option")==null&&O(le,A),new j.default(le,U.align);if(le.classList.contains("ql-background")||le.classList.contains("ql-color")){var ue=le.classList.contains("ql-background")?"background":"color";return le.querySelector("option")==null&&O(le,H,ue==="background"?"#ffffff":"#000000"),new x.default(le,U[ue])}else return le.querySelector("option")==null&&(le.classList.contains("ql-font")?O(le,W):le.classList.contains("ql-header")?O(le,X):le.classList.contains("ql-size")&&O(le,J)),new L.default(le)});var re=function(){Q.pickers.forEach(function(ue){ue.update()})};this.quill.on(g.default.events.EDITOR_CHANGE,re)}}]),R}(b.default);Z.DEFAULTS=(0,c.default)(!0,{},b.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var R=this,z=this.container.querySelector("input.ql-image[type=file]");z==null&&(z=document.createElement("input"),z.setAttribute("type","file"),z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),z.classList.add("ql-image"),z.addEventListener("change",function(){if(z.files!=null&&z.files[0]!=null){var _=new FileReader;_.onload=function(U){var Q=R.quill.getSelection(!0);R.quill.updateContents(new f.default().retain(Q.index).delete(Q.length).insert({image:U.target.result}),g.default.sources.USER),R.quill.setSelection(Q.index+1,g.default.sources.SILENT),z.value=""},_.readAsDataURL(z.files[0])}}),this.container.appendChild(z)),z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var F=function(T){M(R,T);function R(z,_){I(this,R);var U=C(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,z,_));return U.textbox=U.root.querySelector('input[type="text"]'),U.listen(),U}return i(R,[{key:"listen",value:function(){var _=this;this.textbox.addEventListener("keydown",function(U){p.default.match(U,"enter")?(_.save(),U.preventDefault()):p.default.match(U,"escape")&&(_.cancel(),U.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),U!=null?this.textbox.value=U:_!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+_)||""),this.root.setAttribute("data-mode",_)}},{key:"restoreFocus",value:function(){var _=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=_}},{key:"save",value:function(){var _=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var U=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",_,g.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",_,g.default.sources.USER)),this.quill.root.scrollTop=U;break}case"video":_=D(_);case"formula":{if(!_)break;var Q=this.quill.getSelection(!0);if(Q!=null){var re=Q.index+Q.length;this.quill.insertEmbed(re,this.root.getAttribute("data-mode"),_,g.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(re+1," ",g.default.sources.USER),this.quill.setSelection(re+2,g.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),R}(E.default);function D(T){var R=T.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||T.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return R?(R[1]||"https")+"://www.youtube.com/embed/"+R[2]+"?showinfo=0":(R=T.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(R[1]||"https")+"://player.vimeo.com/video/"+R[2]+"/":T}function O(T,R){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;R.forEach(function(_){var U=document.createElement("option");_===z?U.setAttribute("selected","selected"):U.setAttribute("value",_),T.appendChild(U)})}s.BaseTooltip=F,s.default=Z},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},o.prototype.contains=function(l){for(var c,u=this.iterator();c=u();)if(c===l)return!0;return!1},o.prototype.insertBefore=function(l,c){l&&(l.next=c,c!=null?(l.prev=c.prev,c.prev!=null&&(c.prev.next=l),c.prev=l,c===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},o.prototype.offset=function(l){for(var c=0,u=this.head;u!=null;){if(u===l)return c;c+=u.length(),u=u.next}return-1},o.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},o.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var c=l;return l!=null&&(l=l.next),c}},o.prototype.find=function(l,c){c===void 0&&(c=!1);for(var u,f=this.iterator();u=f();){var h=u.length();if(l<h||c&&l===h&&(u.next==null||u.next.length()!==0))return[u,l];l-=h}return[null,0]},o.prototype.forEach=function(l){for(var c,u=this.iterator();c=u();)l(c)},o.prototype.forEachAt=function(l,c,u){if(!(c<=0))for(var f=this.find(l),h=f[0],g=f[1],m,p=l-g,v=this.iterator(h);(m=v())&&p<l+c;){var b=m.length();l>p?u(m,l-p,Math.min(c,p+b-l)):u(m,0,Math.min(b,l+c-p)),p+=b}},o.prototype.map=function(l){return this.reduce(function(c,u){return c.push(l(u)),c},[])},o.prototype.reduce=function(l,c){for(var u,f=this.iterator();u=f();)c=l(c,u);return c},o}();s.default=i},function(n,s,a){var i=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var p in m)m.hasOwnProperty(p)&&(g[p]=m[p])};return function(g,m){h(g,m);function p(){this.constructor=g}g.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=a(17),l=a(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,f=function(h){i(g,h);function g(m){var p=h.call(this,m)||this;return p.scroll=p,p.observer=new MutationObserver(function(v){p.update(v)}),p.observer.observe(p.domNode,c),p.attach(),p}return g.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},g.prototype.deleteAt=function(m,p){this.update(),m===0&&p===this.length()?this.children.forEach(function(v){v.remove()}):h.prototype.deleteAt.call(this,m,p)},g.prototype.formatAt=function(m,p,v,b){this.update(),h.prototype.formatAt.call(this,m,p,v,b)},g.prototype.insertAt=function(m,p,v){this.update(),h.prototype.insertAt.call(this,m,p,v)},g.prototype.optimize=function(m,p){var v=this;m===void 0&&(m=[]),p===void 0&&(p={}),h.prototype.optimize.call(this,p);for(var b=[].slice.call(this.observer.takeRecords());b.length>0;)m.push(b.pop());for(var y=function(N,L){L===void 0&&(L=!0),!(N==null||N===v)&&N.domNode.parentNode!=null&&(N.domNode[l.DATA_KEY].mutations==null&&(N.domNode[l.DATA_KEY].mutations=[]),L&&y(N.parent))},x=function(N){N.domNode[l.DATA_KEY]==null||N.domNode[l.DATA_KEY].mutations==null||(N instanceof o.default&&N.children.forEach(x),N.optimize(p))},w=m,j=0;w.length>0;j+=1){if(j>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(N){var L=l.find(N.target,!0);L!=null&&(L.domNode===N.target&&(N.type==="childList"?(y(l.find(N.previousSibling,!1)),[].forEach.call(N.addedNodes,function(k){var E=l.find(k,!1);y(E,!1),E instanceof o.default&&E.children.forEach(function(S){y(S,!1)})})):N.type==="attributes"&&y(L.prev)),y(L))}),this.children.forEach(x),w=[].slice.call(this.observer.takeRecords()),b=w.slice();b.length>0;)m.push(b.pop())}},g.prototype.update=function(m,p){var v=this;p===void 0&&(p={}),m=m||this.observer.takeRecords(),m.map(function(b){var y=l.find(b.target,!0);return y==null?null:y.domNode[l.DATA_KEY].mutations==null?(y.domNode[l.DATA_KEY].mutations=[b],y):(y.domNode[l.DATA_KEY].mutations.push(b),null)}).forEach(function(b){b==null||b===v||b.domNode[l.DATA_KEY]==null||b.update(b.domNode[l.DATA_KEY].mutations||[],p)}),this.domNode[l.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,p),this.optimize(m,p)},g.blotName="scroll",g.defaultChild="block",g.scope=l.Scope.BLOCK_BLOT,g.tagName="DIV",g}(o.default);s.default=f},function(n,s,a){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var m in g)g.hasOwnProperty(m)&&(h[m]=g[m])};return function(h,g){f(h,g);function m(){this.constructor=h}h.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=a(18),l=a(1);function c(f,h){if(Object.keys(f).length!==Object.keys(h).length)return!1;for(var g in f)if(f[g]!==h[g])return!1;return!0}var u=function(f){i(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.formats=function(g){if(g.tagName!==h.tagName)return f.formats.call(this,g)},h.prototype.format=function(g,m){var p=this;g===this.statics.blotName&&!m?(this.children.forEach(function(v){v instanceof o.default||(v=v.wrap(h.blotName,!0)),p.attributes.copy(v)}),this.unwrap()):f.prototype.format.call(this,g,m)},h.prototype.formatAt=function(g,m,p,v){if(this.formats()[p]!=null||l.query(p,l.Scope.ATTRIBUTE)){var b=this.isolate(g,m);b.format(p,v)}else f.prototype.formatAt.call(this,g,m,p,v)},h.prototype.optimize=function(g){f.prototype.optimize.call(this,g);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var p=this.next;p instanceof h&&p.prev===this&&c(m,p.formats())&&(p.moveChildren(this),p.remove())},h.blotName="inline",h.scope=l.Scope.INLINE_BLOT,h.tagName="SPAN",h}(o.default);s.default=u},function(n,s,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var g in h)h.hasOwnProperty(g)&&(f[g]=h[g])};return function(f,h){u(f,h);function g(){this.constructor=f}f.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=a(18),l=a(1),c=function(u){i(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(h){var g=l.query(f.blotName).tagName;if(h.tagName!==g)return u.formats.call(this,h)},f.prototype.format=function(h,g){l.query(h,l.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!g?this.replaceWith(f.blotName):u.prototype.format.call(this,h,g))},f.prototype.formatAt=function(h,g,m,p){l.query(m,l.Scope.BLOCK)!=null?this.format(m,p):u.prototype.formatAt.call(this,h,g,m,p)},f.prototype.insertAt=function(h,g,m){if(m==null||l.query(g,l.Scope.INLINE)!=null)u.prototype.insertAt.call(this,h,g,m);else{var p=this.split(h),v=l.create(g,m);p.parent.insertBefore(v,p)}},f.prototype.update=function(h,g){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,h,g)},f.blotName="block",f.scope=l.Scope.BLOCK_BLOT,f.tagName="P",f}(o.default);s.default=c},function(n,s,a){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){c(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=a(19),l=function(c){i(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(f){},u.prototype.format=function(f,h){c.prototype.formatAt.call(this,0,this.length(),f,h)},u.prototype.formatAt=function(f,h,g,m){f===0&&h===this.length()?this.format(g,m):c.prototype.formatAt.call(this,f,h,g,m)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);s.default=l},function(n,s,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var g in h)h.hasOwnProperty(g)&&(f[g]=h[g])};return function(f,h){u(f,h);function g(){this.constructor=f}f.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}}();Object.defineProperty(s,"__esModule",{value:!0});var o=a(19),l=a(1),c=function(u){i(f,u);function f(h){var g=u.call(this,h)||this;return g.text=g.statics.value(g.domNode),g}return f.create=function(h){return document.createTextNode(h)},f.value=function(h){var g=h.data;return g.normalize&&(g=g.normalize()),g},f.prototype.deleteAt=function(h,g){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+g)},f.prototype.index=function(h,g){return this.domNode===h?g:-1},f.prototype.insertAt=function(h,g,m){m==null?(this.text=this.text.slice(0,h)+g+this.text.slice(h),this.domNode.data=this.text):u.prototype.insertAt.call(this,h,g,m)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(h){u.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(h,g){return[this.domNode,h]},f.prototype.split=function(h,g){if(g===void 0&&(g=!1),!g){if(h===0)return this;if(h===this.length())return this.next}var m=l.create(this.domNode.splitText(h));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},f.prototype.update=function(h,g){var m=this;h.some(function(p){return p.type==="characterData"&&p.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=l.Scope.INLINE_BLOT,f}(o.default);s.default=c},function(n,s,a){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,c){return arguments.length>1&&!this.contains(l)==!c?c:o.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,c){return c=c||0,this.substr(c,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,c){var u=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>u.length)&&(c=u.length),c-=l.length;var f=u.indexOf(l,c);return f!==-1&&f===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),f=u.length>>>0,h=arguments[1],g,m=0;m<f;m++)if(g=u[m],c.call(h,g,m,u))return g}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,s){var a=-1,i=1,o=0;function l(j,N,L){if(j==N)return j?[[o,j]]:[];(L<0||j.length<L)&&(L=null);var k=h(j,N),E=j.substring(0,k);j=j.substring(k),N=N.substring(k),k=g(j,N);var S=j.substring(j.length-k);j=j.substring(0,j.length-k),N=N.substring(0,N.length-k);var I=c(j,N);return E&&I.unshift([o,E]),S&&I.push([o,S]),p(I),L!=null&&(I=y(I,L)),I=x(I),I}function c(j,N){var L;if(!j)return[[i,N]];if(!N)return[[a,j]];var k=j.length>N.length?j:N,E=j.length>N.length?N:j,S=k.indexOf(E);if(S!=-1)return L=[[i,k.substring(0,S)],[o,E],[i,k.substring(S+E.length)]],j.length>N.length&&(L[0][0]=L[2][0]=a),L;if(E.length==1)return[[a,j],[i,N]];var I=m(j,N);if(I){var C=I[0],M=I[1],A=I[2],H=I[3],W=I[4],X=l(C,A),J=l(M,H);return X.concat([[o,W]],J)}return u(j,N)}function u(j,N){for(var L=j.length,k=N.length,E=Math.ceil((L+k)/2),S=E,I=2*E,C=new Array(I),M=new Array(I),A=0;A<I;A++)C[A]=-1,M[A]=-1;C[S+1]=0,M[S+1]=0;for(var H=L-k,W=H%2!=0,X=0,J=0,Z=0,F=0,D=0;D<E;D++){for(var O=-D+X;O<=D-J;O+=2){var T=S+O,R;O==-D||O!=D&&C[T-1]<C[T+1]?R=C[T+1]:R=C[T-1]+1;for(var z=R-O;R<L&&z<k&&j.charAt(R)==N.charAt(z);)R++,z++;if(C[T]=R,R>L)J+=2;else if(z>k)X+=2;else if(W){var _=S+H-O;if(_>=0&&_<I&&M[_]!=-1){var U=L-M[_];if(R>=U)return f(j,N,R,z)}}}for(var Q=-D+Z;Q<=D-F;Q+=2){var _=S+Q,U;Q==-D||Q!=D&&M[_-1]<M[_+1]?U=M[_+1]:U=M[_-1]+1;for(var re=U-Q;U<L&&re<k&&j.charAt(L-U-1)==N.charAt(k-re-1);)U++,re++;if(M[_]=U,U>L)F+=2;else if(re>k)Z+=2;else if(!W){var T=S+H-Q;if(T>=0&&T<I&&C[T]!=-1){var R=C[T],z=S+R-T;if(U=L-U,R>=U)return f(j,N,R,z)}}}}return[[a,j],[i,N]]}function f(j,N,L,k){var E=j.substring(0,L),S=N.substring(0,k),I=j.substring(L),C=N.substring(k),M=l(E,S),A=l(I,C);return M.concat(A)}function h(j,N){if(!j||!N||j.charAt(0)!=N.charAt(0))return 0;for(var L=0,k=Math.min(j.length,N.length),E=k,S=0;L<E;)j.substring(S,E)==N.substring(S,E)?(L=E,S=L):k=E,E=Math.floor((k-L)/2+L);return E}function g(j,N){if(!j||!N||j.charAt(j.length-1)!=N.charAt(N.length-1))return 0;for(var L=0,k=Math.min(j.length,N.length),E=k,S=0;L<E;)j.substring(j.length-E,j.length-S)==N.substring(N.length-E,N.length-S)?(L=E,S=L):k=E,E=Math.floor((k-L)/2+L);return E}function m(j,N){var L=j.length>N.length?j:N,k=j.length>N.length?N:j;if(L.length<4||k.length*2<L.length)return null;function E(J,Z,F){for(var D=J.substring(F,F+Math.floor(J.length/4)),O=-1,T="",R,z,_,U;(O=Z.indexOf(D,O+1))!=-1;){var Q=h(J.substring(F),Z.substring(O)),re=g(J.substring(0,F),Z.substring(0,O));T.length<re+Q&&(T=Z.substring(O-re,O)+Z.substring(O,O+Q),R=J.substring(0,F-re),z=J.substring(F+Q),_=Z.substring(0,O-re),U=Z.substring(O+Q))}return T.length*2>=J.length?[R,z,_,U,T]:null}var S=E(L,k,Math.ceil(L.length/4)),I=E(L,k,Math.ceil(L.length/2)),C;if(!S&&!I)return null;I?S?C=S[4].length>I[4].length?S:I:C=I:C=S;var M,A,H,W;j.length>N.length?(M=C[0],A=C[1],H=C[2],W=C[3]):(H=C[0],W=C[1],M=C[2],A=C[3]);var X=C[4];return[M,A,H,W,X]}function p(j){j.push([o,""]);for(var N=0,L=0,k=0,E="",S="",I;N<j.length;)switch(j[N][0]){case i:k++,S+=j[N][1],N++;break;case a:L++,E+=j[N][1],N++;break;case o:L+k>1?(L!==0&&k!==0&&(I=h(S,E),I!==0&&(N-L-k>0&&j[N-L-k-1][0]==o?j[N-L-k-1][1]+=S.substring(0,I):(j.splice(0,0,[o,S.substring(0,I)]),N++),S=S.substring(I),E=E.substring(I)),I=g(S,E),I!==0&&(j[N][1]=S.substring(S.length-I)+j[N][1],S=S.substring(0,S.length-I),E=E.substring(0,E.length-I))),L===0?j.splice(N-k,L+k,[i,S]):k===0?j.splice(N-L,L+k,[a,E]):j.splice(N-L-k,L+k,[a,E],[i,S]),N=N-L-k+(L?1:0)+(k?1:0)+1):N!==0&&j[N-1][0]==o?(j[N-1][1]+=j[N][1],j.splice(N,1)):N++,k=0,L=0,E="",S="";break}j[j.length-1][1]===""&&j.pop();var C=!1;for(N=1;N<j.length-1;)j[N-1][0]==o&&j[N+1][0]==o&&(j[N][1].substring(j[N][1].length-j[N-1][1].length)==j[N-1][1]?(j[N][1]=j[N-1][1]+j[N][1].substring(0,j[N][1].length-j[N-1][1].length),j[N+1][1]=j[N-1][1]+j[N+1][1],j.splice(N-1,1),C=!0):j[N][1].substring(0,j[N+1][1].length)==j[N+1][1]&&(j[N-1][1]+=j[N+1][1],j[N][1]=j[N][1].substring(j[N+1][1].length)+j[N+1][1],j.splice(N+1,1),C=!0)),N++;C&&p(j)}var v=l;v.INSERT=i,v.DELETE=a,v.EQUAL=o,n.exports=v;function b(j,N){if(N===0)return[o,j];for(var L=0,k=0;k<j.length;k++){var E=j[k];if(E[0]===a||E[0]===o){var S=L+E[1].length;if(N===S)return[k+1,j];if(N<S){j=j.slice();var I=N-L,C=[E[0],E[1].slice(0,I)],M=[E[0],E[1].slice(I)];return j.splice(k,1,C,M),[k+1,j]}else L=S}}throw new Error("cursor_pos is out of bounds!")}function y(j,N){var L=b(j,N),k=L[1],E=L[0],S=k[E],I=k[E+1];if(S==null)return j;if(S[0]!==o)return j;if(I!=null&&S[1]+I[1]===I[1]+S[1])return k.splice(E,2,I,S),w(k,E,2);if(I!=null&&I[1].indexOf(S[1])===0){k.splice(E,2,[I[0],S[1]],[0,S[1]]);var C=I[1].slice(S[1].length);return C.length>0&&k.splice(E+2,0,[I[0],C]),w(k,E,3)}else return j}function x(j){for(var N=!1,L=function(I){return I.charCodeAt(0)>=56320&&I.charCodeAt(0)<=57343},k=function(I){return I.charCodeAt(I.length-1)>=55296&&I.charCodeAt(I.length-1)<=56319},E=2;E<j.length;E+=1)j[E-2][0]===o&&k(j[E-2][1])&&j[E-1][0]===a&&L(j[E-1][1])&&j[E][0]===i&&L(j[E][1])&&(N=!0,j[E-1][1]=j[E-2][1].slice(-1)+j[E-1][1],j[E][1]=j[E-2][1].slice(-1)+j[E][1],j[E-2][1]=j[E-2][1].slice(0,-1));if(!N)return j;for(var S=[],E=0;E<j.length;E+=1)j[E][1].length>0&&S.push(j[E]);return S}function w(j,N,L){for(var k=N+L-1;k>=0&&k>=N-1;k--)if(k+1<j.length){var E=j[k],S=j[k+1];E[0]===S[1]&&j.splice(k,2,[E[0],E[1]+S[1]])}return j}},function(n,s){s=n.exports=typeof Object.keys=="function"?Object.keys:a,s.shim=a;function a(i){var o=[];for(var l in i)o.push(l);return o}},function(n,s){var a=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";s=n.exports=a?i:o,s.supported=i;function i(l){return Object.prototype.toString.call(l)=="[object Arguments]"}s.unsupported=o;function o(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(n,s){var a=Object.prototype.hasOwnProperty,i="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(i=!1));function l(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function c(){this._events=new o,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],h,g;if(this._eventsCount===0)return f;for(g in h=this._events)a.call(h,g)&&f.push(i?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},c.prototype.listeners=function(f,h){var g=i?i+f:f,m=this._events[g];if(h)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var p=0,v=m.length,b=new Array(v);p<v;p++)b[p]=m[p].fn;return b},c.prototype.emit=function(f,h,g,m,p,v){var b=i?i+f:f;if(!this._events[b])return!1;var y=this._events[b],x=arguments.length,w,j;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,g),!0;case 4:return y.fn.call(y.context,h,g,m),!0;case 5:return y.fn.call(y.context,h,g,m,p),!0;case 6:return y.fn.call(y.context,h,g,m,p,v),!0}for(j=1,w=new Array(x-1);j<x;j++)w[j-1]=arguments[j];y.fn.apply(y.context,w)}else{var N=y.length,L;for(j=0;j<N;j++)switch(y[j].once&&this.removeListener(f,y[j].fn,void 0,!0),x){case 1:y[j].fn.call(y[j].context);break;case 2:y[j].fn.call(y[j].context,h);break;case 3:y[j].fn.call(y[j].context,h,g);break;case 4:y[j].fn.call(y[j].context,h,g,m);break;default:if(!w)for(L=1,w=new Array(x-1);L<x;L++)w[L-1]=arguments[L];y[j].fn.apply(y[j].context,w)}}return!0},c.prototype.on=function(f,h,g){var m=new l(h,g||this),p=i?i+f:f;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],m]:this._events[p].push(m):(this._events[p]=m,this._eventsCount++),this},c.prototype.once=function(f,h,g){var m=new l(h,g||this,!0),p=i?i+f:f;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],m]:this._events[p].push(m):(this._events[p]=m,this._eventsCount++),this},c.prototype.removeListener=function(f,h,g,m){var p=i?i+f:f;if(!this._events[p])return this;if(!h)return--this._eventsCount===0?this._events=new o:delete this._events[p],this;var v=this._events[p];if(v.fn)v.fn===h&&(!m||v.once)&&(!g||v.context===g)&&(--this._eventsCount===0?this._events=new o:delete this._events[p]);else{for(var b=0,y=[],x=v.length;b<x;b++)(v[b].fn!==h||m&&!v[b].once||g&&v[b].context!==g)&&y.push(v[b]);y.length?this._events[p]=y.length===1?y[0]:y:--this._eventsCount===0?this._events=new o:delete this._events[p]}return this},c.prototype.removeAllListeners=function(f){var h;return f?(h=i?i+f:f,this._events[h]&&(--this._eventsCount===0?this._events=new o:delete this._events[h])):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=i,c.EventEmitter=c,typeof n!="undefined"&&(n.exports=c)},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.matchText=s.matchSpacing=s.matchNewline=s.matchBlot=s.matchAttributor=s.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},o=function(){function V(ne,Ce){var fe=[],xe=!0,se=!1,ae=void 0;try{for(var G=ne[Symbol.iterator](),Ne;!(xe=(Ne=G.next()).done)&&(fe.push(Ne.value),!(Ce&&fe.length===Ce));xe=!0);}catch(Be){se=!0,ae=Be}finally{try{!xe&&G.return&&G.return()}finally{if(se)throw ae}}return fe}return function(ne,Ce){if(Array.isArray(ne))return ne;if(Symbol.iterator in Object(ne))return V(ne,Ce);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function V(ne,Ce){for(var fe=0;fe<Ce.length;fe++){var xe=Ce[fe];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ne,xe.key,xe)}}return function(ne,Ce,fe){return Ce&&V(ne.prototype,Ce),fe&&V(ne,fe),ne}}(),c=a(3),u=M(c),f=a(2),h=M(f),g=a(0),m=M(g),p=a(5),v=M(p),b=a(10),y=M(b),x=a(9),w=M(x),j=a(36),N=a(37),L=a(13),k=M(L),E=a(26),S=a(38),I=a(39),C=a(40);function M(V){return V&&V.__esModule?V:{default:V}}function A(V,ne,Ce){return ne in V?Object.defineProperty(V,ne,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):V[ne]=Ce,V}function H(V,ne){if(!(V instanceof ne))throw new TypeError("Cannot call a class as a function")}function W(V,ne){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne&&(typeof ne=="object"||typeof ne=="function")?ne:V}function X(V,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ne);V.prototype=Object.create(ne&&ne.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),ne&&(Object.setPrototypeOf?Object.setPrototypeOf(V,ne):V.__proto__=ne)}var J=(0,y.default)("quill:clipboard"),Z="__ql-matcher",F=[[Node.TEXT_NODE,Xe],[Node.TEXT_NODE,He],["br",ge],[Node.ELEMENT_NODE,He],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,ze],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,rt],["li",tt],["b",re.bind(re,"bold")],["i",re.bind(re,"italic")],["style",ke]],D=[j.AlignAttribute,S.DirectionAttribute].reduce(function(V,ne){return V[ne.keyName]=ne,V},{}),O=[j.AlignStyle,N.BackgroundStyle,E.ColorStyle,S.DirectionStyle,I.FontStyle,C.SizeStyle].reduce(function(V,ne){return V[ne.keyName]=ne,V},{}),T=function(V){X(ne,V);function ne(Ce,fe){H(this,ne);var xe=W(this,(ne.__proto__||Object.getPrototypeOf(ne)).call(this,Ce,fe));return xe.quill.root.addEventListener("paste",xe.onPaste.bind(xe)),xe.container=xe.quill.addContainer("ql-clipboard"),xe.container.setAttribute("contenteditable",!0),xe.container.setAttribute("tabindex",-1),xe.matchers=[],F.concat(xe.options.matchers).forEach(function(se){var ae=o(se,2),G=ae[0],Ne=ae[1];!fe.matchVisual&&Ne===ze||xe.addMatcher(G,Ne)}),xe}return l(ne,[{key:"addMatcher",value:function(fe,xe){this.matchers.push([fe,xe])}},{key:"convert",value:function(fe){if(typeof fe=="string")return this.container.innerHTML=fe.replace(/\>\r?\n +\</g,"><"),this.convert();var xe=this.quill.getFormat(this.quill.selection.savedRange.index);if(xe[k.default.blotName]){var se=this.container.innerText;return this.container.innerHTML="",new h.default().insert(se,A({},k.default.blotName,xe[k.default.blotName]))}var ae=this.prepareMatching(),G=o(ae,2),Ne=G[0],Be=G[1],dt=Q(this.container,Ne,Be);return _(dt,`
`)&&dt.ops[dt.ops.length-1].attributes==null&&(dt=dt.compose(new h.default().retain(dt.length()-1).delete(1))),J.log("convert",this.container.innerHTML,dt),this.container.innerHTML="",dt}},{key:"dangerouslyPasteHTML",value:function(fe,xe){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof fe=="string")this.quill.setContents(this.convert(fe),xe),this.quill.setSelection(0,v.default.sources.SILENT);else{var ae=this.convert(xe);this.quill.updateContents(new h.default().retain(fe).concat(ae),se),this.quill.setSelection(fe+ae.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(fe){var xe=this;if(!(fe.defaultPrevented||!this.quill.isEnabled())){var se=this.quill.getSelection(),ae=new h.default().retain(se.index),G=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){ae=ae.concat(xe.convert()).delete(se.length),xe.quill.updateContents(ae,v.default.sources.USER),xe.quill.setSelection(ae.length()-se.length,v.default.sources.SILENT),xe.quill.scrollingContainer.scrollTop=G,xe.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var fe=this,xe=[],se=[];return this.matchers.forEach(function(ae){var G=o(ae,2),Ne=G[0],Be=G[1];switch(Ne){case Node.TEXT_NODE:se.push(Be);break;case Node.ELEMENT_NODE:xe.push(Be);break;default:[].forEach.call(fe.container.querySelectorAll(Ne),function(dt){dt[Z]=dt[Z]||[],dt[Z].push(Be)});break}}),[xe,se]}}]),ne}(w.default);T.DEFAULTS={matchers:[],matchVisual:!0};function R(V,ne,Ce){return(typeof ne=="undefined"?"undefined":i(ne))==="object"?Object.keys(ne).reduce(function(fe,xe){return R(fe,xe,ne[xe])},V):V.reduce(function(fe,xe){return xe.attributes&&xe.attributes[ne]?fe.push(xe):fe.insert(xe.insert,(0,u.default)({},A({},ne,Ce),xe.attributes))},new h.default)}function z(V){if(V.nodeType!==Node.ELEMENT_NODE)return{};var ne="__ql-computed-style";return V[ne]||(V[ne]=window.getComputedStyle(V))}function _(V,ne){for(var Ce="",fe=V.ops.length-1;fe>=0&&Ce.length<ne.length;--fe){var xe=V.ops[fe];if(typeof xe.insert!="string")break;Ce=xe.insert+Ce}return Ce.slice(-1*ne.length)===ne}function U(V){if(V.childNodes.length===0)return!1;var ne=z(V);return["block","list-item"].indexOf(ne.display)>-1}function Q(V,ne,Ce){return V.nodeType===V.TEXT_NODE?Ce.reduce(function(fe,xe){return xe(V,fe)},new h.default):V.nodeType===V.ELEMENT_NODE?[].reduce.call(V.childNodes||[],function(fe,xe){var se=Q(xe,ne,Ce);return xe.nodeType===V.ELEMENT_NODE&&(se=ne.reduce(function(ae,G){return G(xe,ae)},se),se=(xe[Z]||[]).reduce(function(ae,G){return G(xe,ae)},se)),fe.concat(se)},new h.default):new h.default}function re(V,ne,Ce){return R(Ce,V,!0)}function le(V,ne){var Ce=m.default.Attributor.Attribute.keys(V),fe=m.default.Attributor.Class.keys(V),xe=m.default.Attributor.Style.keys(V),se={};return Ce.concat(fe).concat(xe).forEach(function(ae){var G=m.default.query(ae,m.default.Scope.ATTRIBUTE);G!=null&&(se[G.attrName]=G.value(V),se[G.attrName])||(G=D[ae],G!=null&&(G.attrName===ae||G.keyName===ae)&&(se[G.attrName]=G.value(V)||void 0),G=O[ae],G!=null&&(G.attrName===ae||G.keyName===ae)&&(G=O[ae],se[G.attrName]=G.value(V)||void 0))}),Object.keys(se).length>0&&(ne=R(ne,se)),ne}function ue(V,ne){var Ce=m.default.query(V);if(Ce==null)return ne;if(Ce.prototype instanceof m.default.Embed){var fe={},xe=Ce.value(V);xe!=null&&(fe[Ce.blotName]=xe,ne=new h.default().insert(fe,Ce.formats(V)))}else typeof Ce.formats=="function"&&(ne=R(ne,Ce.blotName,Ce.formats(V)));return ne}function ge(V,ne){return _(ne,`
`)||ne.insert(`
`),ne}function ke(){return new h.default}function tt(V,ne){var Ce=m.default.query(V);if(Ce==null||Ce.blotName!=="list-item"||!_(ne,`
`))return ne;for(var fe=-1,xe=V.parentNode;!xe.classList.contains("ql-clipboard");)(m.default.query(xe)||{}).blotName==="list"&&(fe+=1),xe=xe.parentNode;return fe<=0?ne:ne.compose(new h.default().retain(ne.length()-1).retain(1,{indent:fe}))}function He(V,ne){return _(ne,`
`)||(U(V)||ne.length()>0&&V.nextSibling&&U(V.nextSibling))&&ne.insert(`
`),ne}function ze(V,ne){if(U(V)&&V.nextElementSibling!=null&&!_(ne,`

`)){var Ce=V.offsetHeight+parseFloat(z(V).marginTop)+parseFloat(z(V).marginBottom);V.nextElementSibling.offsetTop>V.offsetTop+Ce*1.5&&ne.insert(`
`)}return ne}function rt(V,ne){var Ce={},fe=V.style||{};return fe.fontStyle&&z(V).fontStyle==="italic"&&(Ce.italic=!0),fe.fontWeight&&(z(V).fontWeight.startsWith("bold")||parseInt(z(V).fontWeight)>=700)&&(Ce.bold=!0),Object.keys(Ce).length>0&&(ne=R(ne,Ce)),parseFloat(fe.textIndent||0)>0&&(ne=new h.default().insert("	").concat(ne)),ne}function Xe(V,ne){var Ce=V.data;if(V.parentNode.tagName==="O:P")return ne.insert(Ce.trim());if(Ce.trim().length===0&&V.parentNode.classList.contains("ql-clipboard"))return ne;if(!z(V.parentNode).whiteSpace.startsWith("pre")){var fe=function(se,ae){return ae=ae.replace(/[^\u00a0]/g,""),ae.length<1&&se?" ":ae};Ce=Ce.replace(/\r\n/g," ").replace(/\n/g," "),Ce=Ce.replace(/\s\s+/g,fe.bind(fe,!0)),(V.previousSibling==null&&U(V.parentNode)||V.previousSibling!=null&&U(V.previousSibling))&&(Ce=Ce.replace(/^\s+/,fe.bind(fe,!1))),(V.nextSibling==null&&U(V.parentNode)||V.nextSibling!=null&&U(V.nextSibling))&&(Ce=Ce.replace(/\s+$/,fe.bind(fe,!1)))}return ne.insert(Ce)}s.default=T,s.matchAttributor=le,s.matchBlot=ue,s.matchNewline=He,s.matchSpacing=ze,s.matchText=Xe},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function p(v,b){for(var y=0;y<b.length;y++){var x=b[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,b,y){return b&&p(v.prototype,b),y&&p(v,y),v}}(),o=function p(v,b,y){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,b);if(x===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:p(w,b,y)}else{if("value"in x)return x.value;var j=x.get;return j===void 0?void 0:j.call(y)}},l=a(6),c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function f(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function h(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function g(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var m=function(p){g(v,p);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"optimize",value:function(y){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(c.default);m.blotName="bold",m.tagName=["STRONG","B"],s.default=m},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.addControls=s.default=void 0;var i=function(){function C(M,A){var H=[],W=!0,X=!1,J=void 0;try{for(var Z=M[Symbol.iterator](),F;!(W=(F=Z.next()).done)&&(H.push(F.value),!(A&&H.length===A));W=!0);}catch(D){X=!0,J=D}finally{try{!W&&Z.return&&Z.return()}finally{if(X)throw J}}return H}return function(M,A){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return C(M,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(M,A){for(var H=0;H<A.length;H++){var W=A[H];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(M,W.key,W)}}return function(M,A,H){return A&&C(M.prototype,A),H&&C(M,H),M}}(),l=a(2),c=y(l),u=a(0),f=y(u),h=a(5),g=y(h),m=a(10),p=y(m),v=a(9),b=y(v);function y(C){return C&&C.__esModule?C:{default:C}}function x(C,M,A){return M in C?Object.defineProperty(C,M,{value:A,enumerable:!0,configurable:!0,writable:!0}):C[M]=A,C}function w(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}function j(C,M){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:C}function N(C,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);C.prototype=Object.create(M&&M.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(C,M):C.__proto__=M)}var L=(0,p.default)("quill:toolbar"),k=function(C){N(M,C);function M(A,H){w(this,M);var W=j(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,A,H));if(Array.isArray(W.options.container)){var X=document.createElement("div");S(X,W.options.container),A.container.parentNode.insertBefore(X,A.container),W.container=X}else typeof W.options.container=="string"?W.container=document.querySelector(W.options.container):W.container=W.options.container;if(!(W.container instanceof HTMLElement)){var J;return J=L.error("Container required for toolbar",W.options),j(W,J)}return W.container.classList.add("ql-toolbar"),W.controls=[],W.handlers={},Object.keys(W.options.handlers).forEach(function(Z){W.addHandler(Z,W.options.handlers[Z])}),[].forEach.call(W.container.querySelectorAll("button, select"),function(Z){W.attach(Z)}),W.quill.on(g.default.events.EDITOR_CHANGE,function(Z,F){Z===g.default.events.SELECTION_CHANGE&&W.update(F)}),W.quill.on(g.default.events.SCROLL_OPTIMIZE,function(){var Z=W.quill.selection.getRange(),F=i(Z,1),D=F[0];W.update(D)}),W}return o(M,[{key:"addHandler",value:function(H,W){this.handlers[H]=W}},{key:"attach",value:function(H){var W=this,X=[].find.call(H.classList,function(Z){return Z.indexOf("ql-")===0});if(X){if(X=X.slice(3),H.tagName==="BUTTON"&&H.setAttribute("type","button"),this.handlers[X]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[X]==null){L.warn("ignoring attaching to disabled format",X,H);return}if(f.default.query(X)==null){L.warn("ignoring attaching to nonexistent format",X,H);return}}var J=H.tagName==="SELECT"?"change":"click";H.addEventListener(J,function(Z){var F=void 0;if(H.tagName==="SELECT"){if(H.selectedIndex<0)return;var D=H.options[H.selectedIndex];D.hasAttribute("selected")?F=!1:F=D.value||!1}else H.classList.contains("ql-active")?F=!1:F=H.value||!H.hasAttribute("value"),Z.preventDefault();W.quill.focus();var O=W.quill.selection.getRange(),T=i(O,1),R=T[0];if(W.handlers[X]!=null)W.handlers[X].call(W,F);else if(f.default.query(X).prototype instanceof f.default.Embed){if(F=prompt("Enter "+X),!F)return;W.quill.updateContents(new c.default().retain(R.index).delete(R.length).insert(x({},X,F)),g.default.sources.USER)}else W.quill.format(X,F,g.default.sources.USER);W.update(R)}),this.controls.push([X,H])}}},{key:"update",value:function(H){var W=H==null?{}:this.quill.getFormat(H);this.controls.forEach(function(X){var J=i(X,2),Z=J[0],F=J[1];if(F.tagName==="SELECT"){var D=void 0;if(H==null)D=null;else if(W[Z]==null)D=F.querySelector("option[selected]");else if(!Array.isArray(W[Z])){var O=W[Z];typeof O=="string"&&(O=O.replace(/\"/g,'\\"')),D=F.querySelector('option[value="'+O+'"]')}D==null?(F.value="",F.selectedIndex=-1):D.selected=!0}else if(H==null)F.classList.remove("ql-active");else if(F.hasAttribute("value")){var T=W[Z]===F.getAttribute("value")||W[Z]!=null&&W[Z].toString()===F.getAttribute("value")||W[Z]==null&&!F.getAttribute("value");F.classList.toggle("ql-active",T)}else F.classList.toggle("ql-active",W[Z]!=null)})}}]),M}(b.default);k.DEFAULTS={};function E(C,M,A){var H=document.createElement("button");H.setAttribute("type","button"),H.classList.add("ql-"+M),A!=null&&(H.value=A),C.appendChild(H)}function S(C,M){Array.isArray(M[0])||(M=[M]),M.forEach(function(A){var H=document.createElement("span");H.classList.add("ql-formats"),A.forEach(function(W){if(typeof W=="string")E(H,W);else{var X=Object.keys(W)[0],J=W[X];Array.isArray(J)?I(H,X,J):E(H,X,J)}}),C.appendChild(H)})}function I(C,M,A){var H=document.createElement("select");H.classList.add("ql-"+M),A.forEach(function(W){var X=document.createElement("option");W!==!1?X.setAttribute("value",W):X.setAttribute("selected","selected"),H.appendChild(X)}),C.appendChild(H)}k.DEFAULTS={container:null,handlers:{clean:function(){var M=this,A=this.quill.getSelection();if(A!=null)if(A.length==0){var H=this.quill.getFormat();Object.keys(H).forEach(function(W){f.default.query(W,f.default.Scope.INLINE)!=null&&M.quill.format(W,!1)})}else this.quill.removeFormat(A,g.default.sources.USER)},direction:function(M){var A=this.quill.getFormat().align;M==="rtl"&&A==null?this.quill.format("align","right",g.default.sources.USER):!M&&A==="right"&&this.quill.format("align",!1,g.default.sources.USER),this.quill.format("direction",M,g.default.sources.USER)},indent:function(M){var A=this.quill.getSelection(),H=this.quill.getFormat(A),W=parseInt(H.indent||0);if(M==="+1"||M==="-1"){var X=M==="+1"?1:-1;H.direction==="rtl"&&(X*=-1),this.quill.format("indent",W+X,g.default.sources.USER)}},link:function(M){M===!0&&(M=prompt("Enter link URL:")),this.quill.format("link",M,g.default.sources.USER)},list:function(M){var A=this.quill.getSelection(),H=this.quill.getFormat(A);M==="check"?H.list==="checked"||H.list==="unchecked"?this.quill.format("list",!1,g.default.sources.USER):this.quill.format("list","unchecked",g.default.sources.USER):this.quill.format("list",M,g.default.sources.USER)}}},s.default=k,s.addControls=S},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function p(v,b){for(var y=0;y<b.length;y++){var x=b[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,b,y){return b&&p(v.prototype,b),y&&p(v,y),v}}(),o=function p(v,b,y){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,b);if(x===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:p(w,b,y)}else{if("value"in x)return x.value;var j=x.get;return j===void 0?void 0:j.call(y)}},l=a(28),c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function f(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function h(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function g(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var m=function(p){g(v,p);function v(b,y){f(this,v);var x=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b));return x.label.innerHTML=y,x.container.classList.add("ql-color-picker"),[].slice.call(x.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),x}return i(v,[{key:"buildItem",value:function(y){var x=o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,y);return x.style.backgroundColor=y.getAttribute("value")||"",x}},{key:"selectItem",value:function(y,x){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,y,x);var w=this.label.querySelector(".ql-color-label"),j=y&&y.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=j:w.style.fill=j)}}]),v}(c.default);s.default=m},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function p(v,b){for(var y=0;y<b.length;y++){var x=b[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,b,y){return b&&p(v.prototype,b),y&&p(v,y),v}}(),o=function p(v,b,y){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,b);if(x===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:p(w,b,y)}else{if("value"in x)return x.value;var j=x.get;return j===void 0?void 0:j.call(y)}},l=a(28),c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function f(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function h(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function g(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var m=function(p){g(v,p);function v(b,y){f(this,v);var x=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b));return x.container.classList.add("ql-icon-picker"),[].forEach.call(x.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=y[w.getAttribute("data-value")||""]}),x.defaultItem=x.container.querySelector(".ql-selected"),x.selectItem(x.defaultItem),x}return i(v,[{key:"selectItem",value:function(y,x){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,y,x),y=y||this.defaultItem,this.label.innerHTML=y.innerHTML}}]),v}(c.default);s.default=m},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function c(u,f){for(var h=0;h<f.length;h++){var g=f[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}return function(u,f,h){return f&&c(u.prototype,f),h&&c(u,h),u}}();function o(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(u,f){var h=this;o(this,c),this.quill=u,this.boundsContainer=f||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return i(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var h=f.left+f.width/2-this.root.offsetWidth/2,g=f.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=g+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),p=this.root.getBoundingClientRect(),v=0;if(p.right>m.right&&(v=m.right-p.right,this.root.style.left=h+v+"px"),p.left<m.left&&(v=m.left-p.left,this.root.style.left=h+v+"px"),p.bottom>m.bottom){var b=p.bottom-p.top,y=f.bottom-f.top+b;this.root.style.top=g-y+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c}();s.default=l},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function I(C,M){var A=[],H=!0,W=!1,X=void 0;try{for(var J=C[Symbol.iterator](),Z;!(H=(Z=J.next()).done)&&(A.push(Z.value),!(M&&A.length===M));H=!0);}catch(F){W=!0,X=F}finally{try{!H&&J.return&&J.return()}finally{if(W)throw X}}return A}return function(C,M){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return I(C,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function I(C,M,A){C===null&&(C=Function.prototype);var H=Object.getOwnPropertyDescriptor(C,M);if(H===void 0){var W=Object.getPrototypeOf(C);return W===null?void 0:I(W,M,A)}else{if("value"in H)return H.value;var X=H.get;return X===void 0?void 0:X.call(A)}},l=function(){function I(C,M){for(var A=0;A<M.length;A++){var H=M[A];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(C,H.key,H)}}return function(C,M,A){return M&&I(C.prototype,M),A&&I(C,A),C}}(),c=a(3),u=w(c),f=a(8),h=w(f),g=a(43),m=w(g),p=a(27),v=w(p),b=a(15),y=a(41),x=w(y);function w(I){return I&&I.__esModule?I:{default:I}}function j(I,C){if(!(I instanceof C))throw new TypeError("Cannot call a class as a function")}function N(I,C){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:I}function L(I,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);I.prototype=Object.create(C&&C.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(I,C):I.__proto__=C)}var k=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(I){L(C,I);function C(M,A){j(this,C),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=k);var H=N(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,M,A));return H.quill.container.classList.add("ql-snow"),H}return l(C,[{key:"extendToolbar",value:function(A){A.container.classList.add("ql-snow"),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),x.default),this.tooltip=new S(this.quill,this.options.bounds),A.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(H,W){A.handlers.link.call(A,!W.format.link)})}}]),C}(m.default);E.DEFAULTS=(0,u.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){if(C){var M=this.quill.getSelection();if(M==null||M.length==0)return;var A=this.quill.getText(M);/^\S+@\S+\.\S+$/.test(A)&&A.indexOf("mailto:")!==0&&(A="mailto:"+A);var H=this.quill.theme.tooltip;H.edit("link",A)}else this.quill.format("link",!1)}}}}});var S=function(I){L(C,I);function C(M,A){j(this,C);var H=N(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,M,A));return H.preview=H.root.querySelector("a.ql-preview"),H}return l(C,[{key:"listen",value:function(){var A=this;o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(H){A.root.classList.contains("ql-editing")?A.save():A.edit("link",A.preview.textContent),H.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(H){if(A.linkRange!=null){var W=A.linkRange;A.restoreFocus(),A.quill.formatText(W,"link",!1,h.default.sources.USER),delete A.linkRange}H.preventDefault(),A.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(H,W,X){if(H!=null){if(H.length===0&&X===h.default.sources.USER){var J=A.quill.scroll.descendant(v.default,H.index),Z=i(J,2),F=Z[0],D=Z[1];if(F!=null){A.linkRange=new b.Range(H.index-D,F.length());var O=v.default.formats(F.domNode);A.preview.textContent=O,A.preview.setAttribute("href",O),A.show(),A.position(A.quill.getBounds(A.linkRange));return}}else delete A.linkRange;A.hide()}})}},{key:"show",value:function(){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),C}(g.BaseTooltip);S.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),s.default=E},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(29),o=xe(i),l=a(36),c=a(38),u=a(64),f=a(65),h=xe(f),g=a(66),m=xe(g),p=a(67),v=xe(p),b=a(37),y=a(26),x=a(39),w=a(40),j=a(56),N=xe(j),L=a(68),k=xe(L),E=a(27),S=xe(E),I=a(69),C=xe(I),M=a(70),A=xe(M),H=a(71),W=xe(H),X=a(72),J=xe(X),Z=a(73),F=xe(Z),D=a(13),O=xe(D),T=a(74),R=xe(T),z=a(75),_=xe(z),U=a(57),Q=xe(U),re=a(41),le=xe(re),ue=a(28),ge=xe(ue),ke=a(59),tt=xe(ke),He=a(60),ze=xe(He),rt=a(61),Xe=xe(rt),V=a(108),ne=xe(V),Ce=a(62),fe=xe(Ce);function xe(se){return se&&se.__esModule?se:{default:se}}o.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":b.BackgroundClass,"attributors/class/color":y.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":b.BackgroundStyle,"attributors/style/color":y.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":w.SizeStyle},!0),o.default.register({"formats/align":l.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":u.IndentClass,"formats/background":b.BackgroundStyle,"formats/color":y.ColorStyle,"formats/font":x.FontClass,"formats/size":w.SizeClass,"formats/blockquote":h.default,"formats/code-block":O.default,"formats/header":m.default,"formats/list":v.default,"formats/bold":N.default,"formats/code":D.Code,"formats/italic":k.default,"formats/link":S.default,"formats/script":C.default,"formats/strike":A.default,"formats/underline":W.default,"formats/image":J.default,"formats/video":F.default,"formats/list/item":p.ListItem,"modules/formula":R.default,"modules/syntax":_.default,"modules/toolbar":Q.default,"themes/bubble":ne.default,"themes/snow":fe.default,"ui/icons":le.default,"ui/picker":ge.default,"ui/icon-picker":ze.default,"ui/color-picker":tt.default,"ui/tooltip":Xe.default},!0),s.default=o.default},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.IndentClass=void 0;var i=function(){function v(b,y){for(var x=0;x<y.length;x++){var w=y[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,y,x){return y&&v(b.prototype,y),x&&v(b,x),b}}(),o=function v(b,y,x){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,y);if(w===void 0){var j=Object.getPrototypeOf(b);return j===null?void 0:v(j,y,x)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(x)}},l=a(0),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function f(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function h(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function g(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var m=function(v){g(b,v);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"add",value:function(x,w){if(w==="+1"||w==="-1"){var j=this.value(x)||0;w=w==="+1"?j+1:j-1}return w===0?(this.remove(x),!0):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"add",this).call(this,x,w)}},{key:"canAdd",value:function(x,w){return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,x,w)||o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,x,parseInt(w))}},{key:"value",value:function(x){return parseInt(o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,x))||void 0}}]),b}(c.default.Attributor.Class),p=new m("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});s.IndentClass=p},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(4),o=l(i);function l(g){return g&&g.__esModule?g:{default:g}}function c(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function u(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function f(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var h=function(g){f(m,g);function m(){return c(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);h.blotName="blockquote",h.tagName="blockquote",s.default=h},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function m(p,v){for(var b=0;b<v.length;b++){var y=v[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,v,b){return v&&m(p.prototype,v),b&&m(p,b),p}}(),o=a(4),l=c(o);function c(m){return m&&m.__esModule?m:{default:m}}function u(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function f(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function h(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var g=function(m){h(p,m);function p(){return u(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return i(p,null,[{key:"formats",value:function(b){return this.tagName.indexOf(b.tagName)+1}}]),p}(l.default);g.blotName="header",g.tagName=["H1","H2","H3","H4","H5","H6"],s.default=g},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.ListItem=void 0;var i=function(){function j(N,L){for(var k=0;k<L.length;k++){var E=L[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(N,E.key,E)}}return function(N,L,k){return L&&j(N.prototype,L),k&&j(N,k),N}}(),o=function j(N,L,k){N===null&&(N=Function.prototype);var E=Object.getOwnPropertyDescriptor(N,L);if(E===void 0){var S=Object.getPrototypeOf(N);return S===null?void 0:j(S,L,k)}else{if("value"in E)return E.value;var I=E.get;return I===void 0?void 0:I.call(k)}},l=a(0),c=m(l),u=a(4),f=m(u),h=a(25),g=m(h);function m(j){return j&&j.__esModule?j:{default:j}}function p(j,N,L){return N in j?Object.defineProperty(j,N,{value:L,enumerable:!0,configurable:!0,writable:!0}):j[N]=L,j}function v(j,N){if(!(j instanceof N))throw new TypeError("Cannot call a class as a function")}function b(j,N){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:j}function y(j,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);j.prototype=Object.create(N&&N.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(j,N):j.__proto__=N)}var x=function(j){y(N,j);function N(){return v(this,N),b(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return i(N,[{key:"format",value:function(k,E){k===w.blotName&&!E?this.replaceWith(c.default.create(this.statics.scope)):o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,k,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(k,E){return this.parent.isolate(this.offset(this.parent),this.length()),k===this.parent.statics.blotName?(this.parent.replaceWith(k,E),this):(this.parent.unwrap(),o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,k,E))}}],[{key:"formats",value:function(k){return k.tagName===this.tagName?void 0:o(N.__proto__||Object.getPrototypeOf(N),"formats",this).call(this,k)}}]),N}(f.default);x.blotName="list-item",x.tagName="LI";var w=function(j){y(N,j),i(N,null,[{key:"create",value:function(k){var E=k==="ordered"?"OL":"UL",S=o(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,E);return(k==="checked"||k==="unchecked")&&S.setAttribute("data-checked",k==="checked"),S}},{key:"formats",value:function(k){if(k.tagName==="OL")return"ordered";if(k.tagName==="UL")return k.hasAttribute("data-checked")?k.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function N(L){v(this,N);var k=b(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,L)),E=function(I){if(I.target.parentNode===L){var C=k.statics.formats(L),M=c.default.find(I.target);C==="checked"?M.format("list","unchecked"):C==="unchecked"&&M.format("list","checked")}};return L.addEventListener("touchstart",E),L.addEventListener("mousedown",E),k}return i(N,[{key:"format",value:function(k,E){this.children.length>0&&this.children.tail.format(k,E)}},{key:"formats",value:function(){return p({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(k,E){if(k instanceof x)o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,k,E);else{var S=E==null?this.length():E.offset(this),I=this.split(S);I.parent.insertBefore(k,I)}}},{key:"optimize",value:function(k){o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,k);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(k){if(k.statics.blotName!==this.statics.blotName){var E=c.default.create(this.statics.defaultChild);k.moveChildren(E),this.appendChild(E)}o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,k)}}]),N}(g.default);w.blotName="list",w.scope=c.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[x],s.ListItem=x,s.default=w},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(56),o=l(i);function l(g){return g&&g.__esModule?g:{default:g}}function c(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function u(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function f(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var h=function(g){f(m,g);function m(){return c(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);h.blotName="italic",h.tagName=["EM","I"],s.default=h},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function p(v,b){for(var y=0;y<b.length;y++){var x=b[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,b,y){return b&&p(v.prototype,b),y&&p(v,y),v}}(),o=function p(v,b,y){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,b);if(x===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:p(w,b,y)}else{if("value"in x)return x.value;var j=x.get;return j===void 0?void 0:j.call(y)}},l=a(6),c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function f(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function h(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function g(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var m=function(p){g(v,p);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,null,[{key:"create",value:function(y){return y==="super"?document.createElement("sup"):y==="sub"?document.createElement("sub"):o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,y)}},{key:"formats",value:function(y){if(y.tagName==="SUB")return"sub";if(y.tagName==="SUP")return"super"}}]),v}(c.default);m.blotName="script",m.tagName=["SUB","SUP"],s.default=m},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(6),o=l(i);function l(g){return g&&g.__esModule?g:{default:g}}function c(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function u(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function f(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var h=function(g){f(m,g);function m(){return c(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);h.blotName="strike",h.tagName="S",s.default=h},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=a(6),o=l(i);function l(g){return g&&g.__esModule?g:{default:g}}function c(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function u(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function f(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var h=function(g){f(m,g);function m(){return c(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);h.blotName="underline",h.tagName="U",s.default=h},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function b(y,x){for(var w=0;w<x.length;w++){var j=x[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,x,w){return x&&b(y.prototype,x),w&&b(y,w),y}}(),o=function b(y,x,w){y===null&&(y=Function.prototype);var j=Object.getOwnPropertyDescriptor(y,x);if(j===void 0){var N=Object.getPrototypeOf(y);return N===null?void 0:b(N,x,w)}else{if("value"in j)return j.value;var L=j.get;return L===void 0?void 0:L.call(w)}},l=a(0),c=f(l),u=a(27);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function g(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function m(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var p=["alt","height","width"],v=function(b){m(y,b);function y(){return h(this,y),g(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"format",value:function(w,j){p.indexOf(w)>-1?j?this.domNode.setAttribute(w,j):this.domNode.removeAttribute(w):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,w,j)}}],[{key:"create",value:function(w){var j=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,w);return typeof w=="string"&&j.setAttribute("src",this.sanitize(w)),j}},{key:"formats",value:function(w){return p.reduce(function(j,N){return w.hasAttribute(N)&&(j[N]=w.getAttribute(N)),j},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,u.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),y}(c.default.Embed);v.blotName="image",v.tagName="IMG",s.default=v},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function b(y,x){for(var w=0;w<x.length;w++){var j=x[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,x,w){return x&&b(y.prototype,x),w&&b(y,w),y}}(),o=function b(y,x,w){y===null&&(y=Function.prototype);var j=Object.getOwnPropertyDescriptor(y,x);if(j===void 0){var N=Object.getPrototypeOf(y);return N===null?void 0:b(N,x,w)}else{if("value"in j)return j.value;var L=j.get;return L===void 0?void 0:L.call(w)}},l=a(4),c=a(27),u=f(c);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function g(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function m(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var p=["height","width"],v=function(b){m(y,b);function y(){return h(this,y),g(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"format",value:function(w,j){p.indexOf(w)>-1?j?this.domNode.setAttribute(w,j):this.domNode.removeAttribute(w):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,w,j)}}],[{key:"create",value:function(w){var j=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,w);return j.setAttribute("frameborder","0"),j.setAttribute("allowfullscreen",!0),j.setAttribute("src",this.sanitize(w)),j}},{key:"formats",value:function(w){return p.reduce(function(j,N){return w.hasAttribute(N)&&(j[N]=w.getAttribute(N)),j},{})}},{key:"sanitize",value:function(w){return u.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),y}(l.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",s.default=v},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.FormulaBlot=void 0;var i=function(){function w(j,N){for(var L=0;L<N.length;L++){var k=N[L];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(j,k.key,k)}}return function(j,N,L){return N&&w(j.prototype,N),L&&w(j,L),j}}(),o=function w(j,N,L){j===null&&(j=Function.prototype);var k=Object.getOwnPropertyDescriptor(j,N);if(k===void 0){var E=Object.getPrototypeOf(j);return E===null?void 0:w(E,N,L)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(L)}},l=a(35),c=m(l),u=a(5),f=m(u),h=a(9),g=m(h);function m(w){return w&&w.__esModule?w:{default:w}}function p(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")}function v(w,j){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:w}function b(w,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);w.prototype=Object.create(j&&j.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(w,j):w.__proto__=j)}var y=function(w){b(j,w);function j(){return p(this,j),v(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return i(j,null,[{key:"create",value:function(L){var k=o(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,L);return typeof L=="string"&&(window.katex.render(L,k,{throwOnError:!1,errorColor:"#f00"}),k.setAttribute("data-value",L)),k}},{key:"value",value:function(L){return L.getAttribute("data-value")}}]),j}(c.default);y.blotName="formula",y.className="ql-formula",y.tagName="SPAN";var x=function(w){b(j,w),i(j,null,[{key:"register",value:function(){f.default.register(y,!0)}}]);function j(){p(this,j);var N=v(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return N}return j}(g.default);s.FormulaBlot=y,s.default=x},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.CodeToken=s.CodeBlock=void 0;var i=function(){function L(k,E){for(var S=0;S<E.length;S++){var I=E[S];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,I.key,I)}}return function(k,E,S){return E&&L(k.prototype,E),S&&L(k,S),k}}(),o=function L(k,E,S){k===null&&(k=Function.prototype);var I=Object.getOwnPropertyDescriptor(k,E);if(I===void 0){var C=Object.getPrototypeOf(k);return C===null?void 0:L(C,E,S)}else{if("value"in I)return I.value;var M=I.get;return M===void 0?void 0:M.call(S)}},l=a(0),c=v(l),u=a(5),f=v(u),h=a(9),g=v(h),m=a(13),p=v(m);function v(L){return L&&L.__esModule?L:{default:L}}function b(L,k){if(!(L instanceof k))throw new TypeError("Cannot call a class as a function")}function y(L,k){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:L}function x(L,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);L.prototype=Object.create(k&&k.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(L,k):L.__proto__=k)}var w=function(L){x(k,L);function k(){return b(this,k),y(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return i(k,[{key:"replaceWith",value:function(S){this.domNode.textContent=this.domNode.textContent,this.attach(),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,S)}},{key:"highlight",value:function(S){var I=this.domNode.textContent;this.cachedText!==I&&((I.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=S(I),this.domNode.normalize(),this.attach()),this.cachedText=I)}}]),k}(p.default);w.className="ql-syntax";var j=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),N=function(L){x(k,L),i(k,null,[{key:"register",value:function(){f.default.register(j,!0),f.default.register(w,!0)}}]);function k(E,S){b(this,k);var I=y(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,E,S));if(typeof I.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var C=null;return I.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(C),C=setTimeout(function(){I.highlight(),C=null},I.options.interval)}),I.highlight(),I}return i(k,[{key:"highlight",value:function(){var S=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var I=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(C){C.highlight(S.options.highlight)}),this.quill.update(f.default.sources.SILENT),I!=null&&this.quill.setSelection(I,f.default.sources.SILENT)}}}]),k}(g.default);N.DEFAULTS={highlight:function(){return window.hljs==null?null:function(L){var k=window.hljs.highlightAuto(L);return k.value}}(),interval:1e3},s.CodeBlock=w,s.CodeToken=j,s.default=N},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,s){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,s){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,s){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,s){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,s){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BubbleTooltip=void 0;var i=function k(E,S,I){E===null&&(E=Function.prototype);var C=Object.getOwnPropertyDescriptor(E,S);if(C===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:k(M,S,I)}else{if("value"in C)return C.value;var A=C.get;return A===void 0?void 0:A.call(I)}},o=function(){function k(E,S){for(var I=0;I<S.length;I++){var C=S[I];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(E,C.key,C)}}return function(E,S,I){return S&&k(E.prototype,S),I&&k(E,I),E}}(),l=a(3),c=b(l),u=a(8),f=b(u),h=a(43),g=b(h),m=a(15),p=a(41),v=b(p);function b(k){return k&&k.__esModule?k:{default:k}}function y(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function x(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function w(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}var j=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],N=function(k){w(E,k);function E(S,I){y(this,E),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=j);var C=x(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,S,I));return C.quill.container.classList.add("ql-bubble"),C}return o(E,[{key:"extendToolbar",value:function(I){this.tooltip=new L(this.quill,this.options.bounds),this.tooltip.root.appendChild(I.container),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),v.default)}}]),E}(g.default);N.DEFAULTS=(0,c.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var L=function(k){w(E,k);function E(S,I){y(this,E);var C=x(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,S,I));return C.quill.on(f.default.events.EDITOR_CHANGE,function(M,A,H,W){if(M===f.default.events.SELECTION_CHANGE)if(A!=null&&A.length>0&&W===f.default.sources.USER){C.show(),C.root.style.left="0px",C.root.style.width="",C.root.style.width=C.root.offsetWidth+"px";var X=C.quill.getLines(A.index,A.length);if(X.length===1)C.position(C.quill.getBounds(A));else{var J=X[X.length-1],Z=C.quill.getIndex(J),F=Math.min(J.length()-1,A.index+A.length-Z),D=C.quill.getBounds(new m.Range(Z,F));C.position(D)}}else document.activeElement!==C.textbox&&C.quill.hasFocus()&&C.hide()}),C}return o(E,[{key:"listen",value:function(){var I=this;i(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){I.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!I.root.classList.contains("ql-hidden")){var C=I.quill.getSelection();C!=null&&I.position(I.quill.getBounds(C))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(I){var C=i(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,I),M=this.root.querySelector(".ql-tooltip-arrow");if(M.style.marginLeft="",C===0)return C;M.style.marginLeft=-1*C-M.offsetWidth/2+"px"}}]),E}(h.BaseTooltip);L.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),s.BubbleTooltip=L,s.default=N},function(n,s,a){n.exports=a(63)}]).default})})(vq);var nEe=vq.exports,sEe=Ys&&Ys.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)a.hasOwnProperty(i)&&(s[i]=a[i])},e(t,n)};return function(t,n){e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),Fb=Ys&&Ys.__assign||function(){return Fb=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Fb.apply(this,arguments)},aEe=Ys&&Ys.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var s=Array(e),a=0,t=0;t<n;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,a++)s[a]=i[o];return s},Tw=Ys&&Ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},qo=Tw(d),iEe=Tw(Nd),Ug=Tw(rEe),X$=Tw(nEe),oEe=function(e){sEe(t,e);function t(n){var s=e.call(this,n)||this;s.dirtyProps=["modules","formats","bounds","theme","children"],s.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],s.state={generation:0},s.selection=null,s.onEditorChange=function(i,o,l,c){var u,f,h,g;i==="text-change"?(f=(u=s).onEditorChangeText)===null||f===void 0||f.call(u,s.editor.root.innerHTML,o,c,s.unprivilegedEditor):i==="selection-change"&&((g=(h=s).onEditorChangeSelection)===null||g===void 0||g.call(h,o,c,s.unprivilegedEditor))};var a=s.isControlled()?n.value:n.defaultValue;return s.value=a!=null?a:"",s}return t.prototype.validateProps=function(n){var s;if(qo.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(qo.default.Children.count(n.children)){var a=qo.default.Children.only(n.children);if(((s=a)===null||s===void 0?void 0:s.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(n,s){var a=this,i;if(this.validateProps(n),!this.editor||this.state.generation!==s.generation)return!0;if("value"in n){var o=this.getEditorContents(),l=(i=n.value,i!=null?i:"");this.isEqualValue(l,o)||this.setEditorContents(this.editor,l)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),aEe(this.cleanProps,this.dirtyProps).some(function(c){return!Ug.default(n[c],a.props[c])})},t.prototype.shouldComponentRegenerate=function(n){var s=this;return this.dirtyProps.some(function(a){return!Ug.default(n[a],s.props[a])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(n,s){var a=this;if(this.editor&&this.shouldComponentRegenerate(n)){var i=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:i,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==s.generation){var l=this.regenerationSnapshot,i=l.delta,c=l.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(i),e8(function(){return a.setEditorSelection(u,c)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(n,s){var a=new X$.default(n,s);return s.tabIndex!=null&&this.setEditorTabIndex(a,s.tabIndex),this.hookEditor(a),a},t.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(n){return n&&n.ops},t.prototype.isEqualValue=function(n,s){return this.isDelta(n)&&this.isDelta(s)?Ug.default(n.ops,s.ops):Ug.default(n,s)},t.prototype.setEditorContents=function(n,s){var a=this;this.value=s;var i=this.getEditorSelection();typeof s=="string"?n.setContents(n.clipboard.convert(s)):n.setContents(s),e8(function(){return a.setEditorSelection(n,i)})},t.prototype.setEditorSelection=function(n,s){if(this.selection=s,s){var a=n.getLength();s.index=Math.max(0,Math.min(s.index,a-1)),s.length=Math.max(0,Math.min(s.length,a-1-s.index)),n.setSelection(s)}},t.prototype.setEditorTabIndex=function(n,s){var a,i;!((i=(a=n)===null||a===void 0?void 0:a.scroll)===null||i===void 0)&&i.domNode&&(n.scroll.domNode.tabIndex=s)},t.prototype.setEditorReadOnly=function(n,s){s?n.disable():n.enable()},t.prototype.makeUnprivilegedEditor=function(n){var s=n;return{getHTML:function(){return s.root.innerHTML},getLength:s.getLength.bind(s),getText:s.getText.bind(s),getContents:s.getContents.bind(s),getSelection:s.getSelection.bind(s),getBounds:s.getBounds.bind(s)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=iEe.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},t.prototype.renderEditingArea=function(){var n=this,s=this.props,a=s.children,i=s.preserveWhitespace,o=this.state.generation,l={key:o,ref:function(c){n.editingArea=c}};return qo.default.Children.count(a)?qo.default.cloneElement(qo.default.Children.only(a),l):i?qo.default.createElement("pre",Fb({},l)):qo.default.createElement("div",Fb({},l))},t.prototype.render=function(){var n;return qo.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n!=null?n:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(n,s,a,i){var o,l;if(this.editor){var c=this.isDelta(this.value)?i.getContents():i.getHTML();c!==this.getEditorContents()&&(this.lastDeltaChangeSet=s,this.value=c,(l=(o=this.props).onChange)===null||l===void 0||l.call(o,n,s,a,i))}},t.prototype.onEditorChangeSelection=function(n,s,a){var i,o,l,c,u,f;if(this.editor){var h=this.getEditorSelection(),g=!h&&n,m=h&&!n;Ug.default(n,h)||(this.selection=n,(o=(i=this.props).onChangeSelection)===null||o===void 0||o.call(i,n,s,a),g?(c=(l=this.props).onFocus)===null||c===void 0||c.call(l,n,s,a):m&&((f=(u=this.props).onBlur)===null||f===void 0||f.call(u,h,s,a)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=X$.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(qo.default.Component);function e8(e){Promise.resolve().then(e)}var lEe=oEe;const yq=L2(lEe),ld={briefcase:()=>r.jsxs("svg",{className:"h-5 w-5 text-brand-600",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"M10 3h4a2 2 0 0 1 2 2v1h3a2 2 0 0 1 2 2v3H3V8a2 2 0 0 1 2-2h3V5a2 2 0 0 1 2-2Zm4 3V5h-4v1h4Z"}),r.jsx("path",{d:"M3 11h18v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7Zm8 2H5v2h6v-2Z"})]}),doc:()=>r.jsxs("svg",{className:"h-5 w-5 text-brand-600",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"M6 2h8l6 6v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"}),r.jsx("path",{d:"M14 2v6h6",className:"opacity-70"})]}),pin:()=>r.jsx("svg",{className:"h-5 w-5 text-brand-600",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Zm0 10a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z"})}),send:()=>r.jsx("svg",{className:"h-5 w-5 text-brand-600",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"m2 21 21-9L2 3v7l15 2-15 2v7z"})}),back:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M15 19 8 12l7-7"})}),chevron:()=>r.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"m6 9 6 6 6-6"})}),calendar:()=>r.jsxs("svg",{className:"h-5 w-5 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"M7 2h2v3H7zm8 0h2v3h-2z"}),r.jsx("path",{d:"M5 5h14a2 2 0 0 1 2 2v13H3V7a2 2 0 0 1 2-2Zm0 5v9h14v-9H5Z"})]}),search:()=>r.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M10 2a8 8 0 1 1 5.293 13.707l4 4-1.414 1.414-4-4A8 8 0 0 1 10 2Zm0 2a6 6 0 1 0 .001 12.001A6 6 0 0 0 10 4Z"})}),x:()=>r.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M6 6l12 12M18 6 6 18"})})},Xn=({children:e,required:t})=>r.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:[e," ",t&&r.jsx("span",{className:"text-pink-600",children:"*"})]}),_c=e=>{const t=n=>{e.type==="number"&&(n.target.value=n.target.value.replace(/[^\d.-]/g,"")),e.onChange&&e.onChange(n)};return r.jsx("input",he(te({},e),{onChange:t,className:`w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-100 ${e.className||""}`}))},Xd=n=>{var s=n,{children:e}=s,t=pc(s,["children"]);return r.jsxs("div",{className:"relative",children:[r.jsx("select",he(te({},t),{className:"w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-100",children:e})),r.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:r.jsx(ld.chevron,{})})]})},cEe=e=>r.jsx("textarea",he(te({rows:e.rows||4},e),{className:`w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-100 ${e.className||""}`})),dEe=["USD","EUR","GBP","NGN","GHS","ZAR","KES","UGX","TZS","XOF","XAF","MAD","DZD","TND","EGP","ETB","NAD","BWP","MZN","ZMW","RWF","BIF","SOS","SDG","CDF"],uEe=[{value:"All countries",label:"All countries"},...An.map(e=>({value:e,label:e}))],fEe=({value:e,onChange:t,error:n,citiesLoading:s,getCitiesForCountry:a})=>{const[i,o]=d.useState(!1),[l,c]=d.useState(""),[u,f]=d.useState("");if(s)return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Countries and cities ",r.jsx("span",{className:"text-gray-400 font-normal",children:"(optional)"})]}),r.jsxs("div",{className:"flex items-center justify-center p-4",children:[r.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-500",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading cities..."})]})]});const h=()=>{if(l){const p={country:l,city:l==="All countries"?null:u||""};t([...e,p]),c(""),f(""),o(!1)}},g=p=>{const v=e.filter((b,y)=>y!==p);t(v)},m=(p,v)=>{const b=e.map((y,x)=>x===p?he(te({},y),{city:y.country==="All countries"?null:v}):y);t(b)};return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Countries and cities ",r.jsx("span",{className:"text-gray-400 font-normal",children:"(optional)"})]}),e.length>0&&r.jsx("div",{className:"space-y-2",children:e.map((p,v)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg bg-gray-50",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-sm",children:p.country}),p.city&&p.country!=="All countries"&&r.jsxs("div",{className:"text-xs text-gray-500",children:["City: ",p.city]})]}),p.country!=="All countries"?r.jsx(Eu,{options:a(p.country),value:p.city,onChange:b=>m(v,b),placeholder:"Select city",className:"w-48"}):r.jsx("div",{className:"w-48 p-2 text-sm text-gray-500 italic",children:"City not applicable"}),r.jsx("button",{type:"button",onClick:()=>g(v),className:"p-1 text-red-500 hover:text-red-700",title:"Remove",children:r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]},v))}),i?r.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg bg-blue-50 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(Eu,{options:uEe,value:l,onChange:c,placeholder:"Select country"}),r.jsx(Eu,{options:l?a(l):[],value:u,onChange:f,placeholder:"Select city (optional)",disabled:!l||l==="All countries"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:h,disabled:!l,className:"px-3 py-1 bg-brand-600 text-white rounded-lg text-sm hover:bg-brand-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),r.jsx("button",{type:"button",onClick:()=>{o(!1),c(""),f("")},className:"px-3 py-1 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:"Cancel"})]})]}):r.jsxs("button",{type:"button",onClick:()=>o(!0),className:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})}),"Add Country"]}),n&&r.jsx("p",{className:"text-xs text-red-600",children:n})]})},Uv={badge:"inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium",chip:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs"};function Eu({value:e,onChange:t,options:n,placeholder:s="Select",disabled:a=!1,required:i=!1,ariaLabel:o}){const[l,c]=d.useState(!1),[u,f]=d.useState(""),[h,g]=d.useState(0),m=d.useRef(null),p=d.useRef(null),v=d.useMemo(()=>n.find(N=>String(N.value)===String(e))||null,[n,e]),b=d.useMemo(()=>{const N=u.trim().toLowerCase();return N?n.map(L=>({o:L,score:(L.label||"").toLowerCase().indexOf(N)})).filter(L=>L.score!==-1).sort((L,k)=>L.score-k.score).map(L=>L.o).slice(0,100):n},[u,n]),y=v&&!u?v.label:u;d.useEffect(()=>{function N(L){m.current&&(m.current.contains(L.target)||c(!1))}return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]),d.useEffect(()=>{l||g(0)},[l,u]);function x(N){var L;t==null||t((N==null?void 0:N.value)||""),f(""),c(!1),(L=p.current)==null||L.blur()}function w(){t==null||t(""),f(""),c(!1)}function j(N){if(!a){if(!l&&(N.key==="ArrowDown"||N.key==="ArrowUp")){c(!0);return}if(l)if(N.key==="ArrowDown")N.preventDefault(),g(L=>Math.min(L+1,b.length-1));else if(N.key==="ArrowUp")N.preventDefault(),g(L=>Math.max(L-1,0));else if(N.key==="Enter"){N.preventDefault();const L=b[h];L&&x(L)}else N.key==="Escape"&&c(!1)}}return r.jsxs("div",{ref:m,className:`relative ${a?"opacity-60":""}`,children:[r.jsxs("div",{className:"grid gap-1.5",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{ref:p,type:"text",value:y,disabled:a,placeholder:s,onChange:N=>{f(N.target.value),c(!0)},onFocus:()=>!a&&c(!0),onKeyDown:j,"aria-autocomplete":"list","aria-expanded":l,"aria-controls":"ss-results","aria-label":o||s,role:"combobox",autoComplete:"off",className:"w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-16 focus:outline-none focus:ring-2 focus:ring-brand-200 text-black"}),v&&!a?r.jsx("button",{type:"button",onClick:w,className:"absolute right-8 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-gray-100",title:"Clear",children:""}):null,r.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:r.jsx(ld.chevron,{})})]}),i&&r.jsx("input",{tabIndex:-1,"aria-hidden":"true",className:"sr-only",required:!0,value:e||"",onChange:()=>{}})]}),l&&!a&&r.jsx("div",{id:"ss-results",role:"listbox",className:"absolute z-30 mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:b.length===0?r.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No results"}):r.jsx("ul",{className:"max-h-72 overflow-auto",children:b.map((N,L)=>{const k=L===h;return r.jsx("li",{role:"option","aria-selected":k,className:`cursor-pointer px-3 py-2 text-sm ${k?"bg-brand-50":"hover:bg-gray-50"}`,onMouseEnter:()=>g(L),onMouseDown:E=>{E.preventDefault(),x(N)},children:N.label},N.value)})})})]})}function hEe(e){if(!e)return"";try{const t=new Date(e+"T00:00:00");return new Intl.DateTimeFormat(void 0,{dateStyle:"medium"}).format(t)}catch(t){return e}}function gEe(e,t,n){const s=n||"";return e&&t?`${e}${t} ${s}`:e?`From ${e} ${s}`:t?`Up to ${t} ${s}`:""}function mEe(e=[]){const t=new Map,n=new Map,s=new Map,a=new Map;for(const i of e){t.set(String(i.id),i.name||i.title||`Identity ${i.id}`);for(const o of i.categories||[]){n.set(String(o.id),o.name||o.title||`Category ${o.id}`);for(const l of o.subcategories||[]){s.set(String(l.id),l.name||l.title||`Subcategory ${l.id}`);for(const c of l.subsubs||[])a.set(String(c.id),c.name||c.title||`Sub-sub ${c.id}`)}}}return{ids:t,cats:n,subs:s,subsubs:a}}function pEe(e={}){const t=new Set,n=c=>{typeof c=="string"&&c.trim()&&t.add(c.trim())},s=c=>{Array.isArray(c)&&c.forEach(u=>{typeof u=="string"?n(u):u&&typeof u.url=="string"&&n(u.url)})};n(e.coverImageUrl),n(e.imageUrl),n(e.bannerUrl),n(e.heroUrl),s(e.images),s(e.gallery),s(e.photos),s(e.media),Array.isArray(e.attachments)&&e.attachments.forEach(c=>{var h;const u=(c==null?void 0:c.url)||(c==null?void 0:c.href),f=(c==null?void 0:c.mimeType)||(c==null?void 0:c.contentType);((h=f==null?void 0:f.startsWith)!=null&&h.call(f,"image/")||typeof u=="string"&&/\.(png|jpe?g|webp|gif|bmp|svg)(\?|#|$)/i.test(u))&&n(u)});const a=e.logoUrl||e.companyLogoUrl||null,i=Array.from(t),o=e.coverImageUrl||e.bannerUrl||e.heroUrl||i[0]||null,l=i.filter(c=>c!==o);return{logoUrl:a,coverImageUrl:o,images:l}}function t8(e,t){if(!t)return e;try{const n=new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"ig");return(e||"").split(n).map((a,i)=>n.test(a)?r.jsx("mark",{className:"bg-yellow-100 rounded px-0.5",children:a},i):r.jsx("span",{children:a},i))}catch(n){return e}}function xEe({companies:e=[],value:t,onChange:n,required:s}){const[a,i]=d.useState(""),[o,l]=d.useState(!1),[c,u]=d.useState(0),f=d.useRef(null),h=d.useRef(null);d.useEffect(()=>{function x(w){f.current&&(f.current.contains(w.target)||l(!1))}return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const g=d.useMemo(()=>e.find(x=>x.id===t)||null,[e,t]),m=d.useMemo(()=>{const x=a.trim().toLowerCase();return x?e.map(j=>{const L=`${j.name||""} ${j.email||""} ${j.city||""} ${j.country||""}`.toLowerCase().indexOf(x),E=((j.name||"").toLowerCase().indexOf(x)!==-1?0:5)+(L===-1?999:L);return{c:j,score:E}}).filter(j=>j.score<999).sort((j,N)=>j.score-N.score).map(j=>j.c).slice(0,12):e.slice(0,20)},[e,a]);d.useEffect(()=>{o||u(0)},[o,a]);function p(x){var w;n==null||n(x),i(""),l(!1),(w=h.current)==null||w.blur()}function v(){var x;n==null||n(null),i(""),l(!1),(x=h.current)==null||x.focus()}function b(){setTimeout(()=>{const x=a.trim();if(!x)return;const w=e.find(j=>(j.name||"").trim().toLowerCase()===x.toLowerCase());w?p(w):v()},0)}function y(x){if(!o&&(x.key==="ArrowDown"||x.key==="ArrowUp")){l(!0);return}if(o)if(x.key==="ArrowDown")x.preventDefault(),u(w=>Math.min(w+1,m.length-1));else if(x.key==="ArrowUp")x.preventDefault(),u(w=>Math.max(w-1,0));else if(x.key==="Enter"){x.preventDefault();const w=m[c];w&&p(w)}else x.key==="Escape"&&l(!1)}return r.jsxs("div",{ref:f,className:"relative",children:[r.jsxs("div",{className:"grid gap-1.5",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("div",{className:"relative flex-1",children:[r.jsx(_c,{ref:h,placeholder:g?g.name:"Search companies",value:a,onChange:x=>{i(x.target.value),l(!0)},onFocus:()=>l(!0),onKeyDown:y,onBlur:b,"aria-autocomplete":"list","aria-expanded":o,"aria-controls":"company-results",role:"combobox",autoComplete:"off",className:g?"text-gray-400 placeholder-black border-0":"text-gray-700 placeholder-gray-400"}),g&&r.jsx("button",{type:"button",onClick:v,className:"absolute right-2 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-gray-100","aria-label":"Clear selected company",title:"Clear",children:r.jsx(ld.x,{})})]})}),s&&r.jsx("input",{tabIndex:-1,"aria-hidden":"true",className:"sr-only",required:!0,value:t||"",onChange:()=>{}})]}),o&&r.jsx("div",{id:"company-results",role:"listbox",className:"absolute z-20 mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:m.length===0?r.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No companies found."}):r.jsx("ul",{className:"max-h-72 overflow-auto",children:m.map((x,w)=>{const j=w===c;return r.jsxs("li",{role:"option","aria-selected":j,className:`cursor-pointer px-3 py-2 text-sm flex items-center justify-between ${j?"bg-brand-50":"hover:bg-gray-50"}`,onMouseEnter:()=>u(w),onMouseDown:N=>{N.preventDefault(),p(x)},children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-medium truncate",children:t8(x.name||"Unnamed",a)}),r.jsxs("div",{className:"text-[12px] text-gray-500 truncate",children:[x.email?r.jsx("span",{className:"mr-2",children:t8(x.email,a)}):null,x.city||x.country?r.jsx("span",{className:"",children:[x.city,x.country].filter(Boolean).join(", ")}):null]})]}),r.jsx("span",{className:"ml-3 text-[11px] text-gray-400",children:x.country||""})]},x.id)})})})]})}function vEe({form:e,audSel:t,audTree:n,media:s,coverImage:a}){const i=d.useMemo(()=>mEe(n),[n]),o=Array.from(t.identityIds||[]).map(p=>i.ids.get(String(p))).filter(Boolean),l=Array.from(t.categoryIds||[]).map(p=>i.cats.get(String(p))).filter(Boolean),c=Array.from(t.subcategoryIds||[]).map(p=>i.subs.get(String(p))).filter(Boolean),u=Array.from(t.subsubCategoryIds||[]).map(p=>i.subsubs.get(String(p))).filter(Boolean);Array.isArray(e.requiredSkills)?e.requiredSkills:(e.requiredSkills||"").split(",").map(p=>p.trim()).filter(Boolean);const{logoUrl:f,coverImageUrl:h,images:g=[]}=s||{},m=a||h||null;return console.log({coverSrc:m}),r.jsxs("div",{className:"mt-6 rounded-2xl bg-white border border-gray-100 shadow-sm overflow-hidden",children:[m?r.jsx("div",{className:"relative aspect-[16/6] w-full bg-gray-100",children:r.jsx("img",{src:m,alt:"Job cover",className:"h-full w-full object-cover"})}):null,r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"flex items-start justify-between gap-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[f?r.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-xl overflow-hidden border border-gray-200 bg-white",children:r.jsx("img",{src:f,alt:"Company logo",className:"h-full w-full object-cover"})}):null,r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold",children:e.title||"Untitled role"}),r.jsx("div",{className:"mt-1 text-sm text-gray-700",children:e.companyName?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"font-medium",children:e.companyName}),e.make_company_name_private?r.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(company kept private)"}):null]}):""})]})]})}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[r.jsx("div",{className:"rounded-xl border p-4 hidden",children:r.jsxs("div",{className:"mt-2 text-sm text-gray-700 space-y-1",children:[r.jsxs("div",{children:["Experience: ",e.experienceLevel||""]}),r.jsxs("div",{children:["Type: ",e.jobType||""]}),r.jsxs("div",{children:["Work Location: ",e.workLocation||""]})]})}),r.jsxs("div",{className:"rounded-xl border p-4",children:[r.jsxs("div",{className:"text-gray-700 font-medium flex items-center gap-2",children:[r.jsx(ld.pin,{})," Location"]}),r.jsxs("div",{className:"mt-2 text-sm text-gray-700",children:[r.jsx("div",{children:[e.city,e.country].filter(Boolean).join(", ")||"All contries"}),r.jsxs("div",{className:"mt-1 hidden",children:["Salary: ",gEe(e.minSalary,e.maxSalary,e.currency)]}),r.jsxs("div",{className:"mt-1 hidden",children:["Benefits: ",e.benefits||""]})]})]}),r.jsxs("div",{className:"rounded-xl border p-4 hidden",children:[r.jsxs("div",{className:"text-gray-700 font-medium flex items-center gap-2",children:[r.jsx(ld.send,{})," Applications"]}),r.jsxs("div",{className:"mt-2 text-sm text-gray-700 space-y-1",children:[r.jsxs("div",{children:["Deadline: ",hEe(e.applicationDeadline)]}),r.jsxs("div",{children:["Positions: ",e.positions||""]}),r.jsxs("div",{children:["Contact: ",e.contactEmail||""]})]})]})]}),((g==null?void 0:g.length)||0)>0?r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Images"}),r.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:g.map((p,v)=>r.jsx("div",{className:"relative w-full aspect-[16/10] bg-gray-100 rounded-xl overflow-hidden border",children:r.jsx("img",{src:p,alt:`Job image ${v+1}`,className:"h-full w-full object-cover"})},v))})]}):null,r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Description"}),r.jsx("p",{className:"mt-2 text-sm text-gray-700 whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:e.description||"No description provided."}})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Target Audience"}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[o.map(p=>r.jsx("span",{className:Uv.chip,children:p},`i-${p}`)),l.map(p=>r.jsx("span",{className:Uv.chip,children:p},`c-${p}`)),c.map(p=>r.jsx("span",{className:Uv.chip,children:p},`s-${p}`)),u.map(p=>r.jsx("span",{className:Uv.chip,children:p},`ss-${p}`)),!o.length&&!l.length&&!c.length&&!u.length&&r.jsx("span",{className:"text-sm text-gray-500",children:"Everyone"})]})]})]})]})}function cy({triggerImageSelection:e=!1,hideHeader:t=!1,onSuccess:n}){var Te,lt;const s=Ht(),[a,i]=d.useState(!1),{id:o}=ea(),[l,c]=d.useState(!1),[u,f]=d.useState(!1),{user:h}=Xt(),[g,m]=d.useState(null),[p,v]=d.useState(null),[b,y]=d.useState(null),x=d.useRef(null),[w,j]=d.useState(!1),[N,L]=d.useState([]),[k,E]=d.useState(!0);d.useEffect(()=>{pe(this,null,function*(){try{const be=yield fetch("/data/cities.json");if(!be.ok)throw new Error("Failed to fetch cities");const Y=yield be.json();L(Y)}catch(be){console.error("Error fetching cities:",be),oe.error("Failed to load cities data")}finally{E(!1)}})},[]);const S=d.useMemo(()=>N.slice(0,1e4).map(_e=>({value:_e.city,label:`${_e.city}${_e.country?`, ${_e.country}`:""}`,country:_e.country})),[N]),I=d.useCallback(_e=>!_e||_e==="All countries"?[]:S.filter(be=>{var Y;return((Y=be.country)==null?void 0:Y.toLowerCase())===_e.toLowerCase()}),[S]),[C,M]=d.useState({title:"",companyId:"",country:"",city:"",description:"",requiredSkills:[],skills:[],minSalary:"",maxSalary:"",currency:"",applicationDeadline:"",positions:"",contactEmail:""});d.useEffect(()=>{h&&ke(he(te({},ge),{companyId:h.id}))},[h]);const[A,H]=d.useState(""),[W,X]=d.useState([]),[J,Z]=d.useState({categoryId:"",subcategoryId:"",subsubCategoryId:""}),[F,D]=d.useState([]),[O,T]=d.useState({categoryId:"",subcategoryId:""});d.useEffect(()=>{pe(this,null,function*(){try{const{data:_e}=yield Se.get("/general-categories/tree?type=job");X(_e.generalCategories||[])}catch(_e){console.error("Failed to load general categories",_e)}})},[]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:_e}=yield Se.get("/industry-categories/tree");D(_e.industryCategories||[])}catch(_e){console.error("Failed to load industry categories",_e)}})},[]);const[R,z]=d.useState([]),[_,U]=d.useState(null),[Q,re]=d.useState([]),[le,ue]=d.useState([]),[ge,ke]=d.useState({title:"",companyName:"",companyId:"",make_company_name_private:!1,department:"",experienceLevel:"",description:"",requiredSkills:"",country:"",city:"",minSalary:"",maxSalary:"",currency:"USD",benefits:"",applicationDeadline:"",positions:1,applicationInstructions:"",contactEmail:"",categoryId:"",subcategoryId:"",jobType:"",workLocation:"",workSchedule:"",careerLevel:"",paymentType:"",workLocation:"",description:"",requiredSkills:"",country:"",city:"",countries:[],videoUrl:""});console.log({form:ge});const tt=d.useMemo(()=>ge.country?String(ge.country).split(",").map(_e=>_e.trim().toLowerCase()).filter(Boolean):[],[ge.country]);d.useMemo(()=>{if(tt.length===0)return S;const _e=new Set(tt);return S.filter(be=>_e.has(be.country.toLowerCase()))},[tt,S]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:_e}=yield Se.get("/companies?limit=2000");z(_e.companies||[])}catch(_e){console.error("Failed to load companies",_e)}})},[]),d.useEffect(()=>{if(ge.companyId&&!ge.companyName){const _e=R.find(be=>be.id===ge.companyId);_e&&ke(be=>he(te({},be),{companyName:_e.name}))}},[R,ge.companyId]);const[He,ze]=d.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[rt,Xe]=d.useState({logoUrl:null,coverImageUrl:null,images:[]}),V=u&&_&&(h==null?void 0:h.id)!==_,ne=(_e,be)=>{be==="image"?(m(_e),y("image"),j(!0),ke(Y=>he(te({},Y),{videoUrl:""}))):be==="video"?(m(_e),y("video"),j(!0)):(m(null),y(null),j(!0),ke(Y=>he(te({},Y),{videoUrl:""})))},Ce=(_e,be)=>pe(this,null,function*(){if(!_e)return{imageUrl:null,videoUrl:null};const Y=new FormData;let ie=null,de=null;try{return be==="image"?(Y.append("coverImage",_e),ie=(yield Se.post("/jobs/upload-cover",Y,{headers:{"Content-Type":"multipart/form-data"}})).data.url):be==="video"&&(Y.append("video",_e),de=(yield Se.post("/jobs/upload-video",Y,{headers:{"Content-Type":"multipart/form-data"}})).data.url),{imageUrl:ie,videoUrl:de}}catch($e){return console.error("Error uploading media file:",$e),oe.error(`Failed to upload ${be}`),{imageUrl:null,videoUrl:null}}});d.useEffect(()=>{o&&(f(!0),c(!0),j(!1),pe(this,null,function*(){var _e,be,Y,ie,de,$e,it,gt,De,Le,Ae,Pe,Qe,mt,Me,Oe,We,qe,vt;try{const{data:Ge}=yield Se.get(`/jobs/${o}?updated=true`),ot=Ge.job,Mt=(gt=(it=(de=(Y=(be=(_e=ot.ownerUserId)!=null?_e:ot.postedByUserId)!=null?be:ot.createdById)!=null?Y:ot.userId)!=null?de:(ie=ot.createdBy)==null?void 0:ie.id)!=null?it:($e=ot.poster)==null?void 0:$e.id)!=null?gt:null;U(Mt);let _t=ot.description||"";_t&&typeof _t=="string"&&(_t=_t.trim(),console.log("Loading job data, processed description:",_t));let Ct=null,B=null;ot.coverImageBase64?(Ct="image",ot.coverImageBase64.startsWith("data:")||ot.coverImageBase64.startsWith("http")?(B=ot.coverImageBase64,m(ot.coverImageBase64)):(v(ot.coverImageBase64),B=gn+`/uploads/${ot.coverImageBase64}`,m(B))):ot.videoUrl&&(Ct="video",B=ot.videoUrl),y(Ct),ke({id:ot.id,createdAt:ot.createdAt,title:ot.title||"",companyId:(h==null?void 0:h.id)||ot.companyId||"",companyName:((De=ot.company)==null?void 0:De.name)||ot.companyName||"",make_company_name_private:ot.make_company_name_private||!1,department:ot.department||"",experienceLevel:ot.experienceLevel||"",jobType:ot.jobType||"",workLocation:ot.workLocation||"",description:_t,requiredSkills:Array.isArray(ot.requiredSkills)?ot.requiredSkills:typeof ot.requiredSkills=="string"?ot.requiredSkills.split(",").map(ee=>ee.trim()).filter(Boolean):[],country:ot.country||An[0]||"",countries:ot.countries||[],city:ot.city||"",minSalary:((Le=ot.minSalary)==null?void 0:Le.toString())||"",maxSalary:((Ae=ot.maxSalary)==null?void 0:Ae.toString())||"",currency:ot.currency||"USD",benefits:ot.benefits||"",applicationDeadline:ot.applicationDeadline?ot.applicationDeadline.split("T")[0]:"",positions:ot.positions||1,applicationInstructions:ot.applicationInstructions||"",contactEmail:ot.contactEmail||"",categoryId:ot.categoryId||"",subcategoryId:ot.subcategoryId||"",jobType:ot.jobType||"",workLocation:ot.workLocation||"",workSchedule:ot.workSchedule||"",careerLevel:ot.careerLevel||"",paymentType:ot.paymentType||"",videoUrl:ot.videoUrl||null,coverImageBase64:ot.coverImageBase64||null}),((Pe=ot.audienceIdentities)!=null&&Pe.length||(Qe=ot.audienceCategories)!=null&&Qe.length||(mt=ot.audienceSubcategories)!=null&&mt.length||(Me=ot.audienceSubsubs)!=null&&Me.length)&&ze({identityIds:new Set(((Oe=ot.audienceIdentities)==null?void 0:Oe.map(ee=>ee.id))||[]),categoryIds:new Set(((We=ot.audienceCategories)==null?void 0:We.map(ee=>ee.id))||[]),subcategoryIds:new Set(((qe=ot.audienceSubcategories)==null?void 0:qe.map(ee=>ee.id))||[]),subsubCategoryIds:new Set(((vt=ot.audienceSubsubs)==null?void 0:vt.map(ee=>ee.id))||[])}),Xe(pEe(ot)),Z({categoryId:ot.generalCategoryId||"",subcategoryId:ot.generalSubcategoryId||"",subsubCategoryId:ot.generalSubsubCategoryId||""}),T({categoryId:ot.industryCategoryId||"",subcategoryId:ot.industrySubcategoryId||""})}catch(Ge){console.error("Error fetching job data:",Ge),oe.error("Failed to load job data"),s("/jobs")}finally{c(!1)}}))},[o,s]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:_e}=yield Se.get("/categories/tree");re(_e.categories||[])}catch(_e){console.error("Error loading categories:",_e)}})},[]),d.useEffect(()=>{if(e&&x.current){const _e=setTimeout(()=>{var be;console.log(x.current),(be=x.current)==null||be.pick()},100);return()=>clearTimeout(_e)}},[e]);function fe(){if(V)return;const _e=(A||"").trim();_e&&(ke(be=>be.requiredSkills.includes(_e)?be:he(te({},be),{requiredSkills:[...be.requiredSkills,_e]})),H(""))}function xe(_e){V||ke(be=>he(te({},be),{requiredSkills:be.requiredSkills.filter((Y,ie)=>ie!==_e)}))}d.useEffect(()=>{pe(this,null,function*(){try{const{data:_e}=yield Se.get("/public/identities?type=all");ue(_e.identities||[])}catch(_e){console.error("Error loading identities:",_e)}})},[]),d.useMemo(()=>{const _e=Q.find(be=>be.id===ge.categoryId);return(_e==null?void 0:_e.subcategories)||[]},[Q,ge.categoryId]);const se=d.useMemo(()=>W.map(_e=>({value:_e.id,label:_e.name||`Category ${_e.id}`})),[W]),ae=d.useMemo(()=>{const _e=W.find(be=>be.id===J.categoryId);return((_e==null?void 0:_e.subcategories)||[]).map(be=>({value:be.id,label:be.name||`Subcategory ${be.id}`}))},[W,J.categoryId]);d.useMemo(()=>{var Y;const _e=W.find(ie=>ie.id===J.categoryId),be=(Y=_e==null?void 0:_e.subcategories)==null?void 0:Y.find(ie=>ie.id===J.subcategoryId);return((be==null?void 0:be.subsubcategories)||[]).map(ie=>({value:ie.id,label:ie.name||`Sub-sub ${ie.id}`}))},[W,J.categoryId,J.subcategoryId]);const G=d.useMemo(()=>F.map(_e=>({value:_e.id,label:_e.name||`Category ${_e.id}`})),[F]),Ne=d.useMemo(()=>{const _e=F.find(be=>be.id===O.categoryId);return((_e==null?void 0:_e.subcategories)||[]).map(be=>({value:be.id,label:be.name||`Subcategory ${be.id}`}))},[F,O.categoryId]),Be=_e=>{if(V)return;const{name:be,value:Y}=_e.target;ke(ie=>{const de=he(te({},ie),{[be]:Y});return be==="categoryId"&&(de.subcategoryId=""),de}),M(ie=>he(te({},ie),{[be]:""}))};function dt(){const _e={title:"",companyId:"",country:"",city:"",description:"",requiredSkills:[],minSalary:"",maxSalary:"",currency:"",applicationDeadline:"",positions:"",contactEmail:""};return ge.title.trim()?ge.title.trim().length<3&&(_e.title="Job title must be at least 3 characters long."):_e.title="Job title is required.",ge.companyId||(_e.companyId="Please select a company."),ge.description.trim()?ge.description.trim().length<10&&(_e.description="Job description must be at least 10 characters long."):_e.description="Add Job description",ge.minSalary&&isNaN(Number(ge.minSalary))?_e.minSalary="Minimum salary must be a valid number.":ge.minSalary&&Number(ge.minSalary)<0&&(_e.minSalary="Minimum salary cannot be negative."),ge.maxSalary&&isNaN(Number(ge.maxSalary))?_e.maxSalary="Maximum salary must be a valid number.":ge.maxSalary&&Number(ge.maxSalary)<0&&(_e.maxSalary="Maximum salary cannot be negative."),ge.minSalary&&ge.maxSalary&&Number(ge.minSalary)>Number(ge.maxSalary)&&(_e.maxSalary="Maximum salary must be greater than minimum salary."),ge.positions&&(isNaN(Number(ge.positions))||Number(ge.positions)<1)&&(_e.positions="Number of positions must be at least 1."),ge.contactEmail&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ge.contactEmail)&&(_e.contactEmail="Please enter a valid email address."),M(_e),_e}const nt=_e=>pe(this,null,function*(){if(_e.preventDefault(),V)return;const be=dt(),Y=Object.values(be).find(ie=>Array.isArray(ie)?ie.length>0:ie);if(Y){oe.error(Y);return}c(!0);try{let ie=ge.coverImageBase64,de=ge.videoUrl;if(w&&g instanceof File){let gt=yield Ce(g,b);de=gt.videoUrl,ie=gt.imageUrl,j(!1)}const $e=he(te({},ge),{positions:Number(ge.positions||1),requiredSkills:ge.requiredSkills,minSalary:ge.minSalary===""?null:Number(ge.minSalary),maxSalary:ge.maxSalary===""?null:Number(ge.maxSalary),subcategoryId:ge.subcategoryId||null,identityIds:Array.from(He.identityIds),categoryIds:Array.from(He.categoryIds),subcategoryIds:Array.from(He.subcategoryIds),subsubCategoryIds:Array.from(He.subsubCategoryIds),generalCategoryId:J.categoryId||null,generalSubcategoryId:J.subcategoryId||null,generalSubsubCategoryId:J.subsubCategoryId||null,coverImageBase64:b==="image"?w?ie:ge.coverImageBase64:null,videoUrl:b==="video"?w?de:ge.videoUrl:null,companyId:ge.companyId||null,companyName:ge.companyName||"",industryCategoryId:O.categoryId||null,industrySubcategoryId:O.subcategoryId||null}),it=u?Se.put(`/jobs/${o}`,$e):Se.post("/jobs",$e);yield oe.promise(it,{loading:u?"Updating job":"Creating job",success:u?"Job updated successfully!":"Job created successfully!",error:gt=>{var De,Le;return((Le=(De=gt==null?void 0:gt.response)==null?void 0:De.data)==null?void 0:Le.message)||(u?"Failed to update job":"Failed to create job")}},{id:"job-submit"}),u||(t&&n?n():s("/jobs"))}catch(ie){console.error("Error saving job:",ie)}finally{c(!1)}});return l&&!ge.id?r.jsx(Xa,{message:"Loading job",tip:"Fetching..."}):(console.log({a:g}),r.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900",children:[!t&&r.jsx(an,{page:"jobs"}),r.jsxs("main",{className:`mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 ${t?"py-4":"py-8"}`,children:[!t&&r.jsx("div",{className:"mb-5 cursor-pointer",children:r.jsxs("a",{onClick:()=>s("/jobs"),className:"inline-flex items-center gap-2 text-sm text-gray-600 hover:text-gray-800",children:[r.jsx(ld.back,{})," Go to Jobs"]})}),u&&!V&&r.jsx("div",{children:r.jsx("h1",{className:"text-[20px] font-bold",children:u?"Edit Job":"Create Job Opportunity"})}),V?r.jsx(vEe,{form:ge,audSel:He,audTree:le,media:rt,coverImage:g}):l&&!u?r.jsx("div",{className:"mt-6 rounded-2xl bg-white border border-gray-100 shadow-sm p-5 md:p-6 flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin text-3xl mb-2",children:""}),r.jsx("p",{children:"Loading job data..."})]})}):r.jsxs("form",{onSubmit:nt,className:"mt-6 rounded-2xl bg-white border border-gray-100 shadow-sm p-5 md:p-6",children:[r.jsxs("div",{className:"mt-3 grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Xn,{required:!0,children:"Job Title"}),r.jsx(_c,{name:"title",value:ge.title,onChange:Be,placeholder:"e.g. Senior Software Engineer"})]}),(R.length!=0&&(h==null?void 0:h.accountType)=="company"||(h==null?void 0:h.accountType)=="company")&&r.jsxs("div",{children:[r.jsx(Xn,{required:!0,children:"Company"}),r.jsx("div",{className:"opacity-60 pointer-events-none",children:r.jsx(xEe,{___companies:R,companies:[{name:h==null?void 0:h.name,id:h==null?void 0:h.id}],value:ge.companyId,onChange:_e=>{ke(be=>he(te({},be),{companyId:(_e==null?void 0:_e.id)||"",companyName:(_e==null?void 0:_e.name)||""}))}})}),r.jsxs("div",{className:"mt-1 flex items-center",children:[r.jsx("input",{type:"checkbox",id:"make_company_name_private",name:"make_company_name_private",checked:ge.make_company_name_private,onChange:_e=>ke(he(te({},ge),{make_company_name_private:_e.target.checked})),className:"h-4 w-4 accent-brand-600 text-brand-600 focus:ring-brand-500"}),r.jsx("label",{htmlFor:"make_company_name_private",className:"ml-2 text-sm text-gray-700",children:"Make it private"})]})]}),r.jsxs("div",{className:"hidden",children:[r.jsx(Xn,{children:"Department"}),r.jsx(_c,{name:"department",value:ge.department,onChange:Be,placeholder:"e.g. Engineering, Marketing"})]}),r.jsxs("div",{className:"hidden",children:[r.jsx(Xn,{children:"Experience Level"}),r.jsxs(Xd,{name:"experienceLevel",value:ge.experienceLevel,onChange:Be,children:[r.jsx("option",{value:"",children:"Select experience level"}),r.jsx("option",{children:"Junior"}),r.jsx("option",{children:"Mid-level"}),r.jsx("option",{children:"Senior"}),r.jsx("option",{children:"Lead"})]})]})]}),r.jsx("div",{className:"md:col-span-3 mt-6",children:r.jsx(yq,{theme:"snow",value:ge.description||"",onChange:_e=>{console.log("ReactQuill onChange - Raw value:",_e),console.log("ReactQuill onChange - Is HTML?",_e.includes("<")),ke(he(te({},ge),{description:_e}))},placeholder:"Describe the roles, responsibilities and requirements of the position you are opening",modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["link"],["clean"]]},formats:["header","bold","italic","underline","strike","color","background","list","bullet","align","link"],className:"bg-white rounded-xl border border-gray-200",style:{minHeight:"80px"},preserveWhitespace:!0})}),r.jsx("hr",{className:"my-5 border-gray-200"}),r.jsx(nq,{ref:x,label:"Image / Video (optional)",value:g,preview:b==="video"?ge.videoUrl:typeof g=="string"?g:null,onChange:ne,canSelectBothVideoAndImage:!1,selectedMediaType:b}),r.jsxs("div",{className:"mt-3 grid md:grid-cols-2 gap-4 hidden",children:[r.jsxs("div",{children:[r.jsx(Xn,{children:"Job Type"}),r.jsxs(Xd,{name:"jobType",value:ge.jobType,onChange:Be,children:[r.jsx("option",{value:"",children:"Select job type"}),r.jsx("option",{children:"Full-Time"}),r.jsx("option",{children:"Part-Time"}),r.jsx("option",{children:"Temporary"}),r.jsx("option",{children:"Seasonal"}),r.jsx("option",{children:"Internship"}),r.jsx("option",{children:"Apprenticeship"}),r.jsx("option",{children:"Contract / Freelance"})]})]}),r.jsxs("div",{children:[r.jsx(Xn,{required:!0,children:"Work Location"}),r.jsxs(Xd,{name:"workLocation",value:ge.workLocation,onChange:Be,children:[r.jsx("option",{value:"",children:"Select location"}),r.jsx("option",{children:"Office"}),r.jsx("option",{children:"Field"}),r.jsx("option",{children:"Home"}),r.jsx("option",{children:"Client Site"})]})]}),r.jsxs("div",{children:[r.jsx(Xn,{required:!0,children:"Work Schedule"}),r.jsxs(Xd,{name:"workSchedule",value:ge.workSchedule,onChange:Be,children:[r.jsx("option",{value:"",children:"Select schedule"}),r.jsx("option",{children:"Day Shift"}),r.jsx("option",{children:"Night Shift"}),r.jsx("option",{children:"Rotational Shifts"}),r.jsx("option",{children:"Flexible Hours"}),r.jsx("option",{children:"Weekend Jobs"}),r.jsx("option",{children:"Overtime"}),r.jsx("option",{children:"On-Call"})]})]}),r.jsxs("div",{children:[r.jsx(Xn,{required:!0,children:"Career Level"}),r.jsxs(Xd,{name:"careerLevel",value:ge.careerLevel,onChange:Be,children:[r.jsx("option",{value:"",children:"Select level"}),r.jsx("option",{children:"Entry-Level"}),r.jsx("option",{children:"Mid-Level"}),r.jsx("option",{children:"Senior-Level"}),r.jsx("option",{children:"Executive / C-Suite"}),r.jsx("option",{children:"Volunteer / Community Work"})]})]}),r.jsxs("div",{children:[r.jsx(Xn,{required:!0,children:"Payment Type"}),r.jsxs(Xd,{name:"paymentType",value:ge.paymentType,onChange:Be,children:[r.jsx("option",{value:"",children:"Select payment type"}),r.jsx("option",{children:"Salaried Jobs"}),r.jsx("option",{children:"Hourly Jobs"}),r.jsx("option",{children:"Commission-Based"}),r.jsx("option",{children:"Stipend-Based"}),r.jsx("option",{children:"Equity / Profit-Sharing Roles"})]})]})]}),r.jsx("div",{className:"mt-3 grid md:grid-cols-3 gap-4",children:r.jsxs("div",{className:"md:col-span-3 hidden",children:[r.jsx(Xn,{children:"Required Skills & Qualifications"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("input",{type:"text",value:A,onChange:_e=>H(_e.target.value),onKeyDown:_e=>{_e.key==="Enter"&&(_e.preventDefault(),fe())},placeholder:"Add skills (e.g., React, Node.js, Leadership)",className:"flex-1 rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"}),r.jsx("button",{type:"button",onClick:fe,className:"inline-flex items-center gap-1 rounded-lg px-3 py-2 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700",children:"+ Add"})]}),ge.requiredSkills.length>0&&r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:ge.requiredSkills.map((_e,be)=>r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-50 text-brand-700 px-3 py-1 text-xs border border-brand-100",children:[_e,r.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>xe(be),title:"Remove",children:""})]},`${_e}-${be}`))})]})}),r.jsx("div",{children:r.jsx("div",{className:"mt-3",children:r.jsx(fEe,{value:ge.countries,onChange:_e=>ke(be=>he(te({},be),{countries:_e})),citiesLoading:k,getCitiesForCountry:I})})}),r.jsx("hr",{className:"my-5 border-gray-200"}),r.jsx("section",{children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:["Category ",r.jsx("span",{className:"text-gray-400 font-normal",children:"(optional)"})]}),r.jsx(Eu,{ariaLabel:"Category",value:J.categoryId,onChange:_e=>Z({categoryId:_e,subcategoryId:"",subsubCategoryId:""}),options:se,placeholder:"Search & select category"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:["Subcategory ",r.jsx("span",{className:"text-gray-400 font-normal",children:"(optional)"})]}),r.jsx(Eu,{ariaLabel:"Subcategory",value:J.subcategoryId,onChange:_e=>Z(be=>he(te({},be),{subcategoryId:_e,subsubCategoryId:""})),options:ae,placeholder:"Search & select subcategory",disabled:!J.categoryId})]})]})}),r.jsxs("div",{className:"hidden",children:[r.jsx("hr",{className:"my-5 border-gray-200"}),r.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-brand-600"}),r.jsx("h3",{className:"font-semibold",children:"Industry Classification"})]}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Search and pick the industry category that best describes this job opportunity."}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Xn,{children:"Industry Category"}),r.jsx(Eu,{ariaLabel:"Industry Category",value:O.categoryId,onChange:_e=>T({categoryId:_e,subcategoryId:""}),options:G,placeholder:"Search & select industry category"})]}),r.jsxs("div",{children:[r.jsx(Xn,{children:"Industry Subcategory"}),r.jsx(Eu,{ariaLabel:"Industry Subcategory",value:O.subcategoryId,onChange:_e=>T(be=>he(te({},be),{subcategoryId:_e})),options:Ne,placeholder:"Search & select industry subcategory",disabled:!O.categoryId})]})]})]}),r.jsx("hr",{className:"my-5 border-gray-200"}),r.jsx("div",{className:"mb-4",children:a?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-brand-600"}),r.jsx("h3",{className:"font-semibold",children:"Share with (identities & industries)"})]}),r.jsxs("button",{type:"button",onClick:()=>i(!1),className:"inline-flex items-center gap-1 px-3 py-1 border border-gray-300 text-gray-600 rounded-lg text-xs hover:bg-gray-50",children:[r.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Hide"]})]}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Pick who should see this job."}),r.jsx(fl,{tree:le,selected:He,onChange:_e=>ze(_e)})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{type:"button",onClick:()=>i(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})}),"Define Audience (optional)"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Target your post to specific audiences"})]})}),r.jsxs("div",{className:"mt-3 grid md:grid-cols-3 gap-4 hidden",children:[r.jsxs("div",{children:[r.jsx(Xn,{children:"Min Salary"}),r.jsx(_c,{name:"minSalary",type:"number",min:"0",step:"1",value:ge.minSalary,onChange:Be,placeholder:"e.g. 2000"})]}),r.jsxs("div",{children:[r.jsx(Xn,{children:"Max Salary"}),r.jsx(_c,{name:"maxSalary",type:"number",min:"0",step:"1",value:ge.maxSalary,onChange:Be,placeholder:"e.g. 4000"})]}),r.jsxs("div",{children:[r.jsx(Xn,{children:"Currency"}),r.jsx(Xd,{name:"currency",value:ge.currency,onChange:Be,children:dEe.map(_e=>r.jsx("option",{value:_e,children:_e},_e))})]}),r.jsxs("div",{className:"md:col-span-3",children:[r.jsx(Xn,{children:"Benefits"}),r.jsx(_c,{name:"benefits",value:ge.benefits,onChange:Be,placeholder:"Health insurance, remote work"})]})]}),r.jsxs("div",{className:"hidden",children:[r.jsx("hr",{className:"my-5 border-gray-200"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ld.send,{}),r.jsx("h3",{className:"font-semibold",children:"Application Details"})]}),r.jsxs("div",{className:"mt-3 grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Xn,{children:"Application Deadline"}),r.jsxs("div",{className:"relative",children:[r.jsx(_c,{name:"applicationDeadline",type:"date",value:ge.applicationDeadline,min:u?(lt=(Te=ge.createdAt)==null?void 0:Te.split("T"))==null?void 0:lt[0]:new Date().toISOString().split("T")[0],onChange:Be,id:"applicationDeadline"}),r.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 cursor-pointer",onClick:()=>document.getElementById("applicationDeadline").showPicker(),tabIndex:"-1","aria-label":"Open date picker",title:"Open date picker",children:r.jsx(ld.calendar,{})})]})]}),r.jsxs("div",{children:[r.jsx(Xn,{children:"Number of Positions"}),r.jsx(_c,{name:"positions",type:"number",min:"1",value:ge.positions,onChange:Be})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx(Xn,{children:"Application Instructions"}),r.jsx(cEe,{name:"applicationInstructions",value:ge.applicationInstructions,onChange:Be,rows:3,placeholder:"Provide specific instructions for applicants"})]})]}),r.jsx("div",{className:"flex justify-end gap-3 mt-8",children:l?r.jsxs("button",{type:"button",className:"px-4 py-2 rounded-xl bg-brand-600 text-white opacity-70 cursor-not-allowed",disabled:!0,children:[r.jsx("span",{className:"inline-block animate-spin mr-2",children:""}),u?"Updating...":"Creating..."]}):r.jsx("button",{type:"submit",className:"px-4 py-2 rounded-xl bg-brand-600 text-white hover:opacity-90",children:u?"Update":"Post"})})]})]})]}))}const yEe=Object.freeze(Object.defineProperty({__proto__:null,default:cy},Symbol.toStringTag,{value:"Module"})),bEe=()=>Se.get("/onboarding/state"),r8=e=>Se.post("/onboarding/profile-type",{primaryIdentity:e}),wEe=(e,t)=>Se.post("/onboarding/categories",{categoryIds:e,subcategoryIds:t}),jEe=e=>Se.post("/onboarding/goals",{goalIds:e});function IL(){const[e,t]=d.useState({loading:!0,nextStep:null,progress:0});function n(){return pe(this,null,function*(){const{data:s}=yield bEe();t(te({loading:!1},s))})}return d.useEffect(()=>{n()},[]),{state:e,refresh:n,saveProfileType:r8,saveIdentities:r8,saveCategories:wEe,saveGoals:jEe}}function NEe(){const e=Ht(),{refresh:t,state:n,saveIdentities:s}=IL(),[a,i]=d.useState(!0),[o,l]=d.useState([]),[c,u]=d.useState([]);d.useEffect(()=>{pe(this,null,function*(){try{const{data:g}=yield Se.get("/feed/meta"),m=(g.identities||[]).map(p=>({id:p.id,name:p.name,group:p.group,sort:p.sort}));l(m)}catch(g){console.error(g)}finally{i(!1)}})},[]);function f(g){u(m=>m.includes(g)?m.filter(p=>p!==g):[...m,g])}function h(){return pe(this,null,function*(){c.length!==0&&(yield s(c),yield t(),e("/onboarding/industry"))})}return a?r.jsx("div",{className:"min-h-screen grid place-items-center text-brand-700",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("svg",{className:"h-6 w-6 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),r.jsx("span",{children:"Loading"})]})}):r.jsxs("div",{className:"min-h-screen p-6 bg-brand-50/40",children:[r.jsxs("header",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-brand-100 text-brand-700 flex items-center justify-center",children:""}),r.jsx("h1",{className:"mt-4 text-3xl font-bold",children:"Choose your identities"}),r.jsx("p",{className:"text-gray-500",children:"You can select more than one if it represents you."}),r.jsx("div",{className:"mt-4 h-2 bg-gray-200 rounded",children:r.jsx("div",{className:"h-2 rounded bg-brand-700",style:{width:`${Math.max(n.progress,33)}%`}})})]}),r.jsxs("main",{className:"max-w-3xl mx-auto mt-6",children:[r.jsx("div",{className:"bg-white rounded-2xl shadow-soft p-6",children:r.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-3",children:o.map(g=>r.jsxs("button",{onClick:()=>f(g.id),className:`rounded-xl border px-4 py-3 text-left hover:shadow-soft ${c.includes(g.id)?"border-brand-700 ring-2 ring-brand-500":"border-gray-200"}`,children:[r.jsx("div",{className:"font-medium",children:g.name}),r.jsx("div",{className:"text-xs text-gray-500",children:"Select to include"})]},g.id))})}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsx("button",{onClick:h,disabled:c.length===0,className:"rounded-xl bg-brand-700 text-white px-6 py-3 font-semibold disabled:opacity-50",children:"Continue"})})]})]})}function SEe(){var x;const e=Ht(),{saveCategories:t,refresh:n,state:s}=IL(),[a,i]=d.useState([]),[o,l]=d.useState([]),[c,u]=d.useState([]),[f,h]=d.useState([]);d.useEffect(()=>{pe(this,null,function*(){try{const{data:w}=yield Se.get("/feed/meta"),j=(w.identities||[]).flatMap(k=>k.categories||[]),N=w.categoriesWithoutIdentity||[],L=[...j,...N].map(k=>({id:k.id,name:k.name,subcategories:(k.subcategories||[]).map(E=>({id:E.id,name:E.name,subsubs:(E.subsubs||[]).map(S=>({id:S.id,name:S.name}))}))}));i(L)}catch(w){console.error(w)}})},[]);const g=d.useMemo(()=>{const w={};for(const j of a)for(const N of j.subcategories||[])w[N.id]=j.id;return w},[a]),m=d.useMemo(()=>{const w={};for(const j of a)for(const N of j.subcategories||[])for(const L of N.subsubs||[])w[L.id]=N.id;return w},[a]);function p(w){const j=g[w];u(N=>{var E;const L=N.includes(w),k=L?N.filter(S=>S!==w):[...N,w];if(!L&&j&&!o.includes(j)&&l(S=>S.includes(j)?S:[...S,j]),L&&j){const S=(((E=a.find(C=>C.id===j))==null?void 0:E.subcategories)||[]).map(C=>C.id);k.some(C=>S.includes(C))||l(C=>C.filter(M=>M!==j))}return h(S=>S.filter(I=>m[I]!==w)),k})}function v(w){const j=m[w],N=g[j];h(L=>{const k=L.includes(w),E=k?L.filter(S=>S!==w):[...L,w];return!k&&j&&!c.includes(j)&&u(S=>S.includes(j)?S:[...S,j]),!k&&N&&!o.includes(N)&&l(S=>S.includes(N)?S:[...S,N]),E})}const b=o.length>=1&&c.length>=2;function y(){return pe(this,null,function*(){b&&(yield t(o,c,f),yield n(),e("/onboarding/goals"))})}return a.length===0?r.jsx("div",{className:"min-h-screen grid place-items-center text-brand-700",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("svg",{className:"h-6 w-6 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),r.jsx("span",{children:"Loading"})]})}):r.jsxs("div",{className:"min-h-screen p-6 bg-brand-50/40",children:[r.jsxs("header",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-brand-100 text-brand-700 flex items-center justify-center",children:""}),r.jsx("h1",{className:"mt-4 text-3xl font-bold",children:"Your Industry"}),r.jsx("p",{className:"text-gray-500",children:"Select the categories that best describe your field."}),r.jsx("div",{className:"mt-4 h-2 bg-gray-200 rounded",children:r.jsx("div",{className:"h-2 rounded bg-brand-700",style:{width:`${Math.max((x=s==null?void 0:s.progress)!=null?x:66,66)}%`}})})]}),r.jsxs("main",{className:"max-w-3xl mx-auto mt-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-soft p-2 sm:p-6",children:[r.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["* Select at least ",r.jsx("b",{children:"1 category"})," and ",r.jsx("b",{children:"2 subcategories"}),". Level-3 is optional."]}),r.jsx("div",{className:"space-y-3",children:a.map(w=>r.jsxs("details",{className:"group border rounded-xl",children:[r.jsxs("summary",{className:"flex items-center justify-between px-4 py-3 cursor-pointer select-none",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:o.includes(w.id),readOnly:!0,className:"hidden"}),r.jsx("span",{className:"font-medium",children:w.name})]}),r.jsx("span",{className:"text-gray-400 group-open:rotate-180 transition",children:""})]}),r.jsx("div",{className:"px-4 pb-4 space-y-3",children:w.subcategories.map(j=>{var N;return r.jsxs("div",{className:"border rounded-lg p-3",children:[r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:c.includes(j.id),onChange:()=>p(j.id),className:"h-4 w-4 text-brand-600"}),r.jsx("span",{className:"font-medium",children:j.name})]}),((N=j.subsubs)==null?void 0:N.length)>0&&c.includes(j.id)&&r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:j.subsubs.map(L=>r.jsxs("label",{className:"inline-flex items-center gap-2 px-2 py-1 border rounded-full text-sm",children:[r.jsx("input",{type:"checkbox",checked:f.includes(L.id),onChange:()=>v(L.id)}),r.jsx("span",{children:L.name})]},L.id))})]},j.id)})})]},w.id))})]}),r.jsxs("div",{className:"mt-6 flex justify-between",children:[r.jsx("button",{onClick:()=>e(-1),className:"rounded-xl border px-4 py-3",children:"Previous"}),r.jsx("button",{onClick:y,disabled:!b,className:"rounded-xl bg-brand-700 text-white px-6 py-3 font-semibold disabled:opacity-50",children:"Continue"})]})]})]})}const ln=(e,t="h-5 w-5")=>r.jsx(e,{className:t,"aria-hidden":!0}),CEe={Funding:ln(Cd),"Job opportunities":ln(VA),"Job seekers":ln(Ja),Freelancers:ln(lx),Internship:ln(P4),"Services providers":ln(KA),Investors:ln(_ce),Grants:ln(Xle),"Tourist guide":ln(bde),Events:ln(hce),Scholarship:ln(P4),"Career guide":ln($ce),Networking:ln(Lde),Training:ln(Rde),"Mentorship/Coaching":ln(Qle),Franchising:ln(tce),"Expanding into a new market":ln(Bce),Partnership:ln(IH),Products:ln(ace),students:ln(P4),Professionals:ln(VA),"Social entrepreneurs/ NGOs":ln(sde),"Volunteer opportunity":ln(kEe),"Research/ project collaborators":ln(gde),"Services providers":ln(KA)};function kEe(e){return r.jsx("div",te({className:"h-4 w-6 rounded bg-gray-200"},e))}const EEe=(e,t,n=ln(fde))=>(e==null?void 0:e[t])||n;function LEe(){const e=Ht(),{saveGoals:t,refresh:n}=IL(),[s,a]=d.useState([]),[i,o]=d.useState([]);d.useEffect(()=>{pe(this,null,function*(){const{data:u}=yield Se.get("/public/goals");a(u||[])})},[]);function l(u){o(f=>f.includes(u)?f.filter(h=>h!==u):[...f,u])}function c(){return pe(this,null,function*(){i.length!==0&&(yield t(i),yield n(),e("/dashboard"))})}return s.length===0?r.jsx("div",{className:"min-h-screen grid place-items-center text-brand-700",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("svg",{className:"h-6 w-6 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),r.jsx("span",{children:"Loading"})]})}):r.jsxs("div",{className:"min-h-screen p-6 bg-brand-50/40",children:[r.jsxs("header",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-brand-100 text-brand-700 flex items-center justify-center",children:""}),r.jsx("h1",{className:"mt-4 text-3xl font-bold",children:"We need some information"}),r.jsx("p",{className:"text-gray-500",children:"Tell us what youre looking for."}),r.jsx("div",{className:"mt-4 h-2 bg-gray-200 rounded",children:r.jsx("div",{className:"h-2 rounded bg-brand-700",style:{width:"100%"}})})]}),r.jsxs("main",{className:"max-w-3xl mx-auto mt-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-soft p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"What Are You Looking For?"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"* Select the goals that interest you."}),r.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-3",children:s.map(u=>{const f=i.includes(u.id);return r.jsx("button",{onClick:()=>l(u.id),className:`rounded-xl border px-4 py-3 text-left hover:shadow-soft transition ${f?"border-brand-700 ring-2 ring-brand-500":"border-gray-200"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-brand-700",children:EEe(CEe,u.name)}),r.jsx("div",{className:"font-medium",children:u.name})]})},u.id)})})]}),r.jsxs("div",{className:"mt-6 flex justify-between",children:[r.jsx("button",{onClick:()=>e(-1),className:"rounded-xl border px-4 py-3",children:"Previous"}),r.jsx("button",{onClick:c,disabled:i.length===0,className:"rounded-xl bg-brand-700 text-white px-6 py-3 font-semibold disabled:opacity-50",children:"Save & Join"})]})]})]})}function Ka({buttons:e=[],selected:t=[],setSelected:n,from:s,buttonLabels:a={},loading:i}){const o=yr();Xt();const[l,c]=d.useState(!1),u=d.useRef(null),f=d.useRef(null),[h,g]=d.useState({});d.useEffect(()=>{function j(N){u.current&&!u.current.contains(N.target)&&f.current&&!f.current.contains(N.target)&&c(!1)}return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]),d.useEffect(()=>{if(l&&u.current){const j=u.current.getBoundingClientRect(),N=u.current.parentElement.parentElement.getBoundingClientRect(),L=j.left-N.left;L+224>N.width?g({right:0}):g({left:L})}},[l]);const m=0,p=e.slice(0,m),v=e.slice(m),b=v.some(j=>t.includes(j)),y=()=>{if(t.length===0)return"All Categories";if(t.length===1){const j=e.find(N=>t.includes(N));return a[j]||j}else return`${t.length} Selected`},x=j=>{j.stopPropagation(),n([]),o.setUpdateData(Math.random())},w=j=>{t.includes(j)?s=="people"||s=="jobs"||s=="products"||s=="services"?(n([]),o.setUpdateData(Math.random())):(n(t.filter(N=>N!=j)),o.setFiltersToClear([a[j]||j])):s=="people"||s=="jobs"||s=="products"||s=="services"?n([j]):n([...t,j])};return r.jsxs("div",{className:"relative w-full ",children:[r.jsxs("div",{className:"flex gap-2 sticky top-10 w-full rounded-sm whitespace-nowrap py-2 overflow-x-auto",children:[i?r.jsx("div",{className:"px-5 rounded-full py-1.5 mb-1 bg-gray-200 animate-pulse flex items-center justify-center gap-2 flex-shrink-0",style:{width:"120px",height:"28px"},children:r.jsx("div",{className:"bg-gray-300 rounded w-3/4 h-3"})}):p.map((j,N)=>r.jsx("button",{onClick:()=>w(j),className:`px-5 rounded-full py-1.5 mb-1 text-sm font-medium ${t.includes(j)?"text-brand-600 font-bold shadow-md active:bg-brand-800 bg-brand-50":"text-gray-700 hover:border-brand-300"} border border-gray-200 flex items-center justify-center gap-2 transition-all duration-200 hover:shadow-md flex-shrink-0`,children:r.jsx("span",{children:a[j]||j})},j)),v.length>0&&!i&&r.jsx("div",{className:"flex-shrink-0",ref:u,children:r.jsxs("button",{onClick:()=>c(!l),className:`px-5 rounded-full py-1.5 text-sm font-medium ${l||b?"text-brand-600 font-bold shadow-md active:bg-brand-800 bg-brand-50":"text-gray-700 hover:border-brand-300"} border border-gray-200 flex items-center justify-center gap-2 transition-all duration-200 hover:shadow-md`,children:[r.jsx("span",{children:y()}),t.length>0&&r.jsx("button",{onClick:x,className:"ml-1 hover:bg-gray-200 rounded-full p-0.5 transition-colors",title:"Clear selection",children:r.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),r.jsx("svg",{className:`h-4 w-4 transition-transform ${l?"rotate-180":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M6 9l6 6 6-6"})})]})})]}),l&&v.length>0&&r.jsx("div",{ref:f,className:"absolute top-full mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg p-2 z-30",style:h,children:r.jsx("div",{className:"max-h-[300px] gap-y-1 flex flex-col overflow-y-auto",children:v.map(j=>r.jsx("button",{onClick:()=>{w(j),c(!1)},className:`w-full text-left px-3 py-2 text-sm flex items-center gap-2 rounded-md ${t.includes(j)?"bg-brand-50 text-brand-700":"hover:bg-brand-50 hover:text-brand-700 text-gray-700"}`,children:r.jsx("span",{children:a[j]||j})},j))})})]})}function MEe(e,t=400){const[n,s]=d.useState(e),a=d.useRef();return d.useEffect(()=>{if(a.current&&clearTimeout(a.current),e===""){s(e);return}return a.current=setTimeout(()=>{s(e)},t),()=>{a.current&&clearTimeout(a.current)}},[e,t]),n}function IEe(){const[t,n]=d.useState("Posts");d.useMemo(()=>["Posts","Job Seeker","Job Offers"],[]);const s="jobs",[a,i]=d.useState([]),[o,l]=d.useState({});d.useEffect(()=>{pe(this,null,function*(){try{const{data:jt}=yield Se.get("/general-categories/tree?type=job");i(jt.generalCategories||[])}catch(jt){console.error("Failed to load general categories",jt)}})},[]);const c=Ht(),[u,f]=d.useState("list"),h=yr(),{user:g}=Xt(),[m,p]=d.useState(""),v=MEe(m,400),[b,y]=d.useState(),[x,w]=d.useState(),[j,N]=d.useState(),[L,k]=d.useState(),[E,S]=d.useState(),[I,C]=d.useState([]),[M,A]=d.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),H=d.useCallback(jt=>{if(!I.length)return null;for(const Zt of I)if(Zt.name===jt||Zt.name.toLowerCase()===jt.toLowerCase())return Zt.id;return null},[I]),[W,X]=d.useState(""),[J,Z]=d.useState(""),[F,D]=d.useState(""),[O,T]=d.useState(""),[R,z]=d.useState(""),[_,U]=d.useState(""),[Q,re]=d.useState(""),[le,ue]=d.useState(""),[ge,ke]=d.useState(""),[tt,He]=d.useState(""),[ze,rt]=d.useState(""),[Xe,V]=d.useState(""),[ne,Ce]=d.useState(""),[fe,xe]=d.useState(""),[se,ae]=d.useState(""),[G,Ne]=d.useState(""),[Be,dt]=d.useState(""),[nt,Te]=d.useState(""),[lt,_e]=d.useState(""),[be,Y]=d.useState(""),[ie,de]=d.useState(""),[$e,it]=d.useState(""),[gt,De]=d.useState(""),[Le,Ae]=d.useState([]),[Pe,Qe]=d.useState([]),[mt,Me]=d.useState([]),[Oe,We]=d.useState([]),[qe,vt]=d.useState(!1),[Ge,ot]=d.useState(0),[Mt,_t]=d.useState(0),[Ct,B]=d.useState(!1),ee=d.useRef(null),[q,K]=d.useState([]),[ce,ye]=d.useState([]),[Ze,ut]=d.useState(!1),[we,Ee]=d.useState(!1),[Ie,Ve]=d.useState(!0),[ht,ft]=d.useState(!1),ct=d.useRef(null);d.useRef(null);const xt=d.useRef(0),[ve,Fe]=d.useState([]),[et,Ye]=d.useState([]);d.useEffect(()=>{pe(this,null,function*(){try{const{data:jt}=yield Se.get("/feed/meta");Qe(jt.categories||[]),Me(jt.countries||[])}catch(jt){console.error("Failed to load meta:",jt)}})},[]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:jt}=yield Se.get("/public/identities",{params:{type:"individual"}});C(jt.identities||[])}catch(jt){console.error("Error loading identities:",jt),C([])}})},[]);const pt=d.useCallback(()=>pe(this,null,function*(){if(t==="Posts"&&!je.current){je.current=!0,vt(!0);try{const jt={tab:"jobs",q:v||void 0,country:b||void 0,city:x||void 0,categoryId:j||void 0,subcategoryId:L||void 0,goalId:E||void 0,audienceIdentityIds:Array.from(M.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(M.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(M.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(M.subsubCategoryIds).join(",")||void 0,industryIds:Le.length>0?Le.join(","):void 0,price:W||void 0,serviceType:J||void 0,priceType:F||void 0,deliveryTime:O||void 0,experienceLevel:R||void 0,locationType:_||void 0,jobType:Q||void 0,workMode:le||void 0,workLocation:ge||void 0,workSchedule:tt||void 0,careerLevel:ze||void 0,paymentType:Xe||void 0,jobsView:ne||void 0,postType:fe||void 0,season:se||void 0,budgetRange:G||void 0,fundingGoal:Be||void 0,amountRaised:nt||void 0,currency:lt||void 0,deadline:be||void 0,eventType:ie||void 0,date:$e||void 0,registrationType:gt||void 0,generalCategoryIds:ve.filter(br=>a.some(Xr=>Xr.id===br)).join(",")||void 0,generalSubcategoryIds:Object.keys(o).filter(br=>o[br]).join(",")||void 0,limit:10,offset:0},{data:Zt}=yield Se.get("/feed",{params:jt}),cr=Array.isArray(Zt.items)?Zt.items:[];We(cr),ot(typeof Zt.total=="number"?Zt.total:cr.length),Ve(typeof Zt.total=="number"?cr.length<Zt.total:cr.length===10),xt.current=cr.length,B(!1),ee.current&&(clearTimeout(ee.current),ee.current=null)}catch(jt){console.error("Failed to load feed:",jt),We([]),B(!0),ee.current&&clearTimeout(ee.current),ee.current=setTimeout(()=>{pt()},3e3)}finally{je.current=!1,vt(!1)}h._scrollToSection("top",!0)}}),[t,v,b,x,j,L,E,ve,M,W,J,F,O,R,_,Q,le,ge,tt,ze,Xe,ne,fe,se,G,Be,nt,lt,be,ie,$e,gt,Le,a,o]),Ke=d.useCallback(()=>pe(this,null,function*(){if(!(je.current||qe||ht||!Ie)){je.current=!0,ft(!0);try{const jt={tab:"jobs",q:v||void 0,country:b||void 0,city:x||void 0,categoryId:j||void 0,subcategoryId:L||void 0,goalId:E||void 0,audienceIdentityIds:Array.from(M.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(M.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(M.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(M.subsubCategoryIds).join(",")||void 0,industryIds:Le.length>0?Le.join(","):void 0,price:W||void 0,serviceType:J||void 0,priceType:F||void 0,deliveryTime:O||void 0,experienceLevel:R||void 0,locationType:_||void 0,jobType:Q||void 0,workMode:le||void 0,workLocation:ge||void 0,workSchedule:tt||void 0,careerLevel:ze||void 0,paymentType:Xe||void 0,jobsView:ne||void 0,postType:fe||void 0,season:se||void 0,budgetRange:G||void 0,fundingGoal:Be||void 0,amountRaised:nt||void 0,currency:lt||void 0,deadline:be||void 0,eventType:ie||void 0,date:$e||void 0,registrationType:gt||void 0,generalCategoryIds:ve.filter(br=>a.some(Xr=>Xr.id===br)).join(",")||void 0,generalSubcategoryIds:Object.keys(o).filter(br=>o[br]).join(",")||void 0,limit:10,offset:xt.current},{data:Zt}=yield Se.get("/feed",{params:jt}),cr=Array.isArray(Zt.items)?Zt.items:[];We(br=>[...br,...cr]),xt.current+=cr.length,Ve(cr.length===10),B(!1)}catch(jt){console.error("Failed to load more:",jt)}finally{je.current=!1,ft(!1)}}}),[t,v,b,x,j,L,E,ve,M,W,J,F,O,R,_,Q,le,ge,tt,ze,Xe,ne,fe,se,G,Be,nt,lt,be,ie,$e,gt,Le,a,o,Oe.length,qe,ht,Ie]),je=d.useRef(!1),st=d.useRef(!1),wt=d.useRef({}),Lt=d.useRef(null);d.useEffect(()=>{const jt={activeTab:t,debouncedQ:v,country:b,city:x,categoryId:j,subcategoryId:L,goalId:E,selectedFilters:ve,audienceSelections:{identityIds:Array.from(M.identityIds),categoryIds:Array.from(M.categoryIds),subcategoryIds:Array.from(M.subcategoryIds),subsubCategoryIds:Array.from(M.subsubCategoryIds)},price:W,serviceType:J,priceType:F,deliveryTime:O,experienceLevel:R,locationType:_,jobType:Q,workMode:le,workLocation:ge,workSchedule:tt,careerLevel:ze,paymentType:Xe,jobsView:ne,postType:fe,season:se,budgetRange:G,fundingGoal:Be,amountRaised:nt,currency:lt,deadline:be,eventType:ie,date:$e,registrationType:gt,selectedIndustries:Le,selectedSubcategories:o};JSON.stringify(jt)!==JSON.stringify(wt.current)&&(wt.current=jt,st.current?(clearTimeout(Lt.current),Lt.current=setTimeout(()=>{pt()},200)):(st.current=!0,pt()))},[t,v,b,x,j,L,E,ve,M,W,J,F,O,R,_,Q,le,ge,tt,ze,Xe,ne,fe,se,G,Be,nt,lt,be,ie,$e,gt,Le,ne,o,pt]),d.useEffect(()=>()=>{ee.current&&clearTimeout(ee.current)},[]),d.useEffect(()=>{if(ve.length>0&&I.length>0){const jt=ve.map(Zt=>H(Zt)).filter(Zt=>Zt!==null);A(Zt=>he(te({},Zt),{identityIds:new Set(jt)}))}else A(jt=>he(te({},jt),{identityIds:new Set}))},[ve,I,H]),d.useEffect(()=>{pe(this,null,function*(){ut(!0);try{const jt={q:v||void 0,country:b||void 0,city:x||void 0,categoryId:j||void 0,subcategoryId:L||void 0,goalId:E||void 0,industryIds:Le.length>0?Le.join(","):void 0,limit:40},{data:Zt}=yield Se.get("/feed/suggestions",{params:jt});K(Zt.matches||[]),ye(Zt.nearby||[])}catch(jt){console.error("Failed to load suggestions:",jt)}finally{ut(!1)}})},[v,b,x,j,L,E,Le]),d.useEffect(()=>{if(!ct.current||!Ie)return;const jt=ct.current,Zt=new IntersectionObserver(cr=>{const[br]=cr;br.isIntersecting&&Ke()},{root:null,rootMargin:"700px",threshold:0});return Zt.observe(jt),()=>Zt.disconnect()},[ct,Ie,Ke]);const hr={setShowTotalCount:_t,onSubcategoryChange:jt=>{l(jt)},query:m,setQuery:p,country:b,setCountry:y,city:x,setCity:w,categoryId:j,setCategoryId:N,subcategoryId:L,setSubcategoryId:k,goalId:E,setGoalId:S,price:W,setPrice:X,serviceType:J,setServiceType:Z,priceType:F,setPriceType:D,deliveryTime:O,setDeliveryTime:T,experienceLevel:R,setExperienceLevel:z,locationType:_,setLocationType:U,jobType:Q,setJobType:re,workMode:le,setWorkMode:ue,workLocation:ge,setWorkLocation:ke,workSchedule:tt,setWorkSchedule:He,careerLevel:ze,setCareerLevel:rt,paymentType:Xe,setPaymentType:V,jobsView:ne,setJobsView:Ce,postType:fe,setPostType:xe,season:se,setSeason:ae,budgetRange:G,setBudgetRange:Ne,fundingGoal:Be,setFundingGoal:dt,amountRaised:nt,setAmountRaised:Te,currency:lt,setCurrency:_e,deadline:be,setDeadline:Y,eventType:ie,setEventType:de,date:$e,setDate:it,registrationType:gt,setRegistrationType:De,categories:Pe,countries:mt,audienceSelections:M,setAudienceSelections:A,audienceTree:I,selectedIndustries:Le,setSelectedIndustries:Ae,onApply:()=>Ee(!1)},[Dt,er]=d.useState({});d.useEffect(()=>{const jt={};a.forEach(Zt=>{jt[Zt.id]=Zt.name}),er(jt),Ye(a.map(Zt=>Zt.id))},[a]);const tr=()=>t!=="Posts"?r.jsxs("div",{className:"rounded-xl border bg-white p-6 text-sm text-gray-600",children:[t," tab uses its own API route. Render the specific list here."]}):Ct?r.jsx(hl,{onRetry:()=>{B(!1),ee.current&&clearTimeout(ee.current),ee.current=null,pt()},message:"Failed to load feed. Trying to connect...",buttonText:"Try Again"}):r.jsxs(r.Fragment,{children:[qe&&r.jsx("div",{className:"min-h-[160px] grid  text-gray-600",children:r.jsx(Rd,{columns:1})}),!qe&&Mt&&r.jsxs("div",{className:"text-sm text-gray-600",children:[Ge," result",Ge===1?"":"s"]}),!qe&&Oe.length===0&&r.jsx(Dd,{activeTab:"All"}),!qe&&r.jsx("div",{className:`grid grid-cols-1 ${u==="list"?"sm:grid-cols-1":"lg:grid-cols-3"} gap-6`,children:Oe==null?void 0:Oe.map(jt=>{var Zt,cr,br,Xr,on,gr,pa,Dn;return jt.kind==="job"?r.jsx(Od,{type:u,job:jt,matchPercentage:jt.matchPercentage},`job-${jt.id}`):jt.kind==="need"?r.jsx(ec,{type:u,matchPercentage:jt.matchPercentage,need:he(te({},jt),{categoryName:(Zt=Pe.find(qr=>String(qr.id)===String(jt.categoryId)))==null?void 0:Zt.name,subcategoryName:(Xr=(br=(cr=Pe.find(qr=>String(qr.id)===String(jt.categoryId)))==null?void 0:cr.subcategories)==null?void 0:br.find(qr=>String(qr.id)===String(jt.subcategoryId)))==null?void 0:Xr.name})},`need-${jt.id}`):jt.kind==="moment"?r.jsx(tc,{type:u,matchPercentage:jt.matchPercentage,moment:he(te({},jt),{categoryName:(on=Pe.find(qr=>String(qr.id)===String(jt.categoryId)))==null?void 0:on.name,subcategoryName:(Dn=(pa=(gr=Pe.find(qr=>String(qr.id)===String(jt.categoryId)))==null?void 0:gr.subcategories)==null?void 0:pa.find(qr=>String(qr.id)===String(jt.subcategoryId)))==null?void 0:Dn.name})},`moment-${jt.id}`):null})}),!qe&&Ie&&r.jsx("div",{ref:ct,className:"h-10 w-full",children:ht&&r.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Loading more"})})]});return r.jsxs(ei,{children:[r.jsx(an,{}),r.jsxs("main",{className:`mx-auto ${h._openPopUps.profile?"relative z-50":""} max-w-7xl px-4 sm:px-6 lg:px-8 py-6 grid lg:grid-cols-12 gap-6`,children:[r.jsx(Ed,{onClick:()=>Ee(!0)}),r.jsxs("aside",{className:"lg:col-span-3 hidden lg:flex flex-col space-y-4 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto pr-1",children:[r.jsx("div",{className:"_sticky top-0 z-10 _bg-white",children:r.jsx(Kl,he(te({selectedFilters:ve,setSelectedFilters:Fe,generalTree:a},hr),{from:"jobs",catComponent:r.jsx(Ka,{selected:ve,setSelected:Fe,buttons:et,buttonLabels:Dt,from:s,loading:qe})}))}),r.jsx(sf,{title:"Quick Actions",items:[{label:"Edit Profile",Icon:hd,onClick:()=>c("/profile")},{label:"Highlight a career progress",Icon:Cn,onClick:()=>c("/moment/job/create"),hide:(g==null?void 0:g.accountType)=="company"},{label:"Find Jobs",Icon:Cn,onClick:()=>c("/need/job/create"),hide:(g==null?void 0:g.accountType)=="company"},{label:"Share a Job Opening",Icon:Cn,onClick:()=>c("/jobs/create"),hide:(g==null?void 0:g.accountType)=="individual"}]}),r.jsx(af,{})]}),r.jsxs("div",{className:"lg:col-span-9 grid lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx("div",{className:"flex items-center flex-wrap w-full justify-between mb-4",children:r.jsx(Xu,{from:"job",typeOfPosts:[{label:"Share a Job Opening",Icon:ix,hide:(g==null?void 0:g.accountType)=="individual",type:"main"},{label:"Find Jobs",Icon:Ja,hide:(g==null?void 0:g.accountType)=="company"},{label:(g==null?void 0:g.accountType)=="company"?"Share an experience":"Highlight a career progress",Icon:Ku}]})}),r.jsx("section",{className:"space-y-4 overflow-hidden",children:tr()})]}),r.jsx("aside",{className:"lg:col-span-1 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto",children:r.jsx(Pd,{loading:Ze,matches:q,nearby:ce})})]})]}),r.jsx(Ld,he(te({isOpen:we,onClose:()=>Ee(!1),selectedFilters:ve,setSelectedFilters:Fe,generalTree:a},hr),{from:"jobs",catComponent:r.jsx(Ka,{selected:ve,setSelected:Fe,buttons:et,buttonLabels:Dt,from:s,loading:qe})}))]})}function TEe(e,t=400){const[n,s]=d.useState(e);return d.useEffect(()=>{const a=setTimeout(()=>s(e),t);return()=>clearTimeout(a)},[e,t]),n}function AEe(){const[e,t]=d.useState("Suggested for You");d.useMemo(()=>["Suggested for You","Events to Attend"],[]);const n=Ht(),s=yr(),{user:a}=Xt(),i=10,[o,l]=d.useState(""),c=TEe(o,400),[u,f]=d.useState(),[h,g]=d.useState(),[m,p]=d.useState(),[v,b]=d.useState(),[y,x]=d.useState(),[w,j]=d.useState(),[N,L]=d.useState("list"),k="events",[E,S]=d.useState([]),[I,C]=d.useState({}),[M,A]=d.useState("");d.useEffect(()=>{pe(this,null,function*(){try{const{data:Dt}=yield Se.get("/general-categories/tree?type=event");S(Dt.generalCategories||[])}catch(Dt){console.error("Failed to load general categories",Dt)}})},[]);const[H,W]=d.useState([]),[X,J]=d.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[Z,F]=d.useState(""),[D,O]=d.useState(""),[T,R]=d.useState(""),[z,_]=d.useState(""),[U,Q]=d.useState(""),[re,le]=d.useState(""),[ue,ge]=d.useState(""),[ke,tt]=d.useState(""),[He,ze]=d.useState(""),[rt,Xe]=d.useState(""),[V,ne]=d.useState(""),[Ce,fe]=d.useState(""),[xe,se]=d.useState(""),[ae,G]=d.useState(""),[Ne,Be]=d.useState(""),[dt,nt]=d.useState(""),[Te,lt]=d.useState(""),[_e,be]=d.useState(""),[Y,ie]=d.useState([]),[de,$e]=d.useState([]),[it,gt]=d.useState([]),[De,Le]=d.useState([]),[Ae,Pe]=d.useState([]),[Qe,mt]=d.useState(!1),[Me,Oe]=d.useState(0),[We,qe]=d.useState(0),[vt,Ge]=d.useState([]),[ot,Mt]=d.useState([]),[_t,Ct]=d.useState(!1),B=d.useRef(null),[ee,q]=d.useState([]),[K,ce]=d.useState([]),[ye,Ze]=d.useState(!1),[ut,we]=d.useState(!1),[Ee,Ie]=d.useState(!0),[Ve,ht]=d.useState(!1),ft=d.useRef(null);d.useRef(null);const ct=d.useRef(0),xt=d.useRef(null),ve=d.useRef(0),Fe=d.useRef(!1),et=d.useRef(!1),Ye=d.useRef({}),pt=d.useRef(null);d.useEffect(()=>{pe(this,null,function*(){try{const{data:Dt}=yield Se.get("/feed/meta");$e(Dt.categories||[]),gt(Dt.countries||[]),Le(Dt.goals||[])}catch(Dt){console.error("Failed to load meta:",Dt)}})},[]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:Dt}=yield Se.get("/public/identities");W(Dt.identities)}catch(Dt){console.error("Error loading identities:",Dt)}})},[]);const Ke=d.useCallback(()=>pe(this,null,function*(){if(e!=="Suggested for You")return;xt.current&&xt.current.abort(),xt.current=new AbortController;const Dt=Date.now();ve.current=Dt,Fe.current&&console.log("Canceling previous request"),Fe.current=!0,mt(!0);try{const er={tab:"events",q:c||void 0,country:u||void 0,city:h||void 0,categoryId:m||void 0,subcategoryId:v||void 0,goalId:y||void 0,role:w||void 0,price:Z||void 0,serviceType:D||void 0,priceType:T||void 0,deliveryTime:z||void 0,experienceLevel:U||void 0,locationType:re||void 0,jobType:ue||void 0,workMode:ke||void 0,postType:He||void 0,season:rt||void 0,budgetRange:V||void 0,fundingGoal:Ce||void 0,amountRaised:xe||void 0,currency:ae||void 0,deadline:Ne||void 0,eventType:dt||void 0,date:Te||void 0,registrationType:_e||void 0,eventsView:M||void 0,generalCategoryIds:vt.filter(jt=>E.some(Zt=>Zt.id===jt)).join(",")||void 0,generalSubcategoryIds:Object.keys(I).filter(jt=>I[jt]).join(",")||void 0,audienceIdentityIds:Array.from(X.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(X.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(X.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(X.subsubCategoryIds).join(",")||void 0,industryIds:Y.length>0?Y.join(","):void 0,limit:i,offset:0},{data:tr}=yield Se.get("/feed",{params:er,signal:xt.current.signal});if(Dt===ve.current){const jt=Array.isArray(tr.items)?tr.items:[];Pe(jt),Oe(typeof tr.total=="number"?tr.total:jt.length),Ie(typeof tr.total=="number"?jt.length<tr.total:jt.length===i),ct.current=jt.length,Ct(!1),B.current&&(clearTimeout(B.current),B.current=null)}}catch(er){if(er.name==="AbortError"){console.log("Request was canceled");return}console.error("Failed to load feed:",er),Dt===ve.current&&(Pe([]),Ct(!0),B.current&&clearTimeout(B.current),B.current=setTimeout(()=>{Ke()},3e3))}finally{Dt===ve.current&&(Fe.current=!1,mt(!1),xt.current=null)}Dt===ve.current&&setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)}),[e,c,u,h,m,v,y,w,X,M,Z,D,T,z,U,re,ue,ke,He,rt,V,Ce,xe,ae,Ne,dt,Te,_e,I,vt,Y,E,s]),je=d.useCallback(()=>pe(this,null,function*(){if(!(Fe.current||Qe||Ve||!Ee)){Fe.current=!0,ht(!0);try{const Dt={tab:"events",q:c||void 0,country:u||void 0,city:h||void 0,categoryId:m||void 0,subcategoryId:v||void 0,goalId:y||void 0,role:w||void 0,price:Z||void 0,serviceType:D||void 0,priceType:T||void 0,deliveryTime:z||void 0,experienceLevel:U||void 0,locationType:re||void 0,jobType:ue||void 0,workMode:ke||void 0,postType:He||void 0,season:rt||void 0,budgetRange:V||void 0,fundingGoal:Ce||void 0,amountRaised:xe||void 0,currency:ae||void 0,deadline:Ne||void 0,eventType:dt||void 0,date:Te||void 0,registrationType:_e||void 0,eventsView:M||void 0,generalCategoryIds:vt.filter(jt=>E.some(Zt=>Zt.id===jt)).join(",")||void 0,generalSubcategoryIds:Object.keys(I).filter(jt=>I[jt]).join(",")||void 0,audienceIdentityIds:Array.from(X.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(X.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(X.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(X.subsubCategoryIds).join(",")||void 0,industryIds:Y.length>0?Y.join(","):void 0,limit:i,offset:ct.current},{data:er}=yield Se.get("/feed",{params:Dt}),tr=Array.isArray(er.items)?er.items:[];Pe(jt=>[...jt,...tr]),ct.current+=tr.length,Ie(tr.length===i),Ct(!1)}catch(Dt){console.error("Failed to load more:",Dt)}finally{Fe.current=!1,ht(!1)}}}),[e,c,u,h,m,v,y,w,X,M,Z,D,T,z,U,re,ue,ke,He,rt,V,Ce,xe,ae,Ne,dt,Te,_e,I,vt,Y,E,Ae.length,Qe,Ve,Ee]);d.useEffect(()=>{const Dt=JSON.stringify({activeTab:e,debouncedQ:c,country:u,city:h,categoryId:m,subcategoryId:v,goalId:y,role:w,audienceSelections:{identityIds:[...X.identityIds].sort(),categoryIds:[...X.categoryIds].sort(),subcategoryIds:[...X.subcategoryIds].sort(),subsubCategoryIds:[...X.subsubCategoryIds].sort()},price:Z,serviceType:D,priceType:T,deliveryTime:z,experienceLevel:U,locationType:re,jobType:ue,workMode:ke,postType:He,season:rt,budgetRange:V,fundingGoal:Ce,amountRaised:xe,currency:ae,deadline:Ne,eventType:dt,eventsView:M,date:Te,registrationType:_e,selectedFilters:[...vt].sort(),selectedIndustries:[...Y].sort(),selectedSubcategories:JSON.stringify(I)});if(Dt!==Ye.current)return Ye.current=Dt,pt.current&&clearTimeout(pt.current),xt.current&&xt.current.abort(),et.current?pt.current=setTimeout(()=>{Ke()},300):(et.current=!0,Ke()),()=>{pt.current&&clearTimeout(pt.current),B.current&&clearTimeout(B.current)}},[e,c,u,h,m,v,y,w,X,Z,D,T,z,U,re,ue,ke,He,rt,V,Ce,xe,ae,Ne,dt,Te,_e,vt,Y,I,Ke]),d.useEffect(()=>{pe(this,null,function*(){Ze(!0);try{const Dt={q:c||void 0,country:u||void 0,city:h||void 0,categoryId:m||void 0,subcategoryId:v||void 0,goalId:y||void 0,role:w||void 0,industryIds:Y.length>0?Y.join(","):void 0,limit:40},{data:er}=yield Se.get("/feed/suggestions",{params:Dt});q(er.matches||[]),ce(er.nearby||[])}catch(Dt){console.error("Failed to load suggestions:",Dt)}finally{Ze(!1)}})},[c,u,h,m,v,y,w,Y]),d.useEffect(()=>{if(!ft.current||!Ee)return;const Dt=ft.current,er=new IntersectionObserver(tr=>{const[jt]=tr;jt.isIntersecting&&je()},{root:null,rootMargin:"700px",threshold:0});return er.observe(Dt),()=>er.disconnect()},[ft,Ee,je]);const wt={setShowTotalCount:qe,audienceSelections:X,setAudienceSelections:J,audienceTree:H,generalTree:E,selectedFilters:vt,setSelectedFilters:Ge,onSubcategoryChange:Dt=>{C(Dt)},query:o,setQuery:l,country:u,setCountry:f,city:h,setCity:g,categoryId:m,setCategoryId:p,subcategoryId:v,setSubcategoryId:b,goalId:y,goals:De,role:w,setRole:j,setGoalId:x,categories:de,countries:it,price:Z,setPrice:F,serviceType:D,setServiceType:O,priceType:T,setPriceType:R,deliveryTime:z,setDeliveryTime:_,eventsView:M,setEventsView:A,experienceLevel:U,setExperienceLevel:Q,locationType:re,setLocationType:le,jobType:ue,setJobType:ge,workMode:ke,setWorkMode:tt,postType:He,setPostType:ze,season:rt,setSeason:Xe,budgetRange:V,setBudgetRange:ne,fundingGoal:Ce,setFundingGoal:fe,amountRaised:xe,setAmountRaised:se,currency:ae,setCurrency:G,deadline:Ne,setDeadline:Be,eventType:dt,setEventType:nt,date:Te,setDate:lt,registrationType:_e,setRegistrationType:be,selectedIndustries:Y,setSelectedIndustries:ie,onApply:()=>we(!1)},[Lt,Wt]=d.useState({});d.useEffect(()=>{const Dt={};E.forEach(er=>{Dt[er.id]=er.name}),Wt(Dt),Mt(E.map(er=>er.id))},[E]);const hr=()=>e!=="Suggested for You"?r.jsxs("div",{className:"rounded-xl border bg-white p-6 text-sm text-gray-600",children:[e," tab uses its own API route. Render the specific list here."]}):_t?r.jsx(hl,{onRetry:()=>{Ct(!1),B.current&&clearTimeout(B.current),B.current=null,Ke()},message:"Failed to load feed. Trying to connect...",buttonText:"Try Again"}):r.jsxs(r.Fragment,{children:[Qe&&r.jsx("div",{className:"min-h-[160px] grid text-gray-600",children:r.jsx(Rd,{columns:1})}),!Qe&&We&&r.jsxs("div",{className:"text-sm text-gray-600",children:[Me," result",Me===1?"":"s"]}),!Qe&&Ae.length===0&&r.jsx(Dd,{activeTab:"All"}),!Qe&&r.jsx("div",{className:`grid grid-cols-1 ${N==="list"?"sm:grid-cols-1":"lg:grid-cols-3"} gap-6`,children:Ae==null?void 0:Ae.map(Dt=>{var er,tr,jt,Zt,cr,br,Xr,on;return Dt.kind==="event"?r.jsx(nf,{type:N,matchPercentage:Dt.matchPercentage,e:Dt},`event-${Dt.id}`):Dt.kind==="need"?r.jsx(ec,{type:N,matchPercentage:Dt.matchPercentage,need:he(te({},Dt),{categoryName:(er=de.find(gr=>String(gr.id)===String(Dt.categoryId)))==null?void 0:er.name,subcategoryName:(Zt=(jt=(tr=de.find(gr=>String(gr.id)===String(Dt.categoryId)))==null?void 0:tr.subcategories)==null?void 0:jt.find(gr=>String(gr.id)===String(Dt.subcategoryId)))==null?void 0:Zt.name})},`need-${Dt.id}`):Dt.kind==="moment"?r.jsx(tc,{type:N,matchPercentage:Dt.matchPercentage,moment:he(te({},Dt),{categoryName:(cr=de.find(gr=>String(gr.id)===String(Dt.categoryId)))==null?void 0:cr.name,subcategoryName:(on=(Xr=(br=de.find(gr=>String(gr.id)===String(Dt.categoryId)))==null?void 0:br.subcategories)==null?void 0:Xr.find(gr=>String(gr.id)===String(Dt.subcategoryId)))==null?void 0:on.name})},`moment-${Dt.id}`):Dt.kind==="job"?r.jsx(Od,{job:Dt},`job-${Dt.id}`):null})}),!Qe&&Ee&&r.jsx("div",{ref:ft,className:"h-10 w-full",children:Ve&&r.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Loading more"})})]});return r.jsxs(ei,{children:[r.jsx(an,{}),r.jsxs("main",{className:`mx-auto ${s._openPopUps.profile?"relative z-50":""} max-w-7xl px-4 sm:px-6 lg:px-8 py-6 grid lg:grid-cols-12 gap-6`,children:[r.jsx(Ed,{onClick:()=>we(!0)}),r.jsxs("aside",{className:"lg:col-span-3 hidden lg:flex flex-col space-y-4 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto pr-1",children:[r.jsx("div",{className:"_sticky top-0 z-10 _bg-white",children:r.jsx(Kl,he(te({selectedFilters:vt,setSelectedFilters:Ge,generalTree:E},wt),{from:"events",catComponent:r.jsx(Ka,{selected:vt,setSelected:Ge,buttons:ot,buttonLabels:Lt,from:k,loading:Qe})}))}),r.jsx(sf,{title:"Quick Actions",items:[{label:"Edit Profile",Icon:hd,onClick:()=>n("/profile")},{label:"Host an Event",Icon:Cn,onClick:()=>n("/events/create"),hide:(a==null?void 0:a.accountType)=="individual"},{label:"Highlight an event",Icon:Cn,onClick:()=>n("/moment/event/create"),hide:(a==null?void 0:a.accountType)=="company"},{label:"Find events",Icon:Cn,onClick:()=>n("/need/event/create"),hide:(a==null?void 0:a.accountType)=="company"}]}),r.jsx(af,{})]}),r.jsxs("div",{className:"lg:col-span-9 grid lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx("div",{className:"flex items-center flex-wrap w-full justify-between mb-4",children:r.jsx(Xu,{from:"event",typeOfPosts:[{label:"Host an Event",Icon:kH,hide:(a==null?void 0:a.accountType)==="individual",type:"main"},{label:"Find events",Icon:Ja,hide:(a==null?void 0:a.accountType)==="company"},{label:"Highlight an event",Icon:Ku}]})}),r.jsx("section",{className:"space-y-4 overflow-hidden",children:hr()})]}),r.jsx("aside",{className:"lg:col-span-1 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto",children:r.jsx(Pd,{loading:ye,matches:ee,nearby:K})})]})]}),r.jsx(Ld,he(te({isOpen:ut,onClose:()=>we(!1),selectedFilters:vt,setSelectedFilters:Ge,generalTree:E},wt),{from:"events",catComponent:r.jsx(Ka,{selected:vt,setSelected:Ge,buttons:ot,buttonLabels:Lt,from:k,loading:Qe})}))]})}function _Ee(e,t=400){const[n,s]=d.useState(e);return d.useEffect(()=>{const a=setTimeout(()=>s(e),t);return()=>clearTimeout(a)},[e,t]),n}function OEe(){const[t,n]=d.useState("Suggested for You");d.useMemo(()=>["Suggested for You","Events to Attend"],[]);const s=Ht(),a=yr(),{user:i}=Xt(),[o,l]=d.useState("list"),c="tourism",[u,f]=d.useState(""),h=_Ee(u,400),[g,m]=d.useState(),[p,v]=d.useState(),[b,y]=d.useState(),[x,w]=d.useState(),[j,N]=d.useState(),[L,k]=d.useState(),[E,S]=d.useState(""),[I,C]=d.useState([]),[M,A]=d.useState({}),[H,W]=d.useState([]),[X,J]=d.useState([]);d.useEffect(()=>{pe(this,null,function*(){try{const{data:je}=yield Se.get("/general-categories/tree?type=tourism");C(je.generalCategories||[])}catch(je){console.error("Failed to load general categories",je)}})},[]);const[Z,F]=d.useState([]),[D,O]=d.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[T,R]=d.useState(""),[z,_]=d.useState(""),[U,Q]=d.useState(""),[re,le]=d.useState(""),[ue,ge]=d.useState(""),[ke,tt]=d.useState(""),[He,ze]=d.useState(""),[rt,Xe]=d.useState(""),[V,ne]=d.useState(""),[Ce,fe]=d.useState(""),[xe,se]=d.useState(""),[ae,G]=d.useState(""),[Ne,Be]=d.useState(""),[dt,nt]=d.useState(""),[Te,lt]=d.useState(""),[_e,be]=d.useState(""),[Y,ie]=d.useState(""),[de,$e]=d.useState("Free"),[it,gt]=d.useState([]),[De,Le]=d.useState([]),[Ae,Pe]=d.useState([]),[Qe,mt]=d.useState([]),[Me,Oe]=d.useState([]),[We,qe]=d.useState(!1),[vt,Ge]=d.useState(0),[ot,Mt]=d.useState(0),[_t,Ct]=d.useState(!1),B=d.useRef(null),[ee,q]=d.useState([]),[K,ce]=d.useState([]),[ye,Ze]=d.useState(!1),[ut,we]=d.useState(!1),[Ee,Ie]=d.useState(!0),[Ve,ht]=d.useState(!1),ft=d.useRef(null);d.useRef(null);const ct=d.useRef(0);d.useEffect(()=>{pe(this,null,function*(){try{const{data:je}=yield Se.get("/feed/meta");Le(je.categories||[]),Pe(je.countries||[]),mt(je.goals||[])}catch(je){console.error("Failed to load meta:",je)}})},[]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:je}=yield Se.get("/public/identities");F(je.identities)}catch(je){console.error("Error loading identities:",je)}})},[]);const xt=d.useCallback(()=>pe(this,null,function*(){if(t==="Suggested for You"){qe(!0);try{const je={tab:"tourism",q:h||void 0,country:g||void 0,tourismView:E||void 0,city:p||void 0,categoryId:b||void 0,subcategoryId:x||void 0,goalId:j||void 0,role:L||void 0,price:T||void 0,serviceType:z||void 0,priceType:U||void 0,deliveryTime:re||void 0,experienceLevel:ue||void 0,locationType:ke||void 0,jobType:He||void 0,workMode:rt||void 0,postType:V||void 0,season:Ce||void 0,budgetRange:xe||void 0,fundingGoal:ae||void 0,amountRaised:Ne||void 0,currency:dt||void 0,deadline:Te||void 0,eventType:_e||void 0,date:Y||void 0,registrationType:de||void 0,generalCategoryIds:H.filter(Lt=>I.some(Wt=>Wt.id===Lt)).join(",")||void 0,generalSubcategoryIds:Object.keys(M).filter(Lt=>M[Lt]).join(",")||void 0,audienceIdentityIds:Array.from(D.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(D.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(D.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(D.subsubCategoryIds).join(",")||void 0,industryIds:it.length>0?it.join(","):void 0,limit:10,offset:0},{data:st}=yield Se.get("/feed",{params:je}),wt=Array.isArray(st.items)?st.items:[];Oe(wt),Ge(typeof st.total=="number"?st.total:wt.length),Ie(typeof st.total=="number"?wt.length<st.total:wt.length===10),ct.current=wt.length,Ct(!1),B.current&&(clearTimeout(B.current),B.current=null)}catch(je){console.error("Failed to load feed:",je),Oe([]),Ct(!0),B.current&&clearTimeout(B.current),B.current=setTimeout(()=>{xt()},3e3)}finally{qe(!1)}setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)}}),[t,h,g,p,b,x,j,L,E,D,T,z,U,re,ue,ke,He,rt,V,Ce,xe,ae,Ne,dt,Te,_e,Y,de,M,H,it,I,a]),ve=d.useCallback(()=>pe(this,null,function*(){if(!(isFetchingRef.current||We||Ve||!Ee)){isFetchingRef.current=!0,ht(!0);try{const je={tab:"tourism",q:h||void 0,country:g||void 0,tourismView:E||void 0,city:p||void 0,categoryId:b||void 0,subcategoryId:x||void 0,goalId:j||void 0,role:L||void 0,price:T||void 0,serviceType:z||void 0,priceType:U||void 0,deliveryTime:re||void 0,experienceLevel:ue||void 0,locationType:ke||void 0,jobType:He||void 0,workMode:rt||void 0,postType:V||void 0,season:Ce||void 0,budgetRange:xe||void 0,fundingGoal:ae||void 0,amountRaised:Ne||void 0,currency:dt||void 0,deadline:Te||void 0,eventType:_e||void 0,date:Y||void 0,registrationType:de||void 0,generalCategoryIds:H.filter(Lt=>I.some(Wt=>Wt.id===Lt)).join(",")||void 0,generalSubcategoryIds:Object.keys(M).filter(Lt=>M[Lt]).join(",")||void 0,audienceIdentityIds:Array.from(D.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(D.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(D.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(D.subsubCategoryIds).join(",")||void 0,industryIds:it.length>0?it.join(","):void 0,limit:10,offset:ct.current},{data:st}=yield Se.get("/feed",{params:je}),wt=Array.isArray(st.items)?st.items:[];Oe(Lt=>[...Lt,...wt]),ct.current+=wt.length,Ie(wt.length===10),Ct(!1)}catch(je){console.error("Failed to load more:",je)}finally{isFetchingRef.current=!1,ht(!1)}}}),[t,h,g,p,b,x,j,L,D,E,T,z,U,re,ue,ke,He,rt,V,Ce,xe,ae,Ne,dt,Te,_e,Y,de,M,H,it,I,Me.length,We,Ve,Ee]);d.useEffect(()=>{xt()},[xt]),d.useEffect(()=>{pe(this,null,function*(){Ze(!0);try{const je={q:h||void 0,country:g||void 0,city:p||void 0,categoryId:b||void 0,subcategoryId:x||void 0,goalId:j||void 0,role:L||void 0,industryIds:it.length>0?it.join(","):void 0,limit:10},{data:st}=yield Se.get("/feed/suggestions",{params:je});q(st.matches||[]),ce(st.nearby||[])}catch(je){console.error("Failed to load suggestions:",je)}finally{Ze(!1)}})},[h,g,p,b,x,j,L,it]),d.useEffect(()=>{if(!ft.current||!Ee)return;const je=ft.current,st=new IntersectionObserver(wt=>{const[Lt]=wt;Lt.isIntersecting&&ve()},{root:null,rootMargin:"700px",threshold:0});return st.observe(je),()=>st.disconnect()},[ft,Ee,ve]);const Fe=je=>{A(je)},[et,Ye]=d.useState({});d.useEffect(()=>{const je={};I.forEach(st=>{je[st.id]=st.name}),Ye(je),J(I.map(st=>st.id))},[I]);const pt={setShowTotalCount:Mt,audienceSelections:D,setAudienceSelections:O,audienceTree:Z,generalTree:I,selectedFilters:H,setSelectedFilters:W,onSubcategoryChange:Fe,query:u,setQuery:f,tourismView:E,setTourismView:S,country:g,setCountry:m,city:p,setCity:v,categoryId:b,setCategoryId:y,subcategoryId:x,setSubcategoryId:w,goalId:j,goals:Qe,role:L,setRole:k,setGoalId:N,price:T,setPrice:R,serviceType:z,setServiceType:_,priceType:U,setPriceType:Q,deliveryTime:re,setDeliveryTime:le,experienceLevel:ue,setExperienceLevel:ge,locationType:ke,setLocationType:tt,jobType:He,setJobType:ze,workMode:rt,setWorkMode:Xe,postType:V,setPostType:ne,season:Ce,setSeason:fe,budgetRange:xe,setBudgetRange:se,fundingGoal:ae,setFundingGoal:G,amountRaised:Ne,setAmountRaised:Be,currency:dt,setCurrency:nt,deadline:Te,setDeadline:lt,eventType:_e,setEventType:be,date:Y,setDate:ie,registrationType:de,setRegistrationType:$e,selectedIndustries:it,setSelectedIndustries:gt,categories:De,countries:Ae,onApply:()=>we(!1)},Ke=()=>t!=="Suggested for You"?r.jsxs("div",{className:"rounded-xl border bg-white p-6 text-sm text-gray-600",children:[t," tab uses its own API route. Render the specific list here."]}):_t?r.jsx(hl,{onRetry:()=>{Ct(!1),B.current&&clearTimeout(B.current),B.current=null,xt()},message:"Failed to load feed. Trying to connect...",buttonText:"Try Again"}):r.jsxs(r.Fragment,{children:[We&&r.jsx("div",{className:"min-h-[160px] grid text-gray-600",children:r.jsx(Rd,{columns:1})}),!We&&ot&&r.jsxs("div",{className:"text-sm text-gray-600",children:[vt," result",vt===1?"":"s"]}),!We&&Me.length===0&&r.jsx(Dd,{activeTab:"All"}),r.jsx("div",{className:`grid grid-cols-1 ${o==="list"?"sm:grid-cols-1":"lg:grid-cols-3"} gap-6`,children:!We&&Me.map(je=>{var st,wt,Lt,Wt,hr,Dt,er,tr;return je.kind==="tourism"?r.jsx(gw,{matchPercentage:je.matchPercentage,type:o,item:je},je.id):je.kind==="need"?r.jsx(ec,{type:o,matchPercentage:je.matchPercentage,need:he(te({},je),{categoryName:(st=De.find(jt=>String(jt.id)===String(je.categoryId)))==null?void 0:st.name,subcategoryName:(Wt=(Lt=(wt=De.find(jt=>String(jt.id)===String(je.categoryId)))==null?void 0:wt.subcategories)==null?void 0:Lt.find(jt=>String(jt.id)===String(je.subcategoryId)))==null?void 0:Wt.name})},`need-${je.id}`):je.kind==="moment"?r.jsx(tc,{type:o,matchPercentage:je.matchPercentage,moment:he(te({},je),{categoryName:(hr=De.find(jt=>String(jt.id)===String(je.categoryId)))==null?void 0:hr.name,subcategoryName:(tr=(er=(Dt=De.find(jt=>String(jt.id)===String(je.categoryId)))==null?void 0:Dt.subcategories)==null?void 0:er.find(jt=>String(jt.id)===String(je.subcategoryId)))==null?void 0:tr.name})},`moment-${je.id}`):je.kind==="job"?r.jsx(Od,{job:je},`job-${je.id}`):je.kind==="event"?r.jsx(nf,{e:je},`event-${je.id}`):null})}),!We&&Ee&&r.jsx("div",{ref:ft,className:"h-10 w-full",children:Ve&&r.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Loading more"})})]});return r.jsxs(ei,{children:[r.jsx(an,{}),r.jsxs("main",{className:`mx-auto ${a._openPopUps.profile?"relative z-50":""} max-w-7xl px-4 sm:px-6 lg:px-8 py-6 grid lg:grid-cols-12 gap-6`,children:[r.jsx(Ed,{onClick:()=>we(!0)}),r.jsxs("aside",{className:"lg:col-span-3 hidden lg:flex flex-col space-y-4 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto pr-1",children:[r.jsx("div",{className:"_sticky top-0 z-10 _bg-white",children:r.jsx(Kl,he(te({selectedFilters:H,setSelectedFilters:W,generalTree:I},pt),{from:"tourism",catComponent:r.jsx(Ka,{selected:H,setSelected:W,buttons:X,buttonLabels:et,from:c,loading:We})}))}),r.jsx(sf,{title:"Quick Actions",items:[{label:"Edit Profile",Icon:hd,path:"/profile",hide:(i==null?void 0:i.accountType)=="individual"},{label:"Share a tourism activity",Icon:Cn,onClick:()=>s("/experiences/create"),hide:(i==null?void 0:i.accountType)=="company"},{label:"Search for tourism activities",Icon:Cn,onClick:()=>s("/need/tourism/create"),hide:(i==null?void 0:i.accountType)=="company"}]}),r.jsx(af,{})]}),r.jsxs("div",{className:"lg:col-span-9 grid lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx("div",{className:"flex items-center flex-wrap w-full justify-between mb-4",children:r.jsx(Xu,{from:"tourism",typeOfPosts:[{label:"Post a Tourism Attraction",Icon:ZE,hide:(i==null?void 0:i.accountType)!=="company"},{label:(i==null?void 0:i.accountType)==="company"?"Highlight a tourist Attraction":"Explore Tourism Attractions",Icon:Ja},{label:"Share a Tourism Experience",Icon:Hr,hide:(i==null?void 0:i.accountType)==="company"}]})}),r.jsx("section",{className:"space-y-4 overflow-hidden",children:Ke()})]}),r.jsx("aside",{className:"lg:col-span-1 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto",children:r.jsx(Pd,{loading:ye,matches:ee,nearby:K})})]})]}),r.jsx(Ld,he(te({isOpen:ut,onClose:()=>we(!1),selectedFilters:H,setSelectedFilters:W,generalTree:I},pt),{from:"tourism",catComponent:r.jsx(Ka,{selected:H,setSelected:W,buttons:X,buttonLabels:et,from:c,loading:We})}))]})}const $Ee=({onSelect:e,selectedUsers:t,onRemove:n,thisUserId:s})=>{const[a,i]=d.useState(""),[o,l]=d.useState([]),[c,u]=d.useState(!1),f=d.useRef(null),h=p=>pe(void 0,null,function*(){if(!p.trim()){l([]);return}u(!0);try{const{data:v}=yield Se.get(`/users/search?q=${encodeURIComponent(p)}`),b=v.filter(y=>!t.some(x=>x.id===y.id)&&(y==null?void 0:y.id)!=s);l(b)}catch(v){console.error("Error searching users:",v),l([])}finally{u(!1)}});d.useEffect(()=>{const p=v=>{f.current&&!f.current.contains(v.target)&&l([])};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]);const g=p=>{const v=p.target.value;i(v),clearTimeout(window.searchTimeout),window.searchTimeout=setTimeout(()=>{h(v)},300)},m=p=>{e(p),i(""),l([])};return r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Add Participants"}),t.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.map(p=>r.jsxs("div",{className:"inline-flex items-center gap-2 bg-brand-50 text-brand-700 rounded-full px-3 py-1 text-xs font-medium",children:[p.avatarUrl?r.jsx("img",{src:p.avatarUrl,alt:p.name,className:"w-4 h-4 rounded-full object-cover"}):r.jsx("div",{className:"w-4 h-4 rounded-full bg-brand-100 flex items-center justify-center text-xs font-medium text-brand-700",children:zm(p.name)}),p.name||p.email,(p==null?void 0:p.id)!=s&&r.jsx("button",{type:"button",onClick:()=>n(p.id),className:"text-brand-500 hover:text-brand-700",children:r.jsx(Sr,{size:14})})]},p.id))}),r.jsxs("div",{ref:f,className:"relative",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:a,onChange:g,placeholder:"Search users by name or email...",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30"}),c&&r.jsx("div",{className:"absolute right-3 top-2.5",children:r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-500"})})]}),o.length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:o.map(p=>r.jsxs("button",{type:"button",onClick:()=>m(p),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3",children:[p.avatarUrl?r.jsx("img",{src:p.avatarUrl,alt:p.name,className:"w-6 h-6 rounded-full object-cover"}):r.jsx("div",{className:"w-6 h-6 rounded-full bg-brand-100 flex items-center justify-center text-xs font-medium text-brand-700",children:zm(p.name)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:p.name}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:p.email})]})]},p.id))})]})]})},PEe=({open:e,onClose:t,toUserId:n,toName:s,onCreated:a})=>{const i=Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",[o,l]=d.useState({date:"",time:"",duration:"30",mode:"video",location:"",link:"",title:`Meeting with ${s!=null?s:"User"}`,agenda:"",timezone:i}),[c,u]=d.useState([]),[f,h]=d.useState(!1),[g,m]=d.useState({});dr.useEffect(()=>{e&&(m({}),h(!1),n&&s&&u([{id:n,name:s}]))},[e,n,s]);function p(){const w={};return o.date||(w.date="Pick a date"),o.time||(w.time="Pick a time"),o.title.trim()||(w.title="Add a title"),c.length===0&&(w.participants="Add at least one participant"),w}function v(w,j){l(N=>he(te({},N),{[w]:j}))}const b=w=>{c.some(j=>j.id===w.id)||u(j=>[...j,w])},y=w=>{u(j=>j.filter(N=>N.id!==w))};function x(w){return pe(this,null,function*(){var E,S;w.preventDefault();const j=p();if(m(j),Object.keys(j).length)return;const N=new Date(`${o.date}T${o.time}:00`).toISOString(),L=c[0],k=c.slice(1).map(I=>I.id);h(!0);try{const I={toUserId:L.id,title:o.title,agenda:o.agenda,scheduledAt:N,duration:parseInt(o.duration),timezone:o.timezone,mode:o.mode,location:o.mode==="in_person"?o.location:null,link:o.mode==="video"?o.link:null,participants:k},{data:C}=yield Se.post("/meeting-requests",I);a==null||a(C),t(),u([]),l({date:"",time:"",duration:"30",mode:"video",location:"",link:"",title:`Meeting with ${s!=null?s:"User"}`,agenda:"",timezone:i})}catch(I){console.error("Error creating meeting request:",I),oe.error(((S=(E=I==null?void 0:I.response)==null?void 0:E.data)==null?void 0:S.message)||"Failed to send meeting request")}finally{h(!1)}})}return e?r.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm",children:r.jsxs("div",{className:"w-[92vw] sm:w-full sm:max-w-lg max-h-[80vh] bg-white rounded-2xl shadow-xl flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between bg-brand-500 px-4 py-3",children:[r.jsx("div",{className:"text-white font-medium",children:"Request Meeting"}),r.jsx("button",{onClick:t,className:"text-white/90 hover:text-white",children:r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),r.jsxs("form",{id:"meetingForm",onSubmit:x,className:"p-5 overflow-y-auto flex-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Title"}),r.jsx("input",{type:"text",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:o.title,onChange:w=>v("title",w.target.value),placeholder:"e.g., Intro call about collaboration"}),g.title&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.title})]}),r.jsx($Ee,{onSelect:b,selectedUsers:c,onRemove:y,thisUserId:n}),g.participants&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.participants}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date"}),r.jsx("input",{type:"date",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:o.date,min:new Date().toISOString().split("T")[0],onChange:w=>v("date",w.target.value)}),g.date&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Time"}),r.jsx("input",{type:"time",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:o.time,onChange:w=>v("time",w.target.value)}),g.time&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.time})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Duration"}),r.jsxs("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:o.duration,onChange:w=>v("duration",w.target.value),children:[r.jsx("option",{value:"15",children:"15 minutes"}),r.jsx("option",{value:"30",children:"30 minutes"}),r.jsx("option",{value:"45",children:"45 minutes"}),r.jsx("option",{value:"60",children:"60 minutes"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Timezone"}),r.jsx("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:o.timezone,onChange:w=>v("timezone",w.target.value),children:pw.map((w,j)=>r.jsx("option",{value:w.value,children:`${w.offset} - ${w.label}`}))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Meeting mode"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("button",{type:"button",onClick:()=>v("mode","video"),className:`flex items-center justify-center gap-2 rounded-lg border px-3 py-2 text-sm ${o.mode==="video"?"border-brand-500 bg-brand-50 text-brand-700":"border-gray-300 bg-white text-gray-700"}`,children:[r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M16 2H8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z"}),r.jsx("path",{d:"m16 2 4 4"}),r.jsx("path",{d:"M21 2v8"})]}),"Video call"]}),r.jsxs("button",{type:"button",onClick:()=>v("mode","in_person"),className:`flex items-center justify-center gap-2 rounded-lg border px-3 py-2 text-sm ${o.mode==="in_person"?"border-brand-500 bg-brand-50 text-brand-700":"border-gray-300 bg-white text-gray-700"}`,children:[r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),r.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"In person"]})]})]}),o.mode==="video"?r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Call link ",r.jsx("span",{className:"text-gray-600",children:"(optional)"})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("div",{className:"rounded-lg border border-gray-300 px-3 py-2 flex-1 flex items-center gap-2",children:[r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),r.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),r.jsx("input",{type:"url",placeholder:"Insert call link",className:"w-full text-sm focus:outline-none",value:o.link,onChange:w=>v("link",w.target.value)})]})}),g.link&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.link})]}):r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Location"}),r.jsx("input",{type:"text",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",placeholder:"e.g., Avenida Julius Nyerere 123, Maputo",value:o.location,onChange:w=>v("location",w.target.value)}),g.location&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.location})]}),o.date&&o.time&&r.jsxs("div",{className:"rounded-lg border bg-gray-50 px-3 py-2 text-xs text-gray-700",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),r.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),r.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),r.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]}),r.jsxs("span",{children:[new Date(`${o.date}T${o.time}:00`).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})," ","(",o.timezone,")  ",o.duration," min  ",o.mode==="video"?"Video call":"In person"]})]}),c.length>0&&r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(lx,{size:14}),r.jsxs("span",{children:[c.length," participant",c.length!==1?"s":""]})]})]})]}),r.jsxs("div",{className:"p-4 border-t flex items-center justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-gray-400",children:"Cancel"}),r.jsxs("button",{type:"submit",form:"meetingForm",disabled:f,className:"inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium text-white bg-brand-500 hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500/30 disabled:opacity-60",children:[r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("polyline",{points:"12,6 12,12 16,14"})]}),f?"Creating":`Create request (${c.length})`]})]})]})}):null};function zm(e){var a,i;if(!e)return"U";const t=e.trim().split(/\s+/),n=((a=t[0])==null?void 0:a.charAt(0).toUpperCase())||"",s=((i=t[1])==null?void 0:i.charAt(0).toUpperCase())||"";return n+s}function DEe(e,t){if(e)return e;if(!t)return"";const n=Date.now()-new Date(t).getTime(),s=Math.floor(n/6e4);if(s<60)return`${s} min${s!==1?"s":""} ago`;const a=Math.floor(s/60);if(a<24)return`${a} hour${a!==1?"s":""} ago`;const i=Math.floor(a/24);return`${i} day${i!==1?"s":""} ago`}function REe({id:e,avatarUrl:t,coverImage:n,name:s,role:a,city:i,countryOfResidence:o,country:l,email:c,about:u,lookingFor:f,goals:h=[],cats:g=[],onConnect:m,onMessage:p,connectionStatus:v,createdAt:b,timeAgo:y,matchPercentage:x=0,type:w="grid",accountType:j="individual",companyMemberships:N=[]}){const{user:L}=Xt(),k=yr(),E=Ht(),[S,I]=d.useState(null),[C,M]=d.useState(!1),[A,H]=d.useState(!1),[W,X]=d.useState(v||"none"),[J,Z]=d.useState(!1),[F,D]=d.useState(!1);function O(ze){return pe(this,null,function*(){yield Se.delete(`/connections/${e}`,{data:{note:ze}}),X("none"),oe.success("Connection removed")})}const T=w==="list",R=[i,o||l].filter(Boolean).join(", ");d.useMemo(()=>DEe(y,b),[y,b]);const z=d.useMemo(()=>[...new Set([...h,...g].filter(Boolean).map(String))],[h,g]),_=z.slice(0,1),U=Math.max(0,z.length-_.length),Q=200,re=!!u&&u.length>Q,le=u?re?`${u.slice(0,Q)}...`:u:"";function ue(){X("pending_outgoing"),m==null||m()}const ge=j==="company",ke=`group relative rounded-2xl border-2 ${ge?"border-gray-100 shadow-sm":"border-gray-100"} bg-white  overflow-hidden transition-all duration-300 ease-out`,tt=T?"flex":"flex flex-col";return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`${ke} ${tt} ${!T&&J?"transform -translate-y-2":""}`,onMouseEnter:()=>Z(!0),onMouseLeave:()=>Z(!1),children:[r.jsx($d,{userId:S,isOpen:!!S,onClose:()=>I(null),onSent:ue}),T?r.jsx("div",{className:"relative overflow-hidden",children:r.jsx("div",{className:"p-5 pr-0",children:t?r.jsx("div",{className:"flex bg-white  items-center justify-center w-24 h-24 shadow-xl border-4 border-white rounded-2xl overflow-hidden cursor-pointer hover:shadow-2xl transition-all duration-200",onClick:()=>{E(`/profile/${e}`)},title:`View ${s}'s profile`,children:r.jsx("img",{src:t,alt:s,className:"w-full h-full border border-gray-100",style:{objectFit:ge?"contain":"cover"}})}):r.jsx("div",{className:`w-24 h-24 rounded-2xl shadow-xl ${ge?"border-4 border-white bg-gradient-to-br from-blue-100 to-blue-200":"border-4 border-white bg-gradient-to-br from-brand-100 to-brand-200"} flex items-center justify-center cursor-pointer hover:shadow-2xl transition-all duration-200`,onClick:()=>{E(`/profile/${e}`)},title:`View ${s}'s profile`,children:r.jsx("span",{className:`${ge?"text-blue-700":"text-brand-700"} font-bold text-3xl`,children:zm(s)})})})}):r.jsxs("div",{className:"relative w-full overflow-hidden",children:[n?r.jsxs("div",{className:"h-32 relative",children:[r.jsx("img",{src:n,alt:`${s}'s cover`,className:"w-full h-full object-cover object-[50%_30%]"}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/2 bg-gradient-to-t from-black/60 via-black/30 to-transparent"})]}):r.jsx("div",{className:`h-32 ${ge?"bg-gradient-to-br from-blue-500 via-blue-400 to-blue-300":"bg-gradient-to-br from-brand-500 via-brand-300 to-brand-100"} relative`,children:r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 10px, currentColor 10px, currentColor 11px)",color:"white"}})})}),x!=0&&r.jsx("div",{className:"absolute top-3 right-3",children:r.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold shadow-lg backdrop-blur-sm border-2 ${x>=80?"bg-white/95 text-green-700 border-green-400":x>=60?"bg-white/95 text-brand-700 border-brand-400":"bg-white/95 text-gray-700 border-gray-300"}`,children:[r.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),x,"%"]})}),r.jsx("div",{className:"relative px-5 pb-3 bg-white",children:r.jsxs("div",{className:"flex items-start gap-4 -mt-16",children:[r.jsxs("div",{className:"relative flex-shrink-0 -translate-y-4",children:[t?r.jsx("div",{className:"flex bg-white items-center justify-center w-24 h-24 shadow-xl border-4 border-white rounded-2xl overflow-hidden cursor-pointer hover:shadow-2xl transition-all duration-200",onClick:()=>{E(`/profile/${e}`)},title:`View ${s}'s profile`,children:r.jsx("img",{src:t,alt:s,className:"w-full h-full",style:{objectFit:ge?"contain":"cover"}})}):r.jsx("div",{className:`w-24 h-24 rounded-2xl shadow-xl ${ge?"border-4 border-white bg-gradient-to-br from-blue-100 to-blue-200":"border-4 border-white bg-gradient-to-br from-brand-100 to-brand-200"} flex items-center justify-center cursor-pointer hover:shadow-2xl transition-all duration-200`,onClick:()=>{E(`/profile/${e}`)},title:`View ${s}'s profile`,children:r.jsx("span",{className:`${ge?"text-blue-700":"text-brand-700"} font-bold text-3xl`,children:zm(s)})}),N&&N.length>0&&r.jsxs("div",{className:"absolute -bottom-1 -right-1 flex -space-x-1",children:[[...N].sort((ze,rt)=>(rt.isMain?1:0)-(ze.isMain?1:0)).slice(0,3).map((ze,rt)=>ze.company.avatarUrl?r.jsx("img",{src:ze.company.avatarUrl,alt:ze.company.name,className:`h-7 w-7 rounded-full border-2 border-white bg-white shadow-md object-cover ${ze.isMain?"ring-2 ring-brand-400":""}`,title:`${ze.company.name} (${ze.role})`},ze.companyId):r.jsx("div",{className:`h-7 w-7 rounded-full border-2 border-white shadow-md bg-gray-100 flex items-center justify-center text-[10px] font-medium text-gray-600 ${ze.isMain?"ring-2 ring-brand-400":""}`,title:`${ze.company.name} (${ze.role})`,children:zm(ze.company.name)},ze.companyId)),N.length>3&&r.jsxs("div",{className:"h-7 w-7 rounded-full border-2 border-white shadow-md bg-gray-100 flex items-center justify-center text-[10px] font-medium text-gray-600",children:["+",N.length-3]})]})]}),r.jsxs("div",{className:"flex-1 min-w-0 pt-4 space-y-2",children:[ge&&r.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-md bg-blue-100 text-blue-700 text-[10px] font-bold uppercase tracking-wide",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Association"]}),r.jsx("div",{className:"cursor-pointer group/name",onClick:()=>{E(`/profile/${e}`)},children:r.jsx("h3",{className:"font-bold text-sm text-gray-900 group-hover/name:text-brand-600 transition-colors leading-tight break-words",title:s,children:s||"Anonymous User"})}),a?r.jsx("div",{className:`text-[13px] line-clamp-3 ${ge?"font-semibold text-gray-700":"font-semibold text-gray-600"} break-words`,title:a,children:ge?`${a||"Company"}`:a}):r.jsx("div",{className:"text-sm font-medium text-gray-500 italic",children:ge?"Company Profile":"Professional"})]})]})})]}),r.jsxs("div",{className:`${T?"pb-5 pl-5 pr-5 md:pb-6 md:pl-6 md:pr-6":"pb-6 pl-6 pr-6"} mt-1 flex flex-col flex-1`,children:[w=="list"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mt-6",children:r.jsx("h3",{onClick:()=>E(`/profile/${e}`),className:"font-bold cursor-pointer text-sm mb-2 hover:underline text-gray-900 group-hover/name:text-brand-600 transition-colors leading-tight break-words",title:s,children:s||"Anonymous User"})}),r.jsx("div",{className:"absolute top-3 right-3 flex items-center gap-2",children:x!=0&&r.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-white/95 backdrop-blur-sm text-brand-600 border border-brand-200",children:[x,"% match"]})})]}),R&&r.jsxs("div",{className:`flex mb-3 items-start text-sm text-gray-600 gap-1.5 ${ge?"absolute bottom-1 right-4":""}`,children:[r.jsx(Hr,{size:16,className:"text-gray-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"break-words text-[12px]",title:R,children:R})]}),u&&r.jsx("div",{className:"mb-4",children:r.jsx("p",{title:u,className:`text-[14px] leading-relaxed text-gray-700 ${T?"line-clamp-3 md:line-clamp-3":"line-clamp-3"}`,children:le})}),!!_.length&&r.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[_.map(ze=>r.jsx("span",{className:"inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-semibold bg-brand-50 text-brand-400 border _border-brand-200",children:ze},ze)),U>0&&r.jsxs("div",{className:"relative inline-block group/tags",children:[r.jsxs("span",{className:"inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-semibold bg-gray-100 text-gray-600 cursor-help",children:["+",U," more"]}),r.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/tags:opacity-100 group-hover/tags:visible z-10 whitespace-nowrap max-w-xs",children:[r.jsx("div",{className:"flex flex-wrap gap-1",children:z.slice(_.length).map((ze,rt)=>r.jsxs("span",{className:"inline-block",children:[ze,rt<z.length-_.length-1?",":""]},rt))}),r.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]}),r.jsxs("div",{className:`mt-auto ${ge?"":"pt-3"} flex items-center gap-3`,children:[(L==null?void 0:L.id)!=e&&!ge&&r.jsxs("button",{onClick:()=>{if(!L){k._showPopUp("login_prompt");return}p?p(e):E(`/messages?userId=${e}`)},className:`inline-flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-semibold bg-brand-50 text-brand-500 active:bg-brand-800 transition-all duration-200 shadow-sm hover:shadow-md ${w==="grid"?"flex-1 justify-center":""}`,children:[r.jsx(cs,{size:16}),"Message"]}),W==="connected"&&r.jsxs("button",{onClick:()=>{if(!L){k._showPopUp("login_prompt");return}H(!0)},className:"inline-flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-semibold border border-brand-200 bg-white text-brand-700 hover:border-brand-500 hover:text-brand-700 transition-all duration-200",children:[r.jsx(To,{size:16}),"Meeting"]}),W!="connected"&&r.jsx("div",{className:w==="grid"?"flex-1":"",children:He()})]})]})]}),r.jsx(Yn,{open:C,onClose:()=>M(!1),toUserId:e,toName:s,onSent:ue}),r.jsx(PEe,{open:A,onClose:()=>H(!1),toUserId:e,toName:s,onCreated:ze=>{oe.success("Meeting request sent successfully!")}}),r.jsx(is,{open:F,onClose:()=>D(!1),title:"Remove this connection?",text:"This will remove the connection. You can send a new request later.",confirmText:"Remove",cancelText:"Cancel",tone:"danger",withInput:!0,inputLabel:"Optional note",inputPlaceholder:"Why are you removing this connection?",inputType:"textarea",requireValue:!1,onConfirm:O})]});function He(){const ze=(W||"none").toLowerCase();return ze==="connected"?r.jsxs("button",{onClick:()=>D(!0),title:"Connected  click to remove","aria-label":"Connected. Click to remove connection",className:`group/conn rounded-xl px-4 py-2.5 text-sm font-semibold w-full
                    bg-green-50 text-green-700 border-2 border-green-200
                    hover:bg-red-50 hover:text-red-700 hover:border-red-300
                    focus:outline-none focus:ring-2 focus:ring-red-500/30
                    transition-all duration-200 flex items-center justify-center gap-2 ${w==="grid"?"flex-1":""}`,children:[r.jsx(nw,{size:16,className:"block group-hover/conn:hidden group-focus/conn:hidden"}),r.jsx(sw,{size:16,className:"hidden group-hover/conn:block group-focus/conn:block"}),r.jsx("span",{className:"block group-hover/conn:hidden group-focus/conn:hidden",children:"Connected"}),r.jsx("span",{className:"hidden group-hover/conn:block group-focus/conn:block",children:"Remove"})]}):ze==="pending_outgoing"||ze==="outgoing_pending"||ze==="pending"?r.jsx("button",{className:`rounded-xl px-4 py-2.5 text-sm font-semibold bg-amber-50 text-amber-700 border border-amber-200 cursor-default ${w==="grid"?"w-full":""}`,children:"Pending"}):ze==="pending_incoming"||ze==="incoming_pending"?r.jsx("button",{onClick:()=>E("/notifications"),className:`rounded-xl px-4 py-2.5 text-sm font-semibold bg-brand-50 text-brand-700 border border-brand-200 hover:bg-brand-100 transition-colors ${w==="grid"?"w-full":""}`,children:"Respond"}):L?r.jsx("button",{onClick:()=>M(!0),className:`rounded-xl px-4 py-2.5 text-sm font-semibold border-2  hover:border-brand-300 hover:text-brand-600 transition-all duration-200 ${w==="grid"?"w-full":""}`,children:"Connect"}):r.jsx("button",{onClick:()=>k._showPopUp("login_prompt"),className:`rounded-xl px-4 py-2.5 text-sm font-semibold border-2 border-gray-200 bg-white text-gray-500 hover:border-brand-300 hover:text-brand-600 transition-all duration-200 ${w==="grid"?"w-full":""}`,children:"Connect"})}}const FEe=()=>r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow p-6 animate-pulse",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded w-32 mb-3"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),r.jsx("div",{className:"h-10 bg-gray-200 rounded w-24 mt-4"})]}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6 animate-pulse",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded w-40 mb-3"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]}),r.jsx("div",{className:"h-10 bg-gray-200 rounded w-24 mt-4"})]}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6 animate-pulse",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded w-36 mb-3"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),r.jsx("div",{className:"h-10 bg-gray-200 rounded w-24 mt-4"})]}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]})})]})});function BEe(e,t=400){const[n,s]=d.useState(e),a=d.useRef();return d.useEffect(()=>{if(a.current&&clearTimeout(a.current),e===""){s(e);return}return a.current=setTimeout(()=>{s(e)},t),()=>{a.current&&clearTimeout(a.current)}},[e,t]),n}function bq(){const{user:e}=Xt(),[t,n]=d.useState("People"),s=yr();d.useMemo(()=>{const Ye=["Posts","People","News & Articles"];return e&&Ye.splice(2,0,"My Connections"),Ye},[e]),Ht();const[a,i]=d.useState(!1),[o,l]=d.useState(""),c=BEe(o,400),[u,f]=d.useState(),[h,g]=d.useState(),[m,p]=d.useState(),[v,b]=d.useState(),[y,x]=d.useState(),[w,j]=d.useState(),[N,L]=d.useState([]);d.useState("grid");const{pathname:k}=bs(),E=k.includes("/people")?"people":"companies",[S,I]=d.useState(!1),[C,M]=d.useState(""),[A,H]=d.useState(""),[W,X]=d.useState(""),[J,Z]=d.useState(""),[F,D]=d.useState(""),[O,T]=d.useState(""),[R,z]=d.useState(""),[_,U]=d.useState(""),[Q,re]=d.useState(""),[le,ue]=d.useState(""),[ge,ke]=d.useState(""),[tt,He]=d.useState(""),[ze,rt]=d.useState(""),[Xe,V]=d.useState(""),[ne,Ce]=d.useState(""),[fe,xe]=d.useState(""),[se,ae]=d.useState(""),[G,Ne]=d.useState("Free"),[Be,dt]=d.useState([]),[nt,Te]=d.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[lt,_e]=d.useState([]),[be,Y]=d.useState([]),[ie,de]=d.useState([]),[$e,it]=d.useState([]),[gt,De]=d.useState(!1),[Le,Ae]=d.useState(0),[Pe,Qe]=d.useState(0),[mt,Me]=d.useState(!1),[Oe,We]=d.useState(!1),qe=d.useRef(null),[vt,Ge]=d.useState([]),[ot,Mt]=d.useState([]),[_t,Ct]=d.useState(!1),[B,ee]=d.useState(!1),[q,K]=d.useState([]),[ce,ye]=d.useState(!0),[Ze,ut]=d.useState(!1),we=d.useRef(null);d.useRef(null);const Ee=d.useRef(0),Ie=d.useCallback(Ye=>{if(!ie.length)return null;for(const pt of ie)if(pt.name===Ye||pt.name.toLowerCase()===Ye.toLowerCase())return pt.id;return null},[ie]);d.useEffect(()=>{pe(this,null,function*(){try{const{data:Ye}=yield Se.get("/feed/meta");_e(Ye.categories||[]),Y(Ye.countries||[]),L(Ye.goals||[])}catch(Ye){console.error("Failed to load meta:",Ye)}})},[]),d.useEffect(()=>{pe(this,null,function*(){let Ye=E=="people"?"individual":"company";try{const{data:pt}=yield Se.get("/public/identities",{params:{type:Ye}});de(pt.identities)}catch(pt){console.error("Error loading identities:",pt)}})},[E]);const Ve=d.useRef(!1),ht=d.useRef(!1),ft=d.useRef({}),ct=d.useRef(null),xt=d.useCallback(()=>pe(this,null,function*(){if(!Ve.current){Ve.current=!0,De(!0);try{const Ye={accountType:E=="people"?"individual":"company",q:c||void 0,country:u||void 0,city:h||void 0,categoryId:m||void 0,subcategoryId:v||void 0,goalId:y||void 0,role:w||void 0,identityIds:Array.from(nt.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(nt.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(nt.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(nt.subsubCategoryIds).join(",")||void 0,industryIds:Be.length>0?Be.join(","):void 0,connectionStatus:t=="My Connections"&&a?"outgoing_pending,incoming_pending":t=="My Connections"&&!a?"connected":null,price:C||void 0,viewOnlyConnections:S,serviceType:A||void 0,priceType:W||void 0,deliveryTime:J||void 0,experienceLevel:F||void 0,locationType:O||void 0,jobType:R||void 0,workMode:_||void 0,postType:Q||void 0,season:le||void 0,budgetRange:ge||void 0,fundingGoal:tt||void 0,amountRaised:ze||void 0,currency:Xe||void 0,deadline:ne||void 0,eventType:fe||void 0,date:se||void 0,registrationType:G||void 0,limit:10,offset:0},{data:pt}=yield Se.get("/people",{params:Ye}),Ke=Array.isArray(pt.items)?pt.items:[];it(Ke),Ae(typeof pt.total=="number"?pt.total:Array.isArray(pt.items)?pt.items.length:0),ye(typeof pt.total=="number"?Ke.length<pt.total:Ke.length===10),Ee.current=Ke.length,Me(!0),We(!1),qe.current&&(clearTimeout(qe.current),qe.current=null)}catch(Ye){console.error("Failed to load feed:",Ye),it([]),We(!0),Me(!0),qe.current&&clearTimeout(qe.current),qe.current=setTimeout(()=>{xt()},3e3)}finally{Ve.current=!1,De(!1)}s._scrollToSection("top",!0)}}),[t,c,u,h,m,v,y,w,a,nt,C,A,W,S,J,F,O,R,_,Q,le,ge,tt,ze,Xe,ne,fe,se,G,Be,E,s]),ve=d.useCallback(()=>pe(this,null,function*(){if(!(Ve.current||gt||Ze||!ce)){Ve.current=!0,ut(!0);try{const Ye={accountType:E=="people"?"individual":"company",q:c||void 0,country:u||void 0,city:h||void 0,categoryId:m||void 0,subcategoryId:v||void 0,goalId:y||void 0,role:w||void 0,identityIds:Array.from(nt.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(nt.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(nt.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(nt.subsubCategoryIds).join(",")||void 0,industryIds:Be.length>0?Be.join(","):void 0,connectionStatus:t=="My Connections"&&a?"outgoing_pending,incoming_pending":t=="My Connections"&&!a?"connected":null,price:C||void 0,viewOnlyConnections:S,serviceType:A||void 0,priceType:W||void 0,deliveryTime:J||void 0,experienceLevel:F||void 0,locationType:O||void 0,jobType:R||void 0,workMode:_||void 0,postType:Q||void 0,season:le||void 0,budgetRange:ge||void 0,fundingGoal:tt||void 0,amountRaised:ze||void 0,currency:Xe||void 0,deadline:ne||void 0,eventType:fe||void 0,date:se||void 0,registrationType:G||void 0,limit:10,offset:Ee.current},{data:pt}=yield Se.get("/people",{params:Ye}),Ke=Array.isArray(pt.items)?pt.items:[];it(je=>[...je,...Ke]),Ee.current+=Ke.length,ye(Ke.length===10),We(!1)}catch(Ye){console.error("Failed to load more:",Ye)}finally{Ve.current=!1,ut(!1)}}}),[t,c,u,h,m,v,y,w,a,nt,C,A,W,S,J,F,O,R,_,Q,le,ge,tt,ze,Xe,ne,fe,se,G,Be,E,$e.length,gt,Ze,ce]);d.useEffect(()=>{const Ye={activeTab:t,debouncedQ:c,country:u,city:h,categoryId:m,subcategoryId:v,goalId:y,role:w,showPendingRequests:a,audienceSelections:{identityIds:Array.from(nt.identityIds),categoryIds:Array.from(nt.categoryIds),subcategoryIds:Array.from(nt.subcategoryIds),subsubCategoryIds:Array.from(nt.subsubCategoryIds)},price:C,serviceType:A,priceType:W,viewOnlyConnections:S,deliveryTime:J,experienceLevel:F,locationType:O,jobType:R,workMode:_,postType:Q,season:le,budgetRange:ge,fundingGoal:tt,amountRaised:ze,currency:Xe,deadline:ne,eventType:fe,date:se,registrationType:G,selectedIndustries:Be};if(JSON.stringify(Ye)!==JSON.stringify(ft.current))return ft.current=Ye,ht.current?(clearTimeout(ct.current),De(!0),ct.current=setTimeout(()=>{xt()},100)):(ht.current=!0,xt()),()=>{clearTimeout(ct.current),qe.current&&clearTimeout(qe.current)}},[t,c,u,h,m,v,y,w,a,nt,C,A,W,S,J,F,O,R,_,Q,le,ge,tt,ze,Xe,ne,fe,se,G,Be,xt]),d.useEffect(()=>{if(!we.current||!ce)return;const Ye=we.current,pt=new IntersectionObserver(Ke=>{const[je]=Ke;je.isIntersecting&&ve()},{root:null,rootMargin:"700px",threshold:0});return pt.observe(Ye),()=>pt.disconnect()},[we,ce,ve]),d.useEffect(()=>{if(q.length>0&&ie.length>0){const Ye=q.map(pt=>Ie(pt)).filter(pt=>pt!==null);Te(pt=>he(te({},pt),{identityIds:new Set(Ye)}))}else Te(Ye=>he(te({},Ye),{identityIds:new Set}))},[q,ie,Ie]);const Fe={setShowTotalCount:Qe,query:o,setQuery:l,country:u,setCountry:f,city:h,setCity:g,categoryId:m,setCategoryId:p,subcategoryId:v,setSubcategoryId:b,goalId:y,setGoalId:x,goals:N,role:w,setRole:j,price:C,setPrice:M,serviceType:A,setServiceType:H,priceType:W,setPriceType:X,viewOnlyConnections:S,setViewOnlyConnections:I,deliveryTime:J,setDeliveryTime:Z,experienceLevel:F,setExperienceLevel:D,locationType:O,setLocationType:T,jobType:R,setJobType:z,workMode:_,setWorkMode:U,postType:Q,setPostType:re,season:le,setSeason:ue,budgetRange:ge,setBudgetRange:ke,fundingGoal:tt,setFundingGoal:He,amountRaised:ze,setAmountRaised:rt,currency:Xe,setCurrency:V,deadline:ne,setDeadline:Ce,eventType:fe,setEventType:xe,date:se,setDate:ae,registrationType:G,setRegistrationType:Ne,audienceTree:ie,audienceSelections:nt,setAudienceSelections:Te,selectedIndustries:Be,setSelectedIndustries:dt,categories:lt,countries:be,onApply:()=>ee(!1)},et=()=>{const Ye=gt||!mt&&$e.length===0;return Oe?r.jsx(hl,{onRetry:()=>{We(!1),qe.current&&clearTimeout(qe.current),qe.current=null,xt()},message:"Failed to load feed. Trying to connect...",buttonText:"Try Again"}):r.jsxs(r.Fragment,{children:[Ye&&r.jsx("div",{className:"min-h-[160px] grid text-gray-600",children:E=="companies"?r.jsx(FEe,{}):r.jsx(Rd,{})}),!Ye&&Pe?r.jsxs("div",{className:"text-sm text-gray-600",children:[Le," result",Le===1?"":"s"]}):null,!Ye&&mt&&$e.length===0&&r.jsx(Dd,{activeTab:"All"}),r.jsx("div",{className:`grid grid-cols-1 mt-3 ${E!="people"?"sm:grid-cols-1":"lg:grid-cols-2 xl:grid-cols-3"} gap-6`,children:!Ye&&$e.map(pt=>r.jsx(REe,he(te({type:E=="people"?"grid":"list",tyle:"list"},pt),{matchPercentage:pt.matchPercentage}),pt.id||pt.userId||pt.profileId||Math.random()))}),!Ye&&ce&&r.jsx("div",{ref:we,className:"h-10 w-full",children:Ze&&r.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Loading more"})})]})};return r.jsxs(ei,{children:[r.jsx(an,{}),r.jsxs("main",{className:`mx-auto ${s._openPopUps.profile?"relative z-50":""} max-w-7xl px-4 sm:px-6 lg:px-8 py-6 grid lg:grid-cols-12 gap-6`,children:[r.jsx(Ed,{onClick:()=>ee(!0)}),r.jsx("aside",{className:"scrollable-container lg:col-span-3 hidden lg:flex flex-col space-y-4 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto pr-1",children:r.jsx("div",{className:"_sticky top-0 z-10 _bg-white",children:r.jsx(Kl,he(te({},Fe),{selectedFilters:q,from:"people",showAudienceFilters:!0,catComponent:r.jsx(Ka,{from:"people",loading:gt,selected:q,setSelected:K,buttons:E=="people"?["Entrepreneurs","Business Owners / Businesses","Social Entrepreneurs","Professionals","Freelancers","Students","Government Officials","Investors","Executives"]:["Companies","NGOs/NPOs","Government / Public Sector","Educational & Research","Healthcare","International / Intergovernmental","Hybrid / Special"]})}))})}),r.jsxs("div",{className:"lg:col-span-9 grid lg:grid-cols-4 gap-6",children:[r.jsxs("section",{className:"lg:col-span-4 space-y-4 mt-4 w-full overflow-hidden",children:[r.jsx("div",{className:"flex items-center justify-end gap-x-2 flex-wrap "}),t==="My Connections"&&r.jsx("div",{className:"mb-3",children:r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white shadow-sm p-3 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-800",children:"Connection Requests"}),r.jsx("p",{className:"text-xs text-gray-500",children:"View pending requests you sent or received"})]}),r.jsx("button",{onClick:()=>i(!a),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors shadow-sm border ${a?"bg-purple-600 text-white border-purple-600 hover:bg-purple-700":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:a?"Showing Pending":"Show Pending"})]})}),et()]}),r.jsx("aside",{className:"lg:col-span-2 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto hidden",children:_t?r.jsx("div",{className:"rounded-2xl bg-white border border-gray-100 shadow-sm p-4 text-sm text-gray-600",children:"Loading suggestions"}):r.jsx(Pd,{matches:vt,nearby:ot})})]})]}),r.jsx(Ld,he(te({isOpen:B,onClose:()=>ee(!1)},Fe),{selectedFilters:q,from:"people",showAudienceFilters:!0,catComponent:r.jsx(Ka,{from:"people",loading:gt,selected:q,setSelected:K,buttons:E=="people"?["Entrepreneurs","Business Owners / Businesses","Social Entrepreneurs","Professionals","Freelancers","Students","Government Officials","Investors","Executives"]:["Companies","NGOs/NPOs","Government / Public Sector","Educational & Research","Healthcare","International / Intergovernmental","Hybrid / Special"]})}))]})}function zEe(){return r.jsx(bq,{})}const fs={primary:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-600/30",outline:"rounded-lg px-3 py-1.5 text-sm font-semibold border border-gray-200 bg-white text-gray-700 hover:bg-gray-50",danger:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white bg-red-600 hover:bg-red-700",icon:"rounded-lg p-1.5 text-sm font-semibold border border-gray-200 bg-white text-gray-700 hover:bg-gray-50"};function lN(e){var l,c;const t=typeof e=="string"?new Date(e).getTime():(c=(l=e==null?void 0:e.getTime)==null?void 0:l.call(e))!=null?c:Date.now(),n=Math.max(0,Date.now()-t),s=Math.floor(n/1e3);if(s<5)return"Just now";if(s<60)return`${s}s ago`;const a=Math.floor(s/60);if(a<60)return`${a} min${a>1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i>1?"s":""} ago`;const o=Math.floor(i/24);return`${o} day${o>1?"s":""} ago`}const UEe=e=>{const{type:t,payload:n,user:s}=e;switch(t){case"connection.request":return(n==null?void 0:n.fromId)||(n==null?void 0:n.fromUserId)||(n==null?void 0:n.byUserId);case"connection.accepted":case"connection.rejected":case"connection.removed":return(n==null?void 0:n.fromId)||(n==null?void 0:n.fromUserId)||(n==null?void 0:n.byUserId);case"meeting_request":return(n==null?void 0:n.fromId)||(n==null?void 0:n.fromUserId)||(n==null?void 0:n.byUserId);case"meeting_invitation":return(n==null?void 0:n.fromId)||(n==null?void 0:n.fromUserId)||(n==null?void 0:n.byUserId);case"meeting_response":return(n==null?void 0:n.fromId)||(n==null?void 0:n.fromUserId)||(n==null?void 0:n.byUserId);case"meeting_participant_response":return n==null?void 0:n.participantId;case"meeting_cancelled":return(s==null?void 0:s.id)||(n==null?void 0:n.fromId)||(n==null?void 0:n.fromUserId);case"message.new":return n==null?void 0:n.senderId;case"comment.new":return n==null?void 0:n.commenterId;case"job.application.received":return n==null?void 0:n.applicantId;case"job.application.accepted":case"job.application.rejected":case"job.application.reviewed":return n==null?void 0:n.employerId;case"event.registration.received":return n==null?void 0:n.registrantId;case"event.registration.confirmed":case"event.registration.cancelled":return n==null?void 0:n.organizerId;case"company.staff.accepted":case"company.staff.rejected":return n==null?void 0:n.staffId;case"company.staff.removed":return n==null?void 0:n.removedBy;case"company.representative.revoked":return n==null?void 0:n.revokedBy;case"company.representative.invitation":return n==null?void 0:n.invitedBy;case"company.representative.authorized":return n==null?void 0:n.representativeId;case"company.staff.invitation":return n==null?void 0:n.invitedBy;case"company.staff.left":return n==null?void 0:n.staffId;case"organization.join.request":return n==null?void 0:n.userId;case"organization.join.approved":case"organization.join.rejected":return n==null?void 0:n.approvedBy;default:return(s==null?void 0:s.id)||(n==null?void 0:n.userId)}};function WEe(){var rt,Xe,V,ne,Ce;const{user:e}=Xt(),[t,n]=d.useState("All"),{socket:s,connected:a}=lw(),i=Ht(),o=fe=>{fe&&i(`/profile/${fe}`)},l=()=>pe(this,null,function*(){try{console.log("Manual refresh triggered"),yield Promise.all([J(),D(),Z(),F()]),a&&s&&s.emit("get_header_badge_counts",fe=>{fe&&W(xe=>te(te({},xe),fe))}),oe.success("Notifications updated")}catch(fe){console.error("Error during manual refresh:",fe),oe.error("Failed to refresh notifications")}});d.useEffect(()=>{},[a,s,e==null?void 0:e.id]),d.useEffect(()=>{if(!a||!s||!(e!=null&&e.id))return;const fe=ae=>{console.log("New notification received:",ae),w(G=>[ae.notification,...G]),N(G=>[ae.notification,...G]),a&&s&&s.emit("get_header_badge_counts",G=>{G&&W(Ne=>te(te({},Ne),G))})},xe=ae=>{console.log("Badge counts updated:",ae),W(G=>te(te({},G),ae))},se=ae=>{console.log("Notification updated:",ae),ae.notification&&(w(G=>G.map(Ne=>Ne.id===ae.notification.id?ae.notification:Ne)),N(G=>G.map(Ne=>Ne.id===ae.notification.id?ae.notification:Ne)))};return s.on("new_notification",fe),s.on("header_badge_counts",xe),s.on("notification_updated",se),s.emit("subscribe_to_notifications"),s.emit("get_header_badge_counts",ae=>{ae&&W(G=>te(te({},G),ae))}),()=>{s.off("new_notification",fe),s.off("header_badge_counts",xe),s.off("notification_updated",se)}},[a,s,e==null?void 0:e.id]);const[c,u]=d.useState(!1),[f,h]=d.useState([]),[g,m]=d.useState([]),[p,v]=d.useState(""),[b,y]=d.useState(!1),[x,w]=d.useState([]),[j,N]=d.useState([]),[L,k]=d.useState(""),[E,S]=d.useState(!1),[I,C]=d.useState([]),[M,A]=d.useState(""),[H,W]=d.useState({connectionsPending:0,meetingsPending:0,messagesPending:0,jobApplicationsPending:0,eventRegistrationsPending:0,notificationsUnread:0}),X=({userId:fe,className:xe=""})=>fe?r.jsx("button",{onClick:()=>o(fe),className:`${fs.icon} ${xe} px-2.5 py-2.5`,title:"View Profile",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}):null;d.useEffect(()=>{if(!a||!s||!(e!=null&&e.id))return;const fe=se=>{w(ae=>[se.notification,...ae]),N(ae=>[se.notification,...ae])},xe=se=>{W(ae=>te(te({},ae),se))};return s.on("new_notification",fe),s.on("header_badge_counts",xe),s.emit("subscribe_to_notifications"),s.emit("get_header_badge_counts",se=>{se&&W(ae=>te(te({},ae),se))}),()=>{s.off("new_notification",fe),s.off("header_badge_counts",xe)}},[a,s,e==null?void 0:e.id]),d.useEffect(()=>{a&&s&&s.emit("mark_header_badge_seen",{type:"all"})},[a,s]);const J=()=>pe(this,null,function*(){var fe,xe;u(!0),v("");try{if(a&&s)s.emit("qa_fetch_connection_requests",se=>{se!=null&&se.ok?(h(se.data.incoming||[]),m(se.data.outgoing||[])):v((se==null?void 0:se.error)||"Failed to load connection requests"),u(!1)});else{const{data:se}=yield Se.get("/connections/requests");h(se.incoming||[]),m(se.outgoing||[]),u(!1)}}catch(se){v(((xe=(fe=se==null?void 0:se.response)==null?void 0:fe.data)==null?void 0:xe.message)||"Failed to load connection requests"),u(!1)}}),Z=()=>pe(this,null,function*(){var fe,xe;y(!0),k("");try{if(a&&s){let se=t.toLowerCase();s.emit("qa_fetch_notifications",{type:t==="All"?"all":se=="meetings"?"meeting":se=="connections"?"connection":se=="messages"?"message":se=="jobs"?"job":se=="events"?"event":se=="posts"?"new_post":se=="invitations"?"invitation":se=="system"?"system":t.toLowerCase()},ae=>{var G;console.log(`Loading notifications for filter: ${t}, type: ${se=="jobs"?"job":t.toLowerCase()}, response:`,ae),ae!=null&&ae.ok?(w(ae.data.notifications||[]),console.log(`Loaded ${((G=ae.data.notifications)==null?void 0:G.length)||0} notifications`)):k((ae==null?void 0:ae.error)||"Failed to load notifications"),y(!1)})}else{const{data:se}=yield Se.get("/notifications");w(se||[]),y(!1)}}catch(se){k(((xe=(fe=se==null?void 0:se.response)==null?void 0:fe.data)==null?void 0:xe.message)||"Failed to load notifications"),y(!1)}}),F=()=>pe(this,null,function*(){if(a&&s)s.emit("qa_fetch_notifications",{type:"all"},fe=>{fe!=null&&fe.ok&&N(fe.data.notifications||[])});else try{const{data:fe}=yield Se.get("/notifications");N(fe||[])}catch(fe){console.error("Failed to load notifications for badges:",fe)}}),D=()=>pe(this,null,function*(){var fe,xe;S(!0),A("");try{{const{data:se}=yield Se.get("/meeting-requests");C([...se.received||[],...se.sent||[]]),S(!1)}}catch(se){A(((xe=(fe=se==null?void 0:se.response)==null?void 0:fe.data)==null?void 0:xe.message)||"Failed to load meeting requests"),S(!1)}});d.useEffect(()=>{J(),D(),Z()},[t,a,s]),d.useEffect(()=>{a&&s&&F()},[a,s]);const O=(fe,xe)=>pe(this,null,function*(){var se,ae;try{oe.dismiss();const G=oe.loading(`${xe==="accept"?"Accepting":"Declining"} connection request...`),Ne=x.find(Be=>{var dt;return Be.type==="connection.request"&&((dt=Be.payload)==null?void 0:dt.item_id)===fe});yield Se.post(`/connections/requests/${fe}/respond`,{action:xe}),oe.success(`Connection request ${xe==="accept"?"accepted":"declined"} successfully`,{id:G}),Ne&&z(Ne.id),J()}catch(G){oe.dismiss(),oe.error(((ae=(se=G==null?void 0:G.response)==null?void 0:se.data)==null?void 0:ae.message)||"Failed to update connection request")}}),T=(fe,xe,se="")=>pe(this,null,function*(){var ae,G;try{oe.dismiss();const Ne=oe.loading(`${xe==="accept"?"Accepting":"Declining"} meeting request...`),Be=x.find(dt=>{var nt;return dt.type==="meeting_request"&&((nt=dt.payload)==null?void 0:nt.item_id)===fe});a&&s?yield Se.post(`/meeting-requests/${fe}/respond`,{action:xe,rejectionReason:se}):yield Se.post(`/meeting-requests/${fe}/respond`,{action:xe,rejectionReason:se}),Be&&(yield z(Be.id)),oe.dismiss(),oe.success(`Meeting request ${xe==="accept"?"accepted":"declined"} successfully`,{id:Ne}),yield Promise.all([D(),Z()])}catch(Ne){oe.dismiss(),oe.error(((G=(ae=Ne==null?void 0:Ne.response)==null?void 0:ae.data)==null?void 0:G.message)||"Failed to update meeting request")}}),R=(fe,xe,se="")=>pe(this,null,function*(){var ae,G;try{oe.dismiss();const Ne=oe.loading(`${xe==="accept"?"Accepting":xe==="reject"?"Declining":"Setting as tentative"} meeting invitation...`),Be=x.find(dt=>{var nt;return dt.type==="meeting_invitation"&&((nt=dt.payload)==null?void 0:nt.item_id)===fe});a&&s?yield Se.post(`/meeting-requests/${fe}/respond-invitation`,{action:xe,rejectionReason:se}):yield Se.post(`/meeting-requests/${fe}/respond-invitation`,{action:xe,rejectionReason:se}),Be&&(yield z(Be.id)),oe.dismiss(),oe.success(`Meeting invitation ${xe==="accept"?"accepted":xe==="reject"?"declined":"set as tentative"} successfully`,{id:Ne}),yield Promise.all([D(),Z()])}catch(Ne){oe.dismiss(),oe.error(((G=(ae=Ne==null?void 0:Ne.response)==null?void 0:ae.data)==null?void 0:G.message)||"Failed to update meeting invitation")}}),z=fe=>pe(this,null,function*(){try{if(a&&s)s.emit("qa_mark_notification_read",{notificationId:fe},xe=>{xe!=null&&xe.ok&&(w(se=>se.map(ae=>ae.id===fe?he(te({},ae),{readAt:new Date}):ae)),N(se=>se.map(ae=>ae.id===fe?he(te({},ae),{readAt:new Date}):ae)))});else{let xe=yield Se.post(`/notifications/${fe}/read`);console.log(xe),w(se=>se.map(ae=>ae.id===fe?he(te({},ae),{readAt:new Date}):ae)),N(se=>se.map(ae=>ae.id===fe?he(te({},ae),{readAt:new Date}):ae))}}catch(xe){console.error("Error marking notification as read:",xe)}}),_=()=>pe(this,null,function*(){var fe,xe;try{const se=oe.loading("Marking all notifications as read...");a&&s?s.emit("qa_mark_all_notifications_read",ae=>{ae!=null&&ae.ok?(oe.success("All notifications marked as read",{id:se}),w(G=>G.map(Ne=>he(te({},Ne),{readAt:new Date}))),N(G=>G.map(Ne=>he(te({},Ne),{readAt:new Date}))),W(G=>he(te({},G),{notificationsUnread:0,connectionsPending:0,meetingsPending:0,messagesPending:0,jobApplicationsPending:0,eventRegistrationsPending:0}))):oe.error((ae==null?void 0:ae.error)||"Failed to mark notifications as read",{id:se})}):(yield Se.post("/notifications/mark-all-read"),oe.success("All notifications marked as read",{id:se}),w(ae=>ae.map(G=>he(te({},G),{readAt:new Date}))),N(ae=>ae.map(G=>he(te({},G),{readAt:new Date}))),W(ae=>he(te({},ae),{notificationsUnread:0,connectionsPending:0,meetingsPending:0,messagesPending:0,jobApplicationsPending:0,eventRegistrationsPending:0})))}catch(se){oe.dismiss(),oe.error(((xe=(fe=se==null?void 0:se.response)==null?void 0:fe.data)==null?void 0:xe.message)||"Failed to mark notifications as read")}}),U=fe=>pe(this,null,function*(){var xe,se;try{a&&s?s.emit("qa_delete_notification",{notificationId:fe},ae=>{ae!=null&&ae.ok&&(w(G=>G.filter(Ne=>Ne.id!==fe)),N(G=>G.filter(Ne=>Ne.id!==fe)),oe.success("Notification deleted"))}):(yield Se.delete(`/notifications/${fe}`),w(ae=>ae.filter(G=>G.id!==fe)),N(ae=>ae.filter(G=>G.id!==fe)),oe.success("Notification deleted"))}catch(ae){oe.dismiss(),oe.error(((se=(xe=ae==null?void 0:ae.response)==null?void 0:xe.data)==null?void 0:se.message)||"Failed to delete notification")}}),Q=(rt=H.connectionsPending)!=null?rt:f.length,re=(Xe=H.meetingsPending)!=null?Xe:I.filter(fe=>{var xe;return fe.status==="pending"&&((xe=fe.requester)==null?void 0:xe.id)!==(e==null?void 0:e.id)}).length,le=(V=H.messagesPending)!=null?V:j.filter(fe=>!fe.readAt&&fe.type==="message.new").length,ue=(ne=H.jobApplicationsPending)!=null?ne:j.filter(fe=>!fe.readAt&&fe.type.startsWith("job.application.")).length,ge=(Ce=H.eventRegistrationsPending)!=null?Ce:j.filter(fe=>!fe.readAt&&fe.type.startsWith("event.registration.")).length,ke=j.filter(fe=>!fe.readAt&&(fe.type.startsWith("company.")||fe.type.startsWith("organization."))).length,tt=j.filter(fe=>!fe.readAt&&(fe.type==="system"||fe.type==="custom_notification")).length,He=d.useMemo(()=>{const fe=[...f.map(G=>({key:`conn-in-${G.id}`,id:G.id,type:"connection",tab:"Connections",hasApproval:!0,title:"New Connection Request",desc:`${G.fromName||"Someone"} wants to connect with you.${G.reason?` Reason: ${G.reason}.`:""}${G.message?` Message: "${G.message}"`:""}`,time:lN(G.createdAt),userId:G.fromId,actions:r.jsxs("div",{className:"mt-2 flex gap-2 text-sm",children:[r.jsx("button",{onClick:()=>O(G.id,"accept"),className:fs.primary,children:"Accept"}),r.jsx("button",{onClick:()=>O(G.id,"reject"),className:fs.outline,children:"Decline"})]})}))],xe=I.filter(G=>{var Ne;return G.status==="pending"&&((Ne=G.requester)==null?void 0:Ne.id)!==(e==null?void 0:e.id)}).map(G=>{var Ne,Be;return{key:`meeting-${G.id}`,type:"meeting",id:G.id,title:"New Meeting Request",tab:"Meetings",hasApproval:!0,desc:`${((Ne=G.requester)==null?void 0:Ne.name)||"Someone"} wants to schedule a meeting: "${G.title}"`,time:lN(G.createdAt),meta:` ${new Date(G.scheduledAt).toLocaleString("en-US",{dateStyle:"short",timeStyle:"short"})} ${G.time?"-":""} ${G.time||""} (${G.timezone})  ${G.duration} min  ${G.mode} ${G.link||G.location?"":""} ${G.link||G.location||""}`,userId:(Be=G.requester)==null?void 0:Be.id,actions:r.jsxs("div",{className:"mt-2 flex gap-2 text-sm",children:[r.jsx("button",{onClick:()=>T(G.id,"accept"),className:fs.primary,children:"Accept"}),r.jsx("button",{onClick:()=>T(G.id,"reject"),className:fs.outline,children:"Decline"})]})}}),se=x.map(G=>{var de,$e,it,gt,De,Le,Ae,Pe,Qe,mt,Me,Oe,We,qe,vt,Ge,ot,Mt,_t,Ct,B,ee,q,K,ce,ye,Ze,ut,we,Ee,Ie,Ve,ht,ft,ct,xt,ve,Fe,et,Ye,pt,Ke,je,st,wt,Lt,Wt,hr,Dt,er,tr,jt,Zt,cr,br,Xr,on,gr,pa,Dn,qr,Fs,xa,va,ra,Ue,It,Ft,Kt,lr,wr,uc,ho,pg;let Ne="",Be="",dt="";switch(G.type){case"connection.request":Ne="New Connection Request",Be=`${((de=G.payload)==null?void 0:de.fromName)||"Someone"} wants to connect with you`,($e=G.payload)!=null&&$e.reason&&(Be+=`. Reason: ${G.payload.reason}`);break;case"connection.accepted":Ne="Connection Accepted",Be=`${((it=G.payload)==null?void 0:it.fromName)||"Someone"} accepted your connection request`;break;case"connection.rejected":Ne="Connection Declined",Be=`${((gt=G.payload)==null?void 0:gt.fromName)||"Someone"} declined your connection request`;break;case"connection.removed":Ne="Connection Removed",Be=`${((De=G.payload)==null?void 0:De.fromName)||"Someone"} removed the connection`,(Le=G.payload)!=null&&Le.note&&(Be+=`. Note: ${G.payload.note}`);break;case"meeting_request":Ne="New Meeting Request",Be=`${((Ae=G.payload)==null?void 0:Ae.fromName)||"Someone"} requested a meeting ${(Pe=G.payload)!=null&&Pe.title?`:${(Qe=G.payload)==null?void 0:Qe.title}`:""}`,dt=` ${new Date(G.payload.scheduledAt).toLocaleString("en-US",{dateStyle:"short",timeStyle:"short"})} ${G.payload.time?"-":""} ${G.payload.time||""} (${G.payload.timezone})  ${G.payload.duration} min  ${G.payload.mode} ${G.payload.link||G.payload.location?"":""} ${G.payload.link||G.payload.location||""}`,(mt=G.payload)!=null&&mt.agenda&&(Be+=`. Agenda: ${G.payload.agenda}`);break;case"meeting_invitation":Ne="Meeting Invitation",Be=`${((Me=G.payload)==null?void 0:Me.fromName)||"Someone"} has invited you to a meeting ${(Oe=G.payload)!=null&&Oe.title?`:${(We=G.payload)==null?void 0:We.title}`:""}`,dt=` ${new Date(G.payload.scheduledAt).toLocaleString("en-US",{dateStyle:"short",timeStyle:"short"})} ${G.payload.time?"-":""} ${G.payload.time||""} (${G.payload.timezone})  ${G.payload.duration} min  ${G.payload.mode} ${G.payload.link||G.payload.location?"":""} ${G.payload.link||G.payload.location||""}`,(qe=G.payload)!=null&&qe.agenda&&(Be+=`. Agenda: ${G.payload.agenda}`);break;case"meeting_response":Ne=((vt=G.payload)==null?void 0:vt.action)=="accept"?"Meeting Accepted":"Meeting Declined",Be=`${((Ge=G.payload)==null?void 0:Ge.fromName)||"Someone"} ${((ot=G.payload)==null?void 0:ot.action)=="accept"?"accepted":"declined"} your meeting request${(Mt=G.payload)!=null&&Mt.title?`: ${(_t=G.payload)==null?void 0:_t.title}`:""}`,dt=` ${new Date(G.payload.scheduledAt).toLocaleString("en-US",{dateStyle:"short",timeStyle:"short"})} ${G.payload.time?"-":""} ${G.payload.time||""} (${G.payload.timezone})  ${G.payload.duration} min  ${G.payload.mode} ${G.payload.link||G.payload.location?"":""} ${G.payload.link||G.payload.location||""}`,(Ct=G.payload)!=null&&Ct.rejectionReason&&(Be+=`. Reason: ${G.payload.rejectionReason}`);break;case"meeting_participant_response":Ne=((B=G.payload)==null?void 0:B.action)==="accept"?"Meeting Invitation Accepted":((ee=G.payload)==null?void 0:ee.action)==="reject"?"Meeting Invitation Declined":"Meeting Invitation Response",Be=`${((q=G.payload)==null?void 0:q.participantName)||"Someone"} ${(K=G.payload)==null?void 0:K.action}ed your meeting invitation${(ce=G.payload)!=null&&ce.title?`: ${(ye=G.payload)==null?void 0:ye.title}`:""}`,dt=` ${new Date(G.payload.scheduledAt).toLocaleString("en-US",{dateStyle:"short",timeStyle:"short"})} (${G.payload.timezone})  ${G.payload.duration} min  ${G.payload.mode} ${G.payload.link||G.payload.location?"":""} ${G.payload.link||G.payload.location||""}`,(Ze=G.payload)!=null&&Ze.rejectionReason&&(Be+=`. Reason: ${G.payload.rejectionReason}`);break;case"meeting_cancelled":Ne="Meeting Cancelled",Be=`${((ut=G.user)==null?void 0:ut.name)||"Someone"} cancelled the meeting: "${((we=G.payload)==null?void 0:we.title)||"Untitled"}"`;break;case"message.new":Ne="New Message",Be=`${((Ee=G.payload)==null?void 0:Ee.senderName)||"Someone"} sent you a message`,(Ie=G.payload)!=null&&Ie.content&&(Be+=`: "${G.payload.content.length>50?G.payload.content.substring(0,50)+"...":G.payload.content}"`);break;case"job.application.received":Ne="New Job Application",Be=`${((Ve=G.payload)==null?void 0:Ve.applicantName)||"Someone"} applied for your job: "${((ht=G.payload)==null?void 0:ht.jobTitle)||"Untitled"}"`;break;case"job.application.accepted":Ne="Job Application Accepted",Be=`Your application for "${((ft=G.payload)==null?void 0:ft.jobTitle)||"the job"}" was accepted`;break;case"job.application.rejected":Ne="Job Application Rejected",Be=`Your application for "${((ct=G.payload)==null?void 0:ct.jobTitle)||"the job"}" was rejected`;break;case"job.application.reviewed":Ne="Job Application Reviewed",Be=`Your application for "${((xt=G.payload)==null?void 0:xt.jobTitle)||"the job"}" has been reviewed`;break;case"event.registration.received":Ne="New Event Registration",Be=`${((ve=G.payload)==null?void 0:ve.registrantName)||"Someone"} registered for your event: "${((Fe=G.payload)==null?void 0:Fe.eventTitle)||"Untitled"}"`;break;case"event.registration.confirmed":Ne="Event Registration Confirmed",Be=`Your registration for "${((et=G.payload)==null?void 0:et.eventTitle)||"the event"}" has been confirmed`;break;case"event.registration.cancelled":Ne="Event Registration Cancelled",Be=`Your registration for "${((Ye=G.payload)==null?void 0:Ye.eventTitle)||"the event"}" has been cancelled`;break;case"company.staff.accepted":Ne="Staff Invitation Accepted",Be=`${((pt=G.payload)==null?void 0:pt.staffName)||"Someone"} accepted your staff invitation for the role of ${((Ke=G.payload)==null?void 0:Ke.role)||"staff"}`;break;case"company.staff.rejected":Ne="Staff Invitation Declined",Be=`${((je=G.payload)==null?void 0:je.staffName)||"Someone"} declined your staff invitation for the role of ${((st=G.payload)==null?void 0:st.role)||"staff"}`;break;case"company.staff.removed":Ne="Removed from Company Staff",Be=`You have been removed from the staff of ${((wt=G.payload)==null?void 0:wt.companyName)||"the company"}`;break;case"company.representative.revoked":Ne="Representative Authorization Revoked",Be=`Your representative authorization for ${((Lt=G.payload)==null?void 0:Lt.companyName)||"the company"} has been revoked`;break;case"company.representative.invitation":Ne="Company Representative Invitation",Be=`${((Wt=G.payload)==null?void 0:Wt.companyName)||"A company"} has invited you to be their representative`;break;case"company.representative.authorized":Ne="Representative Authorization Confirmed",Be=`${((hr=G.payload)==null?void 0:hr.representativeName)||"Someone"} has authorized as your company representative`;break;case"company.staff.invitation":Ne="Company Staff Invitation",Be=`${((Dt=G.payload)==null?void 0:Dt.companyName)||"A company"} has invited you to join their staff as ${((er=G.payload)==null?void 0:er.role)||"a staff member"}`;break;case"company.staff.left":Ne="Staff Member Left",Be=`${((tr=G.payload)==null?void 0:tr.staffName)||"Someone"} has left your organization`;break;case"organization.join.request":Ne="New Organization Join Request",Be=`${((jt=G.payload)==null?void 0:jt.userName)||"Someone"} wants to join your organization`,(Zt=G.payload)!=null&&Zt.message&&(Be+=`. Message: "${G.payload.message}"`);break;case"organization.join.approved":Ne="Organization Join Request Approved",Be=`Your join request for ${((cr=G.payload)==null?void 0:cr.organizationName)||"the organization"} has been approved`;break;case"organization.join.rejected":Ne="Organization Join Request Rejected",Be=`Your join request for ${((br=G.payload)==null?void 0:br.organizationName)||"the organization"} has been rejected`;break;case"new_post":Ne=`New ${((Xr=G.payload)==null?void 0:Xr.postType)||"post"} posted`,Be=`${((on=G.payload)==null?void 0:on.createdByName)||"Someone"} posted a new ${((gr=G.payload)==null?void 0:gr.postType)||""} post: "${((pa=G.payload)==null?void 0:pa.title)||"Untitled"}"`,(Dn=G.payload)!=null&&Dn.matchPercentage&&(Be+=` (${G.payload.matchPercentage}% match)`);break;case"comment.new":Ne="New Comment: "+((qr=G.payload)==null?void 0:qr.commentText),Be=`${((Fs=G.payload)==null?void 0:Fs.commenterName)||"Someone"} commented on your ${((xa=G.payload)==null?void 0:xa.postType)||""} post: "${((va=G.payload)==null?void 0:va.postTitle)||((ra=G.payload)==null?void 0:ra.commentDescription)||"Untitled"}"`;break;case"custom_notification":Ne=((Ue=G.payload)==null?void 0:Ue.subject)||"Custom Notification",Be=((It=G.payload)==null?void 0:It.message)||"You have a custom notification";break;default:Ne=G.title||"Notification",Be=G.message||"You have a new notification";break}let nt="system";G.type.startsWith("connection.")?nt="connection":G.type.startsWith("meeting_")?nt="meeting":G.type==="message.new"?nt="message":G.type.startsWith("job.application.")?nt="job":G.type.startsWith("event.registration.")?nt="event":G.type.startsWith("company.")||G.type.startsWith("organization.")?nt="invitation":G.type==="new_post"||G.type==="comment.new"?nt="posts":(G.type==="custom_notification"||G.type==="system")&&(nt="system");const Te=G.type==="connection.request"||G.type==="meeting_request"||G.type==="meeting_invitation",lt=Bs=>{window.location.href=`/profile?jobApplication=${Bs}`},_e=Bs=>{window.location.href=`/profile?eventRegistration=${Bs}`},be=Bs=>{Bs&&(window.location.href=Bs)},Y=nt==="system",ie=Y?null:UEe(G);return{key:`notif-${G.id}`,id:G.id,type:nt,title:Ne,payload:G.payload,meta:dt,tab:nt=="connection"?"Connections":nt=="meeting"?"Meetings":nt=="message"?"Messages":nt=="job"?"Jobs":nt=="event"?"Events":nt=="invitation"?"Invitations":nt=="posts"?"Posts":"System",desc:Be,isNotification:!0,time:lN(G.createdAt),read:!!G.readAt,readAt:G.readAt,hasActions:Te,userId:ie,actions:r.jsxs("div",{className:"mt-2 flex sm:justify-between items-center text-sm gap-x-2",children:[r.jsxs("div",{className:"flex gap-2",children:[!G.readAt&&r.jsxs("button",{onClick:()=>z(G.id),className:fs.outline,children:[r.jsx("span",{className:"max-md:hidden",children:"Mark Read"}),r.jsx("span",{className:"md:hidden",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#5f6368",children:r.jsx("path",{d:"M480-480Zm280-160q-50 0-85-35t-35-85q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q28 0 55.5 4t54.5 12q-11 17-18 36.5T562-788q-20-6-40.5-9t-41.5-3q-134 0-227 93t-93 227q0 134 93 227t227 93q134 0 227-93t93-227q0-21-3-41.5t-9-40.5q20-3 39.5-10t36.5-18q8 27 12 54.5t4 55.5q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm-57-216 273-273q-20-7-37.5-17.5T625-611L424-410 310-522l-56 56 169 170Z"})})})]}),r.jsxs("button",{onClick:()=>U(G.id),className:fs.danger,children:[r.jsx("span",{className:"max-md:hidden",children:"Delete"}),r.jsx("span",{className:"md:hidden",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#fff",children:r.jsx("path",{d:"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"})})})]})]}),r.jsxs("div",{className:"flex gap-2",children:[!Y&&r.jsx(X,{userId:ie}),G.type.startsWith("job.application.")&&((Ft=G.payload)==null?void 0:Ft.applicationId)&&r.jsx("button",{onClick:()=>lt(G.payload.applicationId),className:fs.primary,children:"View"}),G.type.startsWith("event.registration.")&&((Kt=G.payload)==null?void 0:Kt.registrationId)&&r.jsx("button",{onClick:()=>_e(G.payload.registrationId),className:fs.primary,children:"View"}),G.type.startsWith("company.")&&((lr=G.payload)==null?void 0:lr.actionLink)&&r.jsx("button",{onClick:()=>be(G.payload.actionLink),className:fs.primary,children:"View"}),G.type.startsWith("organization.")&&((wr=G.payload)==null?void 0:wr.actionLink)&&r.jsx("button",{onClick:()=>be(G.payload.actionLink),className:fs.primary,children:"View"}),G.type==="message.new"&&((uc=G.payload)==null?void 0:uc.senderId)&&r.jsx("button",{onClick:()=>window.location.href=`/messages?userId=${G.payload.senderId}`,className:fs.primary,children:"View"}),G.type==="meeting_invitation"&&!G.readAt&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>R(G.payload.item_id,"accept"),className:fs.primary,children:"Accept"}),r.jsx("button",{onClick:()=>{const Bs=window.prompt("Reason for rejection (optional):");R(G.payload.item_id,"reject",Bs||"")},className:fs.outline,children:"Decline"})]}),G.type==="new_post"&&((ho=G.payload)==null?void 0:ho.link)&&r.jsxs("button",{onClick:()=>window.location.href=G.payload.link,className:fs.primary,children:[r.jsx("span",{className:"max-md:hidden",children:"View Post"}),r.jsx(Uu,{className:"md:hidden"})]}),G.type==="comment.new"&&((pg=G.payload)==null?void 0:pg.link)&&r.jsxs("button",{onClick:()=>window.location.href=G.payload.link,className:fs.primary,children:[r.jsx("span",{className:"max-md:hidden",children:"View Post"}),r.jsx(Uu,{className:"md:hidden"})]})]})]})}});return[...fe,...xe,...se]},[f,g,I,x,e==null?void 0:e.id]),ze=d.useMemo(()=>{if(t==="All")return He;const xe={Connections:"connection",Meetings:"meeting",Messages:"message",Jobs:"job",Events:"event",Invitations:"invitation",Posts:"posts",System:"system"}[t];console.log(`Filtering: ${t} -> Type: ${xe}`),console.log("All items types:",He.map(ae=>({type:ae.type,title:ae.title})));const se=He.filter(ae=>{const G=ae.type===xe;return console.log(`Item: ${ae.title}, Type: ${ae.type}, Matches: ${G}`),G});return console.log(`Filter: ${t}, Found ${se.length} items`),se},[He,t]);return r.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900",children:[r.jsx(an,{}),r.jsxs("main",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Notifications"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Stay updated with your network activities"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:l,className:`${fs.outline} flex items-center gap-2`,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),r.jsx("span",{className:"max-md:hidden",children:" Refresh"})]}),r.jsxs("button",{onClick:_,className:fs.primary,children:[r.jsx("span",{className:"max-md:hidden",children:"Mark All Read"}),r.jsx("span",{className:"md:hidden",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#fff",children:r.jsx("path",{d:"M480-480Zm280-160q-50 0-85-35t-35-85q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q28 0 55.5 4t54.5 12q-11 17-18 36.5T562-788q-20-6-40.5-9t-41.5-3q-134 0-227 93t-93 227q0 134 93 227t227 93q134 0 227-93t93-227q0-21-3-41.5t-9-40.5q20-3 39.5-10t36.5-18q8 27 12 54.5t4 55.5q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm-57-216 273-273q-20-7-37.5-17.5T625-611L424-410 310-522l-56 56 169 170Z"})})})]})]})]}),r.jsx("div",{className:"mt-6 flex items-center justify-between",children:r.jsx("div",{className:"flex gap-2 flex-wrap",children:["All","Connections","Meetings","Messages","Jobs","Events","Posts","Invitations","System"].map(fe=>{const xe=t===fe;let se=0;return fe==="Connections"?se=Q:fe==="Meetings"?se=re:fe==="Messages"?se=le:fe==="Jobs"?se=ue:fe==="Events"?se=ge:fe==="Posts"?se=j.filter(ae=>!ae.readAt&&(ae.type==="new_post"||ae.type==="comment.new")).length:fe==="Invitations"?se=ke:fe==="System"?se=tt:fe==="All"&&(se=Q+re+le+ue+ge+ke+tt+j.filter(ae=>!ae.readAt&&(ae.type==="new_post"||ae.type==="comment.new")).length),r.jsxs("button",{onClick:()=>n(fe),className:`relative px-4 py-1.5 rounded-full text-sm font-medium ${xe?"bg-brand-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[r.jsx("span",{children:fe}),se>0&&r.jsx("span",{className:`ml-2 inline-grid place-items-center rounded-full text-[10px] font-semibold px-1.5 h-4 min-w-4 ${xe?"bg-white text-brand-600":"bg-red-500 text-white"}`,children:se>9?"9+":se})]},fe)})})}),r.jsx("div",{className:"mt-6 space-y-6",children:c||E||b?r.jsx("div",{className:"rounded-2xl bg-white border border-gray-100 shadow-sm p-6 text-center",children:r.jsx("div",{className:"animate-pulse",children:t==="Connections"?"Loading connection requests...":`Loading ${t.toLowerCase()} notifications...`})}):r.jsx(r.Fragment,{children:r.jsx("div",{className:"space-y-4",children:ze.length===0?r.jsx("div",{className:"rounded-2xl bg-white border border-gray-100 shadow-sm p-6 text-center text-gray-500",children:t==="All"?"No notifications yet":t==="Connections"?"No connection requests yet":t==="Meetings"?"No meeting requests yet":`No ${t.toLowerCase()} notifications yet`}):ze.filter(fe=>!fe.hasApproval).map(fe=>{var Ne,Be,dt;const xe=(Ne=ze.filter(nt=>{var Te;return nt.id==((Te=fe==null?void 0:fe.payload)==null?void 0:Te.item_id)&&nt.hasApproval}))==null?void 0:Ne[0];let se=xe==null?void 0:xe.actions,ae=xe==null?void 0:xe.desc,G=xe==null?void 0:xe.meta;return fe.meta=G||fe.meta,console.log({item:fe}),r.jsxs("div",{className:`rounded-2xl  ${fe!=null&&fe.hasApproval?"bg-gray-100":"bg-white"} border shadow-sm p-4 md:flex justify-between ${fe.readAt&&!xe?"border-gray-100 opacity-75":"border-brand-200 bg-brand-50"}`,children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-semibold",children:fe.title}),!fe.readAt&&!fe.hasApproval&&r.jsx("span",{className:"inline-block w-2 h-2 bg-red-500 rounded-full"})]}),r.jsx("p",{className:`text-sm text-gray-600 mt-1 ${fe.item=="system"?"line-clamp-3":(Be=fe==null?void 0:fe.payload)!=null&&Be.commentText?"line-clamp-2":""}`,children:fe.type==="system"&&((dt=fe.payload)!=null&&dt.message)?r.jsx("span",{dangerouslySetInnerHTML:{__html:fe.payload.message}}):ae||fe.desc}),fe.meta&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:fe.meta}),r.jsxs("div",{className:"flex md:items-center max-sm:flex-col justify-between gap-x-5 gap-y-1",children:[r.jsx("div",{className:"flex-1",children:fe.actions}),se]})]}),r.jsx("div",{className:"text-xs text-gray-400 whitespace-nowrap md:ml-4 max-md:mt-2",children:fe.time})]},fe.key)})})})})]})]})}function HEe(e,t){const n=Date.now(),s=new Date(e).getTime(),a=s-10*60*1e3,i=s+(Number(t)||30)*60*1e3;return n>=a&&n<=i}function Wv(e,t){const n=Date.now(),s=new Date(e).getTime(),a=s+(Number(t)||30)*60*1e3;return n<s?"upcoming":n>a?"ended":"ongoing"}function VEe(){const e=Ht(),[t,n]=d.useState(!1),[s,a]=d.useState([]),[i,o]=d.useState("");function l(){return pe(this,null,function*(){var g,m;n(!0),o("");try{const{data:p}=yield Se.get("/meeting-requests/upcoming");a(p||[])}catch(p){o(((m=(g=p==null?void 0:p.response)==null?void 0:g.data)==null?void 0:m.message)||"Failed to load meetings")}finally{n(!1)}})}d.useEffect(()=>{l()},[]);const c=s.filter(g=>Wv(g.scheduledAt,g.duration)==="upcoming"),u=s.filter(g=>Wv(g.scheduledAt,g.duration)==="ongoing"),f=s.filter(g=>Wv(g.scheduledAt,g.duration)==="ended");function h(g){var b;const m=Wv(g.scheduledAt,g.duration),p=g.mode==="video"&&HEe(g.scheduledAt,g.duration),v=((b=g.requester)==null?void 0:b.id)===g.fromUserId?g.recipient:g.requester;return r.jsx("div",{className:"rounded-2xl bg-white border border-gray-100 shadow-sm p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h3",{className:"font-semibold text-lg",children:g.title}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${m==="upcoming"?"bg-blue-50 text-blue-700":m==="ongoing"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:m==="upcoming"?"Upcoming":m==="ongoing"?"Ongoing":"Ended"})]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Meeting with ",r.jsx("span",{className:"font-medium",children:(v==null?void 0:v.name)||"User"})]}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(To,{size:16,className:"text-brand-600"}),r.jsxs("span",{children:[new Date(g.scheduledAt).toLocaleDateString()," at"," ",new Date(g.scheduledAt).toLocaleTimeString()]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ki,{size:16,className:"text-brand-600"}),r.jsxs("span",{children:[g.duration," minutes  ",g.timezone]})]}),r.jsx("div",{className:"flex items-center gap-2",children:g.mode==="video"?r.jsxs(r.Fragment,{children:[r.jsx(Ji,{size:16,className:"text-brand-600"}),r.jsx("span",{children:"Video call"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Hr,{size:16,className:"text-brand-600"}),r.jsx("span",{children:"In person"})]})}),g.agenda&&r.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"Agenda:"}),r.jsx("p",{className:"text-sm text-gray-600",children:g.agenda})]})]})]}),r.jsxs("div",{className:"ml-4 flex flex-col gap-2",children:[g.mode==="video"&&g.link&&r.jsxs("a",{href:g.link,target:"_blank",rel:"noreferrer",className:`inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium ${p?"bg-brand-500 text-white hover:bg-brand-600":"bg-gray-100 text-gray-500 cursor-not-allowed"}`,onClick:y=>{p||y.preventDefault()},title:p?"Join meeting":m==="upcoming"?"Join opens 10 minutes before start":"Meeting has ended",children:[r.jsx(Ji,{size:16}),p?"Join Now":"Join"]}),g.mode==="in_person"&&g.location&&r.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(g.location)}`,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium bg-brand-50 text-brand-700 hover:bg-brand-100",children:[r.jsx(Lo,{size:16}),"View Location"]})]})]})},g.id)}return r.jsxs(ei,{children:[r.jsx(an,{}),r.jsxs("main",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"My Meetings"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Manage your scheduled meetings and join calls"})]}),r.jsx("button",{onClick:l,className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Refresh"})]}),t&&r.jsx("div",{className:"rounded-2xl bg-white border border-gray-100 shadow-sm p-6 text-sm text-gray-600",children:"Loading meetings"}),i&&r.jsx("div",{className:"rounded-2xl bg-white border border-red-200 bg-red-50 shadow-sm p-6 text-sm text-red-700",children:i}),!t&&!i&&r.jsxs("div",{className:"space-y-8",children:[u.length>0&&r.jsxs("section",{children:[r.jsx("h2",{className:"text-lg font-semibold mb-4 text-green-700",children:" Ongoing Meetings"}),r.jsx("div",{className:"space-y-4",children:u.map(h)})]}),c.length>0&&r.jsxs("section",{children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:" Upcoming Meetings"}),r.jsx("div",{className:"space-y-4",children:c.map(h)})]}),f.length>0&&r.jsxs("section",{children:[r.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-600",children:" Past Meetings"}),r.jsx("div",{className:"space-y-4",children:f.slice(0,10).map(h)})]}),s.length===0&&!t&&r.jsxs("div",{className:"rounded-2xl bg-white border border-gray-100 shadow-sm p-8 text-center",children:[r.jsx(To,{size:48,className:"mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No meetings yet"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Start connecting with people and schedule meetings to collaborate"}),r.jsx("button",{onClick:()=>e("/people"),className:"rounded-lg px-4 py-2 text-sm font-medium text-white bg-brand-500 hover:bg-brand-600",children:"Explore People"})]})]})]})]})}const mu={primary:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30 disabled:opacity-50 disabled:cursor-not-allowed",primaryGhost:"rounded-lg px-3 py-1.5 text-sm font-semibold border border-brand-600 text-brand-600 bg-white hover:bg-brand-50",badge:"inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium",chip:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs"},Au={chevron:()=>r.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"m6 9 6 6 6-6"})}),calendar:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M7 2v2H5a2 2 0 0 0-2 2v1h18V6a2 2 0 0 0-2-2h-2V2h-2v2H9V2H7zm14 7H3v11a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V9z"})}),mapPin:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7zm0 9.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z"})}),ticket:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M3 7a2 2 0 0 1 2-2h5v3a2 2 0 1 0 4 0V5h5a2 2 0 0 1 2 2v3h-3a2 2 0 1 0 0 4h3v3a2 2 0 0 1-2 2h-5v-3a2 2 0 1 0-4 0v3H5a2 2 0 0 1-2-2v-3h3a2 2 0 1 0 0-4H3V7z"})})};function n8(e,t){if(!e)return"";try{const n=new Date(e+"T00:00:00");return new Intl.DateTimeFormat(void 0,{dateStyle:"full",timeZone:t||"UTC"}).format(n)}catch(n){return e}}function s8(e,t){if(!e)return"";try{const n=new Date,[s,a]=e.split(":").map(Number);return n.setHours(s,a,0,0),new Intl.DateTimeFormat(void 0,{hour:"numeric",minute:"2-digit",timeZone:t||"UTC"}).format(n)}catch(n){return e}}function GEe(e=[]){const t=new Map,n=new Map,s=new Map,a=new Map;for(const i of e){t.set(String(i.id),i.name||i.title||`Identity ${i.id}`);for(const o of i.categories||[]){n.set(String(o.id),o.name||o.title||`Category ${o.id}`);for(const l of o.subcategories||[]){s.set(String(l.id),l.name||l.title||`Subcategory ${l.id}`);for(const c of l.subsubs||[])a.set(String(c.id),c.name||c.title||`Sub-sub ${c.id}`)}}}return{ids:t,cats:n,subs:s,subsubs:a}}function Uf({value:e,onChange:t,options:n,placeholder:s="Select",disabled:a=!1,required:i=!1,ariaLabel:o}){const[l,c]=d.useState(!1),[u,f]=d.useState(""),[h,g]=d.useState(0),m=d.useRef(null),p=d.useRef(null),[v,b]=d.useState(!1),y=d.useMemo(()=>n.find(E=>String(E.value)===String(e))||null,[n,e]),x=d.useMemo(()=>{const E=u.trim().toLowerCase();return E?n.map(S=>({o:S,score:(S.label||"").toLowerCase().indexOf(E)})).filter(S=>S.score!==-1).sort((S,I)=>S.score-I.score).map(S=>S.o).slice(0,100):n.slice(0,100)},[u,n]),j=v||l||u!==""?u:(y==null?void 0:y.label)||"";d.useEffect(()=>{function E(S){m.current&&(m.current.contains(S.target)||c(!1))}return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]),d.useEffect(()=>{l||g(0)},[l,u]);function N(E){var S;t==null||t((E==null?void 0:E.value)||""),f(""),c(!1),(S=p.current)==null||S.blur()}function L(){var E;t==null||t(""),f(""),c(!1),(E=p.current)==null||E.focus()}function k(E){if(!a){if(!l&&(E.key==="ArrowDown"||E.key==="ArrowUp")){c(!0);return}if(!l){if(E.key==="Backspace"){E.preventDefault(),f(y&&!u?(y.label||"").slice(0,-1):(u||"").slice(0,-1)),c(!0);return}return}if(E.key==="ArrowDown")E.preventDefault(),g(S=>Math.min(S+1,x.length-1));else if(E.key==="ArrowUp")E.preventDefault(),g(S=>Math.max(S-1,0));else if(E.key==="Enter"){E.preventDefault();const S=x[h];S&&N(S)}else E.key==="Escape"&&c(!1)}}return r.jsxs("div",{ref:m,className:`relative ${a?"opacity-60":""}`,children:[r.jsxs("div",{className:"grid gap-1.5",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{ref:p,type:"text",value:j,disabled:a,placeholder:s,onChange:E=>{f(E.target.value),c(!0)},onFocus:()=>{a||(b(!0),c(!0))},onBlur:()=>b(!1),onKeyDown:k,"aria-autocomplete":"list","aria-expanded":l,"aria-controls":"ss-results","aria-label":o||s,role:"combobox",autoComplete:"off",className:"w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-16 focus:outline-none focus:ring-2 focus:ring-brand-200 text-black"}),y&&!a?r.jsx("button",{type:"button",onClick:L,className:"absolute right-8 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-gray-100",title:"Clear",children:""}):null,r.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:r.jsx(Au.chevron,{})})]}),i&&r.jsx("input",{tabIndex:-1,"aria-hidden":"true",className:"sr-only",required:!0,value:e||"",onChange:()=>{}})]}),l&&!a&&r.jsx("div",{id:"ss-results",role:"listbox",className:"absolute z-30 mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:x.length===0?r.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No results"}):r.jsx("ul",{className:"max-h-72 overflow-auto",children:x.map((E,S)=>{const I=S===h;return r.jsx("li",{role:"option","aria-selected":I,className:`cursor-pointer px-3 py-2 text-sm ${I?"bg-brand-50":"hover:bg-gray-50"}`,onMouseEnter:()=>g(S),onMouseDown:C=>{C.preventDefault(),N(E)},children:E.label},E.value)})})})]})}const qEe=[{value:"All countries",label:"All countries"},...An.map(e=>({value:e,label:e}))];function YEe({form:e,coverImageBase64:t,meta:n,audSel:s,audTree:a}){const i=e.timezone||"Africa/Lagos",o=d.useMemo(()=>GEe(a),[a]),l=Array.from(s.identityIds||[]).map(g=>o.ids.get(String(g))).filter(Boolean),c=Array.from(s.categoryIds||[]).map(g=>o.cats.get(String(g))).filter(Boolean),u=Array.from(s.subcategoryIds||[]).map(g=>o.subs.get(String(g))).filter(Boolean),f=Array.from(s.subsubCategoryIds||[]).map(g=>o.subsubs.get(String(g))).filter(Boolean),h=t||e.coverImageUrl||null;return r.jsxs("div",{className:"mt-6 rounded-2xl bg-white border p-0 shadow-sm overflow-hidden",children:[h?r.jsxs("div",{className:"relative aspect-[16/6] w-full bg-gray-100",children:[r.jsx("img",{src:h,alt:"Event cover",className:"h-full w-full object-cover"}),r.jsx("span",{className:"absolute left-4 top-4 bg-white/90 border-gray-200 text-gray-700 px-2 py-0.5 rounded-full border text-xs",children:e.eventType||"Event"})]}):null,r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"flex items-start justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold",children:e.title||"Untitled event"}),r.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e.description||"No description provided."})]})}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[r.jsxs("div",{className:"rounded-xl border p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[r.jsx(Au.calendar,{})," ",r.jsx("span",{children:"Date & Time"})]}),r.jsxs("div",{className:"mt-2 text-sm text-gray-700",children:[r.jsx("div",{children:n8(e.date,i)}),r.jsxs("div",{children:[s8(e.startTime,i),e.endTime?`  ${s8(e.endTime,i)}`:""," ",r.jsxs("span",{className:"text-gray-500",children:["(",i,")"]})]})]})]}),r.jsxs("div",{className:"rounded-xl border p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[r.jsx(Au.mapPin,{})," ",r.jsx("span",{children:"Location"})]}),r.jsxs("div",{className:"mt-2 text-sm text-gray-700",children:[e.locationType==="Virtual"?e.onlineUrl?r.jsx("a",{href:e.onlineUrl,target:"_blank",rel:"noreferrer",className:"text-brand-600 underline",children:"Join link"}):"Online":r.jsxs(r.Fragment,{children:[r.jsx("div",{children:e.address||""}),r.jsx("div",{children:[e.city,e.country].filter(Boolean).join(", ")||""})]}),r.jsx("div",{className:"mt-1 text-xs text-gray-500",children:e.locationType||""})]})]}),r.jsxs("div",{className:"rounded-xl border p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[r.jsx(Au.ticket,{})," ",r.jsx("span",{children:"Registration"})]}),r.jsxs("div",{className:"mt-2 text-sm text-gray-700",children:[r.jsx("div",{children:e.registrationType==="Paid"?`${e.price||""} ${e.currency||""}`:"Free"}),r.jsxs("div",{children:["Capacity: ",e.capacity||""]}),r.jsxs("div",{children:["Deadline: ",e.registrationDeadline?n8(e.registrationDeadline,i):""]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Target Audience"}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[l.map(g=>r.jsx("span",{className:mu.chip,children:g},`i-${g}`)),c.map(g=>r.jsx("span",{className:mu.chip,children:g},`c-${g}`)),u.map(g=>r.jsx("span",{className:mu.chip,children:g},`s-${g}`)),f.map(g=>r.jsx("span",{className:mu.chip,children:g},`ss-${g}`)),l.length+c.length+u.length+f.length===0&&r.jsx("span",{className:"text-sm text-gray-500",children:"Everyone"})]})]}),r.jsx("div",{className:"flex justify-end gap-3 pt-2",children:e.onlineUrl?r.jsx("a",{href:e.onlineUrl,target:"_blank",rel:"noreferrer",className:mu.primary,children:"Open Join Link"}):null})]})]})}function u6({triggerImageSelection:e=!1,hideHeader:t=!1,onSuccess:n}){var fe,xe,se,ae;const s=Ht(),{id:a}=ea(),[i,o]=d.useState(!1),[l,c]=d.useState(!1),{user:u}=Xt(),[f,h]=d.useState(null),[g,m]=d.useState([]),[p,v]=d.useState(!0);d.useEffect(()=>{pe(this,null,function*(){try{const Ne=yield fetch("/data/cities.json");if(!Ne.ok)throw new Error("Failed to fetch cities");const Be=yield Ne.json();m(Be)}catch(Ne){console.error("Error fetching cities:",Ne),oe.error("Failed to load cities data")}finally{v(!1)}})},[]);const b=d.useMemo(()=>g.slice(0,1e4).map(G=>({value:G.city,label:`${G.city}${G.country?`, ${G.country}`:""}`,country:G.country})),[g]),[y,x]=d.useState([]),[w,j]=d.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[N,L]=d.useState([]),[k,E]=d.useState({categoryId:"",subcategoryId:"",subsubCategoryId:""}),[S,I]=d.useState([]),[C,M]=d.useState({categoryId:"",subcategoryId:""}),[A,H]=d.useState(!1),[W,X]=d.useState({eventType:"Workshop",title:"",description:"",categoryId:"",subcategoryId:"",date:"",startTime:"",endTime:"",timezone:"Africa/Lagos",locationType:"In-Person",country:"All countries",city:"",address:"",onlineUrl:"",registrationType:"Free",price:"",currency:"USD",capacity:"",registrationDeadline:"",coverImageUrl:"",videoUrl:""}),[J,Z]=d.useState({categories:[],currencies:[],timezones:[]}),[F,D]=d.useState(!0),[O,T]=d.useState(null),[R,z]=d.useState(null),[_,U]=d.useState(null),[Q,re]=d.useState(!1),le=d.useRef(null),ue=d.useMemo(()=>W.country?String(W.country).split(",").map(G=>G.trim().toLowerCase()).filter(Boolean):[],[W.country]),ge=d.useMemo(()=>{if(ue.length===0||ue.includes("all countries"))return[];const G=new Set(ue);return b.filter(Ne=>G.has(Ne.country.toLowerCase()))},[ue,b]),ke=i&&f&&(u==null?void 0:u.id)!==f;d.useEffect(()=>{a&&(o(!0),D(!0),pe(this,null,function*(){var G,Ne,Be,dt,nt,Te,lt,_e,be,Y,ie,de,$e,it,gt,De,Le,Ae;try{const{data:Pe}=yield Se.get(`/events/${a}?updated=true`),Qe=(_e=(lt=(Te=(dt=(Ne=(G=Pe.organizerUserId)!=null?G:Pe.organizerId)!=null?Ne:Pe.createdById)!=null?dt:(Be=Pe.organizer)==null?void 0:Be.id)!=null?Te:(nt=Pe.createdBy)==null?void 0:nt.id)!=null?lt:Pe.userId)!=null?_e:null;h(Qe);let mt=null,Me=null;Pe.coverImageBase64?(mt="image",Pe.coverImageBase64.startsWith("data:")||Pe.coverImageBase64.startsWith("http")?(Me=Pe.coverImageBase64,T(Pe.coverImageBase64)):(z(Pe.coverImageBase64),Me=gn+`/uploads/${Pe.coverImageBase64}`,T(Me))):Pe.videoUrl&&(mt="video",Me=Pe.videoUrl),U(mt),X({eventType:Pe.eventType||"Workshop",title:Pe.title||"",description:Pe.description||"",categoryId:Pe.categoryId||"",subcategoryId:Pe.subcategoryId||"",date:Pe.startAt?new Date(Pe.startAt).toISOString().split("T")[0]:"",startTime:Pe.startAt?new Date(Pe.startAt).toISOString().split("T")[1].substring(0,5):"",endTime:Pe.endAt?new Date(Pe.endAt).toISOString().split("T")[1].substring(0,5):"",timezone:Pe.timezone||"Africa/Lagos",locationType:Pe.locationType||"In-Person",country:Pe.country||"",city:Pe.city||"",address:Pe.address||"",onlineUrl:Pe.onlineUrl||"",registrationType:Pe.registrationType||"Free",price:((be=Pe.price)==null?void 0:be.toString())||"",currency:Pe.currency||"USD",capacity:((Y=Pe.capacity)==null?void 0:Y.toString())||"",registrationDeadline:Pe.registrationDeadline?new Date(Pe.registrationDeadline).toISOString().split("T")[0]:"",coverImageUrl:Pe.coverImageUrl||"",coverImageBase64:Pe.coverImageBase64||Pe.coverImageUrl,videoUrl:Pe.videoUrl||null}),((ie=Pe.audienceIdentities)!=null&&ie.length||(de=Pe.audienceCategories)!=null&&de.length||($e=Pe.audienceSubcategories)!=null&&$e.length||(it=Pe.audienceSubsubs)!=null&&it.length)&&j({identityIds:new Set(((gt=Pe.audienceIdentities)==null?void 0:gt.map(Oe=>Oe.id))||[]),categoryIds:new Set(((De=Pe.audienceCategories)==null?void 0:De.map(Oe=>Oe.id))||[]),subcategoryIds:new Set(((Le=Pe.audienceSubcategories)==null?void 0:Le.map(Oe=>Oe.id))||[]),subsubCategoryIds:new Set(((Ae=Pe.audienceSubsubs)==null?void 0:Ae.map(Oe=>Oe.id))||[])}),E({categoryId:Pe.generalCategoryId||"",subcategoryId:Pe.generalSubcategoryId||"",subsubCategoryId:Pe.generalSubsubCategoryId||""}),M({categoryId:Pe.industryCategoryId||"",subcategoryId:Pe.industrySubcategoryId||""})}catch(Pe){console.error(Pe),oe.error("Failed to load event data"),s("/events")}finally{D(!1)}}))},[a,s]),d.useEffect(()=>{pe(this,null,function*(){var G,Ne;try{const{data:Be}=yield Se.get("/events/meta");Z(Be),X(dt=>he(te({},dt),{country:dt.country,timezone:dt.timezone||Be.timezones[0]||"Africa/Lagos"}))}catch(Be){console.error(Be),oe.error(((Ne=(G=Be==null?void 0:Be.response)==null?void 0:G.data)==null?void 0:Ne.message)||"Failed to load form metadata")}finally{D(!1)}})},[]),d.useEffect(()=>{if(e&&le.current){const G=setTimeout(()=>{var Ne;console.log(le.current),(Ne=le.current)==null||Ne.pick()},2e3);return()=>clearTimeout(G)}},[e]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:G}=yield Se.get("/public/identities?type=all");x(G.identities||[])}catch(G){console.error("Error loading identities:",G)}})},[]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:G}=yield Se.get("/general-categories/tree?type=event");L(G.generalCategories||[])}catch(G){console.error("Failed to load general categories",G)}})},[]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:G}=yield Se.get("/industry-categories/tree");I(G.industryCategories||[])}catch(G){console.error("Failed to load industry categories",G)}})},[]),d.useMemo(()=>{if(!W.categoryId)return[];const G=J.categories.find(Ne=>Ne.id===W.categoryId);return(G==null?void 0:G.subcategories)||[]},[W.categoryId,J.categories]);const tt=(G,Ne)=>{Ne==="image"?(T(G),U("image"),re(!0),X(Be=>he(te({},Be),{videoUrl:""}))):Ne==="video"?(T(G),U("video"),re(!0)):(T(null),U(null),re(!0),X(Be=>he(te({},Be),{videoUrl:""})))},He=(G,Ne)=>pe(this,null,function*(){if(!G)return{imageUrl:null,videoUrl:null};const Be=new FormData;let dt=null,nt=null;try{return Ne==="image"?(Be.append("coverImage",G),dt=(yield Se.post("/events/upload-cover",Be,{headers:{"Content-Type":"multipart/form-data"}})).data.url):Ne==="video"&&(Be.append("video",G),nt=(yield Se.post("/events/upload-video",Be,{headers:{"Content-Type":"multipart/form-data"}})).data.url),{imageUrl:dt,videoUrl:nt}}catch(Te){return console.error("Error uploading media file:",Te),oe.error(`Failed to upload ${Ne}`),{imageUrl:null,videoUrl:null}}});function ze(G,Ne){ke||X(Be=>{const dt=he(te({},Be),{[G]:Ne});return G==="categoryId"&&(dt.subcategoryId=""),G==="registrationType"&&Ne==="Free"&&(dt.price=""),G==="country"&&Ne==="All countries"&&(dt.city=""),G==="locationType"&&(Ne==="Virtual"?(dt.address="",dt.city=""):dt.onlineUrl=""),dt})}function rt(G){return pe(this,null,function*(){var Ne,Be;if(G.preventDefault(),!ke){if(!W.title||!W.description){oe.error("Title and description are required");return}if(!W.date||!W.startTime){oe.error("Date and start time are required");return}if(W.registrationType==="Paid"&&(!W.price||!W.currency)){oe.error("Price and currency are required for paid events");return}c(!0);try{const dt=Array.from(w.identityIds),nt=Array.from(w.categoryIds),Te=Array.from(w.subcategoryIds),lt=Array.from(w.subsubCategoryIds);let _e=R,be=W.videoUrl;if(Q&&O instanceof File){let ie=yield He(O,_);be=ie.videoUrl,_e=ie.imageUrl,re(!1)}console.log({a:_e,coverImageBase64:O});const Y=he(te({},W),{identityIds:dt,categoryIds:nt,subcategoryIds:Te,subsubCategoryIds:lt,coverImageBase64:_==="image"?Q?_e:W.coverImageBase64:null,coverImageUrl:_==="image"?Q?_e:W.coverImageUrl:null,videoUrl:_==="video"?Q?be:W.videoUrl:null,generalCategoryId:k.categoryId||null,generalSubcategoryId:k.subcategoryId||null,generalSubsubCategoryId:k.subsubCategoryId||null,industryCategoryId:C.categoryId||null,industrySubcategoryId:C.subcategoryId||null});Y.subcategoryId||delete Y.subcategoryId,Y.registrationType==="Free"&&(delete Y.price,delete Y.currency),Y.locationType==="Virtual"?(delete Y.address,delete Y.city,delete Y.country):(delete Y.onlineUrl,Y.country==="All countries"&&delete Y.city),i?(yield Se.put(`/events/${a}`,Y),oe.success("Event updated successfully!")):(yield Se.post("/events",Y),oe.success("Event created successfully!"),t&&n?n():s("/events"))}catch(dt){console.error(dt),oe.error(((Be=(Ne=dt==null?void 0:dt.response)==null?void 0:Ne.data)==null?void 0:Be.message)||"Could not create event")}finally{c(!1)}}})}const Xe=d.useMemo(()=>N.map(G=>({value:G.id,label:G.name||`Category ${G.id}`})),[N]),V=d.useMemo(()=>{const G=N.find(Ne=>Ne.id===k.categoryId);return((G==null?void 0:G.subcategories)||[]).map(Ne=>({value:Ne.id,label:Ne.name||`Subcategory ${Ne.id}`}))},[N,k.categoryId]);d.useMemo(()=>{var Be;const G=N.find(dt=>dt.id===k.categoryId),Ne=(Be=G==null?void 0:G.subcategories)==null?void 0:Be.find(dt=>dt.id===k.subcategoryId);return((Ne==null?void 0:Ne.subsubcategories)||[]).map(dt=>({value:dt.id,label:dt.name||`Sub-sub ${dt.id}`}))},[N,k.categoryId,k.subcategoryId]);const ne=d.useMemo(()=>S.map(G=>({value:G.id,label:G.name||`Category ${G.id}`})),[S]),Ce=d.useMemo(()=>{const G=S.find(Ne=>Ne.id===C.categoryId);return((G==null?void 0:G.subcategories)||[]).map(Ne=>({value:Ne.id,label:Ne.name||`Subcategory ${Ne.id}`}))},[S,C.categoryId]);return F?r.jsx(Xa,{message:"Loading event form",tip:"Fetching categories and preferences"}):r.jsxs("div",{className:"min-h-screen bg-[#F7F7FB] text-gray-900",children:[!t&&r.jsx(an,{page:"events"}),r.jsxs("main",{className:`mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 ${t?"py-4":"py-8"}`,children:[!t&&r.jsx("button",{onClick:()=>s("/events"),className:"flex items-center gap-2 text-sm text-gray-600 hover:text-brand-600",children:" Go to Events"}),i&&!ke&&r.jsx(r.Fragment,{children:r.jsx("h1",{className:"text-2xl font-bold mt-3",children:i?"Edit Event":"Create Event"})}),ke?r.jsx(YEe,{form:W,coverImageBase64:O,meta:J,audSel:w,audTree:y}):r.jsxs("form",{onSubmit:rt,className:"mt-6 rounded-2xl bg-white border p-6 shadow-sm space-y-8",children:[r.jsx("section",{children:r.jsxs("div",{className:"mt-3 grid gap-4",children:[r.jsx("input",{type:"text",value:W.title,onChange:G=>ze("title",G.target.value),_placeholder:"Enter event title",placeholder:"Event title: Annual Marketing Conference 2024",className:"rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",required:!0}),r.jsx("textarea",{value:W.description,onChange:G=>ze("description",G.target.value),_placeholder:"Describe your event...",placeholder:"Describe your event: Join us for a day of networking and learning about the latest marketing trends. Featuring industry experts and hands-on workshops.",className:"rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",rows:4,required:!0})]})}),r.jsx("section",{children:r.jsx(nq,{ref:le,label:"Cover Image / Video (optional)",value:O,preview:_==="video"?W.videoUrl:typeof O=="string"?O:null,onChange:tt,canSelectBothVideoAndImage:!1,selectedMediaType:_})}),r.jsxs("section",{children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"Date & Time"}),r.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-3",children:[r.jsxs("div",{className:"grid gap-1",children:[r.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:["Date ",r.jsx("label",{className:"text-[crimson]",children:"*"})]}),r.jsx("input",{type:"date",min:i?(xe=(fe=W.createdAt)==null?void 0:fe.split("T"))==null?void 0:xe[0]:new Date().toISOString().split("T")[0],value:W.date,onChange:G=>ze("date",G.target.value),className:"rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200",required:!0})]}),r.jsxs("div",{className:"grid gap-1",children:[r.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:["Start time ",r.jsx("label",{className:"text-[crimson]",children:"*"})]}),r.jsx("input",{type:"time",value:W.startTime,onChange:G=>ze("startTime",G.target.value),placeholder:"HH:MM",title:"Formato 24h (HH:MM), ex.: 14:30",className:"rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200",required:!0})]}),r.jsxs("div",{className:"grid gap-1",children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"End time (optional)"}),r.jsx("input",{type:"time",value:W.endTime,onChange:G=>ze("endTime",G.target.value),placeholder:"HH:MM",title:"Formato 24h (HH:MM), ex.: 16:00",className:"rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"})]})]}),r.jsxs("div",{className:"relative mt-3",children:[r.jsx("label",{className:"sr-only",children:"Timezone"}),r.jsx("select",{value:W.timezone,onChange:G=>ze("timezone",G.target.value),className:"w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-200",children:pw.map((G,Ne)=>r.jsx("option",{value:G.value,children:`${G.offset} - ${G.label}`}))}),r.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:r.jsx(Au.chevron,{})})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"Location"}),r.jsx("div",{className:"mt-3 flex gap-6 text-sm",children:["In-Person","Virtual","Hybrid"].map(G=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"locationType",checked:W.locationType===G,onChange:()=>ze("locationType",G)}),G]},G))}),W.locationType!=="Virtual"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Country"}),r.jsx(Uf,{value:W.country,onChange:G=>ze("country",G),options:qEe,placeholder:"Search and select country..."},W.country)]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"City"}),r.jsx(Uf,{value:W.city,onChange:G=>ze("city",G),options:ge,placeholder:"Search and select city...",disabled:W.country==="All countries"},W.country)]})]}),r.jsx("input",{type:"text",value:W.address,onChange:G=>ze("address",G.target.value),placeholder:"Full address",className:"mt-3 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}):r.jsx("input",{type:"url",value:W.onlineUrl,onChange:G=>ze("onlineUrl",G.target.value),placeholder:"Meeting link (Zoom/Meet/etc.)",className:"mt-3 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"Registration"}),r.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx("label",{className:"block text-[0.8rem] font-medium text-gray-700 mb-1",children:"Registration Type"}),r.jsxs("select",{value:W.registrationType,onChange:G=>ze("registrationType",G.target.value),className:"w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-200",children:[r.jsx("option",{children:"Free"}),r.jsx("option",{children:"Paid"})]}),r.jsx("span",{className:"pointer-events-none absolute right-2 top-[2.3rem] -translate-y-1/2",children:r.jsx(Au.chevron,{})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-[0.8rem] font-medium text-gray-700 mb-1",children:"Seats / Capacity (optional)"}),r.jsx("input",{type:"number",min:"1",value:W.capacity,onChange:G=>ze("capacity",G.target.value.replace(/[^\d\-\(\)]/g,"")),placeholder:"e.g. 200",className:"w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"})]})]}),W.registrationType==="Paid"&&r.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),r.jsx("input",{type:"number",step:"0.01",value:W.price,onChange:G=>ze("price",G.target.value.replace(/[^\d\-\(\)]/g,"")),placeholder:"e.g. 50.00",className:"w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200",required:!0})]}),r.jsxs("div",{className:"relative",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),r.jsx("select",{value:W.currency,onChange:G=>ze("currency",G.target.value),className:"w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-200",children:J.currencies.map(G=>r.jsx("option",{value:G,children:G},G))}),r.jsx("span",{className:"pointer-events-none absolute right-2 top-[2.3rem] -translate-y-1/2",children:r.jsx(Au.chevron,{})})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("label",{className:"block text-[0.8rem]  font-medium text-gray-700 mb-1",children:"Registration Deadline (last day to register)"}),r.jsx("input",{type:"date",min:i?(ae=(se=W.createdAt)==null?void 0:se.split("T"))==null?void 0:ae[0]:new Date().toISOString().split("T")[0],value:W.registrationDeadline,onChange:G=>ze("registrationDeadline",G.target.value),className:"w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"})]})]}),r.jsx("section",{children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:["Category ",r.jsx("span",{className:"text-gray-400 font-normal",children:"(optional)"})]}),r.jsx(Uf,{ariaLabel:"Category",value:k.categoryId,onChange:G=>E({categoryId:G,subcategoryId:"",subsubCategoryId:""}),options:Xe,placeholder:"Search & select category"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:["Subcategory ",r.jsx("span",{className:"text-gray-400 font-normal",children:"(optional)"})]}),r.jsx(Uf,{ariaLabel:"Subcategory",value:k.subcategoryId,onChange:G=>E(Ne=>he(te({},Ne),{subcategoryId:G,subsubCategoryId:""})),options:V,placeholder:"Search & select subcategory",disabled:!k.categoryId})]})]})}),r.jsxs("section",{className:"hidden",children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"Industry Classification"}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select the industry category and subcategory that best describes your event."}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Category"}),r.jsx(Uf,{ariaLabel:"Industry Category",value:C.categoryId,onChange:G=>M({categoryId:G,subcategoryId:""}),options:ne,placeholder:"Search & select industry category"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Subcategory"}),r.jsx(Uf,{ariaLabel:"Industry Subcategory",value:C.subcategoryId,onChange:G=>M(Ne=>he(te({},Ne),{subcategoryId:G})),options:Ce,placeholder:"Search & select industry subcategory",disabled:!C.categoryId})]})]})]}),r.jsx("section",{children:r.jsx("div",{className:"mb-4",children:A?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-brand-600"}),r.jsx("h3",{className:"font-semibold text-brand-600",children:"Share With (Target Audience)"})]}),r.jsxs("button",{type:"button",onClick:()=>H(!1),className:"inline-flex items-center gap-1 px-3 py-1 border border-gray-300 text-gray-600 rounded-lg text-xs hover:bg-gray-50",children:[r.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Hide"]})]}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select who should see this event."}),r.jsx(fl,{tree:y,selected:w,onChange:G=>j(G)})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{type:"button",onClick:()=>H(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})}),"Define Target Audience (optional)"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Target your post to specific audiences"})]})})}),r.jsxs("div",{className:"flex justify-end gap-3",children:[!t&&r.jsx("button",{type:"button",className:mu.primaryGhost,onClick:()=>s("/events"),children:"Cancel"}),r.jsx("button",{type:"submit",className:mu.primary,disabled:l,children:l?"Saving":i?"Update":"Publish"})]})]})]})]})}const JEe=Object.freeze(Object.defineProperty({__proto__:null,default:u6},Symbol.toStringTag,{value:"Module"}));function ff({urls:e=[],initialIndex:t=0,onClose:n}){const[s,a]=d.useState(t),[i,o]=d.useState(!1),l=e[s],c=l==null?void 0:l.toLowerCase().match(/\.(mp4|mov|avi|mkv|webm|flv|wmv|m4v|3gp|ogv)$/),u=l==null?void 0:l.toLowerCase().match(/\.(jpg|jpeg|png|gif|bmp|webp|svg)$/);d.useEffect(()=>{const p=v=>{v.key==="Escape"?f():v.key==="ArrowLeft"?h():v.key==="ArrowRight"&&g()};return document.addEventListener("keydown",p),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",p),document.body.style.overflow="unset"}},[]);const f=()=>{o(!0),setTimeout(()=>{n==null||n()},300)},h=()=>{e.length<=1||a(p=>p===0?e.length-1:p-1)},g=()=>{e.length<=1||a(p=>p===e.length-1?0:p+1)},m=p=>{a(p)};return e.length?r.jsxs("div",{className:`fixed inset-0 z-50 flex items-center justify-center bg-black transition-opacity duration-300 ${i?"bg-opacity-0":"bg-opacity-90"}`,children:[r.jsx("button",{onClick:f,className:"absolute top-4 right-4 z-10 text-white hover:text-gray-300 transition-colors p-2 rounded-full bg-black bg-opacity-50",children:r.jsx(Sr,{size:24})}),e.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:h,className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10 text-white hover:text-gray-300 transition-colors p-3 rounded-full bg-black bg-opacity-50",children:r.jsx(jce,{size:24})}),r.jsx("button",{onClick:g,className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-10 text-white hover:text-gray-300 transition-colors p-3 rounded-full bg-black bg-opacity-50",children:r.jsx(Sce,{size:24})})]}),r.jsx("div",{className:`relative w-full max-w-6xl max-h-full p-4 transition-transform duration-300 ${i?"scale-95 opacity-0":"scale-100 opacity-100"}`,children:c?r.jsx(Ta,{src:l,alt:`Video ${s+1}`,autoPlay:!0,controls:!0},l):u?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("img",{src:l,alt:`Image ${s+1}`,className:"max-w-full max-h-full object-contain rounded-lg"})}):r.jsx("div",{className:"flex items-center justify-center h-64 text-white",children:"Unsupported media type"})}),e.length>1&&r.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2 max-w-full overflow-x-auto px-4 py-2",children:e.map((p,v)=>{const b=p==null?void 0:p.toLowerCase().match(/\.(mp4|mov|avi|mkv|webm|flv|wmv|m4v|3gp|ogv)$/),y=p==null?void 0:p.toLowerCase().match(/\.(jpg|jpeg|png|gif|bmp|webp|svg)$/);return r.jsx("button",{onClick:()=>m(v),className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all duration-200 ${v===s?"border-white scale-110":"border-gray-600 hover:border-gray-400"}`,children:b?r.jsxs("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center relative",children:[r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:r.jsx("div",{className:"w-4 h-4 border-l-2 border-white",style:{transform:"translateX(1px)"}})}),r.jsx("video",{src:p,className:"w-full h-full object-cover opacity-70"})]}):y?r.jsx("img",{src:p,alt:`Thumbnail ${v+1}`,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center text-white text-xs",children:"File"})},v)})}),e.length>1&&r.jsxs("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 text-white bg-black bg-opacity-50 px-3 py-1 rounded-full text-sm",children:[s+1," / ",e.length]})]}):null}const pu={primary:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",primaryWide:"w-full rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",ghost:"rounded-lg px-3 py-1.5 text-sm font-semibold border border-brand-600 text-brand-600 bg-white hover:bg-brand-50",badge:"inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium",chip:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs"},Yo=({children:e,required:t})=>r.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:[e," ",t&&r.jsx("span",{className:"text-pink-600",children:"*"})]}),wa={plus:()=>r.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})}),trash:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M9 3h6l1 2h4v2H4V5h4l1-2Zm1 6h2v9h-2V9Zm4 0h2v9h-2V9ZM6 9h2v9H6V9Z"})}),chevron:()=>r.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"m6 9 6 6 6-6"})}),pin:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Zm0 10a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z"})}),clock:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 22a10 10 0 1 0 0-20 10 10 0 0 0 0 20Zm1-10.59V7h-2v6l5 3 .9-1.45-3.9-2.14Z"})}),tag:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"m10 4 8 0a2 2 0 0 1 2 2v8l-8 8-8-8V6a2 2 0 0 1 2-2h4Z"}),r.jsx("circle",{cx:"15",cy:"9",r:"1.5",fill:"white"})]}),cash:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"M3 6h18v12H3z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3",fill:"white"})]}),video:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"m17 10.5-5-3v6l5-3Z"}),r.jsx("rect",{x:"3",y:"6",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),image:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),r.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5",fill:"currentColor"}),r.jsx("path",{d:"m21 15-5-5L5 21",stroke:"currentColor",strokeWidth:"2"})]})};function Aw(e){if(!e)return"document";const t=e.toLowerCase().split(".").pop(),n=["jpg","jpeg","png","gif","webp","svg","bmp"],s=["mp4","mov","avi","mkv","webm","flv","wmv","m4v","3gp","ogv"];return n.includes(t)?"image":s.includes(t)?"video":"document"}function wq(e){return Aw(e)==="image"}function Bb(e){return Aw(e)==="video"}function jq(e){return wq(e)||Bb(e)}function Nq(e){return Aw(e)==="document"}const ZEe=["USD","EUR","GBP","NGN","GHS","ZAR","KES","UGX","TZS","XOF","XAF","MAD","DZD","TND","EGP","ETB","NAD","BWP","MZN","ZMW","RWF","BIF","SOS","SDG","CDF"];function QEe(e,t){return e===""||e==null?"":`${e}${t?` (${t})`:""}`}function KEe(e=[]){const t=new Map,n=new Map,s=new Map,a=new Map;for(const i of e){t.set(String(i.id),i.name||i.title||`Identity ${i.id}`);for(const o of i.categories||[]){n.set(String(o.id),o.name||o.title||`Category ${o.id}`);for(const l of o.subcategories||[]){s.set(String(l.id),l.name||l.title||`Subcategory ${l.id}`);for(const c of l.subsubs||[])a.set(String(c.id),c.name||c.title||`Sub-sub ${c.id}`)}}}return{ids:t,cats:n,subs:s,subsubs:a}}function a8(e={},t=[]){const n=[],s=u=>{typeof u=="string"&&u.trim()&&n.push(u.trim())},a=u=>{Array.isArray(u)&&u.forEach(f=>typeof f=="string"?s(f):(f==null?void 0:f.url)&&s(f.url))};s(e.coverImageUrl),s(e.bannerUrl),s(e.heroUrl),a(e.images),a(e.gallery),a(e.photos),t.forEach(u=>{jq(u)&&n.push(u)});const i=Array.from(new Set(n)),o=e.coverImageUrl||i[0]||null,l=i.filter(u=>u!==o),c=t.filter(u=>Nq(u));return{coverImageUrl:o,images:l,docs:c}}function XEe({form:e,audSel:t,audTree:n,media:s}){const a=d.useMemo(()=>KEe(n),[n]),i=Array.from(t.identityIds||[]).map(m=>a.ids.get(String(m))).filter(Boolean),o=Array.from(t.categoryIds||[]).map(m=>a.cats.get(String(m))).filter(Boolean),l=Array.from(t.subcategoryIds||[]).map(m=>a.subs.get(String(m))).filter(Boolean),c=Array.from(t.subsubCategoryIds||[]).map(m=>a.subsubs.get(String(m))).filter(Boolean),{coverImageUrl:u,images:f=[],docs:h=[]}=s||{},g=e.skills||[];return r.jsxs("div",{className:"mt-6 rounded-2xl bg-white border p-0 shadow-sm overflow-hidden",children:[u?r.jsxs("div",{className:"relative aspect-[16/6] w-full bg-gray-100",children:[Bb(u)?r.jsx("video",{src:u,className:"h-full w-full object-cover",controls:!0}):r.jsx("img",{src:u,alt:"Service cover",className:"h-full w-full object-cover"}),r.jsx("span",{className:"absolute left-4 top-4 bg-white/90 border-gray-200 text-gray-700 rounded-full px-2 py-0.5 text-xs font-medium",children:e.serviceType||"Service"})]}):null,r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"flex items-start justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold",children:e.title||"Untitled Service"}),r.jsx("p",{className:"mt-1 text-sm text-gray-700",children:e.description||"No description provided."})]})}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[r.jsxs("div",{className:"rounded-xl border p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[r.jsx(wa.cash,{})," Pricing"]}),r.jsx("div",{className:"mt-2 text-sm text-gray-700",children:QEe(e.priceAmount,e.priceType)})]}),r.jsxs("div",{className:"rounded-xl border p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[r.jsx(wa.clock,{})," Delivery"]}),r.jsx("div",{className:"mt-2 text-sm text-gray-700",children:e.deliveryTime||""})]}),r.jsxs("div",{className:"rounded-xl border p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[r.jsx(wa.tag,{})," Experience"]}),r.jsx("div",{className:"mt-2 text-sm text-gray-700",children:e.experienceLevel||""})]})]}),r.jsxs("div",{className:"rounded-xl border p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[r.jsx(wa.pin,{})," Location"]}),r.jsxs("div",{className:"mt-2 text-sm text-gray-700",children:[r.jsxs("div",{children:["Type: ",e.locationType||""]}),e.locationType==="On-site"?r.jsx("div",{className:"mt-1",children:[e.city,e.country].filter(Boolean).join(", ")||""}):null]})]}),(f==null?void 0:f.length)>0?r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Media"}),r.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:f.map((m,p)=>r.jsx("div",{className:"relative w-full aspect-[16/10] bg-gray-100 rounded-xl overflow-hidden border",children:Bb(m)?r.jsx("video",{src:m,controls:!0,className:"h-full w-full object-cover",children:"Your browser does not support the video tag."}):r.jsx("img",{src:m,alt:`Service image ${p+1}`,className:"h-full w-full object-cover"})},p))})]}):null,(h==null?void 0:h.length)>0?r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Documents"}),r.jsx("div",{className:"mt-3 grid sm:grid-cols-2 gap-3",children:h.map((m,p)=>r.jsxs("a",{href:m,download:m.split("/").pop(),className:"flex items-center gap-3 border rounded-lg p-3 hover:bg-gray-50",children:[r.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-100 grid place-items-center text-xs text-gray-500",children:"DOC"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"truncate text-sm font-medium",children:m.split("/").pop()}),r.jsx("div",{className:"text-[11px] text-gray-500 truncate",children:"Tap to download"})]})]},`${m}-${p}`))})]}):null,r.jsxs("div",{className:"hidden",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Skills"}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:g.length?g.map((m,p)=>r.jsx("span",{className:pu.chip,children:m},`${m}-${p}`)):r.jsx("span",{className:"text-sm text-gray-500",children:""})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Target Audience"}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[i.map(m=>r.jsx("span",{className:pu.chip,children:m},`i-${m}`)),o.map(m=>r.jsx("span",{className:pu.chip,children:m},`c-${m}`)),l.map(m=>r.jsx("span",{className:pu.chip,children:m},`s-${m}`)),c.map(m=>r.jsx("span",{className:pu.chip,children:m},`ss-${m}`)),!i.length&&!o.length&&!l.length&&!c.length&&r.jsx("span",{className:"text-sm text-gray-500",children:"Everyone"})]})]})]})]})}function dy({triggerImageSelection:e=!1,hideHeader:t=!1,onSuccess:n}){const s=Ht(),{id:a}=ea(),i=!!a,{user:o}=Xt(),[l,c]=d.useState(!0),[u,f]=d.useState(!1),[h,g]=d.useState(0),[m,p]=d.useState({}),[v,b]=d.useState(!1),[y,x]=d.useState(!1),[w,j]=d.useState(0),[N,L]=d.useState(null),[k,E]=d.useState([]),[S,I]=d.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[C,M]=d.useState(!1),[A,H]=d.useState({title:"",serviceType:"Consulting",description:"",priceAmount:"",currency:"USD",priceType:"Fixed Price",deliveryTime:"1 Week",locationType:"Remote",experienceLevel:"Intermediate",country:"All countries",city:"",skills:[]}),[W,X]=d.useState(""),[J,Z]=d.useState([]),F=d.useRef(null);d.useEffect(()=>{if(e&&F.current){const Y=setTimeout(()=>{var ie;(ie=F.current)==null||ie.click()},100);return()=>clearTimeout(Y)}},[e]);const[D,O]=d.useState({coverImageUrl:null,images:[],docs:[]}),T=i&&N&&(o==null?void 0:o.id)!=N,R=d.useMemo(()=>J.filter(Y=>jq(Y)),[J]);d.useEffect(()=>{pe(this,null,function*(){try{const{data:Y}=yield Se.get("/public/identities?type=all");E(Y.identities||[])}catch(Y){console.error(Y)}})},[]),d.useEffect(()=>{i&&pe(this,null,function*(){try{const{data:Y}=yield Se.get(`/services/${a}?updated=true`);c(!0);const ie=Y.providerUserId;L(ie),H($e=>{var it;return he(te({},$e),{title:Y.title||"",serviceType:Y.serviceType||"Consulting",description:Y.description||"",priceAmount:((it=Y.priceAmount)==null?void 0:it.toString())||"",currency:Y.currency||"USD",priceType:Y.priceType||"Fixed Price",deliveryTime:Y.deliveryTime||"1 Week",locationType:Y.locationType||"Remote",experienceLevel:Y.experienceLevel||"Intermediate",country:Y.country||"",city:Y.city||"",skills:Array.isArray(Y.skills)?Y.skills:[]})});let de=[];Array.isArray(Y.attachments)?(de=Y.attachments,Z(de)):Z([]),I({identityIds:new Set((Y.audienceIdentities||[]).map($e=>$e.id)),categoryIds:new Set((Y.audienceCategories||[]).map($e=>$e.id)),subcategoryIds:new Set((Y.audienceSubcategories||[]).map($e=>$e.id)),subsubCategoryIds:new Set((Y.audienceSubsubs||[]).map($e=>$e.id))}),ze({categoryId:Y.generalCategoryId||"",subcategoryId:Y.generalSubcategoryId||"",subsubCategoryId:Y.generalSubsubCategoryId||""}),Be({categoryId:Y.industryCategoryId||"",subcategoryId:Y.industrySubcategoryId||"",subsubCategoryId:Y.industrySubcategoryId||""}),O(a8(Y,de)),c(!1)}catch(Y){console.error(Y),oe.error("Failed to load service"),s("/services")}})},[i,a,s]),d.useEffect(()=>{i&&O(Y=>a8({coverImageUrl:Y.coverImageUrl},J))},[J,i]);function z(Y,ie){T||H(de=>{const $e=he(te({},de),{[Y]:ie});return Y==="locationType"&&ie==="Remote"&&($e.city=""),Y==="country"&&ie==="All countries"&&($e.city=""),$e})}function _(){if(T)return;const Y=(W||"").trim();Y&&(H(ie=>ie.skills.includes(Y)?ie:he(te({},ie),{skills:[...ie.skills,Y]})),X(""))}function U(Y){T||H(ie=>he(te({},ie),{skills:ie.skills.filter((de,$e)=>$e!==Y)}))}function Q(Y){j(Y),x(!0)}function re(){x(!1)}function le(Y){return pe(this,null,function*(){if(T)return;const ie=Array.from(Y||[]);if(!ie.length)return;const de={video:50*1024*1024,image:5*1024*1024,document:5*1024*1024},$e=ie.filter(De=>{const Le=Aw(De.name);return De.size>de[Le]});if($e.length>0){const De=$e.map(Le=>Le.name).join(", ");oe.error(`Files exceeding size limit: ${De}`);return}const it=20-J.length,gt=it>0?ie.slice(0,it):[];try{f(!0),g(gt.length);const De={};gt.forEach(mt=>{De[mt.name]=0}),p(De);const Le=new FormData;gt.forEach(mt=>{Le.append("attachments",mt)});const Qe=((yield Se.post("/services/upload-attachments",Le,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:mt=>{if(mt.total){const Me=Math.round(mt.loaded*100/mt.total),Oe={};gt.forEach(We=>{Oe[We.name]=Me}),p(Oe)}}})).data.filenames||[]).map(mt=>`${mt}`);Z(mt=>[...mt,...Qe]),p({})}catch(De){console.error(De),oe.error("Some files could not be uploaded."),p({})}finally{f(!1),g(0)}})}function ue(Y){T||Z(ie=>ie.filter((de,$e)=>$e!==Y))}function ge(){return A.title.trim()?A.description.trim()?A.priceType!=="Fixed Price"&&A.priceType!=="Hourly"?"Invalid price type":A.priceAmount&&Number(A.priceAmount)<0?"Price cannot be negative":A.locationType==="On-site"&&!A.country?"Country is required for On-site services":null:"Description is required":"Title is required"}const[ke,tt]=d.useState([]),[He,ze]=d.useState({categoryId:"",subcategoryId:"",subsubCategoryId:""}),rt=[{value:"All countries",label:"All countries"},...An.map(Y=>({value:Y,label:Y}))],[Xe,V]=d.useState([]),[ne,Ce]=d.useState(!0);d.useEffect(()=>{pe(this,null,function*(){try{const ie=yield fetch("/data/cities.json");if(!ie.ok)throw new Error("Failed to fetch cities");const de=yield ie.json();V(de)}catch(ie){console.error("Error fetching cities:",ie),oe.error("Failed to load cities data")}finally{Ce(!1)}})},[]);const fe=d.useMemo(()=>Xe.slice(0,1e4).map(Y=>({value:Y.city,label:`${Y.city}${Y.country?`, ${Y.country}`:""}`,country:Y.country})),[Xe]),xe=d.useMemo(()=>A.country?String(A.country).split(",").map(Y=>Y.trim().toLowerCase()).filter(Boolean):[],[A.country]),se=d.useMemo(()=>{if(xe.length===0||xe.includes("all countries"))return[];const Y=new Set(xe);return fe.filter(ie=>Y.has(ie.country.toLowerCase()))},[xe,fe]),[ae,G]=d.useState([]),[Ne,Be]=d.useState({categoryId:"",subcategoryId:""});d.useEffect(()=>{pe(this,null,function*(){try{const{data:Y}=yield Se.get("/general-categories/tree?type=service");tt(Y.generalCategories||[])}catch(Y){console.error("Failed to load general categories",Y)}})},[]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:Y}=yield Se.get("/industry-categories/tree");G(Y.industryCategories||[])}catch(Y){console.error("Failed to load industry categories",Y)}})},[]);const dt=d.useMemo(()=>ke.map(Y=>({value:Y.id,label:Y.name||`Category ${Y.id}`})),[ke]),nt=d.useMemo(()=>{const Y=ke.find(ie=>ie.id===He.categoryId);return((Y==null?void 0:Y.subcategories)||[]).map(ie=>({value:ie.id,label:ie.name||`Subcategory ${ie.id}`}))},[ke,He.categoryId]);d.useMemo(()=>{var de;const Y=ke.find($e=>$e.id===He.categoryId),ie=(de=Y==null?void 0:Y.subcategories)==null?void 0:de.find($e=>$e.id===He.subcategoryId);return((ie==null?void 0:ie.subsubcategories)||[]).map($e=>({value:$e.id,label:$e.name||`Sub-sub ${$e.id}`}))},[ke,He.categoryId,He.subcategoryId]);const Te=d.useMemo(()=>ae.map(Y=>({value:Y.id,label:Y.name||`Category ${Y.id}`})),[ae]),lt=d.useMemo(()=>{const Y=ae.find(ie=>ie.id===Ne.categoryId);return((Y==null?void 0:Y.subcategories)||[]).map(ie=>({value:ie.id,label:ie.name||`Subcategory ${ie.id}`}))},[ae,Ne.categoryId]);function _e({value:Y,onChange:ie,options:de,placeholder:$e="Select",disabled:it=!1,required:gt=!1,ariaLabel:De}){const[Le,Ae]=d.useState(!1),[Pe,Qe]=d.useState(""),[mt,Me]=d.useState(0),Oe=d.useRef(null),We=d.useRef(null),[qe,vt]=d.useState(!1),Ge=d.useMemo(()=>de.find(q=>String(q.value)===String(Y))||null,[de,Y]),ot=d.useMemo(()=>{const q=Pe.trim().toLowerCase();return q?de.map(K=>({o:K,score:(K.label||"").toLowerCase().indexOf(q)})).filter(K=>K.score!==-1).sort((K,ce)=>K.score-ce.score).map(K=>K.o).slice(0,100):de.slice(0,100)},[Pe,de]),_t=qe||Le||Pe!==""?Pe:(Ge==null?void 0:Ge.label)||"";d.useEffect(()=>{function q(K){Oe.current&&(Oe.current.contains(K.target)||Ae(!1))}return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[]),d.useEffect(()=>{Le||Me(0)},[Le,Pe]);function Ct(q){var K;ie==null||ie((q==null?void 0:q.value)||""),Qe(""),Ae(!1),(K=We.current)==null||K.blur()}function B(){var q;ie==null||ie(""),Qe(""),Ae(!1),(q=We.current)==null||q.focus()}function ee(q){if(!it){if(!Le&&(q.key==="ArrowDown"||q.key==="ArrowUp")){Ae(!0);return}if(!Le){q.key==="Backspace"&&(q.preventDefault(),Qe(Ge&&!Pe?(Ge.label||"").slice(0,-1):(Pe||"").slice(0,-1)),Ae(!0));return}if(q.key==="ArrowDown")q.preventDefault(),Me(K=>Math.min(K+1,ot.length-1));else if(q.key==="ArrowUp")q.preventDefault(),Me(K=>Math.max(K-1,0));else if(q.key==="Enter"){q.preventDefault();const K=ot[mt];K&&Ct(K)}else q.key==="Escape"&&Ae(!1)}}return r.jsxs("div",{ref:Oe,className:`relative ${it?"opacity-60":""}`,children:[r.jsxs("div",{className:"grid gap-1.5",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{ref:We,type:"text",value:_t,disabled:it,placeholder:$e,onChange:q=>{Qe(q.target.value),Ae(!0)},onFocus:()=>{it||(vt(!0),Ae(!0))},onBlur:()=>vt(!1),onKeyDown:ee,"aria-autocomplete":"list","aria-expanded":Le,"aria-controls":"ss-results","aria-label":De||$e,role:"combobox",autoComplete:"off",className:"w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-16 focus:outline-none focus:ring-2 focus:ring-brand-200 text-black"}),Ge&&!it?r.jsx("button",{type:"button",onClick:B,className:"absolute right-8 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-gray-100",title:"Clear",children:""}):null,r.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:r.jsx(wa.chevron,{})})]}),gt&&r.jsx("input",{tabIndex:-1,"aria-hidden":"true",className:"sr-only",required:!0,value:Y||"",onChange:()=>{}})]}),Le&&!it&&r.jsx("div",{id:"ss-results",role:"listbox",className:"absolute z-30 mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:ot.length===0?r.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No results"}):r.jsx("ul",{className:"max-h-72 overflow-auto",children:ot.map((q,K)=>{const ce=K===mt;return r.jsx("li",{role:"option","aria-selected":ce,className:`cursor-pointer px-3 py-2 text-sm ${ce?"bg-brand-50":"hover:bg-gray-50"}`,onMouseEnter:()=>Me(K),onMouseDown:ye=>{ye.preventDefault(),Ct(q)},children:q.label},q.value)})})})]})}function be(Y){return pe(this,null,function*(){var de,$e;if(Y.preventDefault(),T)return;const ie=ge();if(ie){oe.error(ie);return}M(!0);try{const it=Array.from(S.identityIds),gt=Array.from(S.categoryIds),De=Array.from(S.subcategoryIds),Le=Array.from(S.subsubCategoryIds),Ae=he(te({},A),{priceAmount:A.priceAmount!==""&&!Number.isNaN(Number(A.priceAmount))?Number(A.priceAmount):void 0,currency:A.currency||"USD",attachments:J,identityIds:it,categoryIds:gt,subcategoryIds:De,subsubCategoryIds:Le,generalCategoryId:He.categoryId||null,generalSubcategoryId:He.subcategoryId||null,generalSubsubCategoryId:He.subsubCategoryId||null,industryCategoryId:Ne.categoryId||null,industrySubcategoryId:Ne.subcategoryId||null});i?(yield Se.put(`/services/${a}`,Ae),oe.success("Service updated!")):(yield Se.post("/services",Ae),oe.success("Service published!"),t&&n?n():s("/services"))}catch(it){console.error(it),oe.error((($e=(de=it==null?void 0:it.response)==null?void 0:de.data)==null?void 0:$e.message)||"Could not save service")}finally{M(!1)}})}return l&&a?r.jsx(Xa,{message:"Loading service",tip:"Fetching..."}):(console.log({attachments:J}),r.jsxs("div",{className:"min-h-screen bg-[#F7F7FB] text-gray-900",children:[!t&&r.jsx(an,{page:"services"}),r.jsxs("main",{className:`mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 ${t?"py-4":"py-8"}`,children:[!t&&r.jsx("button",{onClick:()=>s("/services"),className:"flex items-center gap-2 text-sm text-gray-600 hover:text-brand-600",type:"button",children:" Back to services"}),i&&!T&&r.jsx(r.Fragment,{children:r.jsx("h1",{className:"text-2xl font-bold mt-3",children:i?"Edit Service":"Create Service Post"})}),T?r.jsx(XEe,{form:A,audSel:S,audTree:k,media:D}):r.jsxs("form",{onSubmit:be,className:"mt-6 rounded-2xl bg-white border p-6 shadow-sm space-y-8",children:[r.jsx("section",{children:r.jsxs("div",{className:"mt-3 grid gap-4",children:[r.jsxs("div",{children:[r.jsx(Yo,{required:!0,children:"Title"}),r.jsx("input",{type:"text",value:A.title,onChange:Y=>z("title",Y.target.value),placeholder:"e.g., Growth Marketing Strategy Sprint",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",required:!0})]}),r.jsx("div",{children:r.jsx("textarea",{value:A.description,onChange:Y=>z("description",Y.target.value),_placeholder:"Describe your service in detail. What problems do you solve? What value do you provide?",placeholder:"Describe the service you are offering and find clients or partners",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",rows:4,required:!0})})]})}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-[12px] font-medium text-gray-700",children:"Service Type"}),r.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{label:"Consulting",desc:"Professional advice and expertise"},{label:"Freelance Work",desc:"Project-based services"},{label:"Managed Services",desc:"Ongoing support (IT, HR, etc.)."}].map(Y=>r.jsxs("button",{type:"button",onClick:()=>z("serviceType",Y.label),className:`border rounded-xl p-4 text-left transition-colors ${A.serviceType===Y.label?"border-brand-600 bg-brand-50":"border-gray-200 bg-white hover:border-brand-600"}`,children:[r.jsx("div",{className:"font-medium",children:Y.label}),r.jsx("div",{className:"text-xs text-gray-500",children:Y.desc})]},Y.label))})]}),r.jsx("section",{children:r.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(Yo,{children:"Amount"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:A.priceAmount,onChange:Y=>z("priceAmount",Y.target.value.replace(/[^\d\-\(\)]/g,"")),placeholder:"0.00",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),r.jsxs("div",{children:[r.jsx(Yo,{children:"Currency"}),r.jsx("select",{className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",name:"currency",onChange:Y=>z("currency",Y.target.value),value:A.currency,children:ZEe.map(Y=>r.jsx("option",{value:Y,children:Y},Y))})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Yo,{children:"Price Type"}),r.jsxs("select",{value:A.priceType,onChange:Y=>z("priceType",Y.target.value),className:"mt-1 w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-200",children:[r.jsx("option",{children:"Fixed Price"}),r.jsx("option",{children:"Hourly"})]}),r.jsx("span",{className:"pointer-events-none absolute right-2 bottom-3",children:r.jsx(wa.chevron,{})})]}),r.jsxs("div",{className:"relative hidden",children:[r.jsx(Yo,{children:"Typical Delivery"}),r.jsxs("select",{value:A.deliveryTime,onChange:Y=>z("deliveryTime",Y.target.value),className:"mt-1 w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-200",children:[r.jsx("option",{children:"1 Day"}),r.jsx("option",{children:"3 Days"}),r.jsx("option",{children:"1 Week"}),r.jsx("option",{children:"2 Weeks"}),r.jsx("option",{children:"1 Month"})]}),r.jsx("span",{className:"pointer-events-none absolute right-2 bottom-3",children:r.jsx(wa.chevron,{})})]})]})}),r.jsxs("section",{children:[r.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Yo,{children:"Location Type"}),r.jsxs("select",{value:A.locationType,onChange:Y=>z("locationType",Y.target.value),className:"mt-1 w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-200",children:[r.jsx("option",{children:"Remote"}),r.jsx("option",{children:"On-site"})]}),r.jsx("span",{className:"pointer-events-none absolute right-2 bottom-3",children:r.jsx(wa.chevron,{})})]}),r.jsxs("div",{className:"relative hidden",children:[r.jsx(Yo,{children:"Experience Level"}),r.jsxs("select",{value:A.experienceLevel,onChange:Y=>z("experienceLevel",Y.target.value),className:"mt-1 w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-200",children:[r.jsx("option",{children:"Entry Level"}),r.jsx("option",{children:"Intermediate"}),r.jsx("option",{children:"Expert"})]}),r.jsx("span",{className:"pointer-events-none absolute right-2 bottom-3",children:r.jsx(wa.chevron,{})})]})]}),r.jsxs("div",{className:"mt-3 grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Yo,{required:!0,children:"Country"}),r.jsx(_e,{value:A.country,onChange:Y=>z("country",Y),options:rt,placeholder:"Search and select country...",required:!0},A.country)]}),r.jsxs("div",{children:[r.jsx(Yo,{children:"City"}),r.jsx(_e,{value:A.city,onChange:Y=>z("city",Y),options:se,placeholder:"Search and select city...",disabled:A.country==="All countries"},A.country)]})]})]}),r.jsxs("section",{className:"hidden",children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"Skills & Tags"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("input",{type:"text",value:W,onChange:Y=>X(Y.target.value),onKeyDown:Y=>{Y.key==="Enter"&&(Y.preventDefault(),_())},placeholder:"Add skills (e.g., JavaScript, Marketing, Design)",className:"flex-1 rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"}),r.jsxs("button",{type:"button",onClick:_,className:"inline-flex items-center gap-1 rounded-lg px-3 py-2 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700","aria-label":"Add skill",children:[r.jsx(wa.plus,{})," Add"]})]}),A.skills.length>0&&r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:A.skills.map((Y,ie)=>r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-50 text-brand-700 px-3 py-1 text-xs border border-brand-100",children:[Y,r.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>U(ie),title:"Remove",children:""})]},`${Y}-${ie}`))})]}),r.jsx("section",{children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Category"}),r.jsx(_e,{ariaLabel:"Category",value:He.categoryId,onChange:Y=>ze({categoryId:Y,subcategoryId:"",subsubCategoryId:""}),options:dt,placeholder:"Search & select category"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Subcategory"}),r.jsx(_e,{ariaLabel:"Subcategory",value:He.subcategoryId,onChange:Y=>ze(ie=>he(te({},ie),{subcategoryId:Y,subsubCategoryId:""})),options:nt,placeholder:"Search & select subcategory",disabled:!He.categoryId})]})]})}),r.jsxs("section",{className:"hidden",children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"Industry Classification"}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select the industry category and subcategory that best describes your service."}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Category"}),r.jsx(_e,{ariaLabel:"Industry Category",value:Ne.categoryId,onChange:Y=>Be({categoryId:Y,subcategoryId:""}),options:Te,placeholder:"Search & select industry category"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Subcategory"}),r.jsx(_e,{ariaLabel:"Industry Subcategory",value:Ne.subcategoryId,onChange:Y=>Be(ie=>he(te({},ie),{subcategoryId:Y})),options:lt,placeholder:"Search & select industry subcategory",disabled:!Ne.categoryId})]})]})]}),r.jsxs("section",{children:[r.jsx(Yo,{children:"Portfolio & Attachments (Optional)"}),r.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-600",children:[r.jsxs("div",{className:"flex justify-center items-center gap-3 mb-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(wa.image,{}),r.jsx("span",{className:"text-xs",children:"Images"})]}),r.jsx("div",{className:"h-4 w-px bg-gray-300"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(wa.video,{}),r.jsx("span",{className:"text-xs",children:"Videos"})]}),r.jsx("div",{className:"h-4 w-px bg-gray-300"}),r.jsx("div",{className:"flex items-center gap-1",children:r.jsx("span",{className:"text-xs",children:"Documents"})})]}),"Upload images, videos, or documents showcasing your work",r.jsxs("div",{className:"mt-3",children:[r.jsx("input",{ref:F,type:"file",multiple:!0,accept:"image/*,video/*,.pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.txt",className:"hidden",onChange:Y=>le(Y.target.files)}),r.jsx("button",{type:"button",onClick:()=>{var Y;return(Y=F.current)==null?void 0:Y.click()},className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Choose Files"})]}),u&&Object.keys(m).length>0&&r.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Uploading ",Object.keys(m).length," file(s)..."]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[Object.values(m)[0],"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-brand-600 h-2 rounded-full transition-all duration-300",style:{width:`${Object.values(m)[0]||0}%`}})})]}),(J.length>0||h>0)&&r.jsxs("div",{className:"mt-6 grid sm:grid-cols-2 gap-4 text-left",children:[J.map((Y,ie)=>{const de=wq(Y),$e=Bb(Y),it=Nq(Y);return de||$e?r.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 overflow-hidden grid place-items-center relative cursor-pointer",onClick:()=>Q(ie),children:$e?r.jsxs(r.Fragment,{children:[r.jsx("video",{src:Y,className:"h-full w-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:r.jsx(wa.video,{})})]}):r.jsx("img",{src:Y,alt:`Attachment ${ie+1}`,className:"h-full w-full object-cover"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"truncate text-sm font-medium",children:Y.split("/").pop()}),r.jsxs("div",{className:"text-[11px] text-gray-500 truncate",children:[$e?"Video":"Image","  Attached"]})]}),r.jsx("button",{type:"button",onClick:()=>ue(ie),className:"p-1 rounded hover:bg-gray-100",title:"Remove",children:r.jsx(wa.trash,{})})]},`${Y}-${ie}`):it?r.jsxs("a",{href:Y,download:Y.split("/").pop(),className:"flex items-center gap-3 border rounded-lg p-3 hover:bg-gray-50",children:[r.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 grid place-items-center text-xs text-gray-500",children:"DOC"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"truncate text-sm font-medium",children:Y.split("/").pop()}),r.jsx("div",{className:"text-[11px] text-gray-500 truncate",children:"Tap to download"})]}),r.jsx("button",{type:"button",onClick:gt=>{gt.preventDefault(),gt.stopPropagation(),ue(ie)},className:"p-1 rounded hover:bg-gray-100",title:"Remove",children:r.jsx(wa.trash,{})})]},`${Y}-${ie}`):null}),h>0&&Array.from({length:h}).map((Y,ie)=>r.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-200 animate-pulse"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-1"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"}),u&&r.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-1.5",children:r.jsx("div",{className:"bg-brand-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${Object.values(m)[0]||0}%`}})})]}),r.jsx("div",{className:"h-8 w-8 rounded bg-gray-200 animate-pulse"})]},`att-skel-${ie}`))]}),r.jsx("p",{className:"mt-2 text-[11px] text-gray-400",children:"Images & Documents: Up to 5MB each. Videos: Up to 50MB each. Supported formats: JPG, PNG, GIF, MP4, MOV, PDF, DOC, DOCX, PPT, PPTX, XLS, XLSX, TXT"})]})]}),r.jsx("section",{children:r.jsx("div",{className:"mb-4",children:v?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-brand-600"}),r.jsx("h3",{className:"font-semibold text-brand-600",children:"Share With (Target Audience)"})]}),r.jsxs("button",{type:"button",onClick:()=>b(!1),className:"inline-flex items-center gap-1 px-3 py-1 border border-gray-300 text-gray-600 rounded-lg text-xs hover:bg-gray-50",children:[r.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Hide"]})]}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select who should see this service."}),r.jsx(fl,{tree:k,selected:S,onChange:Y=>I(Y)})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{type:"button",onClick:()=>b(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})}),"Define Target Audience (optional)"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Target your post to specific audiences"})]})})}),r.jsxs("div",{className:"flex justify-end gap-3",children:[!t&&r.jsx("button",{type:"button",className:pu.ghost,onClick:()=>s("/services"),children:"Cancel"}),r.jsx("button",{type:"submit",className:pu.primary,disabled:C,children:C?"Saving":i?"Update":"Publish"})]})]})]}),y&&r.jsx(ff,{urls:R,initialIndex:w,onClose:re})]}))}const eLe=Object.freeze(Object.defineProperty({__proto__:null,default:dy},Symbol.toStringTag,{value:"Module"})),xu={primary:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",primaryWide:"w-full rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",ghost:"rounded-lg px-3 py-1.5 text-sm font-semibold border border-brand-600 text-brand-600 bg-white hover:bg-brand-50",badge:"inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium",chip:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs"},Wg={trash:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M9 3h6l1 2h4v2H4V5h4l1-2Zm1 6h2v9h-2V9Zm4 0h2v9h-2V9ZM6 9h2v9H6V9Z"})}),chevron:()=>r.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"m6 9 6 6 6-6"})}),video:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"m17 10.5-5-3v6l5-3Z"}),r.jsx("rect",{x:"3",y:"6",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),image:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),r.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5",fill:"currentColor"}),r.jsx("path",{d:"m21 15-5-5L5 21",stroke:"currentColor",strokeWidth:"2"})]})};function tLe({images:e,className:t=""}){const[n,s]=d.useState(0),a=()=>{s(l=>l===e.length-1?0:l+1)},i=()=>{s(l=>l===0?e.length-1:l-1)},o=l=>{s(l)};return!e||e.length===0?r.jsx("div",{className:`w-full h-64 bg-gray-100 flex items-center justify-center text-gray-400 ${t}`,children:"No Images"}):r.jsxs("div",{className:`relative w-full h-64 bg-gray-100 rounded-lg overflow-hidden ${t}`,children:[r.jsx("div",{className:"w-full h-full",children:r.jsx("img",{src:e[n].startsWith("http")?e[n]:`${gn}/uploads/${e[n]}`,alt:`Slide ${n+1}`,className:"w-full h-full object-cover"})}),e.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:i,className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-all",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),r.jsx("button",{onClick:a,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-all",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.length>1&&r.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:e.map((l,c)=>r.jsx("button",{onClick:()=>o(c),className:`w-2 h-2 rounded-full transition-all ${c===n?"bg-white":"bg-white/50"}`},c))}),e.length>1&&r.jsxs("div",{className:"absolute top-4 right-4 bg-black/50 text-white px-2 py-1 rounded-full text-xs",children:[n+1," / ",e.length]})]})}function rLe(e){return typeof e=="string"&&/\.(jpg|jpeg|png|gif|webp|svg)$/i.test(e)}function i8(e){return typeof e=="string"&&/\.(mp4|mov|avi|mkv|webm|flv|wmv|m4v|3gp|ogv)$/i.test(e)}function nLe(e){return e.type.startsWith("image/")?"image":e.type.startsWith("video/")?"video":"document"}function sLe(e=[]){const t=new Map,n=new Map,s=new Map,a=new Map;for(const i of e){t.set(String(i.id),i.name||i.title||`Identity ${i.id}`);for(const o of i.categories||[]){n.set(String(o.id),o.name||o.title||`Category ${o.id}`);for(const l of o.subcategories||[]){s.set(String(l.id),l.name||l.title||`Subcategory ${l.id}`);for(const c of l.subsubs||[])a.set(String(c.id),c.name||c.title||`Sub-sub ${c.id}`)}}}return{ids:t,cats:n,subs:s,subsubs:a}}function aLe({message:e="Loading..."}){return r.jsx("div",{className:"mt-6 rounded-2xl bg-white border border-gray-100 shadow-sm p-6 flex items-center justify-center h-60",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin text-3xl mb-2",children:""}),r.jsx("p",{className:"text-sm text-gray-700",children:e})]})})}const iLe=["USD","EUR","GBP","NGN","GHS","ZAR","KES","UGX","TZS","XOF","XAF","MAD","DZD","TND","EGP","ETB","NAD","BWP","MZN","ZMW","RWF","BIF","SOS","SDG","CDF"];function oLe({form:e,images:t,audSel:n,audTree:s,hideHeader:a}){const i=d.useMemo(()=>sLe(s),[s]),o=Array.from(n.identityIds||[]).map(h=>i.ids.get(String(h))).filter(Boolean),l=Array.from(n.categoryIds||[]).map(h=>i.cats.get(String(h))).filter(Boolean),c=Array.from(n.subcategoryIds||[]).map(h=>i.subs.get(String(h))).filter(Boolean),u=Array.from(n.subsubCategoryIds||[]).map(h=>i.subsubs.get(String(h))).filter(Boolean),f=Array.isArray(e.tags)?e.tags:typeof e.tags=="string"?e.tags.split(",").map(h=>h.trim()).filter(Boolean):[];return r.jsxs("div",{className:"mt-6 rounded-2xl bg-white border border-gray-100 shadow-sm overflow-hidden",children:[t!=null&&t.length?r.jsx("div",{className:"p-4",children:r.jsx(tLe,{images:t,className:"w-full"})}):r.jsx("div",{className:"p-4",children:r.jsx("div",{className:"w-full h-64 bg-gray-100 rounded-lg flex items-center justify-center text-gray-400",children:"No Images Available"})}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"flex items-start justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold",children:e.title||"Untitled product"}),r.jsx("p",{className:"mt-1 text-sm text-gray-600 whitespace-pre-wrap",children:e.description||"No description provided."})]})}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[r.jsxs("div",{className:"rounded-xl border p-4 text-sm text-gray-700",children:[r.jsx("div",{className:"text-gray-800 font-medium",children:"Pricing"}),r.jsxs("div",{className:"mt-2",children:["Price: ",e.price!==""?e.price:""," ",e.currency?`(${e.currency})`:""]}),r.jsxs("div",{children:["Quantity: ",e.quantity!==""?e.quantity:""]})]}),r.jsxs("div",{className:"rounded-xl border p-4 text-sm text-gray-700",children:[r.jsx("div",{className:"text-gray-800 font-medium",children:"Location"}),r.jsxs("div",{className:"mt-2",children:[e.city?`${e.city}, `:"",e.country||"-"]})]})]}),r.jsxs("div",{className:"hidden",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Tags"}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:f.length?f.map(h=>r.jsx("span",{className:xu.chip,children:h},h)):r.jsx("span",{className:"text-sm text-gray-500",children:""})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Target Audience"}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[o.map(h=>r.jsx("span",{className:xu.chip,children:h},`i-${h}`)),l.map(h=>r.jsx("span",{className:xu.chip,children:h},`c-${h}`)),c.map(h=>r.jsx("span",{className:xu.chip,children:h},`s-${h}`)),u.map(h=>r.jsx("span",{className:xu.chip,children:h},`ss-${h}`)),!o.length&&!l.length&&!c.length&&!u.length&&r.jsx("span",{className:"text-sm text-gray-500",children:"Everyone"})]})]})]})]})}function f6({triggerImageSelection:e=!1,hideHeader:t=!1,onSuccess:n}){const s=Ht(),{id:a}=ea(),i=!!a,{user:o}=Xt(),[l,c]=d.useState(!1),[u,f]=d.useState(!1),[h,g]=d.useState(!1),[m,p]=d.useState(0),[v,b]=d.useState({}),[y,x]=d.useState(null),[w,j]=d.useState(!1),[N,L]=d.useState(0),[k,E]=d.useState([]),[S,I]=d.useState([]),[C,M]=d.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[A,H]=d.useState([]),[W,X]=d.useState({categoryId:"",subcategoryId:"",subsubCategoryId:""}),J=[{value:"All countries",label:"All countries"},...An.map(Y=>({value:Y,label:Y}))],[Z,F]=d.useState([]),[D,O]=d.useState({categoryId:"",subcategoryId:""});d.useEffect(()=>{pe(this,null,function*(){try{const{data:Y}=yield Se.get("/general-categories/tree?type=product");H(Y.generalCategories||[])}catch(Y){console.error("Failed to load general categories",Y)}})},[]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:Y}=yield Se.get("/industry-categories/tree");F(Y.industryCategories||[])}catch(Y){console.error("Failed to load industry categories",Y)}})},[]);function T({value:Y,onChange:ie,options:de,placeholder:$e="Select",disabled:it=!1,required:gt=!1,ariaLabel:De}){const[Le,Ae]=d.useState(!1),[Pe,Qe]=d.useState(""),[mt,Me]=d.useState(0),Oe=d.useRef(null),We=d.useRef(null),[qe,vt]=d.useState(!1),Ge=d.useMemo(()=>de.find(q=>String(q.value)===String(Y))||null,[de,Y]),ot=d.useMemo(()=>{const q=Pe.trim().toLowerCase();return q?de.map(K=>({o:K,score:(K.label||"").toLowerCase().indexOf(q)})).filter(K=>K.score!==-1).sort((K,ce)=>K.score-ce.score).map(K=>K.o).slice(0,100):de.slice(0,100)},[Pe,de]),_t=qe||Le||Pe!==""?Pe:(Ge==null?void 0:Ge.label)||"";d.useEffect(()=>{function q(K){Oe.current&&(Oe.current.contains(K.target)||Ae(!1))}return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[]),d.useEffect(()=>{Le||Me(0)},[Le,Pe]);function Ct(q){var K;ie==null||ie((q==null?void 0:q.value)||""),Qe(""),Ae(!1),(K=We.current)==null||K.blur()}function B(){var q;ie==null||ie(""),Qe(""),Ae(!1),(q=We.current)==null||q.focus()}function ee(q){if(!it){if(!Le&&(q.key==="ArrowDown"||q.key==="ArrowUp")){Ae(!0);return}if(!Le){q.key==="Backspace"&&(q.preventDefault(),Qe(Ge&&!Pe?(Ge.label||"").slice(0,-1):(Pe||"").slice(0,-1)),Ae(!0));return}if(q.key==="ArrowDown")q.preventDefault(),Me(K=>Math.min(K+1,ot.length-1));else if(q.key==="ArrowUp")q.preventDefault(),Me(K=>Math.max(K-1,0));else if(q.key==="Enter"){q.preventDefault();const K=ot[mt];K&&Ct(K)}else q.key==="Escape"&&Ae(!1)}}return r.jsxs("div",{ref:Oe,className:`relative ${it?"opacity-60":""}`,children:[r.jsxs("div",{className:"grid gap-1.5",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{ref:We,type:"text",value:_t,disabled:it,placeholder:$e,onChange:q=>{Qe(q.target.value),Ae(!0)},onFocus:()=>{it||(vt(!0),Ae(!0))},onBlur:()=>vt(!1),onKeyDown:ee,"aria-autocomplete":"list","aria-expanded":Le,"aria-controls":"ss-results","aria-label":De||$e,role:"combobox",autoComplete:"off",className:"w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-16 focus:outline-none focus:ring-2 focus:ring-brand-200 text-black"}),Ge&&!it?r.jsx("button",{type:"button",onClick:B,className:"absolute right-8 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-gray-100",title:"Clear",children:""}):null,r.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:r.jsx(Wg.chevron,{})})]}),gt&&r.jsx("input",{tabIndex:-1,"aria-hidden":"true",className:"sr-only",required:!0,value:Y||"",onChange:()=>{}})]}),Le&&!it&&r.jsx("div",{id:"ss-results",role:"listbox",className:"absolute z-30 mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:ot.length===0?r.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No results"}):r.jsx("ul",{className:"max-h-72 overflow-auto",children:ot.map((q,K)=>{const ce=K===mt;return r.jsx("li",{role:"option","aria-selected":ce,className:`cursor-pointer px-3 py-2 text-sm ${ce?"bg-brand-50":"hover:bg-gray-50"}`,onMouseEnter:()=>Me(K),onMouseDown:ye=>{ye.preventDefault(),Ct(q)},children:q.label},q.value)})})})]})}const[R,z]=d.useState(!1),[_,U]=d.useState({title:"",categoryId:"",subcategoryId:"",price:"",currency:"USD",quantity:"",description:"",country:"All countries",city:"",tags:[]}),[Q,re]=d.useState([]),[le,ue]=d.useState(!0);d.useEffect(()=>{pe(this,null,function*(){try{const ie=yield fetch("/data/cities.json");if(!ie.ok)throw new Error("Failed to fetch cities");const de=yield ie.json();re(de)}catch(ie){console.error("Error fetching cities:",ie),oe.error("Failed to load cities data")}finally{ue(!1)}})},[]);const ge=d.useMemo(()=>Q.slice(0,1e4).map(Y=>({value:Y.city,label:`${Y.city}${Y.country?`, ${Y.country}`:""}`,country:Y.country})),[Q]),ke=d.useMemo(()=>_.country?String(_.country).split(",").map(Y=>Y.trim().toLowerCase()).filter(Boolean):[],[_.country]),tt=d.useMemo(()=>{if(ke.length===0||ke.includes("all countries"))return[];const Y=new Set(ke);return ge.filter(ie=>Y.has(ie.country.toLowerCase()))},[ke,ge]),He=d.useMemo(()=>A.map(Y=>({value:Y.id,label:Y.name||`Category ${Y.id}`})),[A]),ze=d.useMemo(()=>{const Y=A.find(ie=>ie.id===W.categoryId);return((Y==null?void 0:Y.subcategories)||[]).map(ie=>({value:ie.id,label:ie.name||`Subcategory ${ie.id}`}))},[A,W.categoryId]);d.useMemo(()=>{var de;const Y=A.find($e=>$e.id===W.categoryId),ie=(de=Y==null?void 0:Y.subcategories)==null?void 0:de.find($e=>$e.id===W.subcategoryId);return((ie==null?void 0:ie.subsubcategories)||[]).map($e=>({value:$e.id,label:$e.name||`Sub-sub ${$e.id}`}))},[A,W.categoryId,W.subcategoryId]);const rt=d.useMemo(()=>Z.map(Y=>({value:Y.id,label:Y.name||`Category ${Y.id}`})),[Z]),Xe=d.useMemo(()=>{const Y=Z.find(ie=>ie.id===D.categoryId);return((Y==null?void 0:Y.subcategories)||[]).map(ie=>({value:ie.id,label:ie.name||`Subcategory ${ie.id}`}))},[Z,D.categoryId]),[V,ne]=d.useState(""),[Ce,fe]=d.useState([]),xe=d.useRef(null),se=d.useMemo(()=>Ce.filter(Y=>rLe(Y)||i8(Y)).map(Y=>Y.startsWith("http")?Y:`${gn}/uploads/${Y}`),[Ce]);d.useEffect(()=>{if(e&&xe.current){const Y=setTimeout(()=>{var ie;(ie=xe.current)==null||ie.click()},100);return()=>clearTimeout(Y)}},[e]);const ae=i&&y&&(o==null?void 0:o.id)!==y;function G(){if(ae)return;const Y=(V||"").trim();Y&&(U(ie=>ie.tags.includes(Y)?ie:he(te({},ie),{tags:[...ie.tags,Y]})),ne(""))}function Ne(Y){ae||U(ie=>he(te({},ie),{tags:ie.tags.filter((de,$e)=>$e!==Y)}))}function Be(Y){L(Y),j(!0)}function dt(){j(!1)}d.useEffect(()=>{pe(this,null,function*(){try{const{data:Y}=yield Se.get("/public/identities?type=all");I(Y.identities||[])}catch(Y){console.error(Y)}})},[]),d.useEffect(()=>{i&&(f(!0),pe(this,null,function*(){try{const{data:Y}=yield Se.get(`/products/${a}?updated=true`),ie=Y.sellerUserId;x(ie),U(de=>{var $e,it,gt,De;return he(te(te({},de),Y),{title:Y.title||"",categoryId:Y.categoryId||"",subcategoryId:Y.subcategoryId||"",price:((it=($e=Y.price)==null?void 0:$e.toString)==null?void 0:it.call($e))||"",currency:Y.currency||"USD",quantity:((De=(gt=Y.quantity)==null?void 0:gt.toString)==null?void 0:De.call(gt))||"",description:Y.description||"",country:Y.country||"",city:Y.city||"",tags:Array.isArray(Y.tags)?Y.tags:typeof Y.tags=="string"?Y.tags.split(",").map(Le=>Le.trim()).filter(Boolean):[]})}),Array.isArray(Y.images)&&fe(Y.images.filter(de=>(de==null?void 0:de.filename)||typeof de=="string").map(de=>typeof de=="string"?de:de.filename)),M({identityIds:new Set((Y.audienceIdentities||[]).map(de=>de.id)),categoryIds:new Set((Y.audienceCategories||[]).map(de=>de.id)),subcategoryIds:new Set((Y.audienceSubcategories||[]).map(de=>de.id)),subsubCategoryIds:new Set((Y.audienceSubsubs||[]).map(de=>de.id))}),X({categoryId:Y.generalCategoryId||"",subcategoryId:Y.generalSubcategoryId||"",subsubCategoryId:Y.generalSubsubCategoryId||""}),O({categoryId:Y.industryCategoryId||"",subcategoryId:Y.industrySubcategoryId||"",subsubCategoryId:Y.industrySubsubCategoryId||""})}catch(Y){console.error(Y),oe.error("Failed to load product"),s("/products")}finally{f(!1)}}))},[i,a,s]),console.log({form:_}),d.useEffect(()=>{pe(this,null,function*(){try{const{data:Y}=yield Se.get("/categories/tree");E(Y.categories||[])}catch(Y){console.error("Error loading categories:",Y)}})},[]);function nt(Y,ie){U(de=>{const $e=he(te({},de),{[Y]:ie});return Y==="country"&&ie==="All countries"&&($e.city=""),$e})}function Te(){return _.title.trim()?_.description.trim()?Ce.length?_.price!==""&&Number(_.price)<0?"Price cannot be negative.":_.quantity!==""&&Number(_.quantity)<0?"Quantity cannot be negative.":null:"Please add at least one product image.":"Description is required.":"Title is required."}function lt(Y){return pe(this,null,function*(){const ie=Array.from(Y||[]);if(!ie.length)return;const de={video:50*1024*1024,image:5*1024*1024},$e=ie.filter(Le=>{const Ae=nLe(Le);return Le.size>de[Ae]});if($e.length>0){const Le=$e.map(Ae=>Ae.name).join(", ");oe.error(`Files exceeding size limit: ${Le}`);return}if(ie.filter(Le=>Le.type.startsWith("image/")||Le.type.startsWith("video/")).length!==ie.length){oe.error("Only image and video files are allowed.");return}const gt=20-Ce.length,De=gt>0?ie.slice(0,gt):[];try{g(!0),p(De.length);const Le={};De.forEach(mt=>{Le[mt.name]=0}),b(Le);const Ae=new FormData;De.forEach(mt=>{Ae.append("images",mt)});const Qe=(yield Se.post("/products/upload-images",Ae,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:mt=>{if(mt.total){const Me=Math.round(mt.loaded*100/mt.total),Oe={};De.forEach(We=>{Oe[We.name]=Me}),b(Oe)}}})).data.filenames.map(mt=>mt);fe(mt=>[...mt,...Qe]),b({})}catch(Le){console.error(Le),oe.error("Some images/videos could not be uploaded."),b({})}finally{g(!1),p(0)}})}function _e(Y){fe(ie=>ie.filter((de,$e)=>$e!==Y))}function be(Y){return pe(this,null,function*(){var de,$e;Y.preventDefault();const ie=Te();if(ie){oe.error(ie);return}z(!0);try{const it={title:_.title,categoryId:_.categoryId||void 0,subcategoryId:_.subcategoryId||void 0,price:_.price!==""&&!Number.isNaN(Number(_.price))?Number(_.price):void 0,quantity:_.quantity!==""&&!Number.isNaN(Number(_.quantity))?Number(_.quantity):void 0,description:_.description,country:_.country||void 0,city:_.country==="All countries"?void 0:_.city||void 0,tags:_.tags,images:Ce.map(gt=>gt.includes("http")?gt:`${gn}/uploads/${gt}`),currency:_.currency,identityIds:Array.from(C.identityIds),categoryIds:Array.from(C.categoryIds),subcategoryIds:Array.from(C.subcategoryIds),subsubCategoryIds:Array.from(C.subsubCategoryIds),generalCategoryId:W.categoryId||null,generalSubcategoryId:W.subcategoryId||null,generalSubsubCategoryId:W.subsubCategoryId||null,industryCategoryId:D.categoryId||null,industrySubcategoryId:D.subcategoryId||null};i?(yield Se.put(`/products/${a}`,it),oe.success("Product updated!")):(yield Se.post("/products",it),oe.success("Product published!"),t&&n?n():s("/products"))}catch(it){console.error(it),oe.error((($e=(de=it==null?void 0:it.response)==null?void 0:de.data)==null?void 0:$e.message)||"Could not save product")}finally{z(!1)}})}return u&&a?r.jsx(Xa,{message:"Loading product",tip:"Fetching..."}):r.jsxs("div",{className:"min-h-screen bg-[#F7F7FB] text-gray-900",children:[!t&&r.jsx(an,{page:"products"}),r.jsxs("main",{className:`mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 ${t?"py-4":"py-8"} fle justify-center gap-6`,children:[!t&&r.jsx("button",{onClick:()=>s("/products"),className:"flex items-center gap-2 mb-2 text-sm text-gray-600 hover:text-brand-600",children:" Go to Products"}),r.jsxs("section",{className:"lg:col-span-8",children:[i?u?r.jsx(aLe,{message:"Loading product"}):ae?r.jsx(oLe,{form:_,hideHeader:t,images:Ce,audSel:C,audTree:S}):null:null,(!i||!u&&!ae)&&r.jsxs("form",{onSubmit:be,className:"rounded-2xl bg-white border border-gray-100 p-6 shadow-sm space-y-6",children:[i&&r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("div",{children:r.jsx("h1",{className:"text-xl font-bold",children:i?"Edit Product":"Create New Product Post"})})}),r.jsx("div",{children:r.jsx("input",{type:"text",value:_.title,onChange:Y=>nt("title",Y.target.value),placeholder:"Enter your product title...",className:"mt-2 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",required:!0})}),r.jsx("div",{children:r.jsx("textarea",{value:_.description,onChange:Y=>nt("description",Y.target.value),placeholder:"Describe the product you are launching or promoting and boost your sales and partnerships.",_placeholder:"Describe your product in detail...",className:"mt-2 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",rows:4,required:!0})}),r.jsxs("section",{children:[r.jsxs("h2",{className:"text-[12px] font-medium text-gray-700",children:["Product Images & Videos ",r.jsx("label",{className:"text-[crimson] text-[14px]",children:"*"})]}),r.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-600",children:[r.jsxs("div",{className:"flex justify-center items-center gap-3 mb-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wg.image,{}),r.jsx("span",{className:"text-xs",children:"Images"})]}),r.jsx("div",{className:"h-4 w-px bg-gray-300"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wg.video,{}),r.jsx("span",{className:"text-xs",children:"Videos"})]})]}),"Upload images or videos to showcase your product",r.jsxs("div",{className:"mt-3",children:[r.jsx("input",{ref:xe,type:"file",multiple:!0,accept:"image/*,video/*",className:"hidden",onChange:Y=>lt(Y.target.files)}),r.jsx("button",{type:"button",onClick:()=>{var Y;return(Y=xe.current)==null?void 0:Y.click()},className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Choose Files"})]}),h&&Object.keys(v).length>0&&r.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Uploading ",Object.keys(v).length," file(s)..."]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[Object.values(v)[0],"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-brand-600 h-2 rounded-full transition-all duration-300",style:{width:`${Object.values(v)[0]||0}%`}})})]}),(Ce.length>0||m>0)&&r.jsxs("div",{className:"mt-6 grid sm:grid-cols-2 gap-4 text-left",children:[Ce.map((Y,ie)=>{const de=i8(Y),$e=Y.startsWith("http")?Y:`${gn}/uploads/${Y}`;return r.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 overflow-hidden grid place-items-center relative cursor-pointer",onClick:()=>Be(ie),children:de?r.jsxs(r.Fragment,{children:[r.jsx("video",{src:$e,className:"h-full w-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:r.jsx(Wg.video,{})})]}):r.jsx("img",{src:$e,alt:`Product media ${ie+1}`,className:"h-full w-full object-cover"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"truncate text-sm font-medium",children:[de?"Video":"Image"," ",ie+1]}),r.jsxs("div",{className:"text-[11px] text-gray-500 truncate",children:[de?"Video":"Image","  Attached"]})]}),r.jsx("button",{type:"button",onClick:()=>_e(ie),className:"p-1 rounded hover:bg-gray-100",title:"Remove",children:r.jsx(Wg.trash,{})})]},`${Y}-${ie}`)}),m>0&&Array.from({length:m}).map((Y,ie)=>r.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-200 animate-pulse"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-1"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"}),h&&r.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-1.5",children:r.jsx("div",{className:"bg-brand-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${Object.values(v)[0]||0}%`}})})]}),r.jsx("div",{className:"h-8 w-8 rounded bg-gray-200 animate-pulse"})]},`img-skel-${ie}`))]}),r.jsx("p",{className:"mt-2 text-[11px] text-gray-400",children:"Images: Up to 5MB each. Videos: Up to 50MB each. Supported formats: JPG, PNG, GIF, MP4, MOV"})]})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-[12px] font-medium text-gray-700",children:"Price"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:_.price,onChange:Y=>nt("price",Y.target.value.replace(/[^\d\-\(\)]/g,"")),placeholder:"0.00",className:"mt-2 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-[12px] font-medium text-gray-700",children:"Currency"}),r.jsx("select",{className:"mt-2 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",name:"currency",onChange:Y=>nt("currency",Y.target.value),value:_.currency,children:iLe.map(Y=>r.jsx("option",{value:Y,children:Y},Y))})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-[12px] font-medium text-gray-700",children:"Quantity Available"}),r.jsx("input",{type:"number",min:"0",value:_.quantity,onChange:Y=>nt("quantity",Y.target.value.replace(/[^\d\-\(\)]/g,"")),placeholder:"Enter quantity",className:"mt-2 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]})]}),r.jsx("div",{children:r.jsxs("div",{className:"mt-3 grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Country"}),r.jsx(T,{value:_.country,onChange:Y=>nt("country",Y),options:J,placeholder:"Search and select country..."},_.country)]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"City"}),r.jsx(T,{value:_.city,onChange:Y=>nt("city",Y),options:tt,placeholder:"Search and select city...",disabled:_.country==="All countries"},_.country)]})]})}),r.jsxs("div",{className:"hidden",children:[r.jsx("h2",{className:"font-semibold",children:"Tags"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("input",{type:"text",value:V,onChange:Y=>ne(Y.target.value),onKeyDown:Y=>{Y.key==="Enter"&&(Y.preventDefault(),G())},placeholder:"Add a tag (e.g., organic, handmade)",className:"flex-1 rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"}),r.jsx("button",{type:"button",onClick:G,className:"inline-flex items-center gap-1 rounded-lg px-3 py-2 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700",children:"+ Add"})]}),_.tags.length>0&&r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:_.tags.map((Y,ie)=>r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-50 text-brand-700 px-3 py-1 text-xs border border-brand-100",children:[Y,r.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>Ne(ie),title:"Remove",children:""})]},`${Y}-${ie}`))}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Tags help others find your product"})]}),r.jsx("section",{children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Category"}),r.jsx(T,{ariaLabel:"Category",value:W.categoryId,onChange:Y=>X({categoryId:Y,subcategoryId:"",subsubCategoryId:""}),options:He,placeholder:"Search & select category"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Subcategory"}),r.jsx(T,{ariaLabel:"Subcategory",value:W.subcategoryId,onChange:Y=>X(ie=>he(te({},ie),{subcategoryId:Y,subsubCategoryId:""})),options:ze,placeholder:"Search & select subcategory",disabled:!W.categoryId})]})]})}),r.jsxs("section",{className:"hidden",children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"Industry Classification"}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select the industry category and subcategory that best describes your product."}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Category"}),r.jsx(T,{ariaLabel:"Industry Category",value:D.categoryId,onChange:Y=>O({categoryId:Y,subcategoryId:""}),options:rt,placeholder:"Search & select industry category"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Subcategory"}),r.jsx(T,{ariaLabel:"Industry Subcategory",value:D.subcategoryId,onChange:Y=>O(ie=>he(te({},ie),{subcategoryId:Y})),options:Xe,placeholder:"Search & select industry subcategory",disabled:!D.categoryId})]})]})]}),r.jsx("section",{children:r.jsx("div",{className:"mb-4",children:l?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-brand-600"}),r.jsx("h3",{className:"font-semibold text-brand-600",children:"Share With (Target Audience)"})]}),r.jsxs("button",{type:"button",onClick:()=>c(!1),className:"inline-flex items-center gap-1 px-3 py-1 border border-gray-300 text-gray-600 rounded-lg text-xs hover:bg-gray-50",children:[r.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Hide"]})]}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select who should see this product."}),r.jsx(fl,{tree:S,selected:C,onChange:Y=>M(Y)})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{type:"button",onClick:()=>c(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})}),"Define Target Audience (optional)"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Target your post to specific audiences"})]})})}),r.jsxs("div",{className:"flex justify-end gap-3",children:[!t&&r.jsx("button",{type:"button",onClick:()=>s("/products"),className:xu.ghost,children:"Cancel"}),r.jsx("button",{type:"submit",className:xu.primaryWide,disabled:R,children:R?"Saving":i?"Update":"Publish"})]})]})]}),r.jsxs("aside",{className:"lg:col-span-4 space-y-4 hidden",children:[r.jsxs("div",{className:"rounded-2xl bg-brand-700 p-6 text-white shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold",children:" Boost Your Post"}),r.jsx("p",{className:"mt-1 text-sm",children:"Reach more potential customers across Africa"}),r.jsx("button",{className:"mt-4 bg-white text-brand-700 rounded-lg px-4 py-2 text-sm font-semibold",children:"Learn More"})]}),r.jsxs("div",{className:"rounded-2xl bg-white border border-gray-100 p-6 shadow-sm",children:[r.jsx("h3",{className:"font-semibold text-brand-600",children:" Product Posting Tips"}),r.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-gray-600",children:[r.jsx("li",{children:" Use high-quality images"}),r.jsx("li",{children:" Write detailed descriptions"}),r.jsx("li",{children:" Set competitive pricing"}),r.jsx("li",{children:" Use relevant tags"})]})]})]})]}),w&&r.jsx(ff,{urls:se,initialIndex:N,onClose:dt})]})}const lLe=Object.freeze(Object.defineProperty({__proto__:null,default:f6},Symbol.toStringTag,{value:"Module"})),vu={primary:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",primaryWide:"w-full rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",ghost:"rounded-lg px-3 py-1.5 text-sm font-semibold border border-brand-600 text-brand-600 bg-white hover:bg-brand-50",badge:"inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium",chip:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs"},eu={trash:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M9 3h6l1 2h4v2H4V5h4l1-2Zm1 6h2v9h-2V9Zm4 0h2v9h-2V9ZM6 9h2v9H6V9Z"})}),chevron:()=>r.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"m6 9 6 6 6-6"})}),video:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"m17 10.5-5-3v6l5-3Z"}),r.jsx("rect",{x:"3",y:"6",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),image:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),r.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5",fill:"currentColor"}),r.jsx("path",{d:"m21 15-5-5L5 21",stroke:"currentColor",strokeWidth:"2"})]})};function cLe(e){return typeof e=="string"&&/\.(jpg|jpeg|png|gif|webp|svg)$/i.test(e)}function o8(e){return typeof e=="string"&&/\.(mp4|mov|avi|mkv|webm|flv|wmv|m4v|3gp|ogv)$/i.test(e)}function dLe(e){return e.type.startsWith("image/")?"image":e.type.startsWith("video/")?"video":"document"}function uLe(e=[]){const t=new Map,n=new Map,s=new Map,a=new Map;for(const i of e){t.set(String(i.id),i.name||i.title||`Identity ${i.id}`);for(const o of i.categories||[]){n.set(String(o.id),o.name||o.title||`Category ${o.id}`);for(const l of o.subcategories||[]){s.set(String(l.id),l.name||l.title||`Subcategory ${l.id}`);for(const c of l.subsubs||[])a.set(String(c.id),c.name||c.title||`Sub-sub ${c.id}`)}}}return{ids:t,cats:n,subs:s,subsubs:a}}function fLe({postType:e,form:t,images:n,audSel:s,audTree:a}){const i=d.useMemo(()=>uLe(a),[a]),o=Array.from(s.identityIds||[]).map(m=>i.ids.get(String(m))).filter(Boolean),l=Array.from(s.categoryIds||[]).map(m=>i.cats.get(String(m))).filter(Boolean),c=Array.from(s.subcategoryIds||[]).map(m=>i.subs.get(String(m))).filter(Boolean),u=Array.from(s.subsubCategoryIds||[]).map(m=>i.subsubs.get(String(m))).filter(Boolean),f=n!=null&&n[0]?`${n[0]}`:null,h=(n||[]).slice(1),g=Array.isArray(t.tags)?t.tags:typeof t.tags=="string"?t.tags.split(",").map(m=>m.trim()).filter(Boolean):[];return r.jsxs("div",{className:"mt-6 rounded-2xl bg-white border border-gray-100 shadow-sm overflow-hidden",children:[f?r.jsxs("div",{className:"relative aspect-[16/6] w-full bg-gray-100",children:[r.jsx("img",{src:f,alt:"Cover",className:"h-full w-full object-cover"}),r.jsx("span",{className:"absolute left-4 top-4 bg-white/90 border border-gray-200 text-gray-700 rounded-full px-2 py-0.5 text-xs font-medium",children:e})]}):null,r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"flex items-start justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold",children:t.title||"Untitled Post"}),r.jsx("div",{className:"mt-1 text-sm text-gray-700",children:[t.location,t.country].filter(Boolean).join(", ")||""})]})}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[r.jsxs("div",{className:"rounded-xl border p-4 hidden",children:[r.jsx("div",{className:"text-gray-700 font-medium",children:"Season"}),r.jsx("div",{className:"mt-1 text-sm text-gray-700",children:t.season||""})]}),r.jsxs("div",{className:"rounded-xl border p-4 hidden",children:[r.jsx("div",{className:"text-gray-700 font-medium",children:"Budget Range"}),r.jsx("div",{className:"mt-1 text-sm text-gray-700",children:t.budgetRange||""})]}),r.jsxs("div",{className:"rounded-xl border p-4 hidden",children:[r.jsx("div",{className:"text-gray-700 font-medium",children:"Post Type"}),r.jsx("div",{className:"mt-1 text-sm text-gray-700",children:e||""})]})]}),h.length>0?r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Photos"}),r.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:h.map((m,p)=>{const v=m.startsWith("http")?m:`${gn}/uploads/${m}`;return r.jsx("div",{className:"relative w-full aspect-[16/10] bg-gray-100 rounded-xl overflow-hidden border",children:r.jsx("img",{src:v,alt:`Photo ${p+2}`,className:"h-full w-full object-cover"})},p)})})]}):null,r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Description"}),r.jsx("p",{className:"mt-2 text-sm text-gray-700 whitespace-pre-wrap",children:t.description||"No description provided."})]}),r.jsxs("div",{className:"hidden",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Tags"}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:g.length?g.map((m,p)=>r.jsx("span",{className:vu.chip,children:m},`${m}-${p}`)):r.jsx("span",{className:"text-sm text-gray-500",children:""})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Target Audience"}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[o.map(m=>r.jsx("span",{className:vu.chip,children:m},`i-${m}`)),l.map(m=>r.jsx("span",{className:vu.chip,children:m},`c-${m}`)),c.map(m=>r.jsx("span",{className:vu.chip,children:m},`s-${m}`)),u.map(m=>r.jsx("span",{className:vu.chip,children:m},`ss-${m}`)),!o.length&&!l.length&&!c.length&&!u.length&&r.jsx("span",{className:"text-sm text-gray-500",children:"Everyone"})]})]})]})]})}function h6({triggerImageSelection:e=!1,hideHeader:t=!1,onSuccess:n}){const s=Ht(),{id:a}=ea(),i=!!a,{user:o}=Xt(),[l,c]=d.useState(!0),[u,f]=d.useState(!1),[h,g]=d.useState(0),[m,p]=d.useState({}),[v,b]=d.useState(null),[y,x]=d.useState(!1),[w,j]=d.useState(0),[N,L]=d.useState(!1),[k,E]=d.useState("Destination"),[S,I]=d.useState(!1),[C,M]=d.useState([]),[A,H]=d.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[W,X]=d.useState({title:"",country:"All countries",location:"",description:"",season:"",budgetRange:"",tagsInput:"",tags:[]}),[J,Z]=d.useState(""),[F,D]=d.useState([]),O=d.useRef(null),T=d.useMemo(()=>F.filter(be=>cLe(be)||o8(be)).map(be=>be.startsWith("http")?be:`${gn}/uploads/${be}`),[F]),R=i&&v&&(o==null?void 0:o.id)!==v;d.useEffect(()=>{pe(this,null,function*(){try{const{data:be}=yield Se.get("/public/identities?type=all");M(be.identities||[])}catch(be){console.error(be)}})},[]);function z(){if(R)return;const be=(J||"").trim();be&&(X(Y=>Y.tags.includes(be)?Y:he(te({},Y),{tags:[...Y.tags,be]})),Z(""))}function _(be){R||X(Y=>he(te({},Y),{tags:Y.tags.filter((ie,de)=>de!==be)}))}d.useEffect(()=>{i&&pe(this,null,function*(){var be,Y,ie,de,$e,it,gt,De,Le;try{c(!0);const{data:Ae}=yield Se.get(`/tourism/${a}?updated=true`),Pe=(Le=(De=(it=(de=(Y=(be=Ae.ownerUserId)!=null?be:Ae.createdById)!=null?Y:Ae.userId)!=null?de:(ie=Ae.author)==null?void 0:ie.id)!=null?it:($e=Ae.owner)==null?void 0:$e.id)!=null?De:(gt=Ae.createdBy)==null?void 0:gt.id)!=null?Le:null;b(Pe),E(Ae.postType||"Destination"),X(Qe=>he(te({},Qe),{title:Ae.title||"",country:Ae.country||"",location:Ae.location||"",description:Ae.description||"",season:Ae.season||"",budgetRange:Ae.budgetRange||"",tags:Array.isArray(Ae.tags)?Ae.tags:typeof Ae.tags=="string"?Ae.tags.split(",").map(mt=>mt.trim()).filter(Boolean):[]})),Array.isArray(Ae.images)?D(Ae.images.filter(Qe=>(Qe==null?void 0:Qe.filename)||typeof Qe=="string").map(Qe=>typeof Qe=="string"?Qe:Qe.filename)):D([]),H({identityIds:new Set((Ae.audienceIdentities||[]).map(Qe=>Qe.id)),categoryIds:new Set((Ae.audienceCategories||[]).map(Qe=>Qe.id)),subcategoryIds:new Set((Ae.audienceSubcategories||[]).map(Qe=>Qe.id)),subsubCategoryIds:new Set((Ae.audienceSubsubs||[]).map(Qe=>Qe.id))}),ze({categoryId:Ae.generalCategoryId||"",subcategoryId:Ae.generalSubcategoryId||"",subsubCategoryId:Ae.generalSubsubCategoryId||""}),Ne({categoryId:Ae.industryCategoryId||"",subcategoryId:Ae.industrySubcategoryId||""}),c(!1)}catch(Ae){console.error(Ae),oe.error("Failed to load tourism post"),s("/tourism")}})},[i,a,s]);function U(be,Y){R||X(ie=>{const de=he(te({},ie),{[be]:Y});return be==="country"&&Y==="All countries"&&(de.location=""),de})}function Q(){return W.title.trim()?W.country.trim()?W.description.trim()?F.length?null:"Please add at least one image.":"Description is required.":"Country is required.":"Title is required."}function re(be){return pe(this,null,function*(){if(R)return;const Y=Array.from(be||[]);if(!Y.length)return;const ie={video:50*1024*1024,image:5*1024*1024},de=Y.filter(De=>{const Le=dLe(De);return De.size>ie[Le]});if(de.length>0){const De=de.map(Le=>Le.name).join(", ");oe.error(`Files exceeding size limit: ${De}`);return}if(Y.filter(De=>De.type.startsWith("image/")||De.type.startsWith("video/")).length!==Y.length){oe.error("Only image and video files are allowed.");return}const it=20-F.length,gt=it>0?Y.slice(0,it):[];try{f(!0),g(gt.length);const De={};gt.forEach(Qe=>{De[Qe.name]=0}),p(De);const Le=new FormData;gt.forEach(Qe=>{Le.append("images",Qe)});const Pe=(yield Se.post("/tourism/upload-images",Le,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:Qe=>{if(Qe.total){const mt=Math.round(Qe.loaded*100/Qe.total),Me={};gt.forEach(Oe=>{Me[Oe.name]=mt}),p(Me)}}})).data.filenames.map(Qe=>Qe);D(Qe=>[...Qe,...Pe]),p({})}catch(De){console.error(De),oe.error("Some images/videos could not be uploaded."),p({})}finally{f(!1),g(0)}})}function le(be){R||D(Y=>Y.filter((ie,de)=>de!==be))}function ue(be){j(be),x(!0)}function ge(){x(!1)}const[ke,tt]=d.useState([]),[He,ze]=d.useState({categoryId:"",subcategoryId:"",subsubCategoryId:""}),rt=[{value:"All countries",label:"All countries"},...An.map(be=>({value:be,label:be}))],[Xe,V]=d.useState([]),[ne,Ce]=d.useState(!0);d.useEffect(()=>{pe(this,null,function*(){try{const Y=yield fetch("/data/cities.json");if(!Y.ok)throw new Error("Failed to fetch cities");const ie=yield Y.json();V(ie)}catch(Y){console.error("Error fetching cities:",Y),oe.error("Failed to load cities data")}finally{Ce(!1)}})},[]);const xe=d.useMemo(()=>Xe.slice(0,1e3).map(be=>({value:be.city,label:`${be.city}${be.country?`, ${be.country}`:""}`})),[Xe]),[se,ae]=d.useState([]),[G,Ne]=d.useState({categoryId:"",subcategoryId:""});d.useEffect(()=>{pe(this,null,function*(){try{const{data:be}=yield Se.get("/general-categories/tree?type=tourism");tt(be.generalCategories||[])}catch(be){console.error("Failed to load general categories",be)}})},[]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:be}=yield Se.get("/industry-categories/tree");ae(be.industryCategories||[])}catch(be){console.error("Failed to load industry categories",be)}})},[]);const Be=d.useMemo(()=>ke.map(be=>({value:be.id,label:be.name||`Category ${be.id}`})),[ke]),dt=d.useMemo(()=>{const be=ke.find(Y=>Y.id===He.categoryId);return((be==null?void 0:be.subcategories)||[]).map(Y=>({value:Y.id,label:Y.name||`Subcategory ${Y.id}`}))},[ke,He.categoryId]);d.useMemo(()=>{var ie;const be=ke.find(de=>de.id===He.categoryId),Y=(ie=be==null?void 0:be.subcategories)==null?void 0:ie.find(de=>de.id===He.subcategoryId);return((Y==null?void 0:Y.subsubcategories)||[]).map(de=>({value:de.id,label:de.name||`Sub-sub ${de.id}`}))},[ke,He.categoryId,He.subcategoryId]);const nt=d.useMemo(()=>se.map(be=>({value:be.id,label:be.name||`Category ${be.id}`})),[se]),Te=d.useMemo(()=>{const be=se.find(Y=>Y.id===G.categoryId);return((be==null?void 0:be.subcategories)||[]).map(Y=>({value:Y.id,label:Y.name||`Subcategory ${Y.id}`}))},[se,G.categoryId]);function lt({value:be,onChange:Y,options:ie,placeholder:de="Select",disabled:$e=!1,required:it=!1,ariaLabel:gt}){const[De,Le]=d.useState(!1),[Ae,Pe]=d.useState(""),[Qe,mt]=d.useState(0),Me=d.useRef(null),Oe=d.useRef(null),[We,qe]=d.useState(!1),vt=d.useMemo(()=>ie.find(ee=>String(ee.value)===String(be))||null,[ie,be]),Ge=d.useMemo(()=>{const ee=Ae.trim().toLowerCase();return ee?ie.map(q=>({o:q,score:(q.label||"").toLowerCase().indexOf(ee)})).filter(q=>q.score!==-1).sort((q,K)=>q.score-K.score).map(q=>q.o).slice(0,100):ie.slice(0,100)},[Ae,ie]),Mt=We||De||Ae!==""?Ae:(vt==null?void 0:vt.label)||"";d.useEffect(()=>{function ee(q){Me.current&&(Me.current.contains(q.target)||Le(!1))}return document.addEventListener("mousedown",ee),()=>document.removeEventListener("mousedown",ee)},[]),d.useEffect(()=>{De||mt(0)},[De,Ae]);function _t(ee){var q;Y==null||Y((ee==null?void 0:ee.value)||""),Pe(""),Le(!1),(q=Oe.current)==null||q.blur()}function Ct(){var ee;Y==null||Y(""),Pe(""),Le(!1),(ee=Oe.current)==null||ee.focus()}function B(ee){if(!$e){if(!De&&(ee.key==="ArrowDown"||ee.key==="ArrowUp")){Le(!0);return}if(!De){ee.key==="Backspace"&&(ee.preventDefault(),Pe(vt&&!Ae?(vt.label||"").slice(0,-1):(Ae||"").slice(0,-1)),Le(!0));return}if(ee.key==="ArrowDown")ee.preventDefault(),mt(q=>Math.min(q+1,Ge.length-1));else if(ee.key==="ArrowUp")ee.preventDefault(),mt(q=>Math.max(q-1,0));else if(ee.key==="Enter"){ee.preventDefault();const q=Ge[Qe];q&&_t(q)}else ee.key==="Escape"&&Le(!1)}}return r.jsxs("div",{ref:Me,className:`relative ${$e?"opacity-60":""}`,children:[r.jsxs("div",{className:"grid gap-1.5",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{ref:Oe,type:"text",value:Mt,disabled:$e,placeholder:de,onChange:ee=>{Pe(ee.target.value),Le(!0)},onFocus:()=>{$e||(qe(!0),Le(!0))},onBlur:()=>qe(!1),onKeyDown:B,"aria-autocomplete":"list","aria-expanded":De,"aria-controls":"ss-results","aria-label":gt||de,role:"combobox",autoComplete:"off",className:"w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-16 focus:outline-none focus:ring-2 focus:ring-brand-200 text-black"}),vt&&!$e?r.jsx("button",{type:"button",onClick:Ct,className:"absolute right-8 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-gray-100",title:"Clear",children:""}):null,r.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:r.jsx(eu.chevron,{})})]}),it&&r.jsx("input",{tabIndex:-1,"aria-hidden":"true",className:"sr-only",required:!0,value:be||"",onChange:()=>{}})]}),De&&!$e&&r.jsx("div",{id:"ss-results",role:"listbox",className:"absolute z-30 mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:Ge.length===0?r.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No results"}):r.jsx("ul",{className:"max-h-72 overflow-auto",children:Ge.map((ee,q)=>{const K=q===Qe;return r.jsx("li",{role:"option","aria-selected":K,className:`cursor-pointer px-3 py-2 text-sm ${K?"bg-brand-50":"hover:bg-gray-50"}`,onMouseEnter:()=>mt(q),onMouseDown:ce=>{ce.preventDefault(),_t(ee)},children:ee.label},ee.value)})})})]})}function _e(be){return pe(this,null,function*(){var ie,de;if(be.preventDefault(),R)return;const Y=Q();if(Y)return oe.error(Y);I(!0);try{const $e={postType:k,title:W.title,country:W.country,location:W.location||void 0,description:W.description,season:W.season||void 0,budgetRange:W.budgetRange||void 0,tags:W.tags,images:F.map(it=>it.includes("http")?it:`${gn}/uploads/${it}`),identityIds:Array.from(A.identityIds),categoryIds:Array.from(A.categoryIds),subcategoryIds:Array.from(A.subcategoryIds),subsubCategoryIds:Array.from(A.subsubCategoryIds),generalCategoryId:He.categoryId||null,generalSubcategoryId:He.subcategoryId||null,generalSubsubCategoryId:He.subsubCategoryId||null,industryCategoryId:G.categoryId||null,industrySubcategoryId:G.subcategoryId||null};i?(yield Se.put(`/tourism/${a}`,$e),oe.success("Tourism post updated!")):(yield Se.post("/tourism",$e),oe.success("Tourism post published!"),t&&n?n():s("/tourism")),c(!0)}catch($e){console.error($e),oe.error(((de=(ie=$e==null?void 0:$e.response)==null?void 0:ie.data)==null?void 0:de.message)||"Could not save tourism post")}finally{I(!1),c(!1)}})}return l&&a?r.jsx(Xa,{message:"Loading service",tip:"Fetching..."}):r.jsxs("div",{className:"min-h-screen bg-[#F7F7FB] text-gray-900",children:[!t&&r.jsx(an,{page:"tourism"}),r.jsxs("main",{className:`mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 ${t?"py-4":"py-8"}`,children:[!t&&r.jsx("button",{onClick:()=>s("/tourism"),className:"flex items-center gap-2 text-sm text-gray-600 hover:underline",type:"button",children:" Back"}),i&&!R&&r.jsx("h1",{className:"text-2xl font-bold mt-3",children:i?"Edit Tourism Post":"Create Tourism Post"}),R?r.jsx(fLe,{postType:k,form:W,images:F,audSel:A,audTree:C}):r.jsxs("form",{onSubmit:_e,className:"mt-6 rounded-2xl bg-white border border-gray-100 p-6 shadow-sm space-y-8",children:[r.jsxs("section",{children:[r.jsx("h2",{className:"font-semibold",children:"Post Type"}),r.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{label:"Destination",desc:"Share a beautiful location"},{label:"Experience",desc:"Share travel experiences"},{label:"Culture",desc:"Share cultural insights"}].map(be=>r.jsxs("button",{type:"button",onClick:()=>E(be.label),className:`border rounded-xl p-4 text-left transition-colors ${k===be.label?"border-brand-600 bg-brand-50":"border-gray-200 bg-white hover:border-brand-600"}`,children:[r.jsx("div",{className:"font-medium",children:be.label}),r.jsx("div",{className:"text-xs text-gray-500",children:be.desc})]},be.label))})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"font-semibold",children:"Title *"}),r.jsx("input",{type:"text",value:W.title,onChange:be=>U("title",be.target.value),placeholder:"Enter an engaging title for your post",className:"mt-2 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",required:!0})]}),r.jsx("section",{children:r.jsx("textarea",{value:W.description,onChange:be=>U("description",be.target.value),placeholder:"Describe the type of attraction and connect with potential clients.",className:"mt-2 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",rows:4,required:!0})}),r.jsxs("section",{children:[r.jsx("h2",{className:"font-semibold",children:"Country & City/Location *"}),r.jsxs("div",{className:"mt-2 grid sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Country *"}),r.jsx(lt,{value:W.country,onChange:be=>U("country",be),options:rt,placeholder:"Search and select country...",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"City/Location"}),r.jsx(lt,{value:W.location,onChange:be=>U("location",be),options:xe,placeholder:"Search and select location...",disabled:W.country==="All countries"})]})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"Photos & Videos"}),r.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-600",children:[r.jsxs("div",{className:"flex justify-center items-center gap-3 mb-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(eu.image,{}),r.jsx("span",{className:"text-xs",children:"Images"})]}),r.jsx("div",{className:"h-4 w-px bg-gray-300"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(eu.video,{}),r.jsx("span",{className:"text-xs",children:"Videos"})]})]}),"Upload images or videos to showcase your tourism post",r.jsxs("div",{className:"mt-3",children:[r.jsx("input",{ref:O,type:"file",multiple:!0,accept:"image/*,video/*",className:"hidden",onChange:be=>re(be.target.files)}),r.jsx("button",{type:"button",onClick:()=>{var be;return(be=O.current)==null?void 0:be.click()},className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Choose Files"})]}),u&&Object.keys(m).length>0&&r.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Uploading ",Object.keys(m).length," file(s)..."]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[Object.values(m)[0],"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-brand-600 h-2 rounded-full transition-all duration-300",style:{width:`${Object.values(m)[0]||0}%`}})})]}),(F.length>0||h>0)&&r.jsxs("div",{className:"mt-6 grid sm:grid-cols-2 gap-4 text-left",children:[F.map((be,Y)=>{const ie=o8(be),de=be.startsWith("http")?be:`${gn}/uploads/${be}`;return r.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 overflow-hidden grid place-items-center relative cursor-pointer",onClick:()=>ue(Y),children:ie?r.jsxs(r.Fragment,{children:[r.jsx("video",{src:de,className:"h-full w-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:r.jsx(eu.video,{})})]}):r.jsx("img",{src:de,alt:`Media ${Y+1}`,className:"h-full w-full object-cover"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"truncate text-sm font-medium",children:[ie?"Video":"Image"," ",Y+1]}),r.jsxs("div",{className:"text-[11px] text-gray-500 truncate",children:[ie?"Video":"Image","  Attached"]})]}),r.jsx("button",{type:"button",onClick:()=>le(Y),className:"p-1 rounded hover:bg-gray-100",title:"Remove",children:r.jsx(eu.trash,{})})]},`${be}-${Y}`)}),h>0&&Array.from({length:h}).map((be,Y)=>r.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-200 animate-pulse"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-1"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"}),u&&r.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-1.5",children:r.jsx("div",{className:"bg-brand-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${Object.values(m)[0]||0}%`}})})]}),r.jsx("div",{className:"h-8 w-8 rounded bg-gray-200 animate-pulse"})]},`img-skel-${Y}`))]})]})]}),r.jsxs("section",{className:"hidden",children:[r.jsx("h2",{className:"font-semibold",children:"Best Season to Visit & Budget Range"}),r.jsxs("div",{className:"mt-2 grid sm:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:W.season,onChange:be=>U("season",be.target.value),className:"rounded-xl border border-gray-200 px-3 py-2 text-sm w-full bg-white appearance-none focus:outline-none focus:ring-2 focus:ring-brand-200 pr-8",children:[r.jsx("option",{value:"",children:"Select Season"}),r.jsx("option",{children:"Summer"}),r.jsx("option",{children:"Winter"}),r.jsx("option",{children:"All Year"}),r.jsx("option",{children:"Rainy Season"}),r.jsx("option",{children:"Dry Season"})]}),r.jsx("span",{className:"pointer-events-none absolute right-2 top-3",children:r.jsx(eu.chevron,{})})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:W.budgetRange,onChange:be=>U("budgetRange",be.target.value),className:"rounded-xl border border-gray-200 px-3 py-2 text-sm w-full bg-white appearance-none focus:outline-none focus:ring-2 focus:ring-brand-200 pr-8",children:[r.jsx("option",{value:"",children:"Select Budget"}),r.jsx("option",{children:"$100 - $500"}),r.jsx("option",{children:"$500 - $2000"}),r.jsx("option",{children:"$2000+"})]}),r.jsx("span",{className:"pointer-events-none absolute right-2 top-3",children:r.jsx(eu.chevron,{})})]})]})]}),r.jsxs("section",{className:"hidden",children:[r.jsx("h2",{className:"font-semibold",children:"Tags"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("input",{type:"text",value:J,onChange:be=>Z(be.target.value),onKeyDown:be=>{be.key==="Enter"&&(be.preventDefault(),z())},placeholder:"Add a tag (e.g., wildlife, beaches, culture)",className:"flex-1 rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"}),r.jsx("button",{type:"button",onClick:z,className:"inline-flex items-center gap-1 rounded-lg px-3 py-2 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700",children:"+ Add"})]}),W.tags.length>0&&r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:W.tags.map((be,Y)=>r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-50 text-brand-700 px-3 py-1 text-xs border border-brand-100",children:[be,r.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>_(Y),title:"Remove",children:""})]},`${be}-${Y}`))}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Tags help others discover your tourism post"})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"font-semibold text-brand-600 hidden",children:"Classification"}),r.jsx("p",{className:"text-xs text-gray-600 mb-3 hidden",children:"Search and pick the category that best describes your tourism post."}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Category"}),r.jsx(lt,{ariaLabel:"Category",value:He.categoryId,onChange:be=>ze({categoryId:be,subcategoryId:"",subsubCategoryId:""}),options:Be,placeholder:"Search & select category"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Subcategory"}),r.jsx(lt,{ariaLabel:"Subcategory",value:He.subcategoryId,onChange:be=>ze(Y=>he(te({},Y),{subcategoryId:be,subsubCategoryId:""})),options:dt,placeholder:"Search & select subcategory",disabled:!He.categoryId})]})]})]}),r.jsxs("section",{className:"hidden",children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"Industry Classification"}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select the industry category and subcategory that best describes your tourism post."}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Category"}),r.jsx(lt,{ariaLabel:"Industry Category",value:G.categoryId,onChange:be=>Ne({categoryId:be,subcategoryId:""}),options:nt,placeholder:"Search & select industry category"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Subcategory"}),r.jsx(lt,{ariaLabel:"Industry Subcategory",value:G.subcategoryId,onChange:be=>Ne(Y=>he(te({},Y),{subcategoryId:be})),options:Te,placeholder:"Search & select industry subcategory",disabled:!G.categoryId})]})]})]}),r.jsx("section",{children:r.jsx("div",{className:"mb-4",children:N?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-brand-600"}),r.jsx("h3",{className:"font-semibold text-brand-600",children:"Share With (Target Audience)"})]}),r.jsxs("button",{type:"button",onClick:()=>L(!1),className:"inline-flex items-center gap-1 px-3 py-1 border border-gray-300 text-gray-600 rounded-lg text-xs hover:bg-gray-50",children:[r.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Hide"]})]}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select who should see this post. Choose multiple identities, categories, subcategories, and sub-subs."}),r.jsx(fl,{tree:C,selected:A,onChange:be=>H(be)})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{type:"button",onClick:()=>L(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})}),"Define Target Audience (optional)"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Target your post to specific audiences"})]})})}),r.jsxs("div",{className:"flex justify-end gap-3",children:[!t&&r.jsx("button",{type:"button",onClick:()=>s("/tourism"),className:vu.ghost,children:"Cancel"}),r.jsx("button",{type:"submit",className:vu.primaryWide,disabled:S,children:S?"Saving":i?"Update":"Publish"})]})]})]}),y&&r.jsx(ff,{urls:T,initialIndex:w,onClose:ge})]})}const hLe=Object.freeze(Object.defineProperty({__proto__:null,default:h6},Symbol.toStringTag,{value:"Module"}));function g6(e){return[].concat(e)}function TL(e){return e.startsWith(":")}function Sq(e){return _w(e)&&(e==="*"||e.length>1&&":>~.+*".includes(e.slice(0,1))||Lq(e))}function Cq(e,t){return(_w(t)||typeof t=="number")&&!Eq(e)&&!TL(e)&&!kq(e)}function kq(e){return e.startsWith("@media")}function gLe(e){return e==="."}function Eq(e){return e==="--"}function _w(e){return e+""===e}function Lq(e){return _w(e)&&(e.startsWith("&")||TL(e))}function zb(e,t=""){return e.filter(Boolean).join(t)}function Mq(e,t){let n=0;if(t.length===0)return n.toString();for(let s=0;s<t.length;s++){const a=t.charCodeAt(s);n=(n<<5)-n+a,n=n&n}return`${e!=null?e:"cl"}_${n.toString(36)}`}function mLe(e,t){return e==="content"?`"${t}"`:t}function pLe(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function l8(e,t){return`${e}:${t}`}function xLe(e){return e?`.${e}`:""}function vLe(e,t){return e?`${e}
${t}`:t}var Iq=class Tq{constructor(t,n,s,a){this.sheet=t,this.property=n,this.value=s,this.selector=a,this.property=n,this.value=s,this.joined=l8(n,s);const i=this.selector.preconditions.concat(this.selector.postconditions);this.hash=this.selector.hasConditions?this.selector.scopeClassName:Mq(this.sheet.name,this.joined),this.key=zb([this.joined,i,this.hash])}toString(){let t=m6(this.selector.preconditions,{right:this.hash});return t=m6(this.selector.postconditions,{left:t}),`${t} {${Tq.genRule(this.property,this.value)}}`}static genRule(t,n){const s=pLe(t);return l8(s,mLe(t,n))+";"}};function m6(e,{left:t="",right:n=""}={}){const s=e.reduce((a,i)=>TL(i)?a+i:Lq(i)?a+i.slice(1):zb([a,i]," "),t);return zb([s,xLe(n)]," ")}var yLe=class uy{constructor(t,n=null,{preconditions:s,postconditions:a}={}){this.sheet=t,this.preconditions=[],this.scopeClassName=null,this.scopeName=null,this.postconditions=[],this.preconditions=s?g6(s):[],this.postconditions=a?g6(a):[],this.setScope(n)}setScope(t){return t?(this.scopeClassName||(this.scopeName=t,this.scopeClassName=Mq(this.sheet.name,t+this.sheet.count)),this):this}get hasConditions(){return this.preconditions.length>0||this.postconditions.length>0}addScope(t){return new uy(this.sheet,t,{preconditions:this.preconditions,postconditions:this.postconditions})}addPrecondition(t){return new uy(this.sheet,this.scopeClassName,{postconditions:this.postconditions,preconditions:this.preconditions.concat(t)})}addPostcondition(t){return new uy(this.sheet,this.scopeClassName,{preconditions:this.preconditions,postconditions:this.postconditions.concat(t)})}createRule(t,n){return new Iq(this.sheet,t,n,this)}},bLe=class{constructor(e,t){this.name=e,this.rootNode=t,this.storedStyles={},this.storedClasses={},this.style="",this.count=0,this.id=`flairup-${e}`,this.styleTag=this.createStyleTag()}getStyle(){return this.style}append(e){this.style=vLe(this.style,e)}apply(){this.count++,this.styleTag&&(this.styleTag.innerHTML=this.style)}isApplied(){return!!this.styleTag}createStyleTag(){var t;if(typeof document=="undefined"||this.isApplied()||this.rootNode===null)return this.styleTag;const e=document.createElement("style");return e.type="text/css",e.id=this.id,((t=this.rootNode)!=null?t:document.head).appendChild(e),e}addRule(e){const t=this.storedClasses[e.key];return _w(t)?t:(this.storedClasses[e.key]=e.hash,this.storedStyles[e.hash]=[e.property,e.value],this.append(e.toString()),e.hash)}};function AL(e,t){for(const n in e)t(n.trim(),e[n])}function Lr(...e){const t=e.reduce((n,s)=>(s instanceof Set?n.push(...s):typeof s=="string"?n.push(s):Array.isArray(s)?n.push(Lr(...s)):typeof s=="object"&&Object.entries(s).forEach(([a,i])=>{i&&n.push(a)}),n),[]);return zb(t," ").trim()}function wLe(e,t){const n=new bLe(e,t);return{create:s,getStyle:n.getStyle.bind(n),isApplied:n.isApplied.bind(n)};function s(a){const i={};return Aq(n,a,new yLe(n)).forEach(([l,c,u])=>{Ow(n,c,u).forEach(f=>{o(l,f)})}),n.apply(),i;function o(l,c){var u;i[l]=(u=i[l])!=null?u:new Set,i[l].add(c)}}}function Aq(e,t,n){const s=[];return AL(t,(a,i)=>{if(Sq(a))return Aq(e,i,n.addPrecondition(a)).forEach(o=>s.push(o));s.push([a,t[a],n.addScope(a)])}),s}function Ow(e,t,n){const s=new Set;return AL(t,(a,i)=>{let o=[];if(Sq(a))o=Ow(e,i,n.addPostcondition(a));else if(gLe(a))o=g6(i);else if(kq(a))o=NLe(e,i,a,n);else if(Eq(a))o=jLe(e,i,n);else if(Cq(a,i)){const l=n.createRule(a,i);e.addRule(l),s.add(l.hash)}return _q(o,s)}),s}function _q(e,t){return e.forEach(n=>t.add(n)),t}function jLe(e,t,n){const s=new Set,a=[];if(AL(t,(i,o)=>{if(Cq(i,o)){a.push(Iq.genRule(i,o));return}const l=Ow(e,o!=null?o:{},n);_q(l,s)}),!n.scopeClassName)return s;if(a.length){const i=a.join(" ");e.append(`${m6(n.preconditions,{right:n.scopeClassName})} {${i}}`)}return s.add(n.scopeClassName),s}function NLe(e,t,n,s){e.append(n+" {");const a=Ow(e,t,s);return e.append("}"),a}function Ln(){return Ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ln.apply(this,arguments)}function SLe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,p6(e,t)}function p6(e,t){return p6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},p6(e,t)}function Oq(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function CLe(e,t){if(e){if(typeof e=="string")return c8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c8(e,t)}}function c8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function kLe(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=CLe(e))||t){n&&(e=n);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Nr;(function(e){e.hiddenOnSearch="epr-hidden-on-search",e.searchActive="epr-search-active",e.hidden="epr-hidden",e.visible="epr-visible",e.active="epr-active",e.emoji="epr-emoji",e.category="epr-emoji-category",e.label="epr-emoji-category-label",e.categoryContent="epr-emoji-category-content",e.emojiHasVariations="epr-emoji-has-variations",e.scrollBody="epr-body",e.emojiList="epr-emoji-list",e.external="__EmojiPicker__",e.emojiPicker="EmojiPickerReact",e.open="epr-open",e.vertical="epr-vertical",e.horizontal="epr-horizontal",e.variationPicker="epr-emoji-variation-picker",e.darkTheme="epr-dark-theme",e.autoTheme="epr-auto-theme"})(Nr||(Nr={}));function ua(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(s){return"."+s}).join("")}var bn=wLe("epr",null),fy={display:"none",opacity:"0",pointerEvents:"none",visibility:"hidden",overflow:"hidden"},_L=bn.create({hidden:Ln({".":Nr.hidden},fy)}),ELe=d.memo(function(){return d.createElement("style",{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:bn.getStyle()}})}),hf=bn.create({".epr-main":{":has(input:not(:placeholder-shown))":{categoryBtn:{":hover":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"}},hiddenOnSearch:Ln({".":Nr.hiddenOnSearch},fy)},":has(input:placeholder-shown)":{visibleOnSearchOnly:fy}},hiddenOnReactions:{transition:"all 0.5s ease-in-out"},".epr-reactions":{hiddenOnReactions:{height:"0px",width:"0px",opacity:"0",pointerEvents:"none",overflow:"hidden"}},".EmojiPickerReact:not(.epr-search-active)":{categoryBtn:{":hover":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"},"&.epr-active":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"}},visibleOnSearchOnly:Ln({".":"epr-visible-on-search-only"},fy)}});function xd(e,t){var n,s;return{".epr-dark-theme":(n={},n[e]=t,n),".epr-auto-theme":(s={},s[e]={"@media (prefers-color-scheme: dark)":t},s)}}function $q(e,t){var n,s,a=(n=e.customEmojis)!=null?n:[],i=(s=t.customEmojis)!=null?s:[];return e.open===t.open&&e.emojiVersion===t.emojiVersion&&e.reactionsDefaultOpen===t.reactionsDefaultOpen&&e.searchPlaceHolder===t.searchPlaceHolder&&e.searchPlaceholder===t.searchPlaceholder&&e.defaultSkinTone===t.defaultSkinTone&&e.skinTonesDisabled===t.skinTonesDisabled&&e.autoFocusSearch===t.autoFocusSearch&&e.emojiStyle===t.emojiStyle&&e.theme===t.theme&&e.suggestedEmojisMode===t.suggestedEmojisMode&&e.lazyLoadEmojis===t.lazyLoadEmojis&&e.className===t.className&&e.height===t.height&&e.width===t.width&&e.style===t.style&&e.searchDisabled===t.searchDisabled&&e.skinTonePickerLocation===t.skinTonePickerLocation&&a.length===i.length}var LLe=["1f44d","2764-fe0f","1f603","1f622","1f64f","1f44e","1f621"],Op;(function(e){e.RECENT="recent",e.FREQUENT="frequent"})(Op||(Op={}));var yi;(function(e){e.NATIVE="native",e.APPLE="apple",e.TWITTER="twitter",e.GOOGLE="google",e.FACEBOOK="facebook"})(yi||(yi={}));var $p;(function(e){e.DARK="dark",e.LIGHT="light",e.AUTO="auto"})($p||($p={}));var ko;(function(e){e.NEUTRAL="neutral",e.LIGHT="1f3fb",e.MEDIUM_LIGHT="1f3fc",e.MEDIUM="1f3fd",e.MEDIUM_DARK="1f3fe",e.DARK="1f3ff"})(ko||(ko={}));var jr;(function(e){e.SUGGESTED="suggested",e.CUSTOM="custom",e.SMILEYS_PEOPLE="smileys_people",e.ANIMALS_NATURE="animals_nature",e.FOOD_DRINK="food_drink",e.TRAVEL_PLACES="travel_places",e.ACTIVITIES="activities",e.OBJECTS="objects",e.SYMBOLS="symbols",e.FLAGS="flags"})(jr||(jr={}));var hh;(function(e){e.SEARCH="SEARCH",e.PREVIEW="PREVIEW"})(hh||(hh={}));var Pi,MLe=[jr.SUGGESTED,jr.CUSTOM,jr.SMILEYS_PEOPLE,jr.ANIMALS_NATURE,jr.FOOD_DRINK,jr.TRAVEL_PLACES,jr.ACTIVITIES,jr.OBJECTS,jr.SYMBOLS,jr.FLAGS],ILe={name:"Recently Used",category:jr.SUGGESTED},Pq=(Pi={},Pi[jr.SUGGESTED]={category:jr.SUGGESTED,name:"Frequently Used"},Pi[jr.CUSTOM]={category:jr.CUSTOM,name:"Custom Emojis"},Pi[jr.SMILEYS_PEOPLE]={category:jr.SMILEYS_PEOPLE,name:"Smileys & People"},Pi[jr.ANIMALS_NATURE]={category:jr.ANIMALS_NATURE,name:"Animals & Nature"},Pi[jr.FOOD_DRINK]={category:jr.FOOD_DRINK,name:"Food & Drink"},Pi[jr.TRAVEL_PLACES]={category:jr.TRAVEL_PLACES,name:"Travel & Places"},Pi[jr.ACTIVITIES]={category:jr.ACTIVITIES,name:"Activities"},Pi[jr.OBJECTS]={category:jr.OBJECTS,name:"Objects"},Pi[jr.SYMBOLS]={category:jr.SYMBOLS,name:"Symbols"},Pi[jr.FLAGS]={category:jr.FLAGS,name:"Flags"},Pi);function Dq(e){return MLe.map(function(t){return Ln({},Pq[t],e&&e[t]&&e[t])})}function OL(e){return e.category}function Rq(e){return e.name}function TLe(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t={});var s={};t.suggestionMode===Op.RECENT&&(s[jr.SUGGESTED]=ILe);var a=Dq(s);return(n=e)!=null&&n.length?e.map(function(i){return typeof i=="string"?d8(i,s[i]):Ln({},d8(i.category,s[i.category]),i)}):a}function d8(e,t){return t===void 0&&(t={}),Object.assign(Pq[e],t)}var ALe="https://cdn.jsdelivr.net/npm/emoji-datasource-apple/img/apple/64/",_Le="https://cdn.jsdelivr.net/npm/emoji-datasource-facebook/img/facebook/64/",OLe="https://cdn.jsdelivr.net/npm/emoji-datasource-twitter/img/twitter/64/",$Le="https://cdn.jsdelivr.net/npm/emoji-datasource-google/img/google/64/";function PLe(e){switch(e){case yi.TWITTER:return OLe;case yi.GOOGLE:return $Le;case yi.FACEBOOK:return _Le;case yi.APPLE:default:return ALe}}var DLe=[],RLe=[{n:["grinning","grinning face"],u:"1f600",a:"1.0"},{n:["smiley","smiling face with open mouth"],u:"1f603",a:"0.6"},{n:["smile","smiling face with open mouth and smiling eyes"],u:"1f604",a:"0.6"},{n:["grin","grinning face with smiling eyes"],u:"1f601",a:"0.6"},{n:["laughing","satisfied","smiling face with open mouth and tightly-closed eyes"],u:"1f606",a:"0.6"},{n:["sweat smile","smiling face with open mouth and cold sweat"],u:"1f605",a:"0.6"},{n:["rolling on the floor laughing"],u:"1f923",a:"3.0"},{n:["joy","face with tears of joy"],u:"1f602",a:"0.6"},{n:["slightly smiling face"],u:"1f642",a:"1.0"},{n:["upside-down face","upside down face"],u:"1f643",a:"1.0"},{n:["melting face"],u:"1fae0",a:"14.0"},{n:["wink","winking face"],u:"1f609",a:"0.6"},{n:["blush","smiling face with smiling eyes"],u:"1f60a",a:"0.6"},{n:["innocent","smiling face with halo"],u:"1f607",a:"1.0"},{n:["smiling face with 3 hearts","smiling face with smiling eyes and three hearts"],u:"1f970",a:"11.0"},{n:["heart eyes","smiling face with heart-shaped eyes"],u:"1f60d",a:"0.6"},{n:["star-struck","grinning face with star eyes"],u:"1f929",a:"5.0"},{n:["kissing heart","face throwing a kiss"],u:"1f618",a:"0.6"},{n:["kissing","kissing face"],u:"1f617",a:"1.0"},{n:["relaxed","white smiling face"],u:"263a-fe0f",a:"0.6"},{n:["kissing closed eyes","kissing face with closed eyes"],u:"1f61a",a:"0.6"},{n:["kissing smiling eyes","kissing face with smiling eyes"],u:"1f619",a:"1.0"},{n:["smiling face with tear"],u:"1f972",a:"13.0"},{n:["yum","face savouring delicious food"],u:"1f60b",a:"0.6"},{n:["stuck out tongue","face with stuck-out tongue"],u:"1f61b",a:"1.0"},{n:["stuck out tongue winking eye","face with stuck-out tongue and winking eye"],u:"1f61c",a:"0.6"},{n:["zany face","grinning face with one large and one small eye"],u:"1f92a",a:"5.0"},{n:["stuck out tongue closed eyes","face with stuck-out tongue and tightly-closed eyes"],u:"1f61d",a:"0.6"},{n:["money-mouth face","money mouth face"],u:"1f911",a:"1.0"},{n:["hugging face"],u:"1f917",a:"1.0"},{n:["face with hand over mouth","smiling face with smiling eyes and hand covering mouth"],u:"1f92d",a:"5.0"},{n:["face with open eyes and hand over mouth"],u:"1fae2",a:"14.0"},{n:["face with peeking eye"],u:"1fae3",a:"14.0"},{n:["shushing face","face with finger covering closed lips"],u:"1f92b",a:"5.0"},{n:["thinking face"],u:"1f914",a:"1.0"},{n:["saluting face"],u:"1fae1",a:"14.0"},{n:["zipper-mouth face","zipper mouth face"],u:"1f910",a:"1.0"},{n:["face with raised eyebrow","face with one eyebrow raised"],u:"1f928",a:"5.0"},{n:["neutral face"],u:"1f610",a:"0.7"},{n:["expressionless","expressionless face"],u:"1f611",a:"1.0"},{n:["no mouth","face without mouth"],u:"1f636",a:"1.0"},{n:["dotted line face"],u:"1fae5",a:"14.0"},{n:["face in clouds"],u:"1f636-200d-1f32b-fe0f",a:"13.1"},{n:["smirk","smirking face"],u:"1f60f",a:"0.6"},{n:["unamused","unamused face"],u:"1f612",a:"0.6"},{n:["face with rolling eyes"],u:"1f644",a:"1.0"},{n:["grimacing","grimacing face"],u:"1f62c",a:"1.0"},{n:["face exhaling"],u:"1f62e-200d-1f4a8",a:"13.1"},{n:["lying face"],u:"1f925",a:"3.0"},{n:["shaking face"],u:"1fae8",a:"15.0"},{n:["head shaking horizontally"],u:"1f642-200d-2194-fe0f",a:"15.1"},{n:["head shaking vertically"],u:"1f642-200d-2195-fe0f",a:"15.1"},{n:["relieved","relieved face"],u:"1f60c",a:"0.6"},{n:["pensive","pensive face"],u:"1f614",a:"0.6"},{n:["sleepy","sleepy face"],u:"1f62a",a:"0.6"},{n:["drooling face"],u:"1f924",a:"3.0"},{n:["sleeping","sleeping face"],u:"1f634",a:"1.0"},{n:["mask","face with medical mask"],u:"1f637",a:"0.6"},{n:["face with thermometer"],u:"1f912",a:"1.0"},{n:["face with head-bandage","face with head bandage"],u:"1f915",a:"1.0"},{n:["nauseated face"],u:"1f922",a:"3.0"},{n:["face vomiting","face with open mouth vomiting"],u:"1f92e",a:"5.0"},{n:["sneezing face"],u:"1f927",a:"3.0"},{n:["hot face","overheated face"],u:"1f975",a:"11.0"},{n:["cold face","freezing face"],u:"1f976",a:"11.0"},{n:["woozy face","face with uneven eyes and wavy mouth"],u:"1f974",a:"11.0"},{n:["dizzy face"],u:"1f635",a:"0.6"},{n:["face with spiral eyes"],u:"1f635-200d-1f4ab",a:"13.1"},{n:["exploding head","shocked face with exploding head"],u:"1f92f",a:"5.0"},{n:["face with cowboy hat"],u:"1f920",a:"3.0"},{n:["partying face","face with party horn and party hat"],u:"1f973",a:"11.0"},{n:["disguised face"],u:"1f978",a:"13.0"},{n:["sunglasses","smiling face with sunglasses"],u:"1f60e",a:"1.0"},{n:["nerd face"],u:"1f913",a:"1.0"},{n:["face with monocle"],u:"1f9d0",a:"5.0"},{n:["confused","confused face"],u:"1f615",a:"1.0"},{n:["face with diagonal mouth"],u:"1fae4",a:"14.0"},{n:["worried","worried face"],u:"1f61f",a:"1.0"},{n:["slightly frowning face"],u:"1f641",a:"1.0"},{n:["frowning face","white frowning face"],u:"2639-fe0f",a:"0.7"},{n:["open mouth","face with open mouth"],u:"1f62e",a:"1.0"},{n:["hushed","hushed face"],u:"1f62f",a:"1.0"},{n:["astonished","astonished face"],u:"1f632",a:"0.6"},{n:["flushed","flushed face"],u:"1f633",a:"0.6"},{n:["pleading face","face with pleading eyes"],u:"1f97a",a:"11.0"},{n:["face holding back tears"],u:"1f979",a:"14.0"},{n:["frowning","frowning face with open mouth"],u:"1f626",a:"1.0"},{n:["anguished","anguished face"],u:"1f627",a:"1.0"},{n:["fearful","fearful face"],u:"1f628",a:"0.6"},{n:["cold sweat","face with open mouth and cold sweat"],u:"1f630",a:"0.6"},{n:["disappointed relieved","disappointed but relieved face"],u:"1f625",a:"0.6"},{n:["cry","crying face"],u:"1f622",a:"0.6"},{n:["sob","loudly crying face"],u:"1f62d",a:"0.6"},{n:["scream","face screaming in fear"],u:"1f631",a:"0.6"},{n:["confounded","confounded face"],u:"1f616",a:"0.6"},{n:["persevere","persevering face"],u:"1f623",a:"0.6"},{n:["disappointed","disappointed face"],u:"1f61e",a:"0.6"},{n:["sweat","face with cold sweat"],u:"1f613",a:"0.6"},{n:["weary","weary face"],u:"1f629",a:"0.6"},{n:["tired face"],u:"1f62b",a:"0.6"},{n:["yawning face"],u:"1f971",a:"12.0"},{n:["triumph","face with look of triumph"],u:"1f624",a:"0.6"},{n:["rage","pouting face"],u:"1f621",a:"0.6"},{n:["angry","angry face"],u:"1f620",a:"0.6"},{n:["face with symbols on mouth","serious face with symbols covering mouth"],u:"1f92c",a:"5.0"},{n:["smiling imp","smiling face with horns"],u:"1f608",a:"1.0"},{n:["imp"],u:"1f47f",a:"0.6"},{n:["skull"],u:"1f480",a:"0.6"},{n:["skull and crossbones"],u:"2620-fe0f",a:"1.0"},{n:["poop","shit","hankey","pile of poo"],u:"1f4a9",a:"0.6"},{n:["clown face"],u:"1f921",a:"3.0"},{n:["japanese ogre"],u:"1f479",a:"0.6"},{n:["japanese goblin"],u:"1f47a",a:"0.6"},{n:["ghost"],u:"1f47b",a:"0.6"},{n:["alien","extraterrestrial alien"],u:"1f47d",a:"0.6"},{n:["alien monster","space invader"],u:"1f47e",a:"0.6"},{n:["robot face"],u:"1f916",a:"1.0"},{n:["smiley cat","smiling cat face with open mouth"],u:"1f63a",a:"0.6"},{n:["smile cat","grinning cat face with smiling eyes"],u:"1f638",a:"0.6"},{n:["joy cat","cat face with tears of joy"],u:"1f639",a:"0.6"},{n:["heart eyes cat","smiling cat face with heart-shaped eyes"],u:"1f63b",a:"0.6"},{n:["smirk cat","cat face with wry smile"],u:"1f63c",a:"0.6"},{n:["kissing cat","kissing cat face with closed eyes"],u:"1f63d",a:"0.6"},{n:["scream cat","weary cat face"],u:"1f640",a:"0.6"},{n:["crying cat face"],u:"1f63f",a:"0.6"},{n:["pouting cat","pouting cat face"],u:"1f63e",a:"0.6"},{n:["see no evil","see-no-evil monkey"],u:"1f648",a:"0.6"},{n:["hear no evil","hear-no-evil monkey"],u:"1f649",a:"0.6"},{n:["speak no evil","speak-no-evil monkey"],u:"1f64a",a:"0.6"},{n:["love letter"],u:"1f48c",a:"0.6"},{n:["cupid","heart with arrow"],u:"1f498",a:"0.6"},{n:["gift heart","heart with ribbon"],u:"1f49d",a:"0.6"},{n:["sparkling heart"],u:"1f496",a:"0.6"},{n:["heartpulse","growing heart"],u:"1f497",a:"0.6"},{n:["heartbeat","beating heart"],u:"1f493",a:"0.6"},{n:["revolving hearts"],u:"1f49e",a:"0.6"},{n:["two hearts"],u:"1f495",a:"0.6"},{n:["heart decoration"],u:"1f49f",a:"0.6"},{n:["heart exclamation","heavy heart exclamation mark ornament"],u:"2763-fe0f",a:"1.0"},{n:["broken heart"],u:"1f494",a:"0.6"},{n:["heart on fire"],u:"2764-fe0f-200d-1f525",a:"13.1"},{n:["mending heart"],u:"2764-fe0f-200d-1fa79",a:"13.1"},{n:["heart","heavy black heart"],u:"2764-fe0f",a:"0.6"},{n:["pink heart"],u:"1fa77",a:"15.0"},{n:["orange heart"],u:"1f9e1",a:"5.0"},{n:["yellow heart"],u:"1f49b",a:"0.6"},{n:["green heart"],u:"1f49a",a:"0.6"},{n:["blue heart"],u:"1f499",a:"0.6"},{n:["light blue heart"],u:"1fa75",a:"15.0"},{n:["purple heart"],u:"1f49c",a:"0.6"},{n:["brown heart"],u:"1f90e",a:"12.0"},{n:["black heart"],u:"1f5a4",a:"3.0"},{n:["grey heart"],u:"1fa76",a:"15.0"},{n:["white heart"],u:"1f90d",a:"12.0"},{n:["kiss","kiss mark"],u:"1f48b",a:"0.6"},{n:["100","hundred points symbol"],u:"1f4af",a:"0.6"},{n:["anger","anger symbol"],u:"1f4a2",a:"0.6"},{n:["boom","collision","collision symbol"],u:"1f4a5",a:"0.6"},{n:["dizzy","dizzy symbol"],u:"1f4ab",a:"0.6"},{n:["sweat drops","splashing sweat symbol"],u:"1f4a6",a:"0.6"},{n:["dash","dash symbol"],u:"1f4a8",a:"0.6"},{n:["hole"],u:"1f573-fe0f",a:"0.7"},{n:["speech balloon"],u:"1f4ac",a:"0.6"},{n:["eye in speech bubble","eye-in-speech-bubble"],u:"1f441-fe0f-200d-1f5e8-fe0f",a:"2.0"},{n:["left speech bubble"],u:"1f5e8-fe0f",a:"2.0"},{n:["right anger bubble"],u:"1f5ef-fe0f",a:"0.7"},{n:["thought balloon"],u:"1f4ad",a:"1.0"},{n:["zzz","sleeping symbol"],u:"1f4a4",a:"0.6"},{n:["wave","waving hand sign"],u:"1f44b",v:["1f44b-1f3fb","1f44b-1f3fc","1f44b-1f3fd","1f44b-1f3fe","1f44b-1f3ff"],a:"0.6"},{n:["raised back of hand"],u:"1f91a",v:["1f91a-1f3fb","1f91a-1f3fc","1f91a-1f3fd","1f91a-1f3fe","1f91a-1f3ff"],a:"3.0"},{n:["hand with fingers splayed","raised hand with fingers splayed"],u:"1f590-fe0f",v:["1f590-1f3fb","1f590-1f3fc","1f590-1f3fd","1f590-1f3fe","1f590-1f3ff"],a:"0.7"},{n:["hand","raised hand"],u:"270b",v:["270b-1f3fb","270b-1f3fc","270b-1f3fd","270b-1f3fe","270b-1f3ff"],a:"0.6"},{n:["spock-hand","raised hand with part between middle and ring fingers"],u:"1f596",v:["1f596-1f3fb","1f596-1f3fc","1f596-1f3fd","1f596-1f3fe","1f596-1f3ff"],a:"1.0"},{n:["rightwards hand"],u:"1faf1",v:["1faf1-1f3fb","1faf1-1f3fc","1faf1-1f3fd","1faf1-1f3fe","1faf1-1f3ff"],a:"14.0"},{n:["leftwards hand"],u:"1faf2",v:["1faf2-1f3fb","1faf2-1f3fc","1faf2-1f3fd","1faf2-1f3fe","1faf2-1f3ff"],a:"14.0"},{n:["palm down hand"],u:"1faf3",v:["1faf3-1f3fb","1faf3-1f3fc","1faf3-1f3fd","1faf3-1f3fe","1faf3-1f3ff"],a:"14.0"},{n:["palm up hand"],u:"1faf4",v:["1faf4-1f3fb","1faf4-1f3fc","1faf4-1f3fd","1faf4-1f3fe","1faf4-1f3ff"],a:"14.0"},{n:["leftwards pushing hand"],u:"1faf7",v:["1faf7-1f3fb","1faf7-1f3fc","1faf7-1f3fd","1faf7-1f3fe","1faf7-1f3ff"],a:"15.0"},{n:["rightwards pushing hand"],u:"1faf8",v:["1faf8-1f3fb","1faf8-1f3fc","1faf8-1f3fd","1faf8-1f3fe","1faf8-1f3ff"],a:"15.0"},{n:["ok hand","ok hand sign"],u:"1f44c",v:["1f44c-1f3fb","1f44c-1f3fc","1f44c-1f3fd","1f44c-1f3fe","1f44c-1f3ff"],a:"0.6"},{n:["pinched fingers"],u:"1f90c",v:["1f90c-1f3fb","1f90c-1f3fc","1f90c-1f3fd","1f90c-1f3fe","1f90c-1f3ff"],a:"13.0"},{n:["pinching hand"],u:"1f90f",v:["1f90f-1f3fb","1f90f-1f3fc","1f90f-1f3fd","1f90f-1f3fe","1f90f-1f3ff"],a:"12.0"},{n:["v","victory hand"],u:"270c-fe0f",v:["270c-1f3fb","270c-1f3fc","270c-1f3fd","270c-1f3fe","270c-1f3ff"],a:"0.6"},{n:["crossed fingers","hand with index and middle fingers crossed"],u:"1f91e",v:["1f91e-1f3fb","1f91e-1f3fc","1f91e-1f3fd","1f91e-1f3fe","1f91e-1f3ff"],a:"3.0"},{n:["hand with index finger and thumb crossed"],u:"1faf0",v:["1faf0-1f3fb","1faf0-1f3fc","1faf0-1f3fd","1faf0-1f3fe","1faf0-1f3ff"],a:"14.0"},{n:["i love you hand sign"],u:"1f91f",v:["1f91f-1f3fb","1f91f-1f3fc","1f91f-1f3fd","1f91f-1f3fe","1f91f-1f3ff"],a:"5.0"},{n:["the horns","sign of the horns"],u:"1f918",v:["1f918-1f3fb","1f918-1f3fc","1f918-1f3fd","1f918-1f3fe","1f918-1f3ff"],a:"1.0"},{n:["call me hand"],u:"1f919",v:["1f919-1f3fb","1f919-1f3fc","1f919-1f3fd","1f919-1f3fe","1f919-1f3ff"],a:"3.0"},{n:["point left","white left pointing backhand index"],u:"1f448",v:["1f448-1f3fb","1f448-1f3fc","1f448-1f3fd","1f448-1f3fe","1f448-1f3ff"],a:"0.6"},{n:["point right","white right pointing backhand index"],u:"1f449",v:["1f449-1f3fb","1f449-1f3fc","1f449-1f3fd","1f449-1f3fe","1f449-1f3ff"],a:"0.6"},{n:["point up 2","white up pointing backhand index"],u:"1f446",v:["1f446-1f3fb","1f446-1f3fc","1f446-1f3fd","1f446-1f3fe","1f446-1f3ff"],a:"0.6"},{n:["middle finger","reversed hand with middle finger extended"],u:"1f595",v:["1f595-1f3fb","1f595-1f3fc","1f595-1f3fd","1f595-1f3fe","1f595-1f3ff"],a:"1.0"},{n:["point down","white down pointing backhand index"],u:"1f447",v:["1f447-1f3fb","1f447-1f3fc","1f447-1f3fd","1f447-1f3fe","1f447-1f3ff"],a:"0.6"},{n:["point up","white up pointing index"],u:"261d-fe0f",v:["261d-1f3fb","261d-1f3fc","261d-1f3fd","261d-1f3fe","261d-1f3ff"],a:"0.6"},{n:["index pointing at the viewer"],u:"1faf5",v:["1faf5-1f3fb","1faf5-1f3fc","1faf5-1f3fd","1faf5-1f3fe","1faf5-1f3ff"],a:"14.0"},{n:["+1","thumbsup","thumbs up sign"],u:"1f44d",v:["1f44d-1f3fb","1f44d-1f3fc","1f44d-1f3fd","1f44d-1f3fe","1f44d-1f3ff"],a:"0.6"},{n:["-1","thumbsdown","thumbs down sign"],u:"1f44e",v:["1f44e-1f3fb","1f44e-1f3fc","1f44e-1f3fd","1f44e-1f3fe","1f44e-1f3ff"],a:"0.6"},{n:["fist","raised fist"],u:"270a",v:["270a-1f3fb","270a-1f3fc","270a-1f3fd","270a-1f3fe","270a-1f3ff"],a:"0.6"},{n:["punch","facepunch","fisted hand sign"],u:"1f44a",v:["1f44a-1f3fb","1f44a-1f3fc","1f44a-1f3fd","1f44a-1f3fe","1f44a-1f3ff"],a:"0.6"},{n:["left-facing fist"],u:"1f91b",v:["1f91b-1f3fb","1f91b-1f3fc","1f91b-1f3fd","1f91b-1f3fe","1f91b-1f3ff"],a:"3.0"},{n:["right-facing fist"],u:"1f91c",v:["1f91c-1f3fb","1f91c-1f3fc","1f91c-1f3fd","1f91c-1f3fe","1f91c-1f3ff"],a:"3.0"},{n:["clap","clapping hands sign"],u:"1f44f",v:["1f44f-1f3fb","1f44f-1f3fc","1f44f-1f3fd","1f44f-1f3fe","1f44f-1f3ff"],a:"0.6"},{n:["raised hands","person raising both hands in celebration"],u:"1f64c",v:["1f64c-1f3fb","1f64c-1f3fc","1f64c-1f3fd","1f64c-1f3fe","1f64c-1f3ff"],a:"0.6"},{n:["heart hands"],u:"1faf6",v:["1faf6-1f3fb","1faf6-1f3fc","1faf6-1f3fd","1faf6-1f3fe","1faf6-1f3ff"],a:"14.0"},{n:["open hands","open hands sign"],u:"1f450",v:["1f450-1f3fb","1f450-1f3fc","1f450-1f3fd","1f450-1f3fe","1f450-1f3ff"],a:"0.6"},{n:["palms up together"],u:"1f932",v:["1f932-1f3fb","1f932-1f3fc","1f932-1f3fd","1f932-1f3fe","1f932-1f3ff"],a:"5.0"},{n:["handshake"],u:"1f91d",v:["1f91d-1f3fb","1f91d-1f3fc","1f91d-1f3fd","1f91d-1f3fe","1f91d-1f3ff","1faf1-1f3fb-200d-1faf2-1f3fc","1faf1-1f3fb-200d-1faf2-1f3fd","1faf1-1f3fb-200d-1faf2-1f3fe","1faf1-1f3fb-200d-1faf2-1f3ff","1faf1-1f3fc-200d-1faf2-1f3fb","1faf1-1f3fc-200d-1faf2-1f3fd","1faf1-1f3fc-200d-1faf2-1f3fe","1faf1-1f3fc-200d-1faf2-1f3ff","1faf1-1f3fd-200d-1faf2-1f3fb","1faf1-1f3fd-200d-1faf2-1f3fc","1faf1-1f3fd-200d-1faf2-1f3fe","1faf1-1f3fd-200d-1faf2-1f3ff","1faf1-1f3fe-200d-1faf2-1f3fb","1faf1-1f3fe-200d-1faf2-1f3fc","1faf1-1f3fe-200d-1faf2-1f3fd","1faf1-1f3fe-200d-1faf2-1f3ff","1faf1-1f3ff-200d-1faf2-1f3fb","1faf1-1f3ff-200d-1faf2-1f3fc","1faf1-1f3ff-200d-1faf2-1f3fd","1faf1-1f3ff-200d-1faf2-1f3fe"],a:"3.0"},{n:["pray","person with folded hands"],u:"1f64f",v:["1f64f-1f3fb","1f64f-1f3fc","1f64f-1f3fd","1f64f-1f3fe","1f64f-1f3ff"],a:"0.6"},{n:["writing hand"],u:"270d-fe0f",v:["270d-1f3fb","270d-1f3fc","270d-1f3fd","270d-1f3fe","270d-1f3ff"],a:"0.7"},{n:["nail care","nail polish"],u:"1f485",v:["1f485-1f3fb","1f485-1f3fc","1f485-1f3fd","1f485-1f3fe","1f485-1f3ff"],a:"0.6"},{n:["selfie"],u:"1f933",v:["1f933-1f3fb","1f933-1f3fc","1f933-1f3fd","1f933-1f3fe","1f933-1f3ff"],a:"3.0"},{n:["muscle","flexed biceps"],u:"1f4aa",v:["1f4aa-1f3fb","1f4aa-1f3fc","1f4aa-1f3fd","1f4aa-1f3fe","1f4aa-1f3ff"],a:"0.6"},{n:["mechanical arm"],u:"1f9be",a:"12.0"},{n:["mechanical leg"],u:"1f9bf",a:"12.0"},{n:["leg"],u:"1f9b5",v:["1f9b5-1f3fb","1f9b5-1f3fc","1f9b5-1f3fd","1f9b5-1f3fe","1f9b5-1f3ff"],a:"11.0"},{n:["foot"],u:"1f9b6",v:["1f9b6-1f3fb","1f9b6-1f3fc","1f9b6-1f3fd","1f9b6-1f3fe","1f9b6-1f3ff"],a:"11.0"},{n:["ear"],u:"1f442",v:["1f442-1f3fb","1f442-1f3fc","1f442-1f3fd","1f442-1f3fe","1f442-1f3ff"],a:"0.6"},{n:["ear with hearing aid"],u:"1f9bb",v:["1f9bb-1f3fb","1f9bb-1f3fc","1f9bb-1f3fd","1f9bb-1f3fe","1f9bb-1f3ff"],a:"12.0"},{n:["nose"],u:"1f443",v:["1f443-1f3fb","1f443-1f3fc","1f443-1f3fd","1f443-1f3fe","1f443-1f3ff"],a:"0.6"},{n:["brain"],u:"1f9e0",a:"5.0"},{n:["anatomical heart"],u:"1fac0",a:"13.0"},{n:["lungs"],u:"1fac1",a:"13.0"},{n:["tooth"],u:"1f9b7",a:"11.0"},{n:["bone"],u:"1f9b4",a:"11.0"},{n:["eyes"],u:"1f440",a:"0.6"},{n:["eye"],u:"1f441-fe0f",a:"0.7"},{n:["tongue"],u:"1f445",a:"0.6"},{n:["lips","mouth"],u:"1f444",a:"0.6"},{n:["biting lip"],u:"1fae6",a:"14.0"},{n:["baby"],u:"1f476",v:["1f476-1f3fb","1f476-1f3fc","1f476-1f3fd","1f476-1f3fe","1f476-1f3ff"],a:"0.6"},{n:["child"],u:"1f9d2",v:["1f9d2-1f3fb","1f9d2-1f3fc","1f9d2-1f3fd","1f9d2-1f3fe","1f9d2-1f3ff"],a:"5.0"},{n:["boy"],u:"1f466",v:["1f466-1f3fb","1f466-1f3fc","1f466-1f3fd","1f466-1f3fe","1f466-1f3ff"],a:"0.6"},{n:["girl"],u:"1f467",v:["1f467-1f3fb","1f467-1f3fc","1f467-1f3fd","1f467-1f3fe","1f467-1f3ff"],a:"0.6"},{n:["adult"],u:"1f9d1",v:["1f9d1-1f3fb","1f9d1-1f3fc","1f9d1-1f3fd","1f9d1-1f3fe","1f9d1-1f3ff"],a:"5.0"},{n:["person with blond hair"],u:"1f471",v:["1f471-1f3fb","1f471-1f3fc","1f471-1f3fd","1f471-1f3fe","1f471-1f3ff"],a:"0.6"},{n:["man"],u:"1f468",v:["1f468-1f3fb","1f468-1f3fc","1f468-1f3fd","1f468-1f3fe","1f468-1f3ff"],a:"0.6"},{n:["bearded person"],u:"1f9d4",v:["1f9d4-1f3fb","1f9d4-1f3fc","1f9d4-1f3fd","1f9d4-1f3fe","1f9d4-1f3ff"],a:"5.0"},{n:["man: beard","man with beard"],u:"1f9d4-200d-2642-fe0f",v:["1f9d4-1f3fb-200d-2642-fe0f","1f9d4-1f3fc-200d-2642-fe0f","1f9d4-1f3fd-200d-2642-fe0f","1f9d4-1f3fe-200d-2642-fe0f","1f9d4-1f3ff-200d-2642-fe0f"],a:"13.1"},{n:["woman: beard","woman with beard"],u:"1f9d4-200d-2640-fe0f",v:["1f9d4-1f3fb-200d-2640-fe0f","1f9d4-1f3fc-200d-2640-fe0f","1f9d4-1f3fd-200d-2640-fe0f","1f9d4-1f3fe-200d-2640-fe0f","1f9d4-1f3ff-200d-2640-fe0f"],a:"13.1"},{n:["man: red hair","red haired man"],u:"1f468-200d-1f9b0",v:["1f468-1f3fb-200d-1f9b0","1f468-1f3fc-200d-1f9b0","1f468-1f3fd-200d-1f9b0","1f468-1f3fe-200d-1f9b0","1f468-1f3ff-200d-1f9b0"],a:"11.0"},{n:["man: curly hair","curly haired man"],u:"1f468-200d-1f9b1",v:["1f468-1f3fb-200d-1f9b1","1f468-1f3fc-200d-1f9b1","1f468-1f3fd-200d-1f9b1","1f468-1f3fe-200d-1f9b1","1f468-1f3ff-200d-1f9b1"],a:"11.0"},{n:["man: white hair","white haired man"],u:"1f468-200d-1f9b3",v:["1f468-1f3fb-200d-1f9b3","1f468-1f3fc-200d-1f9b3","1f468-1f3fd-200d-1f9b3","1f468-1f3fe-200d-1f9b3","1f468-1f3ff-200d-1f9b3"],a:"11.0"},{n:["bald man","man: bald"],u:"1f468-200d-1f9b2",v:["1f468-1f3fb-200d-1f9b2","1f468-1f3fc-200d-1f9b2","1f468-1f3fd-200d-1f9b2","1f468-1f3fe-200d-1f9b2","1f468-1f3ff-200d-1f9b2"],a:"11.0"},{n:["woman"],u:"1f469",v:["1f469-1f3fb","1f469-1f3fc","1f469-1f3fd","1f469-1f3fe","1f469-1f3ff"],a:"0.6"},{n:["woman: red hair","red haired woman"],u:"1f469-200d-1f9b0",v:["1f469-1f3fb-200d-1f9b0","1f469-1f3fc-200d-1f9b0","1f469-1f3fd-200d-1f9b0","1f469-1f3fe-200d-1f9b0","1f469-1f3ff-200d-1f9b0"],a:"11.0"},{n:["person: red hair","red haired person"],u:"1f9d1-200d-1f9b0",v:["1f9d1-1f3fb-200d-1f9b0","1f9d1-1f3fc-200d-1f9b0","1f9d1-1f3fd-200d-1f9b0","1f9d1-1f3fe-200d-1f9b0","1f9d1-1f3ff-200d-1f9b0"],a:"12.1"},{n:["woman: curly hair","curly haired woman"],u:"1f469-200d-1f9b1",v:["1f469-1f3fb-200d-1f9b1","1f469-1f3fc-200d-1f9b1","1f469-1f3fd-200d-1f9b1","1f469-1f3fe-200d-1f9b1","1f469-1f3ff-200d-1f9b1"],a:"11.0"},{n:["person: curly hair","curly haired person"],u:"1f9d1-200d-1f9b1",v:["1f9d1-1f3fb-200d-1f9b1","1f9d1-1f3fc-200d-1f9b1","1f9d1-1f3fd-200d-1f9b1","1f9d1-1f3fe-200d-1f9b1","1f9d1-1f3ff-200d-1f9b1"],a:"12.1"},{n:["woman: white hair","white haired woman"],u:"1f469-200d-1f9b3",v:["1f469-1f3fb-200d-1f9b3","1f469-1f3fc-200d-1f9b3","1f469-1f3fd-200d-1f9b3","1f469-1f3fe-200d-1f9b3","1f469-1f3ff-200d-1f9b3"],a:"11.0"},{n:["person: white hair","white haired person"],u:"1f9d1-200d-1f9b3",v:["1f9d1-1f3fb-200d-1f9b3","1f9d1-1f3fc-200d-1f9b3","1f9d1-1f3fd-200d-1f9b3","1f9d1-1f3fe-200d-1f9b3","1f9d1-1f3ff-200d-1f9b3"],a:"12.1"},{n:["bald woman","woman: bald"],u:"1f469-200d-1f9b2",v:["1f469-1f3fb-200d-1f9b2","1f469-1f3fc-200d-1f9b2","1f469-1f3fd-200d-1f9b2","1f469-1f3fe-200d-1f9b2","1f469-1f3ff-200d-1f9b2"],a:"11.0"},{n:["bald person","person: bald"],u:"1f9d1-200d-1f9b2",v:["1f9d1-1f3fb-200d-1f9b2","1f9d1-1f3fc-200d-1f9b2","1f9d1-1f3fd-200d-1f9b2","1f9d1-1f3fe-200d-1f9b2","1f9d1-1f3ff-200d-1f9b2"],a:"12.1"},{n:["woman: blond hair","blond-haired-woman"],u:"1f471-200d-2640-fe0f",v:["1f471-1f3fb-200d-2640-fe0f","1f471-1f3fc-200d-2640-fe0f","1f471-1f3fd-200d-2640-fe0f","1f471-1f3fe-200d-2640-fe0f","1f471-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man: blond hair","blond-haired-man"],u:"1f471-200d-2642-fe0f",v:["1f471-1f3fb-200d-2642-fe0f","1f471-1f3fc-200d-2642-fe0f","1f471-1f3fd-200d-2642-fe0f","1f471-1f3fe-200d-2642-fe0f","1f471-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["older adult"],u:"1f9d3",v:["1f9d3-1f3fb","1f9d3-1f3fc","1f9d3-1f3fd","1f9d3-1f3fe","1f9d3-1f3ff"],a:"5.0"},{n:["older man"],u:"1f474",v:["1f474-1f3fb","1f474-1f3fc","1f474-1f3fd","1f474-1f3fe","1f474-1f3ff"],a:"0.6"},{n:["older woman"],u:"1f475",v:["1f475-1f3fb","1f475-1f3fc","1f475-1f3fd","1f475-1f3fe","1f475-1f3ff"],a:"0.6"},{n:["person frowning"],u:"1f64d",v:["1f64d-1f3fb","1f64d-1f3fc","1f64d-1f3fd","1f64d-1f3fe","1f64d-1f3ff"],a:"0.6"},{n:["man frowning","man-frowning"],u:"1f64d-200d-2642-fe0f",v:["1f64d-1f3fb-200d-2642-fe0f","1f64d-1f3fc-200d-2642-fe0f","1f64d-1f3fd-200d-2642-fe0f","1f64d-1f3fe-200d-2642-fe0f","1f64d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman frowning","woman-frowning"],u:"1f64d-200d-2640-fe0f",v:["1f64d-1f3fb-200d-2640-fe0f","1f64d-1f3fc-200d-2640-fe0f","1f64d-1f3fd-200d-2640-fe0f","1f64d-1f3fe-200d-2640-fe0f","1f64d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with pouting face"],u:"1f64e",v:["1f64e-1f3fb","1f64e-1f3fc","1f64e-1f3fd","1f64e-1f3fe","1f64e-1f3ff"],a:"0.6"},{n:["man pouting","man-pouting"],u:"1f64e-200d-2642-fe0f",v:["1f64e-1f3fb-200d-2642-fe0f","1f64e-1f3fc-200d-2642-fe0f","1f64e-1f3fd-200d-2642-fe0f","1f64e-1f3fe-200d-2642-fe0f","1f64e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman pouting","woman-pouting"],u:"1f64e-200d-2640-fe0f",v:["1f64e-1f3fb-200d-2640-fe0f","1f64e-1f3fc-200d-2640-fe0f","1f64e-1f3fd-200d-2640-fe0f","1f64e-1f3fe-200d-2640-fe0f","1f64e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["no good","face with no good gesture"],u:"1f645",v:["1f645-1f3fb","1f645-1f3fc","1f645-1f3fd","1f645-1f3fe","1f645-1f3ff"],a:"0.6"},{n:["man gesturing no","man-gesturing-no"],u:"1f645-200d-2642-fe0f",v:["1f645-1f3fb-200d-2642-fe0f","1f645-1f3fc-200d-2642-fe0f","1f645-1f3fd-200d-2642-fe0f","1f645-1f3fe-200d-2642-fe0f","1f645-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing no","woman-gesturing-no"],u:"1f645-200d-2640-fe0f",v:["1f645-1f3fb-200d-2640-fe0f","1f645-1f3fc-200d-2640-fe0f","1f645-1f3fd-200d-2640-fe0f","1f645-1f3fe-200d-2640-fe0f","1f645-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ok woman","face with ok gesture"],u:"1f646",v:["1f646-1f3fb","1f646-1f3fc","1f646-1f3fd","1f646-1f3fe","1f646-1f3ff"],a:"0.6"},{n:["man gesturing ok","man-gesturing-ok"],u:"1f646-200d-2642-fe0f",v:["1f646-1f3fb-200d-2642-fe0f","1f646-1f3fc-200d-2642-fe0f","1f646-1f3fd-200d-2642-fe0f","1f646-1f3fe-200d-2642-fe0f","1f646-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing ok","woman-gesturing-ok"],u:"1f646-200d-2640-fe0f",v:["1f646-1f3fb-200d-2640-fe0f","1f646-1f3fc-200d-2640-fe0f","1f646-1f3fd-200d-2640-fe0f","1f646-1f3fe-200d-2640-fe0f","1f646-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["information desk person"],u:"1f481",v:["1f481-1f3fb","1f481-1f3fc","1f481-1f3fd","1f481-1f3fe","1f481-1f3ff"],a:"0.6"},{n:["man tipping hand","man-tipping-hand"],u:"1f481-200d-2642-fe0f",v:["1f481-1f3fb-200d-2642-fe0f","1f481-1f3fc-200d-2642-fe0f","1f481-1f3fd-200d-2642-fe0f","1f481-1f3fe-200d-2642-fe0f","1f481-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman tipping hand","woman-tipping-hand"],u:"1f481-200d-2640-fe0f",v:["1f481-1f3fb-200d-2640-fe0f","1f481-1f3fc-200d-2640-fe0f","1f481-1f3fd-200d-2640-fe0f","1f481-1f3fe-200d-2640-fe0f","1f481-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["raising hand","happy person raising one hand"],u:"1f64b",v:["1f64b-1f3fb","1f64b-1f3fc","1f64b-1f3fd","1f64b-1f3fe","1f64b-1f3ff"],a:"0.6"},{n:["man raising hand","man-raising-hand"],u:"1f64b-200d-2642-fe0f",v:["1f64b-1f3fb-200d-2642-fe0f","1f64b-1f3fc-200d-2642-fe0f","1f64b-1f3fd-200d-2642-fe0f","1f64b-1f3fe-200d-2642-fe0f","1f64b-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman raising hand","woman-raising-hand"],u:"1f64b-200d-2640-fe0f",v:["1f64b-1f3fb-200d-2640-fe0f","1f64b-1f3fc-200d-2640-fe0f","1f64b-1f3fd-200d-2640-fe0f","1f64b-1f3fe-200d-2640-fe0f","1f64b-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["deaf person"],u:"1f9cf",v:["1f9cf-1f3fb","1f9cf-1f3fc","1f9cf-1f3fd","1f9cf-1f3fe","1f9cf-1f3ff"],a:"12.0"},{n:["deaf man"],u:"1f9cf-200d-2642-fe0f",v:["1f9cf-1f3fb-200d-2642-fe0f","1f9cf-1f3fc-200d-2642-fe0f","1f9cf-1f3fd-200d-2642-fe0f","1f9cf-1f3fe-200d-2642-fe0f","1f9cf-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["deaf woman"],u:"1f9cf-200d-2640-fe0f",v:["1f9cf-1f3fb-200d-2640-fe0f","1f9cf-1f3fc-200d-2640-fe0f","1f9cf-1f3fd-200d-2640-fe0f","1f9cf-1f3fe-200d-2640-fe0f","1f9cf-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["bow","person bowing deeply"],u:"1f647",v:["1f647-1f3fb","1f647-1f3fc","1f647-1f3fd","1f647-1f3fe","1f647-1f3ff"],a:"0.6"},{n:["man bowing","man-bowing"],u:"1f647-200d-2642-fe0f",v:["1f647-1f3fb-200d-2642-fe0f","1f647-1f3fc-200d-2642-fe0f","1f647-1f3fd-200d-2642-fe0f","1f647-1f3fe-200d-2642-fe0f","1f647-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bowing","woman-bowing"],u:"1f647-200d-2640-fe0f",v:["1f647-1f3fb-200d-2640-fe0f","1f647-1f3fc-200d-2640-fe0f","1f647-1f3fd-200d-2640-fe0f","1f647-1f3fe-200d-2640-fe0f","1f647-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["face palm"],u:"1f926",v:["1f926-1f3fb","1f926-1f3fc","1f926-1f3fd","1f926-1f3fe","1f926-1f3ff"],a:"3.0"},{n:["man facepalming","man-facepalming"],u:"1f926-200d-2642-fe0f",v:["1f926-1f3fb-200d-2642-fe0f","1f926-1f3fc-200d-2642-fe0f","1f926-1f3fd-200d-2642-fe0f","1f926-1f3fe-200d-2642-fe0f","1f926-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman facepalming","woman-facepalming"],u:"1f926-200d-2640-fe0f",v:["1f926-1f3fb-200d-2640-fe0f","1f926-1f3fc-200d-2640-fe0f","1f926-1f3fd-200d-2640-fe0f","1f926-1f3fe-200d-2640-fe0f","1f926-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["shrug"],u:"1f937",v:["1f937-1f3fb","1f937-1f3fc","1f937-1f3fd","1f937-1f3fe","1f937-1f3ff"],a:"3.0"},{n:["man shrugging","man-shrugging"],u:"1f937-200d-2642-fe0f",v:["1f937-1f3fb-200d-2642-fe0f","1f937-1f3fc-200d-2642-fe0f","1f937-1f3fd-200d-2642-fe0f","1f937-1f3fe-200d-2642-fe0f","1f937-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman shrugging","woman-shrugging"],u:"1f937-200d-2640-fe0f",v:["1f937-1f3fb-200d-2640-fe0f","1f937-1f3fc-200d-2640-fe0f","1f937-1f3fd-200d-2640-fe0f","1f937-1f3fe-200d-2640-fe0f","1f937-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["health worker"],u:"1f9d1-200d-2695-fe0f",v:["1f9d1-1f3fb-200d-2695-fe0f","1f9d1-1f3fc-200d-2695-fe0f","1f9d1-1f3fd-200d-2695-fe0f","1f9d1-1f3fe-200d-2695-fe0f","1f9d1-1f3ff-200d-2695-fe0f"],a:"12.1"},{n:["male-doctor","man health worker"],u:"1f468-200d-2695-fe0f",v:["1f468-1f3fb-200d-2695-fe0f","1f468-1f3fc-200d-2695-fe0f","1f468-1f3fd-200d-2695-fe0f","1f468-1f3fe-200d-2695-fe0f","1f468-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["female-doctor","woman health worker"],u:"1f469-200d-2695-fe0f",v:["1f469-1f3fb-200d-2695-fe0f","1f469-1f3fc-200d-2695-fe0f","1f469-1f3fd-200d-2695-fe0f","1f469-1f3fe-200d-2695-fe0f","1f469-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["student"],u:"1f9d1-200d-1f393",v:["1f9d1-1f3fb-200d-1f393","1f9d1-1f3fc-200d-1f393","1f9d1-1f3fd-200d-1f393","1f9d1-1f3fe-200d-1f393","1f9d1-1f3ff-200d-1f393"],a:"12.1"},{n:["man student","male-student"],u:"1f468-200d-1f393",v:["1f468-1f3fb-200d-1f393","1f468-1f3fc-200d-1f393","1f468-1f3fd-200d-1f393","1f468-1f3fe-200d-1f393","1f468-1f3ff-200d-1f393"],a:"4.0"},{n:["woman student","female-student"],u:"1f469-200d-1f393",v:["1f469-1f3fb-200d-1f393","1f469-1f3fc-200d-1f393","1f469-1f3fd-200d-1f393","1f469-1f3fe-200d-1f393","1f469-1f3ff-200d-1f393"],a:"4.0"},{n:["teacher"],u:"1f9d1-200d-1f3eb",v:["1f9d1-1f3fb-200d-1f3eb","1f9d1-1f3fc-200d-1f3eb","1f9d1-1f3fd-200d-1f3eb","1f9d1-1f3fe-200d-1f3eb","1f9d1-1f3ff-200d-1f3eb"],a:"12.1"},{n:["man teacher","male-teacher"],u:"1f468-200d-1f3eb",v:["1f468-1f3fb-200d-1f3eb","1f468-1f3fc-200d-1f3eb","1f468-1f3fd-200d-1f3eb","1f468-1f3fe-200d-1f3eb","1f468-1f3ff-200d-1f3eb"],a:"4.0"},{n:["woman teacher","female-teacher"],u:"1f469-200d-1f3eb",v:["1f469-1f3fb-200d-1f3eb","1f469-1f3fc-200d-1f3eb","1f469-1f3fd-200d-1f3eb","1f469-1f3fe-200d-1f3eb","1f469-1f3ff-200d-1f3eb"],a:"4.0"},{n:["judge"],u:"1f9d1-200d-2696-fe0f",v:["1f9d1-1f3fb-200d-2696-fe0f","1f9d1-1f3fc-200d-2696-fe0f","1f9d1-1f3fd-200d-2696-fe0f","1f9d1-1f3fe-200d-2696-fe0f","1f9d1-1f3ff-200d-2696-fe0f"],a:"12.1"},{n:["man judge","male-judge"],u:"1f468-200d-2696-fe0f",v:["1f468-1f3fb-200d-2696-fe0f","1f468-1f3fc-200d-2696-fe0f","1f468-1f3fd-200d-2696-fe0f","1f468-1f3fe-200d-2696-fe0f","1f468-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["woman judge","female-judge"],u:"1f469-200d-2696-fe0f",v:["1f469-1f3fb-200d-2696-fe0f","1f469-1f3fc-200d-2696-fe0f","1f469-1f3fd-200d-2696-fe0f","1f469-1f3fe-200d-2696-fe0f","1f469-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["farmer"],u:"1f9d1-200d-1f33e",v:["1f9d1-1f3fb-200d-1f33e","1f9d1-1f3fc-200d-1f33e","1f9d1-1f3fd-200d-1f33e","1f9d1-1f3fe-200d-1f33e","1f9d1-1f3ff-200d-1f33e"],a:"12.1"},{n:["man farmer","male-farmer"],u:"1f468-200d-1f33e",v:["1f468-1f3fb-200d-1f33e","1f468-1f3fc-200d-1f33e","1f468-1f3fd-200d-1f33e","1f468-1f3fe-200d-1f33e","1f468-1f3ff-200d-1f33e"],a:"4.0"},{n:["woman farmer","female-farmer"],u:"1f469-200d-1f33e",v:["1f469-1f3fb-200d-1f33e","1f469-1f3fc-200d-1f33e","1f469-1f3fd-200d-1f33e","1f469-1f3fe-200d-1f33e","1f469-1f3ff-200d-1f33e"],a:"4.0"},{n:["cook"],u:"1f9d1-200d-1f373",v:["1f9d1-1f3fb-200d-1f373","1f9d1-1f3fc-200d-1f373","1f9d1-1f3fd-200d-1f373","1f9d1-1f3fe-200d-1f373","1f9d1-1f3ff-200d-1f373"],a:"12.1"},{n:["man cook","male-cook"],u:"1f468-200d-1f373",v:["1f468-1f3fb-200d-1f373","1f468-1f3fc-200d-1f373","1f468-1f3fd-200d-1f373","1f468-1f3fe-200d-1f373","1f468-1f3ff-200d-1f373"],a:"4.0"},{n:["woman cook","female-cook"],u:"1f469-200d-1f373",v:["1f469-1f3fb-200d-1f373","1f469-1f3fc-200d-1f373","1f469-1f3fd-200d-1f373","1f469-1f3fe-200d-1f373","1f469-1f3ff-200d-1f373"],a:"4.0"},{n:["mechanic"],u:"1f9d1-200d-1f527",v:["1f9d1-1f3fb-200d-1f527","1f9d1-1f3fc-200d-1f527","1f9d1-1f3fd-200d-1f527","1f9d1-1f3fe-200d-1f527","1f9d1-1f3ff-200d-1f527"],a:"12.1"},{n:["man mechanic","male-mechanic"],u:"1f468-200d-1f527",v:["1f468-1f3fb-200d-1f527","1f468-1f3fc-200d-1f527","1f468-1f3fd-200d-1f527","1f468-1f3fe-200d-1f527","1f468-1f3ff-200d-1f527"],a:"4.0"},{n:["woman mechanic","female-mechanic"],u:"1f469-200d-1f527",v:["1f469-1f3fb-200d-1f527","1f469-1f3fc-200d-1f527","1f469-1f3fd-200d-1f527","1f469-1f3fe-200d-1f527","1f469-1f3ff-200d-1f527"],a:"4.0"},{n:["factory worker"],u:"1f9d1-200d-1f3ed",v:["1f9d1-1f3fb-200d-1f3ed","1f9d1-1f3fc-200d-1f3ed","1f9d1-1f3fd-200d-1f3ed","1f9d1-1f3fe-200d-1f3ed","1f9d1-1f3ff-200d-1f3ed"],a:"12.1"},{n:["man factory worker","male-factory-worker"],u:"1f468-200d-1f3ed",v:["1f468-1f3fb-200d-1f3ed","1f468-1f3fc-200d-1f3ed","1f468-1f3fd-200d-1f3ed","1f468-1f3fe-200d-1f3ed","1f468-1f3ff-200d-1f3ed"],a:"4.0"},{n:["woman factory worker","female-factory-worker"],u:"1f469-200d-1f3ed",v:["1f469-1f3fb-200d-1f3ed","1f469-1f3fc-200d-1f3ed","1f469-1f3fd-200d-1f3ed","1f469-1f3fe-200d-1f3ed","1f469-1f3ff-200d-1f3ed"],a:"4.0"},{n:["office worker"],u:"1f9d1-200d-1f4bc",v:["1f9d1-1f3fb-200d-1f4bc","1f9d1-1f3fc-200d-1f4bc","1f9d1-1f3fd-200d-1f4bc","1f9d1-1f3fe-200d-1f4bc","1f9d1-1f3ff-200d-1f4bc"],a:"12.1"},{n:["man office worker","male-office-worker"],u:"1f468-200d-1f4bc",v:["1f468-1f3fb-200d-1f4bc","1f468-1f3fc-200d-1f4bc","1f468-1f3fd-200d-1f4bc","1f468-1f3fe-200d-1f4bc","1f468-1f3ff-200d-1f4bc"],a:"4.0"},{n:["woman office worker","female-office-worker"],u:"1f469-200d-1f4bc",v:["1f469-1f3fb-200d-1f4bc","1f469-1f3fc-200d-1f4bc","1f469-1f3fd-200d-1f4bc","1f469-1f3fe-200d-1f4bc","1f469-1f3ff-200d-1f4bc"],a:"4.0"},{n:["scientist"],u:"1f9d1-200d-1f52c",v:["1f9d1-1f3fb-200d-1f52c","1f9d1-1f3fc-200d-1f52c","1f9d1-1f3fd-200d-1f52c","1f9d1-1f3fe-200d-1f52c","1f9d1-1f3ff-200d-1f52c"],a:"12.1"},{n:["man scientist","male-scientist"],u:"1f468-200d-1f52c",v:["1f468-1f3fb-200d-1f52c","1f468-1f3fc-200d-1f52c","1f468-1f3fd-200d-1f52c","1f468-1f3fe-200d-1f52c","1f468-1f3ff-200d-1f52c"],a:"4.0"},{n:["woman scientist","female-scientist"],u:"1f469-200d-1f52c",v:["1f469-1f3fb-200d-1f52c","1f469-1f3fc-200d-1f52c","1f469-1f3fd-200d-1f52c","1f469-1f3fe-200d-1f52c","1f469-1f3ff-200d-1f52c"],a:"4.0"},{n:["technologist"],u:"1f9d1-200d-1f4bb",v:["1f9d1-1f3fb-200d-1f4bb","1f9d1-1f3fc-200d-1f4bb","1f9d1-1f3fd-200d-1f4bb","1f9d1-1f3fe-200d-1f4bb","1f9d1-1f3ff-200d-1f4bb"],a:"12.1"},{n:["man technologist","male-technologist"],u:"1f468-200d-1f4bb",v:["1f468-1f3fb-200d-1f4bb","1f468-1f3fc-200d-1f4bb","1f468-1f3fd-200d-1f4bb","1f468-1f3fe-200d-1f4bb","1f468-1f3ff-200d-1f4bb"],a:"4.0"},{n:["woman technologist","female-technologist"],u:"1f469-200d-1f4bb",v:["1f469-1f3fb-200d-1f4bb","1f469-1f3fc-200d-1f4bb","1f469-1f3fd-200d-1f4bb","1f469-1f3fe-200d-1f4bb","1f469-1f3ff-200d-1f4bb"],a:"4.0"},{n:["singer"],u:"1f9d1-200d-1f3a4",v:["1f9d1-1f3fb-200d-1f3a4","1f9d1-1f3fc-200d-1f3a4","1f9d1-1f3fd-200d-1f3a4","1f9d1-1f3fe-200d-1f3a4","1f9d1-1f3ff-200d-1f3a4"],a:"12.1"},{n:["man singer","male-singer"],u:"1f468-200d-1f3a4",v:["1f468-1f3fb-200d-1f3a4","1f468-1f3fc-200d-1f3a4","1f468-1f3fd-200d-1f3a4","1f468-1f3fe-200d-1f3a4","1f468-1f3ff-200d-1f3a4"],a:"4.0"},{n:["woman singer","female-singer"],u:"1f469-200d-1f3a4",v:["1f469-1f3fb-200d-1f3a4","1f469-1f3fc-200d-1f3a4","1f469-1f3fd-200d-1f3a4","1f469-1f3fe-200d-1f3a4","1f469-1f3ff-200d-1f3a4"],a:"4.0"},{n:["artist"],u:"1f9d1-200d-1f3a8",v:["1f9d1-1f3fb-200d-1f3a8","1f9d1-1f3fc-200d-1f3a8","1f9d1-1f3fd-200d-1f3a8","1f9d1-1f3fe-200d-1f3a8","1f9d1-1f3ff-200d-1f3a8"],a:"12.1"},{n:["man artist","male-artist"],u:"1f468-200d-1f3a8",v:["1f468-1f3fb-200d-1f3a8","1f468-1f3fc-200d-1f3a8","1f468-1f3fd-200d-1f3a8","1f468-1f3fe-200d-1f3a8","1f468-1f3ff-200d-1f3a8"],a:"4.0"},{n:["woman artist","female-artist"],u:"1f469-200d-1f3a8",v:["1f469-1f3fb-200d-1f3a8","1f469-1f3fc-200d-1f3a8","1f469-1f3fd-200d-1f3a8","1f469-1f3fe-200d-1f3a8","1f469-1f3ff-200d-1f3a8"],a:"4.0"},{n:["pilot"],u:"1f9d1-200d-2708-fe0f",v:["1f9d1-1f3fb-200d-2708-fe0f","1f9d1-1f3fc-200d-2708-fe0f","1f9d1-1f3fd-200d-2708-fe0f","1f9d1-1f3fe-200d-2708-fe0f","1f9d1-1f3ff-200d-2708-fe0f"],a:"12.1"},{n:["man pilot","male-pilot"],u:"1f468-200d-2708-fe0f",v:["1f468-1f3fb-200d-2708-fe0f","1f468-1f3fc-200d-2708-fe0f","1f468-1f3fd-200d-2708-fe0f","1f468-1f3fe-200d-2708-fe0f","1f468-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["woman pilot","female-pilot"],u:"1f469-200d-2708-fe0f",v:["1f469-1f3fb-200d-2708-fe0f","1f469-1f3fc-200d-2708-fe0f","1f469-1f3fd-200d-2708-fe0f","1f469-1f3fe-200d-2708-fe0f","1f469-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["astronaut"],u:"1f9d1-200d-1f680",v:["1f9d1-1f3fb-200d-1f680","1f9d1-1f3fc-200d-1f680","1f9d1-1f3fd-200d-1f680","1f9d1-1f3fe-200d-1f680","1f9d1-1f3ff-200d-1f680"],a:"12.1"},{n:["man astronaut","male-astronaut"],u:"1f468-200d-1f680",v:["1f468-1f3fb-200d-1f680","1f468-1f3fc-200d-1f680","1f468-1f3fd-200d-1f680","1f468-1f3fe-200d-1f680","1f468-1f3ff-200d-1f680"],a:"4.0"},{n:["woman astronaut","female-astronaut"],u:"1f469-200d-1f680",v:["1f469-1f3fb-200d-1f680","1f469-1f3fc-200d-1f680","1f469-1f3fd-200d-1f680","1f469-1f3fe-200d-1f680","1f469-1f3ff-200d-1f680"],a:"4.0"},{n:["firefighter"],u:"1f9d1-200d-1f692",v:["1f9d1-1f3fb-200d-1f692","1f9d1-1f3fc-200d-1f692","1f9d1-1f3fd-200d-1f692","1f9d1-1f3fe-200d-1f692","1f9d1-1f3ff-200d-1f692"],a:"12.1"},{n:["man firefighter","male-firefighter"],u:"1f468-200d-1f692",v:["1f468-1f3fb-200d-1f692","1f468-1f3fc-200d-1f692","1f468-1f3fd-200d-1f692","1f468-1f3fe-200d-1f692","1f468-1f3ff-200d-1f692"],a:"4.0"},{n:["woman firefighter","female-firefighter"],u:"1f469-200d-1f692",v:["1f469-1f3fb-200d-1f692","1f469-1f3fc-200d-1f692","1f469-1f3fd-200d-1f692","1f469-1f3fe-200d-1f692","1f469-1f3ff-200d-1f692"],a:"4.0"},{n:["cop","police officer"],u:"1f46e",v:["1f46e-1f3fb","1f46e-1f3fc","1f46e-1f3fd","1f46e-1f3fe","1f46e-1f3ff"],a:"0.6"},{n:["man police officer","male-police-officer"],u:"1f46e-200d-2642-fe0f",v:["1f46e-1f3fb-200d-2642-fe0f","1f46e-1f3fc-200d-2642-fe0f","1f46e-1f3fd-200d-2642-fe0f","1f46e-1f3fe-200d-2642-fe0f","1f46e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman police officer","female-police-officer"],u:"1f46e-200d-2640-fe0f",v:["1f46e-1f3fb-200d-2640-fe0f","1f46e-1f3fc-200d-2640-fe0f","1f46e-1f3fd-200d-2640-fe0f","1f46e-1f3fe-200d-2640-fe0f","1f46e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["detective","sleuth or spy"],u:"1f575-fe0f",v:["1f575-1f3fb","1f575-1f3fc","1f575-1f3fd","1f575-1f3fe","1f575-1f3ff"],a:"0.7"},{n:["man detective","male-detective"],u:"1f575-fe0f-200d-2642-fe0f",v:["1f575-1f3fb-200d-2642-fe0f","1f575-1f3fc-200d-2642-fe0f","1f575-1f3fd-200d-2642-fe0f","1f575-1f3fe-200d-2642-fe0f","1f575-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman detective","female-detective"],u:"1f575-fe0f-200d-2640-fe0f",v:["1f575-1f3fb-200d-2640-fe0f","1f575-1f3fc-200d-2640-fe0f","1f575-1f3fd-200d-2640-fe0f","1f575-1f3fe-200d-2640-fe0f","1f575-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["guardsman"],u:"1f482",v:["1f482-1f3fb","1f482-1f3fc","1f482-1f3fd","1f482-1f3fe","1f482-1f3ff"],a:"0.6"},{n:["man guard","male-guard"],u:"1f482-200d-2642-fe0f",v:["1f482-1f3fb-200d-2642-fe0f","1f482-1f3fc-200d-2642-fe0f","1f482-1f3fd-200d-2642-fe0f","1f482-1f3fe-200d-2642-fe0f","1f482-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman guard","female-guard"],u:"1f482-200d-2640-fe0f",v:["1f482-1f3fb-200d-2640-fe0f","1f482-1f3fc-200d-2640-fe0f","1f482-1f3fd-200d-2640-fe0f","1f482-1f3fe-200d-2640-fe0f","1f482-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ninja"],u:"1f977",v:["1f977-1f3fb","1f977-1f3fc","1f977-1f3fd","1f977-1f3fe","1f977-1f3ff"],a:"13.0"},{n:["construction worker"],u:"1f477",v:["1f477-1f3fb","1f477-1f3fc","1f477-1f3fd","1f477-1f3fe","1f477-1f3ff"],a:"0.6"},{n:["man construction worker","male-construction-worker"],u:"1f477-200d-2642-fe0f",v:["1f477-1f3fb-200d-2642-fe0f","1f477-1f3fc-200d-2642-fe0f","1f477-1f3fd-200d-2642-fe0f","1f477-1f3fe-200d-2642-fe0f","1f477-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman construction worker","female-construction-worker"],u:"1f477-200d-2640-fe0f",v:["1f477-1f3fb-200d-2640-fe0f","1f477-1f3fc-200d-2640-fe0f","1f477-1f3fd-200d-2640-fe0f","1f477-1f3fe-200d-2640-fe0f","1f477-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with crown"],u:"1fac5",v:["1fac5-1f3fb","1fac5-1f3fc","1fac5-1f3fd","1fac5-1f3fe","1fac5-1f3ff"],a:"14.0"},{n:["prince"],u:"1f934",v:["1f934-1f3fb","1f934-1f3fc","1f934-1f3fd","1f934-1f3fe","1f934-1f3ff"],a:"3.0"},{n:["princess"],u:"1f478",v:["1f478-1f3fb","1f478-1f3fc","1f478-1f3fd","1f478-1f3fe","1f478-1f3ff"],a:"0.6"},{n:["man with turban"],u:"1f473",v:["1f473-1f3fb","1f473-1f3fc","1f473-1f3fd","1f473-1f3fe","1f473-1f3ff"],a:"0.6"},{n:["man wearing turban","man-wearing-turban"],u:"1f473-200d-2642-fe0f",v:["1f473-1f3fb-200d-2642-fe0f","1f473-1f3fc-200d-2642-fe0f","1f473-1f3fd-200d-2642-fe0f","1f473-1f3fe-200d-2642-fe0f","1f473-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman wearing turban","woman-wearing-turban"],u:"1f473-200d-2640-fe0f",v:["1f473-1f3fb-200d-2640-fe0f","1f473-1f3fc-200d-2640-fe0f","1f473-1f3fd-200d-2640-fe0f","1f473-1f3fe-200d-2640-fe0f","1f473-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man with gua pi mao"],u:"1f472",v:["1f472-1f3fb","1f472-1f3fc","1f472-1f3fd","1f472-1f3fe","1f472-1f3ff"],a:"0.6"},{n:["person with headscarf"],u:"1f9d5",v:["1f9d5-1f3fb","1f9d5-1f3fc","1f9d5-1f3fd","1f9d5-1f3fe","1f9d5-1f3ff"],a:"5.0"},{n:["man in tuxedo","person in tuxedo"],u:"1f935",v:["1f935-1f3fb","1f935-1f3fc","1f935-1f3fd","1f935-1f3fe","1f935-1f3ff"],a:"3.0"},{n:["man in tuxedo"],u:"1f935-200d-2642-fe0f",v:["1f935-1f3fb-200d-2642-fe0f","1f935-1f3fc-200d-2642-fe0f","1f935-1f3fd-200d-2642-fe0f","1f935-1f3fe-200d-2642-fe0f","1f935-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman in tuxedo"],u:"1f935-200d-2640-fe0f",v:["1f935-1f3fb-200d-2640-fe0f","1f935-1f3fc-200d-2640-fe0f","1f935-1f3fd-200d-2640-fe0f","1f935-1f3fe-200d-2640-fe0f","1f935-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["bride with veil"],u:"1f470",v:["1f470-1f3fb","1f470-1f3fc","1f470-1f3fd","1f470-1f3fe","1f470-1f3ff"],a:"0.6"},{n:["man with veil"],u:"1f470-200d-2642-fe0f",v:["1f470-1f3fb-200d-2642-fe0f","1f470-1f3fc-200d-2642-fe0f","1f470-1f3fd-200d-2642-fe0f","1f470-1f3fe-200d-2642-fe0f","1f470-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman with veil"],u:"1f470-200d-2640-fe0f",v:["1f470-1f3fb-200d-2640-fe0f","1f470-1f3fc-200d-2640-fe0f","1f470-1f3fd-200d-2640-fe0f","1f470-1f3fe-200d-2640-fe0f","1f470-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["pregnant woman"],u:"1f930",v:["1f930-1f3fb","1f930-1f3fc","1f930-1f3fd","1f930-1f3fe","1f930-1f3ff"],a:"3.0"},{n:["pregnant man"],u:"1fac3",v:["1fac3-1f3fb","1fac3-1f3fc","1fac3-1f3fd","1fac3-1f3fe","1fac3-1f3ff"],a:"14.0"},{n:["pregnant person"],u:"1fac4",v:["1fac4-1f3fb","1fac4-1f3fc","1fac4-1f3fd","1fac4-1f3fe","1fac4-1f3ff"],a:"14.0"},{n:["breast-feeding"],u:"1f931",v:["1f931-1f3fb","1f931-1f3fc","1f931-1f3fd","1f931-1f3fe","1f931-1f3ff"],a:"5.0"},{n:["woman feeding baby"],u:"1f469-200d-1f37c",v:["1f469-1f3fb-200d-1f37c","1f469-1f3fc-200d-1f37c","1f469-1f3fd-200d-1f37c","1f469-1f3fe-200d-1f37c","1f469-1f3ff-200d-1f37c"],a:"13.0"},{n:["man feeding baby"],u:"1f468-200d-1f37c",v:["1f468-1f3fb-200d-1f37c","1f468-1f3fc-200d-1f37c","1f468-1f3fd-200d-1f37c","1f468-1f3fe-200d-1f37c","1f468-1f3ff-200d-1f37c"],a:"13.0"},{n:["person feeding baby"],u:"1f9d1-200d-1f37c",v:["1f9d1-1f3fb-200d-1f37c","1f9d1-1f3fc-200d-1f37c","1f9d1-1f3fd-200d-1f37c","1f9d1-1f3fe-200d-1f37c","1f9d1-1f3ff-200d-1f37c"],a:"13.0"},{n:["angel","baby angel"],u:"1f47c",v:["1f47c-1f3fb","1f47c-1f3fc","1f47c-1f3fd","1f47c-1f3fe","1f47c-1f3ff"],a:"0.6"},{n:["santa","father christmas"],u:"1f385",v:["1f385-1f3fb","1f385-1f3fc","1f385-1f3fd","1f385-1f3fe","1f385-1f3ff"],a:"0.6"},{n:["mrs claus","mother christmas"],u:"1f936",v:["1f936-1f3fb","1f936-1f3fc","1f936-1f3fd","1f936-1f3fe","1f936-1f3ff"],a:"3.0"},{n:["mx claus"],u:"1f9d1-200d-1f384",v:["1f9d1-1f3fb-200d-1f384","1f9d1-1f3fc-200d-1f384","1f9d1-1f3fd-200d-1f384","1f9d1-1f3fe-200d-1f384","1f9d1-1f3ff-200d-1f384"],a:"13.0"},{n:["superhero"],u:"1f9b8",v:["1f9b8-1f3fb","1f9b8-1f3fc","1f9b8-1f3fd","1f9b8-1f3fe","1f9b8-1f3ff"],a:"11.0"},{n:["man superhero","male superhero"],u:"1f9b8-200d-2642-fe0f",v:["1f9b8-1f3fb-200d-2642-fe0f","1f9b8-1f3fc-200d-2642-fe0f","1f9b8-1f3fd-200d-2642-fe0f","1f9b8-1f3fe-200d-2642-fe0f","1f9b8-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman superhero","female superhero"],u:"1f9b8-200d-2640-fe0f",v:["1f9b8-1f3fb-200d-2640-fe0f","1f9b8-1f3fc-200d-2640-fe0f","1f9b8-1f3fd-200d-2640-fe0f","1f9b8-1f3fe-200d-2640-fe0f","1f9b8-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["supervillain"],u:"1f9b9",v:["1f9b9-1f3fb","1f9b9-1f3fc","1f9b9-1f3fd","1f9b9-1f3fe","1f9b9-1f3ff"],a:"11.0"},{n:["man supervillain","male supervillain"],u:"1f9b9-200d-2642-fe0f",v:["1f9b9-1f3fb-200d-2642-fe0f","1f9b9-1f3fc-200d-2642-fe0f","1f9b9-1f3fd-200d-2642-fe0f","1f9b9-1f3fe-200d-2642-fe0f","1f9b9-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman supervillain","female supervillain"],u:"1f9b9-200d-2640-fe0f",v:["1f9b9-1f3fb-200d-2640-fe0f","1f9b9-1f3fc-200d-2640-fe0f","1f9b9-1f3fd-200d-2640-fe0f","1f9b9-1f3fe-200d-2640-fe0f","1f9b9-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["mage"],u:"1f9d9",v:["1f9d9-1f3fb","1f9d9-1f3fc","1f9d9-1f3fd","1f9d9-1f3fe","1f9d9-1f3ff"],a:"5.0"},{n:["man mage","male mage"],u:"1f9d9-200d-2642-fe0f",v:["1f9d9-1f3fb-200d-2642-fe0f","1f9d9-1f3fc-200d-2642-fe0f","1f9d9-1f3fd-200d-2642-fe0f","1f9d9-1f3fe-200d-2642-fe0f","1f9d9-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman mage","female mage"],u:"1f9d9-200d-2640-fe0f",v:["1f9d9-1f3fb-200d-2640-fe0f","1f9d9-1f3fc-200d-2640-fe0f","1f9d9-1f3fd-200d-2640-fe0f","1f9d9-1f3fe-200d-2640-fe0f","1f9d9-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fairy"],u:"1f9da",v:["1f9da-1f3fb","1f9da-1f3fc","1f9da-1f3fd","1f9da-1f3fe","1f9da-1f3ff"],a:"5.0"},{n:["man fairy","male fairy"],u:"1f9da-200d-2642-fe0f",v:["1f9da-1f3fb-200d-2642-fe0f","1f9da-1f3fc-200d-2642-fe0f","1f9da-1f3fd-200d-2642-fe0f","1f9da-1f3fe-200d-2642-fe0f","1f9da-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman fairy","female fairy"],u:"1f9da-200d-2640-fe0f",v:["1f9da-1f3fb-200d-2640-fe0f","1f9da-1f3fc-200d-2640-fe0f","1f9da-1f3fd-200d-2640-fe0f","1f9da-1f3fe-200d-2640-fe0f","1f9da-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["vampire"],u:"1f9db",v:["1f9db-1f3fb","1f9db-1f3fc","1f9db-1f3fd","1f9db-1f3fe","1f9db-1f3ff"],a:"5.0"},{n:["man vampire","male vampire"],u:"1f9db-200d-2642-fe0f",v:["1f9db-1f3fb-200d-2642-fe0f","1f9db-1f3fc-200d-2642-fe0f","1f9db-1f3fd-200d-2642-fe0f","1f9db-1f3fe-200d-2642-fe0f","1f9db-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman vampire","female vampire"],u:"1f9db-200d-2640-fe0f",v:["1f9db-1f3fb-200d-2640-fe0f","1f9db-1f3fc-200d-2640-fe0f","1f9db-1f3fd-200d-2640-fe0f","1f9db-1f3fe-200d-2640-fe0f","1f9db-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["merperson"],u:"1f9dc",v:["1f9dc-1f3fb","1f9dc-1f3fc","1f9dc-1f3fd","1f9dc-1f3fe","1f9dc-1f3ff"],a:"5.0"},{n:["merman"],u:"1f9dc-200d-2642-fe0f",v:["1f9dc-1f3fb-200d-2642-fe0f","1f9dc-1f3fc-200d-2642-fe0f","1f9dc-1f3fd-200d-2642-fe0f","1f9dc-1f3fe-200d-2642-fe0f","1f9dc-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["mermaid"],u:"1f9dc-200d-2640-fe0f",v:["1f9dc-1f3fb-200d-2640-fe0f","1f9dc-1f3fc-200d-2640-fe0f","1f9dc-1f3fd-200d-2640-fe0f","1f9dc-1f3fe-200d-2640-fe0f","1f9dc-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["elf"],u:"1f9dd",v:["1f9dd-1f3fb","1f9dd-1f3fc","1f9dd-1f3fd","1f9dd-1f3fe","1f9dd-1f3ff"],a:"5.0"},{n:["man elf","male elf"],u:"1f9dd-200d-2642-fe0f",v:["1f9dd-1f3fb-200d-2642-fe0f","1f9dd-1f3fc-200d-2642-fe0f","1f9dd-1f3fd-200d-2642-fe0f","1f9dd-1f3fe-200d-2642-fe0f","1f9dd-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman elf","female elf"],u:"1f9dd-200d-2640-fe0f",v:["1f9dd-1f3fb-200d-2640-fe0f","1f9dd-1f3fc-200d-2640-fe0f","1f9dd-1f3fd-200d-2640-fe0f","1f9dd-1f3fe-200d-2640-fe0f","1f9dd-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["genie"],u:"1f9de",a:"5.0"},{n:["man genie","male genie"],u:"1f9de-200d-2642-fe0f",a:"5.0"},{n:["woman genie","female genie"],u:"1f9de-200d-2640-fe0f",a:"5.0"},{n:["zombie"],u:"1f9df",a:"5.0"},{n:["man zombie","male zombie"],u:"1f9df-200d-2642-fe0f",a:"5.0"},{n:["woman zombie","female zombie"],u:"1f9df-200d-2640-fe0f",a:"5.0"},{n:["troll"],u:"1f9cc",a:"14.0"},{n:["massage","face massage"],u:"1f486",v:["1f486-1f3fb","1f486-1f3fc","1f486-1f3fd","1f486-1f3fe","1f486-1f3ff"],a:"0.6"},{n:["man getting massage","man-getting-massage"],u:"1f486-200d-2642-fe0f",v:["1f486-1f3fb-200d-2642-fe0f","1f486-1f3fc-200d-2642-fe0f","1f486-1f3fd-200d-2642-fe0f","1f486-1f3fe-200d-2642-fe0f","1f486-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting massage","woman-getting-massage"],u:"1f486-200d-2640-fe0f",v:["1f486-1f3fb-200d-2640-fe0f","1f486-1f3fc-200d-2640-fe0f","1f486-1f3fd-200d-2640-fe0f","1f486-1f3fe-200d-2640-fe0f","1f486-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["haircut"],u:"1f487",v:["1f487-1f3fb","1f487-1f3fc","1f487-1f3fd","1f487-1f3fe","1f487-1f3ff"],a:"0.6"},{n:["man getting haircut","man-getting-haircut"],u:"1f487-200d-2642-fe0f",v:["1f487-1f3fb-200d-2642-fe0f","1f487-1f3fc-200d-2642-fe0f","1f487-1f3fd-200d-2642-fe0f","1f487-1f3fe-200d-2642-fe0f","1f487-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting haircut","woman-getting-haircut"],u:"1f487-200d-2640-fe0f",v:["1f487-1f3fb-200d-2640-fe0f","1f487-1f3fc-200d-2640-fe0f","1f487-1f3fd-200d-2640-fe0f","1f487-1f3fe-200d-2640-fe0f","1f487-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["walking","pedestrian"],u:"1f6b6",v:["1f6b6-1f3fb","1f6b6-1f3fc","1f6b6-1f3fd","1f6b6-1f3fe","1f6b6-1f3ff"],a:"0.6"},{n:["man walking","man-walking"],u:"1f6b6-200d-2642-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f","1f6b6-1f3fc-200d-2642-fe0f","1f6b6-1f3fd-200d-2642-fe0f","1f6b6-1f3fe-200d-2642-fe0f","1f6b6-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman walking","woman-walking"],u:"1f6b6-200d-2640-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f","1f6b6-1f3fc-200d-2640-fe0f","1f6b6-1f3fd-200d-2640-fe0f","1f6b6-1f3fe-200d-2640-fe0f","1f6b6-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person walking facing right"],u:"1f6b6-200d-27a1-fe0f",v:["1f6b6-1f3fb-200d-27a1-fe0f","1f6b6-1f3fc-200d-27a1-fe0f","1f6b6-1f3fd-200d-27a1-fe0f","1f6b6-1f3fe-200d-27a1-fe0f","1f6b6-1f3ff-200d-27a1-fe0f"],a:"15.1"},{n:["woman walking facing right"],u:"1f6b6-200d-2640-fe0f-200d-27a1-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f-200d-27a1-fe0f","1f6b6-1f3fc-200d-2640-fe0f-200d-27a1-fe0f","1f6b6-1f3fd-200d-2640-fe0f-200d-27a1-fe0f","1f6b6-1f3fe-200d-2640-fe0f-200d-27a1-fe0f","1f6b6-1f3ff-200d-2640-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["man walking facing right"],u:"1f6b6-200d-2642-fe0f-200d-27a1-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f-200d-27a1-fe0f","1f6b6-1f3fc-200d-2642-fe0f-200d-27a1-fe0f","1f6b6-1f3fd-200d-2642-fe0f-200d-27a1-fe0f","1f6b6-1f3fe-200d-2642-fe0f-200d-27a1-fe0f","1f6b6-1f3ff-200d-2642-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["standing person"],u:"1f9cd",v:["1f9cd-1f3fb","1f9cd-1f3fc","1f9cd-1f3fd","1f9cd-1f3fe","1f9cd-1f3ff"],a:"12.0"},{n:["man standing"],u:"1f9cd-200d-2642-fe0f",v:["1f9cd-1f3fb-200d-2642-fe0f","1f9cd-1f3fc-200d-2642-fe0f","1f9cd-1f3fd-200d-2642-fe0f","1f9cd-1f3fe-200d-2642-fe0f","1f9cd-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman standing"],u:"1f9cd-200d-2640-fe0f",v:["1f9cd-1f3fb-200d-2640-fe0f","1f9cd-1f3fc-200d-2640-fe0f","1f9cd-1f3fd-200d-2640-fe0f","1f9cd-1f3fe-200d-2640-fe0f","1f9cd-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["kneeling person"],u:"1f9ce",v:["1f9ce-1f3fb","1f9ce-1f3fc","1f9ce-1f3fd","1f9ce-1f3fe","1f9ce-1f3ff"],a:"12.0"},{n:["man kneeling"],u:"1f9ce-200d-2642-fe0f",v:["1f9ce-1f3fb-200d-2642-fe0f","1f9ce-1f3fc-200d-2642-fe0f","1f9ce-1f3fd-200d-2642-fe0f","1f9ce-1f3fe-200d-2642-fe0f","1f9ce-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman kneeling"],u:"1f9ce-200d-2640-fe0f",v:["1f9ce-1f3fb-200d-2640-fe0f","1f9ce-1f3fc-200d-2640-fe0f","1f9ce-1f3fd-200d-2640-fe0f","1f9ce-1f3fe-200d-2640-fe0f","1f9ce-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["person kneeling facing right"],u:"1f9ce-200d-27a1-fe0f",v:["1f9ce-1f3fb-200d-27a1-fe0f","1f9ce-1f3fc-200d-27a1-fe0f","1f9ce-1f3fd-200d-27a1-fe0f","1f9ce-1f3fe-200d-27a1-fe0f","1f9ce-1f3ff-200d-27a1-fe0f"],a:"15.1"},{n:["woman kneeling facing right"],u:"1f9ce-200d-2640-fe0f-200d-27a1-fe0f",v:["1f9ce-1f3fb-200d-2640-fe0f-200d-27a1-fe0f","1f9ce-1f3fc-200d-2640-fe0f-200d-27a1-fe0f","1f9ce-1f3fd-200d-2640-fe0f-200d-27a1-fe0f","1f9ce-1f3fe-200d-2640-fe0f-200d-27a1-fe0f","1f9ce-1f3ff-200d-2640-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["man kneeling facing right"],u:"1f9ce-200d-2642-fe0f-200d-27a1-fe0f",v:["1f9ce-1f3fb-200d-2642-fe0f-200d-27a1-fe0f","1f9ce-1f3fc-200d-2642-fe0f-200d-27a1-fe0f","1f9ce-1f3fd-200d-2642-fe0f-200d-27a1-fe0f","1f9ce-1f3fe-200d-2642-fe0f-200d-27a1-fe0f","1f9ce-1f3ff-200d-2642-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["person with white cane","person with probing cane"],u:"1f9d1-200d-1f9af",v:["1f9d1-1f3fb-200d-1f9af","1f9d1-1f3fc-200d-1f9af","1f9d1-1f3fd-200d-1f9af","1f9d1-1f3fe-200d-1f9af","1f9d1-1f3ff-200d-1f9af"],a:"12.1"},{n:["person with white cane facing right"],u:"1f9d1-200d-1f9af-200d-27a1-fe0f",v:["1f9d1-1f3fb-200d-1f9af-200d-27a1-fe0f","1f9d1-1f3fc-200d-1f9af-200d-27a1-fe0f","1f9d1-1f3fd-200d-1f9af-200d-27a1-fe0f","1f9d1-1f3fe-200d-1f9af-200d-27a1-fe0f","1f9d1-1f3ff-200d-1f9af-200d-27a1-fe0f"],a:"15.1"},{n:["man with white cane","man with probing cane"],u:"1f468-200d-1f9af",v:["1f468-1f3fb-200d-1f9af","1f468-1f3fc-200d-1f9af","1f468-1f3fd-200d-1f9af","1f468-1f3fe-200d-1f9af","1f468-1f3ff-200d-1f9af"],a:"12.0"},{n:["man with white cane facing right"],u:"1f468-200d-1f9af-200d-27a1-fe0f",v:["1f468-1f3fb-200d-1f9af-200d-27a1-fe0f","1f468-1f3fc-200d-1f9af-200d-27a1-fe0f","1f468-1f3fd-200d-1f9af-200d-27a1-fe0f","1f468-1f3fe-200d-1f9af-200d-27a1-fe0f","1f468-1f3ff-200d-1f9af-200d-27a1-fe0f"],a:"15.1"},{n:["woman with white cane","woman with probing cane"],u:"1f469-200d-1f9af",v:["1f469-1f3fb-200d-1f9af","1f469-1f3fc-200d-1f9af","1f469-1f3fd-200d-1f9af","1f469-1f3fe-200d-1f9af","1f469-1f3ff-200d-1f9af"],a:"12.0"},{n:["woman with white cane facing right"],u:"1f469-200d-1f9af-200d-27a1-fe0f",v:["1f469-1f3fb-200d-1f9af-200d-27a1-fe0f","1f469-1f3fc-200d-1f9af-200d-27a1-fe0f","1f469-1f3fd-200d-1f9af-200d-27a1-fe0f","1f469-1f3fe-200d-1f9af-200d-27a1-fe0f","1f469-1f3ff-200d-1f9af-200d-27a1-fe0f"],a:"15.1"},{n:["person in motorized wheelchair"],u:"1f9d1-200d-1f9bc",v:["1f9d1-1f3fb-200d-1f9bc","1f9d1-1f3fc-200d-1f9bc","1f9d1-1f3fd-200d-1f9bc","1f9d1-1f3fe-200d-1f9bc","1f9d1-1f3ff-200d-1f9bc"],a:"12.1"},{n:["person in motorized wheelchair facing right"],u:"1f9d1-200d-1f9bc-200d-27a1-fe0f",v:["1f9d1-1f3fb-200d-1f9bc-200d-27a1-fe0f","1f9d1-1f3fc-200d-1f9bc-200d-27a1-fe0f","1f9d1-1f3fd-200d-1f9bc-200d-27a1-fe0f","1f9d1-1f3fe-200d-1f9bc-200d-27a1-fe0f","1f9d1-1f3ff-200d-1f9bc-200d-27a1-fe0f"],a:"15.1"},{n:["man in motorized wheelchair"],u:"1f468-200d-1f9bc",v:["1f468-1f3fb-200d-1f9bc","1f468-1f3fc-200d-1f9bc","1f468-1f3fd-200d-1f9bc","1f468-1f3fe-200d-1f9bc","1f468-1f3ff-200d-1f9bc"],a:"12.0"},{n:["man in motorized wheelchair facing right"],u:"1f468-200d-1f9bc-200d-27a1-fe0f",v:["1f468-1f3fb-200d-1f9bc-200d-27a1-fe0f","1f468-1f3fc-200d-1f9bc-200d-27a1-fe0f","1f468-1f3fd-200d-1f9bc-200d-27a1-fe0f","1f468-1f3fe-200d-1f9bc-200d-27a1-fe0f","1f468-1f3ff-200d-1f9bc-200d-27a1-fe0f"],a:"15.1"},{n:["woman in motorized wheelchair"],u:"1f469-200d-1f9bc",v:["1f469-1f3fb-200d-1f9bc","1f469-1f3fc-200d-1f9bc","1f469-1f3fd-200d-1f9bc","1f469-1f3fe-200d-1f9bc","1f469-1f3ff-200d-1f9bc"],a:"12.0"},{n:["woman in motorized wheelchair facing right"],u:"1f469-200d-1f9bc-200d-27a1-fe0f",v:["1f469-1f3fb-200d-1f9bc-200d-27a1-fe0f","1f469-1f3fc-200d-1f9bc-200d-27a1-fe0f","1f469-1f3fd-200d-1f9bc-200d-27a1-fe0f","1f469-1f3fe-200d-1f9bc-200d-27a1-fe0f","1f469-1f3ff-200d-1f9bc-200d-27a1-fe0f"],a:"15.1"},{n:["person in manual wheelchair"],u:"1f9d1-200d-1f9bd",v:["1f9d1-1f3fb-200d-1f9bd","1f9d1-1f3fc-200d-1f9bd","1f9d1-1f3fd-200d-1f9bd","1f9d1-1f3fe-200d-1f9bd","1f9d1-1f3ff-200d-1f9bd"],a:"12.1"},{n:["person in manual wheelchair facing right"],u:"1f9d1-200d-1f9bd-200d-27a1-fe0f",v:["1f9d1-1f3fb-200d-1f9bd-200d-27a1-fe0f","1f9d1-1f3fc-200d-1f9bd-200d-27a1-fe0f","1f9d1-1f3fd-200d-1f9bd-200d-27a1-fe0f","1f9d1-1f3fe-200d-1f9bd-200d-27a1-fe0f","1f9d1-1f3ff-200d-1f9bd-200d-27a1-fe0f"],a:"15.1"},{n:["man in manual wheelchair"],u:"1f468-200d-1f9bd",v:["1f468-1f3fb-200d-1f9bd","1f468-1f3fc-200d-1f9bd","1f468-1f3fd-200d-1f9bd","1f468-1f3fe-200d-1f9bd","1f468-1f3ff-200d-1f9bd"],a:"12.0"},{n:["man in manual wheelchair facing right"],u:"1f468-200d-1f9bd-200d-27a1-fe0f",v:["1f468-1f3fb-200d-1f9bd-200d-27a1-fe0f","1f468-1f3fc-200d-1f9bd-200d-27a1-fe0f","1f468-1f3fd-200d-1f9bd-200d-27a1-fe0f","1f468-1f3fe-200d-1f9bd-200d-27a1-fe0f","1f468-1f3ff-200d-1f9bd-200d-27a1-fe0f"],a:"15.1"},{n:["woman in manual wheelchair"],u:"1f469-200d-1f9bd",v:["1f469-1f3fb-200d-1f9bd","1f469-1f3fc-200d-1f9bd","1f469-1f3fd-200d-1f9bd","1f469-1f3fe-200d-1f9bd","1f469-1f3ff-200d-1f9bd"],a:"12.0"},{n:["woman in manual wheelchair facing right"],u:"1f469-200d-1f9bd-200d-27a1-fe0f",v:["1f469-1f3fb-200d-1f9bd-200d-27a1-fe0f","1f469-1f3fc-200d-1f9bd-200d-27a1-fe0f","1f469-1f3fd-200d-1f9bd-200d-27a1-fe0f","1f469-1f3fe-200d-1f9bd-200d-27a1-fe0f","1f469-1f3ff-200d-1f9bd-200d-27a1-fe0f"],a:"15.1"},{n:["runner","running"],u:"1f3c3",v:["1f3c3-1f3fb","1f3c3-1f3fc","1f3c3-1f3fd","1f3c3-1f3fe","1f3c3-1f3ff"],a:"0.6"},{n:["man running","man-running"],u:"1f3c3-200d-2642-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f","1f3c3-1f3fc-200d-2642-fe0f","1f3c3-1f3fd-200d-2642-fe0f","1f3c3-1f3fe-200d-2642-fe0f","1f3c3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman running","woman-running"],u:"1f3c3-200d-2640-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f","1f3c3-1f3fc-200d-2640-fe0f","1f3c3-1f3fd-200d-2640-fe0f","1f3c3-1f3fe-200d-2640-fe0f","1f3c3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person running facing right"],u:"1f3c3-200d-27a1-fe0f",v:["1f3c3-1f3fb-200d-27a1-fe0f","1f3c3-1f3fc-200d-27a1-fe0f","1f3c3-1f3fd-200d-27a1-fe0f","1f3c3-1f3fe-200d-27a1-fe0f","1f3c3-1f3ff-200d-27a1-fe0f"],a:"15.1"},{n:["woman running facing right"],u:"1f3c3-200d-2640-fe0f-200d-27a1-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f-200d-27a1-fe0f","1f3c3-1f3fc-200d-2640-fe0f-200d-27a1-fe0f","1f3c3-1f3fd-200d-2640-fe0f-200d-27a1-fe0f","1f3c3-1f3fe-200d-2640-fe0f-200d-27a1-fe0f","1f3c3-1f3ff-200d-2640-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["man running facing right"],u:"1f3c3-200d-2642-fe0f-200d-27a1-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f-200d-27a1-fe0f","1f3c3-1f3fc-200d-2642-fe0f-200d-27a1-fe0f","1f3c3-1f3fd-200d-2642-fe0f-200d-27a1-fe0f","1f3c3-1f3fe-200d-2642-fe0f-200d-27a1-fe0f","1f3c3-1f3ff-200d-2642-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["dancer"],u:"1f483",v:["1f483-1f3fb","1f483-1f3fc","1f483-1f3fd","1f483-1f3fe","1f483-1f3ff"],a:"0.6"},{n:["man dancing"],u:"1f57a",v:["1f57a-1f3fb","1f57a-1f3fc","1f57a-1f3fd","1f57a-1f3fe","1f57a-1f3ff"],a:"3.0"},{n:["person in suit levitating","man in business suit levitating"],u:"1f574-fe0f",v:["1f574-1f3fb","1f574-1f3fc","1f574-1f3fd","1f574-1f3fe","1f574-1f3ff"],a:"0.7"},{n:["dancers","woman with bunny ears"],u:"1f46f",a:"0.6"},{n:["men with bunny ears","men-with-bunny-ears-partying","man-with-bunny-ears-partying"],u:"1f46f-200d-2642-fe0f",a:"4.0"},{n:["women with bunny ears","women-with-bunny-ears-partying","woman-with-bunny-ears-partying"],u:"1f46f-200d-2640-fe0f",a:"4.0"},{n:["person in steamy room"],u:"1f9d6",v:["1f9d6-1f3fb","1f9d6-1f3fc","1f9d6-1f3fd","1f9d6-1f3fe","1f9d6-1f3ff"],a:"5.0"},{n:["man in steamy room"],u:"1f9d6-200d-2642-fe0f",v:["1f9d6-1f3fb-200d-2642-fe0f","1f9d6-1f3fc-200d-2642-fe0f","1f9d6-1f3fd-200d-2642-fe0f","1f9d6-1f3fe-200d-2642-fe0f","1f9d6-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in steamy room"],u:"1f9d6-200d-2640-fe0f",v:["1f9d6-1f3fb-200d-2640-fe0f","1f9d6-1f3fc-200d-2640-fe0f","1f9d6-1f3fd-200d-2640-fe0f","1f9d6-1f3fe-200d-2640-fe0f","1f9d6-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["person climbing"],u:"1f9d7",v:["1f9d7-1f3fb","1f9d7-1f3fc","1f9d7-1f3fd","1f9d7-1f3fe","1f9d7-1f3ff"],a:"5.0"},{n:["man climbing"],u:"1f9d7-200d-2642-fe0f",v:["1f9d7-1f3fb-200d-2642-fe0f","1f9d7-1f3fc-200d-2642-fe0f","1f9d7-1f3fd-200d-2642-fe0f","1f9d7-1f3fe-200d-2642-fe0f","1f9d7-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman climbing"],u:"1f9d7-200d-2640-fe0f",v:["1f9d7-1f3fb-200d-2640-fe0f","1f9d7-1f3fc-200d-2640-fe0f","1f9d7-1f3fd-200d-2640-fe0f","1f9d7-1f3fe-200d-2640-fe0f","1f9d7-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fencer"],u:"1f93a",a:"3.0"},{n:["horse racing"],u:"1f3c7",v:["1f3c7-1f3fb","1f3c7-1f3fc","1f3c7-1f3fd","1f3c7-1f3fe","1f3c7-1f3ff"],a:"1.0"},{n:["skier"],u:"26f7-fe0f",a:"0.7"},{n:["snowboarder"],u:"1f3c2",v:["1f3c2-1f3fb","1f3c2-1f3fc","1f3c2-1f3fd","1f3c2-1f3fe","1f3c2-1f3ff"],a:"0.6"},{n:["golfer","person golfing"],u:"1f3cc-fe0f",v:["1f3cc-1f3fb","1f3cc-1f3fc","1f3cc-1f3fd","1f3cc-1f3fe","1f3cc-1f3ff"],a:"0.7"},{n:["man golfing","man-golfing"],u:"1f3cc-fe0f-200d-2642-fe0f",v:["1f3cc-1f3fb-200d-2642-fe0f","1f3cc-1f3fc-200d-2642-fe0f","1f3cc-1f3fd-200d-2642-fe0f","1f3cc-1f3fe-200d-2642-fe0f","1f3cc-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman golfing","woman-golfing"],u:"1f3cc-fe0f-200d-2640-fe0f",v:["1f3cc-1f3fb-200d-2640-fe0f","1f3cc-1f3fc-200d-2640-fe0f","1f3cc-1f3fd-200d-2640-fe0f","1f3cc-1f3fe-200d-2640-fe0f","1f3cc-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["surfer"],u:"1f3c4",v:["1f3c4-1f3fb","1f3c4-1f3fc","1f3c4-1f3fd","1f3c4-1f3fe","1f3c4-1f3ff"],a:"0.6"},{n:["man surfing","man-surfing"],u:"1f3c4-200d-2642-fe0f",v:["1f3c4-1f3fb-200d-2642-fe0f","1f3c4-1f3fc-200d-2642-fe0f","1f3c4-1f3fd-200d-2642-fe0f","1f3c4-1f3fe-200d-2642-fe0f","1f3c4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman surfing","woman-surfing"],u:"1f3c4-200d-2640-fe0f",v:["1f3c4-1f3fb-200d-2640-fe0f","1f3c4-1f3fc-200d-2640-fe0f","1f3c4-1f3fd-200d-2640-fe0f","1f3c4-1f3fe-200d-2640-fe0f","1f3c4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["rowboat"],u:"1f6a3",v:["1f6a3-1f3fb","1f6a3-1f3fc","1f6a3-1f3fd","1f6a3-1f3fe","1f6a3-1f3ff"],a:"1.0"},{n:["man rowing boat","man-rowing-boat"],u:"1f6a3-200d-2642-fe0f",v:["1f6a3-1f3fb-200d-2642-fe0f","1f6a3-1f3fc-200d-2642-fe0f","1f6a3-1f3fd-200d-2642-fe0f","1f6a3-1f3fe-200d-2642-fe0f","1f6a3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman rowing boat","woman-rowing-boat"],u:"1f6a3-200d-2640-fe0f",v:["1f6a3-1f3fb-200d-2640-fe0f","1f6a3-1f3fc-200d-2640-fe0f","1f6a3-1f3fd-200d-2640-fe0f","1f6a3-1f3fe-200d-2640-fe0f","1f6a3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["swimmer"],u:"1f3ca",v:["1f3ca-1f3fb","1f3ca-1f3fc","1f3ca-1f3fd","1f3ca-1f3fe","1f3ca-1f3ff"],a:"0.6"},{n:["man swimming","man-swimming"],u:"1f3ca-200d-2642-fe0f",v:["1f3ca-1f3fb-200d-2642-fe0f","1f3ca-1f3fc-200d-2642-fe0f","1f3ca-1f3fd-200d-2642-fe0f","1f3ca-1f3fe-200d-2642-fe0f","1f3ca-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman swimming","woman-swimming"],u:"1f3ca-200d-2640-fe0f",v:["1f3ca-1f3fb-200d-2640-fe0f","1f3ca-1f3fc-200d-2640-fe0f","1f3ca-1f3fd-200d-2640-fe0f","1f3ca-1f3fe-200d-2640-fe0f","1f3ca-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with ball","person bouncing ball"],u:"26f9-fe0f",v:["26f9-1f3fb","26f9-1f3fc","26f9-1f3fd","26f9-1f3fe","26f9-1f3ff"],a:"0.7"},{n:["man bouncing ball","man-bouncing-ball"],u:"26f9-fe0f-200d-2642-fe0f",v:["26f9-1f3fb-200d-2642-fe0f","26f9-1f3fc-200d-2642-fe0f","26f9-1f3fd-200d-2642-fe0f","26f9-1f3fe-200d-2642-fe0f","26f9-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bouncing ball","woman-bouncing-ball"],u:"26f9-fe0f-200d-2640-fe0f",v:["26f9-1f3fb-200d-2640-fe0f","26f9-1f3fc-200d-2640-fe0f","26f9-1f3fd-200d-2640-fe0f","26f9-1f3fe-200d-2640-fe0f","26f9-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["weight lifter","person lifting weights"],u:"1f3cb-fe0f",v:["1f3cb-1f3fb","1f3cb-1f3fc","1f3cb-1f3fd","1f3cb-1f3fe","1f3cb-1f3ff"],a:"0.7"},{n:["man lifting weights","man-lifting-weights"],u:"1f3cb-fe0f-200d-2642-fe0f",v:["1f3cb-1f3fb-200d-2642-fe0f","1f3cb-1f3fc-200d-2642-fe0f","1f3cb-1f3fd-200d-2642-fe0f","1f3cb-1f3fe-200d-2642-fe0f","1f3cb-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman lifting weights","woman-lifting-weights"],u:"1f3cb-fe0f-200d-2640-fe0f",v:["1f3cb-1f3fb-200d-2640-fe0f","1f3cb-1f3fc-200d-2640-fe0f","1f3cb-1f3fd-200d-2640-fe0f","1f3cb-1f3fe-200d-2640-fe0f","1f3cb-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["bicyclist"],u:"1f6b4",v:["1f6b4-1f3fb","1f6b4-1f3fc","1f6b4-1f3fd","1f6b4-1f3fe","1f6b4-1f3ff"],a:"1.0"},{n:["man biking","man-biking"],u:"1f6b4-200d-2642-fe0f",v:["1f6b4-1f3fb-200d-2642-fe0f","1f6b4-1f3fc-200d-2642-fe0f","1f6b4-1f3fd-200d-2642-fe0f","1f6b4-1f3fe-200d-2642-fe0f","1f6b4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman biking","woman-biking"],u:"1f6b4-200d-2640-fe0f",v:["1f6b4-1f3fb-200d-2640-fe0f","1f6b4-1f3fc-200d-2640-fe0f","1f6b4-1f3fd-200d-2640-fe0f","1f6b4-1f3fe-200d-2640-fe0f","1f6b4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["mountain bicyclist"],u:"1f6b5",v:["1f6b5-1f3fb","1f6b5-1f3fc","1f6b5-1f3fd","1f6b5-1f3fe","1f6b5-1f3ff"],a:"1.0"},{n:["man mountain biking","man-mountain-biking"],u:"1f6b5-200d-2642-fe0f",v:["1f6b5-1f3fb-200d-2642-fe0f","1f6b5-1f3fc-200d-2642-fe0f","1f6b5-1f3fd-200d-2642-fe0f","1f6b5-1f3fe-200d-2642-fe0f","1f6b5-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman mountain biking","woman-mountain-biking"],u:"1f6b5-200d-2640-fe0f",v:["1f6b5-1f3fb-200d-2640-fe0f","1f6b5-1f3fc-200d-2640-fe0f","1f6b5-1f3fd-200d-2640-fe0f","1f6b5-1f3fe-200d-2640-fe0f","1f6b5-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person doing cartwheel"],u:"1f938",v:["1f938-1f3fb","1f938-1f3fc","1f938-1f3fd","1f938-1f3fe","1f938-1f3ff"],a:"3.0"},{n:["man cartwheeling","man-cartwheeling"],u:"1f938-200d-2642-fe0f",v:["1f938-1f3fb-200d-2642-fe0f","1f938-1f3fc-200d-2642-fe0f","1f938-1f3fd-200d-2642-fe0f","1f938-1f3fe-200d-2642-fe0f","1f938-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman cartwheeling","woman-cartwheeling"],u:"1f938-200d-2640-fe0f",v:["1f938-1f3fb-200d-2640-fe0f","1f938-1f3fc-200d-2640-fe0f","1f938-1f3fd-200d-2640-fe0f","1f938-1f3fe-200d-2640-fe0f","1f938-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["wrestlers"],u:"1f93c",a:"3.0"},{n:["men wrestling","man-wrestling"],u:"1f93c-200d-2642-fe0f",a:"4.0"},{n:["women wrestling","woman-wrestling"],u:"1f93c-200d-2640-fe0f",a:"4.0"},{n:["water polo"],u:"1f93d",v:["1f93d-1f3fb","1f93d-1f3fc","1f93d-1f3fd","1f93d-1f3fe","1f93d-1f3ff"],a:"3.0"},{n:["man playing water polo","man-playing-water-polo"],u:"1f93d-200d-2642-fe0f",v:["1f93d-1f3fb-200d-2642-fe0f","1f93d-1f3fc-200d-2642-fe0f","1f93d-1f3fd-200d-2642-fe0f","1f93d-1f3fe-200d-2642-fe0f","1f93d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing water polo","woman-playing-water-polo"],u:"1f93d-200d-2640-fe0f",v:["1f93d-1f3fb-200d-2640-fe0f","1f93d-1f3fc-200d-2640-fe0f","1f93d-1f3fd-200d-2640-fe0f","1f93d-1f3fe-200d-2640-fe0f","1f93d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["handball"],u:"1f93e",v:["1f93e-1f3fb","1f93e-1f3fc","1f93e-1f3fd","1f93e-1f3fe","1f93e-1f3ff"],a:"3.0"},{n:["man playing handball","man-playing-handball"],u:"1f93e-200d-2642-fe0f",v:["1f93e-1f3fb-200d-2642-fe0f","1f93e-1f3fc-200d-2642-fe0f","1f93e-1f3fd-200d-2642-fe0f","1f93e-1f3fe-200d-2642-fe0f","1f93e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing handball","woman-playing-handball"],u:"1f93e-200d-2640-fe0f",v:["1f93e-1f3fb-200d-2640-fe0f","1f93e-1f3fc-200d-2640-fe0f","1f93e-1f3fd-200d-2640-fe0f","1f93e-1f3fe-200d-2640-fe0f","1f93e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["juggling"],u:"1f939",v:["1f939-1f3fb","1f939-1f3fc","1f939-1f3fd","1f939-1f3fe","1f939-1f3ff"],a:"3.0"},{n:["man juggling","man-juggling"],u:"1f939-200d-2642-fe0f",v:["1f939-1f3fb-200d-2642-fe0f","1f939-1f3fc-200d-2642-fe0f","1f939-1f3fd-200d-2642-fe0f","1f939-1f3fe-200d-2642-fe0f","1f939-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman juggling","woman-juggling"],u:"1f939-200d-2640-fe0f",v:["1f939-1f3fb-200d-2640-fe0f","1f939-1f3fc-200d-2640-fe0f","1f939-1f3fd-200d-2640-fe0f","1f939-1f3fe-200d-2640-fe0f","1f939-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person in lotus position"],u:"1f9d8",v:["1f9d8-1f3fb","1f9d8-1f3fc","1f9d8-1f3fd","1f9d8-1f3fe","1f9d8-1f3ff"],a:"5.0"},{n:["man in lotus position"],u:"1f9d8-200d-2642-fe0f",v:["1f9d8-1f3fb-200d-2642-fe0f","1f9d8-1f3fc-200d-2642-fe0f","1f9d8-1f3fd-200d-2642-fe0f","1f9d8-1f3fe-200d-2642-fe0f","1f9d8-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in lotus position"],u:"1f9d8-200d-2640-fe0f",v:["1f9d8-1f3fb-200d-2640-fe0f","1f9d8-1f3fc-200d-2640-fe0f","1f9d8-1f3fd-200d-2640-fe0f","1f9d8-1f3fe-200d-2640-fe0f","1f9d8-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["bath"],u:"1f6c0",v:["1f6c0-1f3fb","1f6c0-1f3fc","1f6c0-1f3fd","1f6c0-1f3fe","1f6c0-1f3ff"],a:"0.6"},{n:["sleeping accommodation"],u:"1f6cc",v:["1f6cc-1f3fb","1f6cc-1f3fc","1f6cc-1f3fd","1f6cc-1f3fe","1f6cc-1f3ff"],a:"1.0"},{n:["people holding hands"],u:"1f9d1-200d-1f91d-200d-1f9d1",v:["1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3ff"],a:"12.0"},{n:["women holding hands","two women holding hands"],u:"1f46d",v:["1f46d-1f3fb","1f46d-1f3fc","1f46d-1f3fd","1f46d-1f3fe","1f46d-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f469-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fe"],a:"1.0"},{n:["couple","man and woman holding hands","woman and man holding hands"],u:"1f46b",v:["1f46b-1f3fb","1f46b-1f3fc","1f46b-1f3fd","1f46b-1f3fe","1f46b-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"0.6"},{n:["men holding hands","two men holding hands"],u:"1f46c",v:["1f46c-1f3fb","1f46c-1f3fc","1f46c-1f3fd","1f46c-1f3fe","1f46c-1f3ff","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"1.0"},{n:["kiss","couplekiss"],u:"1f48f",v:["1f48f-1f3fb","1f48f-1f3fc","1f48f-1f3fd","1f48f-1f3fe","1f48f-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-kiss-man","kiss: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["man-kiss-man","kiss: man, man"],u:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-kiss-woman","kiss: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff"],a:"2.0"},{n:["couple with heart"],u:"1f491",v:["1f491-1f3fb","1f491-1f3fc","1f491-1f3fd","1f491-1f3fe","1f491-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-heart-man","couple with heart: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["man-heart-man","couple with heart: man, man"],u:"1f468-200d-2764-fe0f-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-heart-woman","couple with heart: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3ff"],a:"2.0"},{n:["man-woman-boy","family: man, woman, boy"],u:"1f468-200d-1f469-200d-1f466",a:"2.0"},{n:["man-woman-girl","family: man, woman, girl"],u:"1f468-200d-1f469-200d-1f467",a:"2.0"},{n:["man-woman-girl-boy","family: man, woman, girl, boy"],u:"1f468-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["man-woman-boy-boy","family: man, woman, boy, boy"],u:"1f468-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["man-woman-girl-girl","family: man, woman, girl, girl"],u:"1f468-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-man-boy","family: man, man, boy"],u:"1f468-200d-1f468-200d-1f466",a:"2.0"},{n:["man-man-girl","family: man, man, girl"],u:"1f468-200d-1f468-200d-1f467",a:"2.0"},{n:["man-man-girl-boy","family: man, man, girl, boy"],u:"1f468-200d-1f468-200d-1f467-200d-1f466",a:"2.0"},{n:["man-man-boy-boy","family: man, man, boy, boy"],u:"1f468-200d-1f468-200d-1f466-200d-1f466",a:"2.0"},{n:["man-man-girl-girl","family: man, man, girl, girl"],u:"1f468-200d-1f468-200d-1f467-200d-1f467",a:"2.0"},{n:["woman-woman-boy","family: woman, woman, boy"],u:"1f469-200d-1f469-200d-1f466",a:"2.0"},{n:["woman-woman-girl","family: woman, woman, girl"],u:"1f469-200d-1f469-200d-1f467",a:"2.0"},{n:["woman-woman-girl-boy","family: woman, woman, girl, boy"],u:"1f469-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["woman-woman-boy-boy","family: woman, woman, boy, boy"],u:"1f469-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["woman-woman-girl-girl","family: woman, woman, girl, girl"],u:"1f469-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-boy","family: man, boy"],u:"1f468-200d-1f466",a:"4.0"},{n:["man-boy-boy","family: man, boy, boy"],u:"1f468-200d-1f466-200d-1f466",a:"4.0"},{n:["man-girl","family: man, girl"],u:"1f468-200d-1f467",a:"4.0"},{n:["man-girl-boy","family: man, girl, boy"],u:"1f468-200d-1f467-200d-1f466",a:"4.0"},{n:["man-girl-girl","family: man, girl, girl"],u:"1f468-200d-1f467-200d-1f467",a:"4.0"},{n:["woman-boy","family: woman, boy"],u:"1f469-200d-1f466",a:"4.0"},{n:["woman-boy-boy","family: woman, boy, boy"],u:"1f469-200d-1f466-200d-1f466",a:"4.0"},{n:["woman-girl","family: woman, girl"],u:"1f469-200d-1f467",a:"4.0"},{n:["woman-girl-boy","family: woman, girl, boy"],u:"1f469-200d-1f467-200d-1f466",a:"4.0"},{n:["woman-girl-girl","family: woman, girl, girl"],u:"1f469-200d-1f467-200d-1f467",a:"4.0"},{n:["speaking head","speaking head in silhouette"],u:"1f5e3-fe0f",a:"0.7"},{n:["bust in silhouette"],u:"1f464",a:"0.6"},{n:["busts in silhouette"],u:"1f465",a:"1.0"},{n:["people hugging"],u:"1fac2",a:"13.0"},{n:["family"],u:"1f46a",a:"0.6"},{n:["family adult adult child","family: adult, adult, child"],u:"1f9d1-200d-1f9d1-200d-1f9d2",a:"15.1"},{n:["family adult adult child child","family: adult, adult, child, child"],u:"1f9d1-200d-1f9d1-200d-1f9d2-200d-1f9d2",a:"15.1"},{n:["family adult child","family: adult, child"],u:"1f9d1-200d-1f9d2",a:"15.1"},{n:["family adult child child","family: adult, child, child"],u:"1f9d1-200d-1f9d2-200d-1f9d2",a:"15.1"},{n:["footprints"],u:"1f463",a:"0.6"}],FLe=[{n:["monkey face"],u:"1f435",a:"0.6"},{n:["monkey"],u:"1f412",a:"0.6"},{n:["gorilla"],u:"1f98d",a:"3.0"},{n:["orangutan"],u:"1f9a7",a:"12.0"},{n:["dog","dog face"],u:"1f436",a:"0.6"},{n:["dog","dog2"],u:"1f415",a:"0.7"},{n:["guide dog"],u:"1f9ae",a:"12.0"},{n:["service dog"],u:"1f415-200d-1f9ba",a:"12.0"},{n:["poodle"],u:"1f429",a:"0.6"},{n:["wolf","wolf face"],u:"1f43a",a:"0.6"},{n:["fox face"],u:"1f98a",a:"3.0"},{n:["raccoon"],u:"1f99d",a:"11.0"},{n:["cat","cat face"],u:"1f431",a:"0.6"},{n:["cat","cat2"],u:"1f408",a:"0.7"},{n:["black cat"],u:"1f408-200d-2b1b",a:"13.0"},{n:["lion face"],u:"1f981",a:"1.0"},{n:["tiger","tiger face"],u:"1f42f",a:"0.6"},{n:["tiger","tiger2"],u:"1f405",a:"1.0"},{n:["leopard"],u:"1f406",a:"1.0"},{n:["horse","horse face"],u:"1f434",a:"0.6"},{n:["moose"],u:"1face",a:"15.0"},{n:["donkey"],u:"1facf",a:"15.0"},{n:["horse","racehorse"],u:"1f40e",a:"0.6"},{n:["unicorn face"],u:"1f984",a:"1.0"},{n:["zebra face"],u:"1f993",a:"5.0"},{n:["deer"],u:"1f98c",a:"3.0"},{n:["bison"],u:"1f9ac",a:"13.0"},{n:["cow","cow face"],u:"1f42e",a:"0.6"},{n:["ox"],u:"1f402",a:"1.0"},{n:["water buffalo"],u:"1f403",a:"1.0"},{n:["cow","cow2"],u:"1f404",a:"1.0"},{n:["pig","pig face"],u:"1f437",a:"0.6"},{n:["pig","pig2"],u:"1f416",a:"1.0"},{n:["boar"],u:"1f417",a:"0.6"},{n:["pig nose"],u:"1f43d",a:"0.6"},{n:["ram"],u:"1f40f",a:"1.0"},{n:["sheep"],u:"1f411",a:"0.6"},{n:["goat"],u:"1f410",a:"1.0"},{n:["dromedary camel"],u:"1f42a",a:"1.0"},{n:["camel","bactrian camel"],u:"1f42b",a:"0.6"},{n:["llama"],u:"1f999",a:"11.0"},{n:["giraffe face"],u:"1f992",a:"5.0"},{n:["elephant"],u:"1f418",a:"0.6"},{n:["mammoth"],u:"1f9a3",a:"13.0"},{n:["rhinoceros"],u:"1f98f",a:"3.0"},{n:["hippopotamus"],u:"1f99b",a:"11.0"},{n:["mouse","mouse face"],u:"1f42d",a:"0.6"},{n:["mouse","mouse2"],u:"1f401",a:"1.0"},{n:["rat"],u:"1f400",a:"1.0"},{n:["hamster","hamster face"],u:"1f439",a:"0.6"},{n:["rabbit","rabbit face"],u:"1f430",a:"0.6"},{n:["rabbit","rabbit2"],u:"1f407",a:"1.0"},{n:["chipmunk"],u:"1f43f-fe0f",a:"0.7"},{n:["beaver"],u:"1f9ab",a:"13.0"},{n:["hedgehog"],u:"1f994",a:"5.0"},{n:["bat"],u:"1f987",a:"3.0"},{n:["bear","bear face"],u:"1f43b",a:"0.6"},{n:["polar bear"],u:"1f43b-200d-2744-fe0f",a:"13.0"},{n:["koala"],u:"1f428",a:"0.6"},{n:["panda face"],u:"1f43c",a:"0.6"},{n:["sloth"],u:"1f9a5",a:"12.0"},{n:["otter"],u:"1f9a6",a:"12.0"},{n:["skunk"],u:"1f9a8",a:"12.0"},{n:["kangaroo"],u:"1f998",a:"11.0"},{n:["badger"],u:"1f9a1",a:"11.0"},{n:["feet","paw prints"],u:"1f43e",a:"0.6"},{n:["turkey"],u:"1f983",a:"1.0"},{n:["chicken"],u:"1f414",a:"0.6"},{n:["rooster"],u:"1f413",a:"1.0"},{n:["hatching chick"],u:"1f423",a:"0.6"},{n:["baby chick"],u:"1f424",a:"0.6"},{n:["hatched chick","front-facing baby chick"],u:"1f425",a:"0.6"},{n:["bird"],u:"1f426",a:"0.6"},{n:["penguin"],u:"1f427",a:"0.6"},{n:["dove","dove of peace"],u:"1f54a-fe0f",a:"0.7"},{n:["eagle"],u:"1f985",a:"3.0"},{n:["duck"],u:"1f986",a:"3.0"},{n:["swan"],u:"1f9a2",a:"11.0"},{n:["owl"],u:"1f989",a:"3.0"},{n:["dodo"],u:"1f9a4",a:"13.0"},{n:["feather"],u:"1fab6",a:"13.0"},{n:["flamingo"],u:"1f9a9",a:"12.0"},{n:["peacock"],u:"1f99a",a:"11.0"},{n:["parrot"],u:"1f99c",a:"11.0"},{n:["wing"],u:"1fabd",a:"15.0"},{n:["black bird"],u:"1f426-200d-2b1b",a:"15.0"},{n:["goose"],u:"1fabf",a:"15.0"},{n:["phoenix"],u:"1f426-200d-1f525",a:"15.1"},{n:["frog","frog face"],u:"1f438",a:"0.6"},{n:["crocodile"],u:"1f40a",a:"1.0"},{n:["turtle"],u:"1f422",a:"0.6"},{n:["lizard"],u:"1f98e",a:"3.0"},{n:["snake"],u:"1f40d",a:"0.6"},{n:["dragon face"],u:"1f432",a:"0.6"},{n:["dragon"],u:"1f409",a:"1.0"},{n:["sauropod"],u:"1f995",a:"5.0"},{n:["t-rex"],u:"1f996",a:"5.0"},{n:["whale","spouting whale"],u:"1f433",a:"0.6"},{n:["whale","whale2"],u:"1f40b",a:"1.0"},{n:["dolphin","flipper"],u:"1f42c",a:"0.6"},{n:["seal"],u:"1f9ad",a:"13.0"},{n:["fish"],u:"1f41f",a:"0.6"},{n:["tropical fish"],u:"1f420",a:"0.6"},{n:["blowfish"],u:"1f421",a:"0.6"},{n:["shark"],u:"1f988",a:"3.0"},{n:["octopus"],u:"1f419",a:"0.6"},{n:["shell","spiral shell"],u:"1f41a",a:"0.6"},{n:["coral"],u:"1fab8",a:"14.0"},{n:["jellyfish"],u:"1fabc",a:"15.0"},{n:["snail"],u:"1f40c",a:"0.6"},{n:["butterfly"],u:"1f98b",a:"3.0"},{n:["bug"],u:"1f41b",a:"0.6"},{n:["ant"],u:"1f41c",a:"0.6"},{n:["bee","honeybee"],u:"1f41d",a:"0.6"},{n:["beetle"],u:"1fab2",a:"13.0"},{n:["ladybug","lady beetle"],u:"1f41e",a:"0.6"},{n:["cricket"],u:"1f997",a:"5.0"},{n:["cockroach"],u:"1fab3",a:"13.0"},{n:["spider"],u:"1f577-fe0f",a:"0.7"},{n:["spider web"],u:"1f578-fe0f",a:"0.7"},{n:["scorpion"],u:"1f982",a:"1.0"},{n:["mosquito"],u:"1f99f",a:"11.0"},{n:["fly"],u:"1fab0",a:"13.0"},{n:["worm"],u:"1fab1",a:"13.0"},{n:["microbe"],u:"1f9a0",a:"11.0"},{n:["bouquet"],u:"1f490",a:"0.6"},{n:["cherry blossom"],u:"1f338",a:"0.6"},{n:["white flower"],u:"1f4ae",a:"0.6"},{n:["lotus"],u:"1fab7",a:"14.0"},{n:["rosette"],u:"1f3f5-fe0f",a:"0.7"},{n:["rose"],u:"1f339",a:"0.6"},{n:["wilted flower"],u:"1f940",a:"3.0"},{n:["hibiscus"],u:"1f33a",a:"0.6"},{n:["sunflower"],u:"1f33b",a:"0.6"},{n:["blossom"],u:"1f33c",a:"0.6"},{n:["tulip"],u:"1f337",a:"0.6"},{n:["hyacinth"],u:"1fabb",a:"15.0"},{n:["seedling"],u:"1f331",a:"0.6"},{n:["potted plant"],u:"1fab4",a:"13.0"},{n:["evergreen tree"],u:"1f332",a:"1.0"},{n:["deciduous tree"],u:"1f333",a:"1.0"},{n:["palm tree"],u:"1f334",a:"0.6"},{n:["cactus"],u:"1f335",a:"0.6"},{n:["ear of rice"],u:"1f33e",a:"0.6"},{n:["herb"],u:"1f33f",a:"0.6"},{n:["shamrock"],u:"2618-fe0f",a:"1.0"},{n:["four leaf clover"],u:"1f340",a:"0.6"},{n:["maple leaf"],u:"1f341",a:"0.6"},{n:["fallen leaf"],u:"1f342",a:"0.6"},{n:["leaves","leaf fluttering in wind"],u:"1f343",a:"0.6"},{n:["empty nest"],u:"1fab9",a:"14.0"},{n:["nest with eggs"],u:"1faba",a:"14.0"},{n:["mushroom"],u:"1f344",a:"0.6"}],BLe=[{n:["grapes"],u:"1f347",a:"0.6"},{n:["melon"],u:"1f348",a:"0.6"},{n:["watermelon"],u:"1f349",a:"0.6"},{n:["tangerine"],u:"1f34a",a:"0.6"},{n:["lemon"],u:"1f34b",a:"1.0"},{n:["lime"],u:"1f34b-200d-1f7e9",a:"15.1"},{n:["banana"],u:"1f34c",a:"0.6"},{n:["pineapple"],u:"1f34d",a:"0.6"},{n:["mango"],u:"1f96d",a:"11.0"},{n:["apple","red apple"],u:"1f34e",a:"0.6"},{n:["green apple"],u:"1f34f",a:"0.6"},{n:["pear"],u:"1f350",a:"1.0"},{n:["peach"],u:"1f351",a:"0.6"},{n:["cherries"],u:"1f352",a:"0.6"},{n:["strawberry"],u:"1f353",a:"0.6"},{n:["blueberries"],u:"1fad0",a:"13.0"},{n:["kiwifruit"],u:"1f95d",a:"3.0"},{n:["tomato"],u:"1f345",a:"0.6"},{n:["olive"],u:"1fad2",a:"13.0"},{n:["coconut"],u:"1f965",a:"5.0"},{n:["avocado"],u:"1f951",a:"3.0"},{n:["eggplant","aubergine"],u:"1f346",a:"0.6"},{n:["potato"],u:"1f954",a:"3.0"},{n:["carrot"],u:"1f955",a:"3.0"},{n:["corn","ear of maize"],u:"1f33d",a:"0.6"},{n:["hot pepper"],u:"1f336-fe0f",a:"0.7"},{n:["bell pepper"],u:"1fad1",a:"13.0"},{n:["cucumber"],u:"1f952",a:"3.0"},{n:["leafy green"],u:"1f96c",a:"11.0"},{n:["broccoli"],u:"1f966",a:"5.0"},{n:["garlic"],u:"1f9c4",a:"12.0"},{n:["onion"],u:"1f9c5",a:"12.0"},{n:["peanuts"],u:"1f95c",a:"3.0"},{n:["beans"],u:"1fad8",a:"14.0"},{n:["chestnut"],u:"1f330",a:"0.6"},{n:["ginger root"],u:"1fada",a:"15.0"},{n:["pea pod"],u:"1fadb",a:"15.0"},{n:["brown mushroom"],u:"1f344-200d-1f7eb",a:"15.1"},{n:["bread"],u:"1f35e",a:"0.6"},{n:["croissant"],u:"1f950",a:"3.0"},{n:["baguette bread"],u:"1f956",a:"3.0"},{n:["flatbread"],u:"1fad3",a:"13.0"},{n:["pretzel"],u:"1f968",a:"5.0"},{n:["bagel"],u:"1f96f",a:"11.0"},{n:["pancakes"],u:"1f95e",a:"3.0"},{n:["waffle"],u:"1f9c7",a:"12.0"},{n:["cheese wedge"],u:"1f9c0",a:"1.0"},{n:["meat on bone"],u:"1f356",a:"0.6"},{n:["poultry leg"],u:"1f357",a:"0.6"},{n:["cut of meat"],u:"1f969",a:"5.0"},{n:["bacon"],u:"1f953",a:"3.0"},{n:["hamburger"],u:"1f354",a:"0.6"},{n:["fries","french fries"],u:"1f35f",a:"0.6"},{n:["pizza","slice of pizza"],u:"1f355",a:"0.6"},{n:["hotdog","hot dog"],u:"1f32d",a:"1.0"},{n:["sandwich"],u:"1f96a",a:"5.0"},{n:["taco"],u:"1f32e",a:"1.0"},{n:["burrito"],u:"1f32f",a:"1.0"},{n:["tamale"],u:"1fad4",a:"13.0"},{n:["stuffed flatbread"],u:"1f959",a:"3.0"},{n:["falafel"],u:"1f9c6",a:"12.0"},{n:["egg"],u:"1f95a",a:"3.0"},{n:["cooking","fried egg"],u:"1f373",a:"0.6"},{n:["shallow pan of food"],u:"1f958",a:"3.0"},{n:["stew","pot of food"],u:"1f372",a:"0.6"},{n:["fondue"],u:"1fad5",a:"13.0"},{n:["bowl with spoon"],u:"1f963",a:"5.0"},{n:["green salad"],u:"1f957",a:"3.0"},{n:["popcorn"],u:"1f37f",a:"1.0"},{n:["butter"],u:"1f9c8",a:"12.0"},{n:["salt","salt shaker"],u:"1f9c2",a:"11.0"},{n:["canned food"],u:"1f96b",a:"5.0"},{n:["bento","bento box"],u:"1f371",a:"0.6"},{n:["rice cracker"],u:"1f358",a:"0.6"},{n:["rice ball"],u:"1f359",a:"0.6"},{n:["rice","cooked rice"],u:"1f35a",a:"0.6"},{n:["curry","curry and rice"],u:"1f35b",a:"0.6"},{n:["ramen","steaming bowl"],u:"1f35c",a:"0.6"},{n:["spaghetti"],u:"1f35d",a:"0.6"},{n:["sweet potato","roasted sweet potato"],u:"1f360",a:"0.6"},{n:["oden"],u:"1f362",a:"0.6"},{n:["sushi"],u:"1f363",a:"0.6"},{n:["fried shrimp"],u:"1f364",a:"0.6"},{n:["fish cake","fish cake with swirl design"],u:"1f365",a:"0.6"},{n:["moon cake"],u:"1f96e",a:"11.0"},{n:["dango"],u:"1f361",a:"0.6"},{n:["dumpling"],u:"1f95f",a:"5.0"},{n:["fortune cookie"],u:"1f960",a:"5.0"},{n:["takeout box"],u:"1f961",a:"5.0"},{n:["crab"],u:"1f980",a:"1.0"},{n:["lobster"],u:"1f99e",a:"11.0"},{n:["shrimp"],u:"1f990",a:"3.0"},{n:["squid"],u:"1f991",a:"3.0"},{n:["oyster"],u:"1f9aa",a:"12.0"},{n:["icecream","soft ice cream"],u:"1f366",a:"0.6"},{n:["shaved ice"],u:"1f367",a:"0.6"},{n:["ice cream"],u:"1f368",a:"0.6"},{n:["doughnut"],u:"1f369",a:"0.6"},{n:["cookie"],u:"1f36a",a:"0.6"},{n:["birthday","birthday cake"],u:"1f382",a:"0.6"},{n:["cake","shortcake"],u:"1f370",a:"0.6"},{n:["cupcake"],u:"1f9c1",a:"11.0"},{n:["pie"],u:"1f967",a:"5.0"},{n:["chocolate bar"],u:"1f36b",a:"0.6"},{n:["candy"],u:"1f36c",a:"0.6"},{n:["lollipop"],u:"1f36d",a:"0.6"},{n:["custard"],u:"1f36e",a:"0.6"},{n:["honey pot"],u:"1f36f",a:"0.6"},{n:["baby bottle"],u:"1f37c",a:"1.0"},{n:["glass of milk"],u:"1f95b",a:"3.0"},{n:["coffee","hot beverage"],u:"2615",a:"0.6"},{n:["teapot"],u:"1fad6",a:"13.0"},{n:["tea","teacup without handle"],u:"1f375",a:"0.6"},{n:["sake","sake bottle and cup"],u:"1f376",a:"0.6"},{n:["champagne","bottle with popping cork"],u:"1f37e",a:"1.0"},{n:["wine glass"],u:"1f377",a:"0.6"},{n:["cocktail","cocktail glass"],u:"1f378",a:"0.6"},{n:["tropical drink"],u:"1f379",a:"0.6"},{n:["beer","beer mug"],u:"1f37a",a:"0.6"},{n:["beers","clinking beer mugs"],u:"1f37b",a:"0.6"},{n:["clinking glasses"],u:"1f942",a:"3.0"},{n:["tumbler glass"],u:"1f943",a:"3.0"},{n:["pouring liquid"],u:"1fad7",a:"14.0"},{n:["cup with straw"],u:"1f964",a:"5.0"},{n:["bubble tea"],u:"1f9cb",a:"13.0"},{n:["beverage box"],u:"1f9c3",a:"12.0"},{n:["mate drink"],u:"1f9c9",a:"12.0"},{n:["ice cube"],u:"1f9ca",a:"12.0"},{n:["chopsticks"],u:"1f962",a:"5.0"},{n:["knife fork plate","fork and knife with plate"],u:"1f37d-fe0f",a:"0.7"},{n:["fork and knife"],u:"1f374",a:"0.6"},{n:["spoon"],u:"1f944",a:"3.0"},{n:["hocho","knife"],u:"1f52a",a:"0.6"},{n:["jar"],u:"1fad9",a:"14.0"},{n:["amphora"],u:"1f3fa",a:"1.0"}],zLe=[{n:["earth africa","earth globe europe-africa"],u:"1f30d",a:"0.7"},{n:["earth americas","earth globe americas"],u:"1f30e",a:"0.7"},{n:["earth asia","earth globe asia-australia"],u:"1f30f",a:"0.6"},{n:["globe with meridians"],u:"1f310",a:"1.0"},{n:["world map"],u:"1f5fa-fe0f",a:"0.7"},{n:["japan","silhouette of japan"],u:"1f5fe",a:"0.6"},{n:["compass"],u:"1f9ed",a:"11.0"},{n:["snow-capped mountain","snow capped mountain"],u:"1f3d4-fe0f",a:"0.7"},{n:["mountain"],u:"26f0-fe0f",a:"0.7"},{n:["volcano"],u:"1f30b",a:"0.6"},{n:["mount fuji"],u:"1f5fb",a:"0.6"},{n:["camping"],u:"1f3d5-fe0f",a:"0.7"},{n:["beach with umbrella"],u:"1f3d6-fe0f",a:"0.7"},{n:["desert"],u:"1f3dc-fe0f",a:"0.7"},{n:["desert island"],u:"1f3dd-fe0f",a:"0.7"},{n:["national park"],u:"1f3de-fe0f",a:"0.7"},{n:["stadium"],u:"1f3df-fe0f",a:"0.7"},{n:["classical building"],u:"1f3db-fe0f",a:"0.7"},{n:["building construction"],u:"1f3d7-fe0f",a:"0.7"},{n:["brick","bricks"],u:"1f9f1",a:"11.0"},{n:["rock"],u:"1faa8",a:"13.0"},{n:["wood"],u:"1fab5",a:"13.0"},{n:["hut"],u:"1f6d6",a:"13.0"},{n:["houses","house buildings"],u:"1f3d8-fe0f",a:"0.7"},{n:["derelict house","derelict house building"],u:"1f3da-fe0f",a:"0.7"},{n:["house","house building"],u:"1f3e0",a:"0.6"},{n:["house with garden"],u:"1f3e1",a:"0.6"},{n:["office","office building"],u:"1f3e2",a:"0.6"},{n:["post office","japanese post office"],u:"1f3e3",a:"0.6"},{n:["european post office"],u:"1f3e4",a:"1.0"},{n:["hospital"],u:"1f3e5",a:"0.6"},{n:["bank"],u:"1f3e6",a:"0.6"},{n:["hotel"],u:"1f3e8",a:"0.6"},{n:["love hotel"],u:"1f3e9",a:"0.6"},{n:["convenience store"],u:"1f3ea",a:"0.6"},{n:["school"],u:"1f3eb",a:"0.6"},{n:["department store"],u:"1f3ec",a:"0.6"},{n:["factory"],u:"1f3ed",a:"0.6"},{n:["japanese castle"],u:"1f3ef",a:"0.6"},{n:["european castle"],u:"1f3f0",a:"0.6"},{n:["wedding"],u:"1f492",a:"0.6"},{n:["tokyo tower"],u:"1f5fc",a:"0.6"},{n:["statue of liberty"],u:"1f5fd",a:"0.6"},{n:["church"],u:"26ea",a:"0.6"},{n:["mosque"],u:"1f54c",a:"1.0"},{n:["hindu temple"],u:"1f6d5",a:"12.0"},{n:["synagogue"],u:"1f54d",a:"1.0"},{n:["shinto shrine"],u:"26e9-fe0f",a:"0.7"},{n:["kaaba"],u:"1f54b",a:"1.0"},{n:["fountain"],u:"26f2",a:"0.6"},{n:["tent"],u:"26fa",a:"0.6"},{n:["foggy"],u:"1f301",a:"0.6"},{n:["night with stars"],u:"1f303",a:"0.6"},{n:["cityscape"],u:"1f3d9-fe0f",a:"0.7"},{n:["sunrise over mountains"],u:"1f304",a:"0.6"},{n:["sunrise"],u:"1f305",a:"0.6"},{n:["city sunset","cityscape at dusk"],u:"1f306",a:"0.6"},{n:["city sunrise","sunset over buildings"],u:"1f307",a:"0.6"},{n:["bridge at night"],u:"1f309",a:"0.6"},{n:["hotsprings","hot springs"],u:"2668-fe0f",a:"0.6"},{n:["carousel horse"],u:"1f3a0",a:"0.6"},{n:["playground slide"],u:"1f6dd",a:"14.0"},{n:["ferris wheel"],u:"1f3a1",a:"0.6"},{n:["roller coaster"],u:"1f3a2",a:"0.6"},{n:["barber","barber pole"],u:"1f488",a:"0.6"},{n:["circus tent"],u:"1f3aa",a:"0.6"},{n:["steam locomotive"],u:"1f682",a:"1.0"},{n:["railway car"],u:"1f683",a:"0.6"},{n:["high-speed train","bullettrain side"],u:"1f684",a:"0.6"},{n:["bullettrain front","high-speed train with bullet nose"],u:"1f685",a:"0.6"},{n:["train","train2"],u:"1f686",a:"1.0"},{n:["metro"],u:"1f687",a:"0.6"},{n:["light rail"],u:"1f688",a:"1.0"},{n:["station"],u:"1f689",a:"0.6"},{n:["tram"],u:"1f68a",a:"1.0"},{n:["monorail"],u:"1f69d",a:"1.0"},{n:["mountain railway"],u:"1f69e",a:"1.0"},{n:["train","tram car"],u:"1f68b",a:"1.0"},{n:["bus"],u:"1f68c",a:"0.6"},{n:["oncoming bus"],u:"1f68d",a:"0.7"},{n:["trolleybus"],u:"1f68e",a:"1.0"},{n:["minibus"],u:"1f690",a:"1.0"},{n:["ambulance"],u:"1f691",a:"0.6"},{n:["fire engine"],u:"1f692",a:"0.6"},{n:["police car"],u:"1f693",a:"0.6"},{n:["oncoming police car"],u:"1f694",a:"0.7"},{n:["taxi"],u:"1f695",a:"0.6"},{n:["oncoming taxi"],u:"1f696",a:"1.0"},{n:["car","red car","automobile"],u:"1f697",a:"0.6"},{n:["oncoming automobile"],u:"1f698",a:"0.7"},{n:["blue car","recreational vehicle"],u:"1f699",a:"0.6"},{n:["pickup truck"],u:"1f6fb",a:"13.0"},{n:["truck","delivery truck"],u:"1f69a",a:"0.6"},{n:["articulated lorry"],u:"1f69b",a:"1.0"},{n:["tractor"],u:"1f69c",a:"1.0"},{n:["racing car"],u:"1f3ce-fe0f",a:"0.7"},{n:["motorcycle","racing motorcycle"],u:"1f3cd-fe0f",a:"0.7"},{n:["motor scooter"],u:"1f6f5",a:"3.0"},{n:["manual wheelchair"],u:"1f9bd",a:"12.0"},{n:["motorized wheelchair"],u:"1f9bc",a:"12.0"},{n:["auto rickshaw"],u:"1f6fa",a:"12.0"},{n:["bike","bicycle"],u:"1f6b2",a:"0.6"},{n:["scooter"],u:"1f6f4",a:"3.0"},{n:["skateboard"],u:"1f6f9",a:"11.0"},{n:["roller skate"],u:"1f6fc",a:"13.0"},{n:["busstop","bus stop"],u:"1f68f",a:"0.6"},{n:["motorway"],u:"1f6e3-fe0f",a:"0.7"},{n:["railway track"],u:"1f6e4-fe0f",a:"0.7"},{n:["oil drum"],u:"1f6e2-fe0f",a:"0.7"},{n:["fuelpump","fuel pump"],u:"26fd",a:"0.6"},{n:["wheel"],u:"1f6de",a:"14.0"},{n:["rotating light","police cars revolving light"],u:"1f6a8",a:"0.6"},{n:["traffic light","horizontal traffic light"],u:"1f6a5",a:"0.6"},{n:["vertical traffic light"],u:"1f6a6",a:"1.0"},{n:["octagonal sign"],u:"1f6d1",a:"3.0"},{n:["construction","construction sign"],u:"1f6a7",a:"0.6"},{n:["anchor"],u:"2693",a:"0.6"},{n:["ring buoy"],u:"1f6df",a:"14.0"},{n:["boat","sailboat"],u:"26f5",a:"0.6"},{n:["canoe"],u:"1f6f6",a:"3.0"},{n:["speedboat"],u:"1f6a4",a:"0.6"},{n:["passenger ship"],u:"1f6f3-fe0f",a:"0.7"},{n:["ferry"],u:"26f4-fe0f",a:"0.7"},{n:["motor boat"],u:"1f6e5-fe0f",a:"0.7"},{n:["ship"],u:"1f6a2",a:"0.6"},{n:["airplane"],u:"2708-fe0f",a:"0.6"},{n:["small airplane"],u:"1f6e9-fe0f",a:"0.7"},{n:["airplane departure"],u:"1f6eb",a:"1.0"},{n:["airplane arriving"],u:"1f6ec",a:"1.0"},{n:["parachute"],u:"1fa82",a:"12.0"},{n:["seat"],u:"1f4ba",a:"0.6"},{n:["helicopter"],u:"1f681",a:"1.0"},{n:["suspension railway"],u:"1f69f",a:"1.0"},{n:["mountain cableway"],u:"1f6a0",a:"1.0"},{n:["aerial tramway"],u:"1f6a1",a:"1.0"},{n:["satellite"],u:"1f6f0-fe0f",a:"0.7"},{n:["rocket"],u:"1f680",a:"0.6"},{n:["flying saucer"],u:"1f6f8",a:"5.0"},{n:["bellhop bell"],u:"1f6ce-fe0f",a:"0.7"},{n:["luggage"],u:"1f9f3",a:"11.0"},{n:["hourglass"],u:"231b",a:"0.6"},{n:["hourglass flowing sand","hourglass with flowing sand"],u:"23f3",a:"0.6"},{n:["watch"],u:"231a",a:"0.6"},{n:["alarm clock"],u:"23f0",a:"0.6"},{n:["stopwatch"],u:"23f1-fe0f",a:"1.0"},{n:["timer clock"],u:"23f2-fe0f",a:"1.0"},{n:["mantelpiece clock"],u:"1f570-fe0f",a:"0.7"},{n:["clock12","clock face twelve oclock"],u:"1f55b",a:"0.6"},{n:["clock1230","clock face twelve-thirty"],u:"1f567",a:"0.7"},{n:["clock1","clock face one oclock"],u:"1f550",a:"0.6"},{n:["clock130","clock face one-thirty"],u:"1f55c",a:"0.7"},{n:["clock2","clock face two oclock"],u:"1f551",a:"0.6"},{n:["clock230","clock face two-thirty"],u:"1f55d",a:"0.7"},{n:["clock3","clock face three oclock"],u:"1f552",a:"0.6"},{n:["clock330","clock face three-thirty"],u:"1f55e",a:"0.7"},{n:["clock4","clock face four oclock"],u:"1f553",a:"0.6"},{n:["clock430","clock face four-thirty"],u:"1f55f",a:"0.7"},{n:["clock5","clock face five oclock"],u:"1f554",a:"0.6"},{n:["clock530","clock face five-thirty"],u:"1f560",a:"0.7"},{n:["clock6","clock face six oclock"],u:"1f555",a:"0.6"},{n:["clock630","clock face six-thirty"],u:"1f561",a:"0.7"},{n:["clock7","clock face seven oclock"],u:"1f556",a:"0.6"},{n:["clock730","clock face seven-thirty"],u:"1f562",a:"0.7"},{n:["clock8","clock face eight oclock"],u:"1f557",a:"0.6"},{n:["clock830","clock face eight-thirty"],u:"1f563",a:"0.7"},{n:["clock9","clock face nine oclock"],u:"1f558",a:"0.6"},{n:["clock930","clock face nine-thirty"],u:"1f564",a:"0.7"},{n:["clock10","clock face ten oclock"],u:"1f559",a:"0.6"},{n:["clock1030","clock face ten-thirty"],u:"1f565",a:"0.7"},{n:["clock11","clock face eleven oclock"],u:"1f55a",a:"0.6"},{n:["clock1130","clock face eleven-thirty"],u:"1f566",a:"0.7"},{n:["new moon","new moon symbol"],u:"1f311",a:"0.6"},{n:["waxing crescent moon","waxing crescent moon symbol"],u:"1f312",a:"1.0"},{n:["first quarter moon","first quarter moon symbol"],u:"1f313",a:"0.6"},{n:["moon","waxing gibbous moon","waxing gibbous moon symbol"],u:"1f314",a:"0.6"},{n:["full moon","full moon symbol"],u:"1f315",a:"0.6"},{n:["waning gibbous moon","waning gibbous moon symbol"],u:"1f316",a:"1.0"},{n:["last quarter moon","last quarter moon symbol"],u:"1f317",a:"1.0"},{n:["waning crescent moon","waning crescent moon symbol"],u:"1f318",a:"1.0"},{n:["crescent moon"],u:"1f319",a:"0.6"},{n:["new moon with face"],u:"1f31a",a:"1.0"},{n:["first quarter moon with face"],u:"1f31b",a:"0.6"},{n:["last quarter moon with face"],u:"1f31c",a:"0.7"},{n:["thermometer"],u:"1f321-fe0f",a:"0.7"},{n:["sunny","black sun with rays"],u:"2600-fe0f",a:"0.6"},{n:["full moon with face"],u:"1f31d",a:"1.0"},{n:["sun with face"],u:"1f31e",a:"1.0"},{n:["ringed planet"],u:"1fa90",a:"12.0"},{n:["star","white medium star"],u:"2b50",a:"0.6"},{n:["star2","glowing star"],u:"1f31f",a:"0.6"},{n:["stars","shooting star"],u:"1f320",a:"0.6"},{n:["milky way"],u:"1f30c",a:"0.6"},{n:["cloud"],u:"2601-fe0f",a:"0.6"},{n:["partly sunny","sun behind cloud"],u:"26c5",a:"0.6"},{n:["thunder cloud and rain","cloud with lightning and rain"],u:"26c8-fe0f",a:"0.7"},{n:["mostly sunny","sun small cloud","sun behind small cloud"],u:"1f324-fe0f",a:"0.7"},{n:["barely sunny","sun behind cloud","sun behind large cloud"],u:"1f325-fe0f",a:"0.7"},{n:["partly sunny rain","sun behind rain cloud"],u:"1f326-fe0f",a:"0.7"},{n:["rain cloud","cloud with rain"],u:"1f327-fe0f",a:"0.7"},{n:["snow cloud","cloud with snow"],u:"1f328-fe0f",a:"0.7"},{n:["lightning","lightning cloud","cloud with lightning"],u:"1f329-fe0f",a:"0.7"},{n:["tornado","tornado cloud"],u:"1f32a-fe0f",a:"0.7"},{n:["fog"],u:"1f32b-fe0f",a:"0.7"},{n:["wind face","wind blowing face"],u:"1f32c-fe0f",a:"0.7"},{n:["cyclone"],u:"1f300",a:"0.6"},{n:["rainbow"],u:"1f308",a:"0.6"},{n:["closed umbrella"],u:"1f302",a:"0.6"},{n:["umbrella"],u:"2602-fe0f",a:"0.7"},{n:["umbrella with rain drops"],u:"2614",a:"0.6"},{n:["umbrella on ground"],u:"26f1-fe0f",a:"0.7"},{n:["zap","high voltage sign"],u:"26a1",a:"0.6"},{n:["snowflake"],u:"2744-fe0f",a:"0.6"},{n:["snowman"],u:"2603-fe0f",a:"0.7"},{n:["snowman without snow"],u:"26c4",a:"0.6"},{n:["comet"],u:"2604-fe0f",a:"1.0"},{n:["fire"],u:"1f525",a:"0.6"},{n:["droplet"],u:"1f4a7",a:"0.6"},{n:["ocean","water wave"],u:"1f30a",a:"0.6"}],ULe=[{n:["jack-o-lantern","jack o lantern"],u:"1f383",a:"0.6"},{n:["christmas tree"],u:"1f384",a:"0.6"},{n:["fireworks"],u:"1f386",a:"0.6"},{n:["sparkler","firework sparkler"],u:"1f387",a:"0.6"},{n:["firecracker"],u:"1f9e8",a:"11.0"},{n:["sparkles"],u:"2728",a:"0.6"},{n:["balloon"],u:"1f388",a:"0.6"},{n:["tada","party popper"],u:"1f389",a:"0.6"},{n:["confetti ball"],u:"1f38a",a:"0.6"},{n:["tanabata tree"],u:"1f38b",a:"0.6"},{n:["bamboo","pine decoration"],u:"1f38d",a:"0.6"},{n:["dolls","japanese dolls"],u:"1f38e",a:"0.6"},{n:["flags","carp streamer"],u:"1f38f",a:"0.6"},{n:["wind chime"],u:"1f390",a:"0.6"},{n:["rice scene","moon viewing ceremony"],u:"1f391",a:"0.6"},{n:["red envelope","red gift envelope"],u:"1f9e7",a:"11.0"},{n:["ribbon"],u:"1f380",a:"0.6"},{n:["gift","wrapped present"],u:"1f381",a:"0.6"},{n:["reminder ribbon"],u:"1f397-fe0f",a:"0.7"},{n:["admission tickets"],u:"1f39f-fe0f",a:"0.7"},{n:["ticket"],u:"1f3ab",a:"0.6"},{n:["medal","military medal"],u:"1f396-fe0f",a:"0.7"},{n:["trophy"],u:"1f3c6",a:"0.6"},{n:["sports medal"],u:"1f3c5",a:"1.0"},{n:["first place medal"],u:"1f947",a:"3.0"},{n:["second place medal"],u:"1f948",a:"3.0"},{n:["third place medal"],u:"1f949",a:"3.0"},{n:["soccer","soccer ball"],u:"26bd",a:"0.6"},{n:["baseball"],u:"26be",a:"0.6"},{n:["softball"],u:"1f94e",a:"11.0"},{n:["basketball","basketball and hoop"],u:"1f3c0",a:"0.6"},{n:["volleyball"],u:"1f3d0",a:"1.0"},{n:["football","american football"],u:"1f3c8",a:"0.6"},{n:["rugby football"],u:"1f3c9",a:"1.0"},{n:["tennis","tennis racquet and ball"],u:"1f3be",a:"0.6"},{n:["flying disc"],u:"1f94f",a:"11.0"},{n:["bowling"],u:"1f3b3",a:"0.6"},{n:["cricket bat and ball"],u:"1f3cf",a:"1.0"},{n:["field hockey stick and ball"],u:"1f3d1",a:"1.0"},{n:["ice hockey stick and puck"],u:"1f3d2",a:"1.0"},{n:["lacrosse","lacrosse stick and ball"],u:"1f94d",a:"11.0"},{n:["table tennis paddle and ball"],u:"1f3d3",a:"1.0"},{n:["badminton racquet and shuttlecock"],u:"1f3f8",a:"1.0"},{n:["boxing glove"],u:"1f94a",a:"3.0"},{n:["martial arts uniform"],u:"1f94b",a:"3.0"},{n:["goal net"],u:"1f945",a:"3.0"},{n:["golf","flag in hole"],u:"26f3",a:"0.6"},{n:["ice skate"],u:"26f8-fe0f",a:"0.7"},{n:["fishing pole and fish"],u:"1f3a3",a:"0.6"},{n:["diving mask"],u:"1f93f",a:"12.0"},{n:["running shirt with sash"],u:"1f3bd",a:"0.6"},{n:["ski","ski and ski boot"],u:"1f3bf",a:"0.6"},{n:["sled"],u:"1f6f7",a:"5.0"},{n:["curling stone"],u:"1f94c",a:"5.0"},{n:["dart","direct hit"],u:"1f3af",a:"0.6"},{n:["yo-yo"],u:"1fa80",a:"12.0"},{n:["kite"],u:"1fa81",a:"12.0"},{n:["gun","pistol"],u:"1f52b",a:"0.6"},{n:["8ball","billiards"],u:"1f3b1",a:"0.6"},{n:["crystal ball"],u:"1f52e",a:"0.6"},{n:["magic wand"],u:"1fa84",a:"13.0"},{n:["video game"],u:"1f3ae",a:"0.6"},{n:["joystick"],u:"1f579-fe0f",a:"0.7"},{n:["slot machine"],u:"1f3b0",a:"0.6"},{n:["game die"],u:"1f3b2",a:"0.6"},{n:["jigsaw","jigsaw puzzle piece"],u:"1f9e9",a:"11.0"},{n:["teddy bear"],u:"1f9f8",a:"11.0"},{n:["pinata"],u:"1fa85",a:"13.0"},{n:["mirror ball"],u:"1faa9",a:"14.0"},{n:["nesting dolls"],u:"1fa86",a:"13.0"},{n:["spades","black spade suit"],u:"2660-fe0f",a:"0.6"},{n:["hearts","black heart suit"],u:"2665-fe0f",a:"0.6"},{n:["diamonds","black diamond suit"],u:"2666-fe0f",a:"0.6"},{n:["clubs","black club suit"],u:"2663-fe0f",a:"0.6"},{n:["chess pawn"],u:"265f-fe0f",a:"11.0"},{n:["black joker","playing card black joker"],u:"1f0cf",a:"0.6"},{n:["mahjong","mahjong tile red dragon"],u:"1f004",a:"0.6"},{n:["flower playing cards"],u:"1f3b4",a:"0.6"},{n:["performing arts"],u:"1f3ad",a:"0.6"},{n:["framed picture","frame with picture"],u:"1f5bc-fe0f",a:"0.7"},{n:["art","artist palette"],u:"1f3a8",a:"0.6"},{n:["thread","spool of thread"],u:"1f9f5",a:"11.0"},{n:["sewing needle"],u:"1faa1",a:"13.0"},{n:["yarn","ball of yarn"],u:"1f9f6",a:"11.0"},{n:["knot"],u:"1faa2",a:"13.0"}],WLe=[{n:["eyeglasses"],u:"1f453",a:"0.6"},{n:["sunglasses","dark sunglasses"],u:"1f576-fe0f",a:"0.7"},{n:["goggles"],u:"1f97d",a:"11.0"},{n:["lab coat"],u:"1f97c",a:"11.0"},{n:["safety vest"],u:"1f9ba",a:"12.0"},{n:["necktie"],u:"1f454",a:"0.6"},{n:["shirt","tshirt","t-shirt"],u:"1f455",a:"0.6"},{n:["jeans"],u:"1f456",a:"0.6"},{n:["scarf"],u:"1f9e3",a:"5.0"},{n:["gloves"],u:"1f9e4",a:"5.0"},{n:["coat"],u:"1f9e5",a:"5.0"},{n:["socks"],u:"1f9e6",a:"5.0"},{n:["dress"],u:"1f457",a:"0.6"},{n:["kimono"],u:"1f458",a:"0.6"},{n:["sari"],u:"1f97b",a:"12.0"},{n:["one-piece swimsuit"],u:"1fa71",a:"12.0"},{n:["briefs"],u:"1fa72",a:"12.0"},{n:["shorts"],u:"1fa73",a:"12.0"},{n:["bikini"],u:"1f459",a:"0.6"},{n:["womans clothes"],u:"1f45a",a:"0.6"},{n:["folding hand fan"],u:"1faad",a:"15.0"},{n:["purse"],u:"1f45b",a:"0.6"},{n:["handbag"],u:"1f45c",a:"0.6"},{n:["pouch"],u:"1f45d",a:"0.6"},{n:["shopping bags"],u:"1f6cd-fe0f",a:"0.7"},{n:["school satchel"],u:"1f392",a:"0.6"},{n:["thong sandal"],u:"1fa74",a:"13.0"},{n:["shoe","mans shoe"],u:"1f45e",a:"0.6"},{n:["athletic shoe"],u:"1f45f",a:"0.6"},{n:["hiking boot"],u:"1f97e",a:"11.0"},{n:["flat shoe","womans flat shoe"],u:"1f97f",a:"11.0"},{n:["high heel","high-heeled shoe"],u:"1f460",a:"0.6"},{n:["sandal","womans sandal"],u:"1f461",a:"0.6"},{n:["ballet shoes"],u:"1fa70",a:"12.0"},{n:["boot","womans boots"],u:"1f462",a:"0.6"},{n:["hair pick"],u:"1faae",a:"15.0"},{n:["crown"],u:"1f451",a:"0.6"},{n:["womans hat"],u:"1f452",a:"0.6"},{n:["tophat","top hat"],u:"1f3a9",a:"0.6"},{n:["mortar board","graduation cap"],u:"1f393",a:"0.6"},{n:["billed cap"],u:"1f9e2",a:"5.0"},{n:["military helmet"],u:"1fa96",a:"13.0"},{n:["rescue workers helmet","helmet with white cross"],u:"26d1-fe0f",a:"0.7"},{n:["prayer beads"],u:"1f4ff",a:"1.0"},{n:["lipstick"],u:"1f484",a:"0.6"},{n:["ring"],u:"1f48d",a:"0.6"},{n:["gem","gem stone"],u:"1f48e",a:"0.6"},{n:["mute","speaker with cancellation stroke"],u:"1f507",a:"1.0"},{n:["speaker"],u:"1f508",a:"0.7"},{n:["sound","speaker with one sound wave"],u:"1f509",a:"1.0"},{n:["loud sound","speaker with three sound waves"],u:"1f50a",a:"0.6"},{n:["loudspeaker","public address loudspeaker"],u:"1f4e2",a:"0.6"},{n:["mega","cheering megaphone"],u:"1f4e3",a:"0.6"},{n:["postal horn"],u:"1f4ef",a:"1.0"},{n:["bell"],u:"1f514",a:"0.6"},{n:["no bell","bell with cancellation stroke"],u:"1f515",a:"1.0"},{n:["musical score"],u:"1f3bc",a:"0.6"},{n:["musical note"],u:"1f3b5",a:"0.6"},{n:["notes","multiple musical notes"],u:"1f3b6",a:"0.6"},{n:["studio microphone"],u:"1f399-fe0f",a:"0.7"},{n:["level slider"],u:"1f39a-fe0f",a:"0.7"},{n:["control knobs"],u:"1f39b-fe0f",a:"0.7"},{n:["microphone"],u:"1f3a4",a:"0.6"},{n:["headphone","headphones"],u:"1f3a7",a:"0.6"},{n:["radio"],u:"1f4fb",a:"0.6"},{n:["saxophone"],u:"1f3b7",a:"0.6"},{n:["accordion"],u:"1fa97",a:"13.0"},{n:["guitar"],u:"1f3b8",a:"0.6"},{n:["musical keyboard"],u:"1f3b9",a:"0.6"},{n:["trumpet"],u:"1f3ba",a:"0.6"},{n:["violin"],u:"1f3bb",a:"0.6"},{n:["banjo"],u:"1fa95",a:"12.0"},{n:["drum with drumsticks"],u:"1f941",a:"3.0"},{n:["long drum"],u:"1fa98",a:"13.0"},{n:["maracas"],u:"1fa87",a:"15.0"},{n:["flute"],u:"1fa88",a:"15.0"},{n:["iphone","mobile phone"],u:"1f4f1",a:"0.6"},{n:["calling","mobile phone with rightwards arrow at left"],u:"1f4f2",a:"0.6"},{n:["phone","telephone","black telephone"],u:"260e-fe0f",a:"0.6"},{n:["telephone receiver"],u:"1f4de",a:"0.6"},{n:["pager"],u:"1f4df",a:"0.6"},{n:["fax","fax machine"],u:"1f4e0",a:"0.6"},{n:["battery"],u:"1f50b",a:"0.6"},{n:["low battery"],u:"1faab",a:"14.0"},{n:["electric plug"],u:"1f50c",a:"0.6"},{n:["computer","personal computer"],u:"1f4bb",a:"0.6"},{n:["desktop computer"],u:"1f5a5-fe0f",a:"0.7"},{n:["printer"],u:"1f5a8-fe0f",a:"0.7"},{n:["keyboard"],u:"2328-fe0f",a:"1.0"},{n:["computer mouse","three button mouse"],u:"1f5b1-fe0f",a:"0.7"},{n:["trackball"],u:"1f5b2-fe0f",a:"0.7"},{n:["minidisc"],u:"1f4bd",a:"0.6"},{n:["floppy disk"],u:"1f4be",a:"0.6"},{n:["cd","optical disc"],u:"1f4bf",a:"0.6"},{n:["dvd"],u:"1f4c0",a:"0.6"},{n:["abacus"],u:"1f9ee",a:"11.0"},{n:["movie camera"],u:"1f3a5",a:"0.6"},{n:["film frames"],u:"1f39e-fe0f",a:"0.7"},{n:["film projector"],u:"1f4fd-fe0f",a:"0.7"},{n:["clapper","clapper board"],u:"1f3ac",a:"0.6"},{n:["tv","television"],u:"1f4fa",a:"0.6"},{n:["camera"],u:"1f4f7",a:"0.6"},{n:["camera with flash"],u:"1f4f8",a:"1.0"},{n:["video camera"],u:"1f4f9",a:"0.6"},{n:["vhs","videocassette"],u:"1f4fc",a:"0.6"},{n:["mag","left-pointing magnifying glass"],u:"1f50d",a:"0.6"},{n:["mag right","right-pointing magnifying glass"],u:"1f50e",a:"0.6"},{n:["candle"],u:"1f56f-fe0f",a:"0.7"},{n:["bulb","electric light bulb"],u:"1f4a1",a:"0.6"},{n:["flashlight","electric torch"],u:"1f526",a:"0.6"},{n:["lantern","izakaya lantern"],u:"1f3ee",a:"0.6"},{n:["diya lamp"],u:"1fa94",a:"12.0"},{n:["notebook with decorative cover"],u:"1f4d4",a:"0.6"},{n:["closed book"],u:"1f4d5",a:"0.6"},{n:["book","open book"],u:"1f4d6",a:"0.6"},{n:["green book"],u:"1f4d7",a:"0.6"},{n:["blue book"],u:"1f4d8",a:"0.6"},{n:["orange book"],u:"1f4d9",a:"0.6"},{n:["books"],u:"1f4da",a:"0.6"},{n:["notebook"],u:"1f4d3",a:"0.6"},{n:["ledger"],u:"1f4d2",a:"0.6"},{n:["page with curl"],u:"1f4c3",a:"0.6"},{n:["scroll"],u:"1f4dc",a:"0.6"},{n:["page facing up"],u:"1f4c4",a:"0.6"},{n:["newspaper"],u:"1f4f0",a:"0.6"},{n:["rolled-up newspaper","rolled up newspaper"],u:"1f5de-fe0f",a:"0.7"},{n:["bookmark tabs"],u:"1f4d1",a:"0.6"},{n:["bookmark"],u:"1f516",a:"0.6"},{n:["label"],u:"1f3f7-fe0f",a:"0.7"},{n:["moneybag","money bag"],u:"1f4b0",a:"0.6"},{n:["coin"],u:"1fa99",a:"13.0"},{n:["yen","banknote with yen sign"],u:"1f4b4",a:"0.6"},{n:["dollar","banknote with dollar sign"],u:"1f4b5",a:"0.6"},{n:["euro","banknote with euro sign"],u:"1f4b6",a:"1.0"},{n:["pound","banknote with pound sign"],u:"1f4b7",a:"1.0"},{n:["money with wings"],u:"1f4b8",a:"0.6"},{n:["credit card"],u:"1f4b3",a:"0.6"},{n:["receipt"],u:"1f9fe",a:"11.0"},{n:["chart","chart with upwards trend and yen sign"],u:"1f4b9",a:"0.6"},{n:["email","envelope"],u:"2709-fe0f",a:"0.6"},{n:["e-mail","e-mail symbol"],u:"1f4e7",a:"0.6"},{n:["incoming envelope"],u:"1f4e8",a:"0.6"},{n:["envelope with arrow","envelope with downwards arrow above"],u:"1f4e9",a:"0.6"},{n:["outbox tray"],u:"1f4e4",a:"0.6"},{n:["inbox tray"],u:"1f4e5",a:"0.6"},{n:["package"],u:"1f4e6",a:"0.6"},{n:["mailbox","closed mailbox with raised flag"],u:"1f4eb",a:"0.6"},{n:["mailbox closed","closed mailbox with lowered flag"],u:"1f4ea",a:"0.6"},{n:["mailbox with mail","open mailbox with raised flag"],u:"1f4ec",a:"0.7"},{n:["mailbox with no mail","open mailbox with lowered flag"],u:"1f4ed",a:"0.7"},{n:["postbox"],u:"1f4ee",a:"0.6"},{n:["ballot box with ballot"],u:"1f5f3-fe0f",a:"0.7"},{n:["pencil","pencil2"],u:"270f-fe0f",a:"0.6"},{n:["black nib"],u:"2712-fe0f",a:"0.6"},{n:["fountain pen","lower left fountain pen"],u:"1f58b-fe0f",a:"0.7"},{n:["pen","lower left ballpoint pen"],u:"1f58a-fe0f",a:"0.7"},{n:["paintbrush","lower left paintbrush"],u:"1f58c-fe0f",a:"0.7"},{n:["crayon","lower left crayon"],u:"1f58d-fe0f",a:"0.7"},{n:["memo","pencil"],u:"1f4dd",a:"0.6"},{n:["briefcase"],u:"1f4bc",a:"0.6"},{n:["file folder"],u:"1f4c1",a:"0.6"},{n:["open file folder"],u:"1f4c2",a:"0.6"},{n:["card index dividers"],u:"1f5c2-fe0f",a:"0.7"},{n:["date","calendar"],u:"1f4c5",a:"0.6"},{n:["calendar","tear-off calendar"],u:"1f4c6",a:"0.6"},{n:["spiral notepad","spiral note pad"],u:"1f5d2-fe0f",a:"0.7"},{n:["spiral calendar","spiral calendar pad"],u:"1f5d3-fe0f",a:"0.7"},{n:["card index"],u:"1f4c7",a:"0.6"},{n:["chart with upwards trend"],u:"1f4c8",a:"0.6"},{n:["chart with downwards trend"],u:"1f4c9",a:"0.6"},{n:["bar chart"],u:"1f4ca",a:"0.6"},{n:["clipboard"],u:"1f4cb",a:"0.6"},{n:["pushpin"],u:"1f4cc",a:"0.6"},{n:["round pushpin"],u:"1f4cd",a:"0.6"},{n:["paperclip"],u:"1f4ce",a:"0.6"},{n:["linked paperclips"],u:"1f587-fe0f",a:"0.7"},{n:["straight ruler"],u:"1f4cf",a:"0.6"},{n:["triangular ruler"],u:"1f4d0",a:"0.6"},{n:["scissors","black scissors"],u:"2702-fe0f",a:"0.6"},{n:["card file box"],u:"1f5c3-fe0f",a:"0.7"},{n:["file cabinet"],u:"1f5c4-fe0f",a:"0.7"},{n:["wastebasket"],u:"1f5d1-fe0f",a:"0.7"},{n:["lock"],u:"1f512",a:"0.6"},{n:["unlock","open lock"],u:"1f513",a:"0.6"},{n:["lock with ink pen"],u:"1f50f",a:"0.6"},{n:["closed lock with key"],u:"1f510",a:"0.6"},{n:["key"],u:"1f511",a:"0.6"},{n:["old key"],u:"1f5dd-fe0f",a:"0.7"},{n:["hammer"],u:"1f528",a:"0.6"},{n:["axe"],u:"1fa93",a:"12.0"},{n:["pick"],u:"26cf-fe0f",a:"0.7"},{n:["hammer and pick"],u:"2692-fe0f",a:"1.0"},{n:["hammer and wrench"],u:"1f6e0-fe0f",a:"0.7"},{n:["dagger","dagger knife"],u:"1f5e1-fe0f",a:"0.7"},{n:["crossed swords"],u:"2694-fe0f",a:"1.0"},{n:["bomb"],u:"1f4a3",a:"0.6"},{n:["boomerang"],u:"1fa83",a:"13.0"},{n:["bow and arrow"],u:"1f3f9",a:"1.0"},{n:["shield"],u:"1f6e1-fe0f",a:"0.7"},{n:["carpentry saw"],u:"1fa9a",a:"13.0"},{n:["wrench"],u:"1f527",a:"0.6"},{n:["screwdriver"],u:"1fa9b",a:"13.0"},{n:["nut and bolt"],u:"1f529",a:"0.6"},{n:["gear"],u:"2699-fe0f",a:"1.0"},{n:["clamp","compression"],u:"1f5dc-fe0f",a:"0.7"},{n:["scales","balance scale"],u:"2696-fe0f",a:"1.0"},{n:["probing cane"],u:"1f9af",a:"12.0"},{n:["link","link symbol"],u:"1f517",a:"0.6"},{n:["broken chain"],u:"26d3-fe0f-200d-1f4a5",a:"15.1"},{n:["chains"],u:"26d3-fe0f",a:"0.7"},{n:["hook"],u:"1fa9d",a:"13.0"},{n:["toolbox"],u:"1f9f0",a:"11.0"},{n:["magnet"],u:"1f9f2",a:"11.0"},{n:["ladder"],u:"1fa9c",a:"13.0"},{n:["alembic"],u:"2697-fe0f",a:"1.0"},{n:["test tube"],u:"1f9ea",a:"11.0"},{n:["petri dish"],u:"1f9eb",a:"11.0"},{n:["dna","dna double helix"],u:"1f9ec",a:"11.0"},{n:["microscope"],u:"1f52c",a:"1.0"},{n:["telescope"],u:"1f52d",a:"1.0"},{n:["satellite antenna"],u:"1f4e1",a:"0.6"},{n:["syringe"],u:"1f489",a:"0.6"},{n:["drop of blood"],u:"1fa78",a:"12.0"},{n:["pill"],u:"1f48a",a:"0.6"},{n:["adhesive bandage"],u:"1fa79",a:"12.0"},{n:["crutch"],u:"1fa7c",a:"14.0"},{n:["stethoscope"],u:"1fa7a",a:"12.0"},{n:["x-ray"],u:"1fa7b",a:"14.0"},{n:["door"],u:"1f6aa",a:"0.6"},{n:["elevator"],u:"1f6d7",a:"13.0"},{n:["mirror"],u:"1fa9e",a:"13.0"},{n:["window"],u:"1fa9f",a:"13.0"},{n:["bed"],u:"1f6cf-fe0f",a:"0.7"},{n:["couch and lamp"],u:"1f6cb-fe0f",a:"0.7"},{n:["chair"],u:"1fa91",a:"12.0"},{n:["toilet"],u:"1f6bd",a:"0.6"},{n:["plunger"],u:"1faa0",a:"13.0"},{n:["shower"],u:"1f6bf",a:"1.0"},{n:["bathtub"],u:"1f6c1",a:"1.0"},{n:["mouse trap"],u:"1faa4",a:"13.0"},{n:["razor"],u:"1fa92",a:"12.0"},{n:["lotion bottle"],u:"1f9f4",a:"11.0"},{n:["safety pin"],u:"1f9f7",a:"11.0"},{n:["broom"],u:"1f9f9",a:"11.0"},{n:["basket"],u:"1f9fa",a:"11.0"},{n:["roll of paper"],u:"1f9fb",a:"11.0"},{n:["bucket"],u:"1faa3",a:"13.0"},{n:["soap","bar of soap"],u:"1f9fc",a:"11.0"},{n:["bubbles"],u:"1fae7",a:"14.0"},{n:["toothbrush"],u:"1faa5",a:"13.0"},{n:["sponge"],u:"1f9fd",a:"11.0"},{n:["fire extinguisher"],u:"1f9ef",a:"11.0"},{n:["shopping trolley"],u:"1f6d2",a:"3.0"},{n:["smoking","smoking symbol"],u:"1f6ac",a:"0.6"},{n:["coffin"],u:"26b0-fe0f",a:"1.0"},{n:["headstone"],u:"1faa6",a:"13.0"},{n:["funeral urn"],u:"26b1-fe0f",a:"1.0"},{n:["nazar amulet"],u:"1f9ff",a:"11.0"},{n:["hamsa"],u:"1faac",a:"14.0"},{n:["moyai"],u:"1f5ff",a:"0.6"},{n:["placard"],u:"1faa7",a:"13.0"},{n:["identification card"],u:"1faaa",a:"14.0"}],HLe=[{n:["atm","automated teller machine"],u:"1f3e7",a:"0.6"},{n:["put litter in its place","put litter in its place symbol"],u:"1f6ae",a:"1.0"},{n:["potable water","potable water symbol"],u:"1f6b0",a:"1.0"},{n:["wheelchair","wheelchair symbol"],u:"267f",a:"0.6"},{n:["mens","mens symbol"],u:"1f6b9",a:"0.6"},{n:["womens","womens symbol"],u:"1f6ba",a:"0.6"},{n:["restroom"],u:"1f6bb",a:"0.6"},{n:["baby symbol"],u:"1f6bc",a:"0.6"},{n:["wc","water closet"],u:"1f6be",a:"0.6"},{n:["passport control"],u:"1f6c2",a:"1.0"},{n:["customs"],u:"1f6c3",a:"1.0"},{n:["baggage claim"],u:"1f6c4",a:"1.0"},{n:["left luggage"],u:"1f6c5",a:"1.0"},{n:["warning","warning sign"],u:"26a0-fe0f",a:"0.6"},{n:["children crossing"],u:"1f6b8",a:"1.0"},{n:["no entry"],u:"26d4",a:"0.6"},{n:["no entry sign"],u:"1f6ab",a:"0.6"},{n:["no bicycles"],u:"1f6b3",a:"1.0"},{n:["no smoking","no smoking symbol"],u:"1f6ad",a:"0.6"},{n:["do not litter","do not litter symbol"],u:"1f6af",a:"1.0"},{n:["non-potable water","non-potable water symbol"],u:"1f6b1",a:"1.0"},{n:["no pedestrians"],u:"1f6b7",a:"1.0"},{n:["no mobile phones"],u:"1f4f5",a:"1.0"},{n:["underage","no one under eighteen symbol"],u:"1f51e",a:"0.6"},{n:["radioactive","radioactive sign"],u:"2622-fe0f",a:"1.0"},{n:["biohazard","biohazard sign"],u:"2623-fe0f",a:"1.0"},{n:["arrow up","upwards black arrow"],u:"2b06-fe0f",a:"0.6"},{n:["north east arrow","arrow upper right"],u:"2197-fe0f",a:"0.6"},{n:["arrow right","black rightwards arrow"],u:"27a1-fe0f",a:"0.6"},{n:["south east arrow","arrow lower right"],u:"2198-fe0f",a:"0.6"},{n:["arrow down","downwards black arrow"],u:"2b07-fe0f",a:"0.6"},{n:["south west arrow","arrow lower left"],u:"2199-fe0f",a:"0.6"},{n:["arrow left","leftwards black arrow"],u:"2b05-fe0f",a:"0.6"},{n:["north west arrow","arrow upper left"],u:"2196-fe0f",a:"0.6"},{n:["up down arrow","arrow up down"],u:"2195-fe0f",a:"0.6"},{n:["left right arrow"],u:"2194-fe0f",a:"0.6"},{n:["leftwards arrow with hook"],u:"21a9-fe0f",a:"0.6"},{n:["arrow right hook","rightwards arrow with hook"],u:"21aa-fe0f",a:"0.6"},{n:["arrow heading up","arrow pointing rightwards then curving upwards"],u:"2934-fe0f",a:"0.6"},{n:["arrow heading down","arrow pointing rightwards then curving downwards"],u:"2935-fe0f",a:"0.6"},{n:["arrows clockwise","clockwise downwards and upwards open circle arrows"],u:"1f503",a:"0.6"},{n:["arrows counterclockwise","anticlockwise downwards and upwards open circle arrows"],u:"1f504",a:"1.0"},{n:["back","back with leftwards arrow above"],u:"1f519",a:"0.6"},{n:["end","end with leftwards arrow above"],u:"1f51a",a:"0.6"},{n:["on","on with exclamation mark with left right arrow above"],u:"1f51b",a:"0.6"},{n:["soon","soon with rightwards arrow above"],u:"1f51c",a:"0.6"},{n:["top","top with upwards arrow above"],u:"1f51d",a:"0.6"},{n:["place of worship"],u:"1f6d0",a:"1.0"},{n:["atom symbol"],u:"269b-fe0f",a:"1.0"},{n:["om","om symbol"],u:"1f549-fe0f",a:"0.7"},{n:["star of david"],u:"2721-fe0f",a:"0.7"},{n:["wheel of dharma"],u:"2638-fe0f",a:"0.7"},{n:["yin yang"],u:"262f-fe0f",a:"0.7"},{n:["latin cross"],u:"271d-fe0f",a:"0.7"},{n:["orthodox cross"],u:"2626-fe0f",a:"1.0"},{n:["star and crescent"],u:"262a-fe0f",a:"0.7"},{n:["peace symbol"],u:"262e-fe0f",a:"1.0"},{n:["menorah with nine branches"],u:"1f54e",a:"1.0"},{n:["six pointed star","six pointed star with middle dot"],u:"1f52f",a:"0.6"},{n:["khanda"],u:"1faaf",a:"15.0"},{n:["aries"],u:"2648",a:"0.6"},{n:["taurus"],u:"2649",a:"0.6"},{n:["gemini"],u:"264a",a:"0.6"},{n:["cancer"],u:"264b",a:"0.6"},{n:["leo"],u:"264c",a:"0.6"},{n:["virgo"],u:"264d",a:"0.6"},{n:["libra"],u:"264e",a:"0.6"},{n:["scorpius"],u:"264f",a:"0.6"},{n:["sagittarius"],u:"2650",a:"0.6"},{n:["capricorn"],u:"2651",a:"0.6"},{n:["aquarius"],u:"2652",a:"0.6"},{n:["pisces"],u:"2653",a:"0.6"},{n:["ophiuchus"],u:"26ce",a:"0.6"},{n:["twisted rightwards arrows"],u:"1f500",a:"1.0"},{n:["repeat","clockwise rightwards and leftwards open circle arrows"],u:"1f501",a:"1.0"},{n:["repeat one","clockwise rightwards and leftwards open circle arrows with circled one overlay"],u:"1f502",a:"1.0"},{n:["arrow forward","black right-pointing triangle"],u:"25b6-fe0f",a:"0.6"},{n:["fast forward","black right-pointing double triangle"],u:"23e9",a:"0.6"},{n:["next track button","black right pointing double triangle with vertical bar"],u:"23ed-fe0f",a:"0.7"},{n:["play or pause button","black right pointing triangle with double vertical bar"],u:"23ef-fe0f",a:"1.0"},{n:["arrow backward","black left-pointing triangle"],u:"25c0-fe0f",a:"0.6"},{n:["rewind","black left-pointing double triangle"],u:"23ea",a:"0.6"},{n:["last track button","black left pointing double triangle with vertical bar"],u:"23ee-fe0f",a:"0.7"},{n:["arrow up small","up-pointing small red triangle"],u:"1f53c",a:"0.6"},{n:["arrow double up","black up-pointing double triangle"],u:"23eb",a:"0.6"},{n:["arrow down small","down-pointing small red triangle"],u:"1f53d",a:"0.6"},{n:["arrow double down","black down-pointing double triangle"],u:"23ec",a:"0.6"},{n:["pause button","double vertical bar"],u:"23f8-fe0f",a:"0.7"},{n:["stop button","black square for stop"],u:"23f9-fe0f",a:"0.7"},{n:["record button","black circle for record"],u:"23fa-fe0f",a:"0.7"},{n:["eject","eject button"],u:"23cf-fe0f",a:"1.0"},{n:["cinema"],u:"1f3a6",a:"0.6"},{n:["low brightness","low brightness symbol"],u:"1f505",a:"1.0"},{n:["high brightness","high brightness symbol"],u:"1f506",a:"1.0"},{n:["signal strength","antenna with bars"],u:"1f4f6",a:"0.6"},{n:["wireless"],u:"1f6dc",a:"15.0"},{n:["vibration mode"],u:"1f4f3",a:"0.6"},{n:["mobile phone off"],u:"1f4f4",a:"0.6"},{n:["female sign"],u:"2640-fe0f",a:"4.0"},{n:["male sign"],u:"2642-fe0f",a:"4.0"},{n:["transgender symbol"],u:"26a7-fe0f",a:"13.0"},{n:["heavy multiplication x"],u:"2716-fe0f",a:"0.6"},{n:["heavy plus sign"],u:"2795",a:"0.6"},{n:["heavy minus sign"],u:"2796",a:"0.6"},{n:["heavy division sign"],u:"2797",a:"0.6"},{n:["heavy equals sign"],u:"1f7f0",a:"14.0"},{n:["infinity"],u:"267e-fe0f",a:"11.0"},{n:["bangbang","double exclamation mark"],u:"203c-fe0f",a:"0.6"},{n:["interrobang","exclamation question mark"],u:"2049-fe0f",a:"0.6"},{n:["question","black question mark ornament"],u:"2753",a:"0.6"},{n:["grey question","white question mark ornament"],u:"2754",a:"0.6"},{n:["grey exclamation","white exclamation mark ornament"],u:"2755",a:"0.6"},{n:["exclamation","heavy exclamation mark","heavy exclamation mark symbol"],u:"2757",a:"0.6"},{n:["wavy dash"],u:"3030-fe0f",a:"0.6"},{n:["currency exchange"],u:"1f4b1",a:"0.6"},{n:["heavy dollar sign"],u:"1f4b2",a:"0.6"},{n:["medical symbol","staff of aesculapius"],u:"2695-fe0f",a:"4.0"},{n:["recycle","black universal recycling symbol"],u:"267b-fe0f",a:"0.6"},{n:["fleur-de-lis","fleur de lis"],u:"269c-fe0f",a:"1.0"},{n:["trident","trident emblem"],u:"1f531",a:"0.6"},{n:["name badge"],u:"1f4db",a:"0.6"},{n:["beginner","japanese symbol for beginner"],u:"1f530",a:"0.6"},{n:["o","heavy large circle"],u:"2b55",a:"0.6"},{n:["white check mark","white heavy check mark"],u:"2705",a:"0.6"},{n:["ballot box with check"],u:"2611-fe0f",a:"0.6"},{n:["heavy check mark"],u:"2714-fe0f",a:"0.6"},{n:["x","cross mark"],u:"274c",a:"0.6"},{n:["negative squared cross mark"],u:"274e",a:"0.6"},{n:["curly loop"],u:"27b0",a:"0.6"},{n:["loop","double curly loop"],u:"27bf",a:"1.0"},{n:["part alternation mark"],u:"303d-fe0f",a:"0.6"},{n:["eight spoked asterisk"],u:"2733-fe0f",a:"0.6"},{n:["eight pointed black star"],u:"2734-fe0f",a:"0.6"},{n:["sparkle"],u:"2747-fe0f",a:"0.6"},{n:["copyright","copyright sign"],u:"00a9-fe0f",a:"0.6"},{n:["registered","registered sign"],u:"00ae-fe0f",a:"0.6"},{n:["tm","trade mark sign"],u:"2122-fe0f",a:"0.6"},{n:["hash","hash key"],u:"0023-fe0f-20e3",a:"0.6"},{n:["keycap: *","keycap star"],u:"002a-fe0f-20e3",a:"2.0"},{n:["zero","keycap 0"],u:"0030-fe0f-20e3",a:"0.6"},{n:["one","keycap 1"],u:"0031-fe0f-20e3",a:"0.6"},{n:["two","keycap 2"],u:"0032-fe0f-20e3",a:"0.6"},{n:["three","keycap 3"],u:"0033-fe0f-20e3",a:"0.6"},{n:["four","keycap 4"],u:"0034-fe0f-20e3",a:"0.6"},{n:["five","keycap 5"],u:"0035-fe0f-20e3",a:"0.6"},{n:["six","keycap 6"],u:"0036-fe0f-20e3",a:"0.6"},{n:["seven","keycap 7"],u:"0037-fe0f-20e3",a:"0.6"},{n:["eight","keycap 8"],u:"0038-fe0f-20e3",a:"0.6"},{n:["nine","keycap 9"],u:"0039-fe0f-20e3",a:"0.6"},{n:["keycap ten"],u:"1f51f",a:"0.6"},{n:["capital abcd","input symbol for latin capital letters"],u:"1f520",a:"0.6"},{n:["abcd","input symbol for latin small letters"],u:"1f521",a:"0.6"},{n:["1234","input symbol for numbers"],u:"1f522",a:"0.6"},{n:["symbols","input symbol for symbols"],u:"1f523",a:"0.6"},{n:["abc","input symbol for latin letters"],u:"1f524",a:"0.6"},{n:["a","negative squared latin capital letter a"],u:"1f170-fe0f",a:"0.6"},{n:["ab","negative squared ab"],u:"1f18e",a:"0.6"},{n:["b","negative squared latin capital letter b"],u:"1f171-fe0f",a:"0.6"},{n:["cl","squared cl"],u:"1f191",a:"0.6"},{n:["cool","squared cool"],u:"1f192",a:"0.6"},{n:["free","squared free"],u:"1f193",a:"0.6"},{n:["information source"],u:"2139-fe0f",a:"0.6"},{n:["id","squared id"],u:"1f194",a:"0.6"},{n:["m","circled latin capital letter m"],u:"24c2-fe0f",a:"0.6"},{n:["new","squared new"],u:"1f195",a:"0.6"},{n:["ng","squared ng"],u:"1f196",a:"0.6"},{n:["o2","negative squared latin capital letter o"],u:"1f17e-fe0f",a:"0.6"},{n:["ok","squared ok"],u:"1f197",a:"0.6"},{n:["parking","negative squared latin capital letter p"],u:"1f17f-fe0f",a:"0.6"},{n:["sos","squared sos"],u:"1f198",a:"0.6"},{n:["up","squared up with exclamation mark"],u:"1f199",a:"0.6"},{n:["vs","squared vs"],u:"1f19a",a:"0.6"},{n:["koko","squared katakana koko"],u:"1f201",a:"0.6"},{n:["sa","squared katakana sa"],u:"1f202-fe0f",a:"0.6"},{n:["u6708","squared cjk unified ideograph-6708"],u:"1f237-fe0f",a:"0.6"},{n:["u6709","squared cjk unified ideograph-6709"],u:"1f236",a:"0.6"},{n:["u6307","squared cjk unified ideograph-6307"],u:"1f22f",a:"0.6"},{n:["ideograph advantage","circled ideograph advantage"],u:"1f250",a:"0.6"},{n:["u5272","squared cjk unified ideograph-5272"],u:"1f239",a:"0.6"},{n:["u7121","squared cjk unified ideograph-7121"],u:"1f21a",a:"0.6"},{n:["u7981","squared cjk unified ideograph-7981"],u:"1f232",a:"0.6"},{n:["accept","circled ideograph accept"],u:"1f251",a:"0.6"},{n:["u7533","squared cjk unified ideograph-7533"],u:"1f238",a:"0.6"},{n:["u5408","squared cjk unified ideograph-5408"],u:"1f234",a:"0.6"},{n:["u7a7a","squared cjk unified ideograph-7a7a"],u:"1f233",a:"0.6"},{n:["congratulations","circled ideograph congratulation"],u:"3297-fe0f",a:"0.6"},{n:["secret","circled ideograph secret"],u:"3299-fe0f",a:"0.6"},{n:["u55b6","squared cjk unified ideograph-55b6"],u:"1f23a",a:"0.6"},{n:["u6e80","squared cjk unified ideograph-6e80"],u:"1f235",a:"0.6"},{n:["red circle","large red circle"],u:"1f534",a:"0.6"},{n:["large orange circle"],u:"1f7e0",a:"12.0"},{n:["large yellow circle"],u:"1f7e1",a:"12.0"},{n:["large green circle"],u:"1f7e2",a:"12.0"},{n:["large blue circle"],u:"1f535",a:"0.6"},{n:["large purple circle"],u:"1f7e3",a:"12.0"},{n:["large brown circle"],u:"1f7e4",a:"12.0"},{n:["black circle","medium black circle"],u:"26ab",a:"0.6"},{n:["white circle","medium white circle"],u:"26aa",a:"0.6"},{n:["large red square"],u:"1f7e5",a:"12.0"},{n:["large orange square"],u:"1f7e7",a:"12.0"},{n:["large yellow square"],u:"1f7e8",a:"12.0"},{n:["large green square"],u:"1f7e9",a:"12.0"},{n:["large blue square"],u:"1f7e6",a:"12.0"},{n:["large purple square"],u:"1f7ea",a:"12.0"},{n:["large brown square"],u:"1f7eb",a:"12.0"},{n:["black large square"],u:"2b1b",a:"0.6"},{n:["white large square"],u:"2b1c",a:"0.6"},{n:["black medium square"],u:"25fc-fe0f",a:"0.6"},{n:["white medium square"],u:"25fb-fe0f",a:"0.6"},{n:["black medium small square"],u:"25fe",a:"0.6"},{n:["white medium small square"],u:"25fd",a:"0.6"},{n:["black small square"],u:"25aa-fe0f",a:"0.6"},{n:["white small square"],u:"25ab-fe0f",a:"0.6"},{n:["large orange diamond"],u:"1f536",a:"0.6"},{n:["large blue diamond"],u:"1f537",a:"0.6"},{n:["small orange diamond"],u:"1f538",a:"0.6"},{n:["small blue diamond"],u:"1f539",a:"0.6"},{n:["small red triangle","up-pointing red triangle"],u:"1f53a",a:"0.6"},{n:["small red triangle down","down-pointing red triangle"],u:"1f53b",a:"0.6"},{n:["diamond shape with a dot inside"],u:"1f4a0",a:"0.6"},{n:["radio button"],u:"1f518",a:"0.6"},{n:["white square button"],u:"1f533",a:"0.6"},{n:["black square button"],u:"1f532",a:"0.6"}],VLe=[{n:["chequered flag","checkered flag"],u:"1f3c1",a:"0.6"},{n:["triangular flag on post"],u:"1f6a9",a:"0.6"},{n:["crossed flags"],u:"1f38c",a:"0.6"},{n:["waving black flag"],u:"1f3f4",a:"1.0"},{n:["white flag","waving white flag"],u:"1f3f3-fe0f",a:"0.7"},{n:["rainbow flag","rainbow-flag"],u:"1f3f3-fe0f-200d-1f308",a:"4.0"},{n:["transgender flag"],u:"1f3f3-fe0f-200d-26a7-fe0f",a:"13.0"},{n:["pirate flag"],u:"1f3f4-200d-2620-fe0f",a:"11.0"},{n:["flag-ac","ascension island flag"],u:"1f1e6-1f1e8",a:"2.0"},{n:["flag-ad","andorra flag"],u:"1f1e6-1f1e9",a:"2.0"},{n:["flag-ae","united arab emirates flag"],u:"1f1e6-1f1ea",a:"2.0"},{n:["flag-af","afghanistan flag"],u:"1f1e6-1f1eb",a:"2.0"},{n:["flag-ag","antigua & barbuda flag"],u:"1f1e6-1f1ec",a:"2.0"},{n:["flag-ai","anguilla flag"],u:"1f1e6-1f1ee",a:"2.0"},{n:["flag-al","albania flag"],u:"1f1e6-1f1f1",a:"2.0"},{n:["flag-am","armenia flag"],u:"1f1e6-1f1f2",a:"2.0"},{n:["flag-ao","angola flag"],u:"1f1e6-1f1f4",a:"2.0"},{n:["flag-aq","antarctica flag"],u:"1f1e6-1f1f6",a:"2.0"},{n:["flag-ar","argentina flag"],u:"1f1e6-1f1f7",a:"2.0"},{n:["flag-as","american samoa flag"],u:"1f1e6-1f1f8",a:"2.0"},{n:["flag-at","austria flag"],u:"1f1e6-1f1f9",a:"2.0"},{n:["flag-au","australia flag"],u:"1f1e6-1f1fa",a:"2.0"},{n:["flag-aw","aruba flag"],u:"1f1e6-1f1fc",a:"2.0"},{n:["flag-ax","land islands flag"],u:"1f1e6-1f1fd",a:"2.0"},{n:["flag-az","azerbaijan flag"],u:"1f1e6-1f1ff",a:"2.0"},{n:["flag-ba","bosnia & herzegovina flag"],u:"1f1e7-1f1e6",a:"2.0"},{n:["flag-bb","barbados flag"],u:"1f1e7-1f1e7",a:"2.0"},{n:["flag-bd","bangladesh flag"],u:"1f1e7-1f1e9",a:"2.0"},{n:["flag-be","belgium flag"],u:"1f1e7-1f1ea",a:"2.0"},{n:["flag-bf","burkina faso flag"],u:"1f1e7-1f1eb",a:"2.0"},{n:["flag-bg","bulgaria flag"],u:"1f1e7-1f1ec",a:"2.0"},{n:["flag-bh","bahrain flag"],u:"1f1e7-1f1ed",a:"2.0"},{n:["flag-bi","burundi flag"],u:"1f1e7-1f1ee",a:"2.0"},{n:["flag-bj","benin flag"],u:"1f1e7-1f1ef",a:"2.0"},{n:["flag-bl","st. barthlemy flag"],u:"1f1e7-1f1f1",a:"2.0"},{n:["flag-bm","bermuda flag"],u:"1f1e7-1f1f2",a:"2.0"},{n:["flag-bn","brunei flag"],u:"1f1e7-1f1f3",a:"2.0"},{n:["flag-bo","bolivia flag"],u:"1f1e7-1f1f4",a:"2.0"},{n:["flag-bq","caribbean netherlands flag"],u:"1f1e7-1f1f6",a:"2.0"},{n:["flag-br","brazil flag"],u:"1f1e7-1f1f7",a:"2.0"},{n:["flag-bs","bahamas flag"],u:"1f1e7-1f1f8",a:"2.0"},{n:["flag-bt","bhutan flag"],u:"1f1e7-1f1f9",a:"2.0"},{n:["flag-bv","bouvet island flag"],u:"1f1e7-1f1fb",a:"2.0"},{n:["flag-bw","botswana flag"],u:"1f1e7-1f1fc",a:"2.0"},{n:["flag-by","belarus flag"],u:"1f1e7-1f1fe",a:"2.0"},{n:["flag-bz","belize flag"],u:"1f1e7-1f1ff",a:"2.0"},{n:["flag-ca","canada flag"],u:"1f1e8-1f1e6",a:"2.0"},{n:["flag-cc","cocos (keeling) islands flag"],u:"1f1e8-1f1e8",a:"2.0"},{n:["flag-cd","congo - kinshasa flag"],u:"1f1e8-1f1e9",a:"2.0"},{n:["flag-cf","central african republic flag"],u:"1f1e8-1f1eb",a:"2.0"},{n:["flag-cg","congo - brazzaville flag"],u:"1f1e8-1f1ec",a:"2.0"},{n:["flag-ch","switzerland flag"],u:"1f1e8-1f1ed",a:"2.0"},{n:["flag-ci","cte divoire flag"],u:"1f1e8-1f1ee",a:"2.0"},{n:["flag-ck","cook islands flag"],u:"1f1e8-1f1f0",a:"2.0"},{n:["flag-cl","chile flag"],u:"1f1e8-1f1f1",a:"2.0"},{n:["flag-cm","cameroon flag"],u:"1f1e8-1f1f2",a:"2.0"},{n:["cn","flag-cn","china flag"],u:"1f1e8-1f1f3",a:"0.6"},{n:["flag-co","colombia flag"],u:"1f1e8-1f1f4",a:"2.0"},{n:["flag-cp","clipperton island flag"],u:"1f1e8-1f1f5",a:"2.0"},{n:["flag-cr","costa rica flag"],u:"1f1e8-1f1f7",a:"2.0"},{n:["flag-cu","cuba flag"],u:"1f1e8-1f1fa",a:"2.0"},{n:["flag-cv","cape verde flag"],u:"1f1e8-1f1fb",a:"2.0"},{n:["flag-cw","curaao flag"],u:"1f1e8-1f1fc",a:"2.0"},{n:["flag-cx","christmas island flag"],u:"1f1e8-1f1fd",a:"2.0"},{n:["flag-cy","cyprus flag"],u:"1f1e8-1f1fe",a:"2.0"},{n:["flag-cz","czechia flag"],u:"1f1e8-1f1ff",a:"2.0"},{n:["de","flag-de","germany flag"],u:"1f1e9-1f1ea",a:"0.6"},{n:["flag-dg","diego garcia flag"],u:"1f1e9-1f1ec",a:"2.0"},{n:["flag-dj","djibouti flag"],u:"1f1e9-1f1ef",a:"2.0"},{n:["flag-dk","denmark flag"],u:"1f1e9-1f1f0",a:"2.0"},{n:["flag-dm","dominica flag"],u:"1f1e9-1f1f2",a:"2.0"},{n:["flag-do","dominican republic flag"],u:"1f1e9-1f1f4",a:"2.0"},{n:["flag-dz","algeria flag"],u:"1f1e9-1f1ff",a:"2.0"},{n:["flag-ea","ceuta & melilla flag"],u:"1f1ea-1f1e6",a:"2.0"},{n:["flag-ec","ecuador flag"],u:"1f1ea-1f1e8",a:"2.0"},{n:["flag-ee","estonia flag"],u:"1f1ea-1f1ea",a:"2.0"},{n:["flag-eg","egypt flag"],u:"1f1ea-1f1ec",a:"2.0"},{n:["flag-eh","western sahara flag"],u:"1f1ea-1f1ed",a:"2.0"},{n:["flag-er","eritrea flag"],u:"1f1ea-1f1f7",a:"2.0"},{n:["es","flag-es","spain flag"],u:"1f1ea-1f1f8",a:"0.6"},{n:["flag-et","ethiopia flag"],u:"1f1ea-1f1f9",a:"2.0"},{n:["flag-eu","european union flag"],u:"1f1ea-1f1fa",a:"2.0"},{n:["flag-fi","finland flag"],u:"1f1eb-1f1ee",a:"2.0"},{n:["flag-fj","fiji flag"],u:"1f1eb-1f1ef",a:"2.0"},{n:["flag-fk","falkland islands flag"],u:"1f1eb-1f1f0",a:"2.0"},{n:["flag-fm","micronesia flag"],u:"1f1eb-1f1f2",a:"2.0"},{n:["flag-fo","faroe islands flag"],u:"1f1eb-1f1f4",a:"2.0"},{n:["fr","flag-fr","france flag"],u:"1f1eb-1f1f7",a:"0.6"},{n:["flag-ga","gabon flag"],u:"1f1ec-1f1e6",a:"2.0"},{n:["gb","uk","flag-gb","united kingdom flag"],u:"1f1ec-1f1e7",a:"0.6"},{n:["flag-gd","grenada flag"],u:"1f1ec-1f1e9",a:"2.0"},{n:["flag-ge","georgia flag"],u:"1f1ec-1f1ea",a:"2.0"},{n:["flag-gf","french guiana flag"],u:"1f1ec-1f1eb",a:"2.0"},{n:["flag-gg","guernsey flag"],u:"1f1ec-1f1ec",a:"2.0"},{n:["flag-gh","ghana flag"],u:"1f1ec-1f1ed",a:"2.0"},{n:["flag-gi","gibraltar flag"],u:"1f1ec-1f1ee",a:"2.0"},{n:["flag-gl","greenland flag"],u:"1f1ec-1f1f1",a:"2.0"},{n:["flag-gm","gambia flag"],u:"1f1ec-1f1f2",a:"2.0"},{n:["flag-gn","guinea flag"],u:"1f1ec-1f1f3",a:"2.0"},{n:["flag-gp","guadeloupe flag"],u:"1f1ec-1f1f5",a:"2.0"},{n:["flag-gq","equatorial guinea flag"],u:"1f1ec-1f1f6",a:"2.0"},{n:["flag-gr","greece flag"],u:"1f1ec-1f1f7",a:"2.0"},{n:["flag-gs","south georgia & south sandwich islands flag"],u:"1f1ec-1f1f8",a:"2.0"},{n:["flag-gt","guatemala flag"],u:"1f1ec-1f1f9",a:"2.0"},{n:["flag-gu","guam flag"],u:"1f1ec-1f1fa",a:"2.0"},{n:["flag-gw","guinea-bissau flag"],u:"1f1ec-1f1fc",a:"2.0"},{n:["flag-gy","guyana flag"],u:"1f1ec-1f1fe",a:"2.0"},{n:["flag-hk","hong kong sar china flag"],u:"1f1ed-1f1f0",a:"2.0"},{n:["flag-hm","heard & mcdonald islands flag"],u:"1f1ed-1f1f2",a:"2.0"},{n:["flag-hn","honduras flag"],u:"1f1ed-1f1f3",a:"2.0"},{n:["flag-hr","croatia flag"],u:"1f1ed-1f1f7",a:"2.0"},{n:["flag-ht","haiti flag"],u:"1f1ed-1f1f9",a:"2.0"},{n:["flag-hu","hungary flag"],u:"1f1ed-1f1fa",a:"2.0"},{n:["flag-ic","canary islands flag"],u:"1f1ee-1f1e8",a:"2.0"},{n:["flag-id","indonesia flag"],u:"1f1ee-1f1e9",a:"2.0"},{n:["flag-ie","ireland flag"],u:"1f1ee-1f1ea",a:"2.0"},{n:["flag-il","israel flag"],u:"1f1ee-1f1f1",a:"2.0"},{n:["flag-im","isle of man flag"],u:"1f1ee-1f1f2",a:"2.0"},{n:["flag-in","india flag"],u:"1f1ee-1f1f3",a:"2.0"},{n:["flag-io","british indian ocean territory flag"],u:"1f1ee-1f1f4",a:"2.0"},{n:["flag-iq","iraq flag"],u:"1f1ee-1f1f6",a:"2.0"},{n:["flag-ir","iran flag"],u:"1f1ee-1f1f7",a:"2.0"},{n:["flag-is","iceland flag"],u:"1f1ee-1f1f8",a:"2.0"},{n:["it","flag-it","italy flag"],u:"1f1ee-1f1f9",a:"0.6"},{n:["flag-je","jersey flag"],u:"1f1ef-1f1ea",a:"2.0"},{n:["flag-jm","jamaica flag"],u:"1f1ef-1f1f2",a:"2.0"},{n:["flag-jo","jordan flag"],u:"1f1ef-1f1f4",a:"2.0"},{n:["jp","flag-jp","japan flag"],u:"1f1ef-1f1f5",a:"0.6"},{n:["flag-ke","kenya flag"],u:"1f1f0-1f1ea",a:"2.0"},{n:["flag-kg","kyrgyzstan flag"],u:"1f1f0-1f1ec",a:"2.0"},{n:["flag-kh","cambodia flag"],u:"1f1f0-1f1ed",a:"2.0"},{n:["flag-ki","kiribati flag"],u:"1f1f0-1f1ee",a:"2.0"},{n:["flag-km","comoros flag"],u:"1f1f0-1f1f2",a:"2.0"},{n:["flag-kn","st. kitts & nevis flag"],u:"1f1f0-1f1f3",a:"2.0"},{n:["flag-kp","north korea flag"],u:"1f1f0-1f1f5",a:"2.0"},{n:["kr","flag-kr","south korea flag"],u:"1f1f0-1f1f7",a:"0.6"},{n:["flag-kw","kuwait flag"],u:"1f1f0-1f1fc",a:"2.0"},{n:["flag-ky","cayman islands flag"],u:"1f1f0-1f1fe",a:"2.0"},{n:["flag-kz","kazakhstan flag"],u:"1f1f0-1f1ff",a:"2.0"},{n:["flag-la","laos flag"],u:"1f1f1-1f1e6",a:"2.0"},{n:["flag-lb","lebanon flag"],u:"1f1f1-1f1e7",a:"2.0"},{n:["flag-lc","st. lucia flag"],u:"1f1f1-1f1e8",a:"2.0"},{n:["flag-li","liechtenstein flag"],u:"1f1f1-1f1ee",a:"2.0"},{n:["flag-lk","sri lanka flag"],u:"1f1f1-1f1f0",a:"2.0"},{n:["flag-lr","liberia flag"],u:"1f1f1-1f1f7",a:"2.0"},{n:["flag-ls","lesotho flag"],u:"1f1f1-1f1f8",a:"2.0"},{n:["flag-lt","lithuania flag"],u:"1f1f1-1f1f9",a:"2.0"},{n:["flag-lu","luxembourg flag"],u:"1f1f1-1f1fa",a:"2.0"},{n:["flag-lv","latvia flag"],u:"1f1f1-1f1fb",a:"2.0"},{n:["flag-ly","libya flag"],u:"1f1f1-1f1fe",a:"2.0"},{n:["flag-ma","morocco flag"],u:"1f1f2-1f1e6",a:"2.0"},{n:["flag-mc","monaco flag"],u:"1f1f2-1f1e8",a:"2.0"},{n:["flag-md","moldova flag"],u:"1f1f2-1f1e9",a:"2.0"},{n:["flag-me","montenegro flag"],u:"1f1f2-1f1ea",a:"2.0"},{n:["flag-mf","st. martin flag"],u:"1f1f2-1f1eb",a:"2.0"},{n:["flag-mg","madagascar flag"],u:"1f1f2-1f1ec",a:"2.0"},{n:["flag-mh","marshall islands flag"],u:"1f1f2-1f1ed",a:"2.0"},{n:["flag-mk","north macedonia flag"],u:"1f1f2-1f1f0",a:"2.0"},{n:["flag-ml","mali flag"],u:"1f1f2-1f1f1",a:"2.0"},{n:["flag-mm","myanmar (burma) flag"],u:"1f1f2-1f1f2",a:"2.0"},{n:["flag-mn","mongolia flag"],u:"1f1f2-1f1f3",a:"2.0"},{n:["flag-mo","macao sar china flag"],u:"1f1f2-1f1f4",a:"2.0"},{n:["flag-mp","northern mariana islands flag"],u:"1f1f2-1f1f5",a:"2.0"},{n:["flag-mq","martinique flag"],u:"1f1f2-1f1f6",a:"2.0"},{n:["flag-mr","mauritania flag"],u:"1f1f2-1f1f7",a:"2.0"},{n:["flag-ms","montserrat flag"],u:"1f1f2-1f1f8",a:"2.0"},{n:["flag-mt","malta flag"],u:"1f1f2-1f1f9",a:"2.0"},{n:["flag-mu","mauritius flag"],u:"1f1f2-1f1fa",a:"2.0"},{n:["flag-mv","maldives flag"],u:"1f1f2-1f1fb",a:"2.0"},{n:["flag-mw","malawi flag"],u:"1f1f2-1f1fc",a:"2.0"},{n:["flag-mx","mexico flag"],u:"1f1f2-1f1fd",a:"2.0"},{n:["flag-my","malaysia flag"],u:"1f1f2-1f1fe",a:"2.0"},{n:["flag-mz","mozambique flag"],u:"1f1f2-1f1ff",a:"2.0"},{n:["flag-na","namibia flag"],u:"1f1f3-1f1e6",a:"2.0"},{n:["flag-nc","new caledonia flag"],u:"1f1f3-1f1e8",a:"2.0"},{n:["flag-ne","niger flag"],u:"1f1f3-1f1ea",a:"2.0"},{n:["flag-nf","norfolk island flag"],u:"1f1f3-1f1eb",a:"2.0"},{n:["flag-ng","nigeria flag"],u:"1f1f3-1f1ec",a:"2.0"},{n:["flag-ni","nicaragua flag"],u:"1f1f3-1f1ee",a:"2.0"},{n:["flag-nl","netherlands flag"],u:"1f1f3-1f1f1",a:"2.0"},{n:["flag-no","norway flag"],u:"1f1f3-1f1f4",a:"2.0"},{n:["flag-np","nepal flag"],u:"1f1f3-1f1f5",a:"2.0"},{n:["flag-nr","nauru flag"],u:"1f1f3-1f1f7",a:"2.0"},{n:["flag-nu","niue flag"],u:"1f1f3-1f1fa",a:"2.0"},{n:["flag-nz","new zealand flag"],u:"1f1f3-1f1ff",a:"2.0"},{n:["flag-om","oman flag"],u:"1f1f4-1f1f2",a:"2.0"},{n:["flag-pa","panama flag"],u:"1f1f5-1f1e6",a:"2.0"},{n:["flag-pe","peru flag"],u:"1f1f5-1f1ea",a:"2.0"},{n:["flag-pf","french polynesia flag"],u:"1f1f5-1f1eb",a:"2.0"},{n:["flag-pg","papua new guinea flag"],u:"1f1f5-1f1ec",a:"2.0"},{n:["flag-ph","philippines flag"],u:"1f1f5-1f1ed",a:"2.0"},{n:["flag-pk","pakistan flag"],u:"1f1f5-1f1f0",a:"2.0"},{n:["flag-pl","poland flag"],u:"1f1f5-1f1f1",a:"2.0"},{n:["flag-pm","st. pierre & miquelon flag"],u:"1f1f5-1f1f2",a:"2.0"},{n:["flag-pn","pitcairn islands flag"],u:"1f1f5-1f1f3",a:"2.0"},{n:["flag-pr","puerto rico flag"],u:"1f1f5-1f1f7",a:"2.0"},{n:["flag-ps","palestinian territories flag"],u:"1f1f5-1f1f8",a:"2.0"},{n:["flag-pt","portugal flag"],u:"1f1f5-1f1f9",a:"2.0"},{n:["flag-pw","palau flag"],u:"1f1f5-1f1fc",a:"2.0"},{n:["flag-py","paraguay flag"],u:"1f1f5-1f1fe",a:"2.0"},{n:["flag-qa","qatar flag"],u:"1f1f6-1f1e6",a:"2.0"},{n:["flag-re","runion flag"],u:"1f1f7-1f1ea",a:"2.0"},{n:["flag-ro","romania flag"],u:"1f1f7-1f1f4",a:"2.0"},{n:["flag-rs","serbia flag"],u:"1f1f7-1f1f8",a:"2.0"},{n:["ru","flag-ru","russia flag"],u:"1f1f7-1f1fa",a:"0.6"},{n:["flag-rw","rwanda flag"],u:"1f1f7-1f1fc",a:"2.0"},{n:["flag-sa","saudi arabia flag"],u:"1f1f8-1f1e6",a:"2.0"},{n:["flag-sb","solomon islands flag"],u:"1f1f8-1f1e7",a:"2.0"},{n:["flag-sc","seychelles flag"],u:"1f1f8-1f1e8",a:"2.0"},{n:["flag-sd","sudan flag"],u:"1f1f8-1f1e9",a:"2.0"},{n:["flag-se","sweden flag"],u:"1f1f8-1f1ea",a:"2.0"},{n:["flag-sg","singapore flag"],u:"1f1f8-1f1ec",a:"2.0"},{n:["flag-sh","st. helena flag"],u:"1f1f8-1f1ed",a:"2.0"},{n:["flag-si","slovenia flag"],u:"1f1f8-1f1ee",a:"2.0"},{n:["flag-sj","svalbard & jan mayen flag"],u:"1f1f8-1f1ef",a:"2.0"},{n:["flag-sk","slovakia flag"],u:"1f1f8-1f1f0",a:"2.0"},{n:["flag-sl","sierra leone flag"],u:"1f1f8-1f1f1",a:"2.0"},{n:["flag-sm","san marino flag"],u:"1f1f8-1f1f2",a:"2.0"},{n:["flag-sn","senegal flag"],u:"1f1f8-1f1f3",a:"2.0"},{n:["flag-so","somalia flag"],u:"1f1f8-1f1f4",a:"2.0"},{n:["flag-sr","suriname flag"],u:"1f1f8-1f1f7",a:"2.0"},{n:["flag-ss","south sudan flag"],u:"1f1f8-1f1f8",a:"2.0"},{n:["flag-st","so tom & prncipe flag"],u:"1f1f8-1f1f9",a:"2.0"},{n:["flag-sv","el salvador flag"],u:"1f1f8-1f1fb",a:"2.0"},{n:["flag-sx","sint maarten flag"],u:"1f1f8-1f1fd",a:"2.0"},{n:["flag-sy","syria flag"],u:"1f1f8-1f1fe",a:"2.0"},{n:["flag-sz","eswatini flag"],u:"1f1f8-1f1ff",a:"2.0"},{n:["flag-ta","tristan da cunha flag"],u:"1f1f9-1f1e6",a:"2.0"},{n:["flag-tc","turks & caicos islands flag"],u:"1f1f9-1f1e8",a:"2.0"},{n:["flag-td","chad flag"],u:"1f1f9-1f1e9",a:"2.0"},{n:["flag-tf","french southern territories flag"],u:"1f1f9-1f1eb",a:"2.0"},{n:["flag-tg","togo flag"],u:"1f1f9-1f1ec",a:"2.0"},{n:["flag-th","thailand flag"],u:"1f1f9-1f1ed",a:"2.0"},{n:["flag-tj","tajikistan flag"],u:"1f1f9-1f1ef",a:"2.0"},{n:["flag-tk","tokelau flag"],u:"1f1f9-1f1f0",a:"2.0"},{n:["flag-tl","timor-leste flag"],u:"1f1f9-1f1f1",a:"2.0"},{n:["flag-tm","turkmenistan flag"],u:"1f1f9-1f1f2",a:"2.0"},{n:["flag-tn","tunisia flag"],u:"1f1f9-1f1f3",a:"2.0"},{n:["flag-to","tonga flag"],u:"1f1f9-1f1f4",a:"2.0"},{n:["flag-tr","trkiye flag"],u:"1f1f9-1f1f7",a:"2.0"},{n:["flag-tt","trinidad & tobago flag"],u:"1f1f9-1f1f9",a:"2.0"},{n:["flag-tv","tuvalu flag"],u:"1f1f9-1f1fb",a:"2.0"},{n:["flag-tw","taiwan flag"],u:"1f1f9-1f1fc",a:"2.0"},{n:["flag-tz","tanzania flag"],u:"1f1f9-1f1ff",a:"2.0"},{n:["flag-ua","ukraine flag"],u:"1f1fa-1f1e6",a:"2.0"},{n:["flag-ug","uganda flag"],u:"1f1fa-1f1ec",a:"2.0"},{n:["flag-um","u.s. outlying islands flag"],u:"1f1fa-1f1f2",a:"2.0"},{n:["flag-un","united nations flag"],u:"1f1fa-1f1f3",a:"4.0"},{n:["us","flag-us","united states flag"],u:"1f1fa-1f1f8",a:"0.6"},{n:["flag-uy","uruguay flag"],u:"1f1fa-1f1fe",a:"2.0"},{n:["flag-uz","uzbekistan flag"],u:"1f1fa-1f1ff",a:"2.0"},{n:["flag-va","vatican city flag"],u:"1f1fb-1f1e6",a:"2.0"},{n:["flag-vc","st. vincent & grenadines flag"],u:"1f1fb-1f1e8",a:"2.0"},{n:["flag-ve","venezuela flag"],u:"1f1fb-1f1ea",a:"2.0"},{n:["flag-vg","british virgin islands flag"],u:"1f1fb-1f1ec",a:"2.0"},{n:["flag-vi","u.s. virgin islands flag"],u:"1f1fb-1f1ee",a:"2.0"},{n:["flag-vn","vietnam flag"],u:"1f1fb-1f1f3",a:"2.0"},{n:["flag-vu","vanuatu flag"],u:"1f1fb-1f1fa",a:"2.0"},{n:["flag-wf","wallis & futuna flag"],u:"1f1fc-1f1eb",a:"2.0"},{n:["flag-ws","samoa flag"],u:"1f1fc-1f1f8",a:"2.0"},{n:["flag-xk","kosovo flag"],u:"1f1fd-1f1f0",a:"2.0"},{n:["flag-ye","yemen flag"],u:"1f1fe-1f1ea",a:"2.0"},{n:["flag-yt","mayotte flag"],u:"1f1fe-1f1f9",a:"2.0"},{n:["flag-za","south africa flag"],u:"1f1ff-1f1e6",a:"2.0"},{n:["flag-zm","zambia flag"],u:"1f1ff-1f1f2",a:"2.0"},{n:["flag-zw","zimbabwe flag"],u:"1f1ff-1f1fc",a:"2.0"},{n:["england flag","flag-england"],u:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f",a:"5.0"},{n:["scotland flag","flag-scotland"],u:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f",a:"5.0"},{n:["wales flag","flag-wales"],u:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f",a:"5.0"}],Pp={custom:DLe,smileys_people:RLe,animals_nature:FLe,food_drink:BLe,travel_places:zLe,activities:ULe,objects:WLe,symbols:HLe,flags:VLe},Ub=[ko.NEUTRAL,ko.LIGHT,ko.MEDIUM_LIGHT,ko.MEDIUM,ko.MEDIUM_DARK,ko.DARK],GLe=Object.entries(ko).reduce(function(e,t){var n=t[0],s=t[1];return e[s]=n,e},{}),qLe=Ub.reduce(function(e,t){var n;return Object.assign(e,(n={},n[t]=t,n))},{}),Zi;(function(e){e.name="n",e.unified="u",e.variations="v",e.added_in="a",e.imgUrl="imgUrl"})(Zi||(Zi={}));var Um={};setTimeout(function(){$w.reduce(function(e,t){return Fq(t),e},Um)});function Fq(e){var t=xx(e).flat().join("").toLowerCase().replace(/[^a-zA-Z\d]/g,"").split("");t.forEach(function(n){var s;Um[n]=(s=Um[n])!=null?s:{},Um[n][Ia(e)]=e})}function xx(e){var t;return(t=e[Zi.name])!=null?t:[]}function YLe(e){return parseFloat(e[Zi.added_in])}function x6(e){return e?xx(e)[0]:""}function $L(e){var t=e.split("-"),n=t.splice(1,1),s=n[0];return qLe[s]?t.join("-"):e}function Ia(e,t){var n,s=e[Zi.unified];return!t||!qh(e)?s:(n=ZLe(e,t))!=null?n:s}function JLe(e){var t;return(t=Pp==null?void 0:Pp[e])!=null?t:[]}function Bq(e,t){return""+PLe(t)+e+".png"}function vx(e){var t;return(t=e[Zi.variations])!=null?t:[]}function qh(e){return vx(e).length>0}function ZLe(e,t){return t?vx(e).find(function(n){return n.includes(t)}):Ia(e)}function gh(e){if(e){if(V0[e])return V0[e];var t=$L(e);return V0[t]}}var $w=Object.values(Pp).flat();function QLe(e){Pp[jr.CUSTOM].length=0,e.forEach(function(t){var n=KLe(t);Pp[jr.CUSTOM].push(n),!V0[n[Zi.unified]]&&($w.push(n),V0[n[Zi.unified]]=n,Fq(n))})}function KLe(e){var t;return t={},t[Zi.name]=e.names.map(function(n){return n.toLowerCase()}),t[Zi.unified]=e.id.toLowerCase(),t[Zi.added_in]="0",t[Zi.imgUrl]=e.imgUrl,t}var V0={};setTimeout(function(){$w.reduce(function(e,t){return e[Ia(t)]=t,qh(t)&&vx(t).forEach(function(n){e[n]=t}),e},V0)});function XLe(e){var t=e.split("-"),n=t[1];return Ub.includes(n)?n:null}var eMe=["2640-fe0f","2642-fe0f","2695-fe0f"],Wb="Search",tMe="No results found",zq=" found. Use up and down arrow keys to navigate.",rMe="1 result"+zq,nMe="%n results"+zq;function u8(e){var t,n;e===void 0&&(e={});var s=Uq(),a=Object.assign(s.previewConfig,(t=e.previewConfig)!=null?t:{}),i=Object.assign(s,e),o=TLe(e.categories,{suggestionMode:i.suggestedEmojisMode});i.hiddenEmojis.forEach(function(c){i.unicodeToHide.add(c)}),QLe((n=i.customEmojis)!=null?n:[]);var l=i.searchDisabled?hh.PREVIEW:i.skinTonePickerLocation;return Ln({},i,{categories:o,previewConfig:a,skinTonePickerLocation:l})}function Uq(){return{autoFocusSearch:!0,categories:Dq(),className:"",customEmojis:[],defaultSkinTone:ko.NEUTRAL,emojiStyle:yi.APPLE,emojiVersion:null,getEmojiUrl:Bq,height:450,lazyLoadEmojis:!1,previewConfig:Ln({},sMe),searchDisabled:!1,searchPlaceHolder:Wb,searchPlaceholder:Wb,skinTonePickerLocation:hh.SEARCH,skinTonesDisabled:!1,style:{},suggestedEmojisMode:Op.FREQUENT,theme:$p.LIGHT,unicodeToHide:new Set(eMe),width:350,reactionsDefaultOpen:!1,reactions:LLe,open:!0,allowExpandReactions:!0,hiddenEmojis:[]}}var sMe={defaultEmoji:"1f60a",defaultCaption:"What's your mood?",showPreview:!0},aMe=["children"],Wq=d.createContext(Uq());function iMe(e){var t=e.children,n=Oq(e,aMe),s=oMe(n);return d.createElement(Wq.Provider,{value:s},t)}function oMe(e){var t,n=d.useState(function(){return u8(e)}),s=n[0],a=n[1];return d.useEffect(function(){$q(s,e)||a(u8(e))},[(t=e.customEmojis)==null?void 0:t.length,e.open,e.emojiVersion,e.reactionsDefaultOpen,e.searchPlaceHolder,e.searchPlaceholder,e.defaultSkinTone,e.skinTonesDisabled,e.autoFocusSearch,e.emojiStyle,e.theme,e.suggestedEmojisMode,e.lazyLoadEmojis,e.className,e.height,e.width,e.searchDisabled,e.skinTonePickerLocation,e.allowExpandReactions]),s}function $n(){return d.useContext(Wq)}function f8(e,t){t===void 0&&(t=0);var n=d.useState(e),s=n[0],a=n[1],i=d.useRef(null);function o(l){return new Promise(function(c){var u;i.current&&clearTimeout(i.current),i.current=(u=window)==null?void 0:u.setTimeout(function(){a(l),c(l)},t)})}return[s,o]}function lMe(){var e=MMe();return function(t){return e.has(t)}}function Hq(){var e=d.useRef({}),t=LMe();return d.useMemo(function(){var n=parseFloat(""+t);return!t||Number.isNaN(n)?e.current:$w.reduce(function(s,a){return cMe(a,n)&&(s[Ia(a)]=!0),s},e.current)},[t])}function Vq(){var e=Hq(),t=lMe();return function(s){var a=$L(Ia(s));return!!(e[a]||t(a))}}function cMe(e,t){return YLe(e)>t}function dMe(e){d.useEffect(function(){e(!0)},[e])}function uMe(e){var t=e.children,n=Hq(),s=pMe(),a=EMe(),i=d.useRef(Um),o=d.useRef(!1),l=d.useRef(!1),c=d.useRef(n),u=f8(Date.now(),200),f=f8("",100),h=d.useState(!1),g=d.useState(s),m=d.useState(null),p=d.useState(new Set),v=d.useState(null),b=d.useState(a),y=d.useState(!1),x=y[0],w=y[1];return dMe(w),d.createElement(ao.Provider,{value:{activeCategoryState:m,activeSkinTone:g,disallowClickRef:o,disallowMouseRef:l,disallowedEmojisRef:c,emojiVariationPickerState:v,emojisThatFailedToLoadState:p,filterRef:i,isPastInitialLoad:x,searchTerm:f,skinToneFanOpenState:h,suggestedUpdateState:u,reactionsModeState:b}},t)}var ao=d.createContext({activeCategoryState:[null,function(){}],activeSkinTone:[ko.NEUTRAL,function(){}],disallowClickRef:{current:!1},disallowMouseRef:{current:!1},disallowedEmojisRef:{current:{}},emojiVariationPickerState:[null,function(){}],emojisThatFailedToLoadState:[new Set,function(){}],filterRef:{current:{}},isPastInitialLoad:!0,searchTerm:["",function(){return new Promise(function(){})}],skinToneFanOpenState:[!1,function(){}],suggestedUpdateState:[Date.now(),function(){}],reactionsModeState:[!1,function(){}]});function PL(){var e=d.useContext(ao),t=e.filterRef;return t}function fMe(){var e=d.useContext(ao),t=e.disallowClickRef;return t}function DL(){var e=d.useContext(ao),t=e.disallowMouseRef;return t}function Yh(){var e=d.useContext(ao),t=e.reactionsModeState;return t}function Pw(){var e=d.useContext(ao),t=e.searchTerm;return t}function RL(){var e=d.useContext(ao),t=e.activeSkinTone;return t}function Gq(){var e=d.useContext(ao),t=e.emojisThatFailedToLoadState;return t}function hMe(){var e=d.useContext(ao),t=e.isPastInitialLoad;return t}function Jh(){var e=d.useContext(ao),t=e.emojiVariationPickerState;return t}function yx(){var e=d.useContext(ao),t=e.skinToneFanOpenState;return t}function qq(){var e=d.useContext(ao),t=e.suggestedUpdateState,n=t[0],s=t[1];return[n,function(){s(Date.now())}]}var Yq=dr.createContext({});function Jq(){var e=dr.useContext(Yq);return e}function gMe(e){var t=dr.useRef({onEmojiClick:e.onEmojiClick||Hv,onReactionClick:e.onReactionClick||e.onEmojiClick,onSkinToneChange:e.onSkinToneChange||Hv});return dr.useEffect(function(){t.current.onEmojiClick=e.onEmojiClick||Hv,t.current.onReactionClick=e.onReactionClick||e.onEmojiClick},[e.onEmojiClick,e.onReactionClick]),dr.useEffect(function(){t.current.onSkinToneChange=e.onSkinToneChange||Hv},[e.onSkinToneChange]),t}function Hv(){}var Dp;(function(e){e.REACTIONS="reactions",e.PICKER="picker"})(Dp||(Dp={}));function mMe(){var e,t=$n(),n=t.searchPlaceHolder,s=t.searchPlaceholder;return(e=[n,s].find(function(a){return a!==Wb}))!=null?e:Wb}function pMe(){var e=$n(),t=e.defaultSkinTone;return t}function Zq(){var e=$n(),t=e.allowExpandReactions;return t}function Qq(){var e=$n(),t=e.skinTonesDisabled;return t}function gf(){var e=$n(),t=e.emojiStyle;return t}function xMe(){var e=$n(),t=e.autoFocusSearch;return t}function Kq(){var e=$n(),t=e.categories;return t}function vMe(){var e=$n(),t=e.customEmojis;return t}function yMe(){var e=$n(),t=e.open;return t}function bMe(e){var t=Jq(),n=t.current,s=Yh(),a=s[1],i=n.onEmojiClick||function(){},o=n.onReactionClick;return e===Dp.REACTIONS&&o?function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return o.apply(void 0,c.concat([{collapseToReactions:function(){a(function(h){return h})}}]))}:function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];i.apply(void 0,c.concat([{collapseToReactions:function(){a(!0)}}]))}}function wMe(){var e=Jq(),t=e.current;return t.onSkinToneChange||function(){}}function Xq(){var e=$n(),t=e.previewConfig;return t}function jMe(){var e=$n(),t=e.theme;return t}function NMe(){var e=$n(),t=e.suggestedEmojisMode;return t}function SMe(){var e=$n(),t=e.lazyLoadEmojis;return t}function CMe(){var e=$n(),t=e.className;return t}function kMe(){var e=$n(),t=e.height,n=e.width,s=e.style;return Ln({height:h8(t),width:h8(n)},s)}function EMe(){var e=$n(),t=e.reactionsDefaultOpen;return t}function LMe(){var e=$n(),t=e.emojiVersion;return t}function eY(){var e=$n(),t=e.searchDisabled;return t}function tY(){var e=$n(),t=e.skinTonePickerLocation;return t}function MMe(){var e=$n(),t=e.unicodeToHide;return t}function IMe(){var e=$n(),t=e.reactions;return t}function mf(){var e=$n(),t=e.getEmojiUrl;return t}function h8(e){return typeof e=="number"?e+"px":e}function TMe(e){var t=e>0,n=e>1;return t?n?nMe.replace("%n",e.toString()):rMe:tMe}function Dw(){var e=Pw(),t=e[0];return!!t}function Ei(e){e&&requestAnimationFrame(function(){e.focus()})}function rY(e){if(e){var t=e.previousElementSibling;Ei(t)}}function nY(e){if(e){var t=e.nextElementSibling;Ei(t)}}function sY(e){if(e){var t=e.firstElementChild;Ei(t)}}function Rp(){return document.activeElement}function AMe(e){var t=e.children,n=d.useRef(null),s=d.useRef(null),a=d.useRef(null),i=d.useRef(null),o=d.useRef(null),l=d.useRef(null),c=d.useRef(null),u=d.useRef(null);return d.createElement(aY.Provider,{value:{AnchoredEmojiRef:s,BodyRef:a,CategoryNavigationRef:l,PickerMainRef:n,SearchInputRef:i,SkinTonePickerRef:o,VariationPickerRef:c,ReactionsRef:u}},t)}var aY=d.createContext({AnchoredEmojiRef:d.createRef(),BodyRef:d.createRef(),CategoryNavigationRef:d.createRef(),PickerMainRef:d.createRef(),SearchInputRef:d.createRef(),SkinTonePickerRef:d.createRef(),VariationPickerRef:d.createRef(),ReactionsRef:d.createRef()});function Bd(){return d.useContext(aY)}function bx(){return Bd().PickerMainRef}function Rw(){return Bd().AnchoredEmojiRef}function iY(){var e=Rw();return function(t){t===null&&e.current!==null&&Ei(e.current),e.current=t}}function io(){return Bd().BodyRef}function _Me(){return Bd().ReactionsRef}function zd(){return Bd().SearchInputRef}function FL(){return Bd().SkinTonePickerRef}function BL(){return Bd().CategoryNavigationRef}function OMe(){return Bd().VariationPickerRef}function oY(e,t){t===void 0&&(t=0);var n=jY(e);n&&requestAnimationFrame(function(){n.scrollTop=t})}function $Me(e,t){var n=jY(e);n&&requestAnimationFrame(function(){n.scrollTop=n.scrollTop+t})}function PMe(){var e=io();return d.useCallback(function(t){requestAnimationFrame(function(){e.current&&(e.current.scrollTop=t)})},[e])}function Fw(e){if(!(!e||!LIe(e))&&!e.closest(ua(Nr.variationPicker))){var t=SY(e),n=NY(e);$Me(t,-(GL(Ud(e))-n))}}function Bw(e){var t=ZL(e);Ei(t),Fw(t)}function DMe(e){var t=ZL(e);Ei(t),t==null||t.click()}function RMe(e){Ei(LY(e))}function FMe(e){if(e){var t=MY(e);if(!t)return Bw(Uw(e));Ei(t),Fw(t)}}function BMe(e){if(e){var t=JL(e);if(!t)return RMe(zw(e));Ei(t),Fw(t)}}function zMe(e,t){if(e){var n=WMe(e);if(!n)return t();Ei(n),Fw(n)}}function UMe(e){if(e){var t=HMe(e);return Ei(t)}}function WMe(e){if(!e)return null;var t=IY(e),n=Ud(t),s=vY(t,e),a=yY(t,e),i=xY(t,e);if(a===0){var o=zw(n);return o?bY(mh(o),-1,i,s):null}return jIe(mh(t),a,i,s)}function HMe(e){if(!e)return null;var t=IY(e),n=Ud(t),s=vY(t,e),a=yY(t,e),i=xY(t,e);if(!yIe(t,e)){var o=Uw(n);return o?bY(mh(o),0,i,s):null}var l=wIe(mh(t),a,i,s);return l}function pf(){var e=Jh(),t=e[0],n=e[1],s=yx(),a=s[0],i=s[1],o=d.useCallback(function(){t&&n(null),a&&i(!1)},[t,a,n,i]);return o}function lY(){var e=Jh(),t=e[0],n=yx(),s=n[0];return function(){return!!t||s}}function VMe(){var e=DL();return function(){e.current=!0}}function cY(){var e=DL();return function(){e.current=!1}}function dY(){var e=DL();return function(){return e.current}}function GMe(){var e=io(),t=cY(),n=dY();d.useEffect(function(){var s=e.current;s==null||s.addEventListener("mousemove",a,{passive:!0});function a(){n()&&t()}return function(){s==null||s.removeEventListener("mousemove",a)}},[e,t,n])}function qMe(){if(typeof window=="undefined"||typeof window.CSS=="undefined")return!1;try{return CSS.supports("selector(:has(*))")}catch(e){return!1}}var YMe=qMe();function xf(){var e=zd();return d.useCallback(function(){Ei(e.current)},[e])}function JMe(){var e=FL();return d.useCallback(function(){e.current&&sY(e.current)},[e])}function uY(){var e=BL();return d.useCallback(function(){e.current&&sY(e.current)},[e])}function ZMe(){var e=PL();return function t(n){if(typeof n=="function")return t(n(e.current));e.current=n}}function fY(){var e=zL(),t=zd(),n=xf();return function(){t.current&&(t.current.value=""),e(""),n()}}function QMe(){var e=zd(),t=zL();return function(s){e.current?(e.current.value=""+e.current.value+s,t(v6(e.current.value))):t(v6(s))}}function KMe(){var e=zd(),t=PL(),n=ZMe(),s=zL(),a=Pw(),i=a[0],o=sIe(t.current,i);return{onChange:l,searchTerm:i,SearchInputRef:e,statusSearchResults:o};function l(c){YMe||setTimeout(function(){var u=t.current,f=c.toLowerCase();if(u!=null&&u[f]||f.length<=1)return s(f);var h=nIe(f,u);if(!h)return s(f);n(function(g){var m;return Object.assign(g,(m={},m[f]=XMe(h,f),m))}),s(f)})}}function zL(){var e=Pw(),t=e[1],n=bx();return function(a){requestAnimationFrame(function(){t(a&&(a==null?void 0:a.toLowerCase())).then(function(){oY(n.current,0)})})}}function XMe(e,t){var n={};for(var s in e){var a=e[s];eIe(a,t)&&(n[s]=a)}return n}function eIe(e,t){return xx(e).some(function(n){return n.includes(t)})}function tIe(){var e=PL(),t=e.current,n=Pw(),s=n[0];return function(a){return rIe(a,t,s)}}function rIe(e,t,n){var s;return!t||!n?!1:!((s=t[n])!=null&&s[e])}function nIe(e,t){if(!t)return null;if(t[e])return t[e];var n=Object.keys(t).sort(function(s,a){return a.length-s.length}).find(function(s){return e.includes(s)});return n?t[n]:null}function v6(e){return!e||typeof e!="string"?"":e.trim().toLowerCase()}function sIe(e,t){var n;if(!(e!=null&&e[t]))return"";var s=((n=Object.entries(e==null?void 0:e[t]))==null?void 0:n.length)||0;return TMe(s)}function hY(){var e=iY(),t=Jh(),n=t[1];return function(a){var i=VL(a),o=i[0];o&&(e(a),n(o))}}function UL(){var e=tY();return e===hh.SEARCH}function gY(){var e=tY();return e===hh.PREVIEW}var Vn;(function(e){e.ArrowDown="ArrowDown",e.ArrowUp="ArrowUp",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.Escape="Escape",e.Enter="Enter",e.Space=" "})(Vn||(Vn={}));function aIe(){iIe(),oIe(),lIe(),cIe(),dIe()}function iIe(){var e=bx(),t=fY(),n=PMe(),s=zd(),a=xf(),i=lY(),o=VMe(),l=pf(),c=d.useMemo(function(){return function(f){var h=f.key;switch(o(),h){case Vn.Escape:if(f.preventDefault(),i()){l();return}t(),n(0),a();break}}},[n,t,l,a,i,o]);d.useEffect(function(){var u=e.current;if(u)return u.addEventListener("keydown",c),function(){u.removeEventListener("keydown",c)}},[e,s,n,c])}function oIe(){var e=JMe(),t=bx(),n=io(),s=zd(),a=yx(),i=a[1],o=mY(),l=UL(),c=d.useMemo(function(){return function(f){var h=f.key;switch(h){case Vn.ArrowRight:if(!l)return;f.preventDefault(),i(!0),e();break;case Vn.ArrowDown:f.preventDefault(),o();break;case Vn.Enter:f.preventDefault(),DMe(n.current);break}}},[e,o,i,n,l]);d.useEffect(function(){var u=s.current;if(u)return u.addEventListener("keydown",c),function(){u.removeEventListener("keydown",c)}},[t,s,c])}function lIe(){var e=FL(),t=xf(),n=zd(),s=mY(),a=yx(),i=a[0],o=a[1],l=gY(),c=UL(),u=WL(),f=d.useMemo(function(){return function(g){var m=g.key;if(c)switch(m){case Vn.ArrowLeft:if(g.preventDefault(),!i)return t();g8(t);break;case Vn.ArrowRight:if(g.preventDefault(),!i)return t();m8();break;case Vn.ArrowDown:g.preventDefault(),i&&o(!1),s();break;default:u(g);break}if(l)switch(m){case Vn.ArrowUp:if(g.preventDefault(),!i)return t();g8(t);break;case Vn.ArrowDown:if(g.preventDefault(),!i)return t();m8();break;default:u(g);break}}},[i,t,o,s,u,l,c]);d.useEffect(function(){var h=e.current;if(h)return h.addEventListener("keydown",f),function(){h.removeEventListener("keydown",f)}},[e,n,i,f])}function cIe(){var e=xf(),t=BL(),n=io(),s=WL(),a=d.useMemo(function(){return function(o){var l=o.key;switch(l){case Vn.ArrowUp:o.preventDefault(),e();break;case Vn.ArrowRight:o.preventDefault(),nY(Rp());break;case Vn.ArrowLeft:o.preventDefault(),rY(Rp());break;case Vn.ArrowDown:o.preventDefault(),Bw(n.current);break;default:s(o);break}}},[n,e,s]);d.useEffect(function(){var i=t.current;if(i)return i.addEventListener("keydown",a),function(){i.removeEventListener("keydown",a)}},[t,n,a])}function dIe(){var e=io(),t=uIe(),n=hY(),s=lY(),a=pf(),i=WL(),o=d.useMemo(function(){return function(c){var u=c.key,f=Do(Rp());switch(u){case Vn.ArrowRight:c.preventDefault(),FMe(f);break;case Vn.ArrowLeft:c.preventDefault(),BMe(f);break;case Vn.ArrowDown:if(c.preventDefault(),s()){a();break}UMe(f);break;case Vn.ArrowUp:if(c.preventDefault(),s()){a();break}zMe(f,t);break;case Vn.Space:c.preventDefault(),n(c.target);break;default:i(c);break}}},[t,i,n,s,a]);d.useEffect(function(){var l=e.current;if(l)return l.addEventListener("keydown",o),function(){l.removeEventListener("keydown",o)}},[e,o])}function mY(){var e=uY(),t=Dw(),n=io();return d.useCallback(function(){return t?Bw(n.current):e()},[n,e,t])}function uIe(){var e=xf(),t=uY(),n=Dw();return d.useCallback(function(){return n?e():t()},[e,n,t])}function g8(e){var t=Rp();t&&(SIe(t)||e(),nY(t))}function m8(){var e=Rp();e&&rY(e)}function WL(){var e=QMe(),t=xf(),n=eY(),s=pf();return function(i){var o=i.key;fIe(i)||n||o.match(/(^[a-zA-Z0-9]$){1}/)&&(i.preventDefault(),s(),t(),e(o))}}function fIe(e){var t=e.metaKey,n=e.ctrlKey,s=e.altKey;return t||n||s}function hIe(e,t,n){if(t&&n!==yi.NATIVE){var s=Ia(t);p8.has(s)||(vx(t).forEach(function(a){var i=e(a,n);gIe(i)}),p8.add(s))}}var p8=new Set;function gIe(e){var t=new Image;t.src=e}function mIe(){var e=io(),t=gf(),n=mf();d.useEffect(function(){if(t===yi.NATIVE)return;var s=e.current;return s==null||s.addEventListener("focusin",a),function(){s==null||s.removeEventListener("focusin",a)};function a(i){var o=Do(i.target);if(o){var l=VL(o),c=l[0];c&&qh(c)&&hIe(n,c,t)}}},[e,t,n])}var pIe=["width","height"],pY=40;function xIe(e){var t=e.children;return d.createElement(uMe,null,d.createElement(vIe,null,t))}function vIe(e){var t,n=e.children,s=Yh(),a=s[0],i=jMe(),o=Dw(),l=bx(),c=CMe(),u=kMe();aIe(),mIe();var f=u||{},h=f.width,g=f.height,m=Oq(f,pIe);return d.createElement("aside",{className:Lr(Hg.main,Hg.baseVariables,i===$p.DARK&&Hg.darkTheme,i===$p.AUTO&&Hg.autoThemeDark,(t={},t[Nr.searchActive]=o,t),a&&Hg.reactionsMenu,c),ref:l,style:Ln({},m,!a&&{height:g,width:h})},n)}var x8={"--epr-emoji-variation-picker-bg-color":"var(--epr-dark-emoji-variation-picker-bg-color)","--epr-hover-bg-color-reduced-opacity":"var(--epr-dark-hover-bg-color-reduced-opacity)","--epr-highlight-color":"var(--epr-dark-highlight-color)","--epr-text-color":"var(--epr-dark-text-color)","--epr-hover-bg-color":"var(--epr-dark-hover-bg-color)","--epr-focus-bg-color":"var(--epr-dark-focus-bg-color)","--epr-search-input-bg-color":"var(--epr-dark-search-input-bg-color)","--epr-category-label-bg-color":"var(--epr-dark-category-label-bg-color)","--epr-picker-border-color":"var(--epr-dark-picker-border-color)","--epr-bg-color":"var(--epr-dark-bg-color)","--epr-reactions-bg-color":"var(--epr-dark-reactions-bg-color)","--epr-search-input-bg-color-active":"var(--epr-dark-search-input-bg-color-active)","--epr-emoji-variation-indicator-color":"var(--epr-dark-emoji-variation-indicator-color)","--epr-category-icon-active-color":"var(--epr-dark-category-icon-active-color)","--epr-skin-tone-picker-menu-color":"var(--epr-dark-skin-tone-picker-menu-color)","--epr-skin-tone-outer-border-color":"var(--epr-dark-skin-tone-outer-border-color)","--epr-skin-tone-inner-border-color":"var(--epr-dark-skin-tone-inner-border-color)"},Hg=bn.create({main:{".":["epr-main",Nr.emojiPicker],position:"relative",display:"flex",flexDirection:"column",borderWidth:"1px",borderStyle:"solid",borderRadius:"var(--epr-picker-border-radius)",borderColor:"var(--epr-picker-border-color)",backgroundColor:"var(--epr-bg-color)",overflow:"hidden",transition:"all 0.3s ease-in-out, background-color 0.1s ease-in-out","*":{boxSizing:"border-box",fontFamily:"sans-serif"}},baseVariables:{"--":{"--epr-highlight-color":"#007aeb","--epr-hover-bg-color":"#e5f0fa","--epr-hover-bg-color-reduced-opacity":"#e5f0fa80","--epr-focus-bg-color":"#e0f0ff","--epr-text-color":"#858585","--epr-search-input-bg-color":"#f6f6f6","--epr-picker-border-color":"#e7e7e7","--epr-bg-color":"#fff","--epr-reactions-bg-color":"#ffffff90","--epr-category-icon-active-color":"#6aa8de","--epr-skin-tone-picker-menu-color":"#ffffff95","--epr-skin-tone-outer-border-color":"#555555","--epr-skin-tone-inner-border-color":"var(--epr-bg-color)","--epr-horizontal-padding":"10px","--epr-picker-border-radius":"8px","--epr-search-border-color":"var(--epr-highlight-color)","--epr-header-padding":"15px var(--epr-horizontal-padding)","--epr-active-skin-tone-indicator-border-color":"var(--epr-highlight-color)","--epr-active-skin-hover-color":"var(--epr-hover-bg-color)","--epr-search-input-bg-color-active":"var(--epr-search-input-bg-color)","--epr-search-input-padding":"0 30px","--epr-search-input-border-radius":"8px","--epr-search-input-height":"40px","--epr-search-input-text-color":"var(--epr-text-color)","--epr-search-input-placeholder-color":"var(--epr-text-color)","--epr-search-bar-inner-padding":"var(--epr-horizontal-padding)","--epr-category-navigation-button-size":"30px","--epr-emoji-variation-picker-height":"45px","--epr-emoji-variation-picker-bg-color":"var(--epr-bg-color)","--epr-preview-height":"70px","--epr-preview-text-size":"14px","--epr-preview-text-padding":"0 var(--epr-horizontal-padding)","--epr-preview-border-color":"var(--epr-picker-border-color)","--epr-preview-text-color":"var(--epr-text-color)","--epr-category-padding":"0 var(--epr-horizontal-padding)","--epr-category-label-bg-color":"#ffffffe6","--epr-category-label-text-color":"var(--epr-text-color)","--epr-category-label-padding":"0 var(--epr-horizontal-padding)","--epr-category-label-height":pY+"px","--epr-emoji-size":"30px","--epr-emoji-padding":"5px","--epr-emoji-fullsize":"calc(var(--epr-emoji-size) + var(--epr-emoji-padding) * 2)","--epr-emoji-hover-color":"var(--epr-hover-bg-color)","--epr-emoji-variation-indicator-color":"var(--epr-picker-border-color)","--epr-emoji-variation-indicator-color-hover":"var(--epr-text-color)","--epr-header-overlay-z-index":"3","--epr-emoji-variations-indictator-z-index":"1","--epr-category-label-z-index":"2","--epr-skin-variation-picker-z-index":"5","--epr-preview-z-index":"6","--epr-dark":"#000","--epr-dark-emoji-variation-picker-bg-color":"var(--epr-dark)","--epr-dark-highlight-color":"#c0c0c0","--epr-dark-text-color":"var(--epr-highlight-color)","--epr-dark-hover-bg-color":"#363636f6","--epr-dark-hover-bg-color-reduced-opacity":"#36363680","--epr-dark-focus-bg-color":"#474747","--epr-dark-search-input-bg-color":"#333333","--epr-dark-category-label-bg-color":"#222222e6","--epr-dark-picker-border-color":"#151617","--epr-dark-bg-color":"#222222","--epr-dark-reactions-bg-color":"#22222290","--epr-dark-search-input-bg-color-active":"var(--epr-dark)","--epr-dark-emoji-variation-indicator-color":"#444","--epr-dark-category-icon-active-color":"#3271b7","--epr-dark-skin-tone-picker-menu-color":"#22222295","--epr-dark-skin-tone-outer-border-color":"var(--epr-dark-picker-border-color)","--epr-dark-skin-tone-inner-border-color":"#00000000"}},autoThemeDark:{".":Nr.autoTheme,"@media (prefers-color-scheme: dark)":{"--":x8}},darkTheme:{".":Nr.darkTheme,"--":x8},reactionsMenu:{".":"epr-reactions",height:"50px",display:"inline-flex",backgroundColor:"var(--epr-reactions-bg-color)",backdropFilter:"blur(8px)","--":{"--epr-picker-border-radius":"50px"}}});function xY(e,t){if(!e||!t)return 0;var n=e.getBoundingClientRect().width,s=t.getBoundingClientRect().width;return Math.floor(n/s)}function vY(e,t){if(!e||!t)return 0;var n=t.getBoundingClientRect().width,s=t.getBoundingClientRect().left,a=e.getBoundingClientRect().left;return Math.floor((s-a)/n)}function yY(e,t){if(!e||!t)return 0;var n=t.getBoundingClientRect().height,s=t.getBoundingClientRect().top,a=e.getBoundingClientRect().top;return Math.round((s-a)/n)}function yIe(e,t){if(!e||!t)return!1;var n=t.getBoundingClientRect().height,s=t.getBoundingClientRect().top,a=e.getBoundingClientRect().top,i=e.getBoundingClientRect().height;return Math.round(s-a+n)<i}function HL(e,t,n){if(t===-1){var s=Math.floor((e.length-1)/n),a=s*n,i=e.length-1;return e.slice(a,i+1)}return e.slice(t*n,(t+1)*n)}function bIe(e,t,n){var s=t+1;return s*n>e.length?[]:HL(e,s,n)}function bY(e,t,n,s){var a=HL(e,t,n);return a[s]||a[a.length-1]||null}function wIe(e,t,n,s){var a=bIe(e,t,n);return a[s]||a[a.length-1]||null}function jIe(e,t,n,s){var a=HL(e,t-1,n);return a[s]||a[a.length-1]||null}function NIe(e,t,n){if(!e||!t.length)return null;var s=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom,i=s+CIe(e),o=t.find(function(l){var c=l.getBoundingClientRect().top,u=l.getBoundingClientRect().bottom,f=l.clientHeight*n,h=c+f,g=u-f;return h<i?!1:h>=s&&h<=a||g>=s&&g<=a});return o||null}function SIe(e){return!!e.nextElementSibling}function CIe(e){for(var t=Array.from(e.querySelectorAll(ua(Nr.label))),n=0,s=t;n<s.length;n++){var a=s[n],i=a.getBoundingClientRect().height;if(i>0)return i}return pY}var Hb="button"+ua(Nr.emoji),kIe=[Hb,ua(Nr.visible),":not("+ua(Nr.hidden)+")"].join("");function Do(e){var t;return(t=e==null?void 0:e.closest(Hb))!=null?t:null}function VL(e){var t=CY(e),n=qL(e);if(!t)return[];var s=gh(n!=null?n:t);return s?[s,n]:[]}function EIe(e){var t;return!!(e!=null&&e.matches(Hb)||!(e==null||(t=e.parentElement)==null)&&t.matches(Hb))}function v8(e){var t;return(t=e==null?void 0:e.clientHeight)!=null?t:0}function wY(e){if(!e)return 0;var t=Do(e),n=Ud(t),s=GL(n);return y8(t)+y8(n)+s}function GL(e){var t,n;if(!e)return 0;var s=e.querySelector(ua(Nr.categoryContent));return((t=e==null?void 0:e.clientHeight)!=null?t:0)-((n=s==null?void 0:s.clientHeight)!=null?n:0)}function LIe(e){return e?NY(e)<GL(Ud(e)):!1}function jY(e){return e?e.matches(ua(Nr.scrollBody))?e:e.querySelector(ua(Nr.scrollBody)):null}function NY(e){var t,n;return e?wY(e)-((t=(n=SY(e))==null?void 0:n.scrollTop)!=null?t:0):0}function SY(e){var t;return e&&(t=e.closest(ua(Nr.scrollBody)))!=null?t:null}function MIe(e){var t=Do(e),n=Ud(t);return b8(t)+b8(n)}function y8(e){var t;return(t=e==null?void 0:e.offsetTop)!=null?t:0}function b8(e){var t;return(t=e==null?void 0:e.offsetLeft)!=null?t:0}function qL(e){var t;return(t=IIe(Do(e),"unified"))!=null?t:null}function CY(e){var t=qL(e);return t?$L(t):null}function kY(e){return e?{unified:qL(e),originalUnified:CY(e)}:{unified:null,originalUnified:null}}function IIe(e,t){var n;return(n=TIe(e)[t])!=null?n:null}function TIe(e){var t;return(t=e==null?void 0:e.dataset)!=null?t:{}}function YL(e){return e.classList.contains(Nr.visible)}function EY(e){return e?e.classList.contains(Nr.hidden):!0}function mh(e){return e?Array.from(e.querySelectorAll(kIe)):[]}function LY(e){if(!e)return null;var t=mh(e),n=t.slice(-1),s=n[0];return s?YL(s)?s:JL(s):null}function MY(e){var t=e.nextElementSibling;return t?YL(t)?t:MY(t):ZL(Uw(e))}function JL(e){var t=e.previousElementSibling;return t?YL(t)?t:JL(t):LY(zw(e))}function ZL(e){if(!e)return null;var t=mh(e);return NIe(e,t,.1)}function zw(e){var t=Ud(e);if(!t)return null;var n=t.previousElementSibling;return n?EY(n)?zw(n):n:null}function Uw(e){var t=Ud(e);if(!t)return null;var n=t.nextElementSibling;return n?EY(n)?Uw(n):n:null}function Ud(e){return e?e.closest(ua(Nr.category)):null}function IY(e){return e?e.closest(ua(Nr.categoryContent)):null}function TY(e){return e.split("-").map(function(t){return String.fromCodePoint(parseInt(t,16))}).join("")}var AY="epr_suggested";function _Y(e){try{var t,n,s;if(!((t=window)!=null&&t.localStorage))return[];var a=JSON.parse((n=(s=window)==null?void 0:s.localStorage.getItem(AY))!=null?n:"[]");return e===Op.FREQUENT?a.sort(function(i,o){return o.count-i.count}):a}catch(i){return[]}}function AIe(e,t){var n=_Y(),s=Ia(e,t),a=Ia(e),i=n.find(function(c){var u=c.unified;return u===s}),o;i?o=[i].concat(n.filter(function(c){return c!==i})):(i={unified:s,original:a,count:0},o=[i].concat(n)),i.count++,o.length=Math.min(o.length,14);try{var l;(l=window)==null||l.localStorage.setItem(AY,JSON.stringify(o))}catch(c){}}function _Ie(e){return e.category===jr.CUSTOM}function OY(e){return e.imgUrl!==void 0}function $Y(e,t){var n=d.useRef(),s=hY(),a=fMe(),i=Jh(),o=i[1],l=pf(),c=RL(),u=c[0],f=bMe(t),h=qq(),g=h[1],m=mf(),p=gf(),v=d.useCallback(function(w){if(!a.current){l();var j=w8(w),N=j[0],L=j[1];if(!(!N||!L)){var k=XLe(L)||u;g(),AIe(N,k),f(OIe(N,k,p,m),w)}}},[u,l,a,f,g,m,p]),b=d.useCallback(function(w){var j;n.current&&clearTimeout(n.current);var N=w8(w),L=N[0];!L||!qh(L)||(n.current=(j=window)==null?void 0:j.setTimeout(function(){a.current=!0,n.current=void 0,l(),s(w.target),o(L)},500))},[a,l,s,o]),y=d.useCallback(function(){n.current?(clearTimeout(n.current),n.current=void 0):a.current&&requestAnimationFrame(function(){a.current=!1})},[a]);d.useEffect(function(){if(e.current){var x=e.current;return x.addEventListener("click",v,{passive:!0}),x.addEventListener("mousedown",b,{passive:!0}),x.addEventListener("mouseup",y,{passive:!0}),function(){x==null||x.removeEventListener("click",v),x==null||x.removeEventListener("mousedown",b),x==null||x.removeEventListener("mouseup",y)}}},[e,v,b,y])}function w8(e){var t=e==null?void 0:e.target;return EIe(t)?VL(t):[]}function OIe(e,t,n,s){var a=xx(e);if(OY(e)){var i=Ia(e);return{activeSkinTone:t,emoji:i,getImageUrl:function(){return e.imgUrl},imageUrl:e.imgUrl,isCustom:!0,names:a,unified:i,unifiedWithoutSkinTone:i}}var o=Ia(e,t);return{activeSkinTone:t,emoji:TY(o),getImageUrl:function(c){return c===void 0&&(c=n!=null?n:yi.APPLE),s(o,c)},imageUrl:s(o,n!=null?n:yi.APPLE),isCustom:!1,names:a,unified:o,unifiedWithoutSkinTone:Ia(e)}}function wx(e){return d.createElement("button",Object.assign({type:"button"},e,{className:Lr($Ie.button,e.className)}),e.children)}var $Ie=bn.create({button:{".":"epr-btn",cursor:"pointer",border:"0",background:"none",outline:"none"}});function PIe(e){var t,n=e.emojiNames,s=e.unified,a=e.hidden,i=e.hiddenOnSearch,o=e.showVariations,l=o===void 0?!0:o,c=e.hasVariations,u=e.children,f=e.className,h=e.noBackground,g=h===void 0?!1:h;return d.createElement(wx,{className:Lr(cN.emoji,a&&_L.hidden,i&&hf.hiddenOnSearch,(t={},t[Nr.visible]=!a&&!i,t),!!(c&&l)&&cN.hasVariations,g&&cN.noBackground,f),"data-unified":s,"aria-label":DIe(n),"data-full-name":n},u)}function DIe(e){var t;return e[0].match("flag-")&&(t=e[1])!=null?t:e[0]}var cN=bn.create({emoji:{".":Nr.emoji,position:"relative",width:"var(--epr-emoji-fullsize)",height:"var(--epr-emoji-fullsize)",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"var(--epr-emoji-fullsize)",maxHeight:"var(--epr-emoji-fullsize)",borderRadius:"8px",overflow:"hidden",transition:"background-color 0.2s",":hover":{backgroundColor:"var(--epr-emoji-hover-color)"},":focus":{backgroundColor:"var(--epr-focus-bg-color)"}},noBackground:{background:"none",":hover":{backgroundColor:"transparent",background:"none"},":focus":{backgroundColor:"transparent",background:"none"}},hasVariations:{".":Nr.emojiHasVariations,":after":{content:"",display:"block",width:"0",height:"0",right:"0px",bottom:"1px",position:"absolute",borderLeft:"4px solid transparent",borderRight:"4px solid transparent",transform:"rotate(135deg)",borderBottom:"4px solid var(--epr-emoji-variation-indicator-color)",zIndex:"var(--epr-emoji-variations-indictator-z-index)"},":hover:after":{borderBottom:"4px solid var(--epr-emoji-variation-indicator-color-hover)"}}}),Vb=bn.create({external:{".":Nr.external,fontSize:"0"},common:{alignSelf:"center",justifySelf:"center",display:"block"}});function j8(e){var t=e.emojiName,n=e.style,s=e.lazyLoad,a=s===void 0?!1:s,i=e.imgUrl,o=e.onError,l=e.className;return d.createElement("img",{src:i,alt:t,className:Lr(RIe.emojiImag,Vb.external,Vb.common,l),loading:a?"lazy":"eager",onError:o,style:n})}var RIe=bn.create({emojiImag:{".":"epr-emoji-img",maxWidth:"var(--epr-emoji-fullsize)",maxHeight:"var(--epr-emoji-fullsize)",minWidth:"var(--epr-emoji-fullsize)",minHeight:"var(--epr-emoji-fullsize)",padding:"var(--epr-emoji-padding)"}});function FIe(e){var t=e.unified,n=e.style,s=e.className;return d.createElement("span",{className:Lr(BIe.nativeEmoji,Vb.common,Vb.external,s),"data-unified":t,style:n},TY(t))}var BIe=bn.create({nativeEmoji:{".":"epr-emoji-native",fontFamily:'"Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "EmojiOne Color", "Android Emoji"!important',position:"relative",lineHeight:"100%",fontSize:"var(--epr-emoji-size)",textAlign:"center",alignSelf:"center",justifySelf:"center",letterSpacing:"0",padding:"var(--epr-emoji-padding)"}});function y6(e){var t=e.emoji,n=e.unified,s=e.emojiStyle,a=e.size,i=e.lazyLoad,o=e.getEmojiUrl,l=o===void 0?Bq:o,c=e.className,u=Gq(),f=u[1],h={};a&&(h.width=h.height=h.fontSize=a+"px");var g=t||gh(n);if(!g)return null;if(OY(g))return d.createElement(j8,{style:h,emojiName:n,emojiStyle:yi.NATIVE,lazyLoad:i,imgUrl:g.imgUrl,onError:m,className:c});return d.createElement(d.Fragment,null,s===yi.NATIVE?d.createElement(FIe,{unified:n,style:h,className:c}):d.createElement(j8,{style:h,emojiName:x6(g),emojiStyle:s,lazyLoad:i,imgUrl:l(n,s),onError:m,className:c}));function m(){f(function(p){return new Set(p).add(n)})}}function Ww(e){var t=e.emoji,n=e.unified,s=e.hidden,a=e.hiddenOnSearch,i=e.emojiStyle,o=e.showVariations,l=o===void 0?!0:o,c=e.size,u=e.lazyLoad,f=e.getEmojiUrl,h=e.className,g=e.noBackground,m=g===void 0?!1:g,p=qh(t);return d.createElement(PIe,{hasVariations:p,showVariations:l,hidden:s,hiddenOnSearch:a,emojiNames:xx(t),unified:n,noBackground:m},d.createElement(y6,{unified:n,emoji:t,size:c,emojiStyle:i,lazyLoad:u,getEmojiUrl:f,className:h}))}var zIe="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI4LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMCA4MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNNS43LDEwLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40QzYsMTAuOSw2LjEsMTEsNi4zLDExaDMuNHYzLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40CgljMC4xLDAuMSwwLjIsMC4yLDAuNCwwLjJjMC4zLDAsMC41LTAuMiwwLjUtMC41di0zLjRoMy40YzAuMywwLDAuNS0wLjIsMC41LTAuNXMtMC4yLTAuNS0wLjUtMC41aC0zLjRWNi43YzAtMC4zLTAuMi0wLjUtMC41LTAuNQoJQzkuOCw2LDkuNiw2LjIsOS42LDYuNXYzLjRINi4yQzUuOSw5LjksNS43LDEwLjEsNS43LDEwLjRMNS43LDEwLjR6Ii8+CjxwYXRoIGZpbGw9IiMzMzcxQjciIGQ9Ik01LjcsMzAuNGMwLDAuMSwwLjEsMC4zLDAuMiwwLjRTNi4xLDMxLDYuMywzMWgzLjR2My40YzAsMC4xLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMiwwLjIsMC40LDAuMgoJYzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMy40aDMuNGMwLjMsMCwwLjUtMC4yLDAuNS0wLjVzLTAuMi0wLjUtMC41LTAuNWgtMy40di0zLjRjMC0wLjMtMC4yLTAuNS0wLjUtMC41cy0wLjUsMC4yLTAuNSwwLjV2My40SDYuMgoJQzUuOSwyOS45LDUuNywzMC4xLDUuNywzMC40TDUuNywzMC40eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNNS43LDUwLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40QzYsNTAuOSw2LjEsNTEsNi4zLDUxaDMuNHYzLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40CgljMC4xLDAuMSwwLjIsMC4yLDAuNCwwLjJjMC4zLDAsMC41LTAuMiwwLjUtMC41di0zLjRoMy40YzAuMywwLDAuNS0wLjIsMC41LTAuNXMtMC4yLTAuNS0wLjUtMC41aC0zLjR2LTMuNGMwLTAuMy0wLjItMC41LTAuNS0wLjUKCXMtMC41LDAuMi0wLjUsMC41djMuNEg2LjJDNS45LDQ5LjksNS43LDUwLjEsNS43LDUwLjRMNS43LDUwLjR6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik01LjcsNzAuNGMwLDAuMSwwLjEsMC4zLDAuMiwwLjRTNi4xLDcxLDYuMyw3MWgzLjR2My40YzAsMC4xLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMiwwLjIsMC40LDAuMgoJYzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMy40aDMuNGMwLjMsMCwwLjUtMC4yLDAuNS0wLjVzLTAuMi0wLjUtMC41LTAuNWgtMy40di0zLjRjMC0wLjMtMC4yLTAuNS0wLjUtMC41cy0wLjUsMC4yLTAuNSwwLjV2My40SDYuNAoJQzUuOSw2OS45LDUuNyw3MC4xLDUuNyw3MC40TDUuNyw3MC40eiIvPgo8L3N2Zz4=";function UIe(){var e=Yh(),t=e[1];return d.createElement(wx,{"aria-label":"Show all Emojis",title:"Show all Emojis",tabIndex:0,className:Lr(WIe.plusSign),onClick:function(){return t(!1)}})}var WIe=bn.create(Ln({plusSign:{fontSize:"20px",padding:"17px",color:"var(--epr-text-color)",borderRadius:"50%",textAlign:"center",lineHeight:"100%",width:"20px",height:"20px",display:"flex",justifyContent:"center",alignItems:"center",transition:"background-color 0.2s ease-in-out",":after":{content:"",minWidth:"20px",minHeight:"20px",backgroundImage:"url("+zIe+")",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",backgroundPositionY:"0"},":hover":{color:"var(--epr-highlight-color)",backgroundColor:"var(--epr-hover-bg-color-reduced-opacity)",":after":{backgroundPositionY:"-20px"}},":focus":{color:"var(--epr-highlight-color)",backgroundColor:"var(--epr-hover-bg-color-reduced-opacity)",":after":{backgroundPositionY:"-40px"}}}},xd("plusSign",{":after":{backgroundPositionY:"-40px"},":hover:after":{backgroundPositionY:"-60px"}})));function HIe(){var e=Yh(),t=e[0],n=_Me(),s=IMe();$Y(n,Dp.REACTIONS);var a=gf(),i=Zq(),o=mf();return t?d.createElement("ul",{className:Lr(N8.list,!t&&_L.hidden),ref:n},s.map(function(l){return d.createElement("li",{key:l},d.createElement(Ww,{emoji:gh(l),emojiStyle:a,unified:l,showVariations:!1,className:Lr(N8.emojiButton),noBackground:!0,getEmojiUrl:o}))}),i?d.createElement("li",null,d.createElement(UIe,null)):null):null}var N8=bn.create({list:{listStyle:"none",margin:"0",padding:"0 5px",display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%"},emojiButton:{":hover":{transform:"scale(1.2)"},":focus":{transform:"scale(1.2)"},":active":{transform:"scale(1.1)"},transition:"transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.5)"}});function VIe(e){var t=pf();d.useEffect(function(){var n=e.current;if(!n)return;n.addEventListener("scroll",s,{passive:!0});function s(){t()}return function(){n==null||n.removeEventListener("scroll",s)}},[e,t])}function GIe(){var e=Gq(),t=e[0],n=tIe();return function(s){var a=Ia(s),i=t.has(a),o=n(a);return{failedToLoad:i,filteredOut:o,hidden:i||o}}}function PY(e){var t=e.categoryConfig,n=e.children,s=e.hidden,a=e.hiddenOnSearch,i=OL(t),o=Rq(t);return d.createElement("li",{className:Lr(dN.category,s&&_L.hidden,a&&hf.hiddenOnSearch),"data-name":i,"aria-label":o},d.createElement("h2",{className:Lr(dN.label)},o),d.createElement("div",{className:Lr(dN.categoryContent)},n))}var dN=bn.create({category:{".":Nr.category,":not(:has(.epr-visible))":{display:"none"}},categoryContent:{".":Nr.categoryContent,display:"grid",gridGap:"0",gridTemplateColumns:"repeat(auto-fill, var(--epr-emoji-fullsize))",justifyContent:"space-between",margin:"var(--epr-category-padding)",position:"relative"},label:{".":Nr.label,alignItems:"center",backdropFilter:"blur(3px)",backgroundColor:"var(--epr-category-label-bg-color)",color:"var(--epr-category-label-text-color)",display:"flex",fontSize:"16px",fontWeight:"bold",height:"var(--epr-category-label-height)",margin:"0",padding:"var(--epr-category-label-padding)",position:"sticky",textTransform:"capitalize",top:"0",width:"100%",zIndex:"var(--epr-category-label-z-index)"}}),uN=!1;function qIe(){var e=d.useState(uN),t=e[0],n=e[1];return d.useEffect(function(){n(!0),uN=!0},[]),t||uN}function YIe(e){var t=e.categoryConfig,n=qq(),s=n[0],a=qIe(),i=NMe(),o=mf(),l=d.useMemo(function(){var f;return(f=_Y(i))!=null?f:[]},[s,i]),c=gf(),u=Vq();return a?d.createElement(PY,{categoryConfig:t,hiddenOnSearch:!0,hidden:l.length===0},l.map(function(f){var h=gh(f.original);return!h||u(h)?null:d.createElement(Ww,{showVariations:!1,unified:f.unified,emojiStyle:c,emoji:h,key:f.unified,getEmojiUrl:o})})):null}function JIe(){var e=Kq(),t=d.useRef(0);return d.createElement("ul",{className:Lr(QIe.emojiList)},e.map(function(n){var s=OL(n);return s===jr.SUGGESTED?d.createElement(YIe,{key:s,categoryConfig:n}):d.createElement(d.Suspense,{key:s},d.createElement(ZIe,{category:s,categoryConfig:n,renderdCategoriesCountRef:t}))}))}function ZIe(e){var t=e.category,n=e.categoryConfig,s=e.renderdCategoriesCountRef,a=GIe(),i=SMe(),o=gf(),l=hMe(),c=RL(),u=c[0],f=Vq(),h=mf(),g=!Qq(),m=!l&&s.current>0?[]:JLe(t);m.length>0&&s.current++;var p=0,v=m.map(function(b){var y=Ia(b,u),x=a(b),w=x.failedToLoad,j=x.filteredOut,N=x.hidden,L=f(b);return(N||L)&&p++,L?null:d.createElement(Ww,{showVariations:g,key:y,emoji:b,unified:y,hidden:w,hiddenOnSearch:j,emojiStyle:o,lazyLoad:i,getEmojiUrl:h})});return d.createElement(PY,{categoryConfig:n,hidden:p===v.length},v)}var QIe=bn.create({emojiList:{".":Nr.emojiList,listStyle:"none",margin:"0",padding:"0"}}),KIe="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI1MHB4IgoJIGhlaWdodD0iMTVweCIgdmlld0JveD0iMCAwIDUwIDE1IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MCAxNSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJMYXllcl8xIj4KPC9nPgo8ZyBpZD0iTGF5ZXJfMiI+Cgk8cGF0aCBmaWxsPSIjRkZGRkZGIiBzdHJva2U9IiNFOEU3RTciIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEuODYtMC40M2w5LjgzLDExLjUzYzAuNTksMC42OSwxLjU2LDAuNjksMi4xNCwwbDkuODMtMTEuNTMiLz4KCTxwYXRoIGZpbGw9IiMwMTAyMDIiIHN0cm9rZT0iIzE1MTYxNyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMjYuODYtMC40M2w5LjgzLDExLjUzYzAuNTksMC42OSwxLjU2LDAuNjksMi4xNCwwbDkuODMtMTEuNTMiLz4KPC9nPgo8L3N2Zz4=",G0;(function(e){e[e.Up=0]="Up",e[e.Down=1]="Down"})(G0||(G0={}));function XIe(){var e=Rw(),t=OMe(),n=Jh(),s=n[0],a=gf(),i=tTe(t),o=i.getTop,l=i.getMenuDirection,c=iY(),u=eTe(t),f=mf(),h=Do(e.current),g=!!(s&&h&&qh(s)&&h.classList.contains(Nr.emojiHasVariations));d.useEffect(function(){g&&Bw(t.current)},[t,g,e]);var m,p;return!g&&e.current?c(null):(m=o(),p=u()),d.createElement("div",{ref:t,className:Lr(Vv.variationPicker,l()===G0.Down&&Vv.pointingUp,g&&Vv.visible),style:{top:m}},g&&s?[Ia(s)].concat(vx(s)).slice(0,6).map(function(v){return d.createElement(Ww,{key:v,emoji:s,unified:v,emojiStyle:a,showVariations:!1,getEmojiUrl:f})}):null,d.createElement("div",{className:Lr(Vv.pointer),style:p}))}function eTe(e){var t=Rw();return function(){var s={};if(!e.current)return s;if(t.current){var a=Do(t.current),i=MIe(a);if(!a)return s;s.left=i+(a==null?void 0:a.clientWidth)/2}return s}}function tTe(e){var t=Rw(),n=io(),s=G0.Up;return{getMenuDirection:a,getTop:i};function a(){return s}function i(){s=G0.Up;var o=0;if(!e.current)return 0;var l=v8(e.current);if(t.current){var c,u=n.current,f=Do(t.current),h=v8(f);o=wY(f);var g=(c=u==null?void 0:u.scrollTop)!=null?c:0;g>o-l&&(s=G0.Down,o+=h+l)}return o-l}}var Vv=bn.create(Ln({variationPicker:{".":Nr.variationPicker,position:"absolute",right:"15px",left:"15px",padding:"5px",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",borderRadius:"3px",display:"flex",alignItems:"center",justifyContent:"space-around",opacity:"0",visibility:"hidden",pointerEvents:"none",top:"-100%",border:"1px solid var(--epr-picker-border-color)",height:"var(--epr-emoji-variation-picker-height)",zIndex:"var(--epr-skin-variation-picker-z-index)",background:"var(--epr-emoji-variation-picker-bg-color)",transform:"scale(0.9)",transition:"transform 0.1s ease-out, opacity 0.2s ease-out"},visible:{opacity:"1",visibility:"visible",pointerEvents:"all",transform:"scale(1)"},pointingUp:{".":"pointing-up",transformOrigin:"center 0%",transform:"scale(0.9)"},".pointing-up":{pointer:{top:"0",transform:"rotate(180deg) translateY(100%) translateX(18px)"}},pointer:{".":"epr-emoji-pointer",content:"",position:"absolute",width:"25px",height:"15px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"50px 15px",top:"100%",transform:"translateX(-18px)",backgroundImage:"url("+KIe+")"}},xd("pointer",{backgroundPosition:"-25px 0"})));function rTe(){var e=io();return VIe(e),$Y(e,Dp.PICKER),GMe(),d.createElement("div",{className:Lr(nTe.body,hf.hiddenOnReactions),ref:e},d.createElement(XIe,null),d.createElement(JIe,null))}var nTe=bn.create({body:{".":Nr.scrollBody,flex:"1",overflowY:"scroll",overflowX:"hidden",position:"relative"}});function sTe(e,t){if(!e||!t)return 0;var n=e.getBoundingClientRect(),s=t.getBoundingClientRect();return s.height-(n.y-s.y)}function aTe(e,t){var n=io(),s=dY(),a=cY();d.useEffect(function(){if(!e)return;var i=n.current;i==null||i.addEventListener("keydown",c,{passive:!0}),i==null||i.addEventListener("mouseover",u,!0),i==null||i.addEventListener("focus",o,!0),i==null||i.addEventListener("mouseout",l,{passive:!0}),i==null||i.addEventListener("blur",l,!0);function o(f){var h=Do(f.target);if(!h)return l();var g=kY(h),m=g.unified,p=g.originalUnified;if(!m||!p)return l();t({unified:m,originalUnified:p})}function l(f){if(f){var h=f.relatedTarget;if(!Do(h))return t(null)}t(null)}function c(f){f.key==="Escape"&&t(null)}function u(f){if(!s()){var h=Do(f.target);if(h){var g=sTe(h,i),m=h.getBoundingClientRect().height;if(g<m)return iTe(h,t);Ei(h)}}}return function(){i==null||i.removeEventListener("mouseover",u),i==null||i.removeEventListener("mouseout",l),i==null||i.removeEventListener("focus",o,!0),i==null||i.removeEventListener("blur",l,!0),i==null||i.removeEventListener("keydown",c)}},[n,e,t,s,a])}function iTe(e,t){var n,s=kY(e),a=s.unified,i=s.originalUnified;!a||!i||((n=document.activeElement)==null||n.blur==null||n.blur(),t({unified:a,originalUnified:i}))}var Gv,Fp;(function(e){e.ROW="FlexRow",e.COLUMN="FlexColumn"})(Fp||(Fp={}));function DY(e){var t=e.children,n=e.className,s=e.style,a=s===void 0?{}:s,i=e.direction,o=i===void 0?Fp.ROW:i;return d.createElement("div",{style:Ln({},a),className:Lr(S8.flex,n,S8[o])},t)}var S8=bn.create((Gv={flex:{display:"flex"}},Gv[Fp.ROW]={flexDirection:"row"},Gv[Fp.COLUMN]={flexDirection:"column"},Gv));function oTe(e){var t=e.className,n=e.style,s=n===void 0?{}:n;return d.createElement("div",{style:Ln({flex:1},s),className:Lr(t)})}function lTe(e){var t=e.children,n=e.className,s=e.style;return d.createElement("div",{style:Ln({},s,{position:"absolute"}),className:n},t)}function Hw(e){var t=e.children,n=e.className,s=e.style;return d.createElement("div",{style:Ln({},s,{position:"relative"}),className:n},t)}function cTe(e){var t=e.isOpen,n=e.onClick,s=e.isActive,a=e.skinToneVariation,i=e.style;return d.createElement(wx,{style:i,onClick:n,className:Lr("epr-tone-"+a,fN.tone,!t&&fN.closedTone,s&&fN.active),"aria-pressed":s,"aria-label":"Skin tone "+GLe[a]})}var fN=bn.create({closedTone:{opacity:"0",zIndex:"0"},active:{".":"epr-active",zIndex:"1",opacity:"1"},tone:{".":"epr-tone",width:"var(--epr-skin-tone-size)",display:"block",cursor:"pointer",borderRadius:"4px",height:"var(--epr-skin-tone-size)",position:"absolute",right:"0",transition:"transform 0.3s ease-in-out, opacity 0.35s ease-in-out",zIndex:"0",border:"1px solid var(--epr-skin-tone-outer-border-color)",boxShadow:"inset 0px 0px 0 1px var(--epr-skin-tone-inner-border-color)",":hover":{boxShadow:"0 0 0 3px var(--epr-active-skin-hover-color), inset 0px 0px 0 1px var(--epr-skin-tone-inner-border-color)"},":focus":{boxShadow:"0 0 0 3px var(--epr-focus-bg-color)"},"&.epr-tone-neutral":{backgroundColor:"#ffd225"},"&.epr-tone-1f3fb":{backgroundColor:"#ffdfbd"},"&.epr-tone-1f3fc":{backgroundColor:"#e9c197"},"&.epr-tone-1f3fd":{backgroundColor:"#c88e62"},"&.epr-tone-1f3fe":{backgroundColor:"#a86637"},"&.epr-tone-1f3ff":{backgroundColor:"#60463a"}}}),vm=28;function dTe(){return d.createElement(Hw,{style:{height:vm}},d.createElement(lTe,{style:{bottom:0,right:0}},d.createElement(RY,{direction:Bp.VERTICAL})))}function RY(e){var t=e.direction,n=t===void 0?Bp.HORIZONTAL:t,s=FL(),a=Qq(),i=yx(),o=i[0],l=i[1],c=RL(),u=c[0],f=c[1],h=wMe(),g=pf(),m=xf();if(a)return null;var p=vm*Ub.length+"px",v=o?p:vm+"px",b=n===Bp.VERTICAL;return d.createElement(Hw,{className:Lr(Vg.skinTones,b&&Vg.vertical,o&&Vg.open,b&&o&&Vg.verticalShadow),style:b?{flexBasis:v,height:v}:{flexBasis:v}},d.createElement("div",{className:Lr(Vg.select),ref:s},Ub.map(function(y,x){var w=y===u;return d.createElement(cTe,{key:y,skinToneVariation:y,isOpen:o,style:{transform:Lr(b?"translateY(-"+x*(o?vm:0)+"px)":"translateX(-"+x*(o?vm:0)+"px)",o&&w&&"scale(1.3)")},isActive:w,onClick:function(){o?(f(y),h(y),m()):l(!0),g()}})})))}var Bp;(function(e){e.VERTICAL="epr-vertical",e.HORIZONTAL="epr-horizontal"})(Bp||(Bp={}));var Vg=bn.create({skinTones:{".":"epr-skin-tones","--":{"--epr-skin-tone-size":"15px"},display:"flex",alignItems:"center",justifyContent:"flex-end",transition:"all 0.3s ease-in-out",padding:"10px 0"},vertical:{padding:"9px",alignItems:"flex-end",flexDirection:"column",borderRadius:"6px",border:"1px solid var(--epr-bg-color)"},verticalShadow:{boxShadow:"0px 0 7px var(--epr-picker-border-color)"},open:{backdropFilter:"blur(5px)",background:"var(--epr-skin-tone-picker-menu-color)",".epr-active":{border:"1px solid var(--epr-active-skin-tone-indicator-border-color)"}},select:{".":"epr-skin-tone-select",position:"relative",width:"var(--epr-skin-tone-size)",height:"var(--epr-skin-tone-size)"}});function uTe(){var e=Xq(),t=gY(),n=Yh(),s=n[0];return e.showPreview?d.createElement(DY,{className:Lr(Wm.preview,hf.hiddenOnReactions,s&&Wm.hideOnReactions)},d.createElement(fTe,null),d.createElement(oTe,null),t?d.createElement(dTe,null):null):null}function fTe(){var e,t=Xq(),n=d.useState(null),s=n[0],a=n[1],i=gf(),o=Jh(),l=o[0],c=mf();aTe(t.showPreview,a);var u=gh((e=s==null?void 0:s.unified)!=null?e:s==null?void 0:s.originalUnified),f=u!=null&&s!=null;return d.createElement(h,null);function h(){var g=l!=null?l:gh(t.defaultEmoji);if(!g)return null;var m=l?x6(l):t.defaultCaption;return d.createElement(d.Fragment,null,d.createElement("div",null,f?d.createElement(y6,{unified:s==null?void 0:s.unified,emoji:u,emojiStyle:i,size:45,getEmojiUrl:c,className:Lr(Wm.emoji)}):g?d.createElement(y6,{unified:Ia(g),emoji:g,emojiStyle:i,size:45,getEmojiUrl:c,className:Lr(Wm.emoji)}):null),d.createElement("div",{className:Lr(Wm.label)},f?x6(u):m))}}var Wm=bn.create({preview:{alignItems:"center",borderTop:"1px solid var(--epr-preview-border-color)",height:"var(--epr-preview-height)",padding:"0 var(--epr-horizontal-padding)",position:"relative",zIndex:"var(--epr-preview-z-index)"},label:{color:"var(--epr-preview-text-color)",fontSize:"var(--epr-preview-text-size)",padding:"var(--epr-preview-text-padding)",textTransform:"capitalize"},emoji:{padding:"0"},hideOnReactions:{opacity:"0",transition:"opacity 0.5s ease-in-out"}});function hTe(e){var t;return(t=e==null?void 0:e.getAttribute("data-name"))!=null?t:null}function gTe(e){var t=io();d.useEffect(function(){var n=new Map,s=t.current,a=new IntersectionObserver(function(i){if(s){for(var o=kLe(i),l;!(l=o()).done;){var c=l.value,u=hTe(c.target);n.set(u,c.intersectionRatio)}var f=Array.from(n),h=f[f.length-1];if(h[1]==1)return e(h[0]);for(var g=0,m=f;g<m.length;g++){var p=m[g],v=p[0],b=p[1];if(b){e(v);break}}}},{threshold:[0,1]});s==null||s.querySelectorAll(ua(Nr.category)).forEach(function(i){a.observe(i)})},[t,e])}function mTe(){var e=io(),t=bx();return function(s){var a;if(e.current){var i=(a=e.current)==null?void 0:a.querySelector('[data-name="'+s+'"]');if(i){var o=i.offsetTop||0;oY(t.current,o)}}}}function pTe(){var e=vMe();return e?e.length===0:!1}var xTe="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMDBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgMjAwIDgwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyMDAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8ZyBpZD0iTGF5ZXJfMTEiPgoJPGc+CgkJPHBhdGggZmlsbD0iIzMzNzFCNyIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTIuOCwyOS41YzAuNiwwLDEuMS0wLjUsMS4xLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjEtMS4yYy0wLjYsMC0xLjIsMC41LTEuMiwxLjJDMTEuNiwyOSwxMi4yLDI5LjUsMTIuOCwyOS41eiBNMTIuOCwyOGMwLjIsMCwwLjQsMC4yLDAuNCwwLjQKCQkJYzAsMC4yLTAuMiwwLjQtMC40LDAuNGMtMC4yLDAtMC40LTAuMi0wLjQtMC40QzEyLjQsMjguMSwxMi42LDI4LDEyLjgsMjh6Ii8+CgkJPHBhdGggZmlsbD0iIzMzNzFCNyIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsMjNjLTMuOCwwLTcsMy4xLTcsN2MwLDMuOCwzLjEsNyw3LDcKCQkJczctMy4xLDctN0MxNywyNi4yLDEzLjgsMjMsMTAsMjN6IE0xMCwzNi4yYy0zLjQsMC02LjItMi44LTYuMi02LjJjMC0zLjQsMi44LTYuMiw2LjItNi4yczYuMiwyLjgsNi4yLDYuMgoJCQlDMTYuMiwzMy40LDEzLjQsMzYuMiwxMCwzNi4yeiIvPgoJCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjYsMzEuMmMtMC4xLTAuMS0wLjItMC4yLTAuMy0wLjJINS43CgkJCWMtMC4xLDAtMC4yLDAuMS0wLjMsMC4yYy0wLjEsMC4xLTAuMSwwLjIsMCwwLjRjMC43LDIsMi41LDMuMyw0LjYsMy4zczMuOS0xLjMsNC42LTMuM0MxNC43LDMxLjUsMTQuNywzMS4zLDE0LjYsMzEuMnogTTEwLDM0LjEKCQkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMywzMy4yLDExLjYsMzQuMSwxMCwzNC4xeiIvPgoJCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiwyOS41YzAuNiwwLDEuMi0wLjUsMS4yLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjItMS4yYy0wLjYsMC0xLjEsMC41LTEuMSwxLjJDNi4xLDI5LDYuNiwyOS41LDcuMiwyOS41eiBNNy4yLDI4YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDNi44LDI4LjEsNywyOCw3LjIsMjh6Ii8+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNNjQuMSwzMy40bDIuMywwYzAuMiwwLDAuNCwwLjIsMC40LDAuNHYyLjFjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjMKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40di0yLjFDNjMuNywzMy42LDYzLjgsMzMuNCw2NC4xLDMzLjR6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTczLjUsMzMuNWgyLjRjMC4yLDAsMC40LDAuMiwwLjQsMC40djJjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjQKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40bDAtMkM3My4xLDMzLjYsNzMuMywzMy41LDczLjUsMzMuNXoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNNjMuNywyOC40aDEyLjZ2NUg2My43VjI4LjR6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTY1LjUsMjMuNmg4LjljMSwwLDEuOSwwLjgsMS45LDEuOXYzLjFINjMuN3YtMy4xQzYzLjcsMjQuNSw2NC41LDIzLjYsNjUuNSwyMy42eiIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjMzM3MUI3IiBjeD0iNjYuMiIgY3k9IjMwLjkiIHJ4PSIwLjkiIHJ5PSIxIi8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSI3My44IiBjeT0iMzAuOSIgcng9IjAuOSIgcnk9IjEiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNOTYuNCwzMGMwLDMuNi0yLjksNi41LTYuNCw2LjVzLTYuNC0yLjktNi40LTYuNXMyLjktNi41LDYuNC02LjVTOTYuNCwyNi40LDk2LjQsMzB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTk2LjMsMjguNmMwLDAsMCwwLjEsMCwwLjFjLTAuOSwwLjEtMi45LDAuMS00LjYtMS4xYy0xLjEtMC44LTItMS43LTIuNi0yLjUKCQkJCWMtMC4zLTAuNC0wLjYtMC44LTAuNy0xYy0wLjEtMC4xLTAuMS0wLjEtMC4xLTAuMmMwLjUtMC4xLDEuMi0wLjIsMi0wLjFjMS4yLDAsMi41LDAuMywzLjUsMS4xYzEsMC44LDEuNywxLjgsMi4xLDIuOAoJCQkJQzk2LjEsMjcuOSw5Ni4yLDI4LjMsOTYuMywyOC42eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik04NCwzMi4yYzAsMCwwLTAuMSwwLTAuMWMwLjktMC4yLDIuOS0wLjQsNC43LDAuNmMxLjEsMC43LDEuOSwxLjUsMi40LDIuMwoJCQkJYzAuNCwwLjUsMC42LDEsMC43LDEuM2MtMC40LDAuMS0xLDAuMi0xLjcsMC4zYy0xLDAtMi4xLTAuMS0zLjItMC44cy0xLjktMS42LTIuNC0yLjVDODQuMiwzMi44LDg0LjEsMzIuNSw4NCwzMi4yeiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTExNi4zLDI2LjhsLTEuNCwybC0wLjgtMC44bC0wLjYtMC42bDAsMC45bC0wLjEsOC4yaC02LjgKCQkJCWwtMC4xLTguMmwwLTAuOWwtMC42LDAuNmwtMC44LDAuOGwtMS40LTJsMi42LTIuOWMwLjEtMC4xLDAuMi0wLjEsMC4zLTAuMWgxLjNsMC40LDAuN2MwLjcsMS4zLDIuNiwxLjMsMy4zLTAuMWwwLjMtMC42aDEuMgoJCQkJYzAuMSwwLDAuMiwwLDAuMywwLjFsMC4zLTAuM2wtMC4zLDAuM0wxMTYuMywyNi44eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMTAuMSwyNy43aDJ2MC45YzAsMC40LTAuNCwwLjctMSwwLjdjLTAuNiwwLTEtMC4zLTEtMC43TDExMC4xLDI3LjdMMTEwLjEsMjcuN3oiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNMTI2LjgsMzQuM2MwLDEuMi0xLDIuMi0yLjIsMi4ycy0yLjItMS0yLjItMi4yczEtMi4yLDIuMi0yLjJTMTI2LjgsMzMuMSwxMjYuOCwzNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMzcuNiwzNC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJjLTEuMiwwLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMgoJCQkJQzEzNi42LDMyLjEsMTM3LjYsMzMuMSwxMzcuNiwzNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMjYuOCwyNC40djkuOSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMzcuNywyNC40djkuOSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMjYuOCwyMy41aDEwLjh2Mi43aC0xMC44QzEyNi44LDI2LjIsMTI2LjgsMjMuNSwxMjYuOCwyMy41eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSIjMzM3MUI3IiBkPSJNMTcwLjgsMjMuMUwxNzAuOCwyMy4xYy0wLjMsMC0wLjUsMC0wLjgsMGMtMi4xLDAtNCwxLTUuMywyLjVsLTAuMSwwbC0wLjEtMC4xbC0xLTEuMmwtMC4zLDMuNGwzLjQsMC4zCgkJCQlsLTEuMS0xLjNsLTAuMS0wLjFsMC4xLTAuMWMxLjEtMS41LDMtMi4zLDUtMi4xbDAsMGMzLjIsMC4zLDUuNSwzLjEsNS4yLDYuM2MtMC4zLDMtMy4xLDUuMy02LjEsNS4xYy0zLjEtMC4yLTUuNC0yLjktNS4zLTYKCQkJCWwtMS4zLTAuMWMtMC4yLDMuOCwyLjYsNy4xLDYuMyw3LjRjMy45LDAuMyw3LjMtMi42LDcuNi02LjVDMTc3LjIsMjYuOCwxNzQuNCwyMy41LDE3MC44LDIzLjF6Ii8+CgkJCTxwYXRoIGZpbGw9IiMzMzcxQjciIGQ9Ik0xNzAuMywyNy40YzAtMC4zLTAuMy0wLjYtMC42LTAuNnMtMC42LDAuMy0wLjYsMC42djMuMmMwLDAuMiwwLjEsMC4zLDAuMiwwLjRjMC4xLDAuMSwwLjMsMC4yLDAuNCwwLjIKCQkJCWgyLjRjMC40LDAsMC42LTAuMywwLjYtMC42YzAtMC40LTAuMy0wLjYtMC42LTAuNmgtMS42aC0wLjJ2LTAuMkwxNzAuMywyNy40TDE3MC4zLDI3LjR6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTE4Ni4yLDIzLjRoNy43YzEuNSwwLDIuNywxLjIsMi43LDIuN3Y3LjdjMCwxLjUtMS4yLDIuNy0yLjcsMi43aC03LjcKCQkJCWMtMS41LDAtMi43LTEuMi0yLjctMi43di03LjdDMTgzLjQsMjQuNiwxODQuNywyMy40LDE4Ni4yLDIzLjR6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSIxODYiIGN5PSIyOC45IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSIxOTQiIGN5PSIyNi43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTg2LDMzLjNsMC40LTAuM2MwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMSwwLjQKCQkJCWMwLjUsMC4yLDEsMC4yLDEuNS0wLjFsMC44LTAuNWMwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMS44LDAuOCIvPgoJCTwvZz4KCTwvZz4KCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjI1IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNTYsMjQuM2MtMC4yLTAuMS0wLjQtMC4xLTAuNSwwCgkJYzAsMC0wLjIsMC4xLTAuOSwwLjJjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMC44LTAuMy0xLjctMC41LTIuNS0wLjVjLTAuMiwwLTAuNCwwLTAuNSwwYy0xLjMsMC0yLjUsMC4zLTMuNiwxCgkJYy0wLjIsMC4xLTAuMiwwLjItMC4yLDAuNHYxMS42YzAsMC4zLDAuMSwwLjUsMC4zLDAuNWMwLjYsMCwwLjUtMC40LDAuNS0wLjZ2LTUuN2MwLjctMC4zLDMuMi0xLjEsNS44LTAuMQoJCWMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjgsMCwxLjMtMC4zLDEuMy0wLjNjMC4yLTAuMSwwLjMtMC4yLDAuMy0wLjR2LTUuN0MxNTYuMiwyNC42LDE1Ni4xLDI0LjQsMTU2LDI0LjN6IE0xNTUuNiwzMC4yCgkJYy0wLjEsMC0wLjcsMC4xLTEsMC4xYy0wLjcsMC0yLjQtMC4xLTMuOC0wLjZjLTIuNS0xLTUtMC41LTYuMi0wLjF2LTQuOWMwLjktMC41LDIuMi0wLjcsMy4yLTAuN2MwLjEsMCwwLjMsMCwwLjQsMAoJCWMwLjcsMCwxLjUsMC4yLDIuMiwwLjRjMS42LDAuNiwzLjUsMC43LDQuMywwLjdjMC4yLDAsMC44LDAsMS0wLjFWMzAuMnoiLz4KCTxnPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTQ4LjEsMjMuNWgzLjdjMi41LDAsNC41LDIsNC41LDQuNWMwLDAuNS0wLjQsMC45LTAuOSwwLjlINDQuNWMtMC41LDAtMC45LTAuNC0wLjktMC45CgkJCUM0My42LDI1LjUsNDUuNiwyMy41LDQ4LjEsMjMuNXoiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsMjguOGMtMC4yLDAuMS0wLjUsMS4yLDAsMS41YzEuNCwxLDguNSwwLjgsMTEuMywwLjYKCQkJYzAuOC0wLjEsMS42LTAuNCwxLjctMS4yYzAtMC4zLTAuMS0wLjYtMC42LTAuOSIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMC42TDQzLjMsMzFjLTAuMiwwLjUsMC4yLDEsMC43LDAuOWMwLjMtMC4xLDAuNSwwLDAuNywwLjMKCQkJbDAuMSwwLjJjMC4zLDAuNSwxLDAuNiwxLjUsMC4ybDAsMGMwLjMtMC4yLDAuNy0wLjMsMS0wLjJsMC44LDAuM2MwLjQsMC4yLDAuOCwwLjEsMS4yLDBsMC41LTAuMmMwLjQtMC4yLDAuOS0wLjIsMS4zLDBsMC41LDAuMgoJCQljMC40LDAuMiwwLjgsMC4yLDEuMiwwbDAuMi0wLjFjMC4zLTAuMiwwLjgtMC4yLDEuMSwwLjFsMC4yLDAuMmMwLjMsMC4zLDAuOCwwLjIsMS0wLjJsMC4xLTAuMmMwLjEtMC4yLDAtMC4zLDAuMi0wLjMKCQkJYzAuNSwwLDEuMi0wLjMsMS4xLTAuN2wtMC40LTEuMSIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMi4yYy0wLjEsMC4yLTAuMywwLjgsMCwxLjFjMC4zLDAuNCwzLDEuMSw2LjQsMS4xCgkJCWMyLjIsMCw0LjYtMC4zLDYtMC42YzAuNS0wLjEsMC45LTAuNSwwLjgtMC45YzAtMC4yLTAuMi0wLjUtMC40LTAuNyIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMy4zYzAsMC41LDAuNiwyLjMsMS4zLDIuN2MxLjgsMC44LDUuNywwLjcsOC4xLDAuNQoJCQljMS4zLTAuMSwyLjUtMC43LDMuMi0xLjhjMC4zLTAuNSwwLjUtMSwwLjUtMS40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUxLjYiIGN5PSIyNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUzIiBjeT0iMjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjMzM3MUI3IiBjeD0iNTMiIGN5PSIyNy4yIiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjU0LjMiIGN5PSIyNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUwLjkiIGN5PSIyNSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJPC9nPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNMjQuMiwzMXYtNy42YzAuMSwwLjEsMC44LDAuOSwyLjgsMy4xYzIuNS0xLjYsNS42LTAuNyw2LjksMGwyLjQtMy4xdjcuMQoJCQljMCwxLjItMC4xLDIuNS0wLjksMy40Yy0xLDEuMi0yLjcsMi41LTUuMywyLjVjLTIuOSwwLTQuNS0xLjUtNS4zLTIuOUMyNC4yLDMyLjksMjQuMiwzMiwyNC4yLDMxeiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMjEuMiwzMGw1LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDM0LjFsNS40LTEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCwzMGwtNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCwzNC4xbC01LjQtMS4yIi8+CgkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMzMzcxQjciIGQ9Ik0yOS41LDMyLjRMMjksMzEuN2MtMC4yLTAuMywwLTAuNiwwLjMtMC42aDEuNAoJCQljMC4zLDAsMC41LDAuNCwwLjMsMC42bC0wLjcsMWwwLDBjLTAuNywxLjItMi42LDEuMS0zLjEtMC4zbC0wLjEtMC4yYy0wLjEtMC4yLDAtMC40LDAuMi0wLjVzMC40LDAsMC41LDAuMmwwLjEsMC4yCgkJCUMyOC4zLDMyLjgsMjkuMSwzMi45LDI5LjUsMzIuNHoiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTMyLjQsMzIuMWwtMC4xLDAuMmMtMC40LDEtMS44LDEuMS0yLjMsMC4yIi8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjI3LjYiIGN5PSIyOS43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjMyLjQiIGN5PSIyOS43IiByeD0iMC43IiByeT0iMC43Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xMi44LDQ5LjVjMC42LDAsMS4xLTAuNSwxLjEtMS4xCgkJCWMwLTAuNi0wLjUtMS4yLTEuMS0xLjJjLTAuNiwwLTEuMiwwLjUtMS4yLDEuMkMxMS42LDQ5LDEyLjIsNDkuNSwxMi44LDQ5LjV6IE0xMi44LDQ4YzAuMiwwLDAuNCwwLjIsMC40LDAuNAoJCQljMCwwLjItMC4yLDAuNC0wLjQsMC40Yy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDMTIuNCw0OC4xLDEyLjYsNDgsMTIuOCw0OHoiLz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNC42LDUxLjJjLTAuMS0wLjEtMC4yLTAuMi0wLjMtMC4ySDUuNwoJCQljLTAuMSwwLTAuMiwwLjEtMC4zLDAuMmMtMC4xLDAuMS0wLjEsMC4yLDAsMC40YzAuNywyLDIuNSwzLjMsNC42LDMuM3MzLjktMS4zLDQuNi0zLjNDMTQuNyw1MS41LDE0LjcsNTEuMywxNC42LDUxLjJ6IE0xMCw1NC4xCgkJCWMtMS42LDAtMy0wLjktMy43LTIuMmg3LjNDMTMsNTMuMiwxMS42LDU0LjEsMTAsNTQuMXoiLz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik03LjIsNDkuNWMwLjYsMCwxLjItMC41LDEuMi0xLjEKCQkJYzAtMC42LTAuNS0xLjItMS4yLTEuMmMtMC42LDAtMS4xLDAuNS0xLjEsMS4yQzYuMSw0OSw2LjYsNDkuNSw3LjIsNDkuNXogTTcuMiw0OGMwLjIsMCwwLjQsMC4yLDAuNCwwLjRjMCwwLjItMC4yLDAuNC0wLjQsMC40CgkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40QzYuOCw0OC4xLDcsNDgsNy4yLDQ4eiIvPgoJCTxwYXRoIGZpbGw9IiNDMEMwQkYiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEwLDQzYy0zLjgsMC03LDMuMS03LDdjMCwzLjgsMy4xLDcsNyw3CgkJCXM3LTMuMSw3LTdDMTcsNDYuMiwxMy44LDQzLDEwLDQzeiBNMTAsNTYuMmMtMy40LDAtNi4yLTIuOC02LjItNi4yYzAtMy40LDIuOC02LjIsNi4yLTYuMnM2LjIsMi44LDYuMiw2LjIKCQkJQzE2LjIsNTMuNCwxMy40LDU2LjIsMTAsNTYuMnoiLz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik02NC4xLDUzLjRsMi4zLDBjMC4yLDAsMC40LDAuMiwwLjQsMC40djIuMWMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuMwoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjR2LTIuMUM2My43LDUzLjYsNjMuOCw1My40LDY0LjEsNTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNzMuNSw1My41aDIuNGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2MmMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuNAoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRsMC0yQzczLjEsNTMuNiw3My4zLDUzLjUsNzMuNSw1My41eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik02My43LDQ4LjRoMTIuNnY1SDYzLjdWNDguNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNjUuNSw0My42aDguOWMxLDAsMS45LDAuOCwxLjksMS45djMuMUg2My43di0zLjFDNjMuNyw0NC41LDY0LjUsNDMuNiw2NS41LDQzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiNDMEMwQkYiIGN4PSI2Ni4yIiBjeT0iNTAuOSIgcng9IjAuOSIgcnk9IjEiLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjczLjgiIGN5PSI1MC45IiByeD0iMC45IiByeT0iMSIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik05Ni40LDUwYzAsMy42LTIuOSw2LjUtNi40LDYuNXMtNi40LTIuOS02LjQtNi41czIuOS02LjUsNi40LTYuNVM5Ni40LDQ2LjQsOTYuNCw1MHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNOTYuMyw0OC42YzAsMCwwLDAuMSwwLDAuMWMtMC45LDAuMS0yLjksMC4xLTQuNi0xLjJjLTEuMS0wLjgtMi0xLjctMi42LTIuNQoJCQkJYy0wLjMtMC40LTAuNi0wLjgtMC43LTFjLTAuMS0wLjEtMC4xLTAuMi0wLjEtMC4yYzAuNS0wLjEsMS4yLTAuMiwyLTAuMmMxLjIsMCwyLjUsMC4zLDMuNSwxLjFjMSwwLjgsMS43LDEuOCwyLjEsMi44CgkJCQlDOTYuMSw0Ny45LDk2LjIsNDguMyw5Ni4zLDQ4LjZ6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTg0LDUyLjJjMCwwLDAtMC4xLDAtMC4xYzAuOS0wLjIsMi45LTAuNCw0LjcsMC42YzEuMSwwLjcsMS45LDEuNSwyLjQsMi4zCgkJCQljMC40LDAuNSwwLjYsMSwwLjcsMS4zYy0wLjQsMC4xLTEsMC4yLTEuNywwLjNjLTEsMC0yLjEtMC4xLTMuMi0wLjhzLTEuOS0xLjYtMi40LTIuNUM4NC4yLDUyLjgsODQuMSw1Mi41LDg0LDUyLjJ6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNDYuOGwtMS40LDJsLTAuOC0wLjhsLTAuNi0wLjdsMCwwLjlsLTAuMSw4LjJoLTYuOAoJCQkJbC0wLjEtOC4ybDAtMC45bC0wLjYsMC43bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDQ2Ljh6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTExMC4xLDQ3LjdoMnYwLjljMCwwLjQtMC40LDAuNy0xLDAuN2MtMC42LDAtMS0wLjMtMS0wLjdMMTEwLjEsNDcuN0wxMTAuMSw0Ny43eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik0xMjYuOCw1NC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJzLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMlMxMjYuOCw1My4xLDEyNi44LDU0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEzNy42LDU0LjNjMCwxLjItMSwyLjItMi4yLDIuMmMtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yCgkJCQlDMTM2LjYsNTIuMSwxMzcuNiw1My4xLDEzNy42LDU0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEyNi44LDQ0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEzNy43LDQ0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEyNi44LDQzLjVoMTAuOHYyLjdoLTEwLjhDMTI2LjgsNDYuMiwxMjYuOCw0My41LDEyNi44LDQzLjV6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiNDMEMwQkYiIGQ9Ik0xNzAuOCw0My4xTDE3MC44LDQzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjUsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJbC0xLjMtMC4xYy0wLjIsMy44LDIuNiw3LjEsNi4zLDcuNGMzLjksMC4zLDcuMy0yLjYsNy42LTYuNUMxNzcuMiw0Ni44LDE3NC40LDQzLjUsMTcwLjgsNDMuMXoiLz4KCQkJPHBhdGggZmlsbD0iI0MwQzBCRiIgZD0iTTE3MC4zLDQ3LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42cy0wLjYsMC4zLTAuNiwwLjZ2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZjMC0wLjMtMC4zLTAuNi0wLjYtMC42aC0xLjZoLTAuMnYtMC4yTDE3MC4zLDQ3LjRMMTcwLjMsNDcuNHoiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNMTg2LjIsNDMuNGg3LjdjMS41LDAsMi43LDEuMiwyLjcsMi43djcuN2MwLDEuNS0xLjIsMi43LTIuNywyLjdoLTcuNwoJCQkJYy0xLjUsMC0yLjctMS4yLTIuNy0yLjd2LTcuN0MxODMuNCw0NC43LDE4NC43LDQzLjQsMTg2LjIsNDMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjE4NiIgY3k9IjQ4LjkiIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjE5NCIgY3k9IjQ2LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0xODYsNTMuM2wwLjQtMC4zYzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLDAuNAoJCQkJYzAuNSwwLjIsMSwwLjIsMS41LTAuMWwwLjgtMC41YzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLjgsMC44Ii8+CgkJPC9nPgoJPC9nPgoJPHBhdGggZmlsbD0iI0MwQzBCRiIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2Utd2lkdGg9IjAuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1Niw0NC4zYy0wLjItMC4xLTAuNC0wLjEtMC41LDAKCQljMCwwLTAuMiwwLjEtMC45LDAuMmMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCQljLTAuMiwwLjEtMC4yLDAuMi0wLjIsMC40djExLjZjMCwwLjMsMC4xLDAuNSwwLjMsMC41YzAuNiwwLDAuNS0wLjQsMC41LTAuNnYtNS43YzAuNy0wLjMsMy4yLTEuMSw1LjgtMC4xCgkJYzEuNiwwLjYsMy41LDAuNyw0LjMsMC43YzAuOCwwLDEuMy0wLjMsMS4zLTAuM2MwLjItMC4xLDAuMy0wLjIsMC4zLTAuNHYtNS43QzE1Ni4yLDQ0LjYsMTU2LjEsNDQuNCwxNTYsNDQuM3ogTTE1NS42LDUwLjIKCQljLTAuMSwwLTAuNywwLjEtMSwwLjFjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMi41LTEtNS0wLjUtNi4yLTAuMXYtNC45YzAuOS0wLjUsMi4yLTAuNywzLjItMC43YzAuMSwwLDAuMywwLDAuNCwwCgkJYzAuNywwLDEuNSwwLjIsMi4yLDAuNGMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVY1MC4yeiIvPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNDguMSw0My41aDMuN2MyLjUsMCw0LjUsMiw0LjUsNC41YzAsMC41LTAuNCwwLjktMC45LDAuOUg0NC41Yy0wLjUsMC0wLjktMC40LTAuOS0wLjkKCQkJQzQzLjYsNDUuNSw0NS42LDQzLjUsNDguMSw0My41eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw0OC44Yy0wLjIsMC4xLTAuNSwxLjIsMCwxLjVjMS40LDEsOC41LDAuOCwxMS4zLDAuNgoJCQljMC44LTAuMSwxLjYtMC40LDEuNy0xLjJjMC0wLjMtMC4xLTAuNi0wLjYtMC45Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUwLjZMNDMuMyw1MWMtMC4yLDAuNSwwLjIsMSwwLjcsMC45YzAuMy0wLjEsMC41LDAsMC43LDAuMwoJCQlsMC4xLDAuMmMwLjMsMC41LDEsMC42LDEuNSwwLjJsMCwwYzAuMy0wLjIsMC43LTAuMywxLTAuMmwwLjgsMC4zYzAuNCwwLjIsMC44LDAuMSwxLjIsMGwwLjUtMC4yYzAuNC0wLjIsMC45LTAuMiwxLjMsMGwwLjUsMC4yCgkJCWMwLjQsMC4yLDAuOCwwLjIsMS4yLDBsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjIsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yYzAuMS0wLjIsMC0wLjMsMC4yLTAuMwoJCQljMC41LDAsMS4yLTAuMywxLjEtMC43bC0wLjQtMS4xIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUyLjJjLTAuMSwwLjItMC4zLDAuOCwwLDEuMWMwLjMsMC40LDMsMS4xLDYuNCwxLjEKCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC41LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUzLjNjMCwwLjUsMC42LDIuMywxLjMsMi43YzEuOCwwLjgsNS43LDAuNyw4LjEsMC41CgkJCWMxLjMtMC4xLDIuNS0wLjcsMy4yLTEuOGMwLjMtMC41LDAuNS0xLDAuNS0xLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTEuNiIgY3k9IjQ2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTMiIGN5PSI0NSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCTxlbGxpcHNlIGZpbGw9IiNDMEMwQkYiIGN4PSI1MyIgY3k9IjQ3LjIiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTQuMyIgY3k9IjQ2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTAuOSIgY3k9IjQ1IiByeD0iMC4zIiByeT0iMC40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik0yNC4yLDUxdi03LjZjMC4xLDAuMSwwLjgsMC45LDIuOCwzLjFjMi41LTEuNyw1LjYtMC43LDYuOSwwbDIuNC0zLjF2Ny4xCgkJCWMwLDEuMi0wLjEsMi41LTAuOSwzLjRjLTEsMS4yLTIuNywyLjUtNS4zLDIuNWMtMi45LDAtNC41LTEuNS01LjMtMi45QzI0LjIsNTIuOSwyNC4yLDUyLDI0LjIsNTF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDUwbDUuNCwxLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTIxLjIsNTQuMWw1LjQtMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDUwbC01LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDU0LjFsLTUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0MwQzBCRiIgZD0iTTI5LjUsNTIuNEwyOSw1MS43Yy0wLjItMC4zLDAtMC42LDAuMy0wLjZoMS40CgkJCWMwLjMsMCwwLjUsMC40LDAuMywwLjZsLTAuNywxbDAsMGMtMC43LDEuMi0yLjYsMS4xLTMuMS0wLjNsLTAuMS0wLjJjLTAuMS0wLjIsMC0wLjQsMC4yLTAuNXMwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsNTIuOCwyOS4xLDUyLjksMjkuNSw1Mi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCw1Mi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iMjcuNiIgY3k9IjQ5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iMzIuNCIgY3k9IjQ5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjYsNzEuMmMtMC4xLTAuMS0wLjItMC4yLTAuMy0wLjJINS43CgkJCWMtMC4xLDAtMC4yLDAuMS0wLjMsMC4yYy0wLjEsMC4xLTAuMSwwLjIsMCwwLjRjMC43LDIsMi41LDMuMyw0LjYsMy4zczMuOS0xLjMsNC42LTMuM0MxNC43LDcxLjUsMTQuNyw3MS4zLDE0LjYsNzEuMnogTTEwLDc0LjEKCQkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMyw3My4yLDExLjYsNzQuMSwxMCw3NC4xeiIvPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjgsNjkuNWMwLjYsMCwxLjEtMC41LDEuMS0xLjEKCQkJYzAtMC42LTAuNS0xLjItMS4xLTEuMmMtMC42LDAtMS4yLDAuNS0xLjIsMS4yQzExLjYsNjksMTIuMiw2OS41LDEyLjgsNjkuNXogTTEyLjgsNjhjMC4yLDAsMC40LDAuMiwwLjQsMC40CgkJCWMwLDAuMi0wLjIsMC40LTAuNCwwLjRjLTAuMiwwLTAuNC0wLjItMC40LTAuNEMxMi40LDY4LjEsMTIuNiw2OCwxMi44LDY4eiIvPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiw2OS41YzAuNiwwLDEuMi0wLjUsMS4yLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjItMS4yYy0wLjYsMC0xLjEsMC41LTEuMSwxLjJDNi4xLDY5LDYuNiw2OS41LDcuMiw2OS41eiBNNy4yLDY4YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDNi44LDY4LjEsNyw2OCw3LjIsNjh6Ii8+CgkJPHBhdGggZmlsbD0iIzZBQTlERCIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsNjNjLTMuOCwwLTcsMy4xLTcsN2MwLDMuOCwzLjEsNyw3LDcKCQkJczctMy4xLDctN0MxNyw2Ni4yLDEzLjgsNjMsMTAsNjN6IE0xMCw3Ni4yYy0zLjQsMC02LjItMi44LTYuMi02LjJjMC0zLjQsMi44LTYuMiw2LjItNi4yczYuMiwyLjgsNi4yLDYuMgoJCQlDMTYuMiw3My40LDEzLjQsNzYuMiwxMCw3Ni4yeiIvPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTY0LjEsNzMuNGwyLjMsMGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2Mi4xYzAsMC4yLTAuMiwwLjQtMC40LDAuNGgtMi4zCgkJCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNHYtMi4xQzYzLjcsNzMuNiw2My44LDczLjQsNjQuMSw3My40eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik03My41LDczLjVoMi40YzAuMiwwLDAuNCwwLjIsMC40LDAuNHYyLjFjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjQKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40bDAtMi4xQzczLjEsNzMuNiw3My4zLDczLjUsNzMuNSw3My41eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik02My43LDY4LjRoMTIuNnY1SDYzLjdWNjguNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNNjUuNSw2My42aDguOWMxLDAsMS45LDAuOCwxLjksMS45djMuMUg2My43di0zLjFDNjMuNyw2NC41LDY0LjUsNjMuNiw2NS41LDYzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM2QUE5REQiIGN4PSI2Ni4yIiBjeT0iNzAuOSIgcng9IjAuOSIgcnk9IjAuOSIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNzMuOCIgY3k9IjcwLjkiIHJ4PSIwLjkiIHJ5PSIwLjkiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNOTYuNCw3MGMwLDMuNi0yLjksNi41LTYuNCw2LjVzLTYuNC0yLjktNi40LTYuNXMyLjktNi41LDYuNC02LjVTOTYuNCw2Ni40LDk2LjQsNzB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTk2LjMsNjguNmMwLDAsMCwwLjEsMCwwLjFjLTAuOSwwLjEtMi45LDAuMS00LjYtMS4yYy0xLjEtMC44LTItMS43LTIuNi0yLjUKCQkJCWMtMC4zLTAuNC0wLjYtMC44LTAuNy0xLjFjLTAuMS0wLjEtMC4xLTAuMi0wLjEtMC4yYzAuNS0wLjEsMS4yLTAuMiwyLTAuMmMxLjIsMCwyLjUsMC4zLDMuNSwxLjFjMSwwLjgsMS43LDEuOCwyLjEsMi44CgkJCQlDOTYuMSw2Ny45LDk2LjIsNjguMyw5Ni4zLDY4LjZ6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTg0LDcyLjJjMCwwLDAtMC4xLDAtMC4xYzAuOS0wLjIsMi45LTAuNCw0LjcsMC42YzEuMSwwLjcsMS45LDEuNSwyLjQsMi4zCgkJCQljMC40LDAuNSwwLjYsMSwwLjcsMS4zYy0wLjQsMC4xLTEsMC4yLTEuNywwLjNjLTEsMC0yLjEtMC4xLTMuMi0wLjhzLTEuOS0xLjYtMi40LTIuNUM4NC4yLDcyLjgsODQuMSw3Mi40LDg0LDcyLjJ6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNjYuOGwtMS40LDJsLTAuOC0wLjhsLTAuNi0wLjdsMCwwLjlsLTAuMSw4LjJoLTYuOAoJCQkJbC0wLjEtOC4ybDAtMC45bC0wLjYsMC43bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDY2Ljh6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTExMC4xLDY3LjdoMnYwLjljMCwwLjQtMC40LDAuNy0xLDAuN2MtMC42LDAtMS0wLjMtMS0wLjdMMTEwLjEsNjcuN0wxMTAuMSw2Ny43eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik0xMjYuOCw3NC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJzLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMlMxMjYuOCw3My4xLDEyNi44LDc0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEzNy42LDc0LjNjMCwxLjItMSwyLjItMi4yLDIuMmMtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yCgkJCQlDMTM2LjYsNzIuMSwxMzcuNiw3My4xLDEzNy42LDc0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEyNi44LDY0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEzNy43LDY0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEyNi44LDYzLjVoMTAuOHYyLjdoLTEwLjhDMTI2LjgsNjYuMiwxMjYuOCw2My41LDEyNi44LDYzLjV6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik0xNzAuOCw2My4xTDE3MC44LDYzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjQsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJbC0xLjMtMC4xYy0wLjIsMy44LDIuNiw3LjEsNi4zLDcuNGMzLjksMC4zLDcuMy0yLjYsNy42LTYuNUMxNzcuMiw2Ni44LDE3NC40LDYzLjUsMTcwLjgsNjMuMXoiLz4KCQkJPHBhdGggZmlsbD0iIzZBQTlERCIgZD0iTTE3MC4zLDY3LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42cy0wLjYsMC4zLTAuNiwwLjZ2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZTMTcyLjQsNzAsMTcyLDcwaC0xLjZoLTAuMnYtMC4yTDE3MC4zLDY3LjRMMTcwLjMsNjcuNHoiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNMTg2LjIsNjMuNGg3LjdjMS41LDAsMi43LDEuMiwyLjcsMi43djcuN2MwLDEuNS0xLjIsMi43LTIuNywyLjdoLTcuNwoJCQkJYy0xLjUsMC0yLjctMS4yLTIuNy0yLjd2LTcuN0MxODMuNCw2NC43LDE4NC43LDYzLjQsMTg2LjIsNjMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzZBQTlERCIgY3g9IjE4NiIgY3k9IjY4LjkiIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzZBQTlERCIgY3g9IjE5NCIgY3k9IjY2LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0xODYsNzMuM2wwLjQtMC4zYzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLDAuNAoJCQkJYzAuNSwwLjIsMSwwLjIsMS41LTAuMWwwLjgtMC41YzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLjgsMC44Ii8+CgkJPC9nPgoJPC9nPgoJPHBhdGggZmlsbD0iIzZBQTlERCIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2Utd2lkdGg9IjAuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1Niw2NC4zYy0wLjItMC4xLTAuNC0wLjEtMC41LDAKCQljMCwwLTAuMiwwLjEtMC45LDAuMmMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCQljLTAuMiwwLjEtMC4yLDAuMi0wLjIsMC40djExLjZjMCwwLjMsMC4xLDAuNSwwLjMsMC41YzAuNiwwLDAuNS0wLjQsMC41LTAuNnYtNS43YzAuNy0wLjMsMy4yLTEuMSw1LjgtMC4xCgkJYzEuNiwwLjYsMy41LDAuNyw0LjMsMC43YzAuOCwwLDEuMy0wLjMsMS4zLTAuM2MwLjItMC4xLDAuMy0wLjIsMC4zLTAuNHYtNS43QzE1Ni4yLDY0LjYsMTU2LjEsNjQuNCwxNTYsNjQuM3ogTTE1NS42LDcwLjIKCQljLTAuMSwwLTAuNywwLjEtMSwwLjFjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMi41LTEtNS0wLjUtNi4yLTAuMXYtNC45YzAuOS0wLjUsMi4yLTAuNywzLjItMC43YzAuMSwwLDAuMywwLDAuNCwwCgkJYzAuNywwLDEuNSwwLjIsMi4yLDAuNGMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVY3MC4yeiIvPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNNDguMSw2My41aDMuN2MyLjUsMCw0LjUsMiw0LjUsNC41YzAsMC41LTAuNCwwLjktMC45LDAuOUg0NC41Yy0wLjUsMC0wLjktMC40LTAuOS0wLjkKCQkJQzQzLjYsNjUuNSw0NS42LDYzLjUsNDguMSw2My41eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw2OC44Yy0wLjIsMC4xLTAuNSwxLjIsMCwxLjVjMS40LDAuOSw4LjUsMC44LDExLjMsMC42CgkJCWMwLjgtMC4xLDEuNi0wLjQsMS43LTEuMmMwLTAuMy0wLjEtMC42LTAuNi0wLjkiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsNzAuNkw0My4zLDcxYy0wLjIsMC41LDAuMiwxLDAuNywwLjljMC4zLTAuMSwwLjUsMC4xLDAuNywwLjMKCQkJbDAuMSwwLjJjMC4zLDAuNSwxLDAuNiwxLjUsMC4ybDAsMGMwLjMtMC4yLDAuNy0wLjMsMS0wLjJsMC44LDAuM2MwLjQsMC4yLDAuOCwwLjEsMS4yLDBsMC41LTAuMmMwLjQtMC4yLDAuOS0wLjIsMS4zLDBsMC41LDAuMgoJCQljMC40LDAuMiwwLjgsMC4yLDEuMi0wLjFsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjIsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yYzAuMS0wLjIsMC0wLjMsMC4yLTAuMwoJCQljMC41LDAsMS4yLTAuMywxLjEtMC43bC0wLjQtMS4xIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDcyLjJjLTAuMSwwLjItMC4zLDAuOCwwLDEuMWMwLjMsMC40LDMsMS4xLDYuNCwxLjEKCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC40LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDczLjNjMCwwLjUsMC42LDIuMywxLjMsMi43YzEuOCwwLjgsNS43LDAuNyw4LjEsMC41CgkJCWMxLjMtMC4xLDIuNS0wLjcsMy4yLTEuOGMwLjMtMC41LDAuNS0xLDAuNS0xLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTEuNiIgY3k9IjY2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTMiIGN5PSI2NSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCTxlbGxpcHNlIGZpbGw9IiM2QUE5REQiIGN4PSI1MyIgY3k9IjY3LjIiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTQuMyIgY3k9IjY2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTAuOSIgY3k9IjY1IiByeD0iMC4zIiByeT0iMC40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik0yNC4yLDcxdi03LjZjMC4xLDAuMSwwLjgsMC45LDIuOCwzLjFjMi41LTEuNyw1LjYtMC43LDYuOSwwbDIuNC0zLjF2Ny4xCgkJCWMwLDEuMi0wLjEsMi41LTAuOSwzLjRjLTEsMS4yLTIuNywyLjUtNS4zLDIuNWMtMi45LDAtNC41LTEuNS01LjMtMi45QzI0LjIsNzIuOSwyNC4yLDcyLDI0LjIsNzF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDcwLjFsNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMjEuMiw3NC4xbDUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTM4LjgsNzAuMWwtNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCw3NC4xbC01LjQtMS4yIi8+CgkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiM2QUE5REQiIGQ9Ik0yOS41LDcyLjRMMjksNzEuN2MtMC4yLTAuMywwLTAuNiwwLjMtMC42aDEuNAoJCQljMC4zLDAsMC41LDAuNCwwLjMsMC42bC0wLjcsMWwwLDBjLTAuNywxLjItMi42LDEuMS0zLjEtMC4zbC0wLjEtMC4yYy0wLjEtMC4yLDAtMC40LDAuMi0wLjVjMC4yLTAuMSwwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsNzIuOCwyOS4xLDcyLjksMjkuNSw3Mi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCw3Mi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iMjcuNiIgY3k9IjY5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iMzIuNCIgY3k9IjY5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCTwvZz4KPC9nPgo8Zz4KCTxwYXRoIGZpbGw9IiM4Njg2ODYiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjgsOS41YzAuNiwwLDEuMS0wLjUsMS4xLTEuMgoJCWMwLTAuNi0wLjUtMS4xLTEuMS0xLjFjLTAuNiwwLTEuMiwwLjUtMS4yLDEuMVMxMi4yLDkuNSwxMi44LDkuNXogTTEyLjgsNy45YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNEMxMi40LDguMSwxMi42LDcuOSwxMi44LDcuOXoiLz4KCTxwYXRoIGZpbGw9IiM4Njg2ODYiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiw5LjVjMC42LDAsMS4yLTAuNSwxLjItMS4yCgkJYzAtMC42LTAuNS0xLjEtMS4yLTEuMWMtMC42LDAtMS4xLDAuNS0xLjEsMS4xUzYuNiw5LjUsNy4yLDkuNXogTTcuMiw3LjljMC4yLDAsMC40LDAuMiwwLjQsMC40YzAsMC4yLTAuMiwwLjQtMC40LDAuNAoJCUM3LDguNyw2LjgsOC41LDYuOCw4LjNDNi44LDguMSw3LDcuOSw3LjIsNy45eiIvPgoJPHBhdGggZmlsbD0iIzg2ODY4NiIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTQuNiwxMS4yYy0wLjEtMC4xLTAuMi0wLjItMC4zLTAuMkg1LjcKCQljLTAuMSwwLTAuMiwwLjEtMC4zLDAuMmMtMC4xLDAuMS0wLjEsMC4yLDAsMC40YzAuNywyLDIuNSwzLjMsNC42LDMuM3MzLjktMS4zLDQuNi0zLjNDMTQuNywxMS40LDE0LjcsMTEuMywxNC42LDExLjJ6IE0xMCwxNC4xCgkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMywxMy4yLDExLjYsMTQuMSwxMCwxNC4xeiIvPgoJPHBhdGggZmlsbD0iIzg2ODY4NiIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsM2MtMy44LDAtNywzLjEtNyw3czMuMSw3LDcsN3M3LTMuMSw3LTcKCQlTMTMuOCwzLDEwLDN6IE0xMCwxNi4yYy0zLjQsMC02LjItMi44LTYuMi02LjJTNi42LDMuOCwxMCwzLjhzNi4yLDIuOCw2LjIsNi4yUzEzLjQsMTYuMiwxMCwxNi4yeiIvPgo8L2c+CjxnIGlkPSJDYXJfMDAwMDAwMTg5MzUzOTUwODU0MTM0MTM3NTAwMDAwMDA4MjUyNzM4Nzc4NDI3NzU3MTVfIj4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik02NC4xLDEzLjRsMi4zLDBjMC4yLDAsMC40LDAuMiwwLjQsMC40djIuMWMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuMwoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjR2LTIuMUM2My43LDEzLjYsNjMuOCwxMy40LDY0LjEsMTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNNzMuNSwxMy40aDIuNGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2Mi4xYzAsMC4yLTAuMiwwLjQtMC40LDAuNGgtMi40CgkJCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNGwwLTIuMUM3My4xLDEzLjYsNzMuMywxMy40LDczLjUsMTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNNjMuNyw4LjRoMTIuNnY1SDYzLjdWOC40eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik02NS41LDMuNmg4LjljMSwwLDEuOSwwLjgsMS45LDEuOXYzLjFINjMuN1Y1LjVDNjMuNyw0LjQsNjQuNSwzLjYsNjUuNSwzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI2Ni4yIiBjeT0iMTAuOSIgcng9IjAuOSIgcnk9IjAuOSIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNzMuOCIgY3k9IjEwLjkiIHJ4PSIwLjkiIHJ5PSIwLjkiLz4KCQk8L2c+Cgk8L2c+CjwvZz4KPGcgaWQ9IkFjdGl2aXRpZXMiPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTk2LjQsMTBjMCwzLjYtMi45LDYuNS02LjQsNi41cy02LjQtMi45LTYuNC02LjVzMi45LTYuNSw2LjQtNi41Uzk2LjQsNi40LDk2LjQsMTB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTk2LjMsOC42YzAsMCwwLDAuMSwwLDAuMWMtMC45LDAuMS0yLjksMC4xLTQuNi0xLjJjLTEuMS0wLjgtMi0xLjctMi42LTIuNQoJCQkJYy0wLjMtMC40LTAuNi0wLjgtMC43LTEuMWMtMC4xLTAuMS0wLjEtMC4yLTAuMS0wLjJjMC41LTAuMSwxLjItMC4yLDItMC4yYzEuMiwwLDIuNSwwLjMsMy41LDEuMWMxLDAuOCwxLjcsMS44LDIuMSwyLjgKCQkJCUM5Ni4xLDcuOSw5Ni4yLDguMyw5Ni4zLDguNnoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNODQsMTIuMWMwLDAsMC0wLjEsMC0wLjFjMC45LTAuMiwyLjktMC40LDQuNywwLjZjMS4xLDAuNiwxLjksMS41LDIuNCwyLjMKCQkJCWMwLjQsMC41LDAuNiwxLDAuNywxLjNjLTAuNCwwLjEtMSwwLjItMS43LDAuM2MtMSwwLTIuMS0wLjEtMy4yLTAuOGMtMS4xLTAuNi0xLjktMS42LTIuNC0yLjVDODQuMiwxMi44LDg0LjEsMTIuNCw4NCwxMi4xeiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyBpZD0iT2JqZWN0c18wMDAwMDA2NDMxMjM3MTczOTEzMDMxNTI1MDAwMDAxMDIyNTg4OTAzMjIyODYzMjk3NV8iPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNi44bC0xLjQsMkwxMTQuMSw4bC0wLjYtMC43bDAsMC45bC0wLjEsOC4yaC02LjhsLTAuMS04LjIKCQkJCWwwLTAuOUwxMDUuOSw4bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDYuOHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTEwLjEsNy43aDJ2MC45YzAsMC40LTAuNCwwLjctMSwwLjdjLTAuNiwwLTEtMC4zLTEtMC43TDExMC4xLDcuN0wxMTAuMSw3Ljd6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJTeW1ib2xzXzAwMDAwMDk2NzQ2OTA3ODY5OTI5OTIxMTgwMDAwMDA2NDg0ODEyODMwMjgyNTgyNDE2XyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTI2LjgsMTQuM2MwLDEuMi0xLDIuMi0yLjIsMi4ycy0yLjItMS0yLjItMi4yczEtMi4yLDIuMi0yLjJTMTI2LjgsMTMuMSwxMjYuOCwxNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xMzcuNiwxNC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJjLTEuMiwwLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMgoJCQkJQzEzNi42LDEyLjEsMTM3LjYsMTMuMSwxMzcuNiwxNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xMjYuOCw0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTEzNy43LDQuNHY5LjkiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTI2LjgsMy41aDEwLjh2Mi43aC0xMC44QzEyNi44LDYuMiwxMjYuOCwzLjUsMTI2LjgsMy41eiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjZW50cyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0iIzg2ODY4NiIgZD0iTTE3MC44LDMuMUwxNzAuOCwzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjQsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJTDE2Myw5LjVjLTAuMiwzLjgsMi42LDcuMSw2LjMsNy40YzMuOSwwLjQsNy4zLTIuNiw3LjYtNi41QzE3Ny4yLDYuOCwxNzQuNCwzLjUsMTcwLjgsMy4xeiIvPgoJCQk8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNMTcwLjMsNy40YzAtMC4zLTAuMy0wLjYtMC42LTAuNlMxNjksNy4xLDE2OSw3LjR2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZzLTAuMy0wLjYtMC42LTAuNmgtMS42aC0wLjJWOS44TDE3MC4zLDcuNEwxNzAuMyw3LjR6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJDdXN0b21fMDAwMDAxODEwODcyMjk0MzQzMDIzMzY3ODAwMDAwMDUxNTIyNzc5NDU5NDA2NzQ0ODhfIj4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xODYuMiwzLjRoNy43YzEuNSwwLDIuNywxLjIsMi43LDIuN3Y3LjdjMCwxLjUtMS4yLDIuNy0yLjcsMi43aC03LjcKCQkJCWMtMS41LDAtMi43LTEuMi0yLjctMi43VjYuMUMxODMuNCw0LjYsMTg0LjcsMy40LDE4Ni4yLDMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzg2ODY4NiIgY3g9IjE4NiIgY3k9IjguOSIgcng9IjAuNyIgcnk9IjAuNyIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iMTk0IiBjeT0iNi43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTg2LDEzLjNsMC40LTAuM2MwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMSwwLjQKCQkJCWMwLjUsMC4yLDEsMC4yLDEuNS0wLjFsMC44LTAuNWMwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMS44LDAuOCIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS13aWR0aD0iMC4yNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTU2LDQuM2MtMC4yLTAuMS0wLjQtMC4xLTAuNSwwCgljMCwwLTAuMiwwLjEtMC45LDAuMWMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCWMtMC4yLDAuMS0wLjIsMC4yLTAuMiwwLjR2MTEuNmMwLDAuMywwLjEsMC41LDAuMywwLjVjMC42LDAsMC41LTAuNCwwLjUtMC42di01LjdjMC43LTAuMywzLjItMS4xLDUuOC0wLjFjMS42LDAuNiwzLjUsMC43LDQuMywwLjcKCWMwLjgsMCwxLjMtMC4zLDEuMy0wLjNjMC4yLTAuMSwwLjMtMC4yLDAuMy0wLjRWNC43QzE1Ni4yLDQuNSwxNTYuMSw0LjQsMTU2LDQuM3ogTTE1NS42LDEwLjJjLTAuMSwwLTAuNywwLjEtMSwwLjEKCWMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0yLjUtMS01LTAuNS02LjItMC4xVjQuN2MwLjktMC41LDIuMi0wLjcsMy4yLTAuN2MwLjEsMCwwLjMsMCwwLjQsMGMwLjcsMCwxLjUsMC4yLDIuMiwwLjQKCWMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVYxMC4yeiIvPgo8ZyBpZD0iRm9vZCI+Cgk8ZyBpZD0iTGF5ZXJfMTIiPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik00OC4xLDMuNWgzLjdjMi41LDAsNC41LDIsNC41LDQuNWMwLDAuNS0wLjQsMC45LTAuOSwwLjlINDQuNWMtMC41LDAtMC45LTAuNC0wLjktMC45CgkJCQlDNDMuNiw1LjUsNDUuNiwzLjUsNDguMSwzLjV6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw4LjdjLTAuMiwwLjEtMC41LDEuMiwwLDEuNWMxLjQsMC45LDguNSwwLjgsMTEuMywwLjYKCQkJCWMwLjgtMC4xLDEuNi0wLjQsMS43LTEuMmMwLTAuMy0wLjEtMC42LTAuNi0wLjkiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDEwLjZMNDMuMywxMWMtMC4yLDAuNSwwLjIsMSwwLjcsMC45CgkJCQljMC4zLTAuMSwwLjUsMC4xLDAuNywwLjNsMC4xLDAuMmMwLjMsMC41LDEsMC42LDEuNSwwLjJsMCwwYzAuMy0wLjIsMC43LTAuMywxLTAuMmwwLjgsMC4zYzAuNCwwLjEsMC44LDAuMSwxLjIsMGwwLjUtMC4yCgkJCQljMC40LTAuMiwwLjktMC4yLDEuMywwbDAuNSwwLjJjMC40LDAuMiwwLjgsMC4xLDEuMi0wLjFsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjEsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yCgkJCQljMC4xLTAuMiwwLTAuMywwLjItMC40YzAuNSwwLDEuMi0wLjMsMS4xLTAuN2wtMC40LTEuMSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsMTIuMWMtMC4xLDAuMi0wLjMsMC44LDAsMS4xYzAuMywwLjQsMywxLjEsNi40LDEuMQoJCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC40LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwxMy4zYzAsMC41LDAuNiwyLjQsMS4zLDIuNmMxLjgsMC44LDUuNywwLjcsOC4xLDAuNQoJCQkJYzEuMy0wLjEsMi41LTAuNywzLjItMS44YzAuMy0wLjUsMC41LTEsMC41LTEuNCIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNTEuNiIgY3k9IjYuNSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNTMiIGN5PSI0LjkiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzg2ODY4NiIgY3g9IjUzIiBjeT0iNy4yIiByeD0iMC4zIiByeT0iMC40Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI1NC4zIiBjeT0iNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI1MC45IiBjeT0iNC45IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJBbmltYWxzIj4KCTxnPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTI0LjIsMTFWMy41YzAuMSwwLjEsMC44LDAuOSwyLjgsMy4xYzIuNS0xLjcsNS42LTAuNyw2LjksMGwyLjQtMy4xdjcuMQoJCQljMCwxLjItMC4xLDIuNS0wLjksMy40Yy0xLDEuMi0yLjcsMi41LTUuMywyLjVjLTIuOSwwLTQuNS0xLjUtNS4zLTIuOUMyNC4yLDEyLjksMjQuMiwxMS45LDI0LjIsMTF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDEwbDUuNCwxLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTIxLjIsMTQuMWw1LjQtMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDEwbC01LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDE0LjFsLTUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzg2ODY4NiIgZD0iTTI5LjUsMTIuNEwyOSwxMS43Yy0wLjItMC4zLDAtMC42LDAuMy0wLjZoMS40CgkJCWMwLjMsMCwwLjUsMC40LDAuMywwLjZsLTAuNywxbDAsMGMtMC43LDEuMi0yLjYsMS4xLTMuMS0wLjNsLTAuMS0wLjJjLTAuMS0wLjIsMC0wLjQsMC4yLTAuNXMwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsMTIuNywyOS4xLDEyLjksMjkuNSwxMi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCwxMi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iMjcuNiIgY3k9IjkuNyIgcng9IjAuNyIgcnk9IjAuNyIvPgoJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSIzMi40IiBjeT0iOS43IiByeD0iMC43IiByeT0iMC43Ii8+Cgk8L2c+CjwvZz4KPC9zdmc+";function vTe(e){var t,n=e.isActiveCategory,s=e.category,a=e.allowNavigation,i=e.categoryConfig,o=e.onClick;return d.createElement(wx,{tabIndex:a?0:-1,className:Lr(bTe.catBtn,hf.categoryBtn,"epr-icn-"+s,(t={},t[Nr.active]=n,t)),onClick:o,"aria-label":Rq(i),"aria-selected":n,role:"tab","aria-controls":"epr-category-nav-id"})}var C8={backgroundPositionY:"calc(var(--epr-category-navigation-button-size) * 3)"},yTe={backgroundPositionY:"calc(var(--epr-category-navigation-button-size) * 2)"},k8={":not(.epr-search-active)":{catBtn:{":hover":C8,"&.epr-active":C8}}},bTe=bn.create(Ln({catBtn:{".":"epr-cat-btn",display:"inline-block",transition:"opacity 0.2s ease-in-out",position:"relative",height:"var(--epr-category-navigation-button-size)",width:"var(--epr-category-navigation-button-size)",backgroundSize:"calc(var(--epr-category-navigation-button-size) * 10)",outline:"none",backgroundPosition:"0 0",backgroundImage:"url("+xTe+")",":focus:before":{content:"",position:"absolute",top:"-2px",left:"-2px",right:"-2px",bottom:"-2px",border:"2px solid var(--epr-category-icon-active-color)",borderRadius:"50%"},"&.epr-icn-suggested":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -8)"},"&.epr-icn-custom":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -9)"},"&.epr-icn-activities":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -4)"},"&.epr-icn-animals_nature":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -1)"},"&.epr-icn-flags":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -7)"},"&.epr-icn-food_drink":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -2)"},"&.epr-icn-objects":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -5)"},"&.epr-icn-smileys_people":{backgroundPositionX:"0px"},"&.epr-icn-symbols":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -6)"},"&.epr-icn-travel_places":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -3)"}}},xd("catBtn",yTe),{".epr-dark-theme":Ln({},k8),".epr-auto-theme":Ln({},k8)}));function wTe(){var e=d.useState(null),t=e[0],n=e[1],s=mTe();gTe(n);var a=Dw(),i=Kq(),o=BL(),l=pTe();return d.createElement("div",{className:Lr(jTe.nav),role:"tablist","aria-label":"Category navigation",id:"epr-category-nav-id",ref:o},i.map(function(c){var u=OL(c),f=u===t;if(_Ie(c)&&l)return null;var h=!a&&!f;return d.createElement(vTe,{key:u,category:u,isActiveCategory:f,allowNavigation:h,categoryConfig:c,onClick:function(){s(u),setTimeout(function(){n(u)},10)}})}))}var jTe=bn.create({nav:{".":"epr-category-nav",display:"flex",flexDirection:"row",justifyContent:"space-around",padding:"var(--epr-header-padding)"},".epr-search-active":{nav:{opacity:"0.3",cursor:"default",pointerEvents:"none"}},".epr-main:has(input:not(:placeholder-shown))":{nav:{opacity:"0.3",cursor:"default",pointerEvents:"none"}}}),FY="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMCA4MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNNi45OCwxMy41OWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVzMC4yNy0wLjA1LDAuMzctMC4xNWwyLjQyLTIuNDJsMi40MywyLjQzCgljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1YzAuMTQsMCwwLjI3LTAuMDUsMC4zNy0wLjE1YzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1bC0yLjQzLTIuNDNMMTMuMzIsOAoJYzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1Yy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMGwtMi40MiwyLjQyTDcuNzQsNy4yN2MtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDAKCWMtMC4yMSwwLjIxLTAuMjEsMC41NCwwLDAuNzVsMi40MSwyLjQxbC0yLjQyLDIuNDJDNi43NywxMy4wNSw2Ljc3LDEzLjM5LDYuOTgsMTMuNTlMNi45OCwxMy41OXoiLz4KPHBhdGggZmlsbD0iIzg2ODY4NiIgZD0iTTEwLjE1LDE4LjQzYzQuNDEsMCw4LTMuNTksOC04YzAtNC40MS0zLjU5LTgtOC04Yy00LjQxLDAtOCwzLjU5LTgsOEMyLjE1LDE0Ljg0LDUuNzQsMTguNDMsMTAuMTUsMTguNDN6CgkgTTEwLjE1LDMuNDljMy44MywwLDYuOTQsMy4xMSw2Ljk0LDYuOTRjMCwzLjgzLTMuMTEsNi45NC02Ljk0LDYuOTRjLTMuODMsMC02Ljk0LTMuMTEtNi45NC02Ljk0QzMuMjEsNi42LDYuMzMsMy40OSwxMC4xNSwzLjQ5CglMMTAuMTUsMy40OXoiLz4KPHBhdGggZmlsbD0iIzMzNzFCNyIgZD0iTTYuOTgsMzMuNTljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1czAuMjctMC4wNSwwLjM3LTAuMTVsMi40Mi0yLjQybDIuNDMsMi40MwoJYzAuMSwwLjEsMC4yNCwwLjE1LDAuMzcsMC4xNWMwLjE0LDAsMC4yNy0wLjA1LDAuMzctMC4xNWMwLjIxLTAuMjEsMC4yMS0wLjU0LDAtMC43NWwtMi40My0yLjQzTDEzLjMyLDI4CgljMC4yMS0wLjIxLDAuMjEtMC41NCwwLTAuNzVjLTAuMjEtMC4yMS0wLjU0LTAuMjEtMC43NSwwbC0yLjQyLDIuNDJsLTIuNDEtMi40MWMtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDAKCWMtMC4yMSwwLjIxLTAuMjEsMC41NCwwLDAuNzVsMi40MSwyLjQxbC0yLjQyLDIuNDJDNi43NywzMy4wNSw2Ljc3LDMzLjM5LDYuOTgsMzMuNTlMNi45OCwzMy41OXoiLz4KPHBhdGggZmlsbD0iIzMzNzFCNyIgZD0iTTEwLjE1LDM4LjQzYzQuNDEsMCw4LTMuNTksOC04YzAtNC40MS0zLjU5LTgtOC04Yy00LjQxLDAtOCwzLjU5LTgsOEMyLjE1LDM0Ljg0LDUuNzQsMzguNDMsMTAuMTUsMzguNDN6CgkgTTEwLjE1LDIzLjQ5YzMuODMsMCw2Ljk0LDMuMTEsNi45NCw2Ljk0YzAsMy44My0zLjExLDYuOTQtNi45NCw2Ljk0Yy0zLjgzLDAtNi45NC0zLjExLTYuOTQtNi45NAoJQzMuMjEsMjYuNiw2LjMzLDIzLjQ5LDEwLjE1LDIzLjQ5TDEwLjE1LDIzLjQ5eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNNi45OCw1My41OWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVzMC4yNy0wLjA1LDAuMzctMC4xNWwyLjQyLTIuNDJsMi40MywyLjQzCgljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1YzAuMTQsMCwwLjI3LTAuMDUsMC4zNy0wLjE1YzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1bC0yLjQzLTIuNDNMMTMuMzIsNDgKCWMwLjIxLTAuMjEsMC4yMS0wLjU0LDAtMC43NWMtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDBsLTIuNDIsMi40MmwtMi40MS0yLjQxYy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMAoJYy0wLjIxLDAuMjEtMC4yMSwwLjU0LDAsMC43NWwyLjQxLDIuNDFsLTIuNDIsMi40MkM2Ljc3LDUzLjA1LDYuNzcsNTMuMzksNi45OCw1My41OUw2Ljk4LDUzLjU5eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNMTAuMTUsNTguNDNjNC40MSwwLDgtMy41OSw4LThjMC00LjQxLTMuNTktOC04LThjLTQuNDEsMC04LDMuNTktOCw4QzIuMTUsNTQuODQsNS43NCw1OC40MywxMC4xNSw1OC40M3oKCSBNMTAuMTUsNDMuNDljMy44MywwLDYuOTQsMy4xMSw2Ljk0LDYuOTRjMCwzLjgzLTMuMTEsNi45NC02Ljk0LDYuOTRjLTMuODMsMC02Ljk0LTMuMTEtNi45NC02Ljk0CglDMy4yMSw0Ni42LDYuMzMsNDMuNDksMTAuMTUsNDMuNDlMMTAuMTUsNDMuNDl6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik02Ljk4LDczLjU5YzAuMSwwLjEsMC4yNCwwLjE1LDAuMzcsMC4xNXMwLjI3LTAuMDUsMC4zNy0wLjE1bDIuNDItMi40MmwyLjQzLDIuNDMKCWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVjMC4xNCwwLDAuMjctMC4wNSwwLjM3LTAuMTVjMC4yMS0wLjIxLDAuMjEtMC41NCwwLTAuNzVsLTIuNDMtMi40M0wxMy4zMiw2OAoJYzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1Yy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMGwtMi40MiwyLjQybC0yLjQxLTIuNDFjLTAuMjEtMC4yMS0wLjU0LTAuMjEtMC43NSwwCgljLTAuMjEsMC4yMS0wLjIxLDAuNTQsMCwwLjc1bDIuNDEsMi40MWwtMi40MiwyLjQyQzYuNzcsNzMuMDUsNi43Nyw3My4zOSw2Ljk4LDczLjU5TDYuOTgsNzMuNTl6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik0xMC4xNSw3OC40M2M0LjQxLDAsOC0zLjU5LDgtOGMwLTQuNDEtMy41OS04LTgtOGMtNC40MSwwLTgsMy41OS04LDhDMi4xNSw3NC44NCw1Ljc0LDc4LjQzLDEwLjE1LDc4LjQzegoJIE0xMC4xNSw2My40OWMzLjgzLDAsNi45NCwzLjExLDYuOTQsNi45NGMwLDMuODMtMy4xMSw2Ljk0LTYuOTQsNi45NGMtMy44MywwLTYuOTQtMy4xMS02Ljk0LTYuOTQKCUMzLjIxLDY2LjYsNi4zMyw2My40OSwxMC4xNSw2My40OUwxMC4xNSw2My40OXoiLz4KPC9zdmc+";function NTe(){var e=fY();return d.createElement(wx,{className:Lr(E8.btnClearSearch,hf.visibleOnSearchOnly),onClick:e,"aria-label":"Clear",title:"Clear"},d.createElement("div",{className:Lr(E8.icnClearnSearch)}))}var STe={":hover":{"> .epr-icn-clear-search":{backgroundPositionY:"-60px"}}},E8=bn.create(Ln({btnClearSearch:{".":"epr-btn-clear-search",position:"absolute",right:"var(--epr-search-bar-inner-padding)",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",transform:"translateY(-50%)",padding:"0",borderRadius:"50%",":hover":{background:"var(--epr-hover-bg-color)"},":focus":{background:"var(--epr-hover-bg-color)"}},icnClearnSearch:{".":"epr-icn-clear-search",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",height:"20px",width:"20px",backgroundImage:"url("+FY+")",":hover":{backgroundPositionY:"-20px"},":focus":{backgroundPositionY:"-20px"}}},xd("icnClearnSearch",{backgroundPositionY:"-40px"}),xd("btnClearSearch",STe))),hN=ua(Nr.emojiPicker)+" "+ua(Nr.emojiList),BY=["button",ua(Nr.emoji)].join(""),CTe=ua(Nr.category);function kTe(e){var t=e.value;if(!t)return null;var n=ETe(t);return d.createElement("style",null,`
    `+hN+" "+BY+` {
      display: none;
    }


    `+hN+" "+n+` {
      display: flex;
    }

    `+hN+" "+CTe+":not(:has("+n+`)) {
      display: none;
    }
  `)}function ETe(e){return[BY,'[data-full-name*="',v6(e),'"]'].join("")}var LTe="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjQwcHgiIHZpZXdCb3g9IjAgMCAyMCA0MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgNDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzg2ODY4NiIgZD0iTTEyLDguODFjMCwyLjA4LTEuNjgsMy43Ni0zLjc2LDMuNzZjLTIuMDgsMC0zLjc2LTEuNjgtMy43Ni0zLjc2CgljMC0yLjA4LDEuNjgtMy43NiwzLjc2LTMuNzZDMTAuMzIsNS4wNSwxMiw2LjczLDEyLDguODF6IE0xMS4yMywxMi43MmMtMC44MywwLjY0LTEuODcsMS4wMS0yLjk5LDEuMDFjLTIuNzIsMC00LjkyLTIuMi00LjkyLTQuOTIKCWMwLTIuNzIsMi4yLTQuOTIsNC45Mi00LjkyYzIuNzIsMCw0LjkyLDIuMiw0LjkyLDQuOTJjMCwxLjEzLTAuMzgsMi4xNi0xLjAxLDIuOTlsMy45NCwzLjkzYzAuMjUsMC4yNSwwLjI1LDAuNjYsMCwwLjkyCgljLTAuMjUsMC4yNS0wLjY2LDAuMjUtMC45MiwwTDExLjIzLDEyLjcyeiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0MwQzBCRiIgZD0iTTEyLDI4LjgxYzAsMi4wOC0xLjY4LDMuNzYtMy43NiwzLjc2Yy0yLjA4LDAtMy43Ni0xLjY4LTMuNzYtMy43NgoJYzAtMi4wOCwxLjY4LTMuNzYsMy43Ni0zLjc2QzEwLjMyLDI1LjA1LDEyLDI2LjczLDEyLDI4LjgxeiBNMTEuMjMsMzIuNzJjLTAuODMsMC42NC0xLjg3LDEuMDEtMi45OSwxLjAxCgljLTIuNzIsMC00LjkyLTIuMi00LjkyLTQuOTJjMC0yLjcyLDIuMi00LjkyLDQuOTItNC45MmMyLjcyLDAsNC45MiwyLjIsNC45Miw0LjkyYzAsMS4xMy0wLjM4LDIuMTYtMS4wMSwyLjk5bDMuOTQsMy45MwoJYzAuMjUsMC4yNSwwLjI1LDAuNjYsMCwwLjkyYy0wLjI1LDAuMjUtMC42NiwwLjI1LTAuOTIsMEwxMS4yMywzMi43MnoiLz4KPC9zdmc+";function MTe(){return d.createElement("div",{className:Lr(ITe.icnSearch)})}var ITe=bn.create(Ln({icnSearch:{".":"epr-icn-search",content:"",position:"absolute",top:"50%",left:"var(--epr-search-bar-inner-padding)",transform:"translateY(-50%)",width:"20px",height:"20px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"20px",backgroundImage:"url("+LTe+")"}},xd("icnSearch",{backgroundPositionY:"-20px"})));function TTe(){var e=eY(),t=UL();return e?null:d.createElement(DY,{className:Lr(hy.overlay)},d.createElement(ATe,null),t?d.createElement(RY,null):null)}function ATe(){var e=d.useState(0),t=e[0],n=e[1],s=pf(),a=zd(),i=mMe(),o=xMe(),l=KMe(),c=l.statusSearchResults,u=l.searchTerm,f=l.onChange,h=a==null?void 0:a.current,g=h==null?void 0:h.value;return d.createElement(Hw,{className:Lr(hy.searchContainer)},d.createElement(kTe,{value:g}),d.createElement("input",{autoFocus:o,"aria-label":"Type to search for an emoji",onFocus:s,className:Lr(hy.search),type:"text","aria-controls":"epr-search-id",placeholder:i,onChange:function(p){var v,b;n(t+1),f((v=p==null||(b=p.target)==null?void 0:b.value)!=null?v:g)},ref:a}),u?d.createElement("div",{role:"status",className:Lr("epr-status-search-results",hy.visuallyHidden),"aria-live":"polite",id:"epr-search-id","aria-atomic":"true"},c):null,d.createElement(MTe,null),d.createElement(NTe,null))}var hy=bn.create(Ln({overlay:{padding:"var(--epr-header-padding)",zIndex:"var(--epr-header-overlay-z-index)"},searchContainer:{".":"epr-search-container",flex:"1",display:"block",minWidth:"0"},visuallyHidden:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"},search:{outline:"none",transition:"all 0.2s ease-in-out",color:"var(--epr-search-input-text-color)",borderRadius:"var(--epr-search-input-border-radius)",padding:"var(--epr-search-input-padding)",height:"var(--epr-search-input-height)",backgroundColor:"var(--epr-search-input-bg-color)",border:"1px solid var(--epr-search-input-bg-color)",width:"100%",":focus":{backgroundColor:"var(--epr-search-input-bg-color-active)",border:"1px solid var(--epr-search-border-color)"},"::placeholder":{color:"var(--epr-search-input-placeholder-color)"}},btnClearSearch:{".":"epr-btn-clear-search",position:"absolute",right:"var(--epr-search-bar-inner-padding)",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",transform:"translateY(-50%)",padding:"0",borderRadius:"50%",":hover":{background:"var(--epr-hover-bg-color)"},":focus":{background:"var(--epr-hover-bg-color)"}},icnClearnSearch:{".":"epr-icn-clear-search",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",height:"20px",width:"20px",backgroundImage:"url("+FY+")",":hover":{backgroundPositionY:"-20px"},":focus":{backgroundPositionY:"-20px"}}},xd("icnClearnSearch",{backgroundPositionY:"-40px"}),xd("btnClearSearch",{":hover > .epr-icn-clear-search":{backgroundPositionY:"-60px"}})));function _Te(){return d.createElement(Hw,{className:Lr("epr-header",hf.hiddenOnReactions)},d.createElement(TTe,null),d.createElement(wTe,null))}function OTe(e){return d.createElement(AMe,null,d.createElement(ELe,null),d.createElement(iMe,Object.assign({},e),d.createElement($Te,null)))}function $Te(){var e=Yh(),t=e[0],n=Zq(),s=d.useState(!t),a=s[0],i=s[1],o=yMe();return d.useEffect(function(){t&&!n||a||i(!0)},[a,n,t]),o?d.createElement(xIe,null,d.createElement(HIe,null),d.createElement(PTe,{renderAll:a})):null}function PTe(e){var t=e.renderAll;return t?d.createElement(d.Fragment,null,d.createElement(_Te,null),d.createElement(rTe,null),d.createElement(uTe,null)):null}var DTe=d.memo(OTe,$q),RTe=function(e){SLe(t,e);function t(s){var a;return a=e.call(this,s)||this,a.state={hasError:!1},a}t.getDerivedStateFromError=function(){return{hasError:!0}};var n=t.prototype;return n.componentDidCatch=function(a,i){console.error("Emoji Picker React failed to render:",a,i)},n.render=function(){return this.state.hasError?null:this.props.children},t}(d.Component);function FTe(e){var t=gMe({onEmojiClick:e.onEmojiClick,onReactionClick:e.onReactionClick,onSkinToneChange:e.onSkinToneChange});return d.createElement(RTe,null,d.createElement(Yq.Provider,{value:t},d.createElement(DTe,Object.assign({},e))))}const L8=()=>Se.get("/messages/conversations"),M8=(e,t={})=>Se.get(`/messages/conversations/${e}/messages`,{params:t}),BTe=(e,t={})=>Se.get(`/messages/users/${e}/messages`,{params:t}),I8=(e,t)=>t instanceof FormData?Se.post(`/messages/users/${e}/messages`,t,{headers:{"Content-Type":"multipart/form-data"}}):Se.post(`/messages/users/${e}/messages`,t),T8=e=>Se.put(`/messages/conversations/${e}/read`),zTe=e=>Se.get(`/users/search?q=${encodeURIComponent(e)}`),UTe=e=>Se.delete(`/messages/${e}`),WTe=(e,t)=>Se.put(`/messages/${e}`,{content:t}),HTe=e=>Se.post("messages/bulk-delete",{data:{messageIds:e}}),VTe=e=>Se.delete(`/messages/conversations/${e}`);function GTe(){var ct,xt;const e=Ht(),t=bs(),{user:n}=Xt(),{connected:s,sendPrivateMessage:a,onPrivateMessage:i,markMessagesAsRead:o,onlineConnections:l,getOnlineConnections:c,refreshUnreadCount:u}=lw(),[f,h]=d.useState(!0),[g,m]=d.useState([]),[p,v]=d.useState(null),[b,y]=d.useState([]),[x,w]=d.useState(""),[j,N]=d.useState(null),[L,k]=d.useState(""),[E,S]=d.useState([]),[I,C]=d.useState(!1),M=d.useRef(null),A=d.useRef(null),[H,W]=d.useState(!0),X=d.useRef(null),[J,Z]=d.useState(!1),[F,D]=d.useState(""),[O,T]=d.useState([]),[R,z]=d.useState(!1),[_,U]=d.useState(!1),[Q,re]=d.useState(null),[le,ue]=d.useState("all"),[ge,ke]=d.useState(!1),[tt,He]=d.useState(null),[ze,rt]=d.useState(""),[Xe,V]=d.useState(!1),[ne,Ce]=d.useState(null),[fe,xe]=d.useState(!1),[se,ae]=d.useState(null),[G,Ne]=d.useState([]),[Be,dt]=d.useState(!1),[nt,Te]=d.useState({}),[lt,_e]=d.useState(null),[be,Y]=d.useState(null),ie=ve=>pe(this,null,function*(){if(!ve||ve.length<3){T([]);return}try{z(!0);const{data:Fe}=yield zTe(ve);T(Fe)}catch(Fe){console.error("Failed to search users:",Fe),oe.error("Failed to search users"),T([])}finally{z(!1)}});d.useEffect(()=>{const Fe=new URLSearchParams(t.search).get("userId");Fe&&(N(Fe),e("/messages",{replace:!0}))},[t.search,e]),d.useEffect(()=>{if(s){c();const ve=setInterval(()=>c(),3e4);return()=>clearInterval(ve)}},[s,c]),d.useEffect(()=>{function ve(){return pe(this,null,function*(){try{h(!0);const{data:Fe}=yield L8();m(Fe)}catch(Fe){console.error("Failed to load conversations:",Fe),oe.error("Failed to load conversations")}finally{h(!1)}})}ve()},[]),d.useEffect(()=>{function ve(){return pe(this,null,function*(){if(p)try{h(!0);const{data:et}=yield M8(p.id);y(Ye=>Me(Ye,et)),s?o(p.id).then(u).catch(console.error):T8(p.id).then(u).catch(console.error),m(Ye=>Ye.map(pt=>pt.id===p.id?he(te({},pt),{unreadCount:0}):pt)),setTimeout(()=>{var Ye;(Ye=M.current)==null||Ye.scrollIntoView({behavior:"smooth"})},100)}catch(et){console.error("Failed to load messages:",et),oe.error("Failed to load messages")}finally{h(!1)}})}ve();const Fe=setInterval(()=>pe(this,null,function*(){if(!(!p||ge))try{const{data:et}=yield M8(p.id);y(Ye=>Me(Ye,et)),s?o(p.id).then(u).catch(console.error):T8(p.id).then(u).catch(console.error)}catch(et){console.error("Error polling messages:",et)}}),5e3);return()=>clearInterval(Fe)},[p,s,o,b.length]),d.useEffect(()=>{function ve(){return pe(this,null,function*(){var Fe;if(j)try{h(!0);const{data:et}=yield BTe(j);let Ye=(Fe=et.conversation.otherUser)==null?void 0:Fe.name,pt;if(!Ye||Ye==="User")try{const{data:Ke}=yield Se.get(`/users/${j}/public/basic`);Ye=Ke.name||"User",pt=Ke.avatarUrl}catch(Ke){}v({id:et.conversation.id,otherUser:{id:j,name:Ye||"User",avatarUrl:pt}}),y(Ke=>Me(Ke,et.messages)),N(null),setTimeout(()=>{var Ke;(Ke=M.current)==null||Ke.scrollIntoView({behavior:"smooth"})},100)}catch(et){console.error("Failed to load messages with user:",et),oe.error("Failed to load conversation"),N(null)}finally{h(!1)}})}ve()},[j]);const de=ve=>{const{message:Fe}=ve||{};if(Fe){if(Fe.senderId===(n==null?void 0:n.id)){y(et=>{const Ye=et.findIndex(Ke=>{var je;return Ke.pending&&Ke.senderId===n.id&&Ke.receiverId===Fe.receiverId&&Ke.content===Fe.content&&(!Ke.attachments||Ke.attachments.length===(((je=Fe.attachments)==null?void 0:je.length)||0))});if(Ye===-1)return et;const pt=et.slice();return pt[Ye]=he(te({},Fe),{pending:!1}),pt});return}p&&(Fe.senderId===p.otherUser.id&&Fe.receiverId===n.id||Fe.senderId===n.id&&Fe.receiverId===p.otherUser.id)&&(y(et=>et.some(Ye=>Ye.id===Fe.id)?et:[...et,Fe]),s&&o(p.id).then(u).catch(console.error)),m(et=>{const Ye=[...et];let pt=Ye.findIndex(Ke=>Ke.id===Fe.conversationId);if(pt<0&&(pt=Ye.findIndex(Ke=>Ke.otherUser.id===Fe.senderId&&Fe.receiverId===n.id||Ke.otherUser.id===Fe.receiverId&&Fe.senderId===n.id)),pt>=0){const Ke=te({},Ye[pt]);return Ke.lastMessage=Fe.content,Ke.lastMessageTime=Fe.createdAt,(!p||p.id!==Ke.id&&Fe.senderId!==n.id)&&(Ke.unreadCount=(Ke.unreadCount||0)+1),Ye.splice(pt,1),Ye.unshift(Ke),Ye}else if(Fe.conversationId)return Ye.unshift({id:Fe.conversationId,otherUser:Fe.senderId===n.id?{id:Fe.receiverId,name:"User"}:Fe.sender||{id:Fe.senderId,name:"User"},lastMessage:Fe.content,lastMessageTime:Fe.createdAt,unreadCount:Fe.senderId===n.id?0:1}),Ye;return Ye})}};d.useEffect(()=>{const ve=i(de);return()=>ve&&ve()},[i,p==null?void 0:p.id,n==null?void 0:n.id,s]),d.useEffect(()=>{const ve=A.current;if(!ve)return;const Fe=()=>{const{scrollTop:et,scrollHeight:Ye,clientHeight:pt}=ve,Ke=Ye-et-pt;W(Ke<100)};return ve.addEventListener("scroll",Fe),Fe(),()=>ve.removeEventListener("scroll",Fe)},[p]),d.useEffect(()=>{var ve;H&&((ve=M.current)==null||ve.scrollIntoView({behavior:"smooth"}))},[b,H]),d.useEffect(()=>{const ve=Fe=>{I&&!Fe.target.closest(".emoji-picker-container")&&C(!1)};return document.addEventListener("mousedown",ve),()=>document.removeEventListener("mousedown",ve)},[I]),d.useEffect(()=>{const ve=Fe=>{lt&&!Fe.target.closest(".conversation-menu")&&_e(null)};return document.addEventListener("mousedown",ve),()=>document.removeEventListener("mousedown",ve)},[lt]),d.useEffect(()=>{const ve=Fe=>{be&&!Fe.target.closest(".message-menu")&&Y(null)};return document.addEventListener("mousedown",ve),()=>document.removeEventListener("mousedown",ve)},[be]),d.useEffect(()=>{const ve=setInterval(()=>pe(this,null,function*(){try{const{data:Fe}=yield L8();m(Fe)}catch(Fe){console.error("Failed to refresh conversations:",Fe)}}),3e3);return()=>clearInterval(ve)},[]);const $e=ve=>{const Fe=Array.from(ve.target.files),et=Fe.filter(Ye=>Ye.size<=5242880);et.length!==Fe.length&&oe.error("Some files exceed the 5MB limit"),S(Ye=>[...Ye,...et])},it=ve=>{S(Fe=>Fe.filter((et,Ye)=>Ye!==ve))},gt=ve=>[".jpg",".jpeg",".png",".gif",".webp"].some(et=>ve.toLowerCase().endsWith(et)),De=ve=>ve?ve.mimetype&&typeof ve.mimetype=="string"&&ve.mimetype.startsWith("image/")?!0:gt(String(ve.filename||"")):!1,Le=ve=>{Te(Fe=>he(te({},Fe),{[ve]:!1}))},Ae=ve=>{Te(Fe=>he(te({},Fe),{[ve]:"error"}))},Pe=ve=>nt[ve],Qe=ve=>{Te(Fe=>he(te({},Fe),{[ve]:!0}))},mt=({className:ve="",showIcon:Fe=!1})=>r.jsx("div",{className:`animate-pulse bg-gray-200 relative ${ve}`,children:Fe&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(N0,{size:24,className:"text-gray-400"})})}),Me=(ve,Fe)=>{if(!Array.isArray(Fe))return ve||[];const et=Array.isArray(ve)?ve:[],Ye=st=>{var Dt;const wt=(st==null?void 0:st.content)||"",Lt=Array.isArray(st==null?void 0:st.attachments)&&st.attachments.length>0,Wt=Lt?st.attachments.length:0,hr=Lt&&((Dt=st.attachments[0])==null?void 0:Dt.filename)||"";return`${(st==null?void 0:st.senderId)||""}|${(st==null?void 0:st.receiverId)||""}|${wt}|${Wt}|${hr}`},pt=new Set(Fe.map(st=>st.id)),Ke=new Set(Fe.map(st=>Ye(st))),je=[...Fe];for(const st of et)if(st!=null&&st.pending){if(Ke.has(Ye(st))||pt.has(st.id))continue;je.push(st)}return je.sort((st,wt)=>{const Lt=st!=null&&st.createdAt?new Date(st.createdAt).getTime():0,Wt=wt!=null&&wt.createdAt?new Date(wt.createdAt).getTime():0;return Lt-Wt}),je},Oe=(ve,Fe)=>{const et=ve==null?void 0:ve.emoji;et&&w(Ye=>Ye+et)};function We(ve){return pe(this,null,function*(){var pt;if(!p||!ve)return;const Fe=ve.id,et=Array.isArray(ve.localFiles)?ve.localFiles:[],Ye=ve.content||"";y(Ke=>{const je=Ke.findIndex(wt=>wt.id===Fe);if(je===-1)return Ke;const st=Ke.slice();return st[je]=he(te({},st[je]),{pending:!0,failed:!1}),st});try{let Ke;if(et.length===0&&s){const je=yield a(p.otherUser.id,Ye);Ke=(je==null?void 0:je.message)||((pt=je==null?void 0:je.data)==null?void 0:pt.message)||null}else{const je=new FormData;je.append("content",Ye),et.forEach(wt=>{je.append("attachments",wt)});const{data:st}=yield I8(p.otherUser.id,je);Ke=st||null}m(je=>{const st=[...je],wt=st.findIndex(Lt=>Lt.id===p.id);if(wt>=0){const Lt=te({},st[wt]),Wt=Ye&&Ye.length>0?Ye:et.length===1?"Attachment":`${et.length} attachments`;Lt.lastMessage=Wt,Lt.lastMessageTime=new Date().toISOString(),st.splice(wt,1),st.unshift(Lt)}return st}),y(je=>{const st=je.findIndex(Lt=>Lt.id===Fe);if(st===-1)return je;const wt=je.slice();return wt[st]=Ke?he(te({},Ke),{pending:!1}):he(te({},wt[st]),{pending:!1,failed:!1}),wt})}catch(Ke){console.error("Retry failed:",Ke),oe.error("Retry failed"),y(je=>{const st=je.findIndex(Lt=>Lt.id===Fe);if(st===-1)return je;const wt=je.slice();return wt[st]=he(te({},wt[st]),{pending:!1,failed:!0}),wt})}})}function qe(){return pe(this,null,function*(){var pt;if(!x.trim()&&E.length===0||!p)return;const ve=x.trim(),Fe=[...E];w(""),S([]),ke(!0);const et=Date.now().toString(),Ye={id:et,content:ve,senderId:n.id,receiverId:p.otherUser.id,createdAt:new Date().toISOString(),read:!1,pending:!0,failed:!1,localFiles:Fe,attachments:Fe.map(Ke=>({filename:Ke.name,url:URL.createObjectURL(Ke),mimetype:Ke.type,size:Ke.size}))};y(Ke=>[...Ke,Ye]),setTimeout(()=>{var Ke;(Ke=M.current)==null||Ke.scrollIntoView({behavior:"smooth"})},100);try{let Ke;if(Fe.length===0&&s){const je=yield a(p.otherUser.id,ve);Ke=(je==null?void 0:je.message)||((pt=je==null?void 0:je.data)==null?void 0:pt.message)||null}else{const je=new FormData;je.append("content",ve),Fe.forEach(wt=>{je.append("attachments",wt)});const{data:st}=yield I8(p.otherUser.id,je);Ke=st||null}m(je=>{const st=[...je],wt=st.findIndex(Lt=>Lt.id===p.id);if(wt>=0){const Lt=te({},st[wt]),Wt=ve&&ve.length>0?ve:Fe.length===1?"Attachment":`${Fe.length} attachments`;Lt.lastMessage=Wt,Lt.lastMessageTime=new Date().toISOString(),st.splice(wt,1),st.unshift(Lt)}return st}),y(je=>{const st=je.findIndex(Lt=>Lt.id===et);if(st===-1)return je;const wt=je.slice();return wt[st]=Ke?he(te({},Ke),{pending:!1}):he(te({},wt[st]),{pending:!1}),wt})}catch(Ke){console.error("Failed to send message:",Ke),oe.error("Failed to send message"),y(je=>{const st=je.findIndex(Lt=>Lt.id===et);if(st===-1)return je;const wt=je.slice();return wt[st]=he(te({},wt[st]),{pending:!1,failed:!0}),wt})}finally{ke(!1)}})}const vt=ve=>{He(ve.id),rt(ve.content||"")},Ge=()=>pe(this,null,function*(){if(ze.trim())try{const ve=yield WTe(tt,ze.trim());y(Fe=>Fe.map(et=>et.id===tt?ve.data:et)),He(null),rt(""),oe.success("Message edited")}catch(ve){console.error("Failed to edit message:",ve),oe.error("Failed to edit message")}}),ot=ve=>{Ce(ve),V(!0)},Mt=()=>pe(this,null,function*(){if(ne)try{yield UTe(ne),y(ve=>ve.filter(Fe=>Fe.id!==ne)),oe.success("Message deleted"),V(!1),Ce(null)}catch(ve){console.error("Failed to delete message:",ve),oe.error("Failed to delete message")}}),_t=ve=>{Ne(Fe=>Fe.includes(ve)?Fe.filter(et=>et!==ve):[...Fe,ve])},Ct=()=>{const ve=b.filter(Fe=>Fe.senderId===n.id);Ne(ve.map(Fe=>Fe.id))},B=()=>{Ne([])},ee=()=>pe(this,null,function*(){G.length!==0&&(Ce(G),V(!0))}),q=()=>pe(this,null,function*(){if(!(!ne||!Array.isArray(ne)))try{yield HTe(ne),y(ve=>ve.filter(Fe=>!ne.includes(Fe.id))),Ne([]),dt(!1),oe.success(`${ne.length} messages deleted`),V(!1),Ce(null)}catch(ve){console.error("Failed to delete messages:",ve),oe.error("Failed to delete some messages")}}),K=ve=>{ae(ve),xe(!0)},ce=()=>pe(this,null,function*(){if(se)try{yield VTe(se),m(ve=>ve.filter(Fe=>Fe.id!==se)),p&&p.id===se&&v(null),oe.success("Conversation deleted"),xe(!1),ae(null)}catch(ve){console.error("Failed to delete conversation:",ve),oe.error("Failed to delete conversation")}});function ye(ve){const Fe=ve?new Date(ve):new Date,et=new Date,Ye=new Date(et.getFullYear(),et.getMonth(),et.getDate()),pt=new Date(Fe.getFullYear(),Fe.getMonth(),Fe.getDate()),Ke=Math.floor((Ye-pt)/(1e3*60*60*24)),je=Fe.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return Ke===0?je:Ke===1?`Yesterday ${je}`:Ke<7?`${Fe.toLocaleDateString([],{weekday:"long"})} ${je}`:`${Fe.toLocaleDateString([],{day:"2-digit",month:"2-digit",year:"numeric"})} ${je}`}const Ze=g.reduce((ve,Fe)=>ve+(Fe.unreadCount||0),0),ut=g.filter(ve=>{var Ye;const Fe=(((Ye=ve.otherUser)==null?void 0:Ye.name)||"User").toLowerCase().includes(L.toLowerCase()),et=le==="all"||le==="unread"&&(ve.unreadCount||0)>0;return Fe&&et}),[we,Ee]=d.useState(0),[Ie,Ve]=d.useState(null),ht=ve=>pe(this,null,function*(){try{const Fe=ve.split("/").pop()||`download-${Date.now()}`;Ve(Fe),Ee(0);const et=gn+`/download?url=${encodeURIComponent(ve)}`,Ye=new XMLHttpRequest;Ye.open("GET",et,!0),Ye.responseType="blob",Ye.onprogress=pt=>{if(pt.lengthComputable){const Ke=pt.loaded/pt.total*100;console.log(Ke),Ee(Math.round(Ke))}},Ye.onload=()=>{if(Ye.status===200){const pt=Ye.response;if(!pt||pt.size===0){oe.error("Error: Empty file received"),Ee(0),Ve(null);return}const Ke=window.URL.createObjectURL(pt),je=document.createElement("a");je.href=Ke,je.download=Fe,je.style.display="none",document.body.appendChild(je),je.click(),setTimeout(()=>{document.body.removeChild(je),window.URL.revokeObjectURL(Ke),Ee(0),Ve(null),oe.success("Download completed!")},100)}else console.error("Download failed with status:",Ye.status),oe.error(`Download failed: ${Ye.statusText}`),Ee(0),Ve(null)},Ye.onerror=()=>{console.error("Network error downloading file"),oe.error("Network error downloading file"),Ee(0),Ve(null)},Ye.ontimeout=()=>{console.error("Download timeout"),oe.error("Download timeout"),Ee(0),Ve(null)},Ye.timeout=3e4,Ye.send()}catch(Fe){console.error("Download initialization failed:",Fe),oe.error("Download failed to start"),Ee(0),Ve(null)}}),ft=({url:ve,className:Fe="",downloadProgress:et,downloadingFile:Ye,isDownloading:pt})=>r.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),ht(ve)},className:Fe,title:"Download",disabled:pt,children:pt?r.jsxs("span",{className:"text-xs",children:[et,"%"]}):r.jsx(La,{size:12})});return f&&g.length===0?r.jsx(Xa,{}):r.jsxs(ei,{children:[r.jsx(an,{}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:r.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden h-[calc(100vh-10rem)]",children:r.jsxs("div",{className:"flex h-full min-h-0",children:[r.jsxs("aside",{className:`w-80 border-r max-md:w-full ${p?"hidden md:flex":"flex"} flex-col min-h-0`,children:[r.jsxs("div",{className:"p-4 border-b",children:[r.jsxs("button",{onClick:()=>Z(!0),className:"w-full py-2 px-4 bg-brand-500 text-white rounded-xl flex items-center justify-center gap-2 mb-3",children:[r.jsx(UC,{size:16}),r.jsx("span",{children:"New Message"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{placeholder:"Search conversations...",value:L,onChange:ve=>k(ve.target.value),className:"rounded-xl border border-gray-200 pl-9 pr-3 py-2 text-sm w-full"}),r.jsx(Ja,{className:"absolute left-3 top-2.5 text-gray-400",size:16})]}),r.jsxs("div",{className:"flex gap-4 mt-3 text-sm",children:[r.jsx("button",{onClick:()=>ue("all"),className:`font-medium ${le==="all"?"text-brand-600":"text-gray-500"}`,children:"All"}),r.jsxs("button",{onClick:()=>ue("unread"),className:`font-medium ${le==="unread"?"text-brand-600":"text-gray-500"}`,children:["Unread ",Ze>0&&`(${Ze})`]})]})]}),l&&l.length>0&&r.jsxs("div",{className:"p-4 border-b bg-gray-50 hidden",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Online Connections"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(ve=>{var Fe,et;return r.jsxs("div",{onClick:()=>N(ve.userId),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(Fe=ve.user)!=null&&Fe.avatarUrl?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:ve.user.avatarUrl,alt:ve.user.name,className:"h-8 w-8 rounded-full object-cover"}),r.jsx("span",{className:"absolute bottom-0 right-0 h-2.5 w-2.5 rounded-full bg-green-500 ring-1 ring-white"})]}):r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"h-8 w-8 rounded-full bg-brand-100 text-brand-600 flex items-center justify-center",children:r.jsx(ka,{size:16})}),r.jsx("span",{className:"absolute bottom-0 right-0 h-2.5 w-2.5 rounded-full bg-green-500 ring-1 ring-white"})]}),r.jsx("span",{className:"text-sm font-medium",children:(et=ve.user)==null?void 0:et.name})]},ve.userId)})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:ut.length===0?r.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No conversations yet"}):ut.map(ve=>{var Fe,et;return r.jsxs("div",{onClick:()=>v(ve),className:`group p-4 border-b cursor-pointer hover:bg-gray-50 relative ${(p==null?void 0:p.id)===ve.id?"bg-gray-50":""}`,children:[r.jsxs("div",{className:"flex items-center gap-3 relative",children:[r.jsx("button",{onClick:Ye=>{Ye.stopPropagation(),_e(lt===ve.id?null:ve.id)},className:`absolute top-4 -right-4 p-1 text-gray-400 hover:text-gray-600 rounded ${lt===ve.id?"block":"hidden group-hover:block"}`,title:"More options",children:r.jsx(Fo,{size:16})}),(Fe=ve.otherUser)!=null&&Fe.avatarUrl?r.jsxs("div",{className:"relative",children:[Pe(`conv-${ve.id}`)!==!1&&r.jsx(mt,{className:"h-10 w-10 rounded-full"}),r.jsx("img",{src:ve.otherUser.avatarUrl,alt:ve.otherUser.name,className:`h-10 w-10 rounded-full object-cover ${Pe(`conv-${ve.id}`)===!1?"block":"hidden"}`,onLoad:()=>Le(`conv-${ve.id}`),onError:()=>Ae(`conv-${ve.id}`),onLoadStart:()=>Qe(`conv-${ve.id}`)}),(l==null?void 0:l.some(Ye=>Ye.userId===ve.otherUser.id))&&r.jsx("span",{className:"absolute bottom-0 right-0 h-3 w-3 rounded-full bg-green-500 ring-1 ring-white"})]}):r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-brand-100 text-brand-600 flex items-center justify-center",children:r.jsx(ka,{size:20})}),(l==null?void 0:l.some(Ye=>Ye.userId===ve.otherUser.id))&&r.jsx("span",{className:"absolute bottom-0 right-0 h-3 w-3 rounded-full bg-green-500 ring-1 ring-white"})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-medium truncate",children:((et=ve.otherUser)==null?void 0:et.name)||"User"}),ve.lastMessageTime&&r.jsx("span",{className:"text-xs text-gray-500",children:ye(ve.lastMessageTime)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm text-gray-500 truncate",children:ve.lastMessage}),ve.unreadCount>0&&r.jsx("span",{className:"bg-brand-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:ve.unreadCount})]})]})]}),lt===ve.id&&r.jsx("div",{className:"absolute top-10 right-2 bg-white border rounded shadow-lg z-10 conversation-menu",children:r.jsx("button",{onClick:Ye=>{Ye.stopPropagation(),K(ve.id),_e(null)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Delete conversation"})})]},ve.id)})})]}),p?r.jsxs("section",{className:"flex-1 flex flex-col min-h-0",children:[r.jsxs("div",{className:"h-14 border-b px-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{className:"md:hidden p-1 rounded-full hover:bg-gray-100",onClick:()=>v(null),children:r.jsx(CH,{size:20})}),(ct=p.otherUser)!=null&&ct.avatarUrl?r.jsxs("div",{className:"relative",children:[Pe(`header-${p.otherUser.id}`)!==!1&&r.jsx(mt,{className:"h-10 w-10 rounded-full"}),r.jsx("img",{src:p.otherUser.avatarUrl,alt:p.otherUser.name,className:`h-10 w-10 rounded-full object-cover ${Pe(`header-${p.otherUser.id}`)===!1?"block":"hidden"}`,onLoad:()=>Le(`header-${p.otherUser.id}`),onError:()=>Ae(`header-${p.otherUser.id}`),onLoadStart:()=>Qe(`header-${p.otherUser.id}`)}),(l==null?void 0:l.some(ve=>ve.userId===p.otherUser.id))&&r.jsx("span",{className:"absolute bottom-0 right-0 h-3 w-3 rounded-full bg-green-500 ring-1 ring-white"})]}):r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-brand-100 text-brand-600 flex items-center justify-center",children:r.jsx(ka,{size:20})}),(l==null?void 0:l.some(ve=>ve.userId===p.otherUser.id))&&r.jsx("span",{className:"absolute bottom-0 right-0 h-3 w-3 rounded-full bg-green-500 ring-1 ring-white"})]}),r.jsx("div",{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"font-semibold",children:((xt=p.otherUser)==null?void 0:xt.name)||"User"}),(l==null?void 0:l.some(ve=>ve.userId===p.otherUser.id))&&r.jsx("span",{className:"text-xs text-green-500 font-medium",children:"Online"})]})})]}),r.jsx("div",{className:"flex items-center gap-2",children:Be?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:Ct,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",title:"Select All",children:r.jsx(JA,{size:18})}),r.jsx("button",{onClick:B,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",title:"Clear Selection",children:r.jsx(rue,{size:18})}),G.length>0&&r.jsx("button",{onClick:ee,className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg",title:"Delete Selected",children:r.jsx(On,{size:18})}),r.jsx("button",{onClick:()=>{dt(!1),Ne([])},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",title:"Exit Selection Mode",children:r.jsx(Sr,{size:18})})]}):r.jsx("button",{onClick:()=>dt(!0),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",title:"Select Messages",children:r.jsx(JA,{size:18})})})]}),r.jsxs("div",{ref:A,className:"flex-1 overflow-y-auto min-h-0 p-4 space-y-3",children:[b.length===0?r.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:r.jsx("p",{children:"No messages yet. Start the conversation!"})}):b.map(ve=>{var Fe;return r.jsxs("div",{className:`relative flex ${ve.senderId===n.id?"justify-end":"justify-start"}`,children:[Be&&ve.senderId===n.id&&r.jsx("div",{className:"flex-shrink-0 mr-2 mt-2",children:r.jsx("input",{type:"checkbox",checked:G.includes(ve.id),onChange:()=>_t(ve.id),className:"rounded border-gray-300"})}),ve.senderId!==n.id&&r.jsx("div",{className:"flex-shrink-0 mr-2",children:(Fe=ve.sender)!=null&&Fe.avatarUrl?r.jsxs(r.Fragment,{children:[Pe(`msg-${ve.id}-sender`)!==!1&&r.jsx(mt,{className:"h-8 w-8 rounded-full"}),r.jsx("img",{src:ve.sender.avatarUrl,alt:ve.sender.name,className:`h-8 w-8 rounded-full object-cover ${Pe(`msg-${ve.id}-sender`)===!1?"block":"hidden"}`,onLoad:()=>Le(`msg-${ve.id}-sender`),onError:()=>Ae(`msg-${ve.id}-sender`),onLoadStart:()=>Qe(`msg-${ve.id}-sender`)})]}):r.jsx("div",{className:"h-8 w-8 rounded-full bg-brand-100 text-brand-600 flex items-center justify-center",children:r.jsx(ka,{size:16})})}),r.jsx("div",{className:`max-w-xs px-4 py-2 rounded-lg text-sm ${ve.senderId===n.id?"bg-brand-500 text-white":"bg-gray-100"} ${ve.pending?"opacity-70":""} ${G.includes(ve.id)?"ring-2 ring-blue-500":""}`,children:tt===ve.id?r.jsxs("div",{className:"mb-2",children:[r.jsx("input",{value:ze,onChange:et=>rt(et.target.value),className:"w-full bg-transparent border border-white/20 rounded px-2 py-1 text-sm",onKeyDown:et=>{et.key==="Enter"?Ge():et.key==="Escape"&&(He(null),rt(""))}}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsx("button",{onClick:Ge,className:"text-xs bg-white/20 px-2 py-1 rounded hover:bg-white/30",children:"Save"}),r.jsx("button",{onClick:()=>{He(null),rt("")},className:"text-xs bg-white/20 px-2 py-1 rounded hover:bg-white/30",children:"Cancel"})]})]}):r.jsxs(r.Fragment,{children:[ve.content&&r.jsx("div",{className:"mb-2",children:ve.content}),ve.attachments&&ve.attachments.length>0&&r.jsx("div",{className:"space-y-2",children:ve.attachments.map((et,Ye)=>r.jsx("div",{className:`p-2 rounded ${ve.senderId===n.id?"bg-white/10":"bg-gray-200"}`,children:De(et)?r.jsxs("div",{className:"relative inline-block",children:[Pe(`attachment-${ve.id}-${Ye}`)!==!1&&r.jsx(mt,{className:"rounded-lg max-w-[240px] max-h-[240px]",showIcon:!0}),r.jsx("button",{onClick:()=>{re(et),U(!0)},className:`block cursor-pointer ${Pe(`attachment-${ve.id}-${Ye}`)===!1?"block":"hidden"}`,title:et.filename,children:r.jsx("img",{src:et.url,alt:et.filename,className:"rounded-lg max-w-[240px] max-h-[240px] object-cover border border-black/10",onLoad:()=>Le(`attachment-${ve.id}-${Ye}`),onError:()=>Ae(`attachment-${ve.id}-${Ye}`),onLoadStart:()=>Qe(`attachment-${ve.id}-${Ye}`)})}),r.jsx(ft,{url:et.url,className:"absolute top-2 right-2 p-1 bg-black/50 text-white rounded-full hover:bg-black/70",downloadProgress:we,downloadingFile:Ie,isDownloading:we>0&&Ie===et.url})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(GA,{size:16}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("a",{href:et.url.replace("/uploads/","/download/"),target:"_blank",rel:"noopener noreferrer",className:"text-xs underline hover:no-underline truncate block",children:et.filename}),r.jsxs("span",{className:"text-xs opacity-70",children:[(et.size/1024).toFixed(1)," KB"]})]}),r.jsx("a",{href:et.url.replace("/uploads/","/download/"),download:et.filename,target:"_blank",className:"p-1 hover:bg-white/20 rounded",title:"Download",children:r.jsx(La,{size:12})})]})},Ye))}),r.jsxs("div",{className:"mt-1 flex items-center justify-between gap-2 text-[10px] text-gray-400",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[ve.pending&&r.jsx("span",{className:"opacity-70",children:"Sending"}),ve.failed&&r.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[r.jsx("span",{children:"Failed"}),r.jsx("button",{onClick:()=>We(ve),className:"px-2 py-0.5 rounded bg-red-100 text-red-600 hover:bg-red-200",children:"Retry"})]}),ve.senderId===n.id&&!ve.pending&&!ve.failed&&r.jsx("button",{onClick:et=>{et.stopPropagation(),Y(be===ve.id?null:ve.id)},className:"p-1 hover:bg-white/20 rounded",title:"More options",children:r.jsx(Fo,{size:12})})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{children:ye(ve.createdAt)}),ve.senderId===n.id&&(ve.read?r.jsx(xce,{size:12}):r.jsx(yce,{size:12}))]})]})]})}),be===ve.id&&r.jsxs("div",{className:"absolute top-full -translate-y-[10px] right-0 bg-white border rounded shadow-lg z-10 message-menu",children:[ve.content&&ve.content.trim().length>0&&r.jsx("button",{onClick:et=>{et.stopPropagation(),vt(ve),Y(null)},className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Edit"}),r.jsx("button",{onClick:et=>{et.stopPropagation(),ot(ve.id),Y(null)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Delete"})]})]},ve.id)}),r.jsx("div",{ref:M})]}),r.jsxs("div",{className:"border-t p-3 relative",children:[E.length>0&&r.jsx("div",{className:"mb-3 flex flex-wrap gap-2",children:E.map((ve,Fe)=>r.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg px-3 py-2",children:[gt(ve.name)?r.jsxs(r.Fragment,{children:[Pe(`preview-${Fe}`)!==!1&&r.jsx(mt,{className:"h-10 w-10 rounded"}),r.jsx("img",{src:URL.createObjectURL(ve),alt:ve.name,className:`h-10 w-10 object-cover rounded border border-black/10 ${Pe(`preview-${Fe}`)===!1?"block":"hidden"}`,onLoad:()=>Le(`preview-${Fe}`),onError:()=>Ae(`preview-${Fe}`),onLoadStart:()=>Qe(`preview-${Fe}`)})]}):r.jsxs(r.Fragment,{children:[r.jsx(GA,{size:16,className:"text-gray-600"}),r.jsx("span",{className:"text-sm text-gray-700 truncate max-w-32",children:ve.name})]}),r.jsx("button",{onClick:()=>it(Fe),className:"ml-1 text-gray-500 hover:text-gray-700",title:"Remove",children:r.jsx(Sr,{size:14})})]},Fe))}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{ref:X,type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.txt,.csv",onChange:$e,className:"hidden"}),r.jsx("button",{onClick:()=>{var ve;return(ve=X.current)==null?void 0:ve.click()},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",title:"Attach files",children:r.jsx(Ide,{size:18})}),r.jsx("button",{onClick:()=>{console.log("Emoji button clicked, current state:",I),C(!I)},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",title:"Add emoji",children:r.jsx(Kde,{size:18})}),I&&r.jsx("div",{className:"fixed bottom-24 right-6 z-[9999] emoji-picker-container",children:r.jsx(FTe,{onEmojiClick:Oe})}),r.jsx("input",{value:x,onChange:ve=>w(ve.target.value),onKeyDown:ve=>{ve.key==="Enter"&&!ve.shiftKey&&(ve.preventDefault(),qe())},placeholder:"Type your message...",className:"flex-1 rounded-xl border border-gray-200 px-3 py-2 text-sm"}),r.jsx("button",{onClick:qe,disabled:!x.trim()&&E.length===0,className:"p-2 rounded-xl bg-brand-500 text-white disabled:opacity-50",children:r.jsx(lb,{size:18})})]})]})]}):r.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500 max-md:hidden",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mb-2 mx-auto h-16 w-16 rounded-full bg-gray-100 flex items-center justify-center",children:r.jsx(lb,{size:24,className:"text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium",children:"Your Messages"}),r.jsx("p",{className:"mt-1",children:"Select a conversation or start a new one"})]})})]})})}),_&&Q&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-xl max-w-4xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold",children:Q.filename}),r.jsxs("div",{className:"flex items-center gap-x-3",children:[r.jsx("a",{href:Q.url.replace("/uploads/","/download/"),target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-black/50 text-white rounded-full hover:bg-black/70",title:"Download",children:r.jsx(La,{size:12})}),r.jsx("button",{onClick:()=>U(!1),className:"p-1 rounded-full hover:bg-gray-100",children:r.jsx(Sr,{size:20})})]})]}),r.jsxs("div",{className:"p-4",children:[Pe(`dialog-${Q.url}`)!==!1&&r.jsx(mt,{className:"max-w-full max-h-[70vh] rounded-lg",showIcon:!0}),r.jsx("img",{src:Q.url,alt:Q.filename,className:`max-w-full max-h-[70vh] object-contain ${Pe(`dialog-${Q.url}`)===!1?"block":"hidden"}`,onLoad:()=>Le(`dialog-${Q.url}`),onError:()=>Ae(`dialog-${Q.url}`),onLoadStart:()=>Qe(`dialog-${Q.url}`)})]})]})}),J&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md",children:[r.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold",children:"New Message"}),r.jsx("button",{onClick:()=>Z(!1),className:"p-1 rounded-full hover:bg-gray-100",children:r.jsx(Sr,{size:20})})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx("input",{placeholder:"Search users...",value:F,onChange:ve=>{D(ve.target.value),ve.target.value.length>2?ie(ve.target.value):T([])},className:"rounded-xl border border-gray-200 pl-9 pr-3 py-2 text-sm w-full"}),r.jsx(Ja,{className:"absolute left-3 top-2.5 text-gray-400",size:16})]}),r.jsx("div",{className:"max-h-80 overflow-y-auto",children:R?r.jsx("div",{className:"text-center py-4",children:r.jsx("div",{className:"inline-block h-6 w-6 animate-spin rounded-full border-2 border-solid border-brand-500 border-r-transparent"})}):O.length>0?O.map(ve=>r.jsxs("div",{onClick:()=>{N(ve.id),Z(!1),D(""),T([])},className:"p-3 border-b last:border-0 flex items-center gap-3 hover:bg-gray-50 cursor-pointer",children:[ve.avatarUrl?r.jsxs(r.Fragment,{children:[Pe(`search-${ve.id}`)!==!1&&r.jsx(mt,{className:"h-10 w-10 rounded-full"}),r.jsx("img",{src:ve.avatarUrl,alt:ve.name,className:`h-10 w-10 rounded-full object-cover ${Pe(`search-${ve.id}`)===!1?"block":"hidden"}`,onLoad:()=>Le(`search-${ve.id}`),onError:()=>Ae(`search-${ve.id}`),onLoadStart:()=>Qe(`search-${ve.id}`)})]}):r.jsx("div",{className:"h-10 w-10 rounded-full bg-brand-100 text-brand-600 flex items-center justify-center",children:r.jsx(ka,{size:20})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:ve.name}),ve.professionalTitle&&r.jsx("p",{className:"text-xs text-gray-500",children:ve.professionalTitle})]})]},ve.id)):F.length>2?r.jsx("p",{className:"text-center py-4 text-gray-500",children:"No users found"}):r.jsx("p",{className:"text-center py-4 text-gray-500",children:"Type at least 3 characters to search"})})]})]})}),r.jsx(is,{open:Xe,onClose:()=>{V(!1),Ce(null)},title:Array.isArray(ne)?"Delete Messages":"Delete Message",text:Array.isArray(ne)?`Are you sure you want to delete ${ne.length} messages? This action cannot be undone.`:"Are you sure you want to delete this message? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",tone:"danger",onConfirm:Array.isArray(ne)?q:Mt}),r.jsx(is,{open:fe,onClose:()=>{xe(!1),ae(null)},title:"Delete Conversation",text:"Are you sure you want to delete this conversation? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",tone:"danger",onConfirm:ce})]})}function qTe({roles:e}){const{isAuthed:t,loading:n,ready:s,hasRole:a}=Xt(),i=bs();return!s&&n?r.jsx(Xa,{message:"Loading",tip:""}):t?e&&!a(e)?r.jsx(MC,{to:"/unauthorized",replace:!0}):r.jsx(zE,{}):r.jsx(MC,{to:"/login",replace:!0,state:{from:i}})}function YTe(){const[e,t]=d.useState(!0),[n,s]=d.useState({identities:[],goals:[]}),[a,i]=d.useState([]),[o,l]=d.useState([]),[c,u]=d.useState([]),[f,h]=d.useState([]);console.log({userAccountType}),d.useEffect(()=>{pe(this,null,function*(){try{const{data:v}=yield Se.get("/public/identities");s(v||{identities:[],goals:[]})}catch(v){console.error(v)}finally{t(!1)}})},[]);const g=d.useMemo(()=>n.goals||[],[n]),m=(v,b,y)=>{v(b.includes(y)?b.filter(x=>x!==y):[...b,y])};function p(){return pe(this,null,function*(){try{yield Se.post("/onboarding/oneshot",{categoryIds:a,subcategoryIds:o,subsubCategoryIds:c,goalIds:f}),alert("Saved!")}catch(v){console.error(v),alert("Failed to save.")}})}return e?r.jsx("div",{className:"min-h-screen grid place-items-center text-brand-700",children:"Loading"}):r.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Complete your profile"}),r.jsx("div",{className:"space-y-6",children:n.identities.map((v,b)=>r.jsxs("div",{className:"rounded-xl border bg-white p-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("h3",{className:"font-semibold",children:v.name}),r.jsx("span",{className:"text-xs text-gray-500",children:"(categories below)"})]}),r.jsx("div",{className:"mt-3 space-y-3",children:v.categories.map((y,x)=>r.jsxs("details",{className:"group border rounded-lg",children:[r.jsxs("summary",{className:"px-3 py-2 cursor-pointer flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:!!y.id&&a.includes(y.id),onChange:()=>y.id&&m(i,a,y.id),disabled:!y.id,title:y.id?"":"Category not found in DB"}),r.jsx("span",{className:"font-medium",children:y.name})]}),r.jsx("span",{className:"text-gray-400 group-open:rotate-180 transition",children:""})]}),r.jsx("div",{className:"px-3 pb-3 grid md:grid-cols-2 gap-2",children:y.subcategories.map((w,j)=>r.jsxs("div",{className:"border rounded-md px-3 py-2",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:!!w.id&&o.includes(w.id),onChange:()=>w.id&&m(l,o,w.id),disabled:!w.id,title:w.id?"":"Subcategory not found in DB"}),r.jsx("span",{children:w.name})]}),Array.isArray(w.subsubs)&&w.subsubs.length>0&&r.jsx("div",{className:"ml-6 mt-2 space-y-1",children:w.subsubs.map((N,L)=>r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:!!N.id&&c.includes(N.id),onChange:()=>N.id&&m(u,c,N.id),disabled:!N.id,title:N.id?"":"Level 3 not found in DB"}),r.jsx("span",{children:N.name})]},`${b}-${x}-${j}-${L}`))})]},`${b}-${x}-${j}`))})]},`${b}-${x}`))})]},b))}),r.jsxs("div",{className:"mt-6 rounded-xl border bg-white p-4",children:[r.jsx("h3",{className:"font-semibold",children:"Your Goals"}),r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Pick as many as you want."}),r.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(v=>r.jsx("button",{type:"button",onClick:()=>m(h,f,v.id),className:`rounded-full border px-3 py-1 text-sm ${f.includes(v.id)?"bg-[#8A358A] text-white border-transparent":"bg-white"}`,title:v.name,children:v.name},v.id))})]}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsx("button",{onClick:p,className:"rounded-xl bg-[#8A358A] text-white px-6 py-3 font-semibold",children:"Save All"})})]})}const gN={step1:e=>r.jsx(lx,te({className:"h-6 w-6"},e)),step2:e=>r.jsx(ys,te({className:"h-6 w-6"},e)),step3:e=>r.jsx(IH,te({className:"h-6 w-6"},e)),step4:e=>r.jsx(iue,te({className:"h-6 w-6"},e)),step5:e=>r.jsx(qce,te({className:"h-6 w-6"},e))};function JTe(){const e=Ht(),t=Xt(),n=3,s=3,[a,i]=d.useState(1),o=d.useMemo(()=>{var we;return(we=[0,16.67,33.33,50,66.67,83.33,100][a])!=null?we:100},[a]);d.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[a]);const[l,c]=d.useState(!0),[u,f]=d.useState(""),[h,g]=d.useState([]),[m,p]=d.useState(null),[v,b]=d.useState([]),[y,x]=d.useState([]),[w,j]=d.useState([]),[N,L]=d.useState([]),[k,E]=d.useState([]),[S,I]=d.useState([]),[C,M]=d.useState([]),[A,H]=d.useState([]),[W,X]=d.useState([]),[J,Z]=d.useState([]),[F,D]=d.useState([]),[O,T]=d.useState([]),[R,z]=d.useState(()=>new Set),[_,U]=d.useState(()=>new Set),[Q,re]=d.useState(()=>new Set),[le,ue]=d.useState(()=>new Set),[ge,ke]=d.useState(()=>new Set),[tt,He]=d.useState(()=>new Set);d.useEffect(()=>{pe(this,null,function*(){var we,Ee;try{c(!0),f("");const Ve=(we=(yield Se.get("/auth/me")).data)==null?void 0:we.accountType;p(Ve);const{data:ht}=yield Se.get("/public/identities?type=all");g(Array.isArray(ht==null?void 0:ht.identities)?ht.identities:[]);const ft=yield Se.get("/industry-categories/tree");X(Array.isArray((Ee=ft.data)==null?void 0:Ee.industryCategories)?ft.data.industryCategories:[])}catch(Ie){console.error(Ie),f("Failed to load onboarding data.")}finally{c(!1)}})},[]),d.useEffect(()=>{!t.user&&!(t!=null&&t.loading)&&e("/login")},[t.user,t==null?void 0:t.loading,e]);const ze=we=>we.id||`name:${we.name}`,rt=d.useMemo(()=>m==="company"?Array.isArray(h)?h:[]:Array.isArray(h)?h:[],[h,m]),Xe=d.useMemo(()=>{const we={};for(const Ee of rt){const Ie=ze(Ee);for(const Ve of Ee.categories||[])Ve!=null&&Ve.id&&(we[Ve.id]=we[Ve.id]||new Set,we[Ve.id].add(Ie))}return we},[rt]),V=d.useMemo(()=>{const we={};for(const Ee of rt){const Ie=ze(Ee);for(const Ve of Ee.categories||[])for(const ht of Ve.subcategories||[])ht!=null&&ht.id&&(we[ht.id]=we[ht.id]||new Set,we[ht.id].add(Ie))}return we},[rt]),ne=d.useMemo(()=>{const we={};for(const Ee of rt){const Ie=ze(Ee);for(const Ve of Ee.categories||[])for(const ht of Ve.subcategories||[])for(const ft of ht.subsubs||[])ft!=null&&ft.id&&(we[ft.id]=we[ft.id]||new Set,we[ft.id].add(Ie))}return we},[rt]),Ce=d.useMemo(()=>{const we={};for(const Ee of rt)for(const Ie of Ee.categories||[])for(const Ve of Ie.subcategories||[])Ve!=null&&Ve.id&&(we[Ve.id]=Ie.id);return we},[rt]),fe=d.useMemo(()=>{const we={};for(const Ee of rt)for(const Ie of Ee.categories||[])for(const Ve of Ie.subcategories||[])for(const ht of Ve.subsubs||[])ht!=null&&ht.id&&(we[ht.id]=Ve.id);return we},[rt]),xe=d.useMemo(()=>{const we={};for(const Ee of rt)for(const Ie of Ee.categories||[]){if(!(Ie!=null&&Ie.id))continue;const Ve=(Ie.subcategories||[]).map(ht=>ht.id).filter(Boolean);we[Ie.id]=Array.from(new Set([...we[Ie.id]||[],...Ve]))}return we},[rt]),se=d.useMemo(()=>{const we={};for(const Ee of rt)for(const Ie of Ee.categories||[])for(const Ve of Ie.subcategories||[]){if(!(Ve!=null&&Ve.id))continue;const ht=(Ve.subsubs||[]).map(ft=>ft.id).filter(Boolean);we[Ve.id]=Array.from(new Set([...we[Ve.id]||[],...ht]))}return we},[rt]);function ae({pickIds:we,setPickIds:Ee,setCats:Ie,setSubs:Ve,setSubsubs:ht,setOpenCats:ft,setOpenSubs:ct}){return xt=>{Ee(ve=>{const Fe=ve.includes(xt)?ve.filter(Ye=>Ye!==xt):[...ve,xt],et=(Ye,pt)=>{const Ke=Ye[pt];return Ke?Fe.some(je=>Ke.has(je)):!1};return ht(Ye=>Ye.filter(pt=>et(ne,pt))),Ve(Ye=>Ye.filter(pt=>et(V,pt))),Ie(Ye=>Ye.filter(pt=>et(Xe,pt))),ft(Ye=>{const pt=new Set([...Ye]);for(const Ke of[...Ye]){const je=Xe[Ke];(!je||!Fe.some(st=>je.has(st)))&&pt.delete(Ke)}return pt}),ct(Ye=>{const pt=new Set([...Ye]);for(const Ke of[...Ye]){const je=V[Ke];(!je||!Fe.some(st=>je.has(st)))&&pt.delete(Ke)}return pt}),Fe})}}function G({catIds:we,setCatIds:Ee,setSubIds:Ie,setXIds:Ve,setOpenCats:ht,setOpenSubs:ft}){return ct=>{if(!ct)return;if(we.includes(ct)){const ve=xe[ct]||[],Fe=ve.flatMap(et=>se[et]||[]);Ee(et=>et.filter(Ye=>Ye!==ct)),Ie(et=>et.filter(Ye=>!ve.includes(Ye))),Ve(et=>et.filter(Ye=>!Fe.includes(Ye))),ht(et=>{const Ye=new Set(et);return Ye.delete(ct),Ye}),ft(et=>{const Ye=new Set(et);for(const pt of ve)Ye.delete(pt);return Ye})}else Ee(ve=>[...ve,ct]),ht(ve=>new Set(ve).add(ct))}}function Ne({subIds:we,setSubIds:Ee,setXIds:Ie,setOpenSubs:Ve,setCatIds:ht,setOpenCats:ft}){return ct=>{if(!ct)return;const xt=Ce[ct];if(we.includes(ct)){const Fe=se[ct]||[];Ee(et=>et.filter(Ye=>Ye!==ct)),Ie(et=>et.filter(Ye=>!Fe.includes(Ye))),Ve(et=>{const Ye=new Set(et);return Ye.delete(ct),Ye})}else xt&&(ht(Fe=>Fe.includes(xt)?Fe:[...Fe,xt]),ft(Fe=>new Set(Fe).add(xt))),Ee(Fe=>[...Fe,ct])}}function Be({setXIds:we,subIds:Ee,setSubIds:Ie,setCatIds:Ve,setOpenCats:ht}){return ft=>{if(!ft)return;const ct=fe[ft],xt=ct?Ce[ct]:null;we(ve=>ve.includes(ft)?ve.filter(et=>et!==ft):(ct&&!Ee.includes(ct)&&Ie(et=>[...et,ct]),xt&&(Ve(et=>et.includes(xt)?et:[...et,xt]),ht(et=>new Set(et).add(xt))),[...ve,ft]))}}const dt=ae({pickIds:k,setPickIds:E,setCats:I,setSubs:M,setSubsubs:H,setOpenCats:re,setOpenSubs:ue}),nt=we=>{!k.includes(we)&&k.length>=n||dt(we)},Te=G({catIds:S,setCatIds:I,setSubIds:M,setXIds:H,setOpenCats:re,setOpenSubs:ue}),lt=we=>{!S.includes(we)&&S.length>=s||Te(we)},_e=Ne({subIds:C,setSubIds:M,setXIds:H,setOpenSubs:ue,setCatIds:I,setOpenCats:re}),be=we=>{const Ee=Ce[we],Ie=Ee?S.includes(Ee):!0;!C.includes(we)&&!Ie&&S.length>=s||_e(we)},Y=Be({setXIds:H,subIds:C,setSubIds:M,setCatIds:I,setOpenCats:re}),ie=we=>{const Ee=fe[we],Ie=Ee?Ce[Ee]:null,Ve=Ie?S.includes(Ie):!0;!A.includes(we)&&!Ve&&S.length>=s||Y(we)};function de({industryCatIds:we,setIndustryCatIds:Ee,setIndustrySubIds:Ie,setIndustryXIds:Ve,setOpenIndustryCats:ht,setOpenIndustrySubs:ft}){return ct=>{var ve,Fe;if(!ct)return;if(we.includes(ct)){const et=((Fe=(ve=W.find(pt=>pt.id===ct))==null?void 0:ve.subcategories)==null?void 0:Fe.map(pt=>pt.id))||[],Ye=et.flatMap(pt=>{var Ke,je,st,wt;return((wt=(st=(je=(Ke=W.find(Lt=>Lt.id===ct))==null?void 0:Ke.subcategories)==null?void 0:je.find(Lt=>Lt.id===pt))==null?void 0:st.subsubs)==null?void 0:wt.map(Lt=>Lt.id))||[]});Ee(pt=>pt.filter(Ke=>Ke!==ct)),Ie(pt=>pt.filter(Ke=>!et.includes(Ke))),Ve(pt=>pt.filter(Ke=>!Ye.includes(Ke))),ht(pt=>{const Ke=new Set(pt);return Ke.delete(ct),Ke}),ft(pt=>{const Ke=new Set(pt);for(const je of et)Ke.delete(je);return Ke})}else Ee(et=>[...et,ct]),ht(et=>new Set(et).add(ct))}}function $e({industrySubIds:we,setIndustrySubIds:Ee,setIndustryXIds:Ie,setOpenIndustrySubs:Ve,setIndustryCatIds:ht,setOpenIndustryCats:ft}){return ct=>{var Fe,et,Ye,pt,Ke;if(!ct)return;const xt=(Fe=W.find(je=>{var st;return(st=je.subcategories)==null?void 0:st.some(wt=>wt.id===ct)}))==null?void 0:Fe.id;if(we.includes(ct)){const je=((Ke=(pt=(Ye=(et=W.find(st=>st.id===xt))==null?void 0:et.subcategories)==null?void 0:Ye.find(st=>st.id===ct))==null?void 0:pt.subsubs)==null?void 0:Ke.map(st=>st.id))||[];Ee(st=>st.filter(wt=>wt!==ct)),Ie(st=>st.filter(wt=>!je.includes(wt))),Ve(st=>{const wt=new Set(st);return wt.delete(ct),wt})}else xt&&(ht(je=>je.includes(xt)?je:[...je,xt]),ft(je=>new Set(je).add(xt))),Ee(je=>[...je,ct])}}function it({setIndustryXIds:we,industrySubIds:Ee,setIndustrySubIds:Ie,setIndustryCatIds:Ve,setOpenIndustryCats:ht}){return ft=>{var ve,Fe;if(!ft)return;const ct=(ve=W.flatMap(et=>et.subcategories||[]).find(et=>{var Ye;return(Ye=et.subsubs)==null?void 0:Ye.some(pt=>pt.id===ft)}))==null?void 0:ve.id,xt=ct?(Fe=W.find(et=>{var Ye;return(Ye=et.subcategories)==null?void 0:Ye.some(pt=>pt.id===ct)}))==null?void 0:Fe.id:null;we(et=>et.includes(ft)?et.filter(pt=>pt!==ft):(ct&&!Ee.includes(ct)&&Ie(pt=>[...pt,ct]),xt&&(Ve(pt=>pt.includes(xt)?pt:[...pt,xt]),ht(pt=>new Set(pt).add(xt))),[...et,ft]))}}const gt=de({industryCatIds:J,setIndustryCatIds:Z,setIndustrySubIds:D,setIndustryXIds:T,setOpenIndustryCats:ke,setOpenIndustrySubs:He}),De=$e({industrySubIds:F,setIndustrySubIds:D,setIndustryXIds:T,setOpenIndustrySubs:He,setIndustryCatIds:Z,setOpenIndustryCats:ke}),Le=it({setIndustryXIds:T,industrySubIds:F,setIndustrySubIds:D,setIndustryCatIds:Z,setOpenIndustryCats:ke}),Ae=we=>{we&&U(Ee=>{const Ie=new Set(Ee);return Ie.has(we)?Ie.delete(we):Ie.add(we),Ie})},Pe=we=>{we&&ue(Ee=>{const Ie=new Set(Ee);return Ie.has(we)?Ie.delete(we):Ie.add(we),Ie})},Qe=we=>{z(Ee=>{const Ie=new Set(Ee);return Ie.has(we)?Ie.delete(we):Ie.add(we),Ie})},mt=we=>{re(Ee=>{const Ie=new Set(Ee);return Ie.has(we)?Ie.delete(we):Ie.add(we),Ie})},Me=we=>{ke(Ee=>{const Ie=new Set(Ee);return Ie.has(we)?Ie.delete(we):Ie.add(we),Ie})},Oe=we=>{we&&He(Ee=>{const Ie=new Set(Ee);return Ie.has(we)?Ie.delete(we):Ie.add(we),Ie})},We=we=>{b(Ee=>Ee.includes(we)?[]:[we]),L(Ee=>{const Ie=(Ve,ht)=>{const ft=Ve[ht];return ft?[we].some(ct=>ft.has(ct)):!1};return Ee.filter(Ve=>Ie(ne,Ve))}),j(Ee=>{const Ie=(Ve,ht)=>{const ft=Ve[ht];return ft?[we].some(ct=>ft.has(ct)):!1};return Ee.filter(Ve=>Ie(V,Ve))}),x(Ee=>{const Ie=(Ve,ht)=>{const ft=Ve[ht];return ft?[we].some(ct=>ft.has(ct)):!1};return Ee.filter(Ve=>Ie(Xe,Ve))}),z(Ee=>{const Ie=new Set([...Ee]);for(const Ve of[...Ee]){const ht=Xe[Ve];(!ht||![we].some(ft=>ht.has(ft)))&&Ie.delete(Ve)}return Ie}),U(Ee=>{const Ie=new Set([...Ee]);for(const Ve of[...Ee]){const ht=V[Ve];(!ht||![we].some(ft=>ht.has(ft)))&&Ie.delete(Ve)}return Ie})},qe=G({catIds:y,setCatIds:x,setSubIds:j,setXIds:L,setOpenCats:z,setOpenSubs:U}),vt=Ne({subIds:w,setSubIds:j,setXIds:L,setOpenSubs:U,setCatIds:x,setOpenCats:z}),Ge=Be({setXIds:L,subIds:w,setSubIds:j,setCatIds:x,setOpenCats:z}),ot=d.useMemo(()=>{const we=new Set(v);return rt.filter(Ee=>we.has(ze(Ee)))},[rt,v]),Mt=d.useMemo(()=>{const we=new Set(k);return rt.filter(Ee=>we.has(ze(Ee)))},[rt,k]),_t=v.length>=1,Ct=y.length>=1,B=k.length>=1&&k.length<=n,ee=S.length>=1&&S.length<=s,q=J.length>=1,K=()=>r.jsx("div",{className:"min-h-screen grid place-items-center text-brand-700",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("svg",{className:"h-6 w-6 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),r.jsx("span",{children:"Loading"})]})}),ce=({icon:we,title:Ee,subtitle:Ie,extra:Ve})=>r.jsxs("header",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("div",{className:"flex justify-center mb-7 mt-4",children:r.jsx("img",{className:"w-[100px]",src:uh})}),r.jsx("h1",{className:"mt-4 text-3xl font-bold",children:Ee}),r.jsx("p",{className:"text-gray-500",children:Ie}),Ve,r.jsx("div",{className:"mt-4 h-2 bg-gray-200 rounded",children:r.jsx("div",{className:"h-2 rounded bg-brand-700",style:{width:`${o}%`}})})]});if(l||!t.user)return r.jsx(K,{});if(u)return r.jsx("div",{className:"min-h-screen grid place-items-center",children:r.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[r.jsx("div",{className:"text-red-600 font-semibold mb-2",children:"Error"}),r.jsx("div",{className:"text-sm text-gray-700",children:u})]})});function ye({title:we,subtitle:Ee,picked:Ie,onToggle:Ve,next:ht,canNext:ft,prev:ct,limit:xt}){const ve=typeof xt=="number"&&Ie.length>=xt;return r.jsxs(r.Fragment,{children:[r.jsx(ce,{icon:r.jsx(gN.step1,{}),title:we,subtitle:Ee,extra:typeof xt=="number"?r.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Selected ",Ie.length,"/",xt]}):null}),r.jsxs("main",{className:"max-w-3xl mx-auto mt-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-soft p-6",children:[r.jsx("p",{className:"text-gray-500 mb-5 text-[18px]",children:typeof xt=="number"&&xt===1?"Choose one.":`Choose one or more${typeof xt=="number"?` (up to ${xt}).`:"."}`}),r.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-3",children:rt.filter(Fe=>Fe.type==m||a!=1).map((Fe,et)=>{const Ye=ze(Fe),pt=Ie.includes(Ye),Ke=!pt&&ve;return r.jsxs("button",{onClick:()=>!Ke&&Ve(Ye),disabled:Ke,className:`rounded-xl flex items-center justify-between border px-4 py-3 text-left hover:shadow-soft ${pt?"border-brand-700 ring-2 ring-brand-500":"border-gray-200"} ${Ke?"opacity-50 cursor-not-allowed":""}`,children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:Fe.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:[(Fe.categories||[]).length," categories"]})]}),r.jsx("input",{type:"checkbox",className:"h-4 w-4 pointer-events-none",checked:pt,readOnly:!0})]},`${et}-${Fe.name}`)})})]}),r.jsxs("div",{className:"mt-6 flex justify-between",children:[ct?r.jsx("button",{onClick:ct,className:"rounded-xl border px-4 py-3",children:"Previous"}):r.jsx("span",{}),r.jsx("button",{onClick:ht,disabled:!ft,className:"rounded-xl bg-brand-700 text-white px-6 py-3 font-semibold disabled:opacity-50",children:"Continue"})]})]})]})}function Ze({title:we,subtitle:Ee,industryCatIds:Ie,industrySubIds:Ve,industryXIds:ht,openIndustryCats:ft,openIndustrySubs:ct,onToggleIndustryCat:xt,onToggleIndustrySub:ve,onToggleIndustrySubsub:Fe,onToggleIndustryCatOpen:et,toggleIndustrySubOpen:Ye,prev:pt,nextLabel:Ke,onNext:je,canNext:st}){const wt=Wt=>Array.isArray(Wt==null?void 0:Wt.subcategories)&&Wt.subcategories.length>0,Lt=Wt=>Array.isArray(Wt==null?void 0:Wt.subsubs)&&Wt.subsubs.length>0;return r.jsxs(r.Fragment,{children:[r.jsx(ce,{icon:r.jsx(gN.step4,{}),title:we,subtitle:Ee}),r.jsxs("main",{className:"max-w-4xl mx-auto mt-6",children:[r.jsx("div",{className:"bg-white rounded-2xl shadow-soft p-6",children:W.length===0?r.jsx("div",{className:"rounded-xl border bg-white p-6 text-[17px] text-gray-600",children:"Loading industry categories..."}):r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-[17px] text-gray-500 mb-4",children:"Choose at least one industry category that represents your professional focus."}),r.jsx("div",{className:"space-y-4",children:W.map((Wt,hr)=>{const Dt=wt(Wt),er=!!Wt.id&&ft.has(Wt.id),tr=!!Wt.id&&J.includes(Wt.id);return r.jsxs("div",{className:"rounded-xl border",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 rounded-t-xl",children:[r.jsxs("div",{onClick:()=>Wt.id&&xt(Wt.id),className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{"aria-label":`Select ${Wt.name}`,type:"checkbox",className:"h-4 w-4",checked:tr}),r.jsx("div",{className:"font-semibold",children:Wt.name})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500",children:(Wt.subcategories||[]).length}),r.jsx("div",{className:"flex items-center gap-3",children:Dt&&r.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700 ml-auto","aria-expanded":er,onClick:()=>Wt.id&&et(Wt.id),children:r.jsx("span",{className:`inline-block transition-transform ${er?"rotate-180":""}`,children:""})})})]})]}),r.jsx("div",{className:`${Dt&&er?" px-4 py-4 space-y-3":""}`,children:Dt&&er&&r.jsx("div",{className:"ml-7 space-y-3",children:(Wt.subcategories||[]).map((jt,Zt)=>{const cr=Lt(jt),br=!!jt.id&&ct.has(jt.id),Xr=!!jt.id&&Ve.includes(jt.id);return r.jsxs("div",{className:"border rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("label",{className:"flex items-center w-full flex-1 gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 text-brand-600",checked:Xr,onChange:()=>jt.id&&ve(jt.id)}),r.jsx("span",{className:"font-medium w-full flex flex-1",children:jt.name})]}),cr&&r.jsx("button",{type:"button",onClick:()=>jt.id&&Ye(jt.id),className:"text-gray-500 hover:text-gray-700","aria-expanded":br,"aria-label":`Toggle ${jt.name} sub-items`,children:r.jsx("span",{className:`inline-block transition-transform ${br?"rotate-180":""}`,children:""})})]}),cr&&(br||Xr)&&r.jsx("div",{className:"mt-2 flex flex-wrap gap-2 ml-7",children:jt.subsubs.map((on,gr)=>{const pa=!!on.id&&ht.includes(on.id);return r.jsxs("label",{className:"inline-flex items-center gap-2 px-2 py-1 border rounded-full text-sm cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:pa,onChange:()=>on.id&&Fe(on.id)}),r.jsx("span",{children:on.name})]},`industry-ss-${hr}-${Zt}-${gr}`)})})]},`industry-sub-${hr}-${Zt}`)})})})]},`industry-cat-${hr}`)})})]})}),r.jsxs("div",{className:"mt-6 flex justify-between",children:[r.jsx("button",{onClick:pt,className:"rounded-xl border px-4 py-3",children:"Previous"}),r.jsx("button",{onClick:je,disabled:!st,className:"rounded-xl bg-brand-700 text-white px-6 py-3 font-semibold disabled:opacity-50",children:Ke})]})]})]})}function ut({title:we,subtitle:Ee,selectedIdentities:Ie,catIds:Ve,subIds:ht,xIds:ft,openCats:ct,openSubs:xt,onToggleCat:ve,onToggleSub:Fe,onToggleSubsub:et,onToggleCatOpen:Ye,toggleSubOpen:pt,prev:Ke,nextLabel:je,onNext:st,canNext:wt,catLimit:Lt}){const Wt=er=>Array.isArray(er==null?void 0:er.subcategories)&&er.subcategories.length>0,hr=er=>Array.isArray(er==null?void 0:er.subsubs)&&er.subsubs.length>0,Dt=typeof Lt=="number"&&Ve.length>=Lt;return r.jsxs(r.Fragment,{children:[r.jsx(ce,{icon:r.jsx(gN.step3,{}),title:we,subtitle:Ee,extra:typeof Lt=="number"?r.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Selected categories ",Ve.length,"/",Lt]}):null}),r.jsxs("main",{className:"max-w-4xl mx-auto mt-6",children:[r.jsx("div",{className:"bg-white rounded-2xl shadow-soft p-6",children:Ie.length===0?r.jsx("div",{className:"rounded-xl border bg-white p-6 text-[17px] text-gray-600",children:"Select at least one identity in the previous step to see categories here."}):r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"text-[17px] text-gray-500 mb-4",children:["Choose at least one category",typeof Lt=="number"?` (up to ${Lt}).`:"."]}),r.jsx("div",{className:"space-y-4",children:Ie.map((er,tr)=>r.jsxs("div",{className:"rounded-xl border",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 rounded-t-xl",children:[r.jsx("div",{className:"font-semibold",children:er.name}),r.jsxs("span",{className:"text-xs text-gray-500",children:[(er.categories||[]).length," categories"]})]}),r.jsx("div",{className:"px-4 py-4 space-y-3",children:(er.categories||[]).map((jt,Zt)=>{const cr=Wt(jt),br=!!jt.id&&ct.has(jt.id),Xr=!!jt.id&&Ve.includes(jt.id),on=!!jt.id&&!Xr&&Dt;return r.jsxs("div",{className:"border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[r.jsxs("label",{className:`flex flex-1 items-center gap-2 ${on?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:Xr,onChange:()=>!on&&jt.id&&ve(jt.id),disabled:!jt.id||on,title:jt.id?on?"Category limit reached":"":"Category not found in DB"}),r.jsx("span",{className:"font-medium w-full flex-1 flex",children:jt.name})]}),cr&&r.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700","aria-expanded":br,onClick:()=>jt.id&&Ye(jt.id),children:r.jsx("span",{className:`inline-block transition-transform ${br?"rotate-180":""}`,children:""})})]}),cr&&br&&r.jsx("div",{className:"px-4 pb-4 space-y-3",children:(jt.subcategories||[]).map((gr,pa)=>{const Dn=hr(gr),qr=!!gr.id&&xt.has(gr.id),Fs=!!gr.id&&ht.includes(gr.id),xa=!!jt.id&&Ve.includes(jt.id),va=!Fs&&!xa&&Dt;return r.jsxs("div",{className:"border rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("label",{className:`flex items-center w-full flex-1 gap-3 ${va?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 text-brand-600",checked:Fs,onChange:()=>!va&&gr.id&&Fe(gr.id),disabled:!gr.id||va,title:gr.id?va?"Category limit reached":"":"Subcategory not found in DB"}),r.jsx("span",{className:"font-medium w-full flex flex-1",children:gr.name})]}),Dn&&r.jsx("button",{type:"button",onClick:()=>gr.id&&pt(gr.id),className:"text-gray-500 hover:text-gray-700","aria-expanded":qr,"aria-label":`Toggle ${gr.name} sub-items`,children:r.jsx("span",{className:`inline-block transition-transform ${qr?"rotate-180":""}`,children:""})})]}),Dn&&(qr||Fs)&&r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:gr.subsubs.map((ra,Ue)=>{const It=!!jt.id&&Ve.includes(jt.id),Ft=!!ra.id&&ft.includes(ra.id),Kt=!Ft&&!It&&Dt;return r.jsxs("label",{className:`inline-flex items-center gap-2 px-2 py-1 border rounded-full text-sm ${Kt?"opacity-50 cursor-not-allowed":""}`,children:[r.jsx("input",{type:"checkbox",checked:!!ra.id&&Ft,onChange:()=>!Kt&&ra.id&&et(ra.id),disabled:!ra.id||Kt,title:ra.id?Kt?"Category limit reached":"":"Level-3 not found in DB"}),r.jsx("span",{children:ra.name})]},`ss-${tr}-${Zt}-${pa}-${Ue}`)})})]},`sub-${tr}-${Zt}-${pa}`)})})]},`cat-${tr}-${Zt}`)})})]},`iden-${tr}`))})]})}),r.jsxs("div",{className:"mt-6 flex justify-between",children:[r.jsx("button",{onClick:Ke,className:"rounded-xl border px-4 py-3",children:"Previous"}),r.jsx("button",{onClick:st,disabled:!wt,className:"rounded-xl bg-brand-700 text-white px-6 py-3 font-semibold disabled:opacity-50",children:je})]})]})]})}return r.jsxs("div",{className:"min-h-screen p-6 bg-brand-50/40",children:[a===1&&r.jsx(ye,{title:m==="company"?"Tell us about your company":"Tell us who you are",subtitle:m==="company"?"Choose the identity that best represents what your company does.":"Choose the identity that best represents what you do.",picked:v,onToggle:We,next:()=>i(2),canNext:_t,limit:1}),a===2&&r.jsx(ut,{title:m==="company"?"Choose your company's focus areas":"Choose where you belong",subtitle:m==="company"?"Select the categories that match your company's expertise and activity.":"Select the categories that match your expertise and activity.",selectedIdentities:ot,catIds:y,subIds:w,xIds:N,openCats:R,openSubs:_,onToggleCat:qe,onToggleSub:vt,onToggleSubsub:Ge,onToggleCatOpen:Qe,toggleSubOpen:Ae,prev:()=>i(1),nextLabel:"Continue",onNext:()=>i(3),canNext:Ct}),a===3&&r.jsx(ye,{title:m==="company"?"What is your company looking for?":"What are you looking for?",subtitle:m==="company"?"Pick the identities your company wants to connect with or discover.":"Pick the identities you want to connect with or discover.",picked:k,onToggle:nt,next:()=>i(4),canNext:B,prev:()=>i(2),limit:n}),a===4&&r.jsx(ut,{title:m==="company"?"Pick the categories your company is looking for":"Pick the categories you are looking for",subtitle:m==="company"?"Select categories and roles your company wants to find.":"Select categories and roles you want to find.",selectedIdentities:Mt,catIds:S,subIds:C,xIds:A,openCats:Q,openSubs:le,onToggleCat:lt,onToggleSub:be,onToggleSubsub:ie,onToggleCatOpen:mt,toggleSubOpen:Pe,prev:()=>i(3),nextLabel:"Continue",onNext:()=>i(5),canNext:ee,catLimit:s}),a===5&&r.jsx(Ze,{title:m==="company"?"Choose your company's industry focus":"Choose your industry focus",subtitle:m==="company"?"Select the industries that best represent your company's sector and expertise.":"Select the industries that best represent your professional sector and expertise.",industryCatIds:J,industrySubIds:F,industryXIds:O,openIndustryCats:ge,openIndustrySubs:tt,onToggleIndustryCat:gt,onToggleIndustrySub:De,onToggleIndustrySubsub:Le,onToggleIndustryCatOpen:Me,toggleIndustrySubOpen:Oe,prev:()=>i(4),nextLabel:"Save & Finish",onNext:()=>pe(this,null,function*(){if(q)try{yield Se.post("/onboarding/oneshot",{identityIds:v,categoryIds:y,subcategoryIds:w,subsubCategoryIds:N,interestIdentityIds:k,interestCategoryIds:S,interestSubcategoryIds:C,interestSubsubCategoryIds:A,industryCategoryIds:J,industrySubcategoryIds:F,industrySubsubCategoryIds:O}),window.location.href="/"}catch(we){console.error(we),alert("Failed to save. Please try again.")}}),canNext:q})]})}function ZTe({isOpen:e,onClose:t}){const{profile:n,refreshAuth:s,user:a}=Xt(),i=(a==null?void 0:a.accountType)==="company",[o,l]=d.useState(!1),[c,u]=d.useState({professionalTitle:(n==null?void 0:n.professionalTitle)||"",about:(n==null?void 0:n.about)||""}),[f,h]=d.useState({professionalTitle:"",about:""});if(!e)return null;const g=v=>{const{name:b,value:y}=v.target;let x=y;b==="professionalTitle"&&y.length>50&&(x=y.slice(0,50)),b==="about"&&y.length>300&&(x=y.slice(0,300)),u(w=>he(te({},w),{[b]:x})),h(w=>he(te({},w),{[b]:""}))},m=()=>{const v={professionalTitle:c.professionalTitle?"":i?"Please enter your company role or position":"Please enter your job title or role",about:c.about?"":i?"Please tell us a bit about your company":"Please tell us a bit about yourself"};return h(v),!Object.values(v).some(b=>b)},p=v=>pe(this,null,function*(){var b,y;if(v.preventDefault(),!m()){oe.error("Please fill in all required fields");return}l(!0);try{yield jV({professionalTitle:c.professionalTitle,about:c.about}),oe.success("Details saved!"),yield s(),t()}catch(x){oe.error(((y=(b=x==null?void 0:x.response)==null?void 0:b.data)==null?void 0:y.message)||"Failed to update profile")}finally{l(!1)}});return r.jsx("div",{style:{zIndex:999},className:"fixed inset-0 flex items-center justify-center bg-black/50","aria-modal":"true",role:"dialog",children:r.jsxs("div",{className:"relative w-full max-w-md bg-white rounded-xl shadow-xl p-6 md:p-8 max-h-[80vh] overflow-y-auto",children:[r.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close",type:"button",children:r.jsx(Sr,{size:24})}),r.jsx("h2",{className:"mt-2 text-[1.4rem] font-bold text-gray-900 mb-[0.5rem]",children:i?"Help others get to know your company":"Help others get to know you"}),r.jsx("p",{className:"mt-1 text-gray-500",children:i?"Add a company title and short description now. You can update the rest anytime.":"Add a title and short intro now. You can update the rest anytime."}),r.jsxs("div",{className:"mt-4 p-4 bg-amber-50 border border-amber-200 rounded-lg flex items-start gap-3",children:[r.jsx(Hce,{size:20,className:"text-amber-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Your profile is currently hidden"}),r.jsx("p",{className:"text-xs text-amber-700 mt-1",children:i?"Your company profile will remain hidden from other users until you complete these basic details. You can update this information anytime in your profile settings.":"Your profile will remain hidden from other users until you complete these basic details. You can update this information anytime in your profile settings."})]})]}),r.jsxs("form",{onSubmit:p,className:"mt-6 space-y-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:i?"Company Area or Focus":"Job Title or Role"}),r.jsxs("span",{className:`text-xs ${c.professionalTitle.length>50?"text-red-600":"text-gray-500"}`,children:[c.professionalTitle.length,"/50"]})]}),r.jsx($r,{name:"professionalTitle",placeholder:i?"e.g. Technology, Finance, Marketing, Logistics":"e.g. Software Engineer, Marketing Manager",value:c.professionalTitle,onChange:g,error:f.professionalTitle})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("label",{htmlFor:"about",className:"text-sm font-medium text-gray-700",children:i?"About Your Company":"About You"}),r.jsxs("span",{className:`text-xs ${c.about.length>300?"text-red-600":"text-gray-500"}`,children:[c.about.length,"/300"]})]}),r.jsx("textarea",{id:"about",name:"about",placeholder:i?"Tell us about your company, what you do, and what you're looking for":"Tell us about yourself, your experience, and what you're looking for",value:c.about,onChange:g,rows:4,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 ${f.about?"border-red-400 focus:ring-red-400":"border-gray-200"}`}),f.about&&r.jsx("p",{className:"text-xs text-red-600",children:f.about})]}),r.jsxs("button",{type:"submit",disabled:o,className:"mt-4 w-full rounded-xl bg-gradient-to-r from-brand-600 to-brand-500 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[o&&r.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),o?"Saving...":"Save details & make profile visible"]}),r.jsx("p",{className:"text-xs text-gray-500 text-center",children:i?"Complete these details to make your company profile visible to others.":"Complete these details to make your profile visible to others."})]})]})})}const QTe=()=>{const{user:e,loading:t,profile:n}=Xt(),[s,a]=d.useState(!1);return d.useEffect(()=>{if(e&&!t&&(e==null?void 0:e.accountType)!="admin"){const i=!n.about,o=!(n!=null&&n.professionalTitle);(i||o)&&a(!0)}},[e,n,t]),t?r.jsx(Xa,{}):e&&(n==null?void 0:n.onboardingDone)===!1&&(e==null?void 0:e.accountType)!="admin"?r.jsx(MC,{to:"/onboarding",replace:!0}):r.jsxs(r.Fragment,{children:[r.jsx(ZTe,{isOpen:s,onClose:()=>a(!1)}),r.jsx(zE,{})]})};function KTe(e,t=400){const[n,s]=d.useState(e);return d.useEffect(()=>{const a=setTimeout(()=>s(e),t);return()=>clearTimeout(a)},[e,t]),n}function XTe(){const[t,n]=d.useState("Suggested for You");d.useMemo(()=>["Suggested for You","Events to Attend"],[]);const s=Ht(),a=yr(),[i,o]=d.useState("list"),l="services",{user:c}=Xt(),[u,f]=d.useState(""),h=KTe(u,400),[g,m]=d.useState(),[p,v]=d.useState(),[b,y]=d.useState(),[x,w]=d.useState(),[j,N]=d.useState(),[L,k]=d.useState(),[E,S]=d.useState(),[I,C]=d.useState([]),[M,A]=d.useState({}),[H,W]=d.useState([]),[X,J]=d.useState([]);d.useEffect(()=>{pe(this,null,function*(){try{const{data:je}=yield Se.get("/general-categories/tree?type=service");C(je.generalCategories||[])}catch(je){console.error("Failed to load general categories",je)}})},[]);const[Z,F]=d.useState([]),[D,O]=d.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[T,R]=d.useState(""),[z,_]=d.useState(""),[U,Q]=d.useState(""),[re,le]=d.useState(""),[ue,ge]=d.useState(""),[ke,tt]=d.useState(""),[He,ze]=d.useState(""),[rt,Xe]=d.useState(""),[V,ne]=d.useState(""),[Ce,fe]=d.useState(""),[xe,se]=d.useState(""),[ae,G]=d.useState(""),[Ne,Be]=d.useState(""),[dt,nt]=d.useState(""),[Te,lt]=d.useState(""),[_e,be]=d.useState(""),[Y,ie]=d.useState(""),[de,$e]=d.useState("Free"),[it,gt]=d.useState([]),[De,Le]=d.useState([]),[Ae,Pe]=d.useState([]),[Qe,mt]=d.useState([]),[Me,Oe]=d.useState([]),[We,qe]=d.useState(!1),[vt,Ge]=d.useState(0),[ot,Mt]=d.useState(0),[_t,Ct]=d.useState(!1),B=d.useRef(null),[ee,q]=d.useState([]),[K,ce]=d.useState([]),[ye,Ze]=d.useState(!1),[ut,we]=d.useState(!1),[Ee,Ie]=d.useState(!0),[Ve,ht]=d.useState(!1),ft=d.useRef(null);d.useRef(null);const ct=d.useRef(0);d.useEffect(()=>{pe(this,null,function*(){try{const{data:je}=yield Se.get("/feed/meta");Le(je.categories||[]),Pe(je.countries||[]),mt(je.goals||[])}catch(je){console.error("Failed to load meta:",je)}})},[]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:je}=yield Se.get("/public/identities");F(je.identities)}catch(je){console.error("Error loading identities:",je)}})},[]);const xt=d.useCallback(()=>pe(this,null,function*(){if(t==="Suggested for You"){qe(!0);try{const je={tab:"services",q:h||void 0,country:g||void 0,servicesView:E||void 0,city:p||void 0,categoryId:b||void 0,subcategoryId:x||void 0,goalId:j||void 0,role:L||void 0,price:T||void 0,serviceType:z||void 0,priceType:U||void 0,deliveryTime:re||void 0,experienceLevel:ue||void 0,locationType:ke||void 0,jobType:He||void 0,workMode:rt||void 0,postType:V||void 0,season:Ce||void 0,budgetRange:xe||void 0,servicesView:E||void 0,fundingGoal:ae||void 0,amountRaised:Ne||void 0,currency:dt||void 0,deadline:Te||void 0,eventType:_e||void 0,date:Y||void 0,registrationType:de||void 0,generalCategoryIds:H.filter(Lt=>I.some(Wt=>Wt.id===Lt)).join(",")||void 0,generalSubcategoryIds:Object.keys(M).filter(Lt=>M[Lt]).join(",")||void 0,audienceIdentityIds:Array.from(D.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(D.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(D.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(D.subsubCategoryIds).join(",")||void 0,industryIds:it.length>0?it.join(","):void 0,limit:10,offset:0},{data:st}=yield Se.get("/feed",{params:je}),wt=Array.isArray(st.items)?st.items:[];Oe(wt),Ge(typeof st.total=="number"?st.total:wt.length),Ie(typeof st.total=="number"?wt.length<st.total:wt.length===10),ct.current=wt.length,Ct(!1),B.current&&(clearTimeout(B.current),B.current=null)}catch(je){console.error("Failed to load feed:",je),Oe([]),Ct(!0),B.current&&clearTimeout(B.current),B.current=setTimeout(()=>{xt()},3e3)}finally{qe(!1)}setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)}}),[t,h,g,p,b,x,j,L,D,E,T,z,U,re,ue,ke,He,rt,V,Ce,xe,ae,Ne,dt,Te,_e,Y,de,M,H,it,I,a]),ve=d.useCallback(()=>pe(this,null,function*(){if(!(isFetchingRef.current||We||Ve||!Ee)){isFetchingRef.current=!0,ht(!0);try{const je={tab:"services",q:h||void 0,country:g||void 0,servicesView:E||void 0,city:p||void 0,categoryId:b||void 0,subcategoryId:x||void 0,goalId:j||void 0,role:L||void 0,price:T||void 0,serviceType:z||void 0,priceType:U||void 0,deliveryTime:re||void 0,experienceLevel:ue||void 0,locationType:ke||void 0,jobType:He||void 0,workMode:rt||void 0,postType:V||void 0,season:Ce||void 0,budgetRange:xe||void 0,servicesView:E||void 0,fundingGoal:ae||void 0,amountRaised:Ne||void 0,currency:dt||void 0,deadline:Te||void 0,eventType:_e||void 0,date:Y||void 0,registrationType:de||void 0,generalCategoryIds:H.filter(Lt=>I.some(Wt=>Wt.id===Lt)).join(",")||void 0,generalSubcategoryIds:Object.keys(M).filter(Lt=>M[Lt]).join(",")||void 0,audienceIdentityIds:Array.from(D.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(D.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(D.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(D.subsubCategoryIds).join(",")||void 0,industryIds:it.length>0?it.join(","):void 0,limit:10,offset:ct.current},{data:st}=yield Se.get("/feed",{params:je}),wt=Array.isArray(st.items)?st.items:[];Oe(Lt=>[...Lt,...wt]),ct.current+=wt.length,Ie(wt.length===10),Ct(!1)}catch(je){console.error("Failed to load more:",je)}finally{isFetchingRef.current=!1,ht(!1)}}}),[t,h,g,p,b,x,j,L,D,E,T,z,U,re,ue,ke,He,rt,V,Ce,xe,ae,Ne,dt,Te,_e,Y,de,M,H,it,I,Me.length,We,Ve,Ee]);d.useEffect(()=>{xt()},[xt]),d.useEffect(()=>()=>{B.current&&clearTimeout(B.current)},[]),d.useEffect(()=>{pe(this,null,function*(){Ze(!0);try{const je={q:h||void 0,country:g||void 0,city:p||void 0,categoryId:b||void 0,subcategoryId:x||void 0,goalId:j||void 0,role:L||void 0,industryIds:it.length>0?it.join(","):void 0,limit:10},{data:st}=yield Se.get("/feed/suggestions",{params:je});q(st.matches||[]),ce(st.nearby||[])}catch(je){console.error("Failed to load suggestions:",je)}finally{Ze(!1)}})},[h,g,p,b,x,j,L,it]),d.useEffect(()=>{if(!ft.current||!Ee)return;const je=ft.current,st=new IntersectionObserver(wt=>{const[Lt]=wt;Lt.isIntersecting&&ve()},{root:null,rootMargin:"700px",threshold:0});return st.observe(je),()=>st.disconnect()},[ft,Ee,ve]);const Fe=je=>{A(je)},[et,Ye]=d.useState({});d.useEffect(()=>{const je={};I.forEach(st=>{je[st.id]=st.name}),Ye(je),J(I.map(st=>st.id))},[I]);const pt={setShowTotalCount:Mt,audienceSelections:D,setAudienceSelections:O,audienceTree:Z,generalTree:I,selectedFilters:H,setSelectedFilters:W,onSubcategoryChange:Fe,servicesView:E,query:u,setQuery:f,country:g,setCountry:m,city:p,setCity:v,categoryId:b,setCategoryId:y,subcategoryId:x,setSubcategoryId:w,goalId:j,goals:Qe,role:L,setRole:k,setGoalId:N,price:T,setPrice:R,serviceType:z,setServiceType:_,priceType:U,setPriceType:Q,deliveryTime:re,setDeliveryTime:le,servicesView:E,setServicesView:S,experienceLevel:ue,setExperienceLevel:ge,locationType:ke,setLocationType:tt,jobType:He,setJobType:ze,workMode:rt,setWorkMode:Xe,postType:V,setPostType:ne,season:Ce,setSeason:fe,budgetRange:xe,setBudgetRange:se,fundingGoal:ae,setFundingGoal:G,amountRaised:Ne,setAmountRaised:Be,currency:dt,setCurrency:nt,deadline:Te,setDeadline:lt,eventType:_e,setEventType:be,date:Y,setDate:ie,registrationType:de,setRegistrationType:$e,selectedIndustries:it,setSelectedIndustries:gt,categories:De,countries:Ae,onApply:()=>we(!1)},Ke=()=>_t?r.jsx(hl,{onRetry:()=>{Ct(!1),B.current&&clearTimeout(B.current),B.current=null,xt()},message:"Failed to load feed. Trying to connect...",buttonText:"Try Again"}):!We&&Me.length==0?r.jsx(Dd,{}):We?r.jsx(r.Fragment,{children:We&&r.jsx("div",{className:"min-h-[160px] grid text-gray-600",children:r.jsx(Rd,{columns:1})})}):r.jsx("div",{className:`grid grid-cols-1 ${i==="list"?"sm:grid-cols-1":"lg:grid-cols-3"} gap-6`,children:Me.map(je=>{var st,wt,Lt,Wt,hr,Dt,er,tr;return je.kind==="service"?r.jsx(fw,{type:i,item:je,matchPercentage:je.matchPercentage,currentUserId:je==null?void 0:je.id,onContact:()=>alert(`${je.type} - Contact ${je.provider}`),onConnect:()=>console.log(`Connect with ${je.providerUserName}`)},je.id):je.kind==="need"?r.jsx(ec,{type:i,matchPercentage:je.matchPercentage,need:he(te({},je),{categoryName:(st=De.find(jt=>String(jt.id)===String(je.categoryId)))==null?void 0:st.name,subcategoryName:(Wt=(Lt=(wt=De.find(jt=>String(jt.id)===String(je.categoryId)))==null?void 0:wt.subcategories)==null?void 0:Lt.find(jt=>String(jt.id)===String(je.subcategoryId)))==null?void 0:Wt.name})},`need-${je.id}`):je.kind==="moment"?r.jsx(tc,{type:i,matchPercentage:je.matchPercentage,moment:he(te({},je),{categoryName:(hr=De.find(jt=>String(jt.id)===String(je.categoryId)))==null?void 0:hr.name,subcategoryName:(tr=(er=(Dt=De.find(jt=>String(jt.id)===String(je.categoryId)))==null?void 0:Dt.subcategories)==null?void 0:er.find(jt=>String(jt.id)===String(je.subcategoryId)))==null?void 0:tr.name})},`moment-${je.id}`):je.kind==="job"?r.jsx(Od,{job:je},`job-${je.id}`):je.kind==="event"?r.jsx(nf,{e:je},`event-${je.id}`):null})});return r.jsxs(ei,{children:[r.jsx(an,{}),r.jsxs("main",{className:`mx-auto ${a._openPopUps.profile?"relative z-50":""} max-w-7xl px-4 sm:px-6 lg:px-8 py-6 grid lg:grid-cols-12 gap-6`,children:[r.jsx(Ed,{onClick:()=>we(!0)}),r.jsxs("aside",{className:"lg:col-span-3 hidden lg:flex flex-col space-y-4 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto pr-1",children:[r.jsx("div",{className:"_sticky top-0 z-10 _bg-white",children:r.jsx(Kl,he(te({selectedFilters:H,setSelectedFilters:W,generalTree:I},pt),{from:"services",catComponent:r.jsx(Ka,{selected:H,setSelected:W,buttons:X,buttonLabels:et,from:l,loading:We})}))}),r.jsx(sf,{title:"Quick Actions",items:[{label:"Edit Profile",Icon:hd,path:"/profile"},{label:"Add a New Service",Icon:Cn,onClick:()=>s("/services/create"),hide:(c==null?void 0:c.accountType)=="individual"},{label:"Find Services",Icon:Cn,onClick:()=>s("/need/service/create"),hide:(c==null?void 0:c.accountType)=="company"},{label:"Highlight a Service ",Icon:Cn,onClick:()=>s("/moment/service/create"),hide:(c==null?void 0:c.accountType)=="company"}]}),r.jsx(af,{})]}),r.jsxs("div",{className:"lg:col-span-9 grid lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx("div",{className:"flex items-center flex-wrap w-full justify-between mb-4",children:r.jsx(Xu,{from:"service",typeOfPosts:[{label:"Add a New Service",Icon:ix,hide:(c==null?void 0:c.accountType)==="individual",type:"main"},{label:"Find Services",Icon:Ja,hide:(c==null?void 0:c.accountType)==="company"},{label:"Highlight a Service ",Icon:Ku}]})}),r.jsx("section",{className:"space-y-4 overflow-hidden",children:Ke()})]}),r.jsx("aside",{className:"lg:col-span-1 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto",children:r.jsx(Pd,{loading:ye,matches:ee,nearby:K})})]})]}),r.jsx(Ld,he(te({isOpen:ut,onClose:()=>we(!1),selectedFilters:H,setSelectedFilters:W,generalTree:I},pt),{from:"services",catComponent:r.jsx(Ka,{selected:H,setSelected:W,buttons:X,buttonLabels:et,from:l,loading:We})}))]})}function e5e(e,t=400){const[n,s]=d.useState(e);return d.useEffect(()=>{const a=setTimeout(()=>s(e),t);return()=>clearTimeout(a)},[e,t]),n}function t5e(){const[t,n]=d.useState("Suggested for You");d.useMemo(()=>["Suggested for You","Events to Attend"],[]);const s=Ht(),a=yr(),[i,o]=d.useState("list"),l="products",{user:c}=Xt(),[u,f]=d.useState(""),h=e5e(u,400),[g,m]=d.useState(),[p,v]=d.useState(),[b,y]=d.useState(),[x,w]=d.useState(),[j,N]=d.useState(),[L,k]=d.useState(),[E,S]=d.useState(),[I,C]=d.useState([]),[M,A]=d.useState({}),[H,W]=d.useState([]),[X,J]=d.useState([]);d.useEffect(()=>{pe(this,null,function*(){try{const{data:je}=yield Se.get("/general-categories/tree?type=product");C(je.generalCategories||[])}catch(je){console.error("Failed to load general categories",je)}})},[]);const[Z,F]=d.useState([]),[D,O]=d.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[T,R]=d.useState(""),[z,_]=d.useState(""),[U,Q]=d.useState(""),[re,le]=d.useState(""),[ue,ge]=d.useState(""),[ke,tt]=d.useState(""),[He,ze]=d.useState(""),[rt,Xe]=d.useState(""),[V,ne]=d.useState(""),[Ce,fe]=d.useState(""),[xe,se]=d.useState(""),[ae,G]=d.useState(""),[Ne,Be]=d.useState(""),[dt,nt]=d.useState(""),[Te,lt]=d.useState(""),[_e,be]=d.useState(""),[Y,ie]=d.useState(""),[de,$e]=d.useState("Free"),[it,gt]=d.useState([]),[De,Le]=d.useState([]),[Ae,Pe]=d.useState([]),[Qe,mt]=d.useState([]),[Me,Oe]=d.useState([]),[We,qe]=d.useState(!1),[vt,Ge]=d.useState(0),[ot,Mt]=d.useState(0),[_t,Ct]=d.useState(!1),B=d.useRef(null),[ee,q]=d.useState([]),[K,ce]=d.useState([]),[ye,Ze]=d.useState(!1),[ut,we]=d.useState(!1),[Ee,Ie]=d.useState(!0),[Ve,ht]=d.useState(!1),ft=d.useRef(null);d.useRef(null);const ct=d.useRef(0);d.useEffect(()=>{pe(this,null,function*(){try{const{data:je}=yield Se.get("/feed/meta");Le(je.categories||[]),Pe(je.countries||[]),mt(je.goals||[])}catch(je){console.error("Failed to load meta:",je)}})},[]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:je}=yield Se.get("/public/identities");F(je.identities)}catch(je){console.error("Error loading identities:",je)}})},[]);const xt=d.useCallback(()=>pe(this,null,function*(){if(t==="Suggested for You"){qe(!0);try{const je={tab:"products",q:h||void 0,country:g||void 0,city:p||void 0,productsView:E||void 0,categoryId:b||void 0,subcategoryId:x||void 0,goalId:j||void 0,role:L||void 0,serviceType:z||void 0,priceType:U||void 0,deliveryTime:re||void 0,experienceLevel:ue||void 0,locationType:ke||void 0,jobType:He||void 0,workMode:rt||void 0,postType:V||void 0,season:Ce||void 0,budgetRange:xe||void 0,fundingGoal:ae||void 0,amountRaised:Ne||void 0,currency:dt||void 0,deadline:Te||void 0,eventType:_e||void 0,date:Y||void 0,registrationType:de||void 0,generalCategoryIds:H.filter(Lt=>I.some(Wt=>Wt.id===Lt)).join(",")||void 0,generalSubcategoryIds:Object.keys(M).filter(Lt=>M[Lt]).join(",")||void 0,audienceIdentityIds:Array.from(D.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(D.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(D.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(D.subsubCategoryIds).join(",")||void 0,industryIds:it.length>0?it.join(","):void 0,limit:10,offset:0},{data:st}=yield Se.get("/feed",{params:je}),wt=Array.isArray(st.items)?st.items:[];Oe(wt),Ge(typeof st.total=="number"?st.total:wt.length),Ie(typeof st.total=="number"?wt.length<st.total:wt.length===10),ct.current=wt.length,Ct(!1),B.current&&(clearTimeout(B.current),B.current=null)}catch(je){console.error("Failed to load feed:",je),Oe([]),Ct(!0),B.current&&clearTimeout(B.current),B.current=setTimeout(()=>{xt()},3e3)}finally{qe(!1)}setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)}}),[t,h,g,p,b,x,j,L,D,E,z,U,re,ue,ke,He,rt,V,Ce,xe,ae,Ne,dt,Te,_e,Y,de,M,H,it,I,a]),ve=d.useCallback(()=>pe(this,null,function*(){if(!(isFetchingRef.current||We||Ve||!Ee)){isFetchingRef.current=!0,ht(!0);try{const je={tab:"products",q:h||void 0,country:g||void 0,city:p||void 0,productsView:E||void 0,categoryId:b||void 0,subcategoryId:x||void 0,goalId:j||void 0,role:L||void 0,serviceType:z||void 0,priceType:U||void 0,deliveryTime:re||void 0,experienceLevel:ue||void 0,locationType:ke||void 0,jobType:He||void 0,workMode:rt||void 0,postType:V||void 0,season:Ce||void 0,budgetRange:xe||void 0,fundingGoal:ae||void 0,amountRaised:Ne||void 0,currency:dt||void 0,deadline:Te||void 0,eventType:_e||void 0,date:Y||void 0,registrationType:de||void 0,generalCategoryIds:H.filter(Lt=>I.some(Wt=>Wt.id===Lt)).join(",")||void 0,generalSubcategoryIds:Object.keys(M).filter(Lt=>M[Lt]).join(",")||void 0,audienceIdentityIds:Array.from(D.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(D.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(D.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(D.subsubCategoryIds).join(",")||void 0,industryIds:it.length>0?it.join(","):void 0,limit:10,offset:ct.current},{data:st}=yield Se.get("/feed",{params:je}),wt=Array.isArray(st.items)?st.items:[];Oe(Lt=>[...Lt,...wt]),ct.current+=wt.length,Ie(wt.length===10),Ct(!1)}catch(je){console.error("Failed to load more:",je)}finally{isFetchingRef.current=!1,ht(!1)}}}),[t,h,g,p,b,x,j,L,D,E,z,U,re,ue,ke,He,rt,V,Ce,xe,ae,Ne,dt,Te,_e,Y,de,M,H,it,I,Me.length,We,Ve,Ee]);d.useEffect(()=>{xt()},[xt]),d.useEffect(()=>()=>{B.current&&clearTimeout(B.current)},[]),d.useEffect(()=>{pe(this,null,function*(){Ze(!0);try{const je={q:h||void 0,country:g||void 0,city:p||void 0,categoryId:b||void 0,subcategoryId:x||void 0,goalId:j||void 0,role:L||void 0,industryIds:it.length>0?it.join(","):void 0,limit:10},{data:st}=yield Se.get("/feed/suggestions",{params:je});q(st.matches||[]),ce(st.nearby||[])}catch(je){console.error("Failed to load suggestions:",je)}finally{Ze(!1)}})},[h,g,p,b,x,j,L,it]),d.useEffect(()=>{if(!ft.current||!Ee)return;const je=ft.current,st=new IntersectionObserver(wt=>{const[Lt]=wt;Lt.isIntersecting&&ve()},{root:null,rootMargin:"700px",threshold:0});return st.observe(je),()=>st.disconnect()},[ft,Ee,ve]);const Fe=je=>{A(je)},[et,Ye]=d.useState({});d.useEffect(()=>{const je={};I.forEach(st=>{je[st.id]=st.name}),Ye(je),J(I.map(st=>st.id))},[I]);const pt={setShowTotalCount:Mt,audienceSelections:D,setAudienceSelections:O,audienceTree:Z,generalTree:I,selectedFilters:H,setSelectedFilters:W,onSubcategoryChange:Fe,query:u,setQuery:f,country:g,productsView:E,setProductsView:S,setCountry:m,city:p,setCity:v,categoryId:b,setCategoryId:y,subcategoryId:x,setSubcategoryId:w,goalId:j,goals:Qe,role:L,setRole:k,setGoalId:N,price:T,setPrice:R,serviceType:z,setServiceType:_,priceType:U,setPriceType:Q,deliveryTime:re,setDeliveryTime:le,experienceLevel:ue,setExperienceLevel:ge,locationType:ke,setLocationType:tt,jobType:He,setJobType:ze,workMode:rt,setWorkMode:Xe,postType:V,setPostType:ne,season:Ce,setSeason:fe,budgetRange:xe,setBudgetRange:se,fundingGoal:ae,setFundingGoal:G,amountRaised:Ne,setAmountRaised:Be,currency:dt,setCurrency:nt,deadline:Te,setDeadline:lt,eventType:_e,setEventType:be,date:Y,setDate:ie,registrationType:de,setRegistrationType:$e,selectedIndustries:it,setSelectedIndustries:gt,categories:De,countries:Ae,onApply:()=>we(!1)},Ke=()=>t!=="Suggested for You"?r.jsxs("div",{className:"rounded-xl border bg-white p-6 text-sm text-gray-600",children:[t," tab uses its own API route. Render the specific list here."]}):_t?r.jsx(hl,{onRetry:()=>{Ct(!1),B.current&&clearTimeout(B.current),B.current=null,xt()},message:"Failed to load feed. Trying to connect...",buttonText:"Try Again"}):r.jsxs(r.Fragment,{children:[We&&r.jsx("div",{className:"min-h-[160px] grid text-gray-600",children:r.jsx(Rd,{columns:1})}),!We&&ot&&r.jsxs("div",{className:"text-sm text-gray-600",children:[vt," result",vt===1?"":"s"]}),!We&&Me.length===0&&r.jsx(Dd,{activeTab:"All"}),r.jsxs("div",{className:`grid grid-cols-1 ${i==="list"?"sm:grid-cols-1":"lg:grid-cols-3"} gap-6`,children:[Me.filter(je=>je.kind==="product").map(je=>r.jsx(hw,he(te({item:je},je),{matchPercentage:je.matchPercentage,type:i,onContact:()=>alert(`Contact seller of ${je.title}`),onSave:()=>alert(`Saved ${je.title}`)}),je.id)),Me.filter(je=>je.kind==="need").map(je=>{var st,wt,Lt,Wt;return r.jsx(ec,{type:i,matchPercentage:je.matchPercentage,need:he(te({},je),{categoryName:(st=De.find(hr=>String(hr.id)===String(je.categoryId)))==null?void 0:st.name,subcategoryName:(Wt=(Lt=(wt=De.find(hr=>String(hr.id)===String(je.categoryId)))==null?void 0:wt.subcategories)==null?void 0:Lt.find(hr=>String(hr.id)===String(je.subcategoryId)))==null?void 0:Wt.name})},`need-${je.id}`)}),Me.filter(je=>je.kind==="moment").map(je=>{var st,wt,Lt,Wt;return r.jsx(tc,{type:i,matchPercentage:je.matchPercentage,moment:he(te({},je),{categoryName:(st=De.find(hr=>String(hr.id)===String(je.categoryId)))==null?void 0:st.name,subcategoryName:(Wt=(Lt=(wt=De.find(hr=>String(hr.id)===String(je.categoryId)))==null?void 0:wt.subcategories)==null?void 0:Lt.find(hr=>String(hr.id)===String(je.subcategoryId)))==null?void 0:Wt.name})},`moment-${je.id}`)})]}),!We&&Ee&&r.jsx("div",{ref:ft,className:"h-10 w-full",children:Ve&&r.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Loading more"})})]});return r.jsxs(ei,{children:[r.jsx(an,{}),r.jsxs("main",{className:`mx-auto ${a._openPopUps.profile?"relative z-50":""} max-w-7xl px-4 sm:px-6 lg:px-8 py-6 grid lg:grid-cols-12 gap-6`,children:[r.jsx(Ed,{onClick:()=>we(!0)}),r.jsxs("aside",{className:"lg:col-span-3 hidden lg:flex flex-col space-y-4 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto pr-1",children:[r.jsx("div",{className:"_sticky top-0 z-10 _bg-white",children:r.jsx(Kl,he(te({selectedFilters:H,setSelectedFilters:W,generalTree:I},pt),{from:"products",catComponent:r.jsx(Ka,{selected:H,setSelected:W,buttons:X,buttonLabels:et,from:l,loading:We})}))}),r.jsx(sf,{title:"Quick Actions",items:[{label:"Edit Profile",Icon:hd,path:"/profile"},{label:"Add a New Product",Icon:Cn,onClick:()=>s("/products/create"),hide:(c==null?void 0:c.accountType)=="individual"},{label:"Highlight a product",Icon:Cn,onClick:()=>s("/moment/product/create"),hide:(c==null?void 0:c.accountType)=="company"},{label:"Find products",Icon:Cn,onClick:()=>s("/need/product/create"),hide:(c==null?void 0:c.accountType)=="company"}]}),r.jsx(af,{})]}),r.jsxs("div",{className:"lg:col-span-9 grid lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx("div",{className:"flex items-center flex-wrap w-full justify-between mb-4",children:r.jsx(Xu,{from:"product",typeOfPosts:[{label:"Add a New Product",Icon:kd,hide:(c==null?void 0:c.accountType)==="individual",type:"main"},{label:"Find products",Icon:Ja,hide:(c==null?void 0:c.accountType)==="company"},{label:"Highlight a Product",Icon:Ku}]})}),r.jsx("section",{className:"space-y-4 overflow-hidden",children:Ke()})]}),r.jsx("aside",{className:"lg:col-span-1 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto",children:r.jsx(Pd,{loading:ye,matches:ee,nearby:K})})]})]}),r.jsx(Ld,he(te({isOpen:ut,onClose:()=>we(!1),selectedFilters:H,setSelectedFilters:W,generalTree:I},pt),{from:"products",catComponent:r.jsx(Ka,{selected:H,setSelected:W,buttons:X,buttonLabels:et,from:l,loading:We})}))]})}function r5e(e,t=400){const[n,s]=d.useState(e);return d.useEffect(()=>{const a=setTimeout(()=>s(e),t);return()=>clearTimeout(a)},[e,t]),n}function n5e(){const[t,n]=d.useState("Suggested for You");d.useMemo(()=>["Suggested for You","Events to Attend"],[]);const s=Ht(),a=yr(),{user:i}=Xt(),[o,l]=d.useState(""),c=r5e(o,400),[u,f]=d.useState(),[h,g]=d.useState(),[m,p]=d.useState(),[v,b]=d.useState(),[y,x]=d.useState(),[w,j]=d.useState(),[N,L]=d.useState(),[k,E]=d.useState([]),[S,I]=d.useState({}),[C,M]=d.useState([]),[A,H]=d.useState([]);d.useEffect(()=>{pe(this,null,function*(){try{const{data:Ke}=yield Se.get("/general-categories/tree?type=opportunity");E(Ke.generalCategories||[])}catch(Ke){console.error("Failed to load general categories",Ke)}})},[]);const[W,X]=d.useState([]),[J,Z]=d.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set});d.useEffect(()=>{pe(this,null,function*(){try{const{data:Ke}=yield Se.get("/public/identities");X(Ke.identities)}catch(Ke){console.error("Error loading identities:",Ke)}})},[]);const[F,D]=d.useState(""),[O,T]=d.useState(""),[R,z]=d.useState(""),[_,U]=d.useState(""),[Q,re]=d.useState(""),[le,ue]=d.useState(""),[ge,ke]=d.useState(""),[tt,He]=d.useState(""),[ze,rt]=d.useState(""),[Xe,V]=d.useState(""),[ne,Ce]=d.useState(""),[fe,xe]=d.useState(""),[se,ae]=d.useState(""),[G,Ne]=d.useState(""),[Be,dt]=d.useState(""),[nt,Te]=d.useState(""),[lt,_e]=d.useState(""),[be,Y]=d.useState("Free"),[ie,de]=d.useState([]),[$e,it]=d.useState("list"),[gt,De]=d.useState([]),[Le,Ae]=d.useState([]),[Pe,Qe]=d.useState([]),[mt,Me]=d.useState([]),[Oe,We]=d.useState(!1),[qe,vt]=d.useState(0),[Ge,ot]=d.useState(0),[Mt,_t]=d.useState(!1),Ct=d.useRef(null),[B,ee]=d.useState([]),[q,K]=d.useState([]),[ce,ye]=d.useState(!1),[Ze,ut]=d.useState(!1),[we,Ee]=d.useState(!0),[Ie,Ve]=d.useState(!1),ht=d.useRef(null);d.useRef(null);const ft=d.useRef(0);d.useEffect(()=>{pe(this,null,function*(){try{const{data:Ke}=yield Se.get("/feed/meta");De(Ke.categories||[]),Ae(Ke.countries||[]),Qe(Ke.goals||[])}catch(Ke){console.error("Failed to load meta:",Ke)}})},[]);const ct=d.useCallback(()=>pe(this,null,function*(){if(t==="Suggested for You"){We(!0);try{const Ke={tab:"funding",q:c||void 0,country:u||void 0,fundingView:N||void 0,city:h||void 0,categoryId:m||void 0,subcategoryId:v||void 0,goalId:y||void 0,role:w||void 0,price:F||void 0,serviceType:O||void 0,priceType:R||void 0,deliveryTime:_||void 0,experienceLevel:Q||void 0,locationType:le||void 0,jobType:ge||void 0,workMode:tt||void 0,postType:ze||void 0,season:Xe||void 0,budgetRange:ne||void 0,fundingGoal:fe||void 0,amountRaised:se||void 0,currency:G||void 0,deadline:Be||void 0,eventType:nt||void 0,date:lt||void 0,registrationType:be||void 0,generalCategoryIds:C.filter(wt=>k.some(Lt=>Lt.id===wt)).join(",")||void 0,generalSubcategoryIds:Object.keys(S).filter(wt=>S[wt]).join(",")||void 0,audienceIdentityIds:Array.from(J.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(J.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(J.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(J.subsubCategoryIds).join(",")||void 0,industryIds:ie.length>0?ie.join(","):void 0,limit:10,offset:0},{data:je}=yield Se.get("/feed",{params:Ke}),st=Array.isArray(je.items)?je.items:[];Me(st),vt(typeof je.total=="number"?je.total:st.length),Ee(typeof je.total=="number"?st.length<je.total:st.length===10),ft.current=st.length,_t(!1),Ct.current&&(clearTimeout(Ct.current),Ct.current=null)}catch(Ke){console.error("Failed to load feed:",Ke),Me([]),_t(!0),Ct.current&&clearTimeout(Ct.current),Ct.current=setTimeout(()=>{ct()},3e3)}finally{We(!1)}setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)}}),[t,c,u,h,m,v,y,w,F,N,J,O,R,_,Q,le,ge,tt,ze,Xe,ne,fe,se,G,Be,nt,lt,be,S,C,ie,k,a]),xt=d.useCallback(()=>pe(this,null,function*(){if(!(isFetchingRef.current||Oe||Ie||!we)){isFetchingRef.current=!0,Ve(!0);try{const Ke={tab:"funding",q:c||void 0,country:u||void 0,fundingView:N||void 0,city:h||void 0,categoryId:m||void 0,subcategoryId:v||void 0,goalId:y||void 0,role:w||void 0,price:F||void 0,serviceType:O||void 0,priceType:R||void 0,deliveryTime:_||void 0,experienceLevel:Q||void 0,locationType:le||void 0,jobType:ge||void 0,workMode:tt||void 0,postType:ze||void 0,season:Xe||void 0,budgetRange:ne||void 0,fundingGoal:fe||void 0,amountRaised:se||void 0,currency:G||void 0,deadline:Be||void 0,eventType:nt||void 0,date:lt||void 0,registrationType:be||void 0,generalCategoryIds:C.filter(wt=>k.some(Lt=>Lt.id===wt)).join(",")||void 0,generalSubcategoryIds:Object.keys(S).filter(wt=>S[wt]).join(",")||void 0,audienceIdentityIds:Array.from(J.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(J.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(J.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(J.subsubCategoryIds).join(",")||void 0,industryIds:ie.length>0?ie.join(","):void 0,limit:10,offset:ft.current},{data:je}=yield Se.get("/feed",{params:Ke}),st=Array.isArray(je.items)?je.items:[];Me(wt=>[...wt,...st]),ft.current+=st.length,Ee(st.length===10),_t(!1)}catch(Ke){console.error("Failed to load more:",Ke)}finally{isFetchingRef.current=!1,Ve(!1)}}}),[t,c,u,h,m,v,y,w,J,N,F,O,R,_,Q,le,ge,tt,ze,Xe,ne,fe,se,G,Be,nt,lt,be,S,C,ie,k,mt.length,Oe,Ie,we]);d.useEffect(()=>{ct()},[ct]),d.useEffect(()=>()=>{Ct.current&&clearTimeout(Ct.current)},[]),d.useEffect(()=>{pe(this,null,function*(){ye(!0);try{const Ke={q:c||void 0,country:u||void 0,city:h||void 0,categoryId:m||void 0,subcategoryId:v||void 0,goalId:y||void 0,role:w||void 0,industryIds:ie.length>0?ie.join(","):void 0,limit:10},{data:je}=yield Se.get("/feed/suggestions",{params:Ke});ee(je.matches||[]),K(je.nearby||[])}catch(Ke){console.error("Failed to load suggestions:",Ke)}finally{ye(!1)}})},[c,u,h,m,v,y,w,ie]),d.useEffect(()=>{if(!ht.current||!we)return;const Ke=ht.current,je=new IntersectionObserver(st=>{const[wt]=st;wt.isIntersecting&&xt()},{root:null,rootMargin:"700px",threshold:0});return je.observe(Ke),()=>je.disconnect()},[ht,we,xt]);const ve=Ke=>{I(Ke)},[Fe,et]=d.useState({});d.useEffect(()=>{const Ke={};k.forEach(je=>{Ke[je.id]=je.name}),et(Ke),H(k.map(je=>je.id))},[k]);const Ye={setShowTotalCount:ot,audienceSelections:J,setAudienceSelections:Z,audienceTree:W,generalTree:k,selectedFilters:C,setSelectedFilters:M,onSubcategoryChange:ve,selectedIndustries:ie,setSelectedIndustries:de,fundingView:N,setFundingView:L,query:o,setQuery:l,country:u,setCountry:f,city:h,setCity:g,categoryId:m,setCategoryId:p,subcategoryId:v,setSubcategoryId:b,goalId:y,goals:Pe,role:w,setRole:j,setGoalId:x,price:F,setPrice:D,serviceType:O,setServiceType:T,priceType:R,setPriceType:z,deliveryTime:_,setDeliveryTime:U,experienceLevel:Q,setExperienceLevel:re,locationType:le,setLocationType:ue,jobType:ge,setJobType:ke,workMode:tt,setWorkMode:He,postType:ze,setPostType:rt,season:Xe,setSeason:V,budgetRange:ne,setBudgetRange:Ce,fundingGoal:fe,setFundingGoal:xe,amountRaised:se,setAmountRaised:ae,currency:G,setCurrency:Ne,deadline:Be,setDeadline:dt,eventType:nt,setEventType:Te,date:lt,setDate:_e,registrationType:be,setRegistrationType:Y,categories:gt,countries:Le,onApply:()=>ut(!1)},pt=()=>t!=="Suggested for You"?r.jsxs("div",{className:"rounded-xl border bg-white p-6 text-sm text-gray-600",children:[t," tab uses its own API route. Render the specific list here."]}):Mt?r.jsx(hl,{onRetry:()=>{_t(!1),Ct.current&&clearTimeout(Ct.current),Ct.current=null,ct()},message:"Failed to load feed. Trying to connect...",buttonText:"Try Again"}):r.jsxs(r.Fragment,{children:[Oe&&r.jsx("div",{className:"min-h-[160px] grid text-gray-600",children:r.jsx(Rd,{columns:1})}),!Oe&&Ge&&r.jsxs("div",{className:"text-sm text-gray-600",children:[qe," result",qe===1?"":"s"]}),!Oe&&mt.length===0&&r.jsx(Dd,{activeTab:"All"}),r.jsx("div",{className:`grid grid-cols-1 ${$e==="list"?"sm:grid-cols-1":"lg:grid-cols-3"} gap-6`,children:!Oe&&mt.map(Ke=>{var je,st,wt,Lt,Wt,hr,Dt,er;return Ke.kind==="funding"?r.jsx(mw,{type:$e,matchPercentage:Ke.matchPercentage,item:Ke},Ke.id):Ke.kind==="need"?r.jsx(ec,{type:$e,matchPercentage:Ke.matchPercentage,need:he(te({},Ke),{categoryName:(je=gt.find(tr=>String(tr.id)===String(Ke.categoryId)))==null?void 0:je.name,subcategoryName:(Lt=(wt=(st=gt.find(tr=>String(tr.id)===String(Ke.categoryId)))==null?void 0:st.subcategories)==null?void 0:wt.find(tr=>String(tr.id)===String(Ke.subcategoryId)))==null?void 0:Lt.name})},`need-${Ke.id}`):Ke.kind==="moment"?r.jsx(tc,{type:$e,matchPercentage:Ke.matchPercentage,moment:he(te({},Ke),{categoryName:(Wt=gt.find(tr=>String(tr.id)===String(Ke.categoryId)))==null?void 0:Wt.name,subcategoryName:(er=(Dt=(hr=gt.find(tr=>String(tr.id)===String(Ke.categoryId)))==null?void 0:hr.subcategories)==null?void 0:Dt.find(tr=>String(tr.id)===String(Ke.subcategoryId)))==null?void 0:er.name})},`moment-${Ke.id}`):Ke.kind==="job"?r.jsx(Od,{job:Ke},`job-${Ke.id}`):Ke.kind==="event"?r.jsx(nf,{e:Ke},`event-${Ke.id}`):null})}),!Oe&&we&&r.jsx("div",{ref:ht,className:"h-10 w-full",children:Ie&&r.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Loading more"})})]});return r.jsxs(ei,{children:[r.jsx(an,{}),r.jsxs("main",{className:`mx-auto ${a._openPopUps.profile?"relative z-50":""} max-w-7xl px-4 sm:px-6 lg:px-8 py-6 grid lg:grid-cols-12 gap-6`,children:[r.jsx(Ed,{onClick:()=>ut(!0)}),r.jsxs("aside",{className:"lg:col-span-3 hidden lg:flex flex-col space-y-4 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto pr-1",children:[r.jsx("div",{className:"_sticky top-0 z-10 _bg-white",children:r.jsx(Kl,he(te({selectedFilters:C,setSelectedFilters:M,generalTree:k},Ye),{from:"funding",catComponent:r.jsx(Ka,{selected:C,setSelected:M,buttons:A,buttonLabels:Fe,from:"funding",loading:Oe})}))}),r.jsx(sf,{title:"Quick Actions",items:[{label:"Edit Profile",Icon:hd,path:"/profile"},{label:"Post Funding Project",Icon:Cn,onClick:()=>s("/fundings/create"),hide:(i==null?void 0:i.accountType)=="individual"},{label:"Share Funding Project Experience",Icon:Cn,onClick:()=>s("/moment/funding/create"),hide:(i==null?void 0:i.accountType)=="company"},{label:"Ask About Funding",Icon:Cn,onClick:()=>s("/need/funding/create"),hide:(i==null?void 0:i.accountType)=="company"}]}),r.jsx(af,{})]}),r.jsxs("div",{className:"lg:col-span-9 grid lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx("div",{className:"flex items-center flex-wrap w-full justify-between mb-4",children:r.jsx(Xu,{from:"funding",typeOfPosts:[{label:"Publish an Opportunity",Icon:Cd,hide:(i==null?void 0:i.accountType)==="individual",type:"main"},{label:"Explore funding opportunities",Icon:Ja,hide:(i==null?void 0:i.accountType)==="company"},{label:(i==null?void 0:i.accountType)==="company"?"Highlight an Opportunity":"Highlight a Funding Opportunity",Icon:EH,onClick:()=>s("/need/funding/create")}]})}),r.jsx("section",{className:"space-y-4 overflow-hidden",children:pt()})]}),r.jsx("aside",{className:"lg:col-span-1 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto",children:r.jsx(Pd,{loading:ce,matches:B,nearby:q})})]})]}),r.jsx(Ld,he(te({isOpen:Ze,onClose:()=>ut(!1),selectedFilters:C,setSelectedFilters:M,generalTree:k},Ye),{from:"funding",catComponent:r.jsx(Ka,{selected:C,setSelected:M,buttons:A,buttonLabels:Fe,from:"funding",loading:Oe})}))]})}const a0={upload:()=>r.jsxs("svg",{className:"h-6 w-6 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"M12 3 7 8h3v6h4V8h3l-5-5z"}),r.jsx("path",{d:"M5 18h14v3H5z"})]}),chevron:()=>r.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"m6 9 6 6 6-6"})}),trash:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M9 3h6l1 2h4v2H4V5h4l1-2Zm1 6h2v9h-2V9Zm4 0h2v9h-2V9ZM6 9h2v9H6V9Z"})}),video:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"m17 10.5-5-3v6l5-3Z"}),r.jsx("rect",{x:"3",y:"6",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),image:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),r.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5",fill:"currentColor"}),r.jsx("path",{d:"m21 15-5-5L5 21",stroke:"currentColor",strokeWidth:"2"})]})};function zY(e){if(!e)return"document";const t=e.toLowerCase().split(".").pop(),n=["jpg","jpeg","png","gif","webp","svg","bmp"],s=["mp4","mov","avi","mkv","webm","flv","wmv","m4v","3gp","ogv"];return n.includes(t)?"image":s.includes(t)?"video":"document"}function UY(e){return zY(e)==="image"}function Gb(e){return zY(e)==="video"}function s5e(e){return UY(e)||Gb(e)}const ya=({children:e,required:t})=>r.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:[e," ",t&&r.jsx("span",{className:"text-pink-600",children:"*"})]}),Sc=e=>{const t=n=>{e.type==="number"&&(n.target.value=n.target.value.replace(/[^\d.-]/g,"")),e.onChange&&e.onChange(n)};return r.jsx("input",he(te({},e),{onChange:t,className:`w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200 ${e.className||""}`}))},A8=n=>{var s=n,{children:e}=s,t=pc(s,["children"]);return r.jsxs("div",{className:"relative",children:[r.jsx("select",he(te({},t),{className:"w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-200",children:e})),r.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:r.jsx(a0.chevron,{})})]})},mN=e=>r.jsx("textarea",he(te({rows:e.rows||4},e),{className:`w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200 ${e.className||""}`}));function a5e(e=[]){const t=new Map,n=new Map,s=new Map,a=new Map;for(const i of e){t.set(String(i.id),i.name||i.title||`Identity ${i.id}`);for(const o of i.categories||[]){n.set(String(o.id),o.name||o.title||`Category ${o.id}`);for(const l of o.subcategories||[]){s.set(String(l.id),l.name||l.title||`Subcategory ${l.id}`);for(const c of l.subsubs||[])a.set(String(c.id),c.name||c.title||`Sub-sub ${c.id}`)}}}return{ids:t,cats:n,subs:s,subsubs:a}}function i5e({form:e,images:t,audSel:n,audTree:s}){const a=d.useMemo(()=>a5e(s),[s]),i=Array.from(n.identityIds||[]).map(p=>a.ids.get(String(p))).filter(Boolean),o=Array.from(n.categoryIds||[]).map(p=>a.cats.get(String(p))).filter(Boolean),l=Array.from(n.subcategoryIds||[]).map(p=>a.subs.get(String(p))).filter(Boolean),c=Array.from(n.subsubCategoryIds||[]).map(p=>a.subsubs.get(String(p))).filter(Boolean),u=t!=null&&t[0]?`${gn}/uploads/${t[0]}`:null,f=(t||[]).slice(1);console.log({form:e});const h=e.tags||[],g=(e.links||"").split(/[,\n]/g).map(p=>p.trim()).filter(Boolean);function m(p){if(p==null||p==="")return"";const v=Number(p);return Number.isNaN(v)?String(p):`${e.currency||"USD"} ${v.toLocaleString()}`}return r.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white overflow-hidden",children:[u?r.jsx("div",{className:"relative aspect-[16/6] w-full bg-gray-100",children:Gb(u)?r.jsx("video",{src:u,className:"h-full w-full object-cover",controls:!0}):r.jsx("img",{src:u,alt:"Project cover",className:"h-full w-full object-cover"})}):null,r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"flex items-start justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold",children:e.title||"Untitled Project"}),r.jsx("div",{className:"mt-1 text-sm text-gray-700",children:[e.city,e.country].filter(Boolean).join(", ")||""})]})}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsxs("div",{className:"rounded-xl border p-4",children:[r.jsx("div",{className:"text-gray-700 font-medium",children:"Goal"}),r.jsx("div",{className:"mt-1 text-sm",children:m(e.goal)})]}),r.jsxs("div",{className:"rounded-xl border p-4",children:[r.jsx("div",{className:"text-gray-700 font-medium",children:"Raised"}),r.jsx("div",{className:"mt-1 text-sm",children:m(e.raised)})]}),r.jsxs("div",{className:"rounded-xl border p-4",children:[r.jsx("div",{className:"text-gray-700 font-medium",children:"Currency"}),r.jsx("div",{className:"mt-1 text-sm",children:e.currency||""})]}),r.jsxs("div",{className:"rounded-xl border p-4",children:[r.jsx("div",{className:"text-gray-700 font-medium",children:"Deadline"}),r.jsx("div",{className:"mt-1 text-sm",children:e.deadline||""})]})]}),f.length>0?r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Media"}),r.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:f.map((p,v)=>{const b=p.startsWith("http")?p:`${gn}/uploads/${p}`;return r.jsx("div",{className:"relative w-full aspect-[16/10] bg-gray-100 rounded-xl overflow-hidden border",children:Gb(p)?r.jsx("video",{src:b,controls:!0,className:"h-full w-full object-cover",children:"Your browser does not support the video tag."}):r.jsx("img",{src:b,alt:`Image ${v+2}`,className:"h-full w-full object-cover"})},v)})})]}):null,r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Pitch"}),r.jsx("p",{className:"mt-2 text-sm text-gray-700 whitespace-pre-wrap",children:e.pitch||"No description provided."})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Rewards / Perks"}),r.jsx("p",{className:"mt-2 text-sm text-gray-700 whitespace-pre-wrap",children:e.rewards||""})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Team"}),r.jsx("p",{className:"mt-2 text-sm text-gray-700 whitespace-pre-wrap",children:e.team||""})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Links"}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:g.length?g.map((p,v)=>r.jsx("a",{href:p,target:"_blank",rel:"noreferrer",className:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs hover:bg-gray-200",children:p},`${p}-${v}`)):r.jsx("span",{className:"text-sm text-gray-500",children:""})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Tags"}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:h.length?h.map((p,v)=>r.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs",children:p},`${p}-${v}`)):r.jsx("span",{className:"text-sm text-gray-500",children:""})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Target Audience"}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[i.map(p=>r.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs",children:p},`i-${p}`)),o.map(p=>r.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs",children:p},`c-${p}`)),l.map(p=>r.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs",children:p},`s-${p}`)),c.map(p=>r.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs",children:p},`ss-${p}`)),!i.length&&!o.length&&!l.length&&!c.length&&r.jsx("span",{className:"text-sm text-gray-500",children:"Everyone"})]})]})]})]})}function b6({triggerImageSelection:e=!1,hideHeader:t=!1,onSuccess:n}){const s=Ht(),{id:a}=ea(),i=!!a,{user:o}=Xt(),[l,c]=d.useState(!0),[u,f]=d.useState(null),h=d.useRef(null),[g,m]=d.useState([]),[p,v]=d.useState(!1),[b,y]=d.useState(0),[x,w]=d.useState({}),[j,N]=d.useState(!1),[L,k]=d.useState(!1),[E,S]=d.useState(0);d.useEffect(()=>{if(e&&h.current){const ie=setTimeout(()=>{var de;(de=h.current)==null||de.click()},100);return()=>clearTimeout(ie)}},[e]);const[I,C]=d.useState([]),[M,A]=d.useState(!1),[H,W]=d.useState([]),[X,J]=d.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[Z,F]=d.useState({title:"",categoryId:"",country:"All countries",city:"",goal:"",raised:"",currency:"USD",deadline:"",pitch:"",rewards:"",team:"",links:"",tags:"",tags:[],email:"",phone:"",visibility:"public",status:"draft"}),[D,O]=d.useState(""),T=d.useMemo(()=>g.filter(ie=>s5e(ie)).map(ie=>ie.startsWith("http")?ie:`${gn}/uploads/${ie}`),[g]),R=ie=>{le||F(de=>{const $e=he(te({},de),{[ie.target.name]:ie.target.value});return ie.target.name==="country"&&ie.target.value==="All countries"&&($e.city=""),$e})},z=()=>{var ie;le||(ie=h.current)==null||ie.click()};function _(ie){S(ie),k(!0)}function U(){k(!1)}d.useEffect(()=>{pe(this,null,function*(){try{const{data:ie}=yield Se.get("/categories/tree");C(ie.categories||[])}catch(ie){console.error("Error loading categories:",ie)}}),pe(this,null,function*(){try{const{data:ie}=yield Se.get("/public/identities?type=all");W(ie.identities||[])}catch(ie){console.error("Error loading identities:",ie)}})},[]),d.useEffect(()=>{i&&pe(this,null,function*(){var ie,de,$e,it,gt,De,Le,Ae,Pe;try{const{data:Qe}=yield Se.get(`/funding/projects/${a}?updated=true`),mt=(Pe=(Ae=(De=(it=(de=(ie=Qe.ownerUserId)!=null?ie:Qe.createdById)!=null?de:Qe.userId)!=null?it:($e=Qe.owner)==null?void 0:$e.id)!=null?De:(gt=Qe.creator)==null?void 0:gt.id)!=null?Ae:(Le=Qe.createdBy)==null?void 0:Le.id)!=null?Pe:null;f(mt),F(Me=>{var Oe,We,qe,vt;return he(te({},Me),{title:Qe.title||"",categoryId:Qe.categoryId||"",country:Qe.country||"",city:Qe.city||"",goal:((We=(Oe=Qe.goal)==null?void 0:Oe.toString)==null?void 0:We.call(Oe))||"",raised:((vt=(qe=Qe.raised)==null?void 0:qe.toString)==null?void 0:vt.call(qe))||"",currency:Qe.currency||"USD",deadline:Qe.deadline?new Date(Qe.deadline).toISOString().split("T")[0]:"",pitch:Qe.pitch||"",rewards:Qe.rewards||"",team:Qe.team||"",links:Array.isArray(Qe.links)?Qe.links.join(", "):Qe.links||"",tags:Array.isArray(Qe.tags)?Qe.tags:typeof Qe.tags=="string"?Qe.tags.split(/[,\n]/g).map(Ge=>Ge.trim()).filter(Boolean):[],email:Qe.email||"",phone:Qe.phone||"",visibility:Qe.visibility||"public",status:Qe.status||"draft"})}),Array.isArray(Qe.images)?m(Qe.images.filter(Me=>(Me==null?void 0:Me.filename)||typeof Me=="string").map(Me=>typeof Me=="string"?Me:Me.filename)):m([]),J({identityIds:new Set((Qe.audienceIdentities||[]).map(Me=>Me.id)),categoryIds:new Set((Qe.audienceCategories||[]).map(Me=>Me.id)),subcategoryIds:new Set((Qe.audienceSubcategories||[]).map(Me=>Me.id)),subsubCategoryIds:new Set((Qe.audienceSubsubs||[]).map(Me=>Me.id))}),Xe({categoryId:Qe.generalCategoryId||"",subcategoryId:Qe.generalSubcategoryId||"",subsubCategoryId:Qe.generalSubsubCategoryId||""}),Be({categoryId:Qe.industryCategoryId||"",subcategoryId:Qe.industrySubcategoryId||""}),c(!1)}catch(Qe){console.error(Qe),console.log({err:Qe}),oe.error("Could not load the project."),s("/funding")}})},[i,a,s]);function Q(){if(le)return;const ie=(D||"").trim();ie&&(F(de=>de.tags.includes(ie)?de:he(te({},de),{tags:[...de.tags,ie]})),O(""))}function re(ie){le||F(de=>he(te({},de),{tags:de.tags.filter(($e,it)=>it!==ie)}))}const le=i&&u&&(o==null?void 0:o.id)!==u;function ue(ie){return pe(this,null,function*(){if(le)return;const de=Array.from(ie||[]);if(!de.length)return;const $e={video:50*1024*1024,image:5*1024*1024},it=de.filter(Ae=>{const Pe=Ae.type.startsWith("video/")?"video":"image";return Ae.size>$e[Pe]});if(it.length){const Ae=it.map(Pe=>Pe.name).join(", ");oe.error(`Files exceeding size limit: ${Ae}`);return}const gt=de.filter(Ae=>Ae.size<=$e[Ae.type.startsWith("video/")?"video":"image"]),De=20-g.length,Le=gt.slice(0,Math.max(0,De));try{v(!0),y(Le.length);const Ae={};Le.forEach(Me=>{Ae[Me.name]=0}),w(Ae);const Pe=new FormData;Le.forEach(Me=>{Pe.append("images",Me)});const mt=(yield Se.post("/funding/upload-images",Pe,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:Me=>{if(Me.total){const Oe=Math.round(Me.loaded*100/Me.total),We={};Le.forEach(qe=>{We[qe.name]=Oe}),w(We)}}})).data.filenames||[];m(Me=>[...Me,...mt]),w({})}catch(Ae){console.error("Error uploading files:",Ae),oe.error("Failed to upload files"),w({})}finally{v(!1),y(0)}})}function ge(ie){le||m(de=>de.filter(($e,it)=>it!==ie))}function ke(){return(Z.links||"").split(/[,\n]/g).map(ie=>ie.trim()).filter(Boolean)}function tt(){return Z.title.trim()?Z.country?!Z.goal||Number(Z.goal)<=0?"Funding goal must be greater than zero.":Z.deadline?Z.pitch.trim()?g.length?null:"Please add at least one image or video.":"Project pitch/description is required.":"Deadline is required.":"Country is required.":"Title is required."}const[He,ze]=d.useState([]),[rt,Xe]=d.useState({categoryId:"",subcategoryId:"",subsubCategoryId:""}),V=[{value:"All countries",label:"All countries"},...An.map(ie=>({value:ie,label:ie}))],[ne,Ce]=d.useState([]),[fe,xe]=d.useState(!0);d.useEffect(()=>{pe(this,null,function*(){try{const de=yield fetch("/data/cities.json");if(!de.ok)throw new Error("Failed to fetch cities");const $e=yield de.json();Ce($e)}catch(de){console.error("Error fetching cities:",de),oe.error("Failed to load cities data")}finally{xe(!1)}})},[]);const se=d.useMemo(()=>ne.slice(0,1e3).map(ie=>({value:ie.city,label:`${ie.city}${ie.country?`, ${ie.country}`:""}`})),[ne]),[ae,G]=d.useState([]),[Ne,Be]=d.useState({categoryId:"",subcategoryId:""});d.useEffect(()=>{pe(this,null,function*(){try{const{data:ie}=yield Se.get("/general-categories/tree?type=opportunity");ze(ie.generalCategories||[])}catch(ie){console.error("Failed to load general categories",ie)}})},[]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:ie}=yield Se.get("/industry-categories/tree");G(ie.industryCategories||[])}catch(ie){console.error("Failed to load industry categories",ie)}})},[]);const dt=d.useMemo(()=>He.map(ie=>({value:ie.id,label:ie.name||`Category ${ie.id}`})),[He]),nt=d.useMemo(()=>{const ie=He.find(de=>de.id===rt.categoryId);return((ie==null?void 0:ie.subcategories)||[]).map(de=>({value:de.id,label:de.name||`Subcategory ${de.id}`}))},[He,rt.categoryId]),Te=d.useMemo(()=>{var $e;const ie=He.find(it=>it.id===rt.categoryId),de=($e=ie==null?void 0:ie.subcategories)==null?void 0:$e.find(it=>it.id===rt.subcategoryId);return((de==null?void 0:de.subsubcategories)||[]).map(it=>({value:it.id,label:it.name||`Sub-sub ${it.id}`}))},[He,rt.categoryId,rt.subcategoryId]),lt=d.useMemo(()=>ae.map(ie=>({value:ie.id,label:ie.name||`Category ${ie.id}`})),[ae]),_e=d.useMemo(()=>{const ie=ae.find(de=>de.id===Ne.categoryId);return((ie==null?void 0:ie.subcategories)||[]).map(de=>({value:de.id,label:de.name||`Subcategory ${de.id}`}))},[ae,Ne.categoryId]);function be({value:ie,onChange:de,options:$e,placeholder:it="Select",disabled:gt=!1,required:De=!1,ariaLabel:Le}){const[Ae,Pe]=d.useState(!1),[Qe,mt]=d.useState(""),[Me,Oe]=d.useState(0),We=d.useRef(null),qe=d.useRef(null),[vt,Ge]=d.useState(!1),ot=d.useMemo(()=>$e.find(K=>String(K.value)===String(ie))||null,[$e,ie]),Mt=d.useMemo(()=>{const K=Qe.trim().toLowerCase();return K?$e.map(ce=>({o:ce,score:(ce.label||"").toLowerCase().indexOf(K)})).filter(ce=>ce.score!==-1).sort((ce,ye)=>ce.score-ye.score).map(ce=>ce.o).slice(0,100):$e.slice(0,100)},[Qe,$e]),Ct=vt||Ae||Qe!==""?Qe:(ot==null?void 0:ot.label)||"";d.useEffect(()=>{function K(ce){We.current&&(We.current.contains(ce.target)||Pe(!1))}return document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[]),d.useEffect(()=>{Ae||Oe(0)},[Ae,Qe]);function B(K){var ce;de==null||de((K==null?void 0:K.value)||""),mt(""),Pe(!1),(ce=qe.current)==null||ce.blur()}function ee(){var K;de==null||de(""),mt(""),Pe(!1),(K=qe.current)==null||K.focus()}function q(K){if(!gt){if(!Ae&&(K.key==="ArrowDown"||K.key==="ArrowUp")){Pe(!0);return}if(!Ae){K.key==="Backspace"&&(K.preventDefault(),mt(ot&&!Qe?(ot.label||"").slice(0,-1):(Qe||"").slice(0,-1)),Pe(!0));return}if(K.key==="ArrowDown")K.preventDefault(),Oe(ce=>Math.min(ce+1,Mt.length-1));else if(K.key==="ArrowUp")K.preventDefault(),Oe(ce=>Math.max(ce-1,0));else if(K.key==="Enter"){K.preventDefault();const ce=Mt[Me];ce&&B(ce)}else K.key==="Escape"&&Pe(!1)}}return r.jsxs("div",{ref:We,className:`relative ${gt?"opacity-60":""}`,children:[r.jsxs("div",{className:"grid gap-1.5",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{ref:qe,type:"text",value:Ct,disabled:gt,placeholder:it,onChange:K=>{mt(K.target.value),Pe(!0)},onFocus:()=>{gt||(Ge(!0),Pe(!0))},onBlur:()=>Ge(!1),onKeyDown:q,"aria-autocomplete":"list","aria-expanded":Ae,"aria-controls":"ss-results","aria-label":Le||it,role:"combobox",autoComplete:"off",className:"w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-16 focus:outline-none focus:ring-2 focus:ring-brand-200 text-black"}),ot&&!gt?r.jsx("button",{type:"button",onClick:ee,className:"absolute right-8 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-gray-100",title:"Clear",children:""}):null,r.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:r.jsx(a0.chevron,{})})]}),De&&r.jsx("input",{tabIndex:-1,"aria-hidden":"true",className:"sr-only",required:!0,value:ie||"",onChange:()=>{}})]}),Ae&&!gt&&r.jsx("div",{id:"ss-results",role:"listbox",className:"absolute z-30 mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:Mt.length===0?r.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No results"}):r.jsx("ul",{className:"max-h-72 overflow-auto",children:Mt.map((K,ce)=>{const ye=ce===Me;return r.jsx("li",{role:"option","aria-selected":ye,className:`cursor-pointer px-3 py-2 text-sm ${ye?"bg-brand-50":"hover:bg-gray-50"}`,onMouseEnter:()=>Oe(ce),onMouseDown:Ze=>{Ze.preventDefault(),B(K)},children:K.label},K.value)})})})]})}function Y(ie){return pe(this,null,function*(){var $e,it;if(le)return;const de=tt();if(de)return oe.error(de);A(!0);try{const gt={title:Z.title,categoryId:Z.categoryId||void 0,country:Z.country,city:Z.country==="All countries"?void 0:Z.city||void 0,goal:Number(Z.goal),raised:Z.raised?Number(Z.raised):0,currency:Z.currency,deadline:Z.deadline,pitch:Z.pitch,rewards:Z.rewards||void 0,team:Z.team||void 0,links:ke(),tags:Z.tags,email:Z.email||void 0,phone:Z.phone||void 0,visibility:Z.visibility||"public",status:ie,images:g.map(De=>`${gn}/uploads/${De}`),identityIds:Array.from(X.identityIds),categoryIds:Array.from(X.categoryIds),subcategoryIds:Array.from(X.subcategoryIds),subsubCategoryIds:Array.from(X.subsubCategoryIds),generalCategoryId:rt.categoryId||null,generalSubcategoryId:rt.subcategoryId||null,generalSubsubCategoryId:rt.subsubCategoryId||null,industryCategoryId:Ne.categoryId||null,industrySubcategoryId:Ne.subcategoryId||null};i?(yield Se.put(`/funding/projects/${a}`,gt),oe.success("Project updated successfully!")):(yield Se.post("/funding/projects",gt),oe.success(ie==="draft"?"Draft saved!":"Project published!"),t&&n?n():s("/funding"))}catch(gt){console.error(gt),oe.error(((it=($e=gt==null?void 0:gt.response)==null?void 0:$e.data)==null?void 0:it.message)||"Could not save the project.")}finally{A(!1)}})}return l&&a?r.jsx(Xa,{message:"Loading product",tip:"Fetching..."}):r.jsxs(ei,{children:[!t&&r.jsx(an,{page:"funding"}),r.jsxs("div",{className:`max-w-4xl mx-auto ${t?"my-2":"my-5"}`,children:[!t&&r.jsx("button",{onClick:()=>s("/funding"),className:"flex mb-5 items-center gap-2 text-sm text-gray-600 hover:text-brand-600",type:"button",children:" Back to Funding"}),le?r.jsx(i5e,{form:Z,images:g,audSel:X,audTree:H}):r.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-5 md:p-6 shadow-sm",children:[i&&r.jsx("h2",{className:"text-xl font-semibold",children:i?"Edit Funding Project":"Create Funding Project"}),r.jsxs("div",{className:"mt-4 grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ya,{required:!0,children:"Project Title"}),r.jsx(Sc,{name:"title",value:Z.title,onChange:R,placeholder:"e.g., Payments platform for SMEs",required:!0})]}),r.jsxs("div",{className:"hidden",children:[r.jsx(ya,{required:!0,children:"Category"}),r.jsxs(A8,{name:"categoryId",value:Z.categoryId,onChange:R,required:!0,children:[r.jsx("option",{value:"",children:"Select"}),I.map(ie=>r.jsx("option",{value:ie.id,children:ie.name},ie.id))]})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx(mN,{name:"pitch",value:Z.pitch,onChange:R,rows:6,placeholder:"Describe the type of fund opportunity, including target audience and requirements, and receive the best applications for your program.",_placeholder:"Explain the problem, your solution, market, traction, and how funds will be used.",required:!0})}),r.jsxs("div",{className:"mt-4 grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ya,{children:"Country"}),r.jsx(be,{value:Z.country,onChange:ie=>F(he(te({},Z),{country:ie})),options:V,placeholder:"Search and select country...",required:!0})]}),r.jsxs("div",{children:[r.jsx(ya,{children:"City"}),r.jsx(be,{value:Z.city,onChange:ie=>F(he(te({},Z),{city:ie})),options:se,placeholder:"Search and select city...",disabled:Z.country==="All countries"})]})]}),r.jsxs("div",{className:"mt-4 grid md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx(ya,{required:!0,children:"Funding Goal"}),r.jsx(Sc,{name:"goal",type:"number",min:"0",value:Z.goal,onChange:R,placeholder:"e.g., 50000",required:!0})]}),r.jsxs("div",{children:[r.jsx(ya,{children:"Amount Raised"}),r.jsx(Sc,{name:"raised",type:"number",min:"0",value:Z.raised,onChange:R,placeholder:"e.g., 25000"})]}),r.jsxs("div",{children:[r.jsx(ya,{children:"Currency"}),r.jsx(A8,{name:"currency",value:Z.currency,onChange:R,children:["USD","EUR","GBP","NGN","GHS","ZAR","KES","UGX","TZS","XOF","XAF","MAD","DZD","TND","EGP","ETB","NAD","BWP","MZN","ZMW","RWF","BIF","SOS","SDG","CDF"].map(ie=>r.jsx("option",{children:ie},ie))})]}),r.jsxs("div",{children:[r.jsx(ya,{required:!0,children:"Deadline"}),r.jsx(Sc,{name:"deadline",type:"date",value:Z.deadline,onChange:R,required:!0})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx(ya,{children:"Media (Images & Videos)"}),r.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-600",children:[r.jsxs("div",{className:"flex justify-center items-center gap-3 mb-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(a0.image,{}),r.jsx("span",{className:"text-xs",children:"Images"})]}),r.jsx("div",{className:"h-4 w-px bg-gray-300"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(a0.video,{}),r.jsx("span",{className:"text-xs",children:"Videos"})]})]}),"Upload images or videos to showcase your crowdfunding project",r.jsxs("div",{className:"mt-3",children:[r.jsx("input",{ref:h,type:"file",multiple:!0,accept:"image/*,video/*",className:"hidden",onChange:ie=>ue(ie.target.files)}),r.jsx("button",{type:"button",onClick:z,className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Choose Files"})]}),p&&Object.keys(x).length>0&&r.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Uploading ",Object.keys(x).length," file(s)..."]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[Object.values(x)[0],"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-brand-600 h-2 rounded-full transition-all duration-300",style:{width:`${Object.values(x)[0]||0}%`}})})]}),(g.length>0||b>0)&&r.jsxs("div",{className:"mt-6 grid sm:grid-cols-2 gap-4 text-left",children:[g.map((ie,de)=>{UY(ie);const $e=Gb(ie),it=ie.startsWith("http")?ie:`${gn}/uploads/${ie}`;return r.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 overflow-hidden grid place-items-center relative cursor-pointer",onClick:()=>_(de),children:$e?r.jsxs(r.Fragment,{children:[r.jsx("video",{src:it,className:"h-full w-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:r.jsx(a0.video,{})})]}):r.jsx("img",{src:it,alt:ie,className:"h-full w-full object-cover"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"truncate text-sm font-medium",children:ie.split("/").pop()}),r.jsxs("div",{className:"text-[11px] text-gray-500 truncate",children:[$e?"Video":"Image","  Attached"]})]}),r.jsx("button",{type:"button",onClick:()=>ge(de),className:"p-1 rounded hover:bg-gray-100",title:"Remove",children:r.jsx(a0.trash,{})})]},`${ie}-${de}`)}),b>0&&Array.from({length:b}).map((ie,de)=>r.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-200 animate-pulse"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-1"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"}),p&&r.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-1.5",children:r.jsx("div",{className:"bg-brand-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${Object.values(x)[0]||0}%`}})})]}),r.jsx("div",{className:"h-8 w-8 rounded bg-gray-200 animate-pulse"})]},`img-skel-${de}`))]}),r.jsx("p",{className:"mt-2 text-[11px] text-gray-400",children:"Images: Up to 5MB each. Videos: Up to 50MB each. Supported formats: JPG, PNG, GIF, MP4, MOV"})]})]}),r.jsxs("div",{className:"mt-4 grid md:grid-cols-2 gap-4 hidden",children:[r.jsxs("div",{children:[r.jsx(ya,{children:"Rewards / Perks (optional)"}),r.jsx(mN,{name:"rewards",value:Z.rewards,onChange:R,rows:4,placeholder:"e.g., Early access, platform credits, swag"})]}),r.jsxs("div",{children:[r.jsx(ya,{children:"Team"}),r.jsx(mN,{name:"team",value:Z.team,onChange:R,rows:4,placeholder:"Who's building this? Roles and experience."})]})]}),r.jsxs("div",{className:"mt-4 hidden",children:[r.jsx(ya,{children:"Links (site, deck, demo)"}),r.jsx(Sc,{name:"links",value:Z.links,onChange:R,placeholder:"Separate with commas or new lines: https://..., https://..."})]}),r.jsxs("div",{className:"mt-4 grid md:grid-cols-2 gap-4 hidden",children:[r.jsxs("div",{children:[r.jsx(ya,{children:"Contact Email"}),r.jsx(Sc,{name:"email",value:Z.email,onChange:R,placeholder:"you@company.com"})]}),r.jsxs("div",{children:[r.jsx(ya,{children:"Phone (optional)"}),r.jsx(Sc,{name:"phone",value:Z.phone,onChange:R,placeholder:"+244 ..."})]})]}),r.jsxs("div",{className:"mt-4 mb-6 hidden",children:[r.jsx(ya,{children:"Tags"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex-1",children:r.jsx(Sc,{value:D,onChange:ie=>O(ie.target.value),onKeyDown:ie=>{ie.key==="Enter"&&(ie.preventDefault(),Q())},placeholder:"Add a tag (e.g., fintech, payments, SME)"})}),r.jsx("div",{children:r.jsx("button",{type:"button",onClick:Q,className:"inline-flex items-center gap-1 rounded-lg px-3 py-2 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700",children:"+ Add"})})]}),Z.tags.length>0&&r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:Z.tags.map((ie,de)=>r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-50 text-brand-700 px-3 py-1 text-xs border border-brand-100",children:[ie,r.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>re(de),title:"Remove",children:""})]},`${ie}-${de}`))}),r.jsx("p",{className:"mt-1 text-[11px] text-gray-400",children:"Tags help others discover your crowdfunding project"})]}),r.jsx("div",{className:"mt-5",children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Category"}),r.jsx(be,{ariaLabel:"Category",value:rt.categoryId,onChange:ie=>Xe({categoryId:ie,subcategoryId:"",subsubCategoryId:""}),options:dt,placeholder:"Search & select category"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Subcategory"}),r.jsx(be,{ariaLabel:"Subcategory",value:rt.subcategoryId,onChange:ie=>Xe(de=>he(te({},de),{subcategoryId:ie,subsubCategoryId:""})),options:nt,placeholder:"Search & select subcategory",disabled:!rt.categoryId})]}),r.jsxs("div",{className:"hidden",children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Sub-subcategory"}),r.jsx(be,{ariaLabel:"General Sub-subcategory",value:rt.subsubCategoryId,onChange:ie=>Xe(de=>he(te({},de),{subsubCategoryId:ie})),options:Te,placeholder:"Search & select sub-subcategory",disabled:!rt.subcategoryId})]})]})}),r.jsxs("div",{className:"mt-6 hidden",children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"Industry Classification"}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select the industry category and subcategory that best describes your crowdfunding project."}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Category"}),r.jsx(be,{ariaLabel:"Industry Category",value:Ne.categoryId,onChange:ie=>Be({categoryId:ie,subcategoryId:""}),options:lt,placeholder:"Search & select industry category"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Subcategory"}),r.jsx(be,{ariaLabel:"Industry Subcategory",value:Ne.subcategoryId,onChange:ie=>Be(de=>he(te({},de),{subcategoryId:ie})),options:_e,placeholder:"Search & select industry subcategory",disabled:!Ne.categoryId})]})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx("div",{className:"mb-4",children:j?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-brand-600"}),r.jsx("h3",{className:"font-semibold text-brand-600",children:"Target Audience"})]}),r.jsxs("button",{type:"button",onClick:()=>N(!1),className:"inline-flex items-center gap-1 px-3 py-1 border border-gray-300 text-gray-600 rounded-lg text-xs hover:bg-gray-50",children:[r.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Hide"]})]}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select who should see this funding project in their feeds and recommendations."}),r.jsx("div",{className:"border border-gray-200 rounded-xl p-4 bg-gray-50/60",children:H.length>0?r.jsx(fl,{tree:H||[],selected:X,onChange:J}):r.jsx("p",{className:"text-sm text-gray-400 italic",children:"Loading audience options..."})})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{type:"button",onClick:()=>N(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})}),"Define Target Audience (optional)"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Target your post to specific audiences"})]})})}),r.jsx("div",{className:"mt-6 flex flex-wrap gap-3 justify-end",children:r.jsx("button",{onClick:()=>Y("published"),type:"button",disabled:M,className:"rounded-xl px-4 py-2 text-sm font-semibold text-white bg-brand-500 hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500/30 disabled:opacity-60",children:M?"Publishing":"Publish"})})]})]}),L&&r.jsx(ff,{urls:T,initialIndex:E,onClose:U})]})}const o5e=Object.freeze(Object.defineProperty({__proto__:null,default:b6},Symbol.toStringTag,{value:"Module"})),xo={name:"54Links",email:"support@54links.com",address:"Maputo, Mozambique",dpoEmail:"support@54links.com"},pN="#034ea2",es=({id:e,children:t})=>r.jsx("h2",{id:e,className:"scroll-mt-28 text-xl md:text-2xl font-semibold text-gray-900 mt-10",children:t}),ts=({children:e})=>r.jsx("section",{className:"space-y-3",children:e}),qv=({href:e,children:t})=>r.jsx("a",{href:e,className:"text-[#0a66c2] hover:underline",children:t});function l5e(){Ht();const e="September 6, 2025";return yr(),r.jsxs("div",{id:"top",className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"sticky top-0 z-40 border-b bg-white/90 backdrop-blur supports-[backdrop-filter]:bg-white/60",style:{borderColor:`${pN}22`},children:r.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-3 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-md flex items-center justify-center text-white font-bold",style:{backgroundColor:pN},"aria-hidden":!0,children:"54"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-900",children:"Terms of Service"}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Last updated: ",e]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("button",{type:"button",onClick:()=>window.print(),className:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white",style:{backgroundColor:pN},children:"Print"})})]})}),r.jsxs("main",{className:"mx-auto max-w-4xl px-4 py-8",children:[r.jsxs("div",{className:"rounded-xl border bg-white p-5 shadow-sm",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["These Terms of Service (Terms) govern your access to and use of ",xo.name,"s website, apps, and related services (collectively, the Platform). By creating an account, accessing, or using the Platform, you agree to these Terms."]}),r.jsxs("p",{className:"text-sm text-gray-600 mt-3",children:["If you do not agree, do not use the Platform. For how we handle personal data, please also see our ",r.jsx(qv,{href:"/privacy",children:"Privacy Policy"}),"."]})]}),r.jsxs("nav",{className:"mt-6 rounded-xl border bg-white p-5 shadow-sm",children:[r.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Table of Contents"}),r.jsx("ul",{className:"mt-3 grid gap-2 text-sm md:grid-cols-2",children:[["introduction","1. Introduction"],["acceptance","2. Acceptance of Terms"],["eligibility","3. Eligibility & Accounts"],["registration","4. Registration & Onboarding"],["matching","5. Profile Types & Matching"],["conduct","6. User Content & Conduct"],["sections","7. Core Platform Sections"],["engagement","8. Communications & Engagement Tools"],["payments","9. Payments, Boosting & Premium"],["verification","10. Company Verification"],["privacy","11. Privacy"],["ip","12. Intellectual Property"],["warranties","13. Disclaimers & Limitation of Liability"],["indemnity","14. Indemnification"],["suspension","15. Suspension & Termination"],["admin","16. Administration & Moderation"],["changes","17. Changes to Service & Terms"],["law","18. Governing Law & Disputes"],["contact","19. Contact"]].map(([t,n])=>r.jsx("li",{children:r.jsx(qv,{href:`#${t}`,children:n})},t))})]}),r.jsxs("div",{className:"mt-8 rounded-xl border bg-white p-6 shadow-sm leading-7 text-gray-700",children:[r.jsxs(ts,{children:[r.jsx(es,{id:"introduction",children:"1. Introduction"}),r.jsxs("p",{children:[xo.name," is a pan-African business matching network that connects professionals, entrepreneurs, and organizations across Africa, supporting collaboration and economic integration aligned with the AfCFTA agenda."]})]}),r.jsxs(ts,{children:[r.jsx(es,{id:"acceptance",children:"2. Acceptance of Terms"}),r.jsxs("p",{children:["By accessing or using the Platform, you agree to be bound by these Terms and any additional policies referenced here, including our"," ",r.jsx(qv,{href:"/privacy",children:"Privacy Policy"}),". If you use the Platform on behalf of a company, you represent that you have authority to bind that company."]})]}),r.jsxs(ts,{children:[r.jsx(es,{id:"eligibility",children:"3. Eligibility & Accounts"}),r.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[r.jsx("li",{children:"Individuals must be at least the age of majority in their country of residence."}),r.jsx("li",{children:"Account types may include Individual and Company accounts (Individual currently active). You are responsible for all activity under your account."}),r.jsx("li",{children:"Keep your credentials secure and notify us of any suspected unauthorized use."})]})]}),r.jsxs(ts,{children:[r.jsx(es,{id:"registration",children:"4. Registration & Onboarding"}),r.jsx("p",{children:"During registration you may provide your name, email, phone, biography, nationality, country of residence, and a password. You must verify your email to activate your account. After login, you will be prompted to select your primary profile type, categories/subcategories, and up to three goals. A guided progress flow may help you complete your profile."})]}),r.jsxs(ts,{children:[r.jsx(es,{id:"matching",children:"5. Profile Types & Matching"}),r.jsx("p",{children:"The Platform uses your profile type and goals to suggest matches (e.g., Seller  Service, Buyer  Partnership). Results and rankings may be AI-assisted and can change over time. We do not guarantee any specific results, outcomes, or opportunities."})]}),r.jsxs(ts,{children:[r.jsx(es,{id:"conduct",children:"6. User Content & Conduct"}),r.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[r.jsxs("li",{children:["You retain ownership of content you submit, but grant ",xo.name," a worldwide, non-exclusive, royalty-free license to host, use, reproduce, modify, and display it to operate and improve the Platform."]}),r.jsx("li",{children:"Prohibited conduct includes harassment, hate speech, spam, fraud, illegal activities, IP infringement, and attempts to disrupt or scrape the service."}),r.jsx("li",{children:"You are responsible for ensuring your postings (jobs, events, services, products, etc.) are accurate, lawful, and comply with applicable regulations."})]})]}),r.jsxs(ts,{children:[r.jsx(es,{id:"sections",children:"7. Core Platform Sections"}),r.jsx("p",{children:"Dedicated spaces include Business, Jobs, Events & Trainings, Networking, and Tourism & Culture. Each section displays content relevant to that area and may provide specific search and filter tools (e.g., country, industry, availability, event type)."})]}),r.jsxs(ts,{children:[r.jsx(es,{id:"engagement",children:"8. Communications & Engagement Tools"}),r.jsx("p",{children:"The Platform may provide direct messaging, meeting scheduling, and Connect/Follow options. You agree to use these features respectfully and in accordance with these Terms and applicable laws."})]}),r.jsxs(ts,{children:[r.jsx(es,{id:"payments",children:"9. Payments, Boosting & Premium"}),r.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[r.jsx("li",{children:"We may offer paid features such as profile/post boosting and premium memberships (e.g., analytics, expanded messaging, exclusive content). Prices, taxes, fees, and availability may change."}),r.jsx("li",{children:"Payments may be processed by third-party providers. Except where required by law, fees are non-refundable once services are rendered."})]})]}),r.jsxs(ts,{children:[r.jsx(es,{id:"verification",children:"10. Company Verification"}),r.jsx("p",{children:"Companies may verify their status via corporate email. Verified companies receive a badge. We may revoke verification if we suspect misuse."})]}),r.jsxs(ts,{children:[r.jsx(es,{id:"privacy",children:"11. Privacy"}),r.jsxs("p",{children:["Our handling of personal data is described in our"," ",r.jsx(qv,{href:"/privacy",children:"Privacy Policy"}),". By using the Platform, you consent to those practices."]})]}),r.jsxs(ts,{children:[r.jsx(es,{id:"ip",children:"12. Intellectual Property"}),r.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[r.jsxs("li",{children:["The Platform, including software, designs, and trademarks, is owned by ",xo.name," or its licensors and is protected by law."]}),r.jsx("li",{children:"You may not copy, modify, or create derivative works except as permitted here."})]})]}),r.jsxs(ts,{children:[r.jsx(es,{id:"warranties",children:"13. Disclaimers & Limitation of Liability"}),r.jsxs("p",{children:["THE PLATFORM IS PROVIDED AS IS AND AS AVAILABLE WITHOUT WARRANTIES OF ANY KIND. TO THE MAXIMUM EXTENT PERMITTED BY LAW, ",xo.name," SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, OR ANY LOSS OF PROFITS, DATA, OR GOODWILL, ARISING FROM OR RELATED TO YOUR USE OF THE PLATFORM."]})]}),r.jsxs(ts,{children:[r.jsx(es,{id:"indemnity",children:"14. Indemnification"}),r.jsxs("p",{children:["You agree to defend, indemnify, and hold harmless ",xo.name," from any claims, liabilities, damages, losses, and expenses (including legal fees) arising from your use of the Platform or your violation of these Terms."]})]}),r.jsxs(ts,{children:[r.jsx(es,{id:"suspension",children:"15. Suspension & Termination"}),r.jsx("p",{children:"We may suspend or terminate access for violations of these Terms or applicable law, including for spam, harassment, or illegal postings. Upon termination, your right to use the Platform ceases immediately."})]}),r.jsxs(ts,{children:[r.jsx(es,{id:"admin",children:"16. Administration & Moderation"}),r.jsx("p",{children:"Authorized administrators may review, moderate, or remove reported content; manage user accounts; configure features; and send platform-wide notices in accordance with our policies and applicable law."})]}),r.jsxs(ts,{children:[r.jsx(es,{id:"changes",children:"17. Changes to Service & Terms"}),r.jsx("p",{children:"We may modify the Platform or these Terms. Material changes will be communicated by reasonable means. Continued use after changes constitutes acceptance."})]}),r.jsxs(ts,{children:[r.jsx(es,{id:"law",children:"18. Governing Law & Disputes"}),r.jsxs("p",{children:["These Terms are governed by the laws of the ",xo.jurisdiction,", without regard to conflicts of law rules. Disputes shall be resolved in the courts located in the"," ",xo.jurisdiction,", unless otherwise required by mandatory law."]})]}),r.jsxs(ts,{children:[r.jsx(es,{id:"contact",children:"19. Contact"}),r.jsxs("p",{children:["Questions about these Terms? Contact us at"," ",r.jsx("a",{className:"text-[#0a66c2] hover:underline",href:`mailto:${xo.email}`,children:xo.email})," ","or write to ",xo.address,"."]})]})]})]})]})}const Gg={name:"54Links",email:"support@54links.com",address:"Maputo, Mozambique",dpoEmail:"support@54links.com"},xN="#034ea2",Pa=({id:e,children:t})=>r.jsx("h2",{id:e,className:"scroll-mt-28 text-xl md:text-2xl font-semibold text-gray-900 mt-10",children:t}),Da=({children:e})=>r.jsx("section",{className:"space-y-3",children:e}),_8=({href:e,children:t})=>r.jsx("a",{href:e,className:"text-[#0a66c2] hover:underline",children:t});function c5e(){Ht();const e="September 6, 2025";return yr(),r.jsxs("div",{id:"top",className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"sticky top-0 z-40 border-b bg-white/90 backdrop-blur supports-[backdrop-filter]:bg-white/60",style:{borderColor:`${xN}22`},children:r.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-3 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-md flex items-center justify-center text-white font-bold",style:{backgroundColor:xN},"aria-hidden":!0,children:"54"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-900",children:"Privacy Policy"}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Last updated: ",e]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("button",{type:"button",onClick:()=>window.print(),className:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white",style:{backgroundColor:xN},children:"Print"})})]})}),r.jsxs("main",{className:"mx-auto max-w-4xl px-4 py-8",children:[r.jsxs("div",{className:"rounded-xl border bg-white p-5 shadow-sm",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["This Privacy Policy explains how ",Gg.name," (we, our, us) collects, uses, discloses, and safeguards personal data when you use our websites, apps, and related services (the Platform). If you do not agree with this Policy, please do not use the Platform."]}),r.jsxs("p",{className:"text-sm text-gray-600 mt-3",children:["For the contract that governs your use of the Platform, please see our"," ",r.jsx(_8,{href:"/terms",children:"Terms of Service"}),"."]})]}),r.jsxs("nav",{className:"mt-6 rounded-xl border bg-white p-5 shadow-sm",children:[r.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Table of Contents"}),r.jsx("ul",{className:"mt-3 grid gap-2 text-sm md:grid-cols-2",children:[["scope","1. Scope"],["data-we-collect","2. Data We Collect"],["how-we-use","3. How We Use Data"],["legal-bases","4. Legal Bases"],["sharing","5. How We Share Data"],["retention","6. Data Retention"],["security","7. Security"],["transfers","8. International Transfers"],["your-rights","9. Your Rights & Choices"],["children","10. Children"],["third-parties","11. Third-Party Links & Services"],["changes","12. Changes to this Policy"],["contact","13. Contact Us"],["country-notices","14. Country-Specific Notices"]].map(([t,n])=>r.jsx("li",{children:r.jsx(_8,{href:`#${t}`,children:n})},t))})]}),r.jsxs("div",{className:"mt-8 rounded-xl border bg-white p-6 shadow-sm leading-7 text-gray-700",children:[r.jsxs(Da,{children:[r.jsx(Pa,{id:"scope",children:"1. Scope"}),r.jsxs("p",{children:["This Policy applies to personal data processed by ",Gg.name," in connection with the Platform, including account registration, onboarding, profile management, matching, messaging, posting content (e.g., jobs, events, services, products), and using premium features (e.g., boosting, analytics)."]})]}),r.jsxs(Da,{children:[r.jsx(Pa,{id:"data-we-collect",children:"2. Data We Collect"}),r.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"font-medium",children:"Account & Identity Data:"})," name, email, phone, password (hashed), nationality, country of residence, profile type (e.g., Entrepreneur, Seller, Job Seeker, Investor)."]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-medium",children:"Onboarding & Profile Data:"})," categories, subcategories, goals (up to three), biography, experience, services or products, job details, event details, portfolio items, company verification info."]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-medium",children:"Content You Provide:"})," posts, messages, comments, likes, media uploads, and any metadata you include."]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-medium",children:"Usage & Device Data:"})," log data, pages viewed, links clicked, approximate location derived from IP, device and browser information, crash/diagnostic data, and cookies/SDK data."]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-medium",children:"Communications:"})," in-app messages, meeting scheduling details, and your preferences for notifications or marketing."]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-medium",children:"Payment & Transaction Data:"})," limited billing details processed via payment providers (we do not store full card numbers)."]})]})]}),r.jsxs(Da,{children:[r.jsx(Pa,{id:"how-we-use",children:"3. How We Use Data"}),r.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[r.jsx("li",{children:"Provide, secure, and maintain the Platform and core features."}),r.jsx("li",{children:"Enable discovery, search, and AI-assisted matching of profiles and content."}),r.jsx("li",{children:"Facilitate communications (e.g., messaging, meeting scheduling, notifications)."}),r.jsx("li",{children:"Process payments for premium features and post boosting."}),r.jsx("li",{children:"Analyze usage and improve functionality, UX, and performance."}),r.jsx("li",{children:"Detect, prevent, and respond to fraud, abuse, and violations of our Terms."}),r.jsx("li",{children:"Comply with legal obligations and enforce our agreements."})]})]}),r.jsxs(Da,{children:[r.jsx(Pa,{id:"legal-bases",children:"4. Legal Bases"}),r.jsx("p",{children:"Where applicable law (e.g., GDPR) requires a lawful basis, we rely on:"}),r.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"font-medium",children:"Contract:"})," to provide the Platform."]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-medium",children:"Legitimate Interests:"})," to secure and improve the Platform, prevent abuse, and promote relevant content."]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-medium",children:"Consent:"})," for certain marketing and optional features; you may withdraw consent at any time."]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-medium",children:"Legal Obligations:"})," to comply with applicable laws and requests."]})]})]}),r.jsxs(Da,{children:[r.jsx(Pa,{id:"sharing",children:"5. How We Share Data"}),r.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[r.jsxs("li",{children:[r.jsx("span",{className:"font-medium",children:"With Other Users:"})," information you choose to make public (e.g., profile, posts) is visible per your privacy settings."]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-medium",children:"Service Providers:"})," hosting, analytics, security, payments, email, and support vendors under contractual safeguards."]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-medium",children:"Partners & Integrations:"})," when you opt-in or connect third-party services."]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-medium",children:"Legal, Safety, and Compliance:"})," to respond to lawful requests or protect rights, safety, and property."]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-medium",children:"Business Transfers:"})," in connection with a merger, acquisition, or asset sale."]})]})]}),r.jsxs(Da,{children:[r.jsx(Pa,{id:"retention",children:"6. Data Retention"}),r.jsx("p",{children:"We keep personal data as long as necessary for the purposes described above, to comply with legal obligations, resolve disputes, and enforce agreements. Retention periods vary by data category and context."})]}),r.jsxs(Da,{children:[r.jsx(Pa,{id:"security",children:"7. Security"}),r.jsx("p",{children:"We implement organizational and technical measures designed to protect personal data. No system is 100% secure; please use strong passwords and safeguard your account credentials."})]}),r.jsxs(Da,{children:[r.jsx(Pa,{id:"transfers",children:"8. International Transfers"}),r.jsx("p",{children:"We may process and store data in countries outside your own. Where required, we use appropriate safeguards for cross-border transfers."})]}),r.jsxs(Da,{children:[r.jsx(Pa,{id:"your-rights",children:"9. Your Rights & Choices"}),r.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[r.jsx("li",{children:"Access, rectify, or delete certain personal data from your account settings or by contacting us."}),r.jsx("li",{children:"Object to or restrict processing in certain circumstances."}),r.jsx("li",{children:"Withdraw consent where processing is based on consent."}),r.jsx("li",{children:"Opt-out of marketing communications by using unsubscribe links or updating preferences."}),r.jsx("li",{children:"Depending on your location, you may have additional rights (e.g., data portability). We will honor requests as required by law."})]})]}),r.jsxs(Da,{children:[r.jsx(Pa,{id:"children",children:"10. Children"}),r.jsx("p",{children:"The Platform is not directed to children under the age of majority. We do not knowingly collect personal data from such users. If you believe a child has provided data, contact us to request deletion."})]}),r.jsxs(Da,{children:[r.jsx(Pa,{id:"third-parties",children:"11. Third-Party Links & Services"}),r.jsx("p",{children:"The Platform may link to or integrate third-party websites or services. Their privacy practices are governed by their own policies. We are not responsible for third-party content or practices."})]}),r.jsxs(Da,{children:[r.jsx(Pa,{id:"changes",children:"12. Changes to this Policy"}),r.jsx("p",{children:"We may update this Policy from time to time. Material changes will be communicated by reasonable means. Your continued use after changes becomes effective means you accept the updated Policy."})]}),r.jsxs(Da,{children:[r.jsx(Pa,{id:"contact",children:"13. Contact Us"}),r.jsxs("p",{children:["For questions or requests, contact"," ",r.jsx("a",{className:"text-[#0a66c2] hover:underline",href:`mailto:${Gg.email}`,children:Gg.email})," ","You can also write to ",Gg.address,"."]})]}),r.jsxs(Da,{children:[r.jsx(Pa,{id:"country-notices",children:"14. Country-Specific Notices"}),r.jsx("p",{children:"Depending on your location, additional rights or disclosures may apply. We will provide country-specific notices where legally required."})]})]})]})]})}var vN={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function O8(e){if(!e)return"";const t=new Date(e).getTime(),n=Date.now(),s=Math.floor((n-t)/1e3);if(s<60)return"Just now";const a=Math.floor(s/60);if(a<60)return`${a} min${a>1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i>1?"s":""} ago`;const o=Math.floor(i/24);if(o<30)return`${o} day${o>1?"s":""} ago`;const l=Math.floor(o/30);if(l<12)return`${l} month${l>1?"s":""} ago`;const c=Math.floor(l/12);return`${c} year${c>1?"s":""} ago`}function d5e(e,t){return e&&t?`${e}, ${t}`:e||t||""}function qg({children:e,tone:t="brand"}){const n={brand:"bg-brand-50 text-brand-600",green:"bg-green-100 text-green-700",gray:"bg-gray-100 text-gray-700",blue:"bg-blue-100 text-blue-700",red:"bg-red-100 text-red-700"};return r.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] ${n[t]||n.gray}`,children:e})}function yu(e){var a,i;if(!e)return"U";const t=e.trim().split(/\s+/),n=((a=t[0])==null?void 0:a.charAt(0).toUpperCase())||"",s=((i=t[1])==null?void 0:i.charAt(0).toUpperCase())||"";return n+s}const u5e=({onSelect:e,selectedUsers:t,onRemove:n,thisUserId:s})=>{const[a,i]=d.useState(""),[o,l]=d.useState([]),[c,u]=d.useState(!1),f=d.useRef(null),h=p=>pe(void 0,null,function*(){if(!p.trim()){l([]);return}u(!0);try{const{data:v}=yield Se.get(`/users/search?q=${encodeURIComponent(p)}`),b=v.filter(y=>!t.some(x=>x.id===y.id)&&(y==null?void 0:y.id)!=s);l(b)}catch(v){console.error("Error searching users:",v),l([])}finally{u(!1)}});d.useEffect(()=>{const p=v=>{f.current&&!f.current.contains(v.target)&&l([])};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]);const g=p=>{const v=p.target.value;i(v),clearTimeout(window.searchTimeout),window.searchTimeout=setTimeout(()=>{h(v)},300)},m=p=>{e(p),i(""),l([])};return r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Add Participants"}),t.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.map(p=>r.jsxs("div",{className:"inline-flex items-center gap-2 bg-brand-50 text-brand-700 rounded-full px-3 py-1 text-xs font-medium",children:[p.avatarUrl?r.jsx("img",{src:p.avatarUrl,alt:p.name,className:"w-4 h-4 rounded-full object-cover"}):r.jsx("div",{className:"w-4 h-4 rounded-full bg-brand-100 flex items-center justify-center text-xs font-medium text-brand-700",children:yu(p.name)}),p.name||p.email,(p==null?void 0:p.id)!=s&&r.jsx("button",{type:"button",onClick:()=>n(p.id),className:"text-brand-500 hover:text-brand-700",children:r.jsx(Sr,{size:14})})]},p.id))}),r.jsxs("div",{ref:f,className:"relative",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:a,onChange:g,placeholder:"Search users by name or email...",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30"}),c&&r.jsx("div",{className:"absolute right-3 top-2.5",children:r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-500"})})]}),o.length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:o.map(p=>r.jsxs("button",{type:"button",onClick:()=>m(p),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3",children:[p.avatarUrl?r.jsx("img",{src:p.avatarUrl,alt:p.name,className:"w-6 h-6 rounded-full object-cover"}):r.jsx("div",{className:"w-6 h-6 rounded-full bg-brand-100 flex items-center justify-center text-xs font-medium text-brand-700",children:yu(p.name)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:p.name}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:p.email})]})]},p.id))})]})]})},f5e=({profile:e,shareMenuRef:t,setShareOpen:n})=>{const s=`https://54links.com/profile/${e==null?void 0:e.id}`,a=`${(e==null?void 0:e.name)||"Profile"} on 54Links`,i=(e==null?void 0:e.about)||`Check out ${(e==null?void 0:e.name)||"this profile"} on 54Links`,o=i.slice(0,160)+(i.length>160?"":""),l=["54Links","Profile","Networking"].filter(Boolean),c=(vN==null?void 0:vN.VITE_FACEBOOK_APP_ID)||void 0;return r.jsxs("div",{ref:t,className:"absolute top-0  max-md:left-0 md:right-0 mt-2 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this profile"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx(Ps,{url:s,title:a,separator:"  ",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx($s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),r.jsx(Ls,{url:s,quote:o,hashtag:"#54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Cs,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),r.jsx(Is,{url:s,title:a,summary:o,source:"54Links",children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ms,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),r.jsx(Os,{url:s,title:a,hashtags:l,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(_s,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),r.jsx(As,{url:s,title:a,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ts,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),r.jsx(Ss,{url:s,subject:a,body:o+`

`+s,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(Ns,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),c&&r.jsx(Es,{url:s,appId:c,children:r.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[r.jsx(ks,{size:40,round:!0}),r.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),r.jsx("div",{className:"mt-2",children:r.jsx(h5e,{shareUrl:s,setShareOpen:n})})]})},h5e=({shareUrl:e,setShareOpen:t})=>r.jsxs("button",{onClick:()=>pe(void 0,null,function*(){try{yield navigator.clipboard.writeText(e),oe.success("Link copied"),t(!1)}catch(n){oe.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[r.jsx(ws,{size:16}),"Copy link"]});function g5e(e,t){if(!e)return null;try{const n=new Date(e);if(isNaN(n.getTime()))return null;const s=n.getTime();return new Date(s+t*6e4).toISOString()}catch(n){return null}}function m5e(e,t,n){if(!e)return"Invalid date";try{const s=new Date(e);if(isNaN(s.getTime()))return"Invalid date";const a={dateStyle:"medium",timeStyle:"short",timeZone:t||void 0};return`${s.toLocaleString(void 0,a)}  ${n} min`}catch(s){return"Invalid date"}}function p5e({open:e,onClose:t,toUserId:n,toName:s,onCreated:a}){const i=Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",[o,l]=d.useState({date:"",time:"",duration:"30",mode:"video",location:"",link:"",title:`Meeting with ${s!=null?s:"User"}`,agenda:"",timezone:i}),[c,u]=d.useState([]);d.useEffect(()=>{e&&s&&(l(w=>he(te({},w),{title:`Meeting with ${s}`})),u([{id:n,name:s}]))},[e,s,n]);const[f,h]=d.useState(!1),[g,m]=d.useState({});d.useEffect(()=>{e&&(m({}),h(!1),n&&s&&u([{id:n,name:s}]))},[e,n,s]);function p(){const w={};return o.date||(w.date="Pick a date"),o.time||(w.time="Pick a time"),o.title.trim()||(w.title="Add a title"),c.length===0&&(w.participants="Add at least one participant"),w}const v=w=>{c.some(j=>j.id===w.id)||u(j=>[...j,w])},b=w=>{u(j=>j.filter(N=>N.id!==w))};function y(w,j){l(N=>he(te({},N),{[w]:j}))}function x(w){return pe(this,null,function*(){var L,k;w.preventDefault();const j=p();if(m(j),Object.keys(j).length)return;const N=new Date(`${o.date}T${o.time}:00`).toISOString();h(!0);try{const E=c[0],S=c.slice(1).map(M=>M.id),I={toUserId:E.id,title:o.title,agenda:o.agenda,scheduledAt:N,duration:parseInt(o.duration),timezone:o.timezone,mode:o.mode,location:o.mode==="in_person"?o.location:null,link:o.mode==="video"?o.link:null,participants:S},{data:C}=yield Se.post("/meeting-requests",I);oe.success("Meeting request sent successfully!"),a==null||a(C),t()}catch(E){console.error("Error creating meeting request:",E),oe.error(((k=(L=E==null?void 0:E.response)==null?void 0:L.data)==null?void 0:k.message)||"Failed to send meeting request")}finally{h(!1)}})}return e?r.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm",children:r.jsxs("div",{className:"w-[92vw] sm:w-full sm:max-w-lg max-h-[80vh] bg-white rounded-2xl shadow-xl flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between bg-brand-500 px-4 py-3",children:[r.jsx("div",{className:"text-white font-medium",children:"Request Meeting"}),r.jsx("button",{onClick:t,className:"text-white/90 hover:text-white",children:r.jsx(Sr,{size:20})})]}),r.jsxs("form",{id:"meetingForm",onSubmit:x,className:"p-5 overflow-y-auto flex-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Title"}),r.jsx("input",{type:"text",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:o.title,onChange:w=>y("title",w.target.value),placeholder:"e.g., Intro call about collaboration"}),g.title&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.title})]}),r.jsx(u5e,{onSelect:v,selectedUsers:c,onRemove:b,thisUserId:n}),g.participants&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.participants}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date"}),r.jsx("input",{min:new Date().toISOString().split("T")[0],type:"date",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:o.date,onChange:w=>y("date",w.target.value)}),g.date&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Time"}),r.jsx("input",{type:"time",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:o.time,onChange:w=>y("time",w.target.value)}),g.time&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.time})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Duration"}),r.jsxs("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:o.duration,onChange:w=>y("duration",w.target.value),children:[r.jsx("option",{value:"15",children:"15 minutes"}),r.jsx("option",{value:"30",children:"30 minutes"}),r.jsx("option",{value:"45",children:"45 minutes"}),r.jsx("option",{value:"60",children:"60 minutes"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Timezone"}),r.jsx("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:o.timezone,onChange:w=>y("timezone",w.target.value),children:pw.map((w,j)=>r.jsx("option",{value:w.value,children:`${w.offset} - ${w.label}`}))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Meeting mode"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("button",{type:"button",onClick:()=>y("mode","video"),className:`flex items-center justify-center gap-2 rounded-lg border px-3 py-2 text-sm ${o.mode==="video"?"border-brand-500 bg-brand-50 text-brand-700":"border-gray-300 bg-white text-gray-700"}`,children:[r.jsx(Ji,{size:18})," Video call"]}),r.jsxs("button",{type:"button",onClick:()=>y("mode","in_person"),className:`flex items-center justify-center gap-2 rounded-lg border px-3 py-2 text-sm ${o.mode==="in_person"?"border-brand-500 bg-brand-50 text-brand-700":"border-gray-300 bg-white text-gray-700"}`,children:[r.jsx(ZE,{size:18})," In person"]})]})]}),o.mode==="video"?r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Call link ",r.jsx("span",{className:"text-gray-600",children:"(optional)"})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("div",{className:"rounded-lg border border-gray-300 px-3 py-2 flex-1 flex items-center gap-2",children:[r.jsx(ob,{size:16,className:"text-gray-500"}),r.jsx("input",{type:"url",className:"w-full text-sm focus:outline-none",placeholder:"Insert call link",value:o.link,onChange:w=>y("link",w.target.value)})]})}),g.link&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.link})]}):r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Location"}),r.jsx("input",{type:"text",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",placeholder:"e.g., Avenida Julius Nyerere 123, Maputo",value:o.location,onChange:w=>y("location",w.target.value)}),g.location&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:g.location})]}),o.date&&o.time&&r.jsx("div",{className:"rounded-lg border bg-gray-50 px-3 py-2 text-xs text-gray-700",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(To,{size:14,className:"text-brand-600"}),r.jsxs("span",{children:[new Date(`${o.date}T${o.time}:00`).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})," ","(",o.timezone,")  ",o.duration," min  ",o.mode==="video"?"Video call":"In person"]})]})})]}),r.jsxs("div",{className:"p-4 border-t flex items-center justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-gray-400",children:"Cancel"}),r.jsxs("button",{type:"submit",form:"meetingForm",disabled:f,className:"inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium text-white bg-brand-500 hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500/30 disabled:opacity-60",children:[r.jsx(ki,{size:18})," ",f?"Creating":`Create request (${c.length})`]})]})]})}):null}const x5e=()=>r.jsxs("div",{className:"min-h-screen grid place-items-center text-brand-700",children:[r.jsxs("svg",{className:"h-6 w-6 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),r.jsx("span",{className:"ml-2",children:"Loading"})]});function v5e(){var Oe,We,qe,vt,Ge,ot,Mt,_t,Ct;const{userId:e}=ea(),[t,n]=d.useState(!1),[s,a]=d.useState(null),[i,o]=d.useState(""),[l,c]=d.useState(!1),u=d.useRef(null),[f,h]=d.useState(!1),[g,m]=d.useState(!1),[p,v]=d.useState(!1),[b,y]=d.useState(!1),[x,w]=d.useState([]),[j,N]=d.useState(!1),[L,k]=d.useState([]),[E,S]=d.useState(!1),[I,C]=d.useState([]),[M,A]=d.useState(!1),[H,W]=d.useState("posts"),[X,J]=d.useState(!1),[Z,F]=d.useState(0),D=B=>{const ee=[];return B.forEach(q=>{switch(q.kind){case"job":q.coverImageBase64&&(q.coverImageBase64.startsWith("data:image/")||q.coverImageBase64.startsWith("http://")||q.coverImageBase64.startsWith("https://"))&&ee.push({url:q.coverImageBase64,alt:q.title||"Job image",type:"job",itemId:q.id,itemTitle:q.title});break;case"event":q.coverImageBase64&&(q.coverImageBase64.startsWith("data:image/")||q.coverImageBase64.startsWith("http://")||q.coverImageBase64.startsWith("https://"))&&ee.push({url:q.coverImageBase64,alt:q.title||"Event image",type:"event",itemId:q.id,itemTitle:q.title}),q.coverImageUrl&&(q.coverImageUrl.startsWith("data:image/")||q.coverImageUrl.startsWith("http://")||q.coverImageUrl.startsWith("https://"))&&ee.push({url:q.coverImageUrl,alt:q.title||"Event cover image",type:"event",itemId:q.id,itemTitle:q.title}),Array.isArray(q.images)&&q.images.forEach((K,ce)=>{K&&(K.startsWith("data:image/")||K.startsWith("http://")||K.startsWith("https://"))&&ee.push({url:K,alt:`${q.title||"Event image"} ${ce+1}`,type:"event",itemId:q.id,itemTitle:q.title})});break;case"service":Array.isArray(q.images)&&q.images.forEach((K,ce)=>{K&&(K.startsWith("data:image/")||typeof K=="string"&&(/\.(jpe?g|png|gif|webp|svg)$/i.test(K)||K.startsWith("http://")||K.startsWith("https://")))&&ee.push({url:K,alt:`${q.title||"Service image"} ${ce+1}`,type:"service",itemId:q.id,itemTitle:q.title})});break;case"product":Array.isArray(q.images)&&q.images.forEach((K,ce)=>{K&&(K.startsWith("data:image/")||K.startsWith("http://")||K.startsWith("https://"))&&ee.push({url:K,alt:`${q.title||"Product image"} ${ce+1}`,type:"product",itemId:q.id,itemTitle:q.title})});break;case"tourism":Array.isArray(q.images)&&q.images.forEach((K,ce)=>{K&&typeof K=="object"&&(K!=null&&K.base64url)&&(K.base64url.startsWith("data:image/")||K.base64url.startsWith("http://")||K.base64url.startsWith("https://"))?ee.push({url:K.base64url,alt:`${q.title||"Tourism image"} ${ce+1}`,type:"tourism",itemId:q.id,itemTitle:q.title}):K&&typeof K=="string"&&(K.startsWith("data:image/")||K.startsWith("http://")||K.startsWith("https://"))&&ee.push({url:K,alt:`${q.title||"Tourism image"} ${ce+1}`,type:"tourism",itemId:q.id,itemTitle:q.title})});break;case"funding":Array.isArray(q.images)&&q.images.forEach((K,ce)=>{K&&typeof K=="object"&&(K!=null&&K.base64url)&&(K.base64url.startsWith("data:image/")||K.base64url.startsWith("http://")||K.base64url.startsWith("https://"))?ee.push({url:K.base64url,alt:`${q.title||"Funding image"} ${ce+1}`,type:"funding",itemId:q.id,itemTitle:q.title}):K&&typeof K=="string"&&(K.startsWith("data:image/")||K.startsWith("http://")||K.startsWith("https://"))&&ee.push({url:K,alt:`${q.title||"Funding image"} ${ce+1}`,type:"funding",itemId:q.id,itemTitle:q.title})});break;case"need":Array.isArray(q.attachments)&&q.attachments.forEach((K,ce)=>{K&&typeof K=="object"&&(K!=null&&K.base64url)&&(K.base64url.startsWith("data:image/")||K.base64url.startsWith("http://")||K.base64url.startsWith("https://"))?ee.push({url:K.base64url,alt:`${q.title||"Need attachment"} ${ce+1}`,type:"need",itemId:q.id,itemTitle:q.title}):K&&typeof K=="string"&&(K.startsWith("data:image/")||/\.(jpe?g|png|gif|webp|svg)$/i.test(K)||K.startsWith("http://")||K.startsWith("https://"))&&ee.push({url:K,alt:`${q.title||"Need attachment"} ${ce+1}`,type:"need",itemId:q.id,itemTitle:q.title})});break;case"moment":Array.isArray(q.images)&&q.images.forEach((K,ce)=>{K&&typeof K=="object"&&(K!=null&&K.base64url)&&(K.base64url.startsWith("data:image/")||K.base64url.startsWith("http://")||K.base64url.startsWith("https://"))&&ee.push({url:K.base64url,alt:`${q.title||"Moment image"} ${ce+1}`,type:"moment",itemId:q.id,itemTitle:q.title})}),Array.isArray(q.attachments)&&q.attachments.forEach((K,ce)=>{K&&typeof K=="object"&&(K!=null&&K.base64url)&&(K.base64url.startsWith("data:image/")||K.base64url.startsWith("http://")||K.base64url.startsWith("https://"))&&ee.push({url:K.base64url,alt:`${q.title||"Moment attachment"} ${ce+1}`,type:"moment",itemId:q.id,itemTitle:q.title})});break}}),ee},O=(B,ee)=>!ee||!B.length?[]:B.filter(q=>{var ce,ye,Ze,ut,we,Ee,Ie,Ve;let K;switch(q.kind){case"job":K=q.postedByUserId||((ce=q.postedBy)==null?void 0:ce.id);break;case"event":K=q.organizerUserId||((ye=q.organizer)==null?void 0:ye.id);break;case"service":K=q.providerUserId||((Ze=q.provider)==null?void 0:Ze.id);break;case"product":K=q.sellerUserId||((ut=q.seller)==null?void 0:ut.id);break;case"tourism":K=q.authorUserId||((we=q.author)==null?void 0:we.id);break;case"funding":K=q.creatorUserId||((Ee=q.creator)==null?void 0:Ee.id);break;case"need":K=q.userId||((Ie=q.user)==null?void 0:Ie.id);break;case"moment":K=q.userId||((Ve=q.user)==null?void 0:Ve.id);break;default:K=null}return String(K)===String(ee)}),T=d.useMemo(()=>O(x,e),[x,e]);d.useEffect(()=>{if(T.length>0){const B=nt(T);lt(B)}},[T]);const R=D(T),z=d.useMemo(()=>[...I.map(ee=>({url:ee.imageUrl,alt:ee.title||"Gallery image",type:"gallery",itemId:ee.id,itemTitle:ee.title||"Gallery image"})),...R],[I,R]);d.useEffect(()=>(document.addEventListener("keydown",le),()=>{document.removeEventListener("keydown",le)}),[X]);const _=B=>{F(B),J(!0)},U=()=>{J(!1),F(0)},Q=()=>{F(B=>(B+1)%z.length)},re=()=>{F(B=>(B-1+z.length)%z.length)},le=B=>{if(X)switch(B.key){case"Escape":U();break;case"ArrowLeft":B.preventDefault(),re();break;case"ArrowRight":B.preventDefault(),Q();break}},[ue,ge]=d.useState(!1),ke=d.useRef(null),tt=d.useRef(null),[He,ze]=d.useState(!1),[rt,Xe]=d.useState(!1),[V,ne]=d.useState(!1),[Ce,fe]=d.useState([]),xe=yr(),{user:se}=Xt(),ae=Ht();function G(){if(!se)return xe._showPopUp("login_prompt");h(!0)}function Ne(){if(!se)return xe._showPopUp("login_prompt");ne(!0)}const Be=d.useMemo(()=>Array.isArray(s==null?void 0:s.languages)?s.languages.map(B=>typeof B=="string"?{name:B}:B).filter(Boolean):[],[s]),dt=d.useCallback(()=>pe(this,null,function*(){if(!e)return;let B=!0;n(!0),c(!1),o("");try{const{data:ee}=yield Se.get(`/users/${e}/public`);B&&a(ee)}catch(ee){console.error(ee),B&&(c(!0),u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{dt()},3e3))}finally{B&&n(!1)}return()=>{B=!1}}),[e]);d.useEffect(()=>(dt(),()=>{u.current&&clearTimeout(u.current)}),[dt]),d.useEffect(()=>{if(!e||!se)return;function B(){return pe(this,null,function*(){try{const{data:ee}=yield Se.get("/meeting-requests"),q=[...ee.sent.filter(ce=>ce.fromUserId===e),...ee.received.filter(ce=>ce.toUserId===e),...ee.invitations.filter(ce=>{var ye;return(ye=ce.participants)==null?void 0:ye.some(Ze=>{var ut;return((ut=Ze.user)==null?void 0:ut.id)===e})}),...ee.sent.filter(ce=>{var ye;return ce.fromUserId===se.id&&(ce.toUserId===e||((ye=ce.participants)==null?void 0:ye.some(Ze=>{var ut;return((ut=Ze.user)==null?void 0:ut.id)===e})))}),...ee.received.filter(ce=>{var ye;return ce.toUserId===se.id&&(ce.fromUserId===e||((ye=ce.participants)==null?void 0:ye.some(Ze=>{var ut;return((ut=Ze.user)==null?void 0:ut.id)===e})))}),...ee.invitations.filter(ce=>{var ye,Ze;return((ye=ce.participants)==null?void 0:ye.some(ut=>{var we;return((we=ut.user)==null?void 0:we.id)===se.id}))&&(ce.fromUserId===e||ce.toUserId===e||((Ze=ce.participants)==null?void 0:Ze.some(ut=>{var we;return((we=ut.user)==null?void 0:we.id)===e})))})].filter((ce,ye,Ze)=>Ze.findIndex(ut=>ut.id===ce.id)===ye&&ce.status==="accepted");console.log("Loaded meetings for profile:",{profileUserId:e,currentUserId:se.id,meetingsCount:q.length,meetings:q.map(ce=>{var ye,Ze,ut;return{id:ce.id,title:ce.title,from:(ye=ce.requester)==null?void 0:ye.name,to:(Ze=ce.recipient)==null?void 0:Ze.name,participants:(ut=ce.participants)==null?void 0:ut.map(we=>{var Ee;return(Ee=we.user)==null?void 0:Ee.name})}})});const K=q.map(ce=>({id:ce.id,toUserId:ce.toUserId,title:ce.title,agenda:ce.agenda,mode:ce.mode,link:ce.link,location:ce.location,timezone:ce.timezone,duration:ce.duration,isoStart:ce.scheduledAt,createdAt:ce.createdAt,from:ce.requester,to:ce.recipient,participants:[ce.requester,ce.recipient,...(ce.participants||[]).map(ye=>ye.user).filter(ye=>{var Ze,ut;return ye&&ye.id!==((Ze=ce.requester)==null?void 0:Ze.id)&&ye.id!==((ut=ce.recipient)==null?void 0:ut.id)})].filter(Boolean)}));fe(K)}catch(ee){console.error("Error loading meetings:",ee)}})}B()},[se==null?void 0:se.id,e]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:B}=yield Se.get("/feed/meta");k(B.categories||[])}catch(B){console.error(B)}})},[]),d.useEffect(()=>{if(!e)return;function B(){return pe(this,null,function*(){N(!0);try{const ee={tab:"all",userId:e,limit:20,offset:0},{data:q}=yield Se.get("/feed",{params:ee});w(q.items||[])}catch(ee){console.error("Error loading user feed:",ee)}finally{N(!1)}})}B()},[e]),d.useEffect(()=>{if(!e)return;function B(){return pe(this,null,function*(){A(!0);try{const{data:ee}=yield Se.get(`/users/${e}/gallery`);C(ee.gallery||[])}catch(ee){console.error("Error loading user gallery:",ee),C([])}finally{A(!1)}})}B()},[e]),d.useEffect(()=>{},[e]);const nt=B=>{const ee=[];return B.forEach(q=>{q.videoUrl&&(q.videoUrl.startsWith("http://")||q.videoUrl.startsWith("https://")||q.videoUrl.startsWith("data:video/"))&&ee.push({url:q.videoUrl,alt:q.title||`Video from ${q.kind}`,type:q.kind,itemId:q.id,itemTitle:q.title}),Array.isArray(q.images)&&q.images.forEach((K,ce)=>{typeof K=="string"&&(K.toLowerCase().match(/\.(mp4|mov|avi|mkv|webm|flv|wmv|m4v|3gp|ogv)$/)||K.startsWith("data:video/"))&&ee.push({url:K,alt:`${q.title||q.kind} video ${ce+1}`,type:q.kind,itemId:q.id,itemTitle:q.title}),typeof K=="object"&&(K!=null&&K.base64url)&&(K.base64url.toLowerCase().match(/\.(mp4|mov|avi|mkv|webm|flv|wmv|m4v|3gp|ogv)$/)||K.base64url.startsWith("data:video/")||K.type==="video")&&ee.push({url:K.base64url,alt:K.name||`${q.title||q.kind} video`,type:q.kind,itemId:q.id,itemTitle:q.title})}),Array.isArray(q.attachments)&&q.attachments.forEach((K,ce)=>{typeof K=="object"&&(K!=null&&K.base64url)&&(K.base64url.toLowerCase().match(/\.(mp4|mov|avi|mkv|webm|flv|wmv|m4v|3gp|ogv)$/)||K.base64url.startsWith("data:video/")||K.type==="video")&&ee.push({url:K.base64url,alt:K.name||`${q.title||q.kind} video ${ce+1}`,type:q.kind,itemId:q.id,itemTitle:q.title})})}),ee},[Te,lt]=d.useState([]),[_e,be]=d.useState(!1),[Y,ie]=d.useState([]),[de,$e]=d.useState(0),it=B=>{const ee=Te.map(q=>q.url);ie(ee),$e(B),be(!0)};d.useEffect(()=>{function B(q){tt.current&&ke.current&&!tt.current.contains(q.target)&&!ke.current.contains(q.target)&&ge(!1)}function ee(q){q.key==="Escape"&&ge(!1)}return document.addEventListener("mousedown",B),document.addEventListener("keydown",ee),()=>{document.removeEventListener("mousedown",B),document.removeEventListener("keydown",ee)}},[]);function gt(B){const ee=[B,...Ce].sort((q,K)=>new Date(K.isoStart)-new Date(q.isoStart));fe(ee)}function De(B){return pe(this,null,function*(){if(!se)return xe._showPopUp("login_prompt");yield Se.post(`/users/${e}/block`,{note:B}),a(ee=>{const q=he(te({},ee),{block:he(te({},(ee==null?void 0:ee.block)||{}),{iBlockedThem:!0,status:"i_blocked"})});return["connected","outgoing_pending","incoming_pending","pending","pending_outgoing","pending_incoming"].includes(ee==null?void 0:ee.connectionStatus)&&(q.connectionStatus="none"),q}),oe.success("User blocked")})}function Le(){return pe(this,null,function*(){if(!se)return xe._showPopUp("login_prompt");yield Se.delete(`/users/${e}/block`),a(B=>{const ee=he(te({},B),{block:he(te({},(B==null?void 0:B.block)||{}),{iBlockedThem:!1,status:"none"})});return(B==null?void 0:B.connectionStatus)==="blocked"&&(ee.connectionStatus="none"),ee}),oe.success("User unblocked")})}function Ae(B){return pe(this,null,function*(){if(!se)return xe._showPopUp("login_prompt");yield Se.post("/reports",{targetType:"user",targetId:e,description:B}),oe.success("Report submitted. Thanks for keeping the community safe.")})}function Pe(B){return pe(this,null,function*(){var ee,q;if(!se)return xe._showPopUp("login_prompt");try{yield Se.delete(`/connections/${e}`,{data:{note:B}}),a(K=>he(te({},K),{connectionStatus:"none"}))}catch(K){console.error(K),oe.error(((q=(ee=K==null?void 0:K.response)==null?void 0:ee.data)==null?void 0:q.message)||"Failed to remove connection")}})}const Qe=!!((Oe=s==null?void 0:s.block)!=null&&Oe.iBlockedThem),mt=B=>{var ee,q,K,ce,ye,Ze,ut,we,Ee,Ie,Ve,ht;return B.kind==="job"?r.jsx(Od,{type:"grid",matchPercentage:B.matchPercentage,job:he(te({},B),{categoryName:(ee=L.find(ft=>String(ft.id)===String(B.categoryId)))==null?void 0:ee.name,subcategoryName:(ce=(K=(q=L.find(ft=>String(ft.id)===String(B.categoryId)))==null?void 0:q.subcategories)==null?void 0:K.find(ft=>String(ft.id)===String(B.subcategoryId)))==null?void 0:ce.name})},`job-${B.id}`):B.kind==="need"?r.jsx(ec,{type:"grid",matchPercentage:B.matchPercentage,need:he(te({},B),{categoryName:(ye=L.find(ft=>String(ft.id)===String(B.categoryId)))==null?void 0:ye.name,subcategoryName:(we=(ut=(Ze=L.find(ft=>String(ft.id)===String(B.categoryId)))==null?void 0:Ze.subcategories)==null?void 0:ut.find(ft=>String(ft.id)===String(B.subcategoryId)))==null?void 0:we.name})},`need-${B.id}`):B.kind==="service"?r.jsx(fw,{type:"grid",item:B,matchPercentage:B.matchPercentage,currentUserId:se==null?void 0:se.id},`service-${B.id}`):B.kind==="product"?r.jsx(hw,{type:"grid",item:B,matchPercentage:B.matchPercentage,currentUserId:se==null?void 0:se.id},`product-${B.id}`):B.kind==="moment"?r.jsx(tc,{type:"grid",matchPercentage:B.matchPercentage,moment:he(te({},B),{categoryName:(Ee=L.find(ft=>String(ft.id)===String(B.categoryId)))==null?void 0:Ee.name,subcategoryName:(ht=(Ve=(Ie=L.find(ft=>String(ft.id)===String(B.categoryId)))==null?void 0:Ie.subcategories)==null?void 0:Ve.find(ft=>String(ft.id)===String(B.subcategoryId)))==null?void 0:ht.name})},`moment-${B.id}`):B.kind==="tourism"?r.jsx(gw,{type:"grid",item:B,matchPercentage:B.matchPercentage,currentUserId:se==null?void 0:se.id},`tourism-${B.id}`):B.kind==="funding"?r.jsx(mw,{type:"grid",item:B,matchPercentage:B.matchPercentage,currentUserId:se==null?void 0:se.id},`funding-${B.id}`):r.jsx(nf,{type:"grid",item:B,e:B,matchPercentage:B.matchPercentage},`event-${B.id}`)};function Me(){return s?s.connectionStatus==="outgoing_pending"?r.jsx("button",{className:"col-span-1 rounded-lg px-3 py-2 text-sm font-medium bg-yellow-100 text-yellow-700 cursor-default",children:"Pending request"}):s.connectionStatus==="incoming_pending"?r.jsxs("button",{onClick:()=>ae("/notifications"),className:"col-span-1 items-center flex justify-center rounded-lg px-3 py-2 text-sm font-medium bg-brand-100 text-brand-600 cursor-pointer",children:[r.jsx(Lo,{size:16,className:"mr-1"}),"Respond"]}):s.connectionStatus==="connected"?r.jsx("div",{className:"col-span-1",children:r.jsx("button",{onClick:()=>m(!0),title:"Connected  click to remove","aria-label":"Connected. Click to remove connection",className:`group/conn w-full inline-flex items-center justify-center rounded-lg px-3 py-2 text-sm font-semibold\r
                       bg-green-100 text-green-700 border border-green-200\r
                       hover:bg-red-50 hover:text-red-700 hover:border-red-300\r
                       focus:outline-none focus:ring-2 focus:ring-red-500/30\r
                       transition-all duration-200`,children:r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(nw,{size:14,className:"block group-hover/conn:hidden group-focus/conn:hidden"}),r.jsx(sw,{size:14,className:"hidden group-hover/conn:block group-focus/conn:block"}),r.jsx("span",{className:"block group-hover/conn:hidden group-focus/conn:hidden",children:"Connected"}),r.jsx("span",{className:"hidden group-hover/conn:block group-focus/conn:block",children:"Remove"}),r.jsxs("span",{className:"ml-1 inline-flex items-center",children:[r.jsx(On,{size:12,className:"block group-hover/conn:hidden group-focus/conn:hidden text-gray-500","aria-hidden":"true"}),r.jsx("span",{className:"hidden group-hover/conn:inline group-focus/conn:inline text-[10px] leading-none text-gray-500",children:"tap to remove"})]})]})})}):r.jsx("button",{onClick:G,className:"col-span-1 rounded-lg px-3 py-2 text-sm font-medium text-white bg-brand-500 hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500/30 transition-colors",children:"Connect"}):null}return r.jsx(ei,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(an,{}),r.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6",children:[t&&r.jsx(x5e,{}),l&&r.jsx(hl,{onRetry:()=>{c(!1),u.current&&clearTimeout(u.current),u.current=null,dt()},message:"Failed to load profile. Please try again.",buttonText:"Try Again"}),!t&&!i&&s&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm  mb-6",children:[s.coverImage?r.jsxs("div",{className:"h-32 relative rounded-t-xl overflow-hidden cursor-pointer",onClick:()=>Xe(!0),children:[r.jsx("img",{src:s.coverImage,alt:`${s.name}'s cover`,className:"w-full h-full object-cover object-center"}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/2 bg-gradient-to-t from-black/60 via-black/30 to-transparent"})]}):r.jsx("div",{className:"bg-gradient-to-r rounded-xl from-brand-700 to-brand-500 h-32"}),r.jsx("div",{className:"px-6 pb-6 relative",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between -mt-16 gap-4 mb-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-4 flex-1",children:[r.jsxs("div",{className:"relative",children:[s.avatarUrl?r.jsx("div",{className:`${s.accountType==="company"?"h-32 w-32 rounded-md":"h-32 w-32 rounded-full"} border-4 border-white shadow-lg bg-white flex justify-center items-center overflow-hidden cursor-pointer hover:opacity-90 transition-opacity`,onClick:()=>ze(!0),role:"button",tabIndex:0,onKeyDown:B=>{(B.key==="Enter"||B.key===" ")&&(B.preventDefault(),ze(!0))},"aria-label":`View ${s.name}'s profile picture`,children:r.jsx("img",{src:s.avatarUrl,alt:s.name,className:"w-full h-full",style:{objectFit:s.accountType==="company"?"contain":"cover"}})}):r.jsx("div",{className:`${s.accountType==="company"?"h-32 w-32 rounded-md":"h-32 w-32 rounded-full"} border-4 border-white shadow-lg bg-brand-50 grid place-items-center overflow-hidden`,children:r.jsx("span",{className:"font-semibold text-brand-600 text-xl",children:yu(s.name)})}),s.companyMemberships&&s.companyMemberships.length>0&&r.jsxs("div",{className:"absolute -bottom-2 -right-2 flex -space-x-2",children:[[...s.companyMemberships].sort((B,ee)=>(ee.isMain?1:0)-(B.isMain?1:0)).slice(0,3).map((B,ee)=>B.company.avatarUrl?r.jsx("img",{src:B.company.avatarUrl,alt:B.company.name,className:`h-7 w-7 rounded-full border-2 border-white shadow-sm object-cover ${B.isMain?"ring-2 ring-brand-400":""}`,title:`${B.company.name} (${B.role})`},B.companyId):r.jsx("div",{className:`h-7 w-7 rounded-full border-2 border-white shadow-sm bg-gray-100 flex items-center justify-center text-xs font-medium text-gray-600 ${B.isMain?"ring-2 ring-brand-400":""}`,title:`${B.company.name} (${B.role})`,children:yu(B.company.name)},B.companyId)),s.companyMemberships.length>3&&r.jsxs("div",{className:"h-7 w-7 rounded-full border-2 border-white shadow-sm bg-gray-100 flex items-center justify-center text-xs font-medium text-gray-600 z-10",children:["+",s.companyMemberships.length-3]})]})]}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[r.jsx("h1",{className:`${s.accountType==="company"?"text-3xl":"text-2xl"} font-bold text-white drop-shadow-lg max-md:text-black`,children:s.name}),s.accountType&&r.jsx(qg,{tone:s.accountType==="company"?"blue":"gray",children:s.accountType==="company"?"Company":"Individual"}),s.primaryIdentity&&r.jsx(qg,{tone:"brand",children:s.primaryIdentity}),s.experienceLevel&&r.jsx(qg,{tone:"gray",children:s.experienceLevel})]}),s.accountType==="company"?r.jsxs("div",{className:"mb-2 px-4 py-2 bg-white rounded-lg shadow-sm border",children:[r.jsx("p",{className:"text-gray-900 text-lg font-semibold mb-2",children:s.professionalTitle||(s.categories&&s.categories.length>0?s.categories.join(", "):"Company")}),s.categories&&s.categories.length>0&&r.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.categories.map((B,ee)=>r.jsx(qg,{tone:"brand",children:B},`cat-${ee}`)),s.subcategories&&s.subcategories.map((B,ee)=>r.jsx(qg,{tone:"gray",children:B},`subcat-${ee}`))]})]}):r.jsx("div",{className:"mb-2 px-4 py-2 bg-white rounded-lg shadow-sm border",children:r.jsx("p",{className:"text-gray-900 text-lg font-semibold",children:s.professionalTitle||s.title||""})}),(s.city||s.country)&&r.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[r.jsx(Hr,{size:14,className:""}),r.jsx("span",{children:d5e(s.city,s.country)})]})]})]}),r.jsxs("div",{className:"flex gap-3 mt-4 md:mt-0",children:[r.jsxs("div",{className:"relative",children:[r.jsx("button",{ref:tt,onClick:B=>{B.stopPropagation(),ge(ee=>!ee)},className:"border border-gray-300 hover:bg-gray-50 text-gray-700 px-4 py-2.5 rounded-lg flex items-center gap-2 transition font-medium",children:r.jsx(js,{size:16})}),ue&&r.jsx(f5e,{profile:s,shareMenuRef:ke,setShareOpen:ge})]}),(se==null?void 0:se.id)!=(s==null?void 0:s.id)&&r.jsx("button",{onClick:()=>{if(!se){xe._showPopUp("login_prompt");return}ae(`/messages?userId=${e}`),oe.success("Starting conversation with "+s.name)},className:"border border-gray-300 hover:bg-gray-50 text-gray-700 px-4 py-2.5 rounded-lg flex items-center gap-2 transition font-medium",children:r.jsx(cs,{size:16})}),(s==null?void 0:s.connectionStatus)=="connected"&&!((We=s==null?void 0:s.block)!=null&&We.iBlockedThem)&&!((qe=s==null?void 0:s.block)!=null&&qe.theyBlockedMe)&&r.jsx("button",{onClick:Ne,className:"border border-brand-200 hover:bg-brand-50 text-brand-700 px-4 py-2.5 rounded-lg flex items-center gap-2 transition font-medium",children:r.jsx(To,{size:16})}),(se==null?void 0:se.id)!=(s==null?void 0:s.id)&&Me()]})]})})]}),s.about&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"About"}),r.jsxs("div",{className:"space-y-6 text-gray-600 text-sm leading-relaxed",children:[r.jsx("p",{children:s.about}),r.jsxs("div",{className:"border-t border-gray-100 pt-6",children:[s.professionalTitle&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-gray-900 font-semibold mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"text-blue-600",children:""}),s.accountType==="company"?"What we do":"What I do"]}),r.jsx("p",{className:"text-gray-700",children:s.professionalTitle})]}),Array.isArray(s.lookingFor)&&s.lookingFor.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-gray-900 font-semibold mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"text-blue-600",children:""}),"Looking for"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:s.lookingFor.map((B,ee)=>r.jsx("span",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-sm",children:B},`looking-${ee}`))})]}),Array.isArray(s.identities)&&s.identities.length>0&&(!Array.isArray(s.lookingFor)||!s.lookingFor.some(B=>s.identities.includes(B)))&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-gray-900 font-semibold mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"text-purple-600",children:""}),s.accountType==="company"?"Company focuses":"Focus areas"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:s.identities.map((B,ee)=>r.jsx("span",{className:"bg-purple-50 text-purple-700 px-3 py-1 rounded-full text-sm",children:B},`identity-${ee}`))})]}),((vt=s.interests)==null?void 0:vt.categories)&&s.interests.categories.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-gray-900 font-semibold mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"text-green-600",children:""}),"Interested in"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:s.interests.categories.map((B,ee)=>r.jsx("span",{className:"bg-green-50 text-green-700 px-3 py-1 rounded-full text-sm",children:B},`cat-int-${ee}`))})]}),((Ge=s.interests)==null?void 0:Ge.subcategories)&&s.interests.subcategories.length>0&&r.jsx("div",{className:"mb-4",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:s.interests.subcategories.map((B,ee)=>r.jsx("span",{className:"bg-gray-50 text-gray-700 px-3 py-1 rounded-full text-sm",children:B},`sub-int-${ee}`))})}),(((ot=s.cats)==null?void 0:ot.length)||((Mt=s.subs)==null?void 0:Mt.length))&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-gray-900 font-semibold mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"text-indigo-600",children:""}),"Expertise & interests"]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[(s.cats||[]).map(B=>r.jsx("span",{className:"bg-brand-50 text-brand-700 px-3 py-1 rounded-full text-sm",children:B},`cat-${B}`)),(s.subs||[]).map(B=>r.jsx("span",{className:"bg-gray-50 text-gray-700 px-3 py-1 rounded-full text-sm",children:B},`sub-${B}`))]})]}),Array.isArray(s.subsubs)&&s.subsubs.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-gray-900 font-semibold mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"text-amber-600",children:""}),"Specialties"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[...new Set(s.subsubs)].map((B,ee)=>r.jsx("span",{className:"bg-amber-50 text-amber-700 px-3 py-1 rounded-full text-sm",children:B},`s3-${ee}`))})]}),s.accountType==="company"&&s.skills&&s.skills.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-gray-900 font-semibold mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"text-emerald-600",children:""}),"Company expertise"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:s.skills.map((B,ee)=>r.jsx("span",{className:"bg-emerald-50 text-emerald-700 px-3 py-1 rounded-full text-sm",children:B},`skill-${ee}`))})]})]})]})]}),(s.email||s.website||Array.isArray(s.links)&&s.links.length)&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Contact Information"}),r.jsxs("div",{className:"space-y-3",children:[s.email&&r.jsxs("div",{className:"flex items-center gap-3 text-gray-600 text-sm",children:[r.jsx(dh,{size:16,className:"text-gray-400"}),r.jsx("span",{children:s.email})]}),s.website&&r.jsxs("div",{className:"flex items-center gap-3 text-gray-600 text-sm",children:[r.jsx(no,{size:16,className:"text-gray-400"}),r.jsx("a",{href:s.website,target:"_blank",rel:"noreferrer",className:"text-brand-700 hover:text-brand-800",children:s.website})]}),Array.isArray(s.links)&&s.links.map((B,ee)=>r.jsxs("div",{className:"flex items-center gap-3 text-gray-600 text-sm",children:[r.jsx(Lo,{size:16,className:"text-gray-400"}),r.jsx("a",{href:B,target:"_blank",rel:"noreferrer",className:"text-brand-700 hover:text-brand-800 truncate",children:B})]},ee))]})]}),Array.isArray(s.skills)&&s.skills.length>0||Be.length>0?r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Array.isArray(s.skills)&&s.skills.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(TH,{size:18,className:"text-brand-600"}),"Skills"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:s.skills.map((B,ee)=>r.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm",children:B},`${B}-${ee}`))})]}),Be.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(AH,{size:18,className:"text-brand-600"}),s.accountType==="company"?"Working Languages":"Languages"]}),r.jsx("div",{className:"space-y-2",children:Be.map((B,ee)=>r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-700 text-sm",children:B.name}),r.jsx("span",{className:"text-gray-500 text-xs",children:B.level})]},`${B.name}-${ee}`))})]})]})}):null,Array.isArray(s.workSamples)&&s.workSamples.length>0&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Work Samples"}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.workSamples.map(B=>r.jsxs("div",{className:"group border border-gray-200 rounded-xl p-5 hover:shadow-lg hover:border-brand-200 transition-all duration-200",children:[r.jsx("div",{className:"flex items-start justify-between gap-3 mb-4",children:r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("h3",{className:"font-bold text-gray-900 text-base group-hover:text-brand-700 transition-colors",children:B.title}),r.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[B.completionDate?new Date(B.completionDate).toLocaleDateString():null,B.createdAt?`  added ${O8(B.createdAt)}`:null]})]})}),B.category&&r.jsx("div",{className:"mb-3",children:r.jsx("span",{className:"inline-flex items-center bg-brand-100 text-brand-700 px-3 py-1 rounded-full text-sm font-medium",children:B.category})}),Array.isArray(B.technologies)&&B.technologies.length>0&&r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[B.technologies.slice(0,8).map((ee,q)=>r.jsx("span",{className:"bg-gray-100 text-gray-700 px-2.5 py-1 rounded-md text-xs font-medium",children:ee},`${B.id}-tech-${q}`)),B.technologies.length>8&&r.jsxs("span",{className:"text-xs text-gray-500 px-2.5 py-1",children:["+",B.technologies.length-8," more"]})]})}),B.description&&r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mb-4 line-clamp-3",children:B.description}),Array.isArray(B.attachments)&&B.attachments.length>0&&r.jsxs("div",{className:"mb-4 space-y-4",children:[B.attachments.filter(ee=>ee==null?void 0:ee.isImage).length>0&&r.jsxs("div",{children:[r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:B.attachments.filter(ee=>ee==null?void 0:ee.isImage).slice(0,6).map((ee,q)=>{const K=ee.base64url||ee.url;return K?r.jsx("a",{href:K,target:"_blank",rel:"noreferrer",title:ee.name||"Image",className:"block group/image",children:r.jsx("div",{className:"aspect-video rounded-lg border-2 border-gray-200 group-hover/image:border-brand-300 transition-colors overflow-hidden",children:r.jsx("img",{src:K,alt:ee.name||B.title,className:"w-full h-full object-cover group-hover/image:scale-105 transition-transform duration-200",loading:"lazy"})})},`${B.id}-img-${q}`):null})}),B.attachments.filter(ee=>ee==null?void 0:ee.isImage).length>6&&r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["+",B.attachments.filter(ee=>ee==null?void 0:ee.isImage).length-6," more images"]})]}),B.attachments.filter(ee=>!(ee!=null&&ee.isImage)).length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Documents"}),r.jsxs("div",{className:"space-y-2",children:[B.attachments.filter(ee=>!(ee!=null&&ee.isImage)).slice(0,4).map((ee,q)=>{const K=ee.base64url||ee.url||"#",ce=ee.name||"document";return r.jsxs("a",{href:K,target:"_blank",rel:"noreferrer",download:ce,className:"flex items-center gap-3 p-2 rounded-lg border border-gray-200 hover:border-brand-300 hover:bg-brand-50 transition-colors group/doc",title:ce,children:[r.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded flex items-center justify-center flex-shrink-0",children:r.jsx(Lo,{size:14,className:"text-gray-500 group-hover/doc:text-brand-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover/doc:text-brand-700 truncate flex-1",children:ce})]},`${B.id}-doc-${q}`)}),B.attachments.filter(ee=>!(ee!=null&&ee.isImage)).length>4&&r.jsxs("p",{className:"text-xs text-gray-500 ml-11",children:["+",B.attachments.filter(ee=>!(ee!=null&&ee.isImage)).length-4," more documents"]})]})]})]}),B.projectUrl&&r.jsx("div",{className:"pt-3 border-t border-gray-100",children:r.jsxs("a",{href:B.projectUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-sm font-medium text-brand-600 hover:text-brand-700 transition-colors",children:[r.jsx(Lo,{size:16}),"View Project"]})})]},B.id))})]}),Array.isArray(s.cvBase64)&&s.cvBase64.length>0&&!1,T.length>0&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[r.jsxs("div",{className:"md:flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2 max-md:mb-4",children:[r.jsx(SH,{size:20,className:"text-brand-600"}),"Posts and activities"]}),r.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[r.jsxs("button",{onClick:()=>W("posts"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${H==="posts"?"bg-white text-brand-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Posts (",T.length,")"]}),r.jsxs("button",{onClick:()=>W("images"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${H==="images"?"bg-white text-brand-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Images ",I.length+R.length>0&&`(${I.length+R.length})`]}),r.jsxs("button",{onClick:()=>W("videos"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${H==="videos"?"bg-white text-brand-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Videos (",Te.length,")"]})]})]}),r.jsx("div",{className:"space-y-4",children:j?r.jsx("div",{className:"text-sm text-gray-600",children:"Loading content..."}):r.jsxs(r.Fragment,{children:[H==="posts"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E?x.map(mt):T.slice(0,4).map(mt)}),T.length>4&&r.jsx("div",{className:"flex justify-center pt-2",children:r.jsxs("button",{onClick:()=>S(!E),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-brand-600 bg-brand-50 hover:bg-brand-100 rounded-lg transition-colors duration-200",children:[r.jsx("span",{children:E?"View Less":`View All ${T.length} posts`}),r.jsx(Lo,{size:16,className:`transition-transform duration-200 ${E?"rotate-180":""}`})]})})]}),H==="images"&&r.jsx(r.Fragment,{children:M?r.jsx("div",{className:"text-sm text-gray-600",children:"Loading gallery..."}):r.jsxs(r.Fragment,{children:[I.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"text-brand-600",children:""}),"Gallery (",I.length,")"]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:I.map((B,ee)=>r.jsxs("div",{className:"group relative aspect-square rounded-lg overflow-hidden border border-gray-200 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>{[...I.map(K=>({url:K.imageUrl,alt:K.title||"Gallery image",type:"gallery",itemId:K.id,itemTitle:K.title||"Gallery image"})),...R],_(ee)},children:[r.jsx("img",{src:B.imageUrl,alt:B.title||"Gallery image",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",loading:"lazy"}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-end p-3",children:r.jsxs("div",{className:"text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("div",{className:"font-medium",children:"Gallery"}),r.jsx("div",{className:"truncate",children:B.title||"Gallery image"})]})})]},`gallery-${B.id}`))})]}),R.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"text-brand-600",children:""}),"From Posts (",R.length,")"]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:R.map((B,ee)=>r.jsxs("div",{className:"group relative aspect-square rounded-lg overflow-hidden border border-gray-200 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>{[...I.map(K=>({url:K.imageUrl,alt:K.title||"Gallery image",type:"gallery",itemId:K.id,itemTitle:K.title||"Gallery image"})),...R];const q=I.length+ee;_(q)},children:[r.jsx("img",{src:B.url,alt:B.alt,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",loading:"lazy"}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-end p-3",children:r.jsxs("div",{className:"text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("div",{className:"font-medium capitalize",children:B.type}),r.jsx("div",{className:"truncate",children:B.itemTitle})]})})]},`${B.itemId}-${ee}`))})]}),I.length===0&&R.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("div",{className:"text-sm",children:"No images found"}),r.jsx("div",{className:"text-xs mt-1",children:"Images from posts and gallery will appear here"})]})]})}),H==="videos"&&r.jsx(r.Fragment,{children:j?r.jsx("div",{className:"text-sm text-gray-600",children:"Loading videos..."}):r.jsx(r.Fragment,{children:Te.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Te.map((B,ee)=>r.jsx("div",{className:"group relative aspect-video rounded-lg overflow-hidden border border-gray-200 hover:shadow-lg transition-shadow cursor-pointer bg-black",onClick:()=>it(ee),children:r.jsxs("div",{className:"relative w-full h-full",children:[r.jsx("video",{src:B.url,className:"w-full h-full object-cover opacity-80 group-hover:opacity-60 transition-opacity",preload:"metadata"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-90 rounded-full flex items-center justify-center group-hover:bg-opacity-100 transition-all",children:r.jsx("svg",{className:"w-6 h-6 text-gray-900 ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M8 5v14l11-7z"})})})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-3",children:r.jsxs("div",{className:"text-white text-xs",children:[r.jsx("div",{className:"font-medium capitalize truncate",children:B.type}),r.jsx("div",{className:"truncate opacity-90",children:B.itemTitle||"Video"})]})})]})},`${B.itemId}-${ee}`))}):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Ji,{size:48,className:"mx-auto mb-3 text-gray-300"}),r.jsx("div",{className:"text-sm",children:"No videos found"}),r.jsx("div",{className:"text-xs mt-1",children:"Videos from posts will appear here"})]})})})]})})]}),Object.keys(s.stats).some(B=>s.stats[B])&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Ku,{size:20,className:"text-brand-600"}),"Overview"]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:(()=>{var K,ce,ye,Ze,ut,we,Ee,Ie,Ve,ht,ft,ct;const B=[],ee=s.counts||{},q=(xt,ve)=>{ve&&B.push(r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"font-bold text-brand-600 text-lg",children:ve}),r.jsx("p",{className:"text-gray-500 text-xs",children:xt})]},xt))};return q("Jobs",(ce=ee.jobs)!=null?ce:(K=s.stats)==null?void 0:K.jobs),q("Events",(Ze=ee.events)!=null?Ze:(ye=s.stats)==null?void 0:ye.events),q("Funding",(we=ee.funding)!=null?we:(ut=s.stats)==null?void 0:ut.funding),q("Services",(Ee=ee.services)!=null?Ee:s.stats.services),q("Products",(Ve=ee.products)!=null?Ve:(Ie=s.stats)==null?void 0:Ie.products),q("Tourism posts",(ft=ee.tourism)!=null?ft:(ht=s.stats)==null?void 0:ht.tourism),q("Connections",(ct=s.stats)==null?void 0:ct.connections),B})()})]}),r.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 mb-6 ${(se==null?void 0:se.id)==(s==null?void 0:s.id)?"hidden":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[r.jsx(To,{size:20,className:"text-brand-600"}),"Meetings"]}),(s==null?void 0:s.connectionStatus)=="connected"&&!((_t=s==null?void 0:s.block)!=null&&_t.iBlockedThem)&&!((Ct=s==null?void 0:s.block)!=null&&Ct.theyBlockedMe)&&r.jsxs("button",{onClick:Ne,className:"inline-flex items-center gap-2 px-3 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 transition-colors text-sm",children:[r.jsx(To,{size:16}),"Request Meeting"]})]}),Ce.length>0?r.jsx("div",{className:"space-y-3",children:Ce.map(B=>{var Ze,ut,we,Ee,Ie,Ve,ht,ft,ct,xt,ve;const ee=Date.now();let q,K,ce;try{const Fe=new Date(B.isoStart);if(isNaN(Fe.getTime()))ce="Upcoming";else{q=Fe.getTime();const et=g5e(B.isoStart,Number(B.duration)||30);K=et?new Date(et).getTime():q+(Number(B.duration)||30)*60*1e3,ce=ee<q?"Upcoming":ee>K?"Ended":"Ongoing"}}catch(Fe){ce="Upcoming"}const ye=((Ze=B.participants)==null?void 0:Ze.some(Fe=>Fe.id===(se==null?void 0:se.id)))||((ut=B.from)==null?void 0:ut.id)===(se==null?void 0:se.id)||((we=B.to)==null?void 0:we.id)===(se==null?void 0:se.id);return r.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"font-semibold text-sm text-gray-900 truncate",children:B.title||"Untitled meeting"}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${ce==="Upcoming"?"bg-blue-100 text-blue-700":ce==="Ongoing"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:ce}),!ye&&r.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-700",children:"Observer"})]}),r.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:[m5e(B.isoStart,B.timezone,B.duration),"  ",B.mode==="video"?"Online":"In person"]}),r.jsxs("div",{className:"flex items-center gap-4 mb-2 text-xs text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{children:"Organized by:"}),r.jsxs("button",{onClick:()=>{var Fe;return ae(`/profile/${(Fe=B.from)==null?void 0:Fe.id}`)},className:"text-brand-600 hover:text-brand-700 font-medium flex items-center gap-1",children:[(Ee=B.from)!=null&&Ee.avatarUrl?r.jsx("img",{src:B.from.avatarUrl,alt:B.from.name,className:"w-4 h-4 rounded-full"}):r.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-200 flex items-center justify-center text-xs",children:yu((Ie=B.from)==null?void 0:Ie.name)}),(Ve=B.from)==null?void 0:Ve.name]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{children:"For:"}),r.jsxs("button",{onClick:()=>{var Fe;return ae(`/profile/${(Fe=B.to)==null?void 0:Fe.id}`)},className:"text-brand-600 hover:text-brand-700 font-medium flex items-center gap-1",children:[(ht=B.to)!=null&&ht.avatarUrl?r.jsx("img",{src:B.to.avatarUrl,alt:B.to.name,className:"w-4 h-4 rounded-full"}):r.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-200 flex items-center justify-center text-xs",children:yu((ft=B.to)==null?void 0:ft.name)}),(ct=B.to)==null?void 0:ct.name]})]})]}),B.mode==="in_person"&&B.location?r.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[" ",B.location]}):null,B.mode==="video"&&B.link?r.jsxs("div",{className:"text-xs text-gray-500 mb-2 truncate",children:[" ",B.link]}):null,B.agenda?r.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[" ",B.agenda]}):null,r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex -space-x-2",children:B.participants&&B.participants.map((Fe,et)=>r.jsx("button",{onClick:()=>ae(`/profile/${Fe.id}`),className:"transition-transform hover:scale-110 hover:z-10",title:Fe.name,children:Fe!=null&&Fe.avatarUrl?r.jsx("img",{src:Fe.avatarUrl,alt:Fe.name,className:"h-6 w-6 rounded-full border-2 border-white"}):r.jsx("div",{className:"h-6 w-6 rounded-full border-2 border-white bg-gray-200 flex items-center justify-center text-xs font-medium text-gray-600",children:yu(Fe.name)})},Fe.id))}),r.jsxs("span",{className:"text-xs text-gray-500",children:[((xt=B.participants)==null?void 0:xt.length)||0," participant",((ve=B.participants)==null?void 0:ve.length)!==1?"s":""]})]}),r.jsx("div",{className:"hidden sm:block mt-2",children:r.jsx("div",{className:"flex flex-wrap gap-1 text-xs text-gray-600",children:B.participants&&B.participants.map((Fe,et)=>r.jsxs("button",{onClick:()=>ae(`/profile/${Fe.id}`),className:"text-brand-600 hover:text-brand-700 transition-colors",children:[Fe.name,et<B.participants.length-1?",":""]},Fe.id))})})]})]}),r.jsx("div",{className:"shrink-0 flex items-center gap-2",children:B.mode==="video"?r.jsx("a",{href:B.link||"#",target:"_blank",rel:"noreferrer",title:"Open call link",className:"inline-flex items-center justify-center rounded-md px-3 py-1.5 text-xs font-medium bg-brand-500 text-white hover:bg-brand-600",onClick:Fe=>{},children:"Join"}):B.location?r.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(B.location)}`,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-md px-3 py-1.5 text-xs font-medium bg-brand-50 text-brand-700 hover:bg-brand-100",children:"Open Map"}):null})]})},B.id)})}):r.jsxs("div",{className:"text-center py-4",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"No meetings yet."}),s.connectionStatus==="connected"&&r.jsxs("button",{onClick:Ne,className:"inline-flex items-center gap-2 px-3 py-1.5 bg-brand-600 text-white rounded-lg hover:bg-brand-700 transition-colors text-sm",children:[r.jsx(To,{size:16}),"Request Meeting"]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mt-6",children:[r.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Member since ",new Date(s.memberSince).toLocaleDateString(),"  ",O8(s.memberSince)]}),r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[se&&r.jsxs("button",{onClick:()=>Qe?Le():v(!0),className:`inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all
                    ${Qe?"border border-red-300 text-red-700 bg-red-50 hover:bg-red-100":"border border-gray-300 text-gray-700 bg-white hover:border-red-300 hover:text-red-700 hover:bg-red-50"}`,"aria-label":Qe?"Unblock user":"Block user",title:Qe?"Unblock user":"Block user",children:[r.jsx($H,{size:16}),r.jsx("span",{children:Qe?"Unblock user":"Block user"})]}),r.jsxs("button",{onClick:()=>y(!0),className:"inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 text-gray-700 bg-white hover:border-amber-300 hover:text-amber-700 hover:bg-amber-50 transition-all","aria-label":"Report user",title:"Report user",children:[r.jsx(ro,{size:16}),r.jsx("span",{children:"Report user"})]})]})]})]})]}),r.jsx(Yn,{open:f,onClose:()=>h(!1),toUserId:e,toName:s==null?void 0:s.name,onSent:()=>{a(he(te({},s),{connectionStatus:"outgoing_pending"}))}}),r.jsx(p5e,{open:V,onClose:()=>ne(!1),toUserId:e,toName:s==null?void 0:s.name,onCreated:B=>{gt(B)}}),r.jsx(is,{open:g,onClose:()=>m(!1),title:"Remove this connection?",text:"This action will remove the connection. You can send a new request later.",confirmText:"Remove",cancelText:"Cancel",tone:"danger",withInput:!0,inputLabel:"Optional reason",inputPlaceholder:"Why are you removing this connection?",inputType:"textarea",requireValue:!1,onConfirm:Pe,onResult:B=>{oe.success("Connection removed")}}),r.jsx(is,{open:p,onClose:()=>v(!1),title:"Block this user?",text:"They won't be able to message or connect with you. Any connection and pending requests will be removed.",confirmText:"Block",cancelText:"Cancel",tone:"danger",withInput:!0,inputLabel:"Optional note",inputPlaceholder:"Why are you blocking this user?",inputType:"textarea",requireValue:!1,onConfirm:De}),r.jsx(is,{open:b,onClose:()=>y(!1),title:"Report this user?",text:"Tell us what's going on. Our team will review.",confirmText:"Submit report",cancelText:"Cancel",tone:"default",withInput:!0,inputLabel:"Report details",inputPlaceholder:"Describe the issue (spam, harassment, impersonation, etc.)",inputType:"textarea",requireValue:!0,onConfirm:Ae}),r.jsx($b,{isOpen:He,onClose:()=>ze(!1),mediaUrl:s==null?void 0:s.avatarUrl,mediaType:"image",alt:`${s==null?void 0:s.name}'s profile picture`}),r.jsx($b,{isOpen:rt,onClose:()=>Xe(!1),mediaUrl:s==null?void 0:s.coverImage,mediaType:"image",alt:`${s==null?void 0:s.name}'s cover image`}),_e&&Y.length>0&&r.jsx(ff,{urls:Y,initialIndex:de,onClose:()=>{be(!1),ie([]),$e(0)}}),X&&z.length>0&&r.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-black bg-opacity-90",children:r.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full mx-4",children:[r.jsx("button",{onClick:U,className:"absolute top-4 right-4 z-20 text-white hover:text-gray-300 transition-colors bg-black bg-opacity-50 hover:bg-opacity-70 rounded-full p-2","aria-label":"Close image slider",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),r.jsxs("div",{className:"relative aspect-video bg-black rounded-lg overflow-hidden",children:[r.jsx("img",{src:z[Z].url,alt:z[Z].alt,className:"w-full h-full object-contain"}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4",children:r.jsxs("div",{className:"text-white",children:[r.jsx("div",{className:"text-sm font-medium capitalize",children:z[Z].type}),r.jsx("div",{className:"text-sm opacity-90 truncate",children:z[Z].itemTitle})]})})]}),z.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:re,className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 text-white hover:text-gray-300 transition-colors bg-black bg-opacity-50 hover:bg-opacity-70 rounded-full p-2","aria-label":"Previous image",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),r.jsx("button",{onClick:Q,className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 text-white hover:text-gray-300 transition-colors bg-black bg-opacity-50 hover:bg-opacity-70 rounded-full p-2","aria-label":"Next image",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),r.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 text-white text-sm bg-black bg-opacity-70 px-3 py-1 rounded-full",children:[Z+1," of ",z.length]}),z.length>1&&r.jsx("div",{className:"absolute bottom-16 left-1/2 -translate-x-1/2 z-10 flex gap-2 max-w-2xl overflow-x-auto",children:z.map((B,ee)=>r.jsx("button",{onClick:()=>F(ee),className:`flex-shrink-0 w-16 h-12 rounded border-2 transition-all ${ee===Z?"border-white opacity-100":"border-gray-400 opacity-60 hover:opacity-80"}`,children:r.jsx("img",{src:B.url,alt:B.alt,className:"w-full h-full object-cover rounded"})},`${B.itemId}-${ee}`))})]})})]})})}const y5e="/assets/logo-icon-DIY8H_gB.png",b5e={logo:()=>r.jsx("svg",{className:"h-5 w-5 text-white flex-shrink-0",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M9 21V8H4l8-6 8 6h-5v13z"})}),grid:()=>r.jsx("svg",{className:"h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M3 3h8v8H3zM13 3h8v8h-8zM3 13h8v8H3zM13 13h8v8h-8z"})}),users:()=>r.jsx("svg",{className:"h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M16 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4ZM2 20a6 6 0 0 1 12 0v1H2Z"})}),flag:()=>r.jsxs("svg",{className:"h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"M4 3h12l-1.5 4H20l-2 6H8l-1.5-4H4z"}),r.jsx("path",{d:"M4 3v18"})]}),chart:()=>r.jsxs("svg",{className:"h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"M3 20h18v2H3z"}),r.jsx("path",{d:"M7 18V8h3v10H7zm7 0V4h3v14h-3zM12 18v-6h3v6h-3z"})]}),gear:()=>r.jsxs("svg",{className:"h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"m12 2 2 2 3-1 2 3-2 2 1 3-3 2v3l-3 1-2-2-3 1-2-3 2-2-1-3 3-2V6z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3",fill:"#fff"})]}),bell:()=>r.jsx("svg",{className:"h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 22a2.5 2.5 0 0 0 2.45-2H9.55A2.5 2.5 0 0 0 12 22ZM18 16v-5a6 6 0 1 0-12 0v5l-1.8 1.8A1 1 0 0 0 5 20h14a1 1 0 0 0 .8-1.6Z"})}),search:()=>r.jsxs("svg",{className:"h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"11",cy:"11",r:"7"}),r.jsx("path",{d:"M21 21l-3.5-3.5"})]}),mail:()=>r.jsx("svg",{className:"h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})}),help:()=>r.jsxs("svg",{className:"h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),r.jsx("path",{d:"M12 17h.01"})]})};function w5e(){const{user:e,loading:t,signOut:n}=Xt(),{pathname:s}=bs(),a=Ht(),[i,o]=d.useState(!1),[l,c]=d.useState(0),[u,f]=d.useState(0),h=[{to:"/admin",label:"Dashboard",icon:"grid"},{to:"/admin/users",label:"User Management",icon:"users"},{to:"/admin/contacts",label:"Contact Management",icon:"mail",badge:u},{to:"/admin/supports",label:"Support Management",icon:"help",badge:l},{to:"/admin/content-moderation",label:"Content Moderation",icon:"flag"},{to:"/admin/notification-center",label:"Notification Center",icon:"bell"}],g=()=>pe(this,null,function*(){try{const p=yield C$();c(p.data.count||0)}catch(p){console.error("Error fetching unread supports count:",p)}}),m=()=>pe(this,null,function*(){try{const p=yield S$();f(p.data.count||0)}catch(p){console.error("Error fetching unread contacts count:",p)}});return d.useEffect(()=>{(e==null?void 0:e.accountType)!="admin"&&e&&a("/login")},[e]),d.useEffect(()=>{!t&&!e&&a("/login")},[e]),d.useEffect(()=>{const p=()=>pe(this,null,function*(){try{const[v,b]=yield Promise.all([C$(),S$()]);c(v.data.count||0),f(b.data.count||0)}catch(v){console.error("Error fetching unread counts:",v)}});if((e==null?void 0:e.accountType)==="admin"){p();const v=setInterval(p,3e4);return()=>clearInterval(v)}},[e]),d.useEffect(()=>(window.refreshUnreadSupportsCount=g,window.refreshUnreadContactsCount=m,()=>{delete window.refreshUnreadSupportsCount,delete window.refreshUnreadContactsCount}),[]),t||(e==null?void 0:e.accountType)!="admin"?r.jsx(Xa,{}):(console.log({pathname:s}),r.jsxs("div",{className:"min-h-screen bg-[#F6F7FB] text-gray-900",children:[r.jsx("header",{className:"sticky top-0 z-40 bg-white border-b border-gray-200",children:r.jsxs("div",{className:"h-14 mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 flex items-center gap-4",children:[r.jsxs(zn,{to:"/admin",className:"flex items-center gap-2",children:[r.jsx("img",{src:y5e,width:30}),r.jsxs("div",{className:"leading-tight",children:[r.jsx("div",{className:"font-semibold",children:"54Links Admin"}),r.jsx("div",{className:"text-[11px] text-gray-500 -mt-0.5",children:"Dashboard"})]})]}),r.jsx("div",{className:"ml-auto flex items-center gap-3",children:r.jsx("button",{onClick:()=>o(!0),className:"px-3 py-1.5 bg-red-500 text-white text-sm rounded-lg hover:bg-red-600 transition-colors",children:"Logout"})})]})}),r.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6 grid grid-cols-12 gap-6",children:[r.jsx("aside",{className:"col-span-12 md:col-span-3 lg:col-span-2",children:r.jsx("div",{className:"rounded-2xl border border-gray-200 bg-white p-2",children:h.map(p=>r.jsxs(hie,{to:p.to,className:({isActive:v})=>`flex items-center gap-2 px-3 py-2 rounded-lg text-sm mb-2 ${s==p.to?"bg-brand-50 text-brand-700 font-semibold":"text-gray-700 hover:bg-gray-50"}`,children:[dr.createElement(b5e[p.icon]),p.label,p.badge>0&&r.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full ml-auto",children:p.badge})]},p.label))})}),r.jsx("main",{className:"col-span-12 md:col-span-9 lg:col-span-10",children:r.jsx(zE,{})})]}),r.jsx(is,{open:i,onClose:()=>o(!1),title:"Logout Confirmation",text:"Are you sure you want to logout? You will be redirected to the login page.",confirmText:"Logout",cancelText:"Cancel",tone:"danger",onConfirm:n})]}))}const aa=({title:e,value:t,delta:n,icon:s,tone:a="gray",sub:i,loading:o=!1})=>{const l={gray:"bg-gray-50 text-gray-600",amber:"bg-amber-50 text-amber-600",green:"bg-emerald-50 text-emerald-600",rose:"bg-rose-50 text-rose-600",brand:"bg-brand-50 text-brand-700",blue:"bg-blue-50 text-blue-600"};return o?r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 animate-pulse",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),r.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded-md"})]}),r.jsx("div",{className:"mt-1 h-8 bg-gray-200 rounded w-16"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-24 mt-1"})]}):r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm text-gray-500",children:e}),r.jsx("div",{className:`h-8 w-8 grid place-items-center rounded-md ${l[a]}`,children:s})]}),r.jsx("div",{className:"mt-1 text-2xl font-bold",children:t}),n&&r.jsx("div",{className:`text-xs mt-1 ${l[a]||l.gray}`,children:n}),i&&r.jsx("div",{className:"text-[11px] text-gray-400 mt-1",children:i})]})},j5e=({activities:e,loading:t=!1,title:n="Recent Activity"})=>t?r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[r.jsx("div",{className:"h-5 bg-gray-200 rounded w-32 mb-4"}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.jsx("div",{className:"space-y-3",children:[...Array(5)].map((s,a)=>r.jsxs("div",{className:"flex items-center py-3 animate-pulse",children:[r.jsx("div",{className:"h-4 w-4 bg-gray-200 rounded mr-3"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-1"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]},a))})})]}):r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[r.jsx("div",{className:"font-semibold mb-4",children:n}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.jsx("ul",{className:"divide-y divide-gray-100",children:e&&e.length>0?e.map((s,a)=>{const i=r.jsxs("li",{className:`py-3 flex items-center ${s.url,""}`,children:[r.jsx("span",{className:"mr-3 text-lg",children:s.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium",children:s.title}),r.jsx("div",{className:"text-xs text-gray-500",children:s.description})]}),r.jsx("div",{className:"text-xs text-gray-500",children:s.timestamp?new Date(s.timestamp).toLocaleString():"Just now"})]},s.id||a);return s.url,i}):r.jsx("li",{className:"py-8 text-center text-gray-500",children:"No recent activity"})})})]}),N5e=({data:e,loading:t=!1,title:n="Content Distribution"})=>{if(t)return r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[r.jsx("div",{className:"h-5 bg-gray-200 rounded w-40 mb-4"}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("div",{className:"w-36 h-36 bg-gray-200 rounded-full animate-pulse"}),r.jsx("div",{className:"space-y-2",children:[...Array(6)].map((o,l)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-3 w-3 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]},l))})]})]});const s=Object.values(e||{}).reduce((o,l)=>o+(l||0),0),a=[{label:"Jobs",value:(e==null?void 0:e.jobs)||0,color:"#3B82F6",bgColor:"bg-blue-500",percentage:s>0?(((e==null?void 0:e.jobs)||0)/s*100).toFixed(1):0},{label:"Events",value:(e==null?void 0:e.events)||0,color:"#10B981",bgColor:"bg-green-500",percentage:s>0?(((e==null?void 0:e.events)||0)/s*100).toFixed(1):0},{label:"Services",value:(e==null?void 0:e.services)||0,color:"#8B5CF6",bgColor:"bg-purple-500",percentage:s>0?(((e==null?void 0:e.services)||0)/s*100).toFixed(1):0},{label:"Products",value:(e==null?void 0:e.products)||0,color:"#F97316",bgColor:"bg-orange-500",percentage:s>0?(((e==null?void 0:e.products)||0)/s*100).toFixed(1):0},{label:"Tourism",value:(e==null?void 0:e.tourism)||0,color:"#EC4899",bgColor:"bg-pink-500",percentage:s>0?(((e==null?void 0:e.tourism)||0)/s*100).toFixed(1):0},{label:"Funding",value:(e==null?void 0:e.funding)||0,color:"#6366F1",bgColor:"bg-indigo-500",percentage:s>0?(((e==null?void 0:e.funding)||0)/s*100).toFixed(1):0},{label:"Moments",value:(e==null?void 0:e.moments)||0,color:"#14B8A6",bgColor:"bg-teal-500",percentage:s>0?(((e==null?void 0:e.moments)||0)/s*100).toFixed(1):0},{label:"Needs",value:(e==null?void 0:e.needs)||0,color:"#EF4444",bgColor:"bg-red-500",percentage:s>0?(((e==null?void 0:e.needs)||0)/s*100).toFixed(1):0}].filter(o=>o.value>0),i=()=>{if(s===0)return r.jsx("div",{className:"w-36 h-36 rounded-full bg-gray-100 flex items-center justify-center text-gray-400 text-sm",children:"No Data"});let o=0;const l=a.map((c,u)=>{const f=o/100*360;o+=parseFloat(c.percentage);const h=o/100*360,g=f*Math.PI/180,m=h*Math.PI/180,p=16+16*Math.cos(g),v=16+16*Math.sin(g),b=16+16*Math.cos(m),y=16+16*Math.sin(m),x=h-f>180?1:0,w=`M 16 16 L ${p} ${v} A 16 16 0 ${x} 1 ${b} ${y} Z`;return r.jsx("path",{d:w,fill:c.color,stroke:"white",strokeWidth:"0.5"},u)});return r.jsx("svg",{viewBox:"0 0 32 32",className:"w-36 h-36",children:l})};return r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[r.jsx("div",{className:"font-semibold mb-4",children:n}),r.jsxs("div",{className:"flex items-center gap-6",children:[i(),r.jsxs("ul",{className:"text-sm space-y-1 flex-1",children:[a.map((o,l)=>r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`inline-block h-3 w-3 rounded-sm ${o.bgColor}`}),r.jsx("span",{className:"flex-1",children:o.label}),r.jsxs("span",{className:"text-gray-500 text-xs",children:[o.value," (",o.percentage,"%)"]})]},l)),a.length===0&&r.jsx("li",{className:"text-gray-500 text-sm",children:"No content data available"})]})]})]})},S5e=({data:e,loading:t=!1,title:n="User Growth"})=>{var c,u,f,h;if(t)return r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[r.jsx("div",{className:"h-5 bg-gray-200 rounded w-32 mb-4"}),r.jsx("div",{className:"h-40 bg-gray-200 rounded animate-pulse"})]});if(!e||e.length===0)return r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[r.jsx("div",{className:"font-semibold mb-4",children:n}),r.jsx("div",{className:"h-40 flex items-center justify-center text-gray-500",children:"No growth data available"})]});const s=Math.max(...e.map(g=>g.users)),a=160,i=400,o=20,l=e.map((g,m)=>{const p=o+m/(e.length-1)*(i-2*o),v=a-o-g.users/s*(a-2*o);return`${p},${v}`}).join(" ");return r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[r.jsx("div",{className:"font-semibold mb-4",children:n}),r.jsxs("div",{className:"relative",children:[r.jsxs("svg",{viewBox:`0 0 ${i} ${a}`,className:"w-full h-40",children:[r.jsx("line",{x1:o,y1:a-o,x2:i-o,y2:a-o,className:"stroke-gray-200",strokeWidth:"1"}),r.jsx("polyline",{points:l,className:"fill-none stroke-brand-500",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),e.map((g,m)=>{const p=o+m/(e.length-1)*(i-2*o),v=a-o-g.users/s*(a-2*o);return r.jsx("circle",{cx:p,cy:v,r:"4",className:"fill-brand-500 stroke-white",strokeWidth:"2"},m)})]}),r.jsxs("div",{className:"absolute left-0 top-0 h-full flex flex-col justify-between text-xs text-gray-500 -ml-8",children:[r.jsx("span",{children:s}),r.jsx("span",{children:Math.round(s/2)}),r.jsx("span",{children:"0"})]}),r.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:[r.jsx("span",{children:(c=e[0])==null?void 0:c.date}),r.jsx("span",{children:(u=e[Math.floor(e.length/2)])==null?void 0:u.date}),r.jsx("span",{children:(f=e[e.length-1])==null?void 0:f.date})]})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-brand-600",children:((h=e[e.length-1])==null?void 0:h.users)||0}),r.jsx("div",{className:"text-xs text-gray-500",children:"Latest"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-green-600",children:Math.max(...e.map(g=>g.users))}),r.jsx("div",{className:"text-xs text-gray-500",children:"Peak"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-blue-600",children:e.length>0?Math.round(e.reduce((g,m)=>g+m.users,0)/e.length*10)/10:0}),r.jsx("div",{className:"text-xs text-gray-500",children:"Daily Avg"})]})]})]})},C5e=({loading:e=!1})=>{const t=[{title:"User Management",description:"Manage users, view profiles, handle suspensions",icon:r.jsx(lx,{size:20}),link:"/admin/users",color:"bg-blue-50 text-blue-600 hover:bg-blue-100"},{title:"Content Moderation",description:"Review reported content, manage approvals",icon:r.jsx(PH,{size:20}),link:"/admin/content-moderation",color:"bg-red-50 text-red-600 hover:bg-red-100"}];return e?r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[r.jsx("div",{className:"h-5 bg-gray-200 rounded w-32 mb-4"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[...Array(4)].map((n,s)=>r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg animate-pulse",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"h-5 w-5 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-3"}),r.jsx("div",{className:"h-8 bg-gray-200 rounded w-20"})]},s))})]}):r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[r.jsx("div",{className:"font-semibold mb-4",children:"Quick Actions"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t.map((n,s)=>r.jsxs(zn,{to:n.link,className:`p-4 border border-gray-200 rounded-lg transition-colors ${n.color}`,children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.icon,r.jsx("h3",{className:"font-medium text-sm",children:n.title})]}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:n.description}),r.jsxs("div",{className:"text-xs font-medium",children:["Go to ",n.title," "]})]},s))})]})};function k5e(){var g,m,p,v,b,y,x,w,j,N,L,k,E,S,I,C,M,A,H,W,X,J,Z;const[e,t]=d.useState({users:{total:0,active:0,suspended:0,newToday:0,growth:{daily:0,weekly:0,monthly:0}},connections:{total:0,pendingRequests:0},content:{total:0,distribution:{jobs:0,events:0,services:0,products:0,tourism:0,funding:0,moments:0,needs:0}},moderation:{reported:0,underReview:0,approved:0,removed:0,suspended:0,today:{approved:0,removed:0}},engagement:{likes:0,comments:0,reports:0},communication:{messages:0,conversations:0,meetingRequests:0},notifications:{total:0},organizations:{companies:0,pendingJoinRequests:0},demographics:{identities:[],goals:[]}}),[n,s]=d.useState([]),[a,i]=d.useState([]),[o,l]=d.useState(!0),[c,u]=d.useState(!1),f=(F=!1)=>pe(this,null,function*(){var D,O;try{F?u(!0):l(!0);const[T,R,z]=yield Promise.all([s4e(),a4e(10),i4e(30)]);t(T.data||T),i(((D=R.data)==null?void 0:D.activities)||R.activities||[]),s(((O=z.data)==null?void 0:O.growth)||z.growth||[])}catch(T){console.error("Error loading dashboard data:",T),oe.error("Failed to load dashboard data")}finally{l(!1),u(!1)}});d.useEffect(()=>{f()},[]);const h=()=>{f(!0)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Dashboard Overview"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Monitor platform activity and manage content"})]}),r.jsxs("button",{onClick:h,disabled:c,className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50",children:[r.jsx(OH,{size:16,className:c?"animate-spin":""}),"Refresh"]})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(aa,{title:"Total Users",value:(((g=e.users)==null?void 0:g.total)||0).toLocaleString(),delta:`+${((p=(m=e.users)==null?void 0:m.growth)==null?void 0:p.monthly)||0}% from last month`,icon:"",tone:"brand",loading:o}),r.jsx(aa,{title:"Active Users",value:(((v=e.users)==null?void 0:v.active)||0).toLocaleString(),delta:`+${((y=(b=e.users)==null?void 0:b.growth)==null?void 0:y.weekly)||0}% from last week`,icon:"",tone:"green",loading:o}),r.jsx(aa,{title:"Suspended Users",value:(((x=e.users)==null?void 0:x.suspended)||0).toLocaleString(),icon:"",tone:"rose",loading:o}),r.jsx(aa,{title:"Pending Reports",value:(((w=e.moderation)==null?void 0:w.reported)||0).toLocaleString(),delta:"Requires attention",icon:"",tone:"rose",loading:o})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(aa,{title:"Total Content",value:(((j=e.content)==null?void 0:j.total)||0).toLocaleString(),icon:"",tone:"blue",loading:o}),r.jsx(aa,{title:"Jobs Posted",value:(((N=e.content.distribution)==null?void 0:N.jobs)||0).toLocaleString(),icon:"",tone:"blue",loading:o}),r.jsx(aa,{title:"Events Created",value:(((L=e.content.distribution)==null?void 0:L.events)||0).toLocaleString(),icon:"",tone:"green",loading:o}),r.jsx(aa,{title:"Services Offered",value:(((k=e.content.distribution)==null?void 0:k.services)||0).toLocaleString(),icon:"",tone:"purple",loading:o})]}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[r.jsx(S5e,{data:n,loading:o,title:"User Growth (30 Days)"}),r.jsx(N5e,{data:e.content.distribution,loading:o,title:"Content Distribution"})]}),r.jsx(j5e,{activities:a,loading:o,title:"Recent Activity"}),r.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(aa,{title:"Under Review",value:(((E=e.moderation)==null?void 0:E.underReview)||0).toLocaleString(),icon:"",tone:"amber",loading:o}),r.jsx(aa,{title:"Approved Today",value:(((I=(S=e.moderation)==null?void 0:S.today)==null?void 0:I.approved)||0).toLocaleString(),icon:"",tone:"green",loading:o}),r.jsx(aa,{title:"Removed Today",value:(((M=(C=e.moderation)==null?void 0:C.today)==null?void 0:M.removed)||0).toLocaleString(),icon:"",tone:"rose",loading:o}),r.jsx(aa,{title:"Total Moderated",value:((((A=e.moderation)==null?void 0:A.approved)||0)+(((H=e.moderation)==null?void 0:H.removed)||0)).toLocaleString(),icon:"",tone:"gray",loading:o})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(aa,{title:"Total Connections",value:(((W=e.connections)==null?void 0:W.total)||0).toLocaleString(),icon:"",tone:"blue",loading:o}),r.jsx(aa,{title:"Pending Requests",value:(((X=e.connections)==null?void 0:X.pendingRequests)||0).toLocaleString(),icon:"",tone:"amber",loading:o}),r.jsx(aa,{title:"Total Likes",value:(((J=e.engagement)==null?void 0:J.likes)||0).toLocaleString(),icon:"",tone:"pink",loading:o}),r.jsx(aa,{title:"Total Comments",value:(((Z=e.engagement)==null?void 0:Z.comments)||0).toLocaleString(),icon:"",tone:"blue",loading:o})]}),r.jsx(C5e,{loading:o})]})}const yN=({children:e,color:t="green"})=>{const n={brand:"bg-brand-50 text-brand-700",green:"bg-green-100 text-green-700",rose:"bg-rose-100 text-rose-700",gray:"bg-gray-100 text-gray-700"};return r.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${n[t]||n.gray}`,children:e})},Yv=({title:e,value:t,delta:n,tone:s="emerald",loading:a=!1})=>{const i={emerald:"text-emerald-600",rose:"text-rose-600",brand:"text-brand-700",gray:"text-gray-600"};return a?r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-16 mb-2 animate-pulse"}),r.jsx("div",{className:"h-8 bg-gray-200 rounded w-12 mb-1 animate-pulse"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-20 animate-pulse"})]}):r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[r.jsx("div",{className:"text-sm text-gray-500",children:e}),r.jsx("div",{className:"mt-1 text-2xl font-bold",children:t}),n?r.jsx("div",{className:`text-xs mt-1 ${i[s]||i.gray}`,children:n}):null]})};function E5e(){const[e,t]=d.useState([]),[n,s]=d.useState(!0),[a,i]=d.useState({total:0,page:1,limit:10,totalPages:0}),[o,l]=d.useState({search:"",accountType:"all",isVerified:"",sortBy:"createdAt",sortOrder:"DESC"}),[c,u]=d.useState(new Set),[f,h]=d.useState(!1),[g,m]=d.useState(null),[p,v]=d.useState(!1),[b,y]=d.useState(!1),[x,w]=d.useState(!1),[j,N]=d.useState({total:0,active:0,suspended:0,newToday:0});d.useEffect(()=>{L()},[a.page,a.limit,o]);const L=()=>pe(this,null,function*(){try{s(!0);const{data:J}=yield Zje({page:a.page,limit:a.limit,search:o.search,accountType:o.accountType,isVerified:o.isVerified,sortBy:o.sortBy,sortOrder:o.sortOrder});t(J.users),J.pagination&&i(J.pagination),J.pagination&&J.pagination.total&&N(Z=>he(te({},Z),{total:J.pagination.total,active:J.users.filter(F=>F.isVerified).length,suspended:J.users.filter(F=>!F.isVerified).length,newToday:Z.newToday}))}catch(J){console.error("Error fetching users:",J),oe.error("Failed to load users")}finally{s(!1)}}),k=(J,Z)=>{l(F=>he(te({},F),{[J]:Z})),i(F=>he(te({},F),{page:1}))},E=J=>{u(Z=>{const F=new Set(Z);return F.has(J)?F.delete(J):F.add(J),F})},S=J=>{J<1||J>a.totalPages||i(Z=>he(te({},Z),{page:J}))},I=J=>pe(this,null,function*(){try{w(!0);const{data:Z}=yield s0(J);m(Z),v(!0)}catch(Z){console.error("Error fetching user details:",Z),oe.error("Failed to load user details")}finally{w(!1)}}),C=J=>{m(J),y(!0)},M=()=>pe(this,null,function*(){var J,Z;try{w(!0),yield Qje(g.id),oe.success("User deleted successfully"),y(!1),L()}catch(F){console.error("Error deleting user:",F),oe.error(((Z=(J=F==null?void 0:F.response)==null?void 0:J.data)==null?void 0:Z.message)||"Failed to delete user")}finally{w(!1)}}),A=(J,Z)=>pe(this,null,function*(){try{const F=yield Kje(J,!Z);F.data&&F.data.isVerified!==void 0?(t(D=>D.map(O=>O.id===J?he(te({},O),{isVerified:F.data.isVerified}):O)),oe.success(F.data.isVerified?"User unsuspended successfully":"User suspended successfully")):(L(),oe.success(Z?"User unsuspended successfully":"User suspended successfully"))}catch(F){console.error("Error toggling user suspension:",F),oe.error("Failed to update user status")}}),H=(J="csv")=>pe(this,null,function*(){try{J==="excel"?yield X(e):yield e4e({format:J,filters:{search:o.search,accountType:o.accountType==="all"?"":o.accountType,isVerified:o.isVerified===""?void 0:o.isVerified==="true"}}),oe.success(`Users exported as ${J.toUpperCase()} successfully`)}catch(Z){console.error("Error exporting users:",Z),oe.error("Failed to export users")}}),W=J=>pe(this,null,function*(){var Z,F;try{w(!0),yield xm(g.id,J),oe.success("User updated successfully"),v(!1),L()}catch(D){console.error("Error updating user:",D),oe.error(((F=(Z=D==null?void 0:D.response)==null?void 0:Z.data)==null?void 0:F.message)||"Failed to update user")}finally{w(!1)}}),X=J=>{const Z=J.map(T=>{var R,z,_;return{ID:T.id,Name:T.name,Email:T.email,Phone:T.phone||"","Account Type":T.accountType,Status:T.isVerified?"Active":"Suspended",Country:T.country||"","Country of Residence":T.countryOfResidence||"",City:T.city||"",Nationality:T.nationality||"","Joined Date":new Date(T.createdAt).toLocaleDateString(),"Professional Title":((R=T.profile)==null?void 0:R.professionalTitle)||"","Experience Level":((z=T.profile)==null?void 0:z.experienceLevel)||"",About:((_=T.profile)==null?void 0:_.about)||""}}),F=Xi.json_to_sheet(Z),D=Xi.book_new();Xi.book_append_sheet(D,F,"Users");const O=`users_export_${new Date().toISOString().split("T")[0]}.xlsx`;Dje(D,O)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"User Management"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Manage and monitor platform users"})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(Yv,{title:"Total Users",value:j.total.toString(),tone:"brand",loading:n&&j.total===0}),r.jsx(Yv,{title:"Active Users",value:j.active.toString(),loading:n&&j.active===0}),r.jsx(Yv,{title:"Suspended",value:j.suspended.toString(),tone:"rose",loading:n&&j.suspended===0}),r.jsx(Yv,{title:"New Today",value:j.newToday.toString(),loading:n&&j.newToday===0})]}),r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 w-full sm:w-auto",children:[r.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[r.jsx(Ja,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search name or email",className:"w-full sm:w-64 pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-brand-500/30 focus:border-brand-500 text-sm",value:o.search,onChange:J=>k("search",J.target.value)})]}),r.jsxs("button",{onClick:()=>h(!f),className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[r.jsx(Kce,{size:16}),"Filters",f?r.jsx(R0,{size:16}):r.jsx(id,{size:16})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>H("csv"),className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:[r.jsx(La,{size:16}),"CSV"]}),r.jsxs("button",{onClick:()=>H("excel"),className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors",children:[r.jsx(La,{size:16}),"Excel"]}),r.jsxs("button",{onClick:()=>H("json"),className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors",children:[r.jsx(La,{size:16}),"JSON"]})]})]}),f&&r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type"}),r.jsxs("select",{className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30 focus:border-brand-500",value:o.accountType,onChange:J=>k("accountType",J.target.value),children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"individual",children:"Individual"}),r.jsx("option",{value:"company",children:"Company"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs("select",{className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30 focus:border-brand-500",value:o.isVerified,onChange:J=>k("isVerified",J.target.value),children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"true",children:"Active"}),r.jsx("option",{value:"false",children:"Suspended"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),r.jsxs("select",{className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30 focus:border-brand-500",value:o.sortBy,onChange:J=>k("sortBy",J.target.value),children:[r.jsx("option",{value:"createdAt",children:"Join Date"}),r.jsx("option",{value:"name",children:"Name"}),r.jsx("option",{value:"email",children:"Email"})]})]})]})})]}),r.jsx("div",{className:"space-y-4",children:n&&e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-brand-500"}),r.jsx("p",{className:"mt-2 text-gray-500",children:"Loading users..."})]}):e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 mb-2",children:r.jsx(Ja,{size:48,className:"mx-auto"})}),r.jsx("p",{className:"text-gray-500",children:"No users found matching your criteria."})]}):e.map(J=>{const Z=c.has(J.id);return r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white overflow-hidden hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"p-4 border-b border-gray-100",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx("div",{className:"flex-shrink-0",children:J.avatarUrl?r.jsx("img",{src:J.avatarUrl,alt:"",className:"h-12 w-12 rounded-full object-cover"}):r.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-semibold",children:J.name.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[r.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:J.name}),r.jsx(yN,{color:J.accountType=="admin"?"gray":J.accountType=="company"?"brand":"green",children:J.accountType}),J.isVerified?r.jsx(yN,{color:"green",children:"Active"}):r.jsx(yN,{color:"rose",children:"Suspended"})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-1",children:J.email}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[r.jsx("span",{children:J.city?`${J.city}, ${J.country}`:J.country||"Location not set"}),r.jsxs("span",{children:["Joined ",new Date(J.createdAt).toLocaleDateString()]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[r.jsx("button",{onClick:()=>E(J.id),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:Z?"Show less":"Show more",children:Z?r.jsx(R0,{size:16}):r.jsx(id,{size:16})}),r.jsx(zn,{to:`/admin/user-profile/${J.id}`,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"View profile",children:r.jsx(Uu,{size:16})}),r.jsx("button",{onClick:()=>I(J.id),className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit user",children:r.jsx(Ql,{size:16})}),r.jsx("button",{onClick:()=>A(J.id,J.isVerified),className:`p-2 rounded-lg transition-colors ${J.isVerified?"text-orange-600 hover:text-orange-700 hover:bg-orange-50":"text-green-600 hover:text-green-700 hover:bg-green-50"}`,title:J.isVerified?"Suspend user":"Activate user",children:J.isVerified?r.jsx(sw,{size:16}):r.jsx(nw,{size:16})}),r.jsx("button",{onClick:()=>C(J),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",title:"Delete user",children:r.jsx(On,{size:16})})]})]})}),Z&&r.jsx("div",{className:"px-4 pb-4",children:r.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Contact Information"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Email:"})," ",J.email]}),J.phone&&r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Phone:"})," ",J.phone]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Location Details"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[J.country&&r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Country:"})," ",J.country]}),J.countryOfResidence&&r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Country of Residence:"})," ",J.countryOfResidence]}),J.city&&r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"City:"})," ",J.city]}),J.nationality&&r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Nationality:"})," ",J.nationality]})]})]})]}),J.profile&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Profile Information"}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[J.profile.professionalTitle&&r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Professional Title:"})," ",J.profile.professionalTitle]}),J.profile.experienceLevel&&r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Experience Level:"})," ",J.profile.experienceLevel]}),J.profile.about&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"About:"}),r.jsx("p",{className:"mt-1 text-gray-700",children:J.profile.about})]})]})]})]})})]},J.id)})}),a.totalPages>1&&r.jsx("div",{className:"rounded-xl border border-gray-200 bg-white px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[r.jsxs("div",{children:["Showing ",e.length>0?(a.page-1)*a.limit+1:0," to"," ",Math.min(a.page*a.limit,a.total)," of ",a.total," results"]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>S(a.page-1),disabled:a.page===1,className:`px-2.5 py-1.5 rounded-md border ${a.page===1?"opacity-50 cursor-not-allowed":""}`,children:"Previous"}),Array.from({length:Math.min(5,a.totalPages)},(J,Z)=>{let F;return a.totalPages<=5||a.page<=3?F=Z+1:a.page>=a.totalPages-2?F=a.totalPages-4+Z:F=a.page-2+Z,r.jsx("button",{onClick:()=>S(F),className:`px-2.5 py-1.5 rounded-md ${a.page===F?"bg-brand-500 text-white":"border"}`,children:F},F)}),r.jsx("button",{onClick:()=>S(a.page+1),disabled:a.page===a.totalPages,className:`px-2.5 py-1.5 rounded-md border ${a.page===a.totalPages?"opacity-50 cursor-not-allowed":""}`,children:"Next"})]})]})}),p&&g&&r.jsx(L5e,{user:g,onClose:()=>v(!1),onSave:W,loading:x}),b&&g&&r.jsx(M5e,{user:g,onClose:()=>y(!1),onConfirm:M,loading:x})]})}function L5e({user:e,onClose:t,onSave:n,loading:s}){var c,u,f;const[a,i]=d.useState({name:e.name||"",email:e.email||"",phone:e.phone||"",accountType:e.accountType||"individual",isVerified:e.isVerified||!1,country:e.country||"",countryOfResidence:e.countryOfResidence||"",city:e.city||"",nationality:e.nationality||"",profile:{professionalTitle:((c=e.profile)==null?void 0:c.professionalTitle)||"",experienceLevel:((u=e.profile)==null?void 0:u.experienceLevel)||"",about:((f=e.profile)==null?void 0:f.about)||""}}),o=h=>{const{name:g,value:m,type:p,checked:v}=h.target;if(g.includes(".")){const[b,y]=g.split(".");i(x=>he(te({},x),{[b]:he(te({},x[b]),{[y]:p==="checkbox"?v:m})}))}else i(b=>he(te({},b),{[g]:p==="checkbox"?v:m}))},l=h=>{h.preventDefault(),n(a)};return r.jsx("div",{style:{marginTop:0},className:"fixed  inset-0 bg-black bg-opacity-50 flex items-center justify-center px-4 z-50",children:r.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Edit User"}),r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:""})]}),r.jsxs("form",{onSubmit:l,children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),r.jsx("input",{type:"text",name:"name",className:"w-full border rounded-lg px-3 py-2",value:a.name,onChange:o,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),r.jsx("input",{type:"email",name:"email",className:"w-full border rounded-lg px-3 py-2",value:a.email,onChange:o,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),r.jsx("input",{type:"text",name:"phone",className:"w-full border rounded-lg px-3 py-2",value:a.phone,onChange:o})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Country"}),r.jsx("input",{type:"text",name:"country",className:"w-full border rounded-lg px-3 py-2",value:a.country,onChange:o})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Country of Residence"}),r.jsx("input",{type:"text",name:"countryOfResidence",className:"w-full border rounded-lg px-3 py-2",value:a.countryOfResidence,onChange:o})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"City"}),r.jsx("input",{type:"text",name:"city",className:"w-full border rounded-lg px-3 py-2",value:a.city,onChange:o})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nationality"}),r.jsx("input",{type:"text",name:"nationality",className:"w-full border rounded-lg px-3 py-2",value:a.nationality,onChange:o})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Professional Title"}),r.jsx("input",{type:"text",name:"profile.professionalTitle",className:"w-full border rounded-lg px-3 py-2",value:a.profile.professionalTitle,onChange:o})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"About"}),r.jsx("textarea",{name:"profile.about",rows:"3",className:"w-full border rounded-lg px-3 py-2",value:a.profile.about,onChange:o})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"isVerified",checked:a.isVerified,onChange:o,className:"mr-2"}),r.jsx("span",{children:"Verified Account"})]})})]}),r.jsx("div",{className:"flex justify-end gap-3 mt-6",children:r.jsxs("div",{className:"flex justify-between w-full",children:[r.jsx(zn,{to:`/admin/user-profile/${e.id}`,className:"px-4 py-2 bg-blue-600 text-white rounded-lg",children:"Advanced Editing"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border rounded-lg",disabled:s,children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-700 text-white rounded-lg",disabled:s,children:s?"Saving...":"Save Changes"})]})]})})]})]})})})}function M5e({user:e,onClose:t,onConfirm:n,loading:s}){return r.jsx("div",{style:{marginTop:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Confirm Deletion"}),r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:""})]}),r.jsxs("p",{className:"mb-6",children:["Are you sure you want to delete the user ",r.jsx("strong",{children:e.name}),"? This action cannot be undone."]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 border rounded-lg",disabled:s,children:"Cancel"}),r.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-600 text-white rounded-lg",disabled:s,children:s?"Deleting...":"Delete User"})]})]})})})}const bN=({icon:e,title:t,value:n,tone:s="gray",sub:a,loading:i=!1})=>{const o={gray:"bg-gray-50 text-gray-600",amber:"bg-amber-50 text-amber-600",green:"bg-emerald-50 text-emerald-600",rose:"bg-rose-50 text-rose-600",brand:"bg-brand-50 text-brand-700"};return i?r.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-9 w-9 bg-gray-200 rounded-lg animate-pulse"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-3 bg-gray-200 rounded w-20 mb-1 animate-pulse"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded w-12 mb-1 animate-pulse"}),r.jsx("div",{className:"h-2 bg-gray-200 rounded w-16 animate-pulse"})]})]})}):r.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`h-9 w-9 grid place-items-center rounded-lg ${o[s]}`,children:e}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500",children:t}),r.jsx("div",{className:"text-xl font-bold leading-tight",children:n}),a&&r.jsx("div",{className:"text-[11px] text-gray-400",children:a})]})]})})},$8=({children:e,color:t="gray"})=>{const n={gray:"bg-gray-100 text-gray-700",amber:"bg-amber-100 text-amber-700",green:"bg-emerald-100 text-emerald-700",rose:"bg-rose-100 text-rose-700",brand:"bg-brand-50 text-brand-700"};return r.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-semibold ${n[t]}`,children:e})};function I5e(){const[e,t]=d.useState("all"),[n,s]=d.useState("all");d.useState("All");const[a,i]=d.useState(!1),[o,l]=d.useState([]),[c,u]=d.useState(new Set),[f,h]=d.useState({}),[g,m]=d.useState({reported:0,underReview:0,approved:0,removed:0,suspended:0,today:{approved:0,removed:0}}),[p,v]=d.useState(!0),[b,y]=d.useState({page:1,limit:10,total:0,totalPages:0}),x=()=>pe(this,null,function*(){try{i(!0);const S=yield t4e({page:b.page,limit:b.limit,contentType:e,moderationStatus:n,sortBy:"createdAt",sortOrder:"DESC"});S.data&&S.data.content?(l(S.data.content),y(S.data.pagination||{page:1,limit:10,total:S.data.content.length,totalPages:Math.ceil(S.data.content.length/10)})):(l([]),y({page:1,limit:10,total:0,totalPages:0}))}catch(S){console.error("Error fetching content:",S),oe.error("Failed to fetch content for moderation")}finally{i(!1)}}),w=()=>pe(this,null,function*(){var S,I;try{v(!0);const C=yield n4e();C.data&&m({reported:C.data.reported||0,underReview:C.data.underReview||0,approved:C.data.approved||0,removed:C.data.removed||0,suspended:C.data.suspended||0,today:{approved:((S=C.data.today)==null?void 0:S.approved)||0,removed:((I=C.data.today)==null?void 0:I.removed)||0}})}catch(C){console.error("Error fetching stats:",C)}finally{v(!1)}}),j=(S,I,C)=>pe(this,null,function*(){try{try{yield r4e(S,C,I),oe.success(`Content status updated to ${I}`),x(),w()}catch(M){console.error("Error updating status:",M),oe.error("Failed to update content status. Please try again.")}}catch(M){console.error("Error updating status:",M),oe.error("Failed to update content status")}}),N=S=>{y(I=>he(te({},I),{page:S}))},L=S=>{u(I=>{const C=new Set(I);return C.has(S)?C.delete(S):C.add(S),C})},k=(S,I)=>{h(C=>he(te({},C),{[`${S}-${I}`]:!C[`${S}-${I}`]}))};d.useEffect(()=>{x(),w()},[]),d.useEffect(()=>{x()},[e,n,b.page,b.limit]);const E=o;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Content Moderation"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Review and manage platform content"})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(bN,{icon:r.jsx("span",{children:""}),title:"Pending Reports",value:g.reported,tone:"rose",loading:p&&g.reported===0}),r.jsx(bN,{icon:r.jsx("span",{children:""}),title:"Under Review",value:g.underReview,tone:"amber",loading:p&&g.underReview===0}),r.jsx(bN,{icon:r.jsx("span",{children:""}),title:"Approved Today",value:g.today.approved,tone:"green",loading:p&&g.today.approved===0})]}),r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"font-semibold",children:"Content Queue"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("select",{value:e,onChange:S=>{t(S.target.value),y(I=>he(te({},I),{page:1}))},className:"rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm",children:[r.jsx("option",{value:"all",children:"All Post Types"}),r.jsx("option",{value:"job",children:"Jobs"}),r.jsx("option",{value:"event",children:"Events"}),r.jsx("option",{value:"product",children:"Products"}),r.jsx("option",{value:"service",children:"Services"}),r.jsx("option",{value:"tourism",children:"Tourism"}),r.jsx("option",{value:"funding",children:"Opportunities"}),r.jsx("option",{value:"moment",children:"Experience"}),r.jsx("option",{value:"need",children:"Need / Offer"})]}),r.jsxs("select",{value:n,onChange:S=>{s(S.target.value),y(I=>he(te({},I),{page:1}))},className:"rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm",children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"reported",children:"Reported"}),r.jsx("option",{value:"under_review",children:"Under Review"}),r.jsx("option",{value:"suspended",children:"Suspended"})]}),r.jsx("button",{onClick:x,className:"inline-flex items-center gap-2 rounded-lg px-3 py-2 text-sm text-white bg-brand-500 hover:bg-brand-600",children:r.jsx(OH,{size:12})})]})]}),r.jsx("div",{className:"mt-4 space-y-4",children:a?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-brand-500"}),r.jsx("p",{className:"mt-2 text-gray-500",children:"Loading content..."})]}):E.length===0?r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500",children:"No content found matching the selected filters."})}):E.map(S=>{var H,W,X,J,Z;const I=c.has(S.id),C=S.reports&&S.reports.length>0,M=S.comments&&S.comments.length>0,A=S.likes&&S.likes.length>0;return r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white overflow-hidden",children:[r.jsx("div",{className:"p-4 border-b border-gray-100",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[r.jsx("img",{src:((H=S.postedBy)==null?void 0:H.avatarUrl)||"https://i.pravatar.cc/80",className:"h-10 w-10 rounded-full object-cover flex-shrink-0",alt:""}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("div",{className:"font-medium",children:((W=S.postedBy)==null?void 0:W.name)||"User"}),r.jsx($8,{color:S.moderation_status==="reported"?"rose":S.moderation_status==="under_review"?"amber":S.moderation_status==="approved"?"green":S.moderation_status==="removed"||S.moderation_status==="suspended"?"rose":"gray",children:S.moderation_status==="reported"?"Reported":S.moderation_status==="under_review"?"Under Review":S.moderation_status==="approved"?"Approved":S.moderation_status==="removed"?"Removed":S.moderation_status==="suspended"?"Suspended":"Unknown"}),r.jsx($8,{color:"brand",children:S.contentType})]}),r.jsx("div",{className:"text-[11px] text-gray-500 mt-1",children:new Date(S.createdAt).toLocaleString()})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 ml-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>window.open(`${window.location.origin}/${S.contentType}/${S.id}`,"_blank"),className:"inline-flex items-center gap-1 px-2 sm:px-3 py-1.5 text-xs sm:text-sm font-medium text-blue-700 bg-blue-100 hover:bg-blue-200 rounded-lg transition-colors flex-1 sm:flex-none",title:"View item on public page",children:[r.jsx(Uu,{size:14}),r.jsx("span",{className:"hidden sm:inline",children:"View"})]}),r.jsxs("button",{onClick:()=>j(S.id,"approved",S.contentType),className:"inline-flex items-center gap-1 px-2 sm:px-3 py-1.5 text-xs sm:text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors flex-1 sm:flex-none",title:"Approve content",children:[r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsx("span",{className:"sm:hidden",children:""}),"Approve"]}),r.jsxs("button",{onClick:()=>j(S.id,"under_review",S.contentType),className:"inline-flex items-center gap-1 px-2 sm:px-3 py-1.5 text-xs sm:text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors flex-1 sm:flex-none",title:"Mark for review",children:[r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsx("span",{className:"sm:hidden",children:""}),"Review"]})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs("button",{onClick:()=>j(S.id,"suspended",S.contentType),className:"inline-flex items-center gap-1 px-2 sm:px-3 py-1.5 text-xs sm:text-sm font-medium text-white bg-amber-600 hover:bg-amber-700 rounded-lg transition-colors flex-1 sm:flex-none",title:"Suspend content",children:[r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsx("span",{className:"sm:hidden",children:""}),"Suspend"]})})]})]})}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-semibold text-lg mb-2",children:S.title}),r.jsx("div",{dangerouslySetInnerHTML:{__html:S.description||"No description provided."},className:`text-gray-700 ${I?"":"line-clamp-3"}`}),!I&&S.description&&S.description.length>200&&r.jsx("button",{onClick:()=>L(S.id),className:"text-brand-600 hover:text-brand-700 text-sm font-medium mt-2",children:"Show more"}),I&&S.description&&S.description.length>200&&r.jsx("button",{onClick:()=>L(S.id),className:"text-brand-600 hover:text-brand-700 text-sm font-medium mt-2",children:"Show less"})]}),r.jsxs("div",{className:"px-4 pb-4",children:[r.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ro,{size:16}),r.jsxs("span",{children:[((X=S.stats)==null?void 0:X.reports)||0," reports"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(os,{size:16}),r.jsxs("span",{children:[((J=S.stats)==null?void 0:J.likes)||0," likes"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(zC,{size:16}),r.jsxs("span",{children:[((Z=S.stats)==null?void 0:Z.comments)||0," comments"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[C&&r.jsxs("div",{className:"border border-red-200 rounded-lg",children:[r.jsxs("button",{onClick:()=>k(S.id,"reports"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-red-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ro,{size:16,className:"text-red-600"}),r.jsxs("span",{className:"font-medium text-red-700",children:["Reports (",S.reports.length,")"]})]}),f[`${S.id}-reports`]?r.jsx(R0,{size:16,className:"text-red-600"}):r.jsx(id,{size:16,className:"text-red-600"})]}),f[`${S.id}-reports`]&&r.jsx("div",{className:"px-3 pb-3 space-y-2",children:S.reports.map(F=>{var D,O;return r.jsxs("div",{className:"bg-red-50 p-3 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("img",{src:((D=F.reporter)==null?void 0:D.avatarUrl)||"https://i.pravatar.cc/32",className:"h-6 w-6 rounded-full",alt:""}),r.jsx("span",{className:"font-medium text-sm",children:((O=F.reporter)==null?void 0:O.name)||"User"}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(F.createdAt).toLocaleString()})]}),r.jsx("div",{className:"text-sm text-gray-700",children:F.description})]},F.id)})})]}),M&&r.jsxs("div",{className:"border border-blue-200 rounded-lg",children:[r.jsxs("button",{onClick:()=>k(S.id,"comments"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-blue-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zC,{size:16,className:"text-blue-600"}),r.jsxs("span",{className:"font-medium text-blue-700",children:["Comments (",S.comments.length,")"]})]}),f[`${S.id}-comments`]?r.jsx(R0,{size:16,className:"text-blue-600"}):r.jsx(id,{size:16,className:"text-blue-600"})]}),f[`${S.id}-comments`]&&r.jsx("div",{className:"px-3 pb-3 space-y-2",children:S.comments.map(F=>{var D,O;return r.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("img",{src:((D=F.user)==null?void 0:D.avatarUrl)||"https://i.pravatar.cc/32",className:"h-6 w-6 rounded-full",alt:""}),r.jsx("span",{className:"font-medium text-sm",children:((O=F.user)==null?void 0:O.name)||"User"}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(F.createdAt).toLocaleString()})]}),r.jsx("div",{className:"text-sm text-gray-700",children:F.content||"No content"})]},F.id)})})]}),A&&r.jsxs("div",{className:"border border-pink-200 rounded-lg",children:[r.jsxs("button",{onClick:()=>k(S.id,"likes"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-pink-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(os,{size:16,className:"text-pink-600"}),r.jsxs("span",{className:"font-medium text-pink-700",children:["Likes (",S.likes.length,")"]})]}),f[`${S.id}-likes`]?r.jsx(R0,{size:16,className:"text-pink-600"}):r.jsx(id,{size:16,className:"text-pink-600"})]}),f[`${S.id}-likes`]&&r.jsx("div",{className:"px-3 pb-3",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:S.likes.map(F=>{var D,O;return r.jsxs("div",{className:"bg-pink-50 p-2 rounded-md flex items-center gap-2",children:[r.jsx("img",{src:((D=F.user)==null?void 0:D.avatarUrl)||"https://i.pravatar.cc/24",className:"h-5 w-5 rounded-full",alt:""}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-medium text-xs truncate",children:((O=F.user)==null?void 0:O.name)||"User"}),r.jsx("div",{className:"text-[10px] text-gray-500",children:new Date(F.createdAt).toLocaleString()})]})]},F.id)})})})]})]})]})]},S.id)})}),r.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600",children:[r.jsxs("div",{children:["Showing ",E.length>0?(b.page-1)*b.limit+1:0," to ",Math.min(b.page*b.limit,b.total)," of ",b.total," results"]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>N(Math.max(1,b.page-1)),disabled:b.page===1,className:`px-2.5 py-1.5 rounded-md border ${b.page===1?"opacity-50 cursor-not-allowed":""}`,children:"Previous"}),Array.from({length:Math.min(5,b.totalPages)},(S,I)=>{let C;return b.totalPages<=5||b.page<=3?C=I+1:b.page>=b.totalPages-2?C=b.totalPages-4+I:C=b.page-2+I,r.jsx("button",{onClick:()=>N(C),className:`px-2.5 py-1.5 rounded-md ${b.page===C?"bg-brand-500 text-white":"border"}`,children:C},C)}),r.jsx("button",{onClick:()=>N(Math.min(b.totalPages,b.page+1)),disabled:b.page===b.totalPages,className:`px-2.5 py-1.5 rounded-md border ${b.page===b.totalPages?"opacity-50 cursor-not-allowed":""}`,children:"Next"})]})]})]})]})}const bu={primary:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",primaryWide:"w-full rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",ghost:"rounded-lg px-3 py-1.5 text-sm font-semibold border border-brand-600 text-brand-600 bg-white hover:bg-brand-50",chip:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs"},gy={trash:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M9 3h6l1 2h4v2H4V5h4l1-2Zm1 6h2v9h-2V9Zm4 0h2v9h-2V9ZM6 9h2v9H6V9Z"})}),chevron:()=>r.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"m6 9 6 6 6-6"})}),plus:()=>r.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})})};function T5e(e){return new Promise((t,n)=>{const s=new FileReader;s.onerror=n,s.onload=()=>t(s.result),s.readAsDataURL(e)})}function A5e({form:e,tags:t,images:n,audSel:s,audTree:a}){const i=dr.useMemo(()=>{const h=new Map,g=new Map,m=new Map,p=new Map;for(const v of a){h.set(String(v.id),v.name||v.title||`Identity ${v.id}`);for(const b of v.categories||[]){g.set(String(b.id),b.name||b.title||`Category ${b.id}`);for(const y of b.subcategories||[]){m.set(String(y.id),y.name||y.title||`Subcategory ${y.id}`);for(const x of y.subsubs||[])p.set(String(x.id),x.name||x.title||`Sub-sub ${x.id}`)}}}return{ids:h,cats:g,subs:m,subsubs:p}},[a]),o=Array.from(s.identityIds||[]).map(h=>i.ids.get(String(h))).filter(Boolean),l=Array.from(s.categoryIds||[]).map(h=>i.cats.get(String(h))).filter(Boolean),c=Array.from(s.subcategoryIds||[]).map(h=>i.subs.get(String(h))).filter(Boolean),u=Array.from(s.subsubCategoryIds||[]).map(h=>i.subsubs.get(String(h))).filter(Boolean),f=n&&n.length>0?n[0].base64url:null;return r.jsxs("div",{className:"mt-6 rounded-2xl bg-white border p-0 shadow-sm overflow-hidden",children:[f?r.jsxs("div",{className:"relative aspect-[16/6] w-full bg-gray-100",children:[r.jsx("img",{src:f,alt:"Experience cover",className:"h-full w-full object-cover"}),r.jsx("span",{className:"absolute left-4 top-4 bg-white/90 border-gray-200 text-gray-700 rounded-full px-2 py-0.5 text-xs font-medium",children:e.type||"Experience"})]}):null,r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"flex items-start justify-between gap-4",children:r.jsxs("div",{children:[e.title&&r.jsx("h1",{className:"text-xl font-bold",children:e.title||"Untitled Experience"}),r.jsx("p",{className:"mt-1 text-sm text-gray-700",children:e.description||"No description provided."})]})}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[r.jsxs("div",{className:"rounded-xl border p-4",children:[r.jsx("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:"Type"}),r.jsx("div",{className:"mt-2 text-sm text-gray-700",children:e.type||"Not specified"})]}),e.date&&r.jsxs("div",{className:"rounded-xl border p-4",children:[r.jsx("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:"Date"}),r.jsx("div",{className:"mt-2 text-sm text-gray-700",children:e.date})]}),(e.location||e.city||e.country)&&r.jsxs("div",{className:"rounded-xl border p-4",children:[r.jsx("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:"Address"}),r.jsx("div",{className:"mt-2 text-sm text-gray-700",children:[e.location,e.city,e.country].filter(Boolean).join(", ")||"Not specified"})]})]}),n&&n.length>1&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Media"}),r.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:n.slice(1).map((h,g)=>r.jsx("div",{className:"relative w-full aspect-[16/10] bg-gray-100 rounded-xl overflow-hidden border",children:h.type==="video"?r.jsx("video",{src:h.base64url,controls:!0,className:"h-full w-full object-cover",children:"Your browser does not support the video tag."}):r.jsx("img",{src:h.base64url,alt:h.name||`Experience image ${g+1}`,className:"h-full w-full object-cover"})},g))})]}),t&&t.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Tags"}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.map((h,g)=>r.jsx("span",{className:bu.chip,children:h},`${h}-${g}`))})]}),(o.length>0||l.length>0||c.length>0||u.length>0)&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Target Audience"}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[o.map(h=>r.jsx("span",{className:bu.chip,children:h},`i-${h}`)),l.map(h=>r.jsx("span",{className:bu.chip,children:h},`c-${h}`)),c.map(h=>r.jsx("span",{className:bu.chip,children:h},`s-${h}`)),u.map(h=>r.jsx("span",{className:bu.chip,children:h},`ss-${h}`)),!o.length&&!l.length&&!c.length&&!u.length&&r.jsx("span",{className:"text-sm text-gray-500",children:"Everyone"})]})]})]})]})}function Cc({value:e,onChange:t,options:n,placeholder:s="Select",disabled:a=!1,required:i=!1,ariaLabel:o}){const[l,c]=d.useState(!1),[u,f]=d.useState(""),[h,g]=d.useState(0),m=d.useRef(null),p=d.useRef(null),[v,b]=d.useState(!1),y=d.useMemo(()=>n.find(E=>String(E.value)===String(e))||null,[n,e]),x=d.useMemo(()=>{const E=u.trim().toLowerCase();return E?n.map(S=>({o:S,score:(S.label||"").toLowerCase().indexOf(E)})).filter(S=>S.score!==-1).sort((S,I)=>S.score-I.score).map(S=>S.o).slice(0,100):n.slice(0,100)},[u,n]),j=v||l||u!==""?u:(y==null?void 0:y.label)||"";d.useEffect(()=>{function E(S){m.current&&(m.current.contains(S.target)||c(!1))}return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]),d.useEffect(()=>{l||g(0)},[l,u]);function N(E){var S;t==null||t((E==null?void 0:E.value)||""),f(""),c(!1),(S=p.current)==null||S.blur()}function L(){var E;t==null||t(""),f(""),c(!1),(E=p.current)==null||E.focus()}function k(E){if(!a){if(!l&&(E.key==="ArrowDown"||E.key==="ArrowUp")){c(!0);return}if(!l){E.key==="Backspace"&&(E.preventDefault(),f(y&&!u?(y.label||"").slice(0,-1):(u||"").slice(0,-1)),c(!0));return}if(E.key==="ArrowDown")E.preventDefault(),g(S=>Math.min(S+1,x.length-1));else if(E.key==="ArrowUp")E.preventDefault(),g(S=>Math.max(S-1,0));else if(E.key==="Enter"){E.preventDefault();const S=x[h];S&&N(S)}else E.key==="Escape"&&c(!1)}}return r.jsxs("div",{ref:m,className:`relative ${a?"opacity-60":""}`,children:[r.jsxs("div",{className:"grid gap-1.5",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{ref:p,type:"text",value:j,disabled:a,placeholder:s,onChange:E=>{f(E.target.value),c(!0)},onFocus:()=>{a||(b(!0),c(!0))},onBlur:()=>b(!1),onKeyDown:k,"aria-autocomplete":"list","aria-expanded":l,"aria-controls":"ss-results","aria-label":o||s,role:"combobox",autoComplete:"off",className:"w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-16 focus:outline-none focus:ring-2 focus:ring-brand-200 text-black"}),y&&!a?r.jsx("button",{type:"button",onClick:L,className:"absolute right-8 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-gray-100",title:"Clear",children:""}):null,r.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:r.jsx(gy.chevron,{})})]}),i&&r.jsx("input",{tabIndex:-1,"aria-hidden":"true",className:"sr-only",required:!0,value:e||"",onChange:()=>{}})]}),l&&!a&&r.jsx("div",{id:"ss-results",role:"listbox",className:"absolute z-30 mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:x.length===0?r.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No results"}):r.jsx("ul",{className:"max-h-72 overflow-auto",children:x.map((E,S)=>{const I=S===h;return r.jsx("li",{role:"option","aria-selected":I,className:`cursor-pointer px-3 py-2 text-sm ${I?"bg-brand-50":"hover:bg-gray-50"}`,onMouseEnter:()=>g(S),onMouseDown:C=>{C.preventDefault(),N(E)},children:E.label},E.value)})})})]})}function w6({triggerImageSelection:e=!1,type:t,hideHeader:n=!1,onSuccess:s}){const a=Ht(),{id:i,type:o}=ea(),l=!!i,{user:c}=Xt(),[u,f]=d.useState(!1),[h,g]=d.useState(!!i),[m,p]=d.useState(!1),[v,b]=d.useState(!1),[y,x]=d.useState(0),[w,j]=d.useState({}),[N,L]=d.useState(null),[k,E]=d.useState("need"),[S,I]=d.useState(!1),[C,M]=d.useState(0),[A,H]=d.useState({title:"",description:"",type:"Achievement",date:"",location:"",country:"All countries",city:"",relatedEntityType:"",relatedEntityId:""}),[W,X]=d.useState(""),[J,Z]=d.useState([]),[F,D]=d.useState([]),[O,T]=d.useState([]),R=d.useRef(null),z=d.useRef(null),_=d.useRef(null),[U,Q]=d.useState([]),[re,le]=d.useState({categoryId:"",subcategoryId:"",subsubCategoryId:""}),[ue,ge]=d.useState([]),[ke,tt]=d.useState({categoryId:"",subcategoryId:"",subsubCategoryId:""}),He=[{value:"All countries",label:"All countries"},...An.map(Me=>({value:Me,label:Me}))],[ze,rt]=d.useState([]),[Xe,V]=d.useState(!0);d.useEffect(()=>{pe(this,null,function*(){try{const Oe=yield fetch("/data/cities.json");if(!Oe.ok)throw new Error("Failed to fetch cities");const We=yield Oe.json();rt(We)}catch(Oe){console.error("Error fetching cities:",Oe),oe.error("Failed to load cities data")}finally{V(!1)}})},[]);const ne=d.useMemo(()=>ze.slice(0,1e4).map(Me=>({value:Me.city,label:`${Me.city}${Me.country?`, ${Me.country}`:""}`,country:Me.country})),[ze]),Ce=d.useMemo(()=>A.country?String(A.country).split(",").map(Me=>Me.trim().toLowerCase()).filter(Boolean):[],[A.country]),fe=d.useMemo(()=>{if(Ce.length===0||Ce.includes("all countries"))return[];const Me=new Set(Ce);return ne.filter(Oe=>Me.has(Oe.country.toLowerCase()))},[Ce,ne]),[xe,se]=d.useState([]),[ae,G]=d.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set});d.useEffect(()=>{pe(this,null,function*(){try{let Me=A.relatedEntityType=="funding"?"opportunity":A.relatedEntityType;const Oe=Me?`?type=${Me}`:"?type=moment",{data:We}=yield Se.get(`/general-categories/tree${Oe}`);Q(We.generalCategories||[])}catch(Me){console.error("Failed to load general categories",Me)}})},[A.relatedEntityType]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:Me}=yield Se.get("/industry-categories/tree");ge(Me.industryCategories||[])}catch(Me){console.error("Failed to load industry categories",Me)}})},[]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:Me}=yield Se.get("/public/identities?type=all");se(Me.identities||[])}catch(Me){console.error(Me)}})},[]),d.useEffect(()=>{if(!l){const Me=t||o;Me&&(E(Me),be("relatedEntityType",Me))}},[t,o,l]),d.useImperativeHandle(_,()=>({pick:()=>{var Me;return(Me=R.current)==null?void 0:Me.click()}})),d.useEffect(()=>{if(e&&_.current){const Me=setTimeout(()=>{var Oe;(Oe=_.current)==null||Oe.pick()},100);return()=>clearTimeout(Me)}},[e]);const Ne=d.useMemo(()=>U.map(Me=>({value:Me.id,label:Me.name||`Category ${Me.id}`})),[U]),Be=d.useMemo(()=>{const Me=U.find(Oe=>Oe.id===re.categoryId);return((Me==null?void 0:Me.subcategories)||[]).map(Oe=>({value:Oe.id,label:Oe.name||`Subcategory ${Oe.id}`}))},[U,re.categoryId]),dt=d.useMemo(()=>{var We;const Me=U.find(qe=>qe.id===re.categoryId),Oe=(We=Me==null?void 0:Me.subcategories)==null?void 0:We.find(qe=>qe.id===re.subcategoryId);return((Oe==null?void 0:Oe.subsubcategories)||[]).map(qe=>({value:qe.id,label:qe.name||`Sub-sub ${qe.id}`}))},[U,re.categoryId,re.subcategoryId]),nt=d.useMemo(()=>ue.map(Me=>({value:Me.id,label:Me.name||`Category ${Me.id}`})),[ue]),Te=d.useMemo(()=>{const Me=ue.find(Oe=>Oe.id===ke.categoryId);return((Me==null?void 0:Me.subcategories)||[]).map(Oe=>({value:Oe.id,label:Oe.name||`Subcategory ${Oe.id}`}))},[ue,ke.categoryId]),lt=d.useMemo(()=>{var We;const Me=ue.find(qe=>qe.id===ke.categoryId),Oe=(We=Me==null?void 0:Me.subcategories)==null?void 0:We.find(qe=>qe.id===ke.subcategoryId);return((Oe==null?void 0:Oe.subsubs)||[]).map(qe=>({value:qe.id,label:qe.name||`Sub-sub ${qe.id}`}))},[ue,ke.categoryId,ke.subcategoryId]);d.useEffect(()=>{l&&pe(this,null,function*(){var Me,Oe,We,qe,vt,Ge,ot,Mt,_t;try{g(!0);const{data:Ct}=yield Se.get(`/moments/${i}?updated=true`),B=(_t=(Mt=(Ge=(qe=(Oe=(Me=Ct.ownerUserId)!=null?Me:Ct.createdById)!=null?Oe:Ct.userId)!=null?qe:(We=Ct.author)==null?void 0:We.id)!=null?Ge:(vt=Ct.owner)==null?void 0:vt.id)!=null?Mt:(ot=Ct.createdBy)==null?void 0:ot.id)!=null?_t:null;L(B),H(ee=>he(te(te({},ee),Ct),{title:Ct.title||"",description:Ct.description||"",type:Ct.type||"Achievement",date:Ct.date||"",location:Ct.location||"",relatedEntityType:Ct.relatedEntityType||"",relatedEntityId:Ct.relatedEntityId||""})),console.log({data:Ct}),Array.isArray(Ct.tags)&&Z(Ct.tags),Array.isArray(Ct.images)?D(Ct.images):D([]),Array.isArray(Ct.attachments)?T(Ct.attachments.map(ee=>({name:ee.name||"Attachment",base64url:ee.base64url||ee.url||""}))):T([]),le({categoryId:Ct.generalCategoryId||"",subcategoryId:Ct.generalSubcategoryId||"",subsubCategoryId:Ct.generalSubsubCategoryId||""}),tt({categoryId:Ct.industryCategoryId||"",subcategoryId:Ct.industrySubcategoryId||"",subsubCategoryId:Ct.industrySubsubCategoryId||""}),E(Ct.relatedEntityType||"need"),G({identityIds:new Set((Ct.audienceIdentities||[]).map(ee=>ee.id)),categoryIds:new Set((Ct.audienceCategories||[]).map(ee=>ee.id)),subcategoryIds:new Set((Ct.audienceSubcategories||[]).map(ee=>ee.id)),subsubCategoryIds:new Set((Ct.audienceSubsubs||[]).map(ee=>ee.id))}),g(!1)}catch(Ct){console.error(Ct),oe.error("Failed to load experience"),a("/feed")}})},[l,i,a]);const _e=l&&N&&(c==null?void 0:c.id)!==N;function be(Me,Oe){_e||H(We=>{const qe=he(te({},We),{[Me]:Oe});return Me==="country"&&Oe==="All countries"&&(qe.city=""),qe})}function Y(){if(_e)return;const Me=W.trim();Me&&(J.includes(Me)||Z(Oe=>[...Oe,Me]),X(""))}function ie(Me){_e||Z(Oe=>Oe.filter((We,qe)=>qe!==Me))}function de(){return A.relatedEntityType?A.description.trim()?null:"Description is required.":"Related entity type is required."}function $e(Me){return pe(this,null,function*(){if(_e)return;const Oe=Array.from(Me||[]);if(!Oe.length)return;const We=Oe.filter(Mt=>Mt.type.startsWith("image/")||Mt.type.startsWith("video/"));if(We.length!==Oe.length){oe.error("Only image and video files are allowed.");return}if(We.filter(Mt=>Mt.size>50*1024*1024).length){oe.error("Each file must be up to 50MB.");return}const vt=We.filter(Mt=>Mt.size<=50*1024*1024),Ge=20-F.length,ot=vt.slice(0,Math.max(0,Ge));try{b(!0),x(ot.length);const Mt={};ot.forEach(q=>{Mt[q.name]=0}),j(Mt);const _t=new FormData;ot.forEach(q=>{_t.append("media",q)});const B=(yield Se.post("/moments/upload-media",_t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:q=>{if(q.total){const K=Math.round(q.loaded*100/q.total),ce={};ot.forEach(ye=>{ce[ye.name]=K}),j(ce)}}})).data.filenames||[],ee=ot.map((q,K)=>({base64url:`${B[K]||q.name}`,name:q.name.replace(/\.[^/.]+$/,""),type:q.type.startsWith("video/")?"video":"image"}));D(q=>[...q,...ee]),j({})}catch(Mt){console.error("Error uploading media:",Mt),oe.error("Failed to upload media files"),j({})}finally{b(!1),x(0)}})}console.log({images:F});function it(Me,Oe){_e||D(We=>We.map((qe,vt)=>vt===Me?he(te({},qe),{name:Oe}):qe))}function gt(Me){_e||D(Oe=>Oe.filter((We,qe)=>qe!==Me))}function De(Me){M(Me),I(!0)}function Le(){I(!1)}const Ae=d.useMemo(()=>F.map(Me=>Me.base64url),[F]);function Pe(Me){return pe(this,null,function*(){if(_e)return;const Oe=Array.from(Me||[]);if(!Oe.length)return;const We=5*1024*1024,qe=Oe.filter(ot=>ot.size>We);if(qe.length>0){const ot=qe.map(Mt=>Mt.name).join(", ");oe.error(`Files exceeding 5MB limit: ${ot}`);return}const vt=20-O.length,Ge=vt>0?Oe.slice(0,vt):[];try{const ot=yield Promise.all(Ge.map(Mt=>pe(this,null,function*(){const _t=yield T5e(Mt);return{name:Mt.name,base64url:_t}})));T(Mt=>[...Mt,...ot])}catch(ot){console.error(ot),oe.error("Some files could not be read.")}})}function Qe(Me){_e||T(Oe=>Oe.filter((We,qe)=>qe!==Me))}function mt(Me){return pe(this,null,function*(){var We,qe;if(Me.preventDefault(),_e)return;const Oe=de();if(Oe)return oe.error(Oe);p(!0);try{const vt=Array.from(ae.identityIds),Ge=Array.from(ae.categoryIds),ot=Array.from(ae.subcategoryIds),Mt=Array.from(ae.subsubCategoryIds),_t={title:A.title,description:A.description,type:A.type,date:A.date||null,location:A.location||void 0,country:A.country||void 0,city:A.country==="All countries"?void 0:A.city||void 0,tags:J,images:F,attachments:O,identityIds:vt,categoryIds:Ge,subcategoryIds:ot,subsubCategoryIds:Mt,generalCategoryId:re.categoryId||null,generalSubcategoryId:re.subcategoryId||null,generalSubsubCategoryId:re.subsubCategoryId||null,industryCategoryId:ke.categoryId||null,industrySubcategoryId:ke.subcategoryId||null,industrySubsubCategoryId:ke.subsubCategoryId||null,relatedEntityType:A.relatedEntityType||null,relatedEntityId:A.relatedEntityId||null};l?(yield Se.put(`/moments/${i}`,_t),oe.success("Experience updated!")):(yield Se.post("/moments",_t),oe.success("Experience published!"),n&&s?s():window.history.state&&window.history.state.idx>0?a(-1):a("/"))}catch(vt){console.error(vt),oe.error(((qe=(We=vt==null?void 0:vt.response)==null?void 0:We.data)==null?void 0:qe.message)||"Could not save moment")}finally{p(!1)}})}return h&&i?r.jsx(Xa,{message:"Loading experience",tip:"Fetching..."}):r.jsxs("div",{className:"min-h-screen bg-[#F7F7FB] text-gray-900",children:[!n&&r.jsx(an,{page:"experiences"}),r.jsx("main",{className:`mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 ${n?"py-4":"py-8"}`,children:r.jsxs("div",{children:[!n&&r.jsxs("button",{onClick:()=>{window.history.state&&window.history.state.idx>0?a(-1):a("/")},className:"flex items-center gap-2 text-sm text-gray-600 hover:text-brand-600",type:"button",children:["  ",window.history.state&&window.history.state.idx>0?"Back":"Feed"]}),l&&!_e&&r.jsx("div",{children:r.jsx("h1",{className:"text-2xl font-bold mt-3",children:l?"Edit Experience":"Share Experience"})}),_e?r.jsx(A5e,{form:A,tags:J,images:F,audSel:ae,audTree:xe}):r.jsxs("form",{onSubmit:mt,className:"mt-6 rounded-2xl bg-white border border-gray-100 p-6 shadow-sm space-y-8",children:[n&&r.jsxs("section",{className:"hidden",children:[r.jsx("h2",{className:"font-semibold",children:"What is this experience about? *"}),r.jsx("div",{className:"mt-2 grid sm:grid-cols-2 gap-4",children:r.jsxs("select",{value:A.relatedEntityType,onChange:Me=>be("relatedEntityType",Me.target.value),className:"rounded-xl border border-gray-200 px-3 py-2 text-sm w-full bg-white focus:outline-none focus:ring-2 focus:ring-brand-200",children:[r.jsx("option",{value:"",children:"Select entity type"}),r.jsx("option",{value:"job",children:"Job"}),r.jsx("option",{value:"event",children:"Event"}),r.jsx("option",{value:"product",children:"Product"}),r.jsx("option",{value:"service",children:"Service"}),r.jsx("option",{value:"tourism",children:"Tourism"}),r.jsx("option",{value:"funding",children:"Funding"})]})})]}),r.jsx("section",{children:r.jsx("textarea",{value:A.description,onChange:Me=>be("description",Me.target.value),placeholder:A.relatedEntityType=="job"?(c==null?void 0:c.accountType)!="company"?"Share a professional experience, an achievement, milestone or learnings.":"Share a professional experience, an achievement, milestone or learnings, and inspire talents to join your organization or programs":A.relatedEntityType=="event"?(c==null?void 0:c.accountType)!="company"?"Share an experience of an event, an achievement, milestone or learning":"Share an experience of an event, an achievement, milestone or learning and inspire potential clients to experience it.":A.relatedEntityType=="product"?(c==null?void 0:c.accountType)!="company"?"Share an experience or review of a product and inspire others to experience it.":"Share an insight, achievement or experience with your products and inspire potential clients to experience it.":A.relatedEntityType=="service"?(c==null?void 0:c.accountType)!="company"?"Share an insight, achievement or experience with a service and inspire others to experience it. ":"Share an insight, achievement or experience with your services and inspire potential clients  to experience it.":A.relatedEntityType=="tourism"?(c==null?void 0:c.accountType)!="company"?"Share your experience with a tourism attraction and inspire others to experience it.":"Share an experience with your tourism services and invite potential clients to experience it.":A.relatedEntityType=="funding"?(c==null?void 0:c.accountType)!="company"?"Share an insight, learning or achievement related to funding and inspire others to experience it.":"Share an insight, learning or achievement related to your programs and inspire others to benefit from it.":A.relatedEntityType?`Share an experience of ${A.relatedEntityType}  an achievement, milestone, or learning`:"Share an experience  an achievement, milestone, or learning",__placeholder:"Example: Just launched our new product! Learned valuable lessons about scaling and user onboarding.",_placeholder:"Describe what happened, what you learned, challenges faced, outcomes",className:"mt-2 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",rows:5,required:!0})}),r.jsxs("section",{children:[r.jsx("h2",{className:"font-semibold text-[12px] text-gray-700",children:"Photos & Videos"}),r.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-600",children:[r.jsxs("div",{className:"flex justify-center items-center gap-3 mb-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(N0,{className:"h-4 w-4"}),r.jsx("span",{className:"text-xs",children:"Images"})]}),r.jsx("div",{className:"h-4 w-px bg-gray-300"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ji,{className:"h-4 w-4"}),r.jsx("span",{className:"text-xs",children:"Videos"})]})]}),"Upload images or videos showcasing your experience",r.jsxs("div",{className:"mt-3",children:[r.jsx("input",{ref:R,type:"file",multiple:!0,accept:"image/*,video/*",className:"hidden",onChange:Me=>$e(Me.target.files)}),r.jsx("button",{type:"button",onClick:()=>{var Me;return(Me=R.current)==null?void 0:Me.click()},className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Choose Files"})]}),(F.length>0||y>0)&&r.jsxs("div",{className:"mt-6 grid sm:grid-cols-2 gap-4 text-left",children:[F.map((Me,Oe)=>r.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 overflow-hidden grid place-items-center relative cursor-pointer",onClick:()=>De(Oe),children:Me.type==="video"?r.jsxs(r.Fragment,{children:[r.jsx("video",{src:Me.base64url,className:"h-full w-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:r.jsx(Ji,{className:"h-4 w-4 text-white"})})]}):r.jsx("img",{src:Me.base64url,alt:Me.name,className:"h-full w-full object-cover"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("input",{type:"text",value:Me.name,onChange:We=>it(Oe,We.target.value),placeholder:`${Me.type==="video"?"Video":"Image"} ${Oe+1} name`,className:"w-full text-sm font-medium border-none p-0 focus:outline-none focus:ring-0"}),r.jsxs("div",{className:"text-[11px] text-gray-500 truncate",children:[Me.type==="video"?"Video":"Image","  Attached"]})]}),r.jsx("button",{type:"button",onClick:()=>gt(Oe),className:"p-1 rounded hover:bg-gray-100",title:"Remove",children:r.jsx(gy.trash,{})})]},`${Me.base64url}-${Oe}`)),y>0&&Array.from({length:y}).map((Me,Oe)=>r.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-200 animate-pulse"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-1"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"}),v&&r.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-1.5",children:r.jsx("div",{className:"bg-brand-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${Object.values(w)[0]||0}%`}})})]}),r.jsx("div",{className:"h-8 w-8 rounded bg-gray-200 animate-pulse"})]},`img-skel-${Oe}`))]}),v&&Object.keys(w).length>0&&r.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Uploading ",Object.keys(w).length," file(s)..."]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[Object.values(w)[0],"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-brand-600 h-2 rounded-full transition-all duration-300",style:{width:`${Object.values(w)[0]||0}%`}})})]}),r.jsx("p",{className:"mt-2 text-[11px] text-gray-400",children:"Up to 50MB each. Supported formats: JPG, PNG, GIF, MP4, MOV"})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-[12px] font-medium text-gray-700",children:"Experience Type"}),r.jsx("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-3",children:(A.relatedEntityType==="job"||A.relatedEntityType==="event"?["Achievement","Learning experience","Motivational","Article/opinion"]:["Achievement","Recommendation","Milestone"]).map(Me=>r.jsx("button",{type:"button",onClick:()=>be("type",Me),className:`border rounded-xl p-3 text-center transition-colors break-words min-h-[60px] flex items-center justify-center ${A.type===Me?"border-brand-600 bg-brand-50":"border-gray-200 bg-white hover:border-brand-600"}`,children:r.jsx("span",{className:"text-sm font-medium leading-tight",children:Me})},Me))})]}),r.jsxs("section",{className:"hidden",children:[r.jsx("h2",{className:"font-semibold",children:"Attachments (Optional)"}),r.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-600",children:[r.jsx("div",{className:"mb-2",children:r.jsx("svg",{className:"mx-auto h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 4v16m8-8H4"})})}),"Upload documents or other files to support your experience",r.jsxs("div",{className:"mt-3",children:[r.jsx("input",{ref:z,type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.txt",className:"hidden",onChange:Me=>Pe(Me.target.files)}),r.jsx("button",{type:"button",onClick:()=>{var Me;return(Me=z.current)==null?void 0:Me.click()},className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Choose Files"})]}),O.map((Me,Oe)=>{var vt,Ge;const We=typeof Me.base64url=="string"&&(Me.base64url.startsWith("data:image")||/\.(jpe?g|png|gif|webp|svg)$/i.test(Me.base64url));let qe=null;return((vt=Me.base64url)!=null&&vt.startsWith("data:image")||(Ge=Me.base64url)!=null&&Ge.startsWith("http")||We)&&(qe=Me.base64url),r.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-100 grid place-items-center overflow-hidden",children:We?r.jsx("img",{src:qe,alt:Me.title,className:"h-full w-full object-cover"}):r.jsx("span",{className:"text-xs text-gray-500",children:"DOC"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"truncate text-sm font-medium",children:Me.title}),r.jsx("div",{className:"text-[11px] text-gray-500 truncate",children:"Attached"})]}),r.jsx("button",{type:"button",onClick:()=>Qe(Oe),className:"p-1 rounded hover:bg-gray-100",title:"Remove",children:r.jsx(gy.trash,{})})]},`${Me.name}-${Oe}`)})]})]}),r.jsxs("section",{className:"hidden",children:[r.jsx("h2",{className:"font-semibold",children:"Title *"}),r.jsx("input",{type:"text",value:A.title,onChange:Me=>be("title",Me.target.value),placeholder:"Give your experience a clear, strong title",className:"mt-2 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"font-semibold hidden",children:"When & Where"}),r.jsxs("div",{className:"mt-2 grid sm:grid-cols-2 gap-4 hidden",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Date"}),r.jsx("input",{type:"date",value:A.date||"",onChange:Me=>be("date",Me.target.value),className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Address"}),r.jsx("input",{type:"text",value:A.location,onChange:Me=>be("location",Me.target.value),placeholder:"Address",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]})]}),r.jsxs("div",{className:"mt-3 grid sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Country"}),r.jsx(Cc,{value:A.country,onChange:Me=>be("country",Me),options:He,placeholder:"Search and select country..."},A.country)]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"City"}),r.jsx(Cc,{value:A.city,onChange:Me=>be("city",Me),options:fe,placeholder:"Search and select city...",disabled:A.country==="All countries"},A.country)]})]})]}),r.jsxs("section",{className:"hidden",children:[r.jsx("h2",{className:"font-semibold",children:"Tags"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("input",{type:"text",value:W,onChange:Me=>X(Me.target.value),onKeyDown:Me=>{Me.key==="Enter"&&(Me.preventDefault(),Y())},placeholder:"e.g., AI, grants, partnership, networking",className:"flex-1 rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"}),r.jsxs("button",{type:"button",onClick:Y,className:"inline-flex items-center gap-1 rounded-lg px-3 py-2 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700","aria-label":"Add tag",children:[r.jsx(gy.plus,{})," Add"]})]}),J.length>0&&r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:J.map((Me,Oe)=>r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-50 text-brand-700 px-3 py-1 text-xs border border-brand-100",children:[Me,r.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>ie(Oe),title:"Remove",children:""})]},`${Me}-${Oe}`))})]}),r.jsx("section",{className:`${A.relatedEntityType=="_job"?"hidden":""}`,children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Category"}),r.jsx(Cc,{ariaLabel:"Category",value:re.categoryId,onChange:Me=>le({categoryId:Me,subcategoryId:"",subsubCategoryId:""}),options:Ne,placeholder:"Search & select category"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Subcategory"}),r.jsx(Cc,{ariaLabel:"Subcategory",value:re.subcategoryId,onChange:Me=>le(Oe=>he(te({},Oe),{subcategoryId:Me,subsubCategoryId:""})),options:Be,placeholder:"Search & select subcategory",disabled:!re.categoryId})]}),r.jsxs("div",{className:"hidden",children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Sub-sub"}),r.jsx(Cc,{ariaLabel:"Sub-subcategory",value:re.subsubCategoryId,onChange:Me=>le(Oe=>he(te({},Oe),{subsubCategoryId:Me})),options:dt,placeholder:"Search & select sub-sub",disabled:!re.subcategoryId})]})]})}),r.jsxs("section",{className:"hidden",children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"Industry Classification"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Category"}),r.jsx(Cc,{ariaLabel:"Industry Category",value:ke.categoryId,onChange:Me=>tt({categoryId:Me,subcategoryId:"",subsubCategoryId:""}),options:nt,placeholder:"Search & select"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Subcategory"}),r.jsx(Cc,{ariaLabel:"Industry Subcategory",value:ke.subcategoryId,onChange:Me=>tt(Oe=>he(te({},Oe),{subcategoryId:Me,subsubCategoryId:""})),options:Te,placeholder:"Search & select",disabled:!ke.categoryId})]}),r.jsxs("div",{className:"hidden",children:[" ",r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Sub-sub"}),r.jsx(Cc,{ariaLabel:"Industry Sub-subcategory",value:ke.subsubCategoryId,onChange:Me=>tt(Oe=>he(te({},Oe),{subsubCategoryId:Me})),options:lt,placeholder:"Search & select",disabled:!ke.subcategoryId})]})]})]}),r.jsx("section",{children:r.jsx("div",{className:"mb-4",children:u?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-brand-600"}),r.jsx("h3",{className:"font-semibold text-brand-600",children:"Share With (Target Audience)"})]}),r.jsxs("button",{type:"button",onClick:()=>f(!1),className:"inline-flex items-center gap-1 px-3 py-1 border border-gray-300 text-gray-600 rounded-lg text-xs hover:bg-gray-50",children:[r.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Hide"]})]}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select who should see this experience."}),r.jsx(fl,{tree:xe,selected:ae,onChange:Me=>G(Me)})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{type:"button",onClick:()=>f(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})}),"Define Audience (optional)"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Target your post to specific audiences"})]})})}),r.jsxs("div",{className:"flex justify-end gap-3",children:[!n&&r.jsx("button",{type:"button",onClick:()=>a("/feed"),className:bu.ghost,children:"Cancel"}),r.jsx("button",{type:"submit",className:bu.primaryWide,disabled:m,children:m?"Saving":l?"Update":"Publish"})]})]})]})}),S&&r.jsx(ff,{urls:Ae,initialIndex:C,onClose:Le})]})}const _5e=Object.freeze(Object.defineProperty({__proto__:null,default:w6},Symbol.toStringTag,{value:"Module"})),P8={primary:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",primaryWide:"w-full rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",ghost:"rounded-lg px-3 py-1.5 text-sm font-semibold border border-brand-600 text-brand-600 bg-white hover:bg-brand-50",badge:"inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium",chip:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs"},Jv=({children:e,required:t})=>r.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:[e," ",t&&r.jsx("span",{className:"text-pink-600",children:"*"})]}),j6={plus:()=>r.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})}),trash:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M9 3h6l1 2h4v2H4V5h4l1-2Zm1 6h2v9h-2V9Zm4 0h2v9h-2V9ZM6 9h2v9H6V9Z"})}),chevron:()=>r.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"m6 9 6 6 6-6"})}),tag:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"m10 4 8 0a2 2 0 0 1 2 2v8l-8 8-8-8V6a2 2 0 0 1 2-2h4Z"}),r.jsx("circle",{cx:"15",cy:"9",r:"1.5",fill:"white"})]}),cash:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"M3 6h18v12H3z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3",fill:"white"})]})};function Zv({value:e,onChange:t,options:n,placeholder:s="Select",disabled:a=!1,required:i=!1,ariaLabel:o}){const[l,c]=d.useState(!1),[u,f]=d.useState(""),[h,g]=d.useState(0),m=d.useRef(null),p=d.useRef(null),v=d.useMemo(()=>n.find(N=>String(N.value)===String(e))||null,[n,e]),b=d.useMemo(()=>{const N=u.trim().toLowerCase();return N?n.map(L=>({o:L,score:(L.label||"").toLowerCase().indexOf(N)})).filter(L=>L.score!==-1).sort((L,k)=>L.score-k.score).map(L=>L.o).slice(0,100):n.slice(0,100)},[u,n]),y=v&&!u?v.label:u;d.useEffect(()=>{function N(L){m.current&&(m.current.contains(L.target)||c(!1))}return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]),d.useEffect(()=>{l||g(0)},[l,u]);function x(N){var L;t==null||t((N==null?void 0:N.value)||""),f(""),c(!1),(L=p.current)==null||L.blur()}function w(){t==null||t(""),f(""),c(!1)}function j(N){if(!a){if(!l&&(N.key==="ArrowDown"||N.key==="ArrowUp")){c(!0);return}if(l)if(N.key==="ArrowDown")N.preventDefault(),g(L=>Math.min(L+1,b.length-1));else if(N.key==="ArrowUp")N.preventDefault(),g(L=>Math.max(L-1,0));else if(N.key==="Enter"){N.preventDefault();const L=b[h];L&&x(L)}else N.key==="Escape"&&c(!1)}}return r.jsxs("div",{ref:m,className:`relative ${a?"opacity-60":""}`,children:[r.jsxs("div",{className:"grid gap-1.5",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{ref:p,type:"text",value:y,disabled:a,placeholder:s,onChange:N=>{f(N.target.value),c(!0)},onFocus:()=>!a&&c(!0),onKeyDown:j,"aria-autocomplete":"list","aria-expanded":l,"aria-controls":"ss-results","aria-label":o||s,role:"combobox",autoComplete:"off",className:"w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-16 focus:outline-none focus:ring-2 focus:ring-brand-200 text-black"}),v&&!a?r.jsx("button",{type:"button",onClick:w,className:"absolute right-8 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-gray-100",title:"Clear",children:""}):null,r.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:r.jsx(j6.chevron,{})})]}),i&&r.jsx("input",{tabIndex:-1,"aria-hidden":"true",className:"sr-only",required:!0,value:e||"",onChange:()=>{}})]}),l&&!a&&r.jsx("div",{id:"ss-results",role:"listbox",className:"absolute z-30 mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:b.length===0?r.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No results"}):r.jsx("ul",{className:"max-h-72 overflow-auto",children:b.map((N,L)=>{const k=L===h;return r.jsx("li",{role:"option","aria-selected":k,className:`cursor-pointer px-3 py-2 text-sm ${k?"bg-brand-50":"hover:bg-gray-50"}`,onMouseEnter:()=>g(L),onMouseDown:E=>{E.preventDefault(),x(N)},children:N.label},N.value)})})})]})}function D8(){const e=Ht(),{id:t}=ea(),n=!!t;Xt();const[s,a]=d.useState([]),[i,o]=d.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[l,c]=d.useState({title:"",offeringType:"Service",description:"",budget:"",timeline:"Flexible",location:"",requirements:[]}),[u,f]=d.useState(""),[h,g]=d.useState([]),[m,p]=d.useState({categoryId:"",subcategoryId:"",subsubCategoryId:""}),[v,b]=d.useState([]),[y,x]=d.useState({categoryId:"",subcategoryId:""});d.useEffect(()=>{pe(this,null,function*(){try{const{data:M}=yield Se.get("/public/identities");a(M.identities||[])}catch(M){console.error(M)}})},[]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:M}=yield Se.get("/general-categories/tree?type=offering");g(M.generalCategories||[])}catch(M){console.error("Failed to load general categories",M)}})},[]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:M}=yield Se.get("/industry-categories/tree");b(M.industryCategories||[])}catch(M){console.error("Failed to load industry categories",M)}})},[]);const w=d.useMemo(()=>h.map(M=>({value:M.id,label:M.name||`Category ${M.id}`})),[h]),j=d.useMemo(()=>{const M=h.find(A=>A.id===m.categoryId);return((M==null?void 0:M.subcategories)||[]).map(A=>({value:A.id,label:A.name||`Subcategory ${A.id}`}))},[h,m.categoryId]);d.useMemo(()=>{var H;const M=h.find(W=>W.id===m.categoryId),A=(H=M==null?void 0:M.subcategories)==null?void 0:H.find(W=>W.id===m.subcategoryId);return((A==null?void 0:A.subsubcategories)||[]).map(W=>({value:W.id,label:W.name||`Sub-sub ${W.id}`}))},[h,m.categoryId,m.subcategoryId]);const N=d.useMemo(()=>v.map(M=>({value:M.id,label:M.name||`Category ${M.id}`})),[v]),L=d.useMemo(()=>{const M=v.find(A=>A.id===y.categoryId);return((M==null?void 0:M.subcategories)||[]).map(A=>({value:A.id,label:A.name||`Subcategory ${A.id}`}))},[v,y.categoryId]);function k(M,A){c(H=>he(te({},H),{[M]:A}))}function E(){const M=u.trim();M&&(c(A=>A.requirements.includes(M)?A:he(te({},A),{requirements:[...A.requirements,M]})),f(""))}function S(M){c(A=>he(te({},A),{requirements:A.requirements.filter((H,W)=>W!==M)}))}function I(){return l.title.trim()?l.description.trim()?null:"Description is required":"Title is required"}function C(M){return pe(this,null,function*(){M.preventDefault();const A=I();if(A){oe.error(A);return}oe.success("Offering created successfully! (Frontend only - backend coming soon)"),e("/offerings")})}return r.jsxs("div",{className:"min-h-screen bg-[#F7F7FB] text-gray-900",children:[r.jsx(an,{page:"offerings"}),r.jsxs("main",{className:"mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("button",{onClick:()=>e("/offerings"),className:"flex items-center gap-2 text-sm text-gray-600 hover:text-brand-600",type:"button",children:" Back to offerings"}),r.jsx("h1",{className:"text-2xl font-bold mt-3",children:n?"Edit Offering":"Create Offering"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Share what you're looking for and connect with people who can help."}),r.jsxs("form",{onSubmit:C,className:"mt-6 rounded-2xl bg-white border p-6 shadow-sm space-y-8",children:[r.jsxs("section",{children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"What are you looking for?"}),r.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{label:"Service",desc:"Professional services"},{label:"Product",desc:"Products or goods"},{label:"Partnership",desc:"Business partnerships"},{label:"Investment",desc:"Investment opportunities"},{label:"Other",desc:"Something else"}].map(M=>r.jsxs("button",{type:"button",onClick:()=>k("offeringType",M.label),className:`border rounded-xl p-4 text-left transition-colors ${l.offeringType===M.label?"border-brand-600 bg-brand-50":"border-gray-200 bg-white hover:border-brand-600"}`,children:[r.jsx("div",{className:"font-medium",children:M.label}),r.jsx("div",{className:"text-xs text-gray-500",children:M.desc})]},M.label))})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"Basic Information"}),r.jsxs("div",{className:"mt-3 grid gap-4",children:[r.jsxs("div",{children:[r.jsx(Jv,{required:!0,children:"Title"}),r.jsx("input",{type:"text",value:l.title,onChange:M=>k("title",M.target.value),placeholder:"e.g., Looking for a web developer for my startup",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",required:!0})]}),r.jsxs("div",{children:[r.jsx(Jv,{required:!0,children:"Description"}),r.jsx("textarea",{value:l.description,onChange:M=>k("description",M.target.value),placeholder:"Describe what you're looking for in detail. What do you need help with?",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",rows:4,required:!0})]})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"Budget & Timeline"}),r.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Jv,{children:"Budget Range"}),r.jsx("input",{type:"text",value:l.budget,onChange:M=>k("budget",M.target.value),placeholder:"e.g., $5,000 - $10,000",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Jv,{children:"Timeline"}),r.jsxs("select",{value:l.timeline,onChange:M=>k("timeline",M.target.value),className:"mt-1 w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-200",children:[r.jsx("option",{children:"ASAP"}),r.jsx("option",{children:"1-3 months"}),r.jsx("option",{children:"3-6 months"}),r.jsx("option",{children:"6+ months"}),r.jsx("option",{children:"Flexible"})]}),r.jsx("span",{className:"pointer-events-none absolute right-2 bottom-3",children:r.jsx(j6.chevron,{})})]})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"Requirements & Skills Needed"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("input",{type:"text",value:u,onChange:M=>f(M.target.value),onKeyDown:M=>{M.key==="Enter"&&(M.preventDefault(),E())},placeholder:"Add specific requirements or skills needed",className:"flex-1 rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"}),r.jsxs("button",{type:"button",onClick:E,className:"inline-flex items-center gap-1 rounded-lg px-3 py-2 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700","aria-label":"Add requirement",children:[r.jsx(j6.plus,{})," Add"]})]}),l.requirements.length>0&&r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:l.requirements.map((M,A)=>r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-50 text-brand-700 px-3 py-1 text-xs border border-brand-100",children:[M,r.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>S(A),title:"Remove",children:""})]},`${M}-${A}`))})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"Classification"}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Search and pick the category that best describes what you're looking for."}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"General Category"}),r.jsx(Zv,{ariaLabel:"Category",value:m.categoryId,onChange:M=>p({categoryId:M,subcategoryId:"",subsubCategoryId:""}),options:w,placeholder:"Search & select category"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"General Subcategory"}),r.jsx(Zv,{ariaLabel:"Subcategory",value:m.subcategoryId,onChange:M=>p(A=>he(te({},A),{subcategoryId:M,subsubCategoryId:""})),options:j,placeholder:"Search & select subcategory",disabled:!m.categoryId})]})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"Industry Classification"}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select the industry category that best describes your offering."}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Category"}),r.jsx(Zv,{ariaLabel:"Industry Category",value:y.categoryId,onChange:M=>x({categoryId:M,subcategoryId:""}),options:N,placeholder:"Search & select industry category"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Subcategory"}),r.jsx(Zv,{ariaLabel:"Industry Subcategory",value:y.subcategoryId,onChange:M=>x(A=>he(te({},A),{subcategoryId:M})),options:L,placeholder:"Search & select industry subcategory",disabled:!y.categoryId})]})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"Share With (Target Audience)"}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select who should see this offering. Choose multiple identities, categories, subcategories, and sub-subs."}),r.jsx(fl,{tree:s,selected:i,onChange:M=>o(M)})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{type:"button",className:P8.ghost,onClick:()=>e("/offerings"),children:"Cancel"}),r.jsx("button",{type:"submit",className:P8.primary,children:n?"Update Offering":"Publish Offering"})]})]})]})]})}const wu={primary:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",primaryWide:"w-full rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",ghost:"rounded-lg px-3 py-1.5 text-sm font-semibold border border-brand-600 text-brand-600 bg-white hover:bg-brand-50",badge:"inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium",chip:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs"},Wf=({children:e,required:t})=>r.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:[e," ",t&&r.jsx("span",{className:"text-pink-600",children:"*"})]}),So={plus:()=>r.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})}),trash:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M9 3h6l1 2h4v2H4V5h4l1-2Zm1 6h2v9h-2V9Zm4 0h2v9h-2V9ZM6 9h2v9H6V9Z"})}),chevron:()=>r.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"m6 9 6 6 6-6"})}),tag:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"m10 4 8 0a2 2 0 0 1 2 2v8l-8 8-8-8V6a2 2 0 0 1 2-2h4Z"}),r.jsx("circle",{cx:"15",cy:"9",r:"1.5",fill:"white"})]}),cash:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"M3 6h18v12H3z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3",fill:"white"})]}),pin:()=>r.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})}),video:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("path",{d:"m17 10.5-5-3v6l5-3Z"}),r.jsx("rect",{x:"3",y:"6",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),image:()=>r.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),r.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5",fill:"currentColor"}),r.jsx("path",{d:"m21 15-5-5L5 21",stroke:"currentColor",strokeWidth:"2"})]})};function R8(e){return e.type.startsWith("image/")?"image":e.type.startsWith("video/")?"video":"document"}function O5e({form:e,attachments:t,audSel:n,audTree:s}){var g,m;const a=dr.useMemo(()=>{const p=new Map,v=new Map,b=new Map,y=new Map;for(const x of s){p.set(String(x.id),x.name||x.title||`Identity ${x.id}`);for(const w of x.categories||[]){v.set(String(w.id),w.name||w.title||`Category ${w.id}`);for(const j of w.subcategories||[]){b.set(String(j.id),j.name||j.title||`Subcategory ${j.id}`);for(const N of j.subsubs||[])y.set(String(N.id),N.name||N.title||`Sub-sub ${N.id}`)}}}return{ids:p,cats:v,subs:b,subsubs:y}},[s]),i=Array.from(n.identityIds||[]).map(p=>a.ids.get(String(p))).filter(Boolean),o=Array.from(n.categoryIds||[]).map(p=>a.cats.get(String(p))).filter(Boolean),l=Array.from(n.subcategoryIds||[]).map(p=>a.subs.get(String(p))).filter(Boolean),c=Array.from(n.subsubCategoryIds||[]).map(p=>a.subsubs.get(String(p))).filter(Boolean),u=(t==null?void 0:t.filter(p=>p.type==="image"||p.type==="video"))||[],f=(t==null?void 0:t.filter(p=>p.type==="document"))||[],h=((g=u[0])==null?void 0:g.base64url)||null;return r.jsxs("div",{className:"mt-6 rounded-2xl bg-white border p-0 shadow-sm overflow-hidden",children:[h?r.jsxs("div",{className:"relative aspect-[16/6] w-full bg-gray-100",children:[((m=u[0])==null?void 0:m.type)==="video"?r.jsx("video",{src:h,className:"h-full w-full object-cover",controls:!0}):r.jsx("img",{src:h,alt:"Need cover",className:"h-full w-full object-cover"}),r.jsx("span",{className:"absolute left-4 top-4 bg-white/90 border-gray-200 text-gray-700 rounded-full px-2 py-0.5 text-xs font-medium",children:e.relatedEntityType||"Need"})]}):null,r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"flex items-start justify-between gap-4",children:r.jsxs("div",{children:[e.title&&r.jsx("h1",{className:"text-xl font-bold",children:e.title||"Untitled Need"}),r.jsx("p",{className:"mt-1 text-sm text-gray-700",children:e.description||"No description provided."})]})}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.budget&&r.jsxs("div",{className:"rounded-xl border p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[r.jsx(So.cash,{})," Budget"]}),r.jsx("div",{className:"mt-2 text-sm text-gray-700",children:e.budget})]}),r.jsxs("div",{className:"rounded-xl border p-4 hidden",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[r.jsx(So.tag,{})," Urgency"]}),r.jsx("div",{className:"mt-2 text-sm text-gray-700",children:e.urgency})]}),r.jsxs("div",{className:"rounded-xl border p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[r.jsx(So.pin,{})," Location"]}),r.jsx("div",{className:"mt-2 text-sm text-gray-700",children:[e.city,e.country].filter(Boolean).join(", ")||"Not specified"})]})]}),u.length>1&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Media"}),r.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:u.slice(1).map((p,v)=>r.jsx("div",{className:"relative w-full aspect-[16/10] bg-gray-100 rounded-xl overflow-hidden border",children:p.type==="video"?r.jsx("video",{src:p.base64url,controls:!0,className:"h-full w-full object-cover",children:"Your browser does not support the video tag."}):r.jsx("img",{src:p.base64url,alt:`Need image ${v+1}`,className:"h-full w-full object-cover"})},v))})]}),f.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Documents"}),r.jsx("div",{className:"mt-3 grid sm:grid-cols-2 gap-3",children:f.map((p,v)=>r.jsxs("a",{href:`${Se.defaults.baseURL}/uploads/needs/${p.base64url}`,download:p.name,className:"flex items-center gap-3 border rounded-lg p-3 hover:bg-gray-50",children:[r.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-100 grid place-items-center text-xs text-gray-500",children:"DOC"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"truncate text-sm font-medium",children:p.name}),r.jsx("div",{className:"text-[11px] text-gray-500 truncate",children:"Tap to download"})]})]},`${p.name}-${v}`))})]}),e.criteria&&e.criteria.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Requirements"}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:e.criteria.map((p,v)=>r.jsx("span",{className:wu.chip,children:p},`${p}-${v}`))})]}),(i.length>0||o.length>0||l.length>0||c.length>0)&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Target Audience"}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[i.map(p=>r.jsx("span",{className:wu.chip,children:p},`i-${p}`)),o.map(p=>r.jsx("span",{className:wu.chip,children:p},`c-${p}`)),l.map(p=>r.jsx("span",{className:wu.chip,children:p},`s-${p}`)),c.map(p=>r.jsx("span",{className:wu.chip,children:p},`ss-${p}`)),!i.length&&!o.length&&!l.length&&!c.length&&r.jsx("span",{className:"text-sm text-gray-500",children:"Everyone"})]})]})]})]})}function Hf({value:e,onChange:t,options:n,placeholder:s="Select",disabled:a=!1,required:i=!1,ariaLabel:o}){const[l,c]=d.useState(!1),[u,f]=d.useState(""),[h,g]=d.useState(0),m=d.useRef(null),p=d.useRef(null),[v,b]=d.useState(!1),y=d.useMemo(()=>n.find(E=>String(E.value)===String(e))||null,[n,e]),x=d.useMemo(()=>{const E=u.trim().toLowerCase();return E?n.map(S=>({o:S,score:(S.label||"").toLowerCase().indexOf(E)})).filter(S=>S.score!==-1).sort((S,I)=>S.score-I.score).map(S=>S.o).slice(0,100):n.slice(0,100)},[u,n]),j=v||l||u!==""?u:(y==null?void 0:y.label)||"";d.useEffect(()=>{function E(S){m.current&&(m.current.contains(S.target)||c(!1))}return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]),d.useEffect(()=>{l||g(0)},[l,u]);function N(E){var S;t==null||t((E==null?void 0:E.value)||""),f(""),c(!1),(S=p.current)==null||S.blur()}function L(){t==null||t(""),f(""),c(!1)}function k(E){if(!a){if(!l&&(E.key==="ArrowDown"||E.key==="ArrowUp")){c(!0);return}if(!l){E.key==="Backspace"&&(E.preventDefault(),f(y&&!u?(y.label||"").slice(0,-1):(u||"").slice(0,-1)),c(!0));return}if(E.key==="ArrowDown")E.preventDefault(),g(S=>Math.min(S+1,x.length-1));else if(E.key==="ArrowUp")E.preventDefault(),g(S=>Math.max(S-1,0));else if(E.key==="Enter"){E.preventDefault();const S=x[h];S&&N(S)}else E.key==="Escape"&&c(!1)}}return r.jsxs("div",{ref:m,className:`relative ${a?"opacity-60":""}`,children:[r.jsxs("div",{className:"grid gap-1.5",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{ref:p,type:"text",value:j,disabled:a,placeholder:s,onChange:E=>{f(E.target.value),c(!0)},onFocus:()=>{a||(b(!0),c(!0))},onBlur:()=>b(!1),onKeyDown:k,"aria-autocomplete":"list","aria-expanded":l,"aria-controls":"ss-results","aria-label":o||s,role:"combobox",autoComplete:"off",className:"w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-16 focus:outline-none focus:ring-2 focus:ring-brand-200 text-black"}),y&&!a?r.jsx("button",{type:"button",onClick:L,className:"absolute right-8 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-gray-100",title:"Clear",children:""}):null,r.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:r.jsx(So.chevron,{})})]}),i&&r.jsx("input",{tabIndex:-1,"aria-hidden":"true",className:"sr-only",required:!0,value:e||"",onChange:()=>{}})]}),l&&!a&&r.jsx("div",{id:"ss-results",role:"listbox",className:"absolute z-30 mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:x.length===0?r.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No results"}):r.jsx("ul",{className:"max-h-72 overflow-auto",children:x.map((E,S)=>{const I=S===h;return r.jsx("li",{role:"option","aria-selected":I,className:`cursor-pointer px-3 py-2 text-sm ${I?"bg-brand-50":"hover:bg-gray-50"}`,onMouseEnter:()=>g(S),onMouseDown:C=>{C.preventDefault(),N(E)},children:E.label},E.value)})})})]})}function N6({triggerImageSelection:e=!1,type:t,hideHeader:n=!1,onSuccess:s}){const a=Ht(),{id:i,type:o}=ea(),l=!!i,{user:c}=Xt(),[u,f]=d.useState(!1),[h,g]=d.useState(!!i),[m,p]=d.useState(!1),[v,b]=d.useState(!1),[y,x]=d.useState(0),[w,j]=d.useState({}),[N,L]=d.useState(null),[k,E]=d.useState("need"),[S,I]=d.useState(!1),[C,M]=d.useState(0),A=l&&N&&(c==null?void 0:c.id)!==N,[H,W]=d.useState([]),[X,J]=d.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[Z,F]=d.useState({title:"",description:"",budget:"",urgency:"Medium",location:"",country:"All countries",city:"",criteria:[],relatedEntityType:"",relatedEntityId:""}),[D,O]=d.useState(""),[T,R]=d.useState([]),z=d.useRef(null),_=d.useRef(null);console.log("Attachments:",T);const[U,Q]=d.useState([]),[re,le]=d.useState({categoryId:"",subcategoryId:"",subsubCategoryId:""}),ue=[{value:"All countries",label:"All countries"},...An.map(de=>({value:de,label:de}))],[ge,ke]=d.useState([]),[tt,He]=d.useState(!0);d.useEffect(()=>{pe(this,null,function*(){try{const $e=yield fetch("/data/cities.json");if(!$e.ok)throw new Error("Failed to fetch cities");const it=yield $e.json();ke(it)}catch($e){console.error("Error fetching cities:",$e),oe.error("Failed to load cities data")}finally{He(!1)}})},[]);const ze=d.useMemo(()=>ge.slice(0,1e4).map(de=>({value:de.city,label:`${de.city}${de.country?`, ${de.country}`:""}`,country:de.country})),[ge]),rt=d.useMemo(()=>Z.country?String(Z.country).split(",").map(de=>de.trim().toLowerCase()).filter(Boolean):[],[Z.country]),Xe=d.useMemo(()=>{if(rt.length===0||rt.includes("all countries"))return[];const de=new Set(rt);return ze.filter($e=>de.has($e.country.toLowerCase()))},[rt,ze]),[V,ne]=d.useState([]),[Ce,fe]=d.useState({categoryId:"",subcategoryId:""});d.useEffect(()=>{pe(this,null,function*(){try{const{data:de}=yield Se.get("/public/identities?type=all");W(de.identities||[])}catch(de){console.error(de)}})},[]),d.useEffect(()=>{pe(this,null,function*(){try{let de=Z.relatedEntityType=="funding"?"opportunity":Z.relatedEntityType;const $e=de?`?type=${de}`:"?type=need",{data:it}=yield Se.get(`/general-categories/tree${$e}`);Q(it.generalCategories||[])}catch(de){console.error("Failed to load general categories",de)}})},[Z.relatedEntityType]),d.useEffect(()=>{pe(this,null,function*(){try{const{data:de}=yield Se.get("/industry-categories/tree");ne(de.industryCategories||[])}catch(de){console.error("Failed to load industry categories",de)}})},[]),d.useEffect(()=>{i&&(g(!0),pe(this,null,function*(){var de,$e,it,gt,De,Le,Ae,Pe,Qe;try{const{data:mt}=yield Se.get(`/needs/${i}?updated=true`),Me=mt.userId||mt.createdById||((de=mt.user)==null?void 0:de.id)||null;L(Me),F({title:mt.title||"",description:mt.description||"",budget:mt.budget||"",urgency:mt.urgency||"Medium",location:mt.location||"",country:mt.country||"",city:mt.city||"",criteria:Array.isArray(mt.criteria)?mt.criteria:[],relatedEntityType:mt.relatedEntityType||"",relatedEntityId:mt.relatedEntityId||""}),E(mt.relatedEntityType||"need"),Array.isArray(mt.attachments)?R(mt.attachments):R([]),(($e=mt.audienceIdentities)!=null&&$e.length||(it=mt.audienceCategories)!=null&&it.length||(gt=mt.audienceSubcategories)!=null&&gt.length||(De=mt.audienceSubsubs)!=null&&De.length)&&J({identityIds:new Set(((Le=mt.audienceIdentities)==null?void 0:Le.map(Oe=>Oe.id))||[]),categoryIds:new Set(((Ae=mt.audienceCategories)==null?void 0:Ae.map(Oe=>Oe.id))||[]),subcategoryIds:new Set(((Pe=mt.audienceSubcategories)==null?void 0:Pe.map(Oe=>Oe.id))||[]),subsubCategoryIds:new Set(((Qe=mt.audienceSubsubs)==null?void 0:Qe.map(Oe=>Oe.id))||[])}),le({categoryId:mt.generalCategoryId||"",subcategoryId:mt.generalSubcategoryId||"",subsubCategoryId:mt.generalSubsubCategoryId||""}),fe({categoryId:mt.industryCategoryId||"",subcategoryId:mt.industrySubcategoryId||""})}catch(mt){console.error(mt),oe.error("Failed to load need data"),a("/feed")}finally{g(!1)}}))},[i,a]),d.useEffect(()=>{if(!l){const de=t||o;de&&(E(de),Be("relatedEntityType",de))}},[t,o,l]),d.useImperativeHandle(_,()=>({pick:()=>{var de;return(de=z.current)==null?void 0:de.click()}})),d.useEffect(()=>{if(e&&_.current){const de=setTimeout(()=>{var $e;($e=_.current)==null||$e.pick()},100);return()=>clearTimeout(de)}},[e]),d.useEffect(()=>{(Z.relatedEntityType==="information"||Z.relatedEntityType==="other"||Z.relatedEntityType==="job"||Z.relatedEntityType==="partnership")&&le({categoryId:"",subcategoryId:"",subsubCategoryId:""})},[Z.relatedEntityType]);const xe=d.useMemo(()=>U.map(de=>({value:de.id,label:de.name||`Category ${de.id}`})),[U]),se=d.useMemo(()=>{const de=U.find($e=>$e.id===re.categoryId);return((de==null?void 0:de.subcategories)||[]).map($e=>({value:$e.id,label:$e.name||`Subcategory ${$e.id}`}))},[U,re.categoryId]);d.useMemo(()=>{var it;const de=U.find(gt=>gt.id===re.categoryId),$e=(it=de==null?void 0:de.subcategories)==null?void 0:it.find(gt=>gt.id===re.subcategoryId);return(($e==null?void 0:$e.subsubcategories)||[]).map(gt=>({value:gt.id,label:gt.name||`Sub-sub ${gt.id}`}))},[U,re.categoryId,re.subcategoryId]);const ae=d.useMemo(()=>V.map(de=>({value:de.id,label:de.name||`Category ${de.id}`})),[V]),G=d.useMemo(()=>{const de=V.find($e=>$e.id===Ce.categoryId);return((de==null?void 0:de.subcategories)||[]).map($e=>({value:$e.id,label:$e.name||`Subcategory ${$e.id}`}))},[V,Ce.categoryId]),Ne=d.useMemo(()=>T.filter(de=>de.type==="image"||de.type==="video").map(de=>de.base64url),[T]);function Be(de,$e){F(it=>{const gt=he(te({},it),{[de]:$e});return de==="country"&&$e==="All countries"&&(gt.city=""),gt})}function dt(){const de=D.trim();de&&(F($e=>$e.criteria.includes(de)?$e:he(te({},$e),{criteria:[...$e.criteria,de]})),O(""))}function nt(de){F($e=>he(te({},$e),{criteria:$e.criteria.filter((it,gt)=>gt!==de)}))}function Te(de){M(de),I(!0)}function lt(){I(!1)}function _e(de){return pe(this,null,function*(){const $e=Array.from(de||[]);if(!$e.length)return;const it={video:50*1024*1024,image:5*1024*1024,document:5*1024*1024},gt=$e.filter(Ae=>{const Pe=R8(Ae);return Ae.size>it[Pe]});if(gt.length>0){const Ae=gt.map(Pe=>Pe.name).join(", ");oe.error(`Files exceeding size limit: ${Ae}`);return}const De=20-T.length,Le=De>0?$e.slice(0,De):[];try{b(!0),x(Le.length);const Ae={};Le.forEach(Oe=>{Ae[Oe.name]=0}),j(Ae);const Pe=new FormData;Le.forEach(Oe=>{Pe.append("attachments",Oe)});const mt=(yield Se.post("/needs/upload-attachments",Pe,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:Oe=>{if(Oe.total){const We=Math.round(Oe.loaded*100/Oe.total),qe={};Le.forEach(vt=>{qe[vt.name]=We}),j(qe)}}})).data.filenames||[],Me=Le.map((Oe,We)=>({name:Oe.name,base64url:`${mt[We]||Oe.name}`,type:R8(Oe)}));R(Oe=>[...Oe,...Me]),j({})}catch(Ae){console.error("Error uploading attachments:",Ae),oe.error("Failed to upload attachments"),j({})}finally{b(!1),x(0)}})}function be(de){R($e=>$e.filter((it,gt)=>gt!==de))}function Y(){return Z.description.trim()?null:"Description is required"}function ie(de){return pe(this,null,function*(){var it,gt;if(de.preventDefault(),A)return;const $e=Y();if($e){oe.error($e);return}p(!0);try{const De=Array.from(X.identityIds),Le=Array.from(X.categoryIds),Ae=Array.from(X.subcategoryIds),Pe=Array.from(X.subsubCategoryIds),Qe={title:Z.title,description:Z.description,budget:Z.budget||void 0,urgency:Z.urgency,location:Z.location||void 0,country:Z.country||void 0,city:Z.country==="All countries"?void 0:Z.city||void 0,criteria:Z.criteria,attachments:T,identityIds:De,categoryIds:Le,subcategoryIds:Ae,subsubCategoryIds:Pe,generalCategoryId:re.categoryId||null,generalSubcategoryId:re.subcategoryId||null,generalSubsubCategoryId:re.subsubCategoryId||null,industryCategoryId:Ce.categoryId||null,industrySubcategoryId:Ce.subcategoryId||null,relatedEntityType:Z.relatedEntityType||null,relatedEntityId:Z.relatedEntityId||null};l?(yield Se.put(`/needs/${i}`,Qe),oe.success("Need updated!")):(yield Se.post("/needs",Qe),oe.success("Need posted successfully!"),n&&s?s():window.history.state&&window.history.state.idx>0?a(-1):a("/"))}catch(De){console.error(De),oe.error(((gt=(it=De==null?void 0:De.response)==null?void 0:it.data)==null?void 0:gt.message)||"Could not save need")}finally{p(!1)}})}return h&&i?r.jsx(Xa,{message:"Loading need",tip:"Fetching..."}):r.jsxs("div",{className:"min-h-screen bg-[#F7F7FB] text-gray-900",children:[!n&&r.jsx(an,{page:"needs"}),r.jsx("main",{className:`mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 ${n?"py-4":"py-8"}`,children:r.jsxs("div",{children:[!n&&r.jsxs("button",{onClick:()=>{window.history.state&&window.history.state.idx>0?a(-1):a("/")},className:"flex items-center gap-2 text-sm text-gray-600 hover:text-brand-600",type:"button",children:[" ",window.history.state&&window.history.state.idx>0?"Back":"Feed"]}),l&&!A&&r.jsx("div",{children:r.jsx("h1",{className:"text-2xl font-bold mt-3",children:l?"Edit Need":"Post What You Need"})}),A?r.jsx(O5e,{form:Z,attachments:T,audSel:X,audTree:H}):r.jsxs("form",{onSubmit:ie,className:"mt-6 rounded-2xl bg-white border p-6 shadow-sm space-y-8",children:[r.jsxs("section",{className:"hidden",children:[r.jsx("h2",{className:"font-semibold",children:"What are you looking for? *"}),r.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{label:"Job",value:"job",desc:"Employment opportunities"},{label:"Product",value:"product",desc:"Specific products or goods"},{label:"Service",value:"service",desc:"Professional services"},{label:"Event",value:"event",desc:"Events or gatherings"},{label:"Tourism",value:"tourism",desc:"Travel and tourism services"},{label:"Partnership",value:"partnership",desc:"Business partnerships"},{label:"Funding",value:"funding",desc:"Financial support"},{label:"Information",value:"information",desc:"Advice or knowledge"},{label:"Other",value:"other",desc:"Something else"}].map(de=>r.jsxs("button",{type:"button",onClick:()=>Be("relatedEntityType",de.value),className:`border rounded-xl p-4 text-left transition-colors ${Z.relatedEntityType===de.value?"border-brand-600 bg-brand-50":"border-gray-200 bg-white hover:border-brand-600"}`,children:[r.jsx("div",{className:"font-medium",children:de.label}),r.jsx("div",{className:"text-xs text-gray-500",children:de.desc})]},de.label))})]}),r.jsx("section",{children:r.jsxs("div",{className:"mt-3 grid gap-4",children:[r.jsxs("div",{className:"hidden",children:[r.jsx(Wf,{required:!0,children:"Title"}),r.jsx("input",{type:"text",value:Z.title,onChange:de=>Be("title",de.target.value),placeholder:"e.g., Looking for a React Developer position",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),r.jsx("div",{children:r.jsx("textarea",{value:Z.description,onChange:de=>Be("description",de.target.value),placeholder:Z.relatedEntityType=="job"?"Share details of the position you are looking for and connect with people that can really help find it.":Z.relatedEntityType=="event"?"Describe the type of event you are interested and connect with people that can help you find it.":Z.relatedEntityType=="product"?"Describe the type of products you are looking for and connect with people that can help you find it.":Z.relatedEntityType=="service"?"Share the type or services you need and connect with people that can help you find it. ":Z.relatedEntityType=="tourism"?"Describe the type of experience you are looking for and connect with people that can help you find it.":Z.relatedEntityType=="funding"?"Describe the type of funding you are looking for and connect with people that can help you find it. ":Z.relatedEntityType?`Share what you're looking for related to ${Z.relatedEntityType} and connect with people who can help.`:"Share what you're looking for and connect with people who can help.",__placeholder:"Example: Looking for a graphic designer to create branding materials for our new restaurant opening next month.",_placeholder:"Describe what you're looking for in detail. What do you need and why?",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",rows:4,required:!0})})]})}),r.jsxs("section",{className:"hidden",children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"Budget & Urgency"}),r.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Wf,{children:"Budget Range (if applicable)"}),r.jsx("input",{type:"text",value:Z.budget,onChange:de=>Be("budget",de.target.value),placeholder:"e.g., $50,000 - $70,000",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Wf,{children:"Urgency Level"}),r.jsxs("select",{value:Z.urgency,onChange:de=>Be("urgency",de.target.value),className:"mt-1 w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-200",children:[r.jsx("option",{children:"Low"}),r.jsx("option",{children:"Medium"}),r.jsx("option",{children:"High"}),r.jsx("option",{children:"Urgent"})]}),r.jsx("span",{className:"pointer-events-none absolute right-2 bottom-3",children:r.jsx(So.chevron,{})})]})]})]}),r.jsx("section",{children:r.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(Wf,{children:"Country"}),r.jsx(Hf,{value:Z.country,onChange:de=>Be("country",de),options:ue,placeholder:"Search and select country..."},Z.country)]}),r.jsxs("div",{children:[r.jsx(Wf,{children:"City"}),r.jsx(Hf,{value:Z.city,onChange:de=>Be("city",de),options:Xe,placeholder:"Search and select city...",disabled:Z.country==="All countries"},Z.country)]})]})}),r.jsxs("section",{className:"hidden",children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"Specific Criteria or Requirements"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("input",{type:"text",value:D,onChange:de=>O(de.target.value),onKeyDown:de=>{de.key==="Enter"&&(de.preventDefault(),dt())},placeholder:"Add specific requirements or criteria",className:"flex-1 rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"}),r.jsxs("button",{type:"button",onClick:dt,className:"inline-flex items-center gap-1 rounded-lg px-3 py-2 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700","aria-label":"Add criteria",children:[r.jsx(So.plus,{})," Add"]})]}),Z.criteria.length>0&&r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:Z.criteria.map((de,$e)=>r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-50 text-brand-700 px-3 py-1 text-xs border border-brand-100",children:[de,r.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>nt($e),title:"Remove",children:""})]},`${de}-${$e}`))})]}),r.jsxs("section",{children:[r.jsx(Wf,{children:"Attachments (Optional)"}),r.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-600",children:[r.jsxs("div",{className:"flex justify-center items-center gap-3 mb-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(So.image,{}),r.jsx("span",{className:"text-xs",children:"Images"})]}),r.jsx("div",{className:"h-4 w-px bg-gray-300"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(So.video,{}),r.jsx("span",{className:"text-xs",children:"Videos"})]}),r.jsx("div",{className:"h-4 w-px bg-gray-300"}),r.jsx("div",{className:"flex items-center gap-1",children:r.jsx("span",{className:"text-xs",children:"Documents"})})]}),"Upload images, videos, or documents to support your need",r.jsxs("div",{className:"mt-3",children:[r.jsx("input",{ref:z,type:"file",multiple:!0,accept:"image/*,video/*,.pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.txt",className:"hidden",onChange:de=>_e(de.target.files)}),r.jsx("button",{type:"button",onClick:()=>{var de;return(de=z.current)==null?void 0:de.click()},className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Choose Files"})]}),v&&Object.keys(w).length>0&&r.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Uploading ",Object.keys(w).length," file(s)..."]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[Object.values(w)[0],"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-brand-600 h-2 rounded-full transition-all duration-300",style:{width:`${Object.values(w)[0]||0}%`}})})]}),(T.length>0||y>0)&&r.jsxs("div",{className:"mt-6 grid sm:grid-cols-2 gap-4 text-left",children:[T.map((de,$e)=>{const it=de.type==="image"||de.type==="video",gt=de.type==="document";return it?r.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 overflow-hidden grid place-items-center relative cursor-pointer",onClick:()=>Te($e),children:de.type==="video"?r.jsxs(r.Fragment,{children:[r.jsx("video",{src:de.base64url,className:"h-full w-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:r.jsx(So.video,{})})]}):r.jsx("img",{src:de.base64url,alt:de.name,className:"h-full w-full object-cover"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"truncate text-sm font-medium",children:de.name}),r.jsxs("div",{className:"text-[11px] text-gray-500 truncate",children:[de.type==="video"?"Video":"Image","  Attached"]})]}),r.jsx("button",{type:"button",onClick:()=>be($e),className:"p-1 rounded hover:bg-gray-100",title:"Remove",children:r.jsx(So.trash,{})})]},`${de.name}-${$e}`):gt?r.jsxs("a",{href:de.base64url,download:de.name,className:"flex items-center gap-3 border rounded-lg p-3 hover:bg-gray-50",children:[r.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 grid place-items-center text-xs text-gray-500",children:"DOC"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"truncate text-sm font-medium",children:de.name}),r.jsx("div",{className:"text-[11px] text-gray-500 truncate",children:"Tap to download"})]}),r.jsx("button",{type:"button",onClick:De=>{De.preventDefault(),De.stopPropagation(),be($e)},className:"p-1 rounded hover:bg-gray-100",title:"Remove",children:r.jsx(So.trash,{})})]},`${de.name}-${$e}`):null}),y>0&&Array.from({length:y}).map((de,$e)=>r.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-200 animate-pulse"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"h-4 w-3/5 bg-gray-200 rounded mb-2 animate-pulse"}),r.jsx("div",{className:"h-3 w-2/5 bg-gray-200 rounded animate-pulse"}),v&&r.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-1.5",children:r.jsx("div",{className:"bg-brand-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${Object.values(w)[0]||0}%`}})})]}),r.jsx("div",{className:"h-8 w-8 rounded bg-gray-200 animate-pulse"})]},`att-skel-${$e}`))]}),r.jsx("p",{className:"mt-2 text-[11px] text-gray-400",children:"Images & Documents: Up to 5MB each. Videos: Up to 50MB each. Supported formats: JPG, PNG, GIF, MP4, MOV, PDF, DOC, DOCX, PPT, PPTX, XLS, XLSX, TXT"})]})]}),Z.relatedEntityType!=="information"&&Z.relatedEntityType!=="other"&&Z.relatedEntityType!=="job"&&Z.relatedEntityType!=="partnership"&&r.jsx("section",{children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Category"}),r.jsx(Hf,{ariaLabel:"Category",value:re.categoryId,onChange:de=>le({categoryId:de,subcategoryId:"",subsubCategoryId:""}),options:xe,placeholder:"Search & select category"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Subcategory"}),r.jsx(Hf,{ariaLabel:"Subcategory",value:re.subcategoryId,onChange:de=>le($e=>he(te({},$e),{subcategoryId:de,subsubCategoryId:""})),options:se,placeholder:"Search & select subcategory",disabled:!re.categoryId})]})]})}),r.jsxs("section",{className:"hidden",children:[r.jsx("h2",{className:"font-semibold text-brand-600",children:"Industry Classification"}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select the industry category that best describes your need."}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Category"}),r.jsx(Hf,{ariaLabel:"Industry Category",value:Ce.categoryId,onChange:de=>fe({categoryId:de,subcategoryId:""}),options:ae,placeholder:"Search & select industry category"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Subcategory"}),r.jsx(Hf,{ariaLabel:"Industry Subcategory",value:Ce.subcategoryId,onChange:de=>fe($e=>he(te({},$e),{subcategoryId:de})),options:G,placeholder:"Search & select industry subcategory",disabled:!Ce.categoryId})]})]})]}),r.jsx("section",{children:r.jsx("div",{className:"mb-4",children:u?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-brand-600"}),r.jsx("h3",{className:"font-semibold text-brand-600",children:"Share With (Target Audience)"})]}),r.jsxs("button",{type:"button",onClick:()=>f(!1),className:"inline-flex items-center gap-1 px-3 py-1 border border-gray-300 text-gray-600 rounded-lg text-xs hover:bg-gray-50",children:[r.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Hide"]})]}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select who should see this post."}),r.jsx(fl,{tree:H,selected:X,onChange:de=>J(de)})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{type:"button",onClick:()=>f(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[r.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M12 5v14M5 12h14"})}),"Define Target Audience (optional)"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Target your post to specific audiences"})]})})}),r.jsxs("div",{className:"flex justify-end gap-3",children:[!n&&r.jsx("button",{type:"button",className:wu.ghost,onClick:()=>a("/feed"),children:"Cancel"}),r.jsx("button",{type:"submit",className:wu.primary,disabled:m,children:m?"Saving":l?"Update":"Post"})]})]})]})}),S&&r.jsx(ff,{urls:Ne,initialIndex:C,onClose:lt})]})}const $5e=Object.freeze(Object.defineProperty({__proto__:null,default:N6},Symbol.toStringTag,{value:"Module"}));function P5e(){const{companyId:e}=ea(),[t]=pie(),n=Ht(),s=t.get("token"),[a,i]=d.useState(!0);d.useState(null);const[o,l]=d.useState(null);d.useEffect(()=>{if(!s){l("Authorization token is missing"),i(!1);return}c()},[s,e]);function c(){return pe(this,null,function*(){var u,f;try{i(!0),(yield Se.put("/company/representative/authorize",{token:s})).data.success&&(oe.success("Successfully authorized as company representative!"),setTimeout(()=>{n("/profile")},2e3))}catch(h){if(console.error("Authorization error:",h),(f=(u=h.response)==null?void 0:u.data)!=null&&f.message){const g=h.response.data.message;g.includes("Invalid or expired")?l("This authorization link has expired or is invalid. Please request a new authorization."):g.includes("not authorized")?l("You are not authorized to accept this invitation."):g.includes("Already authorized")?(l("You are already authorized as a representative for this company."),setTimeout(()=>{n("/profile")},3e3)):l(`Authorization failed: ${g}`)}else l("Authorization failed. Please try again or request a new authorization link.")}finally{i(!1)}})}return a?r.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
                   bg-gradient-to-br from-brand-50 via-white to-brand-50\r
                   sm:px-6 md:px-8`,children:r.jsx("div",{className:"w-full max-w-xl",children:r.jsxs("div",{className:`rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5\r
                       backdrop-blur p-6 sm:p-8 md:p-10 text-center`,children:[r.jsx("div",{className:"mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full bg-brand-100 text-brand-600",children:r.jsxs("svg",{className:"h-7 w-7 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]})}),r.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Authorizing"}),r.jsx("p",{className:"mt-3 text-center text-base sm:text-lg text-slate-600",children:"Please wait while we process your authorization."})]})})}):o?r.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
                   bg-gradient-to-br from-brand-50 via-white to-brand-50\r
                   sm:px-6 md:px-8`,children:r.jsx("div",{className:"w-full max-w-xl",children:r.jsxs("div",{className:`rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5\r
                       backdrop-blur p-6 sm:p-8 md:p-10`,children:[r.jsx("div",{className:"mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full bg-red-100 text-red-600",children:r.jsx("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),r.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Authorization Failed"}),r.jsx("p",{className:"mt-3 text-center text-base sm:text-lg text-slate-600",children:o}),r.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-3",children:[r.jsx("button",{onClick:()=>n("/profile"),className:`inline-flex items-center justify-center rounded-xl border border-gray-200 bg-white px-5 py-3\r
                           text-sm font-medium text-gray-700 hover:bg-gray-50 w-full sm:w-auto`,children:"Go to Profile"}),r.jsx("button",{onClick:()=>window.location.reload(),className:`inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-brand-700 to-brand-500\r
                           px-5 py-3 text-sm font-semibold text-white shadow-soft hover:opacity-95 w-full sm:w-auto`,children:"Try Again"})]})]})})}):r.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
                 bg-gradient-to-br from-brand-50 via-white to-brand-50\r
                 sm:px-6 md:px-8`,children:r.jsx("div",{className:"w-full max-w-xl",children:r.jsxs("div",{className:`rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5\r
                     backdrop-blur p-6 sm:p-8 md:p-10 text-center`,children:[r.jsx("div",{className:"mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full bg-brand-100 text-brand-600",children:r.jsxs("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.jsx("path",{d:"m22 4-12 12-3-3"})]})}),r.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Authorized!"}),r.jsx("p",{className:"mt-3 text-center text-base sm:text-lg text-slate-600",children:"You have been successfully authorized as a company representative."}),r.jsx("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-3",children:r.jsx("button",{onClick:()=>n("/profile"),className:`inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-brand-700 to-brand-500\r
                         px-5 py-3 text-sm font-semibold text-white shadow-soft hover:opacity-95 w-full sm:w-auto`,children:"Go to Profile"})})]})})})}const F8=e=>Se.put("/company/staff/confirm",e),D5e=e=>Se.get(`/company/invitation/${e}`),R5e=()=>{var g;const{companyId:e}=ea(),t=Ht(),[n,s]=d.useState(!0),[a,i]=d.useState(null),[o,l]=d.useState(null),[c,u]=d.useState(null);d.useEffect(()=>{const p=new URLSearchParams(window.location.search).get("token");if(!p){u("Invalid or missing invitation token"),s(!1);return}pe(void 0,null,function*(){try{const b=yield D5e(p);i(b.data.invitation),l(b.data.company),console.log(b.data.company)}catch(b){console.error("Error fetching invitation:",b),u("Invalid or expired invitation token")}finally{s(!1)}})},[e]);const f=()=>pe(void 0,null,function*(){try{s(!0);const p=new URLSearchParams(window.location.search).get("token");yield F8({token:p}),oe.success("Staff invitation accepted successfully!"),t("/profile")}catch(m){console.error("Error accepting invitation:",m),oe.error("Failed to accept invitation. Please try again.")}finally{s(!1)}}),h=()=>pe(void 0,null,function*(){try{s(!0);const p=new URLSearchParams(window.location.search).get("token");yield F8({token:p,action:"reject"}),oe.success("Staff invitation declined"),t("/profile")}catch(m){console.error("Error rejecting invitation:",m),oe.error("Failed to decline invitation. Please try again.")}finally{s(!1)}});return n?r.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
                   bg-gradient-to-br from-brand-50 via-white to-brand-50\r
                   sm:px-6 md:px-8`,children:r.jsx("div",{className:"w-full max-w-xl",children:r.jsxs("div",{className:`rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5\r
                       backdrop-blur p-6 sm:p-8 md:p-10`,children:[r.jsx("div",{className:"mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full bg-brand-100 text-brand-600",children:r.jsxs("svg",{className:"h-7 w-7 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]})}),r.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Loading Invitation"}),r.jsx("p",{className:"mt-3 text-center text-base sm:text-lg text-slate-600",children:"Hold on while we validate your invitation."})]})})}):c?r.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
                   bg-gradient-to-br from-brand-50 via-white to-brand-50\r
                   sm:px-6 md:px-8`,children:r.jsx("div",{className:"w-full max-w-xl",children:r.jsxs("div",{className:`rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5\r
                       backdrop-blur p-6 sm:p-8`,children:[r.jsx("div",{className:"mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full bg-red-100 text-red-600",children:r.jsx("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),r.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Invalid Invitation"}),r.jsx("p",{className:"mt-3 text-center text-base sm:text-lg text-slate-600",children:c}),r.jsx("div",{className:"mt-6 flex flex-col sm:flex-row items-center justify-center gap-3",children:r.jsx("button",{onClick:()=>t("/profile"),className:`inline-flex items-center justify-center rounded-xl border border-gray-200 bg-white px-5 py-3\r
                           text-sm font-medium text-gray-700 hover:bg-gray-50 w-full sm:w-auto`,children:"Return to Profile"})})]})})}):!a||!o?r.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
                   bg-gradient-to-br from-brand-50 via-white to-brand-50\r
                   sm:px-6 md:px-8`,children:r.jsx("div",{className:"w-full max-w-md",children:r.jsxs("div",{className:`rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5\r
                       backdrop-blur p-6 sm:p-8`,children:[r.jsx("div",{className:"mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full bg-gray-100 text-gray-600",children:r.jsx("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),r.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Invitation Not Found"}),r.jsx("p",{className:"mt-3 text-center text-base sm:text-lg text-slate-600",children:"This invitation may have expired or been cancelled."}),r.jsx("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-3",children:r.jsx("button",{onClick:()=>t("/profile"),className:`inline-flex items-center justify-center rounded-xl border border-gray-200 bg-white px-5 py-3\r
                           text-sm font-medium text-gray-700 hover:bg-gray-50 w-full sm:w-auto`,children:"Return to Profile"})})]})})}):r.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
                 bg-gradient-to-br from-brand-50 via-white to-brand-50\r
                 sm:px-6 md:px-8`,children:r.jsx("div",{className:"w-full max-w-xl",children:r.jsxs("div",{className:`rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5\r
                     backdrop-blur p-6 sm:p-8`,children:[r.jsx("div",{className:"mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full bg-brand-100 text-brand-600",children:r.jsx("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),r.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Staff Invitation"}),r.jsx("p",{className:"mt-3 text-center text-base sm:text-lg text-slate-600",children:"You've been invited to join a company team"}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"rounded-xl bg-slate-50 p-4",children:[r.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Company"}),r.jsx("p",{className:"text-lg font-medium text-brand-600",children:o.name}),o.description&&r.jsx("p",{className:"text-sm text-slate-600 mt-1",children:o.description})]}),r.jsxs("div",{className:"rounded-xl bg-slate-50 p-4",children:[r.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Role"}),r.jsx("p",{className:"text-lg font-medium text-slate-900 capitalize",children:((g=a.role)==null?void 0:g.replace("_"," "))||"Staff Member"})]}),a.message&&r.jsxs("div",{className:"rounded-xl bg-brand-50 p-4",children:[r.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Personal Message"}),r.jsxs("p",{className:"text-slate-700 italic",children:['"',a.message,'"']})]}),r.jsxs("div",{className:"rounded-xl bg-amber-50 p-4",children:[r.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Invitation Details"}),r.jsxs("p",{className:"text-sm text-slate-600",children:["Sent: ",r.jsx("span",{className:"font-medium",children:new Date(a.createdAt).toLocaleDateString()})]})]})]}),r.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-3",children:[r.jsx("button",{onClick:h,disabled:n,className:`inline-flex items-center justify-center rounded-xl border border-gray-200 bg-white px-5 py-3\r
                         text-sm font-medium text-gray-700 hover:bg-gray-50 w-full sm:w-auto disabled:opacity-50`,children:n?"Processing...":"Decline"}),r.jsx("button",{onClick:f,disabled:n,className:`inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-brand-700 to-brand-500\r
                         px-5 py-3 text-sm font-semibold text-white shadow-soft hover:opacity-95 w-full sm:w-auto disabled:opacity-50`,children:n?"Processing...":"Accept Invitation"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx("button",{onClick:()=>t("/profile"),className:"text-slate-500 hover:text-slate-700 text-sm",children:"Return to Profile"})})]})})})},B8=()=>{const{id:e,token:t}=ea(),[n,s]=d.useState([]),[a,i]=d.useState(!0),[o,l]=d.useState(null),[c,u]=d.useState(null),[f,h]=d.useState(!1),[g,m]=d.useState(!1);d.useEffect(()=>{pe(void 0,null,function*(){h(!1),g||(yield p(),m(!0))})},[e,t,g]);const p=()=>pe(void 0,null,function*(){try{i(!0);const w=yield Se.get("/organization/join-requests");s(w.data.requests||[])}catch(w){console.error("Failed to load join requests:",w),oe.error("Failed to load join requests")}finally{i(!1)}}),v=(w,j)=>pe(void 0,null,function*(){try{i(!0);const N=yield Se.get(`/organization/join-requests/${w}?token=${j}`);u(N.data.request)}catch(N){console.error("Failed to load join request:",N),oe.error("Invalid or expired join request link"),setTimeout(()=>{window.location.href="/login"},3e3)}finally{i(!1)}}),b=w=>pe(void 0,null,function*(){try{l(w),oe.loading("Approving join request...",{id:"approve-request"});const j=yield Se.put(`/organization/join-requests/${w}/approve`);oe.success("Join request approved successfully!",{id:"approve-request"}),p()}catch(j){console.error("Failed to approve request:",j),oe.error("Failed to approve join request",{id:"approve-request"})}finally{l(null)}}),y=w=>pe(void 0,null,function*(){try{l(w),oe.loading("Rejecting join request...",{id:"reject-request"});const j=yield Se.put(`/organization/join-requests/${w}/reject`);oe.success("Join request rejected",{id:"reject-request"}),p()}catch(j){console.error("Failed to reject request:",j),oe.error("Failed to reject join request",{id:"reject-request"})}finally{l(null)}}),x=w=>{switch(w){case"pending":return r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800",children:"Pending"});case"approved":return r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:"Approved"});case"rejected":return r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-red-100 text-red-800",children:"Rejected"});case"cancelled":return r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800",children:"Cancelled"});default:return r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800",children:w})}};return f?r.jsxs("div",{children:[r.jsx(an,{}),r.jsx("div",{className:"max-w-4xl mx-auto p-4 md:p-8",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-soft p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Join Request Details"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Review this join request from an email link"})]}),a?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),r.jsx("p",{className:"text-gray-500 mt-2",children:"Loading join request..."})]}):c?r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:c.user.avatarUrl?r.jsx("img",{src:c.user.avatarUrl,alt:c.user.name,className:"w-12 h-12 rounded-full object-cover"}):r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-gray-600 font-medium",children:c.user.name.charAt(0).toUpperCase()})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900",children:c.user.name}),x(c.status)]}),r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:c.user.email}),c.user.city&&c.user.country&&r.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[" ",c.user.city,", ",c.user.country]}),c.message&&r.jsxs("div",{className:"text-sm text-gray-700 bg-gray-50 p-2 rounded mt-2",children:[r.jsx("strong",{children:"Message:"}),' "',c.message,'"']}),r.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Requested ",new Date(c.requestedAt).toLocaleDateString()," at"," ",new Date(c.requestedAt).toLocaleTimeString()]})]})]}),c.status==="pending"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>b(c.id),disabled:o===c.id,className:"px-3 py-1 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 disabled:opacity-50",children:o===c.id?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Approving..."]}):"Approve"}),r.jsx("button",{onClick:()=>y(c.id),disabled:o===c.id,className:"px-3 py-1 border border-red-300 text-red-600 rounded-lg text-sm hover:bg-red-50 disabled:opacity-50",children:o===c.id?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Rejecting..."]}):"Reject"})]})]})}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Request not found"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"This join request link may be invalid or expired."})]})]})})]}):r.jsxs("div",{children:[r.jsx(an,{}),r.jsx("div",{className:"max-w-4xl mx-auto p-4 md:p-8",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-soft p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Organization Join Requests"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Review and manage requests from users who want to join your organization"})]}),r.jsx("button",{onClick:p,className:"px-4 py-2 text-gray-600 hover:text-gray-800",title:"Refresh",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),a?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),r.jsx("p",{className:"text-gray-500 mt-2",children:"Loading join requests..."})]}):n.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No join requests"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"When users request to join your organization, they will appear here."})]}):r.jsx("div",{className:"space-y-4",children:n.map(w=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:w.user.avatarUrl?r.jsx("img",{src:w.user.avatarUrl,alt:w.user.name,className:"w-12 h-12 rounded-full object-cover"}):r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-gray-600 font-medium",children:w.user.name.charAt(0).toUpperCase()})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900",children:w.user.name}),x(w.status)]}),r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:w.user.email}),w.user.city&&w.user.country&&r.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[" ",w.user.city,", ",w.user.country]}),w.message&&r.jsxs("div",{className:"text-sm text-gray-700 bg-gray-50 p-2 rounded mt-2",children:[r.jsx("strong",{children:"Message:"}),' "',w.message,'"']}),r.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Requested ",new Date(w.createdAt).toLocaleDateString()," at"," ",new Date(w.createdAt).toLocaleTimeString()]})]})]}),w.status==="pending"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>b(w.id),disabled:o===w.id,className:"px-3 py-1 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 disabled:opacity-50",children:o===w.id?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Approving..."]}):"Approve"}),r.jsx("button",{onClick:()=>y(w.id),disabled:o===w.id,className:"px-3 py-1 border border-red-300 text-red-600 rounded-lg text-sm hover:bg-red-50 disabled:opacity-50",children:o===w.id?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),r.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Rejecting..."]}):"Reject"})]})]})},w.id))})]})})]})},wN={complaint:"Complaint / Feedback",partnership:"Partnership / Collaboration",information:"Request Information",other:"Other"},jN={new:{label:"New",color:"bg-blue-100 text-blue-800",icon:JE},in_progress:{label:"In Progress",color:"bg-yellow-100 text-yellow-800",icon:ki},responded:{label:"Responded",color:"bg-green-100 text-green-800",icon:ox},closed:{label:"Closed",color:"bg-gray-100 text-gray-800",icon:LH}};function F5e(){const[e,t]=d.useState([]),[n,s]=d.useState(!0),[a,i]=d.useState(null),[o,l]=d.useState(!1),[c,u]=d.useState({search:"",status:"",contactReason:"",sortBy:"createdAt",sortOrder:"DESC"}),[f,h]=d.useState({page:1,limit:20,total:0,hasMore:!1}),[g,m]=d.useState(!1),p=(k=1)=>pe(this,null,function*(){try{s(!0);const E=he(te({page:k,limit:f.limit},c),{sortBy:c.sortBy,sortOrder:c.sortOrder}),S=yield o4e(E),I=S.data||S;t(k===1?I.contacts||[]:C=>[...C,...I.contacts||[]]),h(C=>he(te({},C),{page:k,total:I.total||0,hasMore:k*f.limit<(I.total||0)}))}catch(E){console.error("Error loading contacts:",E),oe.error("Failed to load contacts")}finally{s(!1)}});d.useEffect(()=>{p(1)},[c]);const v=k=>{u(E=>he(te({},E),{search:k}))},b=(k,E)=>{u(S=>he(te({},S),{[k]:E}))},y=(k,E,S="")=>pe(this,null,function*(){try{m(!0),yield l4e(k,E,S),t(I=>I.map(C=>C.id===k?he(te({},C),{status:E,respondedAt:E==="responded"?new Date:C.respondedAt}):C)),oe.success("Contact status updated successfully"),l(!1)}catch(I){console.error("Error updating contact status:",I),oe.error("Failed to update contact status")}finally{m(!1)}}),x=k=>pe(this,null,function*(){try{yield d4e(k),t(E=>E.map(S=>S.id===k?he(te({},S),{readAt:new Date}):S)),window.refreshUnreadContactsCount&&window.refreshUnreadContactsCount(),oe.success("Contact marked as read")}catch(E){console.error("Error marking contact as read:",E),oe.error("Failed to mark contact as read")}}),w=()=>pe(this,null,function*(){try{yield u4e(),t(k=>k.map(E=>he(te({},E),{readAt:new Date}))),window.refreshUnreadContactsCount&&window.refreshUnreadContactsCount(),oe.success("All contacts marked as read")}catch(k){console.error("Error marking all contacts as read:",k),oe.error("Failed to mark all contacts as read")}}),j=k=>pe(this,null,function*(){if(confirm("Are you sure you want to delete this contact?"))try{yield c4e(k),t(E=>E.filter(S=>S.id!==k)),oe.success("Contact deleted successfully")}catch(E){console.error("Error deleting contact:",E),oe.error("Failed to delete contact")}}),N=()=>pe(this,null,function*(){try{yield f4e(e),oe.success("Contacts exported successfully")}catch(k){console.error("Error exporting contacts:",k),oe.error("Failed to export contacts")}}),L=k=>new Date(k).toLocaleString();return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Contact Management"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Manage contact form submissions and inquiries"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:w,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(dh,{size:16}),"Mark All as Read"]}),r.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(La,{size:16}),"Export Excel"]})]})]}),r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:"Search by name or email...",value:c.search,onChange:k=>v(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]}),r.jsxs("select",{value:c.status,onChange:k=>b("status",k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"new",children:"New"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"responded",children:"Responded"}),r.jsx("option",{value:"closed",children:"Closed"})]}),r.jsxs("select",{value:c.contactReason,onChange:k=>b("contactReason",k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Reasons"}),r.jsx("option",{value:"complaint",children:"Complaint / Feedback"}),r.jsx("option",{value:"partnership",children:"Partnership / Collaboration"}),r.jsx("option",{value:"information",children:"Request Information"}),r.jsx("option",{value:"other",children:"Other"})]}),r.jsxs("select",{value:`${c.sortBy}-${c.sortOrder}`,onChange:k=>{const[E,S]=k.target.value.split("-");b("sortBy",E),b("sortOrder",S)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[r.jsx("option",{value:"createdAt-DESC",children:"Newest First"}),r.jsx("option",{value:"createdAt-ASC",children:"Oldest First"}),r.jsx("option",{value:"fullName-ASC",children:"Name A-Z"}),r.jsx("option",{value:"fullName-DESC",children:"Name Z-A"}),r.jsx("option",{value:"status-ASC",children:"Status A-Z"})]})]})}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attachment"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(k=>{var I,C,M;const E=(I=jN[k.status])==null?void 0:I.icon,S=!k.readAt;return r.jsxs("tr",{className:`hover:bg-gray-50 ${S?"bg-blue-50":""}`,children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center gap-2",children:[S&&r.jsx("button",{onClick:()=>x(k.id),className:"text-blue-600 hover:text-blue-900 mr-2",title:"Mark as Read",children:r.jsx("svg",{className:"fill-blue-600 hover:fill-blue-900",xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"24px",children:r.jsx("path",{d:"M480-480Zm280-160q-50 0-85-35t-35-85q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q28 0 55.5 4t54.5 12q-11 17-18 36.5T562-788q-20-6-40.5-9t-41.5-3q-134 0-227 93t-93 227q0 134 93 227t227 93q134 0 227-93t93-227q0-21-3-41.5t-9-40.5q20-3 39.5-10t36.5-18q8 27 12 54.5t4 55.5q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm-57-216 273-273q-20-7-37.5-17.5T625-611L424-410 310-522l-56 56 169 170Z"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.fullName}),r.jsx("div",{className:"text-sm text-gray-500",children:k.email}),k.phone&&r.jsx("div",{className:"text-sm text-gray-500",children:k.phone})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-900",children:wN[k.contactReason]||k.contactReason})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${(C=jN[k.status])==null?void 0:C.color}`,children:[E&&r.jsx(E,{size:12}),(M=jN[k.status])==null?void 0:M.label]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L(k.createdAt)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:k.attachment?r.jsxs("a",{href:k.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs hover:bg-gray-200 transition-colors",title:"Download Attachment",children:[r.jsx(La,{size:12}),k.attachmentName||"Download"]}):r.jsx("span",{className:"text-gray-400 text-xs",children:"No attachment"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>{i(k),l(!0)},className:"text-brand-600 hover:text-brand-900",title:"View Details",children:r.jsx(Uu,{size:16})}),r.jsx("button",{onClick:()=>y(k.id,k.status==="new"?"in_progress":"responded"),className:"text-green-600 hover:text-green-900",title:"Mark as Responded",children:r.jsx(ox,{size:16})}),r.jsx("button",{onClick:()=>j(k.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:r.jsx(On,{size:16})})]})})]},k.id)})})]})}),e.length===0&&!n&&r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"No contacts found"})}),n&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),r.jsx("p",{className:"text-gray-500 mt-2",children:"Loading contacts..."})]})]}),o&&a&&r.jsx("div",{style:{marginTop:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Contact Details"}),r.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Sr,{size:24})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.fullName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.jsx("a",{href:`mailto:${a.email}`,className:"text-brand-600 hover:underline",children:a.email})})]}),a.phone&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.phone})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Reason"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:wN[a.contactReason]||a.contactReason})]})]}),a.companyName&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.companyName})]}),a.website&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Website"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 hover:underline",children:a.website})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Message"}),r.jsx("div",{className:"mt-1 p-3 bg-gray-50 rounded-lg",children:r.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:a.message})})]}),a.attachment&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Attachment"}),r.jsx("div",{className:"mt-1",children:r.jsxs("a",{href:a.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[r.jsx(La,{size:16}),a.attachmentName||"Download Attachment"]})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),r.jsxs("select",{value:a.status,onChange:k=>y(a.id,k.target.value),disabled:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[r.jsx("option",{value:"new",children:"New"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"responded",children:"Responded"}),r.jsx("option",{value:"closed",children:"Closed"})]})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx("button",{onClick:()=>{const k=`Re: ${wN[a.contactReason]} - ${a.fullName}`,E=`Hi ${a.fullName},

Thank you for your inquiry. `;window.open(`mailto:${a.email}?subject=${encodeURIComponent(k)}&body=${encodeURIComponent(E)}`)},className:"flex-1 bg-brand-600 text-white px-4 py-2 rounded-lg hover:bg-brand-700 transition-colors",children:"Reply via Email"}),r.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})]})]})]})})})]})}const NN={technical:"Technical Error / System Failure",account:"Login / Access Problem",data:"Incorrect or Outdated Data",general:"Improvement Suggestion",other:"Other"},Qv={low:{label:"Low",color:"bg-green-100 text-green-800"},medium:{label:"Medium",color:"bg-yellow-100 text-yellow-800"},high:{label:"High",color:"bg-red-100 text-red-800"}},SN={new:{label:"New",color:"bg-blue-100 text-blue-800",icon:JE},in_progress:{label:"In Progress",color:"bg-yellow-100 text-yellow-800",icon:ki},responded:{label:"Responded",color:"bg-green-100 text-green-800",icon:ox},closed:{label:"Closed",color:"bg-gray-100 text-gray-800",icon:LH}};function B5e(){var k,E;const[e,t]=d.useState([]),[n,s]=d.useState(!0),[a,i]=d.useState(null),[o,l]=d.useState(!1),[c,u]=d.useState({search:"",status:"",priority:"",supportReason:"",sortBy:"createdAt",sortOrder:"DESC"}),[f,h]=d.useState({page:1,limit:20,total:0,hasMore:!1}),[g,m]=d.useState(!1),p=(S=1)=>pe(this,null,function*(){try{s(!0);const I=he(te({page:S,limit:f.limit},c),{sortBy:c.sortBy,sortOrder:c.sortOrder}),C=yield h4e(I),M=C.data||C;t(S===1?M.supports||[]:A=>[...A,...M.supports||[]]),h(A=>he(te({},A),{page:S,total:M.total||0,hasMore:S*f.limit<(M.total||0)}))}catch(I){console.error("Error loading supports:",I),oe.error("Failed to load supports")}finally{s(!1)}});d.useEffect(()=>{p(1)},[c]);const v=S=>{u(I=>he(te({},I),{search:S}))},b=(S,I)=>{u(C=>he(te({},C),{[S]:I}))},y=(S,I,C="")=>pe(this,null,function*(){try{m(!0),yield g4e(S,I,C),t(M=>M.map(A=>A.id===S?he(te({},A),{status:I,respondedAt:I==="responded"?new Date:A.respondedAt}):A)),oe.success("Support status updated successfully"),l(!1)}catch(M){console.error("Error updating support status:",M),oe.error("Failed to update support status")}finally{m(!1)}}),x=S=>pe(this,null,function*(){try{yield p4e(S),t(I=>I.map(C=>C.id===S?he(te({},C),{readAt:new Date}):C)),window.refreshUnreadSupportsCount&&window.refreshUnreadSupportsCount(),oe.success("Support marked as read")}catch(I){console.error("Error marking support as read:",I),oe.error("Failed to mark support as read")}}),w=()=>pe(this,null,function*(){try{yield x4e(),t(S=>S.map(I=>he(te({},I),{readAt:new Date}))),window.refreshUnreadSupportsCount&&window.refreshUnreadSupportsCount(),oe.success("All supports marked as read")}catch(S){console.error("Error marking all supports as read:",S),oe.error("Failed to mark all supports as read")}}),j=S=>pe(this,null,function*(){if(confirm("Are you sure you want to delete this support request?"))try{yield m4e(S),t(I=>I.filter(C=>C.id!==S)),oe.success("Support request deleted successfully")}catch(I){console.error("Error deleting support:",I),oe.error("Failed to delete support request")}}),N=()=>pe(this,null,function*(){try{yield w4e(e),oe.success("Supports exported successfully")}catch(S){console.error("Error exporting supports:",S),oe.error("Failed to export supports")}}),L=S=>new Date(S).toLocaleString();return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Support Management"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Manage support requests and inquiries"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:w,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(dh,{size:16}),"Mark All as Read"]}),r.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(La,{size:16}),"Export Excel"]})]})]}),r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",placeholder:"Search by name or email...",value:c.search,onChange:S=>v(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]}),r.jsxs("select",{value:c.status,onChange:S=>b("status",S.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"new",children:"New"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"responded",children:"Responded"}),r.jsx("option",{value:"closed",children:"Closed"})]}),r.jsxs("select",{value:c.priority,onChange:S=>b("priority",S.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Priorities"}),r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]}),r.jsxs("select",{value:c.supportReason,onChange:S=>b("supportReason",S.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Reasons"}),r.jsx("option",{value:"technical",children:"Technical Error / System Failure"}),r.jsx("option",{value:"account",children:"Login / Access Problem"}),r.jsx("option",{value:"data",children:"Incorrect or Outdated Data"}),r.jsx("option",{value:"general",children:"Improvement Suggestion"}),r.jsx("option",{value:"other",children:"Other"})]}),r.jsxs("select",{value:`${c.sortBy}-${c.sortOrder}`,onChange:S=>{const[I,C]=S.target.value.split("-");b("sortBy",I),b("sortOrder",C)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[r.jsx("option",{value:"createdAt-DESC",children:"Newest First"}),r.jsx("option",{value:"createdAt-ASC",children:"Oldest First"}),r.jsx("option",{value:"fullName-ASC",children:"Name A-Z"}),r.jsx("option",{value:"fullName-DESC",children:"Name Z-A"}),r.jsx("option",{value:"priority-ASC",children:"Priority A-Z"}),r.jsx("option",{value:"status-ASC",children:"Status A-Z"})]})]})}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Support"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attachment"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(S=>{var M,A,H,W,X;const I=(M=SN[S.status])==null?void 0:M.icon,C=!S.readAt;return r.jsxs("tr",{className:`hover:bg-gray-50 ${C?"bg-blue-50":""}`,children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center gap-2",children:[C&&r.jsx("button",{onClick:()=>x(S.id),className:"text-blue-600 hover:text-blue-900 mr-2",title:"Mark as Read",children:r.jsx("svg",{className:"fill-blue-600 hover:fill-blue-900",xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"24px",children:r.jsx("path",{d:"M480-480Zm280-160q-50 0-85-35t-35-85q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q28 0 55.5 4t54.5 12q-11 17-18 36.5T562-788q-20-6-40.5-9t-41.5-3q-134 0-227 93t-93 227q0 134 93 227t227 93q134 0 227-93t93-227q0-21-3-41.5t-9-40.5q20-3 39.5-10t36.5-18q8 27 12 54.5t4 55.5q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm-57-216 273-273q-20-7-37.5-17.5T625-611L424-410 310-522l-56 56 169 170Z"})})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.fullName}),r.jsx("div",{className:"text-sm text-gray-500",children:S.email}),S.phone&&r.jsx("div",{className:"text-sm text-gray-500",children:S.phone})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-900",children:NN[S.supportReason]||S.supportReason})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${(A=Qv[S.priority])==null?void 0:A.color}`,children:(H=Qv[S.priority])==null?void 0:H.label})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${(W=SN[S.status])==null?void 0:W.color}`,children:[I&&r.jsx(I,{size:12}),(X=SN[S.status])==null?void 0:X.label]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L(S.createdAt)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:S.attachment?r.jsxs("a",{href:S.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs hover:bg-gray-200 transition-colors",title:"Download Attachment",children:[r.jsx(La,{size:12}),S.attachmentName||"Download"]}):r.jsx("span",{className:"text-gray-400 text-xs",children:"No attachment"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>{i(S),l(!0)},className:"text-brand-600 hover:text-brand-900",title:"View Details",children:r.jsx(Uu,{size:16})}),r.jsx("button",{onClick:()=>y(S.id,S.status==="new"?"in_progress":"responded"),className:"text-green-600 hover:text-green-900",title:"Mark as Responded",children:r.jsx(ox,{size:16})}),r.jsx("button",{onClick:()=>j(S.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:r.jsx(On,{size:16})})]})})]},S.id)})})]})}),e.length===0&&!n&&r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"No support requests found"})}),n&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),r.jsx("p",{className:"text-gray-500 mt-2",children:"Loading supports..."})]})]}),o&&a&&r.jsx("div",{style:{marginTop:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Support Details"}),r.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Sr,{size:24})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.fullName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.jsx("a",{href:`mailto:${a.email}`,className:"text-brand-600 hover:underline",children:a.email})})]}),a.phone&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:a.phone})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Reason"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:NN[a.supportReason]||a.supportReason})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${(k=Qv[a.priority])==null?void 0:k.color}`,children:(E=Qv[a.priority])==null?void 0:E.label})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Message"}),r.jsx("div",{className:"mt-1 p-3 bg-gray-50 rounded-lg",children:r.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:a.message})})]}),a.attachment&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Attachment"}),r.jsx("div",{className:"mt-1",children:r.jsxs("a",{href:a.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[r.jsx(La,{size:16}),a.attachmentName||"Download Attachment"]})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),r.jsxs("select",{value:a.status,onChange:S=>y(a.id,S.target.value),disabled:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[r.jsx("option",{value:"new",children:"New"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"responded",children:"Responded"}),r.jsx("option",{value:"closed",children:"Closed"})]})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx("button",{onClick:()=>{const S=`Re: ${NN[a.supportReason]} - ${a.fullName}`,I=`Hi ${a.fullName},

Thank you for your support request. `;window.open(`mailto:${a.email}?subject=${encodeURIComponent(S)}&body=${encodeURIComponent(I)}`)},className:"flex-1 bg-brand-600 text-white px-4 py-2 rounded-lg hover:bg-brand-700 transition-colors",children:"Reply via Email"}),r.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})]})]})]})})})]})}const z8=[{value:"all",label:"All Users"},{value:"connections",label:"Users Connected to Poster"},{value:"newUsers",label:"New Users Only"},{value:"matchingInterests",label:"Users with Matching Interests"}],U8=[{value:"all",label:"All Users"},{value:"selectedUsers",label:"Selected Users"},{value:"newUsers",label:"New Users Only"}];function z5e(){var H,W;const[e,t]=d.useState({newPostNotificationSettings:{enabled:!0,audienceType:"all",audienceOptions:["all"],excludeCreator:!0,emailSubject:"New {{postType}} posted by {{authorName}} on 54Links",emailTemplate:"new-post"},customNotificationSettings:{enabled:!0,audienceType:"all",audienceOptions:["all"],selectedUsers:[],message:"",emailSubject:"Important Update from 54Links",emailTemplate:"custom-notification"}}),[n,s]=d.useState(!0),[a,i]=d.useState(!1),[o,l]=d.useState(!1),[c,u]=d.useState("new-posts"),[f,h]=d.useState([]),[g,m]=d.useState(""),[p,v]=d.useState([]),[b,y]=d.useState(!1),x=d.useRef(null);d.useEffect(()=>{k()},[]);const w=X=>pe(this,null,function*(){if(!X.trim()){v([]);return}y(!0);try{const{data:J}=yield Se.get(`/users/search?q=${encodeURIComponent(X)}`),Z=J.filter(F=>!f.some(D=>D.id===F.id));v(Z)}catch(J){console.error("Error searching users:",J),v([])}finally{y(!1)}});d.useEffect(()=>{const X=J=>{x.current&&!x.current.contains(J.target)&&v([])};return document.addEventListener("mousedown",X),()=>{document.removeEventListener("mousedown",X)}},[]);const j=X=>{const J=X.target.value;m(J),clearTimeout(window.userSearchTimeout),window.userSearchTimeout=setTimeout(()=>{w(J)},300)},N=X=>{if(!f.some(J=>J.id===X.id)){const J=[...f,X];h(J),t(Z=>he(te({},Z),{customNotificationSettings:he(te({},Z.customNotificationSettings),{selectedUsers:J.map(F=>F.id)})}))}m(""),v([])},L=X=>{const J=f.filter(Z=>Z.id!==X);h(J),t(Z=>he(te({},Z),{customNotificationSettings:he(te({},Z.customNotificationSettings),{selectedUsers:J.map(F=>F.id)})}))};d.useEffect(()=>{pe(this,null,function*(){var J;if(((J=e.customNotificationSettings.selectedUsers)==null?void 0:J.length)>0)try{const Z=e.customNotificationSettings.selectedUsers.map(O=>Se.get(`/users/${O}/public/basic`).catch(()=>({data:{id:O,name:"Unknown User"}}))),D=(yield Promise.all(Z)).map(O=>O.data);h(D)}catch(Z){console.error("Error loading selected users:",Z),h(e.customNotificationSettings.selectedUsers.map(F=>({id:F,name:"Unknown User"})))}else h([])})},[e.customNotificationSettings.selectedUsers]);const k=()=>pe(this,null,function*(){try{s(!0);const X=yield v4e();X.data&&t(X.data)}catch(X){console.error("Error loading admin settings:",X),oe.error("Failed to load notification settings")}finally{s(!1)}}),E=X=>pe(this,null,function*(){try{i(!0),yield y4e(e),X!="ignore_toast"&&oe.success("Notification settings saved successfully")}catch(J){console.error("Error saving admin settings:",J),oe.error("Failed to save notification settings")}finally{i(!1)}}),S=()=>pe(this,null,function*(){try{if(!A.message||!A.emailSubject){oe.error("Please provide both message and subject");return}yield E("ignore_toast"),l(!0);const X=yield b4e({message:A.message,subject:A.emailSubject,audienceType:A.audienceType,selectedUsers:A.selectedUsers});oe.success(`Custom notification sent to ${X.userCount} users successfully`)}catch(X){console.error("Error sending custom notification:",X),oe.error("Failed to send custom notification")}finally{l(!1)}}),I=(X,J,Z=!1)=>{const F=Z?"customNotificationSettings":"newPostNotificationSettings",D=e[F].audienceOptions||[];let O;J?O=[...D,X]:O=D.filter(T=>T!==X),X!="all"&&J&&(O=O.filter(T=>T!="all")),X=="all"&&J&&(O=["all"]),O.length===0&&(O=["all"]),t(T=>he(te({},T),{[F]:he(te({},T[F]),{audienceOptions:O})}))},C=(X,J,Z=!1)=>{const F=Z?"customNotificationSettings":"newPostNotificationSettings";t(D=>he(te({},D),{[F]:he(te({},D[F]),{[X]:J})}))};if(n)return r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600"}),r.jsx("span",{className:"ml-2",children:"Loading settings..."})]});const{newPostNotificationSettings:M,customNotificationSettings:A}=e;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Notification Center"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Configure notifications and send custom messages to users"})]}),r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-1",children:r.jsxs("div",{className:"flex",children:[r.jsx("button",{onClick:()=>u("new-posts"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors ${c==="new-posts"?"bg-brand-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:"New Post Notifications"}),r.jsx("button",{onClick:()=>u("custom"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors ${c==="custom"?"bg-brand-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:"Custom Notifications"})]})}),c==="new-posts"&&r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"New Post Notifications"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Send email notifications when users post new content"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",checked:M.enabled,onChange:X=>C("enabled",X.target.checked)}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-600"})]})]}),M.enabled&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Who receives notifications?"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Select which users should receive notifications for new posts"}),r.jsx("div",{className:"space-y-3",children:z8.map(X=>{var J;return r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300 rounded",checked:((J=M.audienceOptions)==null?void 0:J.includes(X.value))||!1,onChange:Z=>I(X.value,Z.target.checked)}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:X.label})]},X.value)})}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Users will receive notifications if they match ANY of the selected criteria above."})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300 rounded",checked:M.excludeCreator,onChange:X=>C("excludeCreator",X.target.checked)}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Exclude the post creator from receiving notifications"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Subject Template"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",value:M.emailSubject,onChange:X=>C("emailSubject",X.target.value),placeholder:"New {{postType}} posted by {{authorName}} on 54Links"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Available variables: ","{{postType}}",", ","{{authorName}}"," "]})]}),r.jsxs("div",{className:"hidden",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Template"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",value:M.emailTemplate,onChange:X=>C("emailTemplate",X.target.value),children:[r.jsx("option",{value:"new-post",children:"New Post Template"}),r.jsx("option",{value:"custom",children:"Custom Template (coming soon)"})]})]})]})]}),r.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:r.jsx("button",{onClick:E,disabled:a,className:"inline-flex items-center gap-2 px-6 py-2 bg-brand-600 text-white text-sm font-medium rounded-lg hover:bg-brand-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):"Save Settings"})})]}),c==="custom"&&r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Custom Notifications"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Send custom notifications to users"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",checked:A.enabled,onChange:X=>C("enabled",X.target.checked,!0)}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-600"})]})]}),A.enabled&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Who receives notifications?"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Select which users should receive this custom notification"}),r.jsx("div",{className:"space-y-3",children:U8.map(X=>r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"customNotificationAudience",className:"h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300",checked:A.audienceType===X.value,onChange:J=>{C("audienceType",X.value,!0),C("audienceOptions",[X.value],!0)}}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:X.label})]},X.value))}),A.audienceType==="selectedUsers"&&r.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Specific Users"}),f.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:f.map(X=>r.jsxs("div",{className:"inline-flex items-center gap-2 bg-brand-50 text-brand-700 rounded-full px-3 py-1 text-xs font-medium",children:[X.avatarUrl?r.jsx("img",{src:X.avatarUrl,alt:X.name,className:"w-4 h-4 rounded-full object-cover"}):r.jsx("div",{className:"w-4 h-4 rounded-full bg-brand-100 flex items-center justify-center text-xs font-medium text-brand-700",children:X.name?X.name.charAt(0).toUpperCase():"U"}),X.name||X.email,r.jsx("button",{type:"button",onClick:()=>L(X.id),className:"text-brand-500 hover:text-brand-700",children:r.jsx(Sr,{size:12})})]},X.id))}),r.jsxs("div",{ref:x,className:"relative",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:g,onChange:j,placeholder:"Search users by name or email...",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30"}),b&&r.jsx("div",{className:"absolute right-3 top-2.5",children:r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-500"})})]}),p.length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:p.map(X=>r.jsxs("button",{type:"button",onClick:()=>N(X),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3",children:[X.avatarUrl?r.jsx("img",{src:X.avatarUrl,alt:X.name,className:"w-6 h-6 rounded-full object-cover"}):r.jsx("div",{className:"w-6 h-6 rounded-full bg-brand-100 flex items-center justify-center text-xs font-medium text-brand-700",children:X.name?X.name.charAt(0).toUpperCase():"U"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:X.name}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:X.email})]})]},X.id))})]})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Users will receive notifications if they match ANY of the selected criteria above."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message Content"}),r.jsx(yq,{theme:"snow",value:A.message||"",onChange:X=>C("message",X,!0),placeholder:"Enter your custom notification message...",modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},formats:["header","bold","italic","underline","color","background","list","bullet","link"],className:"bg-white rounded-xl border border-gray-200",style:{minHeight:"120px"}}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This message will be sent as both email and in-app notification."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Subject"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",value:A.emailSubject,onChange:X=>C("emailSubject",X.target.value,!0),placeholder:"Important Update from 54Links"})]}),r.jsx("div",{className:"pt-4 border-t border-gray-200",children:r.jsx("button",{onClick:S,disabled:o,className:"inline-flex items-center gap-2 px-6 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Sending..."]}):"Save & Send Notification"})})]})]}),r.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:r.jsx("button",{onClick:E,disabled:a,className:"inline-flex items-center gap-2 px-6 py-2 bg-brand-600 text-white text-sm font-medium rounded-lg hover:bg-brand-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):"Save Settings"})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Preview"}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsx("div",{className:"text-sm",children:c==="new-posts"?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Email Subject:"}),r.jsx("div",{className:"text-gray-700 mb-4",children:M.emailSubject.replace("{{postType}}","job").replace("{{authorName}}","John Doe")}),r.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Selected Audience:"}),r.jsx("div",{className:"text-gray-700",children:((H=M.audienceOptions)==null?void 0:H.length)>0?M.audienceOptions.map(X=>{var J;return(J=z8.find(Z=>Z.value===X))==null?void 0:J.label}).filter(Boolean).join(", "):"None selected"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Email Subject:"}),r.jsx("div",{className:"text-gray-700 mb-4",children:A.emailSubject}),r.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Message Preview:"}),r.jsx("div",{className:"text-gray-700 mb-4",dangerouslySetInnerHTML:{__html:A.message||"No message content"}}),r.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Selected Audience:"}),r.jsx("div",{className:"text-gray-700",children:((W=A.audienceOptions)==null?void 0:W.length)>0?A.audienceOptions.map(X=>{var J;return(J=U8.find(Z=>Z.value===X))==null?void 0:J.label}).filter(Boolean).join(", "):"None selected"})]})})})]})]})}function U5e(){return r.jsx(die,{children:r.jsxs(tie,{children:[r.jsx(Gt,{path:"/login",element:r.jsx(Tpe,{})}),r.jsx(Gt,{path:"/onboarding",element:r.jsx(JTe,{})}),r.jsx(Gt,{path:"/onboarding-one",element:r.jsx(YTe,{})}),r.jsx(Gt,{path:"/signup",element:r.jsx($pe,{})}),r.jsx(Gt,{path:"*",element:r.jsx(Lpe,{})}),r.jsx(Gt,{path:"/verify-email-sent",element:r.jsx(Ppe,{})}),r.jsx(Gt,{path:"/verify/:token",element:r.jsx(Dpe,{})}),r.jsx(Gt,{path:"/delete-account/:token",element:r.jsx(zpe,{})}),r.jsx(Gt,{path:"/reset-success",element:r.jsx(Vpe,{})}),r.jsx(Gt,{path:"/forgot",element:r.jsx(Upe,{})}),r.jsx(Gt,{path:"/reset-email-sent",element:r.jsx(Wpe,{})}),r.jsx(Gt,{path:"/reset/:token",element:r.jsx(Hpe,{})}),r.jsx(Gt,{path:"/onboarding/who-you-are",element:r.jsx(NEe,{})}),r.jsx(Gt,{path:"/onboarding/industry",element:r.jsx(SEe,{})}),r.jsx(Gt,{path:"/onboarding/goals",element:r.jsx(LEe,{})}),r.jsx(Gt,{path:"/terms",element:r.jsx(l5e,{})}),r.jsx(Gt,{path:"/landing",element:r.jsx(q4,{})}),r.jsx(Gt,{path:"/privacy",element:r.jsx(c5e,{})}),r.jsxs(Gt,{element:r.jsx(qTe,{}),children:[r.jsx(Gt,{path:"/jobs/create",element:r.jsx(cy,{})}),r.jsx(Gt,{path:"/events/create",element:r.jsx(u6,{})}),r.jsx(Gt,{path:"/notifications",element:r.jsx(WEe,{})}),r.jsx(Gt,{path:"/services/create",element:r.jsx(dy,{})}),r.jsx(Gt,{path:"/services/request/create",element:r.jsx(dy,{})}),r.jsx(Gt,{path:"/products/create",element:r.jsx(f6,{})}),r.jsx(Gt,{path:"/experiences/create",element:r.jsx(h6,{})}),r.jsx(Gt,{path:"/messages",element:r.jsx(GTe,{})}),r.jsx(Gt,{path:"/meetings",element:r.jsx(VEe,{})}),r.jsx(Gt,{path:"/fundings/create",element:r.jsx(b6,{})}),r.jsx(Gt,{path:"/offerings/create",element:r.jsx(D8,{})}),r.jsx(Gt,{path:"/need/:type/create",element:r.jsx(N6,{})}),r.jsx(Gt,{path:"/profile",element:r.jsx(k$,{})}),r.jsx(Gt,{path:"/profile/company/:companyId/authorize",element:r.jsx(P5e,{})}),r.jsx(Gt,{path:"/profile/company/:companyId/staff/confirm",element:r.jsx(R5e,{})}),r.jsx(Gt,{path:"/organization/join-requests",element:r.jsx(B8,{})}),r.jsx(Gt,{path:"/organization/join-request/:id/:token",element:r.jsx(B8,{})}),r.jsx(Gt,{path:"/settings",element:r.jsx(k4e,{})})]}),r.jsxs(Gt,{path:"/admin",element:r.jsx(w5e,{}),children:[r.jsx(Gt,{index:!0,element:r.jsx(k5e,{})}),r.jsx(Gt,{path:"users",element:r.jsx(E5e,{})}),r.jsx(Gt,{path:"content-moderation",element:r.jsx(I5e,{})}),r.jsx(Gt,{path:"contacts",element:r.jsx(F5e,{})}),r.jsx(Gt,{path:"supports",element:r.jsx(B5e,{})}),r.jsx(Gt,{path:"notification-center",element:r.jsx(z5e,{})}),r.jsx(Gt,{path:"user-profile/:id",element:r.jsx(k$,{})})]}),r.jsxs(Gt,{element:r.jsx(QTe,{}),children:[r.jsx(Gt,{path:"/",element:r.jsx(q4,{})}),r.jsx(Gt,{path:"/dashboard",element:r.jsx(q4,{})}),r.jsx(Gt,{path:"/moment/:type/create",element:r.jsx(w6,{})}),r.jsx(Gt,{path:"/funding",element:r.jsx(n5e,{})}),r.jsx(Gt,{path:"/events",element:r.jsx(AEe,{})}),r.jsx(Gt,{path:"/jobs",element:r.jsx(IEe,{})}),r.jsx(Gt,{path:"/tourism",element:r.jsx(OEe,{})}),r.jsx(Gt,{path:"/companies",element:r.jsx(zEe,{})}),r.jsx(Gt,{path:"/people",element:r.jsx(bq,{})}),r.jsx(Gt,{path:"/profile/:userId",element:r.jsx(v5e,{})}),r.jsx(Gt,{path:"/services",element:r.jsx(XTe,{})}),r.jsx(Gt,{path:"/products",element:r.jsx(t5e,{})}),r.jsx(Gt,{path:"/jobs/:id",element:r.jsx(cy,{})}),r.jsx(Gt,{path:"/job/:id",element:r.jsx(cy,{})}),r.jsx(Gt,{path:"/event/:id",element:r.jsx(u6,{})}),r.jsx(Gt,{path:"/funding/:id",element:r.jsx(b6,{})}),r.jsx(Gt,{path:"/product/:id",element:r.jsx(f6,{})}),r.jsx(Gt,{path:"/experience/:id",element:r.jsx(h6,{})}),r.jsx(Gt,{path:"/service/:id",element:r.jsx(dy,{})}),r.jsx(Gt,{path:"/offering/:id",element:r.jsx(D8,{})}),r.jsx(Gt,{path:"/need/:id",element:r.jsx(N6,{})}),r.jsx(Gt,{path:"/moment/:id",element:r.jsx(w6,{})})]})]})})}var Yg=function(e){return e&&e.Math===Math&&e},Vt=Yg(typeof globalThis=="object"&&globalThis)||Yg(typeof window=="object"&&window)||Yg(typeof self=="object"&&self)||Yg(typeof Ys=="object"&&Ys)||Yg(typeof Ys=="object"&&Ys)||function(){return this}()||Function("return this")(),fa={},$t=function(e){try{return!!e()}catch(t){return!0}},W5e=$t,ir=!W5e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),H5e=$t,jx=!H5e(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),V5e=jx,Kv=Function.prototype.call,or=V5e?Kv.bind(Kv):function(){return Kv.apply(Kv,arguments)},Nx={},WY={}.propertyIsEnumerable,HY=Object.getOwnPropertyDescriptor,G5e=HY&&!WY.call({1:2},1);Nx.f=G5e?function(t){var n=HY(this,t);return!!n&&n.enumerable}:WY;var oo=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},VY=jx,GY=Function.prototype,S6=GY.call,q5e=VY&&GY.bind.bind(S6,S6),zt=VY?q5e:function(e){return function(){return S6.apply(e,arguments)}},qY=zt,Y5e=qY({}.toString),J5e=qY("".slice),ha=function(e){return J5e(Y5e(e),8,-1)},Z5e=zt,Q5e=$t,K5e=ha,CN=Object,X5e=Z5e("".split),Zh=Q5e(function(){return!CN("z").propertyIsEnumerable(0)})?function(e){return K5e(e)==="String"?X5e(e,""):CN(e)}:CN,ti=function(e){return e==null},eAe=ti,tAe=TypeError,wn=function(e){if(eAe(e))throw new tAe("Can't call method on "+e);return e},rAe=Zh,nAe=wn,Ds=function(e){return rAe(nAe(e))},kN=typeof document=="object"&&document.all,Or=typeof kN=="undefined"&&kN!==void 0?function(e){return typeof e=="function"||e===kN}:function(e){return typeof e=="function"},sAe=Or,kr=function(e){return typeof e=="object"?e!==null:sAe(e)},EN=Vt,aAe=Or,iAe=function(e){return aAe(e)?e:void 0},rn=function(e,t){return arguments.length<2?iAe(EN[e]):EN[e]&&EN[e][t]},oAe=zt,ri=oAe({}.isPrototypeOf),lAe=Vt,W8=lAe.navigator,H8=W8&&W8.userAgent,gl=H8?String(H8):"",YY=Vt,LN=gl,V8=YY.process,G8=YY.Deno,q8=V8&&V8.versions||G8&&G8.version,Y8=q8&&q8.v8,Eo,qb;Y8&&(Eo=Y8.split("."),qb=Eo[0]>0&&Eo[0]<4?1:+(Eo[0]+Eo[1]));!qb&&LN&&(Eo=LN.match(/Edge\/(\d+)/),(!Eo||Eo[1]>=74)&&(Eo=LN.match(/Chrome\/(\d+)/),Eo&&(qb=+Eo[1])));var sc=qb,J8=sc,cAe=$t,dAe=Vt,uAe=dAe.String,Qh=!!Object.getOwnPropertySymbols&&!cAe(function(){var e=Symbol("symbol detection");return!uAe(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&J8&&J8<41}),fAe=Qh,JY=fAe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",hAe=rn,gAe=Or,mAe=ri,pAe=JY,xAe=Object,vf=pAe?function(e){return typeof e=="symbol"}:function(e){var t=hAe("Symbol");return gAe(t)&&mAe(t.prototype,xAe(e))},vAe=String,yf=function(e){try{return vAe(e)}catch(t){return"Object"}},yAe=Or,bAe=yf,wAe=TypeError,Dr=function(e){if(yAe(e))return e;throw new wAe(bAe(e)+" is not a function")},jAe=Dr,NAe=ti,ml=function(e,t){var n=e[t];return NAe(n)?void 0:jAe(n)},MN=or,IN=Or,TN=kr,SAe=TypeError,ZY=function(e,t){var n,s;if(t==="string"&&IN(n=e.toString)&&!TN(s=MN(n,e))||IN(n=e.valueOf)&&!TN(s=MN(n,e))||t!=="string"&&IN(n=e.toString)&&!TN(s=MN(n,e)))return s;throw new SAe("Can't convert object to primitive value")},QY={exports:{}},ac=!1,Z8=Vt,CAe=Object.defineProperty,QL=function(e,t){try{CAe(Z8,e,{value:t,configurable:!0,writable:!0})}catch(n){Z8[e]=t}return t},kAe=Vt,EAe=QL,Q8="__core-js_shared__",K8=QY.exports=kAe[Q8]||EAe(Q8,{});(K8.versions||(K8.versions=[])).push({version:"3.39.0",mode:"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"});var KL=QY.exports,X8=KL,Kh=function(e,t){return X8[e]||(X8[e]=t||{})},LAe=wn,MAe=Object,Vr=function(e){return MAe(LAe(e))},IAe=zt,TAe=Vr,AAe=IAe({}.hasOwnProperty),Rr=Object.hasOwn||function(t,n){return AAe(TAe(t),n)},_Ae=zt,OAe=0,$Ae=Math.random(),PAe=_Ae(1 .toString),Xh=function(e){return"Symbol("+(e===void 0?"":e)+")_"+PAe(++OAe+$Ae,36)},DAe=Vt,RAe=Kh,eP=Rr,FAe=Xh,BAe=Qh,zAe=JY,E0=DAe.Symbol,AN=RAe("wks"),UAe=zAe?E0.for||E0:E0&&E0.withoutSetter||FAe,Er=function(e){return eP(AN,e)||(AN[e]=BAe&&eP(E0,e)?E0[e]:UAe("Symbol."+e)),AN[e]},WAe=or,tP=kr,rP=vf,HAe=ml,VAe=ZY,GAe=Er,qAe=TypeError,YAe=GAe("toPrimitive"),Vw=function(e,t){if(!tP(e)||rP(e))return e;var n=HAe(e,YAe),s;if(n){if(t===void 0&&(t="default"),s=WAe(n,e,t),!tP(s)||rP(s))return s;throw new qAe("Can't convert object to primitive value")}return t===void 0&&(t="number"),VAe(e,t)},JAe=Vw,ZAe=vf,Wd=function(e){var t=JAe(e,"string");return ZAe(t)?t:t+""},QAe=Vt,nP=kr,C6=QAe.document,KAe=nP(C6)&&nP(C6.createElement),Gw=function(e){return KAe?C6.createElement(e):{}},XAe=ir,e_e=$t,t_e=Gw,KY=!XAe&&!e_e(function(){return Object.defineProperty(t_e("div"),"a",{get:function(){return 7}}).a!==7}),r_e=ir,n_e=or,s_e=Nx,a_e=oo,i_e=Ds,o_e=Wd,l_e=Rr,c_e=KY,sP=Object.getOwnPropertyDescriptor;fa.f=r_e?sP:function(t,n){if(t=i_e(t),n=o_e(n),c_e)try{return sP(t,n)}catch(s){}if(l_e(t,n))return a_e(!n_e(s_e.f,t,n),t[n])};var jn={},d_e=ir,u_e=$t,XY=d_e&&u_e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),f_e=kr,h_e=String,g_e=TypeError,nr=function(e){if(f_e(e))return e;throw new g_e(h_e(e)+" is not an object")},m_e=ir,p_e=KY,x_e=XY,Xv=nr,aP=Wd,v_e=TypeError,_N=Object.defineProperty,y_e=Object.getOwnPropertyDescriptor,ON="enumerable",$N="configurable",PN="writable";jn.f=m_e?x_e?function(t,n,s){if(Xv(t),n=aP(n),Xv(s),typeof t=="function"&&n==="prototype"&&"value"in s&&PN in s&&!s[PN]){var a=y_e(t,n);a&&a[PN]&&(t[n]=s.value,s={configurable:$N in s?s[$N]:a[$N],enumerable:ON in s?s[ON]:a[ON],writable:!1})}return _N(t,n,s)}:_N:function(t,n,s){if(Xv(t),n=aP(n),Xv(s),p_e)try{return _N(t,n,s)}catch(a){}if("get"in s||"set"in s)throw new v_e("Accessors not supported");return"value"in s&&(t[n]=s.value),t};var b_e=ir,w_e=jn,j_e=oo,ga=b_e?function(e,t,n){return w_e.f(e,t,j_e(1,n))}:function(e,t,n){return e[t]=n,e},eJ={exports:{}},k6=ir,N_e=Rr,tJ=Function.prototype,S_e=k6&&Object.getOwnPropertyDescriptor,XL=N_e(tJ,"name"),C_e=XL&&function(){}.name==="something",k_e=XL&&(!k6||k6&&S_e(tJ,"name").configurable),eg={EXISTS:XL,PROPER:C_e,CONFIGURABLE:k_e},E_e=zt,L_e=Or,E6=KL,M_e=E_e(Function.toString);L_e(E6.inspectSource)||(E6.inspectSource=function(e){return M_e(e)});var eM=E6.inspectSource,I_e=Vt,T_e=Or,iP=I_e.WeakMap,rJ=T_e(iP)&&/native code/.test(String(iP)),A_e=Kh,__e=Xh,oP=A_e("keys"),qw=function(e){return oP[e]||(oP[e]=__e(e))},Sx={},O_e=rJ,nJ=Vt,$_e=kr,P_e=ga,DN=Rr,RN=KL,D_e=qw,R_e=Sx,lP="Object already initialized",L6=nJ.TypeError,F_e=nJ.WeakMap,Yb,zp,Jb,B_e=function(e){return Jb(e)?zp(e):Yb(e,{})},z_e=function(e){return function(t){var n;if(!$_e(t)||(n=zp(t)).type!==e)throw new L6("Incompatible receiver, "+e+" required");return n}};if(O_e||RN.state){var Jo=RN.state||(RN.state=new F_e);Jo.get=Jo.get,Jo.has=Jo.has,Jo.set=Jo.set,Yb=function(e,t){if(Jo.has(e))throw new L6(lP);return t.facade=e,Jo.set(e,t),t},zp=function(e){return Jo.get(e)||{}},Jb=function(e){return Jo.has(e)}}else{var Vf=D_e("state");R_e[Vf]=!0,Yb=function(e,t){if(DN(e,Vf))throw new L6(lP);return t.facade=e,P_e(e,Vf,t),t},zp=function(e){return DN(e,Vf)?e[Vf]:{}},Jb=function(e){return DN(e,Vf)}}var Zn={set:Yb,get:zp,has:Jb,enforce:B_e,getterFor:z_e},tM=zt,U_e=$t,W_e=Or,e1=Rr,M6=ir,H_e=eg.CONFIGURABLE,V_e=eM,sJ=Zn,G_e=sJ.enforce,q_e=sJ.get,cP=String,my=Object.defineProperty,Y_e=tM("".slice),J_e=tM("".replace),Z_e=tM([].join),Q_e=M6&&!U_e(function(){return my(function(){},"length",{value:8}).length!==8}),K_e=String(String).split("String"),X_e=eJ.exports=function(e,t,n){Y_e(cP(t),0,7)==="Symbol("&&(t="["+J_e(cP(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!e1(e,"name")||H_e&&e.name!==t)&&(M6?my(e,"name",{value:t,configurable:!0}):e.name=t),Q_e&&n&&e1(n,"arity")&&e.length!==n.arity&&my(e,"length",{value:n.arity});try{n&&e1(n,"constructor")&&n.constructor?M6&&my(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(a){}var s=G_e(e);return e1(s,"source")||(s.source=Z_e(K_e,typeof t=="string"?t:"")),e};Function.prototype.toString=X_e(function(){return W_e(this)&&q_e(this).source||V_e(this)},"toString");var rM=eJ.exports,eOe=Or,tOe=jn,rOe=rM,nOe=QL,Nn=function(e,t,n,s){s||(s={});var a=s.enumerable,i=s.name!==void 0?s.name:t;if(eOe(n)&&rOe(n,i,s),s.global)a?e[t]=n:nOe(t,n);else{try{s.unsafe?e[t]&&(a=!0):delete e[t]}catch(o){}a?e[t]=n:tOe.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e},Hd={},sOe=Math.ceil,aOe=Math.floor,aJ=Math.trunc||function(t){var n=+t;return(n>0?aOe:sOe)(n)},iOe=aJ,Pn=function(e){var t=+e;return t!==t||t===0?0:iOe(t)},oOe=Pn,lOe=Math.max,cOe=Math.min,ic=function(e,t){var n=oOe(e);return n<0?lOe(n+t,0):cOe(n,t)},dOe=Pn,uOe=Math.min,Li=function(e){var t=dOe(e);return t>0?uOe(t,9007199254740991):0},fOe=Li,nn=function(e){return fOe(e.length)},hOe=Ds,gOe=ic,mOe=nn,dP=function(e){return function(t,n,s){var a=hOe(t),i=mOe(a);if(i===0)return!e&&-1;var o=gOe(s,i),l;if(e&&n!==n){for(;i>o;)if(l=a[o++],l!==l)return!0}else for(;i>o;o++)if((e||o in a)&&a[o]===n)return e||o||0;return!e&&-1}},Cx={includes:dP(!0),indexOf:dP(!1)},pOe=zt,FN=Rr,xOe=Ds,vOe=Cx.indexOf,yOe=Sx,uP=pOe([].push),iJ=function(e,t){var n=xOe(e),s=0,a=[],i;for(i in n)!FN(yOe,i)&&FN(n,i)&&uP(a,i);for(;t.length>s;)FN(n,i=t[s++])&&(~vOe(a,i)||uP(a,i));return a},nM=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],bOe=iJ,wOe=nM,jOe=wOe.concat("length","prototype");Hd.f=Object.getOwnPropertyNames||function(t){return bOe(t,jOe)};var kx={};kx.f=Object.getOwnPropertySymbols;var NOe=rn,SOe=zt,COe=Hd,kOe=kx,EOe=nr,LOe=SOe([].concat),sM=NOe("Reflect","ownKeys")||function(t){var n=COe.f(EOe(t)),s=kOe.f;return s?LOe(n,s(t)):n},fP=Rr,MOe=sM,IOe=fa,TOe=jn,Ex=function(e,t,n){for(var s=MOe(t),a=TOe.f,i=IOe.f,o=0;o<s.length;o++){var l=s[o];!fP(e,l)&&!(n&&fP(n,l))&&a(e,l,i(t,l))}},AOe=$t,_Oe=Or,OOe=/#|\.prototype\./,Lx=function(e,t){var n=POe[$Oe(e)];return n===ROe?!0:n===DOe?!1:_Oe(t)?AOe(t):!!t},$Oe=Lx.normalize=function(e){return String(e).replace(OOe,".").toLowerCase()},POe=Lx.data={},DOe=Lx.NATIVE="N",ROe=Lx.POLYFILL="P",Mx=Lx,t1=Vt,FOe=fa.f,BOe=ga,zOe=Nn,UOe=QL,WOe=Ex,HOe=Mx,Je=function(e,t){var n=e.target,s=e.global,a=e.stat,i,o,l,c,u,f;if(s?o=t1:a?o=t1[n]||UOe(n,{}):o=t1[n]&&t1[n].prototype,o)for(l in t){if(u=t[l],e.dontCallGetSet?(f=FOe(o,l),c=f&&f.value):c=o[l],i=HOe(s?l:n+(a?".":"#")+l,e.forced),!i&&c!==void 0){if(typeof u==typeof c)continue;WOe(u,c)}(e.sham||c&&c.sham)&&BOe(u,"sham",!0),zOe(o,l,u,e)}},VOe=Er,GOe=VOe("toStringTag"),oJ={};oJ[GOe]="z";var aM=String(oJ)==="[object z]",qOe=aM,YOe=Or,py=ha,JOe=Er,ZOe=JOe("toStringTag"),QOe=Object,KOe=py(function(){return arguments}())==="Arguments",XOe=function(e,t){try{return e[t]}catch(n){}},pl=qOe?py:function(e){var t,n,s;return e===void 0?"Undefined":e===null?"Null":typeof(n=XOe(t=QOe(e),ZOe))=="string"?n:KOe?py(t):(s=py(t))==="Object"&&YOe(t.callee)?"Arguments":s},e$e=pl,t$e=String,fr=function(e){if(e$e(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return t$e(e)},Yw={},r$e=iJ,n$e=nM,Ix=Object.keys||function(t){return r$e(t,n$e)},s$e=ir,a$e=XY,i$e=jn,o$e=nr,l$e=Ds,c$e=Ix;Yw.f=s$e&&!a$e?Object.defineProperties:function(t,n){o$e(t);for(var s=l$e(n),a=c$e(n),i=a.length,o=0,l;i>o;)i$e.f(t,l=a[o++],s[l]);return t};var d$e=rn,lJ=d$e("document","documentElement"),u$e=nr,f$e=Yw,hP=nM,h$e=Sx,g$e=lJ,m$e=Gw,p$e=qw,gP=">",mP="<",I6="prototype",T6="script",cJ=p$e("IE_PROTO"),BN=function(){},dJ=function(e){return mP+T6+gP+e+mP+"/"+T6+gP},pP=function(e){e.write(dJ("")),e.close();var t=e.parentWindow.Object;return e=null,t},x$e=function(){var e=m$e("iframe"),t="java"+T6+":",n;return e.style.display="none",g$e.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(dJ("document.F=Object")),n.close(),n.F},r1,xy=function(){try{r1=new ActiveXObject("htmlfile")}catch(t){}xy=typeof document!="undefined"?document.domain&&r1?pP(r1):x$e():pP(r1);for(var e=hP.length;e--;)delete xy[I6][hP[e]];return xy()};h$e[cJ]=!0;var Mi=Object.create||function(t,n){var s;return t!==null?(BN[I6]=u$e(t),s=new BN,BN[I6]=null,s[cJ]=t):s=xy(),n===void 0?s:f$e.f(s,n)},Jw={},v$e=zt,lo=v$e([].slice),y$e=ha,b$e=Ds,uJ=Hd.f,w$e=lo,fJ=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],j$e=function(e){try{return uJ(e)}catch(t){return w$e(fJ)}};Jw.f=function(t){return fJ&&y$e(t)==="Window"?j$e(t):uJ(b$e(t))};var xP=rM,N$e=jn,ds=function(e,t,n){return n.get&&xP(n.get,t,{getter:!0}),n.set&&xP(n.set,t,{setter:!0}),N$e.f(e,t,n)},iM={},S$e=Er;iM.f=S$e;var C$e=Vt,hJ=C$e,vP=hJ,k$e=Rr,E$e=iM,L$e=jn.f,ni=function(e){var t=vP.Symbol||(vP.Symbol={});k$e(t,e)||L$e(t,e,{value:E$e.f(e)})},M$e=or,I$e=rn,T$e=Er,A$e=Nn,gJ=function(){var e=I$e("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=T$e("toPrimitive");t&&!t[s]&&A$e(t,s,function(a){return M$e(n,this)},{arity:1})},_$e=jn.f,O$e=Rr,$$e=Er,yP=$$e("toStringTag"),si=function(e,t,n){e&&!n&&(e=e.prototype),e&&!O$e(e,yP)&&_$e(e,yP,{configurable:!0,value:t})},P$e=ha,D$e=zt,Vd=function(e){if(P$e(e)==="Function")return D$e(e)},bP=Vd,R$e=Dr,F$e=jx,B$e=bP(bP.bind),Uo=function(e,t){return R$e(e),t===void 0?e:F$e?B$e(e,t):function(){return e.apply(t,arguments)}},z$e=ha,Gd=Array.isArray||function(t){return z$e(t)==="Array"},U$e=zt,W$e=$t,mJ=Or,H$e=pl,V$e=rn,G$e=eM,pJ=function(){},xJ=V$e("Reflect","construct"),oM=/^\s*(?:class|function)\b/,q$e=U$e(oM.exec),Y$e=!oM.test(pJ),Jg=function(t){if(!mJ(t))return!1;try{return xJ(pJ,[],t),!0}catch(n){return!1}},vJ=function(t){if(!mJ(t))return!1;switch(H$e(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Y$e||!!q$e(oM,G$e(t))}catch(n){return!0}};vJ.sham=!0;var tg=!xJ||W$e(function(){var e;return Jg(Jg.call)||!Jg(Object)||!Jg(function(){e=!0})||e})?vJ:Jg,wP=Gd,J$e=tg,Z$e=kr,Q$e=Er,K$e=Q$e("species"),jP=Array,X$e=function(e){var t;return wP(e)&&(t=e.constructor,J$e(t)&&(t===jP||wP(t.prototype))?t=void 0:Z$e(t)&&(t=t[K$e],t===null&&(t=void 0))),t===void 0?jP:t},e8e=X$e,Tx=function(e,t){return new(e8e(e))(t===0?0:t)},t8e=Uo,r8e=zt,n8e=Zh,s8e=Vr,a8e=nn,i8e=Tx,NP=r8e([].push),kc=function(e){var t=e===1,n=e===2,s=e===3,a=e===4,i=e===6,o=e===7,l=e===5||i;return function(c,u,f,h){for(var g=s8e(c),m=n8e(g),p=a8e(m),v=t8e(u,f),b=0,y=h||i8e,x=t?y(c,p):n||o?y(c,0):void 0,w,j;p>b;b++)if((l||b in m)&&(w=m[b],j=v(w,b,g),e))if(t)x[b]=j;else if(j)switch(e){case 3:return!0;case 5:return w;case 6:return b;case 2:NP(x,w)}else switch(e){case 4:return!1;case 7:NP(x,w)}return i?-1:s||a?a:x}},ta={forEach:kc(0),map:kc(1),filter:kc(2),some:kc(3),every:kc(4),find:kc(5),findIndex:kc(6),filterReject:kc(7)},Zw=Je,Ax=Vt,lM=or,o8e=zt,ph=ir,xh=Qh,l8e=$t,ms=Rr,c8e=ri,A6=nr,Qw=Ds,cM=Wd,d8e=fr,_6=oo,vh=Mi,yJ=Ix,u8e=Hd,bJ=Jw,f8e=kx,wJ=fa,jJ=jn,h8e=Yw,NJ=Nx,zN=Nn,g8e=ds,dM=Kh,m8e=qw,SJ=Sx,SP=Xh,p8e=Er,x8e=iM,v8e=ni,y8e=gJ,b8e=si,CJ=Zn,Kw=ta.forEach,Ba=m8e("hidden"),Xw="Symbol",Up="prototype",w8e=CJ.set,CP=CJ.getterFor(Xw),Qi=Object[Up],_u=Ax.Symbol,ym=_u&&_u[Up],j8e=Ax.RangeError,N8e=Ax.TypeError,UN=Ax.QObject,kJ=wJ.f,Ou=jJ.f,EJ=bJ.f,S8e=NJ.f,LJ=o8e([].push),Hl=dM("symbols"),_x=dM("op-symbols"),C8e=dM("wks"),O6=!UN||!UN[Up]||!UN[Up].findChild,MJ=function(e,t,n){var s=kJ(Qi,t);s&&delete Qi[t],Ou(e,t,n),s&&e!==Qi&&Ou(Qi,t,s)},$6=ph&&l8e(function(){return vh(Ou({},"a",{get:function(){return Ou(this,"a",{value:7}).a}})).a!==7})?MJ:Ou,WN=function(e,t){var n=Hl[e]=vh(ym);return w8e(n,{type:Xw,tag:e,description:t}),ph||(n.description=t),n},ej=function(t,n,s){t===Qi&&ej(_x,n,s),A6(t);var a=cM(n);return A6(s),ms(Hl,a)?(s.enumerable?(ms(t,Ba)&&t[Ba][a]&&(t[Ba][a]=!1),s=vh(s,{enumerable:_6(0,!1)})):(ms(t,Ba)||Ou(t,Ba,_6(1,vh(null))),t[Ba][a]=!0),$6(t,a,s)):Ou(t,a,s)},uM=function(t,n){A6(t);var s=Qw(n),a=yJ(s).concat(AJ(s));return Kw(a,function(i){(!ph||lM(P6,s,i))&&ej(t,i,s[i])}),t},k8e=function(t,n){return n===void 0?vh(t):uM(vh(t),n)},P6=function(t){var n=cM(t),s=lM(S8e,this,n);return this===Qi&&ms(Hl,n)&&!ms(_x,n)?!1:s||!ms(this,n)||!ms(Hl,n)||ms(this,Ba)&&this[Ba][n]?s:!0},IJ=function(t,n){var s=Qw(t),a=cM(n);if(!(s===Qi&&ms(Hl,a)&&!ms(_x,a))){var i=kJ(s,a);return i&&ms(Hl,a)&&!(ms(s,Ba)&&s[Ba][a])&&(i.enumerable=!0),i}},TJ=function(t){var n=EJ(Qw(t)),s=[];return Kw(n,function(a){!ms(Hl,a)&&!ms(SJ,a)&&LJ(s,a)}),s},AJ=function(e){var t=e===Qi,n=EJ(t?_x:Qw(e)),s=[];return Kw(n,function(a){ms(Hl,a)&&(!t||ms(Qi,a))&&LJ(s,Hl[a])}),s};xh||(_u=function(){if(c8e(ym,this))throw new N8e("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:d8e(arguments[0]),n=SP(t),s=function(a){var i=this===void 0?Ax:this;i===Qi&&lM(s,_x,a),ms(i,Ba)&&ms(i[Ba],n)&&(i[Ba][n]=!1);var o=_6(1,a);try{$6(i,n,o)}catch(l){if(!(l instanceof j8e))throw l;MJ(i,n,o)}};return ph&&O6&&$6(Qi,n,{configurable:!0,set:s}),WN(n,t)},ym=_u[Up],zN(ym,"toString",function(){return CP(this).tag}),zN(_u,"withoutSetter",function(e){return WN(SP(e),e)}),NJ.f=P6,jJ.f=ej,h8e.f=uM,wJ.f=IJ,u8e.f=bJ.f=TJ,f8e.f=AJ,x8e.f=function(e){return WN(p8e(e),e)},ph&&(g8e(ym,"description",{configurable:!0,get:function(){return CP(this).description}}),zN(Qi,"propertyIsEnumerable",P6,{unsafe:!0})));Zw({global:!0,constructor:!0,wrap:!0,forced:!xh,sham:!xh},{Symbol:_u});Kw(yJ(C8e),function(e){v8e(e)});Zw({target:Xw,stat:!0,forced:!xh},{useSetter:function(){O6=!0},useSimple:function(){O6=!1}});Zw({target:"Object",stat:!0,forced:!xh,sham:!ph},{create:k8e,defineProperty:ej,defineProperties:uM,getOwnPropertyDescriptor:IJ});Zw({target:"Object",stat:!0,forced:!xh},{getOwnPropertyNames:TJ});y8e();b8e(_u,Xw);SJ[Ba]=!0;var E8e=Qh,_J=E8e&&!!Symbol.for&&!!Symbol.keyFor,L8e=Je,M8e=rn,I8e=Rr,T8e=fr,OJ=Kh,A8e=_J,HN=OJ("string-to-symbol-registry"),_8e=OJ("symbol-to-string-registry");L8e({target:"Symbol",stat:!0,forced:!A8e},{for:function(e){var t=T8e(e);if(I8e(HN,t))return HN[t];var n=M8e("Symbol")(t);return HN[t]=n,_8e[n]=t,n}});var O8e=Je,$8e=Rr,P8e=vf,D8e=yf,R8e=Kh,F8e=_J,kP=R8e("symbol-to-string-registry");O8e({target:"Symbol",stat:!0,forced:!F8e},{keyFor:function(t){if(!P8e(t))throw new TypeError(D8e(t)+" is not a symbol");if($8e(kP,t))return kP[t]}});var B8e=jx,$J=Function.prototype,EP=$J.apply,LP=$J.call,co=typeof Reflect=="object"&&Reflect.apply||(B8e?LP.bind(EP):function(){return LP.apply(EP,arguments)}),z8e=zt,MP=Gd,U8e=Or,IP=ha,W8e=fr,TP=z8e([].push),H8e=function(e){if(U8e(e))return e;if(MP(e)){for(var t=e.length,n=[],s=0;s<t;s++){var a=e[s];typeof a=="string"?TP(n,a):(typeof a=="number"||IP(a)==="Number"||IP(a)==="String")&&TP(n,W8e(a))}var i=n.length,o=!0;return function(l,c){if(o)return o=!1,c;if(MP(this))return c;for(var u=0;u<i;u++)if(n[u]===l)return c}}},V8e=Je,PJ=rn,DJ=co,G8e=or,Ox=zt,RJ=$t,AP=Or,_P=vf,FJ=lo,q8e=H8e,Y8e=Qh,J8e=String,cd=PJ("JSON","stringify"),n1=Ox(/./.exec),OP=Ox("".charAt),Z8e=Ox("".charCodeAt),Q8e=Ox("".replace),K8e=Ox(1 .toString),X8e=/[\uD800-\uDFFF]/g,$P=/^[\uD800-\uDBFF]$/,PP=/^[\uDC00-\uDFFF]$/,DP=!Y8e||RJ(function(){var e=PJ("Symbol")("stringify detection");return cd([e])!=="[null]"||cd({a:e})!=="{}"||cd(Object(e))!=="{}"}),RP=RJ(function(){return cd("\uDF06\uD834")!=='"\\udf06\\ud834"'||cd("\uDEAD")!=='"\\udead"'}),ePe=function(e,t){var n=FJ(arguments),s=q8e(t);if(!(!AP(s)&&(e===void 0||_P(e))))return n[1]=function(a,i){if(AP(s)&&(i=G8e(s,this,J8e(a),i)),!_P(i))return i},DJ(cd,null,n)},tPe=function(e,t,n){var s=OP(n,t-1),a=OP(n,t+1);return n1($P,e)&&!n1(PP,a)||n1(PP,e)&&!n1($P,s)?"\\u"+K8e(Z8e(e,0),16):e};cd&&V8e({target:"JSON",stat:!0,arity:3,forced:DP||RP},{stringify:function(t,n,s){var a=FJ(arguments),i=DJ(DP?ePe:cd,null,a);return RP&&typeof i=="string"?Q8e(i,X8e,tPe):i}});var rPe=Je,nPe=Qh,sPe=$t,BJ=kx,aPe=Vr,iPe=!nPe||sPe(function(){BJ.f(1)});rPe({target:"Object",stat:!0,forced:iPe},{getOwnPropertySymbols:function(t){var n=BJ.f;return n?n(aPe(t)):[]}});var oPe=Je,lPe=ir,cPe=Vt,s1=zt,dPe=Rr,uPe=Or,fPe=ri,hPe=fr,gPe=ds,mPe=Ex,El=cPe.Symbol,tu=El&&El.prototype;if(lPe&&uPe(El)&&(!("description"in tu)||El().description!==void 0)){var FP={},a1=function(){var t=arguments.length<1||arguments[0]===void 0?void 0:hPe(arguments[0]),n=fPe(tu,this)?new El(t):t===void 0?El():El(t);return t===""&&(FP[n]=!0),n};mPe(a1,El),a1.prototype=tu,tu.constructor=a1;var pPe=String(El("description detection"))==="Symbol(description detection)",xPe=s1(tu.valueOf),vPe=s1(tu.toString),yPe=/^Symbol\((.*)\)[^)]+$/,bPe=s1("".replace),wPe=s1("".slice);gPe(tu,"description",{configurable:!0,get:function(){var t=xPe(this);if(dPe(FP,t))return"";var n=vPe(t),s=pPe?wPe(n,7,-1):bPe(n,yPe,"$1");return s===""?void 0:s}}),oPe({global:!0,constructor:!0,forced:!0},{Symbol:a1})}var jPe=ni;jPe("asyncIterator");var NPe=ni;NPe("hasInstance");var SPe=ni;SPe("isConcatSpreadable");var CPe=ni;CPe("iterator");var kPe=ni;kPe("match");var EPe=ni;EPe("matchAll");var LPe=ni;LPe("replace");var MPe=ni;MPe("search");var IPe=ni;IPe("species");var TPe=ni;TPe("split");var APe=ni,_Pe=gJ;APe("toPrimitive");_Pe();var OPe=rn,$Pe=ni,PPe=si;$Pe("toStringTag");PPe(OPe("Symbol"),"Symbol");var DPe=ni;DPe("unscopables");var RPe=zt,FPe=Dr,tj=function(e,t,n){try{return RPe(FPe(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(s){}},BPe=kr,zJ=function(e){return BPe(e)||e===null},zPe=zJ,UPe=String,WPe=TypeError,UJ=function(e){if(zPe(e))return e;throw new WPe("Can't set "+UPe(e)+" as a prototype")},HPe=tj,VPe=kr,GPe=wn,qPe=UJ,xl=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},n;try{n=HPe(Object.prototype,"__proto__","set"),n(t,[]),e=t instanceof Array}catch(s){}return function(a,i){return GPe(a),qPe(i),VPe(a)&&(e?n(a,i):a.__proto__=i),a}}():void 0),YPe=jn.f,WJ=function(e,t,n){n in e||YPe(e,n,{configurable:!0,get:function(){return t[n]},set:function(s){t[n]=s}})},JPe=Or,ZPe=kr,BP=xl,bf=function(e,t,n){var s,a;return BP&&JPe(s=t.constructor)&&s!==n&&ZPe(a=s.prototype)&&a!==n.prototype&&BP(e,a),e},QPe=fr,$x=function(e,t){return e===void 0?arguments.length<2?"":t:QPe(e)},KPe=kr,XPe=ga,HJ=function(e,t){KPe(t)&&"cause"in t&&XPe(e,"cause",t.cause)},e9e=zt,VJ=Error,t9e=e9e("".replace),r9e=function(e){return String(new VJ(e).stack)}("zxcasd"),GJ=/\n\s*at [^:]*:[^\n]*/,n9e=GJ.test(r9e),fM=function(e,t){if(n9e&&typeof e=="string"&&!VJ.prepareStackTrace)for(;t--;)e=t9e(e,GJ,"");return e},s9e=$t,a9e=oo,qJ=!s9e(function(){var e=new Error("a");return"stack"in e?(Object.defineProperty(e,"stack",a9e(1,7)),e.stack!==7):!0}),i9e=ga,o9e=fM,l9e=qJ,zP=Error.captureStackTrace,YJ=function(e,t,n,s){l9e&&(zP?zP(e,t):i9e(e,"stack",o9e(n,s)))},UP=rn,c9e=Rr,WP=ga,d9e=ri,HP=xl,VP=Ex,GP=WJ,u9e=bf,f9e=$x,h9e=HJ,g9e=YJ,m9e=ir,JJ=function(e,t,n,s){var a="stackTraceLimit",i=s?2:1,o=e.split("."),l=o[o.length-1],c=UP.apply(null,o);if(c){var u=c.prototype;if(c9e(u,"cause")&&delete u.cause,!n)return c;var f=UP("Error"),h=t(function(g,m){var p=f9e(s?m:g,void 0),v=s?new c(g):new c;return p!==void 0&&WP(v,"message",p),g9e(v,h,v.stack,2),this&&d9e(u,this)&&u9e(v,this,h),arguments.length>i&&h9e(v,arguments[i]),v});h.prototype=u,l!=="Error"?HP?HP(h,f):VP(h,f,{name:!0}):m9e&&a in c&&(GP(h,c,a),GP(h,c,"prepareStackTrace")),VP(h,c);try{u.name!==l&&WP(u,"name",l),u.constructor=h}catch(g){}return h}},ZJ=Je,p9e=Vt,vl=co,QJ=JJ,D6="WebAssembly",qP=p9e[D6],Zb=new Error("e",{cause:7}).cause!==7,wf=function(e,t){var n={};n[e]=QJ(e,t,Zb),ZJ({global:!0,constructor:!0,arity:1,forced:Zb},n)},hM=function(e,t){if(qP&&qP[e]){var n={};n[e]=QJ(D6+"."+e,t,Zb),ZJ({target:D6,stat:!0,constructor:!0,arity:1,forced:Zb},n)}};wf("Error",function(e){return function(n){return vl(e,this,arguments)}});wf("EvalError",function(e){return function(n){return vl(e,this,arguments)}});wf("RangeError",function(e){return function(n){return vl(e,this,arguments)}});wf("ReferenceError",function(e){return function(n){return vl(e,this,arguments)}});wf("SyntaxError",function(e){return function(n){return vl(e,this,arguments)}});wf("TypeError",function(e){return function(n){return vl(e,this,arguments)}});wf("URIError",function(e){return function(n){return vl(e,this,arguments)}});hM("CompileError",function(e){return function(n){return vl(e,this,arguments)}});hM("LinkError",function(e){return function(n){return vl(e,this,arguments)}});hM("RuntimeError",function(e){return function(n){return vl(e,this,arguments)}});var x9e=ir,v9e=$t,y9e=nr,YP=$x,vy=Error.prototype.toString,b9e=v9e(function(){if(x9e){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if(vy.call(e)!=="true")return!0}return vy.call({message:1,name:2})!=="2: 1"||vy.call({})!=="Error"}),KJ=b9e?function(){var t=y9e(this),n=YP(t.name,"Error"),s=YP(t.message);return n?s?n+": "+s:n:s}:vy,w9e=Nn,JP=KJ,ZP=Error.prototype;ZP.toString!==JP&&w9e(ZP,"toString",JP);var j9e=$t,gM=!j9e(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),N9e=Rr,S9e=Or,C9e=Vr,k9e=qw,E9e=gM,QP=k9e("IE_PROTO"),R6=Object,L9e=R6.prototype,Ii=E9e?R6.getPrototypeOf:function(e){var t=C9e(e);if(N9e(t,QP))return t[QP];var n=t.constructor;return S9e(n)&&t instanceof n?n.prototype:t instanceof R6?L9e:null},Px={},M9e=Er,I9e=Px,T9e=M9e("iterator"),A9e=Array.prototype,mM=function(e){return e!==void 0&&(I9e.Array===e||A9e[T9e]===e)},_9e=pl,KP=ml,O9e=ti,$9e=Px,P9e=Er,D9e=P9e("iterator"),rg=function(e){if(!O9e(e))return KP(e,D9e)||KP(e,"@@iterator")||$9e[_9e(e)]},R9e=or,F9e=Dr,B9e=nr,z9e=yf,U9e=rg,W9e=TypeError,rj=function(e,t){var n=arguments.length<2?U9e(e):t;if(F9e(n))return B9e(R9e(n,e));throw new W9e(z9e(e)+" is not iterable")},H9e=or,XP=nr,V9e=ml,jf=function(e,t,n){var s,a;XP(e);try{if(s=V9e(e,"return"),!s){if(t==="throw")throw n;return n}s=H9e(s,e)}catch(i){a=!0,s=i}if(t==="throw")throw n;if(a)throw s;return XP(s),n},G9e=Uo,q9e=or,Y9e=nr,J9e=yf,Z9e=mM,Q9e=nn,e9=ri,K9e=rj,X9e=rg,t9=jf,eDe=TypeError,yy=function(e,t){this.stopped=e,this.result=t},r9=yy.prototype,Rs=function(e,t,n){var s=n&&n.that,a=!!(n&&n.AS_ENTRIES),i=!!(n&&n.IS_RECORD),o=!!(n&&n.IS_ITERATOR),l=!!(n&&n.INTERRUPTED),c=G9e(t,s),u,f,h,g,m,p,v,b=function(x){return u&&t9(u,"normal",x),new yy(!0,x)},y=function(x){return a?(Y9e(x),l?c(x[0],x[1],b):c(x[0],x[1])):l?c(x,b):c(x)};if(i)u=e.iterator;else if(o)u=e;else{if(f=X9e(e),!f)throw new eDe(J9e(e)+" is not iterable");if(Z9e(f)){for(h=0,g=Q9e(e);g>h;h++)if(m=y(e[h]),m&&e9(r9,m))return m;return new yy(!1)}u=K9e(e,f)}for(p=i?e.next:u.next;!(v=q9e(p,u)).done;){try{m=y(v.value)}catch(x){t9(u,"throw",x)}if(typeof m=="object"&&m&&e9(r9,m))return m}return new yy(!1)},tDe=Je,rDe=ri,nDe=Ii,Qb=xl,sDe=Ex,XJ=Mi,VN=ga,GN=oo,aDe=HJ,iDe=YJ,oDe=Rs,lDe=$x,cDe=Er,dDe=cDe("toStringTag"),Kb=Error,uDe=[].push,yh=function(t,n){var s=rDe(qN,this),a;Qb?a=Qb(new Kb,s?nDe(this):qN):(a=s?this:XJ(qN),VN(a,dDe,"Error")),n!==void 0&&VN(a,"message",lDe(n)),iDe(a,yh,a.stack,1),arguments.length>2&&aDe(a,arguments[2]);var i=[];return oDe(t,uDe,{that:i}),VN(a,"errors",i),a};Qb?Qb(yh,Kb):sDe(yh,Kb,{name:!0});var qN=yh.prototype=XJ(Kb.prototype,{constructor:GN(1,yh),message:GN(1,""),name:GN(1,"AggregateError")});tDe({global:!0,constructor:!0,arity:2},{AggregateError:yh});var fDe=Je,hDe=rn,gDe=co,n9=$t,mDe=JJ,pM="AggregateError",s9=hDe(pM),a9=!n9(function(){return s9([1]).errors[0]!==1})&&n9(function(){return s9([1],pM,{cause:7}).cause!==7});fDe({global:!0,constructor:!0,arity:2,forced:a9},{AggregateError:mDe(pM,function(e){return function(n,s){return gDe(e,this,arguments)}},a9,!0)});var pDe=Er,xDe=Mi,vDe=jn.f,F6=pDe("unscopables"),B6=Array.prototype;B6[F6]===void 0&&vDe(B6,F6,{configurable:!0,value:xDe(null)});var ai=function(e){B6[F6][e]=!0},yDe=Je,bDe=Vr,wDe=nn,jDe=Pn,NDe=ai;yDe({target:"Array",proto:!0},{at:function(t){var n=bDe(this),s=wDe(n),a=jDe(t),i=a>=0?a:s+a;return i<0||i>=s?void 0:n[i]}});NDe("at");var SDe=TypeError,CDe=9007199254740991,ng=function(e){if(e>CDe)throw SDe("Maximum allowed index exceeded");return e},kDe=ir,EDe=jn,LDe=oo,oc=function(e,t,n){kDe?EDe.f(e,t,LDe(0,n)):e[t]=n},MDe=$t,IDe=Er,TDe=sc,ADe=IDe("species"),Dx=function(e){return TDe>=51||!MDe(function(){var t=[],n=t.constructor={};return n[ADe]=function(){return{foo:1}},t[e](Boolean).foo!==1})},_De=Je,ODe=$t,$De=Gd,PDe=kr,DDe=Vr,RDe=nn,i9=ng,o9=oc,FDe=Tx,BDe=Dx,zDe=Er,UDe=sc,eZ=zDe("isConcatSpreadable"),WDe=UDe>=51||!ODe(function(){var e=[];return e[eZ]=!1,e.concat()[0]!==e}),HDe=function(e){if(!PDe(e))return!1;var t=e[eZ];return t!==void 0?!!t:$De(e)},VDe=!WDe||!BDe("concat");_De({target:"Array",proto:!0,arity:1,forced:VDe},{concat:function(t){var n=DDe(this),s=FDe(n,0),a=0,i,o,l,c,u;for(i=-1,l=arguments.length;i<l;i++)if(u=i===-1?n:arguments[i],HDe(u))for(c=RDe(u),i9(a+c),o=0;o<c;o++,a++)o in u&&o9(s,a,u[o]);else i9(a+1),o9(s,a++,u);return s.length=a,s}});var l9=yf,GDe=TypeError,nj=function(e,t){if(!delete e[t])throw new GDe("Cannot delete property "+l9(t)+" of "+l9(e))},qDe=Vr,YN=ic,YDe=nn,JDe=nj,ZDe=Math.min,tZ=[].copyWithin||function(t,n){var s=qDe(this),a=YDe(s),i=YN(t,a),o=YN(n,a),l=arguments.length>2?arguments[2]:void 0,c=ZDe((l===void 0?a:YN(l,a))-o,a-i),u=1;for(o<i&&i<o+c&&(u=-1,o+=c-1,i+=c-1);c-- >0;)o in s?s[i]=s[o]:JDe(s,i),i+=u,o+=u;return s},QDe=Je,KDe=tZ,XDe=ai;QDe({target:"Array",proto:!0},{copyWithin:KDe});XDe("copyWithin");var e7e=$t,lc=function(e,t){var n=[][e];return!!n&&e7e(function(){n.call(null,t||function(){return 1},1)})},t7e=Je,r7e=ta.every,n7e=lc,s7e=n7e("every");t7e({target:"Array",proto:!0,forced:!s7e},{every:function(t){return r7e(this,t,arguments.length>1?arguments[1]:void 0)}});var a7e=Vr,c9=ic,i7e=nn,xM=function(t){for(var n=a7e(this),s=i7e(n),a=arguments.length,i=c9(a>1?arguments[1]:void 0,s),o=a>2?arguments[2]:void 0,l=o===void 0?s:c9(o,s);l>i;)n[i++]=t;return n},o7e=Je,l7e=xM,c7e=ai;o7e({target:"Array",proto:!0},{fill:l7e});c7e("fill");var d7e=Je,u7e=ta.filter,f7e=Dx,h7e=f7e("filter");d7e({target:"Array",proto:!0,forced:!h7e},{filter:function(t){return u7e(this,t,arguments.length>1?arguments[1]:void 0)}});var g7e=Je,m7e=ta.find,p7e=ai,z6="find",rZ=!0;z6 in[]&&Array(1)[z6](function(){rZ=!1});g7e({target:"Array",proto:!0,forced:rZ},{find:function(t){return m7e(this,t,arguments.length>1?arguments[1]:void 0)}});p7e(z6);var x7e=Je,v7e=ta.findIndex,y7e=ai,U6="findIndex",nZ=!0;U6 in[]&&Array(1)[U6](function(){nZ=!1});x7e({target:"Array",proto:!0,forced:nZ},{findIndex:function(t){return v7e(this,t,arguments.length>1?arguments[1]:void 0)}});y7e(U6);var b7e=Uo,w7e=Zh,j7e=Vr,N7e=nn,d9=function(e){var t=e===1;return function(n,s,a){for(var i=j7e(n),o=w7e(i),l=N7e(o),c=b7e(s,a),u,f;l-- >0;)if(u=o[l],f=c(u,l,i),f)switch(e){case 0:return u;case 1:return l}return t?-1:void 0}},sj={findLast:d9(0),findLastIndex:d9(1)},S7e=Je,C7e=sj.findLast,k7e=ai;S7e({target:"Array",proto:!0},{findLast:function(t){return C7e(this,t,arguments.length>1?arguments[1]:void 0)}});k7e("findLast");var E7e=Je,L7e=sj.findLastIndex,M7e=ai;E7e({target:"Array",proto:!0},{findLastIndex:function(t){return L7e(this,t,arguments.length>1?arguments[1]:void 0)}});M7e("findLastIndex");var I7e=Gd,T7e=nn,A7e=ng,_7e=Uo,sZ=function(e,t,n,s,a,i,o,l){for(var c=a,u=0,f=o?_7e(o,l):!1,h,g;u<s;)u in n&&(h=f?f(n[u],u,t):n[u],i>0&&I7e(h)?(g=T7e(h),c=sZ(e,t,h,g,c,i-1)-1):(A7e(c+1),e[c]=h),c++),u++;return c},aZ=sZ,O7e=Je,$7e=aZ,P7e=Vr,D7e=nn,R7e=Pn,F7e=Tx;O7e({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,n=P7e(this),s=D7e(n),a=F7e(n,0);return a.length=$7e(a,n,n,s,0,t===void 0?1:R7e(t)),a}});var B7e=Je,z7e=aZ,U7e=Dr,W7e=Vr,H7e=nn,V7e=Tx;B7e({target:"Array",proto:!0},{flatMap:function(t){var n=W7e(this),s=H7e(n),a;return U7e(t),a=V7e(n,0),a.length=z7e(a,n,n,s,0,1,t,arguments.length>1?arguments[1]:void 0),a}});var G7e=ta.forEach,q7e=lc,Y7e=q7e("forEach"),iZ=Y7e?[].forEach:function(t){return G7e(this,t,arguments.length>1?arguments[1]:void 0)},J7e=Je,u9=iZ;J7e({target:"Array",proto:!0,forced:[].forEach!==u9},{forEach:u9});var Z7e=nr,Q7e=jf,vM=function(e,t,n,s){try{return s?t(Z7e(n)[0],n[1]):t(n)}catch(a){Q7e(e,"throw",a)}},K7e=Uo,X7e=or,eRe=Vr,tRe=vM,rRe=mM,nRe=tg,sRe=nn,f9=oc,aRe=rj,iRe=rg,h9=Array,oZ=function(t){var n=eRe(t),s=nRe(this),a=arguments.length,i=a>1?arguments[1]:void 0,o=i!==void 0;o&&(i=K7e(i,a>2?arguments[2]:void 0));var l=iRe(n),c=0,u,f,h,g,m,p;if(l&&!(this===h9&&rRe(l)))for(f=s?new this:[],g=aRe(n,l),m=g.next;!(h=X7e(m,g)).done;c++)p=o?tRe(g,i,[h.value,c],!0):h.value,f9(f,c,p);else for(u=sRe(n),f=s?new this(u):h9(u);u>c;c++)p=o?i(n[c],c):n[c],f9(f,c,p);return f.length=c,f},oRe=Er,lZ=oRe("iterator"),cZ=!1;try{var lRe=0,g9={next:function(){return{done:!!lRe++}},return:function(){cZ=!0}};g9[lZ]=function(){return this},Array.from(g9,function(){throw 2})}catch(e){}var aj=function(e,t){try{if(!t&&!cZ)return!1}catch(a){return!1}var n=!1;try{var s={};s[lZ]=function(){return{next:function(){return{done:n=!0}}}},e(s)}catch(a){}return n},cRe=Je,dRe=oZ,uRe=aj,fRe=!uRe(function(e){Array.from(e)});cRe({target:"Array",stat:!0,forced:fRe},{from:dRe});var hRe=Je,gRe=Cx.includes,mRe=$t,pRe=ai,xRe=mRe(function(){return!Array(1).includes()});hRe({target:"Array",proto:!0,forced:xRe},{includes:function(t){return gRe(this,t,arguments.length>1?arguments[1]:void 0)}});pRe("includes");var vRe=Je,yRe=Vd,bRe=Cx.indexOf,wRe=lc,W6=yRe([].indexOf),dZ=!!W6&&1/W6([1],1,-0)<0,jRe=dZ||!wRe("indexOf");vRe({target:"Array",proto:!0,forced:jRe},{indexOf:function(t){var n=arguments.length>1?arguments[1]:void 0;return dZ?W6(this,t,n)||0:bRe(this,t,n)}});var NRe=Je,SRe=Gd;NRe({target:"Array",stat:!0},{isArray:SRe});var CRe=$t,kRe=Or,ERe=kr,m9=Ii,LRe=Nn,MRe=Er,H6=MRe("iterator"),uZ=!1,Gu,JN,ZN;[].keys&&(ZN=[].keys(),"next"in ZN?(JN=m9(m9(ZN)),JN!==Object.prototype&&(Gu=JN)):uZ=!0);var IRe=!ERe(Gu)||CRe(function(){var e={};return Gu[H6].call(e)!==e});IRe&&(Gu={});kRe(Gu[H6])||LRe(Gu,H6,function(){return this});var Rx={IteratorPrototype:Gu,BUGGY_SAFARI_ITERATORS:uZ},TRe=Rx.IteratorPrototype,ARe=Mi,_Re=oo,ORe=si,$Re=Px,PRe=function(){return this},yM=function(e,t,n,s){var a=t+" Iterator";return e.prototype=ARe(TRe,{next:_Re(+!s,n)}),ORe(e,a,!1),$Re[a]=PRe,e},DRe=Je,RRe=or,fZ=eg,FRe=Or,BRe=yM,p9=Ii,x9=xl,zRe=si,URe=ga,QN=Nn,WRe=Er,HRe=Px,hZ=Rx,VRe=fZ.PROPER,GRe=fZ.CONFIGURABLE,v9=hZ.IteratorPrototype,i1=hZ.BUGGY_SAFARI_ITERATORS,Zg=WRe("iterator"),y9="keys",Qg="values",b9="entries",qRe=function(){return this},bM=function(e,t,n,s,a,i,o){BRe(n,t,s);var l=function(y){if(y===a&&g)return g;if(!i1&&y&&y in f)return f[y];switch(y){case y9:return function(){return new n(this,y)};case Qg:return function(){return new n(this,y)};case b9:return function(){return new n(this,y)}}return function(){return new n(this)}},c=t+" Iterator",u=!1,f=e.prototype,h=f[Zg]||f["@@iterator"]||a&&f[a],g=!i1&&h||l(a),m=t==="Array"&&f.entries||h,p,v,b;if(m&&(p=p9(m.call(new e)),p!==Object.prototype&&p.next&&(p9(p)!==v9&&(x9?x9(p,v9):FRe(p[Zg])||QN(p,Zg,qRe)),zRe(p,c,!0))),VRe&&a===Qg&&h&&h.name!==Qg&&(GRe?URe(f,"name",Qg):(u=!0,g=function(){return RRe(h,this)})),a)if(v={values:l(Qg),keys:i?g:l(y9),entries:l(b9)},o)for(b in v)(i1||u||!(b in f))&&QN(f,b,v[b]);else DRe({target:t,proto:!0,forced:i1||u},v);return f[Zg]!==g&&QN(f,Zg,g,{name:a}),HRe[t]=g,v},sg=function(e,t){return{value:e,done:t}},YRe=Ds,wM=ai,w9=Px,gZ=Zn,JRe=jn.f,ZRe=bM,o1=sg,QRe=ir,mZ="Array Iterator",KRe=gZ.set,XRe=gZ.getterFor(mZ),pZ=ZRe(Array,"Array",function(e,t){KRe(this,{type:mZ,target:YRe(e),index:0,kind:t})},function(){var e=XRe(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=null,o1(void 0,!0);switch(e.kind){case"keys":return o1(n,!1);case"values":return o1(t[n],!1)}return o1([n,t[n]],!1)},"values"),j9=w9.Arguments=w9.Array;wM("keys");wM("values");wM("entries");if(QRe&&j9.name!=="values")try{JRe(j9,"name",{value:"values"})}catch(e){}var eFe=Je,tFe=zt,rFe=Zh,nFe=Ds,sFe=lc,aFe=tFe([].join),iFe=rFe!==Object,oFe=iFe||!sFe("join",",");eFe({target:"Array",proto:!0,forced:oFe},{join:function(t){return aFe(nFe(this),t===void 0?",":t)}});var lFe=co,cFe=Ds,dFe=Pn,uFe=nn,fFe=lc,hFe=Math.min,V6=[].lastIndexOf,xZ=!!V6&&1/[1].lastIndexOf(1,-0)<0,gFe=fFe("lastIndexOf"),mFe=xZ||!gFe,vZ=mFe?function(t){if(xZ)return lFe(V6,this,arguments)||0;var n=cFe(this),s=uFe(n);if(s===0)return-1;var a=s-1;for(arguments.length>1&&(a=hFe(a,dFe(arguments[1]))),a<0&&(a=s+a);a>=0;a--)if(a in n&&n[a]===t)return a||0;return-1}:V6,pFe=Je,N9=vZ;pFe({target:"Array",proto:!0,forced:N9!==[].lastIndexOf},{lastIndexOf:N9});var xFe=Je,vFe=ta.map,yFe=Dx,bFe=yFe("map");xFe({target:"Array",proto:!0,forced:!bFe},{map:function(t){return vFe(this,t,arguments.length>1?arguments[1]:void 0)}});var wFe=Je,jFe=$t,NFe=tg,SFe=oc,yZ=Array,CFe=jFe(function(){function e(){}return!(yZ.of.call(e)instanceof e)});wFe({target:"Array",stat:!0,forced:CFe},{of:function(){for(var t=0,n=arguments.length,s=new(NFe(this)?this:yZ)(n);n>t;)SFe(s,t,arguments[t++]);return s.length=n,s}});var kFe=ir,EFe=Gd,LFe=TypeError,MFe=Object.getOwnPropertyDescriptor,IFe=kFe&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}(),jM=IFe?function(e,t){if(EFe(e)&&!MFe(e,"length").writable)throw new LFe("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},TFe=Je,AFe=Vr,_Fe=nn,OFe=jM,$Fe=ng,PFe=$t,DFe=PFe(function(){return[].push.call({length:4294967296},1)!==4294967297}),RFe=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},FFe=DFe||!RFe();TFe({target:"Array",proto:!0,arity:1,forced:FFe},{push:function(t){var n=AFe(this),s=_Fe(n),a=arguments.length;$Fe(s+a);for(var i=0;i<a;i++)n[s]=arguments[i],s++;return OFe(n,s),s}});var BFe=Dr,zFe=Vr,UFe=Zh,WFe=nn,S9=TypeError,C9="Reduce of empty array with no initial value",k9=function(e){return function(t,n,s,a){var i=zFe(t),o=UFe(i),l=WFe(i);if(BFe(n),l===0&&s<2)throw new S9(C9);var c=e?l-1:0,u=e?-1:1;if(s<2)for(;;){if(c in o){a=o[c],c+=u;break}if(c+=u,e?c<0:l<=c)throw new S9(C9)}for(;e?c>=0:l>c;c+=u)c in o&&(a=n(a,o[c],c,i));return a}},ij={left:k9(!1),right:k9(!0)},Kg=Vt,HFe=gl,VFe=ha,l1=function(e){return HFe.slice(0,e.length)===e},oj=function(){return l1("Bun/")?"BUN":l1("Cloudflare-Workers")?"CLOUDFLARE":l1("Deno/")?"DENO":l1("Node.js/")?"NODE":Kg.Bun&&typeof Bun.version=="string"?"BUN":Kg.Deno&&typeof Deno.version=="object"?"DENO":VFe(Kg.process)==="process"?"NODE":Kg.window&&Kg.document?"BROWSER":"REST"}(),GFe=oj,ag=GFe==="NODE",qFe=Je,YFe=ij.left,JFe=lc,E9=sc,ZFe=ag,QFe=!ZFe&&E9>79&&E9<83,KFe=QFe||!JFe("reduce");qFe({target:"Array",proto:!0,forced:KFe},{reduce:function(t){var n=arguments.length;return YFe(this,t,n,n>1?arguments[1]:void 0)}});var XFe=Je,eBe=ij.right,tBe=lc,L9=sc,rBe=ag,nBe=!rBe&&L9>79&&L9<83,sBe=nBe||!tBe("reduceRight");XFe({target:"Array",proto:!0,forced:sBe},{reduceRight:function(t){return eBe(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var aBe=Je,iBe=zt,oBe=Gd,lBe=iBe([].reverse),M9=[1,2];aBe({target:"Array",proto:!0,forced:String(M9)===String(M9.reverse())},{reverse:function(){return oBe(this)&&(this.length=this.length),lBe(this)}});var cBe=Je,I9=Gd,dBe=tg,uBe=kr,T9=ic,fBe=nn,hBe=Ds,gBe=oc,mBe=Er,pBe=Dx,xBe=lo,vBe=pBe("slice"),yBe=mBe("species"),KN=Array,bBe=Math.max;cBe({target:"Array",proto:!0,forced:!vBe},{slice:function(t,n){var s=hBe(this),a=fBe(s),i=T9(t,a),o=T9(n===void 0?a:n,a),l,c,u;if(I9(s)&&(l=s.constructor,dBe(l)&&(l===KN||I9(l.prototype))?l=void 0:uBe(l)&&(l=l[yBe],l===null&&(l=void 0)),l===KN||l===void 0))return xBe(s,i,o);for(c=new(l===void 0?KN:l)(bBe(o-i,0)),u=0;i<o;i++,u++)i in s&&gBe(c,u,s[i]);return c.length=u,c}});var wBe=Je,jBe=ta.some,NBe=lc,SBe=NBe("some");wBe({target:"Array",proto:!0,forced:!SBe},{some:function(t){return jBe(this,t,arguments.length>1?arguments[1]:void 0)}});var A9=lo,CBe=Math.floor,G6=function(e,t){var n=e.length;if(n<8)for(var s=1,a,i;s<n;){for(i=s,a=e[s];i&&t(e[i-1],a)>0;)e[i]=e[--i];i!==s++&&(e[i]=a)}else for(var o=CBe(n/2),l=G6(A9(e,0,o),t),c=G6(A9(e,o),t),u=l.length,f=c.length,h=0,g=0;h<u||g<f;)e[h+g]=h<u&&g<f?t(l[h],c[g])<=0?l[h++]:c[g++]:h<u?l[h++]:c[g++];return e},NM=G6,kBe=gl,_9=kBe.match(/firefox\/(\d+)/i),bZ=!!_9&&+_9[1],EBe=gl,wZ=/MSIE|Trident/.test(EBe),LBe=gl,O9=LBe.match(/AppleWebKit\/(\d+)\./),SM=!!O9&&+O9[1],MBe=Je,jZ=zt,IBe=Dr,TBe=Vr,$9=nn,ABe=nj,P9=fr,CM=$t,_Be=NM,OBe=lc,D9=bZ,$Be=wZ,R9=sc,F9=SM,qc=[],B9=jZ(qc.sort),PBe=jZ(qc.push),DBe=CM(function(){qc.sort(void 0)}),RBe=CM(function(){qc.sort(null)}),FBe=OBe("sort"),NZ=!CM(function(){if(R9)return R9<70;if(!(D9&&D9>3)){if($Be)return!0;if(F9)return F9<603;var e="",t,n,s,a;for(t=65;t<76;t++){switch(n=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:s=3;break;case 68:case 71:s=4;break;default:s=2}for(a=0;a<47;a++)qc.push({k:n+a,v:s})}for(qc.sort(function(i,o){return o.v-i.v}),a=0;a<qc.length;a++)n=qc[a].k.charAt(0),e.charAt(e.length-1)!==n&&(e+=n);return e!=="DGBEFHACIJK"}}),BBe=DBe||!RBe||!FBe||!NZ,zBe=function(e){return function(t,n){return n===void 0?-1:t===void 0?1:e!==void 0?+e(t,n)||0:P9(t)>P9(n)?1:-1}};MBe({target:"Array",proto:!0,forced:BBe},{sort:function(t){t!==void 0&&IBe(t);var n=TBe(this);if(NZ)return t===void 0?B9(n):B9(n,t);var s=[],a=$9(n),i,o;for(o=0;o<a;o++)o in n&&PBe(s,n[o]);for(_Be(s,zBe(t)),i=$9(s),o=0;o<i;)n[o]=s[o++];for(;o<a;)ABe(n,o++);return n}});var UBe=rn,WBe=ds,HBe=Er,VBe=ir,z9=HBe("species"),ig=function(e){var t=UBe(e);VBe&&t&&!t[z9]&&WBe(t,z9,{configurable:!0,get:function(){return this}})},GBe=ig;GBe("Array");var qBe=Je,YBe=Vr,JBe=ic,ZBe=Pn,QBe=nn,KBe=jM,XBe=ng,eze=Tx,tze=oc,XN=nj,rze=Dx,nze=rze("splice"),sze=Math.max,aze=Math.min;qBe({target:"Array",proto:!0,forced:!nze},{splice:function(t,n){var s=YBe(this),a=QBe(s),i=JBe(t,a),o=arguments.length,l,c,u,f,h,g;for(o===0?l=c=0:o===1?(l=0,c=a-i):(l=o-2,c=aze(sze(ZBe(n),0),a-i)),XBe(a+l-c),u=eze(s,c),f=0;f<c;f++)h=i+f,h in s&&tze(u,f,s[h]);if(u.length=c,l<c){for(f=i;f<a-c;f++)h=f+c,g=f+l,h in s?s[g]=s[h]:XN(s,g);for(f=a;f>a-c+l;f--)XN(s,f-1)}else if(l>c)for(f=a-c;f>i;f--)h=f+c-1,g=f+l-1,h in s?s[g]=s[h]:XN(s,g);for(f=0;f<l;f++)s[f+i]=arguments[f+2];return KBe(s,a-c+l),u}});var ize=nn,SZ=function(e,t){for(var n=ize(e),s=new t(n),a=0;a<n;a++)s[a]=e[n-a-1];return s},oze=Je,lze=SZ,cze=Ds,dze=ai,uze=Array;oze({target:"Array",proto:!0},{toReversed:function(){return lze(cze(this),uze)}});dze("toReversed");var fze=nn,lj=function(e,t,n){for(var s=0,a=arguments.length>2?n:fze(t),i=new e(a);a>s;)i[s]=t[s++];return i},hze=Vt,gze=function(e,t){var n=hze[e],s=n&&n.prototype;return s&&s[t]},mze=Je,pze=zt,xze=Dr,vze=Ds,yze=lj,bze=gze,wze=ai,jze=Array,Nze=pze(bze("Array","sort"));mze({target:"Array",proto:!0},{toSorted:function(t){t!==void 0&&xze(t);var n=vze(this),s=yze(jze,n);return Nze(s,t)}});wze("toSorted");var Sze=Je,Cze=ai,kze=ng,Eze=nn,Lze=ic,Mze=Ds,Ize=Pn,Tze=Array,Aze=Math.max,_ze=Math.min;Sze({target:"Array",proto:!0},{toSpliced:function(t,n){var s=Mze(this),a=Eze(s),i=Lze(t,a),o=arguments.length,l=0,c,u,f,h;for(o===0?c=u=0:o===1?(c=0,u=a-i):(c=o-2,u=_ze(Aze(Ize(n),0),a-i)),f=kze(a+c-u),h=Tze(f);l<i;l++)h[l]=s[l];for(;l<i+c;l++)h[l]=arguments[l-i+2];for(;l<f;l++)h[l]=s[l+u-c];return h}});Cze("toSpliced");var Oze=ai;Oze("flat");var $ze=ai;$ze("flatMap");var Pze=Je,Dze=Vr,Rze=nn,Fze=jM,Bze=nj,zze=ng,Uze=[].unshift(0)!==1,Wze=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},Hze=Uze||!Wze();Pze({target:"Array",proto:!0,arity:1,forced:Hze},{unshift:function(t){var n=Dze(this),s=Rze(n),a=arguments.length;if(a){zze(s+a);for(var i=s;i--;){var o=i+a;i in n?n[o]=n[i]:Bze(n,o)}for(var l=0;l<a;l++)n[l]=arguments[l]}return Fze(n,s+a)}});var Vze=nn,Gze=Pn,qze=RangeError,CZ=function(e,t,n,s){var a=Vze(e),i=Gze(n),o=i<0?a+i:i;if(o>=a||o<0)throw new qze("Incorrect index");for(var l=new t(a),c=0;c<a;c++)l[c]=c===o?s:e[c];return l},Yze=Je,Jze=CZ,Zze=Ds,Qze=Array;Yze({target:"Array",proto:!0},{with:function(e,t){return Jze(Zze(this),Qze,e,t)}});var kM=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined",Kze=Nn,og=function(e,t,n){for(var s in t)Kze(e,s,t[s],n);return e},Xze=ri,eUe=TypeError,Wo=function(e,t){if(Xze(t,e))return e;throw new eUe("Incorrect invocation")},tUe=Pn,rUe=Li,nUe=RangeError,EM=function(e){if(e===void 0)return 0;var t=tUe(e),n=rUe(t);if(t!==n)throw new nUe("Wrong length or index");return n},LM=Math.sign||function(t){var n=+t;return n===0||n!==n?n:n<0?-1:1},sUe=LM,aUe=Math.abs,kZ=2220446049250313e-31,U9=1/kZ,iUe=function(e){return e+U9-U9},oUe=function(e,t,n,s){var a=+e,i=aUe(a),o=sUe(a);if(i<s)return o*iUe(i/s/t)*s*t;var l=(1+t/kZ)*i,c=l-(l-i);return c>n||c!==c?o*(1/0):o*c},lUe=oUe,cUe=11920928955078125e-23,dUe=34028234663852886e22,uUe=11754943508222875e-54,EZ=Math.fround||function(t){return lUe(t,cUe,dUe,uUe)},fUe=Array,hUe=Math.abs,Ll=Math.pow,gUe=Math.floor,mUe=Math.log,pUe=Math.LN2,xUe=function(e,t,n){var s=fUe(n),a=n*8-t-1,i=(1<<a)-1,o=i>>1,l=t===23?Ll(2,-24)-Ll(2,-77):0,c=e<0||e===0&&1/e<0?1:0,u=0,f,h,g;for(e=hUe(e),e!==e||e===1/0?(h=e!==e?1:0,f=i):(f=gUe(mUe(e)/pUe),g=Ll(2,-f),e*g<1&&(f--,g*=2),f+o>=1?e+=l/g:e+=l*Ll(2,1-o),e*g>=2&&(f++,g/=2),f+o>=i?(h=0,f=i):f+o>=1?(h=(e*g-1)*Ll(2,t),f+=o):(h=e*Ll(2,o-1)*Ll(2,t),f=0));t>=8;)s[u++]=h&255,h/=256,t-=8;for(f=f<<t|h,a+=t;a>0;)s[u++]=f&255,f/=256,a-=8;return s[u-1]|=c*128,s},vUe=function(e,t){var n=e.length,s=n*8-t-1,a=(1<<s)-1,i=a>>1,o=s-7,l=n-1,c=e[l--],u=c&127,f;for(c>>=7;o>0;)u=u*256+e[l--],o-=8;for(f=u&(1<<-o)-1,u>>=-o,o+=t;o>0;)f=f*256+e[l--],o-=8;if(u===0)u=1-i;else{if(u===a)return f?NaN:c?-1/0:1/0;f+=Ll(2,t),u-=i}return(c?-1:1)*f*Ll(2,u-t)},yUe={pack:xUe,unpack:vUe},cj=Vt,MM=zt,e3=ir,bUe=kM,LZ=eg,wUe=ga,jUe=ds,W9=og,t3=$t,c1=Wo,NUe=Pn,SUe=Li,Xb=EM,CUe=EZ,MZ=yUe,kUe=Ii,H9=xl,EUe=xM,LUe=lo,MUe=bf,IUe=Ex,IZ=si,IM=Zn,TUe=LZ.PROPER,V9=LZ.CONFIGURABLE,q0="ArrayBuffer",dj="DataView",Y0="prototype",AUe="Wrong length",TZ="Wrong index",G9=IM.getterFor(q0),Hm=IM.getterFor(dj),q9=IM.set,bo=cj[q0],ui=bo,Gf=ui&&ui[Y0],el=cj[dj],ru=el&&el[Y0],Y9=Object.prototype,_Ue=cj.Array,e2=cj.RangeError,OUe=MM(EUe),$Ue=MM([].reverse),AZ=MZ.pack,J9=MZ.unpack,Z9=function(e){return[e&255]},Q9=function(e){return[e&255,e>>8&255]},K9=function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]},X9=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},PUe=function(e){return AZ(CUe(e),23,4)},DUe=function(e){return AZ(e,52,8)},d1=function(e,t,n){jUe(e[Y0],t,{configurable:!0,get:function(){return n(this)[t]}})},Ec=function(e,t,n,s){var a=Hm(e),i=Xb(n),o=!!s;if(i+t>a.byteLength)throw new e2(TZ);var l=a.bytes,c=i+a.byteOffset,u=LUe(l,c,c+t);return o?u:$Ue(u)},Lc=function(e,t,n,s,a,i){var o=Hm(e),l=Xb(n),c=s(+a),u=!!i;if(l+t>o.byteLength)throw new e2(TZ);for(var f=o.bytes,h=l+o.byteOffset,g=0;g<t;g++)f[h+g]=c[u?g:t-g-1]};if(!bUe)ui=function(t){c1(this,Gf);var n=Xb(t);q9(this,{type:q0,bytes:OUe(_Ue(n),0),byteLength:n}),e3||(this.byteLength=n,this.detached=!1)},Gf=ui[Y0],el=function(t,n,s){c1(this,ru),c1(t,Gf);var a=G9(t),i=a.byteLength,o=NUe(n);if(o<0||o>i)throw new e2("Wrong offset");if(s=s===void 0?i-o:SUe(s),o+s>i)throw new e2(AUe);q9(this,{type:dj,buffer:t,byteLength:s,byteOffset:o,bytes:a.bytes}),e3||(this.buffer=t,this.byteLength=s,this.byteOffset=o)},ru=el[Y0],e3&&(d1(ui,"byteLength",G9),d1(el,"buffer",Hm),d1(el,"byteLength",Hm),d1(el,"byteOffset",Hm)),W9(ru,{getInt8:function(t){return Ec(this,1,t)[0]<<24>>24},getUint8:function(t){return Ec(this,1,t)[0]},getInt16:function(t){var n=Ec(this,2,t,arguments.length>1?arguments[1]:!1);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=Ec(this,2,t,arguments.length>1?arguments[1]:!1);return n[1]<<8|n[0]},getInt32:function(t){return X9(Ec(this,4,t,arguments.length>1?arguments[1]:!1))},getUint32:function(t){return X9(Ec(this,4,t,arguments.length>1?arguments[1]:!1))>>>0},getFloat32:function(t){return J9(Ec(this,4,t,arguments.length>1?arguments[1]:!1),23)},getFloat64:function(t){return J9(Ec(this,8,t,arguments.length>1?arguments[1]:!1),52)},setInt8:function(t,n){Lc(this,1,t,Z9,n)},setUint8:function(t,n){Lc(this,1,t,Z9,n)},setInt16:function(t,n){Lc(this,2,t,Q9,n,arguments.length>2?arguments[2]:!1)},setUint16:function(t,n){Lc(this,2,t,Q9,n,arguments.length>2?arguments[2]:!1)},setInt32:function(t,n){Lc(this,4,t,K9,n,arguments.length>2?arguments[2]:!1)},setUint32:function(t,n){Lc(this,4,t,K9,n,arguments.length>2?arguments[2]:!1)},setFloat32:function(t,n){Lc(this,4,t,PUe,n,arguments.length>2?arguments[2]:!1)},setFloat64:function(t,n){Lc(this,8,t,DUe,n,arguments.length>2?arguments[2]:!1)}});else{var eD=TUe&&bo.name!==q0;!t3(function(){bo(1)})||!t3(function(){new bo(-1)})||t3(function(){return new bo,new bo(1.5),new bo(NaN),bo.length!==1||eD&&!V9})?(ui=function(t){return c1(this,Gf),MUe(new bo(Xb(t)),this,ui)},ui[Y0]=Gf,Gf.constructor=ui,IUe(ui,bo)):eD&&V9&&wUe(bo,"name",q0),H9&&kUe(ru)!==Y9&&H9(ru,Y9);var u1=new el(new ui(2)),tD=MM(ru.setInt8);u1.setInt8(0,2147483648),u1.setInt8(1,2147483649),(u1.getInt8(0)||!u1.getInt8(1))&&W9(ru,{setInt8:function(t,n){tD(this,t,n<<24>>24)},setUint8:function(t,n){tD(this,t,n<<24>>24)}},{unsafe:!0})}IZ(ui,q0);IZ(el,dj);var uj={ArrayBuffer:ui,DataView:el},RUe=Je,FUe=Vt,BUe=uj,zUe=ig,TM="ArrayBuffer",rD=BUe[TM],UUe=FUe[TM];RUe({global:!0,constructor:!0,forced:UUe!==rD},{ArrayBuffer:rD});zUe(TM);var WUe=kM,AM=ir,Aa=Vt,_Z=Or,fj=kr,vd=Rr,_M=pl,HUe=yf,VUe=ga,q6=Nn,GUe=ds,qUe=ri,hj=Ii,lg=xl,YUe=Er,JUe=Xh,OZ=Zn,$Z=OZ.enforce,ZUe=OZ.get,t2=Aa.Int8Array,Y6=t2&&t2.prototype,nD=Aa.Uint8ClampedArray,sD=nD&&nD.prototype,nl=t2&&hj(t2),_o=Y6&&hj(Y6),QUe=Object.prototype,OM=Aa.TypeError,aD=YUe("toStringTag"),J6=JUe("TYPED_ARRAY_TAG"),r2="TypedArrayConstructor",Vl=WUe&&!!lg&&_M(Aa.opera)!=="Opera",PZ=!1,Ua,Yc,J0,Gl={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},$M={BigInt64Array:8,BigUint64Array:8},KUe=function(t){if(!fj(t))return!1;var n=_M(t);return n==="DataView"||vd(Gl,n)||vd($M,n)},DZ=function(e){var t=hj(e);if(fj(t)){var n=ZUe(t);return n&&vd(n,r2)?n[r2]:DZ(t)}},RZ=function(e){if(!fj(e))return!1;var t=_M(e);return vd(Gl,t)||vd($M,t)},XUe=function(e){if(RZ(e))return e;throw new OM("Target is not a typed array")},eWe=function(e){if(_Z(e)&&(!lg||qUe(nl,e)))return e;throw new OM(HUe(e)+" is not a typed array constructor")},tWe=function(e,t,n,s){if(AM){if(n)for(var a in Gl){var i=Aa[a];if(i&&vd(i.prototype,e))try{delete i.prototype[e]}catch(o){try{i.prototype[e]=t}catch(l){}}}(!_o[e]||n)&&q6(_o,e,n?t:Vl&&Y6[e]||t,s)}},rWe=function(e,t,n){var s,a;if(AM){if(lg){if(n){for(s in Gl)if(a=Aa[s],a&&vd(a,e))try{delete a[e]}catch(i){}}if(!nl[e]||n)try{return q6(nl,e,n?t:Vl&&nl[e]||t)}catch(i){}else return}for(s in Gl)a=Aa[s],a&&(!a[e]||n)&&q6(a,e,t)}};for(Ua in Gl)Yc=Aa[Ua],J0=Yc&&Yc.prototype,J0?$Z(J0)[r2]=Yc:Vl=!1;for(Ua in $M)Yc=Aa[Ua],J0=Yc&&Yc.prototype,J0&&($Z(J0)[r2]=Yc);if((!Vl||!_Z(nl)||nl===Function.prototype)&&(nl=function(){throw new OM("Incorrect invocation")},Vl))for(Ua in Gl)Aa[Ua]&&lg(Aa[Ua],nl);if((!Vl||!_o||_o===QUe)&&(_o=nl.prototype,Vl))for(Ua in Gl)Aa[Ua]&&lg(Aa[Ua].prototype,_o);Vl&&hj(sD)!==_o&&lg(sD,_o);if(AM&&!vd(_o,aD)){PZ=!0,GUe(_o,aD,{configurable:!0,get:function(){return fj(this)?this[J6]:void 0}});for(Ua in Gl)Aa[Ua]&&VUe(Aa[Ua],J6,Ua)}var Ir={NATIVE_ARRAY_BUFFER_VIEWS:Vl,TYPED_ARRAY_TAG:PZ&&J6,aTypedArray:XUe,aTypedArrayConstructor:eWe,exportTypedArrayMethod:tWe,exportTypedArrayStaticMethod:rWe,getTypedArrayConstructor:DZ,isView:KUe,isTypedArray:RZ,TypedArray:nl,TypedArrayPrototype:_o},nWe=Je,FZ=Ir,sWe=FZ.NATIVE_ARRAY_BUFFER_VIEWS;nWe({target:"ArrayBuffer",stat:!0,forced:!sWe},{isView:FZ.isView});var aWe=Je,PM=Vd,iWe=$t,BZ=uj,iD=nr,oD=ic,oWe=Li,DM=BZ.ArrayBuffer,Z6=BZ.DataView,zZ=Z6.prototype,lD=PM(DM.prototype.slice),lWe=PM(zZ.getUint8),cWe=PM(zZ.setUint8),dWe=iWe(function(){return!new DM(2).slice(1,void 0).byteLength});aWe({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:dWe},{slice:function(t,n){if(lD&&n===void 0)return lD(iD(this),t);for(var s=iD(this).byteLength,a=oD(t,s),i=oD(n===void 0?s:n,s),o=new DM(oWe(i-a)),l=new Z6(this),c=new Z6(o),u=0;a<i;)cWe(c,u++,lWe(l,a++));return o}});var uWe=Je,fWe=uj,hWe=kM;uWe({global:!0,constructor:!0,forced:!hWe},{DataView:fWe.DataView});var UZ=Vt,gWe=tj,mWe=ha,cD=UZ.ArrayBuffer,pWe=UZ.TypeError,WZ=cD&&gWe(cD.prototype,"byteLength","get")||function(e){if(mWe(e)!=="ArrayBuffer")throw new pWe("ArrayBuffer expected");return e.byteLength},xWe=Vt,vWe=Vd,yWe=WZ,dD=xWe.ArrayBuffer,uD=dD&&dD.prototype,fD=uD&&vWe(uD.slice),HZ=function(e){if(yWe(e)!==0||!fD)return!1;try{return fD(e,0,0),!1}catch(t){return!0}},bWe=ir,wWe=ds,jWe=HZ,hD=ArrayBuffer.prototype;bWe&&!("detached"in hD)&&wWe(hD,"detached",{configurable:!0,get:function(){return jWe(this)}});var NWe=HZ,SWe=TypeError,CWe=function(e){if(NWe(e))throw new SWe("ArrayBuffer is detached");return e},kWe=Vt,EWe=ag,VZ=function(e){if(EWe){try{return kWe.process.getBuiltinModule(e)}catch(t){}try{return Function('return require("'+e+'")')()}catch(t){}}},LWe=Vt,MWe=$t,r3=sc,n3=oj,gD=LWe.structuredClone,RM=!!gD&&!MWe(function(){if(n3==="DENO"&&r3>92||n3==="NODE"&&r3>94||n3==="BROWSER"&&r3>97)return!1;var e=new ArrayBuffer(8),t=gD(e,{transfer:[e]});return e.byteLength!==0||t.byteLength!==8}),FM=Vt,IWe=VZ,TWe=RM,AWe=FM.structuredClone,mD=FM.ArrayBuffer,f1=FM.MessageChannel,Q6=!1,s3,pD,h1,a3;if(TWe)Q6=function(e){AWe(e,{transfer:[e]})};else if(mD)try{f1||(s3=IWe("worker_threads"),s3&&(f1=s3.MessageChannel)),f1&&(pD=new f1,h1=new mD(2),a3=function(e){pD.port1.postMessage(null,[e])},h1.byteLength===2&&(a3(h1),h1.byteLength===0&&(Q6=a3)))}catch(e){}var GZ=Q6,BM=Vt,zM=zt,qZ=tj,_We=EM,OWe=CWe,$We=WZ,xD=GZ,i3=RM,PWe=BM.structuredClone,YZ=BM.ArrayBuffer,K6=BM.DataView,DWe=Math.min,UM=YZ.prototype,JZ=K6.prototype,RWe=zM(UM.slice),vD=qZ(UM,"resizable","get"),yD=qZ(UM,"maxByteLength","get"),FWe=zM(JZ.getInt8),BWe=zM(JZ.setInt8),ZZ=(i3||xD)&&function(e,t,n){var s=$We(e),a=t===void 0?s:_We(t),i=!vD||!vD(e),o;if(OWe(e),i3&&(e=PWe(e,{transfer:[e]}),s===a&&(n||i)))return e;if(s>=a&&(!n||i))o=RWe(e,0,a);else{var l=n&&!i&&yD?{maxByteLength:yD(e)}:void 0;o=new YZ(a,l);for(var c=new K6(e),u=new K6(o),f=DWe(a,s),h=0;h<f;h++)BWe(u,h,FWe(c,h))}return i3||xD(e),o},zWe=Je,bD=ZZ;bD&&zWe({target:"ArrayBuffer",proto:!0},{transfer:function(){return bD(this,arguments.length?arguments[0]:void 0,!0)}});var UWe=Je,wD=ZZ;wD&&UWe({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return wD(this,arguments.length?arguments[0]:void 0,!1)}});var WWe=Je,HWe=zt,VWe=$t,GWe=VWe(function(){return new Date(16e11).getYear()!==120}),qWe=HWe(Date.prototype.getFullYear);WWe({target:"Date",proto:!0,forced:GWe},{getYear:function(){return qWe(this)-1900}});var YWe=Je,JWe=zt,QZ=Date,ZWe=JWe(QZ.prototype.getTime);YWe({target:"Date",stat:!0},{now:function(){return ZWe(new QZ)}});var QWe=Je,KZ=zt,KWe=Pn,XZ=Date.prototype,XWe=KZ(XZ.getTime),eHe=KZ(XZ.setFullYear);QWe({target:"Date",proto:!0},{setYear:function(t){XWe(this);var n=KWe(t),s=n>=0&&n<=99?n+1900:n;return eHe(this,s)}});var tHe=Je;tHe({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString});var rHe=Pn,nHe=fr,sHe=wn,aHe=RangeError,gj=function(t){var n=nHe(sHe(this)),s="",a=rHe(t);if(a<0||a===1/0)throw new aHe("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(n+=n))a&1&&(s+=n);return s},eQ=zt,iHe=Li,jD=fr,oHe=gj,lHe=wn,cHe=eQ(oHe),dHe=eQ("".slice),uHe=Math.ceil,ND=function(e){return function(t,n,s){var a=jD(lHe(t)),i=iHe(n),o=a.length,l=s===void 0?" ":jD(s),c,u;return i<=o||l===""?a:(c=i-o,u=cHe(l,uHe(c/l.length)),u.length>c&&(u=dHe(u,0,c)),e?a+u:u+a)}},WM={start:ND(!1),end:ND(!0)},qd=zt,SD=$t,nu=WM.start,fHe=RangeError,hHe=isFinite,gHe=Math.abs,cc=Date.prototype,o3=cc.toISOString,mHe=qd(cc.getTime),pHe=qd(cc.getUTCDate),xHe=qd(cc.getUTCFullYear),vHe=qd(cc.getUTCHours),yHe=qd(cc.getUTCMilliseconds),bHe=qd(cc.getUTCMinutes),wHe=qd(cc.getUTCMonth),jHe=qd(cc.getUTCSeconds),NHe=SD(function(){return o3.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!SD(function(){o3.call(new Date(NaN))})?function(){if(!hHe(mHe(this)))throw new fHe("Invalid time value");var t=this,n=xHe(t),s=yHe(t),a=n<0?"-":n>9999?"+":"";return a+nu(gHe(n),a?6:4,0)+"-"+nu(wHe(t)+1,2,0)+"-"+nu(pHe(t),2,0)+"T"+nu(vHe(t),2,0)+":"+nu(bHe(t),2,0)+":"+nu(jHe(t),2,0)+"."+nu(s,3,0)+"Z"}:o3,SHe=Je,CD=NHe;SHe({target:"Date",proto:!0,forced:Date.prototype.toISOString!==CD},{toISOString:CD});var CHe=Je,kHe=$t,EHe=Vr,LHe=Vw,MHe=kHe(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});CHe({target:"Date",proto:!0,arity:1,forced:MHe},{toJSON:function(t){var n=EHe(this),s=LHe(n,"number");return typeof s=="number"&&!isFinite(s)?null:n.toISOString()}});var IHe=nr,THe=ZY,AHe=TypeError,_He=function(e){if(IHe(this),e==="string"||e==="default")e="string";else if(e!=="number")throw new AHe("Incorrect hint");return THe(this,e)},OHe=Rr,$He=Nn,PHe=_He,DHe=Er,kD=DHe("toPrimitive"),ED=Date.prototype;OHe(ED,kD)||$He(ED,kD,PHe);var tQ=zt,RHe=Nn,HM=Date.prototype,LD="Invalid Date",rQ="toString",FHe=tQ(HM[rQ]),BHe=tQ(HM.getTime);String(new Date(NaN))!==LD&&RHe(HM,rQ,function(){var t=BHe(this);return t===t?FHe(this):LD});var zHe=Je,Fx=zt,UHe=fr,WHe=Fx("".charAt),HHe=Fx("".charCodeAt),VHe=Fx(/./.exec),GHe=Fx(1 .toString),qHe=Fx("".toUpperCase),YHe=/[\w*+\-./@]/,MD=function(e,t){for(var n=GHe(e,16);n.length<t;)n="0"+n;return n};zHe({global:!0},{escape:function(t){for(var n=UHe(t),s="",a=n.length,i=0,o,l;i<a;)o=WHe(n,i++),VHe(YHe,o)?s+=o:(l=HHe(o,0),l<256?s+="%"+MD(l,2):s+="%u"+qHe(MD(l,4)));return s}});var nQ=zt,JHe=Dr,ZHe=kr,QHe=Rr,ID=lo,KHe=jx,sQ=Function,XHe=nQ([].concat),eVe=nQ([].join),l3={},tVe=function(e,t,n){if(!QHe(l3,t)){for(var s=[],a=0;a<t;a++)s[a]="a["+a+"]";l3[t]=sQ("C,a","return new C("+eVe(s,",")+")")}return l3[t](e,n)},aQ=KHe?sQ.bind:function(t){var n=JHe(this),s=n.prototype,a=ID(arguments,1),i=function(){var l=XHe(a,ID(arguments));return this instanceof i?tVe(n,l.length,l):n.apply(t,l)};return ZHe(s)&&(i.prototype=s),i},rVe=Je,TD=aQ;rVe({target:"Function",proto:!0,forced:Function.bind!==TD},{bind:TD});var nVe=Or,AD=kr,sVe=jn,aVe=ri,iVe=Er,oVe=rM,c3=iVe("hasInstance"),_D=Function.prototype;c3 in _D||sVe.f(_D,c3,{value:oVe(function(e){if(!nVe(this)||!AD(e))return!1;var t=this.prototype;return AD(t)?aVe(t,e):e instanceof this},c3)});var lVe=ir,cVe=eg.EXISTS,iQ=zt,dVe=ds,oQ=Function.prototype,uVe=iQ(oQ.toString),lQ=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,fVe=iQ(lQ.exec),hVe="name";lVe&&!cVe&&dVe(oQ,hVe,{configurable:!0,get:function(){try{return fVe(lQ,uVe(this))[1]}catch(e){return""}}});var gVe=Je,d3=Vt;gVe({global:!0,forced:d3.globalThis!==d3},{globalThis:d3});var mVe=Je,pVe=Vt,xVe=Wo,vVe=nr,yVe=Or,bVe=Ii,wVe=ds,jVe=oc,NVe=$t,VM=Rr,SVe=Er,ll=Rx.IteratorPrototype,CVe=ir,u3="constructor",cQ="Iterator",OD=SVe("toStringTag"),dQ=TypeError,f3=pVe[cQ],uQ=!yVe(f3)||f3.prototype!==ll||!NVe(function(){f3({})}),GM=function(){if(xVe(this,ll),bVe(this)===ll)throw new dQ("Abstract class Iterator not directly constructable")},fQ=function(e,t){CVe?wVe(ll,e,{configurable:!0,get:function(){return t},set:function(n){if(vVe(this),this===ll)throw new dQ("You can't redefine this property");VM(this,e)?this[e]=n:jVe(this,e,n)}}):ll[e]=t};VM(ll,OD)||fQ(OD,cQ);(uQ||!VM(ll,u3)||ll[u3]===Object)&&fQ(u3,GM);GM.prototype=ll;mVe({global:!0,constructor:!0,forced:uQ},{Iterator:GM});var Ti=function(e){return{iterator:e,next:e.next,done:!1}},kVe=RangeError,hQ=function(e){if(e===e)return e;throw new kVe("NaN is not allowed")},EVe=Pn,LVe=RangeError,qM=function(e){var t=EVe(e);if(t<0)throw new LVe("The argument can't be less than 0");return t},MVe=or,IVe=Mi,TVe=ga,AVe=og,_Ve=Er,gQ=Zn,OVe=ml,$Ve=Rx.IteratorPrototype,h3=sg,g3=jf,PVe=_Ve("toStringTag"),mQ="IteratorHelper",pQ="WrapForValidIterator",DVe=gQ.set,xQ=function(e){var t=gQ.getterFor(e?pQ:mQ);return AVe(IVe($Ve),{next:function(){var s=t(this);if(e)return s.nextHandler();try{var a=s.done?void 0:s.nextHandler();return h3(a,s.done)}catch(i){throw s.done=!0,i}},return:function(){var n=t(this),s=n.iterator;if(n.done=!0,e){var a=OVe(s,"return");return a?MVe(a,s):h3(void 0,!0)}if(n.inner)try{g3(n.inner.iterator,"normal")}catch(i){return g3(s,"throw",i)}return s&&g3(s,"normal"),h3(void 0,!0)}})},RVe=xQ(!0),vQ=xQ(!1);TVe(vQ,PVe,"Iterator Helper");var cg=function(e,t){var n=function(a,i){i?(i.iterator=a.iterator,i.next=a.next):i=a,i.type=t?pQ:mQ,i.nextHandler=e,i.counter=0,i.done=!1,DVe(this,i)};return n.prototype=t?RVe:vQ,n},FVe=Je,$D=or,X6=nr,BVe=Ti,zVe=hQ,UVe=qM,WVe=cg,HVe=ac,VVe=WVe(function(){for(var e=this.iterator,t=this.next,n,s;this.remaining;)if(this.remaining--,n=X6($D(t,e)),s=this.done=!!n.done,s)return;if(n=X6($D(t,e)),s=this.done=!!n.done,!s)return n.value});FVe({target:"Iterator",proto:!0,real:!0,forced:HVe},{drop:function(t){X6(this);var n=UVe(zVe(+t));return new VVe(BVe(this),{remaining:n})}});var GVe=Je,qVe=Rs,YVe=Dr,JVe=nr,ZVe=Ti;GVe({target:"Iterator",proto:!0,real:!0},{every:function(t){JVe(this),YVe(t);var n=ZVe(this),s=0;return!qVe(n,function(a,i){if(!t(a,s++))return i()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}});var QVe=Je,KVe=or,XVe=Dr,yQ=nr,eGe=Ti,tGe=cg,rGe=vM,nGe=ac,sGe=tGe(function(){for(var e=this.iterator,t=this.predicate,n=this.next,s,a,i;;){if(s=yQ(KVe(n,e)),a=this.done=!!s.done,a)return;if(i=s.value,rGe(e,t,[i,this.counter++],!0))return i}});QVe({target:"Iterator",proto:!0,real:!0,forced:nGe},{filter:function(t){return yQ(this),XVe(t),new sGe(eGe(this),{predicate:t})}});var aGe=Je,iGe=Rs,oGe=Dr,lGe=nr,cGe=Ti;aGe({target:"Iterator",proto:!0,real:!0},{find:function(t){lGe(this),oGe(t);var n=cGe(this),s=0;return iGe(n,function(a,i){if(t(a,s++))return i(a)},{IS_RECORD:!0,INTERRUPTED:!0}).result}});var dGe=or,PD=nr,uGe=Ti,fGe=rg,bQ=function(e,t){(!t||typeof e!="string")&&PD(e);var n=fGe(e);return uGe(PD(n!==void 0?dGe(n,e):e))},hGe=Je,DD=or,gGe=Dr,ek=nr,mGe=Ti,pGe=bQ,xGe=cg,RD=jf,vGe=ac,yGe=xGe(function(){for(var e=this.iterator,t=this.mapper,n,s;;){if(s=this.inner)try{if(n=ek(DD(s.next,s.iterator)),!n.done)return n.value;this.inner=null}catch(a){RD(e,"throw",a)}if(n=ek(DD(this.next,e)),this.done=!!n.done)return;try{this.inner=pGe(t(n.value,this.counter++),!1)}catch(a){RD(e,"throw",a)}}});hGe({target:"Iterator",proto:!0,real:!0,forced:vGe},{flatMap:function(t){return ek(this),gGe(t),new yGe(mGe(this),{mapper:t,inner:null})}});var bGe=Je,wGe=Rs,jGe=Dr,NGe=nr,SGe=Ti;bGe({target:"Iterator",proto:!0,real:!0},{forEach:function(t){NGe(this),jGe(t);var n=SGe(this),s=0;wGe(n,function(a){t(a,s++)},{IS_RECORD:!0})}});var CGe=Je,kGe=or,EGe=Vr,LGe=ri,MGe=Rx.IteratorPrototype,IGe=cg,TGe=bQ,AGe=ac,_Ge=IGe(function(){return kGe(this.next,this.iterator)},!0);CGe({target:"Iterator",stat:!0,forced:AGe},{from:function(t){var n=TGe(typeof t=="string"?EGe(t):t,!0);return LGe(MGe,n.iterator)?n.iterator:new _Ge(n)}});var OGe=or,$Ge=Dr,wQ=nr,PGe=Ti,DGe=cg,RGe=vM,FGe=DGe(function(){var e=this.iterator,t=wQ(OGe(this.next,e)),n=this.done=!!t.done;if(!n)return RGe(e,this.mapper,[t.value,this.counter++],!0)}),BGe=function(t){return wQ(this),$Ge(t),new FGe(PGe(this),{mapper:t})},zGe=Je,UGe=BGe,WGe=ac;zGe({target:"Iterator",proto:!0,real:!0,forced:WGe},{map:UGe});var HGe=Je,VGe=Rs,GGe=Dr,qGe=nr,YGe=Ti,JGe=TypeError;HGe({target:"Iterator",proto:!0,real:!0},{reduce:function(t){qGe(this),GGe(t);var n=YGe(this),s=arguments.length<2,a=s?void 0:arguments[1],i=0;if(VGe(n,function(o){s?(s=!1,a=o):a=t(a,o,i),i++},{IS_RECORD:!0}),s)throw new JGe("Reduce of empty iterator with no initial value");return a}});var ZGe=Je,QGe=Rs,KGe=Dr,XGe=nr,eqe=Ti;ZGe({target:"Iterator",proto:!0,real:!0},{some:function(t){XGe(this),KGe(t);var n=eqe(this),s=0;return QGe(n,function(a,i){if(t(a,s++))return i()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}});var tqe=Je,rqe=or,jQ=nr,nqe=Ti,sqe=hQ,aqe=qM,iqe=cg,oqe=jf,lqe=ac,cqe=iqe(function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,oqe(e,"normal",void 0);var t=jQ(rqe(this.next,e)),n=this.done=!!t.done;if(!n)return t.value});tqe({target:"Iterator",proto:!0,real:!0,forced:lqe},{take:function(t){jQ(this);var n=aqe(sqe(+t));return new cqe(nqe(this),{remaining:n})}});var dqe=Je,uqe=nr,fqe=Rs,hqe=Ti,gqe=[].push;dqe({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return fqe(hqe(uqe(this)),gqe,{that:t,IS_RECORD:!0}),t}});var mqe=Vt,pqe=si;pqe(mqe.JSON,"JSON",!0);var NQ={exports:{}},xqe=$t,YM=xqe(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),vqe=$t,yqe=kr,bqe=ha,FD=YM,by=Object.isExtensible,wqe=vqe(function(){by(1)}),JM=wqe||FD?function(t){return!yqe(t)||FD&&bqe(t)==="ArrayBuffer"?!1:by?by(t):!0}:by,jqe=$t,dg=!jqe(function(){return Object.isExtensible(Object.preventExtensions({}))}),Nqe=Je,Sqe=zt,Cqe=Sx,kqe=kr,ZM=Rr,Eqe=jn.f,BD=Hd,Lqe=Jw,QM=JM,Mqe=Xh,Iqe=dg,SQ=!1,ql=Mqe("meta"),Tqe=0,KM=function(e){Eqe(e,ql,{value:{objectID:"O"+Tqe++,weakData:{}}})},Aqe=function(e,t){if(!kqe(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!ZM(e,ql)){if(!QM(e))return"F";if(!t)return"E";KM(e)}return e[ql].objectID},_qe=function(e,t){if(!ZM(e,ql)){if(!QM(e))return!0;if(!t)return!1;KM(e)}return e[ql].weakData},Oqe=function(e){return Iqe&&SQ&&QM(e)&&!ZM(e,ql)&&KM(e),e},$qe=function(){Pqe.enable=function(){},SQ=!0;var e=BD.f,t=Sqe([].splice),n={};n[ql]=1,e(n).length&&(BD.f=function(s){for(var a=e(s),i=0,o=a.length;i<o;i++)if(a[i]===ql){t(a,i,1);break}return a},Nqe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Lqe.f}))},Pqe=NQ.exports={enable:$qe,fastKey:Aqe,getWeakData:_qe,onFreeze:Oqe};Cqe[ql]=!0;var Nf=NQ.exports,Dqe=Je,Rqe=Vt,Fqe=zt,zD=Mx,Bqe=Nn,zqe=Nf,Uqe=Rs,Wqe=Wo,Hqe=Or,Vqe=ti,m3=kr,p3=$t,Gqe=aj,qqe=si,Yqe=bf,mj=function(e,t,n){var s=e.indexOf("Map")!==-1,a=e.indexOf("Weak")!==-1,i=s?"set":"add",o=Rqe[e],l=o&&o.prototype,c=o,u={},f=function(y){var x=Fqe(l[y]);Bqe(l,y,y==="add"?function(j){return x(this,j===0?0:j),this}:y==="delete"?function(w){return a&&!m3(w)?!1:x(this,w===0?0:w)}:y==="get"?function(j){return a&&!m3(j)?void 0:x(this,j===0?0:j)}:y==="has"?function(j){return a&&!m3(j)?!1:x(this,j===0?0:j)}:function(j,N){return x(this,j===0?0:j,N),this})},h=zD(e,!Hqe(o)||!(a||l.forEach&&!p3(function(){new o().entries().next()})));if(h)c=n.getConstructor(t,e,s,i),zqe.enable();else if(zD(e,!0)){var g=new c,m=g[i](a?{}:-0,1)!==g,p=p3(function(){g.has(1)}),v=Gqe(function(y){new o(y)}),b=!a&&p3(function(){for(var y=new o,x=5;x--;)y[i](x,x);return!y.has(-0)});v||(c=t(function(y,x){Wqe(y,l);var w=Yqe(new o,y,c);return Vqe(x)||Uqe(x,w[i],{that:w,AS_ENTRIES:s}),w}),c.prototype=l,l.constructor=c),(p||b)&&(f("delete"),f("has"),s&&f("get")),(b||m)&&f(i),a&&l.clear&&delete l.clear}return u[e]=c,Dqe({global:!0,constructor:!0,forced:c!==o},u),qqe(c,e),a||n.setStrong(c,e,s),c},UD=Mi,Jqe=ds,WD=og,Zqe=Uo,Qqe=Wo,Kqe=ti,Xqe=Rs,eYe=bM,g1=sg,tYe=ig,Xg=ir,HD=Nf.fastKey,CQ=Zn,VD=CQ.set,x3=CQ.getterFor,kQ={getConstructor:function(e,t,n,s){var a=e(function(u,f){Qqe(u,i),VD(u,{type:t,index:UD(null),first:null,last:null,size:0}),Xg||(u.size=0),Kqe(f)||Xqe(f,u[s],{that:u,AS_ENTRIES:n})}),i=a.prototype,o=x3(t),l=function(u,f,h){var g=o(u),m=c(u,f),p,v;return m?m.value=h:(g.last=m={index:v=HD(f,!0),key:f,value:h,previous:p=g.last,next:null,removed:!1},g.first||(g.first=m),p&&(p.next=m),Xg?g.size++:u.size++,v!=="F"&&(g.index[v]=m)),u},c=function(u,f){var h=o(u),g=HD(f),m;if(g!=="F")return h.index[g];for(m=h.first;m;m=m.next)if(m.key===f)return m};return WD(i,{clear:function(){for(var f=this,h=o(f),g=h.first;g;)g.removed=!0,g.previous&&(g.previous=g.previous.next=null),g=g.next;h.first=h.last=null,h.index=UD(null),Xg?h.size=0:f.size=0},delete:function(u){var f=this,h=o(f),g=c(f,u);if(g){var m=g.next,p=g.previous;delete h.index[g.index],g.removed=!0,p&&(p.next=m),m&&(m.previous=p),h.first===g&&(h.first=m),h.last===g&&(h.last=p),Xg?h.size--:f.size--}return!!g},forEach:function(f){for(var h=o(this),g=Zqe(f,arguments.length>1?arguments[1]:void 0),m;m=m?m.next:h.first;)for(g(m.value,m.key,this);m&&m.removed;)m=m.previous},has:function(f){return!!c(this,f)}}),WD(i,n?{get:function(f){var h=c(this,f);return h&&h.value},set:function(f,h){return l(this,f===0?0:f,h)}}:{add:function(f){return l(this,f=f===0?0:f,f)}}),Xg&&Jqe(i,"size",{configurable:!0,get:function(){return o(this).size}}),a},setStrong:function(e,t,n){var s=t+" Iterator",a=x3(t),i=x3(s);eYe(e,t,function(o,l){VD(this,{type:s,target:o,state:a(o),kind:l,last:null})},function(){for(var o=i(this),l=o.kind,c=o.last;c&&c.removed;)c=c.previous;return!o.target||!(o.last=c=c?c.next:o.state.first)?(o.target=null,g1(void 0,!0)):g1(l==="keys"?c.key:l==="values"?c.value:[c.key,c.value],!1)},n?"entries":"values",!n,!0),tYe(t)}},rYe=mj,nYe=kQ;rYe("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},nYe);var m1=zt,em=Map.prototype,EQ={Map,set:m1(em.set),get:m1(em.get),has:m1(em.has),remove:m1(em.delete),proto:em},sYe=Je,aYe=zt,iYe=Dr,oYe=wn,lYe=Rs,pj=EQ,cYe=$t,LQ=pj.Map,dYe=pj.has,uYe=pj.get,fYe=pj.set,hYe=aYe([].push),gYe=cYe(function(){return LQ.groupBy("ab",function(e){return e}).get("a").length!==1});sYe({target:"Map",stat:!0,forced:gYe},{groupBy:function(t,n){oYe(t),iYe(n);var s=new LQ,a=0;return lYe(t,function(i){var o=n(i,a++);dYe(s,o)?hYe(uYe(s,o),i):fYe(s,o,[i])}),s}});var mYe=Math.log,MQ=Math.log1p||function(t){var n=+t;return n>-1e-8&&n<1e-8?n-n*n/2:mYe(1+n)},pYe=Je,xYe=MQ,v3=Math.acosh,vYe=Math.log,GD=Math.sqrt,yYe=Math.LN2,bYe=!v3||Math.floor(v3(Number.MAX_VALUE))!==710||v3(1/0)!==1/0;pYe({target:"Math",stat:!0,forced:bYe},{acosh:function(t){var n=+t;return n<1?NaN:n>9490626562425156e-8?vYe(n)+yYe:xYe(n-1+GD(n-1)*GD(n+1))}});var wYe=Je,qD=Math.asinh,jYe=Math.log,NYe=Math.sqrt;function IQ(e){var t=+e;return!isFinite(t)||t===0?t:t<0?-IQ(-t):jYe(t+NYe(t*t+1))}var SYe=!(qD&&1/qD(0)>0);wYe({target:"Math",stat:!0,forced:SYe},{asinh:IQ});var CYe=Je,YD=Math.atanh,kYe=Math.log,EYe=!(YD&&1/YD(-0)<0);CYe({target:"Math",stat:!0,forced:EYe},{atanh:function(t){var n=+t;return n===0?n:kYe((1+n)/(1-n))/2}});var LYe=Je,MYe=LM,IYe=Math.abs,TYe=Math.pow;LYe({target:"Math",stat:!0},{cbrt:function(t){var n=+t;return MYe(n)*TYe(IYe(n),1/3)}});var AYe=Je,_Ye=Math.floor,OYe=Math.log,$Ye=Math.LOG2E;AYe({target:"Math",stat:!0},{clz32:function(t){var n=t>>>0;return n?31-_Ye(OYe(n+.5)*$Ye):32}});var tm=Math.expm1,PYe=Math.exp,xj=!tm||tm(10)>22025.465794806718||tm(10)<22025.465794806718||tm(-2e-17)!==-2e-17?function(t){var n=+t;return n===0?n:n>-1e-6&&n<1e-6?n+n*n/2:PYe(n)-1}:tm,DYe=Je,RYe=xj,JD=Math.cosh,FYe=Math.abs,y3=Math.E,BYe=!JD||JD(710)===1/0;DYe({target:"Math",stat:!0,forced:BYe},{cosh:function(t){var n=RYe(FYe(t)-1)+1;return(n+1/(n*y3*y3))*(y3/2)}});var zYe=Je,ZD=xj;zYe({target:"Math",stat:!0,forced:ZD!==Math.expm1},{expm1:ZD});var UYe=Je,WYe=EZ;UYe({target:"Math",stat:!0},{fround:WYe});var HYe=Je,QD=Math.hypot,VYe=Math.abs,GYe=Math.sqrt,qYe=!!QD&&QD(1/0,NaN)!==1/0;HYe({target:"Math",stat:!0,arity:2,forced:qYe},{hypot:function(t,n){for(var s=0,a=0,i=arguments.length,o=0,l,c;a<i;)l=VYe(arguments[a++]),o<l?(c=o/l,s=s*c*c+1,o=l):l>0?(c=l/o,s+=c*c):s+=l;return o===1/0?1/0:o*GYe(s)}});var YYe=Je,JYe=$t,KD=Math.imul,ZYe=JYe(function(){return KD(4294967295,5)!==-5||KD.length!==2});YYe({target:"Math",stat:!0,forced:ZYe},{imul:function(t,n){var s=65535,a=+t,i=+n,o=s&a,l=s&i;return 0|o*l+((s&a>>>16)*l+o*(s&i>>>16)<<16>>>0)}});var QYe=Math.log,KYe=Math.LOG10E,TQ=Math.log10||function(t){return QYe(t)*KYe},XYe=Je,eJe=TQ;XYe({target:"Math",stat:!0},{log10:eJe});var tJe=Je,rJe=MQ;tJe({target:"Math",stat:!0},{log1p:rJe});var nJe=Je,sJe=Math.log,aJe=Math.LN2;nJe({target:"Math",stat:!0},{log2:function(t){return sJe(t)/aJe}});var iJe=Je,oJe=LM;iJe({target:"Math",stat:!0},{sign:oJe});var lJe=Je,cJe=$t,XD=xj,dJe=Math.abs,e7=Math.exp,uJe=Math.E,fJe=cJe(function(){return Math.sinh(-2e-17)!==-2e-17});lJe({target:"Math",stat:!0,forced:fJe},{sinh:function(t){var n=+t;return dJe(n)<1?(XD(n)-XD(-n))/2:(e7(n-1)-e7(-n-1))*(uJe/2)}});var hJe=Je,t7=xj,r7=Math.exp;hJe({target:"Math",stat:!0},{tanh:function(t){var n=+t,s=t7(n),a=t7(-n);return s===1/0?1:a===1/0?-1:(s-a)/(r7(n)+r7(-n))}});var gJe=si;gJe(Math,"Math",!0);var mJe=Je,pJe=aJ;mJe({target:"Math",stat:!0},{trunc:pJe});var xJe=zt,vj=xJe(1 .valueOf),yj=`	
\v\f\r \u2028\u2029\uFEFF`,vJe=zt,yJe=wn,bJe=fr,tk=yj,n7=vJe("".replace),wJe=RegExp("^["+tk+"]+"),jJe=RegExp("(^|[^"+tk+"])["+tk+"]+$"),b3=function(e){return function(t){var n=bJe(yJe(t));return e&1&&(n=n7(n,wJe,"")),e&2&&(n=n7(n,jJe,"$1")),n}},ug={start:b3(1),end:b3(2),trim:b3(3)},NJe=Je,AQ=ac,SJe=ir,_Q=Vt,OQ=hJ,$Q=zt,CJe=Mx,s7=Rr,kJe=bf,EJe=ri,LJe=vf,PQ=Vw,MJe=$t,IJe=Hd.f,TJe=fa.f,AJe=jn.f,_Je=vj,OJe=ug.trim,bj="Number",Z0=_Q[bj];OQ[bj];var XM=Z0.prototype,$Je=_Q.TypeError,PJe=$Q("".slice),p1=$Q("".charCodeAt),DJe=function(e){var t=PQ(e,"number");return typeof t=="bigint"?t:RJe(t)},RJe=function(e){var t=PQ(e,"number"),n,s,a,i,o,l,c,u;if(LJe(t))throw new $Je("Cannot convert a Symbol value to a number");if(typeof t=="string"&&t.length>2){if(t=OJe(t),n=p1(t,0),n===43||n===45){if(s=p1(t,2),s===88||s===120)return NaN}else if(n===48){switch(p1(t,1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+t}for(o=PJe(t,2),l=o.length,c=0;c<l;c++)if(u=p1(o,c),u<48||u>i)return NaN;return parseInt(o,a)}}return+t},eI=CJe(bj,!Z0(" 0o1")||!Z0("0b1")||Z0("+0x1")),FJe=function(e){return EJe(XM,e)&&MJe(function(){_Je(e)})},wj=function(t){var n=arguments.length<1?0:Z0(DJe(t));return FJe(this)?kJe(Object(n),this,wj):n};wj.prototype=XM;eI&&!AQ&&(XM.constructor=wj);NJe({global:!0,constructor:!0,wrap:!0,forced:eI},{Number:wj});var BJe=function(e,t){for(var n=SJe?IJe(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),s=0,a;n.length>s;s++)s7(t,a=n[s])&&!s7(e,a)&&AJe(e,a,TJe(t,a))};(eI||AQ)&&BJe(OQ[bj],Z0);var zJe=Je;zJe({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)});var UJe=Vt,WJe=UJe.isFinite,HJe=Number.isFinite||function(t){return typeof t=="number"&&WJe(t)},VJe=Je,GJe=HJe;VJe({target:"Number",stat:!0},{isFinite:GJe});var qJe=kr,YJe=Math.floor,tI=Number.isInteger||function(t){return!qJe(t)&&isFinite(t)&&YJe(t)===t},JJe=Je,ZJe=tI;JJe({target:"Number",stat:!0},{isInteger:ZJe});var QJe=Je;QJe({target:"Number",stat:!0},{isNaN:function(t){return t!==t}});var KJe=Je,XJe=tI,eZe=Math.abs;KJe({target:"Number",stat:!0},{isSafeInteger:function(t){return XJe(t)&&eZe(t)<=9007199254740991}});var tZe=Je;tZe({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991});var rZe=Je;rZe({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991});var DQ=Vt,nZe=$t,sZe=zt,aZe=fr,iZe=ug.trim,oZe=yj,lZe=sZe("".charAt),n2=DQ.parseFloat,a7=DQ.Symbol,i7=a7&&a7.iterator,cZe=1/n2(oZe+"-0")!==-1/0||i7&&!nZe(function(){n2(Object(i7))}),RQ=cZe?function(t){var n=iZe(aZe(t)),s=n2(n);return s===0&&lZe(n,0)==="-"?-0:s}:n2,dZe=Je,o7=RQ;dZe({target:"Number",stat:!0,forced:Number.parseFloat!==o7},{parseFloat:o7});var FQ=Vt,uZe=$t,fZe=zt,hZe=fr,gZe=ug.trim,l7=yj,Vm=FQ.parseInt,c7=FQ.Symbol,d7=c7&&c7.iterator,BQ=/^[+-]?0x/i,mZe=fZe(BQ.exec),pZe=Vm(l7+"08")!==8||Vm(l7+"0x16")!==22||d7&&!uZe(function(){Vm(Object(d7))}),zQ=pZe?function(t,n){var s=gZe(hZe(t));return Vm(s,n>>>0||(mZe(BQ,s)?16:10))}:Vm,xZe=Je,u7=zQ;xZe({target:"Number",stat:!0,forced:Number.parseInt!==u7},{parseInt:u7});var vZe=Je,rI=zt,yZe=Pn,bZe=vj,wZe=gj,jZe=TQ,rk=$t,NZe=RangeError,f7=String,SZe=isFinite,CZe=Math.abs,kZe=Math.floor,h7=Math.pow,EZe=Math.round,sl=rI(1 .toExponential),LZe=rI(wZe),g7=rI("".slice),UQ=sl(-69e-12,4)==="-6.9000e-11"&&sl(1.255,2)==="1.25e+0"&&sl(12345,3)==="1.235e+4"&&sl(25,0)==="3e+1",MZe=function(){return rk(function(){sl(1,1/0)})&&rk(function(){sl(1,-1/0)})},IZe=function(){return!rk(function(){sl(1/0,1/0),sl(NaN,1/0)})},TZe=!UQ||!MZe()||!IZe();vZe({target:"Number",proto:!0,forced:TZe},{toExponential:function(t){var n=bZe(this);if(t===void 0)return sl(n);var s=yZe(t);if(!SZe(n))return String(n);if(s<0||s>20)throw new NZe("Incorrect fraction digits");if(UQ)return sl(n,s);var a="",i,o,l,c;if(n<0&&(a="-",n=-n),n===0)o=0,i=LZe("0",s+1);else{var u=jZe(n);o=kZe(u);var f=h7(10,o-s),h=EZe(n/f);2*n>=(2*h+1)*f&&(h+=1),h>=h7(10,s+1)&&(h/=10,o+=1),i=f7(h)}return s!==0&&(i=g7(i,0,1)+"."+g7(i,1)),o===0?(l="+",c="0"):(l=o>0?"+":"-",c=f7(CZe(o))),i+="e"+l+c,a+i}});var AZe=Je,nI=zt,_Ze=Pn,OZe=vj,$Ze=gj,m7=$t,PZe=RangeError,WQ=String,HQ=Math.floor,nk=nI($Ze),p7=nI("".slice),rm=nI(1 .toFixed),L0=function(e,t,n){return t===0?n:t%2===1?L0(e,t-1,n*e):L0(e*e,t/2,n)},DZe=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t},qf=function(e,t,n){for(var s=-1,a=n;++s<6;)a+=t*e[s],e[s]=a%1e7,a=HQ(a/1e7)},w3=function(e,t){for(var n=6,s=0;--n>=0;)s+=e[n],e[n]=HQ(s/t),s=s%t*1e7},x7=function(e){for(var t=6,n="";--t>=0;)if(n!==""||t===0||e[t]!==0){var s=WQ(e[t]);n=n===""?s:n+nk("0",7-s.length)+s}return n},RZe=m7(function(){return rm(8e-5,3)!=="0.000"||rm(.9,0)!=="1"||rm(1.255,2)!=="1.25"||rm(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!m7(function(){rm({})});AZe({target:"Number",proto:!0,forced:RZe},{toFixed:function(t){var n=OZe(this),s=_Ze(t),a=[0,0,0,0,0,0],i="",o="0",l,c,u,f;if(s<0||s>20)throw new PZe("Incorrect fraction digits");if(n!==n)return"NaN";if(n<=-1e21||n>=1e21)return WQ(n);if(n<0&&(i="-",n=-n),n>1e-21)if(l=DZe(n*L0(2,69,1))-69,c=l<0?n*L0(2,-l,1):n/L0(2,l,1),c*=4503599627370496,l=52-l,l>0){for(qf(a,0,c),u=s;u>=7;)qf(a,1e7,0),u-=7;for(qf(a,L0(10,u,1),0),u=l-1;u>=23;)w3(a,1<<23),u-=23;w3(a,1<<u),qf(a,1,1),w3(a,2),o=x7(a)}else qf(a,0,c),qf(a,1<<-l,0),o=x7(a)+nk("0",s);return s>0?(f=o.length,o=i+(f<=s?"0."+nk("0",s-f)+o:p7(o,0,f-s)+"."+p7(o,f-s))):o=i+o,o}});var FZe=Je,BZe=zt,v7=$t,y7=vj,s2=BZe(1 .toPrecision),zZe=v7(function(){return s2(1,void 0)!=="1"})||!v7(function(){s2({})});FZe({target:"Number",proto:!0,forced:zZe},{toPrecision:function(t){return t===void 0?s2(y7(this)):s2(y7(this),t)}});var b7=ir,UZe=zt,WZe=or,HZe=$t,j3=Ix,VZe=kx,GZe=Nx,qZe=Vr,YZe=Zh,Yf=Object.assign,w7=Object.defineProperty,JZe=UZe([].concat),VQ=!Yf||HZe(function(){if(b7&&Yf({b:1},Yf(w7({},"a",{enumerable:!0,get:function(){w7(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},n=Symbol("assign detection"),s="abcdefghijklmnopqrst";return e[n]=7,s.split("").forEach(function(a){t[a]=a}),Yf({},e)[n]!==7||j3(Yf({},t)).join("")!==s})?function(t,n){for(var s=qZe(t),a=arguments.length,i=1,o=VZe.f,l=GZe.f;a>i;)for(var c=YZe(arguments[i++]),u=o?JZe(j3(c),o(c)):j3(c),f=u.length,h=0,g;f>h;)g=u[h++],(!b7||WZe(l,c,g))&&(s[g]=c[g]);return s}:Yf,ZZe=Je,j7=VQ;ZZe({target:"Object",stat:!0,arity:2,forced:Object.assign!==j7},{assign:j7});var QZe=Je,KZe=ir,XZe=Mi;QZe({target:"Object",stat:!0,sham:!KZe},{create:XZe});var eQe=Vt,tQe=$t,N7=SM,jj=!tQe(function(){if(!(N7&&N7<535)){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete eQe[e]}}),rQe=Je,nQe=ir,sQe=jj,aQe=Dr,iQe=Vr,oQe=jn;nQe&&rQe({target:"Object",proto:!0,forced:sQe},{__defineGetter__:function(t,n){oQe.f(iQe(this),t,{get:aQe(n),enumerable:!0,configurable:!0})}});var lQe=Je,cQe=ir,S7=Yw.f;lQe({target:"Object",stat:!0,forced:Object.defineProperties!==S7,sham:!cQe},{defineProperties:S7});var dQe=Je,uQe=ir,C7=jn.f;dQe({target:"Object",stat:!0,forced:Object.defineProperty!==C7,sham:!uQe},{defineProperty:C7});var fQe=Je,hQe=ir,gQe=jj,mQe=Dr,pQe=Vr,xQe=jn;hQe&&fQe({target:"Object",proto:!0,forced:gQe},{__defineSetter__:function(t,n){xQe.f(pQe(this),t,{set:mQe(n),enumerable:!0,configurable:!0})}});var GQ=ir,vQe=$t,qQ=zt,yQe=Ii,bQe=Ix,wQe=Ds,jQe=Nx.f,YQ=qQ(jQe),NQe=qQ([].push),SQe=GQ&&vQe(function(){var e=Object.create(null);return e[2]=2,!YQ(e,2)}),k7=function(e){return function(t){for(var n=wQe(t),s=bQe(n),a=SQe&&yQe(n)===null,i=s.length,o=0,l=[],c;i>o;)c=s[o++],(!GQ||(a?c in n:YQ(n,c)))&&NQe(l,e?[c,n[c]]:n[c]);return l}},JQ={entries:k7(!0),values:k7(!1)},CQe=Je,kQe=JQ.entries;CQe({target:"Object",stat:!0},{entries:function(t){return kQe(t)}});var EQe=Je,LQe=dg,MQe=$t,IQe=kr,TQe=Nf.onFreeze,sk=Object.freeze,AQe=MQe(function(){sk(1)});EQe({target:"Object",stat:!0,forced:AQe,sham:!LQe},{freeze:function(t){return sk&&IQe(t)?sk(TQe(t)):t}});var _Qe=Je,OQe=Rs,$Qe=oc;_Qe({target:"Object",stat:!0},{fromEntries:function(t){var n={};return OQe(t,function(s,a){$Qe(n,s,a)},{AS_ENTRIES:!0}),n}});var PQe=Je,DQe=$t,RQe=Ds,ZQ=fa.f,QQ=ir,FQe=!QQ||DQe(function(){ZQ(1)});PQe({target:"Object",stat:!0,forced:FQe,sham:!QQ},{getOwnPropertyDescriptor:function(t,n){return ZQ(RQe(t),n)}});var BQe=Je,zQe=ir,UQe=sM,WQe=Ds,HQe=fa,VQe=oc;BQe({target:"Object",stat:!0,sham:!zQe},{getOwnPropertyDescriptors:function(t){for(var n=WQe(t),s=HQe.f,a=UQe(n),i={},o=0,l,c;a.length>o;)c=s(n,l=a[o++]),c!==void 0&&VQe(i,l,c);return i}});var GQe=Je,qQe=$t,YQe=Jw.f,JQe=qQe(function(){return!Object.getOwnPropertyNames(1)});GQe({target:"Object",stat:!0,forced:JQe},{getOwnPropertyNames:YQe});var ZQe=Je,QQe=$t,KQe=Vr,KQ=Ii,XQe=gM,eKe=QQe(function(){KQ(1)});ZQe({target:"Object",stat:!0,forced:eKe,sham:!XQe},{getPrototypeOf:function(t){return KQ(KQe(t))}});var tKe=Je,rKe=rn,nKe=zt,sKe=Dr,aKe=wn,iKe=Wd,oKe=Rs,lKe=$t,E7=Object.groupBy,cKe=rKe("Object","create"),dKe=nKe([].push),uKe=!E7||lKe(function(){return E7("ab",function(e){return e}).a.length!==1});tKe({target:"Object",stat:!0,forced:uKe},{groupBy:function(t,n){aKe(t),sKe(n);var s=cKe(null),a=0;return oKe(t,function(i){var o=iKe(n(i,a++));o in s?dKe(s[o],i):s[o]=[i]}),s}});var fKe=Je,hKe=Rr;fKe({target:"Object",stat:!0},{hasOwn:hKe});var XQ=Object.is||function(t,n){return t===n?t!==0||1/t===1/n:t!==t&&n!==n},gKe=Je,mKe=XQ;gKe({target:"Object",stat:!0},{is:mKe});var pKe=Je,L7=JM;pKe({target:"Object",stat:!0,forced:Object.isExtensible!==L7},{isExtensible:L7});var xKe=Je,vKe=$t,yKe=kr,bKe=ha,eK=YM,ak=Object.isFrozen,wKe=eK||vKe(function(){ak(1)});xKe({target:"Object",stat:!0,forced:wKe},{isFrozen:function(t){return!yKe(t)||eK&&bKe(t)==="ArrayBuffer"?!0:ak?ak(t):!1}});var jKe=Je,NKe=$t,SKe=kr,CKe=ha,tK=YM,ik=Object.isSealed,kKe=tK||NKe(function(){ik(1)});jKe({target:"Object",stat:!0,forced:kKe},{isSealed:function(t){return!SKe(t)||tK&&CKe(t)==="ArrayBuffer"?!0:ik?ik(t):!1}});var EKe=Je,LKe=Vr,rK=Ix,MKe=$t,IKe=MKe(function(){rK(1)});EKe({target:"Object",stat:!0,forced:IKe},{keys:function(t){return rK(LKe(t))}});var TKe=Je,AKe=ir,_Ke=jj,OKe=Vr,$Ke=Wd,PKe=Ii,DKe=fa.f;AKe&&TKe({target:"Object",proto:!0,forced:_Ke},{__lookupGetter__:function(t){var n=OKe(this),s=$Ke(t),a;do if(a=DKe(n,s))return a.get;while(n=PKe(n))}});var RKe=Je,FKe=ir,BKe=jj,zKe=Vr,UKe=Wd,WKe=Ii,HKe=fa.f;FKe&&RKe({target:"Object",proto:!0,forced:BKe},{__lookupSetter__:function(t){var n=zKe(this),s=UKe(t),a;do if(a=HKe(n,s))return a.set;while(n=WKe(n))}});var VKe=Je,GKe=kr,qKe=Nf.onFreeze,YKe=dg,JKe=$t,ok=Object.preventExtensions,ZKe=JKe(function(){ok(1)});VKe({target:"Object",stat:!0,forced:ZKe,sham:!YKe},{preventExtensions:function(t){return ok&&GKe(t)?ok(qKe(t)):t}});var QKe=ir,KKe=ds,XKe=kr,eXe=zJ,tXe=Vr,rXe=wn,M7=Object.getPrototypeOf,I7=Object.setPrototypeOf,T7=Object.prototype,A7="__proto__";if(QKe&&M7&&I7&&!(A7 in T7))try{KKe(T7,A7,{configurable:!0,get:function(){return M7(tXe(this))},set:function(t){var n=rXe(this);eXe(t)&&XKe(n)&&I7(n,t)}})}catch(e){}var nXe=Je,sXe=kr,aXe=Nf.onFreeze,iXe=dg,oXe=$t,lk=Object.seal,lXe=oXe(function(){lk(1)});nXe({target:"Object",stat:!0,forced:lXe,sham:!iXe},{seal:function(t){return lk&&sXe(t)?lk(aXe(t)):t}});var cXe=Je,dXe=xl;cXe({target:"Object",stat:!0},{setPrototypeOf:dXe});var uXe=aM,fXe=pl,hXe=uXe?{}.toString:function(){return"[object "+fXe(this)+"]"},gXe=aM,mXe=Nn,pXe=hXe;gXe||mXe(Object.prototype,"toString",pXe,{unsafe:!0});var xXe=Je,vXe=JQ.values;xXe({target:"Object",stat:!0},{values:function(t){return vXe(t)}});var yXe=Je,_7=RQ;yXe({global:!0,forced:parseFloat!==_7},{parseFloat:_7});var bXe=Je,O7=zQ;bXe({global:!0,forced:parseInt!==O7},{parseInt:O7});var wXe=tg,jXe=yf,NXe=TypeError,sI=function(e){if(wXe(e))return e;throw new NXe(jXe(e)+" is not a constructor")},$7=nr,SXe=sI,CXe=ti,kXe=Er,EXe=kXe("species"),Nj=function(e,t){var n=$7(e).constructor,s;return n===void 0||CXe(s=$7(n)[EXe])?t:SXe(s)},LXe=TypeError,uo=function(e,t){if(e<t)throw new LXe("Not enough arguments");return e},MXe=gl,nK=/(?:ipad|iphone|ipod).*applewebkit/i.test(MXe),bi=Vt,IXe=co,TXe=Uo,P7=Or,AXe=Rr,sK=$t,D7=lJ,_Xe=lo,R7=Gw,OXe=uo,$Xe=nK,PXe=ag,ck=bi.setImmediate,dk=bi.clearImmediate,DXe=bi.process,N3=bi.Dispatch,RXe=bi.Function,F7=bi.MessageChannel,FXe=bi.String,S3=0,Gm={},B7="onreadystatechange",Wp,su,C3,k3;sK(function(){Wp=bi.location});var aI=function(e){if(AXe(Gm,e)){var t=Gm[e];delete Gm[e],t()}},E3=function(e){return function(){aI(e)}},z7=function(e){aI(e.data)},U7=function(e){bi.postMessage(FXe(e),Wp.protocol+"//"+Wp.host)};(!ck||!dk)&&(ck=function(t){OXe(arguments.length,1);var n=P7(t)?t:RXe(t),s=_Xe(arguments,1);return Gm[++S3]=function(){IXe(n,void 0,s)},su(S3),S3},dk=function(t){delete Gm[t]},PXe?su=function(e){DXe.nextTick(E3(e))}:N3&&N3.now?su=function(e){N3.now(E3(e))}:F7&&!$Xe?(C3=new F7,k3=C3.port2,C3.port1.onmessage=z7,su=TXe(k3.postMessage,k3)):bi.addEventListener&&P7(bi.postMessage)&&!bi.importScripts&&Wp&&Wp.protocol!=="file:"&&!sK(U7)?(su=U7,bi.addEventListener("message",z7,!1)):B7 in R7("script")?su=function(e){D7.appendChild(R7("script"))[B7]=function(){D7.removeChild(this),aI(e)}}:su=function(e){setTimeout(E3(e),0)});var Sj={set:ck,clear:dk},W7=Vt,BXe=ir,zXe=Object.getOwnPropertyDescriptor,aK=function(e){if(!BXe)return W7[e];var t=zXe(W7,e);return t&&t.value},iK=function(){this.head=null,this.tail=null};iK.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};var oK=iK,UXe=gl,WXe=/ipad|iphone|ipod/i.test(UXe)&&typeof Pebble!="undefined",HXe=gl,VXe=/web0s(?!.*chrome)/i.test(HXe),bh=Vt,GXe=aK,H7=Uo,L3=Sj.set,qXe=oK,YXe=nK,JXe=WXe,ZXe=VXe,M3=ag,V7=bh.MutationObserver||bh.WebKitMutationObserver,G7=bh.document,q7=bh.process,x1=bh.Promise,uk=GXe("queueMicrotask"),Jf,I3,T3,v1,Y7;if(!uk){var y1=new qXe,b1=function(){var e,t;for(M3&&(e=q7.domain)&&e.exit();t=y1.get();)try{t()}catch(n){throw y1.head&&Jf(),n}e&&e.enter()};!YXe&&!M3&&!ZXe&&V7&&G7?(I3=!0,T3=G7.createTextNode(""),new V7(b1).observe(T3,{characterData:!0}),Jf=function(){T3.data=I3=!I3}):!JXe&&x1&&x1.resolve?(v1=x1.resolve(void 0),v1.constructor=x1,Y7=H7(v1.then,v1),Jf=function(){Y7(b1)}):M3?Jf=function(){q7.nextTick(b1)}:(L3=H7(L3,bh),Jf=function(){L3(b1)}),uk=function(e){y1.head||Jf(),y1.add(e)}}var lK=uk,QXe=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch(n){}},fg=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},KXe=Vt,Bx=KXe.Promise,XXe=Vt,qm=Bx,eet=Or,tet=Mx,ret=eM,net=Er,J7=oj,A3=sc;qm&&qm.prototype;var set=net("species"),fk=!1,cK=eet(XXe.PromiseRejectionEvent),aet=tet("Promise",function(){var e=ret(qm),t=e!==String(qm);if(!t&&A3===66)return!0;if(!A3||A3<51||!/native code/.test(e)){var n=new qm(function(i){i(1)}),s=function(i){i(function(){},function(){})},a=n.constructor={};if(a[set]=s,fk=n.then(function(){})instanceof s,!fk)return!0}return!t&&(J7==="BROWSER"||J7==="DENO")&&!cK}),zx={CONSTRUCTOR:aet,REJECTION_EVENT:cK,SUBCLASSING:fk},yl={},Z7=Dr,iet=TypeError,oet=function(e){var t,n;this.promise=new e(function(s,a){if(t!==void 0||n!==void 0)throw new iet("Bad Promise constructor");t=s,n=a}),this.resolve=Z7(t),this.reject=Z7(n)};yl.f=function(e){return new oet(e)};var cet=Je,a2=ag,yd=Vt,wh=or,Q7=Nn,K7=xl,det=si,uet=ig,fet=Dr,wy=Or,het=kr,get=Wo,met=Nj,dK=Sj.set,iI=lK,pet=QXe,xet=fg,vet=oK,uK=Zn,i2=Bx,oI=zx,fK=yl,Cj="Promise",hK=oI.CONSTRUCTOR,yet=oI.REJECTION_EVENT,bet=oI.SUBCLASSING,_3=uK.getterFor(Cj),wet=uK.set,i0=i2&&i2.prototype,ju=i2,w1=i0,gK=yd.TypeError,hk=yd.document,lI=yd.process,gk=fK.f,jet=gk,Net=!!(hk&&hk.createEvent&&yd.dispatchEvent),mK="unhandledrejection",Cet="rejectionhandled",X7=0,pK=1,ket=2,cI=1,xK=2,j1,eR,Eet,tR,vK=function(e){var t;return het(e)&&wy(t=e.then)?t:!1},yK=function(e,t){var n=t.value,s=t.state===pK,a=s?e.ok:e.fail,i=e.resolve,o=e.reject,l=e.domain,c,u,f;try{a?(s||(t.rejection===xK&&Met(t),t.rejection=cI),a===!0?c=n:(l&&l.enter(),c=a(n),l&&(l.exit(),f=!0)),c===e.promise?o(new gK("Promise-chain cycle")):(u=vK(c))?wh(u,c,i,o):i(c)):o(n)}catch(h){l&&!f&&l.exit(),o(h)}},bK=function(e,t){e.notified||(e.notified=!0,iI(function(){for(var n=e.reactions,s;s=n.get();)yK(s,e);e.notified=!1,t&&!e.rejection&&Let(e)}))},wK=function(e,t,n){var s,a;Net?(s=hk.createEvent("Event"),s.promise=t,s.reason=n,s.initEvent(e,!1,!0),yd.dispatchEvent(s)):s={promise:t,reason:n},!yet&&(a=yd["on"+e])?a(s):e===mK&&pet("Unhandled promise rejection",n)},Let=function(e){wh(dK,yd,function(){var t=e.facade,n=e.value,s=rR(e),a;if(s&&(a=xet(function(){a2?lI.emit("unhandledRejection",n,t):wK(mK,t,n)}),e.rejection=a2||rR(e)?xK:cI,a.error))throw a.value})},rR=function(e){return e.rejection!==cI&&!e.parent},Met=function(e){wh(dK,yd,function(){var t=e.facade;a2?lI.emit("rejectionHandled",t):wK(Cet,t,e.value)})},M0=function(e,t,n){return function(s){e(t,s,n)}},Q0=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=ket,bK(e,!0))},mk=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new gK("Promise can't be resolved itself");var s=vK(t);s?iI(function(){var a={done:!1};try{wh(s,t,M0(mk,a,e),M0(Q0,a,e))}catch(i){Q0(a,i,e)}}):(e.value=t,e.state=pK,bK(e,!1))}catch(a){Q0({done:!1},a,e)}}};if(hK&&(ju=function(t){get(this,w1),fet(t),wh(j1,this);var n=_3(this);try{t(M0(mk,n),M0(Q0,n))}catch(s){Q0(n,s)}},w1=ju.prototype,j1=function(t){wet(this,{type:Cj,done:!1,notified:!1,parent:!1,reactions:new vet,rejection:!1,state:X7,value:null})},j1.prototype=Q7(w1,"then",function(t,n){var s=_3(this),a=gk(met(this,ju));return s.parent=!0,a.ok=wy(t)?t:!0,a.fail=wy(n)&&n,a.domain=a2?lI.domain:void 0,s.state===X7?s.reactions.add(a):iI(function(){yK(a,s)}),a.promise}),eR=function(){var e=new j1,t=_3(e);this.promise=e,this.resolve=M0(mk,t),this.reject=M0(Q0,t)},fK.f=gk=function(e){return e===ju||e===Eet?new eR(e):jet(e)},wy(i2)&&i0!==Object.prototype)){tR=i0.then,bet||Q7(i0,"then",function(t,n){var s=this;return new ju(function(a,i){wh(tR,s,a,i)}).then(t,n)},{unsafe:!0});try{delete i0.constructor}catch(e){}K7&&K7(i0,w1)}cet({global:!0,constructor:!0,wrap:!0,forced:hK},{Promise:ju});det(ju,Cj,!1);uet(Cj);var Iet=Bx,Tet=aj,Aet=zx.CONSTRUCTOR,kj=Aet||!Tet(function(e){Iet.all(e).then(void 0,function(){})}),_et=Je,Oet=or,$et=Dr,Pet=yl,Det=fg,Ret=Rs,Fet=kj;_et({target:"Promise",stat:!0,forced:Fet},{all:function(t){var n=this,s=Pet.f(n),a=s.resolve,i=s.reject,o=Det(function(){var l=$et(n.resolve),c=[],u=0,f=1;Ret(t,function(h){var g=u++,m=!1;f++,Oet(l,n,h).then(function(p){m||(m=!0,c[g]=p,--f||a(c))},i)}),--f||a(c)});return o.error&&i(o.value),s.promise}});var Bet=Je,zet=zx.CONSTRUCTOR,pk=Bx,Uet=rn,Wet=Or,Het=Nn,nR=pk&&pk.prototype;Bet({target:"Promise",proto:!0,forced:zet,real:!0},{catch:function(e){return this.then(void 0,e)}});if(Wet(pk)){var sR=Uet("Promise").prototype.catch;nR.catch!==sR&&Het(nR,"catch",sR,{unsafe:!0})}var Vet=Je,Get=or,qet=Dr,Yet=yl,Jet=fg,Zet=Rs,Qet=kj;Vet({target:"Promise",stat:!0,forced:Qet},{race:function(t){var n=this,s=Yet.f(n),a=s.reject,i=Jet(function(){var o=qet(n.resolve);Zet(t,function(l){Get(o,n,l).then(s.resolve,a)})});return i.error&&a(i.value),s.promise}});var Ket=Je,Xet=yl,ett=zx.CONSTRUCTOR;Ket({target:"Promise",stat:!0,forced:ett},{reject:function(t){var n=Xet.f(this),s=n.reject;return s(t),n.promise}});var ttt=nr,rtt=kr,ntt=yl,jK=function(e,t){if(ttt(e),rtt(t)&&t.constructor===e)return t;var n=ntt.f(e),s=n.resolve;return s(t),n.promise},stt=Je,att=rn,itt=zx.CONSTRUCTOR,ott=jK;att("Promise");stt({target:"Promise",stat:!0,forced:itt},{resolve:function(t){return ott(this,t)}});var ltt=Je,ctt=or,dtt=Dr,utt=yl,ftt=fg,htt=Rs,gtt=kj;ltt({target:"Promise",stat:!0,forced:gtt},{allSettled:function(t){var n=this,s=utt.f(n),a=s.resolve,i=s.reject,o=ftt(function(){var l=dtt(n.resolve),c=[],u=0,f=1;htt(t,function(h){var g=u++,m=!1;f++,ctt(l,n,h).then(function(p){m||(m=!0,c[g]={status:"fulfilled",value:p},--f||a(c))},function(p){m||(m=!0,c[g]={status:"rejected",reason:p},--f||a(c))})}),--f||a(c)});return o.error&&i(o.value),s.promise}});var mtt=Je,ptt=or,xtt=Dr,vtt=rn,ytt=yl,btt=fg,wtt=Rs,jtt=kj,aR="No one promise resolved";mtt({target:"Promise",stat:!0,forced:jtt},{any:function(t){var n=this,s=vtt("AggregateError"),a=ytt.f(n),i=a.resolve,o=a.reject,l=btt(function(){var c=xtt(n.resolve),u=[],f=0,h=1,g=!1;wtt(t,function(m){var p=f++,v=!1;h++,ptt(c,n,m).then(function(b){v||g||(g=!0,i(b))},function(b){v||g||(v=!0,u[p]=b,--h||o(new s(u,aR)))})}),--h||o(new s(u,aR))});return l.error&&o(l.value),a.promise}});var Ntt=Je,o2=Bx,Stt=$t,NK=rn,SK=Or,Ctt=Nj,iR=jK,ktt=Nn,xk=o2&&o2.prototype,Ett=!!o2&&Stt(function(){xk.finally.call({then:function(){}},function(){})});Ntt({target:"Promise",proto:!0,real:!0,forced:Ett},{finally:function(e){var t=Ctt(this,NK("Promise")),n=SK(e);return this.then(n?function(s){return iR(t,e()).then(function(){return s})}:e,n?function(s){return iR(t,e()).then(function(){throw s})}:e)}});if(SK(o2)){var oR=NK("Promise").prototype.finally;xk.finally!==oR&&ktt(xk,"finally",oR,{unsafe:!0})}var Ltt=Je,Mtt=Vt,Itt=co,Ttt=lo,Att=yl,_tt=Dr,CK=fg,O3=Mtt.Promise,lR=!1,Ott=!O3||!O3.try||CK(function(){O3.try(function(e){lR=e===8},8)}).error||!lR;Ltt({target:"Promise",stat:!0,forced:Ott},{try:function(e){var t=arguments.length>1?Ttt(arguments,1):[],n=Att.f(this),s=CK(function(){return Itt(_tt(e),void 0,t)});return(s.error?n.reject:n.resolve)(s.value),n.promise}});var $tt=Je,Ptt=yl;$tt({target:"Promise",stat:!0},{withResolvers:function(){var t=Ptt.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var Dtt=Je,Rtt=co,Ftt=Dr,Btt=nr,ztt=$t,Utt=!ztt(function(){Reflect.apply(function(){})});Dtt({target:"Reflect",stat:!0,forced:Utt},{apply:function(t,n,s){return Rtt(Ftt(t),n,Btt(s))}});var Wtt=Je,Htt=rn,$3=co,Vtt=aQ,cR=sI,Gtt=nr,dR=kr,qtt=Mi,kK=$t,dI=Htt("Reflect","construct"),Ytt=Object.prototype,Jtt=[].push,EK=kK(function(){function e(){}return!(dI(function(){},[],e)instanceof e)}),LK=!kK(function(){dI(function(){})}),uR=EK||LK;Wtt({target:"Reflect",stat:!0,forced:uR,sham:uR},{construct:function(t,n){cR(t),Gtt(n);var s=arguments.length<3?t:cR(arguments[2]);if(LK&&!EK)return dI(t,n,s);if(t===s){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var a=[null];return $3(Jtt,a,n),new($3(Vtt,t,a))}var i=s.prototype,o=qtt(dR(i)?i:Ytt),l=$3(t,o,n);return dR(l)?l:o}});var Ztt=Je,Qtt=ir,fR=nr,Ktt=Wd,MK=jn,Xtt=$t,ert=Xtt(function(){Reflect.defineProperty(MK.f({},1,{value:1}),1,{value:2})});Ztt({target:"Reflect",stat:!0,forced:ert,sham:!Qtt},{defineProperty:function(t,n,s){fR(t);var a=Ktt(n);fR(s);try{return MK.f(t,a,s),!0}catch(i){return!1}}});var trt=Je,rrt=nr,nrt=fa.f;trt({target:"Reflect",stat:!0},{deleteProperty:function(t,n){var s=nrt(rrt(t),n);return s&&!s.configurable?!1:delete t[n]}});var hR=Rr,IK=function(e){return e!==void 0&&(hR(e,"value")||hR(e,"writable"))},srt=Je,art=or,irt=kr,ort=nr,lrt=IK,crt=fa,drt=Ii;function TK(e,t){var n=arguments.length<3?e:arguments[2],s,a;if(ort(e)===n)return e[t];if(s=crt.f(e,t),s)return lrt(s)?s.value:s.get===void 0?void 0:art(s.get,n);if(irt(a=drt(e)))return TK(a,t,n)}srt({target:"Reflect",stat:!0},{get:TK});var urt=Je,frt=ir,hrt=nr,grt=fa;urt({target:"Reflect",stat:!0,sham:!frt},{getOwnPropertyDescriptor:function(t,n){return grt.f(hrt(t),n)}});var mrt=Je,prt=nr,xrt=Ii,vrt=gM;mrt({target:"Reflect",stat:!0,sham:!vrt},{getPrototypeOf:function(t){return xrt(prt(t))}});var yrt=Je;yrt({target:"Reflect",stat:!0},{has:function(t,n){return n in t}});var brt=Je,wrt=nr,jrt=JM;brt({target:"Reflect",stat:!0},{isExtensible:function(t){return wrt(t),jrt(t)}});var Nrt=Je,Srt=sM;Nrt({target:"Reflect",stat:!0},{ownKeys:Srt});var Crt=Je,krt=rn,Ert=nr,Lrt=dg;Crt({target:"Reflect",stat:!0,sham:!Lrt},{preventExtensions:function(t){Ert(t);try{var n=krt("Object","preventExtensions");return n&&n(t),!0}catch(s){return!1}}});var Mrt=Je,Irt=or,Trt=nr,gR=kr,Art=IK,_rt=$t,vk=jn,mR=fa,Ort=Ii,pR=oo;function AK(e,t,n){var s=arguments.length<4?e:arguments[3],a=mR.f(Trt(e),t),i,o,l;if(!a){if(gR(o=Ort(e)))return AK(o,t,n,s);a=pR(0)}if(Art(a)){if(a.writable===!1||!gR(s))return!1;if(i=mR.f(s,t)){if(i.get||i.set||i.writable===!1)return!1;i.value=n,vk.f(s,t,i)}else vk.f(s,t,pR(0,n))}else{if(l=a.set,l===void 0)return!1;Irt(l,s,n)}return!0}var $rt=_rt(function(){var e=function(){},t=vk.f(new e,"a",{configurable:!0});return Reflect.set(e.prototype,"a",1,t)!==!1});Mrt({target:"Reflect",stat:!0,forced:$rt},{set:AK});var Prt=Je,Drt=nr,Rrt=UJ,xR=xl;xR&&Prt({target:"Reflect",stat:!0},{setPrototypeOf:function(t,n){Drt(t),Rrt(n);try{return xR(t,n),!0}catch(s){return!1}}});var Frt=Je,Brt=Vt,zrt=si;Frt({global:!0},{Reflect:{}});zrt(Brt.Reflect,"Reflect",!0);var Urt=kr,Wrt=ha,Hrt=Er,Vrt=Hrt("match"),Ej=function(e){var t;return Urt(e)&&((t=e[Vrt])!==void 0?!!t:Wrt(e)==="RegExp")},Grt=nr,uI=function(){var e=Grt(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},qrt=or,Yrt=Rr,Jrt=ri,Zrt=uI,vR=RegExp.prototype,Ux=function(e){var t=e.flags;return t===void 0&&!("flags"in vR)&&!Yrt(e,"flags")&&Jrt(vR,e)?qrt(Zrt,e):t},fI=$t,Qrt=Vt,hI=Qrt.RegExp,gI=fI(function(){var e=hI("a","y");return e.lastIndex=2,e.exec("abcd")!==null}),Krt=gI||fI(function(){return!hI("a","y").sticky}),Xrt=gI||fI(function(){var e=hI("^r","gy");return e.lastIndex=2,e.exec("str")!==null}),Lj={BROKEN_CARET:Xrt,MISSED_STICKY:Krt,UNSUPPORTED_Y:gI},ent=$t,tnt=Vt,rnt=tnt.RegExp,mI=ent(function(){var e=rnt(".","s");return!(e.dotAll&&e.test(`
`)&&e.flags==="s")}),nnt=$t,snt=Vt,ant=snt.RegExp,_K=nnt(function(){var e=ant("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),int=ir,pI=Vt,Wx=zt,ont=Mx,lnt=bf,cnt=ga,dnt=Mi,unt=Hd.f,yR=ri,fnt=Ej,bR=fr,hnt=Ux,OK=Lj,gnt=WJ,mnt=Nn,pnt=$t,xnt=Rr,vnt=Zn.enforce,ynt=ig,bnt=Er,$K=mI,PK=_K,wnt=bnt("match"),dd=pI.RegExp,o0=dd.prototype,jnt=pI.SyntaxError,Nnt=Wx(o0.exec),l2=Wx("".charAt),wR=Wx("".replace),jR=Wx("".indexOf),NR=Wx("".slice),Snt=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,$u=/a/g,P3=/a/g,Cnt=new dd($u)!==$u,DK=OK.MISSED_STICKY,knt=OK.UNSUPPORTED_Y,Ent=int&&(!Cnt||DK||$K||PK||pnt(function(){return P3[wnt]=!1,dd($u)!==$u||dd(P3)===P3||String(dd($u,"i"))!=="/a/i"})),Lnt=function(e){for(var t=e.length,n=0,s="",a=!1,i;n<=t;n++){if(i=l2(e,n),i==="\\"){s+=i+l2(e,++n);continue}!a&&i==="."?s+="[\\s\\S]":(i==="["?a=!0:i==="]"&&(a=!1),s+=i)}return s},Mnt=function(e){for(var t=e.length,n=0,s="",a=[],i=dnt(null),o=!1,l=!1,c=0,u="",f;n<=t;n++){if(f=l2(e,n),f==="\\")f+=l2(e,++n);else if(f==="]")o=!1;else if(!o)switch(!0){case f==="[":o=!0;break;case f==="(":if(s+=f,NR(e,n+1,n+3)==="?:")continue;Nnt(Snt,NR(e,n+1))&&(n+=2,l=!0),c++;continue;case(f===">"&&l):if(u===""||xnt(i,u))throw new jnt("Invalid capture group name");i[u]=!0,a[a.length]=[u,c],l=!1,u="";continue}l?u+=f:s+=f}return[s,a]};if(ont("RegExp",Ent)){for(var au=function(t,n){var s=yR(o0,this),a=fnt(t),i=n===void 0,o=[],l=t,c,u,f,h,g,m;if(!s&&a&&i&&t.constructor===au)return t;if((a||yR(o0,t))&&(t=t.source,i&&(n=hnt(l))),t=t===void 0?"":bR(t),n=n===void 0?"":bR(n),l=t,$K&&"dotAll"in $u&&(u=!!n&&jR(n,"s")>-1,u&&(n=wR(n,/s/g,""))),c=n,DK&&"sticky"in $u&&(f=!!n&&jR(n,"y")>-1,f&&knt&&(n=wR(n,/y/g,""))),PK&&(h=Mnt(t),t=h[0],o=h[1]),g=lnt(dd(t,n),s?this:o0,au),(u||f||o.length)&&(m=vnt(g),u&&(m.dotAll=!0,m.raw=au(Lnt(t),c)),f&&(m.sticky=!0),o.length&&(m.groups=o)),t!==l)try{cnt(g,"source",l===""?"(?:)":l)}catch(p){}return g},SR=unt(dd),CR=0;SR.length>CR;)gnt(au,dd,SR[CR++]);o0.constructor=au,au.prototype=o0,mnt(pI,"RegExp",au,{constructor:!0})}ynt("RegExp");var Int=ir,Tnt=mI,Ant=ha,_nt=ds,Ont=Zn.get,kR=RegExp.prototype,$nt=TypeError;Int&&Tnt&&_nt(kR,"dotAll",{configurable:!0,get:function(){if(this!==kR){if(Ant(this)==="RegExp")return!!Ont(this).dotAll;throw new $nt("Incompatible receiver, RegExp required")}}});var I0=or,Mj=zt,Pnt=fr,Dnt=uI,Rnt=Lj,Fnt=Kh,Bnt=Mi,znt=Zn.get,Unt=mI,Wnt=_K,Hnt=Fnt("native-string-replace",String.prototype.replace),c2=RegExp.prototype.exec,yk=c2,Vnt=Mj("".charAt),Gnt=Mj("".indexOf),qnt=Mj("".replace),D3=Mj("".slice),bk=function(){var e=/a/,t=/b*/g;return I0(c2,e,"a"),I0(c2,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),RK=Rnt.BROKEN_CARET,wk=/()??/.exec("")[1]!==void 0,Ynt=bk||wk||RK||Unt||Wnt;Ynt&&(yk=function(t){var n=this,s=znt(n),a=Pnt(t),i=s.raw,o,l,c,u,f,h,g;if(i)return i.lastIndex=n.lastIndex,o=I0(yk,i,a),n.lastIndex=i.lastIndex,o;var m=s.groups,p=RK&&n.sticky,v=I0(Dnt,n),b=n.source,y=0,x=a;if(p&&(v=qnt(v,"y",""),Gnt(v,"g")===-1&&(v+="g"),x=D3(a,n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&Vnt(a,n.lastIndex-1)!==`
`)&&(b="(?: "+b+")",x=" "+x,y++),l=new RegExp("^(?:"+b+")",v)),wk&&(l=new RegExp("^"+b+"$(?!\\s)",v)),bk&&(c=n.lastIndex),u=I0(c2,p?l:n,x),p?u?(u.input=D3(u.input,y),u[0]=D3(u[0],y),u.index=n.lastIndex,n.lastIndex+=u[0].length):n.lastIndex=0:bk&&u&&(n.lastIndex=n.global?u.index+u[0].length:c),wk&&u&&u.length>1&&I0(Hnt,u[0],l,function(){for(f=1;f<arguments.length-2;f++)arguments[f]===void 0&&(u[f]=void 0)}),u&&m)for(u.groups=h=Bnt(null),f=0;f<m.length;f++)g=m[f],h[g[0]]=u[g[1]];return u});var xI=yk,Jnt=Je,ER=xI;Jnt({target:"RegExp",proto:!0,forced:/./.exec!==ER},{exec:ER});var Znt=Vt,Qnt=ir,Knt=ds,Xnt=uI,est=$t,FK=Znt.RegExp,BK=FK.prototype,tst=Qnt&&est(function(){var e=!0;try{FK(".","d")}catch(c){e=!1}var t={},n="",s=e?"dgimsy":"gimsy",a=function(c,u){Object.defineProperty(t,c,{get:function(){return n+=u,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};e&&(i.hasIndices="d");for(var o in i)a(o,i[o]);var l=Object.getOwnPropertyDescriptor(BK,"flags").get.call(t);return l!==s||n!==s});tst&&Knt(BK,"flags",{configurable:!0,get:Xnt});var rst=ir,nst=Lj.MISSED_STICKY,sst=ha,ast=ds,ist=Zn.get,LR=RegExp.prototype,ost=TypeError;rst&&nst&&ast(LR,"sticky",{configurable:!0,get:function(){if(this!==LR){if(sst(this)==="RegExp")return!!ist(this).sticky;throw new ost("Incompatible receiver, RegExp required")}}});var lst=Je,MR=or,cst=Or,IR=nr,dst=fr,ust=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},t.test("abc")===!0&&e}(),fst=/./.test;lst({target:"RegExp",proto:!0,forced:!ust},{test:function(e){var t=IR(this),n=dst(e),s=t.exec;if(!cst(s))return MR(fst,t,n);var a=MR(s,t,n);return a===null?!1:(IR(a),!0)}});var hst=eg.PROPER,gst=Nn,mst=nr,TR=fr,pst=$t,xst=Ux,vI="toString",zK=RegExp.prototype,UK=zK[vI],vst=pst(function(){return UK.call({source:"a",flags:"b"})!=="/a/b"}),yst=hst&&UK.name!==vI;(vst||yst)&&gst(zK,vI,function(){var t=mst(this),n=TR(t.source),s=TR(xst(t));return"/"+n+"/"+s},{unsafe:!0});var bst=mj,wst=kQ;bst("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},wst);var R3=zt,N1=Set.prototype,Ho={Set,add:R3(N1.add),has:R3(N1.has),remove:R3(N1.delete),proto:N1},jst=Ho.has,Sf=function(e){return jst(e),e},Nst=or,Cf=function(e,t,n){for(var s=n?e:e.iterator,a=e.next,i,o;!(i=Nst(a,s)).done;)if(o=t(i.value),o!==void 0)return o},WK=zt,Sst=Cf,HK=Ho,Cst=HK.Set,VK=HK.proto,kst=WK(VK.forEach),GK=WK(VK.keys),Est=GK(new Cst).next,hg=function(e,t,n){return n?Sst({iterator:GK(e),next:Est},t):kst(e,t)},qK=Ho,Lst=hg,Mst=qK.Set,Ist=qK.add,yI=function(e){var t=new Mst;return Lst(e,function(n){Ist(t,n)}),t},Tst=tj,Ast=Ho,Hx=Tst(Ast.proto,"size","get")||function(e){return e.size},AR=Dr,YK=nr,_R=or,_st=Pn,Ost=Ti,OR="Invalid size",$st=RangeError,Pst=TypeError,Dst=Math.max,JK=function(e,t){this.set=e,this.size=Dst(t,0),this.has=AR(e.has),this.keys=AR(e.keys)};JK.prototype={getIterator:function(){return Ost(YK(_R(this.keys,this.set)))},includes:function(e){return _R(this.has,this.set,e)}};var kf=function(e){YK(e);var t=+e.size;if(t!==t)throw new Pst(OR);var n=_st(t);if(n<0)throw new $st(OR);return new JK(e,n)},Rst=Sf,ZK=Ho,Fst=yI,Bst=Hx,zst=kf,Ust=hg,Wst=Cf,Hst=ZK.has,$R=ZK.remove,Vst=function(t){var n=Rst(this),s=zst(t),a=Fst(n);return Bst(n)<=s.size?Ust(n,function(i){s.includes(i)&&$R(a,i)}):Wst(s.getIterator(),function(i){Hst(n,i)&&$R(a,i)}),a},Gst=rn,PR=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},Ef=function(e){var t=Gst("Set");try{new t()[e](PR(0));try{return new t()[e](PR(-1)),!1}catch(n){return!0}}catch(n){return!1}},qst=Je,Yst=Vst,Jst=Ef;qst({target:"Set",proto:!0,real:!0,forced:!Jst("difference")},{difference:Yst});var Zst=Sf,bI=Ho,Qst=Hx,Kst=kf,Xst=hg,eat=Cf,tat=bI.Set,DR=bI.add,rat=bI.has,nat=function(t){var n=Zst(this),s=Kst(t),a=new tat;return Qst(n)>s.size?eat(s.getIterator(),function(i){rat(n,i)&&DR(a,i)}):Xst(n,function(i){s.includes(i)&&DR(a,i)}),a},sat=Je,aat=$t,iat=nat,oat=Ef,lat=!oat("intersection")||aat(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});sat({target:"Set",proto:!0,real:!0,forced:lat},{intersection:iat});var cat=Sf,dat=Ho.has,uat=Hx,fat=kf,hat=hg,gat=Cf,mat=jf,pat=function(t){var n=cat(this),s=fat(t);if(uat(n)<=s.size)return hat(n,function(i){if(s.includes(i))return!1},!0)!==!1;var a=s.getIterator();return gat(a,function(i){if(dat(n,i))return mat(a,"normal",!1)})!==!1},xat=Je,vat=pat,yat=Ef;xat({target:"Set",proto:!0,real:!0,forced:!yat("isDisjointFrom")},{isDisjointFrom:vat});var bat=Sf,wat=Hx,jat=hg,Nat=kf,Sat=function(t){var n=bat(this),s=Nat(t);return wat(n)>s.size?!1:jat(n,function(a){if(!s.includes(a))return!1},!0)!==!1},Cat=Je,kat=Sat,Eat=Ef;Cat({target:"Set",proto:!0,real:!0,forced:!Eat("isSubsetOf")},{isSubsetOf:kat});var Lat=Sf,Mat=Ho.has,Iat=Hx,Tat=kf,Aat=Cf,_at=jf,Oat=function(t){var n=Lat(this),s=Tat(t);if(Iat(n)<s.size)return!1;var a=s.getIterator();return Aat(a,function(i){if(!Mat(n,i))return _at(a,"normal",!1)})!==!1},$at=Je,Pat=Oat,Dat=Ef;$at({target:"Set",proto:!0,real:!0,forced:!Dat("isSupersetOf")},{isSupersetOf:Pat});var Rat=Sf,wI=Ho,Fat=yI,Bat=kf,zat=Cf,Uat=wI.add,Wat=wI.has,Hat=wI.remove,Vat=function(t){var n=Rat(this),s=Bat(t).getIterator(),a=Fat(n);return zat(s,function(i){Wat(n,i)?Hat(a,i):Uat(a,i)}),a},Gat=Je,qat=Vat,Yat=Ef;Gat({target:"Set",proto:!0,real:!0,forced:!Yat("symmetricDifference")},{symmetricDifference:qat});var Jat=Sf,Zat=Ho.add,Qat=yI,Kat=kf,Xat=Cf,eit=function(t){var n=Jat(this),s=Kat(t).getIterator(),a=Qat(n);return Xat(s,function(i){Zat(a,i)}),a},tit=Je,rit=eit,nit=Ef;tit({target:"Set",proto:!0,real:!0,forced:!nit("union")},{union:rit});var sit=Je,ait=zt,iit=wn,oit=Pn,lit=fr,cit=$t,dit=ait("".charAt),uit=cit(function(){return"".at(-2)!=="\uD842"});sit({target:"String",proto:!0,forced:uit},{at:function(t){var n=lit(iit(this)),s=n.length,a=oit(t),i=a>=0?a:s+a;return i<0||i>=s?void 0:dit(n,i)}});var jI=zt,fit=Pn,hit=fr,git=wn,mit=jI("".charAt),RR=jI("".charCodeAt),pit=jI("".slice),FR=function(e){return function(t,n){var s=hit(git(t)),a=fit(n),i=s.length,o,l;return a<0||a>=i?e?"":void 0:(o=RR(s,a),o<55296||o>56319||a+1===i||(l=RR(s,a+1))<56320||l>57343?e?mit(s,a):o:e?pit(s,a,a+2):(o-55296<<10)+(l-56320)+65536)}},Ij={codeAt:FR(!1),charAt:FR(!0)},xit=Je,vit=Ij.codeAt;xit({target:"String",proto:!0},{codePointAt:function(t){return vit(this,t)}});var yit=Ej,bit=TypeError,NI=function(e){if(yit(e))throw new bit("The method doesn't accept regular expressions");return e},wit=Er,jit=wit("match"),SI=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[jit]=!1,"/./"[e](t)}catch(s){}}return!1},Nit=Je,Sit=Vd,Cit=fa.f,kit=Li,BR=fr,Eit=NI,Lit=wn,Mit=SI,Iit=Sit("".slice),Tit=Math.min,QK=Mit("endsWith"),Ait=!QK&&!!function(){var e=Cit(String.prototype,"endsWith");return e&&!e.writable}();Nit({target:"String",proto:!0,forced:!Ait&&!QK},{endsWith:function(t){var n=BR(Lit(this));Eit(t);var s=arguments.length>1?arguments[1]:void 0,a=n.length,i=s===void 0?a:Tit(kit(s),a),o=BR(t);return Iit(n,i-o.length,i)===o}});var _it=Je,Oit=zt,$it=ic,Pit=RangeError,zR=String.fromCharCode,UR=String.fromCodePoint,Dit=Oit([].join),Rit=!!UR&&UR.length!==1;_it({target:"String",stat:!0,arity:1,forced:Rit},{fromCodePoint:function(t){for(var n=[],s=arguments.length,a=0,i;s>a;){if(i=+arguments[a++],$it(i,1114111)!==i)throw new Pit(i+" is not a valid code point");n[a]=i<65536?zR(i):zR(((i-=65536)>>10)+55296,i%1024+56320)}return Dit(n,"")}});var Fit=Je,Bit=zt,zit=NI,Uit=wn,WR=fr,Wit=SI,Hit=Bit("".indexOf);Fit({target:"String",proto:!0,forced:!Wit("includes")},{includes:function(t){return!!~Hit(WR(Uit(this)),WR(zit(t)),arguments.length>1?arguments[1]:void 0)}});var Vit=Je,Git=zt,qit=wn,Yit=fr,HR=Git("".charCodeAt);Vit({target:"String",proto:!0},{isWellFormed:function(){for(var t=Yit(qit(this)),n=t.length,s=0;s<n;s++){var a=HR(t,s);if((a&63488)===55296&&(a>=56320||++s>=n||(HR(t,s)&64512)!==56320))return!1}return!0}});var Jit=Ij.charAt,Zit=fr,KK=Zn,Qit=bM,VR=sg,XK="String Iterator",Kit=KK.set,Xit=KK.getterFor(XK);Qit(String,"String",function(e){Kit(this,{type:XK,string:Zit(e),index:0})},function(){var t=Xit(this),n=t.string,s=t.index,a;return s>=n.length?VR(void 0,!0):(a=Jit(n,s),t.index+=a.length,VR(a,!1))});var GR=or,qR=Nn,eot=xI,YR=$t,eX=Er,tot=ga,rot=eX("species"),F3=RegExp.prototype,Tj=function(e,t,n,s){var a=eX(e),i=!YR(function(){var u={};return u[a]=function(){return 7},""[e](u)!==7}),o=i&&!YR(function(){var u=!1,f=/a/;return e==="split"&&(f={},f.constructor={},f.constructor[rot]=function(){return f},f.flags="",f[a]=/./[a]),f.exec=function(){return u=!0,null},f[a](""),!u});if(!i||!o||n){var l=/./[a],c=t(a,""[e],function(u,f,h,g,m){var p=f.exec;return p===eot||p===F3.exec?i&&!m?{done:!0,value:GR(l,f,h,g)}:{done:!0,value:GR(u,h,f,g)}:{done:!1}});qR(String.prototype,e,c[0]),qR(F3,a,c[1])}s&&tot(F3[a],"sham",!0)},not=Ij.charAt,Aj=function(e,t,n){return t+(n?not(e,t).length:1)},JR=or,sot=nr,aot=Or,iot=ha,oot=xI,lot=TypeError,Vx=function(e,t){var n=e.exec;if(aot(n)){var s=JR(n,e,t);return s!==null&&sot(s),s}if(iot(e)==="RegExp")return JR(oot,e,t);throw new lot("RegExp#exec called on incompatible receiver")},cot=or,dot=Tj,uot=nr,fot=ti,hot=Li,B3=fr,got=wn,mot=ml,pot=Aj,ZR=Vx;dot("match",function(e,t,n){return[function(a){var i=got(this),o=fot(a)?void 0:mot(a,e);return o?cot(o,a,i):new RegExp(a)[e](B3(i))},function(s){var a=uot(this),i=B3(s),o=n(t,a,i);if(o.done)return o.value;if(!a.global)return ZR(a,i);var l=a.unicode;a.lastIndex=0;for(var c=[],u=0,f;(f=ZR(a,i))!==null;){var h=B3(f[0]);c[u]=h,h===""&&(a.lastIndex=pot(i,hot(a.lastIndex),l)),u++}return u===0?null:c}]});var xot=Je,vot=or,tX=Vd,yot=yM,S1=sg,QR=wn,rX=Li,Hp=fr,bot=nr,wot=ti,jot=ha,Not=Ej,nX=Ux,Sot=ml,Cot=Nn,kot=$t,Eot=Er,Lot=Nj,Mot=Aj,Iot=Vx,sX=Zn,Tot=ac,d2=Eot("matchAll"),aX="RegExp String",iX=aX+" Iterator",Aot=sX.set,_ot=sX.getterFor(iX),KR=RegExp.prototype,Oot=TypeError,jk=tX("".indexOf),u2=tX("".matchAll),z3=!!u2&&!kot(function(){u2("a",/./)}),$ot=yot(function(t,n,s,a){Aot(this,{type:iX,regexp:t,string:n,global:s,unicode:a,done:!1})},aX,function(){var t=_ot(this);if(t.done)return S1(void 0,!0);var n=t.regexp,s=t.string,a=Iot(n,s);return a===null?(t.done=!0,S1(void 0,!0)):t.global?(Hp(a[0])===""&&(n.lastIndex=Mot(s,rX(n.lastIndex),t.unicode)),S1(a,!1)):(t.done=!0,S1(a,!1))}),oX=function(e){var t=bot(this),n=Hp(e),s=Lot(t,RegExp),a=Hp(nX(t)),i,o,l;return i=new s(s===RegExp?t.source:t,a),o=!!~jk(a,"g"),l=!!~jk(a,"u"),i.lastIndex=rX(t.lastIndex),new $ot(i,n,o,l)};xot({target:"String",proto:!0,forced:z3},{matchAll:function(t){var n=QR(this),s,a,i,o;if(wot(t)){if(z3)return u2(n,t)}else{if(Not(t)&&(s=Hp(QR(nX(t))),!~jk(s,"g")))throw new Oot("`.matchAll` does not allow non-global regexes");if(z3)return u2(n,t);if(i=Sot(t,d2),i===void 0&&Tot&&jot(t)==="RegExp"&&(i=oX),i)return vot(i,t,n)}return a=Hp(n),o=new RegExp(t,"g"),o[d2](a)}});d2 in KR||Cot(KR,d2,oX);var Pot=gl,lX=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(Pot),Dot=Je,Rot=WM.end,Fot=lX;Dot({target:"String",proto:!0,forced:Fot},{padEnd:function(t){return Rot(this,t,arguments.length>1?arguments[1]:void 0)}});var Bot=Je,zot=WM.start,Uot=lX;Bot({target:"String",proto:!0,forced:Uot},{padStart:function(t){return zot(this,t,arguments.length>1?arguments[1]:void 0)}});var Wot=Je,cX=zt,Hot=Ds,Vot=Vr,XR=fr,Got=nn,eF=cX([].push),qot=cX([].join);Wot({target:"String",stat:!0},{raw:function(t){var n=Hot(Vot(t).raw),s=Got(n);if(!s)return"";for(var a=arguments.length,i=[],o=0;;){if(eF(i,XR(n[o++])),o===s)return qot(i,"");o<a&&eF(i,XR(arguments[o]))}}});var Yot=Je,Jot=gj;Yot({target:"String",proto:!0},{repeat:Jot});var CI=zt,Zot=Vr,Qot=Math.floor,U3=CI("".charAt),Kot=CI("".replace),W3=CI("".slice),Xot=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,elt=/\$([$&'`]|\d{1,2})/g,dX=function(e,t,n,s,a,i){var o=n+e.length,l=s.length,c=elt;return a!==void 0&&(a=Zot(a),c=Xot),Kot(i,c,function(u,f){var h;switch(U3(f,0)){case"$":return"$";case"&":return e;case"`":return W3(t,0,n);case"'":return W3(t,o);case"<":h=a[W3(f,1,-1)];break;default:var g=+f;if(g===0)return u;if(g>l){var m=Qot(g/10);return m===0?u:m<=l?s[m-1]===void 0?U3(f,1):s[m-1]+U3(f,1):u}h=s[g-1]}return h===void 0?"":h})},tlt=co,tF=or,_j=zt,rlt=Tj,nlt=$t,slt=nr,alt=Or,ilt=ti,olt=Pn,llt=Li,Zf=fr,clt=wn,dlt=Aj,ult=ml,flt=dX,hlt=Vx,glt=Er,Nk=glt("replace"),mlt=Math.max,plt=Math.min,xlt=_j([].concat),H3=_j([].push),rF=_j("".indexOf),nF=_j("".slice),vlt=function(e){return e===void 0?e:String(e)},ylt=function(){return"a".replace(/./,"$0")==="$0"}(),sF=function(){return/./[Nk]?/./[Nk]("a","$0")==="":!1}(),blt=!nlt(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});rlt("replace",function(e,t,n){var s=sF?"$":"$0";return[function(i,o){var l=clt(this),c=ilt(i)?void 0:ult(i,Nk);return c?tF(c,i,l,o):tF(t,Zf(l),i,o)},function(a,i){var o=slt(this),l=Zf(a);if(typeof i=="string"&&rF(i,s)===-1&&rF(i,"$<")===-1){var c=n(t,o,l,i);if(c.done)return c.value}var u=alt(i);u||(i=Zf(i));var f=o.global,h;f&&(h=o.unicode,o.lastIndex=0);for(var g=[],m;m=hlt(o,l),!(m===null||(H3(g,m),!f));){var p=Zf(m[0]);p===""&&(o.lastIndex=dlt(l,llt(o.lastIndex),h))}for(var v="",b=0,y=0;y<g.length;y++){m=g[y];for(var x=Zf(m[0]),w=mlt(plt(olt(m.index),l.length),0),j=[],N,L=1;L<m.length;L++)H3(j,vlt(m[L]));var k=m.groups;if(u){var E=xlt([x],j,w,l);k!==void 0&&H3(E,k),N=Zf(tlt(i,void 0,E))}else N=flt(x,l,w,j,k,i);w>=b&&(v+=nF(l,b,w)+N,b=w+x.length)}return v+nF(l,b)}]},!blt||!ylt||sF);var wlt=Je,jlt=or,kI=zt,aF=wn,Nlt=Or,Slt=ti,Clt=Ej,nm=fr,klt=ml,Elt=Ux,Llt=dX,Mlt=Er,Ilt=Mlt("replace"),Tlt=TypeError,V3=kI("".indexOf);kI("".replace);var iF=kI("".slice),Alt=Math.max;wlt({target:"String",proto:!0},{replaceAll:function(t,n){var s=aF(this),a,i,o,l,c,u,f,h,g,m,p=0,v="";if(!Slt(t)){if(a=Clt(t),a&&(i=nm(aF(Elt(t))),!~V3(i,"g")))throw new Tlt("`.replaceAll` does not allow non-global regexes");if(o=klt(t,Ilt),o)return jlt(o,t,s,n)}for(l=nm(s),c=nm(t),u=Nlt(n),u||(n=nm(n)),f=c.length,h=Alt(1,f),g=V3(l,c);g!==-1;)m=u?nm(n(c,g,l)):Llt(c,l,g,[],void 0,n),v+=iF(l,p,g)+m,p=g+f,g=g+h>l.length?-1:V3(l,c,g+h);return p<l.length&&(v+=iF(l,p)),v}});var _lt=or,Olt=Tj,$lt=nr,Plt=ti,Dlt=wn,oF=XQ,lF=fr,Rlt=ml,Flt=Vx;Olt("search",function(e,t,n){return[function(a){var i=Dlt(this),o=Plt(a)?void 0:Rlt(a,e);return o?_lt(o,a,i):new RegExp(a)[e](lF(i))},function(s){var a=$lt(this),i=lF(s),o=n(t,a,i);if(o.done)return o.value;var l=a.lastIndex;oF(l,0)||(a.lastIndex=0);var c=Flt(a,i);return oF(a.lastIndex,l)||(a.lastIndex=l),c===null?-1:c.index}]});var G3=or,uX=zt,Blt=Tj,zlt=nr,Ult=ti,Wlt=wn,Hlt=Nj,Vlt=Aj,Glt=Li,cF=fr,qlt=ml,dF=Vx,Ylt=Lj,Jlt=$t,Qf=Ylt.UNSUPPORTED_Y,Zlt=4294967295,Qlt=Math.min,q3=uX([].push),Y3=uX("".slice),Klt=!Jlt(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return n.length!==2||n[0]!=="a"||n[1]!=="b"}),uF="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;Blt("split",function(e,t,n){var s="0".split(void 0,0).length?function(a,i){return a===void 0&&i===0?[]:G3(t,this,a,i)}:t;return[function(i,o){var l=Wlt(this),c=Ult(i)?void 0:qlt(i,e);return c?G3(c,i,l,o):G3(s,cF(l),i,o)},function(a,i){var o=zlt(this),l=cF(a);if(!uF){var c=n(s,o,l,i,s!==t);if(c.done)return c.value}var u=Hlt(o,RegExp),f=o.unicode,h=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(Qf?"g":"y"),g=new u(Qf?"^(?:"+o.source+")":o,h),m=i===void 0?Zlt:i>>>0;if(m===0)return[];if(l.length===0)return dF(g,l)===null?[l]:[];for(var p=0,v=0,b=[];v<l.length;){g.lastIndex=Qf?0:v;var y=dF(g,Qf?Y3(l,v):l),x;if(y===null||(x=Qlt(Glt(g.lastIndex+(Qf?v:0)),l.length))===p)v=Vlt(l,v,f);else{if(q3(b,Y3(l,p,v)),b.length===m)return b;for(var w=1;w<=y.length-1;w++)if(q3(b,y[w]),b.length===m)return b;v=p=x}}return q3(b,Y3(l,p)),b}]},uF||!Klt,Qf);var Xlt=Je,ect=Vd,tct=fa.f,rct=Li,fF=fr,nct=NI,sct=wn,act=SI,ict=ect("".slice),oct=Math.min,fX=act("startsWith"),lct=!fX&&!!function(){var e=tct(String.prototype,"startsWith");return e&&!e.writable}();Xlt({target:"String",proto:!0,forced:!lct&&!fX},{startsWith:function(t){var n=fF(sct(this));nct(t);var s=rct(oct(arguments.length>1?arguments[1]:void 0,n.length)),a=fF(t);return ict(n,s,s+a.length)===a}});var cct=Je,dct=zt,uct=wn,hF=Pn,fct=fr,hct=dct("".slice),gct=Math.max,mct=Math.min,pct=!"".substr||"ab".substr(-1)!=="b";cct({target:"String",proto:!0,forced:pct},{substr:function(t,n){var s=fct(uct(this)),a=s.length,i=hF(t),o,l;return i===1/0&&(i=0),i<0&&(i=gct(a+i,0)),o=n===void 0?a:hF(n),o<=0||o===1/0?"":(l=mct(i+o,a),i>=l?"":hct(s,i,l))}});var xct=Je,hX=or,EI=zt,vct=wn,yct=fr,bct=$t,wct=Array,J3=EI("".charAt),gF=EI("".charCodeAt),jct=EI([].join),Sk="".toWellFormed,Nct="",mF=Sk&&bct(function(){return hX(Sk,1)!=="1"});xct({target:"String",proto:!0,forced:mF},{toWellFormed:function(){var t=yct(vct(this));if(mF)return hX(Sk,t);for(var n=t.length,s=wct(n),a=0;a<n;a++){var i=gF(t,a);(i&63488)!==55296?s[a]=J3(t,a):i>=56320||a+1>=n||(gF(t,a+1)&64512)!==56320?s[a]=Nct:(s[a]=J3(t,a),s[++a]=J3(t,a))}return jct(s,"")}});var Sct=eg.PROPER,Cct=$t,pF=yj,xF="",LI=function(e){return Cct(function(){return!!pF[e]()||xF[e]()!==xF||Sct&&pF[e].name!==e})},kct=Je,Ect=ug.trim,Lct=LI;kct({target:"String",proto:!0,forced:Lct("trim")},{trim:function(){return Ect(this)}});var Mct=ug.end,Ict=LI,gX=Ict("trimEnd")?function(){return Mct(this)}:"".trimEnd,Tct=Je,vF=gX;Tct({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==vF},{trimRight:vF});var Act=Je,yF=gX;Act({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==yF},{trimEnd:yF});var _ct=ug.start,Oct=LI,mX=Oct("trimStart")?function(){return _ct(this)}:"".trimStart,$ct=Je,bF=mX;$ct({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==bF},{trimLeft:bF});var Pct=Je,wF=mX;Pct({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==wF},{trimStart:wF});var Dct=zt,Rct=wn,jF=fr,Fct=/"/g,Bct=Dct("".replace),Ai=function(e,t,n,s){var a=jF(Rct(e)),i="<"+t;return n!==""&&(i+=" "+n+'="'+Bct(jF(s),Fct,"&quot;")+'"'),i+">"+a+"</"+t+">"},zct=$t,_i=function(e){return zct(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})},Uct=Je,Wct=Ai,Hct=_i;Uct({target:"String",proto:!0,forced:Hct("anchor")},{anchor:function(t){return Wct(this,"a","name",t)}});var Vct=Je,Gct=Ai,qct=_i;Vct({target:"String",proto:!0,forced:qct("big")},{big:function(){return Gct(this,"big","","")}});var Yct=Je,Jct=Ai,Zct=_i;Yct({target:"String",proto:!0,forced:Zct("blink")},{blink:function(){return Jct(this,"blink","","")}});var Qct=Je,Kct=Ai,Xct=_i;Qct({target:"String",proto:!0,forced:Xct("bold")},{bold:function(){return Kct(this,"b","","")}});var edt=Je,tdt=Ai,rdt=_i;edt({target:"String",proto:!0,forced:rdt("fixed")},{fixed:function(){return tdt(this,"tt","","")}});var ndt=Je,sdt=Ai,adt=_i;ndt({target:"String",proto:!0,forced:adt("fontcolor")},{fontcolor:function(t){return sdt(this,"font","color",t)}});var idt=Je,odt=Ai,ldt=_i;idt({target:"String",proto:!0,forced:ldt("fontsize")},{fontsize:function(t){return odt(this,"font","size",t)}});var cdt=Je,ddt=Ai,udt=_i;cdt({target:"String",proto:!0,forced:udt("italics")},{italics:function(){return ddt(this,"i","","")}});var fdt=Je,hdt=Ai,gdt=_i;fdt({target:"String",proto:!0,forced:gdt("link")},{link:function(t){return hdt(this,"a","href",t)}});var mdt=Je,pdt=Ai,xdt=_i;mdt({target:"String",proto:!0,forced:xdt("small")},{small:function(){return pdt(this,"small","","")}});var vdt=Je,ydt=Ai,bdt=_i;vdt({target:"String",proto:!0,forced:bdt("strike")},{strike:function(){return ydt(this,"strike","","")}});var wdt=Je,jdt=Ai,Ndt=_i;wdt({target:"String",proto:!0,forced:Ndt("sub")},{sub:function(){return jdt(this,"sub","","")}});var Sdt=Je,Cdt=Ai,kdt=_i;Sdt({target:"String",proto:!0,forced:kdt("sup")},{sup:function(){return Cdt(this,"sup","","")}});var Ck={exports:{}},pX=Vt,Z3=$t,Edt=aj,Ldt=Ir.NATIVE_ARRAY_BUFFER_VIEWS,Mdt=pX.ArrayBuffer,iu=pX.Int8Array,MI=!Ldt||!Z3(function(){iu(1)})||!Z3(function(){new iu(-1)})||!Edt(function(e){new iu,new iu(null),new iu(1.5),new iu(e)},!0)||Z3(function(){return new iu(new Mdt(2),1,void 0).length!==1}),Idt=qM,Tdt=RangeError,xX=function(e,t){var n=Idt(e);if(n%t)throw new Tdt("Wrong offset");return n},Adt=Math.round,_dt=function(e){var t=Adt(e);return t<0?0:t>255?255:t&255},Odt=pl,vX=function(e){var t=Odt(e);return t==="BigInt64Array"||t==="BigUint64Array"},$dt=Vw,Pdt=TypeError,II=function(e){var t=$dt(e,"number");if(typeof t=="number")throw new Pdt("Can't convert number to bigint");return BigInt(t)},Ddt=Uo,Rdt=or,Fdt=sI,Bdt=Vr,zdt=nn,Udt=rj,Wdt=rg,Hdt=mM,Vdt=vX,Gdt=Ir.aTypedArrayConstructor,qdt=II,yX=function(t){var n=Fdt(this),s=Bdt(t),a=arguments.length,i=a>1?arguments[1]:void 0,o=i!==void 0,l=Wdt(s),c,u,f,h,g,m,p,v;if(l&&!Hdt(l))for(p=Udt(s,l),v=p.next,s=[];!(m=Rdt(v,p)).done;)s.push(m.value);for(o&&a>2&&(i=Ddt(i,arguments[2])),u=zdt(s),f=new(Gdt(n))(u),h=Vdt(f),c=0;u>c;c++)g=o?i(s[c],c):s[c],f[c]=h?qdt(g):+g;return f},NF=Je,bX=Vt,SF=or,Ydt=ir,Jdt=MI,Gx=Ir,wX=uj,CF=Wo,Zdt=oo,sm=ga,Qdt=tI,Kdt=Li,kF=EM,Q3=xX,Xdt=_dt,jX=Wd,am=Rr,eut=pl,kk=kr,tut=vf,rut=Mi,nut=ri,C1=xl,sut=Hd.f,EF=yX,aut=ta.forEach,iut=ig,out=ds,NX=jn,SX=fa,LF=lj,TI=Zn,lut=bf,Ek=TI.get,cut=TI.set,dut=TI.enforce,CX=NX.f,uut=SX.f,K3=bX.RangeError,kX=wX.ArrayBuffer,fut=kX.prototype,hut=wX.DataView,k1=Gx.NATIVE_ARRAY_BUFFER_VIEWS,MF=Gx.TYPED_ARRAY_TAG,IF=Gx.TypedArray,im=Gx.TypedArrayPrototype,Lk=Gx.isTypedArray,E1="BYTES_PER_ELEMENT",X3="Wrong length",L1=function(e,t){out(e,t,{configurable:!0,get:function(){return Ek(this)[t]}})},TF=function(e){var t;return nut(fut,e)||(t=eut(e))==="ArrayBuffer"||t==="SharedArrayBuffer"},EX=function(e,t){return Lk(e)&&!tut(t)&&t in e&&Qdt(+t)&&t>=0},AF=function(t,n){return n=jX(n),EX(t,n)?Zdt(2,t[n]):uut(t,n)},_F=function(t,n,s){return n=jX(n),EX(t,n)&&kk(s)&&am(s,"value")&&!am(s,"get")&&!am(s,"set")&&!s.configurable&&(!am(s,"writable")||s.writable)&&(!am(s,"enumerable")||s.enumerable)?(t[n]=s.value,t):CX(t,n,s)};Ydt?(k1||(SX.f=AF,NX.f=_F,L1(im,"buffer"),L1(im,"byteOffset"),L1(im,"byteLength"),L1(im,"length")),NF({target:"Object",stat:!0,forced:!k1},{getOwnPropertyDescriptor:AF,defineProperty:_F}),Ck.exports=function(e,t,n){var s=e.match(/\d+/)[0]/8,a=e+(n?"Clamped":"")+"Array",i="get"+e,o="set"+e,l=bX[a],c=l,u=c&&c.prototype,f={},h=function(v,b){var y=Ek(v);return y.view[i](b*s+y.byteOffset,!0)},g=function(v,b,y){var x=Ek(v);x.view[o](b*s+x.byteOffset,n?Xdt(y):y,!0)},m=function(v,b){CX(v,b,{get:function(){return h(this,b)},set:function(y){return g(this,b,y)},enumerable:!0})};k1?Jdt&&(c=t(function(v,b,y,x){return CF(v,u),lut(function(){return kk(b)?TF(b)?x!==void 0?new l(b,Q3(y,s),x):y!==void 0?new l(b,Q3(y,s)):new l(b):Lk(b)?LF(c,b):SF(EF,c,b):new l(kF(b))}(),v,c)}),C1&&C1(c,IF),aut(sut(l),function(v){v in c||sm(c,v,l[v])}),c.prototype=u):(c=t(function(v,b,y,x){CF(v,u);var w=0,j=0,N,L,k;if(!kk(b))k=kF(b),L=k*s,N=new kX(L);else if(TF(b)){N=b,j=Q3(y,s);var E=b.byteLength;if(x===void 0){if(E%s)throw new K3(X3);if(L=E-j,L<0)throw new K3(X3)}else if(L=Kdt(x)*s,L+j>E)throw new K3(X3);k=L/s}else return Lk(b)?LF(c,b):SF(EF,c,b);for(cut(v,{buffer:N,byteOffset:j,byteLength:L,length:k,view:new hut(N)});w<k;)m(v,w++)}),C1&&C1(c,IF),u=c.prototype=rut(im)),u.constructor!==c&&sm(u,"constructor",c),dut(u).TypedArrayConstructor=c,MF&&sm(u,MF,a);var p=c!==l;f[a]=c,NF({global:!0,constructor:!0,forced:p,sham:!k1},f),E1 in c||sm(c,E1,s),E1 in u||sm(u,E1,s),iut(a)}):Ck.exports=function(){};var dc=Ck.exports,gut=dc;gut("Float32",function(e){return function(n,s,a){return e(this,n,s,a)}});var mut=dc;mut("Float64",function(e){return function(n,s,a){return e(this,n,s,a)}});var put=dc;put("Int8",function(e){return function(n,s,a){return e(this,n,s,a)}});var xut=dc;xut("Int16",function(e){return function(n,s,a){return e(this,n,s,a)}});var vut=dc;vut("Int32",function(e){return function(n,s,a){return e(this,n,s,a)}});var yut=dc;yut("Uint8",function(e){return function(n,s,a){return e(this,n,s,a)}});var but=dc;but("Uint8",function(e){return function(n,s,a){return e(this,n,s,a)}},!0);var wut=dc;wut("Uint16",function(e){return function(n,s,a){return e(this,n,s,a)}});var jut=dc;jut("Uint32",function(e){return function(n,s,a){return e(this,n,s,a)}});var LX=Ir,Nut=nn,Sut=Pn,Cut=LX.aTypedArray,kut=LX.exportTypedArrayMethod;kut("at",function(t){var n=Cut(this),s=Nut(n),a=Sut(t),i=a>=0?a:s+a;return i<0||i>=s?void 0:n[i]});var Eut=zt,MX=Ir,Lut=tZ,Mut=Eut(Lut),Iut=MX.aTypedArray,Tut=MX.exportTypedArrayMethod;Tut("copyWithin",function(t,n){return Mut(Iut(this),t,n,arguments.length>2?arguments[2]:void 0)});var IX=Ir,Aut=ta.every,_ut=IX.aTypedArray,Out=IX.exportTypedArrayMethod;Out("every",function(t){return Aut(_ut(this),t,arguments.length>1?arguments[1]:void 0)});var TX=Ir,$ut=xM,Put=II,Dut=pl,Rut=or,Fut=zt,But=$t,zut=TX.aTypedArray,Uut=TX.exportTypedArrayMethod,Wut=Fut("".slice),Hut=But(function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),e!==1});Uut("fill",function(t){var n=arguments.length;zut(this);var s=Wut(Dut(this),0,3)==="Big"?Put(t):+t;return Rut($ut,this,s,n>1?arguments[1]:void 0,n>2?arguments[2]:void 0)},Hut);var Vut=lj,Gut=Ir.getTypedArrayConstructor,qut=function(e,t){return Vut(Gut(e),t)},AX=Ir,Yut=ta.filter,Jut=qut,Zut=AX.aTypedArray,Qut=AX.exportTypedArrayMethod;Qut("filter",function(t){var n=Yut(Zut(this),t,arguments.length>1?arguments[1]:void 0);return Jut(this,n)});var _X=Ir,Kut=ta.find,Xut=_X.aTypedArray,eft=_X.exportTypedArrayMethod;eft("find",function(t){return Kut(Xut(this),t,arguments.length>1?arguments[1]:void 0)});var OX=Ir,tft=ta.findIndex,rft=OX.aTypedArray,nft=OX.exportTypedArrayMethod;nft("findIndex",function(t){return tft(rft(this),t,arguments.length>1?arguments[1]:void 0)});var $X=Ir,sft=sj.findLast,aft=$X.aTypedArray,ift=$X.exportTypedArrayMethod;ift("findLast",function(t){return sft(aft(this),t,arguments.length>1?arguments[1]:void 0)});var PX=Ir,oft=sj.findLastIndex,lft=PX.aTypedArray,cft=PX.exportTypedArrayMethod;cft("findLastIndex",function(t){return oft(lft(this),t,arguments.length>1?arguments[1]:void 0)});var DX=Ir,dft=ta.forEach,uft=DX.aTypedArray,fft=DX.exportTypedArrayMethod;fft("forEach",function(t){dft(uft(this),t,arguments.length>1?arguments[1]:void 0)});var hft=MI,gft=Ir.exportTypedArrayStaticMethod,mft=yX;gft("from",mft,hft);var RX=Ir,pft=Cx.includes,xft=RX.aTypedArray,vft=RX.exportTypedArrayMethod;vft("includes",function(t){return pft(xft(this),t,arguments.length>1?arguments[1]:void 0)});var FX=Ir,yft=Cx.indexOf,bft=FX.aTypedArray,wft=FX.exportTypedArrayMethod;wft("indexOf",function(t){return yft(bft(this),t,arguments.length>1?arguments[1]:void 0)});var jft=Vt,Nft=$t,AI=zt,BX=Ir,_I=pZ,Sft=Er,OI=Sft("iterator"),OF=jft.Uint8Array,Cft=AI(_I.values),kft=AI(_I.keys),Eft=AI(_I.entries),$I=BX.aTypedArray,Oj=BX.exportTypedArrayMethod,l0=OF&&OF.prototype,$j=!Nft(function(){l0[OI].call([1])}),zX=!!l0&&l0.values&&l0[OI]===l0.values&&l0.values.name==="values",UX=function(){return Cft($I(this))};Oj("entries",function(){return Eft($I(this))},$j);Oj("keys",function(){return kft($I(this))},$j);Oj("values",UX,$j||!zX,{name:"values"});Oj(OI,UX,$j||!zX,{name:"values"});var WX=Ir,Lft=zt,Mft=WX.aTypedArray,Ift=WX.exportTypedArrayMethod,Tft=Lft([].join);Ift("join",function(t){return Tft(Mft(this),t)});var HX=Ir,Aft=co,_ft=vZ,Oft=HX.aTypedArray,$ft=HX.exportTypedArrayMethod;$ft("lastIndexOf",function(t){var n=arguments.length;return Aft(_ft,Oft(this),n>1?[t,arguments[1]]:[t])});var PI=Ir,Pft=ta.map,Dft=PI.aTypedArray,Rft=PI.getTypedArrayConstructor,Fft=PI.exportTypedArrayMethod;Fft("map",function(t){return Pft(Dft(this),t,arguments.length>1?arguments[1]:void 0,function(n,s){return new(Rft(n))(s)})});var VX=Ir,Bft=MI,zft=VX.aTypedArrayConstructor,Uft=VX.exportTypedArrayStaticMethod;Uft("of",function(){for(var t=0,n=arguments.length,s=new(zft(this))(n);n>t;)s[t]=arguments[t++];return s},Bft);var GX=Ir,Wft=ij.left,Hft=GX.aTypedArray,Vft=GX.exportTypedArrayMethod;Vft("reduce",function(t){var n=arguments.length;return Wft(Hft(this),t,n,n>1?arguments[1]:void 0)});var qX=Ir,Gft=ij.right,qft=qX.aTypedArray,Yft=qX.exportTypedArrayMethod;Yft("reduceRight",function(t){var n=arguments.length;return Gft(qft(this),t,n,n>1?arguments[1]:void 0)});var YX=Ir,Jft=YX.aTypedArray,Zft=YX.exportTypedArrayMethod,Qft=Math.floor;Zft("reverse",function(){for(var t=this,n=Jft(t).length,s=Qft(n/2),a=0,i;a<s;)i=t[a],t[a++]=t[--n],t[n]=i;return t});var JX=Vt,ZX=or,DI=Ir,Kft=nn,Xft=xX,e0t=Vr,QX=$t,t0t=JX.RangeError,Mk=JX.Int8Array,$F=Mk&&Mk.prototype,KX=$F&&$F.set,r0t=DI.aTypedArray,n0t=DI.exportTypedArrayMethod,Ik=!QX(function(){var e=new Uint8ClampedArray(2);return ZX(KX,e,{length:1,0:3},1),e[1]!==3}),s0t=Ik&&DI.NATIVE_ARRAY_BUFFER_VIEWS&&QX(function(){var e=new Mk(2);return e.set(1),e.set("2",1),e[0]!==0||e[1]!==2});n0t("set",function(t){r0t(this);var n=Xft(arguments.length>1?arguments[1]:void 0,1),s=e0t(t);if(Ik)return ZX(KX,this,s,n);var a=this.length,i=Kft(s),o=0;if(i+n>a)throw new t0t("Wrong length");for(;o<i;)this[n+o]=s[o++]},!Ik||s0t);var RI=Ir,a0t=$t,i0t=lo,o0t=RI.aTypedArray,l0t=RI.getTypedArrayConstructor,c0t=RI.exportTypedArrayMethod,d0t=a0t(function(){new Int8Array(1).slice()});c0t("slice",function(t,n){for(var s=i0t(o0t(this),t,n),a=l0t(this),i=0,o=s.length,l=new a(o);o>i;)l[i]=s[i++];return l},d0t);var XX=Ir,u0t=ta.some,f0t=XX.aTypedArray,h0t=XX.exportTypedArrayMethod;h0t("some",function(t){return u0t(f0t(this),t,arguments.length>1?arguments[1]:void 0)});var g0t=Vt,m0t=Vd,Tk=$t,p0t=Dr,x0t=NM,eee=Ir,PF=bZ,v0t=wZ,DF=sc,RF=SM,y0t=eee.aTypedArray,b0t=eee.exportTypedArrayMethod,Vp=g0t.Uint16Array,K0=Vp&&m0t(Vp.prototype.sort),w0t=!!K0&&!(Tk(function(){K0(new Vp(2),null)})&&Tk(function(){K0(new Vp(2),{})})),FF=!!K0&&!Tk(function(){if(DF)return DF<74;if(PF)return PF<67;if(v0t)return!0;if(RF)return RF<602;var e=new Vp(516),t=Array(516),n,s;for(n=0;n<516;n++)s=n%4,e[n]=515-n,t[n]=n-2*s+3;for(K0(e,function(a,i){return(a/4|0)-(i/4|0)}),n=0;n<516;n++)if(e[n]!==t[n])return!0}),j0t=function(e){return function(t,n){return e!==void 0?+e(t,n)||0:n!==n?-1:t!==t?1:t===0&&n===0?1/t>0&&1/n<0?1:-1:t>n}};b0t("sort",function(t){return t!==void 0&&p0t(t),FF?K0(this,t):x0t(y0t(this),j0t(t))},!FF||w0t);var FI=Ir,N0t=Li,BF=ic,S0t=FI.aTypedArray,C0t=FI.getTypedArrayConstructor,k0t=FI.exportTypedArrayMethod;k0t("subarray",function(t,n){var s=S0t(this),a=s.length,i=BF(t,a),o=C0t(s);return new o(s.buffer,s.byteOffset+i*s.BYTES_PER_ELEMENT,N0t((n===void 0?a:BF(n,a))-i))});var E0t=Vt,L0t=co,tee=Ir,Ak=$t,zF=lo,f2=E0t.Int8Array,UF=tee.aTypedArray,M0t=tee.exportTypedArrayMethod,ree=[].toLocaleString,I0t=!!f2&&Ak(function(){ree.call(new f2(1))}),T0t=Ak(function(){return[1,2].toLocaleString()!==new f2([1,2]).toLocaleString()})||!Ak(function(){f2.prototype.toLocaleString.call([1,2])});M0t("toLocaleString",function(){return L0t(ree,I0t?zF(UF(this)):UF(this),zF(arguments))},T0t);var A0t=SZ,BI=Ir,_0t=BI.aTypedArray,O0t=BI.exportTypedArrayMethod,$0t=BI.getTypedArrayConstructor;O0t("toReversed",function(){return A0t(_0t(this),$0t(this))});var Pj=Ir,P0t=zt,D0t=Dr,R0t=lj,F0t=Pj.aTypedArray,B0t=Pj.getTypedArrayConstructor,z0t=Pj.exportTypedArrayMethod,U0t=P0t(Pj.TypedArrayPrototype.sort);z0t("toSorted",function(t){t!==void 0&&D0t(t);var n=F0t(this),s=R0t(B0t(n),n);return U0t(s,t)});var W0t=Ir.exportTypedArrayMethod,H0t=$t,V0t=Vt,G0t=zt,WF=V0t.Uint8Array,q0t=WF&&WF.prototype||{},h2=[].toString,Y0t=G0t([].join);H0t(function(){h2.call({})})&&(h2=function(){return Y0t(this)});var J0t=q0t.toString!==h2;W0t("toString",h2,J0t);var Z0t=CZ,zI=Ir,Q0t=vX,K0t=Pn,X0t=II,eht=zI.aTypedArray,tht=zI.getTypedArrayConstructor,rht=zI.exportTypedArrayMethod,nht=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return e===8}}();rht("with",function(e,t){var n=eht(this),s=K0t(e),a=Q0t(n)?X0t(t):+t;return Z0t(n,tht(n),s,a)},!nht);var sht=Je,UI=zt,aht=fr,HF=String.fromCharCode,VF=UI("".charAt),GF=UI(/./.exec),qF=UI("".slice),iht=/^[\da-f]{2}$/i,oht=/^[\da-f]{4}$/i;sht({global:!0},{unescape:function(t){for(var n=aht(t),s="",a=n.length,i=0,o,l;i<a;){if(o=VF(n,i++),o==="%"){if(VF(n,i)==="u"){if(l=qF(n,i+1,i+5),GF(oht,l)){s+=HF(parseInt(l,16)),i+=5;continue}}else if(l=qF(n,i,i+2),GF(iht,l)){s+=HF(parseInt(l,16)),i+=2;continue}}s+=o}return s}});var lht=zt,YF=og,M1=Nf.getWeakData,cht=Wo,dht=nr,uht=ti,eS=kr,fht=Rs,nee=ta,JF=Rr,see=Zn,hht=see.set,ght=see.getterFor,mht=nee.find,pht=nee.findIndex,xht=lht([].splice),vht=0,I1=function(e){return e.frozen||(e.frozen=new aee)},aee=function(){this.entries=[]},tS=function(e,t){return mht(e.entries,function(n){return n[0]===t})};aee.prototype={get:function(e){var t=tS(this,e);if(t)return t[1]},has:function(e){return!!tS(this,e)},set:function(e,t){var n=tS(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=pht(this.entries,function(n){return n[0]===e});return~t&&xht(this.entries,t,1),!!~t}};var iee={getConstructor:function(e,t,n,s){var a=e(function(c,u){cht(c,i),hht(c,{type:t,id:vht++,frozen:null}),uht(u)||fht(u,c[s],{that:c,AS_ENTRIES:n})}),i=a.prototype,o=ght(t),l=function(c,u,f){var h=o(c),g=M1(dht(u),!0);return g===!0?I1(h).set(u,f):g[h.id]=f,c};return YF(i,{delete:function(c){var u=o(this);if(!eS(c))return!1;var f=M1(c);return f===!0?I1(u).delete(c):f&&JF(f,u.id)&&delete f[u.id]},has:function(u){var f=o(this);if(!eS(u))return!1;var h=M1(u);return h===!0?I1(f).has(u):h&&JF(h,f.id)}}),YF(i,n?{get:function(u){var f=o(this);if(eS(u)){var h=M1(u);if(h===!0)return I1(f).get(u);if(h)return h[f.id]}},set:function(u,f){return l(this,u,f)}}:{add:function(u){return l(this,u,!0)}}),a}},yht=dg,ZF=Vt,jy=zt,QF=og,bht=Nf,wht=mj,oee=iee,T1=kr,A1=Zn.enforce,jht=$t,Nht=rJ,qx=Object,Sht=Array.isArray,_1=qx.isExtensible,lee=qx.isFrozen,Cht=qx.isSealed,cee=qx.freeze,kht=qx.seal,Eht=!ZF.ActiveXObject&&"ActiveXObject"in ZF,om,dee=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},uee=wht("WeakMap",dee,oee),c0=uee.prototype,Ny=jy(c0.set),Lht=function(){return yht&&jht(function(){var e=cee([]);return Ny(new uee,e,1),!lee(e)})};if(Nht)if(Eht){om=oee.getConstructor(dee,"WeakMap",!0),bht.enable();var KF=jy(c0.delete),O1=jy(c0.has),XF=jy(c0.get);QF(c0,{delete:function(e){if(T1(e)&&!_1(e)){var t=A1(this);return t.frozen||(t.frozen=new om),KF(this,e)||t.frozen.delete(e)}return KF(this,e)},has:function(t){if(T1(t)&&!_1(t)){var n=A1(this);return n.frozen||(n.frozen=new om),O1(this,t)||n.frozen.has(t)}return O1(this,t)},get:function(t){if(T1(t)&&!_1(t)){var n=A1(this);return n.frozen||(n.frozen=new om),O1(this,t)?XF(this,t):n.frozen.get(t)}return XF(this,t)},set:function(t,n){if(T1(t)&&!_1(t)){var s=A1(this);s.frozen||(s.frozen=new om),O1(this,t)?Ny(this,t,n):s.frozen.set(t,n)}else Ny(this,t,n);return this}})}else Lht()&&QF(c0,{set:function(t,n){var s;return Sht(t)&&(lee(t)?s=cee:Cht(t)&&(s=kht)),Ny(this,t,n),s&&s(t),this}});var Mht=mj,Iht=iee;Mht("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Iht);var fee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",eB=fee+"+/",tB=fee+"-_",rB=function(e){for(var t={},n=0;n<64;n++)t[e.charAt(n)]=n;return t},hee={i2c:eB,c2i:rB(eB),i2cUrl:tB,c2iUrl:rB(tB)},Tht=Je,Aht=Vt,gee=rn,WI=zt,_ht=or,Dj=$t,Oht=fr,$ht=uo,nB=hee.c2i,mee=/[^\d+/a-z]/i,Pht=/[\t\n\f\r ]+/g,Dht=/[=]{1,2}$/,qu=gee("atob"),Rht=String.fromCharCode,Fht=WI("".charAt),sB=WI("".replace),Bht=WI(mee.exec),gg=!!qu&&!Dj(function(){return qu("aGk=")!=="hi"}),pee=gg&&Dj(function(){return qu(" ")!==""}),xee=gg&&!Dj(function(){qu("a")}),zht=gg&&!Dj(function(){qu()}),Uht=gg&&qu.length!==1,Wht=!gg||pee||xee||zht||Uht;Tht({global:!0,bind:!0,enumerable:!0,forced:Wht},{atob:function(t){if($ht(arguments.length,1),gg&&!pee&&!xee)return _ht(qu,Aht,t);var n=sB(Oht(t),Pht,""),s="",a=0,i=0,o,l,c;if(n.length%4===0&&(n=sB(n,Dht,"")),o=n.length,o%4===1||Bht(mee,n))throw new(gee("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;a<o;)l=Fht(n,a++),c=i%4?c*64+nB[l]:nB[l],i++%4&&(s+=Rht(255&c>>(-2*i&6)));return s}});var Hht=Je,Vht=Vt,vee=rn,yee=zt,Ght=or,HI=$t,aB=fr,qht=uo,Yht=hee.i2c,jh=vee("btoa"),iB=yee("".charAt),Jht=yee("".charCodeAt),Gp=!!jh&&!HI(function(){return jh("hi")!=="aGk="}),Zht=Gp&&!HI(function(){jh()}),Qht=Gp&&HI(function(){return jh(null)!=="bnVsbA=="}),Kht=Gp&&jh.length!==1;Hht({global:!0,bind:!0,enumerable:!0,forced:!Gp||Zht||Qht||Kht},{btoa:function(t){if(qht(arguments.length,1),Gp)return Ght(jh,Vht,aB(t));for(var n=aB(t),s="",a=0,i=Yht,o,l;iB(n,a)||(i="=",a%1);){if(l=Jht(n,a+=3/4),l>255)throw new(vee("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");o=o<<8|l,s+=iB(i,63&o>>8-a%1*8)}return s}});var bee={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Xht=Gw,rS=Xht("span").classList,oB=rS&&rS.constructor&&rS.constructor.prototype,wee=oB===Object.prototype?void 0:oB,lB=Vt,cB=bee,egt=wee,nS=iZ,tgt=ga,jee=function(e){if(e&&e.forEach!==nS)try{tgt(e,"forEach",nS)}catch(t){e.forEach=nS}};for(var sS in cB)cB[sS]&&jee(lB[sS]&&lB[sS].prototype);jee(egt);var dB=Vt,Nee=bee,rgt=wee,bm=pZ,uB=ga,ngt=si,sgt=Er,aS=sgt("iterator"),iS=bm.values,See=function(e,t){if(e){if(e[aS]!==iS)try{uB(e,aS,iS)}catch(s){e[aS]=iS}if(ngt(e,t,!0),Nee[t]){for(var n in bm)if(e[n]!==bm[n])try{uB(e,n,bm[n])}catch(s){e[n]=bm[n]}}}};for(var oS in Nee)See(dB[oS]&&dB[oS].prototype,oS);See(rgt,"DOMTokenList");var Cee={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}},agt=Je,g2=rn,igt=VZ,VI=$t,ogt=Mi,GI=oo,m2=jn.f,lgt=Nn,Sy=ds,Cy=Rr,cgt=Wo,dgt=nr,kee=KJ,fB=$x,X0=Cee,ugt=fM,Eee=Zn,qI=ir,Nh="DOMException",_k="DATA_CLONE_ERR",Rj=g2("Error"),Yl=g2(Nh)||function(){try{var e=g2("MessageChannel")||igt("worker_threads").MessageChannel;new e().port1.postMessage(new WeakMap)}catch(t){if(t.name===_k&&t.code===25)return t.constructor}}(),fgt=Yl&&Yl.prototype,Lee=Rj.prototype,hgt=Eee.set,ggt=Eee.getterFor(Nh),mgt="stack"in new Rj(Nh),Mee=function(e){return Cy(X0,e)&&X0[e].m?X0[e].c:0},YI=function(){cgt(this,Ym);var t=arguments.length,n=fB(t<1?void 0:arguments[0]),s=fB(t<2?void 0:arguments[1],"Error"),a=Mee(s);if(hgt(this,{type:Nh,name:s,message:n,code:a}),qI||(this.name=s,this.message=n,this.code=a),mgt){var i=new Rj(n);i.name=Nh,m2(this,"stack",GI(1,ugt(i.stack,1)))}},Ym=YI.prototype=ogt(Lee),Iee=function(e){return{enumerable:!0,configurable:!0,get:e}},lS=function(e){return Iee(function(){return ggt(this)[e]})};qI&&(Sy(Ym,"code",lS("code")),Sy(Ym,"message",lS("message")),Sy(Ym,"name",lS("name")));m2(Ym,"constructor",GI(1,YI));var Fj=VI(function(){return!(new Yl instanceof Rj)}),pgt=Fj||VI(function(){return Lee.toString!==kee||String(new Yl(1,2))!=="2: 1"}),xgt=Fj||VI(function(){return new Yl(1,"DataCloneError").code!==25});Fj||Yl[_k]!==25||fgt[_k];var hB=Fj;agt({global:!0,constructor:!0,forced:hB},{DOMException:hB?YI:Yl});var qp=g2(Nh),p2=qp.prototype;pgt&&Yl===qp&&lgt(p2,"toString",kee);xgt&&qI&&Yl===qp&&Sy(p2,"code",Iee(function(){return Mee(dgt(this).name)}));for(var gB in X0)if(Cy(X0,gB)){var mB=X0[gB],$1=mB.s,pB=GI(6,mB.c);Cy(qp,$1)||m2(qp,$1,pB),Cy(p2,$1)||m2(p2,$1,pB)}var vgt=Je,ygt=Vt,JI=rn,Ok=oo,$k=jn.f,xB=Rr,bgt=Wo,wgt=bf,vB=$x,cS=Cee,jgt=fM,Ngt=ir,Yx="DOMException",Tee=JI("Error"),Jx=JI(Yx),ZI=function(){bgt(this,Sgt);var t=arguments.length,n=vB(t<1?void 0:arguments[0]),s=vB(t<2?void 0:arguments[1],"Error"),a=new Jx(n,s),i=new Tee(n);return i.name=Yx,$k(a,"stack",Ok(1,jgt(i.stack,1))),wgt(a,this,ZI),a},Sgt=ZI.prototype=Jx.prototype,Cgt="stack"in new Tee(Yx),kgt="stack"in new Jx(1,2),dS=Jx&&Ngt&&Object.getOwnPropertyDescriptor(ygt,Yx),Egt=!!dS&&!(dS.writable&&dS.configurable),yB=Cgt&&!Egt&&!kgt;vgt({global:!0,constructor:!0,forced:yB},{DOMException:yB?ZI:Jx});var wm=JI(Yx),bB=wm.prototype;if(bB.constructor!==wm){$k(bB,"constructor",Ok(1,wm));for(var wB in cS)if(xB(cS,wB)){var jB=cS[wB],NB=jB.s;xB(wm,NB)||$k(wm,NB,Ok(6,jB.c))}}var Lgt=rn,Mgt=si,SB="DOMException";Mgt(Lgt(SB),SB);var Igt=Je,Tgt=Vt,CB=Sj.clear;Igt({global:!0,bind:!0,enumerable:!0,forced:Tgt.clearImmediate!==CB},{clearImmediate:CB});var Aee=Vt,Agt=co,_gt=Or,Ogt=oj,$gt=gl,Pgt=lo,Dgt=uo,Rgt=Aee.Function,Fgt=/MSIE .\./.test($gt)||Ogt==="BUN"&&function(){var e=Aee.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}(),QI=function(e,t){var n=t?2:1;return Fgt?function(s,a){var i=Dgt(arguments.length,1)>n,o=_gt(s)?s:Rgt(s),l=i?Pgt(arguments,n):[],c=i?function(){Agt(o,this,l)}:o;return t?e(c,a):e(c)}:e},Bgt=Je,_ee=Vt,kB=Sj.set,zgt=QI,EB=_ee.setImmediate?zgt(kB,!1):kB;Bgt({global:!0,bind:!0,enumerable:!0,forced:_ee.setImmediate!==EB},{setImmediate:EB});var Ugt=Je,Wgt=Vt,Hgt=lK,Vgt=Dr,Ggt=uo,qgt=$t,Ygt=ir,Jgt=qgt(function(){return Ygt&&Object.getOwnPropertyDescriptor(Wgt,"queueMicrotask").value.length!==1});Ugt({global:!0,enumerable:!0,dontCallGetSet:!0,forced:Jgt},{queueMicrotask:function(t){Ggt(arguments.length,1),Hgt(Vgt(t))}});var Zgt=Je,Dc=Vt,Qgt=ds,Kgt=ir,Xgt=TypeError,emt=Object.defineProperty,LB=Dc.self!==Dc;try{if(Kgt){var uS=Object.getOwnPropertyDescriptor(Dc,"self");(LB||!uS||!uS.get||!uS.enumerable)&&Qgt(Dc,"self",{get:function(){return Dc},set:function(t){if(this!==Dc)throw new Xgt("Illegal invocation");emt(Dc,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else Zgt({global:!0,simple:!0,forced:LB},{self:Dc})}catch(e){}var tmt=Je,Qs=Vt,Jm=rn,Zx=zt,KI=$t,rmt=Xh,Sh=Or,nmt=tg,smt=ti,Bj=kr,amt=vf,imt=Rs,Oee=nr,x2=pl,omt=Rr,lmt=oc,fS=ga,ky=nn,cmt=uo,dmt=Ux,zj=EQ,XI=Ho,umt=hg,MB=GZ,fmt=qJ,eT=RM,jm=Qs.Object,hmt=Qs.Array,$ee=Qs.Date,Pee=Qs.Error,gmt=Qs.TypeError,mmt=Qs.PerformanceMark,Yu=Jm("DOMException"),Pk=zj.Map,tT=zj.has,Dee=zj.get,v2=zj.set,Ree=XI.Set,Fee=XI.add,pmt=XI.has,xmt=Jm("Object","keys"),vmt=Zx([].push),ymt=Zx((!0).valueOf),bmt=Zx(1 .valueOf),wmt=Zx("".valueOf),jmt=Zx($ee.prototype.getTime),Dk=rmt("structuredClone"),Yp="DataCloneError",Ey="Transferring",Bee=function(e){return!KI(function(){var t=new Qs.Set([7]),n=e(t),s=e(jm(7));return n===t||!n.has(7)||!Bj(s)||+s!=7})&&e},IB=function(e,t){return!KI(function(){var n=new t,s=e({a:n,b:n});return!(s&&s.a===s.b&&s.a instanceof t&&s.a.stack===n.stack)})},Nmt=function(e){return!KI(function(){var t=e(new Qs.AggregateError([1],Dk,{cause:3}));return t.name!=="AggregateError"||t.errors[0]!==1||t.message!==Dk||t.cause!==3})},eh=Qs.structuredClone,Smt=!IB(eh,Pee)||!IB(eh,Yu)||!Nmt(eh),Cmt=!eh&&Bee(function(e){return new mmt(Dk,{detail:e}).detail}),Al=Bee(eh)||Cmt,hS=function(e){throw new Yu("Uncloneable type: "+e,Yp)},Ra=function(e,t){throw new Yu((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",Yp)},gS=function(e,t){return Al||Ra(t),Al(e)},kmt=function(){var e;try{e=new Qs.DataTransfer}catch(t){try{e=new Qs.ClipboardEvent("").clipboardData}catch(n){}}return e&&e.items&&e.files?e:null},zee=function(e,t,n){if(tT(t,e))return Dee(t,e);var s=n||x2(e),a,i,o,l,c,u;if(s==="SharedArrayBuffer")Al?a=Al(e):a=e;else{var f=Qs.DataView;!f&&!Sh(e.slice)&&Ra("ArrayBuffer");try{if(Sh(e.slice)&&!e.resizable)a=e.slice(0);else for(i=e.byteLength,o=("maxByteLength"in e)?{maxByteLength:e.maxByteLength}:void 0,a=new ArrayBuffer(i,o),l=new f(e),c=new f(a),u=0;u<i;u++)c.setUint8(u,l.getUint8(u))}catch(h){throw new Yu("ArrayBuffer is detached",Yp)}}return v2(t,e,a),a},Emt=function(e,t,n,s,a){var i=Qs[t];return Bj(i)||Ra(t),new i(zee(e.buffer,a),n,s)},zs=function(e,t){if(amt(e)&&hS("Symbol"),!Bj(e))return e;if(t){if(tT(t,e))return Dee(t,e)}else t=new Pk;var n=x2(e),s,a,i,o,l,c,u,f;switch(n){case"Array":i=hmt(ky(e));break;case"Object":i={};break;case"Map":i=new Pk;break;case"Set":i=new Ree;break;case"RegExp":i=new RegExp(e.source,dmt(e));break;case"Error":switch(a=e.name,a){case"AggregateError":i=new(Jm(a))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":i=new(Jm(a));break;case"CompileError":case"LinkError":case"RuntimeError":i=new(Jm("WebAssembly",a));break;default:i=new Pee}break;case"DOMException":i=new Yu(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":i=zee(e,t,n);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":c=n==="DataView"?e.byteLength:e.length,i=Emt(e,n,e.byteOffset,c,t);break;case"DOMQuad":try{i=new DOMQuad(zs(e.p1,t),zs(e.p2,t),zs(e.p3,t),zs(e.p4,t))}catch(h){i=gS(e,n)}break;case"File":if(Al)try{i=Al(e),x2(i)!==n&&(i=void 0)}catch(h){}if(!i)try{i=new File([e],e.name,e)}catch(h){}i||Ra(n);break;case"FileList":if(o=kmt(),o){for(l=0,c=ky(e);l<c;l++)o.items.add(zs(e[l],t));i=o.files}else i=gS(e,n);break;case"ImageData":try{i=new ImageData(zs(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(h){i=gS(e,n)}break;default:if(Al)i=Al(e);else switch(n){case"BigInt":i=jm(e.valueOf());break;case"Boolean":i=jm(ymt(e));break;case"Number":i=jm(bmt(e));break;case"String":i=jm(wmt(e));break;case"Date":i=new $ee(jmt(e));break;case"Blob":try{i=e.slice(0,e.size,e.type)}catch(h){Ra(n)}break;case"DOMPoint":case"DOMPointReadOnly":s=Qs[n];try{i=s.fromPoint?s.fromPoint(e):new s(e.x,e.y,e.z,e.w)}catch(h){Ra(n)}break;case"DOMRect":case"DOMRectReadOnly":s=Qs[n];try{i=s.fromRect?s.fromRect(e):new s(e.x,e.y,e.width,e.height)}catch(h){Ra(n)}break;case"DOMMatrix":case"DOMMatrixReadOnly":s=Qs[n];try{i=s.fromMatrix?s.fromMatrix(e):new s(e)}catch(h){Ra(n)}break;case"AudioData":case"VideoFrame":Sh(e.clone)||Ra(n);try{i=e.clone()}catch(h){hS(n)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":Ra(n);default:hS(n)}}switch(v2(t,e,i),n){case"Array":case"Object":for(u=xmt(e),l=0,c=ky(u);l<c;l++)f=u[l],lmt(i,f,zs(e[f],t));break;case"Map":e.forEach(function(h,g){v2(i,zs(g,t),zs(h,t))});break;case"Set":e.forEach(function(h){Fee(i,zs(h,t))});break;case"Error":fS(i,"message",zs(e.message,t)),omt(e,"cause")&&fS(i,"cause",zs(e.cause,t)),a==="AggregateError"?i.errors=zs(e.errors,t):a==="SuppressedError"&&(i.error=zs(e.error,t),i.suppressed=zs(e.suppressed,t));case"DOMException":fmt&&fS(i,"stack",zs(e.stack,t))}return i},Lmt=function(e,t){if(!Bj(e))throw new gmt("Transfer option cannot be converted to a sequence");var n=[];imt(e,function(g){vmt(n,Oee(g))});for(var s=0,a=ky(n),i=new Ree,o,l,c,u,f,h;s<a;){if(o=n[s++],l=x2(o),l==="ArrayBuffer"?pmt(i,o):tT(t,o))throw new Yu("Duplicate transferable",Yp);if(l==="ArrayBuffer"){Fee(i,o);continue}if(eT)u=eh(o,{transfer:[o]});else switch(l){case"ImageBitmap":c=Qs.OffscreenCanvas,nmt(c)||Ra(l,Ey);try{f=new c(o.width,o.height),h=f.getContext("bitmaprenderer"),h.transferFromImageBitmap(o),u=f.transferToImageBitmap()}catch(g){}break;case"AudioData":case"VideoFrame":(!Sh(o.clone)||!Sh(o.close))&&Ra(l,Ey);try{u=o.clone(),o.close()}catch(g){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":Ra(l,Ey)}if(u===void 0)throw new Yu("This object cannot be transferred: "+l,Yp);v2(t,o,u)}return i},Mmt=function(e){umt(e,function(t){eT?Al(t,{transfer:[t]}):Sh(t.transfer)?t.transfer():MB?MB(t):Ra("ArrayBuffer",Ey)})};tmt({global:!0,enumerable:!0,sham:!eT,forced:Smt},{structuredClone:function(t){var n=cmt(arguments.length,1)>1&&!smt(arguments[1])?Oee(arguments[1]):void 0,s=n?n.transfer:void 0,a,i;s!==void 0&&(a=new Pk,i=Lmt(s,a));var o=zs(t,a);return i&&Mmt(i),o}});var Imt=Je,Uee=Vt,Tmt=QI,TB=Tmt(Uee.setInterval,!0);Imt({global:!0,bind:!0,forced:Uee.setInterval!==TB},{setInterval:TB});var Amt=Je,Wee=Vt,_mt=QI,AB=_mt(Wee.setTimeout,!0);Amt({global:!0,bind:!0,forced:Wee.setTimeout!==AB},{setTimeout:AB});var Omt=$t,$mt=Er,Pmt=ir,_B=ac,Dmt=$mt("iterator"),Uj=!Omt(function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),s="";return e.pathname="c%20d",t.forEach(function(a,i){t.delete("b"),s+=i+a}),n.delete("a",2),n.delete("b",void 0),_B&&(!e.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!t.size&&(_B||!Pmt)||!t.sort||e.href!=="https://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[Dmt]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://").host!=="xn--e1aybc"||new URL("https://a#").hash!=="#%D0%B1"||s!=="a1c3"||new URL("https://x",void 0).host!=="x"}),Lf=zt,mS=2147483647,Zm=36,Hee=1,Rk=26,Rmt=38,Fmt=700,Bmt=72,zmt=128,Umt="-",Wmt=/[^\0-\u007E]/,Vee=/[.\u3002\uFF0E\uFF61]/g,OB="Overflow: input needs wider integers to process",pS=Zm-Hee,$B=RangeError,Hmt=Lf(Vee.exec),T0=Math.floor,xS=String.fromCharCode,PB=Lf("".charCodeAt),Gee=Lf([].join),Jc=Lf([].push),Vmt=Lf("".replace),Gmt=Lf("".split),qmt=Lf("".toLowerCase),Ymt=function(e){for(var t=[],n=0,s=e.length;n<s;){var a=PB(e,n++);if(a>=55296&&a<=56319&&n<s){var i=PB(e,n++);(i&64512)===56320?Jc(t,((a&1023)<<10)+(i&1023)+65536):(Jc(t,a),n--)}else Jc(t,a)}return t},DB=function(e){return e+22+75*(e<26)},Jmt=function(e,t,n){var s=0;for(e=n?T0(e/Fmt):e>>1,e+=T0(e/t);e>pS*Rk>>1;)e=T0(e/pS),s+=Zm;return T0(s+(pS+1)*e/(e+Rmt))},Zmt=function(e){var t=[];e=Ymt(e);var n=e.length,s=zmt,a=0,i=Bmt,o,l;for(o=0;o<e.length;o++)l=e[o],l<128&&Jc(t,xS(l));var c=t.length,u=c;for(c&&Jc(t,Umt);u<n;){var f=mS;for(o=0;o<e.length;o++)l=e[o],l>=s&&l<f&&(f=l);var h=u+1;if(f-s>T0((mS-a)/h))throw new $B(OB);for(a+=(f-s)*h,s=f,o=0;o<e.length;o++){if(l=e[o],l<s&&++a>mS)throw new $B(OB);if(l===s){for(var g=a,m=Zm;;){var p=m<=i?Hee:m>=i+Rk?Rk:m-i;if(g<p)break;var v=g-p,b=Zm-p;Jc(t,xS(DB(p+v%b))),g=T0(v/b),m+=Zm}Jc(t,xS(DB(g))),i=Jmt(a,h,u===c),a=0,u++}}a++,s++}return Gee(t,"")},Qmt=function(e){var t=[],n=Gmt(Vmt(qmt(e),Vee,"."),"."),s,a;for(s=0;s<n.length;s++)a=n[s],Jc(t,Hmt(Wmt,a)?"xn--"+Zmt(a):a);return Gee(t,".")},Fk=Je,qee=Vt,rT=aK,Kmt=rn,P1=or,Bo=zt,Qm=ir,Yee=Uj,Jee=Nn,Xmt=ds,ept=og,tpt=si,rpt=yM,nT=Zn,Zee=Wo,vS=Or,npt=Rr,spt=Uo,apt=pl,ipt=nr,Qee=kr,ja=fr,opt=Mi,RB=oo,FB=rj,lpt=rg,D1=sg,Kf=uo,cpt=Er,dpt=NM,upt=cpt("iterator"),mg="URLSearchParams",Kee=mg+"Iterator",Xee=nT.set,Wi=nT.getterFor(mg),fpt=nT.getterFor(Kee),BB=rT("fetch"),y2=rT("Request"),Km=rT("Headers"),yS=y2&&y2.prototype,zB=Km&&Km.prototype,hpt=qee.TypeError,gpt=qee.encodeURIComponent,mpt=String.fromCharCode,ppt=Kmt("String","fromCodePoint"),xpt=parseInt,Ly=Bo("".charAt),UB=Bo([].join),Zc=Bo([].push),ete=Bo("".replace),vpt=Bo([].shift),WB=Bo([].splice),HB=Bo("".split),tte=Bo("".slice),ypt=Bo(/./.exec),bpt=/\+/g,bS="",wpt=/^[0-9a-f]+$/i,VB=function(e,t){var n=tte(e,t,t+2);return ypt(wpt,n)?xpt(n,16):NaN},jpt=function(e){for(var t=0,n=128;n>0&&e&n;n>>=1)t++;return t},Npt=function(e){var t=null;switch(e.length){case 1:t=e[0];break;case 2:t=(e[0]&31)<<6|e[1]&63;break;case 3:t=(e[0]&15)<<12|(e[1]&63)<<6|e[2]&63;break;case 4:t=(e[0]&7)<<18|(e[1]&63)<<12|(e[2]&63)<<6|e[3]&63;break}return t>1114111?null:t},GB=function(e){e=ete(e,bpt," ");for(var t=e.length,n="",s=0;s<t;){var a=Ly(e,s);if(a==="%"){if(Ly(e,s+1)==="%"||s+3>t){n+="%",s++;continue}var i=VB(e,s+1);if(i!==i){n+=a,s++;continue}s+=2;var o=jpt(i);if(o===0)a=mpt(i);else{if(o===1||o>4){n+=bS,s++;continue}for(var l=[i],c=1;c<o&&(s++,!(s+3>t||Ly(e,s)!=="%"));){var u=VB(e,s+1);if(u!==u){s+=3;break}if(u>191||u<128)break;Zc(l,u),s+=2,c++}if(l.length!==o){n+=bS;continue}var f=Npt(l);f===null?n+=bS:a=ppt(f)}}n+=a,s++}return n},Spt=/[!'()~]|%20/g,Cpt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},kpt=function(e){return Cpt[e]},qB=function(e){return ete(gpt(e),Spt,kpt)},wS=rpt(function(t,n){Xee(this,{type:Kee,target:Wi(t).entries,index:0,kind:n})},mg,function(){var t=fpt(this),n=t.target,s=t.index++;if(!n||s>=n.length)return t.target=null,D1(void 0,!0);var a=n[s];switch(t.kind){case"keys":return D1(a.key,!1);case"values":return D1(a.value,!1)}return D1([a.key,a.value],!1)},!0),rte=function(e){this.entries=[],this.url=null,e!==void 0&&(Qee(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?Ly(e,0)==="?"?tte(e,1):e:ja(e)))};rte.prototype={type:mg,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t=this.entries,n=lpt(e),s,a,i,o,l,c,u;if(n)for(s=FB(e,n),a=s.next;!(i=P1(a,s)).done;){if(o=FB(ipt(i.value)),l=o.next,(c=P1(l,o)).done||(u=P1(l,o)).done||!P1(l,o).done)throw new hpt("Expected sequence with length 2");Zc(t,{key:ja(c.value),value:ja(u.value)})}else for(var f in e)npt(e,f)&&Zc(t,{key:f,value:ja(e[f])})},parseQuery:function(e){if(e)for(var t=this.entries,n=HB(e,"&"),s=0,a,i;s<n.length;)a=n[s++],a.length&&(i=HB(a,"="),Zc(t,{key:GB(vpt(i)),value:GB(UB(i,"="))}))},serialize:function(){for(var e=this.entries,t=[],n=0,s;n<e.length;)s=e[n++],Zc(t,qB(s.key)+"="+qB(s.value));return UB(t,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Wj=function(){Zee(this,Ch);var t=arguments.length>0?arguments[0]:void 0,n=Xee(this,new rte(t));Qm||(this.size=n.entries.length)},Ch=Wj.prototype;ept(Ch,{append:function(t,n){var s=Wi(this);Kf(arguments.length,2),Zc(s.entries,{key:ja(t),value:ja(n)}),Qm||this.length++,s.updateURL()},delete:function(e){for(var t=Wi(this),n=Kf(arguments.length,1),s=t.entries,a=ja(e),i=n<2?void 0:arguments[1],o=i===void 0?i:ja(i),l=0;l<s.length;){var c=s[l];if(c.key===a&&(o===void 0||c.value===o)){if(WB(s,l,1),o!==void 0)break}else l++}Qm||(this.size=s.length),t.updateURL()},get:function(t){var n=Wi(this).entries;Kf(arguments.length,1);for(var s=ja(t),a=0;a<n.length;a++)if(n[a].key===s)return n[a].value;return null},getAll:function(t){var n=Wi(this).entries;Kf(arguments.length,1);for(var s=ja(t),a=[],i=0;i<n.length;i++)n[i].key===s&&Zc(a,n[i].value);return a},has:function(t){for(var n=Wi(this).entries,s=Kf(arguments.length,1),a=ja(t),i=s<2?void 0:arguments[1],o=i===void 0?i:ja(i),l=0;l<n.length;){var c=n[l++];if(c.key===a&&(o===void 0||c.value===o))return!0}return!1},set:function(t,n){var s=Wi(this);Kf(arguments.length,1);for(var a=s.entries,i=!1,o=ja(t),l=ja(n),c=0,u;c<a.length;c++)u=a[c],u.key===o&&(i?WB(a,c--,1):(i=!0,u.value=l));i||Zc(a,{key:o,value:l}),Qm||(this.size=a.length),s.updateURL()},sort:function(){var t=Wi(this);dpt(t.entries,function(n,s){return n.key>s.key?1:-1}),t.updateURL()},forEach:function(t){for(var n=Wi(this).entries,s=spt(t,arguments.length>1?arguments[1]:void 0),a=0,i;a<n.length;)i=n[a++],s(i.value,i.key,this)},keys:function(){return new wS(this,"keys")},values:function(){return new wS(this,"values")},entries:function(){return new wS(this,"entries")}},{enumerable:!0});Jee(Ch,upt,Ch.entries,{name:"entries"});Jee(Ch,"toString",function(){return Wi(this).serialize()},{enumerable:!0});Qm&&Xmt(Ch,"size",{get:function(){return Wi(this).entries.length},configurable:!0,enumerable:!0});tpt(Wj,mg);Fk({global:!0,constructor:!0,forced:!Yee},{URLSearchParams:Wj});if(!Yee&&vS(Km)){var Ept=Bo(zB.has),Lpt=Bo(zB.set),YB=function(e){if(Qee(e)){var t=e.body,n;if(apt(t)===mg)return n=e.headers?new Km(e.headers):new Km,Ept(n,"content-type")||Lpt(n,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),opt(e,{body:RB(0,ja(t)),headers:RB(0,n)})}return e};if(vS(BB)&&Fk({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return BB(t,arguments.length>1?YB(arguments[1]):{})}}),vS(y2)){var jS=function(t){return Zee(this,yS),new y2(t,arguments.length>1?YB(arguments[1]):{})};yS.constructor=jS,jS.prototype=yS,Fk({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:jS})}}var Mpt={URLSearchParams:Wj,getState:Wi},Ipt=Je,sT=ir,Tpt=Uj,aT=Vt,JB=Uo,fo=zt,b2=Nn,Di=ds,Apt=Wo,Bk=Rr,iT=VQ,Xf=oZ,vo=lo,_pt=Ij.codeAt,Opt=Qmt,Cl=fr,$pt=si,Ppt=uo,nte=Mpt,ste=Zn,Dpt=ste.set,w2=ste.getterFor("URL"),Rpt=nte.URLSearchParams,Fpt=nte.getState,lm=aT.URL,zk=aT.TypeError,j2=aT.parseInt,Bpt=Math.floor,ZB=Math.pow,qi=fo("".charAt),Io=fo(/./.exec),Nm=fo([].join),zpt=fo(1 .toString),Upt=fo([].pop),d0=fo([].push),NS=fo("".replace),Wpt=fo([].shift),Hpt=fo("".split),Xm=fo("".slice),N2=fo("".toLowerCase),Vpt=fo([].unshift),Gpt="Invalid authority",SS="Invalid scheme",ou="Invalid host",QB="Invalid port",ate=/[a-z]/i,qpt=/[\d+-.a-z]/i,Uk=/\d/,Ypt=/^0x/i,Jpt=/^[0-7]+$/,Zpt=/^\d+$/,ite=/^[\da-f]+$/i,Qpt=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Kpt=/[\0\t\n\r #/:<>?@[\\\]^|]/,Xpt=/^[\u0000-\u0020]+/,ext=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,txt=/[\t\n\r]/g,Ri,rxt=function(e){var t=Hpt(e,"."),n,s,a,i,o,l,c;if(t.length&&t[t.length-1]===""&&t.length--,n=t.length,n>4)return e;for(s=[],a=0;a<n;a++){if(i=t[a],i==="")return e;if(o=10,i.length>1&&qi(i,0)==="0"&&(o=Io(Ypt,i)?16:8,i=Xm(i,o===8?1:2)),i==="")l=0;else{if(!Io(o===10?Zpt:o===8?Jpt:ite,i))return e;l=j2(i,o)}d0(s,l)}for(a=0;a<n;a++)if(l=s[a],a===n-1){if(l>=ZB(256,5-n))return null}else if(l>255)return null;for(c=Upt(s),a=0;a<s.length;a++)c+=s[a]*ZB(256,3-a);return c},nxt=function(e){var t=[0,0,0,0,0,0,0,0],n=0,s=null,a=0,i,o,l,c,u,f,h,g=function(){return qi(e,a)};if(g()===":"){if(qi(e,1)!==":")return;a+=2,n++,s=n}for(;g();){if(n===8)return;if(g()===":"){if(s!==null)return;a++,n++,s=n;continue}for(i=o=0;o<4&&Io(ite,g());)i=i*16+j2(g(),16),a++,o++;if(g()==="."){if(o===0||(a-=o,n>6))return;for(l=0;g();){if(c=null,l>0)if(g()==="."&&l<4)a++;else return;if(!Io(Uk,g()))return;for(;Io(Uk,g());){if(u=j2(g(),10),c===null)c=u;else{if(c===0)return;c=c*10+u}if(c>255)return;a++}t[n]=t[n]*256+c,l++,(l===2||l===4)&&n++}if(l!==4)return;break}else if(g()===":"){if(a++,!g())return}else if(g())return;t[n++]=i}if(s!==null)for(f=n-s,n=7;n!==0&&f>0;)h=t[n],t[n--]=t[s+f-1],t[s+--f]=h;else if(n!==8)return;return t},sxt=function(e){for(var t=null,n=1,s=null,a=0,i=0;i<8;i++)e[i]!==0?(a>n&&(t=s,n=a),s=null,a=0):(s===null&&(s=i),++a);return a>n?s:t},cm=function(e){var t,n,s,a;if(typeof e=="number"){for(t=[],n=0;n<4;n++)Vpt(t,e%256),e=Bpt(e/256);return Nm(t,".")}if(typeof e=="object"){for(t="",s=sxt(e),n=0;n<8;n++)a&&e[n]===0||(a&&(a=!1),s===n?(t+=n?":":"::",a=!0):(t+=zpt(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},My={},ote=iT({},My,{" ":1,'"':1,"<":1,">":1,"`":1}),lte=iT({},ote,{"#":1,"?":1,"{":1,"}":1}),CS=iT({},lte,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Mc=function(e,t){var n=_pt(e,0);return n>32&&n<127&&!Bk(t,e)?e:encodeURIComponent(e)},R1={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Sm=function(e,t){var n;return e.length===2&&Io(ate,qi(e,0))&&((n=qi(e,1))===":"||!t&&n==="|")},KB=function(e){var t;return e.length>1&&Sm(Xm(e,0,2))&&(e.length===2||(t=qi(e,2))==="/"||t==="\\"||t==="?"||t==="#")},axt=function(e){return e==="."||N2(e)==="%2e"},ixt=function(e){return e=N2(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},kS={},XB={},ES={},ez={},tz={},LS={},rz={},nz={},F1={},B1={},MS={},IS={},TS={},AS={},sz={},_S={},e0={},Zo={},az={},lu={},Sl={},oT=function(e,t,n){var s=Cl(e),a,i,o;if(t){if(i=this.parse(s),i)throw new zk(i);this.searchParams=null}else{if(n!==void 0&&(a=new oT(n,!0)),i=this.parse(s,null,a),i)throw new zk(i);o=Fpt(new Rpt),o.bindURL(this),this.searchParams=o}};oT.prototype={type:"URL",parse:function(e,t,n){var s=this,a=t||kS,i=0,o="",l=!1,c=!1,u=!1,f,h,g,m;for(e=Cl(e),t||(s.scheme="",s.username="",s.password="",s.host=null,s.port=null,s.path=[],s.query=null,s.fragment=null,s.cannotBeABaseURL=!1,e=NS(e,Xpt,""),e=NS(e,ext,"$1")),e=NS(e,txt,""),f=Xf(e);i<=f.length;){switch(h=f[i],a){case kS:if(h&&Io(ate,h))o+=N2(h),a=XB;else{if(t)return SS;a=ES;continue}break;case XB:if(h&&(Io(qpt,h)||h==="+"||h==="-"||h==="."))o+=N2(h);else if(h===":"){if(t&&(s.isSpecial()!==Bk(R1,o)||o==="file"&&(s.includesCredentials()||s.port!==null)||s.scheme==="file"&&!s.host))return;if(s.scheme=o,t){s.isSpecial()&&R1[s.scheme]===s.port&&(s.port=null);return}o="",s.scheme==="file"?a=AS:s.isSpecial()&&n&&n.scheme===s.scheme?a=ez:s.isSpecial()?a=nz:f[i+1]==="/"?(a=tz,i++):(s.cannotBeABaseURL=!0,d0(s.path,""),a=az)}else{if(t)return SS;o="",a=ES,i=0;continue}break;case ES:if(!n||n.cannotBeABaseURL&&h!=="#")return SS;if(n.cannotBeABaseURL&&h==="#"){s.scheme=n.scheme,s.path=vo(n.path),s.query=n.query,s.fragment="",s.cannotBeABaseURL=!0,a=Sl;break}a=n.scheme==="file"?AS:LS;continue;case ez:if(h==="/"&&f[i+1]==="/")a=F1,i++;else{a=LS;continue}break;case tz:if(h==="/"){a=B1;break}else{a=Zo;continue}case LS:if(s.scheme=n.scheme,h===Ri)s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=vo(n.path),s.query=n.query;else if(h==="/"||h==="\\"&&s.isSpecial())a=rz;else if(h==="?")s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=vo(n.path),s.query="",a=lu;else if(h==="#")s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=vo(n.path),s.query=n.query,s.fragment="",a=Sl;else{s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=vo(n.path),s.path.length--,a=Zo;continue}break;case rz:if(s.isSpecial()&&(h==="/"||h==="\\"))a=F1;else if(h==="/")a=B1;else{s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,a=Zo;continue}break;case nz:if(a=F1,h!=="/"||qi(o,i+1)!=="/")continue;i++;break;case F1:if(h!=="/"&&h!=="\\"){a=B1;continue}break;case B1:if(h==="@"){l&&(o="%40"+o),l=!0,g=Xf(o);for(var p=0;p<g.length;p++){var v=g[p];if(v===":"&&!u){u=!0;continue}var b=Mc(v,CS);u?s.password+=b:s.username+=b}o=""}else if(h===Ri||h==="/"||h==="?"||h==="#"||h==="\\"&&s.isSpecial()){if(l&&o==="")return Gpt;i-=Xf(o).length+1,o="",a=MS}else o+=h;break;case MS:case IS:if(t&&s.scheme==="file"){a=_S;continue}else if(h===":"&&!c){if(o==="")return ou;if(m=s.parseHost(o),m)return m;if(o="",a=TS,t===IS)return}else if(h===Ri||h==="/"||h==="?"||h==="#"||h==="\\"&&s.isSpecial()){if(s.isSpecial()&&o==="")return ou;if(t&&o===""&&(s.includesCredentials()||s.port!==null))return;if(m=s.parseHost(o),m)return m;if(o="",a=e0,t)return;continue}else h==="["?c=!0:h==="]"&&(c=!1),o+=h;break;case TS:if(Io(Uk,h))o+=h;else if(h===Ri||h==="/"||h==="?"||h==="#"||h==="\\"&&s.isSpecial()||t){if(o!==""){var y=j2(o,10);if(y>65535)return QB;s.port=s.isSpecial()&&y===R1[s.scheme]?null:y,o=""}if(t)return;a=e0;continue}else return QB;break;case AS:if(s.scheme="file",h==="/"||h==="\\")a=sz;else if(n&&n.scheme==="file")switch(h){case Ri:s.host=n.host,s.path=vo(n.path),s.query=n.query;break;case"?":s.host=n.host,s.path=vo(n.path),s.query="",a=lu;break;case"#":s.host=n.host,s.path=vo(n.path),s.query=n.query,s.fragment="",a=Sl;break;default:KB(Nm(vo(f,i),""))||(s.host=n.host,s.path=vo(n.path),s.shortenPath()),a=Zo;continue}else{a=Zo;continue}break;case sz:if(h==="/"||h==="\\"){a=_S;break}n&&n.scheme==="file"&&!KB(Nm(vo(f,i),""))&&(Sm(n.path[0],!0)?d0(s.path,n.path[0]):s.host=n.host),a=Zo;continue;case _S:if(h===Ri||h==="/"||h==="\\"||h==="?"||h==="#"){if(!t&&Sm(o))a=Zo;else if(o===""){if(s.host="",t)return;a=e0}else{if(m=s.parseHost(o),m)return m;if(s.host==="localhost"&&(s.host=""),t)return;o="",a=e0}continue}else o+=h;break;case e0:if(s.isSpecial()){if(a=Zo,h!=="/"&&h!=="\\")continue}else if(!t&&h==="?")s.query="",a=lu;else if(!t&&h==="#")s.fragment="",a=Sl;else if(h!==Ri&&(a=Zo,h!=="/"))continue;break;case Zo:if(h===Ri||h==="/"||h==="\\"&&s.isSpecial()||!t&&(h==="?"||h==="#")){if(ixt(o)?(s.shortenPath(),h!=="/"&&!(h==="\\"&&s.isSpecial())&&d0(s.path,"")):axt(o)?h!=="/"&&!(h==="\\"&&s.isSpecial())&&d0(s.path,""):(s.scheme==="file"&&!s.path.length&&Sm(o)&&(s.host&&(s.host=""),o=qi(o,0)+":"),d0(s.path,o)),o="",s.scheme==="file"&&(h===Ri||h==="?"||h==="#"))for(;s.path.length>1&&s.path[0]==="";)Wpt(s.path);h==="?"?(s.query="",a=lu):h==="#"&&(s.fragment="",a=Sl)}else o+=Mc(h,lte);break;case az:h==="?"?(s.query="",a=lu):h==="#"?(s.fragment="",a=Sl):h!==Ri&&(s.path[0]+=Mc(h,My));break;case lu:!t&&h==="#"?(s.fragment="",a=Sl):h!==Ri&&(h==="'"&&s.isSpecial()?s.query+="%27":h==="#"?s.query+="%23":s.query+=Mc(h,My));break;case Sl:h!==Ri&&(s.fragment+=Mc(h,ote));break}i++}},parseHost:function(e){var t,n,s;if(qi(e,0)==="["){if(qi(e,e.length-1)!=="]"||(t=nxt(Xm(e,1,-1)),!t))return ou;this.host=t}else if(this.isSpecial()){if(e=Opt(e),Io(Qpt,e)||(t=rxt(e),t===null))return ou;this.host=t}else{if(Io(Kpt,e))return ou;for(t="",n=Xf(e),s=0;s<n.length;s++)t+=Mc(n[s],My);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return Bk(R1,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;t&&(this.scheme!=="file"||t!==1||!Sm(e[0],!0))&&e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,s=e.password,a=e.host,i=e.port,o=e.path,l=e.query,c=e.fragment,u=t+":";return a!==null?(u+="//",e.includesCredentials()&&(u+=n+(s?":"+s:"")+"@"),u+=cm(a),i!==null&&(u+=":"+i)):t==="file"&&(u+="//"),u+=e.cannotBeABaseURL?o[0]:o.length?"/"+Nm(o,"/"):"",l!==null&&(u+="?"+l),c!==null&&(u+="#"+c),u},setHref:function(e){var t=this.parse(e);if(t)throw new zk(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if(e==="blob")try{return new kh(e.path[0]).origin}catch(n){return"null"}return e==="file"||!this.isSpecial()?"null":e+"://"+cm(this.host)+(t!==null?":"+t:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(Cl(e)+":",kS)},getUsername:function(){return this.username},setUsername:function(e){var t=Xf(Cl(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=Mc(t[n],CS)}},getPassword:function(){return this.password},setPassword:function(e){var t=Xf(Cl(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=Mc(t[n],CS)}},getHost:function(){var e=this.host,t=this.port;return e===null?"":t===null?cm(e):cm(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,MS)},getHostname:function(){var e=this.host;return e===null?"":cm(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,IS)},getPort:function(){var e=this.port;return e===null?"":Cl(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=Cl(e),e===""?this.port=null:this.parse(e,TS))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+Nm(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,e0))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=Cl(e),e===""?this.query=null:(qi(e,0)==="?"&&(e=Xm(e,1)),this.query="",this.parse(e,lu)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(e=Cl(e),e===""){this.fragment=null;return}qi(e,0)==="#"&&(e=Xm(e,1)),this.fragment="",this.parse(e,Sl)},update:function(){this.query=this.searchParams.serialize()||null}};var kh=function(t){var n=Apt(this,ba),s=Ppt(arguments.length,1)>1?arguments[1]:void 0,a=Dpt(n,new oT(t,!1,s));sT||(n.href=a.serialize(),n.origin=a.getOrigin(),n.protocol=a.getProtocol(),n.username=a.getUsername(),n.password=a.getPassword(),n.host=a.getHost(),n.hostname=a.getHostname(),n.port=a.getPort(),n.pathname=a.getPathname(),n.search=a.getSearch(),n.searchParams=a.getSearchParams(),n.hash=a.getHash())},ba=kh.prototype,Fi=function(e,t){return{get:function(){return w2(this)[e]()},set:t&&function(n){return w2(this)[t](n)},configurable:!0,enumerable:!0}};sT&&(Di(ba,"href",Fi("serialize","setHref")),Di(ba,"origin",Fi("getOrigin")),Di(ba,"protocol",Fi("getProtocol","setProtocol")),Di(ba,"username",Fi("getUsername","setUsername")),Di(ba,"password",Fi("getPassword","setPassword")),Di(ba,"host",Fi("getHost","setHost")),Di(ba,"hostname",Fi("getHostname","setHostname")),Di(ba,"port",Fi("getPort","setPort")),Di(ba,"pathname",Fi("getPathname","setPathname")),Di(ba,"search",Fi("getSearch","setSearch")),Di(ba,"searchParams",Fi("getSearchParams")),Di(ba,"hash",Fi("getHash","setHash")));b2(ba,"toJSON",function(){return w2(this).serialize()},{enumerable:!0});b2(ba,"toString",function(){return w2(this).serialize()},{enumerable:!0});if(lm){var iz=lm.createObjectURL,oz=lm.revokeObjectURL;iz&&b2(kh,"createObjectURL",JB(iz,lm)),oz&&b2(kh,"revokeObjectURL",JB(oz,lm))}$pt(kh,"URL");Ipt({global:!0,constructor:!0,forced:!Tpt,sham:!sT},{URL:kh});var oxt=Je,lxt=rn,cte=$t,cxt=uo,lz=fr,dxt=Uj,lT=lxt("URL"),uxt=dxt&&cte(function(){lT.canParse()}),fxt=cte(function(){return lT.canParse.length!==1});oxt({target:"URL",stat:!0,forced:!uxt||fxt},{canParse:function(t){var n=cxt(arguments.length,1),s=lz(t),a=n<2||arguments[1]===void 0?void 0:lz(arguments[1]);try{return!!new lT(s,a)}catch(i){return!1}}});var hxt=Je,gxt=rn,mxt=uo,cz=fr,pxt=Uj,xxt=gxt("URL");hxt({target:"URL",stat:!0,forced:!pxt},{parse:function(t){var n=mxt(arguments.length,1),s=cz(t),a=n<2||arguments[1]===void 0?void 0:cz(arguments[1]);try{return new xxt(s,a)}catch(i){return null}}});var vxt=Je,yxt=or;vxt({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return yxt(URL.prototype.toString,this)}});var bxt=Nn,Hj=zt,dz=fr,wxt=uo,dte=URLSearchParams,Vj=dte.prototype,jxt=Hj(Vj.append),uz=Hj(Vj.delete),Nxt=Hj(Vj.forEach),Sxt=Hj([].push),cT=new dte("a=1&a=2&b=3");cT.delete("a",1);cT.delete("b",void 0);cT+""!="a=2"&&bxt(Vj,"delete",function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&n===void 0)return uz(this,e);var s=[];Nxt(this,function(h,g){Sxt(s,{key:g,value:h})}),wxt(t,1);for(var a=dz(e),i=dz(n),o=0,l=0,c=!1,u=s.length,f;o<u;)f=s[o++],c||f.key===a?(c=!0,uz(this,f.key)):l++;for(;l<u;)f=s[l++],f.key===a&&f.value===i||jxt(this,f.key,f.value)},{enumerable:!0,unsafe:!0});var Cxt=Nn,ute=zt,kxt=fr,Ext=uo,fte=URLSearchParams,dT=fte.prototype,Lxt=ute(dT.getAll),Mxt=ute(dT.has),fz=new fte("a=1");(fz.has("a",2)||!fz.has("a",void 0))&&Cxt(dT,"has",function(t){var n=arguments.length,s=n<2?void 0:arguments[1];if(n&&s===void 0)return Mxt(this,t);var a=Lxt(this,t);Ext(n,1);for(var i=kxt(s),o=0;o<a.length;)if(a[o++]===i)return!0;return!1},{enumerable:!0,unsafe:!0});var Ixt=ir,Txt=zt,Axt=ds,Wk=URLSearchParams.prototype,_xt=Txt(Wk.forEach);Ixt&&!("size"in Wk)&&Axt(Wk,"size",{get:function(){var t=0;return _xt(this,function(){t++}),t},configurable:!0,enumerable:!0});var Oxt={exports:{}};(function(e){var t=function(n){var s=Object.prototype,a=s.hasOwnProperty,i=Object.defineProperty||function(F,D,O){F[D]=O.value},o,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",f=l.toStringTag||"@@toStringTag";function h(F,D,O){return Object.defineProperty(F,D,{value:O,enumerable:!0,configurable:!0,writable:!0}),F[D]}try{h({},"")}catch(F){h=function(D,O,T){return D[O]=T}}function g(F,D,O,T){var R=D&&D.prototype instanceof w?D:w,z=Object.create(R.prototype),_=new X(T||[]);return i(z,"_invoke",{value:M(F,O,_)}),z}n.wrap=g;function m(F,D,O){try{return{type:"normal",arg:F.call(D,O)}}catch(T){return{type:"throw",arg:T}}}var p="suspendedStart",v="suspendedYield",b="executing",y="completed",x={};function w(){}function j(){}function N(){}var L={};h(L,c,function(){return this});var k=Object.getPrototypeOf,E=k&&k(k(J([])));E&&E!==s&&a.call(E,c)&&(L=E);var S=N.prototype=w.prototype=Object.create(L);j.prototype=N,i(S,"constructor",{value:N,configurable:!0}),i(N,"constructor",{value:j,configurable:!0}),j.displayName=h(N,f,"GeneratorFunction");function I(F){["next","throw","return"].forEach(function(D){h(F,D,function(O){return this._invoke(D,O)})})}n.isGeneratorFunction=function(F){var D=typeof F=="function"&&F.constructor;return D?D===j||(D.displayName||D.name)==="GeneratorFunction":!1},n.mark=function(F){return Object.setPrototypeOf?Object.setPrototypeOf(F,N):(F.__proto__=N,h(F,f,"GeneratorFunction")),F.prototype=Object.create(S),F},n.awrap=function(F){return{__await:F}};function C(F,D){function O(z,_,U,Q){var re=m(F[z],F,_);if(re.type==="throw")Q(re.arg);else{var le=re.arg,ue=le.value;return ue&&typeof ue=="object"&&a.call(ue,"__await")?D.resolve(ue.__await).then(function(ge){O("next",ge,U,Q)},function(ge){O("throw",ge,U,Q)}):D.resolve(ue).then(function(ge){le.value=ge,U(le)},function(ge){return O("throw",ge,U,Q)})}}var T;function R(z,_){function U(){return new D(function(Q,re){O(z,_,Q,re)})}return T=T?T.then(U,U):U()}i(this,"_invoke",{value:R})}I(C.prototype),h(C.prototype,u,function(){return this}),n.AsyncIterator=C,n.async=function(F,D,O,T,R){R===void 0&&(R=Promise);var z=new C(g(F,D,O,T),R);return n.isGeneratorFunction(D)?z:z.next().then(function(_){return _.done?_.value:z.next()})};function M(F,D,O){var T=p;return function(z,_){if(T===b)throw new Error("Generator is already running");if(T===y){if(z==="throw")throw _;return Z()}for(O.method=z,O.arg=_;;){var U=O.delegate;if(U){var Q=A(U,O);if(Q){if(Q===x)continue;return Q}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(T===p)throw T=y,O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);T=b;var re=m(F,D,O);if(re.type==="normal"){if(T=O.done?y:v,re.arg===x)continue;return{value:re.arg,done:O.done}}else re.type==="throw"&&(T=y,O.method="throw",O.arg=re.arg)}}}function A(F,D){var O=D.method,T=F.iterator[O];if(T===o)return D.delegate=null,O==="throw"&&F.iterator.return&&(D.method="return",D.arg=o,A(F,D),D.method==="throw")||O!=="return"&&(D.method="throw",D.arg=new TypeError("The iterator does not provide a '"+O+"' method")),x;var R=m(T,F.iterator,D.arg);if(R.type==="throw")return D.method="throw",D.arg=R.arg,D.delegate=null,x;var z=R.arg;if(!z)return D.method="throw",D.arg=new TypeError("iterator result is not an object"),D.delegate=null,x;if(z.done)D[F.resultName]=z.value,D.next=F.nextLoc,D.method!=="return"&&(D.method="next",D.arg=o);else return z;return D.delegate=null,x}I(S),h(S,f,"Generator"),h(S,c,function(){return this}),h(S,"toString",function(){return"[object Generator]"});function H(F){var D={tryLoc:F[0]};1 in F&&(D.catchLoc=F[1]),2 in F&&(D.finallyLoc=F[2],D.afterLoc=F[3]),this.tryEntries.push(D)}function W(F){var D=F.completion||{};D.type="normal",delete D.arg,F.completion=D}function X(F){this.tryEntries=[{tryLoc:"root"}],F.forEach(H,this),this.reset(!0)}n.keys=function(F){var D=Object(F),O=[];for(var T in D)O.push(T);return O.reverse(),function R(){for(;O.length;){var z=O.pop();if(z in D)return R.value=z,R.done=!1,R}return R.done=!0,R}};function J(F){if(F!=null){var D=F[c];if(D)return D.call(F);if(typeof F.next=="function")return F;if(!isNaN(F.length)){var O=-1,T=function R(){for(;++O<F.length;)if(a.call(F,O))return R.value=F[O],R.done=!1,R;return R.value=o,R.done=!0,R};return T.next=T}}throw new TypeError(typeof F+" is not iterable")}n.values=J;function Z(){return{value:o,done:!0}}return X.prototype={constructor:X,reset:function(F){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(W),!F)for(var D in this)D.charAt(0)==="t"&&a.call(this,D)&&!isNaN(+D.slice(1))&&(this[D]=o)},stop:function(){this.done=!0;var F=this.tryEntries[0],D=F.completion;if(D.type==="throw")throw D.arg;return this.rval},dispatchException:function(F){if(this.done)throw F;var D=this;function O(Q,re){return z.type="throw",z.arg=F,D.next=Q,re&&(D.method="next",D.arg=o),!!re}for(var T=this.tryEntries.length-1;T>=0;--T){var R=this.tryEntries[T],z=R.completion;if(R.tryLoc==="root")return O("end");if(R.tryLoc<=this.prev){var _=a.call(R,"catchLoc"),U=a.call(R,"finallyLoc");if(_&&U){if(this.prev<R.catchLoc)return O(R.catchLoc,!0);if(this.prev<R.finallyLoc)return O(R.finallyLoc)}else if(_){if(this.prev<R.catchLoc)return O(R.catchLoc,!0)}else if(U){if(this.prev<R.finallyLoc)return O(R.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(F,D){for(var O=this.tryEntries.length-1;O>=0;--O){var T=this.tryEntries[O];if(T.tryLoc<=this.prev&&a.call(T,"finallyLoc")&&this.prev<T.finallyLoc){var R=T;break}}R&&(F==="break"||F==="continue")&&R.tryLoc<=D&&D<=R.finallyLoc&&(R=null);var z=R?R.completion:{};return z.type=F,z.arg=D,R?(this.method="next",this.next=R.finallyLoc,x):this.complete(z)},complete:function(F,D){if(F.type==="throw")throw F.arg;return F.type==="break"||F.type==="continue"?this.next=F.arg:F.type==="return"?(this.rval=this.arg=F.arg,this.method="return",this.next="end"):F.type==="normal"&&D&&(this.next=D),x},finish:function(F){for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D];if(O.finallyLoc===F)return this.complete(O.completion,O.afterLoc),W(O),x}},catch:function(F){for(var D=this.tryEntries.length-1;D>=0;--D){var O=this.tryEntries[D];if(O.tryLoc===F){var T=O.completion;if(T.type==="throw"){var R=T.arg;W(O)}return R}}throw new Error("illegal catch attempt")},delegateYield:function(F,D,O){return this.delegate={iterator:J(F),resultName:D,nextLoc:O},this.method==="next"&&(this.arg=o),x}},n}(e.exports);try{regeneratorRuntime=t}catch(n){typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(Oxt);const $xt=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Pxt={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Dxt=e=>Pxt[e],Rxt=e=>e.replace($xt,Dxt);let hz={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Rxt};function Fxt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};hz=te(te({},hz),e)}const Bxt={type:"3rdParty",init(e){Fxt(e.options.react)}},zxt={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class S2{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||zxt,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,s,a){return a&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${s}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new S2(this.logger,te({prefix:`${this.prefix}:${t}:`},this.options))}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new S2(this.logger,t)}}var al=new S2;class Gj{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const a=this.observers[s].get(n)||0;this.observers[s].set(n,a+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(o=>{let[l,c]=o;for(let u=0;u<c;u++)l(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[l,c]=o;for(let u=0;u<c;u++)l.apply(l,[t,...s])})}}function dm(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});return n.resolve=e,n.reject=t,n}function gz(e){return e==null?"":""+e}function Uxt(e,t,n){e.forEach(s=>{t[s]&&(n[s]=t[s])})}const Wxt=/###/g;function ep(e,t,n){function s(l){return l&&l.indexOf("###")>-1?l.replace(Wxt,"."):l}function a(){return!e||typeof e=="string"}const i=typeof t!="string"?t:t.split(".");let o=0;for(;o<i.length-1;){if(a())return{};const l=s(i[o]);!e[l]&&n&&(e[l]=new n),Object.prototype.hasOwnProperty.call(e,l)?e=e[l]:e={},++o}return a()?{}:{obj:e,k:s(i[o])}}function mz(e,t,n){const{obj:s,k:a}=ep(e,t,Object);if(s!==void 0||t.length===1){s[a]=n;return}let i=t[t.length-1],o=t.slice(0,t.length-1),l=ep(e,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=ep(e,o,Object),l&&l.obj&&typeof l.obj[`${l.k}.${i}`]!="undefined"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=n}function Hxt(e,t,n,s){const{obj:a,k:i}=ep(e,t,Object);a[i]=a[i]||[],a[i].push(n)}function C2(e,t){const{obj:n,k:s}=ep(e,t);if(n)return n[s]}function Vxt(e,t,n){const s=C2(e,n);return s!==void 0?s:C2(t,n)}function hte(e,t,n){for(const s in t)s!=="__proto__"&&s!=="constructor"&&(s in e?typeof e[s]=="string"||e[s]instanceof String||typeof t[s]=="string"||t[s]instanceof String?n&&(e[s]=t[s]):hte(e[s],t[s],n):e[s]=t[s]);return e}function t0(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Gxt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function qxt(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,t=>Gxt[t]):e}class Yxt{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const s=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,s),this.regExpQueue.push(t),s}}const Jxt=[" ",",","?","!",";"],Zxt=new Yxt(20);function Qxt(e,t,n){t=t||"",n=n||"";const s=Jxt.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(s.length===0)return!0;const a=Zxt.getRegExp(`(${s.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!a.test(e);if(!i){const o=e.indexOf(n);o>0&&!a.test(e.substring(0,o))&&(i=!0)}return i}function Hk(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const s=t.split(n);let a=e;for(let i=0;i<s.length;){if(!a||typeof a!="object")return;let o,l="";for(let c=i;c<s.length;++c)if(c!==i&&(l+=n),l+=s[c],o=a[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<s.length-1)continue;i+=c-i+1;break}a=o}return a}function k2(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class pz extends Gj{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,s){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,n],s&&(Array.isArray(s)?l.push(...s):typeof s=="string"&&i?l.push(...s.split(i)):l.push(s)));const c=C2(this.data,l);return!c&&!n&&!s&&t.indexOf(".")>-1&&(t=l[0],n=l[1],s=l.slice(2).join(".")),c||!o||typeof s!="string"?c:Hk(this.data&&this.data[t]&&this.data[t][n],s,i)}addResource(t,n,s,a){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[t,n];s&&(l=l.concat(o?s.split(o):s)),t.indexOf(".")>-1&&(l=t.split("."),a=n,n=l[1]),this.addNamespaces(n),mz(this.data,l,a),i.silent||this.emit("added",t,n,s,a)}addResources(t,n,s){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in s)(typeof s[i]=="string"||Array.isArray(s[i]))&&this.addResource(t,n,i,s[i],{silent:!0});a.silent||this.emit("added",t,n,s)}addResourceBundle(t,n,s,a,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[t,n];t.indexOf(".")>-1&&(l=t.split("."),a=s,s=n,n=l[1]),this.addNamespaces(n);let c=C2(this.data,l)||{};o.skipCopy||(s=JSON.parse(JSON.stringify(s))),a?hte(c,s,i):c=te(te({},c),s),mz(this.data,l,c),o.silent||this.emit("added",t,n,s)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?te({},this.getResource(t,n)):this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var gte={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,s,a){return e.forEach(i=>{this.processors[i]&&(t=this.processors[i].process(t,n,s,a))}),t}};const xz={};class E2 extends Gj{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Uxt(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=al.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const s=this.resolve(t,n);return s&&s.res!==void 0}extractFromKey(t,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=s&&t.indexOf(s)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Qxt(t,s,a);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:i};const u=t.split(s);(s!==a||s===a&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),t=u.join(a)}return typeof i=="string"&&(i=[i]),{key:t,namespaces:i}}translate(t,n,s){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n=te({},n)),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const a=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(t[t.length-1],n),c=l[l.length-1],u=n.lng||this.language,f=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(f){const j=n.nsSeparator||this.options.nsSeparator;return a?{res:`${c}${j}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:`${c}${j}${o}`}return a?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:o}const h=this.resolve(t,n);let g=h&&h.res;const m=h&&h.usedKey||o,p=h&&h.exactUsedKey||o,v=Object.prototype.toString.apply(g),b=["[object Number]","[object Function]","[object RegExp]"],y=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject;if(x&&g&&(typeof g!="string"&&typeof g!="boolean"&&typeof g!="number")&&b.indexOf(v)<0&&!(typeof y=="string"&&Array.isArray(g))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const j=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,g,he(te({},n),{ns:l})):`key '${o} (${this.language})' returned an object instead of string.`;return a?(h.res=j,h.usedParams=this.getUsedParamsDetails(n),h):j}if(i){const j=Array.isArray(g),N=j?[]:{},L=j?p:m;for(const k in g)if(Object.prototype.hasOwnProperty.call(g,k)){const E=`${L}${i}${k}`;N[k]=this.translate(E,he(te({},n),{joinArrays:!1,ns:l})),N[k]===E&&(N[k]=g[k])}g=N}}else if(x&&typeof y=="string"&&Array.isArray(g))g=g.join(y),g&&(g=this.extendTranslation(g,t,n,s));else{let j=!1,N=!1;const L=n.count!==void 0&&typeof n.count!="string",k=E2.hasDefaultValue(n),E=L?this.pluralResolver.getSuffix(u,n.count,n):"",S=n.ordinal&&L?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",I=L&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),C=I&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${E}`]||n[`defaultValue${S}`]||n.defaultValue;!this.isValidLookup(g)&&k&&(j=!0,g=C),this.isValidLookup(g)||(N=!0,g=o);const A=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&N?void 0:g,H=k&&C!==g&&this.options.updateMissing;if(N||j||H){if(this.logger.log(H?"updateKey":"missingKey",u,c,o,H?C:g),i){const Z=this.resolve(o,he(te({},n),{keySeparator:!1}));Z&&Z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let W=[];const X=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&X&&X[0])for(let Z=0;Z<X.length;Z++)W.push(X[Z]);else this.options.saveMissingTo==="all"?W=this.languageUtils.toResolveHierarchy(n.lng||this.language):W.push(n.lng||this.language);const J=(Z,F,D)=>{const O=k&&D!==g?D:A;this.options.missingKeyHandler?this.options.missingKeyHandler(Z,c,F,O,H,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(Z,c,F,O,H,n),this.emit("missingKey",Z,c,F,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&L?W.forEach(Z=>{const F=this.pluralResolver.getSuffixes(Z,n);I&&n[`defaultValue${this.options.pluralSeparator}zero`]&&F.indexOf(`${this.options.pluralSeparator}zero`)<0&&F.push(`${this.options.pluralSeparator}zero`),F.forEach(D=>{J([Z],o+D,n[`defaultValue${D}`]||C)})}):J(W,o,C))}g=this.extendTranslation(g,t,n,h,s),N&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${c}:${o}`),(N||j)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,j?g:void 0):g=this.options.parseMissingKeyHandler(g))}return a?(h.res=g,h.usedParams=this.getUsedParamsDetails(n),h):g}extendTranslation(t,n,s,a,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,te(te({},this.options.interpolation.defaultVariables),s),s.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init(he(te({},s),{interpolation:te(te({},this.options.interpolation),s.interpolation)}));const u=typeof t=="string"&&(s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(u){const g=t.match(this.interpolator.nestingRegexp);f=g&&g.length}let h=s.replace&&typeof s.replace!="string"?s.replace:s;if(this.options.interpolation.defaultVariables&&(h=te(te({},this.options.interpolation.defaultVariables),h)),t=this.interpolator.interpolate(t,h,s.lng||this.language,s),u){const g=t.match(this.interpolator.nestingRegexp),m=g&&g.length;f<m&&(s.nest=!1)}!s.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(s.lng=a.usedLng),s.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var g=arguments.length,m=new Array(g),p=0;p<g;p++)m[p]=arguments[p];return i&&i[0]===m[0]&&!s.context?(o.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):o.translate(...m,n)},s)),s.interpolation&&this.interpolator.reset()}const l=s.postProcess||this.options.postProcess,c=typeof l=="string"?[l]:l;return t!=null&&c&&c.length&&s.applyPostProcessor!==!1&&(t=gte.handle(c,t,n,this.options&&this.options.postProcessPassResolved?te({i18nResolved:he(te({},a),{usedParams:this.getUsedParamsDetails(s)})},s):s,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,a,i,o,l;return typeof t=="string"&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(s))return;const u=this.extractFromKey(c,n),f=u.key;a=f;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const g=n.count!==void 0&&typeof n.count!="string",m=g&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),p=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",v=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(b=>{this.isValidLookup(s)||(l=b,!xz[`${v[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(xz[`${v[0]}-${b}`]=!0,this.logger.warn(`key "${a}" for languages "${v.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(y=>{if(this.isValidLookup(s))return;o=y;const x=[f];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(x,f,y,b,n);else{let j;g&&(j=this.pluralResolver.getSuffix(y,n.count,n));const N=`${this.options.pluralSeparator}zero`,L=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(x.push(f+j),n.ordinal&&j.indexOf(L)===0&&x.push(f+j.replace(L,this.options.pluralSeparator)),m&&x.push(f+N)),p){const k=`${f}${this.options.contextSeparator}${n.context}`;x.push(k),g&&(x.push(k+j),n.ordinal&&j.indexOf(L)===0&&x.push(k+j.replace(L,this.options.pluralSeparator)),m&&x.push(k+N))}}let w;for(;w=x.pop();)this.isValidLookup(s)||(i=w,s=this.getResource(y,b,w,n))}))})}),{res:s,usedKey:a,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,s){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,s,a):this.resourceStore.getResource(t,n,s,a)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=t.replace&&typeof t.replace!="string";let a=s?t.replace:t;if(s&&typeof t.count!="undefined"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a=te(te({},this.options.interpolation.defaultVariables),a)),!s){a=te({},a);for(const i of n)delete a[i]}return a}static hasDefaultValue(t){const n="defaultValue";for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&n===s.substring(0,n.length)&&t[s]!==void 0)return!0;return!1}}function OS(e){return e.charAt(0).toUpperCase()+e.slice(1)}class vz{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=al.create("languageUtils")}getScriptPartFromCode(t){if(t=k2(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=k2(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let s=t.split("-");return this.options.lowerCaseLng?s=s.map(a=>a.toLowerCase()):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),n.indexOf(s[1].toLowerCase())>-1&&(s[1]=OS(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),n.indexOf(s[1].toLowerCase())>-1&&(s[1]=OS(s[1].toLowerCase())),n.indexOf(s[2].toLowerCase())>-1&&(s[2]=OS(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(s=>{if(n)return;const a=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&t.forEach(s=>{if(n)return;const a=this.getLanguagePartFromCode(s);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(i=>{if(i===a)return i;if(!(i.indexOf("-")<0&&a.indexOf("-")<0)&&(i.indexOf("-")>0&&a.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===a||i.indexOf(a)===0&&a.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),typeof t=="string"&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let s=t[n];return s||(s=t[this.getScriptPartFromCode(n)]),s||(s=t[this.formatLanguageCode(n)]),s||(s=t[this.getLanguagePartFromCode(n)]),s||(s=t.default),s||[]}toResolveHierarchy(t,n){const s=this.getFallbackCodes(n||this.options.fallbackLng||[],t),a=[],i=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):typeof t=="string"&&i(this.formatLanguageCode(t)),s.forEach(o=>{a.indexOf(o)<0&&i(this.formatLanguageCode(o))}),a}}let Kxt=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Xxt={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}};const evt=["v1","v2","v3"],tvt=["v4"],yz={zero:0,one:1,two:2,few:3,many:4,other:5};function rvt(){const e={};return Kxt.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:Xxt[t.fc]}})}),e}class nvt{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=al.create("pluralResolver"),(!this.options.compatibilityJSON||tvt.includes(this.options.compatibilityJSON))&&(typeof Intl=="undefined"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=rvt()}addRule(t,n){this.rules[t]=n}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(k2(t==="dev"?"en":t),{type:n.ordinal?"ordinal":"cardinal"})}catch(s){return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(t,n);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}getPluralFormsOfKey(t,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,s).map(a=>`${n}${a}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(t,n);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort((a,i)=>yz[a]-yz[i]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):s.numbers.map(a=>this.getSuffix(t,a,n)):[]}getSuffix(t,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(t,s);return a?this.shouldUseIntlApi()?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:this.getSuffixRetroCompatible(a,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const s=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let a=t.numbers[s];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));const i=()=>this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString();return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?`_plural_${a.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?i():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}shouldUseIntlApi(){return!evt.includes(this.options.compatibilityJSON)}}function bz(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=Vxt(e,t,n);return!i&&a&&typeof n=="string"&&(i=Hk(e,n,s),i===void 0&&(i=Hk(t,n,s))),i}class svt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=al.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:a,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:f,unescapePrefix:h,nestingPrefix:g,nestingPrefixEscaped:m,nestingSuffix:p,nestingSuffixEscaped:v,nestingOptionsSeparator:b,maxReplaces:y,alwaysFormat:x}=t.interpolation;this.escape=n!==void 0?n:qxt,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?t0(i):o||"{{",this.suffix=l?t0(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=f?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=g?t0(g):m||t0("$t("),this.nestingSuffix=p?t0(p):v||t0(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=y||1e3,this.alwaysFormat=x!==void 0?x:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,s)=>n&&n.source===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,s,a){let i,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(p){return p.replace(/\$/g,"$$$$")}const f=p=>{if(p.indexOf(this.formatSeparator)<0){const x=bz(n,c,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,s,he(te(te({},a),n),{interpolationkey:p})):x}const v=p.split(this.formatSeparator),b=v.shift().trim(),y=v.join(this.formatSeparator).trim();return this.format(bz(n,c,b,this.options.keySeparator,this.options.ignoreJSONStructure),y,s,he(te(te({},a),n),{interpolationkey:b}))};this.resetRegExp();const h=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,g=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>u(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?u(this.escape(p)):u(p)}].forEach(p=>{for(l=0;i=p.regex.exec(t);){const v=i[1].trim();if(o=f(v),o===void 0)if(typeof h=="function"){const y=h(t,i,a);o=typeof y=="string"?y:""}else if(a&&Object.prototype.hasOwnProperty.call(a,v))o="";else if(g){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${t}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=gz(o));const b=p.safeValue(o);if(t=t.replace(i[0],b),g?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=i[0].length):p.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,i,o;function l(c,u){const f=this.nestingOptionsSeparator;if(c.indexOf(f)<0)return c;const h=c.split(new RegExp(`${f}[ ]*{`));let g=`{${h[1]}`;c=h[0],g=this.interpolate(g,o);const m=g.match(/'/g),p=g.match(/"/g);(m&&m.length%2===0&&!p||p.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),u&&(o=te(te({},u),o))}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,v),`${c}${f}${g}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c}for(;a=this.nestingRegexp.exec(t);){let c=[];o=te({},s),o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const f=a[1].split(this.formatSeparator).map(h=>h.trim());a[1]=f.shift(),c=f,u=!0}if(i=n(l.call(this,a[1].trim(),o),o),i&&a[0]===t&&typeof i!="string")return i;typeof i!="string"&&(i=gz(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),i=""),u&&(i=c.reduce((f,h)=>this.format(f,h,s.lng,he(te({},s),{interpolationkey:a[1].trim()})),i.trim())),t=t.replace(a[0],i),this.regexp.lastIndex=0}return t}}function avt(e){let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const s=e.split("(");t=s[0].toLowerCase().trim();const a=s[1].substring(0,s[1].length-1);t==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),f=l.trim();n[f]||(n[f]=u),u==="false"&&(n[f]=!1),u==="true"&&(n[f]=!0),isNaN(u)||(n[f]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}}function r0(e){const t={};return function(s,a,i){const o=a+JSON.stringify(i);let l=t[o];return l||(l=e(k2(a),i),t[o]=l),l(s)}}class ivt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=al.create("formatter"),this.options=t,this.formats={number:r0((n,s)=>{const a=new Intl.NumberFormat(n,te({},s));return i=>a.format(i)}),currency:r0((n,s)=>{const a=new Intl.NumberFormat(n,he(te({},s),{style:"currency"}));return i=>a.format(i)}),datetime:r0((n,s)=>{const a=new Intl.DateTimeFormat(n,te({},s));return i=>a.format(i)}),relativetime:r0((n,s)=>{const a=new Intl.RelativeTimeFormat(n,te({},s));return i=>a.format(i,s.range||"day")}),list:r0((n,s)=>{const a=new Intl.ListFormat(n,te({},s));return i=>a.format(i)})},this.init(t)}init(t){const s=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=s.formatSeparator?s.formatSeparator:s.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=r0(n)}format(t,n,s){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((l,c)=>{const{formatName:u,formatOptions:f}=avt(c);if(this.formats[u]){let h=l;try{const g=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},m=g.locale||g.lng||a.locale||a.lng||s;h=this.formats[u](l,m,te(te(te({},f),a),g))}catch(g){this.logger.warn(g)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}function ovt(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}class lvt extends Gj{constructor(t,n,s){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=a,this.logger=al.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(s,a.backend,a)}queueLoad(t,n,s,a){const i={},o={},l={},c={};return t.forEach(u=>{let f=!0;n.forEach(h=>{const g=`${u}|${h}`;!s.reload&&this.store.hasResourceBundle(u,h)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,f=!1,o[g]===void 0&&(o[g]=!0),i[g]===void 0&&(i[g]=!0),c[h]===void 0&&(c[h]=!0)))}),f||(l[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,n,s){const a=t.split("|"),i=a[0],o=a[1];n&&this.emit("failedLoading",i,o,n),s&&this.store.addResourceBundle(i,o,s,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2;const l={};this.queue.forEach(c=>{Hxt(c.loaded,[i],o),ovt(c,t),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const f=c.loaded[u];f.length&&f.forEach(h=>{l[u][h]===void 0&&(l[u][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,n,s){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:s,tried:a,wait:i,callback:o});return}this.readingCalls++;const l=(u,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&f&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,s,a+1,i*2,o)},i);return}o(u,f)},c=this.backend[s].bind(this.backend);if(c.length===2){try{const u=c(t,n);u&&typeof u.then=="function"?u.then(f=>l(null,f)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,n,l)}prepareLoading(t,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof n=="string"&&(n=[n]);const i=this.queueLoad(t,n,s,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,s){this.prepareLoading(t,n,{},s)}reload(t,n,s){this.prepareLoading(t,n,{reload:!0},s)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const s=t.split("|"),a=s[0],i=s[1];this.read(a,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${a} failed`,o),!o&&l&&this.logger.log(`${n}loaded namespace ${i} for language ${a}`,l),this.loaded(t,o,l)})}saveMissing(t,n,s,a,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend&&this.backend.create){const c=he(te({},o),{isUpdate:i}),u=this.backend.create.bind(this.backend);if(u.length<6)try{let f;u.length===5?f=u(t,n,s,a,c):f=u(t,n,s,a),f&&typeof f.then=="function"?f.then(h=>l(null,h)).catch(l):l(null,f)}catch(f){l(f)}else u(t,n,s,a,l,c)}!t||!t[0]||this.store.addResource(t[0],n,s,a)}}}function wz(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){let n={};if(typeof t[1]=="object"&&(n=t[1]),typeof t[1]=="string"&&(n.defaultValue=t[1]),typeof t[2]=="string"&&(n.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const s=t[3]||t[2];Object.keys(s).forEach(a=>{n[a]=s[a]})}return n},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function jz(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function z1(){}function cvt(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})}class Jp extends Gj{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=jz(t),this.services={},this.logger=al,this.modules={external:[]},cvt(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(s=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const a=wz();this.options=te(te(te({},a),this.options),jz(n)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=te(te({},a.interpolation),this.options.interpolation)),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function i(f){return f?typeof f=="function"?new f:f:null}if(!this.options.isClone){this.modules.logger?al.init(i(this.modules.logger),this.options):al.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:typeof Intl!="undefined"&&(f=ivt);const h=new vz(this.options);this.store=new pz(this.options.resources,this.options);const g=this.services;g.logger=al,g.resourceStore=this.store,g.languageUtils=h,g.pluralResolver=new nvt(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(g.formatter=i(f),g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new svt(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new lvt(i(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",function(m){for(var p=arguments.length,v=new Array(p>1?p-1:0),b=1;b<p;b++)v[b-1]=arguments[b];t.emit(m,...v)}),this.modules.languageDetector&&(g.languageDetector=i(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=i(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new E2(this.services,this.options),this.translator.on("*",function(m){for(var p=arguments.length,v=new Array(p>1?p-1:0),b=1;b<p;b++)v[b-1]=arguments[b];t.emit(m,...v)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,s||(s=z1),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return t.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return t.store[f](...arguments),t}});const c=dm(),u=()=>{const f=(h,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(g),s(h,g)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z1;const a=typeof t=="string"?t:this.language;if(typeof t=="function"&&(s=t),!this.options.resources||this.options.partialBundledLanguages){if(a&&a.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const i=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};a?o(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(l=>o(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(l)})}else s(null)}reloadResources(t,n,s){const a=dm();return t||(t=this.languages),n||(n=this.options.ns),s||(s=z1),this.services.backendConnector.reload(t,n,i=>{a.resolve(),s(i)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&gte.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}}changeLanguage(t,n){var s=this;this.isLanguageChangingTo=t;const a=dm();this.emit("languageChanging",t);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,a.resolve(function(){return s.t(...arguments)}),n&&n(c,function(){return s.t(...arguments)})},l=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const u=typeof c=="string"?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,f=>{o(f,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),a}getFixedT(t,n,s){var a=this;const i=function(o,l){let c;if(typeof l!="object"){for(var u=arguments.length,f=new Array(u>2?u-2:0),h=2;h<u;h++)f[h-2]=arguments[h];c=a.options.overloadTranslationOptionHandler([o,l].concat(f))}else c=te({},l);c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix=c.keyPrefix||s||i.keyPrefix;const g=a.options.keySeparator||".";let m;return c.keyPrefix&&Array.isArray(o)?m=o.map(p=>`${c.keyPrefix}${g}${p}`):m=c.keyPrefix?`${c.keyPrefix}${g}${o}`:o,a.t(m,c)};return typeof t=="string"?i.lng=t:i.lngs=t,i.ns=n,i.keyPrefix=s,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===2};if(n.precheck){const l=n.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(s,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(s,t)&&(!a||o(i,t)))}loadNamespaces(t,n){const s=dm();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{s.resolve(),n&&n(a)}),s):(n&&n(),Promise.resolve())}loadLanguages(t,n){const s=dm();typeof t=="string"&&(t=[t]);const a=this.options.preload||[],i=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=a.concat(i),this.loadResources(o=>{s.resolve(),n&&n(o)}),s):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services&&this.services.languageUtils||new vz(wz());return n.indexOf(s.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Jp(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z1;const s=t.forkResourceStore;s&&delete t.forkResourceStore;const a=he(te(te({},this.options),t),{isClone:!0}),i=new Jp(a);return(t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services=te({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},s&&(i.store=new pz(this.store.data,a),i.services.resourceStore=i.store),i.translator=new E2(i.services,a),i.translator.on("*",function(l){for(var c=arguments.length,u=new Array(c>1?c-1:0),f=1;f<c;f++)u[f-1]=arguments[f];i.emit(l,...u)}),i.init(a,n),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ma=Jp.createInstance();ma.createInstance=Jp.createInstance;ma.createInstance;ma.dir;ma.init;ma.loadResources;ma.reloadResources;ma.use;ma.changeLanguage;ma.getFixedT;ma.t;ma.exists;ma.setDefaultNamespace;ma.hasLoadedNamespace;ma.loadNamespaces;ma.loadLanguages;const dvt="Aquashow Event",uvt={home:"Home","about-us":"About us",contact:"Contact",products:"Products"},fvt={},hvt={},gvt={},mvt={},pvt={},xvt={"proconta-text":"A multiplatform financial management tool.","vierp-text":"An all-in-one ERP solution.","arsbeta-text":"An intelligent accounting system powered by AI.","vlms-text":"A microcredit management system."},vvt={"get-in-touch":"Contact Us","have-question":"Have a question or want to discuss an idea?","software-development-comapny":"Software Development Company","about-text":"54Links is a software development startup dedicated to creating impactful solutions. Our goal is to transform ideas into technologies that solve real problems and drive progress. Were passionate about turning ideas into technologies that matter.","lets-build":"Let's create something extraordinary together."},yvt={title:dvt,"hero-title":"We turn ideas into products",menu:uvt,ticket:fvt,invoice:hvt,titles:gvt,form:mvt,messages:pvt,products:xvt,common:vvt},bvt="Evento Aquashow",wvt={home:"Incio","about-us":"Sobre ns",contact:"Contato",products:"Produtos"},jvt={},Nvt={},Svt={},Cvt={},kvt={},Evt={"proconta-text":"Ferramenta de gesto financeira multiplataforma.","vierp-text":"ERP all-in-one","arsbeta-text":"Sistema inteligente de contabilidade impulsionado por IA.","vlms-text":"Sistema de gesto de microcrdito."},Lvt={"get-in-touch":"Fale connosco","have-question":"Tem alguma dvida ou deseja discutir uma ideia?","software-development-comapny":"Startup de Desenvolvimento de Software","about-text":"54Links  uma startup de desenvolvimento de software dedicada a criar solues impactantes. Nosso objetivo  transformar ideias em tecnologias que resolvem problemas reais e impulsionam o progresso. Somos apaixonados por transformar ideias em tecnologias.","lets-build":"Vamos construir algo incrvel juntos!"},Mvt={title:bvt,"hero-title":"Transformamos ideias em produtos",menu:wvt,ticket:jvt,invoice:Nvt,titles:Svt,form:Cvt,messages:kvt,products:Evt,common:Lvt};ma.use(Bxt).init({resources:{en:{translation:yvt},pt:{translation:Mvt}},lng:localStorage.getItem("lang")?localStorage.getItem("lang"):"pt",fallbackLng:"en",interpolation:{escapeValue:!1}});function Ivt(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:s,onRegistered:a,onRegisteredSW:i,onRegisterError:o}=e;let l,c;const u=(h=!0)=>pe(this,null,function*(){yield c});function f(){return pe(this,null,function*(){if("serviceWorker"in navigator){if(l=yield Xl(()=>pe(this,null,function*(){const{Workbox:h}=yield import("./workbox-window.prod.es5-fJwV-9vL.js");return{Workbox:h}}),[]).then(({Workbox:h})=>new h("/sw.js",{scope:"/",type:"classic"})).catch(h=>{o==null||o(h)}),!l)return;l.addEventListener("activated",h=>{(h.isUpdate||h.isExternal)&&window.location.reload()}),l.addEventListener("installed",h=>{h.isUpdate||s==null||s()}),l.register({immediate:t}).then(h=>{i?i("/sw.js",h):a==null||a(h)}).catch(h=>{o==null||o(h)})}})}return c=f(),u}function Tvt(){return r.jsx(Ole,{position:"top-right",toastOptions:{style:{fontSize:"14px",zIndex:9999999},success:{iconTheme:{primary:"#0a66c2",secondary:"#fff"}}}})}Ivt();$S.createRoot(document.getElementById("root")).render(r.jsx(Dle,{clientId:"1097700207306-690d40fdlu7po502ouf72nnql1s1v75l.apps.googleusercontent.com",children:r.jsx(Pue,{children:r.jsx(Tfe,{children:r.jsxs(Due,{children:[r.jsx(Tvt,{}),r.jsx(U5e,{})]})})})}));
