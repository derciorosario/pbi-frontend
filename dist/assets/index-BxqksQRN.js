var Tre=Object.defineProperty,Are=Object.defineProperties;var _re=Object.getOwnPropertyDescriptors;var rv=Object.getOwnPropertySymbols;var o5=Object.prototype.hasOwnProperty,l5=Object.prototype.propertyIsEnumerable;var Ef=(t,r)=>(r=Symbol[t])?r:Symbol.for("Symbol."+t),Ore=t=>{throw TypeError(t)};var i5=(t,r,s)=>r in t?Tre(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,ne=(t,r)=>{for(var s in r||(r={}))o5.call(r,s)&&i5(t,s,r[s]);if(rv)for(var s of rv(r))l5.call(r,s)&&i5(t,s,r[s]);return t},me=(t,r)=>Are(t,_re(r));var wc=(t,r)=>{var s={};for(var a in t)o5.call(t,a)&&r.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&rv)for(var a of rv(t))r.indexOf(a)<0&&l5.call(t,a)&&(s[a]=t[a]);return s};var ve=(t,r,s)=>new Promise((a,i)=>{var o=d=>{try{c(s.next(d))}catch(f){i(f)}},l=d=>{try{c(s.throw(d))}catch(f){i(f)}},c=d=>d.done?a(d.value):Promise.resolve(d.value).then(o,l);c((s=s.apply(t,r)).next())}),qd=function(t,r){this[0]=t,this[1]=r},e4=(t,r,s)=>{var a=(l,c,d,f)=>{try{var h=s[l](c),g=(c=h.value)instanceof qd,m=h.done;Promise.resolve(g?c[0]:c).then(p=>g?a(l==="return"?l:"next",c[1]?{done:p.done,value:p.value}:p,d,f):d({value:p,done:m})).catch(p=>a("throw",p,d,f))}catch(p){f(p)}},i=l=>o[l]=c=>new Promise((d,f)=>a(l,c,d,f)),o={};return s=s.apply(t,r),o[Ef("asyncIterator")]=()=>o,i("next"),i("throw"),i("return"),o},t4=t=>{var r=t[Ef("asyncIterator")],s=!1,a,i={};return r==null?(r=t[Ef("iterator")](),a=o=>i[o]=l=>r[o](l)):(r=r.call(t),a=o=>i[o]=l=>{if(s){if(s=!1,o==="throw")throw l;return l}return s=!0,{done:!1,value:new qd(new Promise(c=>{var d=r[o](l);d instanceof Object||Ore("Object expected"),c(d)}),1)}}),i[Ef("iterator")]=()=>i,a("next"),"throw"in r?a("throw"):i.throw=o=>{throw o},"return"in r&&a("return"),i},c5=(t,r,s)=>(r=t[Ef("asyncIterator")])?r.call(t):(t=t[Ef("iterator")](),r={},s=(a,i)=>(i=t[a])&&(r[a]=o=>new Promise((l,c,d)=>(o=i.call(t,o),d=o.done,Promise.resolve(o.value).then(f=>l({value:f,done:d}),c)))),s("next"),s("return"),r);function $re(t,r){for(var s=0;s<r.length;s++){const a=r[s];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(a,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();var Ts=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function j2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vz={exports:{}},N2={},yz={exports:{}},Sr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp=Symbol.for("react.element"),Pre=Symbol.for("react.portal"),Dre=Symbol.for("react.fragment"),Rre=Symbol.for("react.strict_mode"),Fre=Symbol.for("react.profiler"),Bre=Symbol.for("react.provider"),zre=Symbol.for("react.context"),Ure=Symbol.for("react.forward_ref"),Wre=Symbol.for("react.suspense"),Hre=Symbol.for("react.memo"),Vre=Symbol.for("react.lazy"),d5=Symbol.iterator;function Gre(t){return t===null||typeof t!="object"?null:(t=d5&&t[d5]||t["@@iterator"],typeof t=="function"?t:null)}var bz={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wz=Object.assign,jz={};function wh(t,r,s){this.props=t,this.context=r,this.refs=jz,this.updater=s||bz}wh.prototype.isReactComponent={};wh.prototype.setState=function(t,r){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,r,"setState")};wh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Nz(){}Nz.prototype=wh.prototype;function zk(t,r,s){this.props=t,this.context=r,this.refs=jz,this.updater=s||bz}var Uk=zk.prototype=new Nz;Uk.constructor=zk;wz(Uk,wh.prototype);Uk.isPureReactComponent=!0;var u5=Array.isArray,Sz=Object.prototype.hasOwnProperty,Wk={current:null},Cz={key:!0,ref:!0,__self:!0,__source:!0};function kz(t,r,s){var a,i={},o=null,l=null;if(r!=null)for(a in r.ref!==void 0&&(l=r.ref),r.key!==void 0&&(o=""+r.key),r)Sz.call(r,a)&&!Cz.hasOwnProperty(a)&&(i[a]=r[a]);var c=arguments.length-2;if(c===1)i.children=s;else if(1<c){for(var d=Array(c),f=0;f<c;f++)d[f]=arguments[f+2];i.children=d}if(t&&t.defaultProps)for(a in c=t.defaultProps,c)i[a]===void 0&&(i[a]=c[a]);return{$$typeof:Vp,type:t,key:o,ref:l,props:i,_owner:Wk.current}}function qre(t,r){return{$$typeof:Vp,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}function Hk(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vp}function Yre(t){var r={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return r[s]})}var f5=/\/+/g;function r4(t,r){return typeof t=="object"&&t!==null&&t.key!=null?Yre(""+t.key):r.toString(36)}function P1(t,r,s,a,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Vp:case Pre:l=!0}}if(l)return l=t,i=i(l),t=a===""?"."+r4(l,0):a,u5(i)?(s="",t!=null&&(s=t.replace(f5,"$&/")+"/"),P1(i,r,s,"",function(f){return f})):i!=null&&(Hk(i)&&(i=qre(i,s+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(f5,"$&/")+"/")+t)),r.push(i)),1;if(l=0,a=a===""?".":a+":",u5(t))for(var c=0;c<t.length;c++){o=t[c];var d=a+r4(o,c);l+=P1(o,r,s,d,i)}else if(d=Gre(t),typeof d=="function")for(t=d.call(t),c=0;!(o=t.next()).done;)o=o.value,d=a+r4(o,c++),l+=P1(o,r,s,d,i);else if(o==="object")throw r=String(t),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return l}function nv(t,r,s){if(t==null)return t;var a=[],i=0;return P1(t,a,"","",function(o){return r.call(s,o,i++)}),a}function Jre(t){if(t._status===-1){var r=t._result;r=r(),r.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=r)}if(t._status===1)return t._result.default;throw t._result}var Oa={current:null},D1={transition:null},Zre={ReactCurrentDispatcher:Oa,ReactCurrentBatchConfig:D1,ReactCurrentOwner:Wk};function Ez(){throw Error("act(...) is not supported in production builds of React.")}Sr.Children={map:nv,forEach:function(t,r,s){nv(t,function(){r.apply(this,arguments)},s)},count:function(t){var r=0;return nv(t,function(){r++}),r},toArray:function(t){return nv(t,function(r){return r})||[]},only:function(t){if(!Hk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Sr.Component=wh;Sr.Fragment=Dre;Sr.Profiler=Fre;Sr.PureComponent=zk;Sr.StrictMode=Rre;Sr.Suspense=Wre;Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zre;Sr.act=Ez;Sr.cloneElement=function(t,r,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var a=wz({},t.props),i=t.key,o=t.ref,l=t._owner;if(r!=null){if(r.ref!==void 0&&(o=r.ref,l=Wk.current),r.key!==void 0&&(i=""+r.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(d in r)Sz.call(r,d)&&!Cz.hasOwnProperty(d)&&(a[d]=r[d]===void 0&&c!==void 0?c[d]:r[d])}var d=arguments.length-2;if(d===1)a.children=s;else if(1<d){c=Array(d);for(var f=0;f<d;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:Vp,type:t.type,key:i,ref:o,props:a,_owner:l}};Sr.createContext=function(t){return t={$$typeof:zre,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Bre,_context:t},t.Consumer=t};Sr.createElement=kz;Sr.createFactory=function(t){var r=kz.bind(null,t);return r.type=t,r};Sr.createRef=function(){return{current:null}};Sr.forwardRef=function(t){return{$$typeof:Ure,render:t}};Sr.isValidElement=Hk;Sr.lazy=function(t){return{$$typeof:Vre,_payload:{_status:-1,_result:t},_init:Jre}};Sr.memo=function(t,r){return{$$typeof:Hre,type:t,compare:r===void 0?null:r}};Sr.startTransition=function(t){var r=D1.transition;D1.transition={};try{t()}finally{D1.transition=r}};Sr.unstable_act=Ez;Sr.useCallback=function(t,r){return Oa.current.useCallback(t,r)};Sr.useContext=function(t){return Oa.current.useContext(t)};Sr.useDebugValue=function(){};Sr.useDeferredValue=function(t){return Oa.current.useDeferredValue(t)};Sr.useEffect=function(t,r){return Oa.current.useEffect(t,r)};Sr.useId=function(){return Oa.current.useId()};Sr.useImperativeHandle=function(t,r,s){return Oa.current.useImperativeHandle(t,r,s)};Sr.useInsertionEffect=function(t,r){return Oa.current.useInsertionEffect(t,r)};Sr.useLayoutEffect=function(t,r){return Oa.current.useLayoutEffect(t,r)};Sr.useMemo=function(t,r){return Oa.current.useMemo(t,r)};Sr.useReducer=function(t,r,s){return Oa.current.useReducer(t,r,s)};Sr.useRef=function(t){return Oa.current.useRef(t)};Sr.useState=function(t){return Oa.current.useState(t)};Sr.useSyncExternalStore=function(t,r,s){return Oa.current.useSyncExternalStore(t,r,s)};Sr.useTransition=function(){return Oa.current.useTransition()};Sr.version="18.3.1";yz.exports=Sr;var u=yz.exports;const fr=j2(u),Qre=$re({__proto__:null,default:fr},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kre=u,Xre=Symbol.for("react.element"),ene=Symbol.for("react.fragment"),tne=Object.prototype.hasOwnProperty,rne=Kre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nne={key:!0,ref:!0,__self:!0,__source:!0};function Lz(t,r,s){var a,i={},o=null,l=null;s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),r.ref!==void 0&&(l=r.ref);for(a in r)tne.call(r,a)&&!nne.hasOwnProperty(a)&&(i[a]=r[a]);if(t&&t.defaultProps)for(a in r=t.defaultProps,r)i[a]===void 0&&(i[a]=r[a]);return{$$typeof:Xre,type:t,key:o,ref:l,props:i,_owner:rne.current}}N2.Fragment=ene;N2.jsx=Lz;N2.jsxs=Lz;vz.exports=N2;var n=vz.exports,TS={},Mz={exports:{}},ki={},Iz={exports:{}},Tz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function r(X,W){var F=X.length;X.push(W);e:for(;0<F;){var P=F-1>>>1,A=X[P];if(0<i(A,W))X[P]=W,X[F]=A,F=P;else break e}}function s(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var W=X[0],F=X.pop();if(F!==W){X[0]=F;e:for(var P=0,A=X.length,B=A>>>1;P<B;){var z=2*(P+1)-1,O=X[z],U=z+1,Z=X[U];if(0>i(O,F))U<A&&0>i(Z,O)?(X[P]=Z,X[U]=F,P=U):(X[P]=O,X[z]=F,P=z);else if(U<A&&0>i(Z,F))X[P]=Z,X[U]=F,P=U;else break e}}return W}function i(X,W){var F=X.sortIndex-W.sortIndex;return F!==0?F:X.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],h=1,g=null,m=3,p=!1,x=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(X){for(var W=s(f);W!==null;){if(W.callback===null)a(f);else if(W.startTime<=X)a(f),W.sortIndex=W.expirationTime,r(d,W);else break;W=s(f)}}function N(X){if(y=!1,j(X),!x)if(s(d)!==null)x=!0,te(S);else{var W=s(f);W!==null&&K(N,W.startTime-X)}}function S(X,W){x=!1,y&&(y=!1,b(L),L=-1),p=!0;var F=m;try{for(j(W),g=s(d);g!==null&&(!(g.expirationTime>W)||X&&!k());){var P=g.callback;if(typeof P=="function"){g.callback=null,m=g.priorityLevel;var A=P(g.expirationTime<=W);W=t.unstable_now(),typeof A=="function"?g.callback=A:g===s(d)&&a(d),j(W)}else a(d);g=s(d)}if(g!==null)var B=!0;else{var z=s(f);z!==null&&K(N,z.startTime-W),B=!1}return B}finally{g=null,m=F,p=!1}}var I=!1,E=null,L=-1,C=5,T=-1;function k(){return!(t.unstable_now()-T<C)}function M(){if(E!==null){var X=t.unstable_now();T=X;var W=!0;try{W=E(!0,X)}finally{W?_():(I=!1,E=null)}}else I=!1}var _;if(typeof v=="function")_=function(){v(M)};else if(typeof MessageChannel!="undefined"){var J=new MessageChannel,Y=J.port2;J.port1.onmessage=M,_=function(){Y.postMessage(null)}}else _=function(){w(M,0)};function te(X){E=X,I||(I=!0,_())}function K(X,W){L=w(function(){X(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,te(S))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return s(d)},t.unstable_next=function(X){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var F=m;m=W;try{return X()}finally{m=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,W){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var F=m;m=X;try{return W()}finally{m=F}},t.unstable_scheduleCallback=function(X,W,F){var P=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?P+F:P):F=P,X){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=F+A,X={id:h++,callback:W,priorityLevel:X,startTime:F,expirationTime:A,sortIndex:-1},F>P?(X.sortIndex=F,r(f,X),s(d)===null&&X===s(f)&&(y?(b(L),L=-1):y=!0,K(N,F-P))):(X.sortIndex=A,r(d,X),x||p||(x=!0,te(S))),X},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(X){var W=m;return function(){var F=m;m=W;try{return X.apply(this,arguments)}finally{m=F}}}})(Tz);Iz.exports=Tz;var sne=Iz.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ane=u,Ni=sne;function Dt(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Az=new Set,Zm={};function Vu(t,r){J0(t,r),J0(t+"Capture",r)}function J0(t,r){for(Zm[t]=r,t=0;t<r.length;t++)Az.add(r[t])}var Rl=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),AS=Object.prototype.hasOwnProperty,ine=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h5={},g5={};function one(t){return AS.call(g5,t)?!0:AS.call(h5,t)?!1:ine.test(t)?g5[t]=!0:(h5[t]=!0,!1)}function lne(t,r,s,a){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cne(t,r,s,a){if(r===null||typeof r=="undefined"||lne(t,r,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function $a(t,r,s,a,i,o,l){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=a,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=t,this.type=r,this.sanitizeURL=o,this.removeEmptyString=l}var $s={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$s[t]=new $a(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];$s[r]=new $a(r,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$s[t]=new $a(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$s[t]=new $a(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$s[t]=new $a(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$s[t]=new $a(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$s[t]=new $a(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$s[t]=new $a(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$s[t]=new $a(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vk=/[\-:]([a-z])/g;function Gk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Vk,Gk);$s[r]=new $a(r,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Vk,Gk);$s[r]=new $a(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Vk,Gk);$s[r]=new $a(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$s[t]=new $a(t,1,!1,t.toLowerCase(),null,!1,!1)});$s.xlinkHref=new $a("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$s[t]=new $a(t,1,!1,t.toLowerCase(),null,!0,!0)});function qk(t,r,s,a){var i=$s.hasOwnProperty(r)?$s[r]:null;(i!==null?i.type!==0:a||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(cne(r,s,i,a)&&(s=null),a||i===null?one(r)&&(s===null?t.removeAttribute(r):t.setAttribute(r,""+s)):i.mustUseProperty?t[i.propertyName]=s===null?i.type===3?!1:"":s:(r=i.attributeName,a=i.attributeNamespace,s===null?t.removeAttribute(r):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,a?t.setAttributeNS(a,r,s):t.setAttribute(r,s))))}var Zl=ane.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sv=Symbol.for("react.element"),a0=Symbol.for("react.portal"),i0=Symbol.for("react.fragment"),Yk=Symbol.for("react.strict_mode"),_S=Symbol.for("react.profiler"),_z=Symbol.for("react.provider"),Oz=Symbol.for("react.context"),Jk=Symbol.for("react.forward_ref"),OS=Symbol.for("react.suspense"),$S=Symbol.for("react.suspense_list"),Zk=Symbol.for("react.memo"),Rc=Symbol.for("react.lazy"),$z=Symbol.for("react.offscreen"),m5=Symbol.iterator;function pg(t){return t===null||typeof t!="object"?null:(t=m5&&t[m5]||t["@@iterator"],typeof t=="function"?t:null)}var Mn=Object.assign,n4;function am(t){if(n4===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);n4=r&&r[1]||""}return`
`+n4+t}var s4=!1;function a4(t,r){if(!t||s4)return"";s4=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(f){var a=f}Reflect.construct(t,[],r)}else{try{r.call()}catch(f){a=f}t.call(r.prototype)}else{try{throw Error()}catch(f){a=f}t()}}catch(f){if(f&&a&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=a.stack.split(`
`),l=i.length-1,c=o.length-1;1<=l&&0<=c&&i[l]!==o[c];)c--;for(;1<=l&&0<=c;l--,c--)if(i[l]!==o[c]){if(l!==1||c!==1)do if(l--,c--,0>c||i[l]!==o[c]){var d=`
`+i[l].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=l&&0<=c);break}}}finally{s4=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?am(t):""}function dne(t){switch(t.tag){case 5:return am(t.type);case 16:return am("Lazy");case 13:return am("Suspense");case 19:return am("SuspenseList");case 0:case 2:case 15:return t=a4(t.type,!1),t;case 11:return t=a4(t.type.render,!1),t;case 1:return t=a4(t.type,!0),t;default:return""}}function PS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case i0:return"Fragment";case a0:return"Portal";case _S:return"Profiler";case Yk:return"StrictMode";case OS:return"Suspense";case $S:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Oz:return(t.displayName||"Context")+".Consumer";case _z:return(t._context.displayName||"Context")+".Provider";case Jk:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zk:return r=t.displayName||null,r!==null?r:PS(t.type)||"Memo";case Rc:r=t._payload,t=t._init;try{return PS(t(r))}catch(s){}}return null}function une(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return PS(r);case 8:return r===Yk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function md(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pz(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function fne(t){var r=Pz(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),a=""+t[r];if(!t.hasOwnProperty(r)&&typeof s!="undefined"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,o=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return i.call(this)},set:function(l){a=""+l,o.call(this,l)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function av(t){t._valueTracker||(t._valueTracker=fne(t))}function Dz(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),a="";return t&&(a=Pz(t)?t.checked?"true":"false":t.value),t=a,t!==s?(r.setValue(t),!0):!1}function Sy(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch(r){return t.body}}function DS(t,r){var s=r.checked;return Mn({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s!=null?s:t._wrapperState.initialChecked})}function p5(t,r){var s=r.defaultValue==null?"":r.defaultValue,a=r.checked!=null?r.checked:r.defaultChecked;s=md(r.value!=null?r.value:s),t._wrapperState={initialChecked:a,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Rz(t,r){r=r.checked,r!=null&&qk(t,"checked",r,!1)}function RS(t,r){Rz(t,r);var s=md(r.value),a=r.type;if(s!=null)a==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?FS(t,r.type,s):r.hasOwnProperty("defaultValue")&&FS(t,r.type,md(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function x5(t,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var a=r.type;if(!(a!=="submit"&&a!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,s||r===t.value||(t.value=r),t.defaultValue=r}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function FS(t,r,s){(r!=="number"||Sy(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var im=Array.isArray;function k0(t,r,s,a){if(t=t.options,r){r={};for(var i=0;i<s.length;i++)r["$"+s[i]]=!0;for(s=0;s<t.length;s++)i=r.hasOwnProperty("$"+t[s].value),t[s].selected!==i&&(t[s].selected=i),i&&a&&(t[s].defaultSelected=!0)}else{for(s=""+md(s),r=null,i=0;i<t.length;i++){if(t[i].value===s){t[i].selected=!0,a&&(t[i].defaultSelected=!0);return}r!==null||t[i].disabled||(r=t[i])}r!==null&&(r.selected=!0)}}function BS(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(Dt(91));return Mn({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function v5(t,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(Dt(92));if(im(s)){if(1<s.length)throw Error(Dt(93));s=s[0]}r=s}r==null&&(r=""),s=r}t._wrapperState={initialValue:md(s)}}function Fz(t,r){var s=md(r.value),a=md(r.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),r.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),a!=null&&(t.defaultValue=""+a)}function y5(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Bz(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zS(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Bz(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var iv,zz=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(r,s,a,i){MSApp.execUnsafeLocalFunction(function(){return t(r,s,a,i)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(iv=iv||document.createElement("div"),iv.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=iv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Qm(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var bm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hne=["Webkit","ms","Moz","O"];Object.keys(bm).forEach(function(t){hne.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),bm[r]=bm[t]})});function Uz(t,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||bm.hasOwnProperty(t)&&bm[t]?(""+r).trim():r+"px"}function Wz(t,r){t=t.style;for(var s in r)if(r.hasOwnProperty(s)){var a=s.indexOf("--")===0,i=Uz(s,r[s],a);s==="float"&&(s="cssFloat"),a?t.setProperty(s,i):t[s]=i}}var gne=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function US(t,r){if(r){if(gne[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(Dt(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(Dt(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(Dt(61))}if(r.style!=null&&typeof r.style!="object")throw Error(Dt(62))}}function WS(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HS=null;function Qk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var VS=null,E0=null,L0=null;function b5(t){if(t=Yp(t)){if(typeof VS!="function")throw Error(Dt(280));var r=t.stateNode;r&&(r=L2(r),VS(t.stateNode,t.type,r))}}function Hz(t){E0?L0?L0.push(t):L0=[t]:E0=t}function Vz(){if(E0){var t=E0,r=L0;if(L0=E0=null,b5(t),r)for(t=0;t<r.length;t++)b5(r[t])}}function Gz(t,r){return t(r)}function qz(){}var i4=!1;function Yz(t,r,s){if(i4)return t(r,s);i4=!0;try{return Gz(t,r,s)}finally{i4=!1,(E0!==null||L0!==null)&&(qz(),Vz())}}function Km(t,r){var s=t.stateNode;if(s===null)return null;var a=L2(s);if(a===null)return null;s=a[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(Dt(231,r,typeof s));return s}var GS=!1;if(Rl)try{var xg={};Object.defineProperty(xg,"passive",{get:function(){GS=!0}}),window.addEventListener("test",xg,xg),window.removeEventListener("test",xg,xg)}catch(t){GS=!1}function mne(t,r,s,a,i,o,l,c,d){var f=Array.prototype.slice.call(arguments,3);try{r.apply(s,f)}catch(h){this.onError(h)}}var wm=!1,Cy=null,ky=!1,qS=null,pne={onError:function(t){wm=!0,Cy=t}};function xne(t,r,s,a,i,o,l,c,d){wm=!1,Cy=null,mne.apply(pne,arguments)}function vne(t,r,s,a,i,o,l,c,d){if(xne.apply(this,arguments),wm){if(wm){var f=Cy;wm=!1,Cy=null}else throw Error(Dt(198));ky||(ky=!0,qS=f)}}function Gu(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function Jz(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function w5(t){if(Gu(t)!==t)throw Error(Dt(188))}function yne(t){var r=t.alternate;if(!r){if(r=Gu(t),r===null)throw Error(Dt(188));return r!==t?null:t}for(var s=t,a=r;;){var i=s.return;if(i===null)break;var o=i.alternate;if(o===null){if(a=i.return,a!==null){s=a;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===s)return w5(i),t;if(o===a)return w5(i),r;o=o.sibling}throw Error(Dt(188))}if(s.return!==a.return)s=i,a=o;else{for(var l=!1,c=i.child;c;){if(c===s){l=!0,s=i,a=o;break}if(c===a){l=!0,a=i,s=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===s){l=!0,s=o,a=i;break}if(c===a){l=!0,a=o,s=i;break}c=c.sibling}if(!l)throw Error(Dt(189))}}if(s.alternate!==a)throw Error(Dt(190))}if(s.tag!==3)throw Error(Dt(188));return s.stateNode.current===s?t:r}function Zz(t){return t=yne(t),t!==null?Qz(t):null}function Qz(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Qz(t);if(r!==null)return r;t=t.sibling}return null}var Kz=Ni.unstable_scheduleCallback,j5=Ni.unstable_cancelCallback,bne=Ni.unstable_shouldYield,wne=Ni.unstable_requestPaint,Rn=Ni.unstable_now,jne=Ni.unstable_getCurrentPriorityLevel,Kk=Ni.unstable_ImmediatePriority,Xz=Ni.unstable_UserBlockingPriority,Ey=Ni.unstable_NormalPriority,Nne=Ni.unstable_LowPriority,eU=Ni.unstable_IdlePriority,S2=null,ol=null;function Sne(t){if(ol&&typeof ol.onCommitFiberRoot=="function")try{ol.onCommitFiberRoot(S2,t,void 0,(t.current.flags&128)===128)}catch(r){}}var Oo=Math.clz32?Math.clz32:Ene,Cne=Math.log,kne=Math.LN2;function Ene(t){return t>>>=0,t===0?32:31-(Cne(t)/kne|0)|0}var ov=64,lv=4194304;function om(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ly(t,r){var s=t.pendingLanes;if(s===0)return 0;var a=0,i=t.suspendedLanes,o=t.pingedLanes,l=s&268435455;if(l!==0){var c=l&~i;c!==0?a=om(c):(o&=l,o!==0&&(a=om(o)))}else l=s&~i,l!==0?a=om(l):o!==0&&(a=om(o));if(a===0)return 0;if(r!==0&&r!==a&&!(r&i)&&(i=a&-a,o=r&-r,i>=o||i===16&&(o&4194240)!==0))return r;if(a&4&&(a|=s&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=a;0<r;)s=31-Oo(r),i=1<<s,a|=t[s],r&=~i;return a}function Lne(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mne(t,r){for(var s=t.suspendedLanes,a=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Oo(o),c=1<<l,d=i[l];d===-1?(!(c&s)||c&a)&&(i[l]=Lne(c,r)):d<=r&&(t.expiredLanes|=c),o&=~c}}function YS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tU(){var t=ov;return ov<<=1,!(ov&4194240)&&(ov=64),t}function o4(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Gp(t,r,s){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Oo(r),t[r]=s}function Ine(t,r){var s=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<s;){var i=31-Oo(s),o=1<<i;r[i]=0,a[i]=-1,t[i]=-1,s&=~o}}function Xk(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var a=31-Oo(s),i=1<<a;i&r|t[a]&r&&(t[a]|=r),s&=~i}}var Kr=0;function rU(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nU,eE,sU,aU,iU,JS=!1,cv=[],td=null,rd=null,nd=null,Xm=new Map,ep=new Map,Uc=[],Tne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N5(t,r){switch(t){case"focusin":case"focusout":td=null;break;case"dragenter":case"dragleave":rd=null;break;case"mouseover":case"mouseout":nd=null;break;case"pointerover":case"pointerout":Xm.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ep.delete(r.pointerId)}}function vg(t,r,s,a,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:r,domEventName:s,eventSystemFlags:a,nativeEvent:o,targetContainers:[i]},r!==null&&(r=Yp(r),r!==null&&eE(r)),t):(t.eventSystemFlags|=a,r=t.targetContainers,i!==null&&r.indexOf(i)===-1&&r.push(i),t)}function Ane(t,r,s,a,i){switch(r){case"focusin":return td=vg(td,t,r,s,a,i),!0;case"dragenter":return rd=vg(rd,t,r,s,a,i),!0;case"mouseover":return nd=vg(nd,t,r,s,a,i),!0;case"pointerover":var o=i.pointerId;return Xm.set(o,vg(Xm.get(o)||null,t,r,s,a,i)),!0;case"gotpointercapture":return o=i.pointerId,ep.set(o,vg(ep.get(o)||null,t,r,s,a,i)),!0}return!1}function oU(t){var r=yu(t.target);if(r!==null){var s=Gu(r);if(s!==null){if(r=s.tag,r===13){if(r=Jz(s),r!==null){t.blockedOn=r,iU(t.priority,function(){sU(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function R1(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=ZS(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var a=new s.constructor(s.type,s);HS=a,s.target.dispatchEvent(a),HS=null}else return r=Yp(s),r!==null&&eE(r),t.blockedOn=s,!1;r.shift()}return!0}function S5(t,r,s){R1(t)&&s.delete(r)}function _ne(){JS=!1,td!==null&&R1(td)&&(td=null),rd!==null&&R1(rd)&&(rd=null),nd!==null&&R1(nd)&&(nd=null),Xm.forEach(S5),ep.forEach(S5)}function yg(t,r){t.blockedOn===r&&(t.blockedOn=null,JS||(JS=!0,Ni.unstable_scheduleCallback(Ni.unstable_NormalPriority,_ne)))}function tp(t){function r(i){return yg(i,t)}if(0<cv.length){yg(cv[0],t);for(var s=1;s<cv.length;s++){var a=cv[s];a.blockedOn===t&&(a.blockedOn=null)}}for(td!==null&&yg(td,t),rd!==null&&yg(rd,t),nd!==null&&yg(nd,t),Xm.forEach(r),ep.forEach(r),s=0;s<Uc.length;s++)a=Uc[s],a.blockedOn===t&&(a.blockedOn=null);for(;0<Uc.length&&(s=Uc[0],s.blockedOn===null);)oU(s),s.blockedOn===null&&Uc.shift()}var M0=Zl.ReactCurrentBatchConfig,My=!0;function One(t,r,s,a){var i=Kr,o=M0.transition;M0.transition=null;try{Kr=1,tE(t,r,s,a)}finally{Kr=i,M0.transition=o}}function $ne(t,r,s,a){var i=Kr,o=M0.transition;M0.transition=null;try{Kr=4,tE(t,r,s,a)}finally{Kr=i,M0.transition=o}}function tE(t,r,s,a){if(My){var i=ZS(t,r,s,a);if(i===null)x4(t,r,a,Iy,s),N5(t,a);else if(Ane(i,t,r,s,a))a.stopPropagation();else if(N5(t,a),r&4&&-1<Tne.indexOf(t)){for(;i!==null;){var o=Yp(i);if(o!==null&&nU(o),o=ZS(t,r,s,a),o===null&&x4(t,r,a,Iy,s),o===i)break;i=o}i!==null&&a.stopPropagation()}else x4(t,r,a,null,s)}}var Iy=null;function ZS(t,r,s,a){if(Iy=null,t=Qk(a),t=yu(t),t!==null)if(r=Gu(t),r===null)t=null;else if(s=r.tag,s===13){if(t=Jz(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Iy=t,null}function lU(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jne()){case Kk:return 1;case Xz:return 4;case Ey:case Nne:return 16;case eU:return 536870912;default:return 16}default:return 16}}var Vc=null,rE=null,F1=null;function cU(){if(F1)return F1;var t,r=rE,s=r.length,a,i="value"in Vc?Vc.value:Vc.textContent,o=i.length;for(t=0;t<s&&r[t]===i[t];t++);var l=s-t;for(a=1;a<=l&&r[s-a]===i[o-a];a++);return F1=i.slice(t,1<a?1-a:void 0)}function B1(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function dv(){return!0}function C5(){return!1}function Ei(t){function r(s,a,i,o,l){this._reactName=s,this._targetInst=i,this.type=a,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(s=t[c],this[c]=s?s(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?dv:C5,this.isPropagationStopped=C5,this}return Mn(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=dv)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=dv)},persist:function(){},isPersistent:dv}),r}var jh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nE=Ei(jh),qp=Mn({},jh,{view:0,detail:0}),Pne=Ei(qp),l4,c4,bg,C2=Mn({},qp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bg&&(bg&&t.type==="mousemove"?(l4=t.screenX-bg.screenX,c4=t.screenY-bg.screenY):c4=l4=0,bg=t),l4)},movementY:function(t){return"movementY"in t?t.movementY:c4}}),k5=Ei(C2),Dne=Mn({},C2,{dataTransfer:0}),Rne=Ei(Dne),Fne=Mn({},qp,{relatedTarget:0}),d4=Ei(Fne),Bne=Mn({},jh,{animationName:0,elapsedTime:0,pseudoElement:0}),zne=Ei(Bne),Une=Mn({},jh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wne=Ei(Une),Hne=Mn({},jh,{data:0}),E5=Ei(Hne),Vne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yne(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=qne[t])?!!r[t]:!1}function sE(){return Yne}var Jne=Mn({},qp,{key:function(t){if(t.key){var r=Vne[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=B1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gne[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sE,charCode:function(t){return t.type==="keypress"?B1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?B1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zne=Ei(Jne),Qne=Mn({},C2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L5=Ei(Qne),Kne=Mn({},qp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sE}),Xne=Ei(Kne),ese=Mn({},jh,{propertyName:0,elapsedTime:0,pseudoElement:0}),tse=Ei(ese),rse=Mn({},C2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nse=Ei(rse),sse=[9,13,27,32],aE=Rl&&"CompositionEvent"in window,jm=null;Rl&&"documentMode"in document&&(jm=document.documentMode);var ase=Rl&&"TextEvent"in window&&!jm,dU=Rl&&(!aE||jm&&8<jm&&11>=jm),M5=" ",I5=!1;function uU(t,r){switch(t){case"keyup":return sse.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fU(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var o0=!1;function ise(t,r){switch(t){case"compositionend":return fU(r);case"keypress":return r.which!==32?null:(I5=!0,M5);case"textInput":return t=r.data,t===M5&&I5?null:t;default:return null}}function ose(t,r){if(o0)return t==="compositionend"||!aE&&uU(t,r)?(t=cU(),F1=rE=Vc=null,o0=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return dU&&r.locale!=="ko"?null:r.data;default:return null}}var lse={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T5(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!lse[t.type]:r==="textarea"}function hU(t,r,s,a){Hz(a),r=Ty(r,"onChange"),0<r.length&&(s=new nE("onChange","change",null,s,a),t.push({event:s,listeners:r}))}var Nm=null,rp=null;function cse(t){SU(t,0)}function k2(t){var r=d0(t);if(Dz(r))return t}function dse(t,r){if(t==="change")return r}var gU=!1;if(Rl){var u4;if(Rl){var f4="oninput"in document;if(!f4){var A5=document.createElement("div");A5.setAttribute("oninput","return;"),f4=typeof A5.oninput=="function"}u4=f4}else u4=!1;gU=u4&&(!document.documentMode||9<document.documentMode)}function _5(){Nm&&(Nm.detachEvent("onpropertychange",mU),rp=Nm=null)}function mU(t){if(t.propertyName==="value"&&k2(rp)){var r=[];hU(r,rp,t,Qk(t)),Yz(cse,r)}}function use(t,r,s){t==="focusin"?(_5(),Nm=r,rp=s,Nm.attachEvent("onpropertychange",mU)):t==="focusout"&&_5()}function fse(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return k2(rp)}function hse(t,r){if(t==="click")return k2(r)}function gse(t,r){if(t==="input"||t==="change")return k2(r)}function mse(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Ro=typeof Object.is=="function"?Object.is:mse;function np(t,r){if(Ro(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),a=Object.keys(r);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var i=s[a];if(!AS.call(r,i)||!Ro(t[i],r[i]))return!1}return!0}function O5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $5(t,r){var s=O5(t);t=0;for(var a;s;){if(s.nodeType===3){if(a=t+s.textContent.length,t<=r&&a>=r)return{node:s,offset:r-t};t=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=O5(s)}}function pU(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?pU(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function xU(){for(var t=window,r=Sy();r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch(a){s=!1}if(s)t=r.contentWindow;else break;r=Sy(t.document)}return r}function iE(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function pse(t){var r=xU(),s=t.focusedElem,a=t.selectionRange;if(r!==s&&s&&s.ownerDocument&&pU(s.ownerDocument.documentElement,s)){if(a!==null&&iE(s)){if(r=a.start,t=a.end,t===void 0&&(t=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(t,s.value.length);else if(t=(r=s.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var i=s.textContent.length,o=Math.min(a.start,i);a=a.end===void 0?o:Math.min(a.end,i),!t.extend&&o>a&&(i=a,a=o,o=i),i=$5(s,o);var l=$5(s,a);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(r=r.createRange(),r.setStart(i.node,i.offset),t.removeAllRanges(),o>a?(t.addRange(r),t.extend(l.node,l.offset)):(r.setEnd(l.node,l.offset),t.addRange(r)))}}for(r=[],t=s;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)t=r[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xse=Rl&&"documentMode"in document&&11>=document.documentMode,l0=null,QS=null,Sm=null,KS=!1;function P5(t,r,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;KS||l0==null||l0!==Sy(a)||(a=l0,"selectionStart"in a&&iE(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Sm&&np(Sm,a)||(Sm=a,a=Ty(QS,"onSelect"),0<a.length&&(r=new nE("onSelect","select",null,r,s),t.push({event:r,listeners:a}),r.target=l0)))}function uv(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var c0={animationend:uv("Animation","AnimationEnd"),animationiteration:uv("Animation","AnimationIteration"),animationstart:uv("Animation","AnimationStart"),transitionend:uv("Transition","TransitionEnd")},h4={},vU={};Rl&&(vU=document.createElement("div").style,"AnimationEvent"in window||(delete c0.animationend.animation,delete c0.animationiteration.animation,delete c0.animationstart.animation),"TransitionEvent"in window||delete c0.transitionend.transition);function E2(t){if(h4[t])return h4[t];if(!c0[t])return t;var r=c0[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in vU)return h4[t]=r[s];return t}var yU=E2("animationend"),bU=E2("animationiteration"),wU=E2("animationstart"),jU=E2("transitionend"),NU=new Map,D5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sd(t,r){NU.set(t,r),Vu(r,[t])}for(var g4=0;g4<D5.length;g4++){var m4=D5[g4],vse=m4.toLowerCase(),yse=m4[0].toUpperCase()+m4.slice(1);Sd(vse,"on"+yse)}Sd(yU,"onAnimationEnd");Sd(bU,"onAnimationIteration");Sd(wU,"onAnimationStart");Sd("dblclick","onDoubleClick");Sd("focusin","onFocus");Sd("focusout","onBlur");Sd(jU,"onTransitionEnd");J0("onMouseEnter",["mouseout","mouseover"]);J0("onMouseLeave",["mouseout","mouseover"]);J0("onPointerEnter",["pointerout","pointerover"]);J0("onPointerLeave",["pointerout","pointerover"]);Vu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bse=new Set("cancel close invalid load scroll toggle".split(" ").concat(lm));function R5(t,r,s){var a=t.type||"unknown-event";t.currentTarget=s,vne(a,r,void 0,t),t.currentTarget=null}function SU(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var a=t[s],i=a.event;a=a.listeners;e:{var o=void 0;if(r)for(var l=a.length-1;0<=l;l--){var c=a[l],d=c.instance,f=c.currentTarget;if(c=c.listener,d!==o&&i.isPropagationStopped())break e;R5(i,c,f),o=d}else for(l=0;l<a.length;l++){if(c=a[l],d=c.instance,f=c.currentTarget,c=c.listener,d!==o&&i.isPropagationStopped())break e;R5(i,c,f),o=d}}}if(ky)throw t=qS,ky=!1,qS=null,t}function dn(t,r){var s=r[nC];s===void 0&&(s=r[nC]=new Set);var a=t+"__bubble";s.has(a)||(CU(r,t,2,!1),s.add(a))}function p4(t,r,s){var a=0;r&&(a|=4),CU(s,t,a,r)}var fv="_reactListening"+Math.random().toString(36).slice(2);function sp(t){if(!t[fv]){t[fv]=!0,Az.forEach(function(s){s!=="selectionchange"&&(bse.has(s)||p4(s,!1,t),p4(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[fv]||(r[fv]=!0,p4("selectionchange",!1,r))}}function CU(t,r,s,a){switch(lU(r)){case 1:var i=One;break;case 4:i=$ne;break;default:i=tE}s=i.bind(null,r,s,t),i=void 0,!GS||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(i=!0),a?i!==void 0?t.addEventListener(r,s,{capture:!0,passive:i}):t.addEventListener(r,s,!0):i!==void 0?t.addEventListener(r,s,{passive:i}):t.addEventListener(r,s,!1)}function x4(t,r,s,a,i){var o=a;if(!(r&1)&&!(r&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var c=a.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(l===4)for(l=a.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;l=l.return}for(;c!==null;){if(l=yu(c),l===null)return;if(d=l.tag,d===5||d===6){a=o=l;continue e}c=c.parentNode}}a=a.return}Yz(function(){var f=o,h=Qk(s),g=[];e:{var m=NU.get(t);if(m!==void 0){var p=nE,x=t;switch(t){case"keypress":if(B1(s)===0)break e;case"keydown":case"keyup":p=Zne;break;case"focusin":x="focus",p=d4;break;case"focusout":x="blur",p=d4;break;case"beforeblur":case"afterblur":p=d4;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=k5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Rne;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Xne;break;case yU:case bU:case wU:p=zne;break;case jU:p=tse;break;case"scroll":p=Pne;break;case"wheel":p=nse;break;case"copy":case"cut":case"paste":p=Wne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=L5}var y=(r&4)!==0,w=!y&&t==="scroll",b=y?m!==null?m+"Capture":null:m;y=[];for(var v=f,j;v!==null;){j=v;var N=j.stateNode;if(j.tag===5&&N!==null&&(j=N,b!==null&&(N=Km(v,b),N!=null&&y.push(ap(v,N,j)))),w)break;v=v.return}0<y.length&&(m=new p(m,x,null,s,h),g.push({event:m,listeners:y}))}}if(!(r&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&s!==HS&&(x=s.relatedTarget||s.fromElement)&&(yu(x)||x[Fl]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(x=s.relatedTarget||s.toElement,p=f,x=x?yu(x):null,x!==null&&(w=Gu(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=f),p!==x)){if(y=k5,N="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=L5,N="onPointerLeave",b="onPointerEnter",v="pointer"),w=p==null?m:d0(p),j=x==null?m:d0(x),m=new y(N,v+"leave",p,s,h),m.target=w,m.relatedTarget=j,N=null,yu(h)===f&&(y=new y(b,v+"enter",x,s,h),y.target=j,y.relatedTarget=w,N=y),w=N,p&&x)t:{for(y=p,b=x,v=0,j=y;j;j=Lf(j))v++;for(j=0,N=b;N;N=Lf(N))j++;for(;0<v-j;)y=Lf(y),v--;for(;0<j-v;)b=Lf(b),j--;for(;v--;){if(y===b||b!==null&&y===b.alternate)break t;y=Lf(y),b=Lf(b)}y=null}else y=null;p!==null&&F5(g,m,p,y,!1),x!==null&&w!==null&&F5(g,w,x,y,!0)}}e:{if(m=f?d0(f):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var S=dse;else if(T5(m))if(gU)S=gse;else{S=fse;var I=use}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=hse);if(S&&(S=S(t,f))){hU(g,S,s,h);break e}I&&I(t,m,f),t==="focusout"&&(I=m._wrapperState)&&I.controlled&&m.type==="number"&&FS(m,"number",m.value)}switch(I=f?d0(f):window,t){case"focusin":(T5(I)||I.contentEditable==="true")&&(l0=I,QS=f,Sm=null);break;case"focusout":Sm=QS=l0=null;break;case"mousedown":KS=!0;break;case"contextmenu":case"mouseup":case"dragend":KS=!1,P5(g,s,h);break;case"selectionchange":if(xse)break;case"keydown":case"keyup":P5(g,s,h)}var E;if(aE)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else o0?uU(t,s)&&(L="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(L="onCompositionStart");L&&(dU&&s.locale!=="ko"&&(o0||L!=="onCompositionStart"?L==="onCompositionEnd"&&o0&&(E=cU()):(Vc=h,rE="value"in Vc?Vc.value:Vc.textContent,o0=!0)),I=Ty(f,L),0<I.length&&(L=new E5(L,t,null,s,h),g.push({event:L,listeners:I}),E?L.data=E:(E=fU(s),E!==null&&(L.data=E)))),(E=ase?ise(t,s):ose(t,s))&&(f=Ty(f,"onBeforeInput"),0<f.length&&(h=new E5("onBeforeInput","beforeinput",null,s,h),g.push({event:h,listeners:f}),h.data=E))}SU(g,r)})}function ap(t,r,s){return{instance:t,listener:r,currentTarget:s}}function Ty(t,r){for(var s=r+"Capture",a=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Km(t,s),o!=null&&a.unshift(ap(t,o,i)),o=Km(t,r),o!=null&&a.push(ap(t,o,i))),t=t.return}return a}function Lf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function F5(t,r,s,a,i){for(var o=r._reactName,l=[];s!==null&&s!==a;){var c=s,d=c.alternate,f=c.stateNode;if(d!==null&&d===a)break;c.tag===5&&f!==null&&(c=f,i?(d=Km(s,o),d!=null&&l.unshift(ap(s,d,c))):i||(d=Km(s,o),d!=null&&l.push(ap(s,d,c)))),s=s.return}l.length!==0&&t.push({event:r,listeners:l})}var wse=/\r\n?/g,jse=/\u0000|\uFFFD/g;function B5(t){return(typeof t=="string"?t:""+t).replace(wse,`
`).replace(jse,"")}function hv(t,r,s){if(r=B5(r),B5(t)!==r&&s)throw Error(Dt(425))}function Ay(){}var XS=null,eC=null;function tC(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var rC=typeof setTimeout=="function"?setTimeout:void 0,Nse=typeof clearTimeout=="function"?clearTimeout:void 0,z5=typeof Promise=="function"?Promise:void 0,Sse=typeof queueMicrotask=="function"?queueMicrotask:typeof z5!="undefined"?function(t){return z5.resolve(null).then(t).catch(Cse)}:rC;function Cse(t){setTimeout(function(){throw t})}function v4(t,r){var s=r,a=0;do{var i=s.nextSibling;if(t.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(a===0){t.removeChild(i),tp(r);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=i}while(s);tp(r)}function sd(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function U5(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}var Nh=Math.random().toString(36).slice(2),rl="__reactFiber$"+Nh,ip="__reactProps$"+Nh,Fl="__reactContainer$"+Nh,nC="__reactEvents$"+Nh,kse="__reactListeners$"+Nh,Ese="__reactHandles$"+Nh;function yu(t){var r=t[rl];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Fl]||s[rl]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=U5(t);t!==null;){if(s=t[rl])return s;t=U5(t)}return r}t=s,s=t.parentNode}return null}function Yp(t){return t=t[rl]||t[Fl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function d0(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Dt(33))}function L2(t){return t[ip]||null}var sC=[],u0=-1;function Cd(t){return{current:t}}function fn(t){0>u0||(t.current=sC[u0],sC[u0]=null,u0--)}function ln(t,r){u0++,sC[u0]=t.current,t.current=r}var pd={},Ys=Cd(pd),Va=Cd(!1),Au=pd;function Z0(t,r){var s=t.type.contextTypes;if(!s)return pd;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===r)return a.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in s)i[o]=r[o];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ga(t){return t=t.childContextTypes,t!=null}function _y(){fn(Va),fn(Ys)}function W5(t,r,s){if(Ys.current!==pd)throw Error(Dt(168));ln(Ys,r),ln(Va,s)}function kU(t,r,s){var a=t.stateNode;if(r=r.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var i in a)if(!(i in r))throw Error(Dt(108,une(t)||"Unknown",i));return Mn({},s,a)}function Oy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pd,Au=Ys.current,ln(Ys,t),ln(Va,Va.current),!0}function H5(t,r,s){var a=t.stateNode;if(!a)throw Error(Dt(169));s?(t=kU(t,r,Au),a.__reactInternalMemoizedMergedChildContext=t,fn(Va),fn(Ys),ln(Ys,t)):fn(Va),ln(Va,s)}var Il=null,M2=!1,y4=!1;function EU(t){Il===null?Il=[t]:Il.push(t)}function Lse(t){M2=!0,EU(t)}function kd(){if(!y4&&Il!==null){y4=!0;var t=0,r=Kr;try{var s=Il;for(Kr=1;t<s.length;t++){var a=s[t];do a=a(!0);while(a!==null)}Il=null,M2=!1}catch(i){throw Il!==null&&(Il=Il.slice(t+1)),Kz(Kk,kd),i}finally{Kr=r,y4=!1}}return null}var f0=[],h0=0,$y=null,Py=0,Vi=[],Gi=0,_u=null,Tl=1,Al="";function au(t,r){f0[h0++]=Py,f0[h0++]=$y,$y=t,Py=r}function LU(t,r,s){Vi[Gi++]=Tl,Vi[Gi++]=Al,Vi[Gi++]=_u,_u=t;var a=Tl;t=Al;var i=32-Oo(a)-1;a&=~(1<<i),s+=1;var o=32-Oo(r)+i;if(30<o){var l=i-i%5;o=(a&(1<<l)-1).toString(32),a>>=l,i-=l,Tl=1<<32-Oo(r)+i|s<<i|a,Al=o+t}else Tl=1<<o|s<<i|a,Al=t}function oE(t){t.return!==null&&(au(t,1),LU(t,1,0))}function lE(t){for(;t===$y;)$y=f0[--h0],f0[h0]=null,Py=f0[--h0],f0[h0]=null;for(;t===_u;)_u=Vi[--Gi],Vi[Gi]=null,Al=Vi[--Gi],Vi[Gi]=null,Tl=Vi[--Gi],Vi[Gi]=null}var ji=null,yi=null,xn=!1,Co=null;function MU(t,r){var s=Ji(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=t,r=t.deletions,r===null?(t.deletions=[s],t.flags|=16):r.push(s)}function V5(t,r){switch(t.tag){case 5:var s=t.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,ji=t,yi=sd(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,ji=t,yi=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=_u!==null?{id:Tl,overflow:Al}:null,t.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=Ji(18,null,null,0),s.stateNode=r,s.return=t,t.child=s,ji=t,yi=null,!0):!1;default:return!1}}function aC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function iC(t){if(xn){var r=yi;if(r){var s=r;if(!V5(t,r)){if(aC(t))throw Error(Dt(418));r=sd(s.nextSibling);var a=ji;r&&V5(t,r)?MU(a,s):(t.flags=t.flags&-4097|2,xn=!1,ji=t)}}else{if(aC(t))throw Error(Dt(418));t.flags=t.flags&-4097|2,xn=!1,ji=t}}}function G5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ji=t}function gv(t){if(t!==ji)return!1;if(!xn)return G5(t),xn=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!tC(t.type,t.memoizedProps)),r&&(r=yi)){if(aC(t))throw IU(),Error(Dt(418));for(;r;)MU(t,r),r=sd(r.nextSibling)}if(G5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Dt(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(r===0){yi=sd(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}t=t.nextSibling}yi=null}}else yi=ji?sd(t.stateNode.nextSibling):null;return!0}function IU(){for(var t=yi;t;)t=sd(t.nextSibling)}function Q0(){yi=ji=null,xn=!1}function cE(t){Co===null?Co=[t]:Co.push(t)}var Mse=Zl.ReactCurrentBatchConfig;function wg(t,r,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Dt(309));var a=s.stateNode}if(!a)throw Error(Dt(147,t));var i=a,o=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===o?r.ref:(r=function(l){var c=i.refs;l===null?delete c[o]:c[o]=l},r._stringRef=o,r)}if(typeof t!="string")throw Error(Dt(284));if(!s._owner)throw Error(Dt(290,t))}return t}function mv(t,r){throw t=Object.prototype.toString.call(r),Error(Dt(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function q5(t){var r=t._init;return r(t._payload)}function TU(t){function r(b,v){if(t){var j=b.deletions;j===null?(b.deletions=[v],b.flags|=16):j.push(v)}}function s(b,v){if(!t)return null;for(;v!==null;)r(b,v),v=v.sibling;return null}function a(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function i(b,v){return b=ld(b,v),b.index=0,b.sibling=null,b}function o(b,v,j){return b.index=j,t?(j=b.alternate,j!==null?(j=j.index,j<v?(b.flags|=2,v):j):(b.flags|=2,v)):(b.flags|=1048576,v)}function l(b){return t&&b.alternate===null&&(b.flags|=2),b}function c(b,v,j,N){return v===null||v.tag!==6?(v=k4(j,b.mode,N),v.return=b,v):(v=i(v,j),v.return=b,v)}function d(b,v,j,N){var S=j.type;return S===i0?h(b,v,j.props.children,N,j.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rc&&q5(S)===v.type)?(N=i(v,j.props),N.ref=wg(b,v,j),N.return=b,N):(N=q1(j.type,j.key,j.props,null,b.mode,N),N.ref=wg(b,v,j),N.return=b,N)}function f(b,v,j,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==j.containerInfo||v.stateNode.implementation!==j.implementation?(v=E4(j,b.mode,N),v.return=b,v):(v=i(v,j.children||[]),v.return=b,v)}function h(b,v,j,N,S){return v===null||v.tag!==7?(v=Cu(j,b.mode,N,S),v.return=b,v):(v=i(v,j),v.return=b,v)}function g(b,v,j){if(typeof v=="string"&&v!==""||typeof v=="number")return v=k4(""+v,b.mode,j),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case sv:return j=q1(v.type,v.key,v.props,null,b.mode,j),j.ref=wg(b,null,v),j.return=b,j;case a0:return v=E4(v,b.mode,j),v.return=b,v;case Rc:var N=v._init;return g(b,N(v._payload),j)}if(im(v)||pg(v))return v=Cu(v,b.mode,j,null),v.return=b,v;mv(b,v)}return null}function m(b,v,j,N){var S=v!==null?v.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return S!==null?null:c(b,v,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case sv:return j.key===S?d(b,v,j,N):null;case a0:return j.key===S?f(b,v,j,N):null;case Rc:return S=j._init,m(b,v,S(j._payload),N)}if(im(j)||pg(j))return S!==null?null:h(b,v,j,N,null);mv(b,j)}return null}function p(b,v,j,N,S){if(typeof N=="string"&&N!==""||typeof N=="number")return b=b.get(j)||null,c(v,b,""+N,S);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case sv:return b=b.get(N.key===null?j:N.key)||null,d(v,b,N,S);case a0:return b=b.get(N.key===null?j:N.key)||null,f(v,b,N,S);case Rc:var I=N._init;return p(b,v,j,I(N._payload),S)}if(im(N)||pg(N))return b=b.get(j)||null,h(v,b,N,S,null);mv(v,N)}return null}function x(b,v,j,N){for(var S=null,I=null,E=v,L=v=0,C=null;E!==null&&L<j.length;L++){E.index>L?(C=E,E=null):C=E.sibling;var T=m(b,E,j[L],N);if(T===null){E===null&&(E=C);break}t&&E&&T.alternate===null&&r(b,E),v=o(T,v,L),I===null?S=T:I.sibling=T,I=T,E=C}if(L===j.length)return s(b,E),xn&&au(b,L),S;if(E===null){for(;L<j.length;L++)E=g(b,j[L],N),E!==null&&(v=o(E,v,L),I===null?S=E:I.sibling=E,I=E);return xn&&au(b,L),S}for(E=a(b,E);L<j.length;L++)C=p(E,b,L,j[L],N),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?L:C.key),v=o(C,v,L),I===null?S=C:I.sibling=C,I=C);return t&&E.forEach(function(k){return r(b,k)}),xn&&au(b,L),S}function y(b,v,j,N){var S=pg(j);if(typeof S!="function")throw Error(Dt(150));if(j=S.call(j),j==null)throw Error(Dt(151));for(var I=S=null,E=v,L=v=0,C=null,T=j.next();E!==null&&!T.done;L++,T=j.next()){E.index>L?(C=E,E=null):C=E.sibling;var k=m(b,E,T.value,N);if(k===null){E===null&&(E=C);break}t&&E&&k.alternate===null&&r(b,E),v=o(k,v,L),I===null?S=k:I.sibling=k,I=k,E=C}if(T.done)return s(b,E),xn&&au(b,L),S;if(E===null){for(;!T.done;L++,T=j.next())T=g(b,T.value,N),T!==null&&(v=o(T,v,L),I===null?S=T:I.sibling=T,I=T);return xn&&au(b,L),S}for(E=a(b,E);!T.done;L++,T=j.next())T=p(E,b,L,T.value,N),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?L:T.key),v=o(T,v,L),I===null?S=T:I.sibling=T,I=T);return t&&E.forEach(function(M){return r(b,M)}),xn&&au(b,L),S}function w(b,v,j,N){if(typeof j=="object"&&j!==null&&j.type===i0&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case sv:e:{for(var S=j.key,I=v;I!==null;){if(I.key===S){if(S=j.type,S===i0){if(I.tag===7){s(b,I.sibling),v=i(I,j.props.children),v.return=b,b=v;break e}}else if(I.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rc&&q5(S)===I.type){s(b,I.sibling),v=i(I,j.props),v.ref=wg(b,I,j),v.return=b,b=v;break e}s(b,I);break}else r(b,I);I=I.sibling}j.type===i0?(v=Cu(j.props.children,b.mode,N,j.key),v.return=b,b=v):(N=q1(j.type,j.key,j.props,null,b.mode,N),N.ref=wg(b,v,j),N.return=b,b=N)}return l(b);case a0:e:{for(I=j.key;v!==null;){if(v.key===I)if(v.tag===4&&v.stateNode.containerInfo===j.containerInfo&&v.stateNode.implementation===j.implementation){s(b,v.sibling),v=i(v,j.children||[]),v.return=b,b=v;break e}else{s(b,v);break}else r(b,v);v=v.sibling}v=E4(j,b.mode,N),v.return=b,b=v}return l(b);case Rc:return I=j._init,w(b,v,I(j._payload),N)}if(im(j))return x(b,v,j,N);if(pg(j))return y(b,v,j,N);mv(b,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,v!==null&&v.tag===6?(s(b,v.sibling),v=i(v,j),v.return=b,b=v):(s(b,v),v=k4(j,b.mode,N),v.return=b,b=v),l(b)):s(b,v)}return w}var K0=TU(!0),AU=TU(!1),Dy=Cd(null),Ry=null,g0=null,dE=null;function uE(){dE=g0=Ry=null}function fE(t){var r=Dy.current;fn(Dy),t._currentValue=r}function oC(t,r,s){for(;t!==null;){var a=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,a!==null&&(a.childLanes|=r)):a!==null&&(a.childLanes&r)!==r&&(a.childLanes|=r),t===s)break;t=t.return}}function I0(t,r){Ry=t,dE=g0=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Wa=!0),t.firstContext=null)}function to(t){var r=t._currentValue;if(dE!==t)if(t={context:t,memoizedValue:r,next:null},g0===null){if(Ry===null)throw Error(Dt(308));g0=t,Ry.dependencies={lanes:0,firstContext:t}}else g0=g0.next=t;return r}var bu=null;function hE(t){bu===null?bu=[t]:bu.push(t)}function _U(t,r,s,a){var i=r.interleaved;return i===null?(s.next=s,hE(r)):(s.next=i.next,i.next=s),r.interleaved=s,Bl(t,a)}function Bl(t,r){t.lanes|=r;var s=t.alternate;for(s!==null&&(s.lanes|=r),s=t,t=t.return;t!==null;)t.childLanes|=r,s=t.alternate,s!==null&&(s.childLanes|=r),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Fc=!1;function gE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OU(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ol(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function ad(t,r,s){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,Dr&2){var i=a.pending;return i===null?r.next=r:(r.next=i.next,i.next=r),a.pending=r,Bl(t,s)}return i=a.interleaved,i===null?(r.next=r,hE(a)):(r.next=i.next,i.next=r),a.interleaved=r,Bl(t,s)}function z1(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var a=r.lanes;a&=t.pendingLanes,s|=a,r.lanes=s,Xk(t,s)}}function Y5(t,r){var s=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var i=null,o=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};o===null?i=o=l:o=o.next=l,s=s.next}while(s!==null);o===null?i=o=r:o=o.next=r}else i=o=r;s={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:a.shared,effects:a.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}function Fy(t,r,s,a){var i=t.updateQueue;Fc=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var d=c,f=d.next;d.next=null,l===null?o=f:l.next=f,l=d;var h=t.alternate;h!==null&&(h=h.updateQueue,c=h.lastBaseUpdate,c!==l&&(c===null?h.firstBaseUpdate=f:c.next=f,h.lastBaseUpdate=d))}if(o!==null){var g=i.baseState;l=0,h=f=d=null,c=o;do{var m=c.lane,p=c.eventTime;if((a&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var x=t,y=c;switch(m=r,p=s,y.tag){case 1:if(x=y.payload,typeof x=="function"){g=x.call(p,g,m);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,m=typeof x=="function"?x.call(p,g,m):x,m==null)break e;g=Mn({},g,m);break e;case 2:Fc=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[c]:m.push(c))}else p={eventTime:p,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},h===null?(f=h=p,d=g):h=h.next=p,l|=m;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;m=c,c=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(d=g),i.baseState=d,i.firstBaseUpdate=f,i.lastBaseUpdate=h,r=i.shared.interleaved,r!==null){i=r;do l|=i.lane,i=i.next;while(i!==r)}else o===null&&(i.shared.lanes=0);$u|=l,t.lanes=l,t.memoizedState=g}}function J5(t,r,s){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var a=t[r],i=a.callback;if(i!==null){if(a.callback=null,a=s,typeof i!="function")throw Error(Dt(191,i));i.call(a)}}}var Jp={},ll=Cd(Jp),op=Cd(Jp),lp=Cd(Jp);function wu(t){if(t===Jp)throw Error(Dt(174));return t}function mE(t,r){switch(ln(lp,r),ln(op,t),ln(ll,Jp),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:zS(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=zS(r,t)}fn(ll),ln(ll,r)}function X0(){fn(ll),fn(op),fn(lp)}function $U(t){wu(lp.current);var r=wu(ll.current),s=zS(r,t.type);r!==s&&(ln(op,t),ln(ll,s))}function pE(t){op.current===t&&(fn(ll),fn(op))}var Nn=Cd(0);function By(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var b4=[];function xE(){for(var t=0;t<b4.length;t++)b4[t]._workInProgressVersionPrimary=null;b4.length=0}var U1=Zl.ReactCurrentDispatcher,w4=Zl.ReactCurrentBatchConfig,Ou=0,Cn=null,ns=null,fs=null,zy=!1,Cm=!1,cp=0,Ise=0;function Bs(){throw Error(Dt(321))}function vE(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!Ro(t[s],r[s]))return!1;return!0}function yE(t,r,s,a,i,o){if(Ou=o,Cn=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U1.current=t===null||t.memoizedState===null?Ose:$se,t=s(a,i),Cm){o=0;do{if(Cm=!1,cp=0,25<=o)throw Error(Dt(301));o+=1,fs=ns=null,r.updateQueue=null,U1.current=Pse,t=s(a,i)}while(Cm)}if(U1.current=Uy,r=ns!==null&&ns.next!==null,Ou=0,fs=ns=Cn=null,zy=!1,r)throw Error(Dt(300));return t}function bE(){var t=cp!==0;return cp=0,t}function el(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fs===null?Cn.memoizedState=fs=t:fs=fs.next=t,fs}function ro(){if(ns===null){var t=Cn.alternate;t=t!==null?t.memoizedState:null}else t=ns.next;var r=fs===null?Cn.memoizedState:fs.next;if(r!==null)fs=r,ns=t;else{if(t===null)throw Error(Dt(310));ns=t,t={memoizedState:ns.memoizedState,baseState:ns.baseState,baseQueue:ns.baseQueue,queue:ns.queue,next:null},fs===null?Cn.memoizedState=fs=t:fs=fs.next=t}return fs}function dp(t,r){return typeof r=="function"?r(t):r}function j4(t){var r=ro(),s=r.queue;if(s===null)throw Error(Dt(311));s.lastRenderedReducer=t;var a=ns,i=a.baseQueue,o=s.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}a.baseQueue=i=o,s.pending=null}if(i!==null){o=i.next,a=a.baseState;var c=l=null,d=null,f=o;do{var h=f.lane;if((Ou&h)===h)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),a=f.hasEagerState?f.eagerState:t(a,f.action);else{var g={lane:h,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(c=d=g,l=a):d=d.next=g,Cn.lanes|=h,$u|=h}f=f.next}while(f!==null&&f!==o);d===null?l=a:d.next=c,Ro(a,r.memoizedState)||(Wa=!0),r.memoizedState=a,r.baseState=l,r.baseQueue=d,s.lastRenderedState=a}if(t=s.interleaved,t!==null){i=t;do o=i.lane,Cn.lanes|=o,$u|=o,i=i.next;while(i!==t)}else i===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function N4(t){var r=ro(),s=r.queue;if(s===null)throw Error(Dt(311));s.lastRenderedReducer=t;var a=s.dispatch,i=s.pending,o=r.memoizedState;if(i!==null){s.pending=null;var l=i=i.next;do o=t(o,l.action),l=l.next;while(l!==i);Ro(o,r.memoizedState)||(Wa=!0),r.memoizedState=o,r.baseQueue===null&&(r.baseState=o),s.lastRenderedState=o}return[o,a]}function PU(){}function DU(t,r){var s=Cn,a=ro(),i=r(),o=!Ro(a.memoizedState,i);if(o&&(a.memoizedState=i,Wa=!0),a=a.queue,wE(BU.bind(null,s,a,t),[t]),a.getSnapshot!==r||o||fs!==null&&fs.memoizedState.tag&1){if(s.flags|=2048,up(9,FU.bind(null,s,a,i,r),void 0,null),xs===null)throw Error(Dt(349));Ou&30||RU(s,r,i)}return i}function RU(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Cn.updateQueue,r===null?(r={lastEffect:null,stores:null},Cn.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function FU(t,r,s,a){r.value=s,r.getSnapshot=a,zU(r)&&UU(t)}function BU(t,r,s){return s(function(){zU(r)&&UU(t)})}function zU(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!Ro(t,s)}catch(a){return!0}}function UU(t){var r=Bl(t,1);r!==null&&$o(r,t,1,-1)}function Z5(t){var r=el();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:t},r.queue=t,t=t.dispatch=_se.bind(null,Cn,t),[r.memoizedState,t]}function up(t,r,s,a){return t={tag:t,create:r,destroy:s,deps:a,next:null},r=Cn.updateQueue,r===null?(r={lastEffect:null,stores:null},Cn.updateQueue=r,r.lastEffect=t.next=t):(s=r.lastEffect,s===null?r.lastEffect=t.next=t:(a=s.next,s.next=t,t.next=a,r.lastEffect=t)),t}function WU(){return ro().memoizedState}function W1(t,r,s,a){var i=el();Cn.flags|=t,i.memoizedState=up(1|r,s,void 0,a===void 0?null:a)}function I2(t,r,s,a){var i=ro();a=a===void 0?null:a;var o=void 0;if(ns!==null){var l=ns.memoizedState;if(o=l.destroy,a!==null&&vE(a,l.deps)){i.memoizedState=up(r,s,o,a);return}}Cn.flags|=t,i.memoizedState=up(1|r,s,o,a)}function Q5(t,r){return W1(8390656,8,t,r)}function wE(t,r){return I2(2048,8,t,r)}function HU(t,r){return I2(4,2,t,r)}function VU(t,r){return I2(4,4,t,r)}function GU(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function qU(t,r,s){return s=s!=null?s.concat([t]):null,I2(4,4,GU.bind(null,r,t),s)}function jE(){}function YU(t,r){var s=ro();r=r===void 0?null:r;var a=s.memoizedState;return a!==null&&r!==null&&vE(r,a[1])?a[0]:(s.memoizedState=[t,r],t)}function JU(t,r){var s=ro();r=r===void 0?null:r;var a=s.memoizedState;return a!==null&&r!==null&&vE(r,a[1])?a[0]:(t=t(),s.memoizedState=[t,r],t)}function ZU(t,r,s){return Ou&21?(Ro(s,r)||(s=tU(),Cn.lanes|=s,$u|=s,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Wa=!0),t.memoizedState=s)}function Tse(t,r){var s=Kr;Kr=s!==0&&4>s?s:4,t(!0);var a=w4.transition;w4.transition={};try{t(!1),r()}finally{Kr=s,w4.transition=a}}function QU(){return ro().memoizedState}function Ase(t,r,s){var a=od(t);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},KU(t))XU(r,s);else if(s=_U(t,r,s,a),s!==null){var i=Ea();$o(s,t,a,i),eW(s,r,a)}}function _se(t,r,s){var a=od(t),i={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(KU(t))XU(r,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=r.lastRenderedReducer,o!==null))try{var l=r.lastRenderedState,c=o(l,s);if(i.hasEagerState=!0,i.eagerState=c,Ro(c,l)){var d=r.interleaved;d===null?(i.next=i,hE(r)):(i.next=d.next,d.next=i),r.interleaved=i;return}}catch(f){}finally{}s=_U(t,r,i,a),s!==null&&(i=Ea(),$o(s,t,a,i),eW(s,r,a))}}function KU(t){var r=t.alternate;return t===Cn||r!==null&&r===Cn}function XU(t,r){Cm=zy=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function eW(t,r,s){if(s&4194240){var a=r.lanes;a&=t.pendingLanes,s|=a,r.lanes=s,Xk(t,s)}}var Uy={readContext:to,useCallback:Bs,useContext:Bs,useEffect:Bs,useImperativeHandle:Bs,useInsertionEffect:Bs,useLayoutEffect:Bs,useMemo:Bs,useReducer:Bs,useRef:Bs,useState:Bs,useDebugValue:Bs,useDeferredValue:Bs,useTransition:Bs,useMutableSource:Bs,useSyncExternalStore:Bs,useId:Bs,unstable_isNewReconciler:!1},Ose={readContext:to,useCallback:function(t,r){return el().memoizedState=[t,r===void 0?null:r],t},useContext:to,useEffect:Q5,useImperativeHandle:function(t,r,s){return s=s!=null?s.concat([t]):null,W1(4194308,4,GU.bind(null,r,t),s)},useLayoutEffect:function(t,r){return W1(4194308,4,t,r)},useInsertionEffect:function(t,r){return W1(4,2,t,r)},useMemo:function(t,r){var s=el();return r=r===void 0?null:r,t=t(),s.memoizedState=[t,r],t},useReducer:function(t,r,s){var a=el();return r=s!==void 0?s(r):r,a.memoizedState=a.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},a.queue=t,t=t.dispatch=Ase.bind(null,Cn,t),[a.memoizedState,t]},useRef:function(t){var r=el();return t={current:t},r.memoizedState=t},useState:Z5,useDebugValue:jE,useDeferredValue:function(t){return el().memoizedState=t},useTransition:function(){var t=Z5(!1),r=t[0];return t=Tse.bind(null,t[1]),el().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,s){var a=Cn,i=el();if(xn){if(s===void 0)throw Error(Dt(407));s=s()}else{if(s=r(),xs===null)throw Error(Dt(349));Ou&30||RU(a,r,s)}i.memoizedState=s;var o={value:s,getSnapshot:r};return i.queue=o,Q5(BU.bind(null,a,o,t),[t]),a.flags|=2048,up(9,FU.bind(null,a,o,s,r),void 0,null),s},useId:function(){var t=el(),r=xs.identifierPrefix;if(xn){var s=Al,a=Tl;s=(a&~(1<<32-Oo(a)-1)).toString(32)+s,r=":"+r+"R"+s,s=cp++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=Ise++,r=":"+r+"r"+s.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},$se={readContext:to,useCallback:YU,useContext:to,useEffect:wE,useImperativeHandle:qU,useInsertionEffect:HU,useLayoutEffect:VU,useMemo:JU,useReducer:j4,useRef:WU,useState:function(){return j4(dp)},useDebugValue:jE,useDeferredValue:function(t){var r=ro();return ZU(r,ns.memoizedState,t)},useTransition:function(){var t=j4(dp)[0],r=ro().memoizedState;return[t,r]},useMutableSource:PU,useSyncExternalStore:DU,useId:QU,unstable_isNewReconciler:!1},Pse={readContext:to,useCallback:YU,useContext:to,useEffect:wE,useImperativeHandle:qU,useInsertionEffect:HU,useLayoutEffect:VU,useMemo:JU,useReducer:N4,useRef:WU,useState:function(){return N4(dp)},useDebugValue:jE,useDeferredValue:function(t){var r=ro();return ns===null?r.memoizedState=t:ZU(r,ns.memoizedState,t)},useTransition:function(){var t=N4(dp)[0],r=ro().memoizedState;return[t,r]},useMutableSource:PU,useSyncExternalStore:DU,useId:QU,unstable_isNewReconciler:!1};function wo(t,r){if(t&&t.defaultProps){r=Mn({},r),t=t.defaultProps;for(var s in t)r[s]===void 0&&(r[s]=t[s]);return r}return r}function lC(t,r,s,a){r=t.memoizedState,s=s(a,r),s=s==null?r:Mn({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var T2={isMounted:function(t){return(t=t._reactInternals)?Gu(t)===t:!1},enqueueSetState:function(t,r,s){t=t._reactInternals;var a=Ea(),i=od(t),o=Ol(a,i);o.payload=r,s!=null&&(o.callback=s),r=ad(t,o,i),r!==null&&($o(r,t,i,a),z1(r,t,i))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var a=Ea(),i=od(t),o=Ol(a,i);o.tag=1,o.payload=r,s!=null&&(o.callback=s),r=ad(t,o,i),r!==null&&($o(r,t,i,a),z1(r,t,i))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Ea(),a=od(t),i=Ol(s,a);i.tag=2,r!=null&&(i.callback=r),r=ad(t,i,a),r!==null&&($o(r,t,a,s),z1(r,t,a))}};function K5(t,r,s,a,i,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,o,l):r.prototype&&r.prototype.isPureReactComponent?!np(s,a)||!np(i,o):!0}function tW(t,r,s){var a=!1,i=pd,o=r.contextType;return typeof o=="object"&&o!==null?o=to(o):(i=Ga(r)?Au:Ys.current,a=r.contextTypes,o=(a=a!=null)?Z0(t,i):pd),r=new r(s,o),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=T2,t.stateNode=r,r._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),r}function X5(t,r,s,a){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,a),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,a),r.state!==t&&T2.enqueueReplaceState(r,r.state,null)}function cC(t,r,s,a){var i=t.stateNode;i.props=s,i.state=t.memoizedState,i.refs={},gE(t);var o=r.contextType;typeof o=="object"&&o!==null?i.context=to(o):(o=Ga(r)?Au:Ys.current,i.context=Z0(t,o)),i.state=t.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(lC(t,r,o,s),i.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&T2.enqueueReplaceState(i,i.state,null),Fy(t,s,i,a),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function eh(t,r){try{var s="",a=r;do s+=dne(a),a=a.return;while(a);var i=s}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:r,stack:i,digest:null}}function S4(t,r,s){return{value:t,source:null,stack:s!=null?s:null,digest:r!=null?r:null}}function dC(t,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var Dse=typeof WeakMap=="function"?WeakMap:Map;function rW(t,r,s){s=Ol(-1,s),s.tag=3,s.payload={element:null};var a=r.value;return s.callback=function(){Hy||(Hy=!0,bC=a),dC(t,r)},s}function nW(t,r,s){s=Ol(-1,s),s.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var i=r.value;s.payload=function(){return a(i)},s.callback=function(){dC(t,r)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(s.callback=function(){dC(t,r),typeof a!="function"&&(id===null?id=new Set([this]):id.add(this));var l=r.stack;this.componentDidCatch(r.value,{componentStack:l!==null?l:""})}),s}function eA(t,r,s){var a=t.pingCache;if(a===null){a=t.pingCache=new Dse;var i=new Set;a.set(r,i)}else i=a.get(r),i===void 0&&(i=new Set,a.set(r,i));i.has(s)||(i.add(s),t=Qse.bind(null,t,r,s),r.then(t,t))}function tA(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function rA(t,r,s,a,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===r?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=Ol(-1,1),r.tag=2,ad(s,r,1))),s.lanes|=1),t)}var Rse=Zl.ReactCurrentOwner,Wa=!1;function Na(t,r,s,a){r.child=t===null?AU(r,null,s,a):K0(r,t.child,s,a)}function nA(t,r,s,a,i){s=s.render;var o=r.ref;return I0(r,i),a=yE(t,r,s,a,o,i),s=bE(),t!==null&&!Wa?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~i,zl(t,r,i)):(xn&&s&&oE(r),r.flags|=1,Na(t,r,a,i),r.child)}function sA(t,r,s,a,i){if(t===null){var o=s.type;return typeof o=="function"&&!IE(o)&&o.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=o,sW(t,r,o,a,i)):(t=q1(s.type,null,a,r,r.mode,i),t.ref=r.ref,t.return=r,r.child=t)}if(o=t.child,!(t.lanes&i)){var l=o.memoizedProps;if(s=s.compare,s=s!==null?s:np,s(l,a)&&t.ref===r.ref)return zl(t,r,i)}return r.flags|=1,t=ld(o,a),t.ref=r.ref,t.return=r,r.child=t}function sW(t,r,s,a,i){if(t!==null){var o=t.memoizedProps;if(np(o,a)&&t.ref===r.ref)if(Wa=!1,r.pendingProps=a=o,(t.lanes&i)!==0)t.flags&131072&&(Wa=!0);else return r.lanes=t.lanes,zl(t,r,i)}return uC(t,r,s,a,i)}function aW(t,r,s){var a=r.pendingProps,i=a.children,o=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ln(p0,hi),hi|=s;else{if(!(s&1073741824))return t=o!==null?o.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,ln(p0,hi),hi|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=o!==null?o.baseLanes:s,ln(p0,hi),hi|=a}else o!==null?(a=o.baseLanes|s,r.memoizedState=null):a=s,ln(p0,hi),hi|=a;return Na(t,r,i,s),r.child}function iW(t,r){var s=r.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function uC(t,r,s,a,i){var o=Ga(s)?Au:Ys.current;return o=Z0(r,o),I0(r,i),s=yE(t,r,s,a,o,i),a=bE(),t!==null&&!Wa?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~i,zl(t,r,i)):(xn&&a&&oE(r),r.flags|=1,Na(t,r,s,i),r.child)}function aA(t,r,s,a,i){if(Ga(s)){var o=!0;Oy(r)}else o=!1;if(I0(r,i),r.stateNode===null)H1(t,r),tW(r,s,a),cC(r,s,a,i),a=!0;else if(t===null){var l=r.stateNode,c=r.memoizedProps;l.props=c;var d=l.context,f=s.contextType;typeof f=="object"&&f!==null?f=to(f):(f=Ga(s)?Au:Ys.current,f=Z0(r,f));var h=s.getDerivedStateFromProps,g=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==a||d!==f)&&X5(r,l,a,f),Fc=!1;var m=r.memoizedState;l.state=m,Fy(r,a,l,i),d=r.memoizedState,c!==a||m!==d||Va.current||Fc?(typeof h=="function"&&(lC(r,s,h,a),d=r.memoizedState),(c=Fc||K5(r,s,c,a,m,d,f))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(r.flags|=4194308)):(typeof l.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=a,r.memoizedState=d),l.props=a,l.state=d,l.context=f,a=c):(typeof l.componentDidMount=="function"&&(r.flags|=4194308),a=!1)}else{l=r.stateNode,OU(t,r),c=r.memoizedProps,f=r.type===r.elementType?c:wo(r.type,c),l.props=f,g=r.pendingProps,m=l.context,d=s.contextType,typeof d=="object"&&d!==null?d=to(d):(d=Ga(s)?Au:Ys.current,d=Z0(r,d));var p=s.getDerivedStateFromProps;(h=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==g||m!==d)&&X5(r,l,a,d),Fc=!1,m=r.memoizedState,l.state=m,Fy(r,a,l,i);var x=r.memoizedState;c!==g||m!==x||Va.current||Fc?(typeof p=="function"&&(lC(r,s,p,a),x=r.memoizedState),(f=Fc||K5(r,s,f,a,m,x,d)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,x,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,x,d)),typeof l.componentDidUpdate=="function"&&(r.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(r.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(r.flags|=1024),r.memoizedProps=a,r.memoizedState=x),l.props=a,l.state=x,l.context=d,a=f):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(r.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(r.flags|=1024),a=!1)}return fC(t,r,s,a,o,i)}function fC(t,r,s,a,i,o){iW(t,r);var l=(r.flags&128)!==0;if(!a&&!l)return i&&H5(r,s,!1),zl(t,r,o);a=r.stateNode,Rse.current=r;var c=l&&typeof s.getDerivedStateFromError!="function"?null:a.render();return r.flags|=1,t!==null&&l?(r.child=K0(r,t.child,null,o),r.child=K0(r,null,c,o)):Na(t,r,c,o),r.memoizedState=a.state,i&&H5(r,s,!0),r.child}function oW(t){var r=t.stateNode;r.pendingContext?W5(t,r.pendingContext,r.pendingContext!==r.context):r.context&&W5(t,r.context,!1),mE(t,r.containerInfo)}function iA(t,r,s,a,i){return Q0(),cE(i),r.flags|=256,Na(t,r,s,a),r.child}var hC={dehydrated:null,treeContext:null,retryLane:0};function gC(t){return{baseLanes:t,cachePool:null,transitions:null}}function lW(t,r,s){var a=r.pendingProps,i=Nn.current,o=!1,l=(r.flags&128)!==0,c;if((c=l)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(o=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ln(Nn,i&1),t===null)return iC(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(l=a.children,t=a.fallback,o?(a=r.mode,o=r.child,l={mode:"hidden",children:l},!(a&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=O2(l,a,0,null),t=Cu(t,a,s,null),o.return=r,t.return=r,o.sibling=t,r.child=o,r.child.memoizedState=gC(s),r.memoizedState=hC,t):NE(r,l));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return Fse(t,r,l,a,c,i,s);if(o){o=a.fallback,l=r.mode,i=t.child,c=i.sibling;var d={mode:"hidden",children:a.children};return!(l&1)&&r.child!==i?(a=r.child,a.childLanes=0,a.pendingProps=d,r.deletions=null):(a=ld(i,d),a.subtreeFlags=i.subtreeFlags&14680064),c!==null?o=ld(c,o):(o=Cu(o,l,s,null),o.flags|=2),o.return=r,a.return=r,a.sibling=o,r.child=a,a=o,o=r.child,l=t.child.memoizedState,l=l===null?gC(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~s,r.memoizedState=hC,a}return o=t.child,t=o.sibling,a=ld(o,{mode:"visible",children:a.children}),!(r.mode&1)&&(a.lanes=s),a.return=r,a.sibling=null,t!==null&&(s=r.deletions,s===null?(r.deletions=[t],r.flags|=16):s.push(t)),r.child=a,r.memoizedState=null,a}function NE(t,r){return r=O2({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function pv(t,r,s,a){return a!==null&&cE(a),K0(r,t.child,null,s),t=NE(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Fse(t,r,s,a,i,o,l){if(s)return r.flags&256?(r.flags&=-257,a=S4(Error(Dt(422))),pv(t,r,l,a)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(o=a.fallback,i=r.mode,a=O2({mode:"visible",children:a.children},i,0,null),o=Cu(o,i,l,null),o.flags|=2,a.return=r,o.return=r,a.sibling=o,r.child=a,r.mode&1&&K0(r,t.child,null,l),r.child.memoizedState=gC(l),r.memoizedState=hC,o);if(!(r.mode&1))return pv(t,r,l,null);if(i.data==="$!"){if(a=i.nextSibling&&i.nextSibling.dataset,a)var c=a.dgst;return a=c,o=Error(Dt(419)),a=S4(o,a,void 0),pv(t,r,l,a)}if(c=(l&t.childLanes)!==0,Wa||c){if(a=xs,a!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(a.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Bl(t,i),$o(a,t,i,-1))}return ME(),a=S4(Error(Dt(421))),pv(t,r,l,a)}return i.data==="$?"?(r.flags|=128,r.child=t.child,r=Kse.bind(null,t),i._reactRetry=r,null):(t=o.treeContext,yi=sd(i.nextSibling),ji=r,xn=!0,Co=null,t!==null&&(Vi[Gi++]=Tl,Vi[Gi++]=Al,Vi[Gi++]=_u,Tl=t.id,Al=t.overflow,_u=r),r=NE(r,a.children),r.flags|=4096,r)}function oA(t,r,s){t.lanes|=r;var a=t.alternate;a!==null&&(a.lanes|=r),oC(t.return,r,s)}function C4(t,r,s,a,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:i}:(o.isBackwards=r,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=s,o.tailMode=i)}function cW(t,r,s){var a=r.pendingProps,i=a.revealOrder,o=a.tail;if(Na(t,r,a.children,s),a=Nn.current,a&2)a=a&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oA(t,s,r);else if(t.tag===19)oA(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(ln(Nn,a),!(r.mode&1))r.memoizedState=null;else switch(i){case"forwards":for(s=r.child,i=null;s!==null;)t=s.alternate,t!==null&&By(t)===null&&(i=s),s=s.sibling;s=i,s===null?(i=r.child,r.child=null):(i=s.sibling,s.sibling=null),C4(r,!1,i,s,o);break;case"backwards":for(s=null,i=r.child,r.child=null;i!==null;){if(t=i.alternate,t!==null&&By(t)===null){r.child=i;break}t=i.sibling,i.sibling=s,s=i,i=t}C4(r,!0,s,null,o);break;case"together":C4(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function H1(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function zl(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),$u|=r.lanes,!(s&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(Dt(153));if(r.child!==null){for(t=r.child,s=ld(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=ld(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function Bse(t,r,s){switch(r.tag){case 3:oW(r),Q0();break;case 5:$U(r);break;case 1:Ga(r.type)&&Oy(r);break;case 4:mE(r,r.stateNode.containerInfo);break;case 10:var a=r.type._context,i=r.memoizedProps.value;ln(Dy,a._currentValue),a._currentValue=i;break;case 13:if(a=r.memoizedState,a!==null)return a.dehydrated!==null?(ln(Nn,Nn.current&1),r.flags|=128,null):s&r.child.childLanes?lW(t,r,s):(ln(Nn,Nn.current&1),t=zl(t,r,s),t!==null?t.sibling:null);ln(Nn,Nn.current&1);break;case 19:if(a=(s&r.childLanes)!==0,t.flags&128){if(a)return cW(t,r,s);r.flags|=128}if(i=r.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ln(Nn,Nn.current),a)break;return null;case 22:case 23:return r.lanes=0,aW(t,r,s)}return zl(t,r,s)}var dW,mC,uW,fW;dW=function(t,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};mC=function(){};uW=function(t,r,s,a){var i=t.memoizedProps;if(i!==a){t=r.stateNode,wu(ll.current);var o=null;switch(s){case"input":i=DS(t,i),a=DS(t,a),o=[];break;case"select":i=Mn({},i,{value:void 0}),a=Mn({},a,{value:void 0}),o=[];break;case"textarea":i=BS(t,i),a=BS(t,a),o=[];break;default:typeof i.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=Ay)}US(s,a);var l;s=null;for(f in i)if(!a.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var c=i[f];for(l in c)c.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Zm.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in a){var d=a[f];if(c=i!=null?i[f]:void 0,a.hasOwnProperty(f)&&d!==c&&(d!=null||c!=null))if(f==="style")if(c){for(l in c)!c.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in d)d.hasOwnProperty(l)&&c[l]!==d[l]&&(s||(s={}),s[l]=d[l])}else s||(o||(o=[]),o.push(f,s)),s=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(o=o||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Zm.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&dn("scroll",t),o||c===d||(o=[])):(o=o||[]).push(f,d))}s&&(o=o||[]).push("style",s);var f=o;(r.updateQueue=f)&&(r.flags|=4)}};fW=function(t,r,s,a){s!==a&&(r.flags|=4)};function jg(t,r){if(!xn)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function zs(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,a=0;if(r)for(var i=t.child;i!==null;)s|=i.lanes|i.childLanes,a|=i.subtreeFlags&14680064,a|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)s|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=a,t.childLanes=s,r}function zse(t,r,s){var a=r.pendingProps;switch(lE(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zs(r),null;case 1:return Ga(r.type)&&_y(),zs(r),null;case 3:return a=r.stateNode,X0(),fn(Va),fn(Ys),xE(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(gv(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Co!==null&&(NC(Co),Co=null))),mC(t,r),zs(r),null;case 5:pE(r);var i=wu(lp.current);if(s=r.type,t!==null&&r.stateNode!=null)uW(t,r,s,a,i),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!a){if(r.stateNode===null)throw Error(Dt(166));return zs(r),null}if(t=wu(ll.current),gv(r)){a=r.stateNode,s=r.type;var o=r.memoizedProps;switch(a[rl]=r,a[ip]=o,t=(r.mode&1)!==0,s){case"dialog":dn("cancel",a),dn("close",a);break;case"iframe":case"object":case"embed":dn("load",a);break;case"video":case"audio":for(i=0;i<lm.length;i++)dn(lm[i],a);break;case"source":dn("error",a);break;case"img":case"image":case"link":dn("error",a),dn("load",a);break;case"details":dn("toggle",a);break;case"input":p5(a,o),dn("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!o.multiple},dn("invalid",a);break;case"textarea":v5(a,o),dn("invalid",a)}US(s,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="children"?typeof c=="string"?a.textContent!==c&&(o.suppressHydrationWarning!==!0&&hv(a.textContent,c,t),i=["children",c]):typeof c=="number"&&a.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&hv(a.textContent,c,t),i=["children",""+c]):Zm.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&dn("scroll",a)}switch(s){case"input":av(a),x5(a,o,!0);break;case"textarea":av(a),y5(a);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(a.onclick=Ay)}a=i,r.updateQueue=a,a!==null&&(r.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Bz(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=l.createElement(s,{is:a.is}):(t=l.createElement(s),s==="select"&&(l=t,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):t=l.createElementNS(t,s),t[rl]=r,t[ip]=a,dW(t,r,!1,!1),r.stateNode=t;e:{switch(l=WS(s,a),s){case"dialog":dn("cancel",t),dn("close",t),i=a;break;case"iframe":case"object":case"embed":dn("load",t),i=a;break;case"video":case"audio":for(i=0;i<lm.length;i++)dn(lm[i],t);i=a;break;case"source":dn("error",t),i=a;break;case"img":case"image":case"link":dn("error",t),dn("load",t),i=a;break;case"details":dn("toggle",t),i=a;break;case"input":p5(t,a),i=DS(t,a),dn("invalid",t);break;case"option":i=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},i=Mn({},a,{value:void 0}),dn("invalid",t);break;case"textarea":v5(t,a),i=BS(t,a),dn("invalid",t);break;default:i=a}US(s,i),c=i;for(o in c)if(c.hasOwnProperty(o)){var d=c[o];o==="style"?Wz(t,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&zz(t,d)):o==="children"?typeof d=="string"?(s!=="textarea"||d!=="")&&Qm(t,d):typeof d=="number"&&Qm(t,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Zm.hasOwnProperty(o)?d!=null&&o==="onScroll"&&dn("scroll",t):d!=null&&qk(t,o,d,l))}switch(s){case"input":av(t),x5(t,a,!1);break;case"textarea":av(t),y5(t);break;case"option":a.value!=null&&t.setAttribute("value",""+md(a.value));break;case"select":t.multiple=!!a.multiple,o=a.value,o!=null?k0(t,!!a.multiple,o,!1):a.defaultValue!=null&&k0(t,!!a.multiple,a.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ay)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return zs(r),null;case 6:if(t&&r.stateNode!=null)fW(t,r,t.memoizedProps,a);else{if(typeof a!="string"&&r.stateNode===null)throw Error(Dt(166));if(s=wu(lp.current),wu(ll.current),gv(r)){if(a=r.stateNode,s=r.memoizedProps,a[rl]=r,(o=a.nodeValue!==s)&&(t=ji,t!==null))switch(t.tag){case 3:hv(a.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hv(a.nodeValue,s,(t.mode&1)!==0)}o&&(r.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[rl]=r,r.stateNode=a}return zs(r),null;case 13:if(fn(Nn),a=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xn&&yi!==null&&r.mode&1&&!(r.flags&128))IU(),Q0(),r.flags|=98560,o=!1;else if(o=gv(r),a!==null&&a.dehydrated!==null){if(t===null){if(!o)throw Error(Dt(318));if(o=r.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Dt(317));o[rl]=r}else Q0(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;zs(r),o=!1}else Co!==null&&(NC(Co),Co=null),o=!0;if(!o)return r.flags&65536?r:null}return r.flags&128?(r.lanes=s,r):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(r.child.flags|=8192,r.mode&1&&(t===null||Nn.current&1?as===0&&(as=3):ME())),r.updateQueue!==null&&(r.flags|=4),zs(r),null);case 4:return X0(),mC(t,r),t===null&&sp(r.stateNode.containerInfo),zs(r),null;case 10:return fE(r.type._context),zs(r),null;case 17:return Ga(r.type)&&_y(),zs(r),null;case 19:if(fn(Nn),o=r.memoizedState,o===null)return zs(r),null;if(a=(r.flags&128)!==0,l=o.rendering,l===null)if(a)jg(o,!1);else{if(as!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(l=By(t),l!==null){for(r.flags|=128,jg(o,!1),a=l.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),r.subtreeFlags=0,a=s,s=r.child;s!==null;)o=s,t=a,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return ln(Nn,Nn.current&1|2),r.child}t=t.sibling}o.tail!==null&&Rn()>th&&(r.flags|=128,a=!0,jg(o,!1),r.lanes=4194304)}else{if(!a)if(t=By(l),t!==null){if(r.flags|=128,a=!0,s=t.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),jg(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!xn)return zs(r),null}else 2*Rn()-o.renderingStartTime>th&&s!==1073741824&&(r.flags|=128,a=!0,jg(o,!1),r.lanes=4194304);o.isBackwards?(l.sibling=r.child,r.child=l):(s=o.last,s!==null?s.sibling=l:r.child=l,o.last=l)}return o.tail!==null?(r=o.tail,o.rendering=r,o.tail=r.sibling,o.renderingStartTime=Rn(),r.sibling=null,s=Nn.current,ln(Nn,a?s&1|2:s&1),r):(zs(r),null);case 22:case 23:return LE(),a=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(r.flags|=8192),a&&r.mode&1?hi&1073741824&&(zs(r),r.subtreeFlags&6&&(r.flags|=8192)):zs(r),null;case 24:return null;case 25:return null}throw Error(Dt(156,r.tag))}function Use(t,r){switch(lE(r),r.tag){case 1:return Ga(r.type)&&_y(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return X0(),fn(Va),fn(Ys),xE(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return pE(r),null;case 13:if(fn(Nn),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(Dt(340));Q0()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return fn(Nn),null;case 4:return X0(),null;case 10:return fE(r.type._context),null;case 22:case 23:return LE(),null;case 24:return null;default:return null}}var xv=!1,Hs=!1,Wse=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function m0(t,r){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){In(t,r,a)}else s.current=null}function pC(t,r,s){try{s()}catch(a){In(t,r,a)}}var lA=!1;function Hse(t,r){if(XS=My,t=xU(),iE(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var i=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{s.nodeType,o.nodeType}catch(N){s=null;break e}var l=0,c=-1,d=-1,f=0,h=0,g=t,m=null;t:for(;;){for(var p;g!==s||i!==0&&g.nodeType!==3||(c=l+i),g!==o||a!==0&&g.nodeType!==3||(d=l+a),g.nodeType===3&&(l+=g.nodeValue.length),(p=g.firstChild)!==null;)m=g,g=p;for(;;){if(g===t)break t;if(m===s&&++f===i&&(c=l),m===o&&++h===a&&(d=l),(p=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=p}s=c===-1||d===-1?null:{start:c,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;for(eC={focusedElem:t,selectionRange:s},My=!1,Zt=r;Zt!==null;)if(r=Zt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Zt=t;else for(;Zt!==null;){r=Zt;try{var x=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,w=x.memoizedState,b=r.stateNode,v=b.getSnapshotBeforeUpdate(r.elementType===r.type?y:wo(r.type,y),w);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var j=r.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Dt(163))}}catch(N){In(r,r.return,N)}if(t=r.sibling,t!==null){t.return=r.return,Zt=t;break}Zt=r.return}return x=lA,lA=!1,x}function km(t,r,s){var a=r.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var i=a=a.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&pC(r,s,o)}i=i.next}while(i!==a)}}function A2(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var a=s.create;s.destroy=a()}s=s.next}while(s!==r)}}function xC(t){var r=t.ref;if(r!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof r=="function"?r(t):r.current=t}}function hW(t){var r=t.alternate;r!==null&&(t.alternate=null,hW(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[rl],delete r[ip],delete r[nC],delete r[kse],delete r[Ese])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gW(t){return t.tag===5||t.tag===3||t.tag===4}function cA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gW(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vC(t,r,s){var a=t.tag;if(a===5||a===6)t=t.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(t,r):s.insertBefore(t,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(t,s)):(r=s,r.appendChild(t)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Ay));else if(a!==4&&(t=t.child,t!==null))for(vC(t,r,s),t=t.sibling;t!==null;)vC(t,r,s),t=t.sibling}function yC(t,r,s){var a=t.tag;if(a===5||a===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(yC(t,r,s),t=t.sibling;t!==null;)yC(t,r,s),t=t.sibling}var Es=null,jo=!1;function jc(t,r,s){for(s=s.child;s!==null;)mW(t,r,s),s=s.sibling}function mW(t,r,s){if(ol&&typeof ol.onCommitFiberUnmount=="function")try{ol.onCommitFiberUnmount(S2,s)}catch(c){}switch(s.tag){case 5:Hs||m0(s,r);case 6:var a=Es,i=jo;Es=null,jc(t,r,s),Es=a,jo=i,Es!==null&&(jo?(t=Es,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):Es.removeChild(s.stateNode));break;case 18:Es!==null&&(jo?(t=Es,s=s.stateNode,t.nodeType===8?v4(t.parentNode,s):t.nodeType===1&&v4(t,s),tp(t)):v4(Es,s.stateNode));break;case 4:a=Es,i=jo,Es=s.stateNode.containerInfo,jo=!0,jc(t,r,s),Es=a,jo=i;break;case 0:case 11:case 14:case 15:if(!Hs&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){i=a=a.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&pC(s,r,l),i=i.next}while(i!==a)}jc(t,r,s);break;case 1:if(!Hs&&(m0(s,r),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(c){In(s,r,c)}jc(t,r,s);break;case 21:jc(t,r,s);break;case 22:s.mode&1?(Hs=(a=Hs)||s.memoizedState!==null,jc(t,r,s),Hs=a):jc(t,r,s);break;default:jc(t,r,s)}}function dA(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new Wse),r.forEach(function(a){var i=Xse.bind(null,t,a);s.has(a)||(s.add(a),a.then(i,i))})}}function go(t,r){var s=r.deletions;if(s!==null)for(var a=0;a<s.length;a++){var i=s[a];try{var o=t,l=r,c=l;e:for(;c!==null;){switch(c.tag){case 5:Es=c.stateNode,jo=!1;break e;case 3:Es=c.stateNode.containerInfo,jo=!0;break e;case 4:Es=c.stateNode.containerInfo,jo=!0;break e}c=c.return}if(Es===null)throw Error(Dt(160));mW(o,l,i),Es=null,jo=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(f){In(i,r,f)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)pW(r,t),r=r.sibling}function pW(t,r){var s=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(go(r,t),Go(t),a&4){try{km(3,t,t.return),A2(3,t)}catch(y){In(t,t.return,y)}try{km(5,t,t.return)}catch(y){In(t,t.return,y)}}break;case 1:go(r,t),Go(t),a&512&&s!==null&&m0(s,s.return);break;case 5:if(go(r,t),Go(t),a&512&&s!==null&&m0(s,s.return),t.flags&32){var i=t.stateNode;try{Qm(i,"")}catch(y){In(t,t.return,y)}}if(a&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,l=s!==null?s.memoizedProps:o,c=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&Rz(i,o),WS(c,l);var f=WS(c,o);for(l=0;l<d.length;l+=2){var h=d[l],g=d[l+1];h==="style"?Wz(i,g):h==="dangerouslySetInnerHTML"?zz(i,g):h==="children"?Qm(i,g):qk(i,h,g,f)}switch(c){case"input":RS(i,o);break;case"textarea":Fz(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?k0(i,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?k0(i,!!o.multiple,o.defaultValue,!0):k0(i,!!o.multiple,o.multiple?[]:"",!1))}i[ip]=o}catch(y){In(t,t.return,y)}}break;case 6:if(go(r,t),Go(t),a&4){if(t.stateNode===null)throw Error(Dt(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){In(t,t.return,y)}}break;case 3:if(go(r,t),Go(t),a&4&&s!==null&&s.memoizedState.isDehydrated)try{tp(r.containerInfo)}catch(y){In(t,t.return,y)}break;case 4:go(r,t),Go(t);break;case 13:go(r,t),Go(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(kE=Rn())),a&4&&dA(t);break;case 22:if(h=s!==null&&s.memoizedState!==null,t.mode&1?(Hs=(f=Hs)||h,go(r,t),Hs=f):go(r,t),Go(t),a&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!h&&t.mode&1)for(Zt=t,h=t.child;h!==null;){for(g=Zt=h;Zt!==null;){switch(m=Zt,p=m.child,m.tag){case 0:case 11:case 14:case 15:km(4,m,m.return);break;case 1:m0(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){a=m,s=m.return;try{r=a,x.props=r.memoizedProps,x.state=r.memoizedState,x.componentWillUnmount()}catch(y){In(a,s,y)}}break;case 5:m0(m,m.return);break;case 22:if(m.memoizedState!==null){fA(g);continue}}p!==null?(p.return=m,Zt=p):fA(g)}h=h.sibling}e:for(h=null,g=t;;){if(g.tag===5){if(h===null){h=g;try{i=g.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=g.stateNode,d=g.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=Uz("display",l))}catch(y){In(t,t.return,y)}}}else if(g.tag===6){if(h===null)try{g.stateNode.nodeValue=f?"":g.memoizedProps}catch(y){In(t,t.return,y)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;h===g&&(h=null),g=g.return}h===g&&(h=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:go(r,t),Go(t),a&4&&dA(t);break;case 21:break;default:go(r,t),Go(t)}}function Go(t){var r=t.flags;if(r&2){try{e:{for(var s=t.return;s!==null;){if(gW(s)){var a=s;break e}s=s.return}throw Error(Dt(160))}switch(a.tag){case 5:var i=a.stateNode;a.flags&32&&(Qm(i,""),a.flags&=-33);var o=cA(t);yC(t,o,i);break;case 3:case 4:var l=a.stateNode.containerInfo,c=cA(t);vC(t,c,l);break;default:throw Error(Dt(161))}}catch(d){In(t,t.return,d)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Vse(t,r,s){Zt=t,xW(t)}function xW(t,r,s){for(var a=(t.mode&1)!==0;Zt!==null;){var i=Zt,o=i.child;if(i.tag===22&&a){var l=i.memoizedState!==null||xv;if(!l){var c=i.alternate,d=c!==null&&c.memoizedState!==null||Hs;c=xv;var f=Hs;if(xv=l,(Hs=d)&&!f)for(Zt=i;Zt!==null;)l=Zt,d=l.child,l.tag===22&&l.memoizedState!==null?hA(i):d!==null?(d.return=l,Zt=d):hA(i);for(;o!==null;)Zt=o,xW(o),o=o.sibling;Zt=i,xv=c,Hs=f}uA(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Zt=o):uA(t)}}function uA(t){for(;Zt!==null;){var r=Zt;if(r.flags&8772){var s=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Hs||A2(5,r);break;case 1:var a=r.stateNode;if(r.flags&4&&!Hs)if(s===null)a.componentDidMount();else{var i=r.elementType===r.type?s.memoizedProps:wo(r.type,s.memoizedProps);a.componentDidUpdate(i,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var o=r.updateQueue;o!==null&&J5(r,o,a);break;case 3:var l=r.updateQueue;if(l!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}J5(r,l,s)}break;case 5:var c=r.stateNode;if(s===null&&r.flags&4){s=c;var d=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&s.focus();break;case"img":d.src&&(s.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var f=r.alternate;if(f!==null){var h=f.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&tp(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Dt(163))}Hs||r.flags&512&&xC(r)}catch(m){In(r,r.return,m)}}if(r===t){Zt=null;break}if(s=r.sibling,s!==null){s.return=r.return,Zt=s;break}Zt=r.return}}function fA(t){for(;Zt!==null;){var r=Zt;if(r===t){Zt=null;break}var s=r.sibling;if(s!==null){s.return=r.return,Zt=s;break}Zt=r.return}}function hA(t){for(;Zt!==null;){var r=Zt;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{A2(4,r)}catch(d){In(r,s,d)}break;case 1:var a=r.stateNode;if(typeof a.componentDidMount=="function"){var i=r.return;try{a.componentDidMount()}catch(d){In(r,i,d)}}var o=r.return;try{xC(r)}catch(d){In(r,o,d)}break;case 5:var l=r.return;try{xC(r)}catch(d){In(r,l,d)}}}catch(d){In(r,r.return,d)}if(r===t){Zt=null;break}var c=r.sibling;if(c!==null){c.return=r.return,Zt=c;break}Zt=r.return}}var Gse=Math.ceil,Wy=Zl.ReactCurrentDispatcher,SE=Zl.ReactCurrentOwner,Xi=Zl.ReactCurrentBatchConfig,Dr=0,xs=null,Hn=null,As=0,hi=0,p0=Cd(0),as=0,fp=null,$u=0,_2=0,CE=0,Em=null,za=null,kE=0,th=1/0,El=null,Hy=!1,bC=null,id=null,vv=!1,Gc=null,Vy=0,Lm=0,wC=null,V1=-1,G1=0;function Ea(){return Dr&6?Rn():V1!==-1?V1:V1=Rn()}function od(t){return t.mode&1?Dr&2&&As!==0?As&-As:Mse.transition!==null?(G1===0&&(G1=tU()),G1):(t=Kr,t!==0||(t=window.event,t=t===void 0?16:lU(t.type)),t):1}function $o(t,r,s,a){if(50<Lm)throw Lm=0,wC=null,Error(Dt(185));Gp(t,s,a),(!(Dr&2)||t!==xs)&&(t===xs&&(!(Dr&2)&&(_2|=s),as===4&&Wc(t,As)),qa(t,a),s===1&&Dr===0&&!(r.mode&1)&&(th=Rn()+500,M2&&kd()))}function qa(t,r){var s=t.callbackNode;Mne(t,r);var a=Ly(t,t===xs?As:0);if(a===0)s!==null&&j5(s),t.callbackNode=null,t.callbackPriority=0;else if(r=a&-a,t.callbackPriority!==r){if(s!=null&&j5(s),r===1)t.tag===0?Lse(gA.bind(null,t)):EU(gA.bind(null,t)),Sse(function(){!(Dr&6)&&kd()}),s=null;else{switch(rU(a)){case 1:s=Kk;break;case 4:s=Xz;break;case 16:s=Ey;break;case 536870912:s=eU;break;default:s=Ey}s=CW(s,vW.bind(null,t))}t.callbackPriority=r,t.callbackNode=s}}function vW(t,r){if(V1=-1,G1=0,Dr&6)throw Error(Dt(327));var s=t.callbackNode;if(T0()&&t.callbackNode!==s)return null;var a=Ly(t,t===xs?As:0);if(a===0)return null;if(a&30||a&t.expiredLanes||r)r=Gy(t,a);else{r=a;var i=Dr;Dr|=2;var o=bW();(xs!==t||As!==r)&&(El=null,th=Rn()+500,Su(t,r));do try{Jse();break}catch(c){yW(t,c)}while(!0);uE(),Wy.current=o,Dr=i,Hn!==null?r=0:(xs=null,As=0,r=as)}if(r!==0){if(r===2&&(i=YS(t),i!==0&&(a=i,r=jC(t,i))),r===1)throw s=fp,Su(t,0),Wc(t,a),qa(t,Rn()),s;if(r===6)Wc(t,a);else{if(i=t.current.alternate,!(a&30)&&!qse(i)&&(r=Gy(t,a),r===2&&(o=YS(t),o!==0&&(a=o,r=jC(t,o))),r===1))throw s=fp,Su(t,0),Wc(t,a),qa(t,Rn()),s;switch(t.finishedWork=i,t.finishedLanes=a,r){case 0:case 1:throw Error(Dt(345));case 2:iu(t,za,El);break;case 3:if(Wc(t,a),(a&130023424)===a&&(r=kE+500-Rn(),10<r)){if(Ly(t,0)!==0)break;if(i=t.suspendedLanes,(i&a)!==a){Ea(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=rC(iu.bind(null,t,za,El),r);break}iu(t,za,El);break;case 4:if(Wc(t,a),(a&4194240)===a)break;for(r=t.eventTimes,i=-1;0<a;){var l=31-Oo(a);o=1<<l,l=r[l],l>i&&(i=l),a&=~o}if(a=i,a=Rn()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Gse(a/1960))-a,10<a){t.timeoutHandle=rC(iu.bind(null,t,za,El),a);break}iu(t,za,El);break;case 5:iu(t,za,El);break;default:throw Error(Dt(329))}}}return qa(t,Rn()),t.callbackNode===s?vW.bind(null,t):null}function jC(t,r){var s=Em;return t.current.memoizedState.isDehydrated&&(Su(t,r).flags|=256),t=Gy(t,r),t!==2&&(r=za,za=s,r!==null&&NC(r)),t}function NC(t){za===null?za=t:za.push.apply(za,t)}function qse(t){for(var r=t;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var i=s[a],o=i.getSnapshot;i=i.value;try{if(!Ro(o(),i))return!1}catch(l){return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Wc(t,r){for(r&=~CE,r&=~_2,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var s=31-Oo(r),a=1<<s;t[s]=-1,r&=~a}}function gA(t){if(Dr&6)throw Error(Dt(327));T0();var r=Ly(t,0);if(!(r&1))return qa(t,Rn()),null;var s=Gy(t,r);if(t.tag!==0&&s===2){var a=YS(t);a!==0&&(r=a,s=jC(t,a))}if(s===1)throw s=fp,Su(t,0),Wc(t,r),qa(t,Rn()),s;if(s===6)throw Error(Dt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,iu(t,za,El),qa(t,Rn()),null}function EE(t,r){var s=Dr;Dr|=1;try{return t(r)}finally{Dr=s,Dr===0&&(th=Rn()+500,M2&&kd())}}function Pu(t){Gc!==null&&Gc.tag===0&&!(Dr&6)&&T0();var r=Dr;Dr|=1;var s=Xi.transition,a=Kr;try{if(Xi.transition=null,Kr=1,t)return t()}finally{Kr=a,Xi.transition=s,Dr=r,!(Dr&6)&&kd()}}function LE(){hi=p0.current,fn(p0)}function Su(t,r){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,Nse(s)),Hn!==null)for(s=Hn.return;s!==null;){var a=s;switch(lE(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&_y();break;case 3:X0(),fn(Va),fn(Ys),xE();break;case 5:pE(a);break;case 4:X0();break;case 13:fn(Nn);break;case 19:fn(Nn);break;case 10:fE(a.type._context);break;case 22:case 23:LE()}s=s.return}if(xs=t,Hn=t=ld(t.current,null),As=hi=r,as=0,fp=null,CE=_2=$u=0,za=Em=null,bu!==null){for(r=0;r<bu.length;r++)if(s=bu[r],a=s.interleaved,a!==null){s.interleaved=null;var i=a.next,o=s.pending;if(o!==null){var l=o.next;o.next=i,a.next=l}s.pending=a}bu=null}return t}function yW(t,r){do{var s=Hn;try{if(uE(),U1.current=Uy,zy){for(var a=Cn.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}zy=!1}if(Ou=0,fs=ns=Cn=null,Cm=!1,cp=0,SE.current=null,s===null||s.return===null){as=1,fp=r,Hn=null;break}e:{var o=t,l=s.return,c=s,d=r;if(r=As,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,h=c,g=h.tag;if(!(h.mode&1)&&(g===0||g===11||g===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=tA(l);if(p!==null){p.flags&=-257,rA(p,l,c,o,r),p.mode&1&&eA(o,f,r),r=p,d=f;var x=r.updateQueue;if(x===null){var y=new Set;y.add(d),r.updateQueue=y}else x.add(d);break e}else{if(!(r&1)){eA(o,f,r),ME();break e}d=Error(Dt(426))}}else if(xn&&c.mode&1){var w=tA(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),rA(w,l,c,o,r),cE(eh(d,c));break e}}o=d=eh(d,c),as!==4&&(as=2),Em===null?Em=[o]:Em.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,r&=-r,o.lanes|=r;var b=rW(o,d,r);Y5(o,b);break e;case 1:c=d;var v=o.type,j=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(id===null||!id.has(j)))){o.flags|=65536,r&=-r,o.lanes|=r;var N=nW(o,c,r);Y5(o,N);break e}}o=o.return}while(o!==null)}jW(s)}catch(S){r=S,Hn===s&&s!==null&&(Hn=s=s.return);continue}break}while(!0)}function bW(){var t=Wy.current;return Wy.current=Uy,t===null?Uy:t}function ME(){(as===0||as===3||as===2)&&(as=4),xs===null||!($u&268435455)&&!(_2&268435455)||Wc(xs,As)}function Gy(t,r){var s=Dr;Dr|=2;var a=bW();(xs!==t||As!==r)&&(El=null,Su(t,r));do try{Yse();break}catch(i){yW(t,i)}while(!0);if(uE(),Dr=s,Wy.current=a,Hn!==null)throw Error(Dt(261));return xs=null,As=0,as}function Yse(){for(;Hn!==null;)wW(Hn)}function Jse(){for(;Hn!==null&&!bne();)wW(Hn)}function wW(t){var r=SW(t.alternate,t,hi);t.memoizedProps=t.pendingProps,r===null?jW(t):Hn=r,SE.current=null}function jW(t){var r=t;do{var s=r.alternate;if(t=r.return,r.flags&32768){if(s=Use(s,r),s!==null){s.flags&=32767,Hn=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{as=6,Hn=null;return}}else if(s=zse(s,r,hi),s!==null){Hn=s;return}if(r=r.sibling,r!==null){Hn=r;return}Hn=r=t}while(r!==null);as===0&&(as=5)}function iu(t,r,s){var a=Kr,i=Xi.transition;try{Xi.transition=null,Kr=1,Zse(t,r,s,a)}finally{Xi.transition=i,Kr=a}return null}function Zse(t,r,s,a){do T0();while(Gc!==null);if(Dr&6)throw Error(Dt(327));s=t.finishedWork;var i=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(Dt(177));t.callbackNode=null,t.callbackPriority=0;var o=s.lanes|s.childLanes;if(Ine(t,o),t===xs&&(Hn=xs=null,As=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||vv||(vv=!0,CW(Ey,function(){return T0(),null})),o=(s.flags&15990)!==0,s.subtreeFlags&15990||o){o=Xi.transition,Xi.transition=null;var l=Kr;Kr=1;var c=Dr;Dr|=4,SE.current=null,Hse(t,s),pW(s,t),pse(eC),My=!!XS,eC=XS=null,t.current=s,Vse(s),wne(),Dr=c,Kr=l,Xi.transition=o}else t.current=s;if(vv&&(vv=!1,Gc=t,Vy=i),o=t.pendingLanes,o===0&&(id=null),Sne(s.stateNode),qa(t,Rn()),r!==null)for(a=t.onRecoverableError,s=0;s<r.length;s++)i=r[s],a(i.value,{componentStack:i.stack,digest:i.digest});if(Hy)throw Hy=!1,t=bC,bC=null,t;return Vy&1&&t.tag!==0&&T0(),o=t.pendingLanes,o&1?t===wC?Lm++:(Lm=0,wC=t):Lm=0,kd(),null}function T0(){if(Gc!==null){var t=rU(Vy),r=Xi.transition,s=Kr;try{if(Xi.transition=null,Kr=16>t?16:t,Gc===null)var a=!1;else{if(t=Gc,Gc=null,Vy=0,Dr&6)throw Error(Dt(331));var i=Dr;for(Dr|=4,Zt=t.current;Zt!==null;){var o=Zt,l=o.child;if(Zt.flags&16){var c=o.deletions;if(c!==null){for(var d=0;d<c.length;d++){var f=c[d];for(Zt=f;Zt!==null;){var h=Zt;switch(h.tag){case 0:case 11:case 15:km(8,h,o)}var g=h.child;if(g!==null)g.return=h,Zt=g;else for(;Zt!==null;){h=Zt;var m=h.sibling,p=h.return;if(hW(h),h===f){Zt=null;break}if(m!==null){m.return=p,Zt=m;break}Zt=p}}}var x=o.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}Zt=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,Zt=l;else e:for(;Zt!==null;){if(o=Zt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:km(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,Zt=b;break e}Zt=o.return}}var v=t.current;for(Zt=v;Zt!==null;){l=Zt;var j=l.child;if(l.subtreeFlags&2064&&j!==null)j.return=l,Zt=j;else e:for(l=v;Zt!==null;){if(c=Zt,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:A2(9,c)}}catch(S){In(c,c.return,S)}if(c===l){Zt=null;break e}var N=c.sibling;if(N!==null){N.return=c.return,Zt=N;break e}Zt=c.return}}if(Dr=i,kd(),ol&&typeof ol.onPostCommitFiberRoot=="function")try{ol.onPostCommitFiberRoot(S2,t)}catch(S){}a=!0}return a}finally{Kr=s,Xi.transition=r}}return!1}function mA(t,r,s){r=eh(s,r),r=rW(t,r,1),t=ad(t,r,1),r=Ea(),t!==null&&(Gp(t,1,r),qa(t,r))}function In(t,r,s){if(t.tag===3)mA(t,t,s);else for(;r!==null;){if(r.tag===3){mA(r,t,s);break}else if(r.tag===1){var a=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(id===null||!id.has(a))){t=eh(s,t),t=nW(r,t,1),r=ad(r,t,1),t=Ea(),r!==null&&(Gp(r,1,t),qa(r,t));break}}r=r.return}}function Qse(t,r,s){var a=t.pingCache;a!==null&&a.delete(r),r=Ea(),t.pingedLanes|=t.suspendedLanes&s,xs===t&&(As&s)===s&&(as===4||as===3&&(As&130023424)===As&&500>Rn()-kE?Su(t,0):CE|=s),qa(t,r)}function NW(t,r){r===0&&(t.mode&1?(r=lv,lv<<=1,!(lv&130023424)&&(lv=4194304)):r=1);var s=Ea();t=Bl(t,r),t!==null&&(Gp(t,r,s),qa(t,s))}function Kse(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),NW(t,s)}function Xse(t,r){var s=0;switch(t.tag){case 13:var a=t.stateNode,i=t.memoizedState;i!==null&&(s=i.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(Dt(314))}a!==null&&a.delete(r),NW(t,s)}var SW;SW=function(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps||Va.current)Wa=!0;else{if(!(t.lanes&s)&&!(r.flags&128))return Wa=!1,Bse(t,r,s);Wa=!!(t.flags&131072)}else Wa=!1,xn&&r.flags&1048576&&LU(r,Py,r.index);switch(r.lanes=0,r.tag){case 2:var a=r.type;H1(t,r),t=r.pendingProps;var i=Z0(r,Ys.current);I0(r,s),i=yE(null,r,a,t,i,s);var o=bE();return r.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ga(a)?(o=!0,Oy(r)):o=!1,r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gE(r),i.updater=T2,r.stateNode=i,i._reactInternals=r,cC(r,a,t,s),r=fC(null,r,a,!0,o,s)):(r.tag=0,xn&&o&&oE(r),Na(null,r,i,s),r=r.child),r;case 16:a=r.elementType;e:{switch(H1(t,r),t=r.pendingProps,i=a._init,a=i(a._payload),r.type=a,i=r.tag=tae(a),t=wo(a,t),i){case 0:r=uC(null,r,a,t,s);break e;case 1:r=aA(null,r,a,t,s);break e;case 11:r=nA(null,r,a,t,s);break e;case 14:r=sA(null,r,a,wo(a.type,t),s);break e}throw Error(Dt(306,a,""))}return r;case 0:return a=r.type,i=r.pendingProps,i=r.elementType===a?i:wo(a,i),uC(t,r,a,i,s);case 1:return a=r.type,i=r.pendingProps,i=r.elementType===a?i:wo(a,i),aA(t,r,a,i,s);case 3:e:{if(oW(r),t===null)throw Error(Dt(387));a=r.pendingProps,o=r.memoizedState,i=o.element,OU(t,r),Fy(r,a,null,s);var l=r.memoizedState;if(a=l.element,o.isDehydrated)if(o={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},r.updateQueue.baseState=o,r.memoizedState=o,r.flags&256){i=eh(Error(Dt(423)),r),r=iA(t,r,a,s,i);break e}else if(a!==i){i=eh(Error(Dt(424)),r),r=iA(t,r,a,s,i);break e}else for(yi=sd(r.stateNode.containerInfo.firstChild),ji=r,xn=!0,Co=null,s=AU(r,null,a,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Q0(),a===i){r=zl(t,r,s);break e}Na(t,r,a,s)}r=r.child}return r;case 5:return $U(r),t===null&&iC(r),a=r.type,i=r.pendingProps,o=t!==null?t.memoizedProps:null,l=i.children,tC(a,i)?l=null:o!==null&&tC(a,o)&&(r.flags|=32),iW(t,r),Na(t,r,l,s),r.child;case 6:return t===null&&iC(r),null;case 13:return lW(t,r,s);case 4:return mE(r,r.stateNode.containerInfo),a=r.pendingProps,t===null?r.child=K0(r,null,a,s):Na(t,r,a,s),r.child;case 11:return a=r.type,i=r.pendingProps,i=r.elementType===a?i:wo(a,i),nA(t,r,a,i,s);case 7:return Na(t,r,r.pendingProps,s),r.child;case 8:return Na(t,r,r.pendingProps.children,s),r.child;case 12:return Na(t,r,r.pendingProps.children,s),r.child;case 10:e:{if(a=r.type._context,i=r.pendingProps,o=r.memoizedProps,l=i.value,ln(Dy,a._currentValue),a._currentValue=l,o!==null)if(Ro(o.value,l)){if(o.children===i.children&&!Va.current){r=zl(t,r,s);break e}}else for(o=r.child,o!==null&&(o.return=r);o!==null;){var c=o.dependencies;if(c!==null){l=o.child;for(var d=c.firstContext;d!==null;){if(d.context===a){if(o.tag===1){d=Ol(-1,s&-s),d.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var h=f.pending;h===null?d.next=d:(d.next=h.next,h.next=d),f.pending=d}}o.lanes|=s,d=o.alternate,d!==null&&(d.lanes|=s),oC(o.return,s,r),c.lanes|=s;break}d=d.next}}else if(o.tag===10)l=o.type===r.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(Dt(341));l.lanes|=s,c=l.alternate,c!==null&&(c.lanes|=s),oC(l,s,r),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===r){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Na(t,r,i.children,s),r=r.child}return r;case 9:return i=r.type,a=r.pendingProps.children,I0(r,s),i=to(i),a=a(i),r.flags|=1,Na(t,r,a,s),r.child;case 14:return a=r.type,i=wo(a,r.pendingProps),i=wo(a.type,i),sA(t,r,a,i,s);case 15:return sW(t,r,r.type,r.pendingProps,s);case 17:return a=r.type,i=r.pendingProps,i=r.elementType===a?i:wo(a,i),H1(t,r),r.tag=1,Ga(a)?(t=!0,Oy(r)):t=!1,I0(r,s),tW(r,a,i),cC(r,a,i,s),fC(null,r,a,!0,t,s);case 19:return cW(t,r,s);case 22:return aW(t,r,s)}throw Error(Dt(156,r.tag))};function CW(t,r){return Kz(t,r)}function eae(t,r,s,a){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(t,r,s,a){return new eae(t,r,s,a)}function IE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tae(t){if(typeof t=="function")return IE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jk)return 11;if(t===Zk)return 14}return 2}function ld(t,r){var s=t.alternate;return s===null?(s=Ji(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function q1(t,r,s,a,i,o){var l=2;if(a=t,typeof t=="function")IE(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case i0:return Cu(s.children,i,o,r);case Yk:l=8,i|=8;break;case _S:return t=Ji(12,s,r,i|2),t.elementType=_S,t.lanes=o,t;case OS:return t=Ji(13,s,r,i),t.elementType=OS,t.lanes=o,t;case $S:return t=Ji(19,s,r,i),t.elementType=$S,t.lanes=o,t;case $z:return O2(s,i,o,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _z:l=10;break e;case Oz:l=9;break e;case Jk:l=11;break e;case Zk:l=14;break e;case Rc:l=16,a=null;break e}throw Error(Dt(130,t==null?t:typeof t,""))}return r=Ji(l,s,r,i),r.elementType=t,r.type=a,r.lanes=o,r}function Cu(t,r,s,a){return t=Ji(7,t,a,r),t.lanes=s,t}function O2(t,r,s,a){return t=Ji(22,t,a,r),t.elementType=$z,t.lanes=s,t.stateNode={isHidden:!1},t}function k4(t,r,s){return t=Ji(6,t,null,r),t.lanes=s,t}function E4(t,r,s){return r=Ji(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function rae(t,r,s,a,i){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=o4(0),this.expirationTimes=o4(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=o4(0),this.identifierPrefix=a,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function TE(t,r,s,a,i,o,l,c,d){return t=new rae(t,r,s,c,d),r===1?(r=1,o===!0&&(r|=8)):r=0,o=Ji(3,null,null,r),t.current=o,o.stateNode=t,o.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},gE(o),t}function nae(t,r,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a0,key:a==null?null:""+a,children:t,containerInfo:r,implementation:s}}function kW(t){if(!t)return pd;t=t._reactInternals;e:{if(Gu(t)!==t||t.tag!==1)throw Error(Dt(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ga(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(Dt(171))}if(t.tag===1){var s=t.type;if(Ga(s))return kU(t,s,r)}return r}function EW(t,r,s,a,i,o,l,c,d){return t=TE(s,a,!0,t,i,o,l,c,d),t.context=kW(null),s=t.current,a=Ea(),i=od(s),o=Ol(a,i),o.callback=r!=null?r:null,ad(s,o,i),t.current.lanes=i,Gp(t,i,a),qa(t,a),t}function $2(t,r,s,a){var i=r.current,o=Ea(),l=od(i);return s=kW(s),r.context===null?r.context=s:r.pendingContext=s,r=Ol(o,l),r.payload={element:t},a=a===void 0?null:a,a!==null&&(r.callback=a),t=ad(i,r,l),t!==null&&($o(t,i,l,o),z1(t,i,l)),l}function qy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pA(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function AE(t,r){pA(t,r),(t=t.alternate)&&pA(t,r)}function sae(){return null}var LW=typeof reportError=="function"?reportError:function(t){console.error(t)};function _E(t){this._internalRoot=t}P2.prototype.render=_E.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(Dt(409));$2(t,r,null,null)};P2.prototype.unmount=_E.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Pu(function(){$2(null,t,null,null)}),r[Fl]=null}};function P2(t){this._internalRoot=t}P2.prototype.unstable_scheduleHydration=function(t){if(t){var r=aU();t={blockedOn:null,target:t,priority:r};for(var s=0;s<Uc.length&&r!==0&&r<Uc[s].priority;s++);Uc.splice(s,0,t),s===0&&oU(t)}};function OE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function D2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xA(){}function aae(t,r,s,a,i){if(i){if(typeof a=="function"){var o=a;a=function(){var f=qy(l);o.call(f)}}var l=EW(r,a,t,0,null,!1,!1,"",xA);return t._reactRootContainer=l,t[Fl]=l.current,sp(t.nodeType===8?t.parentNode:t),Pu(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof a=="function"){var c=a;a=function(){var f=qy(d);c.call(f)}}var d=TE(t,0,!1,null,null,!1,!1,"",xA);return t._reactRootContainer=d,t[Fl]=d.current,sp(t.nodeType===8?t.parentNode:t),Pu(function(){$2(r,d,s,a)}),d}function R2(t,r,s,a,i){var o=s._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var c=i;i=function(){var d=qy(l);c.call(d)}}$2(r,l,t,i)}else l=aae(s,r,t,i,a);return qy(l)}nU=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var s=om(r.pendingLanes);s!==0&&(Xk(r,s|1),qa(r,Rn()),!(Dr&6)&&(th=Rn()+500,kd()))}break;case 13:Pu(function(){var a=Bl(t,1);if(a!==null){var i=Ea();$o(a,t,1,i)}}),AE(t,1)}};eE=function(t){if(t.tag===13){var r=Bl(t,134217728);if(r!==null){var s=Ea();$o(r,t,134217728,s)}AE(t,134217728)}};sU=function(t){if(t.tag===13){var r=od(t),s=Bl(t,r);if(s!==null){var a=Ea();$o(s,t,r,a)}AE(t,r)}};aU=function(){return Kr};iU=function(t,r){var s=Kr;try{return Kr=t,r()}finally{Kr=s}};VS=function(t,r,s){switch(r){case"input":if(RS(t,s),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var a=s[r];if(a!==t&&a.form===t.form){var i=L2(a);if(!i)throw Error(Dt(90));Dz(a),RS(a,i)}}}break;case"textarea":Fz(t,s);break;case"select":r=s.value,r!=null&&k0(t,!!s.multiple,r,!1)}};Gz=EE;qz=Pu;var iae={usingClientEntryPoint:!1,Events:[Yp,d0,L2,Hz,Vz,EE]},Ng={findFiberByHostInstance:yu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oae={bundleType:Ng.bundleType,version:Ng.version,rendererPackageName:Ng.rendererPackageName,rendererConfig:Ng.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zz(t),t===null?null:t.stateNode},findFiberByHostInstance:Ng.findFiberByHostInstance||sae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var yv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yv.isDisabled&&yv.supportsFiber)try{S2=yv.inject(oae),ol=yv}catch(t){}}ki.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iae;ki.createPortal=function(t,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!OE(r))throw Error(Dt(200));return nae(t,r,null,s)};ki.createRoot=function(t,r){if(!OE(t))throw Error(Dt(299));var s=!1,a="",i=LW;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),r=TE(t,1,!1,null,null,s,!1,a,i),t[Fl]=r.current,sp(t.nodeType===8?t.parentNode:t),new _E(r)};ki.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(Dt(188)):(t=Object.keys(t).join(","),Error(Dt(268,t)));return t=Zz(r),t=t===null?null:t.stateNode,t};ki.flushSync=function(t){return Pu(t)};ki.hydrate=function(t,r,s){if(!D2(r))throw Error(Dt(200));return R2(null,t,r,!0,s)};ki.hydrateRoot=function(t,r,s){if(!OE(t))throw Error(Dt(405));var a=s!=null&&s.hydratedSources||null,i=!1,o="",l=LW;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),r=EW(r,null,t,1,s!=null?s:null,i,!1,o,l),t[Fl]=r.current,sp(t),a)for(t=0;t<a.length;t++)s=a[t],i=s._getVersion,i=i(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,i]:r.mutableSourceEagerHydrationData.push(s,i);return new P2(r)};ki.render=function(t,r,s){if(!D2(r))throw Error(Dt(200));return R2(null,t,r,!1,s)};ki.unmountComponentAtNode=function(t){if(!D2(t))throw Error(Dt(40));return t._reactRootContainer?(Pu(function(){R2(null,null,t,!1,function(){t._reactRootContainer=null,t[Fl]=null})}),!0):!1};ki.unstable_batchedUpdates=EE;ki.unstable_renderSubtreeIntoContainer=function(t,r,s,a){if(!D2(s))throw Error(Dt(200));if(t==null||t._reactInternals===void 0)throw Error(Dt(38));return R2(t,r,s,!1,a)};ki.version="18.3.1-next-f1338f8080-20240426";function MW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MW)}catch(t){console.error(t)}}MW(),Mz.exports=ki;var Ed=Mz.exports,vA=Ed;TS.createRoot=vA.createRoot,TS.hydrateRoot=vA.hydrateRoot;/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},hp.apply(this,arguments)}var qc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qc||(qc={}));const yA="popstate";function lae(t){t===void 0&&(t={});function r(a,i){let{pathname:o,search:l,hash:c}=a.location;return SC("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(a,i){return typeof i=="string"?i:Yy(i)}return dae(r,s,null,t)}function kn(t,r){if(t===!1||t===null||typeof t=="undefined")throw new Error(r)}function IW(t,r){if(!t){typeof console!="undefined"&&console.warn(r);try{throw new Error(r)}catch(s){}}}function cae(){return Math.random().toString(36).substr(2,8)}function bA(t,r){return{usr:t.state,key:t.key,idx:r}}function SC(t,r,s,a){return s===void 0&&(s=null),hp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?Sh(r):r,{state:s,key:r&&r.key||a||cae()})}function Yy(t){let{pathname:r="/",search:s="",hash:a=""}=t;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Sh(t){let r={};if(t){let s=t.indexOf("#");s>=0&&(r.hash=t.substr(s),t=t.substr(0,s));let a=t.indexOf("?");a>=0&&(r.search=t.substr(a),t=t.substr(0,a)),t&&(r.pathname=t)}return r}function dae(t,r,s,a){a===void 0&&(a={});let{window:i=document.defaultView,v5Compat:o=!1}=a,l=i.history,c=qc.Pop,d=null,f=h();f==null&&(f=0,l.replaceState(hp({},l.state,{idx:f}),""));function h(){return(l.state||{idx:null}).idx}function g(){c=qc.Pop;let w=h(),b=w==null?null:w-f;f=w,d&&d({action:c,location:y.location,delta:b})}function m(w,b){c=qc.Push;let v=SC(y.location,w,b);f=h()+1;let j=bA(v,f),N=y.createHref(v);try{l.pushState(j,"",N)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(N)}o&&d&&d({action:c,location:y.location,delta:1})}function p(w,b){c=qc.Replace;let v=SC(y.location,w,b);f=h();let j=bA(v,f),N=y.createHref(v);l.replaceState(j,"",N),o&&d&&d({action:c,location:y.location,delta:0})}function x(w){let b=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof w=="string"?w:Yy(w);return v=v.replace(/ $/,"%20"),kn(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let y={get action(){return c},get location(){return t(i,l)},listen(w){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(yA,g),d=w,()=>{i.removeEventListener(yA,g),d=null}},createHref(w){return r(i,w)},createURL:x,encodeLocation(w){let b=x(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:p,go(w){return l.go(w)}};return y}var wA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wA||(wA={}));function uae(t,r,s){return s===void 0&&(s="/"),fae(t,r,s,!1)}function fae(t,r,s,a){let i=typeof r=="string"?Sh(r):r,o=rh(i.pathname||"/",s);if(o==null)return null;let l=TW(t);hae(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=Sae(o);c=jae(l[d],f,a)}return c}function TW(t,r,s,a){r===void 0&&(r=[]),s===void 0&&(s=[]),a===void 0&&(a="");let i=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(kn(d.relativePath.startsWith(a),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(a.length));let f=cd([a,d.relativePath]),h=s.concat(d);o.children&&o.children.length>0&&(kn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),TW(o.children,r,h,f)),!(o.path==null&&!o.index)&&r.push({path:f,score:bae(f,o.index),routesMeta:h})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of AW(o.path))i(o,l,d)}),r}function AW(t){let r=t.split("/");if(r.length===0)return[];let[s,...a]=r,i=s.endsWith("?"),o=s.replace(/\?$/,"");if(a.length===0)return i?[o,""]:[o];let l=AW(a.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function hae(t){t.sort((r,s)=>r.score!==s.score?s.score-r.score:wae(r.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const gae=/^:[\w-]+$/,mae=3,pae=2,xae=1,vae=10,yae=-2,jA=t=>t==="*";function bae(t,r){let s=t.split("/"),a=s.length;return s.some(jA)&&(a+=yae),r&&(a+=pae),s.filter(i=>!jA(i)).reduce((i,o)=>i+(gae.test(o)?mae:o===""?xae:vae),a)}function wae(t,r){return t.length===r.length&&t.slice(0,-1).every((a,i)=>a===r[i])?t[t.length-1]-r[r.length-1]:0}function jae(t,r,s){let{routesMeta:a}=t,i={},o="/",l=[];for(let c=0;c<a.length;++c){let d=a[c],f=c===a.length-1,h=o==="/"?r:r.slice(o.length)||"/",g=Jy({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},h),m=d.route;if(!g&&f&&s&&!a[a.length-1].route.index&&(g=Jy({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:cd([o,g.pathname]),pathnameBase:Lae(cd([o,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(o=cd([o,g.pathnameBase]))}return l}function Jy(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,a]=Nae(t.path,t.caseSensitive,t.end),i=r.match(s);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:a.reduce((f,h,g)=>{let{paramName:m,isOptional:p}=h;if(m==="*"){let y=c[g]||"";l=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const x=c[g];return p&&!x?f[m]=void 0:f[m]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function Nae(t,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),IW(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(a.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,r?void 0:"i"),a]}function Sae(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return IW(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function rh(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,a=t.charAt(s);return a&&a!=="/"?null:t.slice(s)||"/"}function Cae(t,r){r===void 0&&(r="/");let{pathname:s,search:a="",hash:i=""}=typeof t=="string"?Sh(t):t;return{pathname:s?s.startsWith("/")?s:kae(s,r):r,search:Mae(a),hash:Iae(i)}}function kae(t,r){let s=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function L4(t,r,s,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Eae(t){return t.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function $E(t,r){let s=Eae(t);return r?s.map((a,i)=>i===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function PE(t,r,s,a){a===void 0&&(a=!1);let i;typeof t=="string"?i=Sh(t):(i=hp({},t),kn(!i.pathname||!i.pathname.includes("?"),L4("?","pathname","search",i)),kn(!i.pathname||!i.pathname.includes("#"),L4("#","pathname","hash",i)),kn(!i.search||!i.search.includes("#"),L4("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=s;else{let g=r.length-1;if(!a&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),g-=1;i.pathname=m.join("/")}c=g>=0?r[g]:"/"}let d=Cae(i,c),f=l&&l!=="/"&&l.endsWith("/"),h=(o||l===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(f||h)&&(d.pathname+="/"),d}const cd=t=>t.join("/").replace(/\/\/+/g,"/"),Lae=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Mae=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Iae=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Tae(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _W=["post","put","patch","delete"];new Set(_W);const Aae=["get",..._W];new Set(Aae);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gp(){return gp=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},gp.apply(this,arguments)}const F2=u.createContext(null),OW=u.createContext(null),Ql=u.createContext(null),B2=u.createContext(null),fl=u.createContext({outlet:null,matches:[],isDataRoute:!1}),$W=u.createContext(null);function _ae(t,r){let{relative:s}=r===void 0?{}:r;Ch()||kn(!1);let{basename:a,navigator:i}=u.useContext(Ql),{hash:o,pathname:l,search:c}=z2(t,{relative:s}),d=l;return a!=="/"&&(d=l==="/"?a:cd([a,l])),i.createHref({pathname:d,search:c,hash:o})}function Ch(){return u.useContext(B2)!=null}function ys(){return Ch()||kn(!1),u.useContext(B2).location}function PW(t){u.useContext(Ql).static||u.useLayoutEffect(t)}function qt(){let{isDataRoute:t}=u.useContext(fl);return t?Yae():Oae()}function Oae(){Ch()||kn(!1);let t=u.useContext(F2),{basename:r,future:s,navigator:a}=u.useContext(Ql),{matches:i}=u.useContext(fl),{pathname:o}=ys(),l=JSON.stringify($E(i,s.v7_relativeSplatPath)),c=u.useRef(!1);return PW(()=>{c.current=!0}),u.useCallback(function(f,h){if(h===void 0&&(h={}),!c.current)return;if(typeof f=="number"){a.go(f);return}let g=PE(f,JSON.parse(l),o,h.relative==="path");t==null&&r!=="/"&&(g.pathname=g.pathname==="/"?r:cd([r,g.pathname])),(h.replace?a.replace:a.push)(g,h.state,h)},[r,a,l,o,t])}const $ae=u.createContext(null);function Pae(t){let r=u.useContext(fl).outlet;return r&&u.createElement($ae.Provider,{value:t},r)}function Ds(){let{matches:t}=u.useContext(fl),r=t[t.length-1];return r?r.params:{}}function z2(t,r){let{relative:s}=r===void 0?{}:r,{future:a}=u.useContext(Ql),{matches:i}=u.useContext(fl),{pathname:o}=ys(),l=JSON.stringify($E(i,a.v7_relativeSplatPath));return u.useMemo(()=>PE(t,JSON.parse(l),o,s==="path"),[t,l,o,s])}function Dae(t,r){return Rae(t,r)}function Rae(t,r,s,a){Ch()||kn(!1);let{navigator:i}=u.useContext(Ql),{matches:o}=u.useContext(fl),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=ys(),h;if(r){var g;let w=typeof r=="string"?Sh(r):r;d==="/"||(g=w.pathname)!=null&&g.startsWith(d)||kn(!1),h=w}else h=f;let m=h.pathname||"/",p=m;if(d!=="/"){let w=d.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=uae(t,{pathname:p}),y=Wae(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:cd([d,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:cd([d,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,s,a);return r&&y?u.createElement(B2.Provider,{value:{location:gp({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:qc.Pop}},y):y}function Fae(){let t=qae(),r=Tae(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},r),s?u.createElement("pre",{style:i},s):null,null)}const Bae=u.createElement(Fae,null);class zae extends u.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?u.createElement(fl.Provider,{value:this.props.routeContext},u.createElement($W.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Uae(t){let{routeContext:r,match:s,children:a}=t,i=u.useContext(F2);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),u.createElement(fl.Provider,{value:r},a)}function Wae(t,r,s,a){var i;if(r===void 0&&(r=[]),s===void 0&&(s=null),a===void 0&&(a=null),t==null){var o;if((o=s)!=null&&o.errors)t=s.matches;else return null}let l=t,c=(i=s)==null?void 0:i.errors;if(c!=null){let h=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);h>=0||kn(!1),l=l.slice(0,Math.min(l.length,h+1))}let d=!1,f=-1;if(s&&a&&a.v7_partialHydration)for(let h=0;h<l.length;h++){let g=l[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=h),g.route.id){let{loaderData:m,errors:p}=s,x=g.route.loader&&m[g.route.id]===void 0&&(!p||p[g.route.id]===void 0);if(g.route.lazy||x){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((h,g,m)=>{let p,x=!1,y=null,w=null;s&&(p=c&&g.route.id?c[g.route.id]:void 0,y=g.route.errorElement||Bae,d&&(f<0&&m===0?(x=!0,w=null):f===m&&(x=!0,w=g.route.hydrateFallbackElement||null)));let b=r.concat(l.slice(0,m+1)),v=()=>{let j;return p?j=y:x?j=w:g.route.Component?j=u.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=h,u.createElement(Uae,{match:g,routeContext:{outlet:h,matches:b,isDataRoute:s!=null},children:j})};return s&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?u.createElement(zae,{location:s.location,revalidation:s.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var DW=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(DW||{}),Zy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Zy||{});function Hae(t){let r=u.useContext(F2);return r||kn(!1),r}function Vae(t){let r=u.useContext(OW);return r||kn(!1),r}function Gae(t){let r=u.useContext(fl);return r||kn(!1),r}function RW(t){let r=Gae(),s=r.matches[r.matches.length-1];return s.route.id||kn(!1),s.route.id}function qae(){var t;let r=u.useContext($W),s=Vae(Zy.UseRouteError),a=RW(Zy.UseRouteError);return r!==void 0?r:(t=s.errors)==null?void 0:t[a]}function Yae(){let{router:t}=Hae(DW.UseNavigateStable),r=RW(Zy.UseNavigateStable),s=u.useRef(!1);return PW(()=>{s.current=!0}),u.useCallback(function(i,o){o===void 0&&(o={}),s.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,gp({fromRouteId:r},o)))},[t,r])}function CC(t){let{to:r,replace:s,state:a,relative:i}=t;Ch()||kn(!1);let{future:o,static:l}=u.useContext(Ql),{matches:c}=u.useContext(fl),{pathname:d}=ys(),f=qt(),h=PE(r,$E(c,o.v7_relativeSplatPath),d,i==="path"),g=JSON.stringify(h);return u.useEffect(()=>f(JSON.parse(g),{replace:s,state:a,relative:i}),[f,g,i,s,a]),null}function DE(t){return Pae(t.context)}function Gt(t){kn(!1)}function Jae(t){let{basename:r="/",children:s=null,location:a,navigationType:i=qc.Pop,navigator:o,static:l=!1,future:c}=t;Ch()&&kn(!1);let d=r.replace(/^\/*/,"/"),f=u.useMemo(()=>({basename:d,navigator:o,static:l,future:gp({v7_relativeSplatPath:!1},c)}),[d,c,o,l]);typeof a=="string"&&(a=Sh(a));let{pathname:h="/",search:g="",hash:m="",state:p=null,key:x="default"}=a,y=u.useMemo(()=>{let w=rh(h,d);return w==null?null:{location:{pathname:w,search:g,hash:m,state:p,key:x},navigationType:i}},[d,h,g,m,p,x,i]);return y==null?null:u.createElement(Ql.Provider,{value:f},u.createElement(B2.Provider,{children:s,value:y}))}function Zae(t){let{children:r,location:s}=t;return Dae(kC(r),s)}new Promise(()=>{});function kC(t,r){r===void 0&&(r=[]);let s=[];return u.Children.forEach(t,(a,i)=>{if(!u.isValidElement(a))return;let o=[...r,i];if(a.type===u.Fragment){s.push.apply(s,kC(a.props.children,o));return}a.type!==Gt&&kn(!1),!a.props.index||!a.props.children||kn(!1);let l={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=kC(a.props.children,o)),s.push(l)}),s}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qy(){return Qy=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Qy.apply(this,arguments)}function FW(t,r){if(t==null)return{};var s={},a=Object.keys(t),i,o;for(o=0;o<a.length;o++)i=a[o],!(r.indexOf(i)>=0)&&(s[i]=t[i]);return s}function Qae(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Kae(t,r){return t.button===0&&(!r||r==="_self")&&!Qae(t)}function EC(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((r,s)=>{let a=t[s];return r.concat(Array.isArray(a)?a.map(i=>[s,i]):[[s,a]])},[]))}function Xae(t,r){let s=EC(t);return r&&r.forEach((a,i)=>{s.has(i)||r.getAll(i).forEach(o=>{s.append(i,o)})}),s}const eie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],tie=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],rie="6";try{window.__reactRouterVersion=rie}catch(t){}const nie=u.createContext({isTransitioning:!1}),sie="startTransition",NA=Qre[sie];function aie(t){let{basename:r,children:s,future:a,window:i}=t,o=u.useRef();o.current==null&&(o.current=lae({window:i,v5Compat:!0}));let l=o.current,[c,d]=u.useState({action:l.action,location:l.location}),{v7_startTransition:f}=a||{},h=u.useCallback(g=>{f&&NA?NA(()=>d(g)):d(g)},[d,f]);return u.useLayoutEffect(()=>l.listen(h),[l,h]),u.createElement(Jae,{basename:r,children:s,location:c.location,navigationType:c.action,navigator:l,future:a})}const iie=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",oie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bn=u.forwardRef(function(r,s){let{onClick:a,relative:i,reloadDocument:o,replace:l,state:c,target:d,to:f,preventScrollReset:h,unstable_viewTransition:g}=r,m=FW(r,eie),{basename:p}=u.useContext(Ql),x,y=!1;if(typeof f=="string"&&oie.test(f)&&(x=f,iie))try{let j=new URL(window.location.href),N=f.startsWith("//")?new URL(j.protocol+f):new URL(f),S=rh(N.pathname,p);N.origin===j.origin&&S!=null?f=S+N.search+N.hash:y=!0}catch(j){}let w=_ae(f,{relative:i}),b=die(f,{replace:l,state:c,target:d,preventScrollReset:h,relative:i,unstable_viewTransition:g});function v(j){a&&a(j),j.defaultPrevented||b(j)}return u.createElement("a",Qy({},m,{href:x||w,onClick:y||o?a:v,ref:s,target:d}))}),lie=u.forwardRef(function(r,s){let{"aria-current":a="page",caseSensitive:i=!1,className:o="",end:l=!1,style:c,to:d,unstable_viewTransition:f,children:h}=r,g=FW(r,tie),m=z2(d,{relative:g.relative}),p=ys(),x=u.useContext(OW),{navigator:y,basename:w}=u.useContext(Ql),b=x!=null&&fie(m)&&f===!0,v=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,j=p.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(j=j.toLowerCase(),N=N?N.toLowerCase():null,v=v.toLowerCase()),N&&w&&(N=rh(N,w)||N);const S=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let I=j===v||!l&&j.startsWith(v)&&j.charAt(S)==="/",E=N!=null&&(N===v||!l&&N.startsWith(v)&&N.charAt(v.length)==="/"),L={isActive:I,isPending:E,isTransitioning:b},C=I?a:void 0,T;typeof o=="function"?T=o(L):T=[o,I?"active":null,E?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let k=typeof c=="function"?c(L):c;return u.createElement(Bn,Qy({},g,{"aria-current":C,className:T,ref:s,style:k,to:d,unstable_viewTransition:f}),typeof h=="function"?h(L):h)});var LC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(LC||(LC={}));var SA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(SA||(SA={}));function cie(t){let r=u.useContext(F2);return r||kn(!1),r}function die(t,r){let{target:s,replace:a,state:i,preventScrollReset:o,relative:l,unstable_viewTransition:c}=r===void 0?{}:r,d=qt(),f=ys(),h=z2(t,{relative:l});return u.useCallback(g=>{if(Kae(g,s)){g.preventDefault();let m=a!==void 0?a:Yy(f)===Yy(h);d(t,{replace:m,state:i,preventScrollReset:o,relative:l,unstable_viewTransition:c})}},[f,d,h,a,i,s,t,o,l,c])}function uie(t){let r=u.useRef(EC(t)),s=u.useRef(!1),a=ys(),i=u.useMemo(()=>Xae(a.search,s.current?null:r.current),[a.search]),o=qt(),l=u.useCallback((c,d)=>{const f=EC(typeof c=="function"?c(i):c);s.current=!0,o("?"+f,d)},[o,i]);return[i,l]}function fie(t,r){r===void 0&&(r={});let s=u.useContext(nie);s==null&&kn(!1);let{basename:a}=cie(LC.useViewTransitionState),i=z2(t,{relative:r.relative});if(!s.isTransitioning)return!1;let o=rh(s.currentLocation.pathname,a)||s.currentLocation.pathname,l=rh(s.nextLocation.pathname,a)||s.nextLocation.pathname;return Jy(i.pathname,l)!=null||Jy(i.pathname,o)!=null}function BW(t,r){return function(){return t.apply(r,arguments)}}const{toString:hie}=Object.prototype,{getPrototypeOf:RE}=Object,{iterator:U2,toStringTag:zW}=Symbol,W2=(t=>r=>{const s=hie.call(r);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),zo=t=>(t=t.toLowerCase(),r=>W2(r)===t),H2=t=>r=>typeof r===t,{isArray:kh}=Array,mp=H2("undefined");function Zp(t){return t!==null&&!mp(t)&&t.constructor!==null&&!mp(t.constructor)&&Ya(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const UW=zo("ArrayBuffer");function gie(t){let r;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&UW(t.buffer),r}const mie=H2("string"),Ya=H2("function"),WW=H2("number"),Qp=t=>t!==null&&typeof t=="object",pie=t=>t===!0||t===!1,Y1=t=>{if(W2(t)!=="object")return!1;const r=RE(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(zW in t)&&!(U2 in t)},xie=t=>{if(!Qp(t)||Zp(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch(r){return!1}},vie=zo("Date"),yie=zo("File"),bie=zo("Blob"),wie=zo("FileList"),jie=t=>Qp(t)&&Ya(t.pipe),Nie=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||Ya(t.append)&&((r=W2(t))==="formdata"||r==="object"&&Ya(t.toString)&&t.toString()==="[object FormData]"))},Sie=zo("URLSearchParams"),[Cie,kie,Eie,Lie]=["ReadableStream","Request","Response","Headers"].map(zo),Mie=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Kp(t,r,{allOwnKeys:s=!1}={}){if(t===null||typeof t=="undefined")return;let a,i;if(typeof t!="object"&&(t=[t]),kh(t))for(a=0,i=t.length;a<i;a++)r.call(null,t[a],a,t);else{if(Zp(t))return;const o=s?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let c;for(a=0;a<l;a++)c=o[a],r.call(null,t[c],c,t)}}function HW(t,r){if(Zp(t))return null;r=r.toLowerCase();const s=Object.keys(t);let a=s.length,i;for(;a-- >0;)if(i=s[a],r===i.toLowerCase())return i;return null}const ju=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,VW=t=>!mp(t)&&t!==ju;function MC(){const{caseless:t}=VW(this)&&this||{},r={},s=(a,i)=>{const o=t&&HW(r,i)||i;Y1(r[o])&&Y1(a)?r[o]=MC(r[o],a):Y1(a)?r[o]=MC({},a):kh(a)?r[o]=a.slice():r[o]=a};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Kp(arguments[a],s);return r}const Iie=(t,r,s,{allOwnKeys:a}={})=>(Kp(r,(i,o)=>{s&&Ya(i)?t[o]=BW(i,s):t[o]=i},{allOwnKeys:a}),t),Tie=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Aie=(t,r,s,a)=>{t.prototype=Object.create(r.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),s&&Object.assign(t.prototype,s)},_ie=(t,r,s,a)=>{let i,o,l;const c={};if(r=r||{},t==null)return r;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)l=i[o],(!a||a(l,t,r))&&!c[l]&&(r[l]=t[l],c[l]=!0);t=s!==!1&&RE(t)}while(t&&(!s||s(t,r))&&t!==Object.prototype);return r},Oie=(t,r,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=r.length;const a=t.indexOf(r,s);return a!==-1&&a===s},$ie=t=>{if(!t)return null;if(kh(t))return t;let r=t.length;if(!WW(r))return null;const s=new Array(r);for(;r-- >0;)s[r]=t[r];return s},Pie=(t=>r=>t&&r instanceof t)(typeof Uint8Array!="undefined"&&RE(Uint8Array)),Die=(t,r)=>{const a=(t&&t[U2]).call(t);let i;for(;(i=a.next())&&!i.done;){const o=i.value;r.call(t,o[0],o[1])}},Rie=(t,r)=>{let s;const a=[];for(;(s=t.exec(r))!==null;)a.push(s);return a},Fie=zo("HTMLFormElement"),Bie=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,i){return a.toUpperCase()+i}),CA=(({hasOwnProperty:t})=>(r,s)=>t.call(r,s))(Object.prototype),zie=zo("RegExp"),GW=(t,r)=>{const s=Object.getOwnPropertyDescriptors(t),a={};Kp(s,(i,o)=>{let l;(l=r(i,o,t))!==!1&&(a[o]=l||i)}),Object.defineProperties(t,a)},Uie=t=>{GW(t,(r,s)=>{if(Ya(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=t[s];if(Ya(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Wie=(t,r)=>{const s={},a=i=>{i.forEach(o=>{s[o]=!0})};return kh(t)?a(t):a(String(t).split(r)),s},Hie=()=>{},Vie=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function Gie(t){return!!(t&&Ya(t.append)&&t[zW]==="FormData"&&t[U2])}const qie=t=>{const r=new Array(10),s=(a,i)=>{if(Qp(a)){if(r.indexOf(a)>=0)return;if(Zp(a))return a;if(!("toJSON"in a)){r[i]=a;const o=kh(a)?[]:{};return Kp(a,(l,c)=>{const d=s(l,i+1);!mp(d)&&(o[c]=d)}),r[i]=void 0,o}}return a};return s(t,0)},Yie=zo("AsyncFunction"),Jie=t=>t&&(Qp(t)||Ya(t))&&Ya(t.then)&&Ya(t.catch),qW=((t,r)=>t?setImmediate:r?((s,a)=>(ju.addEventListener("message",({source:i,data:o})=>{i===ju&&o===s&&a.length&&a.shift()()},!1),i=>{a.push(i),ju.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Ya(ju.postMessage)),Zie=typeof queueMicrotask!="undefined"?queueMicrotask.bind(ju):typeof process!="undefined"&&process.nextTick||qW,Qie=t=>t!=null&&Ya(t[U2]),kt={isArray:kh,isArrayBuffer:UW,isBuffer:Zp,isFormData:Nie,isArrayBufferView:gie,isString:mie,isNumber:WW,isBoolean:pie,isObject:Qp,isPlainObject:Y1,isEmptyObject:xie,isReadableStream:Cie,isRequest:kie,isResponse:Eie,isHeaders:Lie,isUndefined:mp,isDate:vie,isFile:yie,isBlob:bie,isRegExp:zie,isFunction:Ya,isStream:jie,isURLSearchParams:Sie,isTypedArray:Pie,isFileList:wie,forEach:Kp,merge:MC,extend:Iie,trim:Mie,stripBOM:Tie,inherits:Aie,toFlatObject:_ie,kindOf:W2,kindOfTest:zo,endsWith:Oie,toArray:$ie,forEachEntry:Die,matchAll:Rie,isHTMLForm:Fie,hasOwnProperty:CA,hasOwnProp:CA,reduceDescriptors:GW,freezeMethods:Uie,toObjectSet:Wie,toCamelCase:Bie,noop:Hie,toFiniteNumber:Vie,findKey:HW,global:ju,isContextDefined:VW,isSpecCompliantForm:Gie,toJSONObject:qie,isAsyncFn:Yie,isThenable:Jie,setImmediate:qW,asap:Zie,isIterable:Qie};function hr(t,r,s,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),s&&(this.config=s),a&&(this.request=a),i&&(this.response=i,this.status=i.status?i.status:null)}kt.inherits(hr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:kt.toJSONObject(this.config),code:this.code,status:this.status}}});const YW=hr.prototype,JW={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{JW[t]={value:t}});Object.defineProperties(hr,JW);Object.defineProperty(YW,"isAxiosError",{value:!0});hr.from=(t,r,s,a,i,o)=>{const l=Object.create(YW);return kt.toFlatObject(t,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),hr.call(l,t.message,r,s,a,i),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const Kie=null;function IC(t){return kt.isPlainObject(t)||kt.isArray(t)}function ZW(t){return kt.endsWith(t,"[]")?t.slice(0,-2):t}function kA(t,r,s){return t?t.concat(r).map(function(i,o){return i=ZW(i),!s&&o?"["+i+"]":i}).join(s?".":""):r}function Xie(t){return kt.isArray(t)&&!t.some(IC)}const eoe=kt.toFlatObject(kt,{},null,function(r){return/^is[A-Z]/.test(r)});function V2(t,r,s){if(!kt.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,s=kt.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,w){return!kt.isUndefined(w[y])});const a=s.metaTokens,i=s.visitor||h,o=s.dots,l=s.indexes,d=(s.Blob||typeof Blob!="undefined"&&Blob)&&kt.isSpecCompliantForm(r);if(!kt.isFunction(i))throw new TypeError("visitor must be a function");function f(x){if(x===null)return"";if(kt.isDate(x))return x.toISOString();if(kt.isBoolean(x))return x.toString();if(!d&&kt.isBlob(x))throw new hr("Blob is not supported. Use a Buffer instead.");return kt.isArrayBuffer(x)||kt.isTypedArray(x)?d&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function h(x,y,w){let b=x;if(x&&!w&&typeof x=="object"){if(kt.endsWith(y,"{}"))y=a?y:y.slice(0,-2),x=JSON.stringify(x);else if(kt.isArray(x)&&Xie(x)||(kt.isFileList(x)||kt.endsWith(y,"[]"))&&(b=kt.toArray(x)))return y=ZW(y),b.forEach(function(j,N){!(kt.isUndefined(j)||j===null)&&r.append(l===!0?kA([y],N,o):l===null?y:y+"[]",f(j))}),!1}return IC(x)?!0:(r.append(kA(w,y,o),f(x)),!1)}const g=[],m=Object.assign(eoe,{defaultVisitor:h,convertValue:f,isVisitable:IC});function p(x,y){if(!kt.isUndefined(x)){if(g.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));g.push(x),kt.forEach(x,function(b,v){(!(kt.isUndefined(b)||b===null)&&i.call(r,b,kt.isString(v)?v.trim():v,y,m))===!0&&p(b,y?y.concat(v):[v])}),g.pop()}}if(!kt.isObject(t))throw new TypeError("data must be an object");return p(t),r}function EA(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function FE(t,r){this._pairs=[],t&&V2(t,this,r)}const QW=FE.prototype;QW.append=function(r,s){this._pairs.push([r,s])};QW.toString=function(r){const s=r?function(a){return r.call(this,a,EA)}:EA;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function toe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function KW(t,r,s){if(!r)return t;const a=s&&s.encode||toe;kt.isFunction(s)&&(s={serialize:s});const i=s&&s.serialize;let o;if(i?o=i(r,s):o=kt.isURLSearchParams(r)?r.toString():new FE(r,s).toString(a),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class LA{constructor(){this.handlers=[]}use(r,s,a){return this.handlers.push({fulfilled:r,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){kt.forEach(this.handlers,function(a){a!==null&&r(a)})}}const XW={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},roe=typeof URLSearchParams!="undefined"?URLSearchParams:FE,noe=typeof FormData!="undefined"?FormData:null,soe=typeof Blob!="undefined"?Blob:null,aoe={isBrowser:!0,classes:{URLSearchParams:roe,FormData:noe,Blob:soe},protocols:["http","https","file","blob","url","data"]},BE=typeof window!="undefined"&&typeof document!="undefined",TC=typeof navigator=="object"&&navigator||void 0,ioe=BE&&(!TC||["ReactNative","NativeScript","NS"].indexOf(TC.product)<0),ooe=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",loe=BE&&window.location.href||"http://localhost",coe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:BE,hasStandardBrowserEnv:ioe,hasStandardBrowserWebWorkerEnv:ooe,navigator:TC,origin:loe},Symbol.toStringTag,{value:"Module"})),Vs=ne(ne({},coe),aoe);function doe(t,r){return V2(t,new Vs.classes.URLSearchParams,ne({visitor:function(s,a,i,o){return Vs.isNode&&kt.isBuffer(s)?(this.append(a,s.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},r))}function uoe(t){return kt.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function foe(t){const r={},s=Object.keys(t);let a;const i=s.length;let o;for(a=0;a<i;a++)o=s[a],r[o]=t[o];return r}function eH(t){function r(s,a,i,o){let l=s[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=o>=s.length;return l=!l&&kt.isArray(i)?i.length:l,d?(kt.hasOwnProp(i,l)?i[l]=[i[l],a]:i[l]=a,!c):((!i[l]||!kt.isObject(i[l]))&&(i[l]=[]),r(s,a,i[l],o)&&kt.isArray(i[l])&&(i[l]=foe(i[l])),!c)}if(kt.isFormData(t)&&kt.isFunction(t.entries)){const s={};return kt.forEachEntry(t,(a,i)=>{r(uoe(a),i,s,0)}),s}return null}function hoe(t,r,s){if(kt.isString(t))try{return(r||JSON.parse)(t),kt.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(t)}const Xp={transitional:XW,adapter:["xhr","http","fetch"],transformRequest:[function(r,s){const a=s.getContentType()||"",i=a.indexOf("application/json")>-1,o=kt.isObject(r);if(o&&kt.isHTMLForm(r)&&(r=new FormData(r)),kt.isFormData(r))return i?JSON.stringify(eH(r)):r;if(kt.isArrayBuffer(r)||kt.isBuffer(r)||kt.isStream(r)||kt.isFile(r)||kt.isBlob(r)||kt.isReadableStream(r))return r;if(kt.isArrayBufferView(r))return r.buffer;if(kt.isURLSearchParams(r))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let c;if(o){if(a.indexOf("application/x-www-form-urlencoded")>-1)return doe(r,this.formSerializer).toString();if((c=kt.isFileList(r))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return V2(c?{"files[]":r}:r,d&&new d,this.formSerializer)}}return o||i?(s.setContentType("application/json",!1),hoe(r)):r}],transformResponse:[function(r){const s=this.transitional||Xp.transitional,a=s&&s.forcedJSONParsing,i=this.responseType==="json";if(kt.isResponse(r)||kt.isReadableStream(r))return r;if(r&&kt.isString(r)&&(a&&!this.responseType||i)){const l=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(r)}catch(c){if(l)throw c.name==="SyntaxError"?hr.from(c,hr.ERR_BAD_RESPONSE,this,null,this.response):c}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vs.classes.FormData,Blob:Vs.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};kt.forEach(["delete","get","head","post","put","patch"],t=>{Xp.headers[t]={}});const goe=kt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),moe=t=>{const r={};let s,a,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),s=l.substring(0,i).trim().toLowerCase(),a=l.substring(i+1).trim(),!(!s||r[s]&&goe[s])&&(s==="set-cookie"?r[s]?r[s].push(a):r[s]=[a]:r[s]=r[s]?r[s]+", "+a:a)}),r},MA=Symbol("internals");function Sg(t){return t&&String(t).trim().toLowerCase()}function J1(t){return t===!1||t==null?t:kt.isArray(t)?t.map(J1):String(t)}function poe(t){const r=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(t);)r[a[1]]=a[2];return r}const xoe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function M4(t,r,s,a,i){if(kt.isFunction(a))return a.call(this,r,s);if(i&&(r=s),!!kt.isString(r)){if(kt.isString(a))return r.indexOf(a)!==-1;if(kt.isRegExp(a))return a.test(r)}}function voe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,s,a)=>s.toUpperCase()+a)}function yoe(t,r){const s=kt.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+s,{value:function(i,o,l){return this[a].call(this,r,i,o,l)},configurable:!0})})}class Ja{constructor(r){r&&this.set(r)}set(r,s,a){const i=this;function o(c,d,f){const h=Sg(d);if(!h)throw new Error("header name must be a non-empty string");const g=kt.findKey(i,h);(!g||i[g]===void 0||f===!0||f===void 0&&i[g]!==!1)&&(i[g||d]=J1(c))}const l=(c,d)=>kt.forEach(c,(f,h)=>o(f,h,d));if(kt.isPlainObject(r)||r instanceof this.constructor)l(r,s);else if(kt.isString(r)&&(r=r.trim())&&!xoe(r))l(moe(r),s);else if(kt.isObject(r)&&kt.isIterable(r)){let c={},d,f;for(const h of r){if(!kt.isArray(h))throw TypeError("Object iterator must return a key-value pair");c[f=h[0]]=(d=c[f])?kt.isArray(d)?[...d,h[1]]:[d,h[1]]:h[1]}l(c,s)}else r!=null&&o(s,r,a);return this}get(r,s){if(r=Sg(r),r){const a=kt.findKey(this,r);if(a){const i=this[a];if(!s)return i;if(s===!0)return poe(i);if(kt.isFunction(s))return s.call(this,i,a);if(kt.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,s){if(r=Sg(r),r){const a=kt.findKey(this,r);return!!(a&&this[a]!==void 0&&(!s||M4(this,this[a],a,s)))}return!1}delete(r,s){const a=this;let i=!1;function o(l){if(l=Sg(l),l){const c=kt.findKey(a,l);c&&(!s||M4(a,a[c],c,s))&&(delete a[c],i=!0)}}return kt.isArray(r)?r.forEach(o):o(r),i}clear(r){const s=Object.keys(this);let a=s.length,i=!1;for(;a--;){const o=s[a];(!r||M4(this,this[o],o,r,!0))&&(delete this[o],i=!0)}return i}normalize(r){const s=this,a={};return kt.forEach(this,(i,o)=>{const l=kt.findKey(a,o);if(l){s[l]=J1(i),delete s[o];return}const c=r?voe(o):String(o).trim();c!==o&&delete s[o],s[c]=J1(i),a[c]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const s=Object.create(null);return kt.forEach(this,(a,i)=>{a!=null&&a!==!1&&(s[i]=r&&kt.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,s])=>r+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...s){const a=new this(r);return s.forEach(i=>a.set(i)),a}static accessor(r){const a=(this[MA]=this[MA]={accessors:{}}).accessors,i=this.prototype;function o(l){const c=Sg(l);a[c]||(yoe(i,l),a[c]=!0)}return kt.isArray(r)?r.forEach(o):o(r),this}}Ja.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);kt.reduceDescriptors(Ja.prototype,({value:t},r)=>{let s=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(a){this[s]=a}}});kt.freezeMethods(Ja);function I4(t,r){const s=this||Xp,a=r||s,i=Ja.from(a.headers);let o=a.data;return kt.forEach(t,function(c){o=c.call(s,o,i.normalize(),r?r.status:void 0)}),i.normalize(),o}function tH(t){return!!(t&&t.__CANCEL__)}function Eh(t,r,s){hr.call(this,t==null?"canceled":t,hr.ERR_CANCELED,r,s),this.name="CanceledError"}kt.inherits(Eh,hr,{__CANCEL__:!0});function rH(t,r,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?t(s):r(new hr("Request failed with status code "+s.status,[hr.ERR_BAD_REQUEST,hr.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function boe(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function woe(t,r){t=t||10;const s=new Array(t),a=new Array(t);let i=0,o=0,l;return r=r!==void 0?r:1e3,function(d){const f=Date.now(),h=a[o];l||(l=f),s[i]=d,a[i]=f;let g=o,m=0;for(;g!==i;)m+=s[g++],g=g%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),f-l<r)return;const p=h&&f-h;return p?Math.round(m*1e3/p):void 0}}function joe(t,r){let s=0,a=1e3/r,i,o;const l=(f,h=Date.now())=>{s=h,i=null,o&&(clearTimeout(o),o=null),t(...f)};return[(...f)=>{const h=Date.now(),g=h-s;g>=a?l(f,h):(i=f,o||(o=setTimeout(()=>{o=null,l(i)},a-g)))},()=>i&&l(i)]}const Ky=(t,r,s=3)=>{let a=0;const i=woe(50,250);return joe(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,d=l-a,f=i(d),h=l<=c;a=l;const g={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:f||void 0,estimated:f&&c&&h?(c-l)/f:void 0,event:o,lengthComputable:c!=null,[r?"download":"upload"]:!0};t(g)},s)},IA=(t,r)=>{const s=t!=null;return[a=>r[0]({lengthComputable:s,total:t,loaded:a}),r[1]]},TA=t=>(...r)=>kt.asap(()=>t(...r)),Noe=Vs.hasStandardBrowserEnv?((t,r)=>s=>(s=new URL(s,Vs.origin),t.protocol===s.protocol&&t.host===s.host&&(r||t.port===s.port)))(new URL(Vs.origin),Vs.navigator&&/(msie|trident)/i.test(Vs.navigator.userAgent)):()=>!0,Soe=Vs.hasStandardBrowserEnv?{write(t,r,s,a,i,o){const l=[t+"="+encodeURIComponent(r)];kt.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),kt.isString(a)&&l.push("path="+a),kt.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Coe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function koe(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function nH(t,r,s){let a=!Coe(r);return t&&(a||s==!1)?koe(t,r):r}const AA=t=>t instanceof Ja?ne({},t):t;function Du(t,r){r=r||{};const s={};function a(f,h,g,m){return kt.isPlainObject(f)&&kt.isPlainObject(h)?kt.merge.call({caseless:m},f,h):kt.isPlainObject(h)?kt.merge({},h):kt.isArray(h)?h.slice():h}function i(f,h,g,m){if(kt.isUndefined(h)){if(!kt.isUndefined(f))return a(void 0,f,g,m)}else return a(f,h,g,m)}function o(f,h){if(!kt.isUndefined(h))return a(void 0,h)}function l(f,h){if(kt.isUndefined(h)){if(!kt.isUndefined(f))return a(void 0,f)}else return a(void 0,h)}function c(f,h,g){if(g in r)return a(f,h);if(g in t)return a(void 0,f)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(f,h,g)=>i(AA(f),AA(h),g,!0)};return kt.forEach(Object.keys(ne(ne({},t),r)),function(h){const g=d[h]||i,m=g(t[h],r[h],h);kt.isUndefined(m)&&g!==c||(s[h]=m)}),s}const sH=t=>{const r=Du({},t);let{data:s,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:c}=r;r.headers=l=Ja.from(l),r.url=KW(nH(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(kt.isFormData(s)){if(Vs.hasStandardBrowserEnv||Vs.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[f,...h]=d?d.split(";").map(g=>g.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...h].join("; "))}}if(Vs.hasStandardBrowserEnv&&(a&&kt.isFunction(a)&&(a=a(r)),a||a!==!1&&Noe(r.url))){const f=i&&o&&Soe.read(o);f&&l.set(i,f)}return r},Eoe=typeof XMLHttpRequest!="undefined",Loe=Eoe&&function(t){return new Promise(function(s,a){const i=sH(t);let o=i.data;const l=Ja.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:f}=i,h,g,m,p,x;function y(){p&&p(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function b(){if(!w)return;const j=Ja.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),S={data:!c||c==="text"||c==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:j,config:t,request:w};rH(function(E){s(E),y()},function(E){a(E),y()},S),w=null}"onloadend"in w?w.onloadend=b:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(b)},w.onabort=function(){w&&(a(new hr("Request aborted",hr.ECONNABORTED,t,w)),w=null)},w.onerror=function(){a(new hr("Network Error",hr.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||XW;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),a(new hr(N,S.clarifyTimeoutError?hr.ETIMEDOUT:hr.ECONNABORTED,t,w)),w=null},o===void 0&&l.setContentType(null),"setRequestHeader"in w&&kt.forEach(l.toJSON(),function(N,S){w.setRequestHeader(S,N)}),kt.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),c&&c!=="json"&&(w.responseType=i.responseType),f&&([m,x]=Ky(f,!0),w.addEventListener("progress",m)),d&&w.upload&&([g,p]=Ky(d),w.upload.addEventListener("progress",g),w.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(h=j=>{w&&(a(!j||j.type?new Eh(null,t,w):j),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const v=boe(i.url);if(v&&Vs.protocols.indexOf(v)===-1){a(new hr("Unsupported protocol "+v+":",hr.ERR_BAD_REQUEST,t));return}w.send(o||null)})},Moe=(t,r)=>{const{length:s}=t=t?t.filter(Boolean):[];if(r||s){let a=new AbortController,i;const o=function(f){if(!i){i=!0,c();const h=f instanceof Error?f:this.reason;a.abort(h instanceof hr?h:new Eh(h instanceof Error?h.message:h))}};let l=r&&setTimeout(()=>{l=null,o(new hr(`timeout ${r} of ms exceeded`,hr.ETIMEDOUT))},r);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),t=null)};t.forEach(f=>f.addEventListener("abort",o));const{signal:d}=a;return d.unsubscribe=()=>kt.asap(c),d}},Ioe=function*(t,r){let s=t.byteLength;if(!r||s<r){yield t;return}let a=0,i;for(;a<s;)i=a+r,yield t.slice(a,i),a=i},Toe=function(t,r){return e4(this,null,function*(){try{for(var s=c5(Aoe(t)),a,i,o;a=!(i=yield new qd(s.next())).done;a=!1){const l=i.value;yield*t4(Ioe(l,r))}}catch(i){o=[i]}finally{try{a&&(i=s.return)&&(yield new qd(i.call(s)))}finally{if(o)throw o[0]}}})},Aoe=function(t){return e4(this,null,function*(){if(t[Symbol.asyncIterator]){yield*t4(t);return}const r=t.getReader();try{for(;;){const{done:s,value:a}=yield new qd(r.read());if(s)break;yield a}}finally{yield new qd(r.cancel())}})},_A=(t,r,s,a)=>{const i=Toe(t,r);let o=0,l,c=f=>{l||(l=!0,a&&a(f))};return new ReadableStream({pull(f){return ve(this,null,function*(){try{const{done:h,value:g}=yield i.next();if(h){c(),f.close();return}let m=g.byteLength;if(s){let p=o+=m;s(p)}f.enqueue(new Uint8Array(g))}catch(h){throw c(h),h}})},cancel(f){return c(f),i.return()}},{highWaterMark:2})},G2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",aH=G2&&typeof ReadableStream=="function",_oe=G2&&(typeof TextEncoder=="function"?(t=>r=>t.encode(r))(new TextEncoder):t=>ve(void 0,null,function*(){return new Uint8Array(yield new Response(t).arrayBuffer())})),iH=(t,...r)=>{try{return!!t(...r)}catch(s){return!1}},Ooe=aH&&iH(()=>{let t=!1;const r=new Request(Vs.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!r}),OA=64*1024,AC=aH&&iH(()=>kt.isReadableStream(new Response("").body)),Xy={stream:AC&&(t=>t.body)};G2&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!Xy[r]&&(Xy[r]=kt.isFunction(t[r])?s=>s[r]():(s,a)=>{throw new hr(`Response type '${r}' is not supported`,hr.ERR_NOT_SUPPORT,a)})})})(new Response);const $oe=t=>ve(void 0,null,function*(){if(t==null)return 0;if(kt.isBlob(t))return t.size;if(kt.isSpecCompliantForm(t))return(yield new Request(Vs.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(kt.isArrayBufferView(t)||kt.isArrayBuffer(t))return t.byteLength;if(kt.isURLSearchParams(t)&&(t=t+""),kt.isString(t))return(yield _oe(t)).byteLength}),Poe=(t,r)=>ve(void 0,null,function*(){const s=kt.toFiniteNumber(t.getContentLength());return s==null?$oe(r):s}),Doe=G2&&(t=>ve(void 0,null,function*(){let{url:r,method:s,data:a,signal:i,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:f,headers:h,withCredentials:g="same-origin",fetchOptions:m}=sH(t);f=f?(f+"").toLowerCase():"text";let p=Moe([i,o&&o.toAbortSignal()],l),x;const y=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let w;try{if(d&&Ooe&&s!=="get"&&s!=="head"&&(w=yield Poe(h,a))!==0){let S=new Request(r,{method:"POST",body:a,duplex:"half"}),I;if(kt.isFormData(a)&&(I=S.headers.get("content-type"))&&h.setContentType(I),S.body){const[E,L]=IA(w,Ky(TA(d)));a=_A(S.body,OA,E,L)}}kt.isString(g)||(g=g?"include":"omit");const b="credentials"in Request.prototype;x=new Request(r,me(ne({},m),{signal:p,method:s.toUpperCase(),headers:h.normalize().toJSON(),body:a,duplex:"half",credentials:b?g:void 0}));let v=yield fetch(x,m);const j=AC&&(f==="stream"||f==="response");if(AC&&(c||j&&y)){const S={};["status","statusText","headers"].forEach(C=>{S[C]=v[C]});const I=kt.toFiniteNumber(v.headers.get("content-length")),[E,L]=c&&IA(I,Ky(TA(c),!0))||[];v=new Response(_A(v.body,OA,E,()=>{L&&L(),y&&y()}),S)}f=f||"text";let N=yield Xy[kt.findKey(Xy,f)||"text"](v,t);return!j&&y&&y(),yield new Promise((S,I)=>{rH(S,I,{data:N,headers:Ja.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:x})})}catch(b){throw y&&y(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new hr("Network Error",hr.ERR_NETWORK,t,x),{cause:b.cause||b}):hr.from(b,b&&b.code,t,x)}})),_C={http:Kie,xhr:Loe,fetch:Doe};kt.forEach(_C,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch(s){}Object.defineProperty(t,"adapterName",{value:r})}});const $A=t=>`- ${t}`,Roe=t=>kt.isFunction(t)||t===null||t===!1,oH={getAdapter:t=>{t=kt.isArray(t)?t:[t];const{length:r}=t;let s,a;const i={};for(let o=0;o<r;o++){s=t[o];let l;if(a=s,!Roe(s)&&(a=_C[(l=String(s)).toLowerCase()],a===void 0))throw new hr(`Unknown adapter '${l}'`);if(a)break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map($A).join(`
`):" "+$A(o[0]):"as no adapter specified";throw new hr("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:_C};function T4(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Eh(null,t)}function PA(t){return T4(t),t.headers=Ja.from(t.headers),t.data=I4.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),oH.getAdapter(t.adapter||Xp.adapter)(t).then(function(a){return T4(t),a.data=I4.call(t,t.transformResponse,a),a.headers=Ja.from(a.headers),a},function(a){return tH(a)||(T4(t),a&&a.response&&(a.response.data=I4.call(t,t.transformResponse,a.response),a.response.headers=Ja.from(a.response.headers))),Promise.reject(a)})}const lH="1.11.0",q2={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{q2[t]=function(a){return typeof a===t||"a"+(r<1?"n ":" ")+t}});const DA={};q2.transitional=function(r,s,a){function i(o,l){return"[Axios v"+lH+"] Transitional option '"+o+"'"+l+(a?". "+a:"")}return(o,l,c)=>{if(r===!1)throw new hr(i(l," has been removed"+(s?" in "+s:"")),hr.ERR_DEPRECATED);return s&&!DA[l]&&(DA[l]=!0,console.warn(i(l," has been deprecated since v"+s+" and will be removed in the near future"))),r?r(o,l,c):!0}};q2.spelling=function(r){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${r}`),!0)};function Foe(t,r,s){if(typeof t!="object")throw new hr("options must be an object",hr.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let i=a.length;for(;i-- >0;){const o=a[i],l=r[o];if(l){const c=t[o],d=c===void 0||l(c,o,t);if(d!==!0)throw new hr("option "+o+" must be "+d,hr.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new hr("Unknown option "+o,hr.ERR_BAD_OPTION)}}const Z1={assertOptions:Foe,validators:q2},qo=Z1.validators;class ku{constructor(r){this.defaults=r||{},this.interceptors={request:new LA,response:new LA}}request(r,s){return ve(this,null,function*(){try{return yield this._request(r,s)}catch(a){if(a instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{a.stack?o&&!String(a.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+o):a.stack=o}catch(l){}}throw a}})}_request(r,s){typeof r=="string"?(s=s||{},s.url=r):s=r||{},s=Du(this.defaults,s);const{transitional:a,paramsSerializer:i,headers:o}=s;a!==void 0&&Z1.assertOptions(a,{silentJSONParsing:qo.transitional(qo.boolean),forcedJSONParsing:qo.transitional(qo.boolean),clarifyTimeoutError:qo.transitional(qo.boolean)},!1),i!=null&&(kt.isFunction(i)?s.paramsSerializer={serialize:i}:Z1.assertOptions(i,{encode:qo.function,serialize:qo.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Z1.assertOptions(s,{baseUrl:qo.spelling("baseURL"),withXsrfToken:qo.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let l=o&&kt.merge(o.common,o[s.method]);o&&kt.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),s.headers=Ja.concat(l,o);const c=[];let d=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(s)===!1||(d=d&&y.synchronous,c.unshift(y.fulfilled,y.rejected))});const f=[];this.interceptors.response.forEach(function(y){f.push(y.fulfilled,y.rejected)});let h,g=0,m;if(!d){const x=[PA.bind(this),void 0];for(x.unshift(...c),x.push(...f),m=x.length,h=Promise.resolve(s);g<m;)h=h.then(x[g++],x[g++]);return h}m=c.length;let p=s;for(g=0;g<m;){const x=c[g++],y=c[g++];try{p=x(p)}catch(w){y.call(this,w);break}}try{h=PA.call(this,p)}catch(x){return Promise.reject(x)}for(g=0,m=f.length;g<m;)h=h.then(f[g++],f[g++]);return h}getUri(r){r=Du(this.defaults,r);const s=nH(r.baseURL,r.url,r.allowAbsoluteUrls);return KW(s,r.params,r.paramsSerializer)}}kt.forEach(["delete","get","head","options"],function(r){ku.prototype[r]=function(s,a){return this.request(Du(a||{},{method:r,url:s,data:(a||{}).data}))}});kt.forEach(["post","put","patch"],function(r){function s(a){return function(o,l,c){return this.request(Du(c||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}ku.prototype[r]=s(),ku.prototype[r+"Form"]=s(!0)});class zE{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(o){s=o});const a=this;this.promise.then(i=>{if(!a._listeners)return;let o=a._listeners.length;for(;o-- >0;)a._listeners[o](i);a._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(c=>{a.subscribe(c),o=c}).then(i);return l.cancel=function(){a.unsubscribe(o)},l},r(function(o,l,c){a.reason||(a.reason=new Eh(o,l,c),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const s=this._listeners.indexOf(r);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const r=new AbortController,s=a=>{r.abort(a)};return this.subscribe(s),r.signal.unsubscribe=()=>this.unsubscribe(s),r.signal}static source(){let r;return{token:new zE(function(i){r=i}),cancel:r}}}function Boe(t){return function(s){return t.apply(null,s)}}function zoe(t){return kt.isObject(t)&&t.isAxiosError===!0}const OC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(OC).forEach(([t,r])=>{OC[r]=t});function cH(t){const r=new ku(t),s=BW(ku.prototype.request,r);return kt.extend(s,ku.prototype,r,{allOwnKeys:!0}),kt.extend(s,r,null,{allOwnKeys:!0}),s.create=function(i){return cH(Du(t,i))},s}const zn=cH(Xp);zn.Axios=ku;zn.CanceledError=Eh;zn.CancelToken=zE;zn.isCancel=tH;zn.VERSION=lH;zn.toFormData=V2;zn.AxiosError=hr;zn.Cancel=zn.CanceledError;zn.all=function(r){return Promise.all(r)};zn.spread=Boe;zn.isAxiosError=zoe;zn.mergeConfig=Du;zn.AxiosHeaders=Ja;zn.formToJSON=t=>eH(kt.isHTMLForm(t)?new FormData(t):t);zn.getAdapter=oH.getAdapter;zn.HttpStatusCode=OC;zn.default=zn;const En="https://api.54links.com/api",Le=zn.create({baseURL:En,headers:{"Content-Type":"application/json"}}),qu=zn.create({baseURL:En,headers:{"Content-Type":"multipart/form-data"}});qu.interceptors.request.use(t=>{var r;if(!((r=t.headers)!=null&&r.Authorization)){const s=Y2();s&&(t.headers.Authorization=`Bearer ${s}`)}return t});qu.interceptors.response.use(t=>t,t=>{var r;return((r=t==null?void 0:t.response)==null?void 0:r.status)===401&&(UE(null),window.dispatchEvent(new Event("auth:unauthorized"))),Promise.reject(t)});function Y2(){return localStorage.getItem("auth_token")||localStorage.getItem("token")||null}function UE(t){if(!t){localStorage.removeItem("auth_token"),localStorage.removeItem("token"),delete Le.defaults.headers.common.Authorization;return}localStorage.setItem("auth_token",t),localStorage.setItem("token",t),Le.defaults.headers.common.Authorization=`Bearer ${t}`}const RA=Y2();RA&&(Le.defaults.headers.common.Authorization=`Bearer ${RA}`);Le.interceptors.request.use(t=>{var r;if(!((r=t.headers)!=null&&r.Authorization)){const s=Y2();s&&(t.headers.Authorization=`Bearer ${s}`)}return t});Le.interceptors.response.use(t=>t,t=>{var r;return((r=t==null?void 0:t.response)==null?void 0:r.status)===401&&(UE(null),window.dispatchEvent(new Event("auth:unauthorized"))),Promise.reject(t)});const Ws={search:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("circle",{cx:"11",cy:"11",r:"7"}),n.jsx("path",{d:"M21 21l-3.5-3.5"})]}),see:()=>n.jsx("svg",{stroke:"currentColor",className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",width:"24px",fill:"#5f6368",children:n.jsx("path",{d:"M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800q146 0 266 81.5T920-500q-54 137-174 218.5T480-200Zm0-300Zm0 220q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113 0-207.5 59.5T128-500q50 101 144.5 160.5T480-280Z"})}),msg:()=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 -960 960 960",fill:"currentColor",children:n.jsx("path",{d:"M80-80v-720q0-33 23.5-56.5T160-880h640q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H240L80-80Zm126-240h594v-480H160v525l46-45Zm-46 0v-480 480Z"})}),heart:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12 21s-6.7-4.35-9.43-7.06A5.5 5.5 0 0 1 11.5 6.5L12 7l.5-.5a5.5 5.5 0 0 1 8.93 7.44C18.72 16.65 12 21 12 21z"})}),comment:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H8l-5 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),share:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"M4 12v7a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-7"}),n.jsx("path",{d:"M16 6l-4-4-4 4M12 2v14"})]}),dots:()=>n.jsxs("svg",{className:"h-5 w-5 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("circle",{cx:"5",cy:"12",r:"2"}),n.jsx("circle",{cx:"12",cy:"12",r:"2"}),n.jsx("circle",{cx:"19",cy:"12",r:"2"})]}),plus:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"M11 5h2v14h-2z"}),n.jsx("path",{d:"M5 11h14v2H5z"})]}),edit:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),n.jsx("path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z"})]}),products:()=>n.jsx("svg",{className:"h-[18px] w-[18px]",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M3 7l9-4 9 4-9 4-9-4Zm0 4l9 4 9-4v6l-9 4-9-4v-6Z"})}),funding:()=>n.jsx("svg",{className:"h-[18px] w-[18px]",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 -960 960 960",width:"24px",children:n.jsx("path",{d:"M200-120q-33 0-56.5-23.5T120-200v-640h80v640h640v80H200Zm40-120v-360h160v360H240Zm200 0v-560h160v560H440Zm200 0v-200h160v200H640Z"})}),services:()=>n.jsx("svg",{className:"h-[18px] w-[18px]",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",width:"24px",children:n.jsx("path",{d:"M360-640h240v-80H360v80ZM80-160v-200h160v40h80v-40h320v40h80v-40h160v200H80Zm0-240v-160q0-33 23.5-56.5T160-640h120v-80q0-33 23.5-56.5T360-800h240q33 0 56.5 23.5T680-720v80h120q33 0 56.5 23.5T880-560v160H720v-80h-80v80H320v-80h-80v80H80Z"})}),boost:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})}),briefcase:()=>n.jsx("svg",{className:"h-[18px] w-[18px]",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",width:"24px",children:n.jsx("path",{d:"M360-640h240v-80H360v80ZM80-160v-200h160v40h80v-40h320v40h80v-40h160v200H80Zm0-240v-160q0-33 23.5-56.5T160-640h120v-80q0-33 23.5-56.5T360-800h240q33 0 56.5 23.5T680-720v80h120q33 0 56.5 23.5T880-560v160H720v-80h-80v80H320v-80h-80v80H80Z"})}),filter:()=>n.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M3 5h18v2l-7 7v5l-4 2v-7L3 7z"})}),company:()=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"24px",fill:"#5f6368",children:n.jsx("path",{d:"M80-120v-720h400v160h400v560H80Zm80-80h80v-80h-80v80Zm0-160h80v-80h-80v80Zm0-160h80v-80h-80v80Zm0-160h80v-80h-80v80Zm160 480h80v-80h-80v80Zm0-160h80v-80h-80v80Zm0-160h80v-80h-80v80Zm0-160h80v-80h-80v80Zm160 480h320v-400H480v80h80v80h-80v80h80v80h-80v80Zm160-240v-80h80v80h-80Zm0 160v-80h80v80h-80Z"})}),close:()=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#5f6368",children:n.jsx("path",{d:"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"})}),bell:()=>n.jsx("svg",{className:"text-gray-600",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20",children:n.jsx("path",{d:"M12 22a2.5 2.5 0 0 0 2.45-2H9.55A2.5 2.5 0 0 0 12 22ZM18 16v-5a6 6 0 1 0-12 0v5l-1.8 1.8A1 1 0 0 0 5 20h14a1 1 0 0 0 .8-1.6Z"})}),chat:()=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",width:"20",viewBox:"0 -960 960 960",fill:"#5f6368",children:n.jsx("path",{d:"M80-80v-720q0-33 23.5-56.5T160-880h640q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H240L80-80Z"})}),feed:()=>n.jsx("svg",{className:"h-[18px] w-[18px]",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M3 3h8v8H3zM13 3h8v5h-8zM13 10h8v11h-8zM3 13h8v8H3z"})}),people:()=>n.jsx("svg",{className:"h-[18px] w-[18px]",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M16 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4ZM6 12a3 3 0 1 0-3-3 3 3 0 0 0 3 3ZM2 20a6 6 0 0 1 12 0v1H2Zm12.5 1v-1a7.5 7.5 0 0 1 9.5-7.2V21Z"})}),jobs:()=>n.jsxs("svg",{className:"h-[18px] w-[18px]",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"M10 3h4a2 2 0 0 1 2 2v1h3a2 2 0 0 1 2 2v3H3V8a2 2 0 0 1 2-2h3V5a2 2 0 0 1 2-2Zm4 3V5h-4v1h4Z"}),n.jsx("path",{d:"M3 11h18v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7Zm8 2H5v2h6v-2Z"})]}),calendar:()=>n.jsxs("svg",{className:"h-[18px] w-[18px]",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"M7 2h2v3H7zm8 0h2v3h-2z"}),n.jsx("path",{d:"M5 5h14a2 2 0 0 1 2 2v13H3V7a2 2 0 0 1 2-2h3V5a2 2 0 0 1 2-2Zm0 5v9h14v-9H5Z"})]}),biz:()=>n.jsxs("svg",{className:"h-[18px] w-[18px]",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"M3 21V3h8v6h10v12H3Z"}),n.jsx("path",{d:"M7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"})]}),pin:()=>n.jsx("svg",{className:"h-[18px] w-[18px]",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Zm0 9.5A2.5 2.5 0 1 1 14.5 9 2.5 2.5 0 0 1 12 11.5Z"})}),chevron:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"m6 9 6 6 6-6"})}),eye:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12 5c5 0 9.3 3.1 11 7-1.7 3.9-6 7-11 7S2.7 15.9 1 12c1.7-3.9 6-7 11-7Zm0 10a3 3 0 1 0-3-3 3 3 0 0 0 3 3Z"})})};function Pr({label:t,type:r="text",placeholder:s,value:a,onChange:i,rightIcon:o,name:l,error:c}){return n.jsxs("div",{className:"space-y-1",children:[t&&n.jsx("label",{className:"text-sm font-medium text-gray-700",children:t}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{name:l,type:r,placeholder:s,value:a,onChange:i,className:`w-full rounded-xl border px-4 py-3 pr-11 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${c?"border-red-400 focus:ring-red-400":"border-gray-200"}`}),o&&n.jsx("span",{className:"absolute inset-y-0 right-0 grid w-10 place-items-center text-gray-400",children:o})]}),c&&n.jsx("p",{className:"text-xs text-red-600",children:c})]})}let Uoe={data:""},Woe=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Uoe,Hoe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Voe=/\/\*[^]*?\*\/|  +/g,FA=/\n+/g,Hc=(t,r)=>{let s="",a="",i="";for(let o in t){let l=t[o];o[0]=="@"?o[1]=="i"?s=o+" "+l+";":a+=o[1]=="f"?Hc(l,o):o+"{"+Hc(l,o[1]=="k"?"":r)+"}":typeof l=="object"?a+=Hc(l,r?r.replace(/([^,])+/g,c=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Hc.p?Hc.p(o,l):o+":"+l+";")}return s+(r&&i?r+"{"+i+"}":i)+a},Nl={},dH=t=>{if(typeof t=="object"){let r="";for(let s in t)r+=s+dH(t[s]);return r}return t},Goe=(t,r,s,a,i)=>{let o=dH(t),l=Nl[o]||(Nl[o]=(d=>{let f=0,h=11;for(;f<d.length;)h=101*h+d.charCodeAt(f++)>>>0;return"go"+h})(o));if(!Nl[l]){let d=o!==t?t:(f=>{let h,g,m=[{}];for(;h=Hoe.exec(f.replace(Voe,""));)h[4]?m.shift():h[3]?(g=h[3].replace(FA," ").trim(),m.unshift(m[0][g]=m[0][g]||{})):m[0][h[1]]=h[2].replace(FA," ").trim();return m[0]})(t);Nl[l]=Hc(i?{["@keyframes "+l]:d}:d,s?"":"."+l)}let c=s&&Nl.g?Nl.g:null;return s&&(Nl.g=Nl[l]),((d,f,h,g)=>{g?f.data=f.data.replace(g,d):f.data.indexOf(d)===-1&&(f.data=h?d+f.data:f.data+d)})(Nl[l],r,a,c),l},qoe=(t,r,s)=>t.reduce((a,i,o)=>{let l=r[o];if(l&&l.call){let c=l(s),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=d?"."+d:c&&typeof c=="object"?c.props?"":Hc(c,""):c===!1?"":c}return a+i+(l==null?"":l)},"");function J2(t){let r=this||{},s=t.call?t(r.p):t;return Goe(s.unshift?s.raw?qoe(s,[].slice.call(arguments,1),r.p):s.reduce((a,i)=>Object.assign(a,i&&i.call?i(r.p):i),{}):s,Woe(r.target),r.g,r.o,r.k)}let uH,$C,PC;J2.bind({g:1});let Ul=J2.bind({k:1});function Yoe(t,r,s,a){Hc.p=r,uH=t,$C=s,PC=a}function Ld(t,r){let s=this||{};return function(){let a=arguments;function i(o,l){let c=Object.assign({},o),d=c.className||i.className;s.p=Object.assign({theme:$C&&$C()},c),s.o=/ *go\d+/.test(d),c.className=J2.apply(s,a)+(d?" "+d:"");let f=t;return t[0]&&(f=c.as||t,delete c.as),PC&&f[0]&&PC(c),uH(f,c)}return i}}var Joe=t=>typeof t=="function",eb=(t,r)=>Joe(t)?t(r):t,Zoe=(()=>{let t=0;return()=>(++t).toString()})(),fH=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let r=matchMedia("(prefers-reduced-motion: reduce)");t=!r||r.matches}return t}})(),Qoe=20,WE="default",hH=(t,r)=>{let{toastLimit:s}=t.settings;switch(r.type){case 0:return me(ne({},t),{toasts:[r.toast,...t.toasts].slice(0,s)});case 1:return me(ne({},t),{toasts:t.toasts.map(l=>l.id===r.toast.id?ne(ne({},l),r.toast):l)});case 2:let{toast:a}=r;return hH(t,{type:t.toasts.find(l=>l.id===a.id)?1:0,toast:a});case 3:let{toastId:i}=r;return me(ne({},t),{toasts:t.toasts.map(l=>l.id===i||i===void 0?me(ne({},l),{dismissed:!0,visible:!1}):l)});case 4:return r.toastId===void 0?me(ne({},t),{toasts:[]}):me(ne({},t),{toasts:t.toasts.filter(l=>l.id!==r.toastId)});case 5:return me(ne({},t),{pausedAt:r.time});case 6:let o=r.time-(t.pausedAt||0);return me(ne({},t),{pausedAt:void 0,toasts:t.toasts.map(l=>me(ne({},l),{pauseDuration:l.pauseDuration+o}))})}},Q1=[],gH={toasts:[],pausedAt:void 0,settings:{toastLimit:Qoe}},nl={},mH=(t,r=WE)=>{nl[r]=hH(nl[r]||gH,t),Q1.forEach(([s,a])=>{s===r&&a(nl[r])})},pH=t=>Object.keys(nl).forEach(r=>mH(t,r)),Koe=t=>Object.keys(nl).find(r=>nl[r].toasts.some(s=>s.id===t)),Z2=(t=WE)=>r=>{mH(r,t)},Xoe={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ele=(t={},r=WE)=>{let[s,a]=u.useState(nl[r]||gH),i=u.useRef(nl[r]);u.useEffect(()=>(i.current!==nl[r]&&a(nl[r]),Q1.push([r,a]),()=>{let l=Q1.findIndex(([c])=>c===r);l>-1&&Q1.splice(l,1)}),[r]);let o=s.toasts.map(l=>{var c,d,f;return me(ne(ne(ne({},t),t[l.type]),l),{removeDelay:l.removeDelay||((c=t[l.type])==null?void 0:c.removeDelay)||(t==null?void 0:t.removeDelay),duration:l.duration||((d=t[l.type])==null?void 0:d.duration)||(t==null?void 0:t.duration)||Xoe[l.type],style:ne(ne(ne({},t.style),(f=t[l.type])==null?void 0:f.style),l.style)})});return me(ne({},s),{toasts:o})},tle=(t,r="blank",s)=>me(ne({createdAt:Date.now(),visible:!0,dismissed:!1,type:r,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0},s),{id:(s==null?void 0:s.id)||Zoe()}),ex=t=>(r,s)=>{let a=tle(r,t,s);return Z2(a.toasterId||Koe(a.id))({type:2,toast:a}),a.id},ss=(t,r)=>ex("blank")(t,r);ss.error=ex("error");ss.success=ex("success");ss.loading=ex("loading");ss.custom=ex("custom");ss.dismiss=(t,r)=>{let s={type:3,toastId:t};r?Z2(r)(s):pH(s)};ss.dismissAll=t=>ss.dismiss(void 0,t);ss.remove=(t,r)=>{let s={type:4,toastId:t};r?Z2(r)(s):pH(s)};ss.removeAll=t=>ss.remove(void 0,t);ss.promise=(t,r,s)=>{let a=ss.loading(r.loading,ne(ne({},s),s==null?void 0:s.loading));return typeof t=="function"&&(t=t()),t.then(i=>{let o=r.success?eb(r.success,i):void 0;return o?ss.success(o,ne(ne({id:a},s),s==null?void 0:s.success)):ss.dismiss(a),i}).catch(i=>{let o=r.error?eb(r.error,i):void 0;o?ss.error(o,ne(ne({id:a},s),s==null?void 0:s.error)):ss.dismiss(a)}),t};var rle=1e3,nle=(t,r="default")=>{let{toasts:s,pausedAt:a}=ele(t,r),i=u.useRef(new Map).current,o=u.useCallback((g,m=rle)=>{if(i.has(g))return;let p=setTimeout(()=>{i.delete(g),l({type:4,toastId:g})},m);i.set(g,p)},[]);u.useEffect(()=>{if(a)return;let g=Date.now(),m=s.map(p=>{if(p.duration===1/0)return;let x=(p.duration||0)+p.pauseDuration-(g-p.createdAt);if(x<0){p.visible&&ss.dismiss(p.id);return}return setTimeout(()=>ss.dismiss(p.id,r),x)});return()=>{m.forEach(p=>p&&clearTimeout(p))}},[s,a,r]);let l=u.useCallback(Z2(r),[r]),c=u.useCallback(()=>{l({type:5,time:Date.now()})},[l]),d=u.useCallback((g,m)=>{l({type:1,toast:{id:g,height:m}})},[l]),f=u.useCallback(()=>{a&&l({type:6,time:Date.now()})},[a,l]),h=u.useCallback((g,m)=>{let{reverseOrder:p=!1,gutter:x=8,defaultPosition:y}=m||{},w=s.filter(j=>(j.position||y)===(g.position||y)&&j.height),b=w.findIndex(j=>j.id===g.id),v=w.filter((j,N)=>N<b&&j.visible).length;return w.filter(j=>j.visible).slice(...p?[v+1]:[0,v]).reduce((j,N)=>j+(N.height||0)+x,0)},[s]);return u.useEffect(()=>{s.forEach(g=>{if(g.dismissed)o(g.id,g.removeDelay);else{let m=i.get(g.id);m&&(clearTimeout(m),i.delete(g.id))}})},[s,o]),{toasts:s,handlers:{updateHeight:d,startPause:c,endPause:f,calculateOffset:h}}},sle=Ul`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ale=Ul`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ile=Ul`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ole=Ld("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sle} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ale} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ile} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,lle=Ul`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,cle=Ld("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${lle} 1s linear infinite;
`,dle=Ul`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ule=Ul`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,fle=Ld("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dle} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ule} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,hle=Ld("div")`
  position: absolute;
`,gle=Ld("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,mle=Ul`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ple=Ld("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${mle} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,xle=({toast:t})=>{let{icon:r,type:s,iconTheme:a}=t;return r!==void 0?typeof r=="string"?u.createElement(ple,null,r):r:s==="blank"?null:u.createElement(gle,null,u.createElement(cle,ne({},a)),s!=="loading"&&u.createElement(hle,null,s==="error"?u.createElement(ole,ne({},a)):u.createElement(fle,ne({},a))))},vle=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,yle=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,ble="0%{opacity:0;} 100%{opacity:1;}",wle="0%{opacity:1;} 100%{opacity:0;}",jle=Ld("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Nle=Ld("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Sle=(t,r)=>{let s=t.includes("top")?1:-1,[a,i]=fH()?[ble,wle]:[vle(s),yle(s)];return{animation:r?`${Ul(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ul(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Cle=u.memo(({toast:t,position:r,style:s,children:a})=>{let i=t.height?Sle(t.position||r||"top-center",t.visible):{opacity:0},o=u.createElement(xle,{toast:t}),l=u.createElement(Nle,ne({},t.ariaProps),eb(t.message,t));return u.createElement(jle,{className:t.className,style:ne(ne(ne({},i),s),t.style)},typeof a=="function"?a({icon:o,message:l}):u.createElement(u.Fragment,null,o,l))});Yoe(u.createElement);var kle=({id:t,className:r,style:s,onHeightUpdate:a,children:i})=>{let o=u.useCallback(l=>{if(l){let c=()=>{let d=l.getBoundingClientRect().height;a(t,d)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return u.createElement("div",{ref:o,className:r,style:s},i)},Ele=(t,r)=>{let s=t.includes("top"),a=s?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return ne(ne({left:0,right:0,display:"flex",position:"absolute",transition:fH()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${r*(s?1:-1)}px)`},a),i)},Lle=J2`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,bv=16,Mle=({reverseOrder:t,position:r="top-center",toastOptions:s,gutter:a,children:i,toasterId:o,containerStyle:l,containerClassName:c})=>{let{toasts:d,handlers:f}=nle(s,o);return u.createElement("div",{"data-rht-toaster":o||"",style:ne({position:"fixed",zIndex:9999,top:bv,left:bv,right:bv,bottom:bv,pointerEvents:"none"},l),className:c,onMouseEnter:f.startPause,onMouseLeave:f.endPause},d.map(h=>{let g=h.position||r,m=f.calculateOffset(h,{reverseOrder:t,gutter:a,defaultPosition:r}),p=Ele(g,m);return u.createElement(kle,{id:h.id,key:h.id,onHeightUpdate:f.updateHeight,className:h.visible?Lle:"",style:p},h.type==="custom"?eb(h.message,h):i?i(h):u.createElement(Cle,{toast:h,position:g}))}))},Cg=ss;function Ile(t){if(typeof document=="undefined")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}Ile(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);const ce={success:(t,r)=>Cg.success(t,r),error:(t,r)=>Cg.error(t,r),loading:(t,r)=>Cg.loading(t,r),dismiss:t=>Cg.dismiss(t),promise:(t,r,s)=>Cg.promise(t,r,s)};function Tle(t={}){const{nonce:r,onScriptLoadSuccess:s,onScriptLoadError:a}=t,[i,o]=u.useState(!1),l=u.useRef(s);l.current=s;const c=u.useRef(a);return c.current=a,u.useEffect(()=>{const d=document.createElement("script");return d.src="https://accounts.google.com/gsi/client",d.async=!0,d.defer=!0,d.nonce=r,d.onload=()=>{var f;o(!0),(f=l.current)===null||f===void 0||f.call(l)},d.onerror=()=>{var f;o(!1),(f=c.current)===null||f===void 0||f.call(c)},document.body.appendChild(d),()=>{document.body.removeChild(d)}},[r]),i}const xH=u.createContext(null);function Ale({clientId:t,nonce:r,onScriptLoadSuccess:s,onScriptLoadError:a,children:i}){const o=Tle({nonce:r,onScriptLoadSuccess:s,onScriptLoadError:a}),l=u.useMemo(()=>({clientId:t,scriptLoadedSuccessfully:o}),[t,o]);return fr.createElement(xH.Provider,{value:l},i)}function _le(){const t=u.useContext(xH);if(!t)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return t}function Ole(d){var f=d,{flow:t="implicit",scope:r="",onSuccess:s,onError:a,onNonOAuthError:i,overrideScope:o,state:l}=f,c=wc(f,["flow","scope","onSuccess","onError","onNonOAuthError","overrideScope","state"]);const{clientId:h,scriptLoadedSuccessfully:g}=_le(),m=u.useRef(),p=u.useRef(s);p.current=s;const x=u.useRef(a);x.current=a;const y=u.useRef(i);y.current=i,u.useEffect(()=>{var v,j;if(!g)return;const N=t==="implicit"?"initTokenClient":"initCodeClient",S=(j=(v=window==null?void 0:window.google)===null||v===void 0?void 0:v.accounts)===null||j===void 0?void 0:j.oauth2[N](ne({client_id:h,scope:o?r:`openid profile email ${r}`,callback:I=>{var E,L;if(I.error)return(E=x.current)===null||E===void 0?void 0:E.call(x,I);(L=p.current)===null||L===void 0||L.call(p,I)},error_callback:I=>{var E;(E=y.current)===null||E===void 0||E.call(y,I)},state:l},c));m.current=S},[h,g,t,r,l]);const w=u.useCallback(v=>{var j;return(j=m.current)===null||j===void 0?void 0:j.requestAccessToken(v)},[]),b=u.useCallback(()=>{var v;return(v=m.current)===null||v===void 0?void 0:v.requestCode()},[]);return t==="implicit"?w:b}const $le=({isOpen:t,onClose:r,userInfo:s,accessToken:a,onSuccess:i})=>{const[o,l]=u.useState(null),[c,d]=u.useState(!1),[f,h]=u.useState(!1),[g,m]=u.useState(""),[p,x]=u.useState("");if(!t)return null;const y=j=>{if(!j)return"Birth date is required.";const N=new Date(j),S=new Date,I=18;return N>S?"Birth date cannot be in the future.":S.getFullYear()-N.getFullYear()<I?`You must be at least ${I} years old to sign up.`:null},w=j=>{l(j),h(!0),m(""),x("")},b=j=>{m(j.target.value),x("")},v=()=>ve(void 0,null,function*(){var N,S,I;const j=y(g);if(j){x(j);return}d(!0);try{const E=yield Le.post("/auth/google",{accessToken:a,accountType:o,birthDate:o==="individual"?g:null}),L=(N=E==null?void 0:E.data)==null?void 0:N.token;L&&(localStorage.setItem("auth_token",L),localStorage.setItem("token",L),ce.success("Account created successfully! 🎉"),i(),r(),window.location.href="/")}catch(E){ce.error(((I=(S=E==null?void 0:E.response)==null?void 0:S.data)==null?void 0:I.message)||"Failed to create account")}finally{d(!1)}});return n.jsx("div",{style:{marginTop:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full mx-4",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to 54Links!"}),n.jsx("p",{className:"text-gray-600",children:"Choose your account type to get started"})]}),n.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-gray-50 rounded-xl",children:[n.jsx("img",{src:s==null?void 0:s.picture,alt:"Profile",className:"w-12 h-12 rounded-full"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:s==null?void 0:s.name}),n.jsx("p",{className:"text-sm text-gray-500",children:s==null?void 0:s.email})]})]}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsx("button",{type:"button",onClick:()=>w("individual"),className:`w-full p-4 rounded-xl border-2 transition-all ${o==="individual"?"border-brand-500 bg-brand-50 text-brand-700":"border-gray-200 text-gray-700 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5ZM3 22a9 9 0 1 1 18 0Z"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-semibold",children:"Individual"}),n.jsx("p",{className:"text-sm opacity-75",children:"Personal networking and connections"})]})]})}),n.jsx("button",{type:"button",onClick:()=>w("company"),className:`w-full p-4 rounded-xl border-2 transition-all ${o==="company"?"border-brand-500 bg-brand-50 text-brand-700":"border-gray-200 text-gray-700 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M3 21V3h8v6h10v12H3Z"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-semibold",children:"Corporate"}),n.jsx("p",{className:"text-sm opacity-75",children:"Business networking and opportunities"})]})]})})]}),f&&o==="individual"&&n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Birth Date"}),n.jsx("input",{type:"date",value:g,onChange:b,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${p?"border-red-400 focus:ring-red-400":"border-gray-200"}`,max:new Date().toISOString().split("T")[0]}),p&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:p})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:r,className:"flex-1 px-4 py-3 text-gray-700 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors",disabled:c,children:"Cancel"}),n.jsxs("button",{onClick:v,disabled:c||o==="individual"&&!g||!o,className:"flex-1 px-4 py-3 bg-gradient-to-r from-brand-600 to-brand-500 text-white rounded-xl hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[c&&n.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),c?"Creating...":"Continue"]})]})]})})};function nh({page:t="signin",showProfile:r=!1,showAccountTypeModalChange:s}){qt();const[a,i]=u.useState(!1),[o,l]=u.useState(null),[c,d]=u.useState(null),[f,h]=u.useState(!1),[g,m]=u.useState(null),[p,x]=u.useState(null);u.useEffect(()=>{s&&s(f)},[f]);const y=t==="signup"?"Sign up with Google":"Sign in with Google",w=Ole({scope:"openid profile email",onSuccess:v=>ve(this,null,function*(){var j,N;d(null),i(!0);try{const I=(yield Le.post("/auth/google/check-status",{accessToken:v.access_token})).data;if(I.requiresAccountType){m(I.userInfo),x(v.access_token),h(!0),i(!1);return}const E=I==null?void 0:I.token;E&&(localStorage.setItem("auth_token",E),localStorage.setItem("token",E),ce.success("Welcome back! 🎉"),window.location.href="/")}catch(S){console.error(S),d("Login failed"),ce.error(((N=(j=S==null?void 0:S.response)==null?void 0:j.data)==null?void 0:N.message)||"Login failed"),i(!1)}}),onError:()=>{d("Google login failed"),ce.error("Google login failed"),i(!1)}}),b=()=>{h(!1)};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"w-full",children:[n.jsx("button",{type:"button",onClick:()=>w(),disabled:a,"aria-busy":a,className:"w-full rounded-xl border border-gray-200 bg-white py-3 font-medium text-gray-700 hover:bg-gray-50",children:n.jsxs("span",{className:"inline-flex items-center gap-3 justify-center",children:[a?n.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}):n.jsxs("svg",{viewBox:"0 0 48 48",className:"h-5 w-5",children:[n.jsx("path",{fill:"#FFC107",d:"M43.6 20.5H42V20H24v8h11.3C33.5 31.9 29.2 35 24 35c-6.1 0-11-4.9-11-11s4.9-11 11-11c2.8 0 5.3 1.1 7.2 2.8l5.7-5.7C33.6 7 29.1 5 24 5 12.9 5 4 13.9 4 25s8.9 20 20 20 20-8.9 20-20c0-1.3-.1-2.5-.4-3.7z"}),n.jsx("path",{fill:"#FF3D00",d:"M6.3 14.7l6.6 4.8C14.7 16.3 18.9 13 24 13c2.8 0 5.3 1.1 7.2 2.8l5.7-5.7C33.6 7 29.1 5 24 5 16.2 5 9.6 9.3 6.3 14.7z"}),n.jsx("path",{fill:"#4CAF50",d:"M24 45c5 0 9.5-1.9 12.9-5.1l-6-4.9C29 36.5 26.6 37.5 24 37.5c-5.2 0-9.5-3.5-11.1-8.2l-6.6 5.1C9.6 40.7 16.2 45 24 45z"}),n.jsx("path",{fill:"#1976D2",d:"M43.6 20.5H42V20H24v8h11.3c-1.3 3.4-5.3 5.5-11.3 5.5-5.2 0-9.5-3.5-11.1-8.2l-6.6 5.1C9.6 40.7 16.2 45 24 45c11.1 0 20-8.9 20-20 0-1.3-.1-2.5-.4-3.7z"})]}),a?t==="signup"?"Signing up…":"Signing in…":y]})}),c&&n.jsx("p",{className:"text-red-600 mt-3 text-sm",children:c}),r&&o&&n.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[n.jsx("img",{src:o.picture,alt:"profile",className:"w-10 h-10 rounded-full"}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-semibold",children:o.name}),n.jsx("p",{className:"text-sm text-gray-500",children:o.email})]})]})]}),n.jsx($le,{isOpen:f,onClose:()=>{h(!1),i(!1)},userInfo:g,accessToken:p,onSuccess:b})]})}const Fn=({options:t,value:r,onChange:s,placeholder:a="Search and select...",label:i,sublabel:o,error:l,disabled:c=!1,multiple:d=!1,selectedValues:f=[],onMultipleChange:h,className:g=""})=>{const[m,p]=u.useState(!1),[x,y]=u.useState(""),[w,b]=u.useState(-1),v=u.useRef(null),j=u.useRef(null),N=t.filter(k=>(typeof k=="string"?k:k.label).toLowerCase().includes(x.toLowerCase()));u.useEffect(()=>{const k=M=>{v.current&&!v.current.contains(M.target)&&(p(!1),y(""),b(-1))};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const S=k=>{var M;if(!m){if(k.key==="Enter"||k.key==="ArrowDown"){k.preventDefault(),p(!0),b(0);return}return}switch(k.key){case"ArrowDown":k.preventDefault(),b(_=>_<N.length-1?_+1:0);break;case"ArrowUp":k.preventDefault(),b(_=>_>0?_-1:N.length-1);break;case"Enter":k.preventDefault(),w>=0&&N[w]&&I(N[w]);break;case"Escape":k.preventDefault(),p(!1),y(""),b(-1),(M=j.current)==null||M.blur();break}},I=k=>{if(d){const M=typeof k=="string"?k:k.value;f.includes(M)||h([...f,M])}else{const M=typeof k=="string"?k:k.value;s(M),p(!1),y(""),b(-1)}},E=k=>{d&&h(f.filter(M=>M!==k))},L=()=>{d?h([]):s(""),y(""),b(-1)},C=()=>{if(d)return f.length>0?`${f.length} selected`:a;if(r&&t.length>0){const k=t.find(M=>typeof M=="string"?M===r:M.value===r);if(k)return typeof k=="string"?k:k.label}return a},T=()=>d?f.length>0:!!r;return n.jsxs("div",{className:`relative ${g}`,children:[i&&n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[i," ",o&&n.jsxs("span",{className:"text-gray-400 font-normal",children:["(",o,")"]})]}),n.jsxs("div",{className:"relative",ref:v,children:[d&&f.length>0&&n.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:f.map(k=>n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-brand-100 text-brand-800 rounded-md text-sm",children:[k,n.jsx("button",{type:"button",onClick:()=>E(k),className:"text-brand-600 hover:text-brand-800",children:n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]},k))}),n.jsxs("div",{className:`relative w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white cursor-pointer ${l?"border-red-400 focus:ring-red-400":"border-gray-200"} ${c?"opacity-50 cursor-not-allowed":""}`,onClick:()=>!c&&p(!m),children:[n.jsx("input",{ref:j,type:"text",className:"w-full bg-transparent outline-none cursor-pointer",placeholder:C(),value:m?x:C(),onChange:k=>y(k.target.value),onKeyDown:S,disabled:c}),n.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center gap-1",children:[T()&&!c&&n.jsx("button",{type:"button",onClick:k=>{k.stopPropagation(),L()},className:"p-1 text-gray-400 hover:text-gray-600",title:"Clear selection",children:n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})}),n.jsx("div",{className:"pointer-events-none",children:n.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform ${m?"rotate-180":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M19 9l-7 7-7-7"})})})]})]}),m&&!c&&n.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-xl shadow-lg max-h-60 overflow-auto",children:[d&&f.length>0&&n.jsxs("div",{className:"px-4 py-2 text-sm cursor-pointer text-red-600 hover:bg-red-50 border-b border-gray-100",onClick:k=>{k.stopPropagation(),L(),p(!1)},children:["Clear All (",f.length,")"]}),N.length===0?n.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No options found"}):N.map((k,M)=>{const _=typeof k=="string"?k:k.value,J=typeof k=="string"?k:k.label,Y=d?f.includes(_):_===r;return n.jsx("div",{className:`px-4 py-3 text-sm cursor-pointer transition-colors ${w===M?"bg-brand-50 text-brand-700":"text-gray-700 hover:bg-gray-50"} ${Y?"bg-brand-100 text-brand-800":""}`,onClick:()=>I(k),onMouseEnter:()=>b(M),children:J},_)})]})]}),l&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:l})]})};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ple=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dle=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,a)=>a?a.toUpperCase():s.toLowerCase()),BA=t=>{const r=Dle(t);return r.charAt(0).toUpperCase()+r.slice(1)},vH=(...t)=>t.filter((r,s,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===s).join(" ").trim(),Rle=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fle={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ble=u.forwardRef((f,d)=>{var h=f,{color:t="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:i="",children:o,iconNode:l}=h,c=wc(h,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return u.createElement("svg",ne(ne(me(ne({ref:d},Fle),{width:r,height:r,stroke:t,strokeWidth:a?Number(s)*24/Number(r):s,className:vH("lucide",i)}),!o&&!Rle(c)&&{"aria-hidden":"true"}),c),[...l.map(([g,m])=>u.createElement(g,m)),...Array.isArray(o)?o:[o]])});/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=(t,r)=>{const s=u.forwardRef((l,o)=>{var c=l,{className:a}=c,i=wc(c,["className"]);return u.createElement(Ble,ne({ref:o,iconNode:r,className:vH(`lucide-${Ple(BA(t))}`,`lucide-${t}`,a)},i))});return s.displayName=BA(t),s};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zle=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],yH=_t("activity",zle);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ule=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bH=_t("arrow-left",Ule);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wle=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Hle=_t("award",Wle);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Gle=_t("badge-check",Vle);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qle=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],Yle=_t("badge-percent",qle);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jle=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"8",y2:"16",key:"10p56q"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Zle=_t("badge-plus",Jle);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Kle=_t("bell",Qle);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xle=[["path",{d:"M10 22V7a1 1 0 0 0-1-1H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5a1 1 0 0 0-1-1H2",key:"1ah6g2"}],["rect",{x:"14",y:"2",width:"8",height:"8",rx:"1",key:"88lufb"}]],ece=_t("blocks",Xle);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tce=[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2",key:"1ksdt3"}],["path",{d:"M22 13a18.15 18.15 0 0 1-20 0",key:"12hx5q"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],zA=_t("briefcase-business",tce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Q2=_t("briefcase",rce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],sce=_t("building",nce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],To=_t("calendar-days",ace);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],wH=_t("calendar-plus",ice);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],lce=_t("calendar-range",oce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cce=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],HE=_t("camera",cce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dce=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],K2=_t("calendar",dce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],fce=_t("check-check",uce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hce=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gce=_t("check",hce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mce=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dd=_t("chevron-down",mce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pce=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],xce=_t("chevron-left",pce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vce=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yce=_t("chevron-right",vce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bce=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],A0=_t("chevron-up",bce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],VE=_t("circle-alert",wce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jce=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],tx=_t("circle-check-big",jce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Sn=_t("circle-plus",Nce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jH=_t("circle-question-mark",Sce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],NH=_t("circle-x",Cce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kce=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hl=_t("clock",kce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ece=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Lce=_t("coins",Ece);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mce=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ice=_t("compass",Mce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tce=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Zs=_t("copy",Tce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ace=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Lh=_t("dollar-sign",Ace);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ce=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],La=_t("download",_ce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$ce=_t("earth",Oce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pce=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Fo=_t("ellipsis-vertical",Pce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Lo=_t("external-link",Dce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rce=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Fce=_t("eye-off",Rce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bce=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ru=_t("eye",Bce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zce=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Uce=_t("factory",zce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wce=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],SH=_t("file-text",Wce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hce=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],UA=_t("file",Hce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vce=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Si=_t("flag",Vce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gce=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],qce=_t("funnel",Gce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],so=_t("globe",Yce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jce=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],A4=_t("graduation-cap",Jce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zce=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],CH=_t("handshake",Zce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qce=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],kH=_t("hash",Qce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kce=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],Xce=_t("heart-handshake",Kce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ede=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Un=_t("heart",ede);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tde=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],rde=_t("house",tde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nde=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],x0=_t("image",nde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sde=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],EH=_t("languages",sde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ade=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],no=_t("layers",ade);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ide=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],ode=_t("layout-grid",ide);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lde=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],cde=_t("lightbulb",lde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dde=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],tb=_t("link",dde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ude=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],WA=_t("loader-circle",ude);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fde=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],sh=_t("mail",fde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hde=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],gn=_t("map-pin",hde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gde=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],mde=_t("map-pinned",gde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pde=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],GE=_t("map",pde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xde=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],vde=_t("maximize-2",xde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yde=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Rs=_t("message-circle",yde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bde=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],DC=_t("message-square",bde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wde=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],HA=_t("minimize-2",wde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jde=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Nde=_t("network",jde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sde=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Cde=_t("paperclip",Sde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kde=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Ede=_t("pause",kde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lde=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],xd=_t("pencil",Lde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mde=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],LH=_t("phone",Mde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ide=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],cm=_t("play",Ide);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tde=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],RC=_t("plus",Tde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ade=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],_de=_t("presentation",Ade);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ode=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],MH=_t("refresh-ccw",Ode);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $de=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Pde=_t("refresh-cw",$de);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dde=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ta=_t("search",Dde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rde=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],rb=_t("send",Rde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fde=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bde=_t("settings",Fde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zde=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Qs=_t("share-2",zde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ude=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m4.243 5.21 14.39 12.472",key:"1c9a7c"}]],IH=_t("shield-ban",Ude);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wde=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],TH=_t("shield",Wde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hde=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Vde=_t("shopping-cart",Hde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],qde=_t("smile",Gde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yde=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],VA=_t("square-check-big",Yde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jde=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Kl=_t("square-pen",Jde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zde=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Qde=_t("square",Zde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kde=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Yu=_t("star",Kde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xde=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Mh=_t("tag",Xde);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eue=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],tue=_t("tags",eue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],GA=_t("target",rue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nue=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],On=_t("trash-2",nue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sue=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],aue=_t("truck",sue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iue=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],FC=_t("upload",iue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oue=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],X2=_t("user-check",oue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lue=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],vs=_t("user-round",lue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cue=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],ew=_t("user-x",cue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const due=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ka=_t("user",due);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uue=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rx=_t("users",uue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fue=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Zi=_t("video",fue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hue=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],qA=_t("volume-2",hue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gue=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],mue=_t("volume-x",gue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pue=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],xue=_t("wallet",pue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vue=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],YA=_t("wrench",vue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yue=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Lr=_t("x",yue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bue=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],wue=_t("zap",bue),An=["Afghanistan","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","British Virgin Islands","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Columbia","Comoros","Cook Islands","Costa Rica","Croatia","Cuba","Curacao","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Eritrea","Estonia","Ethiopia","Faroe Islands","Fiji","Finland","France","French Polynesia","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Greenland","Grenada","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Ivory Coast","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mayotte","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","Netherlands Antilles","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Northern Mariana Islands","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Republic of the Congo","Reunion","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Martin","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","U.S. Virgin Islands","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Western Sahara","Yemen","Zambia","Zimbabwe"];var jue=Object.defineProperty,Nue=(t,r,s)=>r in t?jue(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,pn=(t,r,s)=>Nue(t,typeof r!="symbol"?r+"":r,s);const nb={x:0,y:0,width:0,height:0,unit:"px"},Mf=(t,r,s)=>Math.min(Math.max(t,r),s),Sue=(...t)=>t.filter(r=>r&&typeof r=="string").join(" "),JA=(t,r)=>t===r||t.width===r.width&&t.height===r.height&&t.x===r.x&&t.y===r.y&&t.unit===r.unit;function If(t,r,s){return t.unit==="%"?me(ne(ne({},nb),t),{unit:"%"}):{unit:"%",x:t.x?t.x/r*100:0,y:t.y?t.y/s*100:0,width:t.width?t.width/r*100:0,height:t.height?t.height/s*100:0}}function Nc(t,r,s){return t.unit?t.unit==="px"?me(ne(ne({},nb),t),{unit:"px"}):{unit:"px",x:t.x?t.x*r/100:0,y:t.y?t.y*s/100:0,width:t.width?t.width*r/100:0,height:t.height?t.height*s/100:0}:me(ne(ne({},nb),t),{unit:"px"})}function ZA(t,r,s,a,i,o=0,l=0,c=a,d=i){const f=ne({},t);let h=Math.min(o,a),g=Math.min(l,i),m=Math.min(c,a),p=Math.min(d,i);r&&(r>1?(h=l?l*r:h,g=h/r,m=c*r):(g=o?o/r:g,h=g*r,p=d/r)),f.y<0&&(f.height=Math.max(f.height+f.y,g),f.y=0),f.x<0&&(f.width=Math.max(f.width+f.x,h),f.x=0);const x=a-(f.x+f.width);x<0&&(f.x=Math.min(f.x,a-h),f.width+=x);const y=i-(f.y+f.height);if(y<0&&(f.y=Math.min(f.y,i-g),f.height+=y),f.width<h&&((s==="sw"||s=="nw")&&(f.x-=h-f.width),f.width=h),f.height<g&&((s==="nw"||s=="ne")&&(f.y-=g-f.height),f.height=g),f.width>m&&((s==="sw"||s=="nw")&&(f.x-=m-f.width),f.width=m),f.height>p&&((s==="nw"||s=="ne")&&(f.y-=p-f.height),f.height=p),r){const w=f.width/f.height;if(w<r){const b=Math.max(f.width/r,g);(s==="nw"||s=="ne")&&(f.y-=b-f.height),f.height=b}else if(w>r){const b=Math.max(f.height*r,h);(s==="sw"||s=="nw")&&(f.x-=b-f.width),f.width=b}}return f}function Cue(t,r,s,a){const i=ne({},t);return r==="ArrowLeft"?a==="nw"?(i.x-=s,i.y-=s,i.width+=s,i.height+=s):a==="w"?(i.x-=s,i.width+=s):a==="sw"?(i.x-=s,i.width+=s,i.height+=s):a==="ne"?(i.y+=s,i.width-=s,i.height-=s):a==="e"?i.width-=s:a==="se"&&(i.width-=s,i.height-=s):r==="ArrowRight"&&(a==="nw"?(i.x+=s,i.y+=s,i.width-=s,i.height-=s):a==="w"?(i.x+=s,i.width-=s):a==="sw"?(i.x+=s,i.width-=s,i.height-=s):a==="ne"?(i.y-=s,i.width+=s,i.height+=s):a==="e"?i.width+=s:a==="se"&&(i.width+=s,i.height+=s)),r==="ArrowUp"?a==="nw"?(i.x-=s,i.y-=s,i.width+=s,i.height+=s):a==="n"?(i.y-=s,i.height+=s):a==="ne"?(i.y-=s,i.width+=s,i.height+=s):a==="sw"?(i.x+=s,i.width-=s,i.height-=s):a==="s"?i.height-=s:a==="se"&&(i.width-=s,i.height-=s):r==="ArrowDown"&&(a==="nw"?(i.x+=s,i.y+=s,i.width-=s,i.height-=s):a==="n"?(i.y+=s,i.height-=s):a==="ne"?(i.y+=s,i.width-=s,i.height-=s):a==="sw"?(i.x-=s,i.width+=s,i.height+=s):a==="s"?i.height+=s:a==="se"&&(i.width+=s,i.height+=s)),i}const Tf={capture:!0,passive:!1};let kue=0;const Oc=class yo extends u.PureComponent{constructor(){super(...arguments),pn(this,"docMoveBound",!1),pn(this,"mouseDownOnCrop",!1),pn(this,"dragStarted",!1),pn(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),pn(this,"componentRef",u.createRef()),pn(this,"mediaRef",u.createRef()),pn(this,"resizeObserver"),pn(this,"initChangeCalled",!1),pn(this,"instanceId",`rc-${kue++}`),pn(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),pn(this,"onCropPointerDown",r=>{const{crop:s,disabled:a}=this.props,i=this.getBox();if(!s)return;const o=Nc(s,i.width,i.height);if(a)return;r.cancelable&&r.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const l=r.target.dataset.ord,c=!!l;let d=r.clientX,f=r.clientY,h=o.x,g=o.y;if(l){const m=r.clientX-i.x,p=r.clientY-i.y;let x=0,y=0;l==="ne"||l=="e"?(x=m-(o.x+o.width),y=p-o.y,h=o.x,g=o.y+o.height):l==="se"||l==="s"?(x=m-(o.x+o.width),y=p-(o.y+o.height),h=o.x,g=o.y):l==="sw"||l=="w"?(x=m-o.x,y=p-(o.y+o.height),h=o.x+o.width,g=o.y):(l==="nw"||l=="n")&&(x=m-o.x,y=p-o.y,h=o.x+o.width,g=o.y+o.height),d=h+i.x+x,f=g+i.y+y}this.evData={startClientX:d,startClientY:f,startCropX:h,startCropY:g,clientX:r.clientX,clientY:r.clientY,isResize:c,ord:l},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),pn(this,"onComponentPointerDown",r=>{const{crop:s,disabled:a,locked:i,keepSelection:o,onChange:l}=this.props,c=this.getBox();if(a||i||o&&s)return;r.cancelable&&r.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const d=r.clientX-c.x,f=r.clientY-c.y,h={unit:"px",x:d,y:f,width:0,height:0};this.evData={startClientX:r.clientX,startClientY:r.clientY,startCropX:d,startCropY:f,clientX:r.clientX,clientY:r.clientY,isResize:!0},this.mouseDownOnCrop=!0,l(Nc(h,c.width,c.height),If(h,c.width,c.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),pn(this,"onDocPointerMove",r=>{const{crop:s,disabled:a,onChange:i,onDragStart:o}=this.props,l=this.getBox();if(a||!s||!this.mouseDownOnCrop)return;r.cancelable&&r.preventDefault(),this.dragStarted||(this.dragStarted=!0,o&&o(r));const{evData:c}=this;c.clientX=r.clientX,c.clientY=r.clientY;let d;c.isResize?d=this.resizeCrop():d=this.dragCrop(),JA(s,d)||i(Nc(d,l.width,l.height),If(d,l.width,l.height))}),pn(this,"onComponentKeyDown",r=>{const{crop:s,disabled:a,onChange:i,onComplete:o}=this.props;if(a)return;const l=r.key;let c=!1;if(!s)return;const d=this.getBox(),f=this.makePixelCrop(d),h=(navigator.platform.match("Mac")?r.metaKey:r.ctrlKey)?yo.nudgeStepLarge:r.shiftKey?yo.nudgeStepMedium:yo.nudgeStep;if(l==="ArrowLeft"?(f.x-=h,c=!0):l==="ArrowRight"?(f.x+=h,c=!0):l==="ArrowUp"?(f.y-=h,c=!0):l==="ArrowDown"&&(f.y+=h,c=!0),c){r.cancelable&&r.preventDefault(),f.x=Mf(f.x,0,d.width-f.width),f.y=Mf(f.y,0,d.height-f.height);const g=Nc(f,d.width,d.height),m=If(f,d.width,d.height);i(g,m),o&&o(g,m)}}),pn(this,"onHandlerKeyDown",(r,s)=>{const{aspect:a=0,crop:i,disabled:o,minWidth:l=0,minHeight:c=0,maxWidth:d,maxHeight:f,onChange:h,onComplete:g}=this.props,m=this.getBox();if(o||!i)return;if(r.key==="ArrowUp"||r.key==="ArrowDown"||r.key==="ArrowLeft"||r.key==="ArrowRight")r.stopPropagation(),r.preventDefault();else return;const p=(navigator.platform.match("Mac")?r.metaKey:r.ctrlKey)?yo.nudgeStepLarge:r.shiftKey?yo.nudgeStepMedium:yo.nudgeStep,x=Nc(i,m.width,m.height),y=Cue(x,r.key,p,s),w=ZA(y,a,s,m.width,m.height,l,c,d,f);if(!JA(i,w)){const b=If(w,m.width,m.height);h(w,b),g&&g(w,b)}}),pn(this,"onDocPointerDone",r=>{const{crop:s,disabled:a,onComplete:i,onDragEnd:o}=this.props,l=this.getBox();this.unbindDocMove(),!(a||!s)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,o&&o(r),i&&i(Nc(s,l.width,l.height),If(s,l.width,l.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),pn(this,"onDragFocus",()=>{var r;(r=this.componentRef.current)==null||r.scrollTo(0,0)})}get document(){return document}getBox(){const r=this.mediaRef.current;if(!r)return{x:0,y:0,width:0,height:0};const{x:s,y:a,width:i,height:o}=r.getBoundingClientRect();return{x:s,y:a,width:i,height:o}}componentDidUpdate(r){const{crop:s,onComplete:a}=this.props;if(a&&!r.crop&&s){const{width:i,height:o}=this.getBox();i&&o&&a(Nc(s,i,o),If(s,i,o))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,Tf),this.document.addEventListener("pointerup",this.onDocPointerDone,Tf),this.document.addEventListener("pointercancel",this.onDocPointerDone,Tf),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,Tf),this.document.removeEventListener("pointerup",this.onDocPointerDone,Tf),this.document.removeEventListener("pointercancel",this.onDocPointerDone,Tf),this.docMoveBound=!1)}getCropStyle(){const{crop:r}=this.props;if(r)return{top:`${r.y}${r.unit}`,left:`${r.x}${r.unit}`,width:`${r.width}${r.unit}`,height:`${r.height}${r.unit}`}}dragCrop(){const{evData:r}=this,s=this.getBox(),a=this.makePixelCrop(s),i=r.clientX-r.startClientX,o=r.clientY-r.startClientY;return a.x=Mf(r.startCropX+i,0,s.width-a.width),a.y=Mf(r.startCropY+o,0,s.height-a.height),a}getPointRegion(r,s,a,i){const{evData:o}=this,l=o.clientX-r.x,c=o.clientY-r.y;let d;i&&s?d=s==="nw"||s==="n"||s==="ne":d=c<o.startCropY;let f;return a&&s?f=s==="nw"||s==="w"||s==="sw":f=l<o.startCropX,f?d?"nw":"sw":d?"ne":"se"}resolveMinDimensions(r,s,a=0,i=0){const o=Math.min(a,r.width),l=Math.min(i,r.height);return!s||!o&&!l?[o,l]:s>1?o?[o,o/s]:[l*s,l]:l?[l*s,l]:[o,o/s]}resizeCrop(){const{evData:r}=this,{aspect:s=0,maxWidth:a,maxHeight:i}=this.props,o=this.getBox(),[l,c]=this.resolveMinDimensions(o,s,this.props.minWidth,this.props.minHeight);let d=this.makePixelCrop(o);const f=this.getPointRegion(o,r.ord,l,c),h=r.ord||f;let g=r.clientX-r.startClientX,m=r.clientY-r.startClientY;(l&&h==="nw"||h==="w"||h==="sw")&&(g=Math.min(g,-l)),(c&&h==="nw"||h==="n"||h==="ne")&&(m=Math.min(m,-c));const p={unit:"px",x:0,y:0,width:0,height:0};f==="ne"?(p.x=r.startCropX,p.width=g,s?(p.height=p.width/s,p.y=r.startCropY-p.height):(p.height=Math.abs(m),p.y=r.startCropY-p.height)):f==="se"?(p.x=r.startCropX,p.y=r.startCropY,p.width=g,s?p.height=p.width/s:p.height=m):f==="sw"?(p.x=r.startCropX+g,p.y=r.startCropY,p.width=Math.abs(g),s?p.height=p.width/s:p.height=m):f==="nw"&&(p.x=r.startCropX+g,p.width=Math.abs(g),s?(p.height=p.width/s,p.y=r.startCropY-p.height):(p.height=Math.abs(m),p.y=r.startCropY+m));const x=ZA(p,s,f,o.width,o.height,l,c,a,i);return s||yo.xyOrds.indexOf(h)>-1?d=x:yo.xOrds.indexOf(h)>-1?(d.x=x.x,d.width=x.width):yo.yOrds.indexOf(h)>-1&&(d.y=x.y,d.height=x.height),d.x=Mf(d.x,0,o.width-d.width),d.y=Mf(d.y,0,o.height-d.height),d}renderCropSelection(){const{ariaLabels:r=yo.defaultProps.ariaLabels,disabled:s,locked:a,renderSelectionAddon:i,ruleOfThirds:o,crop:l}=this.props,c=this.getCropStyle();if(l)return fr.createElement("div",{style:c,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":r.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!s&&!a&&fr.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},fr.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),fr.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),fr.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),fr.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),fr.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":r.nwDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"nw"),role:"button"}),fr.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":r.nDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"n"),role:"button"}),fr.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":r.neDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"ne"),role:"button"}),fr.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":r.eDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"e"),role:"button"}),fr.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":r.seDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"se"),role:"button"}),fr.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":r.sDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"s"),role:"button"}),fr.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":r.swDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"sw"),role:"button"}),fr.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":r.wDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"w"),role:"button"})),i&&fr.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:d=>d.stopPropagation()},i(this.state)),o&&fr.createElement(fr.Fragment,null,fr.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),fr.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(r){const s=ne(ne({},nb),this.props.crop||{});return Nc(s,r.width,r.height)}render(){const{aspect:r,children:s,circularCrop:a,className:i,crop:o,disabled:l,locked:c,style:d,ruleOfThirds:f}=this.props,{cropIsActive:h,newCropIsBeingDrawn:g}=this.state,m=o?this.renderCropSelection():null,p=Sue("ReactCrop",i,h&&"ReactCrop--active",l&&"ReactCrop--disabled",c&&"ReactCrop--locked",g&&"ReactCrop--new-crop",o&&r&&"ReactCrop--fixed-aspect",o&&a&&"ReactCrop--circular-crop",o&&f&&"ReactCrop--rule-of-thirds",!this.dragStarted&&o&&!o.width&&!o.height&&"ReactCrop--invisible-crop",a&&"ReactCrop--no-animate");return fr.createElement("div",{ref:this.componentRef,className:p,style:d},fr.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},s),o?fr.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},fr.createElement("defs",null,fr.createElement("mask",{id:`hole-${this.instanceId}`},fr.createElement("rect",{width:"100%",height:"100%",fill:"white"}),a?fr.createElement("ellipse",{cx:`${o.x+o.width/2}${o.unit}`,cy:`${o.y+o.height/2}${o.unit}`,rx:`${o.width/2}${o.unit}`,ry:`${o.height/2}${o.unit}`,fill:"black"}):fr.createElement("rect",{x:`${o.x}${o.unit}`,y:`${o.y}${o.unit}`,width:`${o.width}${o.unit}`,height:`${o.height}${o.unit}`,fill:"black"}))),fr.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,m)}};pn(Oc,"xOrds",["e","w"]),pn(Oc,"yOrds",["n","s"]),pn(Oc,"xyOrds",["nw","ne","se","sw"]),pn(Oc,"nudgeStep",1),pn(Oc,"nudgeStepMedium",10),pn(Oc,"nudgeStepLarge",100),pn(Oc,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let Eue=Oc;function tw({image:t,imageDimensions:r,onCropComplete:s,onCancel:a,config:i,type:o}){const[l,c]=u.useState({unit:"px",width:100,height:100,x:0,y:0}),[d,f]=u.useState(null),[h,g]=u.useState(!1),m=u.useRef(null),p=u.useRef(null),[x,y]=u.useState({width:600,height:500}),[w,b]=u.useState({minWidth:0,minHeight:0});u.useEffect(()=>{const S=()=>{const I=window.innerWidth*.8,E=window.innerHeight*.8;let L=Math.min(r.width,I),C=Math.min(r.height,E);L=Math.max(L,400),C=Math.max(C,300),y({width:L,height:C+120})};r.width>0&&r.height>0&&S()},[r]);const v=S=>{const{naturalWidth:I,naturalHeight:E}=S.currentTarget,L=S.currentTarget.width,C=S.currentTarget.height;g(!0);const T=L/I,k=C/E,M=Math.min(T,k);let _=Math.floor(i.minWidth*M),J=Math.floor(i.minHeight*M);_=Math.max(1,Math.min(_,L)),J=Math.max(1,Math.min(J,C)),b({minWidth:_,minHeight:J});let Y,te;if(o==="avatar"){const F=Math.min(L,C);Y=F,te=F}else{const F=i.aspect;L/C>F?(te=C,Y=te*F):(Y=L,te=Y/F),Y<_&&(Y=_,te=Y/F),te<J&&(te=J,Y=te*F),Y>L&&(Y=L,te=Y/F),te>C&&(te=C,Y=te*F)}const K=Math.max(0,(L-Y)/2),X=Math.max(0,(C-te)/2),W={unit:"px",width:Math.round(Y),height:Math.round(te),x:Math.round(K),y:Math.round(X)};console.log("Initial crop set:",W,{scaledMinWidth:_,scaledMinHeight:J,displayedWidth:L,displayedHeight:C,naturalWidth:I,naturalHeight:E}),c(W),f(W)},j=()=>{const S=p.current;if(!S||!d)return console.error("No completed crop or canvas"),null;const I=m.current;if(!I)return console.error("No image reference"),null;const E=I.naturalWidth/I.width,L=I.naturalHeight/I.height,C=S.getContext("2d"),T=window.devicePixelRatio;return S.width=d.width*T,S.height=d.height*T,C.setTransform(T,0,0,T,0,0),C.imageSmoothingQuality="high",C.drawImage(I,d.x*E,d.y*L,d.width*E,d.height*L,0,0,d.width,d.height),new Promise(k=>{S.toBlob(M=>{console.log("Generated blob:",M?`size: ${M.size} bytes`:"null"),k(M)},"image/jpeg",.9)})},N=()=>ve(this,null,function*(){console.log("Starting crop process...");const S=yield j();S?(console.log("Crop successful, calling onCropComplete"),s(S)):console.error("Failed to generate cropped image")});return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg overflow-hidden flex flex-col",style:{width:`${x.width}px`,maxWidth:"90vw",maxHeight:"90vh"},children:[n.jsxs("div",{className:"p-4 border-b",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Crop ",o==="avatar"?"Profile Photo":"Cover Image"]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o==="avatar"?"Select a square area for your profile picture":"Adjust the crop area for your cover image"})]}),n.jsx("div",{className:"flex-1 p-4 overflow-auto",children:n.jsx("div",{className:"flex justify-center items-center",children:n.jsx(Eue,{crop:l,onChange:S=>{c(S)},onComplete:S=>{console.log("Crop completed:",S),f(S)},aspect:o==="avatar"?1:i.aspect,minWidth:w.minWidth||void 0,minHeight:w.minHeight||void 0,keepSelection:!0,children:n.jsx("img",{ref:m,src:t,onLoad:v,alt:"Crop preview",style:{maxWidth:"100%",maxHeight:"60vh",objectFit:"contain",display:"block"}})})})}),n.jsx("canvas",{ref:p,className:"hidden"}),n.jsx("div",{className:"p-4 border-t bg-gray-50",children:n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:a,className:"px-6 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md border border-gray-300 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:N,disabled:!d,className:"px-6 py-2 text-sm font-medium text-white bg-brand-600 hover:bg-brand-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Changes"})]})})]})})}const QA=t=>/^[^\s@]+@[^\s@]+\.[a-zA-Z]{2,}$/.test(String(t||"").toLowerCase()),Lue={avatar:{aspect:1,minWidth:100,minHeight:100}},Mue=({value:t,onChange:r,error:s,citiesLoading:a,getCitiesForCountry:i})=>{const[o,l]=u.useState(!1),[c,d]=u.useState(""),[f,h]=u.useState("");if(a)return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Other Countries of Operations (Branches) ",n.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),n.jsxs("div",{className:"flex items-center justify-center p-4",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-500",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading cities..."})]})]});const g=()=>{if(c&&f){const x={country:c,city:f};r([...t,x]),d(""),h(""),l(!1)}},m=x=>{const y=t.filter((w,b)=>b!==x);r(y)},p=(x,y)=>{const w=t.map((b,v)=>v===x?me(ne({},b),{city:y}):b);r(w)};return u.useState(0),u.useState(!1),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Other Countries of Operations (Branches) ",n.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),t.length>0&&n.jsx("div",{className:"space-y-2",children:t.map((x,y)=>n.jsxs("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-sm",children:x.country}),n.jsxs("div",{className:"text-xs text-gray-500",children:["City: ",x.city]})]}),n.jsx(Fn,{options:i(x.country),value:x.city,onChange:w=>p(y,w),placeholder:"Select city",className:"w-48"}),n.jsx("button",{type:"button",onClick:()=>m(y),className:"p-1 text-red-500 hover:text-red-700",title:"Remove",children:n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]},y))}),o?n.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg bg-blue-50 space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Fn,{options:An,value:c,onChange:d,placeholder:"Select country"}),n.jsx(Fn,{options:c?i(c):[],value:f,onChange:h,placeholder:"Select city",disabled:!c})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{type:"button",onClick:g,disabled:!c||!f,className:"px-3 py-1 bg-brand-600 text-white rounded-lg text-sm hover:bg-brand-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),n.jsx("button",{type:"button",onClick:()=>{l(!1),d(""),h("")},className:"px-3 py-1 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:"Cancel"})]})]}):n.jsxs("button",{type:"button",onClick:()=>l(!0),className:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 5v14M5 12h14"})}),"Add Country & City"]}),s&&n.jsx("p",{className:"text-xs text-red-600",children:s}),n.jsx("p",{className:"text-xs text-gray-500",children:"Select countries where your company has branches or operations (optional)"})]})};function sb({isOpen:t,onClose:r,initialTab:s="signup"}){const a=qt(),i=u.useRef(null),[o,l]=u.useState(s),[c,d]=u.useState({email:"",password:"",remember:!1}),[f,h]=u.useState({email:"",password:""}),[g,m]=u.useState(!1),[p,x]=u.useState(!1),[y,w]=u.useState(!1),[b,v]=u.useState(!1),[j,N]=u.useState([]),[S,I]=u.useState(!0);u.useEffect(()=>{ve(this,null,function*(){try{const ae=yield fetch("/data/cities.json");if(!ae.ok)throw new Error("Failed to fetch cities");const Me=yield ae.json();N(Me)}catch(ae){console.error("Error fetching cities:",ae)}finally{I(!1)}})},[]);const E=u.useMemo(()=>j.slice(0,1e4).map(G=>({value:G.city,label:`${G.city}${G.country?`, ${G.country}`:""}`,country:G.country})),[j]),L=u.useCallback(G=>G?E.filter(ae=>{var Me;return((Me=ae.country)==null?void 0:Me.toLowerCase())===G.toLowerCase()}):[],[E]),[C,T]=u.useState("individual"),[k,M]=u.useState({name:"",email:"",phone:"",country:"",password:"",confirmPassword:"",tos:!1,avatarUrl:null,avatarPreview:null,birthDate:"",gender:"",nationality:"",otherCountries:[],webpage:""}),[_,J]=u.useState({name:"",email:"",phone:"",country:"",password:"",confirmPassword:"",tos:"",avatarUrl:"",birthDate:"",gender:"",nationality:"",otherCountries:"",webpage:""}),[Y,te]=u.useState(!1),[K,X]=u.useState(!1),[W,F]=u.useState(!1),[P,A]=u.useState(null),[B,z]=u.useState({width:0,height:0});u.useEffect(()=>{const G=localStorage.getItem("token")||localStorage.getItem("auth_token");w(!!G)},[]);const O=G=>{const{name:ae,value:Me,type:he,checked:ye}=G.target;d(oe=>me(ne({},oe),{[ae]:he==="checkbox"?ye:Me})),h(oe=>me(ne({},oe),{[ae]:""}))},U=G=>{const{name:ae,value:Me,type:he,checked:ye}=G.target;M(oe=>me(ne({},oe),{[ae]:he==="checkbox"?ye:Me})),J(oe=>me(ne({},oe),{[ae]:""}))},Z=(G,ae)=>ve(this,null,function*(){if(ae){if(ae.size>5242880){J(ye=>me(ne({},ye),{[G]:"File size must be less than 5MB"}));return}if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(ae.type)){J(ye=>me(ne({},ye),{[G]:"Please select a valid image file (JPG, PNG, GIF, WEBP)"}));return}{const ye=new FileReader;ye.onload=oe=>{const ie=new Image;ie.onload=()=>{z({width:ie.width,height:ie.height}),A(oe.target.result),F(!0)},ie.src=oe.target.result},ye.readAsDataURL(ae),M(oe=>me(ne({},oe),{avatarFile:null,avatarPreview:null}))}J(ye=>me(ne({},ye),{avatarUrl:""}))}else M(Me=>me(ne({},Me),{avatarFile:null,avatarPreview:null}))}),se=G=>{const ae=G.type||"image/jpeg",Me=ae==="image/png"?"png":ae==="image/webp"?"webp":"jpg",he=`avatar-${Date.now()}.${Me}`,ye=new File([G],he,{type:ae}),oe=URL.createObjectURL(G);M(ie=>me(ne({},ie),{avatarFile:ye,avatarPreview:oe})),F(!1),A(null),z({width:0,height:0})},fe=()=>{F(!1),A(null),z({width:0,height:0})},le=C==="company"?"Organization name":"Name",Ne=C==="company"?"Organization email":"Email Address",Te=C==="company"?"Organization phone":"Phone Number";function ht(){const G={email:"",password:""};return c.email?QA(c.email)||(G.email="Please enter a valid email."):G.email="Email is required.",c.password||(G.password="Password is required."),h(G),!G.email&&!G.password}function Fe(){const G={name:"",email:"",phone:"",country:"",password:"",confirmPassword:"",tos:"",birthDate:"",gender:"",nationality:"",otherCountries:"",webpage:""};if(k.name?k.name.trim().length<2?G.name=`${le} must be at least 2 characters long.`:/^[\p{L}0-9\s\-'\.]+$/u.test(k.name.trim())||(G.name=`${le} can only contain letters, numbers, spaces, hyphens, apostrophes, and periods.`):G.name=`${le} is required.`,k.email?QA(k.email)||(G.email="Please enter a valid email."):G.email=`${Ne} is required.`,!k.phone)G.phone=`${Te} is required.`;else{const ae=String(k.phone).replace(/\D/g,"");ae.length<6?G.phone="Please enter a valid phone number.":ae.length>15?G.phone="Phone number is too long.":/^\+?[\d\s\-\(\)]+$/.test(k.phone)||(G.phone="Please enter a valid phone number format.")}if(k.country||(G.country="Country is required."),k.password?k.password.length<8?G.password="Password must be at least 8 characters long.":/^(?=.*[A-Za-z])(?=.*\d)(?=.*[^A-Za-z\d]).+$/.test(k.password)||(G.password="Create a strong password with a mix of letters, numbers and symbols."):G.password="Password is required.",k.confirmPassword?k.password!==k.confirmPassword&&(G.confirmPassword="Passwords do not match."):G.confirmPassword="Please confirm password.",k.tos||(G.tos="You must agree to the Terms and Privacy Policy."),C==="individual"){if(!k.birthDate)G.birthDate="Birth date is required.";else{const ae=new Date(k.birthDate),Me=new Date,he=18,ye=120;if(ae>Me)G.birthDate="Birth date cannot be in the future.";else{const oe=Me.getFullYear()-ae.getFullYear();oe<he?G.birthDate="You must be at least 18 years old.":oe>ye&&(G.birthDate="Please enter a valid birth date.")}}k.gender||(G.gender="Gender is required."),k.nationality||(G.nationality="Nationality is required.")}return C==="company"&&(/^(https?:\/\/)?([\w-]+\.)+[a-zA-Z]{2,}(\/\S*)?$/.test(k.webpage.trim())||(G.webpage="Please enter a valid website address (e.g. google.com)")),J(G),Object.values(G).every(ae=>!ae)}function Ve(G){return ve(this,null,function*(){var ae;if(G.preventDefault(),!ht()){ce.error("Please fix the highlighted fields.");return}m(!0);try{const Me=Le.post("/auth/login",{email:c.email,password:c.password}),he=yield ce.promise(Me,{loading:"Signing you in…",success:"Welcome back! 🎉",error:oe=>{var ie,q;return((q=(ie=oe==null?void 0:oe.response)==null?void 0:ie.data)==null?void 0:q.message)||"Login failed. Check your credentials."}},{id:"login"}),ye=(ae=he==null?void 0:he.data)==null?void 0:ae.token;ye&&(localStorage.setItem("auth_token",ye),localStorage.setItem("token",ye),w(!0),r(),window.location.href="/")}catch(Me){m(!1)}finally{m(!1)}})}const ut=G=>ve(this,null,function*(){try{const ae=new FormData;return ae.append("file",G),(yield Le.post("/profile/uploadLogo",ae,{headers:{"Content-Type":"multipart/form-data"}})).data.url}catch(ae){throw console.error("Error uploading file:",ae),new Error("Failed to upload file")}});function Je(G){return ve(this,null,function*(){var ae;if(G.preventDefault(),!Fe()){ce.error("Please fix the highlighted fields.");return}m(!0);try{let Me=null;if(k.avatarFile)try{Me=yield ut(k.avatarFile)}catch(q){ce.error("Failed to upload profile picture. Please try again."),m(!1);return}const he={name:k.name,email:k.email,phone:k.phone,countryOfResidence:k.country,password:k.password,accountType:C,avatarUrl:Me,birthDate:k.birthDate,gender:k.gender,nationality:k.nationality,otherCountries:k.otherCountries,webpage:k.webpage},ye=Le.post("/auth/signup",he),oe=yield ce.promise(ye,{loading:"Creating your account…",success:"Account created! 🎉",error:q=>{var Se,$e;return(($e=(Se=q==null?void 0:q.response)==null?void 0:Se.data)==null?void 0:$e.message)||"Sign up failed."}},{id:"signup"}),ie=((ae=oe==null?void 0:oe.data)==null?void 0:ae.email)||he.email;r(),a("/verify-email-sent",{state:{email:ie}})}catch(Me){console.error("Signup error:",Me)}finally{m(!1)}})}return t?n.jsxs("div",{style:{zIndex:999},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 _login_container",children:[n.jsxs("div",{ref:i,className:`relative w-full ${o!="signup"?"max-w-md":"max-w-2xl"} bg-white rounded-xl translate-y-5 shadow-xl p-6 md:p-8 max-h-[85vh]  ${b?"overflow-hidden":"overflow-y-auto"}`,children:[n.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:n.jsx(Lr,{size:24})}),y?n.jsxs(n.Fragment,{children:[n.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"Welcome Back"}),n.jsx("p",{className:"mt-1 text-gray-500",children:"Sign in to continue your professional journey"})]}):n.jsxs(n.Fragment,{children:[n.jsx("h2",{className:"mt-2 text-3xl font-bold text-gray-900",children:"54Links"}),n.jsx("p",{className:"mt-1 text-gray-600",children:"Discover, connect, and collaborate across markets."}),n.jsx("p",{className:"mt-1 text-gray-500",children:o==="login"?"Log in to start connecting.":"Join the global networking community"})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-2 rounded-xl bg-gray-100 p-1 text-sm",children:[n.jsx("button",{onClick:()=>l("login"),className:`text-center rounded-lg py-2 font-medium transition ${o==="login"?"bg-white shadow-soft text-brand-700":"text-gray-600 hover:text-gray-900"}`,children:"Sign In"}),n.jsx("button",{onClick:()=>l("signup"),className:`text-center rounded-lg py-2 font-medium transition ${o==="signup"?"bg-white shadow-soft text-brand-700":"text-gray-600 hover:text-gray-900"}`,children:"Sign Up"})]}),o==="login"?n.jsxs("form",{onSubmit:Ve,className:"mt-6 space-y-4",children:[n.jsx(Pr,{name:"email",label:"Email Address",type:"email",placeholder:"Enter your email",value:c.email,onChange:O,error:f.email,rightIcon:n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M4 6h16v12H4z"}),n.jsx("path",{d:"m22 6-10 7L2 6"})]})}),n.jsx("div",{children:n.jsx(Pr,{name:"password",label:"Password",type:p?"text":"password",placeholder:"Enter your password",value:c.password,onChange:O,error:f.password,rightIcon:n.jsx("button",{type:"button",onClick:()=>x(G=>!G),"aria-label":p?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:p?n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M3 3l18 18"}),n.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})})}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("label",{className:"inline-flex items-center gap-2",children:[n.jsx("input",{name:"remember",type:"checkbox",checked:c.remember,onChange:O,className:"h-4 w-4 rounded border-gray-300 text-brand-500 focus:ring-brand-500"}),n.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),n.jsx("button",{type:"button",onClick:()=>a("/forgot"),className:"text-brand-500 hover:underline",children:"Forgot password?"})]}),n.jsxs("button",{type:"submit",disabled:g,className:"mt-1 w-full rounded-xl bg-gradient-to-r from-brand-600 to-brand-500 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[g&&n.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),g?"Signing In...":"Sign In"]}),n.jsxs("div",{className:"relative my-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-200"})}),n.jsx("div",{className:"relative flex justify-center",children:n.jsx("span",{className:"bg-white px-4 text-xs uppercase tracking-wider text-gray-400",children:"or continue with"})})]}),n.jsx(nh,{page:"signin",showAccountTypeModalChange:G=>{v(G),G&&i.current&&i.current.scrollTo({top:0,behavior:"instant"})}}),n.jsxs("div",{className:"mt-4 text-center text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Don't have an account?"})," ",n.jsx("button",{type:"button",onClick:()=>l("signup"),className:"text-brand-500 hover:underline font-medium",children:"Sign up"})]})]}):n.jsxs("form",{onSubmit:Je,className:"mt-6",children:[n.jsxs("div",{className:"flex gap-3 mb-4",children:[n.jsxs("button",{type:"button",onClick:()=>T("individual"),className:`flex-1 inline-flex items-center justify-center gap-2 rounded-xl border px-4 py-3 text-sm ${C==="individual"?"border-brand-500 text-brand-700 bg-brand-50":"border-gray-200 text-gray-700"}`,children:[n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5ZM3 22a9 9 0 1 1 18 0Z"})}),"Individual"]}),n.jsxs("button",{type:"button",onClick:()=>T("company"),className:`flex-1 inline-flex items-center justify-center gap-2 rounded-xl border px-4 py-3 text-sm ${C==="company"?"border-brand-500 text-brand-700 bg-brand-50":"border-gray-200 text-gray-700"}`,children:[n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M3 21V3h8v6h10v12H3Z"})}),"Organization"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("div",{className:"md:col-span-2",children:n.jsx(Pr,{label:le,name:"name",placeholder:C==="company"?"54Links Ltd.":"John Doe",value:k.name,onChange:U,error:_.name})}),n.jsx("div",{className:"md:col-span-1",children:n.jsx(Pr,{label:Ne,name:"email",type:"email",placeholder:C==="company"?"contact@yourcompany.com":"john@example.com",value:k.email,onChange:U,error:_.email})}),n.jsx("div",{className:"md:col-span-1",children:n.jsx(Pr,{label:Te,name:"phone",onWheel:G=>G.currentTarget.blur(),placeholder:"Phone",value:k.phone,onChange:G=>{const{name:ae,value:Me}=G.target,he=Me.replace(/[^+\d\-\(\)]/g,"");if((he.match(/\+/g)||[]).length>1){const oe=he.replace(/\+/g,"");M(ie=>me(ne({},ie),{[ae]:"+"+oe}))}else M(oe=>me(ne({},oe),{[ae]:he}));J(oe=>me(ne({},oe),{[ae]:""}))},error:_.phone})}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(Fn,{label:"Country",options:An,value:k.country,onChange:G=>{M(ae=>me(ne({},ae),{country:G})),J(ae=>me(ne({},ae),{country:""}))},placeholder:"Select your country",error:_.country})}),C==="individual"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"md:col-span-2 space-y-3",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Profile Picture (Optional)"}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-20 h-20 rounded-full border-2 border-gray-200 bg-gray-50 flex items-center justify-center overflow-hidden",children:k.avatarPreview?n.jsx("img",{src:k.avatarPreview,alt:"Profile preview",className:"w-full h-full object-cover"}):n.jsxs("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),k.avatarPreview&&n.jsx("button",{type:"button",onClick:()=>Z("avatar",null),className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("input",{type:"file",name:"avatar",accept:"image/*",onChange:G=>{const ae=G.target.files[0];Z("avatar",ae)},className:"hidden",id:"avatar-upload"}),n.jsx("label",{htmlFor:"avatar-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-50 text-brand-700 border border-brand-200 rounded-lg cursor-pointer hover:bg-brand-100 transition-colors",children:k.avatarUrl?"Change Picture":"Upload Picture"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:k.avatarPreview?"Image selected":"JPG, PNG up to 5MB"})]})]})]}),n.jsxs("div",{className:"md:col-span-1 space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Birth Date"}),n.jsx("input",{type:"date",name:"birthDate",value:k.birthDate,onChange:U,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${_.birthDate?"border-red-400 focus:ring-red-400":"border-gray-200"}`}),_.birthDate&&n.jsx("p",{className:"text-xs text-red-600",children:_.birthDate})]}),n.jsxs("div",{className:"md:col-span-1 space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Gender"}),n.jsxs("select",{name:"gender",value:k.gender,onChange:U,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${_.gender?"border-red-400 focus:ring-red-400":"border-gray-200"}`,children:[n.jsx("option",{value:"",disabled:!0,children:"Select gender"}),n.jsx("option",{value:"male",children:"Male"}),n.jsx("option",{value:"female",children:"Female"})]}),_.gender&&n.jsx("p",{className:"text-xs text-red-600",children:_.gender})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(Fn,{label:"Nationality",options:An,value:k.nationality,onChange:G=>{M(ae=>me(ne({},ae),{nationality:G})),J(ae=>me(ne({},ae),{nationality:""}))},placeholder:"Select your nationality",error:_.nationality})})]}),C==="company"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"md:col-span-2 space-y-3",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Company Logo (Optional)"}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-20 h-20 rounded-lg border-2 border-gray-200 bg-gray-50 flex items-center justify-center overflow-hidden",children:k.avatarPreview?n.jsx("img",{src:k.avatarPreview,alt:"Logo preview",className:"w-full h-full object-contain"}):n.jsxs("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("circle",{cx:"9",cy:"9",r:"2"}),n.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]})}),k.avatarPreview&&n.jsx("button",{type:"button",onClick:()=>Z("avatar",null),className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("input",{type:"file",name:"avatar",accept:"image/*",onChange:G=>{const ae=G.target.files[0];Z("avatar",ae)},className:"hidden",id:"avatar-upload"}),n.jsx("label",{htmlFor:"avatar-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-50 text-brand-700 border border-brand-200 rounded-lg cursor-pointer hover:bg-brand-100 transition-colors",children:k.avatarUrl?"Change Logo":"Upload Logo"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:k.avatarPreview?"Logo selected":"JPG, PNG up to 5MB"})]})]})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(Mue,{value:k.otherCountries,onChange:G=>{M(ae=>me(ne({},ae),{otherCountries:G})),J(ae=>me(ne({},ae),{otherCountries:""}))},error:_.otherCountries,citiesLoading:S,getCitiesForCountry:L})}),n.jsxs("div",{className:"md:col-span-2 space-y-1",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Company Website ",n.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),n.jsx("input",{name:"webpage",placeholder:"https://www.yourcompany.com",value:k.webpage,onChange:U,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${_.webpage?"border-red-400 focus:ring-red-400":"border-gray-200"}`}),_.webpage&&n.jsx("p",{className:"text-xs text-red-600",children:_.webpage})]})]}),n.jsxs("div",{children:[n.jsx(Pr,{label:"Password",name:"password",type:Y?"text":"password",placeholder:"At least 8 characters",value:k.password,onChange:U,error:_.password,rightIcon:n.jsx("button",{type:"button",onClick:()=>te(G=>!G),"aria-label":Y?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:Y?n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M3 3l18 18"}),n.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),k.password&&/^(?=.*[A-Za-z])(?=.*\d)(?=.*[^A-Za-z\d]).+$/.test(k.password)?n.jsxs("div",{className:"flex items-center gap-2 mt-2 text-green-600",children:[n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:n.jsx("path",{d:"M20 6L9 17l-5-5"})}),n.jsx("p",{className:"text-xs",children:"Password validated"})]}):_.password?null:n.jsx("p",{className:"text-xs text-gray-500 my-2",children:"Create a strong password with a mix of letters, numbers and symbols."})]}),n.jsx(Pr,{label:"Confirm Password",name:"confirmPassword",type:K?"text":"password",placeholder:"Confirm your password",value:k.confirmPassword,onChange:U,error:_.confirmPassword,rightIcon:n.jsx("button",{type:"button",onClick:()=>X(G=>!G),"aria-label":K?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:K?n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M3 3l18 18"}),n.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),n.jsxs("div",{className:"md:col-span-2 flex items-start gap-3 text-sm",children:[n.jsx("input",{name:"tos",type:"checkbox",checked:k.tos,onChange:U,className:`mt-1 h-4 w-4 rounded border-gray-300 text-brand-600 focus:ring-brand-500 ${_.tos?"ring-2 ring-red-400":""}`}),n.jsxs("p",{className:"text-gray-600",children:["I agree to the"," ",n.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 underline",children:"Terms of Service"})," and"," ",n.jsx("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 underline",children:"Privacy Policy"})]})]}),_.tos&&n.jsx("div",{className:"md:col-span-2 -mt-2",children:n.jsx("p",{className:"text-xs text-red-600",children:_.tos})}),n.jsxs("div",{className:"md:col-span-2 space-y-4",children:[n.jsxs("button",{type:"submit",disabled:g,className:"w-full rounded-xl bg-gradient-to-r from-brand-700 to-brand-500 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[g&&n.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),g?"Creating Account…":"Create Account"]}),n.jsx(nh,{page:"signup",showAccountTypeModalChange:G=>{v(G),G&&i.current&&i.current.scrollTo({top:0,behavior:"instant"})}})]}),n.jsxs("div",{className:"md:col-span-2 text-center text-sm mt-4",children:[n.jsx("span",{className:"text-gray-600",children:"Already have an account?"})," ",n.jsx("button",{type:"button",onClick:()=>l("login"),className:"text-brand-500 hover:underline font-medium",children:"Sign in"})]})]})]})]}),W&&P&&n.jsx(tw,{image:P,imageDimensions:B,onCropComplete:se,onCancel:fe,config:Lue.avatar,type:"avatar"})]}):null}const Iue=[{value:"complaint",label:"Complaint / Feedback"},{value:"partnership",label:"Partnership / Collaboration"},{value:"information",label:"Request Information"},{value:"other",label:"Other"}];function AH({isOpen:t,onClose:r}){const s=u.useRef(null),[a,i]=u.useState(!1),[o,l]=u.useState({fullName:"",email:"",phone:"",contactReason:"",message:"",companyName:"",website:"",attachment:null,attachmentPreview:null}),[c,d]=u.useState({}),f=x=>{const{name:y,value:w}=x.target;l(b=>me(ne({},b),{[y]:w})),d(b=>me(ne({},b),{[y]:""}))},h=x=>{if(x){if(x.size>10485760){d(b=>me(ne({},b),{attachment:"File size must be less than 10MB"}));return}if(!["image/jpeg","image/jpg","image/png","image/gif","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"].includes(x.type)){d(b=>me(ne({},b),{attachment:"Please select a valid file (Images, PDF, Word documents, or text files)"}));return}if(x.type.startsWith("image/")){const b=new FileReader;b.onload=v=>{const j=v.target.result;l(N=>me(ne({},N),{attachment:j,attachmentPreview:j}))},b.readAsDataURL(x)}else l(b=>me(ne({},b),{attachment:x,attachmentPreview:null}))}else l(y=>me(ne({},y),{attachment:null,attachmentPreview:null}));d(y=>me(ne({},y),{attachment:""}))},g=()=>{const x={};o.fullName.trim()?o.fullName.trim().length<2&&(x.fullName="Full name must be at least 2 characters long."):x.fullName="Full name is required.";const y=w=>/^[^\s@]+@[^\s@]+\.[a-zA-Z]{2,}$/.test(String(w||"").toLowerCase());if(o.email.trim()?y(o.email.toLowerCase())||(x.email="Please enter a valid email address."):x.email="Email is required.",o.phone&&o.phone.trim()){const w=o.phone.replace(/\D/g,"");w.length<6?x.phone="Phone number must be at least 6 digits.":w.length>15?x.phone="Phone number is too long (max 15 digits).":/^\+?[\d\s\-\(\)]+$/.test(o.phone)||(x.phone="Please enter a valid phone number format.")}return o.contactReason||(x.contactReason="Please select a reason for contact."),o.message.trim()?o.message.trim().length<10&&(x.message="Message must be at least 10 characters long."):x.message="Message is required.",o.contactReason==="partnership"&&(!o.companyName||!o.companyName.trim()?x.companyName="Company/Organization name is required for partnership inquiries.":o.companyName.trim().length<2&&(x.companyName="Company name must be at least 2 characters long."),o.website&&o.website.trim()&&!/^(https?:\/\/)?([\w-]+\.)+[a-zA-Z]{2,}(\/\S*)?$/.test(o.website.trim())&&(x.website="Please enter a valid website address.")),d(x),Object.keys(x).length===0},m=x=>ve(this,null,function*(){if(x.preventDefault(),!g()){ce.error("Please fix the highlighted fields.");return}i(!0);try{const y=new FormData;if(y.append("fullName",o.fullName),y.append("email",o.email),y.append("phone",o.phone||""),y.append("contactReason",o.contactReason),y.append("message",o.message),y.append("companyName",o.companyName||""),y.append("website",o.website||""),o.attachment)if(typeof o.attachment=="string"){const v=yield(yield fetch(o.attachment)).blob();y.append("attachment",v,"attachment")}else y.append("attachment",o.attachment);const w=Le.post("/contact",y,{headers:{"Content-Type":"multipart/form-data"}});yield ce.promise(w,{loading:"Sending your message…",success:"Message sent successfully! We'll get back to you soon.",error:b=>{var v,j;return((j=(v=b==null?void 0:b.response)==null?void 0:v.data)==null?void 0:j.message)||"Failed to send message. Please try again."}},{id:"contact"}),l({fullName:"",email:"",phone:"",contactReason:"",message:"",companyName:"",website:"",attachment:null,attachmentPreview:null}),r()}catch(y){}finally{i(!1)}});if(!t)return null;const p=o.contactReason==="partnership";return n.jsx("div",{style:{zIndex:999},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{ref:s,className:"relative w-full max-w-2xl bg-white rounded-xl shadow-xl p-6 md:p-8 max-h-[85vh] overflow-y-auto",children:[n.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:n.jsx(Lr,{size:24})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Contact Us"}),n.jsx("p",{className:"mt-1 text-gray-600",children:"Get in touch with our team. We're here to help!"})]}),n.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n.jsx(Pr,{label:"Full Name *",name:"fullName",placeholder:"Enter your full name",value:o.fullName,onChange:f,error:c.fullName}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Pr,{label:"Email Address *",name:"email",type:"email",placeholder:"your.email@example.com",value:o.email,onChange:f,error:c.email}),n.jsx(Pr,{label:"Phone Number",name:"phone",placeholder:"+1 (555) 123-4567",value:o.phone,onChange:x=>{const{name:y,value:w}=x.target,b=w.replace(/[^+\d\s\-\(\)]/g,"");if((b.match(/\+/g)||[]).length>1){const j=b.replace(/\+/g,"");l(N=>me(ne({},N),{[y]:"+"+j}))}else l(j=>me(ne({},j),{[y]:b}));d(j=>me(ne({},j),{[y]:""}))},error:c.phone})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Reason for Contact *"}),n.jsxs("select",{name:"contactReason",value:o.contactReason,onChange:f,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${c.contactReason?"border-red-400 focus:ring-red-400":"border-gray-200"}`,children:[n.jsx("option",{value:"",disabled:!0,children:"Select a reason"}),Iue.map(x=>n.jsx("option",{value:x.value,children:x.label},x.value))]}),c.contactReason&&n.jsx("p",{className:"text-xs text-red-600",children:c.contactReason})]}),p&&n.jsxs("div",{className:"space-y-4 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[n.jsx("h3",{className:"text-sm font-medium text-blue-900",children:"Partnership Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Pr,{label:"Company / Organization Name *",name:"companyName",placeholder:"Your company name",value:o.companyName,onChange:f,error:c.companyName}),n.jsx(Pr,{label:"Website",name:"website",placeholder:"https://www.yourcompany.com",value:o.website,onChange:f,error:c.website})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Message *"}),n.jsx("textarea",{name:"message",rows:5,placeholder:"Please describe your inquiry in detail...",value:o.message,onChange:f,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white resize-none ${c.message?"border-red-400 focus:ring-red-400":"border-gray-200"}`}),c.message&&n.jsx("p",{className:"text-xs text-red-600",children:c.message})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Attachment (Optional)"}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-20 h-20 rounded-lg border-2 border-gray-200 bg-gray-50 flex items-center justify-center overflow-hidden",children:o.attachmentPreview?n.jsx("img",{src:o.attachmentPreview,alt:"Attachment preview",className:"w-full h-full object-cover"}):o.attachment?n.jsxs("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14,2 14,8 20,8"})]}):n.jsxs("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14,2 14,8 20,8"})]})}),o.attachment&&n.jsx("button",{type:"button",onClick:()=>h(null),className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("input",{type:"file",name:"attachment",accept:"image/*,.pdf,.doc,.docx,.txt",onChange:x=>{const y=x.target.files[0];h(y)},className:"hidden",id:"contact-attachment"}),n.jsxs("label",{htmlFor:"contact-attachment",className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-50 text-brand-700 border border-brand-200 rounded-lg cursor-pointer hover:bg-brand-100 transition-colors",children:[n.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),n.jsx("polyline",{points:"7,10 12,15 17,10"}),n.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),o.attachment?"Change File":"Upload File"]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o.attachment?`${o.attachment.name||"File selected"}`:"Images, PDF, Word docs, or text files up to 10MB"}),c.attachment&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:c.attachment})]})]})]}),n.jsxs("button",{type:"submit",disabled:a,className:"w-full rounded-xl bg-brand-600 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[a&&n.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),a?"Sending Message...":"Send Message"]})]})]})})}const BC={primary:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white bg-[#034ea2] hover:bg-[#023771] hover:text-[#ffffff99] focus:outline-none focus:ring-2 focus:ring-[#034ea2]/30",primaryWide:"w-full rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-[#034ea2] hover:bg-[#023771] hover:text-[#ffffff99] focus:outline-none focus:ring-2 focus:ring-[#034ea2]/30",pill:"inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-sm font-medium text-white bg-[#034ea2] hover:bg-[#023771] hover:text-[#ffffff99]"},_H=u.createContext(null);function Tue({children:t}){const[r,s]=u.useState(Y2()),[a,i]=u.useState(null),[o,l]=u.useState(!0),[c,d]=u.useState(null),[f,h]=u.useState(!!r),[g,m]=u.useState(!1);u.useEffect(()=>{UE(r||null)},[r]);const p=v=>ve(this,null,function*(){var N;if(!(v||r)){i(null),d(null),h(!1);return}h(!0);try{const S=Le.defaults.headers.common.Authorization;v&&(Le.defaults.headers.common.Authorization=`Bearer ${v}`);const{data:I}=yield Le.get("/profile/me");i((I==null?void 0:I.user)||null),l((I==null?void 0:I.settings)||null),d((I==null?void 0:I.profile)||null)}catch(S){((N=S==null?void 0:S.response)==null?void 0:N.status)==401&&(s(null),i(null),d(null))}finally{h(!1),m(!0)}});u.useEffect(()=>{p()},[r]),u.useEffect(()=>{const v=()=>{s(null),i(null),d(null)};return window.addEventListener("auth:unauthorized",v),()=>window.removeEventListener("auth:unauthorized",v)},[]);const x=v=>ve(this,null,function*(){return s(v),!0}),y=()=>{h(!0),window.location.href="/",localStorage.removeItem("auth_token"),localStorage.removeItem("token"),localStorage.removeItem("activeAccountId")},w=(v=[])=>{if(!(v!=null&&v.length))return!0;const j=(a==null?void 0:a.role)||(a==null?void 0:a.accountType);return v.includes(j)};console.log(a==null?void 0:a.email);const b=u.useMemo(()=>({token:r,user:a,profile:c,loading:f,ready:g,setProfile:d,setToken:x,refreshAuth:p,signOut:y,hasRole:w,setUser:i,settings:o,setSettings:l,isAuthed:!!(a&&r)}),[r,a,c,f,g,o]);return n.jsx(_H.Provider,{value:b,children:t})}function Xt(){return u.useContext(_H)}const OH=u.createContext(),Aue=({children:t})=>{let r={profile:!1,login_prompt:!1};const[s,a]=u.useState([]),[i,o]=u.useState([]);let l=["support_messages"];const[c,d]=u.useState(r);function f(){d(r),document.removeEventListener("click",m)}function h(y){d(me(ne({},c),{[y]:!1}))}const g=(y,w)=>{const b=document.getElementById(y);console.log({Section:b}),b?b.scrollIntoView({behavior:w?"instant":y=="home"||y=="about"||y=="move_after_pagination"||y=="contact"?"smooth":"instant"}):setTimeout(()=>g(y),2e3)},m=y=>{let w=!0;Object.keys(r).forEach(b=>{var v;(v=y==null?void 0:y.target)!=null&&v.closest(`._${b}`)&&(w=!1)}),Object.keys(r).forEach(b=>{l.includes(b)&&c[b]&&(w=!1)}),w&&(document.removeEventListener("click",m),f())},x={filtersToClear:s,setFiltersToClear:a,_openPopUps:c,_scrollToSection:g,_closeAllPopUps:f,_showPopUp:(y,w)=>{setTimeout(()=>document.addEventListener("click",m),200),d(me(ne({},r),{[y]:w||!0}))},_closeThisPopUp:h,initial_popups:r,updateData:i,setUpdateData:o};return n.jsx(OH.Provider,{value:x,children:t})},Cr=()=>u.useContext(OH),dl=Object.create(null);dl.open="0";dl.close="1";dl.ping="2";dl.pong="3";dl.message="4";dl.upgrade="5";dl.noop="6";const K1=Object.create(null);Object.keys(dl).forEach(t=>{K1[dl[t]]=t});const zC={type:"error",data:"parser error"},$H=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",PH=typeof ArrayBuffer=="function",DH=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,qE=({type:t,data:r},s,a)=>$H&&r instanceof Blob?s?a(r):KA(r,a):PH&&(r instanceof ArrayBuffer||DH(r))?s?a(r):KA(new Blob([r]),a):a(dl[t]+(r||"")),KA=(t,r)=>{const s=new FileReader;return s.onload=function(){const a=s.result.split(",")[1];r("b"+(a||""))},s.readAsDataURL(t)};function XA(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let _4;function _ue(t,r){if($H&&t.data instanceof Blob)return t.data.arrayBuffer().then(XA).then(r);if(PH&&(t.data instanceof ArrayBuffer||DH(t.data)))return r(XA(t.data));qE(t,!1,s=>{_4||(_4=new TextEncoder),r(_4.encode(s))})}const e_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dm=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(let t=0;t<e_.length;t++)dm[e_.charCodeAt(t)]=t;const Oue=t=>{let r=t.length*.75,s=t.length,a,i=0,o,l,c,d;t[t.length-1]==="="&&(r--,t[t.length-2]==="="&&r--);const f=new ArrayBuffer(r),h=new Uint8Array(f);for(a=0;a<s;a+=4)o=dm[t.charCodeAt(a)],l=dm[t.charCodeAt(a+1)],c=dm[t.charCodeAt(a+2)],d=dm[t.charCodeAt(a+3)],h[i++]=o<<2|l>>4,h[i++]=(l&15)<<4|c>>2,h[i++]=(c&3)<<6|d&63;return f},$ue=typeof ArrayBuffer=="function",YE=(t,r)=>{if(typeof t!="string")return{type:"message",data:RH(t,r)};const s=t.charAt(0);return s==="b"?{type:"message",data:Pue(t.substring(1),r)}:K1[s]?t.length>1?{type:K1[s],data:t.substring(1)}:{type:K1[s]}:zC},Pue=(t,r)=>{if($ue){const s=Oue(t);return RH(s,r)}else return{base64:!0,data:t}},RH=(t,r)=>{switch(r){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},FH="",Due=(t,r)=>{const s=t.length,a=new Array(s);let i=0;t.forEach((o,l)=>{qE(o,!1,c=>{a[l]=c,++i===s&&r(a.join(FH))})})},Rue=(t,r)=>{const s=t.split(FH),a=[];for(let i=0;i<s.length;i++){const o=YE(s[i],r);if(a.push(o),o.type==="error")break}return a};function Fue(){return new TransformStream({transform(t,r){_ue(t,s=>{const a=s.length;let i;if(a<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,a);else if(a<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,a)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(a))}t.data&&typeof t.data!="string"&&(i[0]|=128),r.enqueue(i),r.enqueue(s)})}})}let O4;function wv(t){return t.reduce((r,s)=>r+s.length,0)}function jv(t,r){if(t[0].length===r)return t.shift();const s=new Uint8Array(r);let a=0;for(let i=0;i<r;i++)s[i]=t[0][a++],a===t[0].length&&(t.shift(),a=0);return t.length&&a<t[0].length&&(t[0]=t[0].slice(a)),s}function Bue(t,r){O4||(O4=new TextDecoder);const s=[];let a=0,i=-1,o=!1;return new TransformStream({transform(l,c){for(s.push(l);;){if(a===0){if(wv(s)<1)break;const d=jv(s,1);o=(d[0]&128)===128,i=d[0]&127,i<126?a=3:i===126?a=1:a=2}else if(a===1){if(wv(s)<2)break;const d=jv(s,2);i=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),a=3}else if(a===2){if(wv(s)<8)break;const d=jv(s,8),f=new DataView(d.buffer,d.byteOffset,d.length),h=f.getUint32(0);if(h>Math.pow(2,21)-1){c.enqueue(zC);break}i=h*Math.pow(2,32)+f.getUint32(4),a=3}else{if(wv(s)<i)break;const d=jv(s,i);c.enqueue(YE(o?d:O4.decode(d),r)),a=0}if(i===0||i>t){c.enqueue(zC);break}}}})}const BH=4;function Gn(t){if(t)return zue(t)}function zue(t){for(var r in Gn.prototype)t[r]=Gn.prototype[r];return t}Gn.prototype.on=Gn.prototype.addEventListener=function(t,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(r),this};Gn.prototype.once=function(t,r){function s(){this.off(t,s),r.apply(this,arguments)}return s.fn=r,this.on(t,s),this};Gn.prototype.off=Gn.prototype.removeListener=Gn.prototype.removeAllListeners=Gn.prototype.removeEventListener=function(t,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+t];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var a,i=0;i<s.length;i++)if(a=s[i],a===r||a.fn===r){s.splice(i,1);break}return s.length===0&&delete this._callbacks["$"+t],this};Gn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),s=this._callbacks["$"+t],a=1;a<arguments.length;a++)r[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,i=s.length;a<i;++a)s[a].apply(this,r)}return this};Gn.prototype.emitReserved=Gn.prototype.emit;Gn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Gn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const rw=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,s)=>s(r,0),qi=typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")(),Uue="arraybuffer";function zH(t,...r){return r.reduce((s,a)=>(t.hasOwnProperty(a)&&(s[a]=t[a]),s),{})}const Wue=qi.setTimeout,Hue=qi.clearTimeout;function nw(t,r){r.useNativeTimers?(t.setTimeoutFn=Wue.bind(qi),t.clearTimeoutFn=Hue.bind(qi)):(t.setTimeoutFn=qi.setTimeout.bind(qi),t.clearTimeoutFn=qi.clearTimeout.bind(qi))}const Vue=1.33;function Gue(t){return typeof t=="string"?que(t):Math.ceil((t.byteLength||t.size)*Vue)}function que(t){let r=0,s=0;for(let a=0,i=t.length;a<i;a++)r=t.charCodeAt(a),r<128?s+=1:r<2048?s+=2:r<55296||r>=57344?s+=3:(a++,s+=4);return s}function UH(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Yue(t){let r="";for(let s in t)t.hasOwnProperty(s)&&(r.length&&(r+="&"),r+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return r}function Jue(t){let r={},s=t.split("&");for(let a=0,i=s.length;a<i;a++){let o=s[a].split("=");r[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return r}class Zue extends Error{constructor(r,s,a){super(r),this.description=s,this.context=a,this.type="TransportError"}}class JE extends Gn{constructor(r){super(),this.writable=!1,nw(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,s,a){return super.emitReserved("error",new Zue(r,s,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const s=YE(r,this.socket.binaryType);this.onPacket(s)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,s={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const s=Yue(r);return s.length?"?"+s:""}}class Que extends JE{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";const s=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||s()})),this.writable||(a++,this.once("drain",function(){--a||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const s=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};Rue(r,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,Due(r,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=UH()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(r,s)}}let WH=!1;try{WH=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(t){}const Kue=WH;function Xue(){}class efe extends Que{constructor(r){if(super(r),typeof location!="undefined"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location!="undefined"&&r.hostname!==location.hostname||a!==r.port}}doWrite(r,s){const a=this.request({method:"POST",data:r});a.on("success",s),a.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(s,a)=>{this.onError("xhr poll error",s,a)}),this.pollXhr=r}}let _0=class X1 extends Gn{constructor(r,s,a){super(),this.createRequest=r,nw(this,a),this._opts=a,this._method=a.method||"GET",this._uri=s,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var r;const s=zH(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(s);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&a.setRequestHeader(i,this._opts.extraHeaders[i])}}catch(i){}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{a.setRequestHeader("Accept","*/*")}catch(i){}(r=this._opts.cookieJar)===null||r===void 0||r.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var i;a.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document!="undefined"&&(this._index=X1.requestsCount++,X1.requests[this._index]=this)}_onError(r){this.emitReserved("error",r,this._xhr),this._cleanup(!0)}_cleanup(r){if(!(typeof this._xhr=="undefined"||this._xhr===null)){if(this._xhr.onreadystatechange=Xue,r)try{this._xhr.abort()}catch(s){}typeof document!="undefined"&&delete X1.requests[this._index],this._xhr=null}}_onLoad(){const r=this._xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};_0.requestsCount=0;_0.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",t_);else if(typeof addEventListener=="function"){const t="onpagehide"in qi?"pagehide":"unload";addEventListener(t,t_,!1)}}function t_(){for(let t in _0.requests)_0.requests.hasOwnProperty(t)&&_0.requests[t].abort()}const tfe=function(){const t=HH({xdomain:!1});return t&&t.responseType!==null}();class rfe extends efe{constructor(r){super(r);const s=r&&r.forceBase64;this.supportsBinary=tfe&&!s}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new _0(HH,this.uri(),r)}}function HH(t){const r=t.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!r||Kue))return new XMLHttpRequest}catch(s){}if(!r)try{return new qi[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(s){}}const VH=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class nfe extends JE{get name(){return"websocket"}doOpen(){const r=this.uri(),s=this.opts.protocols,a=VH?{}:zH(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,s,a)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let s=0;s<r.length;s++){const a=r[s],i=s===r.length-1;qE(a,this.supportsBinary,o=>{try{this.doWrite(a,o)}catch(l){}i&&rw(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=UH()),this.supportsBinary||(s.b64=1),this.createUri(r,s)}}const $4=qi.WebSocket||qi.MozWebSocket;class sfe extends nfe{createSocket(r,s,a){return VH?new $4(r,s,a):s?new $4(r,s):new $4(r)}doWrite(r,s){this.ws.send(s)}}class afe extends JE{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{const s=Bue(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=r.readable.pipeThrough(s).getReader(),i=Fue();i.readable.pipeTo(r.writable),this._writer=i.writable.getWriter();const o=()=>{a.read().then(({done:c,value:d})=>{c||(this.onPacket(d),o())}).catch(c=>{})};o();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let s=0;s<r.length;s++){const a=r[s],i=s===r.length-1;this._writer.write(a).then(()=>{i&&rw(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}}const ife={websocket:sfe,webtransport:afe,polling:rfe},ofe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,lfe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function UC(t){if(t.length>8e3)throw"URI too long";const r=t,s=t.indexOf("["),a=t.indexOf("]");s!=-1&&a!=-1&&(t=t.substring(0,s)+t.substring(s,a).replace(/:/g,";")+t.substring(a,t.length));let i=ofe.exec(t||""),o={},l=14;for(;l--;)o[lfe[l]]=i[l]||"";return s!=-1&&a!=-1&&(o.source=r,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=cfe(o,o.path),o.queryKey=dfe(o,o.query),o}function cfe(t,r){const s=/\/{2,9}/g,a=r.replace(s,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&a.splice(0,1),r.slice(-1)=="/"&&a.splice(a.length-1,1),a}function dfe(t,r){const s={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,i,o){i&&(s[i]=o)}),s}const WC=typeof addEventListener=="function"&&typeof removeEventListener=="function",ey=[];WC&&addEventListener("offline",()=>{ey.forEach(t=>t())},!1);class ud extends Gn{constructor(r,s){if(super(),this.binaryType=Uue,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,r&&typeof r=="object"&&(s=r,r=null),r){const a=UC(r);s.hostname=a.host,s.secure=a.protocol==="https"||a.protocol==="wss",s.port=a.port,a.query&&(s.query=a.query)}else s.host&&(s.hostname=UC(s.host).host);nw(this,s),this.secure=s.secure!=null?s.secure:typeof location!="undefined"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=s.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(a=>{const i=a.prototype.name;this.transports.push(i),this._transportsByName[i]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Jue(this.opts.query)),WC&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ey.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(r){const s=Object.assign({},this.opts.query);s.EIO=BH,s.transport=r,this.id&&(s.sid=this.id);const a=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new this._transportsByName[r](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const r=this.opts.rememberUpgrade&&ud.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(r);s.open(),this.setTransport(s)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",ud.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=r.data,this._onError(s);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this._pingInterval=r.pingInterval,this._pingTimeout=r.pingTimeout,this._maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const r=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+r,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},r),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this._getWritablePackets();this.transport.send(r),this._prevBufferLen=r.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let a=0;a<this.writeBuffer.length;a++){const i=this.writeBuffer[a].data;if(i&&(s+=Gue(i)),a>0&&s>this._maxPayload)return this.writeBuffer.slice(0,a);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const r=Date.now()>this._pingTimeoutTime;return r&&(this._pingTimeoutTime=0,rw(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),r}write(r,s,a){return this._sendPacket("message",r,s,a),this}send(r,s,a){return this._sendPacket("message",r,s,a),this}_sendPacket(r,s,a,i){if(typeof s=="function"&&(i=s,s=void 0),typeof a=="function"&&(i=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const o={type:r,data:s,options:a};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const r=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),r()},a=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():r()}):this.upgrading?a():r()),this}_onError(r){if(ud.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",r),this._onClose("transport error",r)}_onClose(r,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),WC&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=ey.indexOf(this._offlineEventListener);a!==-1&&ey.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",r,s),this.writeBuffer=[],this._prevBufferLen=0}}}ud.protocol=BH;class ufe extends ud{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let s=this.createTransport(r),a=!1;ud.priorWebsocketSuccess=!1;const i=()=>{a||(s.send([{type:"ping",data:"probe"}]),s.once("packet",g=>{if(!a)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;ud.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(h(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=s.name,this.emitReserved("upgradeError",m)}}))};function o(){a||(a=!0,h(),s.close(),s=null)}const l=g=>{const m=new Error("probe error: "+g);m.transport=s.name,o(),this.emitReserved("upgradeError",m)};function c(){l("transport closed")}function d(){l("socket closed")}function f(g){s&&g.name!==s.name&&o()}const h=()=>{s.removeListener("open",i),s.removeListener("error",l),s.removeListener("close",c),this.off("close",d),this.off("upgrading",f)};s.once("open",i),s.once("error",l),s.once("close",c),this.once("close",d),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{a||s.open()},200):s.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){const s=[];for(let a=0;a<r.length;a++)~this.transports.indexOf(r[a])&&s.push(r[a]);return s}}let ffe=class extends ufe{constructor(r,s={}){const a=typeof r=="object"?r:s;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(i=>ife[i]).filter(i=>!!i)),super(r,a)}};function hfe(t,r="",s){let a=t;s=s||typeof location!="undefined"&&location,t==null&&(t=s.protocol+"//"+s.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=s.protocol+t:t=s.host+t),/^(https?|wss?):\/\//.test(t)||(typeof s!="undefined"?t=s.protocol+"//"+t:t="https://"+t),a=UC(t)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const o=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+o+":"+a.port+r,a.href=a.protocol+"://"+o+(s&&s.port===a.port?"":":"+a.port),a}const gfe=typeof ArrayBuffer=="function",mfe=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,GH=Object.prototype.toString,pfe=typeof Blob=="function"||typeof Blob!="undefined"&&GH.call(Blob)==="[object BlobConstructor]",xfe=typeof File=="function"||typeof File!="undefined"&&GH.call(File)==="[object FileConstructor]";function ZE(t){return gfe&&(t instanceof ArrayBuffer||mfe(t))||pfe&&t instanceof Blob||xfe&&t instanceof File}function ty(t,r){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let s=0,a=t.length;s<a;s++)if(ty(t[s]))return!0;return!1}if(ZE(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return ty(t.toJSON(),!0);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&ty(t[s]))return!0;return!1}function vfe(t){const r=[],s=t.data,a=t;return a.data=HC(s,r),a.attachments=r.length,{packet:a,buffers:r}}function HC(t,r){if(!t)return t;if(ZE(t)){const s={_placeholder:!0,num:r.length};return r.push(t),s}else if(Array.isArray(t)){const s=new Array(t.length);for(let a=0;a<t.length;a++)s[a]=HC(t[a],r);return s}else if(typeof t=="object"&&!(t instanceof Date)){const s={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=HC(t[a],r));return s}return t}function yfe(t,r){return t.data=VC(t.data,r),delete t.attachments,t}function VC(t,r){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<r.length)return r[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=VC(t[s],r);else if(typeof t=="object")for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=VC(t[s],r));return t}const bfe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],wfe=5;var _r;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(_r||(_r={}));class jfe{constructor(r){this.replacer=r}encode(r){return(r.type===_r.EVENT||r.type===_r.ACK)&&ty(r)?this.encodeAsBinary({type:r.type===_r.EVENT?_r.BINARY_EVENT:_r.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let s=""+r.type;return(r.type===_r.BINARY_EVENT||r.type===_r.BINARY_ACK)&&(s+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(s+=r.nsp+","),r.id!=null&&(s+=r.id),r.data!=null&&(s+=JSON.stringify(r.data,this.replacer)),s}encodeAsBinary(r){const s=vfe(r),a=this.encodeAsString(s.packet),i=s.buffers;return i.unshift(a),i}}function r_(t){return Object.prototype.toString.call(t)==="[object Object]"}class QE extends Gn{constructor(r){super(),this.reviver=r}add(r){let s;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(r);const a=s.type===_r.BINARY_EVENT;a||s.type===_r.BINARY_ACK?(s.type=a?_r.EVENT:_r.ACK,this.reconstructor=new Nfe(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(ZE(r)||r.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(r),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let s=0;const a={type:Number(r.charAt(0))};if(_r[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===_r.BINARY_EVENT||a.type===_r.BINARY_ACK){const o=s+1;for(;r.charAt(++s)!=="-"&&s!=r.length;);const l=r.substring(o,s);if(l!=Number(l)||r.charAt(s)!=="-")throw new Error("Illegal attachments");a.attachments=Number(l)}if(r.charAt(s+1)==="/"){const o=s+1;for(;++s&&!(r.charAt(s)===","||s===r.length););a.nsp=r.substring(o,s)}else a.nsp="/";const i=r.charAt(s+1);if(i!==""&&Number(i)==i){const o=s+1;for(;++s;){const l=r.charAt(s);if(l==null||Number(l)!=l){--s;break}if(s===r.length)break}a.id=Number(r.substring(o,s+1))}if(r.charAt(++s)){const o=this.tryParse(r.substr(s));if(QE.isPayloadValid(a.type,o))a.data=o;else throw new Error("invalid payload")}return a}tryParse(r){try{return JSON.parse(r,this.reviver)}catch(s){return!1}}static isPayloadValid(r,s){switch(r){case _r.CONNECT:return r_(s);case _r.DISCONNECT:return s===void 0;case _r.CONNECT_ERROR:return typeof s=="string"||r_(s);case _r.EVENT:case _r.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&bfe.indexOf(s[0])===-1);case _r.ACK:case _r.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Nfe{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const s=yfe(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Sfe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:QE,Encoder:jfe,get PacketType(){return _r},protocol:wfe},Symbol.toStringTag,{value:"Module"}));function No(t,r,s){return t.on(r,s),function(){t.off(r,s)}}const Cfe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class qH extends Gn{constructor(r,s,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=s,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[No(r,"open",this.onopen.bind(this)),No(r,"packet",this.onpacket.bind(this)),No(r,"error",this.onerror.bind(this)),No(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...s){var a,i,o;if(Cfe.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(s.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const l={type:_r.EVENT,data:s};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const h=this.ids++,g=s.pop();this._registerAckCallback(h,g),l.id=h}const c=(i=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||i===void 0?void 0:i.writable,d=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!c||(d?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(r,s){var a;const i=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(i===void 0){this.acks[r]=s;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===r&&this.sendBuffer.splice(c,1);s.call(this,new Error("operation has timed out"))},i),l=(...c)=>{this.io.clearTimeoutFn(o),s.apply(this,c)};l.withError=!0,this.acks[r]=l}emitWithAck(r,...s){return new Promise((a,i)=>{const o=(l,c)=>l?i(l):a(c);o.withError=!0,s.push(o),this.emit(r,...s)})}_addToQueue(r){let s;typeof r[r.length-1]=="function"&&(s=r.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((i,...o)=>a!==this._queue[0]?void 0:(i!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(i)):(this._queue.shift(),s&&s(null,...o)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!r||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:_r.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(a=>String(a.id)===r)){const a=this.acks[r];delete this.acks[r],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case _r.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case _r.EVENT:case _r.BINARY_EVENT:this.onevent(r);break;case _r.ACK:case _r.BINARY_ACK:this.onack(r);break;case _r.DISCONNECT:this.ondisconnect();break;case _r.CONNECT_ERROR:this.destroy();const a=new Error(r.data.message);a.data=r.data.data,this.emitReserved("connect_error",a);break}}onevent(r){const s=r.data||[];r.id!=null&&s.push(this.ack(r.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const a of s)a.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const s=this;let a=!1;return function(...i){a||(a=!0,s.packet({type:_r.ACK,id:r,data:i}))}}onack(r){const s=this.acks[r.id];typeof s=="function"&&(delete this.acks[r.id],s.withError&&r.data.unshift(null),s.apply(this,r.data))}onconnect(r,s){this.id=r,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:_r.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const s=this._anyListeners;for(let a=0;a<s.length;a++)if(r===s[a])return s.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const s=this._anyOutgoingListeners;for(let a=0;a<s.length;a++)if(r===s[a])return s.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const a of s)a.apply(this,r.data)}}}function Ih(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ih.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),s=Math.floor(r*this.jitter*t);t=Math.floor(r*10)&1?t+s:t-s}return Math.min(t,this.max)|0};Ih.prototype.reset=function(){this.attempts=0};Ih.prototype.setMin=function(t){this.ms=t};Ih.prototype.setMax=function(t){this.max=t};Ih.prototype.setJitter=function(t){this.jitter=t};class GC extends Gn{constructor(r,s){var a;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(s=r,r=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,nw(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((a=s.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new Ih({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=r;const i=s.parser||Sfe;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var s;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(s=this.backoff)===null||s===void 0||s.setMin(r),this)}randomizationFactor(r){var s;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(s=this.backoff)===null||s===void 0||s.setJitter(r),this)}reconnectionDelayMax(r){var s;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(s=this.backoff)===null||s===void 0||s.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new ffe(this.uri,this.opts);const s=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const i=No(s,"open",function(){a.onopen(),r&&r()}),o=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),r?r(c):this.maybeReconnectOnOpen()},l=No(s,"error",o);if(this._timeout!==!1){const c=this._timeout,d=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),s.close()},c);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(i),this.subs.push(l),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(No(r,"ping",this.onping.bind(this)),No(r,"data",this.ondata.bind(this)),No(r,"error",this.onerror.bind(this)),No(r,"close",this.onclose.bind(this)),No(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(s){this.onclose("parse error",s)}}ondecoded(r){rw(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,s){let a=this.nsps[r];return a?this._autoConnect&&!a.active&&a.connect():(a=new qH(this,r,s),this.nsps[r]=a),a}_destroy(r){const s=Object.keys(this.nsps);for(const a of s)if(this.nsps[a].active)return;this._close()}_packet(r){const s=this.encoder.encode(r);for(let a=0;a<s.length;a++)this.engine.write(s[a],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,s){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(i=>{i?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",i)):r.onreconnect()}))},s);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const kg={};function ry(t,r){typeof t=="object"&&(r=t,t=void 0),r=r||{};const s=hfe(t,r.path||"/socket.io"),a=s.source,i=s.id,o=s.path,l=kg[i]&&o in kg[i].nsps,c=r.forceNew||r["force new connection"]||r.multiplex===!1||l;let d;return c?d=new GC(a,r):(kg[i]||(kg[i]=new GC(a,r)),d=kg[i]),s.query&&!r.query&&(r.query=s.queryKey),d.socket(s.path,r)}Object.assign(ry,{Manager:GC,Socket:qH,io:ry,connect:ry});const YH=u.createContext(),kfe=({children:t})=>{const[r,s]=u.useState(null),[a,i]=u.useState(!1),[o,l]=u.useState(null),[c,d]=u.useState([]),[f,h]=u.useState(0),{token:g,isAuthed:m,user:p}=Xt(),x="https://api.54links.com";u.useEffect(()=>{if(!m||!g)return;const C=ry(x,{auth:{userId:p.id}});return C.on("connect",()=>{i(!0),l(null),C.emit("get_unread_count",T=>{T!=null&&T.ok&&h(T.data.count||0)}),C.emit("get_online_connections")}),C.on("connect_error",T=>{i(!1),l(T.message)}),C.on("disconnect",()=>{i(!1)}),C.on("error",T=>{l(typeof T=="string"?T:T==null?void 0:T.message)}),C.on("online_connections",T=>{d(Array.isArray(T)?T:[])}),C.on("user_status_change",()=>{C.emit("get_online_connections")}),C.on("unread_count_update",({count:T})=>{Number.isFinite(T)&&h(T)}),s(C),()=>{C.disconnect(),s(null),i(!1)}},[m,g,p==null?void 0:p.id]);const y=u.useCallback((C,T={})=>new Promise((k,M)=>{if(!r||!a)return M(new Error("Socket not connected"));r.emit(C,T,_=>{_!=null&&_.ok?k(_.data):M(new Error((_==null?void 0:_.error)||`Socket call failed: ${C}`))})}),[r,a]),w=u.useCallback(()=>y("fetch_conversations"),[y]),b=u.useCallback((C,T)=>y("fetch_messages",ne({conversationId:C},T||{})),[y]),v=u.useCallback((C,T)=>y("open_conversation_with_user",ne({otherUserId:C},T||{})),[y]),j=u.useCallback(C=>y("search_users",{q:C}),[y]),N=u.useCallback(()=>new Promise((C,T)=>{if(!r||!a)return T(new Error("Socket not connected"));r.emit("get_online_connections",k=>{k!=null&&k.ok?(d(k.data||[]),C(k.data||[])):T(new Error((k==null?void 0:k.error)||"Failed to get online connections"))})}),[r,a]),S=u.useCallback((C,T,k=[])=>new Promise((M,_)=>{if(!r||!a)return _(new Error("Socket not connected"));r.emit("private_message",{receiverId:C,content:T,attachments:k},J=>{J!=null&&J.ok?M(J.data):_(new Error((J==null?void 0:J.error)||"Failed to send message"))})}),[r,a]),I=u.useCallback(C=>new Promise((T,k)=>{if(!r||!a)return k(new Error("Socket not connected"));r.emit("mark_read",{conversationId:C},M=>{M!=null&&M.ok?T(M.data):k(new Error((M==null?void 0:M.error)||"Failed to mark as read"))})}),[r,a]),E=u.useCallback(C=>{if(!r||!a)return()=>{};const T=k=>C==null?void 0:C(k);return r.on("private_message",T),()=>r.off("private_message",T)},[r,a]),L=u.useMemo(()=>({socket:r,connected:a,error:o,onlineConnections:c,totalUnreadCount:f,fetchConversations:w,fetchMessages:b,openConversationWithUser:v,searchUsers:j,sendPrivateMessage:S,markMessagesAsRead:I,onPrivateMessage:E,getOnlineConnections:N}),[r,a,o,c,f,w,b,v,j,S,I,E,N]);return n.jsx(YH.Provider,{value:L,children:t})},sw=()=>{const t=u.useContext(YH);if(!t)throw new Error("useSocket must be used within a SocketProvider");return t},Efe=[{value:"technical",label:"Technical Error / System Failure"},{value:"account",label:"Login / Access Problem"},{value:"data",label:"Incorrect or Outdated Data"},{value:"general",label:"Improvement Suggestion"},{value:"other",label:"Other"}];function Lfe({isOpen:t,onClose:r}){const s=u.useRef(null),{user:a,profile:i}=Xt(),[o,l]=u.useState(!1),[c,d]=u.useState({fullName:(a==null?void 0:a.name)||(i==null?void 0:i.name)||"",email:(a==null?void 0:a.email)||(i==null?void 0:i.email)||"",phone:(a==null?void 0:a.phone)||(i==null?void 0:i.phone)||"",supportReason:"",priority:"medium",message:"",attachment:null,attachmentPreview:null}),[f,h]=u.useState({}),g=y=>{const{name:w,value:b}=y.target;d(v=>me(ne({},v),{[w]:b})),h(v=>me(ne({},v),{[w]:""}))},m=y=>{if(y){if(y.size>10485760){h(v=>me(ne({},v),{attachment:"File size must be less than 10MB"}));return}if(!["image/jpeg","image/jpg","image/png","image/gif","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"].includes(y.type)){h(v=>me(ne({},v),{attachment:"Please select a valid file (Images, PDF, Word documents, or text files)"}));return}if(y.type.startsWith("image/")){const v=new FileReader;v.onload=j=>{const N=j.target.result;d(S=>me(ne({},S),{attachment:N,attachmentPreview:N}))},v.readAsDataURL(y)}else d(v=>me(ne({},v),{attachment:y,attachmentPreview:null}))}else d(w=>me(ne({},w),{attachment:null,attachmentPreview:null}));h(w=>me(ne({},w),{attachment:""}))},p=()=>{const y={};if(!a){c.fullName.trim()?c.fullName.trim().length<2&&(y.fullName="Full name must be at least 2 characters long."):y.fullName="Full name is required.";const w=b=>/^[^\s@]+@[^\s@]+\.[a-zA-Z]{2,}$/.test(String(b||"").toLowerCase());c.email.trim()?w(c.email.toLowerCase())||(y.email="Please enter a valid email address."):y.email="Email is required."}if(c.phone&&c.phone.trim()){const w=c.phone.replace(/\D/g,"");w.length<6?y.phone="Phone number must be at least 6 digits.":w.length>15?y.phone="Phone number is too long (max 15 digits).":/^\+?[\d\s\-\(\)]+$/.test(c.phone)||(y.phone="Please enter a valid phone number format.")}return c.supportReason||(y.supportReason="Please select a reason for support."),c.priority||(y.priority="Please select a priority level."),c.message.trim()?c.message.trim().length<10&&(y.message="Message must be at least 10 characters long."):y.message="Message is required.",h(y),Object.keys(y).length===0},x=y=>ve(this,null,function*(){if(y.preventDefault(),!p()){ce.error("Please fix the highlighted fields.");return}l(!0);try{console.log("Submitting support request...");const w=new FormData;if(w.append("fullName",c.fullName),w.append("email",c.email),w.append("phone",c.phone||""),w.append("supportReason",c.supportReason),w.append("priority",c.priority),w.append("message",c.message),c.attachment)if(typeof c.attachment=="string"){const j=yield(yield fetch(c.attachment)).blob();w.append("attachment",j,"attachment")}else w.append("attachment",c.attachment);const b=qu.post("/support",w);console.log("API call made to /support"),yield ce.promise(b,{loading:"Sending your support request…",success:"Support request sent successfully! We'll get back to you soon.",error:v=>{var j,N;return console.error("Support submission error:",v),((N=(j=v==null?void 0:v.response)==null?void 0:j.data)==null?void 0:N.message)||"Failed to send support request. Please try again."}},{id:"support"}),d({fullName:(a==null?void 0:a.name)||(i==null?void 0:i.name)||"",email:(a==null?void 0:a.email)||(i==null?void 0:i.email)||"",phone:(a==null?void 0:a.phone)||(i==null?void 0:i.phone)||"",supportReason:"",priority:"medium",message:"",attachment:null,attachmentPreview:null}),r()}catch(w){console.error("Support submission error:",w)}finally{l(!1)}});return t?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{ref:s,className:"relative w-full max-w-2xl bg-white rounded-xl shadow-xl p-6 md:p-8 max-h-[85vh] overflow-y-auto",children:[n.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:n.jsx(Lr,{size:24})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Support"}),n.jsx("p",{className:"mt-1 text-gray-600",children:"Need help? Our support team is here to assist you."})]}),n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[a?n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Full Name *"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-brand-50 grid place-items-center overflow-hidden flex-shrink-0",children:a!=null&&a.avatarUrl?n.jsx("img",{src:a.avatarUrl,alt:"avatar",className:"h-full w-full object-cover"}):n.jsx("span",{className:"font-semibold text-brand-600 text-sm",children:c.fullName?c.fullName.charAt(0).toUpperCase():"U"})}),n.jsx("div",{className:"w-full rounded-xl border border-gray-200 px-4 py-3 text-sm bg-gray-50 text-gray-900",children:c.fullName})]})]}):n.jsx(Pr,{label:"Full Name *",name:"fullName",placeholder:"Enter your full name",value:c.fullName,onChange:g,error:f.fullName}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a?n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email Address *"}),n.jsx("div",{className:"w-full rounded-xl border border-gray-200 px-4 py-3 text-sm bg-gray-50 text-gray-900",children:c.email})]}):n.jsx(Pr,{label:"Email Address *",name:"email",type:"email",placeholder:"your.email@example.com",value:c.email,onChange:g,error:f.email}),a!=null&&a.phone?n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Phone Number"}),n.jsx("div",{className:"w-full rounded-xl border border-gray-200 px-4 py-3 text-sm bg-gray-50 text-gray-900",children:c.phone})]}):n.jsx(Pr,{label:"Phone Number",name:"phone",placeholder:"+1 (555) 123-4567",value:c.phone,onChange:y=>{const{name:w,value:b}=y.target,v=b.replace(/[^+\d\s\-\(\)]/g,"");if((v.match(/\+/g)||[]).length>1){const N=v.replace(/\+/g,"");d(S=>me(ne({},S),{[w]:"+"+N}))}else d(N=>me(ne({},N),{[w]:v}));h(N=>me(ne({},N),{[w]:""}))},error:f.phone})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Reason for Support *"}),n.jsxs("select",{name:"supportReason",value:c.supportReason,onChange:g,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${f.supportReason?"border-red-400 focus:ring-red-400":"border-gray-200"}`,children:[n.jsx("option",{value:"",disabled:!0,children:"Select a reason"}),Efe.map(y=>n.jsx("option",{value:y.value,children:y.label},y.value))]}),f.supportReason&&n.jsx("p",{className:"text-xs text-red-600",children:f.supportReason})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Request Priority *"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"priority",value:"low",checked:c.priority==="low",onChange:g,className:"text-brand-600 focus:ring-brand-500"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Low – Does not prevent platform use"})]}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"priority",value:"medium",checked:c.priority==="medium",onChange:g,className:"text-brand-600 focus:ring-brand-500"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Medium – Partially impacts use"})]}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"priority",value:"high",checked:c.priority==="high",onChange:g,className:"text-brand-600 focus:ring-brand-500"}),n.jsx("span",{className:"text-sm text-gray-700",children:"High – Completely prevents use"})]})]}),f.priority&&n.jsx("p",{className:"text-xs text-red-600",children:f.priority})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Message *"}),n.jsx("textarea",{name:"message",rows:5,placeholder:"Please describe your issue in detail...",value:c.message,onChange:g,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white resize-none ${f.message?"border-red-400 focus:ring-red-400":"border-gray-200"}`}),f.message&&n.jsx("p",{className:"text-xs text-red-600",children:f.message})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Attachment (Optional)"}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-20 h-20 rounded-lg border-2 border-gray-200 bg-gray-50 flex items-center justify-center overflow-hidden",children:c.attachmentPreview?n.jsx("img",{src:c.attachmentPreview,alt:"Attachment preview",className:"w-full h-full object-cover"}):c.attachment?n.jsxs("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14,2 14,8 20,8"})]}):n.jsxs("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),n.jsx("polyline",{points:"14,2 14,8 20,8"})]})}),c.attachment&&n.jsx("button",{type:"button",onClick:()=>m(null),className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("input",{type:"file",name:"attachment",accept:"image/*,.pdf,.doc,.docx,.txt",onChange:y=>{const w=y.target.files[0];m(w)},className:"hidden",id:"support-attachment"}),n.jsxs("label",{htmlFor:"support-attachment",className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-50 text-brand-700 border border-brand-200 rounded-lg cursor-pointer hover:bg-brand-100 transition-colors",children:[n.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),n.jsx("polyline",{points:"7,10 12,15 17,10"}),n.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),c.attachment?"Change File":"Upload File"]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:c.attachment?`${c.attachment.name||"File selected"}`:"Images, PDF, Word docs, or text files up to 10MB"}),f.attachment&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:f.attachment})]})]})]}),n.jsxs("button",{type:"submit",disabled:o,className:"w-full rounded-xl bg-brand-600 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[o&&n.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),o?"Sending Request...":"Send Request"]})]})]})}):null}const ah="/assets/logo-DLxVxQY5.png";function an({page:t}){const r=qt(),{pathname:s}=ys(),{user:a,profile:i,signOut:o,settings:l,setToken:c,refreshAuth:d}=Xt(),{socket:f,totalUnreadCount:h,connected:g}=sw(),[m,p]=u.useState(!1),[x,y]=u.useState(!1),[w,b]=u.useState(!1),[v,j]=u.useState(0),[N,S]=u.useState(0),[I,E]=u.useState(0),[L,C]=u.useState(0),[T,k]=u.useState(0),[M,_]=u.useState(0),[J,Y]=u.useState({connectionsPending:0,meetingsPending:0,messagesPending:0,jobApplicationsPending:0,eventRegistrationsPending:0,companyInvitationsPending:0,postsPending:0,customNotificationsPending:0,commentsPending:0}),[te,K]=u.useState(!1),[X,W]=u.useState(!1),[F,P]=u.useState(!1),[A,B]=u.useState(!1),z=u.useRef(null),O=u.useRef(null),U=u.useRef(null);Cr();const[Z,se]=u.useState([]),[fe,le]=u.useState(localStorage.getItem("activeAccountId")||(a==null?void 0:a.id)||null);u.useEffect(()=>{if(!(a!=null&&a.id)){se([]),le(null);return}const q=((a==null?void 0:a.accountType)||(a==null?void 0:a.type))==="company",Se={id:a.id,type:q?"company":"user",name:a.name||(i==null?void 0:i.name)||(q?"Company":"User"),avatarUrl:a.avatarUrl||(i==null?void 0:i.avatarUrl)},$e=Array.isArray(a.representativeOf)?a.representativeOf.filter(Ue=>{var xt;return(Ue==null?void 0:Ue.status)==="authorized"&&((xt=Ue==null?void 0:Ue.company)==null?void 0:xt.id)}).map(Ue=>({id:Ue.company.id,type:"company",name:Ue.company.name,avatarUrl:Ue.company.avatarUrl,authToken:Ue.authorizationToken})):[],rt=Array.isArray(a.companyRepresentatives)?a.companyRepresentatives.filter(Ue=>{var xt;return(Ue==null?void 0:Ue.status)==="authorized"&&((xt=Ue==null?void 0:Ue.representative)==null?void 0:xt.id)}).map(Ue=>({id:Ue.representative.id,type:"representative",name:Ue.representative.name,avatarUrl:Ue.representative.avatarUrl,authToken:Ue.authorizationToken})):[],nt=q?[Se,...rt]:[Se,...$e];se(nt),le(Ue=>{const xt=nt.some(Oe=>Oe.id===Ue)?Ue:Se.id;return localStorage.setItem("activeAccountId",xt),xt})},[a==null?void 0:a.id,a==null?void 0:a.name,a==null?void 0:a.avatarUrl,a==null?void 0:a.accountType,a==null?void 0:a.type,a==null?void 0:a.representativeOf,a==null?void 0:a.companyRepresentatives,i==null?void 0:i.name,i==null?void 0:i.avatarUrl]);function Ne(q){return ve(this,null,function*(){try{if(q.id===fe){p(!1);return}const{data:Se}=yield Le.post("/auth/company-token",{companyId:q.id});Se!=null&&Se.token&&(c(Se.token),yield d(Se.token),localStorage.setItem("activeAccountId",q.id),le(q.id),p(!1)),r("/")}catch(Se){console.error("Switch account failed:",Se)}})}u.useEffect(()=>{l!=null&&l.hideMainFeed&&s==="/"&&r("/people")},[l==null?void 0:l.hideMainFeed,s,r]),u.useEffect(()=>{function q(Se){z.current&&!z.current.contains(Se.target)&&p(!1),O.current&&!O.current.contains(Se.target)&&y(!1),U.current&&U.current.contains(Se.target)}return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[]),u.useEffect(()=>(document.body.style.overflow=w?"hidden":"",()=>{document.body.style.overflow=""}),[w]),u.useEffect(()=>{if(!g||!f||!(a!=null&&a.id))return;const q=Se=>{var rt;const $e=(rt=Se&&Se.data&&typeof Se.data.count=="number"&&Se.data.count)!=null?rt:typeof(Se==null?void 0:Se.count)=="number"?Se.count:0;j($e)};return f.emit("get_unread_count"),f.on("get_unread_count_result",q),f.on("unread_count_update",q),()=>{f.off("get_unread_count_result",q),f.off("unread_count_update",q)}},[g,f,a==null?void 0:a.id]),u.useEffect(()=>{typeof h=="number"&&j(h)},[h]),u.useEffect(()=>{if(!g||!f||!(a!=null&&a.id))return;const q=(nt={})=>{S(Number.isFinite(nt.connectionsPending)?nt.connectionsPending:0),E(Number.isFinite(nt.meetingsPending)?nt.meetingsPending:0),C(Number.isFinite(nt.jobApplicationsPending)?nt.jobApplicationsPending:0),k(Number.isFinite(nt.eventRegistrationsPending)?nt.eventRegistrationsPending:0),_(Number.isFinite(nt.companyInvitationsPending)?nt.companyInvitationsPending:0),Y({connectionsPending:Number.isFinite(nt.connectionsPending)?nt.connectionsPending:0,meetingsPending:Number.isFinite(nt.meetingsPending)?nt.meetingsPending:0,messagesPending:Number.isFinite(nt.messagesPending)?nt.messagesPending:0,jobApplicationsPending:Number.isFinite(nt.jobApplicationsPending)?nt.jobApplicationsPending:0,eventRegistrationsPending:Number.isFinite(nt.eventRegistrationsPending)?nt.eventRegistrationsPending:0,companyInvitationsPending:Number.isFinite(nt.companyInvitationsPending)?nt.companyInvitationsPending:0,postsPending:Number.isFinite(nt.postsPending)?nt.postsPending:0,customNotificationsPending:Number.isFinite(nt.customNotificationsPending)?nt.customNotificationsPending:0,commentsPending:Number.isFinite(nt.commentsPending)?nt.commentsPending:0})},Se=nt=>q(nt),$e=()=>f.emit("get_header_badge_counts",nt=>q(nt||{}));$e(),f.on("header_badge_counts",Se);const rt=setInterval(()=>{document.visibilityState!=="hidden"&&$e()},4e3);return()=>{f.off("header_badge_counts",Se),clearInterval(rt)}},[g,f,a==null?void 0:a.id]);const Te=fr.useMemo(()=>[...l!=null&&l.hideMainFeed?[]:[{name:"feed",label:"Feed",path:"/",icon:n.jsx(Ws.feed,{})}],{name:"people",label:"People",path:"/people",icon:n.jsx(Ws.people,{})},{name:"companies",label:"Organizations",path:"/companies",icon:n.jsx(Ws.company,{})},{name:"jobs",label:"Jobs",path:"/jobs",icon:n.jsx(Ws.jobs,{})},{name:"events",label:"Events",path:"/events",icon:n.jsx(Ws.calendar,{})},{name:"products",label:"Products",path:"/products",icon:n.jsx(Ws.products,{})},{name:"services",label:"Services",path:"/services",icon:n.jsx(Ws.briefcase,{})},{name:"tourism",label:"Tourism",path:"/tourism",icon:n.jsx(Ws.pin,{})},{name:"funding",label:"Funding",path:"/funding",icon:n.jsx(Ws.funding,{})}],[l==null?void 0:l.hideMainFeed]),[ht,Fe]=u.useState(typeof window!="undefined"&&window.innerWidth>=1280);u.useEffect(()=>{function q(){Fe(window.innerWidth>=1280)}return window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]);const Ve=!ht,ut=Ve?Te:Te.slice(0,7),Je=Ve?[]:Te.slice(7);function G(q){return t?t===q.name:s===q.path}function ae(q){var nt,Ue;if(!q)return"U";const Se=q.trim().split(/\s+/),$e=((nt=Se[0])==null?void 0:nt.charAt(0).toUpperCase())||"",rt=((Ue=Se[1])==null?void 0:Ue.charAt(0).toUpperCase())||"";return $e+rt}ae((a==null?void 0:a.name)||(i==null?void 0:i.name));const Me=Je.some(G),he=Math.min(99,(N||0)+(I||0)+(L||0)+(T||0)+(M||0)),ye=Math.min(99,he+(J.messagesPending||0)+(J.postsPending||0)+(J.customNotificationsPending||0)+(J.commentsPending||0)),oe=({item:q,onClick:Se})=>{const $e=G(q);return n.jsxs("a",{href:"#",onClick:rt=>{rt.preventDefault(),y(!1),Se==null||Se(),r(q.path)},className:`flex items-center gap-2 px-3 py-1.5 rounded-full transition-colors whitespace-nowrap ${$e?"bg-brand-50 text-brand-600":"text-gray-700 hover:bg-brand-50 hover:text-brand-600"} ${Ve?"flex-shrink-0":""}`,children:[q.icon," ",(!a||s.includes("/landing"))&&q.name==="feed"?"Home":q.label]})},ie=()=>{r("/notifications")};return n.jsxs(n.Fragment,{children:[n.jsx("header",{className:"sticky z-50 top-0 bg-white/90 backdrop-blur border-b border-gray-200",children:n.jsxs("div",{className:"mx-auto max-w-7xl h-16 px-4 sm:px-6 lg:px-8 flex items-center justify-between gap-4",children:[n.jsx("button",{className:"md:hidden -ml-2 p-2 rounded-lg hover:bg-gray-100","aria-label":"Open menu",onClick:()=>b(!0),children:n.jsx("svg",{className:"h-6 w-6 text-gray-700",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})}),n.jsx("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>r("/"),children:n.jsx("div",{className:"leading-tight",children:n.jsx("img",{src:ah,width:120,alt:"54Links"})})}),n.jsx("nav",{style:(a==null?void 0:a.accountType)=="admin"?{display:"none"}:{},className:"hidden md:flex items-center gap-1 text-sm ml-4 lg:ml-6 flex-1 min-w-0",children:n.jsxs("div",{className:`flex items-center gap-1 ${Ve?"overflow-x-auto":""}`,children:[ut.map(q=>n.jsx(oe,{item:q},q.name)),!Ve&&Je.length>0&&n.jsxs("div",{className:"relative flex-shrink-0",ref:O,children:[n.jsxs("button",{"aria-haspopup":"menu","aria-expanded":x,onClick:()=>y(q=>!q),className:`flex items-center gap-2 px-3 py-1.5 rounded-full transition-colors border whitespace-nowrap ${Me||x?"bg-brand-500 text-white border-brand-500":"text-gray-700 border-gray-200 hover:bg-brand-50 hover:text-brand-600"}`,title:"More",children:[n.jsx("svg",{className:"h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 5v14M5 12h14"})}),n.jsx("span",{children:"More"})]}),x&&n.jsx("div",{role:"menu",className:"absolute left-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg p-2 z-50",children:Je.map(q=>{const Se=G(q);return n.jsxs("button",{role:"menuitem",onClick:()=>{y(!1),r(q.path)},className:`w-full text-left px-3 py-2 text-sm flex items-center gap-2 rounded-md ${Se?"bg-brand-50 text-brand-700":"hover:bg-brand-50 hover:text-brand-700 text-gray-700"}`,children:[n.jsx("span",{className:"shrink-0",children:q.icon}),n.jsx("span",{children:q.label})]},q.name)})})]})]})}),n.jsx("div",{className:"ml-auto flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:a?n.jsxs(n.Fragment,{children:[n.jsxs("button",{style:(a==null?void 0:a.accountType)=="admin"?{display:"none"}:{},onClick:()=>{ie()},className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Notifications",children:[ye>0&&n.jsx("span",{className:"absolute -top-1 -right-1 grid h-4 w-4 place-items-center rounded-full bg-red-500 text-white text-[10px] font-medium",children:ye>9?"9+":ye}),n.jsx("svg",{className:"text-gray-600 h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12 22a2.5 2.5 0 0 0 2.45-2H9.55A2.5 2.5 0 0 0 12 22ZM18 16v-5a6 6 0 1 0-12 0v5l-1.8 1.8A1 1 0 0 0 5 20h14a1 1 0 0 0 .8-1.6Z"})})]}),n.jsxs("button",{style:(a==null?void 0:a.accountType)=="admin"?{display:"none"}:{},onClick:()=>r("/messages"),className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Messages",children:[v>0&&n.jsx("span",{className:"absolute -top-1 -right-1 grid h-4 w-4 place-items-center rounded-full bg-brand-500 text-white text-[10px] font-medium",children:v>9?"9+":v}),n.jsx("svg",{className:"text-gray-600 h-5 w-5",viewBox:"0 -960 960 960",fill:"currentColor",children:n.jsx("path",{d:"M80-80v-720q0-33 23.5-56.5T160-880h640q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H240L80-80Z"})})]}),n.jsxs("div",{className:"relative",ref:z,children:[n.jsx("button",{onClick:()=>p(q=>!q),className:"h-9 w-9 lg:h-10 lg:w-10 rounded-full bg-brand-50 grid place-items-center flex-shrink-0 overflow-hidden hover:bg-brand-100 transition-colors relative","aria-label":"Open profile menu",children:a!=null&&a.avatarUrl?n.jsx("img",{src:a.avatarUrl,alt:"avatar",className:"h-full w-full object-cover"}):n.jsx("span",{className:"font-semibold text-brand-600 text-sm",children:ae((a==null?void 0:a.name)||(i==null?void 0:i.name))})}),n.jsx("span",{className:"absolute border bottom-0 right-0 translate-x-0 translate-y-1/4 bg-white rounded-full p-[1px] shadow-sm",children:n.jsx(dd,{size:12,className:"text-gray-600"})}),m&&n.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg p-2 z-50",children:[n.jsxs("div",{onClick:()=>{p(!1),r("/profile")},style:(a==null?void 0:a.accountType)=="admin"?{display:"none"}:{},className:"flex cursor-pointer items-center gap-3 p-3 border-b border-gray-100 hover:bg-gray-50 rounded-t-lg transition-colors",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-brand-50 grid place-items-center flex-shrink-0 overflow-hidden",children:a!=null&&a.avatarUrl?n.jsx("img",{src:a==null?void 0:a.avatarUrl,alt:"avatar",className:"h-full w-full object-cover"}):n.jsx("span",{className:"font-semibold text-brand-600 text-sm",children:ae((a==null?void 0:a.name)||(i==null?void 0:i.name))})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"font-medium text-sm truncate",children:(a==null?void 0:a.name)||(i==null?void 0:i.name)||"User"}),n.jsx("div",{className:"text-xs text-gray-500 truncate",children:(a==null?void 0:a.email)||(i==null?void 0:i.email)})]})]}),Z.length>1&&n.jsxs("div",{className:"border-t border-gray-100 mt-2 pt-2 max-h-60 overflow-y-auto",children:[n.jsx("div",{className:"px-3 py-1 text-xs font-medium text-gray-400",children:"Switch account"}),Z.map(q=>{var Se;return n.jsxs("button",{onClick:()=>Ne(q),className:`w-full flex items-center gap-3 px-3 py-2 rounded-md text-sm ${fe===q.id?"bg-brand-50 text-brand-700 font-semibold":"hover:bg-gray-50 text-gray-700"}`,title:q.type==="company"?"Switch to company":q.type==="representative"?"Switch to representative":"Switch to personal",children:[n.jsx("div",{className:"h-7 w-7 rounded-full flex-shrink-0 overflow-hidden bg-gray-100 flex items-center justify-center",children:q.avatarUrl?n.jsx("img",{src:q.avatarUrl,alt:q.name,className:"h-full w-full object-cover flex-shrink-0"}):n.jsx("span",{className:"text-xs font-bold text-brand-600",children:(Se=q.name||"A")==null?void 0:Se.charAt(0)})}),n.jsxs("div",{className:"min-w-0 flex flex-col items-start justify-start",children:[n.jsx("div",{className:"truncate w-full",children:q.name}),n.jsx("div",{className:"text-[10px] text-gray-400 truncate w-full text-left self-start",children:q.type==="company"?"Company":q.type==="representative"?"Representative":"Personal"})]})]},`${q.type}:${q.id}`)})]}),n.jsx("button",{onClick:()=>{p(!1),r("/profile")},style:(a==null?void 0:a.accountType)=="admin"?{display:"none"}:{},className:"w-full text-left px-3 py-2 text-sm flex items-center gap-2 hover:bg-brand-50 hover:text-brand-600 rounded-md transition-colors",children:(a==null?void 0:a.accountType)=="company"?"Company Profile":"My Profile"}),n.jsx("button",{onClick:()=>{p(!1),r("/settings")},style:(a==null?void 0:a.accountType)=="admin"?{display:"none"}:{},className:"w-full text-left px-3 py-2 text-sm flex items-center gap-2 hover:bg-brand-50 hover:text-brand-600 rounded-md transition-colors",children:"Settings & Privacy"}),n.jsx("button",{onClick:()=>{p(!1),P(!0)},className:"w-full text-left px-3 py-2 text-sm flex items-center gap-2 hover:bg-brand-50 hover:text-brand-600 rounded-md transition-colors",children:"Support"}),n.jsx("button",{onClick:()=>{p(!1),o()},className:"w-full text-left px-3 py-2 text-sm flex items-center gap-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",children:"Sign out"}),n.jsxs("div",{className:"border-t border-gray-100 mt-3 pt-2 text-[11px] text-gray-400 text-center space-x-1",children:[n.jsx("button",{onClick:()=>B(!0),className:"hover:underline",children:"Contact us"})," ·",n.jsx("a",{href:"/privacy",className:"hover:underline",children:"Privacy"})," ·",n.jsx("a",{href:"/terms",className:"hover:underline",children:"Terms"})," ·",n.jsx("a",{href:"/landing",className:"hover:underline",children:"About 54links"})]})]})]})]}):n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("button",{onClick:()=>K(!0),className:"border border-brand-600 text-brand-600 px-4 py-1.5 rounded-lg text-sm font-semibold whitespace-nowrap hover:bg-brand-50 transition-colors",children:"Login"}),n.jsx("button",{onClick:()=>W(!0),className:`${BC.primary} px-4 py-2  text-sm font-semibold whitespace-nowrap hover:opacity-90 transition-opacity`,children:"Join Now"})]})})]})}),w&&n.jsxs("div",{className:"fixed inset-0 z-[60] md:hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>b(!1),"aria-hidden":"true"}),n.jsxs("div",{className:"absolute left-0 top-0 h-full w-[86%] max-w-sm bg-white shadow-xl border-r border-gray-200 p-4 flex flex-col",ref:U,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{b(!1),r("/")},children:n.jsx("img",{src:ah,alt:"54Links",className:"h-8 w-auto"})}),n.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100","aria-label":"Close menu",onClick:()=>b(!1),children:n.jsx("svg",{className:"h-6 w-6 text-gray-700",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),a&&n.jsxs("div",{className:"mt-4 flex items-center gap-3 p-3 rounded-xl border border-gray-200",onClick:()=>{b(!1),r("/profile")},children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-brand-50 grid place-items-center overflow-hidden",children:a!=null&&a.avatarUrl?n.jsx("img",{src:a.avatarUrl,alt:"avatar",className:"h-full w-full object-cover"}):n.jsx("span",{className:"font-semibold text-brand-600 text-sm",children:ae((a==null?void 0:a.name)||(i==null?void 0:i.name))})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-medium text-sm truncate",children:(a==null?void 0:a.name)||(i==null?void 0:i.name)||"User"}),n.jsx("div",{className:"text-xs text-gray-500 truncate",children:(a==null?void 0:a.email)||(i==null?void 0:i.email)})]})]}),n.jsx("div",{className:"space-y-1 overflow-y-auto flex-1",children:ut.map(q=>{const Se=G(q);return n.jsxs("button",{onClick:()=>{b(!1),r(q.path)},className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg text-left transition-colors ${Se?"bg-brand-50 text-brand-700":"text-gray-700 hover:bg-gray-50"}`,children:[n.jsx("span",{className:"shrink-0",children:q.icon}),n.jsx("span",{className:"text-sm font-medium",children:(!a||s.includes("/landing"))&&q.name==="feed"?"Home":q.label})]},q.name)})}),n.jsx("div",{className:"mt-auto pt-4 border-t border-gray-200 space-y-3",children:a?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>{b(!1),ie()},className:"relative flex-1 inline-flex items-center justify-center gap-2 rounded-lg border border-gray-200 px-3 py-2.5 text-sm hover:bg-gray-50 transition-colors",children:[n.jsx(Ws.bell,{}),n.jsx("span",{children:"Notifications"}),ye>0&&n.jsx("span",{className:"absolute -top-1 -right-1 grid h-5 w-5 place-items-center rounded-full bg-red-500 text-white text-[11px] font-medium",children:ye>9?"9+":ye})]}),n.jsxs("button",{onClick:()=>{b(!1),r("/messages")},className:"relative flex-1 inline-flex items-center justify-center gap-2 rounded-lg border border-gray-200 px-3 py-2.5 text-sm hover:bg-gray-50 transition-colors",children:[n.jsx(Ws.chat,{}),n.jsx("span",{children:"Messages"}),v>0&&n.jsx("span",{className:"absolute -top-1 -right-1 grid h-5 w-5 place-items-center rounded-full bg-brand-500 text-white text-[11px] font-medium",children:v>9?"9+":v})]})]}),n.jsx("button",{onClick:()=>{b(!1),r("/profile")},className:"w-full rounded-lg px-3 py-2.5 text-sm border border-gray-200 hover:bg-gray-50 transition-colors",children:"Profile"}),n.jsx("button",{onClick:()=>{b(!1),r("/settings")},className:"w-full rounded-lg px-3 py-2.5 text-sm border border-gray-200 hover:bg-gray-50 transition-colors",children:"Settings"}),n.jsx("button",{onClick:()=>{b(!1),P(!0)},className:"w-full rounded-lg px-3 py-2.5 text-sm border border-gray-200 hover:bg-gray-50 transition-colors",children:"Support"}),n.jsx("button",{onClick:()=>{b(!1),o()},className:"w-full rounded-lg px-3 py-2.5 text-sm text-red-600 border border-red-200 hover:bg-red-50 transition-colors",children:"Sign out"}),n.jsxs("div",{className:"border-t border-gray-100 mt-3 pt-2 text-[11px] text-gray-400 text-center space-x-1",children:[n.jsx("button",{onClick:()=>B(!0),className:"hover:underline",children:"Contact us"})," ·",n.jsx("a",{href:"/privacy",className:"hover:underline",children:"Privacy"})," ·",n.jsx("a",{href:"/terms",className:"hover:underline",children:"Terms"})," ·",n.jsx("a",{href:"/landing",className:"hover:underline",children:"About 54links"})]})]}):n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>K(!0),className:"border border-brand-600 text-brand-600 px-4 py-1.5 rounded-lg text-sm font-semibold whitespace-nowrap hover:bg-brand-50 transition-colors",children:"Login"}),n.jsx("button",{onClick:()=>W(!0),className:`${BC.primary} px-4 py-2  text-sm font-semibold whitespace-nowrap hover:opacity-90 transition-opacity`,children:"Join Now"})]})})]})]}),n.jsx(sb,{isOpen:te,onClose:()=>K(!1),initialTab:"login"}),n.jsx(sb,{isOpen:X,onClose:()=>W(!1),initialTab:"signup"}),n.jsx(Lfe,{isOpen:F,onClose:()=>P(!1)}),n.jsx(AH,{isOpen:A,onClose:()=>B(!1)})]})}function ei({message:t="Loading…",tip:r,notFull:s}){return n.jsxs("div",{className:`${s?"py-2":"min-h-screen"} grid place-items-center bg-gray-50`,children:[n.jsxs("div",{className:"flex flex-col items-center gap-5",children:[n.jsxs("div",{className:"relative h-14 w-14",role:"status","aria-live":"polite","aria-label":t,children:[n.jsx("span",{className:"absolute inset-0 rounded-full border-4 border-gray-200"}),n.jsx("span",{className:"absolute inset-0 rounded-full border-4 border-transparent animate-spin",style:{borderTopColor:"#0a66c2",borderRightColor:"#0a66c2"}})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:t}),r&&n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:r})]}),n.jsx("div",{className:"mt-1 h-1.5 w-40 overflow-hidden rounded-full bg-gray-200",children:n.jsx("div",{className:"h-full w-1/3 animate-[shimmer_1.2s_infinite]",style:{background:"linear-gradient(90deg, transparent, rgba(10,102,194,0.35), transparent)"}})})]}),n.jsx("style",{children:`
        @keyframes shimmer {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(300%); }
        }
        @media (prefers-reduced-motion: reduce) {
          .animate-spin { animation: none !important; }
          [style*="shimmer_1.2s_infinite"] { display:none; }
        }
      `})]})}function Mfe(){qt();const t=Cr(),[r,s]=u.useState(!1),[a,i]=u.useState("login");return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`fixed inset-0 ${t._openPopUps.login_prompt?"":"opacity-0 pointer-events-none"} transition-all z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm`,children:n.jsxs("div",{className:"bg-white _login_prompt w-full max-w-lg rounded-2xl shadow-xl overflow-hidden animate-fadeIn",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Sign in to continue"}),n.jsx("button",{onClick:()=>{t._closeAllPopUps()},className:"text-gray-400 hover:text-gray-600 transition",children:n.jsx(Lr,{size:20})})]}),n.jsxs("div",{className:"p-6 text-center space-y-4",children:[n.jsx("div",{className:"mx-auto h-14 w-14 rounded-full bg-brand-600/10 flex items-center justify-center",children:n.jsx("svg",{className:"h-7 w-7 text-brand-600",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:`M12 1a5 5 0 0 0-5 5v4H6a2 2 \r
              0 0 0-2 2v9a2 2 0 0 0 2 2h12a2 2 \r
              0 0 0 2-2v-9a2 2 0 0 0-2-2h-1V6a5 \r
              5 0 0 0-5-5Zm-3 9V6a3 3 0 0 1 6 0v4H9Z`})})}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Join 54Links to explore"," ",n.jsx("span",{className:"font-medium text-brand-600",children:"connections"}),","," ",n.jsx("span",{className:"font-medium text-brand-600",children:"opportunities"}),","," ",n.jsx("span",{className:"font-medium text-brand-600",children:"jobs"}),", and"," ",n.jsx("span",{className:"font-medium text-brand-600",children:"events"})," across Africa and beyond."]})]}),n.jsxs("div",{className:"p-6 border-t space-y-3",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx("button",{onClick:()=>{i("login"),s(!0),t._closeAllPopUps()},className:"flex-1 rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 shadow-sm transition transform hover:scale-[1.02]",children:"Log in"}),n.jsx("button",{onClick:()=>{i("signup"),s(!0),t._closeAllPopUps()},className:"flex-1 rounded-lg px-4 py-2.5 text-sm font-semibold border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition",children:"Join now"})]}),n.jsx("button",{onClick:()=>t._closeAllPopUps(),className:"w-full text-sm text-gray-500 hover:text-gray-700 transition",children:"Continue without login →"})]})]})}),n.jsx(sb,{isOpen:r,onClose:()=>s(!1),initialTab:a})]})}const Ife=({user:t,makePublic:r=!1})=>{const s=Cr();return fr.useEffect(()=>{},[t,r]),t||r===!0?null:n.jsxs(n.Fragment,{children:[!t&&r!==!0&&n.jsx("style",{children:`
          body, html {
            overflow: hidden !important;
            height: 100%;
            position: fixed;
            width: 100%;
            touch-action: none;
            overscroll-behavior: none;
          }
          
          /* iOS Safari specific fixes */
          @supports (-webkit-touch-callout: none) {
            body, html {
              -webkit-overflow-scrolling: none;
              position: fixed;
              overflow: hidden;
            }
          }
          
          /* Additional iOS 16+ specific fixes */
          @supports (overflow: clip) {
            body, html {
              overflow: clip !important;
            }
          }
        `}),!t&&r!==!0&&n.jsx("div",{className:"fixed inset-0 z-30 bg-transparent",style:{touchAction:"none",overscrollBehavior:"none",WebkitOverflowScrolling:"none"}}),n.jsx("div",{className:"fixed inset-0 z-40 _login_prompt",onClick:()=>{var a;(a=s._showPopUp)==null||a.call(s,"login_prompt")},style:{background:`
            linear-gradient(
              180deg,
              rgba(0, 0, 0, 0.1) 0%,
              rgba(0, 0, 0, 0.05) 30%,
              rgba(0, 0, 0, 0.02) 60%,
              rgba(0, 0, 0, 0.05) 85%,
              rgba(139, 53, 139, 0.15) 100%
            )
          `,backdropFilter:"blur(1px)",touchAction:"none"}}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-300 shadow-lg z-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-center gap-3",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-brand-600/10 flex items-center justify-center flex-shrink-0",children:n.jsx("svg",{className:"h-4 w-4 text-brand-600",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:`M12 1a5 5 0 0 0-5 5v4H6a2 2\r
                0 0 0-2 2v9a2 2 0 0 0 2 2h12a2 2\r
                0 0 0 2-2v-9a2 2 0 0 0-2-2h-1V6a5\r
                5 0 0 0-5-5Zm-3 9V6a3 3 0 0 1 6 0v4H9Z`})})}),n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("span",{className:"font-medium text-brand-600",children:"Sign in"})," to explore connections, opportunities, jobs, and events across Africa and beyond."]})]})})})]})};function ti({children:t,makePublic:r=!1}){const{loading:s,user:a}=Xt(),i=Cr(),{pathname:o}=ys(),l=qt();return u.useEffect(()=>{i._scrollToSection("top",!0)},[o]),u.useEffect(()=>{a&&(a==null?void 0:a.accountType)=="admin"&&l("/admin")},[a]),s||(a==null?void 0:a.accountType)=="admin"?n.jsx(ei,{}):n.jsxs(n.Fragment,{children:[n.jsx(Mfe,{}),n.jsx("div",{id:"top",className:"min-h-screen bg-[#F7F7FB] text-gray-900",children:t}),n.jsx(Ife,{user:a,makePublic:r})]})}const JH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJ8AAAAfCAYAAAD5qx84AAAACXBIWXMAAAsSAAALEgHS3X78AAAEyUlEQVR4nO1c0XHbMAxFcv23NjAzgd0JokxQdQI7E8SZoM4EVSaIvYE7QewN5AkqT1B5AvV0Be94LAFComxJid4d73ISKUIkBDyAiG/KsoQRIkQAMMeOGQAU47KF4XbIwl8RKwDIAeAd2x+8NiIAo+XzQwHAb6LXHSplFzItHdcrWTYdyNMIX4YiaIdwbbJGdW/dgWiV8v1wXD8MSflcbrcMbHGAPCkztxKMp8aGyMTNGwU899OjT5wvAYAn4t5zR+4NPJYtvaIcHw628s07esGIcReHjje5Uvqt4/prhx/Eh4DN+bpyIzsAmDiun9Eido0lfgCJIW/WA7kGjT4EHJVbuyfuJT3Kp2WjwrULW/koYv4AAPsLzB8TURugW7vEnH3B3PI0ec/deETQssZ71KXli9B9uXDsWRKXSobe1Oyr0NJXFt1FM07IfS+VvqmevSDuHR3KpeWtjMSUee4JlXDH7On/qJLMRktLN5TVr422J+YqAuajEAfKS6FO3zVzz0ZWluWckScmxu2ZMRvPfJFQF3zIpesqjXbbdgccz1t90CiSohcuzNCCtBEARmiVOIsXW9x6w6S9fBDvndTt2lywCCDfHM/bDilDf2FMMcLmTlh80Io3I/q5FG/JKKoEYspgKx+VzX9nhN/jIkk0nuN5J4PnUeQ2ROmHiAVuZhNP0ETxgOHaZ9xnXdGjsMWGFzvUCkCEfEWCVODnKZ5XWhynCafpO+fTWFucNkHORWHZgPNFnme6OF7IGip8r6TOurYZ7T7hl0AlhVcMz3v+JBbNlbLa4bWciIDrnjopfGZdi+cD1z9vEqGbAUcbR2vfiKOw6tk/iTFdH59dC1vGJRUM162zLwo/4hDFOxPX98YpTyvHsLblO3j6U5bLxJPFATme15fjs2vAl/9qw/JzuTgQWrwdEXBMcG/NKPiIcuscXy1raipfJiw9ilBhUsJNgHEf8IumFmVPEFwq8FEO895FPV0T+DbmGuklSfScMklwGzNsCxyX1tqPABKuMCHswg77LAUEPBRDCTh8MtQJsqi+ErgCGLvNMVncBBvpuobU8+UMh9HJUUkB6IjrIhVwtgz7PALAr5rSLaS5ydBi0vE/uPoLir9PhKcnOghK8Fz6KwB8B4AXDJ5OzFhR5bipfAonlGbUIyZYGEuPusUj7s2RkGJaqwDgHzIcs0YdUUSRLVgeL0JrW2DRRa55vhlwrPGreMO/U5zMRYRjT8ChlS8XRNCU8K4g5TwqthePRtomwfVy7dM97rMrQMiN1Aq33ivBUdzOypJMMe0WmcEDhQJJr24+Ilow2XNpoypAmp5wNEEseG7fAg5X37nn3e1TicS6n+Pp1RLn1W3F6MJGMHehLR8XHk+E+T2N9cgFe4UMreEbIdQGPZm2cHbqa9qgwkVbXo5XTm6xQ0gVg4nt+B9dvcSG4WcTvB9ZRQJNIa5Av0Ur9dCQm5l4CSz/GXFZLJkAZGYEBVwU68OrZTn3zHHd4dboFKMSbpkBNs7Y/25AJw2fGTGztwu8rww9kCiiqQOu0yrXnNVHkHC/1aIw0cjV1V3qH3wUkaD21fOF/DKBDfOXqKjnut6f6uv7Zas6NYwh9Y7U2vrmssdV7y6tr9RpOV34sAMA+AuOFMc7CnzcnAAAAABJRU5ErkJggg==",Tfe="/assets/lg-main-BBW0hhZa.png",Md=({query:t,setQuery:r,placeholder:s="Search...",onFilterClick:a})=>n.jsxs("div",{className:"flex items-center gap-2 lg:hidden",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),n.jsx("input",{type:"text",placeholder:s,value:t,onChange:i=>r(i.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-gray-900 placeholder-gray-500"})]}),a&&n.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-4 py-2.5 bg-white border border-gray-300 rounded-full shadow-sm hover:bg-gray-50 text-gray-700 font-medium",children:[n.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),n.jsx("span",{className:"text-sm",children:"Filters"})]})]});function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pp(t)}function Afe(t,r){if(pp(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r||"default");if(pp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function _fe(t){var r=Afe(t,"string");return pp(r)=="symbol"?r:r+""}function It(t,r,s){return(r=_fe(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function ZH(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var P4,n_;function Ofe(){if(n_)return P4;n_=1;var t=function(s,a,i,o,l,c,d,f){if(!s){var h;if(a===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[i,o,l,c,d,f],m=0;h=new Error(a.replace(/%s/g,function(){return g[m++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return P4=t,P4}var $fe=Ofe(),os=ZH($fe),yr=u.createContext(null);function Pfe(){os(!!u.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=u.useContext(yr);return os(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function Dfe(t,r,s){return Object.keys(t).reduce(function(i,o){return r(i,t[o],o)},s)}function Rfe(t,r){Object.keys(t).forEach(s=>r(t[s],s))}function Ffe(t,r,s,a){var i={},o=(l,c)=>{var d=s[c];d!==r[c]&&(i[c]=d,l(a,d))};return Rfe(t,o),i}function Bfe(t,r,s){var a=Dfe(s,function(o,l,c){return typeof t[c]=="function"&&o.push(google.maps.event.addListener(r,l,t[c])),o},[]);return a}function zfe(t){google.maps.event.removeListener(t)}function Or(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(zfe)}function Ir(t){var{updaterMap:r,eventMap:s,prevProps:a,nextProps:i,instance:o}=t,l=Bfe(i,o,s);return Ffe(r,a,i,o),l}function Ufe(t){var{children:r,options:s,id:a,mapContainerStyle:i,mapContainerClassName:o,center:l,onClick:c,onDblClick:d,onDrag:f,onDragEnd:h,onDragStart:g,onMouseMove:m,onMouseOut:p,onMouseOver:x,onMouseDown:y,onMouseUp:w,onRightClick:b,onCenterChanged:v,onLoad:j,onUnmount:N}=t,[S,I]=u.useState(null),E=u.useRef(null),[L,C]=u.useState(null),[T,k]=u.useState(null),[M,_]=u.useState(null),[J,Y]=u.useState(null),[te,K]=u.useState(null),[X,W]=u.useState(null),[F,P]=u.useState(null),[A,B]=u.useState(null),[z,O]=u.useState(null),[U,Z]=u.useState(null),[se,fe]=u.useState(null),[le,Ne]=u.useState(null);return u.useEffect(()=>{s&&S!==null&&S.setOptions(s)},[S,s]),u.useEffect(()=>{S!==null&&typeof l!="undefined"&&S.setCenter(l)},[S,l]),u.useEffect(()=>{S&&d&&(T!==null&&google.maps.event.removeListener(T),k(google.maps.event.addListener(S,"dblclick",d)))},[d]),u.useEffect(()=>{S&&h&&(M!==null&&google.maps.event.removeListener(M),_(google.maps.event.addListener(S,"dragend",h)))},[h]),u.useEffect(()=>{S&&g&&(J!==null&&google.maps.event.removeListener(J),Y(google.maps.event.addListener(S,"dragstart",g)))},[g]),u.useEffect(()=>{S&&y&&(te!==null&&google.maps.event.removeListener(te),K(google.maps.event.addListener(S,"mousedown",y)))},[y]),u.useEffect(()=>{S&&m&&(X!==null&&google.maps.event.removeListener(X),W(google.maps.event.addListener(S,"mousemove",m)))},[m]),u.useEffect(()=>{S&&p&&(F!==null&&google.maps.event.removeListener(F),P(google.maps.event.addListener(S,"mouseout",p)))},[p]),u.useEffect(()=>{S&&x&&(A!==null&&google.maps.event.removeListener(A),B(google.maps.event.addListener(S,"mouseover",x)))},[x]),u.useEffect(()=>{S&&w&&(z!==null&&google.maps.event.removeListener(z),O(google.maps.event.addListener(S,"mouseup",w)))},[w]),u.useEffect(()=>{S&&b&&(U!==null&&google.maps.event.removeListener(U),Z(google.maps.event.addListener(S,"rightclick",b)))},[b]),u.useEffect(()=>{S&&c&&(se!==null&&google.maps.event.removeListener(se),fe(google.maps.event.addListener(S,"click",c)))},[c]),u.useEffect(()=>{S&&f&&(le!==null&&google.maps.event.removeListener(le),Ne(google.maps.event.addListener(S,"drag",f)))},[f]),u.useEffect(()=>{S&&v&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(S,"center_changed",v)))},[c]),u.useEffect(()=>{var Te=E.current===null?null:new google.maps.Map(E.current,s);return I(Te),Te!==null&&j&&j(Te),()=>{Te!==null&&N&&N(Te)}},[]),n.jsx("div",{id:a,ref:E,style:i,className:o,children:n.jsx(yr.Provider,{value:S,children:S!==null?r:null})})}u.memo(Ufe);function s_(t,r,s,a,i,o,l){try{var c=t[o](l),d=c.value}catch(f){return void s(f)}c.done?r(d):Promise.resolve(d).then(a,i)}function QH(t){return function(){var r=this,s=arguments;return new Promise(function(a,i){var o=t.apply(r,s);function l(d){s_(o,a,i,l,c,"next",d)}function c(d){s_(o,a,i,l,c,"throw",d)}l(void 0)})}}function KH(t){var{googleMapsApiKey:r,googleMapsClientId:s,version:a="weekly",language:i,region:o,libraries:l,channel:c,mapIds:d,authReferrerPolicy:f,apiUrl:h="https://maps.googleapis.com"}=t,g=[];return os(r&&s||!(r&&s),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),r?g.push("key=".concat(r)):s&&g.push("client=".concat(s)),a&&g.push("v=".concat(a)),i&&g.push("language=".concat(i)),o&&g.push("region=".concat(o)),l&&l.length&&g.push("libraries=".concat(l.sort().join(","))),c&&g.push("channel=".concat(c)),d&&d.length&&g.push("map_ids=".concat(d.join(","))),f&&g.push("auth_referrer_policy=".concat(f)),g.push("loading=async"),g.push("callback=initMap"),"".concat(h,"/maps/api/js?").concat(g.join("&"))}var Yc=typeof document!="undefined";function XH(t){var{url:r,id:s,nonce:a}=t;return Yc?new Promise(function(o,l){var c=document.getElementById(s),d=window;if(c){var f=c.getAttribute("data-state");if(c.src===r&&f!=="error"){if(f==="ready")return o(s);var h=d.initMap,g=c.onerror;d.initMap=function(){h&&h(),o(s)},c.onerror=function(p){g&&g(p),l(p)};return}else c.remove()}var m=document.createElement("script");m.type="text/javascript",m.src=r,m.id=s,m.async=!0,m.nonce=a||"",m.onerror=function(x){m.setAttribute("data-state","error"),l(x)},d.initMap=function(){m.setAttribute("data-state","ready"),o(s)},document.head.appendChild(m)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function a_(t){var r=t.href;return r&&(r.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||r.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function KE(){var t=document.getElementsByTagName("head")[0];if(t){var r=t.insertBefore.bind(t);t.insertBefore=function(i,o){return a_(i)||Reflect.apply(r,t,[i,o]),i};var s=t.appendChild.bind(t);t.appendChild=function(i){return a_(i)||Reflect.apply(s,t,[i]),i}}}var Eg=!1;function eV(){return n.jsx("div",{children:"Loading..."})}var xp={id:"script-loader",version:"weekly"};class Wfe extends u.PureComponent{constructor(){super(...arguments),It(this,"check",null),It(this,"state",{loaded:!1}),It(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),It(this,"isCleaningUp",QH(function*(){function r(s){if(!Eg)s();else if(Yc)var a=window.setInterval(function(){Eg||(window.clearInterval(a),s())},1)}return new Promise(r)})),It(this,"cleanup",()=>{Eg=!0;var r=document.getElementById(this.props.id);r&&r.parentNode&&r.parentNode.removeChild(r),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(a){return typeof a.src=="string"&&a.src.includes("maps.googleapis")}).forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(a){return a.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(a){return a.innerText!==void 0&&a.innerText.length>0&&a.innerText.includes(".gm-")}).forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)})}),It(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&KE(),os(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var r={id:this.props.id,nonce:this.props.nonce,url:KH(this.props)};XH(r).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(s=>{this.props.onError&&this.props.onError(s),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),It(this,"getRef",r=>{this.check=r})}componentDidMount(){if(Yc){if(window.google&&window.google.maps&&!Eg){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(s){console.error("Error at injecting script after cleaning up: ",s)})}}componentDidUpdate(r){this.props.libraries!==r.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Yc&&r.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Yc){this.cleanup();var r=()=>{this.check||(delete window.google,Eg=!1)};window.setTimeout(r,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return n.jsxs(n.Fragment,{children:[n.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||n.jsx(eV,{})]})}}It(Wfe,"defaultProps",xp);function Hfe(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.includes(a))continue;s[a]=t[a]}return s}function XE(t,r){if(t==null)return{};var s,a,i=Hfe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)s=o[a],r.includes(s)||{}.propertyIsEnumerable.call(t,s)&&(i[s]=t[s])}return i}var i_;function Vfe(t){var{id:r=xp.id,version:s=xp.version,nonce:a,googleMapsApiKey:i,googleMapsClientId:o,language:l,region:c,libraries:d,preventGoogleFontsLoading:f,channel:h,mapIds:g,authReferrerPolicy:m,apiUrl:p="https://maps.googleapis.com"}=t,x=u.useRef(!1),[y,w]=u.useState(!1),[b,v]=u.useState(void 0);u.useEffect(function(){return x.current=!0,()=>{x.current=!1}},[]),u.useEffect(function(){Yc&&f&&KE()},[f]),u.useEffect(function(){y&&os(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[y]);var j=KH({version:s,googleMapsApiKey:i,googleMapsClientId:o,language:l,region:c,libraries:d,channel:h,mapIds:g,authReferrerPolicy:m,apiUrl:p});u.useEffect(function(){if(!Yc)return;function I(){x.current&&(w(!0),i_=j)}if(window.google&&window.google.maps&&i_===j){I();return}XH({id:r,url:j,nonce:a}).then(I).catch(function(L){x.current&&v(L),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(o||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(L)})},[r,j,a]);var N=u.useRef(void 0);return u.useEffect(function(){N.current&&d!==N.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),N.current=d},[d]),{isLoaded:y,loadError:b,url:j}}var Gfe=["loadingElement","onLoad","onError","onUnmount","children"],qfe=n.jsx(eV,{});function Yfe(t){var{loadingElement:r,onLoad:s,onError:a,onUnmount:i,children:o}=t,l=XE(t,Gfe),{isLoaded:c,loadError:d}=Vfe(l);return u.useEffect(function(){c&&typeof s=="function"&&s()},[c,s]),u.useEffect(function(){d&&typeof a=="function"&&a(d)},[d,a]),u.useEffect(function(){return()=>{i&&i()}},[i]),c?o:r||qfe}u.memo(Yfe);function Jfe(t,r,s,a){function i(o){return o instanceof s?o:new s(function(l){l(o)})}return new(s||(s=Promise))(function(o,l){function c(h){try{f(a.next(h))}catch(g){l(g)}}function d(h){try{f(a.throw(h))}catch(g){l(g)}}function f(h){h.done?o(h.value):i(h.value).then(c,d)}f((a=a.apply(t,[])).next())})}function Zfe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qfe=function t(r,s){if(r===s)return!0;if(r&&s&&typeof r=="object"&&typeof s=="object"){if(r.constructor!==s.constructor)return!1;var a,i,o;if(Array.isArray(r)){if(a=r.length,a!=s.length)return!1;for(i=a;i--!==0;)if(!t(r[i],s[i]))return!1;return!0}if(r.constructor===RegExp)return r.source===s.source&&r.flags===s.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===s.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===s.toString();if(o=Object.keys(r),a=o.length,a!==Object.keys(s).length)return!1;for(i=a;i--!==0;)if(!Object.prototype.hasOwnProperty.call(s,o[i]))return!1;for(i=a;i--!==0;){var l=o[i];if(!t(r[l],s[l]))return!1}return!0}return r!==r&&s!==s},Kfe=Zfe(Qfe),o_="__googleMapsScriptId",v0;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(v0||(v0={}));class lu{constructor(r){var{apiKey:s,authReferrerPolicy:a,channel:i,client:o,id:l=o_,language:c,libraries:d=[],mapIds:f,nonce:h,region:g,retries:m=3,url:p="https://maps.googleapis.com/maps/api/js",version:x}=r;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=s,this.authReferrerPolicy=a,this.channel=i,this.client=o,this.id=l||o_,this.language=c,this.libraries=d,this.mapIds=f,this.nonce=h,this.region=g,this.retries=m,this.url=p,this.version=x,lu.instance){if(!Kfe(this.options,lu.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(lu.instance.options)));return lu.instance}lu.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?v0.FAILURE:this.done?v0.SUCCESS:this.loading?v0.LOADING:v0.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var r=this.url;return r+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(r+="&key=".concat(this.apiKey)),this.channel&&(r+="&channel=".concat(this.channel)),this.client&&(r+="&client=".concat(this.client)),this.libraries.length>0&&(r+="&libraries=".concat(this.libraries.join(","))),this.language&&(r+="&language=".concat(this.language)),this.region&&(r+="&region=".concat(this.region)),this.version&&(r+="&v=".concat(this.version)),this.mapIds&&(r+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(r+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),r}deleteScript(){var r=document.getElementById(this.id);r&&r.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((r,s)=>{this.loadCallback(a=>{a?s(a.error):r(window.google)})})}importLibrary(r){return this.execute(),google.maps.importLibrary(r)}loadCallback(r){this.callbacks.push(r),this.execute()}setScript(){var r,s;if(document.getElementById(this.id)){this.callback();return}var a={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(a).forEach(o=>!a[o]&&delete a[o]),!((s=(r=window==null?void 0:window.google)===null||r===void 0?void 0:r.maps)===null||s===void 0)&&s.importLibrary||(o=>{var l,c,d,f="The Google Maps JavaScript API",h="google",g="importLibrary",m="__ib__",p=document,x=window;x=x[h]||(x[h]={});var y=x.maps||(x.maps={}),w=new Set,b=new URLSearchParams,v=()=>l||(l=new Promise((j,N)=>Jfe(this,void 0,void 0,function*(){var S;yield c=p.createElement("script"),c.id=this.id,b.set("libraries",[...w]+"");for(d in o)b.set(d.replace(/[A-Z]/g,I=>"_"+I[0].toLowerCase()),o[d]);b.set("callback",h+".maps."+m),c.src=this.url+"?"+b,y[m]=j,c.onerror=()=>l=N(Error(f+" could not load.")),c.nonce=this.nonce||((S=p.querySelector("script[nonce]"))===null||S===void 0?void 0:S.nonce)||"",p.head.append(c)})));y[g]?console.warn(f+" only loads once. Ignoring:",o):y[g]=function(j){for(var N=arguments.length,S=new Array(N>1?N-1:0),I=1;I<N;I++)S[I-1]=arguments[I];return w.add(j)&&v().then(()=>y[g](j,...S))}})(a);var i=this.libraries.map(o=>this.importLibrary(o));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),o=>{var l=new ErrorEvent("error",{error:o});this.loadErrorCallback(l)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(r){if(this.errors.push(r),this.errors.length<=this.retries){var s=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(s," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},s)}else this.onerrorEvent=r,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(r=>{r(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var Xfe=["maps"];function e0e(t){var{id:r=xp.id,version:s=xp.version,nonce:a,googleMapsApiKey:i,language:o,region:l,libraries:c=Xfe,preventGoogleFontsLoading:d,mapIds:f,authReferrerPolicy:h}=t,g=u.useRef(!1),[m,p]=u.useState(!1),[x,y]=u.useState(void 0);u.useEffect(function(){return g.current=!0,()=>{g.current=!1}},[]);var w=u.useMemo(()=>new lu({id:r,apiKey:i,version:s,libraries:c,language:o||"en",region:l||"US",mapIds:f||[],nonce:a||"",authReferrerPolicy:h||"origin"}),[r,i,s,c,o,l,f,a,h]);u.useEffect(function(){m||w.load().then(()=>{g.current&&p(!0)}).catch(j=>{y(j)})},[]),u.useEffect(()=>{Yc&&d&&KE()},[d]);var b=u.useRef();return u.useEffect(()=>{b.current&&c!==b.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),b.current=c},[c]),{isLoaded:m,loadError:x}}function l_(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,a)}return s}function ab(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?l_(Object(s),!0).forEach(function(a){It(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l_(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}var c_={},d_={options(t,r){t.setOptions(r)}};function t0e(t){var{options:r,onLoad:s,onUnmount:a}=t,i=u.useContext(yr),[o,l]=u.useState(null);return u.useEffect(()=>{o!==null&&o.setMap(i)},[i]),u.useEffect(()=>{r&&o!==null&&o.setOptions(r)},[o,r]),u.useEffect(()=>{var c=new google.maps.TrafficLayer(ab(ab({},r),{},{map:i}));return l(c),s&&s(c),()=>{o!==null&&(a&&a(o),o.setMap(null))}},[]),null}u.memo(t0e);class r0e extends u.PureComponent{constructor(){super(...arguments),It(this,"state",{trafficLayer:null}),It(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),It(this,"registeredEvents",[])}componentDidMount(){var r=new google.maps.TrafficLayer(ab(ab({},this.props.options),{},{map:this.context}));this.registeredEvents=Ir({updaterMap:d_,eventMap:c_,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{trafficLayer:r}},this.setTrafficLayerCallback)}componentDidUpdate(r){this.state.trafficLayer!==null&&(Or(this.registeredEvents),this.registeredEvents=Ir({updaterMap:d_,eventMap:c_,prevProps:r,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Or(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}It(r0e,"contextType",yr);function n0e(t){var{onLoad:r,onUnmount:s}=t,a=u.useContext(yr),[i,o]=u.useState(null);return u.useEffect(()=>{i!==null&&i.setMap(a)},[a]),u.useEffect(()=>{var l=new google.maps.BicyclingLayer;return o(l),l.setMap(a),r&&r(l),()=>{l!==null&&(s&&s(l),l.setMap(null))}},[]),null}u.memo(n0e);class s0e extends u.PureComponent{constructor(){super(...arguments),It(this,"state",{bicyclingLayer:null}),It(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var r=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:r}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}It(s0e,"contextType",yr);function a0e(t){var{onLoad:r,onUnmount:s}=t,a=u.useContext(yr),[i,o]=u.useState(null);return u.useEffect(()=>{i!==null&&i.setMap(a)},[a]),u.useEffect(()=>{var l=new google.maps.TransitLayer;return o(l),l.setMap(a),r&&r(l),()=>{i!==null&&(s&&s(i),i.setMap(null))}},[]),null}u.memo(a0e);class i0e extends u.PureComponent{constructor(){super(...arguments),It(this,"state",{transitLayer:null}),It(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var r=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:r}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}It(i0e,"contextType",yr);function u_(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,a)}return s}function ib(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?u_(Object(s),!0).forEach(function(a){It(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u_(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}var f_={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},h_={drawingMode(t,r){t.setDrawingMode(r)},options(t,r){t.setOptions(r)}};function o0e(t){var{options:r,drawingMode:s,onCircleComplete:a,onMarkerComplete:i,onOverlayComplete:o,onPolygonComplete:l,onPolylineComplete:c,onRectangleComplete:d,onLoad:f,onUnmount:h}=t,g=u.useContext(yr),[m,p]=u.useState(null),[x,y]=u.useState(null),[w,b]=u.useState(null),[v,j]=u.useState(null),[N,S]=u.useState(null),[I,E]=u.useState(null),[L,C]=u.useState(null);return u.useEffect(()=>{m!==null&&m.setMap(g)},[g]),u.useEffect(()=>{r&&m!==null&&m.setOptions(r)},[m,r]),u.useEffect(()=>{m!==null&&m.setDrawingMode(s!=null?s:null)},[m,s]),u.useEffect(()=>{m&&a&&(x!==null&&google.maps.event.removeListener(x),y(google.maps.event.addListener(m,"circlecomplete",a)))},[m,a]),u.useEffect(()=>{m&&i&&(w!==null&&google.maps.event.removeListener(w),b(google.maps.event.addListener(m,"markercomplete",i)))},[m,i]),u.useEffect(()=>{m&&o&&(v!==null&&google.maps.event.removeListener(v),j(google.maps.event.addListener(m,"overlaycomplete",o)))},[m,o]),u.useEffect(()=>{m&&l&&(N!==null&&google.maps.event.removeListener(N),S(google.maps.event.addListener(m,"polygoncomplete",l)))},[m,l]),u.useEffect(()=>{m&&c&&(I!==null&&google.maps.event.removeListener(I),E(google.maps.event.addListener(m,"polylinecomplete",c)))},[m,c]),u.useEffect(()=>{m&&d&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(m,"rectanglecomplete",d)))},[m,d]),u.useEffect(()=>{os(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var T=new google.maps.drawing.DrawingManager(ib(ib({},r),{},{map:g}));return s&&T.setDrawingMode(s),a&&y(google.maps.event.addListener(T,"circlecomplete",a)),i&&b(google.maps.event.addListener(T,"markercomplete",i)),o&&j(google.maps.event.addListener(T,"overlaycomplete",o)),l&&S(google.maps.event.addListener(T,"polygoncomplete",l)),c&&E(google.maps.event.addListener(T,"polylinecomplete",c)),d&&C(google.maps.event.addListener(T,"rectanglecomplete",d)),p(T),f&&f(T),()=>{m!==null&&(x&&google.maps.event.removeListener(x),w&&google.maps.event.removeListener(w),v&&google.maps.event.removeListener(v),N&&google.maps.event.removeListener(N),I&&google.maps.event.removeListener(I),L&&google.maps.event.removeListener(L),h&&h(m),m.setMap(null))}},[]),null}u.memo(o0e);class l0e extends u.PureComponent{constructor(r){super(r),It(this,"registeredEvents",[]),It(this,"state",{drawingManager:null}),It(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),os(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var r=new google.maps.drawing.DrawingManager(ib(ib({},this.props.options),{},{map:this.context}));this.registeredEvents=Ir({updaterMap:h_,eventMap:f_,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{drawingManager:r}},this.setDrawingManagerCallback)}componentDidUpdate(r){this.state.drawingManager!==null&&(Or(this.registeredEvents),this.registeredEvents=Ir({updaterMap:h_,eventMap:f_,prevProps:r,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Or(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}It(l0e,"contextType",yr);function g_(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,a)}return s}function O0(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?g_(Object(s),!0).forEach(function(a){It(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):g_(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}var m_={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},p_={animation(t,r){t.setAnimation(r)},clickable(t,r){t.setClickable(r)},cursor(t,r){t.setCursor(r)},draggable(t,r){t.setDraggable(r)},icon(t,r){t.setIcon(r)},label(t,r){t.setLabel(r)},map(t,r){t.setMap(r)},opacity(t,r){t.setOpacity(r)},options(t,r){t.setOptions(r)},position(t,r){t.setPosition(r)},shape(t,r){t.setShape(r)},title(t,r){t.setTitle(r)},visible(t,r){t.setVisible(r)},zIndex(t,r){t.setZIndex(r)}},ob={};function c0e(t){var{position:r,options:s,clusterer:a,noClustererRedraw:i,children:o,draggable:l,visible:c,animation:d,clickable:f,cursor:h,icon:g,label:m,opacity:p,shape:x,title:y,zIndex:w,onClick:b,onDblClick:v,onDrag:j,onDragEnd:N,onDragStart:S,onMouseOut:I,onMouseOver:E,onMouseUp:L,onMouseDown:C,onRightClick:T,onClickableChanged:k,onCursorChanged:M,onAnimationChanged:_,onDraggableChanged:J,onFlatChanged:Y,onIconChanged:te,onPositionChanged:K,onShapeChanged:X,onTitleChanged:W,onVisibleChanged:F,onZindexChanged:P,onLoad:A,onUnmount:B}=t,z=u.useContext(yr),[O,U]=u.useState(null),[Z,se]=u.useState(null),[fe,le]=u.useState(null),[Ne,Te]=u.useState(null),[ht,Fe]=u.useState(null),[Ve,ut]=u.useState(null),[Je,G]=u.useState(null),[ae,Me]=u.useState(null),[he,ye]=u.useState(null),[oe,ie]=u.useState(null),[q,Se]=u.useState(null),[$e,rt]=u.useState(null),[nt,Ue]=u.useState(null),[xt,Oe]=u.useState(null),[Ee,ee]=u.useState(null),[de,ue]=u.useState(null),[_e,Xe]=u.useState(null),[gt,wt]=u.useState(null),[vt,ct]=u.useState(null),[Ze,dt]=u.useState(null),[yt,Ie]=u.useState(null),[ze,qe]=u.useState(null);u.useEffect(()=>{O!==null&&O.setMap(z)},[z]),u.useEffect(()=>{typeof s!="undefined"&&O!==null&&O.setOptions(s)},[O,s]),u.useEffect(()=>{typeof l!="undefined"&&O!==null&&O.setDraggable(l)},[O,l]),u.useEffect(()=>{r&&O!==null&&O.setPosition(r)},[O,r]),u.useEffect(()=>{typeof c!="undefined"&&O!==null&&O.setVisible(c)},[O,c]),u.useEffect(()=>{O==null||O.setAnimation(d)},[O,d]),u.useEffect(()=>{O&&f!==void 0&&O.setClickable(f)},[O,f]),u.useEffect(()=>{O&&h!==void 0&&O.setCursor(h)},[O,h]),u.useEffect(()=>{O&&g!==void 0&&O.setIcon(g)},[O,g]),u.useEffect(()=>{O&&m!==void 0&&O.setLabel(m)},[O,m]),u.useEffect(()=>{O&&p!==void 0&&O.setOpacity(p)},[O,p]),u.useEffect(()=>{O&&x!==void 0&&O.setShape(x)},[O,x]),u.useEffect(()=>{O&&y!==void 0&&O.setTitle(y)},[O,y]),u.useEffect(()=>{O&&w!==void 0&&O.setZIndex(w)},[O,w]),u.useEffect(()=>{O&&v&&(Z!==null&&google.maps.event.removeListener(Z),se(google.maps.event.addListener(O,"dblclick",v)))},[v]),u.useEffect(()=>{O&&N&&(fe!==null&&google.maps.event.removeListener(fe),le(google.maps.event.addListener(O,"dragend",N)))},[N]),u.useEffect(()=>{O&&S&&(Ne!==null&&google.maps.event.removeListener(Ne),Te(google.maps.event.addListener(O,"dragstart",S)))},[S]),u.useEffect(()=>{O&&C&&(ht!==null&&google.maps.event.removeListener(ht),Fe(google.maps.event.addListener(O,"mousedown",C)))},[C]),u.useEffect(()=>{O&&I&&(Ve!==null&&google.maps.event.removeListener(Ve),ut(google.maps.event.addListener(O,"mouseout",I)))},[I]),u.useEffect(()=>{O&&E&&(Je!==null&&google.maps.event.removeListener(Je),G(google.maps.event.addListener(O,"mouseover",E)))},[E]),u.useEffect(()=>{O&&L&&(ae!==null&&google.maps.event.removeListener(ae),Me(google.maps.event.addListener(O,"mouseup",L)))},[L]),u.useEffect(()=>{O&&T&&(he!==null&&google.maps.event.removeListener(he),ye(google.maps.event.addListener(O,"rightclick",T)))},[T]),u.useEffect(()=>{O&&b&&(oe!==null&&google.maps.event.removeListener(oe),ie(google.maps.event.addListener(O,"click",b)))},[b]),u.useEffect(()=>{O&&j&&(q!==null&&google.maps.event.removeListener(q),Se(google.maps.event.addListener(O,"drag",j)))},[j]),u.useEffect(()=>{O&&k&&($e!==null&&google.maps.event.removeListener($e),rt(google.maps.event.addListener(O,"clickable_changed",k)))},[k]),u.useEffect(()=>{O&&M&&(nt!==null&&google.maps.event.removeListener(nt),Ue(google.maps.event.addListener(O,"cursor_changed",M)))},[M]),u.useEffect(()=>{O&&_&&(xt!==null&&google.maps.event.removeListener(xt),Oe(google.maps.event.addListener(O,"animation_changed",_)))},[_]),u.useEffect(()=>{O&&J&&(Ee!==null&&google.maps.event.removeListener(Ee),ee(google.maps.event.addListener(O,"draggable_changed",J)))},[J]),u.useEffect(()=>{O&&Y&&(de!==null&&google.maps.event.removeListener(de),ue(google.maps.event.addListener(O,"flat_changed",Y)))},[Y]),u.useEffect(()=>{O&&te&&(_e!==null&&google.maps.event.removeListener(_e),Xe(google.maps.event.addListener(O,"icon_changed",te)))},[te]),u.useEffect(()=>{O&&K&&(gt!==null&&google.maps.event.removeListener(gt),wt(google.maps.event.addListener(O,"position_changed",K)))},[K]),u.useEffect(()=>{O&&X&&(vt!==null&&google.maps.event.removeListener(vt),ct(google.maps.event.addListener(O,"shape_changed",X)))},[X]),u.useEffect(()=>{O&&W&&(Ze!==null&&google.maps.event.removeListener(Ze),dt(google.maps.event.addListener(O,"title_changed",W)))},[W]),u.useEffect(()=>{O&&F&&(yt!==null&&google.maps.event.removeListener(yt),Ie(google.maps.event.addListener(O,"visible_changed",F)))},[F]),u.useEffect(()=>{O&&P&&(ze!==null&&google.maps.event.removeListener(ze),qe(google.maps.event.addListener(O,"zindex_changed",P)))},[P]),u.useEffect(()=>{var Ae=O0(O0(O0({},s||ob),a?ob:{map:z}),{},{position:r}),Ge=new google.maps.Marker(Ae);return a?a.addMarker(Ge,!!i):Ge.setMap(z),r&&Ge.setPosition(r),typeof c!="undefined"&&Ge.setVisible(c),typeof l!="undefined"&&Ge.setDraggable(l),typeof f!="undefined"&&Ge.setClickable(f),typeof h=="string"&&Ge.setCursor(h),g&&Ge.setIcon(g),typeof m!="undefined"&&Ge.setLabel(m),typeof p!="undefined"&&Ge.setOpacity(p),x&&Ge.setShape(x),typeof y=="string"&&Ge.setTitle(y),typeof w=="number"&&Ge.setZIndex(w),v&&se(google.maps.event.addListener(Ge,"dblclick",v)),N&&le(google.maps.event.addListener(Ge,"dragend",N)),S&&Te(google.maps.event.addListener(Ge,"dragstart",S)),C&&Fe(google.maps.event.addListener(Ge,"mousedown",C)),I&&ut(google.maps.event.addListener(Ge,"mouseout",I)),E&&G(google.maps.event.addListener(Ge,"mouseover",E)),L&&Me(google.maps.event.addListener(Ge,"mouseup",L)),T&&ye(google.maps.event.addListener(Ge,"rightclick",T)),b&&ie(google.maps.event.addListener(Ge,"click",b)),j&&Se(google.maps.event.addListener(Ge,"drag",j)),k&&rt(google.maps.event.addListener(Ge,"clickable_changed",k)),M&&Ue(google.maps.event.addListener(Ge,"cursor_changed",M)),_&&Oe(google.maps.event.addListener(Ge,"animation_changed",_)),J&&ee(google.maps.event.addListener(Ge,"draggable_changed",J)),Y&&ue(google.maps.event.addListener(Ge,"flat_changed",Y)),te&&Xe(google.maps.event.addListener(Ge,"icon_changed",te)),K&&wt(google.maps.event.addListener(Ge,"position_changed",K)),X&&ct(google.maps.event.addListener(Ge,"shape_changed",X)),W&&dt(google.maps.event.addListener(Ge,"title_changed",W)),F&&Ie(google.maps.event.addListener(Ge,"visible_changed",F)),P&&qe(google.maps.event.addListener(Ge,"zindex_changed",P)),U(Ge),A&&A(Ge),()=>{Z!==null&&google.maps.event.removeListener(Z),fe!==null&&google.maps.event.removeListener(fe),Ne!==null&&google.maps.event.removeListener(Ne),ht!==null&&google.maps.event.removeListener(ht),Ve!==null&&google.maps.event.removeListener(Ve),Je!==null&&google.maps.event.removeListener(Je),ae!==null&&google.maps.event.removeListener(ae),he!==null&&google.maps.event.removeListener(he),oe!==null&&google.maps.event.removeListener(oe),$e!==null&&google.maps.event.removeListener($e),nt!==null&&google.maps.event.removeListener(nt),xt!==null&&google.maps.event.removeListener(xt),Ee!==null&&google.maps.event.removeListener(Ee),de!==null&&google.maps.event.removeListener(de),_e!==null&&google.maps.event.removeListener(_e),gt!==null&&google.maps.event.removeListener(gt),Ze!==null&&google.maps.event.removeListener(Ze),yt!==null&&google.maps.event.removeListener(yt),ze!==null&&google.maps.event.removeListener(ze),B&&B(Ge),a?a.removeMarker(Ge,!!i):Ge&&Ge.setMap(null)}},[]);var it=u.useMemo(()=>o?u.Children.map(o,Ae=>{if(!u.isValidElement(Ae))return Ae;var Ge=Ae;return u.cloneElement(Ge,{anchor:O})}):null,[o,O]);return n.jsx(n.Fragment,{children:it})||null}u.memo(c0e);class d0e extends u.PureComponent{constructor(){super(...arguments),It(this,"registeredEvents",[])}componentDidMount(){var r=this;return QH(function*(){var s=O0(O0(O0({},r.props.options||ob),r.props.clusterer?ob:{map:r.context}),{},{position:r.props.position});r.marker=new google.maps.Marker(s),r.props.clusterer?r.props.clusterer.addMarker(r.marker,!!r.props.noClustererRedraw):r.marker.setMap(r.context),r.registeredEvents=Ir({updaterMap:p_,eventMap:m_,prevProps:{},nextProps:r.props,instance:r.marker}),r.props.onLoad&&r.props.onLoad(r.marker)})()}componentDidUpdate(r){this.marker&&(Or(this.registeredEvents),this.registeredEvents=Ir({updaterMap:p_,eventMap:m_,prevProps:r,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Or(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var r=this.props.children?u.Children.map(this.props.children,s=>{if(!u.isValidElement(s))return s;var a=s;return u.cloneElement(a,{anchor:this.marker})}):null;return r||null}}It(d0e,"contextType",yr);var u0e=function(){function t(r,s){r.getClusterer().extend(t,google.maps.OverlayView),this.cluster=r,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=s,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(r.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(r){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var s=this.cluster.getClusterer();if(google.maps.event.trigger(s,"click",this.cluster),google.maps.event.trigger(s,"clusterclick",this.cluster),s.getZoomOnClick()){var a=s.getMaxZoom(),i=this.cluster.getBounds(),o=s.getMap();o!==null&&"fitBounds"in o&&o.fitBounds(i),this.timeOut=window.setTimeout(function(){var l=s.getMap();if(l!==null){"fitBounds"in l&&l.fitBounds(i);var c=l.getZoom()||0;a!==null&&c>a&&l.setZoom(a+1)}},100)}r.cancelBubble=!0,r.stopPropagation&&r.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var r;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(r=this.getPanes())===null||r===void 0||r.overlayMouseTarget.appendChild(this.div);var s=this.getMap();s!==null&&(this.boundsChangedListener=google.maps.event.addListener(s,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var r=this.getPosFromLatLng(this.center);this.div.style.top=r!==null?"".concat(r.y,"px"):"0",this.div.style.left=r!==null?"".concat(r.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var r,s,a,i,o,l;if(this.div&&this.center){var c=this.sums===null||typeof this.sums.title=="undefined"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,d=this.backgroundPosition.split(" "),f=parseInt(((r=d[0])===null||r===void 0?void 0:r.replace(/^\s+|\s+$/g,""))||"0",10),h=parseInt(((s=d[1])===null||s===void 0?void 0:s.replace(/^\s+|\s+$/g,""))||"0",10),g=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(g!==null?"".concat(g.y,"px"):"0","; left: ").concat(g!==null?"".concat(g.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var m=document.createElement("img");m.alt=c,m.src=this.url,m.width=this.width,m.height=this.height,m.setAttribute("style","position: absolute; top: ".concat(h,"px; left: ").concat(f,"px")),this.cluster.getClusterer().enableRetinaIcons||(m.style.clip="rect(-".concat(h,"px, -").concat(f+this.width,"px, -").concat(h+this.height,", -").concat(f,")"));var p=document.createElement("div");p.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((a=this.sums)===null||a===void 0)&&a.text&&(p.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((o=this.sums)===null||o===void 0)&&o.html&&(p.innerHTML="".concat((l=this.sums)===null||l===void 0?void 0:l.html)),this.div.innerHTML="",this.div.appendChild(m),this.div.appendChild(p),this.div.title=c,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(r){this.sums=r;var s=this.cluster.getClusterer().getStyles(),a=s[Math.min(s.length-1,Math.max(0,r.index-1))];a&&(this.url=a.url,this.height=a.height,this.width=a.width,a.className&&(this.className="".concat(this.clusterClassName," ").concat(a.className)),this.anchorText=a.anchorText||[0,0],this.anchorIcon=a.anchorIcon||[this.height/2,this.width/2],this.textColor=a.textColor||"black",this.textSize=a.textSize||11,this.textDecoration=a.textDecoration||"none",this.fontWeight=a.fontWeight||"bold",this.fontStyle=a.fontStyle||"normal",this.fontFamily=a.fontFamily||"Arial,sans-serif",this.backgroundPosition=a.backgroundPosition||"0 0")},t.prototype.setCenter=function(r){this.center=r},t.prototype.getPosFromLatLng=function(r){var s=this.getProjection().fromLatLngToDivPixel(r);return s!==null&&(s.x-=this.anchorIcon[1],s.y-=this.anchorIcon[0]),s},t}(),f0e=function(){function t(r){this.markerClusterer=r,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new u0e(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var r=new google.maps.LatLngBounds(this.center,this.center),s=this.getMarkers(),a=0,i=s;a<i.length;a++){var o=i[a],l=o.getPosition();l&&r.extend(l)}return r},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(r){var s;if(this.isMarkerAlreadyAdded(r))return!1;if(this.center){if(this.averageCenter){var a=r.getPosition();if(a){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+a.lat())/i,(this.center.lng()*(i-1)+a.lng())/i),this.calculateBounds()}}}else{var a=r.getPosition();a&&(this.center=a,this.calculateBounds())}r.isAdded=!0,this.markers.push(r);var o=this.markers.length,l=this.markerClusterer.getMaxZoom(),c=(s=this.map)===null||s===void 0?void 0:s.getZoom();if(l!==null&&typeof c!="undefined"&&c>l)r.getMap()!==this.map&&r.setMap(this.map);else if(o<this.minClusterSize)r.getMap()!==this.map&&r.setMap(this.map);else if(o===this.minClusterSize)for(var d=0,f=this.markers;d<f.length;d++){var h=f[d];h.setMap(null)}else r.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(r){if(this.bounds!==null){var s=r.getPosition();if(s)return this.bounds.contains(s)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var r,s=this.markers.length,a=this.markerClusterer.getMaxZoom(),i=(r=this.map)===null||r===void 0?void 0:r.getZoom();if(a!==null&&typeof i!="undefined"&&i>a){this.clusterIcon.hide();return}if(s<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(r){if(this.markers.includes)return this.markers.includes(r);for(var s=0;s<this.markers.length;s++)if(r===this.markers[s])return!0;return!1},t}();function h0e(t,r){var s=t.length,a=s.toString().length,i=Math.min(a,r);return{text:s.toString(),index:i,title:""}}var g0e=2e3,m0e=500,p0e="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",x0e="png",v0e=[53,56,66,78,90],y0e="cluster",tV=function(){function t(r,s,a){s===void 0&&(s=[]),a===void 0&&(a={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=a.gridSize||60,this.minClusterSize=a.minimumClusterSize||2,this.maxZoom=a.maxZoom||null,this.styles=a.styles||[],this.title=a.title||"",this.zoomOnClick=!0,a.zoomOnClick!==void 0&&(this.zoomOnClick=a.zoomOnClick),this.averageCenter=!1,a.averageCenter!==void 0&&(this.averageCenter=a.averageCenter),this.ignoreHidden=!1,a.ignoreHidden!==void 0&&(this.ignoreHidden=a.ignoreHidden),this.enableRetinaIcons=!1,a.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=a.enableRetinaIcons),this.imagePath=a.imagePath||p0e,this.imageExtension=a.imageExtension||x0e,this.imageSizes=a.imageSizes||v0e,this.calculator=a.calculator||h0e,this.batchSize=a.batchSize||g0e,this.batchSizeIE=a.batchSizeIE||m0e,this.clusterClass=a.clusterClass||y0e,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(s,!0),this.setMap(r)}return t.prototype.onZoomChanged=function(){var r,s;this.resetViewport(!1),(((r=this.getMap())===null||r===void 0?void 0:r.getZoom())===(this.get("minZoom")||0)||((s=this.getMap())===null||s===void 0?void 0:s.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var r=this.getMap();this.activeMap=r,this.ready=!0,this.repaint(),r!==null&&(this.listeners=[google.maps.event.addListener(r,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(r,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var r=0,s=this.markers;r<s.length;r++){var a=s[r];a.getMap()!==this.activeMap&&a.setMap(this.activeMap)}for(var i=0,o=this.clusters;i<o.length;i++){var l=o[i];l.remove()}this.clusters=[];for(var c=0,d=this.listeners;c<d.length;c++){var f=d[c];google.maps.event.removeListener(f)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var r=0;r<this.imageSizes.length;r++)this.styles.push({url:"".concat(this.imagePath+(r+1),".").concat(this.imageExtension),height:this.imageSizes[r]||0,width:this.imageSizes[r]||0})},t.prototype.fitMapToMarkers=function(){for(var r=this.getMarkers(),s=new google.maps.LatLngBounds,a=0,i=r;a<i.length;a++){var o=i[a],l=o.getPosition();l&&s.extend(l)}var c=this.getMap();c!==null&&"fitBounds"in c&&c.fitBounds(s)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(r){this.gridSize=r},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(r){this.minClusterSize=r},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(r){this.maxZoom=r},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(r){this.styles=r},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(r){this.title=r},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(r){this.zoomOnClick=r},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(r){this.averageCenter=r},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(r){this.ignoreHidden=r},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(r){this.enableRetinaIcons=r},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(r){this.imageExtension=r},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(r){this.imagePath=r},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(r){this.imageSizes=r},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(r){this.calculator=r},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(r){this.batchSizeIE=r},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(r){this.clusterClass=r},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(r,s){this.pushMarkerTo(r),s||this.redraw()},t.prototype.addMarkers=function(r,s){for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){var i=r[a];i&&this.pushMarkerTo(i)}s||this.redraw()},t.prototype.pushMarkerTo=function(r){var s=this;r.getDraggable()&&google.maps.event.addListener(r,"dragend",function(){s.ready&&(r.isAdded=!1,s.repaint())}),r.isAdded=!1,this.markers.push(r)},t.prototype.removeMarker_=function(r){var s=-1;if(this.markers.indexOf)s=this.markers.indexOf(r);else for(var a=0;a<this.markers.length;a++)if(r===this.markers[a]){s=a;break}return s===-1?!1:(r.setMap(null),this.markers.splice(s,1),!0)},t.prototype.removeMarker=function(r,s){var a=this.removeMarker_(r);return!s&&a&&this.repaint(),a},t.prototype.removeMarkers=function(r,s){for(var a=!1,i=0,o=r;i<o.length;i++){var l=o[i];a=a||this.removeMarker_(l)}return!s&&a&&this.repaint(),a},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var r=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var a=0,i=r;a<i.length;a++){var o=i[a];o.remove()}},0)},t.prototype.getExtendedBounds=function(r){var s=this.getProjection(),a=s.fromLatLngToDivPixel(new google.maps.LatLng(r.getNorthEast().lat(),r.getNorthEast().lng()));a!==null&&(a.x+=this.gridSize,a.y-=this.gridSize);var i=s.fromLatLngToDivPixel(new google.maps.LatLng(r.getSouthWest().lat(),r.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),a!==null){var o=s.fromDivPixelToLatLng(a);o!==null&&r.extend(o)}if(i!==null){var l=s.fromDivPixelToLatLng(i);l!==null&&r.extend(l)}return r},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(r){for(var s=0,a=this.clusters;s<a.length;s++){var i=a[s];i.remove()}this.clusters=[];for(var o=0,l=this.markers;o<l.length;o++){var c=l[o];c.isAdded=!1,r&&c.setMap(null)}},t.prototype.distanceBetweenPoints=function(r,s){var a=6371,i=(s.lat()-r.lat())*Math.PI/180,o=(s.lng()-r.lng())*Math.PI/180,l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(r.lat()*Math.PI/180)*Math.cos(s.lat()*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return a*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))},t.prototype.isMarkerInBounds=function(r,s){var a=r.getPosition();return a?s.contains(a):!1},t.prototype.addToClosestCluster=function(r){for(var s,a=4e4,i=null,o=0,l=this.clusters;o<l.length;o++){var c=l[o];s=c;var d=s.getCenter(),f=r.getPosition();if(d&&f){var h=this.distanceBetweenPoints(d,f);h<a&&(a=h,i=s)}}i&&i.isMarkerInClusterBounds(r)?i.addMarker(r):(s=new f0e(this),s.addMarker(r),this.clusters.push(s))},t.prototype.createClusters=function(r){var s=this;if(this.ready){r===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var a=this.getMap(),i=a!==null&&("getBounds"in a)?a.getBounds():null,o=(a==null?void 0:a.getZoom())||0,l=o>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),c=this.getExtendedBounds(l),d=Math.min(r+this.batchSize,this.markers.length),f=r;f<d;f++){var h=this.markers[f];h&&!h.isAdded&&this.isMarkerInBounds(h,c)&&(!this.ignoreHidden||this.ignoreHidden&&h.getVisible())&&this.addToClosestCluster(h)}if(d<this.markers.length)this.timerRefStatic=window.setTimeout(function(){s.createClusters(d)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var g=0,m=this.clusters;g<m.length;g++){var p=m[g];p.updateIcon()}}}},t.prototype.extend=function(r,s){return function(i){for(var o in i.prototype){var l=o;this.prototype[l]=i.prototype[l]}return this}.apply(r,[s])},t}();function x_(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,a)}return s}function b0e(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?x_(Object(s),!0).forEach(function(a){It(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):x_(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}var Ui={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Ur={averageCenter(t,r){t.setAverageCenter(r)},batchSizeIE(t,r){t.setBatchSizeIE(r)},calculator(t,r){t.setCalculator(r)},clusterClass(t,r){t.setClusterClass(r)},enableRetinaIcons(t,r){t.setEnableRetinaIcons(r)},gridSize(t,r){t.setGridSize(r)},ignoreHidden(t,r){t.setIgnoreHidden(r)},imageExtension(t,r){t.setImageExtension(r)},imagePath(t,r){t.setImagePath(r)},imageSizes(t,r){t.setImageSizes(r)},maxZoom(t,r){t.setMaxZoom(r)},minimumClusterSize(t,r){t.setMinimumClusterSize(r)},styles(t,r){t.setStyles(r)},title(t,r){t.setTitle(r)},zoomOnClick(t,r){t.setZoomOnClick(r)}},w0e={};function j0e(t){var{children:r,options:s,averageCenter:a,batchSizeIE:i,calculator:o,clusterClass:l,enableRetinaIcons:c,gridSize:d,ignoreHidden:f,imageExtension:h,imagePath:g,imageSizes:m,maxZoom:p,minimumClusterSize:x,styles:y,title:w,zoomOnClick:b,onClick:v,onClusteringBegin:j,onClusteringEnd:N,onMouseOver:S,onMouseOut:I,onLoad:E,onUnmount:L}=t,[C,T]=u.useState(null),k=u.useContext(yr),[M,_]=u.useState(null),[J,Y]=u.useState(null),[te,K]=u.useState(null),[X,W]=u.useState(null),[F,P]=u.useState(null);return u.useEffect(()=>{C&&I&&(X!==null&&google.maps.event.removeListener(X),W(google.maps.event.addListener(C,Ui.onMouseOut,I)))},[I]),u.useEffect(()=>{C&&S&&(F!==null&&google.maps.event.removeListener(F),P(google.maps.event.addListener(C,Ui.onMouseOver,S)))},[S]),u.useEffect(()=>{C&&v&&(M!==null&&google.maps.event.removeListener(M),_(google.maps.event.addListener(C,Ui.onClick,v)))},[v]),u.useEffect(()=>{C&&j&&(J!==null&&google.maps.event.removeListener(J),Y(google.maps.event.addListener(C,Ui.onClusteringBegin,j)))},[j]),u.useEffect(()=>{C&&N&&(te!==null&&google.maps.event.removeListener(te),Y(google.maps.event.addListener(C,Ui.onClusteringEnd,N)))},[N]),u.useEffect(()=>{typeof a!="undefined"&&C!==null&&Ur.averageCenter(C,a)},[C,a]),u.useEffect(()=>{typeof i!="undefined"&&C!==null&&Ur.batchSizeIE(C,i)},[C,i]),u.useEffect(()=>{typeof o!="undefined"&&C!==null&&Ur.calculator(C,o)},[C,o]),u.useEffect(()=>{typeof l!="undefined"&&C!==null&&Ur.clusterClass(C,l)},[C,l]),u.useEffect(()=>{typeof c!="undefined"&&C!==null&&Ur.enableRetinaIcons(C,c)},[C,c]),u.useEffect(()=>{typeof d!="undefined"&&C!==null&&Ur.gridSize(C,d)},[C,d]),u.useEffect(()=>{typeof f!="undefined"&&C!==null&&Ur.ignoreHidden(C,f)},[C,f]),u.useEffect(()=>{typeof h!="undefined"&&C!==null&&Ur.imageExtension(C,h)},[C,h]),u.useEffect(()=>{typeof g!="undefined"&&C!==null&&Ur.imagePath(C,g)},[C,g]),u.useEffect(()=>{typeof m!="undefined"&&C!==null&&Ur.imageSizes(C,m)},[C,m]),u.useEffect(()=>{typeof p!="undefined"&&C!==null&&Ur.maxZoom(C,p)},[C,p]),u.useEffect(()=>{typeof x!="undefined"&&C!==null&&Ur.minimumClusterSize(C,x)},[C,x]),u.useEffect(()=>{typeof y!="undefined"&&C!==null&&Ur.styles(C,y)},[C,y]),u.useEffect(()=>{typeof w!="undefined"&&C!==null&&Ur.title(C,w)},[C,w]),u.useEffect(()=>{typeof b!="undefined"&&C!==null&&Ur.zoomOnClick(C,b)},[C,b]),u.useEffect(()=>{if(k){var A=b0e({},s||w0e),B=new tV(k,[],A);return a&&Ur.averageCenter(B,a),i&&Ur.batchSizeIE(B,i),o&&Ur.calculator(B,o),l&&Ur.clusterClass(B,l),c&&Ur.enableRetinaIcons(B,c),d&&Ur.gridSize(B,d),f&&Ur.ignoreHidden(B,f),h&&Ur.imageExtension(B,h),g&&Ur.imagePath(B,g),m&&Ur.imageSizes(B,m),p&&Ur.maxZoom(B,p),x&&Ur.minimumClusterSize(B,x),y&&Ur.styles(B,y),w&&Ur.title(B,w),b&&Ur.zoomOnClick(B,b),I&&W(google.maps.event.addListener(B,Ui.onMouseOut,I)),S&&P(google.maps.event.addListener(B,Ui.onMouseOver,S)),v&&_(google.maps.event.addListener(B,Ui.onClick,v)),j&&Y(google.maps.event.addListener(B,Ui.onClusteringBegin,j)),N&&K(google.maps.event.addListener(B,Ui.onClusteringEnd,N)),T(B),E&&E(B),()=>{X!==null&&google.maps.event.removeListener(X),F!==null&&google.maps.event.removeListener(F),M!==null&&google.maps.event.removeListener(M),J!==null&&google.maps.event.removeListener(J),te!==null&&google.maps.event.removeListener(te),L&&L(B)}}},[]),C!==null&&r(C)||null}u.memo(j0e);class N0e extends u.PureComponent{constructor(){super(...arguments),It(this,"registeredEvents",[]),It(this,"state",{markerClusterer:null}),It(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var r=new tV(this.context,[],this.props.options);this.registeredEvents=Ir({updaterMap:Ur,eventMap:Ui,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({markerClusterer:r}),this.setClustererCallback)}}componentDidUpdate(r){this.state.markerClusterer&&(Or(this.registeredEvents),this.registeredEvents=Ir({updaterMap:Ur,eventMap:Ui,prevProps:r,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Or(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}It(N0e,"contextType",yr);function v_(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var rV=function(){function t(r){r===void 0&&(r={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=r.content||"",this.disableAutoPan=r.disableAutoPan||!1,this.maxWidth=r.maxWidth||0,this.pixelOffset=r.pixelOffset||new google.maps.Size(0,0),this.position=r.position||new google.maps.LatLng(0,0),this.zIndex=r.zIndex||null,this.boxClass=r.boxClass||"infoBox",this.boxStyle=r.boxStyle||{},this.closeBoxMargin=r.closeBoxMargin||"2px",this.closeBoxURL=r.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",r.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=r.infoBoxClearance||new google.maps.Size(1,1),typeof r.visible=="undefined"&&(typeof r.isHidden=="undefined"?r.visible=!0:r.visible=!r.isHidden),this.isHidden=!r.visible,this.alignBottom=r.alignBottom||!1,this.pane=r.pane||"floatPane",this.enableEventPropagation=r.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var r=this,s=function(h){h.returnValue=!1,h.preventDefault&&h.preventDefault(),r.enableEventPropagation||v_(h)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var a=this.getPanes();if(a!==null&&a[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var o=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],l=0,c=o;l<c.length;l++){var d=c[l];this.eventListeners.push(google.maps.event.addListener(this.div,d,v_))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){r.div&&(r.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",s),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var r="";return this.closeBoxURL!==""&&(r='<img alt=""',r+=' aria-hidden="true"',r+=" src='"+this.closeBoxURL+"'",r+=" align=right",r+=" style='",r+=" position: relative;",r+=" cursor: pointer;",r+=" margin: "+this.closeBoxMargin+";",r+="'>"),r},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(r){r.cancelBubble=!0,r.stopPropagation&&r.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(r){if(this.div&&!r){var s=this.getMap();if(s instanceof google.maps.Map){var a=0,i=0,o=s.getBounds();o&&!o.contains(this.position)&&s.setCenter(this.position);var l=s.getDiv(),c=l.offsetWidth,d=l.offsetHeight,f=this.pixelOffset.width,h=this.pixelOffset.height,g=this.div.offsetWidth,m=this.div.offsetHeight,p=this.infoBoxClearance.width,x=this.infoBoxClearance.height,y=this.getProjection(),w=y.fromLatLngToContainerPixel(this.position);w!==null&&(w.x<-f+p?a=w.x+f-p:w.x+g+f+p>c&&(a=w.x+g+f+p-c),this.alignBottom?w.y<-h+x+m?i=w.y+h-x-m:w.y+h+x>d&&(i=w.y+h+x-d):w.y<-h+x?i=w.y+h-x:w.y+m+h+x>d&&(i=w.y+m+h+x-d)),a===0&&i===0||s.panBy(a,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var r=this.boxStyle;for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(this.div.style[s]=r[s]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity!="undefined"&&this.div.style.opacity!==""){var a=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+a*100+')"',this.div.style.filter="alpha(opacity="+a*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var r={top:0,bottom:0,left:0,right:0};if(!this.div)return r;if(document.defaultView){var s=this.div.ownerDocument,a=s&&s.defaultView?s.defaultView.getComputedStyle(this.div,""):null;a&&(r.top=parseInt(a.borderTopWidth||"",10)||0,r.bottom=parseInt(a.borderBottomWidth||"",10)||0,r.left=parseInt(a.borderLeftWidth||"",10)||0,r.right=parseInt(a.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(r.top=parseInt(i.borderTopWidth||"",10)||0,r.bottom=parseInt(i.borderBottomWidth||"",10)||0,r.left=parseInt(i.borderLeftWidth||"",10)||0,r.right=parseInt(i.borderRightWidth||"",10)||0)}return r},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var r=this.getProjection(),s=r.fromLatLngToDivPixel(this.position);s!==null&&(this.div.style.left=s.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(s.y+this.pixelOffset.height)+"px":this.div.style.top=s.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(r){r===void 0&&(r={}),typeof r.boxClass!="undefined"&&(this.boxClass=r.boxClass,this.setBoxStyle()),typeof r.boxStyle!="undefined"&&(this.boxStyle=r.boxStyle,this.setBoxStyle()),typeof r.content!="undefined"&&this.setContent(r.content),typeof r.disableAutoPan!="undefined"&&(this.disableAutoPan=r.disableAutoPan),typeof r.maxWidth!="undefined"&&(this.maxWidth=r.maxWidth),typeof r.pixelOffset!="undefined"&&(this.pixelOffset=r.pixelOffset),typeof r.alignBottom!="undefined"&&(this.alignBottom=r.alignBottom),typeof r.position!="undefined"&&this.setPosition(r.position),typeof r.zIndex!="undefined"&&this.setZIndex(r.zIndex),typeof r.closeBoxMargin!="undefined"&&(this.closeBoxMargin=r.closeBoxMargin),typeof r.closeBoxURL!="undefined"&&(this.closeBoxURL=r.closeBoxURL),typeof r.infoBoxClearance!="undefined"&&(this.infoBoxClearance=r.infoBoxClearance),typeof r.isHidden!="undefined"&&(this.isHidden=r.isHidden),typeof r.visible!="undefined"&&(this.isHidden=!r.visible),typeof r.enableEventPropagation!="undefined"&&(this.enableEventPropagation=r.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(r){this.content=r,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof r=="string"?this.div.innerHTML=this.getCloseBoxImg()+r:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(r)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof r=="string"?this.div.innerHTML=this.getCloseBoxImg()+r:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(r))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(r){this.position=r,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(r){this.isHidden=!r,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(r){this.zIndex=r,this.div&&(this.div.style.zIndex=r+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var r=this.getMap();return typeof r=="undefined"||r===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(r,s){var a=this;s&&(this.position=s.getPosition(),this.moveListener=google.maps.event.addListener(s,"position_changed",function(){var i=s.getPosition();a.setPosition(i)}),this.mapListener=google.maps.event.addListener(s,"map_changed",function(){a.setMap(s.map)})),this.setMap(r),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var r=0,s=this.eventListeners;r<s.length;r++){var a=s[r];google.maps.event.removeListener(a)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(r,s){return function(i){for(var o in i.prototype)Object.prototype.hasOwnProperty.call(this,o)||(this.prototype[o]=i.prototype[o]);return this}.apply(r,[s])},t}(),S0e=["position"],C0e=["position"];function y_(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,a)}return s}function lb(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?y_(Object(s),!0).forEach(function(a){It(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):y_(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}var b_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},w_={options(t,r){t.setOptions(r)},position(t,r){r instanceof google.maps.LatLng?t.setPosition(r):t.setPosition(new google.maps.LatLng(r.lat,r.lng))},visible(t,r){t.setVisible(r)},zIndex(t,r){t.setZIndex(r)}},k0e={};function E0e(t){var{children:r,anchor:s,options:a,position:i,zIndex:o,onCloseClick:l,onDomReady:c,onContentChanged:d,onPositionChanged:f,onZindexChanged:h,onLoad:g,onUnmount:m}=t,p=u.useContext(yr),[x,y]=u.useState(null),[w,b]=u.useState(null),[v,j]=u.useState(null),[N,S]=u.useState(null),[I,E]=u.useState(null),[L,C]=u.useState(null),T=u.useRef(null);return u.useEffect(()=>{p&&x!==null&&(x.close(),s?x.open(p,s):x.getPosition()&&x.open(p))},[p,x,s]),u.useEffect(()=>{a&&x!==null&&x.setOptions(a)},[x,a]),u.useEffect(()=>{if(i&&x!==null){var k=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);x.setPosition(k)}},[i]),u.useEffect(()=>{typeof o=="number"&&x!==null&&x.setZIndex(o)},[o]),u.useEffect(()=>{x&&l&&(w!==null&&google.maps.event.removeListener(w),b(google.maps.event.addListener(x,"closeclick",l)))},[l]),u.useEffect(()=>{x&&c&&(v!==null&&google.maps.event.removeListener(v),j(google.maps.event.addListener(x,"domready",c)))},[c]),u.useEffect(()=>{x&&d&&(N!==null&&google.maps.event.removeListener(N),S(google.maps.event.addListener(x,"content_changed",d)))},[d]),u.useEffect(()=>{x&&f&&(I!==null&&google.maps.event.removeListener(I),E(google.maps.event.addListener(x,"position_changed",f)))},[f]),u.useEffect(()=>{x&&h&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(x,"zindex_changed",h)))},[h]),u.useEffect(()=>{if(p){var k=a||k0e,{position:M}=k,_=XE(k,S0e),J;M&&!(M instanceof google.maps.LatLng)&&(J=new google.maps.LatLng(M.lat,M.lng));var Y=new rV(lb(lb({},_),J?{position:J}:{}));T.current=document.createElement("div"),y(Y),l&&b(google.maps.event.addListener(Y,"closeclick",l)),c&&j(google.maps.event.addListener(Y,"domready",c)),d&&S(google.maps.event.addListener(Y,"content_changed",d)),f&&E(google.maps.event.addListener(Y,"position_changed",f)),h&&C(google.maps.event.addListener(Y,"zindex_changed",h)),Y.setContent(T.current),s?Y.open(p,s):Y.getPosition()?Y.open(p):os(!1,"You must provide either an anchor or a position prop for <InfoBox>."),g&&g(Y)}return()=>{x!==null&&(w&&google.maps.event.removeListener(w),N&&google.maps.event.removeListener(N),v&&google.maps.event.removeListener(v),I&&google.maps.event.removeListener(I),L&&google.maps.event.removeListener(L),m&&m(x),x.close())}},[]),T.current?Ed.createPortal(u.Children.only(r),T.current):null}u.memo(E0e);class L0e extends u.PureComponent{constructor(){super(...arguments),It(this,"registeredEvents",[]),It(this,"containerElement",null),It(this,"state",{infoBox:null}),It(this,"open",(r,s)=>{s?this.context!==null&&r.open(this.context,s):r.getPosition()?this.context!==null&&r.open(this.context):os(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),It(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var r=this.props.options||{},{position:s}=r,a=XE(r,C0e),i;s&&!(s instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(s.lat,s.lng));var o=new rV(lb(lb({},a),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Ir({updaterMap:w_,eventMap:b_,prevProps:{},nextProps:this.props,instance:o}),this.setState({infoBox:o},this.setInfoBoxCallback)}componentDidUpdate(r){var{infoBox:s}=this.state;s!==null&&(Or(this.registeredEvents),this.registeredEvents=Ir({updaterMap:w_,eventMap:b_,prevProps:r,nextProps:this.props,instance:s}))}componentWillUnmount(){var{onUnmount:r}=this.props,{infoBox:s}=this.state;s!==null&&(r&&r(s),Or(this.registeredEvents),s.close())}render(){return this.containerElement?Ed.createPortal(u.Children.only(this.props.children),this.containerElement):null}}It(L0e,"contextType",yr);var D4,j_;function M0e(){return j_||(j_=1,D4=function t(r,s){if(r===s)return!0;if(r&&s&&typeof r=="object"&&typeof s=="object"){if(r.constructor!==s.constructor)return!1;var a,i,o;if(Array.isArray(r)){if(a=r.length,a!=s.length)return!1;for(i=a;i--!==0;)if(!t(r[i],s[i]))return!1;return!0}if(r.constructor===RegExp)return r.source===s.source&&r.flags===s.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===s.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===s.toString();if(o=Object.keys(r),a=o.length,a!==Object.keys(s).length)return!1;for(i=a;i--!==0;)if(!Object.prototype.hasOwnProperty.call(s,o[i]))return!1;for(i=a;i--!==0;){var l=o[i];if(!t(r[l],s[l]))return!1}return!0}return r!==r&&s!==s}),D4}var I0e=M0e(),N_=ZH(I0e),S_=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],R4=1,Lg=8;class eL{static from(r){if(!(r instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[s,a]=new Uint8Array(r,0,2);if(s!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=a>>4;if(i!==R4)throw new Error("Got v".concat(i," data when expected v").concat(R4,"."));var o=S_[a&15];if(!o)throw new Error("Unrecognized array type.");var[l]=new Uint16Array(r,2,1),[c]=new Uint32Array(r,4,1);return new eL(c,l,o,r)}constructor(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(r)||r<0)throw new Error("Unpexpected numItems value: ".concat(r,"."));this.numItems=+r,this.nodeSize=Math.min(Math.max(+s,2),65535),this.ArrayType=a,this.IndexArrayType=r<65536?Uint16Array:Uint32Array;var o=S_.indexOf(this.ArrayType),l=r*2*this.ArrayType.BYTES_PER_ELEMENT,c=r*this.IndexArrayType.BYTES_PER_ELEMENT,d=(8-c%8)%8;if(o<0)throw new Error("Unexpected typed array class: ".concat(a,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,Lg,r),this.coords=new this.ArrayType(this.data,Lg+c+d,r*2),this._pos=r*2,this._finished=!0):(this.data=new ArrayBuffer(Lg+l+c+d),this.ids=new this.IndexArrayType(this.data,Lg,r),this.coords=new this.ArrayType(this.data,Lg+c+d,r*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(R4<<4)+o]),new Uint16Array(this.data,2,1)[0]=s,new Uint32Array(this.data,4,1)[0]=r)}add(r,s){var a=this._pos>>1;return this.ids[a]=a,this.coords[this._pos++]=r,this.coords[this._pos++]=s,a}finish(){var r=this._pos>>1;if(r!==this.numItems)throw new Error("Added ".concat(r," items when expected ").concat(this.numItems,"."));return qC(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(r,s,a,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:o,coords:l,nodeSize:c}=this,d=[0,o.length-1,0],f=[];d.length;){var h=d.pop()||0,g=d.pop()||0,m=d.pop()||0;if(g-m<=c){for(var p=m;p<=g;p++){var x=l[2*p],y=l[2*p+1];x>=r&&x<=a&&y>=s&&y<=i&&f.push(o[p])}continue}var w=m+g>>1,b=l[2*w],v=l[2*w+1];b>=r&&b<=a&&v>=s&&v<=i&&f.push(o[w]),(h===0?r<=b:s<=v)&&(d.push(m),d.push(w-1),d.push(1-h)),(h===0?a>=b:i>=v)&&(d.push(w+1),d.push(g),d.push(1-h))}return f}within(r,s,a){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:o,nodeSize:l}=this,c=[0,i.length-1,0],d=[],f=a*a;c.length;){var h=c.pop()||0,g=c.pop()||0,m=c.pop()||0;if(g-m<=l){for(var p=m;p<=g;p++)C_(o[2*p],o[2*p+1],r,s)<=f&&d.push(i[p]);continue}var x=m+g>>1,y=o[2*x],w=o[2*x+1];C_(y,w,r,s)<=f&&d.push(i[x]),(h===0?r-a<=y:s-a<=w)&&(c.push(m),c.push(x-1),c.push(1-h)),(h===0?r+a>=y:s+a>=w)&&(c.push(x+1),c.push(g),c.push(1-h))}return d}}function qC(t,r,s,a,i,o){if(!(i-a<=s)){var l=a+i>>1;nV(t,r,l,a,i,o),qC(t,r,s,a,l-1,1-o),qC(t,r,s,l+1,i,1-o)}}function nV(t,r,s,a,i,o){for(;i>a;){if(i-a>600){var l=i-a+1,c=s-a+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),g=Math.max(a,Math.floor(s-c*f/l+h)),m=Math.min(i,Math.floor(s+(l-c)*f/l+h));nV(t,r,s,g,m,o)}var p=r[2*s+o],x=a,y=i;for(Mg(t,r,a,s),r[2*i+o]>p&&Mg(t,r,a,i);x<y;){for(Mg(t,r,x,y),x++,y--;r[2*x+o]<p;)x++;for(;r[2*y+o]>p;)y--}r[2*a+o]===p?Mg(t,r,a,y):(y++,Mg(t,r,y,i)),y<=s&&(a=y+1),s<=y&&(i=y-1)}}function Mg(t,r,s,a){F4(t,s,a),F4(r,2*s,2*a),F4(r,2*s+1,2*a+1)}function F4(t,r,s){var a=t[r];t[r]=t[s],t[s]=a}function C_(t,r,s,a){var i=t-s,o=r-a;return i*i+o*o}var T0e={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},k_=Math.fround||(t=>r=>(t[0]=+r,t[0]))(new Float32Array(1)),Yd=2,Bc=3,B4=4,$c=5,sV=6;class A0e{constructor(r){this.options=Object.assign(Object.create(T0e),r),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(r){var{log:s,minZoom:a,maxZoom:i}=this.options;s&&console.time("total time");var o="prepare ".concat(r.length," points");s&&console.time(o),this.points=r;for(var l=[],c=0;c<r.length;c++){var d=r[c];if(d.geometry){var[f,h]=d.geometry.coordinates,g=k_(Nv(f)),m=k_(Sv(h));l.push(g,m,1/0,c,-1,1),this.options.reduce&&l.push(0)}}var p=this.trees[i+1]=this._createTree(l);s&&console.timeEnd(o);for(var x=i;x>=a;x--){var y=+Date.now();p=this.trees[x]=this._createTree(this._cluster(p,x)),s&&console.log("z%d: %d clusters in %dms",x,p.numItems,+Date.now()-y)}return s&&console.timeEnd("total time"),this}getClusters(r,s){var a=((r[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,r[1])),o=r[2]===180?180:((r[2]+180)%360+360)%360-180,l=Math.max(-90,Math.min(90,r[3]));if(r[2]-r[0]>=360)a=-180,o=180;else if(a>o){var c=this.getClusters([a,i,180,l],s),d=this.getClusters([-180,i,o,l],s);return c.concat(d)}var f=this.trees[this._limitZoom(s)],h=f.range(Nv(a),Sv(l),Nv(o),Sv(i)),g=f.data,m=[];for(var p of h){var x=this.stride*p;m.push(g[x+$c]>1?E_(g,x,this.clusterProps):this.points[g[x+Bc]])}return m}getChildren(r){var s=this._getOriginId(r),a=this._getOriginZoom(r),i="No cluster with the specified id.",o=this.trees[a];if(!o)throw new Error(i);var l=o.data;if(s*this.stride>=l.length)throw new Error(i);var c=this.options.radius/(this.options.extent*Math.pow(2,a-1)),d=l[s*this.stride],f=l[s*this.stride+1],h=o.within(d,f,c),g=[];for(var m of h){var p=m*this.stride;l[p+B4]===r&&g.push(l[p+$c]>1?E_(l,p,this.clusterProps):this.points[l[p+Bc]])}if(g.length===0)throw new Error(i);return g}getLeaves(r,s,a){s=s||10,a=a||0;var i=[];return this._appendLeaves(i,r,s,a,0),i}getTile(r,s,a){var i=this.trees[this._limitZoom(r)],o=Math.pow(2,r),{extent:l,radius:c}=this.options,d=c/l,f=(a-d)/o,h=(a+1+d)/o,g={features:[]};return this._addTileFeatures(i.range((s-d)/o,f,(s+1+d)/o,h),i.data,s,a,o,g),s===0&&this._addTileFeatures(i.range(1-d/o,f,1,h),i.data,o,a,o,g),s===o-1&&this._addTileFeatures(i.range(0,f,d/o,h),i.data,-1,a,o,g),g.features.length?g:null}getClusterExpansionZoom(r){for(var s=this._getOriginZoom(r)-1;s<=this.options.maxZoom;){var a=this.getChildren(r);if(s++,a.length!==1)break;r=a[0].properties.cluster_id}return s}_appendLeaves(r,s,a,i,o){var l=this.getChildren(s);for(var c of l){var d=c.properties;if(d&&d.cluster?o+d.point_count<=i?o+=d.point_count:o=this._appendLeaves(r,d.cluster_id,a,i,o):o<i?o++:r.push(c),r.length===a)break}return o}_createTree(r){for(var s=new eL(r.length/this.stride|0,this.options.nodeSize,Float32Array),a=0;a<r.length;a+=this.stride)s.add(r[a],r[a+1]);return s.finish(),s.data=r,s}_addTileFeatures(r,s,a,i,o,l){for(var c of r){var d=c*this.stride,f=s[d+$c]>1,h=void 0,g=void 0,m=void 0;if(f)h=aV(s,d,this.clusterProps),g=s[d],m=s[d+1];else{var p=this.points[s[d+Bc]];h=p.properties;var[x,y]=p.geometry.coordinates;g=Nv(x),m=Sv(y)}var w={type:1,geometry:[[Math.round(this.options.extent*(g*o-a)),Math.round(this.options.extent*(m*o-i))]],tags:h},b=void 0;f||this.options.generateId?b=s[d+Bc]:b=this.points[s[d+Bc]].id,b!==void 0&&(w.id=b),l.features.push(w)}}_limitZoom(r){return Math.max(this.options.minZoom,Math.min(Math.floor(+r),this.options.maxZoom+1))}_cluster(r,s){for(var{radius:a,extent:i,reduce:o,minPoints:l}=this.options,c=a/(i*Math.pow(2,s)),d=r.data,f=[],h=this.stride,g=0;g<d.length;g+=h)if(!(d[g+Yd]<=s)){d[g+Yd]=s;var m=d[g],p=d[g+1],x=r.within(d[g],d[g+1],c),y=d[g+$c],w=y;for(var b of x){var v=b*h;d[v+Yd]>s&&(w+=d[v+$c])}if(w>y&&w>=l){var j=m*y,N=p*y,S=void 0,I=-1,E=((g/h|0)<<5)+(s+1)+this.points.length;for(var L of x){var C=L*h;if(!(d[C+Yd]<=s)){d[C+Yd]=s;var T=d[C+$c];j+=d[C]*T,N+=d[C+1]*T,d[C+B4]=E,o&&(S||(S=this._map(d,g,!0),I=this.clusterProps.length,this.clusterProps.push(S)),o(S,this._map(d,C)))}}d[g+B4]=E,f.push(j/w,N/w,1/0,E,-1,w),o&&f.push(I)}else{for(var k=0;k<h;k++)f.push(d[g+k]);if(w>1)for(var M of x){var _=M*h;if(!(d[_+Yd]<=s)){d[_+Yd]=s;for(var J=0;J<h;J++)f.push(d[_+J])}}}}return f}_getOriginId(r){return r-this.points.length>>5}_getOriginZoom(r){return(r-this.points.length)%32}_map(r,s,a){if(r[s+$c]>1){var i=this.clusterProps[r[s+sV]];return a?Object.assign({},i):i}var o=this.points[r[s+Bc]].properties,l=this.options.map(o);return a&&l===o?Object.assign({},l):l}}function E_(t,r,s){return{type:"Feature",id:t[r+Bc],properties:aV(t,r,s),geometry:{type:"Point",coordinates:[_0e(t[r]),O0e(t[r+1])]}}}function aV(t,r,s){var a=t[r+$c],i=a>=1e4?"".concat(Math.round(a/1e3),"k"):a>=1e3?"".concat(Math.round(a/100)/10,"k"):a,o=t[r+sV],l=o===-1?{}:Object.assign({},s[o]);return Object.assign(l,{cluster:!0,cluster_id:t[r+Bc],point_count:a,point_count_abbreviated:i})}function Nv(t){return t/360+.5}function Sv(t){var r=Math.sin(t*Math.PI/180),s=.5-.25*Math.log((1+r)/(1-r))/Math.PI;return s<0?0:s>1?1:s}function _0e(t){return(t-.5)*360}function O0e(t){var r=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(r))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function $0e(t,r){var s={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)r.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(s[a[i]]=t[a[i]]);return s}class mi{static isAdvancedMarkerAvailable(r){return google.maps.marker&&r.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(r){return google.maps.marker&&r instanceof google.maps.marker.AdvancedMarkerElement}static setMap(r,s){this.isAdvancedMarker(r)?r.map=s:r.setMap(s)}static getPosition(r){if(this.isAdvancedMarker(r)){if(r.position){if(r.position instanceof google.maps.LatLng)return r.position;if(r.position.lat&&r.position.lng)return new google.maps.LatLng(r.position.lat,r.position.lng)}return new google.maps.LatLng(null)}return r.getPosition()}static getVisible(r){return this.isAdvancedMarker(r)?!0:r.getVisible()}}class YC{constructor(r){var{markers:s,position:a}=r;this.markers=s,a&&(a instanceof google.maps.LatLng?this._position=a:this._position=new google.maps.LatLng(a))}get bounds(){if(!(this.markers.length===0&&!this._position)){var r=new google.maps.LatLngBounds(this._position,this._position);for(var s of this.markers)r.extend(mi.getPosition(s));return r}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(r=>mi.getVisible(r)).length}push(r){this.markers.push(r)}delete(){this.marker&&(mi.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class P0e{constructor(r){var{maxZoom:s=16}=r;this.maxZoom=s}noop(r){var{markers:s}=r;return D0e(s)}}var D0e=t=>{var r=t.map(s=>new YC({position:mi.getPosition(s),markers:[s]}));return r};class R0e extends P0e{constructor(r){var{maxZoom:s,radius:a=60}=r,i=$0e(r,["maxZoom","radius"]);super({maxZoom:s}),this.state={zoom:-1},this.superCluster=new A0e(Object.assign({maxZoom:this.maxZoom,radius:a},i))}calculate(r){var s=!1,a={zoom:r.map.getZoom()};if(!N_(r.markers,this.markers)){s=!0,this.markers=[...r.markers];var i=this.markers.map(o=>{var l=mi.getPosition(o),c=[l.lng(),l.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:c},properties:{marker:o}}});this.superCluster.load(i)}return s||(this.state.zoom<=this.maxZoom||a.zoom<=this.maxZoom)&&(s=!N_(this.state,a)),this.state=a,s&&(this.clusters=this.cluster(r)),{clusters:this.clusters,changed:s}}cluster(r){var{map:s}=r;return this.superCluster.getClusters([-180,-90,180,90],Math.round(s.getZoom())).map(a=>this.transformCluster(a))}transformCluster(r){var{geometry:{coordinates:[s,a]},properties:i}=r;if(i.cluster)return new YC({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(l=>l.properties.marker),position:{lat:a,lng:s}});var o=i.marker;return new YC({markers:[o],position:mi.getPosition(o)})}}class F0e{constructor(r,s){this.markers={sum:r.length};var a=s.map(o=>o.count),i=a.reduce((o,l)=>o+l,0);this.clusters={count:s.length,markers:{mean:i/s.length,sum:i,min:Math.min(...a),max:Math.max(...a)}}}}class B0e{render(r,s,a){var{count:i,position:o}=r,l=i>Math.max(10,s.clusters.markers.mean)?"#ff0000":"#0000ff",c='<svg fill="'.concat(l,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),d="Cluster of ".concat(i," markers"),f=Number(google.maps.Marker.MAX_ZINDEX)+i;if(mi.isAdvancedMarkerAvailable(a)){var h=new DOMParser,g=h.parseFromString(c,"image/svg+xml").documentElement;g.setAttribute("transform","translate(0 25)");var m={map:a,position:o,zIndex:f,title:d,content:g};return new google.maps.marker.AdvancedMarkerElement(m)}var p={position:o,zIndex:f,title:d,icon:{url:"data:image/svg+xml;base64,".concat(btoa(c)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(p)}}function z0e(t,r){for(var s in r.prototype)t.prototype[s]=r.prototype[s]}class tL{constructor(){z0e(tL,google.maps.OverlayView)}}var Mm;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Mm||(Mm={}));var U0e=(t,r,s)=>{s.fitBounds(r.bounds)};class W0e extends tL{constructor(r){var{map:s,markers:a=[],algorithmOptions:i={},algorithm:o=new R0e(i),renderer:l=new B0e,onClusterClick:c=U0e}=r;super(),this.markers=[...a],this.clusters=[],this.algorithm=o,this.renderer=l,this.onClusterClick=c,s&&this.setMap(s)}addMarker(r,s){this.markers.includes(r)||(this.markers.push(r),s||this.render())}addMarkers(r,s){r.forEach(a=>{this.addMarker(a,!0)}),s||this.render()}removeMarker(r,s){var a=this.markers.indexOf(r);return a===-1?!1:(mi.setMap(r,null),this.markers.splice(a,1),s||this.render(),!0)}removeMarkers(r,s){var a=!1;return r.forEach(i=>{a=this.removeMarker(i,!0)||a}),a&&!s&&this.render(),a}clearMarkers(r){this.markers.length=0,r||this.render()}render(){var r=this.getMap();if(r instanceof google.maps.Map&&r.getProjection()){google.maps.event.trigger(this,Mm.CLUSTERING_BEGIN,this);var{clusters:s,changed:a}=this.algorithm.calculate({markers:this.markers,map:r,mapCanvasProjection:this.getProjection()});if(a||a==null){var i=new Set;for(var o of s)o.markers.length==1&&i.add(o.markers[0]);var l=[];for(var c of this.clusters)c.marker!=null&&(c.markers.length==1?i.has(c.marker)||mi.setMap(c.marker,null):l.push(c.marker));this.clusters=s,this.renderClusters(),requestAnimationFrame(()=>l.forEach(d=>mi.setMap(d,null)))}google.maps.event.trigger(this,Mm.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(r=>mi.setMap(r,null)),this.clusters.forEach(r=>r.delete()),this.clusters=[]}renderClusters(){var r=new F0e(this.markers,this.clusters),s=this.getMap();this.clusters.forEach(a=>{a.markers.length===1?a.marker=a.markers[0]:(a.marker=this.renderer.render(a,r,s),a.markers.forEach(i=>mi.setMap(i,null)),this.onClusterClick&&a.marker.addListener("click",i=>{google.maps.event.trigger(this,Mm.CLUSTER_CLICK,a),this.onClusterClick(i,a,s)})),mi.setMap(a.marker,s)})}}function L_(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,a)}return s}function M_(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?L_(Object(s),!0).forEach(function(a){It(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):L_(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function H0e(t){var r=Pfe(),[s,a]=u.useState(null);return u.useEffect(()=>{if(r&&s===null){var i=new W0e(M_(M_({},t),{},{map:r}));a(i)}},[r]),s}function V0e(t){var{children:r,options:s}=t,a=H0e(s);return a!==null?r(a):null}u.memo(V0e);var I_={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},T_={options(t,r){t.setOptions(r)},position(t,r){t.setPosition(r)},zIndex(t,r){t.setZIndex(r)}};function G0e(t){var{children:r,anchor:s,options:a,position:i,zIndex:o,onCloseClick:l,onDomReady:c,onContentChanged:d,onPositionChanged:f,onZindexChanged:h,onLoad:g,onUnmount:m}=t,p=u.useContext(yr),[x,y]=u.useState(null),[w,b]=u.useState(null),[v,j]=u.useState(null),[N,S]=u.useState(null),[I,E]=u.useState(null),[L,C]=u.useState(null),T=u.useRef(null);return u.useEffect(()=>{x!==null&&(x.close(),s?x.open(p,s):x.getPosition()&&x.open(p))},[p,x,s]),u.useEffect(()=>{a&&x!==null&&x.setOptions(a)},[x,a]),u.useEffect(()=>{i&&x!==null&&x.setPosition(i)},[i]),u.useEffect(()=>{typeof o=="number"&&x!==null&&x.setZIndex(o)},[o]),u.useEffect(()=>{x&&l&&(w!==null&&google.maps.event.removeListener(w),b(google.maps.event.addListener(x,"closeclick",l)))},[l]),u.useEffect(()=>{x&&c&&(v!==null&&google.maps.event.removeListener(v),j(google.maps.event.addListener(x,"domready",c)))},[c]),u.useEffect(()=>{x&&d&&(N!==null&&google.maps.event.removeListener(N),S(google.maps.event.addListener(x,"content_changed",d)))},[d]),u.useEffect(()=>{x&&f&&(I!==null&&google.maps.event.removeListener(I),E(google.maps.event.addListener(x,"position_changed",f)))},[f]),u.useEffect(()=>{x&&h&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(x,"zindex_changed",h)))},[h]),u.useEffect(()=>{var k=new google.maps.InfoWindow(a);return y(k),T.current=document.createElement("div"),l&&b(google.maps.event.addListener(k,"closeclick",l)),c&&j(google.maps.event.addListener(k,"domready",c)),d&&S(google.maps.event.addListener(k,"content_changed",d)),f&&E(google.maps.event.addListener(k,"position_changed",f)),h&&C(google.maps.event.addListener(k,"zindex_changed",h)),k.setContent(T.current),i&&k.setPosition(i),o&&k.setZIndex(o),s?k.open(p,s):k.getPosition()?k.open(p):os(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),g&&g(k),()=>{w&&google.maps.event.removeListener(w),N&&google.maps.event.removeListener(N),v&&google.maps.event.removeListener(v),I&&google.maps.event.removeListener(I),L&&google.maps.event.removeListener(L),m&&m(k),k.close()}},[]),T.current?Ed.createPortal(u.Children.only(r),T.current):null}u.memo(G0e);class q0e extends u.PureComponent{constructor(){super(...arguments),It(this,"registeredEvents",[]),It(this,"containerElement",null),It(this,"state",{infoWindow:null}),It(this,"open",(r,s)=>{s?r.open(this.context,s):r.getPosition()?r.open(this.context):os(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),It(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var r=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Ir({updaterMap:T_,eventMap:I_,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({infoWindow:r}),this.setInfoWindowCallback)}componentDidUpdate(r){this.state.infoWindow!==null&&(Or(this.registeredEvents),this.registeredEvents=Ir({updaterMap:T_,eventMap:I_,prevProps:r,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Or(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Ed.createPortal(u.Children.only(this.props.children),this.containerElement):null}}It(q0e,"contextType",yr);function A_(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,a)}return s}function cb(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?A_(Object(s),!0).forEach(function(a){It(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):A_(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}var __={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},O_={draggable(t,r){t.setDraggable(r)},editable(t,r){t.setEditable(r)},map(t,r){t.setMap(r)},options(t,r){t.setOptions(r)},path(t,r){t.setPath(r)},visible(t,r){t.setVisible(r)}},Y0e={};function J0e(t){var{options:r,draggable:s,editable:a,visible:i,path:o,onDblClick:l,onDragEnd:c,onDragStart:d,onMouseDown:f,onMouseMove:h,onMouseOut:g,onMouseOver:m,onMouseUp:p,onRightClick:x,onClick:y,onDrag:w,onLoad:b,onUnmount:v}=t,j=u.useContext(yr),[N,S]=u.useState(null),[I,E]=u.useState(null),[L,C]=u.useState(null),[T,k]=u.useState(null),[M,_]=u.useState(null),[J,Y]=u.useState(null),[te,K]=u.useState(null),[X,W]=u.useState(null),[F,P]=u.useState(null),[A,B]=u.useState(null),[z,O]=u.useState(null),[U,Z]=u.useState(null);return u.useEffect(()=>{N!==null&&N.setMap(j)},[j]),u.useEffect(()=>{typeof r!="undefined"&&N!==null&&N.setOptions(r)},[N,r]),u.useEffect(()=>{typeof s!="undefined"&&N!==null&&N.setDraggable(s)},[N,s]),u.useEffect(()=>{typeof a!="undefined"&&N!==null&&N.setEditable(a)},[N,a]),u.useEffect(()=>{typeof i!="undefined"&&N!==null&&N.setVisible(i)},[N,i]),u.useEffect(()=>{typeof o!="undefined"&&N!==null&&N.setPath(o)},[N,o]),u.useEffect(()=>{N&&l&&(I!==null&&google.maps.event.removeListener(I),E(google.maps.event.addListener(N,"dblclick",l)))},[l]),u.useEffect(()=>{N&&c&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(N,"dragend",c)))},[c]),u.useEffect(()=>{N&&d&&(T!==null&&google.maps.event.removeListener(T),k(google.maps.event.addListener(N,"dragstart",d)))},[d]),u.useEffect(()=>{N&&f&&(M!==null&&google.maps.event.removeListener(M),_(google.maps.event.addListener(N,"mousedown",f)))},[f]),u.useEffect(()=>{N&&h&&(J!==null&&google.maps.event.removeListener(J),Y(google.maps.event.addListener(N,"mousemove",h)))},[h]),u.useEffect(()=>{N&&g&&(te!==null&&google.maps.event.removeListener(te),K(google.maps.event.addListener(N,"mouseout",g)))},[g]),u.useEffect(()=>{N&&m&&(X!==null&&google.maps.event.removeListener(X),W(google.maps.event.addListener(N,"mouseover",m)))},[m]),u.useEffect(()=>{N&&p&&(F!==null&&google.maps.event.removeListener(F),P(google.maps.event.addListener(N,"mouseup",p)))},[p]),u.useEffect(()=>{N&&x&&(A!==null&&google.maps.event.removeListener(A),B(google.maps.event.addListener(N,"rightclick",x)))},[x]),u.useEffect(()=>{N&&y&&(z!==null&&google.maps.event.removeListener(z),O(google.maps.event.addListener(N,"click",y)))},[y]),u.useEffect(()=>{N&&w&&(U!==null&&google.maps.event.removeListener(U),Z(google.maps.event.addListener(N,"drag",w)))},[w]),u.useEffect(()=>{var se=new google.maps.Polyline(cb(cb({},r||Y0e),{},{map:j}));return o&&se.setPath(o),typeof i!="undefined"&&se.setVisible(i),typeof a!="undefined"&&se.setEditable(a),typeof s!="undefined"&&se.setDraggable(s),l&&E(google.maps.event.addListener(se,"dblclick",l)),c&&C(google.maps.event.addListener(se,"dragend",c)),d&&k(google.maps.event.addListener(se,"dragstart",d)),f&&_(google.maps.event.addListener(se,"mousedown",f)),h&&Y(google.maps.event.addListener(se,"mousemove",h)),g&&K(google.maps.event.addListener(se,"mouseout",g)),m&&W(google.maps.event.addListener(se,"mouseover",m)),p&&P(google.maps.event.addListener(se,"mouseup",p)),x&&B(google.maps.event.addListener(se,"rightclick",x)),y&&O(google.maps.event.addListener(se,"click",y)),w&&Z(google.maps.event.addListener(se,"drag",w)),S(se),b&&b(se),()=>{I!==null&&google.maps.event.removeListener(I),L!==null&&google.maps.event.removeListener(L),T!==null&&google.maps.event.removeListener(T),M!==null&&google.maps.event.removeListener(M),J!==null&&google.maps.event.removeListener(J),te!==null&&google.maps.event.removeListener(te),X!==null&&google.maps.event.removeListener(X),F!==null&&google.maps.event.removeListener(F),A!==null&&google.maps.event.removeListener(A),z!==null&&google.maps.event.removeListener(z),v&&v(se),se.setMap(null)}},[]),null}u.memo(J0e);class Z0e extends u.PureComponent{constructor(){super(...arguments),It(this,"registeredEvents",[]),It(this,"state",{polyline:null}),It(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var r=new google.maps.Polyline(cb(cb({},this.props.options),{},{map:this.context}));this.registeredEvents=Ir({updaterMap:O_,eventMap:__,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{polyline:r}},this.setPolylineCallback)}componentDidUpdate(r){this.state.polyline!==null&&(Or(this.registeredEvents),this.registeredEvents=Ir({updaterMap:O_,eventMap:__,prevProps:r,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Or(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}It(Z0e,"contextType",yr);function $_(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,a)}return s}function P_(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?$_(Object(s),!0).forEach(function(a){It(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):$_(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}var D_={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},R_={draggable(t,r){t.setDraggable(r)},editable(t,r){t.setEditable(r)},map(t,r){t.setMap(r)},options(t,r){t.setOptions(r)},path(t,r){t.setPath(r)},paths(t,r){t.setPaths(r)},visible(t,r){t.setVisible(r)}};function Q0e(t){var{options:r,draggable:s,editable:a,visible:i,path:o,paths:l,onDblClick:c,onDragEnd:d,onDragStart:f,onMouseDown:h,onMouseMove:g,onMouseOut:m,onMouseOver:p,onMouseUp:x,onRightClick:y,onClick:w,onDrag:b,onLoad:v,onUnmount:j,onEdit:N}=t,S=u.useContext(yr),[I,E]=u.useState(null),[L,C]=u.useState(null),[T,k]=u.useState(null),[M,_]=u.useState(null),[J,Y]=u.useState(null),[te,K]=u.useState(null),[X,W]=u.useState(null),[F,P]=u.useState(null),[A,B]=u.useState(null),[z,O]=u.useState(null),[U,Z]=u.useState(null),[se,fe]=u.useState(null);return u.useEffect(()=>{I!==null&&I.setMap(S)},[S]),u.useEffect(()=>{typeof r!="undefined"&&I!==null&&I.setOptions(r)},[I,r]),u.useEffect(()=>{typeof s!="undefined"&&I!==null&&I.setDraggable(s)},[I,s]),u.useEffect(()=>{typeof a!="undefined"&&I!==null&&I.setEditable(a)},[I,a]),u.useEffect(()=>{typeof i!="undefined"&&I!==null&&I.setVisible(i)},[I,i]),u.useEffect(()=>{typeof o!="undefined"&&I!==null&&I.setPath(o)},[I,o]),u.useEffect(()=>{typeof l!="undefined"&&I!==null&&I.setPaths(l)},[I,l]),u.useEffect(()=>{I&&typeof c=="function"&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(I,"dblclick",c)))},[c]),u.useEffect(()=>{I&&(google.maps.event.addListener(I.getPath(),"insert_at",()=>{N==null||N(I)}),google.maps.event.addListener(I.getPath(),"set_at",()=>{N==null||N(I)}),google.maps.event.addListener(I.getPath(),"remove_at",()=>{N==null||N(I)}))},[I,N]),u.useEffect(()=>{I&&typeof d=="function"&&(T!==null&&google.maps.event.removeListener(T),k(google.maps.event.addListener(I,"dragend",d)))},[d]),u.useEffect(()=>{I&&typeof f=="function"&&(M!==null&&google.maps.event.removeListener(M),_(google.maps.event.addListener(I,"dragstart",f)))},[f]),u.useEffect(()=>{I&&typeof h=="function"&&(J!==null&&google.maps.event.removeListener(J),Y(google.maps.event.addListener(I,"mousedown",h)))},[h]),u.useEffect(()=>{I&&typeof g=="function"&&(te!==null&&google.maps.event.removeListener(te),K(google.maps.event.addListener(I,"mousemove",g)))},[g]),u.useEffect(()=>{I&&typeof m=="function"&&(X!==null&&google.maps.event.removeListener(X),W(google.maps.event.addListener(I,"mouseout",m)))},[m]),u.useEffect(()=>{I&&typeof p=="function"&&(F!==null&&google.maps.event.removeListener(F),P(google.maps.event.addListener(I,"mouseover",p)))},[p]),u.useEffect(()=>{I&&typeof x=="function"&&(A!==null&&google.maps.event.removeListener(A),B(google.maps.event.addListener(I,"mouseup",x)))},[x]),u.useEffect(()=>{I&&typeof y=="function"&&(z!==null&&google.maps.event.removeListener(z),O(google.maps.event.addListener(I,"rightclick",y)))},[y]),u.useEffect(()=>{I&&typeof w=="function"&&(U!==null&&google.maps.event.removeListener(U),Z(google.maps.event.addListener(I,"click",w)))},[w]),u.useEffect(()=>{I&&typeof b=="function"&&(se!==null&&google.maps.event.removeListener(se),fe(google.maps.event.addListener(I,"drag",b)))},[b]),u.useEffect(()=>{var le=new google.maps.Polygon(P_(P_({},r),{},{map:S}));return o&&le.setPath(o),l&&le.setPaths(l),typeof i!="undefined"&&le.setVisible(i),typeof a!="undefined"&&le.setEditable(a),typeof s!="undefined"&&le.setDraggable(s),c&&C(google.maps.event.addListener(le,"dblclick",c)),d&&k(google.maps.event.addListener(le,"dragend",d)),f&&_(google.maps.event.addListener(le,"dragstart",f)),h&&Y(google.maps.event.addListener(le,"mousedown",h)),g&&K(google.maps.event.addListener(le,"mousemove",g)),m&&W(google.maps.event.addListener(le,"mouseout",m)),p&&P(google.maps.event.addListener(le,"mouseover",p)),x&&B(google.maps.event.addListener(le,"mouseup",x)),y&&O(google.maps.event.addListener(le,"rightclick",y)),w&&Z(google.maps.event.addListener(le,"click",w)),b&&fe(google.maps.event.addListener(le,"drag",b)),E(le),v&&v(le),()=>{L!==null&&google.maps.event.removeListener(L),T!==null&&google.maps.event.removeListener(T),M!==null&&google.maps.event.removeListener(M),J!==null&&google.maps.event.removeListener(J),te!==null&&google.maps.event.removeListener(te),X!==null&&google.maps.event.removeListener(X),F!==null&&google.maps.event.removeListener(F),A!==null&&google.maps.event.removeListener(A),z!==null&&google.maps.event.removeListener(z),U!==null&&google.maps.event.removeListener(U),j&&j(le),le.setMap(null)}},[]),null}u.memo(Q0e);class K0e extends u.PureComponent{constructor(){super(...arguments),It(this,"registeredEvents",[])}componentDidMount(){var r=this.props.options||{};this.polygon=new google.maps.Polygon(r),this.polygon.setMap(this.context),this.registeredEvents=Ir({updaterMap:R_,eventMap:D_,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(r){this.polygon&&(Or(this.registeredEvents),this.registeredEvents=Ir({updaterMap:R_,eventMap:D_,prevProps:r,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Or(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}It(K0e,"contextType",yr);function F_(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,a)}return s}function db(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?F_(Object(s),!0).forEach(function(a){It(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):F_(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}var B_={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},z_={bounds(t,r){t.setBounds(r)},draggable(t,r){t.setDraggable(r)},editable(t,r){t.setEditable(r)},map(t,r){t.setMap(r)},options(t,r){t.setOptions(r)},visible(t,r){t.setVisible(r)}};function X0e(t){var{options:r,bounds:s,draggable:a,editable:i,visible:o,onDblClick:l,onDragEnd:c,onDragStart:d,onMouseDown:f,onMouseMove:h,onMouseOut:g,onMouseOver:m,onMouseUp:p,onRightClick:x,onClick:y,onDrag:w,onBoundsChanged:b,onLoad:v,onUnmount:j}=t,N=u.useContext(yr),[S,I]=u.useState(null),[E,L]=u.useState(null),[C,T]=u.useState(null),[k,M]=u.useState(null),[_,J]=u.useState(null),[Y,te]=u.useState(null),[K,X]=u.useState(null),[W,F]=u.useState(null),[P,A]=u.useState(null),[B,z]=u.useState(null),[O,U]=u.useState(null),[Z,se]=u.useState(null),[fe,le]=u.useState(null);return u.useEffect(()=>{S!==null&&S.setMap(N)},[N]),u.useEffect(()=>{typeof r!="undefined"&&S!==null&&S.setOptions(r)},[S,r]),u.useEffect(()=>{typeof a!="undefined"&&S!==null&&S.setDraggable(a)},[S,a]),u.useEffect(()=>{typeof i!="undefined"&&S!==null&&S.setEditable(i)},[S,i]),u.useEffect(()=>{typeof o!="undefined"&&S!==null&&S.setVisible(o)},[S,o]),u.useEffect(()=>{typeof s!="undefined"&&S!==null&&S.setBounds(s)},[S,s]),u.useEffect(()=>{S&&l&&(E!==null&&google.maps.event.removeListener(E),L(google.maps.event.addListener(S,"dblclick",l)))},[l]),u.useEffect(()=>{S&&c&&(C!==null&&google.maps.event.removeListener(C),T(google.maps.event.addListener(S,"dragend",c)))},[c]),u.useEffect(()=>{S&&d&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(S,"dragstart",d)))},[d]),u.useEffect(()=>{S&&f&&(_!==null&&google.maps.event.removeListener(_),J(google.maps.event.addListener(S,"mousedown",f)))},[f]),u.useEffect(()=>{S&&h&&(Y!==null&&google.maps.event.removeListener(Y),te(google.maps.event.addListener(S,"mousemove",h)))},[h]),u.useEffect(()=>{S&&g&&(K!==null&&google.maps.event.removeListener(K),X(google.maps.event.addListener(S,"mouseout",g)))},[g]),u.useEffect(()=>{S&&m&&(W!==null&&google.maps.event.removeListener(W),F(google.maps.event.addListener(S,"mouseover",m)))},[m]),u.useEffect(()=>{S&&p&&(P!==null&&google.maps.event.removeListener(P),A(google.maps.event.addListener(S,"mouseup",p)))},[p]),u.useEffect(()=>{S&&x&&(B!==null&&google.maps.event.removeListener(B),z(google.maps.event.addListener(S,"rightclick",x)))},[x]),u.useEffect(()=>{S&&y&&(O!==null&&google.maps.event.removeListener(O),U(google.maps.event.addListener(S,"click",y)))},[y]),u.useEffect(()=>{S&&w&&(Z!==null&&google.maps.event.removeListener(Z),se(google.maps.event.addListener(S,"drag",w)))},[w]),u.useEffect(()=>{S&&b&&(fe!==null&&google.maps.event.removeListener(fe),le(google.maps.event.addListener(S,"bounds_changed",b)))},[b]),u.useEffect(()=>{var Ne=new google.maps.Rectangle(db(db({},r),{},{map:N}));return typeof o!="undefined"&&Ne.setVisible(o),typeof i!="undefined"&&Ne.setEditable(i),typeof a!="undefined"&&Ne.setDraggable(a),typeof s!="undefined"&&Ne.setBounds(s),l&&L(google.maps.event.addListener(Ne,"dblclick",l)),c&&T(google.maps.event.addListener(Ne,"dragend",c)),d&&M(google.maps.event.addListener(Ne,"dragstart",d)),f&&J(google.maps.event.addListener(Ne,"mousedown",f)),h&&te(google.maps.event.addListener(Ne,"mousemove",h)),g&&X(google.maps.event.addListener(Ne,"mouseout",g)),m&&F(google.maps.event.addListener(Ne,"mouseover",m)),p&&A(google.maps.event.addListener(Ne,"mouseup",p)),x&&z(google.maps.event.addListener(Ne,"rightclick",x)),y&&U(google.maps.event.addListener(Ne,"click",y)),w&&se(google.maps.event.addListener(Ne,"drag",w)),b&&le(google.maps.event.addListener(Ne,"bounds_changed",b)),I(Ne),v&&v(Ne),()=>{E!==null&&google.maps.event.removeListener(E),C!==null&&google.maps.event.removeListener(C),k!==null&&google.maps.event.removeListener(k),_!==null&&google.maps.event.removeListener(_),Y!==null&&google.maps.event.removeListener(Y),K!==null&&google.maps.event.removeListener(K),W!==null&&google.maps.event.removeListener(W),P!==null&&google.maps.event.removeListener(P),B!==null&&google.maps.event.removeListener(B),O!==null&&google.maps.event.removeListener(O),Z!==null&&google.maps.event.removeListener(Z),fe!==null&&google.maps.event.removeListener(fe),j&&j(Ne),Ne.setMap(null)}},[]),null}u.memo(X0e);class ehe extends u.PureComponent{constructor(){super(...arguments),It(this,"registeredEvents",[]),It(this,"state",{rectangle:null}),It(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var r=new google.maps.Rectangle(db(db({},this.props.options),{},{map:this.context}));this.registeredEvents=Ir({updaterMap:z_,eventMap:B_,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{rectangle:r}},this.setRectangleCallback)}componentDidUpdate(r){this.state.rectangle!==null&&(Or(this.registeredEvents),this.registeredEvents=Ir({updaterMap:z_,eventMap:B_,prevProps:r,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Or(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}It(ehe,"contextType",yr);function U_(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,a)}return s}function ub(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?U_(Object(s),!0).forEach(function(a){It(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):U_(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}var W_={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},H_={center(t,r){t.setCenter(r)},draggable(t,r){t.setDraggable(r)},editable(t,r){t.setEditable(r)},map(t,r){t.setMap(r)},options(t,r){t.setOptions(r)},radius(t,r){t.setRadius(r)},visible(t,r){t.setVisible(r)}},the={};function rhe(t){var{options:r,center:s,radius:a,draggable:i,editable:o,visible:l,onDblClick:c,onDragEnd:d,onDragStart:f,onMouseDown:h,onMouseMove:g,onMouseOut:m,onMouseOver:p,onMouseUp:x,onRightClick:y,onClick:w,onDrag:b,onCenterChanged:v,onRadiusChanged:j,onLoad:N,onUnmount:S}=t,I=u.useContext(yr),[E,L]=u.useState(null),[C,T]=u.useState(null),[k,M]=u.useState(null),[_,J]=u.useState(null),[Y,te]=u.useState(null),[K,X]=u.useState(null),[W,F]=u.useState(null),[P,A]=u.useState(null),[B,z]=u.useState(null),[O,U]=u.useState(null),[Z,se]=u.useState(null),[fe,le]=u.useState(null),[Ne,Te]=u.useState(null),[ht,Fe]=u.useState(null);return u.useEffect(()=>{E!==null&&E.setMap(I)},[I]),u.useEffect(()=>{typeof r!="undefined"&&E!==null&&E.setOptions(r)},[E,r]),u.useEffect(()=>{typeof i!="undefined"&&E!==null&&E.setDraggable(i)},[E,i]),u.useEffect(()=>{typeof o!="undefined"&&E!==null&&E.setEditable(o)},[E,o]),u.useEffect(()=>{typeof l!="undefined"&&E!==null&&E.setVisible(l)},[E,l]),u.useEffect(()=>{typeof a=="number"&&E!==null&&E.setRadius(a)},[E,a]),u.useEffect(()=>{typeof s!="undefined"&&E!==null&&E.setCenter(s)},[E,s]),u.useEffect(()=>{E&&c&&(C!==null&&google.maps.event.removeListener(C),T(google.maps.event.addListener(E,"dblclick",c)))},[c]),u.useEffect(()=>{E&&d&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(E,"dragend",d)))},[d]),u.useEffect(()=>{E&&f&&(_!==null&&google.maps.event.removeListener(_),J(google.maps.event.addListener(E,"dragstart",f)))},[f]),u.useEffect(()=>{E&&h&&(Y!==null&&google.maps.event.removeListener(Y),te(google.maps.event.addListener(E,"mousedown",h)))},[h]),u.useEffect(()=>{E&&g&&(K!==null&&google.maps.event.removeListener(K),X(google.maps.event.addListener(E,"mousemove",g)))},[g]),u.useEffect(()=>{E&&m&&(W!==null&&google.maps.event.removeListener(W),F(google.maps.event.addListener(E,"mouseout",m)))},[m]),u.useEffect(()=>{E&&p&&(P!==null&&google.maps.event.removeListener(P),A(google.maps.event.addListener(E,"mouseover",p)))},[p]),u.useEffect(()=>{E&&x&&(B!==null&&google.maps.event.removeListener(B),z(google.maps.event.addListener(E,"mouseup",x)))},[x]),u.useEffect(()=>{E&&y&&(O!==null&&google.maps.event.removeListener(O),U(google.maps.event.addListener(E,"rightclick",y)))},[y]),u.useEffect(()=>{E&&w&&(Z!==null&&google.maps.event.removeListener(Z),se(google.maps.event.addListener(E,"click",w)))},[w]),u.useEffect(()=>{E&&b&&(fe!==null&&google.maps.event.removeListener(fe),le(google.maps.event.addListener(E,"drag",b)))},[b]),u.useEffect(()=>{E&&v&&(Ne!==null&&google.maps.event.removeListener(Ne),Te(google.maps.event.addListener(E,"center_changed",v)))},[w]),u.useEffect(()=>{E&&j&&(ht!==null&&google.maps.event.removeListener(ht),Fe(google.maps.event.addListener(E,"radius_changed",j)))},[j]),u.useEffect(()=>{var Ve=new google.maps.Circle(ub(ub({},r||the),{},{map:I}));return typeof a=="number"&&Ve.setRadius(a),typeof s!="undefined"&&Ve.setCenter(s),typeof a=="number"&&Ve.setRadius(a),typeof l!="undefined"&&Ve.setVisible(l),typeof o!="undefined"&&Ve.setEditable(o),typeof i!="undefined"&&Ve.setDraggable(i),c&&T(google.maps.event.addListener(Ve,"dblclick",c)),d&&M(google.maps.event.addListener(Ve,"dragend",d)),f&&J(google.maps.event.addListener(Ve,"dragstart",f)),h&&te(google.maps.event.addListener(Ve,"mousedown",h)),g&&X(google.maps.event.addListener(Ve,"mousemove",g)),m&&F(google.maps.event.addListener(Ve,"mouseout",m)),p&&A(google.maps.event.addListener(Ve,"mouseover",p)),x&&z(google.maps.event.addListener(Ve,"mouseup",x)),y&&U(google.maps.event.addListener(Ve,"rightclick",y)),w&&se(google.maps.event.addListener(Ve,"click",w)),b&&le(google.maps.event.addListener(Ve,"drag",b)),v&&Te(google.maps.event.addListener(Ve,"center_changed",v)),j&&Fe(google.maps.event.addListener(Ve,"radius_changed",j)),L(Ve),N&&N(Ve),()=>{C!==null&&google.maps.event.removeListener(C),k!==null&&google.maps.event.removeListener(k),_!==null&&google.maps.event.removeListener(_),Y!==null&&google.maps.event.removeListener(Y),K!==null&&google.maps.event.removeListener(K),W!==null&&google.maps.event.removeListener(W),P!==null&&google.maps.event.removeListener(P),B!==null&&google.maps.event.removeListener(B),O!==null&&google.maps.event.removeListener(O),Z!==null&&google.maps.event.removeListener(Z),Ne!==null&&google.maps.event.removeListener(Ne),ht!==null&&google.maps.event.removeListener(ht),S&&S(Ve),Ve.setMap(null)}},[]),null}u.memo(rhe);class nhe extends u.PureComponent{constructor(){super(...arguments),It(this,"registeredEvents",[]),It(this,"state",{circle:null}),It(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var r=new google.maps.Circle(ub(ub({},this.props.options),{},{map:this.context}));this.registeredEvents=Ir({updaterMap:H_,eventMap:W_,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{circle:r}},this.setCircleCallback)}componentDidUpdate(r){this.state.circle!==null&&(Or(this.registeredEvents),this.registeredEvents=Ir({updaterMap:H_,eventMap:W_,prevProps:r,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var r;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Or(this.registeredEvents),(r=this.state.circle)===null||r===void 0||r.setMap(null)}}render(){return null}}It(nhe,"contextType",yr);function V_(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,a)}return s}function fb(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?V_(Object(s),!0).forEach(function(a){It(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):V_(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}var G_={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},q_={add(t,r){t.add(r)},addgeojson(t,r,s){t.addGeoJson(r,s)},contains(t,r){t.contains(r)},foreach(t,r){t.forEach(r)},loadgeojson(t,r,s,a){t.loadGeoJson(r,s,a)},overridestyle(t,r,s){t.overrideStyle(r,s)},remove(t,r){t.remove(r)},revertstyle(t,r){t.revertStyle(r)},controlposition(t,r){t.setControlPosition(r)},controls(t,r){t.setControls(r)},drawingmode(t,r){t.setDrawingMode(r)},map(t,r){t.setMap(r)},style(t,r){t.setStyle(r)},togeojson(t,r){t.toGeoJson(r)}};function she(t){var{options:r,onClick:s,onDblClick:a,onMouseDown:i,onMouseMove:o,onMouseOut:l,onMouseOver:c,onMouseUp:d,onRightClick:f,onAddFeature:h,onRemoveFeature:g,onRemoveProperty:m,onSetGeometry:p,onSetProperty:x,onLoad:y,onUnmount:w}=t,b=u.useContext(yr),[v,j]=u.useState(null),[N,S]=u.useState(null),[I,E]=u.useState(null),[L,C]=u.useState(null),[T,k]=u.useState(null),[M,_]=u.useState(null),[J,Y]=u.useState(null),[te,K]=u.useState(null),[X,W]=u.useState(null),[F,P]=u.useState(null),[A,B]=u.useState(null),[z,O]=u.useState(null),[U,Z]=u.useState(null),[se,fe]=u.useState(null);return u.useEffect(()=>{v!==null&&v.setMap(b)},[b]),u.useEffect(()=>{v&&a&&(N!==null&&google.maps.event.removeListener(N),S(google.maps.event.addListener(v,"dblclick",a)))},[a]),u.useEffect(()=>{v&&i&&(I!==null&&google.maps.event.removeListener(I),E(google.maps.event.addListener(v,"mousedown",i)))},[i]),u.useEffect(()=>{v&&o&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(v,"mousemove",o)))},[o]),u.useEffect(()=>{v&&l&&(T!==null&&google.maps.event.removeListener(T),k(google.maps.event.addListener(v,"mouseout",l)))},[l]),u.useEffect(()=>{v&&c&&(M!==null&&google.maps.event.removeListener(M),_(google.maps.event.addListener(v,"mouseover",c)))},[c]),u.useEffect(()=>{v&&d&&(J!==null&&google.maps.event.removeListener(J),Y(google.maps.event.addListener(v,"mouseup",d)))},[d]),u.useEffect(()=>{v&&f&&(te!==null&&google.maps.event.removeListener(te),K(google.maps.event.addListener(v,"rightclick",f)))},[f]),u.useEffect(()=>{v&&s&&(X!==null&&google.maps.event.removeListener(X),W(google.maps.event.addListener(v,"click",s)))},[s]),u.useEffect(()=>{v&&h&&(F!==null&&google.maps.event.removeListener(F),P(google.maps.event.addListener(v,"addfeature",h)))},[h]),u.useEffect(()=>{v&&g&&(A!==null&&google.maps.event.removeListener(A),B(google.maps.event.addListener(v,"removefeature",g)))},[g]),u.useEffect(()=>{v&&m&&(z!==null&&google.maps.event.removeListener(z),O(google.maps.event.addListener(v,"removeproperty",m)))},[m]),u.useEffect(()=>{v&&p&&(U!==null&&google.maps.event.removeListener(U),Z(google.maps.event.addListener(v,"setgeometry",p)))},[p]),u.useEffect(()=>{v&&x&&(se!==null&&google.maps.event.removeListener(se),fe(google.maps.event.addListener(v,"setproperty",x)))},[x]),u.useEffect(()=>{if(b!==null){var le=new google.maps.Data(fb(fb({},r),{},{map:b}));a&&S(google.maps.event.addListener(le,"dblclick",a)),i&&E(google.maps.event.addListener(le,"mousedown",i)),o&&C(google.maps.event.addListener(le,"mousemove",o)),l&&k(google.maps.event.addListener(le,"mouseout",l)),c&&_(google.maps.event.addListener(le,"mouseover",c)),d&&Y(google.maps.event.addListener(le,"mouseup",d)),f&&K(google.maps.event.addListener(le,"rightclick",f)),s&&W(google.maps.event.addListener(le,"click",s)),h&&P(google.maps.event.addListener(le,"addfeature",h)),g&&B(google.maps.event.addListener(le,"removefeature",g)),m&&O(google.maps.event.addListener(le,"removeproperty",m)),p&&Z(google.maps.event.addListener(le,"setgeometry",p)),x&&fe(google.maps.event.addListener(le,"setproperty",x)),j(le),y&&y(le)}return()=>{v&&(N!==null&&google.maps.event.removeListener(N),I!==null&&google.maps.event.removeListener(I),L!==null&&google.maps.event.removeListener(L),T!==null&&google.maps.event.removeListener(T),M!==null&&google.maps.event.removeListener(M),J!==null&&google.maps.event.removeListener(J),te!==null&&google.maps.event.removeListener(te),X!==null&&google.maps.event.removeListener(X),F!==null&&google.maps.event.removeListener(F),A!==null&&google.maps.event.removeListener(A),z!==null&&google.maps.event.removeListener(z),U!==null&&google.maps.event.removeListener(U),se!==null&&google.maps.event.removeListener(se),w&&w(v),v.setMap(null))}},[]),null}u.memo(she);class ahe extends u.PureComponent{constructor(){super(...arguments),It(this,"registeredEvents",[]),It(this,"state",{data:null}),It(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var r=new google.maps.Data(fb(fb({},this.props.options),{},{map:this.context}));this.registeredEvents=Ir({updaterMap:q_,eventMap:G_,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({data:r}),this.setDataCallback)}}componentDidUpdate(r){this.state.data!==null&&(Or(this.registeredEvents),this.registeredEvents=Ir({updaterMap:q_,eventMap:G_,prevProps:r,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Or(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}It(ahe,"contextType",yr);function Y_(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,a)}return s}function J_(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Y_(Object(s),!0).forEach(function(a){It(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Y_(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}var Z_={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},Q_={options(t,r){t.setOptions(r)},url(t,r){t.setUrl(r)},zIndex(t,r){t.setZIndex(r)}};class ihe extends u.PureComponent{constructor(){super(...arguments),It(this,"registeredEvents",[]),It(this,"state",{kmlLayer:null}),It(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var r=new google.maps.KmlLayer(J_(J_({},this.props.options),{},{map:this.context}));this.registeredEvents=Ir({updaterMap:Q_,eventMap:Z_,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{kmlLayer:r}},this.setKmlLayerCallback)}componentDidUpdate(r){this.state.kmlLayer!==null&&(Or(this.registeredEvents),this.registeredEvents=Ir({updaterMap:Q_,eventMap:Z_,prevProps:r,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Or(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}It(ihe,"contextType",yr);function iV(t,r){return typeof r=="function"?r(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function ohe(t,r){return new r(t.lat,t.lng)}function lhe(t,r){return new r(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function che(t,r,s){return t instanceof r?t:s(t,r)}function dhe(t,r,s){return t instanceof r?t:s(t,r)}function uhe(t,r,s){var a=t&&t.fromLatLngToDivPixel(s.getNorthEast()),i=t&&t.fromLatLngToDivPixel(s.getSouthWest());return a&&i?{left:"".concat(i.x+r.x,"px"),top:"".concat(a.y+r.y,"px"),width:"".concat(a.x-i.x-r.x,"px"),height:"".concat(i.y-a.y-r.y,"px")}:{left:"-9999px",top:"-9999px"}}function fhe(t,r,s){var a=t&&t.fromLatLngToDivPixel(s);if(a){var{x:i,y:o}=a;return{left:"".concat(i+r.x,"px"),top:"".concat(o+r.y,"px")}}return{left:"-9999px",top:"-9999px"}}function oV(t,r,s,a){return s!==void 0?uhe(t,r,dhe(s,google.maps.LatLngBounds,lhe)):fhe(t,r,che(a,google.maps.LatLng,ohe))}function hhe(t,r){return t.left===r.left&&t.top===r.top&&t.width===r.height&&t.height===r.height}function K_(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,a)}return s}function ghe(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?K_(Object(s),!0).forEach(function(a){It(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):K_(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function mhe(t,r,s,a,i){class o extends google.maps.OverlayView{constructor(c,d,f,h){super(),this.container=c,this.pane=d,this.position=f,this.bounds=h}onAdd(){var c,d=(c=this.getPanes())===null||c===void 0?void 0:c[this.pane];d==null||d.appendChild(this.container)}draw(){var c=this.getProjection(),d=ghe({},this.container?iV(this.container,i):{x:0,y:0}),f=oV(c,d,this.bounds,this.position);for(var[h,g]of Object.entries(f))this.container.style[h]=g}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new o(t,r,s,a)}function X_(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,a)}return s}function phe(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?X_(Object(s),!0).forEach(function(a){It(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):X_(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function eO(t){if(!t)return"";var r=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return r+""}function tO(t){if(!t)return"";var r=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return r+""}function xhe(t){var{position:r,bounds:s,mapPaneName:a,zIndex:i,onLoad:o,onUnmount:l,getPixelPositionOffset:c,children:d}=t,f=u.useContext(yr),h=u.useMemo(()=>{var m=document.createElement("div");return m.style.position="absolute",m},[]),g=u.useMemo(()=>mhe(h,a,r,s,c),[h,a,r,s]);return u.useEffect(()=>(o==null||o(g),g==null||g.setMap(f),()=>{l==null||l(g),g==null||g.setMap(null)}),[f,g]),u.useEffect(()=>{h.style.zIndex="".concat(i)},[i,h]),Ed.createPortal(d,h)}u.memo(xhe);class Th extends u.PureComponent{constructor(r){super(r),It(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),It(this,"updatePane",()=>{var a=this.props.mapPaneName,i=this.overlayView.getPanes();os(!!a,"OverlayView requires props.mapPaneName but got %s",a),i?this.setState({paneEl:i[a]}):this.setState({paneEl:null})}),It(this,"onAdd",()=>{var a,i;this.updatePane(),(a=(i=this.props).onLoad)===null||a===void 0||a.call(i,this.overlayView)}),It(this,"onPositionElement",()=>{var a=this.overlayView.getProjection(),i=phe({x:0,y:0},this.containerRef.current?iV(this.containerRef.current,this.props.getPixelPositionOffset):{}),o=oV(a,i,this.props.bounds,this.props.position);if(!hhe(o,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var l,c,d,f;this.setState({containerStyle:{top:(l=o.top)!==null&&l!==void 0?l:0,left:(c=o.left)!==null&&c!==void 0?c:0,width:(d=o.width)!==null&&d!==void 0?d:0,height:(f=o.height)!==null&&f!==void 0?f:0,position:"absolute"}})}}),It(this,"draw",()=>{this.onPositionElement()}),It(this,"onRemove",()=>{var a,i;this.setState(()=>({paneEl:null})),(a=(i=this.props).onUnmount)===null||a===void 0||a.call(i,this.overlayView)}),this.containerRef=u.createRef();var s=new google.maps.OverlayView;s.onAdd=this.onAdd,s.draw=this.draw,s.onRemove=this.onRemove,this.overlayView=s}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(r){var s=eO(r.position),a=eO(this.props.position),i=tO(r.bounds),o=tO(this.props.bounds);(s!==a||i!==o)&&this.overlayView.draw(),r.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var r=this.state.paneEl;return r?Ed.createPortal(n.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:u.Children.only(this.props.children)}),r):null}}It(Th,"FLOAT_PANE","floatPane");It(Th,"MAP_PANE","mapPane");It(Th,"MARKER_LAYER","markerLayer");It(Th,"OVERLAY_LAYER","overlayLayer");It(Th,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");It(Th,"contextType",yr);function vhe(){}function rO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,a)}return s}function nO(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?rO(Object(s),!0).forEach(function(a){It(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):rO(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}var sO={onDblClick:"dblclick",onClick:"click"},aO={opacity(t,r){t.setOpacity(r)}};function yhe(t){var{url:r,bounds:s,options:a,visible:i}=t,o=u.useContext(yr),l=new google.maps.LatLngBounds(new google.maps.LatLng(s.south,s.west),new google.maps.LatLng(s.north,s.east)),c=u.useMemo(()=>new google.maps.GroundOverlay(r,l,a),[]);return u.useEffect(()=>{c!==null&&c.setMap(o)},[o]),u.useEffect(()=>{typeof r!="undefined"&&c!==null&&(c.set("url",r),c.setMap(o))},[c,r]),u.useEffect(()=>{typeof i!="undefined"&&c!==null&&c.setOpacity(i?1:0)},[c,i]),u.useEffect(()=>{var d=new google.maps.LatLngBounds(new google.maps.LatLng(s.south,s.west),new google.maps.LatLng(s.north,s.east));typeof s!="undefined"&&c!==null&&(c.set("bounds",d),c.setMap(o))},[c,s]),null}u.memo(yhe);class lV extends u.PureComponent{constructor(){super(...arguments),It(this,"registeredEvents",[]),It(this,"state",{groundOverlay:null}),It(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){os(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var r=new google.maps.GroundOverlay(this.props.url,this.props.bounds,nO(nO({},this.props.options),{},{map:this.context}));this.registeredEvents=Ir({updaterMap:aO,eventMap:sO,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{groundOverlay:r}},this.setGroundOverlayCallback)}componentDidUpdate(r){this.state.groundOverlay!==null&&(Or(this.registeredEvents),this.registeredEvents=Ir({updaterMap:aO,eventMap:sO,prevProps:r,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}It(lV,"defaultProps",{onLoad:vhe});It(lV,"contextType",yr);function iO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,a)}return s}function hb(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?iO(Object(s),!0).forEach(function(a){It(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):iO(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}var oO={},lO={data(t,r){t.setData(r)},map(t,r){t.setMap(r)},options(t,r){t.setOptions(r)}};function bhe(t){var{data:r,onLoad:s,onUnmount:a,options:i}=t,o=u.useContext(yr),[l,c]=u.useState(null);return u.useEffect(()=>{google.maps.visualization||os(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),u.useEffect(()=>{os(!!r,"data property is required in HeatmapLayer %s",r)},[r]),u.useEffect(()=>{l!==null&&l.setMap(o)},[o]),u.useEffect(()=>{i&&l!==null&&l.setOptions(i)},[l,i]),u.useEffect(()=>{var d=new google.maps.visualization.HeatmapLayer(hb(hb({},i),{},{data:r,map:o}));return c(d),s&&s(d),()=>{l!==null&&(a&&a(l),l.setMap(null))}},[]),null}u.memo(bhe);class whe extends u.PureComponent{constructor(){super(...arguments),It(this,"registeredEvents",[]),It(this,"state",{heatmapLayer:null}),It(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){os(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),os(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var r=new google.maps.visualization.HeatmapLayer(hb(hb({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Ir({updaterMap:lO,eventMap:oO,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{heatmapLayer:r}},this.setHeatmapLayerCallback)}componentDidUpdate(r){Or(this.registeredEvents),this.registeredEvents=Ir({updaterMap:lO,eventMap:oO,prevProps:r,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Or(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}It(whe,"contextType",yr);var cO={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},dO={register(t,r,s){t.registerPanoProvider(r,s)},links(t,r){t.setLinks(r)},motionTracking(t,r){t.setMotionTracking(r)},options(t,r){t.setOptions(r)},pano(t,r){t.setPano(r)},position(t,r){t.setPosition(r)},pov(t,r){t.setPov(r)},visible(t,r){t.setVisible(r)},zoom(t,r){t.setZoom(r)}};class jhe extends u.PureComponent{constructor(){super(...arguments),It(this,"registeredEvents",[]),It(this,"state",{streetViewPanorama:null}),It(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var r,s,a=(r=(s=this.context)===null||s===void 0?void 0:s.getStreetView())!==null&&r!==void 0?r:null;this.registeredEvents=Ir({updaterMap:dO,eventMap:cO,prevProps:{},nextProps:this.props,instance:a}),this.setState(()=>({streetViewPanorama:a}),this.setStreetViewPanoramaCallback)}componentDidUpdate(r){this.state.streetViewPanorama!==null&&(Or(this.registeredEvents),this.registeredEvents=Ir({updaterMap:dO,eventMap:cO,prevProps:r,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Or(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}It(jhe,"contextType",yr);class Nhe extends u.PureComponent{constructor(){super(...arguments),It(this,"state",{streetViewService:null}),It(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var r=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:r}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}It(Nhe,"contextType",yr);var uO={onDirectionsChanged:"directions_changed"},fO={directions(t,r){t.setDirections(r)},map(t,r){t.setMap(r)},options(t,r){t.setOptions(r)},panel(t,r){t.setPanel(r)},routeIndex(t,r){t.setRouteIndex(r)}};class She extends u.PureComponent{constructor(){super(...arguments),It(this,"registeredEvents",[]),It(this,"state",{directionsRenderer:null}),It(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var r=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Ir({updaterMap:fO,eventMap:uO,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{directionsRenderer:r}},this.setDirectionsRendererCallback)}componentDidUpdate(r){this.state.directionsRenderer!==null&&(Or(this.registeredEvents),this.registeredEvents=Ir({updaterMap:fO,eventMap:uO,prevProps:r,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Or(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}It(She,"contextType",yr);var hO={onPlacesChanged:"places_changed"},gO={bounds(t,r){t.setBounds(r)}};class Che extends u.PureComponent{constructor(){super(...arguments),It(this,"registeredEvents",[]),It(this,"containerElement",u.createRef()),It(this,"state",{searchBox:null}),It(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(os(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var r=this.containerElement.current.querySelector("input");if(r!==null){var s=new google.maps.places.SearchBox(r,this.props.options);this.registeredEvents=Ir({updaterMap:gO,eventMap:hO,prevProps:{},nextProps:this.props,instance:s}),this.setState(function(){return{searchBox:s}},this.setSearchBoxCallback)}}}componentDidUpdate(r){this.state.searchBox!==null&&(Or(this.registeredEvents),this.registeredEvents=Ir({updaterMap:gO,eventMap:hO,prevProps:r,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Or(this.registeredEvents))}render(){return n.jsx("div",{ref:this.containerElement,children:u.Children.only(this.props.children)})}}It(Che,"contextType",yr);var mO={onPlaceChanged:"place_changed"},pO={bounds(t,r){t.setBounds(r)},restrictions(t,r){t.setComponentRestrictions(r)},fields(t,r){t.setFields(r)},options(t,r){t.setOptions(r)},types(t,r){t.setTypes(r)}};class cV extends u.PureComponent{constructor(){super(...arguments),It(this,"registeredEvents",[]),It(this,"containerElement",u.createRef()),It(this,"state",{autocomplete:null}),It(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var r;os(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var s=(r=this.containerElement.current)===null||r===void 0?void 0:r.querySelector("input");if(s){var a=new google.maps.places.Autocomplete(s,this.props.options);this.registeredEvents=Ir({updaterMap:pO,eventMap:mO,prevProps:{},nextProps:this.props,instance:a}),this.setState(()=>({autocomplete:a}),this.setAutocompleteCallback)}}componentDidUpdate(r){Or(this.registeredEvents),this.registeredEvents=Ir({updaterMap:pO,eventMap:mO,prevProps:r,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Or(this.registeredEvents)}render(){return n.jsx("div",{ref:this.containerElement,className:this.props.className,children:u.Children.only(this.props.children)})}}It(cV,"defaultProps",{className:""});It(cV,"contextType",yr);const Sc={caret:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M7 10l5 5 5-5z"})}),caretUp:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M7 14l5-5 5 5z"})}),search:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"11",cy:"11",r:"8"}),n.jsx("path",{d:"m21 21-4.35-4.35"})]}),clear:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})};function gl({tree:t,selected:r,onChange:s,shown:a=[],from:i}){const[o,l]=u.useState({}),[c,d]=u.useState(""),[f,h]=u.useState(t);u.useEffect(()=>{if(!c.trim()){h(t);return}const P=c.toLowerCase().trim(),A=t.map(B=>{const z=B.name.toLowerCase().includes(P),O=(B.categories||[]).map(U=>{const Z=U.name.toLowerCase().includes(P),se=(U.subcategories||[]).map(fe=>{const le=fe.name.toLowerCase().includes(P),Ne=(fe.subsubs||[]).filter(Te=>Te.name.toLowerCase().includes(P));return le||Ne.length>0?me(ne({},fe),{subsubs:Ne}):null}).filter(Boolean);return Z||se.length>0?me(ne({},U),{subcategories:se}):null}).filter(Boolean);return z||O.length>0?me(ne({},B),{categories:O}):null}).filter(Boolean);if(h(A),c.trim()){const B=ne({},o);A.forEach(z=>{var U;const O=`id-${z.id}`;B[O]=!0,(U=z.categories)==null||U.forEach(Z=>{var fe;const se=`cat-${Z.id}`;B[se]=!0,(fe=Z.subcategories)==null||fe.forEach(le=>{const Ne=`sc-${le.id}`;B[Ne]=!0})})}),l(B)}},[c,t]);const g=(P,A)=>{const B={identityIds:new Set(S(r.identityIds)),categoryIds:new Set(S(r.categoryIds)),subcategoryIds:new Set(S(r.subcategoryIds)),subsubCategoryIds:new Set(S(r.subsubCategoryIds))},z=f.find(U=>U.id===P);if(!z)return;A?(B.identityIds.add(P),(z.categories||[]).forEach(U=>{B.categoryIds.add(U.id),(U.subcategories||[]).forEach(Z=>{B.subcategoryIds.add(Z.id),(Z.subsubs||[]).forEach(se=>{B.subsubCategoryIds.add(se.id)})})})):(z.categories||[]).forEach(U=>{B.categoryIds.delete(U.id),(U.subcategories||[]).forEach(Z=>{B.subcategoryIds.delete(Z.id),(Z.subsubs||[]).forEach(se=>{B.subsubCategoryIds.delete(se.id)})})});const O=E(B);s(O)},m=(P,A,B)=>{var se;const z={identityIds:new Set(S(r.identityIds)),categoryIds:new Set(S(r.categoryIds)),subcategoryIds:new Set(S(r.subcategoryIds)),subsubCategoryIds:new Set(S(r.subsubCategoryIds))},O=f.find(fe=>fe.id===P);if(!O)return;const U=(se=O.categories)==null?void 0:se.find(fe=>fe.id===A);if(!U)return;B?(z.identityIds.add(P),z.categoryIds.add(A),(U.subcategories||[]).forEach(fe=>{z.subcategoryIds.add(fe.id),(fe.subsubs||[]).forEach(le=>{z.subsubCategoryIds.add(le.id)})})):(U.subcategories||[]).forEach(fe=>{z.subcategoryIds.delete(fe.id),(fe.subsubs||[]).forEach(le=>{z.subsubCategoryIds.delete(le.id)})});const Z=E(z);s(Z)},p=(P,A,B,z)=>{var le,Ne;const O={identityIds:new Set(S(r.identityIds)),categoryIds:new Set(S(r.categoryIds)),subcategoryIds:new Set(S(r.subcategoryIds)),subsubCategoryIds:new Set(S(r.subsubCategoryIds))},U=f.find(Te=>Te.id===P);if(!U)return;const Z=(le=U.categories)==null?void 0:le.find(Te=>Te.id===A);if(!Z)return;const se=(Ne=Z.subcategories)==null?void 0:Ne.find(Te=>Te.id===B);if(!se)return;z?(O.identityIds.add(P),O.categoryIds.add(A),O.subcategoryIds.add(B),(se.subsubs||[]).forEach(Te=>{O.subsubCategoryIds.add(Te.id)})):(se.subsubs||[]).forEach(Te=>{O.subsubCategoryIds.delete(Te.id)});const fe=E(O);s(fe)},x=P=>{var z;const A=f.find(O=>O.id===P);if(!A||!((z=A.categories)!=null&&z.length))return!1;const B=S(r.categoryIds);return A.categories.every(O=>B.has(O.id))},y=(P,A)=>{var U,Z;const B=f.find(se=>se.id===P);if(!B)return!1;const z=(U=B.categories)==null?void 0:U.find(se=>se.id===A);if(!z||!((Z=z.subcategories)!=null&&Z.length))return!1;const O=S(r.subcategoryIds);return z.subcategories.every(se=>O.has(se.id))},w=(P,A,B)=>{var se,fe,le;const z=f.find(Ne=>Ne.id===P);if(!z)return!1;const O=(se=z.categories)==null?void 0:se.find(Ne=>Ne.id===A);if(!O)return!1;const U=(fe=O.subcategories)==null?void 0:fe.find(Ne=>Ne.id===B);if(!U||!((le=U.subsubs)!=null&&le.length))return!1;const Z=S(r.subsubCategoryIds);return U.subsubs.every(Ne=>Z.has(Ne.id))},b=P=>{var O;const A=f.find(U=>U.id===P);if(!A||!((O=A.categories)!=null&&O.length))return!1;const B=S(r.categoryIds),z=A.categories.filter(U=>B.has(U.id)).length;return z>0&&z<A.categories.length},v=(P,A)=>{var Z,se;const B=f.find(fe=>fe.id===P);if(!B)return!1;const z=(Z=B.categories)==null?void 0:Z.find(fe=>fe.id===A);if(!z||!((se=z.subcategories)!=null&&se.length))return!1;const O=S(r.subcategoryIds),U=z.subcategories.filter(fe=>O.has(fe.id)).length;return U>0&&U<z.subcategories.length},j=(P,A,B)=>{var fe,le,Ne;const z=f.find(Te=>Te.id===P);if(!z)return!1;const O=(fe=z.categories)==null?void 0:fe.find(Te=>Te.id===A);if(!O)return!1;const U=(le=O.subcategories)==null?void 0:le.find(Te=>Te.id===B);if(!U||!((Ne=U.subsubs)!=null&&Ne.length))return!1;const Z=S(r.subsubCategoryIds),se=U.subsubs.filter(Te=>Z.has(Te.id)).length;return se>0&&se<U.subsubs.length},N=P=>P.stopPropagation(),S=P=>P instanceof Set?P:new Set(P||[]),I=(P,A)=>S(r==null?void 0:r[P]).has(A),E=P=>{const A={identityIds:new Set(S(P.identityIds)),categoryIds:new Set(S(P.categoryIds)),subcategoryIds:new Set(S(P.subcategoryIds)),subsubCategoryIds:new Set(S(P.subsubCategoryIds))},B=new Map,z=new Map;f.forEach(O=>{(O.categories||[]).forEach(U=>{B.has(U.id)||B.set(U.id,new Set),(U.subcategories||[]).forEach(Z=>{B.get(U.id).add(Z.id),z.has(Z.id)||z.set(Z.id,new Set),(Z.subsubs||[]).forEach(se=>{z.get(Z.id).add(se.id)})})})});for(const O of A.subcategoryIds){const U=new Set;for(const[se,fe]of B)fe.has(O)&&U.add(se);if(!Array.from(U).some(se=>A.categoryIds.has(se))){A.subcategoryIds.delete(O);const se=z.get(O);if(se)for(const fe of se)A.subsubCategoryIds.delete(fe)}}for(const O of A.subsubCategoryIds){const U=new Set;for(const[se,fe]of z)fe.has(O)&&U.add(se);Array.from(U).some(se=>A.subcategoryIds.has(se))||A.subsubCategoryIds.delete(O)}return A},L=()=>{const P=E({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set});s(P)},C=()=>{l({})},T=(P,A,B)=>{const z={identityIds:new Set(S(r.identityIds)),categoryIds:new Set(S(r.categoryIds)),subcategoryIds:new Set(S(r.subcategoryIds)),subsubCategoryIds:new Set(S(r.subsubCategoryIds))},O=z[P];if(B?O.add(A):O.delete(A),!B){const Z=f.find(se=>se.id===A);Z&&Z.categories&&Z.categories.forEach(se=>{z.categoryIds.delete(se.id),se.subcategories&&se.subcategories.forEach(fe=>{z.subcategoryIds.delete(fe.id),fe.subsubs&&fe.subsubs.forEach(le=>{z.subsubCategoryIds.delete(le.id)})})})}const U=E(z);s(U)},k=(P,A)=>{const z=`id-${P.id}`,O=`cat-${A.id}`;l(U=>{const Z=!U[O],se=ne({},U);return se[z]=!0,(P.categories||[]).forEach(fe=>{delete se[`cat-${fe.id}`],(fe.subcategories||[]).forEach(le=>{delete se[`sc-${le.id}`]})}),Z&&(se[O]=!0),se})},M=(P,A)=>{const B=`sc-${A.id}`;l(z=>{const O=!z[B],U=ne({},z);return(P.subcategories||[]).forEach(Z=>delete U[`sc-${Z.id}`]),O&&(U[B]=!0),U})},_=(P,A)=>B=>{const z=B.target.checked,O={identityIds:new Set(S(r.identityIds)),categoryIds:new Set(S(r.categoryIds)),subcategoryIds:new Set(S(r.subcategoryIds)),subsubCategoryIds:new Set(S(r.subsubCategoryIds))};z?(O.identityIds.add(P),O.categoryIds.add(A.id)):(O.categoryIds.delete(A.id),(A.subcategories||[]).forEach(Z=>{O.subcategoryIds.delete(Z.id),(Z.subsubs||[]).forEach(se=>O.subsubCategoryIds.delete(se.id))}));const U=E(O);s(U)},J=(P,A,B)=>z=>{const O=z.target.checked,U={identityIds:new Set(S(r.identityIds)),categoryIds:new Set(S(r.categoryIds)),subcategoryIds:new Set(S(r.subcategoryIds)),subsubCategoryIds:new Set(S(r.subsubCategoryIds))};O?(U.identityIds.add(P),U.categoryIds.add(A),U.subcategoryIds.add(B.id)):(U.subcategoryIds.delete(B.id),(B.subsubs||[]).forEach(se=>U.subsubCategoryIds.delete(se.id)));const Z=E(U);s(Z)},Y=(P,A,B,z)=>O=>{const U=O.target.checked,Z={identityIds:new Set(S(r.identityIds)),categoryIds:new Set(S(r.categoryIds)),subcategoryIds:new Set(S(r.subcategoryIds)),subsubCategoryIds:new Set(S(r.subsubCategoryIds))};U?(Z.identityIds.add(P),Z.categoryIds.add(A),Z.subcategoryIds.add(B),Z.subsubCategoryIds.add(z.id)):Z.subsubCategoryIds.delete(z.id);const se=E(Z);s(se)},te=P=>{const A=S(r.categoryIds);let B=0;return(P.categories||[]).forEach(z=>{A.has(z.id)&&(B+=1)}),B},K=P=>{const A=S(r.subcategoryIds);let B=0;return(P.subcategories||[]).forEach(z=>{A.has(z.id)&&(B+=1)}),B},X=P=>{const A=S(r.subsubCategoryIds);let B=0;return(P.subsubs||[]).forEach(z=>{A.has(z.id)&&(B+=1)}),B},W=({count:P})=>P>0?n.jsx("span",{className:"ml-2 inline-flex items-center rounded-full border border-gray-200 bg-brand-50 px-1.5 py-0.5 text-[10px] leading-none text-brand-600",children:P}):null;u.useEffect(()=>{if(!(a!=null&&a.length))return;const P={};f.forEach(B=>{const O=`id-${B.id}`;P[O]=!0}),l(P),s({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set})},[a,f,i]);const F=()=>{d("")};return n.jsxs("div",{className:"rounded-xl border border-gray-200",children:[n.jsxs("div",{className:"p-3 border-b bg-white",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Sc.search,{})}),n.jsx("input",{type:"text",placeholder:"Search identities, categories, subcategories...",value:c,onChange:P=>d(P.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none"}),c&&n.jsx("button",{onClick:F,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:n.jsx(Sc.clear,{})})]}),c&&n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Showing ",f.length," result",f.length!==1?"s":"",' for "',c,'"']})]}),!(a!=null&&a.length)&&n.jsx("div",{className:"flex justify-between items-center p-2 border-b bg-white",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{type:"button",onClick:C,className:"text-xs px-2 py-1 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Close All"}),n.jsx("button",{type:"button",onClick:L,className:"text-xs px-2 py-1 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Clear"})]})}),f.map(P=>{const A=P.id,B=`id-${A}`,z=!!o[B],O=(P.categories||[]).length>0,U=te(P);return n.jsxs("div",{className:`border-b last:border-b-0 ${a.length&&!a.some(Z=>Z.toLowerCase()===P.name.toLowerCase()||P.name.toLowerCase()===Z.toLowerCase())?"hidden":""}`,children:[n.jsx("div",{role:O?"button":void 0,tabIndex:O?0:-1,onClick:O?()=>l(Z=>me(ne({},Z),{[B]:!Z[B]})):void 0,className:`w-full flex items-center justify-between px-3 py-2 ${O?"hover:bg-gray-50 cursor-pointer":""}`,children:n.jsxs("div",{className:`flex items-center ${z?"bg-brand-50":""}  gap-2 flex-1 min-w-0 px-5 rounded-full py-1.5 border border-gray-200`,children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600 shrink-0",checked:I("identityIds",A),onChange:Z=>T("identityIds",A,Z.target.checked),onClick:N}),n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[n.jsx("span",{title:P.name,className:"font-medium text-brand-600 truncate min-w-0",children:P.name}),n.jsx(W,{count:U})]}),O&&n.jsx("span",{className:"text-gray-500",children:z?n.jsx(Sc.caretUp,{}):n.jsx(Sc.caret,{})})]})}),n.jsx("div",{className:`${a.length?"":"px-4"}`,children:z&&O&&n.jsxs("div",{className:"bg-slate-50/80 px-4 py-3 space-y-3",children:[P.categories&&P.categories.length>0&&n.jsx("div",{className:"flex justify-between items-center px-3 py-2 bg-slate-200 rounded-lg",children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:x(A),ref:Z=>{Z&&(Z.indeterminate=b(A))},onChange:Z=>g(A,Z.target.checked)}),n.jsx("span",{className:"text-sm font-medium text-slate-800",children:x(A)?"Deselect All Categories":"Select All Categories"})]})}),(P.categories||[]).map(Z=>{const se=`cat-${Z.id}`,fe=!!o[se],le=(Z.subcategories||[]).length>0,Ne=K(Z);return n.jsxs("div",{className:"rounded-lg border border-slate-200",children:[n.jsxs("div",{className:`flex items-center justify-between px-3 py-2 bg-slate-100 ${le?"cursor-pointer hover:bg-slate-100/80":""}`,onClick:le?()=>k(P,Z):void 0,children:[n.jsxs("label",{className:"flex items-center gap-2 w-full flex-1",onClick:N,children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:I("categoryIds",Z.id),onChange:_(A,Z)}),n.jsxs("span",{className:"text-sm font-medium text-slate-800 w-full flex items-center",children:[Z.name,n.jsx(W,{count:Ne})]})]}),le&&n.jsx("button",{type:"button",onClick:Te=>{Te.stopPropagation(),k(P,Z)},className:"text-slate-600 hover:text-slate-800","aria-label":fe?"Collapse":"Expand",children:fe?n.jsx(Sc.caretUp,{}):n.jsx(Sc.caret,{})})]}),fe&&le&&n.jsxs("div",{className:"px-3 py-2 space-y-2 bg-sky-50 border-l-2 border-sky-200",children:[Z.subcategories&&Z.subcategories.length>0&&n.jsx("div",{className:"flex justify-between items-center px-3 py-2 bg-sky-100 rounded-md",children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:y(A,Z.id),ref:Te=>{Te&&(Te.indeterminate=v(A,Z.id))},onChange:Te=>m(A,Z.id,Te.target.checked)}),n.jsx("span",{className:"text-sm font-medium text-sky-900",children:y(A,Z.id)?"Deselect All Subcategories":"Select All Subcategories"})]})}),(Z.subcategories||[]).map(Te=>{const ht=`sc-${Te.id}`,Fe=!!o[ht],Ve=(Te.subsubs||[]).length>0,ut=X(Te);return n.jsxs("div",{className:"border border-slate-200 rounded-md overflow-hidden",children:[n.jsxs("div",{className:`flex items-center justify-between px-3 py-2 bg-brand-50 ${Ve?"cursor-pointer":""}`,onClick:Ve?()=>M(Z,Te):void 0,children:[n.jsxs("label",{className:"flex items-center gap-2",onClick:N,children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:I("subcategoryIds",Te.id),onChange:J(A,Z.id,Te)}),n.jsxs("span",{className:"text-sm font-medium text-sky-900 flex items-center",children:[Te.name,n.jsx(W,{count:ut})]})]}),Ve&&n.jsx("button",{type:"button",onClick:Je=>{Je.stopPropagation(),M(Z,Te)},className:"text-sky-700 hover:text-sky-900","aria-label":Fe?"Collapse":"Expand",children:Fe?n.jsx(Sc.caretUp,{}):n.jsx(Sc.caret,{})})]}),Fe&&Ve&&n.jsxs("div",{className:"px-3 py-2 bg-[#f0f9ff] border-l-2 border-sky-200 grid gap-2",children:[Te.subsubs&&Te.subsubs.length>0&&n.jsx("div",{className:"flex justify-between items-center px-3 py-2 bg-indigo-100 rounded-sm",children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:w(A,Z.id,Te.id),ref:Je=>{Je&&(Je.indeterminate=j(A,Z.id,Te.id))},onChange:Je=>p(A,Z.id,Te.id,Je.target.checked)}),n.jsx("span",{className:"text-xs font-medium text-indigo-900",children:w(A,Z.id,Te.id)?"Deselect All Subsubcategories":"Select All Subsubcategories"})]})}),Te.subsubs.map(Je=>n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:I("subsubCategoryIds",Je.id),onChange:Y(A,Z.id,Te.id,Je)}),n.jsx("span",{className:"text-xs text-indigo-950/90",children:Je.name})]},Je.id))]})]},ht)})]})]},se)})]})})]},B)}),f.length===0&&c&&n.jsxs("div",{className:"p-4 text-center text-gray-500",children:['No results found for "',c,'"']})]})}const xO={caret:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M7 10l5 5 5-5z"})}),caretUp:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M7 14l5-5 5 5z"})})};function Dn({label:t,value:r="",onChange:s,options:a=[],className:i="",column:o,hide:l,_hide:c,collapsible:d=!0,maxVisible:f=3}){const h=r?r.split(","):[],g=a.length>0&&h.length===a.length,[m,p]=u.useState(g),[x,y]=u.useState(!0);u.useEffect(()=>{if(a.length===0){p(!1);return}h.length===a.length?p(!0):p(!1)},[h,a]);const w=(E,L)=>{let C=[...h];L?C.includes(E)||C.push(E):C=C.filter(T=>T!==E),s(C.length>0?C.join(","):"")},b=E=>{p(E),s(E?a.join(","):"")},v=h.length,j=({count:E})=>E>0?n.jsx("span",{className:"ml-2 inline-flex items-center rounded-full border border-gray-200 bg-brand-50 px-1.5 py-0.5 text-[10px] leading-none text-brand-600",children:E}):null,N=d&&a.length>0,S=x?a:[],I=x?0:a.length;return n.jsxs("div",{className:`mt-3 ${i} ${l?"hidden":""}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:m,onChange:E=>b(E.target.checked),className:"h-4 w-4 accent-brand-600 hidden"}),n.jsx("label",{className:"text-xs text-gray-500 block",children:t}),n.jsx(j,{count:v})]}),N&&n.jsx("button",{type:"button",onClick:()=>y(!x),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1",children:x?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Collapse"}),n.jsx(xO.caretUp,{})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Expand"}),n.jsx(xO.caret,{})]})})]}),n.jsx("div",{className:`mt-1 rounded-xl border border-gray-200 bg-white ${x?"p-3":"p-1"}`,children:S.length>0?n.jsx("div",{className:`grid grid-cols-${o||1} gap-2`,children:S.map(E=>{const L=h.includes(E);return n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:L,onChange:C=>w(E,C.target.checked),className:"h-4 w-4 accent-brand-600"}),E]},E)})}):n.jsxs("div",{className:"text-xs text-gray-400 text-center py-2",children:[I," options hidden"]})})]})}function khe({value:t,onChange:r,options:s=["Junior","Mid","Senior","Lead","Director","C-level"],label:a="Experience Level",placeholder:i="Any"}){const o=u.useRef(null),[l,c]=u.useState(!1),[d,f]=u.useState(""),h=u.useMemo(()=>(t||"").split(",").map(x=>x.trim()).filter(Boolean),[t]),g=x=>{const y=new Set(h);y.has(x)?y.delete(x):y.add(x);const w=Array.from(y);r==null||r(w.length?w.join(","):"")},m=u.useMemo(()=>h.length?h.length<=2?h.join(", "):`${h.length} selected`:i,[h,i]),p=u.useMemo(()=>d?s.filter(x=>x.toLowerCase().includes(d.toLowerCase())):s,[s,d]);return u.useEffect(()=>{const x=w=>{o.current&&(o.current.contains(w.target)||c(!1))},y=w=>{w.key==="Escape"&&c(!1)};return l&&(document.addEventListener("mousedown",x),document.addEventListener("keydown",y)),()=>{document.removeEventListener("mousedown",x),document.removeEventListener("keydown",y)}},[l]),n.jsxs("div",{className:"mt-4 relative",ref:o,children:[n.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:a}),n.jsxs("button",{type:"button",onClick:()=>c(x=>!x),"aria-haspopup":"listbox","aria-expanded":l,className:"w-full flex items-center justify-between rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm",children:[n.jsx("span",{className:"truncate",children:m}),n.jsx("svg",{className:`h-4 w-4 transition-transform ${l?"rotate-180":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M6 9l6 6 6-6"})})]}),l&&n.jsxs("div",{role:"listbox",tabIndex:-1,className:"absolute z-50 mt-1 w-full bg-white border border-gray-200 rounded-xl shadow-lg max-h-64 overflow-auto",children:[n.jsx("div",{className:"sticky top-0 z-10 bg-white p-2 border-b border-gray-100",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:d,onChange:x=>f(x.target.value),placeholder:"Search...",className:"w-full border border-gray-200 rounded-lg px-2 py-1 text-sm pr-6",autoFocus:!0}),d&&n.jsx("button",{type:"button",onClick:()=>f(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"×"})]})}),p.length>0?p.map(x=>{const y=h.includes(x);return n.jsxs("label",{className:"flex items-center gap-2 px-2 py-2 rounded-lg hover:bg-gray-50 text-sm cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:y,onChange:()=>g(x)}),n.jsx("span",{children:x})]},x)}):n.jsx("div",{className:"px-2 py-3 text-sm text-gray-400",children:"No results found"}),n.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-2 px-2 py-2 border-t border-gray-100",children:[n.jsx("button",{type:"button",onClick:()=>{r==null||r(""),c(!1)},className:"text-xs px-2 py-1 rounded-lg border border-gray-200 hover:bg-gray-50",children:"Clear"}),n.jsx("button",{type:"button",onClick:()=>c(!1),className:"text-xs px-2 py-1 rounded-lg bg-gray-900 text-white hover:bg-black",children:"Done"})]})]})]})}const Ehe=["places"];function Xl({setShowTotalCount:t,catComponent:r,selectedFilters:s=[],setSelectedFilters:a,showAudienceFilters:i,from:o,isFromCompany:l,query:c,setQuery:d,country:f,setCountry:h,city:g,setCity:m,categoryId:p,setCategoryId:x,subcategoryId:y,setSubcategoryId:w,setRole:b,setGoalId:v,categories:j=[],goals:N=[],goalId:S,role:I,generalTree:E=[],onSubcategoryChange:L,price:C,setPrice:T,serviceType:k,setServiceType:M,priceType:_,setPriceType:J,deliveryTime:Y,setDeliveryTime:te,postType:K,setPostType:X,season:W,setSeason:F,budgetRange:P,setBudgetRange:A,fundingGoal:B,setFundingGoal:z,amountRaised:O,setAmountRaised:U,currency:Z,setCurrency:se,deadline:fe,setDeadline:le,experienceLevel:Ne,setExperienceLevel:Te,locationType:ht,setLocationType:Fe,jobType:Ve,setJobType:ut,workMode:Je,setWorkMode:G,workLocation:ae,setWorkLocation:Me,workSchedule:he,setWorkSchedule:ye,careerLevel:oe,setCareerLevel:ie,paymentType:q,setPaymentType:Se,eventType:$e,setEventType:rt,date:nt,setDate:Ue,registrationType:xt,setRegistrationType:Oe,jobsView:Ee,setJobsView:ee,eventsView:de,setEventsView:ue,productsView:_e,setProductsView:Xe,servicesView:gt,setServicesView:wt,tourismView:vt,setTourismView:ct,fundingView:Ze,setFundingView:dt,audienceTree:yt=[],audienceSelections:Ie={identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set},setAudienceSelections:ze=()=>{},selectedIndustries:qe=[],setSelectedIndustries:it,viewOnlyConnections:Ae,setViewOnlyConnections:Ge}){const Ye=Cr(),{user:Et}=Xt(),[Ot,ft]=u.useState({}),[D,Q]=u.useState(!0),[H,V]=u.useState({}),[re,ge]=u.useState([]),[We,ot]=u.useState(!0);u.useEffect(()=>{ve(this,null,function*(){try{const Tt=yield fetch("/data/cities.json");if(!Tt.ok)throw new Error("Failed to fetch cities");const Ft=yield Tt.json();ge(Ft)}catch(Tt){console.error("Error fetching cities:",Tt)}finally{ot(!1)}})},[]);const[Ce,pe]=u.useState([]),[je,we]=u.useState(""),[Re,He]=u.useState(!1),et=u.useRef(null),pt=u.useRef(null),{isLoaded:be}=e0e({googleMapsApiKey:"AIzaSyAF9zZKiLS2Ep98eFCX-jA871QAJxG5des",libraries:Ehe});u.useEffect(()=>{if(!be||!pt.current)return;const Be=new window.google.maps.places.Autocomplete(pt.current,{types:["(cities)"]});Be.addListener("place_changed",()=>{var cr,Nr;const Tt=Be.getPlace(),Ft=(cr=Tt.address_components.find(va=>va.types.includes("locality")))==null?void 0:cr.long_name,rr=(Nr=Tt.address_components.find(va=>va.types.includes("country")))==null?void 0:Nr.long_name;m(Ft),h(rr),St(`${Ft||""}${rr?", "+rr:""}`)})},[be,m,h]);const De=Be=>{const Tt=Be.target.value;St(Tt);const Ft=Tt.split(",").map(rr=>rr.trim());m(Ft[0]||void 0),h(Ft[1]||Ft[0]||void 0)},st=u.useRef(null),[Ke,mt]=u.useState(g||""),[tt,ke]=u.useState(!1),[lt,St]=u.useState("");u.useEffect(()=>{g!==Ke&&mt(g||"")},[g]),u.useEffect(()=>{ve(this,null,function*(){var Tt;try{const Ft=yield Le.get("/industry-categories/tree");pe(Array.isArray((Tt=Ft.data)==null?void 0:Tt.industryCategories)?Ft.data.industryCategories:[])}catch(Ft){console.error("Failed to fetch industries:",Ft),pe([])}})},[]),u.useEffect(()=>{const Be=Ft=>{st.current&&(st.current.contains(Ft.target)||(ke(!1),mt("")))},Tt=Ft=>{Ft.key==="Escape"&&(ke(!1),mt(""))};return tt&&(document.addEventListener("mousedown",Be),document.addEventListener("keydown",Tt)),()=>{document.removeEventListener("mousedown",Be),document.removeEventListener("keydown",Tt)}},[tt]),u.useEffect(()=>{const Be=Ft=>{et.current&&(et.current.contains(Ft.target)||(He(!1),we("")))},Tt=Ft=>{Ft.key==="Escape"&&(He(!1),we(""))};return Re&&(document.addEventListener("mousedown",Be),document.addEventListener("keydown",Tt)),()=>{document.removeEventListener("mousedown",Be),document.removeEventListener("keydown",Tt)}},[Re]);const Mt=u.useMemo(()=>g?String(g).split(",").map(Be=>Be.trim()).filter(Boolean):[],[g]),Ht=u.useMemo(()=>f?String(f).split(",").map(Be=>Be.trim().toLowerCase()).filter(Boolean):[],[f]),mr=Be=>{const Tt=new Set(Mt);Tt.has(Be)?Tt.delete(Be):Tt.add(Be);const Ft=Array.from(Tt);m(Ft.length?Ft.join(", "):void 0),mt("")},Rt=Be=>{const Tt=new Set(qe);Tt.has(Be)?Tt.delete(Be):Tt.add(Be);const Ft=Array.from(Tt);it==null||it(Ft),we(""),pe(rr=>[...rr])},er=u.useMemo(()=>Mt.length?Mt.length<=2?Mt.join(", "):`${Mt.length} cities selected`:"All cities",[Mt]),tr=u.useMemo(()=>{let Be=re;if(Ht.length>0){const Tt=new Set(Ht);Be=Be.filter(Ft=>Tt.has(Ft.country.toLowerCase()))}if(Ke){const Tt=Ke.toLowerCase();Be=Be.filter(Ft=>{var rr,cr;return Ft.city.toLowerCase().includes(Tt)||((cr=(rr=Ft.city_ascii)==null?void 0:rr.toLowerCase())==null?void 0:cr.includes(Tt))})}return Be.slice(0,30)},[re,Ht,Ke]),Nt=u.useMemo(()=>qe.length?qe.length<=2?qe.map(Tt=>{var Ft;return(Ft=Ce.find(rr=>rr.id===Tt))==null?void 0:Ft.name}).filter(Boolean).join(", "):`${qe.length} industries selected`:"All industries",[qe,Ce]),Kt=u.useMemo(()=>{let Be=Ce;if(je){const Tt=je.toLowerCase();Be=Be.filter(Ft=>Ft.name.toLowerCase().includes(Tt))}return Be.slice(0,30)},[Ce,je]),jr=u.useMemo(()=>{const Be=s.length,Tt=Object.values(Ot).filter(Boolean).length;return Be+Tt},[s,Ot]),dr=({count:Be})=>Be>0?n.jsx("span",{className:"ml-2 inline-flex items-center rounded-full border border-gray-200 bg-brand-50 px-1.5 py-0.5 text-[10px] leading-none text-brand-600",children:Be}):null,en=Be=>Be.subcategories?Be.subcategories.filter(Tt=>Ot[Tt.id]).length:0,qr=Be=>{V(Tt=>me(ne({},Tt),{[Be]:!Tt[Be]}))},ur=j.find(Be=>String(Be.id)===String(p)),pa=(ur==null?void 0:ur.subcategories)||[],xa=["Entrepreneur","Seller","Buyer","Job Seeker","Professional","Partnership","Investor","Event Organizer","Government Official","Traveler","NGO","Support Role","Freelancer","Student"],Yr=o==="service"||o==="services",Ns=o==="tourism",cs=o==="funding",Pa=o==="people",Zn=u.useMemo(()=>{var Be,Tt,Ft,rr;return!!(c&&c.trim()||f||g||p||y||I||o==="events"&&($e||nt||xt||de)||o==="products"&&_e||Yr&&gt||Ns&&vt||cs&&Ze||S||s.length>0||Mt.length>0||qe.length>0||o==="products"&&C!==void 0&&C!==""&&C!==null||o==="jobs"&&(Ne||Ve||Je||ae||he||oe||q||Ee)||Yr&&(k||_||Y||Ne||ht)||Ns&&(K||W||P)||cs&&(B||O||Z||fe)||Pa&&(Ne||Ae)||Pa&&(Ne||Ae)||o==="events"&&($e||nt||xt)||Ie&&(((Be=Ie.identityIds)==null?void 0:Be.size)>0||((Tt=Ie.categoryIds)==null?void 0:Tt.size)>0||((Ft=Ie.subcategoryIds)==null?void 0:Ft.size)>0||((rr=Ie.subsubCategoryIds)==null?void 0:rr.size)>0))},[de,_e,gt,vt,Ze,c,f,g,p,y,I,S,s,Mt,qe,C,o,Ve,Je,ae,he,oe,q,Ee,Ne,ht,Yr,k,_,Y,Ns,K,W,P,cs,B,O,Z,fe,Pa,Ae,$e,nt,xt,Ie]);u.useEffect(()=>{t(Zn)},[Zn,t]);const Vo=()=>{d(""),h(void 0),m(void 0),x(void 0),w(void 0),b==null||b(void 0),v==null||v(void 0),mt(""),St(""),Ge==null||Ge(!1),a==null||a([]),ft({}),ke(!1),T==null||T(""),M==null||M(""),J==null||J(""),te==null||te(""),Te==null||Te(""),Fe==null||Fe(""),ut==null||ut(""),G==null||G(""),Me==null||Me(""),ye==null||ye(""),ie==null||ie(""),Se==null||Se(""),ee==null||ee(""),X==null||X(""),F==null||F(""),A==null||A(""),z==null||z(""),U==null||U(""),se==null||se(""),le==null||le(""),rt==null||rt(""),Ue==null||Ue(""),Oe==null||Oe(""),ze==null||ze({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),it==null||it([]),we(""),He(!1)};return u.useEffect(()=>{Vo();const Be=s.length?document.querySelector("#secundary-filters"):document.querySelector("#filters")},[Ye.updateData]),u.useEffect(()=>{!Ye.filtersToClear||Ye.filtersToClear.length===0||(Ye.filtersToClear.forEach(Be=>{switch(Be){case"Search":d("");break;case"Country":h(void 0),mt(""),St("");break;case"City":m(void 0),mt("");break;case"Category":x(void 0);break;case"Subcategory":w(void 0);break;case"Role":b==null||b(void 0);break;case"Goal":v==null||v(void 0);break;case"Price":T==null||T("");break;case"Experience Level":Te==null||Te("");break;case"Job Type":ut==null||ut("");break;case"Work Mode":G==null||G("");break;case"View Only my connections":Ge==null||Ge(!1);break;case"Work Location":Me==null||Me("");break;case"Work Schedule":ye==null||ye("");break;case"Career Level":ie==null||ie("");break;case"Payment Type":Se==null||Se("");break;case"Service Type":M==null||M("");break;case"Price Type":J==null||J("");break;case"Typical Delivery":te==null||te("");break;case"Location Type":Fe==null||Fe("");break;case"Post Type":X==null||X("");break;case"Best Season to Visit":F==null||F("");break;case"Budget Range":A==null||A("");break;case"Funding Goal":z==null||z("");break;case"Amount Raised":U==null||U("");break;case"Currency":se==null||se("");break;case"Deadline":le==null||le("");break;case"Event Type":rt==null||rt("");break;case"Date":Ue==null||Ue("");break;case"Registration Type":Oe==null||Oe("");break;case"Audience Interests":ze==null||ze({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set});break;case"Industries":it==null||it([]);break}}),Ye.setFiltersToClear([]))},[Ye.filtersToClear]),n.jsxs("div",{id:"filters",className:"rounded-2xl bg-white border border-gray-100 shadow-sm p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold flex items-center gap-2",children:"Filters"}),n.jsx("button",{type:"button",onClick:Vo,disabled:!Zn,className:`inline-flex items-center rounded-lg border px-2.5 py-1.5 text-xs font-medium transition ${Zn?"border-gray-200 text-gray-700 hover:bg-gray-50":"border-gray-100 text-gray-400 cursor-not-allowed"}`,"aria-disabled":!Zn,title:"Reset all filters",children:"Reset"})]}),n.jsxs("div",{className:"mt-3 hidden",children:[n.jsx("label",{className:"text-xs text-gray-500",children:"City / Country"}),be?n.jsx("input",{ref:pt,value:lt,onChange:De,placeholder:"Type city or country",className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm"}):n.jsx("input",{disabled:!0,placeholder:"Loading...",className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm"})]}),n.jsx("div",{id:"secundary-filters"}),n.jsxs("div",{className:"mt-3 hidden",children:[n.jsx("label",{className:"text-xs text-gray-500",children:"Category"}),n.jsxs("select",{className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm",value:p||"",onChange:Be=>{const Tt=Be.target.value||"";x(Tt||void 0),w(void 0)},children:[n.jsx("option",{value:"",children:"All categories"}),j.map(Be=>n.jsx("option",{value:Be.id,children:Be.name},Be.id))]})]}),n.jsxs("div",{className:"mt-3 hidden",children:[n.jsx("label",{className:"text-xs text-gray-500",children:"Subcategory"}),n.jsxs("select",{className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm",value:y||"",onChange:Be=>w(Be.target.value||void 0),disabled:!p,children:[n.jsx("option",{value:"",children:"All subcategories"}),pa.map(Be=>n.jsx("option",{value:Be.id,children:Be.name},Be.id))]})]}),n.jsx("div",{children:r}),Array.isArray(yt)&&yt.length>0&&s.length>0&&i&&n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:"Audience Interests"}),n.jsx(gl,{tree:yt,shown:s,from:o,selected:Ie||{identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set},onChange:ze})]}),Yr&&n.jsxs(n.Fragment,{children:[n.jsx(Dn,{hide:!s.includes("Service Type"),value:k||"",onChange:M,options:["Consulting","Freelance Work","Product/Service"],label:"Service Type"}),n.jsx(Dn,{hide:!s.includes("Price Type"),value:_||"",onChange:J,options:["Fixed Price","Hourly"],label:"Price Type"}),n.jsx(Dn,{hide:!s.includes("Typical Delivery"),value:Y||"",onChange:te,options:["1 Day","3 Days","1 Week","2 Weeks","1 Month"],label:"Typical Delivery"}),n.jsx(Dn,{hide:!s.includes("Location Type"),value:ht||"",onChange:Fe,options:["Remote","On-site"],label:"Location Type"}),n.jsx(Dn,{hide:!s.includes("Experience Level"),value:Ne||"",onChange:Te,options:["Entry Level","Intermediate","Expert"],label:"Experience Level",placeholder:"Any"})]}),Ns&&n.jsxs(n.Fragment,{children:[n.jsx(Dn,{hide:!s.includes("Post Type"),value:K||"",onChange:X,options:["Destination","Experience","Culture"],label:"Post Type"}),n.jsx(Dn,{hide:!s.includes("Best Season to Visit"),value:W||"",onChange:F,options:["Summer","Winter","All Year","Rainy Season","Dry Season"],label:"Best Season to Visit"}),n.jsx(Dn,{hide:!s.includes("Budget Range"),value:P||"",onChange:A,options:["$100 - $500","$500 - $2000","$2000+"],label:"Budget Range"})]}),Pa&&n.jsx(n.Fragment,{children:Et&&n.jsx("div",{className:"mt-4",children:n.jsx("div",{className:`rounded-xl border p-4 transition-all duration-200 cursor-pointer ${Ae?"border-brand-500 bg-brand-50":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>Ge==null?void 0:Ge(!Ae),children:n.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("div",{className:`relative w-5 h-5 rounded flex-shrink-0 border-2 transition-all ${Ae?"bg-brand-500 border-brand-500":"bg-white border-gray-400"}`,children:Ae&&n.jsx("svg",{className:"absolute inset-0 m-auto w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),n.jsxs("div",{children:[n.jsx("span",{className:`font-medium ${Ae?"text-brand-700":"text-gray-800"}`,children:"View my connections"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Only show  ",l?"companies":"people"," you're connected with"]})]})]})})})}),o==="events"&&n.jsxs(n.Fragment,{children:[n.jsx(Dn,{hide:!s.includes("Event Type"),value:$e||"",onChange:rt,options:["Workshop","Conference","Networking"],label:"Event Type"}),n.jsxs("div",{className:"mt-3 hidden",children:[n.jsx("label",{className:"text-xs text-gray-500",children:"Date"}),n.jsx("input",{type:"date",value:nt||"",onChange:Be=>Ue==null?void 0:Ue(Be.target.value),className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),n.jsx(Dn,{hide:!s.includes("Registration Type"),value:xt||"",onChange:Oe,options:["Free","Paid"],label:"Registration Type"}),E&&E.length>0&&s.some(Be=>E.some(Tt=>Tt.id===Be))&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-xs text-gray-500 block",children:"Categories"}),n.jsx(dr,{count:jr})]}),n.jsx("button",{type:"button",onClick:()=>Q(!D),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1",children:D?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Collapse"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Expand"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),D&&n.jsx("div",{className:"space-y-3",children:E.map(Be=>s.includes(Be.id)&&n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:s.includes(Be.id),onChange:Tt=>{var Ft;if(Tt.target.checked)a&&!s.includes(Be.id)&&a([...s,Be.id]);else if(a){a(s.filter(cr=>cr!==Be.id)),Ye.setFiltersToClear([Be.name]);const rr=ne({},Ot);(Ft=Be.subcategories)==null||Ft.forEach(cr=>{const Nr=cr.id;delete rr[Nr]}),ft(rr),L&&L(rr)}},className:"h-4 w-4 accent-brand-600"}),n.jsx("label",{className:"text-xs text-gray-500 block",children:Be.name}),n.jsx(dr,{count:en(Be)})]}),Be.subcategories&&Be.subcategories.length>0&&n.jsx("button",{type:"button",onClick:()=>qr(Be.id),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1 p-1",children:H[Be.id]!==!1?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Collapse"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Expand"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),s.includes(Be.id)&&Be.subcategories&&Be.subcategories.length>0&&H[Be.id]!==!1&&n.jsx("div",{className:"mt-1 rounded-xl border border-gray-200 bg-white p-3",children:n.jsx("div",{className:"grid grid-cols-1 gap-2",children:Be.subcategories.map(Tt=>{const Ft=Tt.id,rr=Ot[Ft]||!1;return n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:rr,onChange:cr=>{const Nr=me(ne({},Ot),{[Ft]:cr.target.checked});ft(Nr),L&&L(Nr)}}),Tt.name]},Tt.id)})})})]},Be.id))})]})]}),o==="jobs"&&n.jsx(n.Fragment,{children:E&&E.length>0&&s.some(Be=>E.some(Tt=>Tt.id===Be))&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-xs text-gray-500 block",children:"Categories"}),n.jsx(dr,{count:jr})]}),n.jsx("button",{type:"button",onClick:()=>Q(!D),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1",children:D?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Collapse"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Expand"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),D&&n.jsx("div",{className:"space-y-3",children:E.map(Be=>s.includes(Be.id)&&n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:s.includes(Be.id),onChange:Tt=>{var Ft;if(Tt.target.checked)a&&!s.includes(Be.id)&&a([...s,Be.id]);else if(a){a(s.filter(cr=>cr!==Be.id)),Ye.setFiltersToClear([Be.name]);const rr=ne({},Ot);(Ft=Be.subcategories)==null||Ft.forEach(cr=>{const Nr=cr.id;delete rr[Nr]}),ft(rr),L&&L(rr)}},className:"h-4 w-4 accent-brand-600"}),n.jsx("label",{className:"text-xs text-gray-500 block",children:Be.name}),n.jsx(dr,{count:en(Be)})]}),Be.subcategories&&Be.subcategories.length>0&&n.jsx("button",{type:"button",onClick:()=>qr(Be.id),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1 p-1",children:H[Be.id]!==!1?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Collapse"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Expand"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),s.includes(Be.id)&&Be.subcategories&&Be.subcategories.length>0&&H[Be.id]!==!1&&n.jsx("div",{className:"mt-1 rounded-xl border border-gray-200 bg-white p-3",children:n.jsx("div",{className:"grid grid-cols-1 gap-2",children:Be.subcategories.map(Tt=>{const Ft=Tt.id,rr=Ot[Ft]||!1;return n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:rr,onChange:cr=>{const Nr=me(ne({},Ot),{[Ft]:cr.target.checked});ft(Nr),L&&L(Nr)}}),Tt.name]},Tt.id)})})})]},Be.id))})]})}),o==="products"&&n.jsx(n.Fragment,{children:E&&E.length>0&&s.some(Be=>E.some(Tt=>Tt.id===Be))&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-xs text-gray-500 block",children:"Categories"}),n.jsx(dr,{count:jr})]}),n.jsx("button",{type:"button",onClick:()=>Q(!D),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1",children:D?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Collapse"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Expand"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),D&&n.jsx("div",{className:"space-y-3",children:E.map(Be=>s.includes(Be.id)&&n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:s.includes(Be.id),onChange:Tt=>{var Ft;if(Tt.target.checked)a&&!s.includes(Be.id)&&a([...s,Be.id]);else if(a){a(s.filter(cr=>cr!==Be.id)),Ye.setFiltersToClear([Be.name]);const rr=ne({},Ot);(Ft=Be.subcategories)==null||Ft.forEach(cr=>{const Nr=cr.id;delete rr[Nr]}),ft(rr),L&&L(rr)}},className:"h-4 w-4 accent-brand-600"}),n.jsx("label",{className:"text-xs text-gray-500 block",children:Be.name}),n.jsx(dr,{count:en(Be)})]}),Be.subcategories&&Be.subcategories.length>0&&n.jsx("button",{type:"button",onClick:()=>qr(Be.id),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1 p-1",children:H[Be.id]!==!1?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Collapse"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Expand"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),s.includes(Be.id)&&Be.subcategories&&Be.subcategories.length>0&&H[Be.id]!==!1&&n.jsx("div",{className:"mt-1 rounded-xl border border-gray-200 bg-white p-3",children:n.jsx("div",{className:"grid grid-cols-1 gap-2",children:Be.subcategories.map(Tt=>{const Ft=Tt.id,rr=Ot[Ft]||!1;return n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:rr,onChange:cr=>{const Nr=me(ne({},Ot),{[Ft]:cr.target.checked});ft(Nr),L&&L(Nr)}}),Tt.name]},Tt.id)})})})]},Be.id))})]})}),Yr&&n.jsx(n.Fragment,{children:E&&E.length>0&&s.some(Be=>E.some(Tt=>Tt.id===Be))&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-xs text-gray-500 block",children:"Categories"}),n.jsx(dr,{count:jr})]}),n.jsx("button",{type:"button",onClick:()=>Q(!D),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1",children:D?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Collapse"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Expand"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),D&&n.jsx("div",{className:"space-y-3",children:E.map(Be=>s.includes(Be.id)&&n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:s.includes(Be.id),onChange:Tt=>{var Ft;if(Tt.target.checked)a&&!s.includes(Be.id)&&a([...s,Be.id]);else if(a){a(s.filter(cr=>cr!==Be.id)),Ye.setFiltersToClear([Be.name]);const rr=ne({},Ot);(Ft=Be.subcategories)==null||Ft.forEach(cr=>{const Nr=cr.id;delete rr[Nr]}),ft(rr),L&&L(rr)}},className:"h-4 w-4 accent-brand-600"}),n.jsx("label",{className:"text-xs text-gray-500 block",children:Be.name}),n.jsx(dr,{count:en(Be)})]}),Be.subcategories&&Be.subcategories.length>0&&n.jsx("button",{type:"button",onClick:()=>qr(Be.id),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1 p-1",children:H[Be.id]!==!1?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Collapse"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Expand"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),s.includes(Be.id)&&Be.subcategories&&Be.subcategories.length>0&&H[Be.id]!==!1&&n.jsx("div",{className:"mt-1 rounded-xl border border-gray-200 bg-white p-3",children:n.jsx("div",{className:"grid grid-cols-1 gap-2",children:Be.subcategories.map(Tt=>{const Ft=Tt.id,rr=Ot[Ft]||!1;return n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:rr,onChange:cr=>{const Nr=me(ne({},Ot),{[Ft]:cr.target.checked});ft(Nr),L&&L(Nr)}}),Tt.name]},Tt.id)})})})]},Be.id))})]})}),Ns&&n.jsx(n.Fragment,{children:E&&E.length>0&&s.some(Be=>E.some(Tt=>Tt.id===Be))&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-xs text-gray-500 block",children:"Categories"}),n.jsx(dr,{count:jr})]}),n.jsx("button",{type:"button",onClick:()=>Q(!D),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1",children:D?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Collapse"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Expand"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),D&&n.jsx("div",{className:"space-y-3",children:E.map(Be=>s.includes(Be.id)&&n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:s.includes(Be.id),onChange:Tt=>{var Ft;if(Tt.target.checked)a&&!s.includes(Be.id)&&a([...s,Be.id]);else if(a){a(s.filter(cr=>cr!==Be.id)),Ye.setFiltersToClear([Be.name]);const rr=ne({},Ot);(Ft=Be.subcategories)==null||Ft.forEach(cr=>{const Nr=cr.id;delete rr[Nr]}),ft(rr),L&&L(rr)}},className:"h-4 w-4 accent-brand-600"}),n.jsx("label",{className:"text-xs text-gray-500 block",children:Be.name}),n.jsx(dr,{count:en(Be)})]}),Be.subcategories&&Be.subcategories.length>0&&n.jsx("button",{type:"button",onClick:()=>qr(Be.id),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1 p-1",children:H[Be.id]!==!1?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Collapse"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Expand"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),s.includes(Be.id)&&Be.subcategories&&Be.subcategories.length>0&&H[Be.id]!==!1&&n.jsx("div",{className:"mt-1 rounded-xl border border-gray-200 bg-white p-3",children:n.jsx("div",{className:"grid grid-cols-1 gap-2",children:Be.subcategories.map(Tt=>{const Ft=Tt.id,rr=Ot[Ft]||!1;return n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:rr,onChange:cr=>{const Nr=me(ne({},Ot),{[Ft]:cr.target.checked});ft(Nr),L&&L(Nr)}}),Tt.name]},Tt.id)})})})]},Be.id))})]})}),cs&&n.jsx(n.Fragment,{children:E&&E.length>0&&s.some(Be=>E.some(Tt=>Tt.id===Be))&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-xs text-gray-500 block",children:"Categories"}),n.jsx(dr,{count:jr})]}),n.jsx("button",{type:"button",onClick:()=>Q(!D),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1",children:D?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Collapse"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Expand"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),D&&n.jsx("div",{className:"space-y-3",children:E.map(Be=>s.includes(Be.id)&&n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:s.includes(Be.id),onChange:Tt=>{var Ft;if(Tt.target.checked)a&&!s.includes(Be.id)&&a([...s,Be.id]);else if(a){a(s.filter(cr=>cr!==Be.id)),Ye.setFiltersToClear([Be.name]);const rr=ne({},Ot);(Ft=Be.subcategories)==null||Ft.forEach(cr=>{const Nr=cr.id;delete rr[Nr]}),ft(rr),L&&L(rr)}},className:"h-4 w-4 accent-brand-600"}),n.jsx("label",{className:"text-xs text-gray-500 block",children:Be.name}),n.jsx(dr,{count:en(Be)})]}),Be.subcategories&&Be.subcategories.length>0&&n.jsx("button",{type:"button",onClick:()=>qr(Be.id),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1 p-1",children:H[Be.id]!==!1?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Collapse"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Expand"}),n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),s.includes(Be.id)&&Be.subcategories&&Be.subcategories.length>0&&H[Be.id]!==!1&&n.jsx("div",{className:"mt-1 rounded-xl border border-gray-200 bg-white p-3",children:n.jsx("div",{className:"grid grid-cols-1 gap-2",children:Be.subcategories.map(Tt=>{const Ft=Tt.id,rr=Ot[Ft]||!1;return n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:rr,onChange:cr=>{const Nr=me(ne({},Ot),{[Ft]:cr.target.checked});ft(Nr),L&&L(Nr)}}),Tt.name]},Tt.id)})})})]},Be.id))})]})}),cs&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"text-xs text-gray-500",children:"Funding Goal"}),n.jsx("input",{type:"number",min:"0",value:B!=null?B:"",onChange:Be=>z==null?void 0:z(Be.target.value.replace(/[^\d\-\(\)]/g,"")),placeholder:"e.g., 50000",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"text-xs text-gray-500",children:"Amount Raised"}),n.jsx("input",{type:"number",min:"0",value:O!=null?O:"",onChange:Be=>U==null?void 0:U(Be.target.value.replace(/[^\d\-\(\)]/g,"")),placeholder:"e.g., 25000",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"text-xs text-gray-500",children:"Deadline"}),n.jsx("input",{type:"date",value:fe||"",onChange:Be=>le==null?void 0:le(Be.target.value),className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]})]}),o==="products"&&n.jsxs("div",{className:"mt-3 hidden",children:[n.jsx("label",{className:"text-xs text-gray-500",children:"Price"}),n.jsx("input",{type:"range",min:"0",max:"1000",step:"0.01",value:C!=null?C:0,onChange:Be=>T==null?void 0:T(Be.target.value),className:"mt-1 w-full cursor-pointer"}),n.jsx("div",{className:"text-sm text-gray-700 mt-1",children:C!=null?C:"0.00"})]}),o==="events"&&n.jsx(Dn,{hide:o!=="events",value:de||"",onChange:ue,options:["Events","Event Experiences","Event Seekers"],label:"View",placeholder:"Select"}),o==="products"&&n.jsx(Dn,{hide:o!=="products",value:_e||"",onChange:Xe,options:["Products","Product Reviews","Product Seekers"],label:"View",placeholder:"Select"}),Yr&&n.jsx(Dn,{hide:!Yr,value:gt||"",onChange:wt,options:["Service Offers","Service Requests","Service Experiences"],label:"View",placeholder:"Select"}),Ns&&n.jsx(Dn,{hide:!Ns,value:vt||"",onChange:ct,options:["Travel Experiences","Destination Seekers"],label:"View",placeholder:"Select"}),cs&&n.jsx(Dn,{hide:!cs,value:Ze||"",onChange:dt,options:["Funding Opportunities","Fund Seekers"],label:"View",placeholder:"Select"}),o==="jobs"&&n.jsxs(n.Fragment,{children:[n.jsx(Dn,{hide:o!=="jobs",value:Ee||"",onChange:ee,options:["Job Seekers","Job Offers","Job Experiences"],label:"View",placeholder:"Select"}),n.jsx(Dn,{hide:o!="jobs",value:Ve||"",onChange:ut,options:["Full-time","Part-time","Contract","Internship","Temporary"],label:"Job Type"}),n.jsx(Dn,{value:ae||"",onChange:Me,options:["Office","Field","Home","Client Site"],label:"Work Location"}),n.jsx(Dn,{value:he||"",onChange:ye,options:["Regular Hours","Flexible Hours","Shifts","Weekends","Overtime","On-Call"],label:"Work Schedule"}),n.jsx(Dn,{value:oe||"",onChange:ie,options:["Entry Level","Mid Level","Senior Level","Executive","Volunteer / Community Work"],label:"Career Level"}),n.jsx(Dn,{value:q||"",onChange:Se,options:["Hourly Jobs","Salaried Jobs","Commission-Based","Stipend-Based","Equity / Profit-Sharing Roles"],label:"Payment Type"})]}),n.jsx("div",{className:"mt-3",children:n.jsx(khe,{value:f,onChange:Be=>{h(Be)},options:An,label:"Country",placeholder:"All"})}),n.jsxs("div",{className:"mt-3 relative",ref:st,children:[n.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:"City"}),n.jsxs("button",{type:"button",onClick:()=>ke(Be=>!Be),"aria-haspopup":"listbox","aria-expanded":tt,className:"w-full flex items-center justify-between rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm",children:[n.jsx("span",{className:"truncate",children:er}),n.jsx("svg",{className:`h-4 w-4 transition-transform ${tt?"rotate-180":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M6 9l6 6 6-6"})})]}),tt&&n.jsxs("div",{role:"listbox",tabIndex:-1,className:"absolute z-[100] mt-1 w-full bg-white border border-gray-200 rounded-xl shadow-lg max-h-64 overflow-auto",children:[n.jsx("div",{className:"sticky top-0 z-10 bg-white p-2 border-b border-gray-100",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:Ke,onChange:Be=>mt(Be.target.value),placeholder:"Search cities...",className:"w-full border border-gray-200 rounded-lg px-2 py-1 text-sm pr-6",autoFocus:!0}),Ke&&n.jsx("button",{type:"button",onClick:()=>mt(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"×"})]})}),tr.length>0?tr.map(Be=>{const Tt=Mt.includes(Be.city);return n.jsxs("label",{className:"flex items-center gap-2 px-2 py-2 rounded-lg hover:bg-gray-50 text-sm cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:Tt,onChange:()=>mr(Be.city)}),n.jsxs("span",{children:[Be.city,", ",Be.country]})]},Be.id)}):n.jsx("div",{className:"px-2 py-3 text-sm text-gray-400",children:"No cities found"}),n.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-2 px-2 py-2 border-t border-gray-100",children:[n.jsx("button",{type:"button",onClick:()=>{m(void 0),mt(""),ke(!1)},className:"text-xs px-2 py-1 rounded-lg border border-gray-200 hover:bg-gray-50",children:"Clear"}),n.jsx("button",{type:"button",onClick:()=>ke(!1),className:"text-xs px-2 py-1 rounded-lg bg-gray-900 text-white hover:bg-black",children:"Done"})]})]})]}),n.jsxs("div",{className:"mt-3 relative",ref:et,children:[n.jsx("label",{className:"text-xs text-gray-500 mb-2 block",children:"Industries"}),n.jsxs("button",{type:"button",onClick:()=>He(Be=>!Be),"aria-haspopup":"listbox","aria-expanded":Re,className:"w-full flex items-center justify-between rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm",children:[n.jsx("span",{className:"truncate",children:Nt}),n.jsx("svg",{className:`h-4 w-4 transition-transform ${Re?"rotate-180":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M6 9l6 6 6-6"})})]}),Re&&n.jsxs("div",{role:"listbox",tabIndex:-1,className:"absolute z-[100] mt-1 w-full bg-white border border-gray-200 rounded-xl shadow-lg max-h-64 overflow-auto",children:[n.jsx("div",{className:"sticky top-0 z-10 bg-white p-2 border-b border-gray-100",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:je,onChange:Be=>we(Be.target.value),placeholder:"Search industries...",className:"w-full border border-gray-200 rounded-lg px-2 py-1 text-sm pr-6",autoFocus:!0}),je&&n.jsx("button",{type:"button",onClick:()=>we(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"×"})]})}),Kt.length>0?Kt.map(Be=>{const Tt=qe.includes(Be.id);return n.jsxs("label",{className:"flex items-center gap-2 px-2 py-2 rounded-lg hover:bg-gray-50 text-sm cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-brand-600",checked:Tt,onChange:()=>Rt(Be.id)}),n.jsx("span",{children:Be.name})]},`${Be.id}-${Tt}`)}):n.jsx("div",{className:"px-2 py-3 text-sm text-gray-400",children:"No industries found"}),n.jsxs("div",{className:"sticky bottom-0 bg-white flex items-center justify-between gap-2 px-2 py-2 border-t border-gray-100",children:[n.jsx("button",{type:"button",onClick:()=>{it==null||it([]),we(""),He(!1)},className:"text-xs px-2 py-1 rounded-lg border border-gray-200 hover:bg-gray-50",children:"Clear"}),n.jsx("button",{type:"button",onClick:()=>He(!1),className:"text-xs px-2 py-1 rounded-lg bg-gray-900 text-white hover:bg-black",children:"Done"})]})]})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"text-xs text-gray-500",children:"Search"}),n.jsxs("div",{className:"mt-1 flex items-center gap-2 rounded-xl border border-gray-200 px-3 py-2",children:[n.jsx(Ws.search,{}),n.jsx("input",{className:"w-full text-sm outline-none",placeholder:"Title, keywords…",value:c,onChange:Be=>d(Be.target.value)})]})]}),n.jsxs("div",{className:"mt-3 hidden",children:[n.jsx("label",{className:"text-xs text-gray-500",children:"Goal"}),n.jsxs("select",{className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm",value:S||"",onChange:Be=>v(Be.target.value||void 0),children:[n.jsx("option",{value:"",children:"All goals"}),N.map(Be=>n.jsx("option",{value:Be.id,children:Be.name},Be.id))]})]}),n.jsxs("div",{className:"mt-3 hidden",children:[n.jsx("label",{className:"text-xs text-gray-500",children:"Role"}),n.jsxs("select",{className:"mt-1 w-full rounded-xl border border-gray-200 px-3 py-2 text-sm",value:I||"",onChange:Be=>b(Be.target.value||void 0),children:[n.jsx("option",{value:"",children:"All roles"}),xa.map(Be=>n.jsx("option",{value:Be,children:Be},Be))]})]})]})}function Id(a){var i=a,{isOpen:t,onClose:r}=i,s=wc(i,["isOpen","onClose"]);return t?n.jsxs("div",{className:"fixed inset-0 z-[60]",children:[n.jsx("button",{className:"absolute inset-0 bg-black/40 backdrop-blur-[1px]",onClick:r,"aria-label":"Close filters"}),n.jsxs("div",{className:"absolute inset-x-0 bottom-0 max-h-[80vh] overflow-auto rounded-t-2xl bg-white p-4 shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between pb-2 border-b",children:[n.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[n.jsx(Ws.filter,{})," Filters"]}),n.jsx("button",{onClick:r,className:"grid h-8 w-8 place-items-center rounded-lg border border-gray-200","aria-label":"Close",children:n.jsx(Ws.close,{})})]}),n.jsx("div",{className:"pt-3",children:n.jsx(Xl,ne({},s))})]})]}):null}function Lhe({isOpen:t,onClose:r,onTypeSelect:s,postTypes:a}){const[i,o]=u.useState(!1);if(!t)return null;const l=i?a:a==null?void 0:a.slice(0,4),c=(a==null?void 0:a.length)>4,d=(l==null?void 0:l.length)+(c&&!i?1:0),f=()=>d<=2?"grid-cols-2 max-w-md mx-auto":d===3?"grid-cols-3 max-w-2xl mx-auto":"grid-cols-2 sm:grid-cols-4";return n.jsx("div",{className:"fixed z-[99] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white z-[99] w-full max-w-2xl mx-4 h-[80vh] rounded-2xl shadow-xl flex flex-col overflow-hidden relative",children:[n.jsxs("div",{className:"bg-brand-500 p-4 flex justify-between items-center flex-shrink-0",children:[n.jsx("div",{className:"text-white font-medium",children:"Create Your Post"}),n.jsx("button",{onClick:r,className:"text-white hover:text-brand-100",children:n.jsx(Lr,{size:20})})]}),n.jsxs("div",{className:"flex-1 p-6 overflow-y-auto flex flex-col",children:[n.jsxs("div",{className:"text-center mb-8 mt-5",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"What would you like to share?"}),n.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Select an option below to get started."})]}),n.jsx("div",{className:"flex-1"}),n.jsxs("div",{className:`grid ${f()} gap-4`,children:[l==null?void 0:l.map((h,g)=>n.jsxs("button",{onClick:()=>s(h),className:"flex flex-col items-center gap-3 p-4 rounded-xl border-2 border-gray-100 hover:border-brand-200 hover:bg-brand-50 transition-all duration-200 text-center group hover:shadow-md",children:[h.Icon&&n.jsx("div",{className:"p-3 rounded-lg bg-brand-100 group-hover:bg-brand-200 transition-colors",children:n.jsx(h.Icon,{className:"w-6 h-6 text-brand-600 group-hover:text-brand-700"})}),n.jsx("span",{className:"font-medium text-gray-900 text-sm leading-tight",children:h.label})]},g)),c&&!i&&n.jsxs("button",{onClick:()=>o(!0),className:"flex flex-col items-center gap-3 p-4 rounded-xl border-2 border-gray-100 hover:border-brand-200 hover:bg-brand-50 transition-all duration-200 text-center group hover:shadow-md",children:[n.jsx("div",{className:"p-3 rounded-lg bg-gray-100 group-hover:bg-brand-200 transition-colors",children:n.jsx(dd,{className:"w-6 h-6 text-gray-600 group-hover:text-brand-700"})}),n.jsx("span",{className:"font-medium text-gray-900 text-sm leading-tight",children:"More"})]}),c&&i&&n.jsxs("button",{onClick:()=>o(!1),className:"flex flex-col items-center gap-3 p-4 rounded-xl border-2 border-gray-100 hover:border-brand-200 hover:bg-brand-50 transition-all duration-200 text-center group hover:shadow-md",children:[n.jsx("div",{className:"p-3 rounded-lg bg-gray-100 group-hover:bg-brand-200 transition-colors",children:n.jsx(A0,{className:"w-6 h-6 text-gray-600 group-hover:text-brand-700"})}),n.jsx("span",{className:"font-medium text-gray-900 text-sm leading-tight",children:"Show Less"})]})]})]}),n.jsx("div",{className:"p-4 border-t border-gray-200 flex-shrink-0",children:n.jsx("button",{onClick:r,className:"w-full px-4 py-3 text-base font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors",children:"Cancel"})})]})})}const Mhe="modulepreload",Ihe=function(t){return"/"+t},vO={},ec=function(r,s,a){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(s.map(c=>{if(c=Ihe(c),c in vO)return;vO[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Mhe,d||(h.as="script",h.crossOrigin=""),h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((g,m)=>{h.addEventListener("load",g),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}return i.then(()=>r()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},The=u.lazy(()=>ec(()=>Promise.resolve().then(()=>Xke),void 0)),Ahe=u.lazy(()=>ec(()=>Promise.resolve().then(()=>h5e),void 0)),_he=u.lazy(()=>ec(()=>Promise.resolve().then(()=>m5e),void 0)),Ohe=u.lazy(()=>ec(()=>Promise.resolve().then(()=>MEe),void 0)),$he=u.lazy(()=>ec(()=>Promise.resolve().then(()=>UEe),void 0)),Phe=u.lazy(()=>ec(()=>Promise.resolve().then(()=>OEe),void 0)),Dhe=u.lazy(()=>ec(()=>Promise.resolve().then(()=>zTe),void 0)),Rhe=u.lazy(()=>ec(()=>Promise.resolve().then(()=>qEe),void 0));function Fhe({isOpen:t,onClose:r,postType:s,from:a,hideHeader:i=!1,onBack:o}){if(!t||!s)return null;const l=()=>s.label=="Share a Job Opening"||s.label=="Share a job opening"?n.jsx(The,{triggerImageSelection:s.triggerImageSelection,hideHeader:i,onSuccess:r}):s.label=="Highlight an opportunity"||s.label=="Highlight a tourism attraction"||s.label=="Highlight a tourist Attraction"||s.label=="Highlight a career progress"||s.label=="Share an experience"||s.label=="Share work experience"||s.label=="Highlight an event"||s.label=="Highlight a product"||s.label=="Highlight a service"||s.label=="Share tourism experiences"||s.label=="Highlight a funding opportunity"||s.label=="Highlight a Product"||s.label=="Highlight a Service "||s.label=="Share a Tourism Experience"||s.label=="Highlight an Opportunity"||s.label=="Highlight a Funding Opportunity"?n.jsx(Ahe,{type:s.label=="Highlight an event"?"event":s.label=="Highlight a product"||s.label=="Highlight a Product"?"product":s.label=="Highlight a service"||s.label=="Highlight a Service "?"service":s.label=="Share tourism experiences"||s.label=="Share a Tourism Experience"?"tourism":s.label=="Highlight a funding opportunity"||s.label=="Highlight a Funding Opportunity"||s.label=="Highlight an Opportunity"?"funding":s.from||a,triggerImageSelection:s.triggerImageSelection,hideHeader:i,onSuccess:r}):s.label=="Find Jobs"||s.label=="Find jobs"||s.label=="Find events"||s.label=="Find Products"||s.label=="Find Services"||s.label=="Explore tourism attractions"||s.label=="Explore funding opportunities"||s.label=="Find products"||s.label=="Find Services"||s.label=="Explore Tourism Attractions"||s.label=="Explore funding opportunities"?n.jsx(_he,{type:s.label=="Find Jobs"||s.label=="Find jobs"?"job":s.label=="Find events"?"event":s.label=="Find Products"||s.label=="Find products"?"product":s.label=="Find Services"||s.label=="Find Services"?"service":s.label=="Explore funding opportunities"||s.label=="Explore funding opportunities"?"funding":s.label=="Explore tourism attractions"||s.label=="Explore Tourism Attractions"?"tourism":s.from||a,triggerImageSelection:s.triggerImageSelection,hideHeader:i,onSuccess:r}):s.label=="Host an Event"||s.label=="Host an event"?n.jsx(Ohe,{type:s.from||a,triggerImageSelection:s.triggerImageSelection,hideHeader:i,onSuccess:r}):s.label=="Add a New Product"||s.label=="Add new product"?n.jsx($he,{triggerImageSelection:s.triggerImageSelection,hideHeader:i,onSuccess:r}):s.label=="Add a New Service"||s.label=="Add new service"?n.jsx(Phe,{triggerImageSelection:s.triggerImageSelection,hideHeader:i,onSuccess:r}):s.label=="Post a Tourism Attraction"||s.label=="Post a tourism attraction"||s.label=="_Share a Tourism Activity"?n.jsx(Rhe,{triggerImageSelection:s.triggerImageSelection,hideHeader:i,onSuccess:r}):s.label=="Publish an Opportunity"||s.label=="Publish an opportunity"?n.jsx(Dhe,{triggerImageSelection:s.triggerImageSelection,hideHeader:i,onSuccess:r}):n.jsx("div",{className:"p-6 text-center text-gray-600",children:"Form not available for this post type"});return n.jsx("div",{className:"fixed z-[99] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white z-[99] w-full max-w-2xl mx-2 rounded-2xl shadow-xl flex flex-col max-h-[80vh] overflow-hidden relative",children:[n.jsxs("div",{className:"bg-brand-500 p-4 flex justify-between items-center flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[o&&n.jsx("button",{onClick:o,className:"text-white hover:text-brand-100 transition-colors","aria-label":"Go back",children:n.jsx(bH,{size:20})}),n.jsx("div",{className:"text-white font-medium",children:s.label})]}),n.jsx("button",{onClick:r,className:"text-white hover:text-brand-100 transition-colors","aria-label":"Close",children:n.jsx(Lr,{size:20})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsx(u.Suspense,{fallback:n.jsx(ei,{message:"Loading form..."}),children:l()})})]})})}function Bhe(t){var i,o;if(!t)return"U";const r=t.trim().split(/\s+/),s=((i=r[0])==null?void 0:i.charAt(0).toUpperCase())||"",a=((o=r[1])==null?void 0:o.charAt(0).toUpperCase())||"";return s+a}function Ju({typeOfPosts:t,from:r}){var I;const[s,a]=u.useState(""),[i,o]=u.useState(!1),[l,c]=u.useState(null),[d,f]=u.useState(!1),[h,g]=u.useState(!1),[m,p]=u.useState(!1),x=qt(),{user:y}=Xt(),w=Cr(),b=u.useRef(null),v=u.useRef(null);u.useEffect(()=>{function E(L){b.current&&!b.current.contains(L.target)&&v.current&&!v.current.contains(L.target)&&p(!1)}return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const j=()=>{var E;if(!(y!=null&&y.id)){(E=w._showPopUp)==null||E.call(w,"login_prompt");return}o(!0)},N=E=>{const L=h?me(ne({},E),{triggerImageSelection:!0}):E;c(L),o(!1),f(!0),g(!1)},S=()=>{f(!1),c(null)};return n.jsxs("div",{className:"w-full _login_prompt",children:[n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[n.jsx("div",{className:" cursor-pointer",onClick:()=>{var E;if(!(y!=null&&y.id)){(E=w._showPopUp)==null||E.call(w,"login_prompt");return}x("/profile")},children:y!=null&&y.avatarUrl?n.jsx("img",{src:y.avatarUrl,alt:(y==null?void 0:y.name)||"Profile",className:"w-12 h-12 rounded-full object-cover"}):n.jsx("div",{className:"w-12 h-12 rounded-full bg-brand-100 border-2 border-brand-200 flex items-center justify-center",children:n.jsx("span",{className:"text-brand-600 font-semibold text-lg",children:Bhe((y==null?void 0:y.name)||"User")})})}),n.jsx("input",{type:"text",placeholder:r=="feed"?(y==null?void 0:y.accountType)!="company"?"Explore opportunities and Share insights.":"Find markets and share opportunities.":r=="job"?(y==null?void 0:y.accountType)!="company"?"Explore Top Job Opportunities and insights.":"Find top talents and share insights.":r=="event"?(y==null?void 0:y.accountType)!="company"?"Explore exciting events happening near you. ":"Create events and find the right people to attend.":r=="product"?(y==null?void 0:y.accountType)!="company"?"Explore and enjoy products designed to meet your needs.":"Find markets and promote your products.":r=="service"?(y==null?void 0:y.accountType)!="company"?"Find and explore services tailored for you.":"Find clients and promote your top services.":r=="tourism"?(y==null?void 0:y.accountType)!="company"?"Explore destinations, share stories, and connect through tourism.":"Find travellers and other tourism enthusiasts and boost your sales.":r=="funding"?(y==null?void 0:y.accountType)!="company"?"Explore funding opportunities that open doors to new possibilities.":"Find the right candidates and partners for your programs.":"Share your thoughts, opportunities, or insights...",value:s,onChange:E=>a(E.target.value),onClick:j,className:"flex-1 bg-gray-100 rounded-full px-6 py-3 text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-100 transition-all cursor-pointer"})]}),n.jsx("div",{className:"flex items-center justify-between _login_prompt",children:n.jsxs("div",{className:"flex items-center gap-4 relative flex-wrap",children:[(I=t==null?void 0:t.filter(E=>!E.hide))==null?void 0:I.slice(0,2).map(E=>n.jsxs("button",{className:"flex items-center gap-2 text-gray-600 hover:text-brand-600 transition-all bg-gray-50 duration-200 font-medium px-3 py-2 rounded-full hover:bg-brand-50",onClick:()=>{var L;if(!(y!=null&&y.id)){(L=w._showPopUp)==null||L.call(w,"login_prompt");return}N(E)},children:[n.jsx(E.Icon,{size:"20"}),n.jsx("span",{className:"text-sm",children:E.label})]},E.type||E.id)),t&&(t==null?void 0:t.filter(E=>!E.hide).length)>2&&n.jsxs("div",{className:"relative max-md:w-full",children:[n.jsxs("button",{ref:b,className:`flex items-center gap-2 text-gray-600 hover:text-brand-600 transition-all duration-200 font-medium px-3 py-2 rounded-lg hover:bg-brand-50 ${m?"bg-brand-50 text-brand-600":""}`,onClick:()=>p(!m),children:[n.jsx("span",{className:"text-sm",children:"More"}),n.jsx(dd,{className:`w-4 h-4 transition-transform duration-200 ${m?"rotate-180":""}`})]}),m&&n.jsx("div",{ref:v,className:"absolute top-full left-0 mt-2 w-64 max-md:w-full bg-white border border-gray-200 rounded-xl shadow-lg py-2 z-50",children:t==null?void 0:t.filter(E=>!E.hide).slice(2).map(E=>n.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-brand-50 hover:text-brand-600 transition-colors duration-200 flex items-center gap-2",onClick:()=>{var L;if(!(y!=null&&y.id)){(L=w._showPopUp)==null||L.call(w,"login_prompt");return}N(E),p(!1)},children:[n.jsx(E.Icon,{size:"20",className:"shrink-0"}),n.jsx("span",{children:E.label})]},E.type||E.id))})]})]})})]}),n.jsx(Lhe,{isOpen:i,onClose:()=>o(!1),onTypeSelect:N,postTypes:t==null?void 0:t.filter(E=>!E.hide)}),n.jsx(Fhe,{onBack:()=>{j(),f(!1)},isOpen:d,onClose:S,postType:l,from:r,hideHeader:!0})]})}const zhe=["Partnership / Collaboration","Investment Opportunities","Hiring / Job Offer","Seeking Mentorship","Offering Mentorship","Networking & Professional Growth","Exploring Business Opportunities","Project Collaboration","Advisory / Consulting","Knowledge Sharing","Market Expansion","Technology / Innovation Exchange","Event Invitation","Career Guidance","Other"];function bs({open:t,onClose:r,toUserId:s,toName:a,onSent:i}){const[o,l]=u.useState(""),[c,d]=u.useState(""),[f,h]=u.useState(!1),[g,m]=u.useState(""),{user:p}=Xt(),x=zhe.filter(w=>!((p==null?void 0:p.accountType)==="company"&&w==="Seeking Mentorship"));u.useEffect(()=>{d(""),l(""),m("")},[t]);function y(){return ve(this,null,function*(){var w,b;h(!0),m("");try{yield Le.post("/connections/requests",{toUserId:s,reason:o||null,message:c||null}),i&&i(),ce.success("Your request has been sent!"),r()}catch(v){console.error(v),m(((b=(w=v==null?void 0:v.response)==null?void 0:w.data)==null?void 0:b.message)||"Failed to send request")}finally{h(!1)}})}return t?n.jsx("div",{className:"fixed z-[100] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h3",{className:"text-lg font-semibold text-brand-600",children:"Connection Request"}),n.jsx("button",{onClick:r,className:"text-gray-500 hover:text-brand-600",children:n.jsx(Lr,{size:20})})]}),n.jsxs("div",{className:"p-4 space-y-3",children:[n.jsx("p",{className:"text-sm text-gray-600",children:a?`Send a connection request to ${a}.`:"Please select the reason and optionally write a message."}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-500",children:"Reason (optional)"}),n.jsxs("select",{className:"mt-1 w-full rounded-xl border px-3 py-2 text-sm focus:ring-2 focus:ring-brand-500 focus:outline-none",value:o,onChange:w=>l(w.target.value),children:[n.jsx("option",{value:"",children:"Select reason"}),x.map(w=>n.jsx("option",{value:w,children:w},w))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-500",children:"Message (optional)"}),n.jsx("textarea",{rows:4,className:"mt-1 w-full rounded-xl border px-3 py-2 text-sm focus:ring-2 focus:ring-brand-500 focus:outline-none",placeholder:"Write a short note…",value:c,onChange:w=>d(w.target.value)})]}),g&&n.jsx("div",{className:"text-sm text-red-600",children:g})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 border-t",children:[n.jsx("button",{className:"rounded-xl px-4 py-2 text-sm border bg-white hover:bg-brand-50 hover:text-brand-600 transition-colors",onClick:r,disabled:f,children:"Cancel"}),n.jsxs("button",{className:"inline-flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-semibold text-white bg-brand-500 hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500/30 transition-colors",onClick:y,disabled:f,children:[n.jsx(rb,{size:16}),f?"Sending…":"Send"]})]})]})}):null}function is({open:t,onClose:r,title:s="Are you sure?",text:a="",confirmText:i="Confirm",cancelText:o="Cancel",tone:l="default",withInput:c=!1,inputLabel:d="Reason (optional)",inputPlaceholder:f="",inputType:h="text",initialValue:g="",requireValue:m=!1,onConfirm:p,onResult:x}){const[y,w]=u.useState(g),[b,v]=u.useState(!1),j=u.useRef(null),N=u.useRef(null);u.useEffect(()=>{t&&(v(!1),w(g||""),setTimeout(()=>{c&&N.current&&N.current.focus()},0))},[t,g,c]),u.useEffect(()=>{function C(T){t&&(T.key==="Escape"&&(r==null||r()),T.key==="Enter"&&!b&&(!c||!m||y.trim().length>0)&&I())}return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[t,b,y,c,m]);function S(C){C.target===j.current&&(r==null||r())}function I(){return ve(this,null,function*(){if(!b){if(!p){r==null||r();return}try{v(!0);const C=yield p(c?y:"");x==null||x(C),r==null||r()}catch(C){v(!1),console.error("ConfirmDialog onConfirm error:",C)}}})}const E=l==="danger"?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-brand-600 hover:bg-brand-700 focus:ring-brand-500",L=b||c&&m&&y.trim().length===0;return n.jsx("div",{ref:j,onClick:S,className:`fixed inset-0 z-[110] transition ${t?"opacity-100":"opacity-0 pointer-events-none"} flex items-center justify-center bg-black/40 backdrop-blur-sm`,"aria-hidden":!t,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title",children:n.jsxs("div",{className:`bg-white w-[92vw] sm:w-full sm:max-w-md rounded-2xl shadow-xl overflow-hidden transform transition-all ${t?"scale-100":"scale-95"}`,children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h3",{id:"confirm-dialog-title",className:"text-lg font-semibold",children:s}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition","aria-label":"Close dialog",children:n.jsx(Lr,{size:20})})]}),n.jsxs("div",{className:"p-5 space-y-4",children:[a?n.jsx("p",{className:"text-sm text-gray-700",children:a}):null,c&&n.jsxs("div",{className:"text-left",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:d}),h==="textarea"?n.jsx("textarea",{ref:N,rows:4,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",placeholder:f,value:y,onChange:C=>w(C.target.value)}):n.jsx("input",{ref:N,type:"text",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",placeholder:f,value:y,onChange:C=>w(C.target.value)}),m&&y.trim().length===0&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:"This field is required."})]})]}),n.jsxs("div",{className:"p-4 border-t flex items-center justify-end gap-2",children:[n.jsx("button",{type:"button",onClick:r,className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-gray-400",children:o}),n.jsx("button",{type:"button",onClick:I,disabled:L,className:`inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-semibold text-white focus:outline-none focus:ring-2 disabled:opacity-60 ${E}`,children:b?"Working…":i})]})]})})}const tc=(t,r)=>Le.post("/likes",{targetType:t,targetId:r}),aw=(t,r)=>Le.get(`/likes/${t}/${r}`),Uhe=(t,r,s,a=null)=>Le.post("/comments",{targetType:t,targetId:r,text:s,parentCommentId:a}),nx=(t,r)=>Le.get(`/comments/${t}/${r}`),Whe=(t,r)=>Le.put(`/comments/${t}`,{text:r}),Hhe=t=>Le.delete(`/comments/${t}`),Vhe=(t,r)=>Le.get(`/likes/${t}/${r}/users`),rc=(t,r,s,a)=>Le.post("/reports",{targetType:t,targetId:r,category:s,description:a});function nc({open:t,onClose:r,entityType:s,entityId:a}){const i=qt(),[o,l]=u.useState([]),[c,d]=u.useState(!1),[f,h]=u.useState(null),{user:g}=Xt();u.useEffect(()=>{t&&s&&a&&m()},[t,s,a]);const m=()=>ve(this,null,function*(){try{d(!0),h(null);const x=yield Vhe(s,a);l(x.data.likes||[])}catch(x){console.error("Error fetching likes:",x),h("Failed to load likes")}finally{d(!1)}}),p=(x,y)=>{y.stopPropagation(),i(`/profile/${x}`),r()};return t?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[80vh] flex flex-col overflow-hidden",onClick:x=>x.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Likes ",c?"":`(${o.length})`]}),n.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx(Lr,{size:20,className:"text-gray-600"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:c?n.jsx("div",{className:"flex justify-center items-center py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600"})}):f?n.jsx("div",{className:"text-center py-8 text-gray-500",children:f}):o.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No likes yet"}):n.jsx("div",{className:"divide-y divide-gray-100",children:o.map(x=>{var y;return n.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:w=>p(x.user.id,w),children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-shrink-0",children:x.user.avatarUrl?n.jsx("div",{className:`w-12 h-12 ${x.user.accountType==="company"?"rounded":"rounded-full"} overflow-hidden border border-gray-200`,children:n.jsx("img",{src:x.user.avatarUrl,alt:x.user.name,className:"w-full h-full object-cover"})}):n.jsx("div",{className:`w-12 h-12 ${x.user.accountType==="company"?"rounded":"rounded-full"} bg-gray-200 flex items-center justify-center border border-gray-200`,children:n.jsx(ka,{size:20,className:"text-gray-400"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:[x.user.name," ",((y=x.user)==null?void 0:y.id)==(g==null?void 0:g.id)?"(You)":""]}),x.user.accountType==="company"&&n.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs bg-blue-100 text-blue-800",children:"Company"})]}),n.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[x.user.professionalTitle&&n.jsx("span",{children:x.user.professionalTitle}),x.user.companyName&&x.user.professionalTitle&&" • ",x.user.companyName&&n.jsx("span",{children:x.user.companyName})]}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400 mt-1",children:[n.jsx(so,{size:10}),n.jsxs("span",{children:["Liked ",new Date(x.createdAt).toLocaleDateString()]})]})]})]})},x.id)})})})]})}):null}var dV={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var r={}.hasOwnProperty;function s(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=i(o,a(c)))}return o}function a(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return s.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)r.call(o,c)&&o[c]&&(l=i(l,c));return l}function i(o,l){return l?o?o+" "+l:o+l:o}t.exports?(s.default=s,t.exports=s):window.classNames=s})()})(dV);var Ghe=dV.exports;const uV=j2(Ghe);var JC={exports:{}},ZC={exports:{}},vp=1e3,yp=vp*60,bp=yp*60,wp=bp*24,qhe=wp*365.25,Yhe=function(t,r){r=r||{};var s=typeof t;if(s==="string"&&t.length>0)return Jhe(t);if(s==="number"&&isNaN(t)===!1)return r.long?Qhe(t):Zhe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Jhe(t){if(t=String(t),!(t.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(r){var s=parseFloat(r[1]),a=(r[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return s*qhe;case"days":case"day":case"d":return s*wp;case"hours":case"hour":case"hrs":case"hr":case"h":return s*bp;case"minutes":case"minute":case"mins":case"min":case"m":return s*yp;case"seconds":case"second":case"secs":case"sec":case"s":return s*vp;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}function Zhe(t){return t>=wp?Math.round(t/wp)+"d":t>=bp?Math.round(t/bp)+"h":t>=yp?Math.round(t/yp)+"m":t>=vp?Math.round(t/vp)+"s":t+"ms"}function Qhe(t){return Cv(t,wp,"day")||Cv(t,bp,"hour")||Cv(t,yp,"minute")||Cv(t,vp,"second")||t+" ms"}function Cv(t,r,s){if(!(t<r))return t<r*1.5?Math.floor(t/r)+" "+s:Math.ceil(t/r)+" "+s+"s"}(function(t,r){r=t.exports=i.debug=i.default=i,r.coerce=d,r.disable=l,r.enable=o,r.enabled=c,r.humanize=Yhe,r.names=[],r.skips=[],r.formatters={};var s;function a(f){var h=0,g;for(g in f)h=(h<<5)-h+f.charCodeAt(g),h|=0;return r.colors[Math.abs(h)%r.colors.length]}function i(f){function h(){if(h.enabled){var g=h,m=+new Date,p=m-(s||m);g.diff=p,g.prev=s,g.curr=m,s=m;for(var x=new Array(arguments.length),y=0;y<x.length;y++)x[y]=arguments[y];x[0]=r.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");var w=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,function(v,j){if(v==="%%")return v;w++;var N=r.formatters[j];if(typeof N=="function"){var S=x[w];v=N.call(g,S),x.splice(w,1),w--}return v}),r.formatArgs.call(g,x);var b=h.log||r.log||console.log.bind(console);b.apply(g,x)}}return h.namespace=f,h.enabled=r.enabled(f),h.useColors=r.useColors(),h.color=a(f),typeof r.init=="function"&&r.init(h),h}function o(f){r.save(f),r.names=[],r.skips=[];for(var h=(typeof f=="string"?f:"").split(/[\s,]+/),g=h.length,m=0;m<g;m++)h[m]&&(f=h[m].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.substr(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}function l(){r.enable("")}function c(f){var h,g;for(h=0,g=r.skips.length;h<g;h++)if(r.skips[h].test(f))return!1;for(h=0,g=r.names.length;h<g;h++)if(r.names[h].test(f))return!0;return!1}function d(f){return f instanceof Error?f.stack||f.message:f}})(ZC,ZC.exports);var Khe=ZC.exports;(function(t,r){var s={};r=t.exports=Khe,r.log=o,r.formatArgs=i,r.save=l,r.load=c,r.useColors=a,r.storage=typeof chrome!="undefined"&&typeof chrome.storage!="undefined"?chrome.storage.local:d(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function a(){return typeof window!="undefined"&&window.process&&window.process.type==="renderer"?!0:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}r.formatters.j=function(f){try{return JSON.stringify(f)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}};function i(f){var h=this.useColors;if(f[0]=(h?"%c":"")+this.namespace+(h?" %c":" ")+f[0]+(h?"%c ":" ")+"+"+r.humanize(this.diff),!!h){var g="color: "+this.color;f.splice(1,0,g,"color: inherit");var m=0,p=0;f[0].replace(/%[a-zA-Z%]/g,function(x){x!=="%%"&&(m++,x==="%c"&&(p=m))}),f.splice(p,0,g)}}function o(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(f){try{f==null?r.storage.removeItem("debug"):r.storage.debug=f}catch(h){}}function c(){var f;try{f=r.storage.debug}catch(h){}return!f&&typeof process!="undefined"&&"env"in process&&(f=s.DEBUG),f}r.enable(c());function d(){try{return window.localStorage}catch(f){}}})(JC,JC.exports);var Xhe=JC.exports,yO=Xhe("jsonp"),ege=nge,tge=0;function rge(){}function nge(t,r,s){typeof r=="function"&&(s=r,r={}),r||(r={});var a=r.prefix||"__jp",i=r.name||a+tge++,o=r.param||"callback",l=r.timeout!=null?r.timeout:6e4,c=encodeURIComponent,d=document.getElementsByTagName("script")[0]||document.head,f,h;l&&(h=setTimeout(function(){g(),s&&s(new Error("Timeout"))},l));function g(){f.parentNode&&f.parentNode.removeChild(f),window[i]=rge,h&&clearTimeout(h)}function m(){window[i]&&g()}return window[i]=function(p){yO("jsonp got",p),g(),s&&s(null,p)},t+=(~t.indexOf("?")?"&":"?")+o+"="+c(i),t=t.replace("?&","?"),yO('jsonp req "%s"',t),f=document.createElement("script"),f.src=t,d.parentNode.insertBefore(f,d),m}const Zu=j2(ege);var sge=Object.defineProperty,age=Object.defineProperties,ige=Object.getOwnPropertyDescriptors,gb=Object.getOwnPropertySymbols,fV=Object.prototype.hasOwnProperty,hV=Object.prototype.propertyIsEnumerable,bO=(t,r,s)=>r in t?sge(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,pi=(t,r)=>{for(var s in r||(r={}))fV.call(r,s)&&bO(t,s,r[s]);if(gb)for(var s of gb(r))hV.call(r,s)&&bO(t,s,r[s]);return t},iw=(t,r)=>age(t,ige(r)),ow=(t,r)=>{var s={};for(var a in t)fV.call(t,a)&&r.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&gb)for(var a of gb(t))r.indexOf(a)<0&&hV.call(t,a)&&(s[a]=t[a]);return s};function Qu(t){return s=>{var a=s,{bgStyle:i={},borderRadius:o=0,iconFillColor:l="white",round:c=!1,size:d=64}=a,f=ow(a,["bgStyle","borderRadius","iconFillColor","round","size"]);return n.jsxs("svg",iw(pi({viewBox:"0 0 64 64",width:d,height:d},f),{children:[c?n.jsx("circle",{cx:"32",cy:"32",r:"32",fill:t.color,style:i}):n.jsx("rect",{width:"64",height:"64",rx:o,ry:o,fill:t.color,style:i}),n.jsx("path",{d:t.path,fill:l})]}))}}class oge extends Error{constructor(r){super(r),this.name="AssertionError"}}function hn(t,r){if(!t)throw new oge(r)}function rn(t){const r=Object.entries(t).filter(([,s])=>s!=null).map(([s,a])=>`${encodeURIComponent(s)}=${encodeURIComponent(String(a))}`);return r.length>0?`?${r.join("&")}`:""}const lge=t=>!!t&&(typeof t=="object"||typeof t=="function")&&"then"in t&&typeof t.then=="function",cge=(t,r)=>({left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-t/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-r/2}),dge=(t,r)=>({top:(window.screen.height-r)/2,left:(window.screen.width-t)/2});function uge(t,r,s){var a=r,{height:i,width:o}=a,l=ow(a,["height","width"]);const c=pi({height:i,width:o,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},l),d=window.open(t,"",Object.keys(c).map(f=>`${f}=${c[f]}`).join(", "));if(s){const f=window.setInterval(()=>{try{(d===null||d.closed)&&(window.clearInterval(f),s(d))}catch(h){console.error(h)}},1e3)}return d}function fge(t){var r=t,{beforeOnClick:s,children:a,className:i,disabled:o,disabledStyle:l={opacity:.6},forwardedRef:c,htmlTitle:d,networkLink:f,networkName:h,onClick:g,onShareWindowClose:m,openShareDialogOnClick:p=!0,opts:x,resetButtonStyle:y=!0,style:w,title:b,url:v,windowHeight:j=400,windowPosition:N="windowCenter",windowWidth:S=550}=r,I=ow(r,["beforeOnClick","children","className","disabled","disabledStyle","forwardedRef","htmlTitle","networkLink","networkName","onClick","onShareWindowClose","openShareDialogOnClick","opts","resetButtonStyle","style","title","url","windowHeight","windowPosition","windowWidth"]);const E=T=>ve(this,null,function*(){const k=f(v,x);if(!o){if(T.preventDefault(),s){const M=s();lge(M)&&(yield M)}if(p){const M=pi({height:j,width:S},N==="windowCenter"?cge(S,j):dge(S,j));uge(k,M,m)}g&&g(T,k)}}),L=uV("react-share__ShareButton",{"react-share__ShareButton--disabled":!!o,disabled:!!o},i),C=pi(pi(y?{backgroundColor:"transparent",border:"none",padding:0,font:"inherit",color:"inherit",cursor:"pointer"}:{},w),o&&l);return n.jsx("button",iw(pi({},I),{className:L,onClick:E,ref:c,style:C,title:d,children:a}))}function vn(t,r,s,a){const i=(o,l)=>{const c=s(o),d=pi({},o);return Object.keys(c).forEach(h=>{delete d[h]}),n.jsx(fge,iw(pi(pi({},a),d),{forwardedRef:l,networkName:t,networkLink:r,opts:c}))};return i.displayName=`ShareButton-${t}`,u.forwardRef(i)}function hge(t,{title:r,separator:s}){return hn(t,"bluesky.url"),"https://bsky.app/intent/compose"+rn({text:r?r+s+t:t})}vn("bluesky",hge,t=>({title:t.title,separator:t.separator||" "}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});const Ks=Qu({color:"#7f7f7f",path:"M17,22v20h30V22H17z M41.1,25L32,32.1L22.9,25H41.1z M20,39V26.6l12,9.3l12-9.3V39H20z"});function gge(t,{subject:r,body:s,separator:a}){return"mailto:"+rn({subject:r,body:s?s+a+t:t})}const Xs=vn("email",gge,t=>({subject:t.subject,body:t.body,separator:t.separator||" "}),{openShareDialogOnClick:!1,onClick:(t,r)=>{window.location.href=r}}),ea=Qu({color:"#0965FE",path:"M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z"}),ta=Qu({color:"#0A7CFF",path:"M 53.066406 21.871094 C 52.667969 21.339844 51.941406 21.179688 51.359375 21.496094 L 37.492188 29.058594 L 28.867188 21.660156 C 28.339844 21.207031 27.550781 21.238281 27.054688 21.730469 L 11.058594 37.726562 C 10.539062 38.25 10.542969 39.09375 11.0625 39.613281 C 11.480469 40.027344 12.121094 40.121094 12.640625 39.839844 L 26.503906 32.28125 L 35.136719 39.679688 C 35.667969 40.132812 36.457031 40.101562 36.949219 39.609375 L 52.949219 23.613281 C 53.414062 23.140625 53.464844 22.398438 53.066406 21.871094 Z M 53.066406 21.871094"});function mge(t,{appId:r,redirectUri:s,to:a}){return"https://www.facebook.com/dialog/send"+rn({link:t,redirect_uri:s||t,app_id:r,to:a})}const ra=vn("facebookmessenger",mge,t=>({appId:t.appId,redirectUri:t.redirectUri,to:t.to}),{windowWidth:1e3,windowHeight:820});function pge(t,{hashtag:r}){return hn(t,"facebook.url"),"https://www.facebook.com/sharer/sharer.php"+rn({u:t,hashtag:r})}const na=vn("facebook",pge,t=>({hashtag:t.hashtag}),{windowWidth:550,windowHeight:400});function xge(){const t=u.useRef(!1);return u.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),u.useCallback(()=>t.current,[])}function vge(t){var r=t,{children:s=m=>m,className:a,getCount:i,url:o}=r,l=ow(r,["children","className","getCount","url"]);const c=xge(),[d,f]=u.useState(void 0),[h,g]=u.useState(!1);return u.useEffect(()=>{g(!0),i(o,m=>{c()&&(f(m),g(!1))})},[o]),n.jsx("span",iw(pi({className:uV("react-share__ShareCount",a)},l),{children:!h&&d!==void 0&&s(d)}))}function Ku(t){const r=s=>n.jsx(vge,pi({getCount:t},s));return r.displayName=`ShareCount(${t.name})`,r}function yge(t,r){const s=`https://graph.facebook.com/?id=${t}&fields=og_object{engagement}`;Zu(s,(a,i)=>{r(!a&&i&&i.og_object&&i.og_object.engagement?i.og_object.engagement.count:void 0)})}Ku(yge);function bge(t,{title:r}){return hn(t,"hatena.url"),`http://b.hatena.ne.jp/add?mode=confirm&url=${t}&title=${r}`}vn("hatena",bge,t=>({title:t.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function wge(t,r){Zu("https://bookmark.hatenaapis.com/count/entry"+rn({url:t}),(a,i)=>{r(i!=null?i:void 0)})}Ku(wge);function jge(t,{title:r,description:s}){return hn(t,"instapaper.url"),"http://www.instapaper.com/hello2"+rn({url:t,title:r,description:s})}vn("instapaper",jge,t=>({title:t.title,description:t.description}),{windowWidth:500,windowHeight:500,windowPosition:"windowCenter"});function Nge(t,{title:r}){return hn(t,"line.url"),"https://social-plugins.line.me/lineit/share"+rn({url:t,text:r})}vn("line",Nge,t=>({title:t.title}),{windowWidth:500,windowHeight:500});const sa=Qu({color:"#0077B5",path:"M20.4,44h5.4V26.6h-5.4V44z M23.1,18c-1.7,0-3.1,1.4-3.1,3.1c0,1.7,1.4,3.1,3.1,3.1 c1.7,0,3.1-1.4,3.1-3.1C26.2,19.4,24.8,18,23.1,18z M39.5,26.2c-2.6,0-4.4,1.4-5.1,2.8h-0.1v-2.4h-5.2V44h5.4v-8.6 c0-2.3,0.4-4.5,3.2-4.5c2.8,0,2.8,2.6,2.8,4.6V44H46v-9.5C46,29.8,45,26.2,39.5,26.2z"});function Sge(t,{title:r,summary:s,source:a}){return hn(t,"linkedin.url"),"https://linkedin.com/shareArticle"+rn({url:t,mini:"true",title:r,summary:s,source:a})}const aa=vn("linkedin",Sge,({title:t,summary:r,source:s})=>({title:t,summary:r,source:s}),{windowWidth:750,windowHeight:600});function Cge(t,{title:r,description:s}){return hn(t,"livejournal.url"),"https://www.livejournal.com/update.bml"+rn({subject:r,event:s})}vn("livejournal",Cge,t=>({title:t.title,description:t.description}),{windowWidth:660,windowHeight:460});function kge(t,{title:r,description:s,imageUrl:a}){return hn(t,"mailru.url"),"https://connect.mail.ru/share"+rn({url:t,title:r,description:s,image_url:a})}vn("mailru",kge,t=>({title:t.title,description:t.description,imageUrl:t.imageUrl}),{windowWidth:660,windowHeight:460});function Ege(t,{title:r,description:s,image:a}){return hn(t,"ok.url"),"https://connect.ok.ru/offer"+rn({url:t,title:r,description:s,imageUrl:a})}vn("ok",Ege,t=>({title:t.title,description:t.description,image:t.image}),{windowWidth:588,windowHeight:480,windowPosition:"screenCenter"});function Lge(t,r){window.OK||(window.OK={Share:{count:function(o,l){var c,d;(d=(c=window.OK.callbacks)[o])==null||d.call(c,l)}},callbacks:[]});const s="https://connect.ok.ru/dk",a=window.OK.callbacks.length;return window.ODKL={updateCount(i,o){var l,c;const d=i===""?0:parseInt(i.replace("react-share-",""),10);(c=(l=window.OK.callbacks)[d])==null||c.call(l,o===""?void 0:parseInt(o,10))}},window.OK.callbacks.push(r),Zu(s+rn({"st.cmd":"extLike",uid:`react-share-${a}`,ref:t}))}Ku(Lge);function Mge(t,{media:r,description:s,pinId:a}){return a?`https://pinterest.com/pin/${a}/repin/x/`:(hn(t,"pinterest.url"),hn(r,"pinterest.media"),"https://pinterest.com/pin/create/button/"+rn({url:t,media:r,description:s}))}vn("pinterest",Mge,t=>({media:t.media,description:t.description,pinId:t.pinId}),{windowWidth:1e3,windowHeight:730});function Ige(t,r){Zu("https://api.pinterest.com/v1/urls/count.json"+rn({url:t}),(a,i)=>{r(i?i.count:void 0)})}Ku(Ige);function Tge(t,{title:r}){return hn(t,"pocket.url"),"https://getpocket.com/save"+rn({url:t,title:r})}vn("pocket",Tge,t=>({title:t.title}),{windowWidth:500,windowHeight:500});function Age(t,{title:r}){return hn(t,"reddit.url"),"https://www.reddit.com/web/submit"+rn({url:t,title:r})}vn("reddit",Age,t=>({title:t.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function _ge(t,{title:r}){return hn(t,"gab.url"),"https://gab.com/compose"+rn({url:t,text:r})}vn("gab",_ge,t=>({title:t.title}),{windowWidth:660,windowHeight:640,windowPosition:"windowCenter"});function Oge(t,r){const s=`https://www.reddit.com/api/info.json?limit=1&url=${t}`;Zu(s,{param:"jsonp"},(a,i)=>{r(!a&&i&&i.data&&i.data.children.length>0&&i.data.children[0].data.score?i.data.children[0].data.score:void 0)})}Ku(Oge);const ia=Qu({color:"#25A3E3",path:"m45.90873,15.44335c-0.6901,-0.0281 -1.37668,0.14048 -1.96142,0.41265c-0.84989,0.32661 -8.63939,3.33986 -16.5237,6.39174c-3.9685,1.53296 -7.93349,3.06593 -10.98537,4.24067c-3.05012,1.1765 -5.34694,2.05098 -5.4681,2.09312c-0.80775,0.28096 -1.89996,0.63566 -2.82712,1.72788c-0.23354,0.27218 -0.46884,0.62161 -0.58825,1.10275c-0.11941,0.48114 -0.06673,1.09222 0.16682,1.5716c0.46533,0.96052 1.25376,1.35737 2.18443,1.71383c3.09051,0.99037 6.28638,1.93508 8.93263,2.8236c0.97632,3.44171 1.91401,6.89571 2.84116,10.34268c0.30554,0.69185 0.97105,0.94823 1.65764,0.95525l-0.00351,0.03512c0,0 0.53908,0.05268 1.06412,-0.07375c0.52679,-0.12292 1.18879,-0.42846 1.79109,-0.99212c0.662,-0.62161 2.45836,-2.38812 3.47683,-3.38552l7.6736,5.66477l0.06146,0.03512c0,0 0.84989,0.59703 2.09312,0.68132c0.62161,0.04214 1.4399,-0.07726 2.14229,-0.59176c0.70766,-0.51626 1.1765,-1.34683 1.396,-2.29506c0.65673,-2.86224 5.00979,-23.57745 5.75257,-27.00686l-0.02107,0.08077c0.51977,-1.93157 0.32837,-3.70159 -0.87096,-4.74991c-0.60054,-0.52152 -1.2924,-0.7498 -1.98425,-0.77965l0,0.00176zm-0.2072,3.29069c0.04741,0.0439 0.0439,0.0439 0.00351,0.04741c-0.01229,-0.00351 0.14048,0.2072 -0.15804,1.32576l-0.01229,0.04214l-0.00878,0.03863c-0.75858,3.50668 -5.15554,24.40802 -5.74203,26.96472c-0.08077,0.34417 -0.11414,0.31959 -0.09482,0.29852c-0.1756,-0.02634 -0.50045,-0.16506 -0.52679,-0.1756l-13.13468,-9.70175c4.4988,-4.33199 9.09945,-8.25307 13.744,-12.43229c0.8218,-0.41265 0.68483,-1.68573 -0.29852,-1.70681c-1.04305,0.24584 -1.92279,0.99564 -2.8798,1.47502c-5.49971,3.2626 -11.11882,6.13186 -16.55882,9.49279c-2.792,-0.97105 -5.57873,-1.77704 -8.15298,-2.57601c2.2336,-0.89555 4.00889,-1.55579 5.75608,-2.23009c3.05188,-1.1765 7.01687,-2.7042 10.98537,-4.24067c7.94051,-3.06944 15.92667,-6.16346 16.62028,-6.43037l0.05619,-0.02283l0.05268,-0.02283c0.19316,-0.0878 0.30378,-0.09658 0.35471,-0.10009c0,0 -0.01756,-0.05795 -0.00351,-0.04566l-0.00176,0zm-20.91715,22.0638l2.16687,1.60145c-0.93418,0.91311 -1.81743,1.77353 -2.45485,2.38812l0.28798,-3.98957"});function $ge(t,{title:r}){return hn(t,"telegram.url"),"https://telegram.me/share/url"+rn({url:t,text:r})}const oa=vn("telegram",$ge,t=>({title:t.title}),{windowWidth:550,windowHeight:400});function Pge(t,{title:r}){return hn(t,"threads.url"),"https://threads.net/intent/post"+rn({url:t,text:r})}vn("threads",Pge,t=>({title:t.title}),{windowWidth:550,windowHeight:600});function Dge(t,{title:r,caption:s,tags:a,posttype:i}){return hn(t,"tumblr.url"),"https://www.tumblr.com/widgets/share/tool"+rn({canonicalUrl:t,title:r,caption:s,tags:a,posttype:i})}vn("tumblr",Dge,t=>({title:t.title,tags:(t.tags||[]).join(","),caption:t.caption,posttype:t.posttype||"link"}),{windowWidth:660,windowHeight:460});function Rge(t,r){return Zu("https://api.tumblr.com/v2/share/stats"+rn({url:t}),(a,i)=>{r(!a&&i&&i.response?i.response.note_count:void 0)})}Ku(Rge);const la=Qu({color:"#00aced",path:"M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z"});function Fge(t,{title:r,via:s,hashtags:a=[],related:i=[]}){return hn(t,"twitter.url"),hn(Array.isArray(a),"twitter.hashtags is not an array"),hn(Array.isArray(i),"twitter.related is not an array"),"https://twitter.com/intent/tweet"+rn({url:t,text:r,via:s,hashtags:a.length>0?a.join(","):void 0,related:i.length>0?i.join(","):void 0})}const ca=vn("twitter",Fge,t=>({hashtags:t.hashtags,title:t.title,via:t.via,related:t.related}),{windowWidth:550,windowHeight:400});function Bge(t,{title:r,separator:s}){return hn(t,"viber.url"),"viber://forward"+rn({text:r?r+s+t:t})}vn("viber",Bge,t=>({title:t.title,separator:t.separator||" "}),{windowWidth:660,windowHeight:460});function zge(t,{title:r,image:s,noParse:a,noVkLinks:i}){return hn(t,"vk.url"),"https://vk.com/share.php"+rn({url:t,title:r,image:s,noparse:a?1:0,no_vk_links:i?1:0})}vn("vk",zge,t=>({title:t.title,image:t.image,noParse:t.noParse,noVkLinks:t.noVkLinks}),{windowWidth:660,windowHeight:460});function Uge(t,r){window.VK||(window.VK={}),window.VK.Share={count:(i,o)=>{var l,c;return(c=(l=window.VK.callbacks)==null?void 0:l[i])==null?void 0:c.call(l,o)}},window.VK.callbacks=[];const s="https://vk.com/share.php",a=window.VK.callbacks.length;return window.VK.callbacks.push(r),Zu(s+rn({act:"count",index:a,url:t}))}Ku(Uge);function Wge(t,{title:r,image:s}){return hn(t,"weibo.url"),"http://service.weibo.com/share/share.php"+rn({url:t,title:r,pic:s})}vn("weibo",Wge,t=>({title:t.title,image:t.image}),{windowWidth:660,windowHeight:550,windowPosition:"screenCenter"});const da=Qu({color:"#25D366",path:"m42.32286,33.93287c-0.5178,-0.2589 -3.04726,-1.49644 -3.52105,-1.66732c-0.4712,-0.17346 -0.81554,-0.2589 -1.15987,0.2589c-0.34175,0.51004 -1.33075,1.66474 -1.63108,2.00648c-0.30032,0.33658 -0.60064,0.36247 -1.11327,0.12945c-0.5178,-0.2589 -2.17994,-0.80259 -4.14759,-2.56312c-1.53269,-1.37217 -2.56312,-3.05503 -2.86603,-3.57283c-0.30033,-0.5178 -0.03366,-0.80259 0.22524,-1.06149c0.23301,-0.23301 0.5178,-0.59547 0.7767,-0.90616c0.25372,-0.31068 0.33657,-0.5178 0.51262,-0.85437c0.17088,-0.36246 0.08544,-0.64725 -0.04402,-0.90615c-0.12945,-0.2589 -1.15987,-2.79613 -1.58964,-3.80584c-0.41424,-1.00971 -0.84142,-0.88027 -1.15987,-0.88027c-0.29773,-0.02588 -0.64208,-0.02588 -0.98382,-0.02588c-0.34693,0 -0.90616,0.12945 -1.37736,0.62136c-0.4712,0.5178 -1.80194,1.76053 -1.80194,4.27186c0,2.51134 1.84596,4.945 2.10227,5.30747c0.2589,0.33657 3.63497,5.51458 8.80262,7.74113c1.23237,0.5178 2.1903,0.82848 2.94111,1.08738c1.23237,0.38836 2.35599,0.33657 3.24402,0.20712c0.99159,-0.15534 3.04985,-1.24272 3.47963,-2.45956c0.44013,-1.21683 0.44013,-2.22654 0.31068,-2.45955c-0.12945,-0.23301 -0.46601,-0.36247 -0.98382,-0.59548m-9.40068,12.84407l-0.02589,0c-3.05503,0 -6.08417,-0.82849 -8.72495,-2.38189l-0.62136,-0.37023l-6.47252,1.68286l1.73463,-6.29129l-0.41424,-0.64725c-1.70875,-2.71846 -2.6149,-5.85116 -2.6149,-9.07706c0,-9.39809 7.68934,-17.06155 17.15993,-17.06155c4.58253,0 8.88029,1.78642 12.11655,5.02268c3.23625,3.21036 5.02267,7.50812 5.02267,12.06476c-0.0078,9.3981 -7.69712,17.06155 -17.14699,17.06155m14.58906,-31.58846c-3.93529,-3.80584 -9.1133,-5.95471 -14.62789,-5.95471c-11.36055,0 -20.60848,9.2065 -20.61625,20.52564c0,3.61684 0.94757,7.14565 2.75211,10.26282l-2.92557,10.63564l10.93337,-2.85309c3.0136,1.63108 6.4052,2.4958 9.85634,2.49839l0.01037,0c11.36574,0 20.61884,-9.2091 20.62403,-20.53082c0,-5.48093 -2.14111,-10.64081 -6.03239,-14.51915"});function Hge(){return/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)}function Vge(t,{title:r,separator:s}){return hn(t,"whatsapp.url"),"https://"+(Hge()?"api":"web")+".whatsapp.com/send"+rn({text:r?r+s+t:t})}const ua=vn("whatsapp",Vge,t=>({title:t.title,separator:t.separator||" "}),{windowWidth:550,windowHeight:400});function Gge(t,{quote:r,hashtag:s}){return hn(t,"workplace.url"),"https://work.facebook.com/sharer.php"+rn({u:t,quote:r,hashtag:s})}vn("workplace",Gge,t=>({quote:t.quote,hashtag:t.hashtag}),{windowWidth:550,windowHeight:400});function Aa({src:t,alt:r}){const s=u.useRef(null),a=u.useRef(null),i=u.useRef(null),o=u.useRef(null),[l,c]=u.useState(!1),[d,f]=u.useState(!0),[h,g]=u.useState(.7),[m,p]=u.useState(.7),[x,y]=u.useState(!1),[w,b]=u.useState(!0),[v,j]=u.useState(0),[N,S]=u.useState(0),[I,E]=u.useState(!1),[L,C]=u.useState(null),[T,k]=u.useState(!1),[M,_]=u.useState(!1),[J,Y]=u.useState(null),[te,K]=u.useState(!1),[X,W]=u.useState(null),[F,P]=u.useState(!1);u.useEffect(()=>{const oe=s.current;if(!oe)return;const ie=new IntersectionObserver(q=>{q.forEach(Se=>{const $e=Se.intersectionRatio>=.5;$e&&!l&&!I&&!te?ve(this,null,function*(){try{oe.muted=!0,f(!0),yield oe.play(),c(!0),k(!0)}catch(nt){console.log("Auto-play failed:",nt)}}):$e&&l&&!te?(X===!1?(oe.muted=!1,f(!1)):(oe.muted=!0,f(!0)),k(!0)):!$e&&l&&!I&&!te?(oe.pause(),c(!1),k(!1)):!$e&&l&&(oe.muted=!0,f(!0),k(!1))})},{threshold:[0,.5,1],rootMargin:"0px"});return oe&&ie.observe(oe),()=>{oe&&ie.unobserve(oe)}},[l,I,te,X]);const A=oe=>{const ie=Math.floor(oe/60),q=Math.floor(oe%60);return`${ie}:${q.toString().padStart(2,"0")}`};u.useEffect(()=>{const oe=s.current;if(!oe)return;const ie=()=>j(oe.currentTime),q=()=>S(oe.duration);return oe.addEventListener("timeupdate",ie),oe.addEventListener("loadedmetadata",q),oe.addEventListener("canplay",()=>b(!1)),()=>{oe.removeEventListener("timeupdate",ie),oe.removeEventListener("loadedmetadata",q),oe.removeEventListener("canplay",()=>b(!1))}},[]),u.useEffect(()=>{s.current&&(s.current.volume=h)},[h]),u.useEffect(()=>{const oe=()=>{const ie=document.fullscreenElement;E(!!ie),!ie&&x&&Je()};return document.addEventListener("fullscreenchange",oe),()=>{document.removeEventListener("fullscreenchange",oe)}},[x]),u.useEffect(()=>{const oe=ie=>{o.current&&!o.current.contains(ie.target)&&_(!1)};return document.addEventListener("mousedown",oe),()=>{document.removeEventListener("mousedown",oe)}},[]),u.useEffect(()=>(F?(document.addEventListener("mousemove",ht),document.addEventListener("mouseup",Fe)):(document.removeEventListener("mousemove",ht),document.removeEventListener("mouseup",Fe)),()=>{document.removeEventListener("mousemove",ht),document.removeEventListener("mouseup",Fe)}),[F]);const B=oe=>{oe&&oe.stopPropagation(),te||K(!0),s.current&&(l?(s.current.pause(),c(!1)):s.current.play().then(()=>{c(!0)}).catch(ie=>{console.log("Play failed:",ie)}))},z=oe=>{oe.stopPropagation(),d?(g(m===0?.7:m),f(!1),s.current.muted=!1,W(!1)):(p(h),g(0),f(!0),s.current.muted=!0,W(!0)),_(!1),Je()},O=()=>{_(!0),J&&clearTimeout(J)},U=()=>{const oe=setTimeout(()=>{_(!1)},500);Y(oe)},Z=()=>{_(!0),J&&clearTimeout(J)},se=()=>{const oe=setTimeout(()=>{_(!1)},500);Y(oe)},fe=oe=>{oe.stopPropagation();const ie=parseFloat(oe.target.value);g(ie),d||p(ie),ie>0&&d&&(f(!1),s.current.muted=!1,W(!1))},le=oe=>ve(this,null,function*(){if(oe&&oe.stopPropagation(),!!a.current)try{document.fullscreenElement?(yield document.exitFullscreen(),E(!1)):(yield a.current.requestFullscreen(),E(!0),s.current&&!l&&(yield s.current.play(),c(!0)),Je())}catch(ie){console.log(`Fullscreen error: ${ie.message}`)}}),Ne=oe=>{if(oe.stopPropagation(),!s.current||!i.current)return;const ie=i.current,q=ie.getBoundingClientRect(),Se=(oe.clientX-q.left)/ie.offsetWidth,$e=Math.max(0,Math.min(Se*N,N));s.current.currentTime=$e,j($e)},Te=oe=>{if(oe.stopPropagation(),oe.preventDefault(),!s.current||!i.current)return;P(!0);const ie=i.current,q=ie.getBoundingClientRect(),Se=(oe.clientX-q.left)/ie.offsetWidth,$e=Math.max(0,Math.min(Se*N,N));s.current.currentTime=$e,j($e)},ht=oe=>{if(!F||!s.current||!i.current)return;const ie=i.current,q=ie.getBoundingClientRect(),Se=(oe.clientX-q.left)/ie.offsetWidth,$e=Math.max(0,Math.min(Se*N,N));s.current.currentTime=$e,j($e)},Fe=()=>{F&&P(!1)},Ve=oe=>{oe.stopPropagation(),B(oe),Je()},ut=oe=>{oe.stopPropagation(),le(oe)},Je=()=>{y(!0),L&&clearTimeout(L);const oe=setTimeout(()=>{!l||I||y(!1)},3e3);C(oe)},G=()=>{y(!0),L&&clearTimeout(L)},ae=()=>{if(l&&!I){const oe=setTimeout(()=>{y(!1),_(!1)},1e3);C(oe)}},Me=oe=>{if(I)switch(oe.stopPropagation(),oe.key){case" ":case"k":oe.preventDefault(),B(oe);break;case"f":oe.preventDefault(),le(oe);break;case"m":oe.preventDefault(),z(oe);break;case"ArrowUp":oe.preventDefault(),g(ie=>{const q=Math.min(1,ie+.1);return p(q),q}),d&&(f(!1),s.current.muted=!1,W(!1));break;case"ArrowDown":oe.preventDefault(),g(ie=>{const q=Math.max(0,ie-.1);return p(q),q});break;case"ArrowLeft":oe.preventDefault(),s.current&&(s.current.currentTime=Math.max(0,s.current.currentTime-10));break;case"ArrowRight":oe.preventDefault(),s.current&&(s.current.currentTime=Math.min(N,s.current.currentTime+10));break}};u.useEffect(()=>(I&&document.addEventListener("keydown",Me),()=>{document.removeEventListener("keydown",Me)}),[I,l,d,N,h]);const he=N>0?v/N*100:0,ye=()=>d||h===0?n.jsx(mue,{size:I?24:16,className:"text-white"}):h>.5?n.jsx(qA,{size:I?24:16,className:"text-white"}):n.jsx(qA,{size:I?24:16,className:"text-white"});return n.jsxs("div",{ref:a,className:`relative w-full bg-black group ${I?"fixed inset-0 z-50 bg-black":"min-h-64 sm:min-h-80 md:min-h-96"}`,onMouseEnter:G,onMouseLeave:ae,onMouseMove:Je,children:[n.jsx("video",{ref:s,src:t,className:`w-full cursor-pointer ${I?"w-full h-full object-contain":"max-h-96 object-contain"} ${w?"invisible":"visible"}`,muted:d,loop:!0,playsInline:!0,onPlay:()=>c(!0),onPause:()=>c(!1),onLoadedData:()=>b(!1),onWaiting:()=>b(!0),onCanPlay:()=>b(!1),onClick:Ve}),w&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 min-h-64 sm:min-h-80 md:min-h-96",children:n.jsx("div",{className:"w-12 h-12 border-4 border-white border-t-transparent rounded-full animate-spin"})}),(x||I)&&n.jsx("div",{ref:i,className:`absolute bg-gray-600 bg-opacity-50 cursor-pointer group/progress z-40 ${I?"bottom-16 left-4 right-4 h-3":"bottom-12 left-0 right-0 h-2"}`,onClick:Ne,onMouseDown:Te,children:n.jsx("div",{className:"h-full bg-brand-500 relative group-hover/progress:bg-brand-400 transition-colors",style:{width:`${he}%`},children:n.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 bg-white rounded-full opacity-0 group-hover/progress:opacity-100 transition-opacity",style:{width:I?"12px":"10px",height:I?"12px":"10px"}})})}),n.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-3 transition-opacity duration-300 z-20 ${x||I?"opacity-100":"opacity-0"} ${I?"p-6":""}`,children:[n.jsxs("div",{className:`flex items-center justify-between text-white mb-2 px-1 ${I?"text-sm mb-4":"text-xs"}`,children:[n.jsx("span",{children:A(v)}),n.jsx("span",{children:A(N)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 video-controls",children:[n.jsx("button",{onClick:B,className:`bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-all duration-200 ${I?"w-12 h-12":"w-8 h-8"}`,children:l?n.jsx(Ede,{size:I?24:16,className:"text-white"}):n.jsx(cm,{size:I?24:16,className:"text-white ml-0.5"})}),n.jsxs("div",{className:"relative flex items-center gap-1",ref:o,children:[n.jsx("button",{onClick:z,onMouseEnter:O,onMouseLeave:U,className:`bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-all duration-200 ${I?"w-12 h-12":"w-8 h-8"}`,children:ye()}),M&&n.jsxs("div",{className:"absolute bottom-full left-0 mb-2 bg-black bg-opacity-90 rounded-lg p-3 shadow-lg z-30",onMouseEnter:Z,onMouseLeave:se,children:[n.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:h,onChange:fe,className:"w-24 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white"}),n.jsxs("div",{className:"text-xs text-white text-center mt-1",children:[Math.round(h*100),"%"]})]})]}),!I&&n.jsxs("div",{className:"text-xs text-white ml-2",children:[A(v)," / ",A(N)]})]}),n.jsx("div",{className:"flex items-center gap-2 video-controls",children:n.jsx("button",{onClick:ut,className:`bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-all duration-200 ${I?"w-12 h-12":"w-8 h-8"}`,children:I?n.jsx(HA,{size:I?24:16,className:"text-white"}):n.jsx(vde,{size:I?24:16,className:"text-white"})})})]})]}),!l&&!x&&!I&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 transition-opacity duration-200 group-hover:bg-opacity-20 cursor-pointer z-10",onClick:Ve,children:n.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-90 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all duration-200 hover:scale-110",children:n.jsx(cm,{size:32,className:"text-black ml-1"})})}),I&&!l&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-40 cursor-pointer z-10",onClick:Ve,children:n.jsx("div",{className:"w-24 h-24 bg-white bg-opacity-90 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all duration-200 hover:scale-110",children:n.jsx(cm,{size:48,className:"text-black ml-2"})})}),!I&&n.jsxs("div",{className:"absolute top-3 right-3 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded flex items-center gap-1 z-10",children:[n.jsx(cm,{size:12}),"Video"]}),I&&n.jsx("button",{onClick:ut,className:"absolute top-4 right-4 z-50 w-10 h-10 bg-black bg-opacity-50 rounded-full flex items-center justify-center hover:bg-opacity-70 transition-colors",children:n.jsx(HA,{size:20,className:"text-white"})})]})}function Td({urls:t=[],initialIndex:r=0,onClose:s,hideClose:a,notFixed:i,isFromCard:o}){const[l,c]=u.useState(r),[d,f]=u.useState(!1),h=t[l],g=h==null?void 0:h.toLowerCase().match(/\.(mp4|mov|avi|mkv|webm|flv|wmv|m4v|3gp|ogv)$/),m=h==null?void 0:h.toLowerCase().match(/\.(jpg|jpeg|png|gif|bmp|webp|svg)$/);u.useEffect(()=>{const b=v=>{v.key==="Escape"?p():v.key==="ArrowLeft"?x():v.key==="ArrowRight"&&y()};return document.addEventListener("keydown",b),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",b),document.body.style.overflow="unset"}},[]);const p=()=>{f(!0),setTimeout(()=>{s==null||s()},300)},x=()=>{t.length<=1||c(b=>b===0?t.length-1:b-1)},y=()=>{t.length<=1||c(b=>b===t.length-1?0:b+1)},w=b=>{c(b)};return t.length?n.jsxs("div",{className:`${i?"absolute":"fixed"} ${o?"max-md:h-full":""} inset-0 z-50 flex items-center justify-center bg-black transition-opacity duration-300 ${d?"bg-opacity-0":"bg-opacity-90"}`,children:[n.jsx("button",{onClick:p,className:`absolute ${a?"md:hidden":""} top-4 right-4 z-10 text-white hover:text-gray-300 transition-colors p-2 rounded-full bg-black bg-opacity-50`,children:n.jsx(Lr,{size:24})}),t.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:x,className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10 text-white hover:text-gray-300 transition-colors p-3 rounded-full bg-black bg-opacity-50",children:n.jsx(xce,{size:24})}),n.jsx("button",{onClick:y,className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-10 text-white hover:text-gray-300 transition-colors p-3 rounded-full bg-black bg-opacity-50",children:n.jsx(yce,{size:24})})]}),n.jsx("div",{className:`relative  ${o?"max-md:h-full":""} w-full max-w-6xl max-h-full p-4 transition-transform duration-300 ${d?"scale-95 opacity-0":"scale-100 opacity-100"}`,children:g?n.jsx(Aa,{src:h,alt:`Video ${l+1}`,autoPlay:!0,controls:!0},h):m?n.jsx("div",{className:"md:relative max-md:absolute left-0 top-0 w-full h-full max-md:h-full max-md:max-h-full max-h-[80vh] flex items-center justify-center",children:n.jsx("img",{src:h,alt:`Image ${l+1}`,className:"max-w-full relative max-md:w-auto max-h-[80vh] max-md:h-[95%] max-md:max-h-[100vh] object-contain rounded-lg"})}):n.jsx("div",{className:"flex items-center justify-center h-64 text-white",children:"Unsupported media type"})}),t.length>1&&n.jsx("div",{className:`${o?"max-md:h-[300px] max-md:relative":""} absolute  max-md:hidden flex-wrap bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2 max-w-full overflow-x-auto px-4 py-2`,children:t.map((b,v)=>{const j=b==null?void 0:b.toLowerCase().match(/\.(mp4|mov|avi|mkv|webm|flv|wmv|m4v|3gp|ogv)$/),N=b==null?void 0:b.toLowerCase().match(/\.(jpg|jpeg|png|gif|bmp|webp|svg)$/);return n.jsx("button",{onClick:()=>w(v),className:`flex-shrink-0 w-10 h-10 rounded-lg overflow-hidden border-2 transition-all duration-200 ${v===l?"border-white scale-110":"border-gray-600 hover:border-gray-400"}`,children:j?n.jsxs("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center relative",children:[n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:n.jsx("div",{className:"w-4 h-4 border-l-2 border-white",style:{transform:"translateX(1px)"}})}),n.jsx("video",{src:b,className:"w-full h-full object-cover opacity-70"})]}):N?n.jsx("img",{src:b,alt:`Thumbnail ${v+1}`,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center text-white text-xs",children:"File"})},v)})}),t.length>1&&n.jsxs("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 text-white bg-black bg-opacity-50 px-3 py-1 rounded-full text-sm",children:[l+1," / ",t.length]})]}):null}function qge(t,r){if(!r)return"";const s=Date.now()-new Date(r).getTime(),a=Math.floor(s/6e4);if(a<1)return"just now";if(a<60)return`${a} min${a!==1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i!==1?"s":""} ago`;const o=Math.floor(i/24);return`${o} day${o!==1?"s":""} ago`}function sc({open:t,onClose:r,entityType:s="job",entityId:a,currentUser:i,onCountChange:o}){const l=Cr(),[c,d]=u.useState(!1),[f,h]=u.useState(!1),[g,m]=u.useState([]),[p,x]=u.useState(""),[y,w]=u.useState(null),[b,v]=u.useState(""),[j,N]=u.useState(!1),[S,I]=u.useState(null),[E,L]=u.useState(!1),[C,T]=u.useState(null),k=u.useRef(null),M=u.useRef(null),_=u.useRef(null),[,J]=u.useState(0);u.useEffect(()=>{if(!t)return;const z=setInterval(()=>J(O=>O+1),6e4);return()=>clearInterval(z)},[t]),u.useEffect(()=>{function z(U){t&&k.current&&U.target===k.current&&(r==null||r())}function O(U){t&&U.key==="Escape"&&(r==null||r())}return document.addEventListener("mousedown",z),document.addEventListener("keydown",O),()=>{document.removeEventListener("mousedown",z),document.removeEventListener("keydown",O)}},[t,r]),u.useEffect(()=>{const z=O=>{C&&!O.target.closest(".comment-menu")&&T(null)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[C]),u.useEffect(()=>{if(t){const z=setTimeout(()=>{var O;return(O=_.current)==null?void 0:O.focus()},10);return()=>clearTimeout(z)}},[t]);const Y=(...O)=>ve(this,[...O],function*({silent:z=!1}={}){if(a){z||d(!0);try{const{data:U}=yield nx(s,a),se=(Array.isArray(U)?U:[]).map(fe=>{var le,Ne,Te,ht;return{id:fe.id,userId:(Ne=(le=fe.user)==null?void 0:le.id)!=null?Ne:fe.userId,userName:((Te=fe.user)==null?void 0:Te.name)||"User",avatar:((ht=fe.user)==null?void 0:ht.avatarUrl)||`https://i.pravatar.cc/60?u=${encodeURIComponent(fe.userId)}`,text:fe.text,createdAt:fe.createdAt,updatedAt:fe.updatedAt}});m(se),o==null||o(se.length)}catch(U){ce.error("Couldn't load comments.")}finally{z||d(!1)}}});u.useEffect(()=>{!t||!a||Y({silent:!1})},[t,a,s]);function te(){return ve(this,null,function*(){var U;const z=p.trim();if(!z)return;if(!(i!=null&&i.id)){(U=l._showPopUp)==null||U.call(l,"login_prompt");return}h(!0);const O={id:"local-"+Math.random().toString(36).slice(2),userId:i.id,userName:i.name||"You",avatar:i.avatarUrl||`https://i.pravatar.cc/60?u=${encodeURIComponent(i.id)}`,text:z,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};m(Z=>{const se=[O,...Z];return o==null||o(se.length),se}),x("");try{const{data:Z}=yield Uhe(s,a,z);Z!=null&&Z.id&&m(se=>se.map(fe=>{var le,Ne,Te,ht,Fe;return fe.id===O.id?{id:Z.id,userId:(Ne=(le=Z.user)==null?void 0:le.id)!=null?Ne:Z.userId,userName:((Te=Z.user)==null?void 0:Te.name)||"User",avatar:((ht=Z.user)==null?void 0:ht.avatarUrl)||`https://i.pravatar.cc/60?u=${encodeURIComponent(Z.userId)}`,text:Z.text,createdAt:Z.createdAt,updatedAt:(Fe=Z.updatedAt)!=null?Fe:Z.createdAt}:fe})),Y({silent:!0})}catch(Z){m(se=>{const fe=se.filter(le=>le.id!==O.id);return o==null||o(fe.length),fe}),ce.error("Couldn't add comment. Try again.")}finally{h(!1)}})}function K(z){w(z.id),v(z.text)}function X(){w(null),v(""),N(!1)}function W(){return ve(this,null,function*(){const z=b.trim();if(!(!y||!z)){N(!0);try{const{data:O}=yield Whe(y,z);m(U=>U.map(Z=>{var se,fe;return Z.id===y?me(ne({},Z),{text:(se=O==null?void 0:O.text)!=null?se:z,updatedAt:(fe=O==null?void 0:O.updatedAt)!=null?fe:new Date().toISOString()}):Z})),X()}catch(O){ce.error("Couldn't update comment. Try again."),N(!1)}}})}function F(z){I(z)}const P=()=>ve(this,null,function*(){if(S){L(!0);try{yield Hhe(S.id),m(z=>{const O=z.filter(U=>U.id!==S.id);return o==null||o(O.length),O}),I(null)}catch(z){throw ce.error("Couldn't delete comment. Try again."),z}finally{L(!1)}}});if(!t)return null;const A=g.length>0||c,B=z=>!!(i!=null&&i.id)&&z.userId===i.id;return n.jsxs("div",{ref:k,className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-[2px] flex items-center justify-center p-4",children:[n.jsxs("div",{ref:M,className:"w-full sm:max-w-2xl max-h-[90vh] sm:max-h-[80vh] bg-white sm:rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-4 py-3 sm:px-5",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Comments"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Share your feedback and questions. Be respectful."})]}),n.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100",onClick:r,"aria-label":"Close",children:n.jsx(Lr,{size:18})})]}),n.jsx("div",{className:"px-4 sm:px-5 pt-3",children:n.jsxs("div",{className:"flex items-start gap-3",children:[(i==null?void 0:i.avatarUrl)&&n.jsx("img",{src:(i==null?void 0:i.avatarUrl)||(i!=null&&i.id?`https://i.pravatar.cc/60?u=${encodeURIComponent(i.id)}`:"https://i.pravatar.cc/60?u=guest"),alt:"",className:"h-9 w-9 rounded-full object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("textarea",{ref:_,value:p,onChange:z=>x(z.target.value),onKeyDown:z=>{z.key==="Enter"&&(z.ctrlKey||z.metaKey)&&(z.preventDefault(),te())},rows:3,placeholder:"Write a comment… (Ctrl/⌘+Enter to send)",className:"w-full resize-y min-h-[84px] rounded-xl border border-gray-300 bg-white px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-brand-200"}),n.jsx("div",{className:"mt-2 flex items-center justify-end",children:n.jsx("button",{onClick:te,disabled:f||!p.trim(),className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium bg-brand-500 text-white hover:bg-brand-600 disabled:opacity-60",children:f?n.jsxs(n.Fragment,{children:[n.jsx(WA,{size:16,className:"animate-spin"}),"Sending…"]}):n.jsxs(n.Fragment,{children:[n.jsx(rb,{size:16}),"Send"]})})})]})]})}),n.jsx("div",{className:A?"px-4 sm:px-5 pb-5 flex-1 overflow-auto":"px-4 sm:px-5 pb-5",children:n.jsx("div",{className:"mt-4",children:c?n.jsx("div",{className:"text-sm text-gray-500",children:"Loading comments…"}):g.length===0?n.jsx("div",{className:"text-sm text-gray-500",children:"No comments yet. Start the conversation!"}):n.jsx("ul",{className:"space-y-4 pr-1",children:g.map(z=>n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("img",{src:z.avatar||"https://i.pravatar.cc/60",alt:"",className:"h-8 w-8 rounded-full object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"text-xs text-gray-500",children:[n.jsx("span",{className:"font-medium text-gray-800",children:z.userName||"User"})," ","• ",qge(null,z.createdAt)]}),B(z)&&y!==z.id&&n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:O=>{O.stopPropagation(),T(C===z.id?null:z.id)},className:"p-1 text-gray-500 hover:text-gray-700 rounded","aria-label":"More options",title:"More options",children:n.jsx(Fo,{size:14})}),C===z.id&&n.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white border rounded shadow-lg z-10 comment-menu",children:[n.jsx("button",{onClick:O=>{O.stopPropagation(),K(z),T(null)},className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Edit"}),n.jsx("button",{onClick:O=>{O.stopPropagation(),F(z),T(null)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Delete"})]})]})]}),y===z.id?n.jsxs("div",{className:"mt-2",children:[n.jsx("textarea",{value:b,onChange:O=>v(O.target.value),onKeyDown:O=>{O.key==="Enter"&&(O.ctrlKey||O.metaKey)&&(O.preventDefault(),W())},rows:3,className:"w-full rounded-xl border border-gray-300 bg-white px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-brand-200"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("button",{onClick:W,disabled:j||!b.trim(),className:"inline-flex items-center gap-2 rounded-xl px-3 py-1.5 text-sm font-medium bg-brand-500 text-white hover:bg-brand-600 disabled:opacity-60",children:j?n.jsxs(n.Fragment,{children:[n.jsx(WA,{size:14,className:"animate-spin"}),"Saving…"]}):"Save"}),n.jsx("button",{onClick:X,className:"inline-flex items-center gap-2 rounded-xl px-3 py-1.5 text-sm font-medium border border-gray-300 text-gray-700 bg-white hover:border-gray-400",children:"Cancel"})]})]}):n.jsx("div",{className:"text-sm text-gray-800 whitespace-pre-line mt-1",children:z.text})]})]},z.id))})})})]}),n.jsx(is,{open:!!S,onClose:()=>I(null),title:"Delete comment?",text:"This action cannot be undone.",confirmText:E?"Deleting…":"Delete",cancelText:"Cancel",tone:"danger",onConfirm:P})]})}const ac=({isOpen:t,onClose:r,item:s,type:a="event",mediaUrls:i=[],initialMediaIndex:o=0,tags:l=[]})=>{var P,A,B,z,O;const{user:c}=Xt(),d=Cr(),f=qt(),[h,g]=u.useState(!!(s!=null&&s.isLiked)),[m,p]=u.useState(Number((s==null?void 0:s.likesCount)||0)),[x,y]=u.useState(Number((s==null?void 0:s.commentsCount)||0)),[w,b]=u.useState((s==null?void 0:s.connectionStatus)||"none"),[v,j]=u.useState(!1),[N,S]=u.useState(!1),[I,E]=u.useState(!1),[L,C]=u.useState(!1),[T,k]=u.useState(!1);if(u.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),u.useEffect(()=>{const U=Z=>{Z.key==="Escape"&&r()};if(t)return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[t,r]),u.useEffect(()=>{s!=null&&s.id&&(g(!!s.isLiked),p(Number(s.likesCount||0)),y(Number(s.commentsCount||0)),b(s.connectionStatus||"none"))},[s]),!t||!s)return null;const M=()=>ve(void 0,null,function*(){var U;if(!(c!=null&&c.id)){(U=d._showPopUp)==null||U.call(d,"login_prompt");return}g(Z=>!Z),p(Z=>h?Math.max(0,Z-1):Z+1);try{const{data:Z}=yield tc(a,s.id);g(Z.liked),p(Z.count)}catch(Z){g(se=>!se),p(se=>h?se+1:Math.max(0,se-1))}}),_=U=>ve(void 0,null,function*(){try{yield rc(a,s.id,"other",U),ce.success("Report submitted. Thank you.")}catch(Z){ce.success("Report submitted. Thank you.")}}),J=()=>{j(!1),b("pending_outgoing")},Y=`${window.location.origin}/${a}/${s==null?void 0:s.id}`,te=(s==null?void 0:s.title)||`${a.charAt(0).toUpperCase()+a.slice(1)} on 54Links`,K=((s==null?void 0:s.description)||"").slice(0,160)+(((s==null?void 0:s.description)||"").length>160?"…":""),X=["54Links",a.charAt(0).toUpperCase()+a.slice(1),"Networking"].filter(Boolean),W=((A=(P=import.meta)==null?void 0:P.env)==null?void 0:A.VITE_FACEBOOK_APP_ID)||void 0,F=()=>n.jsxs("button",{onClick:()=>ve(void 0,null,function*(){try{yield navigator.clipboard.writeText(Y),ce.success("Link copied"),E(!1)}catch(U){ce.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[n.jsx(Zs,{size:16}),"Copy link"]});return n.jsxs("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full h-[90vh] overflow-hidden flex flex-col md:flex-row",children:[n.jsx("div",{className:"md:w-1/2 w-full relative bg-black h-full max-md:h-[350px]",children:i.length>0?n.jsx(Td,{urls:i,initialIndex:o,onClose:r,hideClose:!0,notFixed:!0,isFromCard:!0}):n.jsx("div",{className:"w-full h-96 bg-gray-200 flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500",children:"No media available"})})}),n.jsxs("div",{className:"md:w-1/2 w-full flex flex-col max-h-[90vh] max-md:h-auto overflow-y-auto h-full",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between max-md:hidden hidden",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Post Details"}),n.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx(Lr,{size:20})})]}),n.jsxs("div",{className:"flex-1 p-4 space-y-4",children:[n.jsxs("div",{className:"flex gap-2 justify-between border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("img",{src:s.avatarUrl||((B=s.user)==null?void 0:B.avatarUrl)||"https://randomuser.me/api/portraits/men/45.jpg",alt:"User",className:"w-12 h-12 border border-gray-300 rounded-full object-cover cursor-pointer",onClick:U=>{U.stopPropagation();const Z=(s==null?void 0:s.userId)||(s==null?void 0:s.organizerUserId)||(s==null?void 0:s.postedByUserId)||(s==null?void 0:s.creatorUserId);Z&&f(`/profile/${Z}`)}}),n.jsxs("div",{children:[n.jsx("h2",{className:"font-semibold text-gray-900 cursor-pointer hover:underline",onClick:U=>{U.stopPropagation();const Z=(s==null?void 0:s.userId)||(s==null?void 0:s.organizerUserId)||(s==null?void 0:s.postedByUserId)||(s==null?void 0:s.creatorUserId);Z&&f(`/profile/${Z}`)},children:s.userName||((z=s.user)==null?void 0:z.name)||s.organizerUserName||s.postedByUserName||"User"}),n.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-x-2",children:[s.timeAgo||"2 d"," •  ",n.jsx(so,{size:12})]})]})]}),n.jsx("div",{children:n.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors max-md:hidden",children:n.jsx(Lr,{size:20})})})]}),s.title&&n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:s.title}),s.description&&n.jsx("div",{className:"text-gray-700 leading-relaxed",children:n.jsx("div",{dangerouslySetInnerHTML:{__html:s.description}})}),a==="event"&&n.jsxs("div",{className:"space-y-2",children:[s.date&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Date:"}),n.jsx("span",{children:new Date(s.date).toLocaleDateString()})]}),s.location&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Location:"}),n.jsx("span",{children:s.location})]})]}),a==="job"&&n.jsxs("div",{className:"space-y-2",children:[s.companyName&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Company:"}),n.jsx("span",{children:s.companyName})]}),s.salaryMin&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Salary:"}),n.jsxs("span",{children:[s.currency||"USD"," ",s.salaryMin,s.salaryMax?` - ${s.salaryMax}`:""]})]})]}),s.tags&&s.tags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((U,Z)=>n.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:["#",U]},Z))})]}),n.jsx("div",{className:"px-4 pt-3 pb-3",children:n.jsxs("div",{className:"flex justify-between",children:[l&&l.length>0&&n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex flex-wrap gap-1.5 flex-1",children:[l.slice(0,3).map((U,Z)=>n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-brand-500",children:["#",U.replace(/\s+/g,"")]},Z)),l.length>3&&n.jsxs("div",{className:"relative inline-block group/tags",children:[n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium text-gray-600 bg-gray-100 cursor-help",children:["+",l.length-3," more"]}),n.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/tags:opacity-100 group-hover/tags:visible z-10 whitespace-nowrap max-w-xs",children:[n.jsx("div",{className:"flex flex-wrap gap-1",children:l.slice(3).map((U,Z)=>n.jsxs("span",{className:"inline-block",children:["#",U.replace(/\s+/g,""),Z<l.length-4?",":""]},Z))}),n.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]})}),n.jsx("div",{children:s.matchPercentage>0&&n.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${s.matchPercentage>=80?"bg-green-100 text-green-700 border border-green-200":s.matchPercentage>=60?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:[s.matchPercentage,"% match"]})})]})}),(m>0||x>0)&&n.jsxs("div",{className:"px-4 py-2 flex items-center justify-between text-xs text-gray-500 border-t border-gray-100",children:[n.jsx("div",{className:"flex items-center gap-1",children:m>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"flex -space-x-1",children:n.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center",children:n.jsx(Un,{size:10,className:"text-white fill-white"})})}),n.jsxs("button",{onClick:()=>k(!0),className:"hover:underline cursor-pointer",children:[m," ",m===1?"like":"likes"]})]})}),n.jsx("div",{className:"flex items-center gap-3",children:x>0&&n.jsxs("button",{onClick:()=>C(!0),className:"hover:underline cursor-pointer",children:[x," comment",x!==1?"s":""]})})]}),n.jsxs("div",{className:"px-2 py-1 border-t border-gray-100 grid grid-cols-4 gap-1",children:[n.jsxs("button",{onClick:M,className:`flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium ${h?"text-blue-600":"text-gray-600"}`,children:[n.jsx(Un,{size:20,className:h?"fill-blue-600":""}),n.jsx("span",{className:"max-sm:hidden",children:"Like"})]}),n.jsxs("button",{onClick:()=>C(!0),className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Rs,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Comment"})]}),n.jsxs("button",{onClick:()=>{var U;if(c!=null&&c.id)S(!0);else{(U=d._showPopUp)==null||U.call(d,"login_prompt");return}},className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Si,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Report"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:U=>{U.stopPropagation(),E(Z=>!Z)},className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Qs,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Share"})]}),I&&n.jsxs("div",{className:"absolute bottom-0 right-3 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[n.jsxs("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:["Share this ",a]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx(ua,{url:Y,title:te,separator:" — ",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(da,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),n.jsx(na,{url:Y,quote:K,hashtag:"#54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ea,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),n.jsx(aa,{url:Y,title:te,summary:K,source:"54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(sa,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),n.jsx(ca,{url:Y,title:te,hashtags:X,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(la,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),n.jsx(oa,{url:Y,title:te,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ia,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),n.jsx(Xs,{url:Y,subject:te,body:K+`

`+Y,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(Ks,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),W&&n.jsx(ra,{url:Y,appId:W,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ta,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),n.jsx("div",{className:"mt-2",children:n.jsx(F,{})})]})]})]}),!c||s.userId!==c.id&&s.organizerUserId!==c.id&&s.postedByUserId!==c.id?n.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50",children:[n.jsx("div",{className:"flex items-center gap-3",children:s.location&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[n.jsx("span",{children:"📍"}),n.jsx("span",{children:s.location})]})}),n.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[n.jsx("button",{onClick:()=>{var se;if(!(c!=null&&c.id)){d._showPopUp("login_prompt");return}const U=(s==null?void 0:s.userId)||(s==null?void 0:s.organizerUserId)||(s==null?void 0:s.postedByUserId),Z=((se=s==null?void 0:s.user)==null?void 0:se.name)||(s==null?void 0:s.userName)||(s==null?void 0:s.organizerUserName)||(s==null?void 0:s.postedByUserName)||"User";U&&(window.location.href=`/messages?userId=${U}`,ce.success(`Starting conversation with ${Z}`))},className:"flex-1 px-4 py-2 rounded-full bg-brand-600 text-white font-medium text-sm hover:bg-brand-700 transition-colors",children:"Message"}),w!=="connected"&&n.jsx("button",{onClick:()=>{if(!(c!=null&&c.id)){d._showPopUp("login_prompt");return}w==="pending_incoming"||w==="incoming_pending"?window.location.href="/notifications":j(!0)},className:`flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors ${w==="pending_outgoing"||w==="outgoing_pending"?"bg-yellow-100 text-yellow-700":w==="pending_incoming"||w==="incoming_pending"?"bg-brand-100 text-brand-600 hover:bg-brand-200":"border-2 border-brand-600 text-brand-600 hover:bg-brand-50"}`,children:w==="connected"?"Connected":w==="pending_outgoing"||w==="outgoing_pending"?"Pending":w==="pending_incoming"||w==="incoming_pending"?"Respond":"Connect"})]})]}):null]})]}),n.jsx(sc,{open:L,onClose:()=>C(!1),entityType:a,entityId:s==null?void 0:s.id,currentUser:c,onCountChange:U=>y(U)}),n.jsx(nc,{open:T,onClose:()=>k(!1),entityType:a,entityId:s==null?void 0:s.id}),n.jsx(bs,{open:v,onClose:()=>j(!1),toUserId:(s==null?void 0:s.userId)||(s==null?void 0:s.organizerUserId)||(s==null?void 0:s.postedByUserId),toName:((O=s==null?void 0:s.user)==null?void 0:O.name)||(s==null?void 0:s.userName)||(s==null?void 0:s.organizerUserName)||(s==null?void 0:s.postedByUserName)||"User",onSent:J}),n.jsx("div",{className:`fixed inset-0 z-50 ${N?"flex":"hidden"} items-center justify-center bg-black bg-opacity-50`,children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Report this ",a,"?"]}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Tell us what's happening. Our team will review."}),n.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg mb-4",rows:3,placeholder:"Describe the issue (spam, scam, offensive, etc.)"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>S(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:()=>{_("Reported via dialog"),S(!1)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Submit Report"})]})]})})]})};ac.displayName="PostDialog";function Yge({open:t,onClose:r,job:s}){var k;const[a,i]=u.useState(""),[o,l]=u.useState(""),[c,d]=u.useState(""),[f,h]=u.useState(""),[g,m]=u.useState(""),{profile:p}=Xt(),[x,y]=u.useState("existing"),[w,b]=u.useState(0),[v,j]=u.useState(null),[N,S]=u.useState(""),[I,E]=u.useState(!0),[L,C]=u.useState(!1),T=M=>ve(this,null,function*(){var J,Y,te;if(M.preventDefault(),C(!0),x==="existing"&&(!(p!=null&&p.cvBase64)||p.cvBase64.length===0)){ce.error("Please upload a CV to proceed with your application");return}if(x==="upload"&&!v){ce.error("Please upload a CV file to proceed with your application");return}let _=null;if(x==="existing"&&((J=p==null?void 0:p.cvBase64)==null?void 0:J.length)>0)_=p.cvBase64[w];else if(x==="upload"&&v){const K=yield new Promise((X,W)=>{const F=new FileReader;F.onload=()=>X(F.result),F.onerror=W,F.readAsDataURL(v)});_={original_filename:v.name,title:N.trim()||v.name,base64:K,created_at:new Date().toISOString()}}try{if(yield Le.post("/job-applications",{jobId:s.id,coverLetter:a,expectedSalary:o||null,availability:c||null,availabilityDate:c==="specific"?f:null,employmentType:g||null,cvData:_}),x==="upload"&&I&&_)try{const X=[...(p==null?void 0:p.cvBase64)||[],_];yield Le.put("/profile/portfolio",{cvBase64:X})}catch(K){console.error("Failed to save CV to profile:",K)}ce.success("Application submitted successfully!"),r("applied"),C(!1),i(""),l(""),d(""),h(""),m(""),y("existing"),b(0),j(null),S(""),E(!0)}catch(K){ce.error(((te=(Y=K.response)==null?void 0:Y.data)==null?void 0:te.message)||"Failed to submit application"),C(!1)}});return t?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Apply for ",s==null?void 0:s.title]}),n.jsx("button",{onClick:r,className:"p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Close",children:n.jsx(Lr,{size:20,className:"text-gray-500"})})]}),n.jsxs("form",{onSubmit:T,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Letter"}),n.jsx("textarea",{value:a,onChange:M=>i(M.target.value),placeholder:"Tell us why you're interested in this position...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent resize-none",rows:6,required:!0})]}),n.jsxs("div",{className:"hidden",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Expected Salary / Rate ",n.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),n.jsx("input",{type:"text",value:o,onChange:M=>l(M.target.value),placeholder:"e.g., $50,000 - $60,000, Negotiable",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Availability ",n.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),n.jsxs("select",{value:c,onChange:M=>d(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select availability"}),n.jsx("option",{value:"immediate",children:"Immediate"}),n.jsx("option",{value:"1month",children:"1 Month"}),n.jsx("option",{value:"specific",children:"Specific Date"})]}),c==="specific"&&n.jsx("input",{type:"date",min:new Date().toISOString().split("T")[0],value:f,onChange:M=>h(M.target.value),className:"w-full mt-2 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]}),n.jsxs("div",{className:"hidden",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Employment Type Preference ",n.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),n.jsxs("select",{value:g,onChange:M=>m(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select employment type"}),n.jsx("option",{value:"full-time",children:"Full-time"}),n.jsx("option",{value:"part-time",children:"Part-time"}),n.jsx("option",{value:"contract",children:"Contract"}),n.jsx("option",{value:"internship",children:"Internship"}),n.jsx("option",{value:"remote",children:"Remote"}),n.jsx("option",{value:"hybrid",children:"Hybrid"}),n.jsx("option",{value:"onsite",children:"Onsite"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["CV/Resume ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-4 mb-3",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"cvSelection",value:"existing",checked:x==="existing",onChange:M=>y(M.target.value),className:"mr-2"}),n.jsx("span",{className:"text-sm",children:"Use existing CV"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"cvSelection",value:"upload",checked:x==="upload",onChange:M=>y(M.target.value),className:"mr-2"}),n.jsx("span",{className:"text-sm",children:"Upload new CV"})]})]}),x==="existing"&&n.jsx("div",{children:((k=p==null?void 0:p.cvBase64)==null?void 0:k.length)>0?n.jsx("div",{className:"space-y-2",children:p.cvBase64.map((M,_)=>n.jsxs("div",{className:`flex items-center justify-between border rounded-lg p-3 cursor-pointer transition-colors ${w===_?"border-brand-500 bg-brand-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>b(_),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-12 bg-red-600 text-white flex items-center justify-center rounded",children:"PDF"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:M.title||M.original_filename}),n.jsxs("p",{className:"text-xs text-gray-500",children:[Math.round(M.base64.length*3/4/1024)," KB · Last used on ",new Date(M.created_at).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("a",{href:M.base64,download:M.original_filename,children:n.jsx(La,{size:18,className:"text-gray-500 cursor-pointer"})}),w===_&&n.jsx(tx,{size:20,className:"text-green-600"})]})]},_))}):n.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-lg",children:'No CVs available in your profile. Please switch to "Upload new CV" to upload a resume.'})}),x==="upload"&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"CV Title (optional)",value:N,onChange:M=>S(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:M=>{const _=M.target.files[0];if(_){if(_.size>10*1024*1024){ce.error("File size must be less than 10MB");return}j(_),N.trim()||S(_.name.replace(/\.[^/.]+$/,""))}},className:"hidden",id:"cv-upload-job",required:x==="upload"}),n.jsx("label",{htmlFor:"cv-upload-job",className:"flex items-center justify-center w-full h-20 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-brand-500 hover:bg-brand-50 transition-colors",children:n.jsxs("div",{className:"text-center",children:[n.jsx(FC,{size:20,className:"mx-auto mb-1 text-gray-400"}),n.jsx("p",{className:"text-sm text-gray-600",children:v?v.name:"Click to upload CV"}),n.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOC, DOCX up to 10MB"})]})})]}),!v&&n.jsx("p",{className:"text-sm text-red-600",children:"Please upload a CV file to continue"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"save-to-profile",checked:I,onChange:M=>E(M.target.checked),className:"mr-2"}),n.jsx("label",{htmlFor:"save-to-profile",className:"text-sm text-gray-700",children:"Save to my profile"})]})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-brand-500 hover:bg-brand-600 rounded-lg transition-colors",disabled:L||x==="existing"&&(!(p!=null&&p.cvBase64)||p.cvBase64.length===0)||x==="upload"&&!v,children:L?"Submitting Application...":"Submit Application"})]})]})]})})}):null}function Jge(t,r){if(t)return t;if(!r)return"";const s=Date.now()-new Date(r).getTime(),a=Math.floor(s/6e4);if(a<60)return`${a} min${a!==1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i!==1?"s":""} ago`;const o=Math.floor(i/24);return`${o} day${o!==1?"s":""} ago`}function Ad({job:t,onEdit:r,onDelete:s,type:a="grid",matchPercentage:i=0}){var dt,yt,Ie,ze,qe,it,Ae,Ge,Ye,Et,Ot;if((t==null?void 0:t.id)=="45d43faa-f907-4361-b25b-c43222a1a636")return;const{user:o,settings:l,profile:c}=Xt(),d=qt(),f=Cr(),[h,g]=u.useState(!1),[m,p]=u.useState(!1),[x,y]=u.useState(null),[w,b]=u.useState((t==null?void 0:t.connectionStatus)||"none"),[v,j]=u.useState((t==null?void 0:t.applicationStatus)||"not_applied"),[N,S]=u.useState(!1),[I,E]=u.useState(!!(t!=null&&t.isLiked)),[L,C]=u.useState(Number((t==null?void 0:t.likesCount)||0)),[T,k]=u.useState(Number((t==null?void 0:t.commentsCount)||0)),[M,_]=u.useState(!1),[J,Y]=u.useState(!1),te=u.useRef(null),[K,X]=u.useState(!1),[W,F]=u.useState(!1),[P,A]=u.useState(!1),[B,z]=u.useState(!1),[O,U]=u.useState(!1),[Z,se]=u.useState(!1),fe=u.useRef(null),[le,Ne]=u.useState(null),[Te,ht]=u.useState(null),[Fe,Ve]=u.useState(!1),[ut,Je]=u.useState(null),G=50,ae=ft=>{ht(null),Ne(ft.targetTouches[0].clientX)},Me=ft=>ht(ft.targetTouches[0].clientX),he=()=>{},ye=ft=>{Ve(!0),Je(ft.clientX)},oe=ft=>{if(!Fe)return;const D=ft.clientX,Q=ut-D;Math.abs(Q)>G&&Ve(!1)},ie=()=>{Ve(!1),Je(null)};u.useEffect(()=>{function ft(Q){te.current&&!te.current.contains(Q.target)&&Y(!1),fe.current&&!fe.current.contains(Q.target)&&(A(!1),z(!1))}function D(Q){Q.key==="Escape"&&(Y(!1),A(!1),z(!1))}return document.addEventListener("mousedown",ft),document.addEventListener("keydown",D),()=>{document.removeEventListener("mousedown",ft),document.removeEventListener("keydown",D)}},[]);const q=(o==null?void 0:o.id)&&(t==null?void 0:t.postedByUserId)&&o.id===t.postedByUserId,Se=(t==null?void 0:t.postedByUserAvatarUrl)||null,$e=ft=>ft?ft!=null&&ft.startsWith("data:")||ft!=null&&ft.startsWith("http")?ft:`${En}/uploads/${ft}`:null,rt=u.useMemo(()=>{var Q;const ft=$e(t==null?void 0:t.videoUrl),D=$e((t==null?void 0:t.coverImageBase64)||(t==null?void 0:t.coverImage));return ft?{type:"video",url:ft}:D?{type:"image",url:D}:!(t!=null&&t.make_company_name_private)&&((Q=t==null?void 0:t.company)!=null&&Q.avatarUrl)?{type:"image",url:$e(t.company.avatarUrl)}:null},[t==null?void 0:t.videoUrl,t==null?void 0:t.coverImageBase64,t==null?void 0:t.make_company_name_private,(dt=t==null?void 0:t.company)==null?void 0:dt.avatarUrl]);console.log({jobId:t==null?void 0:t.id,coverImage:t==null?void 0:t.coverImageBase64,videoUrl:t==null?void 0:t.videoUrl,mediaToDisplay:rt});const nt=["Job Offer",...Array.isArray(t==null?void 0:t.audienceCategories)?t==null?void 0:t.audienceCategories.map(ft=>ft.name):[],t==null?void 0:t.jobType,t==null?void 0:t.workMode,t==null?void 0:t.categoryName,t==null?void 0:t.subcategoryName].filter(Boolean),Ue=(t==null?void 0:t.salaryMin)!=null||(t==null?void 0:t.salaryMax)!=null?`${(t==null?void 0:t.currency)||"USD"} ${(yt=t==null?void 0:t.salaryMin)!=null?yt:""}${(t==null?void 0:t.salaryMax)!=null?` - ${t==null?void 0:t.salaryMax}`:""}`:"",xt=u.useMemo(()=>Jge(t==null?void 0:t.timeAgo,t==null?void 0:t.createdAt),[t==null?void 0:t.timeAgo,t==null?void 0:t.createdAt]);function Oe(){p(!1),b("pending_outgoing")}const Ee=ft=>{if(!ft)return"";const D=ft.replace(/<br\s*\/?>/gi,". "),Q=document.createElement("div");Q.innerHTML=D;let H=Q.textContent||Q.innerText||"";return H=H.replace(/\s+/g," ").trim(),H},ee=()=>ve(this,null,function*(){var ft;if(!(o!=null&&o.id)){(ft=f._showPopUp)==null||ft.call(f,"login_prompt");return}E(D=>!D),C(D=>I?Math.max(0,D-1):D+1);try{const{data:D}=yield tc("job",t.id);E(D.liked),C(D.count)}catch(D){E(Q=>!Q),C(Q=>I?Q+1:Math.max(0,Q-1))}}),de=ft=>ve(this,null,function*(){try{yield rc("job",t.id,"other",ft),ce.success("Report submitted. Thank you.")}catch(D){ce.success("Report submitted. Thank you.")}}),ue=`${window.location.origin}/job/${t==null?void 0:t.id}`,_e=(t==null?void 0:t.title)||"Opportunity on 54Links",Xe=((t==null?void 0:t.description)||"").slice(0,160)+(((t==null?void 0:t.description)||"").length>160?"…":""),gt=["54Links","Jobs","Opportunities"].filter(Boolean),wt=((ze=(Ie=import.meta)==null?void 0:Ie.env)==null?void 0:ze.VITE_FACEBOOK_APP_ID)||void 0,vt=()=>n.jsxs("button",{onClick:()=>ve(this,null,function*(){try{yield navigator.clipboard.writeText(ue),ce.success("Link copied"),Y(!1)}catch(ft){ce.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[n.jsx(Zs,{size:16}),"Copy link"]}),ct=()=>n.jsxs("div",{ref:te,className:"absolute z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl bottom-0 right-3",role:"dialog","aria-label":"Share options",children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this job"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx(ua,{url:ue,title:_e,separator:" — ",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(da,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),n.jsx(na,{url:ue,quote:Xe,hashtag:"#54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ea,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),n.jsx(aa,{url:ue,title:_e,summary:Xe,source:"54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(sa,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),n.jsx(ca,{url:ue,title:_e,hashtags:gt,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(la,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),n.jsx(oa,{url:ue,title:_e,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ia,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),n.jsx(Xs,{url:ue,subject:_e,body:Xe+`

`+ue,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(Ks,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),wt&&n.jsx(ra,{url:ue,appId:wt,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ta,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),n.jsx("div",{className:"mt-2",children:n.jsx(vt,{})})]}),Ze=()=>n.jsx("div",{ref:fe,className:"absolute z-30 w-48 rounded-xl border border-gray-200 bg-white p-2 shadow-xl top-12 right-3",role:"dialog","aria-label":"Options menu",children:B?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-900 border-b border-gray-200 mb-2",children:"Delete this job?"}),n.jsxs("button",{onClick:()=>ve(this,null,function*(){var ft,D;try{yield Le.delete(`/jobs/${t.id}`),ce.success("Job deleted successfully"),U(!0),s&&s(t)}catch(Q){console.error("Failed to delete job:",Q),ce.error(((D=(ft=Q==null?void 0:Q.response)==null?void 0:ft.data)==null?void 0:D.message)||"Failed to delete job")}A(!1),z(!1)}),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors mb-1",children:[n.jsx(On,{size:16}),"Confirm Delete"]}),n.jsx("button",{onClick:()=>z(!1),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"Cancel"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>{d(`/job/${t.id}`),A(!1)},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors mb-1",children:[n.jsx(Kl,{size:16}),"Edit"]}),n.jsxs("button",{onClick:()=>z(!0),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[n.jsx(On,{size:16}),"Delete"]})]})});return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 overflow-hidden ${O?"hidden":""}`,children:[n.jsxs("div",{className:"px-4 pt-3 pb-2 flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx("div",{className:"cursor-pointer flex-shrink-0",onClick:ft=>{ft.stopPropagation(),t!=null&&t.postedByUserId&&d(`/profile/${t.postedByUserId}`)},children:Se?n.jsx("div",{className:`flex bg-white items-center  justify-center w-20 h-20 ${((qe=t==null?void 0:t.postedBy)==null?void 0:qe.accountType)==="company"?" rounded":"rounded-full"} border border-gray-300  overflow-hidden`,children:n.jsx("img",{src:Se,alt:(t==null?void 0:t.postedByUserName)||"User",className:"w-full h-full",style:{objectFit:"cover"}})}):n.jsx("div",{className:`w-20  h-20 bg-gray-200 flex items-center justify-center ${((it=t==null?void 0:t.postedBy)==null?void 0:it.accountType)==="company"?"rounded":"rounded-full"} border border-gray-100`,children:n.jsx(ka,{size:24,className:"text-gray-400"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-semibold text-sm text-gray-900 hover:underline cursor-pointer",onClick:ft=>{ft.stopPropagation(),t!=null&&t.postedByUserId&&d(`/profile/${t.postedByUserId}`)},children:(t==null?void 0:t.postedByUserName)||"User"}),n.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[!(t!=null&&t.make_company_name_private)&&(t!=null&&t.companyName)?t==null?void 0:t.companyName:(Ae=t==null?void 0:t.company)!=null&&Ae.followersCount?`${t.company.followersCount.toLocaleString()} followers`:"",(!(t!=null&&t.make_company_name_private)&&(t==null?void 0:t.companyName)||((Ge=t==null?void 0:t.company)==null?void 0:Ge.followersCount))&&((Ye=t==null?void 0:t.profile)==null?void 0:Ye.professionalTitle)&&" | ",(Et=t==null?void 0:t.profile)==null?void 0:Et.professionalTitle]}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5",children:[n.jsx("span",{children:xt}),n.jsx("span",{children:"•"}),n.jsx(so,{size:12})]})]})]}),n.jsxs("div",{className:"relative flex-shrink-0",children:[q&&n.jsx("button",{onClick:ft=>{ft.stopPropagation(),A(D=>!D)},className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors","aria-label":"More options",children:n.jsx(Fo,{size:20,className:"text-gray-600"})}),P&&n.jsx(Ze,{})]})]}),n.jsxs("div",{className:"px-4 pb-3",children:[n.jsx("h3",{className:"font-semibold text-base text-gray-900 mb-1 hover:text-brand-600 cursor-pointer transition-colors",onClick:()=>{q?d(`/job/${t.id}`):S(!0)},children:t==null?void 0:t.title}),n.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:[n.jsx("div",{dangerouslySetInnerHTML:{__html:t.description.length>150&&!Z?(t.description||"No description provided.").slice(0,150):t.description||"No description provided."},className:Z?"":"line-clamp-3"}),(t==null?void 0:t.description)&&Ee(t==null?void 0:t.description).length>150&&n.jsx("button",{onClick:()=>se(!Z),className:"text-gray-500 hover:text-brand-600 font-medium mt-1",children:Z?"Show less":"...more"})]})]}),rt&&n.jsx("div",{className:"relative bg-gray-900",children:rt.type==="video"?n.jsx(Aa,{src:rt.url,alt:"Job video"}):n.jsx("img",{src:rt.url,alt:"Job cover",className:"w-full max-h-96 object-contain cursor-pointer select-none",style:{userSelect:"none"},onClick:()=>S(!0),onTouchStart:ae,onTouchMove:Me,onTouchEnd:he,onMouseDown:ye,onMouseMove:oe,onMouseUp:ie,onMouseLeave:ie})}),n.jsxs("div",{className:"flex justify-between px-4 pt-3 pb-3",children:[nt.length>0&&n.jsx("div",{className:" flex-1",children:n.jsxs("div",{className:"flex flex-wrap gap-1.5 flex-1",children:[nt.slice(0,3).map((ft,D)=>n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-brand-500",children:["#",ft.replace(/\s+/g,"")]},D)),nt.length>3&&n.jsxs("div",{className:"relative inline-block group/tags",children:[n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium text-gray-600 bg-gray-100 cursor-help",children:["+",nt.length-3," more"]}),n.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/tags:opacity-100 group-hover/tags:visible z-10 whitespace-nowrap max-w-xs",children:[n.jsx("div",{className:"flex flex-wrap gap-1",children:nt.slice(3).map((ft,D)=>n.jsxs("span",{className:"inline-block",children:["#",ft.replace(/\s+/g,""),D<nt.length-4?",":""]},D))}),n.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]})}),n.jsx("div",{children:i>0&&n.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${i>=80?"bg-green-100 text-green-700 border border-green-200":i>=60?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:[i,"% match"]})})]}),(L>0||T>0)&&n.jsxs("div",{className:"px-4 py-2 flex items-center justify-between text-xs text-gray-500 border-t border-gray-100",children:[n.jsx("div",{className:"flex items-center gap-1",children:L>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"flex -space-x-1",children:n.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center",children:n.jsx(Un,{size:10,className:"text-white fill-white"})})}),n.jsxs("button",{onClick:()=>g(!0),className:"hover:underline cursor-pointer",children:[L," ",L===1?"like":"likes"]})]})}),n.jsx("div",{className:"flex items-center gap-3",children:T>0&&n.jsxs("button",{onClick:()=>X(!0),className:"hover:underline",children:[T," comment",T!==1?"s":""]})})]}),n.jsxs("div",{className:"px-2 py-1 border-t border-gray-100 grid grid-cols-4 gap-1",children:[n.jsxs("button",{onClick:ee,className:`flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium ${I?"text-blue-600":"text-gray-600"}`,children:[n.jsx(Un,{size:20,className:I?"fill-blue-600":""}),n.jsx("span",{className:"max-sm:hidden",children:"Like"})]}),n.jsxs("button",{onClick:()=>X(!0),className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Rs,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Comment"})]}),n.jsxs("button",{onClick:()=>{var ft;if(o!=null&&o.id)_(!0);else{(ft=f._showPopUp)==null||ft.call(f,"login_prompt");return}},className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Si,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Report"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:ft=>{ft.stopPropagation(),Y(D=>!D)},className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Qs,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Share"})]}),J&&n.jsx(ct,{})]})]}),n.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[Ue&&n.jsx("div",{className:"text-sm font-semibold text-gray-900",children:Ue}),n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[n.jsx(gn,{size:14}),!((Ot=t==null?void 0:t.countries)!=null&&Ot.length)&&!(t!=null&&t.country)&&n.jsx("span",{children:"All countries"}),n.jsx("span",{children:(()=>{const ft=(t==null?void 0:t.countries)||[],D=t==null?void 0:t.country,Q=t==null?void 0:t.city;if(ft.length>0)if(ft.length===1){const H=ft[0];return n.jsxs("span",{children:[H.city?`${H.city}, `:"",H.country||"-"]})}else{const H=ft[0],V=ft.length-1;return n.jsxs("div",{className:"relative group/location",children:[n.jsxs("span",{className:"cursor-help",children:[H.country,H.city?`, ${H.city}`:""," +",V]}),n.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/location:opacity-100 group-hover/location:visible z-10 whitespace-nowrap max-w-xs",children:[n.jsx("div",{className:"space-y-1",children:ft.map((re,ge)=>n.jsxs("div",{className:"text-left",children:[re.city?`${re.city}, `:"",re.country]},ge))}),n.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})}return n.jsxs("span",{children:[Q?`${Q}, `:"",D||"-"]})})()})]})]}),!q&&n.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[v==="applied"?n.jsxs("button",{className:"flex-1 px-4 py-2 rounded-full bg-green-100 text-green-700 font-medium text-sm flex items-center justify-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Applied"]}):n.jsx("button",{onClick:()=>{if(!(o!=null&&o.id)){f._showPopUp("login_prompt");return}F(!0)},className:"flex-1 px-4 py-2 rounded-full bg-brand-600 text-white font-medium text-sm hover:bg-brand-700 transition-colors",children:"Apply"}),w!=="connected"&&n.jsx("button",{disabled:w==="pending_outgoing"||w==="outgoing_pending"||w==="incoming_pending",onClick:()=>{if(w==="pending_incoming"||w==="incoming_pending"){d("/notifications");return}if(!(o!=null&&o.id)){f._showPopUp("login_prompt");return}p(!0)},className:`flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors ${w==="pending_outgoing"||w==="outgoing_pending"?"bg-yellow-100 text-yellow-700":w==="pending_incoming"||w==="incoming_pending"?"bg-brand-100 text-brand-600 hover:bg-brand-200":"border-2 border-brand-600 text-brand-600 hover:bg-brand-50"}`,children:w==="pending_outgoing"||w==="outgoing_pending"?"Pending":w==="pending_incoming"||w==="incoming_pending"?"Respond":"Connect"})]})]})]}),n.jsx(bs,{open:m,onClose:()=>p(!1),toUserId:t==null?void 0:t.postedByUserId,toName:(t==null?void 0:t.postedByUserName)||"Job Poster",onSent:Oe}),n.jsx(_d,{userId:x,isOpen:!!x,onClose:()=>y(null),onSent:Oe}),n.jsx(ac,{isOpen:N,onClose:()=>S(!1),item:t,type:"job",tags:nt,mediaUrls:rt?[rt.url]:[],initialMediaIndex:0}),n.jsx(is,{open:M,onClose:()=>_(!1),title:"Report this job?",text:"Tell us what's happening. Our team will review.",confirmText:"Submit report",cancelText:"Cancel",withInput:!0,inputType:"textarea",inputLabel:"Report details",inputPlaceholder:"Describe the issue (spam, scam, offensive, etc.)",requireValue:!0,onConfirm:de}),n.jsx(sc,{open:K,onClose:()=>X(!1),entityType:"job",entityId:t==null?void 0:t.id,currentUser:o,onCountChange:ft=>k(ft)}),n.jsx(nc,{open:h,onClose:()=>g(!1),entityType:"job",entityId:t==null?void 0:t.id}),n.jsx(Yge,{open:W,onClose:ft=>{ft=="applied"&&j("applied"),F(!1)},job:t,profile:c})]})}const sx=()=>n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"relative mb-6",children:n.jsx("div",{className:"w-full h-64 bg-gradient-to-br from-gray-200 to-gray-300 rounded-lg"})}),n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-8 bg-gray-300 rounded mb-2 w-3/4"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded mb-3 w-1/2"}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),n.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded ml-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]})]}),n.jsx("div",{className:"h-8 bg-gray-300 rounded w-24"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-20"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-18"})]}),n.jsxs("div",{className:"mt-5 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-20"})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-100",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 bg-gray-300 rounded mb-1 w-32"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"})]})]})]}),n.jsxs("div",{className:"mt-5 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-24"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]}),n.jsxs("div",{className:"mt-5 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-20"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{className:"h-3 bg-gray-200 rounded mb-1 w-16"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-20"})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{className:"h-3 bg-gray-200 rounded mb-1 w-12"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-16"})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{className:"h-3 bg-gray-200 rounded mb-1 w-24"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-28"})]})]})]}),n.jsxs("div",{className:"mt-5 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-24"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-20"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-18"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-14"})]})]}),n.jsxs("div",{className:"mt-5 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-16"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})]}),n.jsxs("div",{className:"mt-5 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-20"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-20"})]})]}),n.jsxs("div",{className:"mt-5 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-28"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-18"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-24"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"})]})]}),n.jsxs("div",{className:"mt-5 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-24"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/5"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("div",{className:"flex-1 h-10 bg-gray-300 rounded-lg"}),n.jsx("div",{className:"flex-1 h-10 bg-gray-300 rounded-lg"}),n.jsx("div",{className:"flex-1 h-10 bg-gray-300 rounded-lg"})]})]});function Zge(t){if(!t)return"";const r=new Date(t).getTime(),s=Date.now(),a=Math.floor((s-r)/1e3);if(a<60)return"Just now";const i=Math.floor(a/60);if(i<60)return`${i} min${i>1?"s":""} ago`;const o=Math.floor(i/60);if(o<24)return`${o} hour${o>1?"s":""} ago`;const l=Math.floor(o/24);if(l<30)return`${l} day${l>1?"s":""} ago`;const c=Math.floor(l/30);if(c<12)return`${c} month${c>1?"s":""} ago`;const d=Math.floor(c/12);return`${d} year${d>1?"s":""} ago`}function Ig({children:t,tone:r="brand"}){const s={brand:"bg-brand-50 text-brand-600",green:"bg-green-100 text-green-700",gray:"bg-gray-100 text-gray-700",blue:"bg-blue-100 text-blue-700",red:"bg-red-100 text-red-700"};return n.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] ${s[r]||s.gray}`,children:t})}function Cc({title:t,icon:r,children:s}){return n.jsxs("div",{className:"mt-5 text-left",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r?n.jsx(r,{size:16,className:"text-brand-600"}):null,n.jsx("h3",{className:"font-medium text-sm",children:t})]}),s]})}function Qge({needId:t,isOpen:r,onClose:s,item:a}){var L,C,T,k;const[i,o]=u.useState(!1),[l,c]=u.useState(!1),[d,f]=u.useState(null),[h,g]=u.useState(""),[m,p]=u.useState(!1),x=u.useRef(null),y=u.useRef(null),w=u.useRef(null),b=Cr(),{user:v}=Xt(),j=qt();u.useEffect(()=>{function M(J){y.current&&x.current&&!y.current.contains(J.target)&&!x.current.contains(J.target)&&p(!1)}function _(J){J.key==="Escape"&&p(!1)}return document.addEventListener("mousedown",M),document.addEventListener("keydown",_),()=>{document.removeEventListener("mousedown",M),document.removeEventListener("keydown",_)}},[]),u.useEffect(()=>{if(!r){f(null),g("");return}if(!t)return;let M=!0;function _(){return ve(this,null,function*(){c(!0),g(""),f(null);try{const{data:J}=yield Le.get(`/needs/${t}`);M&&f(J)}catch(J){console.error("Error fetching need details:",J),M&&g("Failed to load need details.")}finally{M&&c(!1)}})}return _(),()=>{M=!1}},[r,t]);function N(){ce.success("Connection request sent"),o(!1)}if(!r)return null;const S=((d==null?void 0:d.user.name)||(a==null?void 0:a.userName)||"?").split(" ").map(M=>M[0]).join("").slice(0,2).toUpperCase(),I=()=>{var M;if(((M=d==null?void 0:d.attachments)==null?void 0:M.length)>0){for(const _ of d.attachments)if(_!=null&&_.base64url&&_.base64url.startsWith("data:image")||_.base64url.startsWith("http://")||_.base64url.startsWith("https://"))return _.base64url}return null},E=()=>{var J,Y;const M=(J=d==null?void 0:d.city)==null?void 0:J.trim(),_=(Y=d==null?void 0:d.country)==null?void 0:Y.trim();return M&&_?`${M}, ${_}`:_||M||""};return n.jsxs("div",{className:"fixed z-[99] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[n.jsxs("div",{ref:w,className:"bg-white z-[99] w-full max-w-2xl rounded-2xl shadow-xl flex flex-col max-h-[85vh] overflow-hidden relative",children:[n.jsxs("div",{className:"bg-brand-500 p-4 flex justify-between items-center",children:[n.jsx("div",{className:"text-white font-medium",children:"Need Details"}),n.jsx("button",{onClick:()=>{var M;s(),(M=b._closeAllPopUps)==null||M.call(b)},className:"text-white hover:text-brand-100",children:n.jsx(Lr,{size:20})})]}),n.jsx("div",{className:"p-6 overflow-y-auto",children:l?n.jsx(sx,{}):h?n.jsx("div",{className:"text-sm text-red-600",children:h}):d?n.jsxs(n.Fragment,{children:[(()=>{var _;const M=I();return M?n.jsx("div",{className:"relative mb-6",children:n.jsx("img",{src:M,alt:d.title,className:"w-full h-64 object-cover bg-gray-50 rounded-lg"})}):((_=d.attachments)==null?void 0:_.length)>0?n.jsx("div",{className:"relative mb-6",children:n.jsx("div",{className:"w-full h-64 bg-gray-200 flex justify-center items-center rounded-lg",children:n.jsx("img",{src:ah,className:"w-[100px]",alt:"54Links logo"})})}):null})(),n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:d.title}),n.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-600",children:[n.jsx(hl,{size:16}),n.jsx("span",{children:Zge(d.createdAt)}),E()&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"mx-1",children:"•"}),n.jsx(gn,{size:16}),n.jsx("span",{children:E()})]})]})]}),d.budget&&n.jsx("div",{className:"text-2xl font-bold text-brand-600",children:d.budget})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[d.urgency&&n.jsxs(Ig,{tone:d.urgency==="High"?"red":d.urgency==="Medium"?"blue":"gray",children:[d.urgency," Priority"]}),d.relatedEntityType&&n.jsx(Ig,{tone:"brand",children:d.relatedEntityType})]}),n.jsx(Cc,{title:"Posted by",icon:vs,children:n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border border-gray-100 hover:border-brand-200",onClick:()=>{},children:[d.userAvatarUrl?n.jsx("img",{src:d==null?void 0:d.user.avatarUrl,alt:d==null?void 0:d.user.name,className:"w-10 h-10 rounded-full object-cover"}):n.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-brand-600 font-medium",children:S})}),n.jsx("div",{children:n.jsx("div",{className:"font-medium",children:(d==null?void 0:d.user.name)||"User"})})]})}),n.jsx(Cc,{title:"Description",icon:Rs,children:n.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:d.description||"No description provided."})}),n.jsx(Cc,{title:"Details",icon:Lh,children:n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[d.budget&&n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-gray-500",children:"Budget"}),n.jsx("span",{className:"font-medium",children:d.budget})]}),d.urgency&&n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-gray-500",children:"Urgency"}),n.jsx("span",{className:"font-medium",children:d.urgency})]})]})}),E()&&n.jsx(Cc,{title:"Location",icon:gn,children:n.jsx("div",{className:"text-sm text-gray-700",children:E()})}),((L=d.audienceCategories)==null?void 0:L.length)>0&&n.jsx(Cc,{title:"Categories",icon:no,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:d.audienceCategories.map((M,_)=>n.jsx(Ig,{tone:"brand",children:M.name},`cat-${_}`))})}),((C=d.audienceSubcategories)==null?void 0:C.length)>0&&n.jsx(Cc,{title:"Subcategories",icon:no,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:d.audienceSubcategories.map((M,_)=>n.jsx(Ig,{tone:"gray",children:M.name},`subcat-${_}`))})}),((T=d.audienceIdentities)==null?void 0:T.length)>0&&n.jsx(Cc,{title:"Target Audience",icon:vs,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:d.audienceIdentities.map((M,_)=>n.jsx(Ig,{tone:"blue",children:M.name},`identity-${_}`))})}),((k=d.attachments)==null?void 0:k.length)>0&&n.jsx(Cc,{title:"Attachments",icon:Mh,children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:d.attachments.map((M,_)=>{const J=M.base64url&&M.base64url.startsWith("data:image"),Y=M.name||`Attachment ${_+1}`;return n.jsx("div",{className:"relative",children:J?n.jsx("img",{src:M.base64url,alt:Y,className:"w-full h-24 object-cover rounded-lg border border-gray-200"}):n.jsxs("a",{href:M.base64url,download:Y,target:"_blank",rel:"noopener noreferrer",className:"w-full h-24 bg-gray-100 rounded-lg border border-gray-200 flex flex-col items-center justify-center cursor-pointer hover:bg-gray-200 transition-colors group",title:`Download ${Y}`,children:[n.jsx(SH,{size:24,className:"text-gray-400 mb-1"}),n.jsx("span",{className:"text-xs text-gray-600 text-center px-1 truncate max-w-full",children:Y}),n.jsx(Lo,{size:12,className:"text-gray-400 mt-1 opacity-0 group-hover:opacity-100 transition-opacity"})]})},_)})})}),n.jsxs("div",{className:"flex gap-3 mt-6 relative",children:[n.jsxs("button",{ref:y,onClick:M=>{M.stopPropagation(),p(_=>!_)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[n.jsx(Qs,{size:18}),"Share"]}),d.userId!==(v==null?void 0:v.id)&&n.jsxs("button",{onClick:()=>{if(!(v!=null&&v.id)){b._showPopUp("login_prompt");return}o(!0)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[n.jsx(vs,{size:18}),"Connect"]}),n.jsx("button",{onClick:()=>{if(!(v!=null&&v.id)){b._showPopUp("login_prompt");return}s(),j(`/messages?userId=${d.userId}`),ce.success("Starting conversation with "+(d.userName||"user"))},className:"flex-1 rounded-lg px-4 py-2 text-sm font-medium bg-brand-500 text-white hover:bg-brand-700 active:bg-brand-800 flex items-center justify-center gap-2 transition-all duration-200 shadow-sm hover:shadow-md",children:"Message"}),m&&n.jsx(Kge,{need:d,shareMenuRef:x,setShareOpen:p})]})]}):n.jsx("div",{className:"text-sm text-gray-600",children:"No need details available."})})]}),n.jsx(bs,{open:i,onClose:()=>o(!1),toUserId:d==null?void 0:d.userId,toName:(d==null?void 0:d.userName)||"User",onSent:N})]})}const Kge=({need:t,shareMenuRef:r,setShareOpen:s})=>{var d,f;const a=`${window.location.origin}/need/${t==null?void 0:t.id}`,i=(t==null?void 0:t.title)||"Need on 54Links",o=((t==null?void 0:t.description)||"").slice(0,160)+(((t==null?void 0:t.description)||"").length>160?"…":""),l=["54Links","Needs","Community"].filter(Boolean),c=((f=(d=import.meta)==null?void 0:d.env)==null?void 0:f.VITE_FACEBOOK_APP_ID)||void 0;return n.jsxs("div",{ref:r,className:"absolute bottom-14 left-0 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this need"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx(ua,{url:a,title:i,separator:" — ",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(da,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),n.jsx(na,{url:a,quote:o,hashtag:"#54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ea,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),n.jsx(aa,{url:a,title:i,summary:o,source:"54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(sa,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),n.jsx(ca,{url:a,title:i,hashtags:l,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(la,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),n.jsx(oa,{url:a,title:i,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ia,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),n.jsx(Xs,{url:a,subject:i,body:o+`

`+a,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(Ks,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),c&&n.jsx(ra,{url:a,appId:c,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ta,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),n.jsx("div",{className:"mt-2",children:n.jsx(Xge,{shareUrl:a,setShareOpen:s})})]})},Xge=({shareUrl:t,setShareOpen:r})=>n.jsxs("button",{onClick:()=>ve(void 0,null,function*(){try{yield navigator.clipboard.writeText(t),ce.success("Link copied"),r(!1)}catch(s){ce.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[n.jsx(Zs,{size:16}),"Copy link"]});function eme(t,r){if(t)return t;if(!r)return"";const s=Date.now()-new Date(r).getTime(),a=Math.floor(s/6e4);if(a<60)return`${a} min${a!==1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i!==1?"s":""} ago`;const o=Math.floor(i/24);return`${o} day${o!==1?"s":""} ago`}const tme=t=>!t||typeof t!="string"?!1:t.startsWith("data:")||t.startsWith("http://")||t.startsWith("https://"),rme=t=>{if(!t)return"";const r=t.match(/\.([a-zA-Z0-9]+)(?:\?|$)/);return r?r[1].toLowerCase():""},nme=t=>{if((t==null?void 0:t.type)==="video")return"video";if((t==null?void 0:t.type)==="image")return"image";const r=(t==null?void 0:t.base64url)||(t==null?void 0:t.url)||"",s=rme(r),a=["mp4","webm","ogg","mov","avi","mkv"],i=["jpg","jpeg","png","gif","webp","bmp","svg"];return a.includes(s)?"video":(i.includes(s),"image")};function ic({need:t,onEdit:r,onDelete:s,type:a="grid",matchPercentage:i=0}){var D,Q,H;const{user:o,settings:l}=Xt(),c=qt(),d=Cr(),[f,h]=u.useState(!1),[g,m]=u.useState(null),[p,x]=u.useState((t==null?void 0:t.connectionStatus)||"none"),[y,w]=u.useState(!1),[b,v]=u.useState(!!(t!=null&&t.isLiked)),[j,N]=u.useState(Number(t.likesCount||0)),[S,I]=u.useState(Number((t==null?void 0:t.commentsCount)||0)),[E,L]=u.useState(0),[C,T]=u.useState(!1),[k,M]=u.useState(!1),[_,J]=u.useState(!1),[Y,te]=u.useState(!1),[K,X]=u.useState(!1),W=u.useRef(null),[F,P]=u.useState(!1),[A,B]=u.useState(!1),[z,O]=u.useState(!1),[U,Z]=u.useState(!1),[se,fe]=u.useState(!1),[le,Ne]=u.useState(!1),Te=u.useRef(null),[ht,Fe]=u.useState(null),[Ve,ut]=u.useState(null),[Je,G]=u.useState(!1),[ae,Me]=u.useState(null),he=u.useRef(null);u.useEffect(()=>{function V(ge){W.current&&!W.current.contains(ge.target)&&X(!1),Te.current&&!Te.current.contains(ge.target)&&(O(!1),Z(!1))}function re(ge){ge.key==="Escape"&&(X(!1),O(!1),Z(!1))}return document.addEventListener("mousedown",V),document.addEventListener("keydown",re),()=>{document.removeEventListener("mousedown",V),document.removeEventListener("keydown",re)}},[]),u.useEffect(()=>()=>{he.current&&clearTimeout(he.current)},[]);const ye=50,oe=V=>{ut(null),Fe(V.targetTouches[0].clientX)},ie=V=>ut(V.targetTouches[0].clientX),q=()=>{if(!ht||!Ve)return;const V=ht-Ve,re=V>ye,ge=V<-ye;re&&E<Oe.length-1&&(L(E+1),nt()),ge&&E>0&&(L(E-1),nt())},Se=V=>{G(!0),Me(V.clientX)},$e=V=>{if(!Je)return;const re=V.clientX,ge=ae-re;Math.abs(ge)>ye&&(ge>0&&E<Oe.length-1?(L(E+1),nt(),G(!1)):ge<0&&E>0&&(L(E-1),nt(),G(!1)))},rt=()=>{G(!1),Me(null)},nt=()=>{T(!1),M(!1)};u.useEffect(()=>{t!=null&&t.id&&(aw("need",t.id).then(({data:V})=>{v(V.liked),N(V.count)}).catch(()=>{}),nx("need",t.id).then(({data:V})=>{const re=Array.isArray(V)?V.length:0;I(re)}).catch(()=>{}))},[t==null?void 0:t.id]);const Ue=(o==null?void 0:o.id)&&(t==null?void 0:t.userId)&&o.id===t.userId,Oe=(()=>{var re;const V=[];if(((re=t==null?void 0:t.attachments)==null?void 0:re.length)>0)for(const ge of t.attachments){const We=ge==null?void 0:ge.base64url;if(tme(We)){const ot=nme(ge);V.push({url:We,type:ot,name:(ge==null?void 0:ge.name)||`attachment-${V.length}`})}}return V.sort((ge,We)=>ge.type==="video"&&We.type!=="video"?-1:ge.type!=="video"&&We.type==="video"?1:0)})(),Ee=Oe.length>1,ee=Oe[E],de=(ee==null?void 0:ee.type)==="video",ue=u.useMemo(()=>{const V=Array.isArray(t==null?void 0:t.tags)?t.tags:[],re=[t==null?void 0:t.relatedEntityType,t==null?void 0:t.urgency,t==null?void 0:t.categoryName,t==null?void 0:t.subcategoryName].filter(Boolean);return[...new Set([(t==null?void 0:t.relatedEntityType)=="job"?"Job Seeker":"",...Array.isArray(t==null?void 0:t.audienceCategories)?t==null?void 0:t.audienceCategories.map(ge=>ge.name):[],t==null?void 0:t.relatedEntityType,...V,...re.slice(1)])].filter(Boolean)},[t==null?void 0:t.audienceCategories,t==null?void 0:t.tags,t==null?void 0:t.relatedEntityType,t==null?void 0:t.urgency,t==null?void 0:t.categoryName,t==null?void 0:t.subcategoryName]),_e=u.useMemo(()=>eme(t==null?void 0:t.timeAgo,t==null?void 0:t.createdAt),[t==null?void 0:t.timeAgo,t==null?void 0:t.createdAt]),Xe=u.useMemo(()=>{var ge,We;const V=(ge=t==null?void 0:t.city)==null?void 0:ge.trim(),re=(We=t==null?void 0:t.country)==null?void 0:We.trim();return V&&re?`${V}, ${re}`:re||V||""},[t==null?void 0:t.city,t==null?void 0:t.country]);function gt(){h(!1),x("pending_outgoing")}const wt=V=>{if(!V)return"";const re=V.replace(/<br\s*\/?>/gi,". "),ge=document.createElement("div");ge.innerHTML=re;let We=ge.textContent||ge.innerText||"";return We=We.replace(/\s+/g," ").trim(),We},vt=()=>{T(!C),M(!0),he.current&&clearTimeout(he.current),he.current=setTimeout(()=>{M(!1)},3e3)},ct=()=>{T(!0),M(!0),he.current&&clearTimeout(he.current),he.current=setTimeout(()=>{M(!1)},3e3)},Ze=()=>{T(!1),M(!0),he.current&&clearTimeout(he.current)},dt=V=>{de?(V.stopPropagation(),vt()):B(!0)},yt=()=>ve(this,null,function*(){var V;if(!(o!=null&&o.id)){(V=d._showPopUp)==null||V.call(d,"login_prompt");return}v(re=>!re),N(re=>b?Math.max(0,re-1):re+1);try{const{data:re}=yield tc("need",t.id);v(re.liked),N(re.count)}catch(re){v(ge=>!ge),N(ge=>b?ge+1:Math.max(0,ge-1))}}),Ie=V=>ve(this,null,function*(){try{yield rc("need",t.id,"other",V),ce.success("Report submitted. Thank you.")}catch(re){ce.success("Report submitted. Thank you.")}}),ze=`${window.location.origin}/need/${t==null?void 0:t.id}`,qe=(t==null?void 0:t.title)||"Need on 54Links",it=((t==null?void 0:t.description)||"").slice(0,160)+(((t==null?void 0:t.description)||"").length>160?"…":""),Ae=["54Links","Needs","Help"].filter(Boolean),Ge=((Q=(D=import.meta)==null?void 0:D.env)==null?void 0:Q.VITE_FACEBOOK_APP_ID)||void 0,Ye=()=>n.jsxs("button",{onClick:()=>ve(this,null,function*(){try{yield navigator.clipboard.writeText(ze),ce.success("Link copied"),X(!1)}catch(V){ce.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[n.jsx(Zs,{size:16}),"Copy link"]}),Et=()=>n.jsxs("div",{ref:W,className:"absolute z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl bottom-0 right-3",role:"dialog","aria-label":"Share options",children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this need"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx(ua,{url:ze,title:qe,separator:" — ",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(da,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),n.jsx(na,{url:ze,quote:it,hashtag:"#54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ea,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),n.jsx(aa,{url:ze,title:qe,summary:it,source:"54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(sa,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),n.jsx(ca,{url:ze,title:qe,hashtags:Ae,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(la,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),n.jsx(oa,{url:ze,title:qe,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ia,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),n.jsx(Xs,{url:ze,subject:qe,body:it+`

`+ze,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(Ks,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),Ge&&n.jsx(ra,{url:ze,appId:Ge,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ta,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),n.jsx("div",{className:"mt-2",children:n.jsx(Ye,{})})]}),Ot=()=>n.jsx("div",{ref:Te,className:"absolute z-30 w-48 rounded-xl border border-gray-200 bg-white p-2 shadow-xl top-12 right-3",role:"dialog","aria-label":"Options menu",children:U?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-900 border-b border-gray-200 mb-2",children:"Delete this need?"}),n.jsxs("button",{onClick:()=>ve(this,null,function*(){var V,re;try{yield Le.delete(`/needs/${t.id}`),ce.success("Need deleted successfully"),fe(!0),s&&s(t)}catch(ge){console.error("Failed to delete need:",ge),ce.error(((re=(V=ge==null?void 0:ge.response)==null?void 0:V.data)==null?void 0:re.message)||"Failed to delete need")}O(!1),Z(!1)}),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors mb-1",children:[n.jsx(On,{size:16}),"Confirm Delete"]}),n.jsx("button",{onClick:()=>Z(!1),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"Cancel"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>{c(`/need/${t.id}`),O(!1)},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors mb-1",children:[n.jsx(Kl,{size:16}),"Edit"]}),n.jsxs("button",{onClick:()=>Z(!0),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[n.jsx(On,{size:16}),"Delete"]})]})});return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 overflow-hidden ${se?"hidden":""}`,children:[n.jsxs("div",{className:"px-4 pt-3 pb-2 flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx("div",{className:"cursor-pointer flex-shrink-0",onClick:V=>{V.stopPropagation(),t!=null&&t.userId&&c(`/profile/${t.userId}`)},children:t!=null&&t.userAvatarUrl?n.jsx("div",{className:"flex bg-white items-center justify-center w-20 h-20 rounded-full border border-gray-300 overflow-hidden",children:n.jsx("img",{src:t.userAvatarUrl,alt:(t==null?void 0:t.userName)||"User",className:"w-full h-full",style:{objectFit:"cover"}})}):n.jsx("div",{className:"w-20 h-20 bg-gray-200 flex items-center justify-center rounded-full border border-gray-100",children:n.jsx(ka,{size:24,className:"text-gray-400"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-semibold text-sm text-gray-900 hover:underline cursor-pointer",onClick:V=>{V.stopPropagation(),t!=null&&t.userId&&c(`/profile/${t.userId}`)},children:(t==null?void 0:t.userName)||"User"}),n.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:((H=t==null?void 0:t.profile)==null?void 0:H.professionalTitle)||"Need Poster"}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5",children:[n.jsx("span",{children:_e}),n.jsx("span",{children:"•"}),n.jsx(so,{size:12})]})]})]}),n.jsxs("div",{className:"relative flex-shrink-0",children:[Ue&&n.jsx("button",{onClick:V=>{V.stopPropagation(),O(re=>!re)},className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors","aria-label":"More options",children:n.jsx(Fo,{size:20,className:"text-gray-600"})}),z&&n.jsx(Ot,{})]})]}),n.jsxs("div",{className:"px-4 pb-3",children:[n.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:[n.jsx("div",{className:le?"":"line-clamp-3",children:wt(t==null?void 0:t.description)}),(t==null?void 0:t.description)&&wt(t==null?void 0:t.description).length>250&&n.jsx("button",{onClick:()=>Ne(!le),className:"text-gray-500 hover:text-brand-600 font-medium mt-1",children:le?"Show less":"...more"})]}),(t==null?void 0:t.budget)&&n.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:t.budget})]}),(l==null?void 0:l.contentType)!=="text"&&Oe.length>0&&n.jsxs("div",{className:"relative bg-gray-900",children:[n.jsx("div",{onClick:dt,onTouchStart:oe,onTouchMove:ie,onTouchEnd:q,onMouseDown:Se,onMouseMove:$e,onMouseUp:rt,onMouseLeave:rt,className:"relative w-full max-h-96 overflow-hidden cursor-pointer select-none",style:{userSelect:"none"},children:Ee?n.jsx("div",{className:"flex w-full h-full transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${E*100}%)`},children:Oe.map((V,re)=>n.jsx("div",{className:"flex-shrink-0 w-full h-96 relative",children:V.type==="video"?n.jsx("div",{className:"relative w-full h-full bg-black",children:n.jsx(Aa,{src:V.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:re===E&&C,onPlay:ct,onPause:Ze})}):n.jsx("img",{src:V.url,alt:V.name||`Media ${re+1}`,className:"w-full h-96 object-contain"})},re))}):n.jsx("div",{className:"w-full h-96 relative",children:ee.type==="video"?n.jsx("div",{className:"relative w-full h-full bg-black",children:n.jsx(Aa,{src:ee.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:C,onPlay:ct,onPause:Ze})}):n.jsx("img",{src:ee.url,alt:ee.name||"Media",className:"w-full h-96 object-contain"})})}),Ee&&n.jsx("div",{className:"absolute bottom-3 right-3 flex gap-1",children:Oe.map((V,re)=>n.jsx("button",{onClick:ge=>{ge.stopPropagation(),L(re),V.type==="video"?(T(!1),M(!0)):(T(!1),M(!1))},className:`w-[10px] h-[10px] rounded-full border border-gray-300 transition-colors ${re===E?V.type==="video"?"bg-blue-500":"bg-white":"bg-white/50"}`,"aria-label":`Go to ${V.type} ${re+1}`},re))})]}),n.jsxs("div",{className:"flex justify-between px-4 pt-3 pb-3",children:[(ue.length>0||!0)&&n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex flex-wrap gap-1.5 flex-1",children:[n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-50 text-green-600 border border-green-200",children:"Looking for"}),ue.slice(0,3).map((V,re)=>n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-brand-500",children:["#",V.replace(/\s+/g,"")]},re)),ue.length>3&&n.jsxs("div",{className:"relative inline-block group/tags",children:[n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium text-gray-600 bg-gray-100 cursor-help",children:["+",ue.length-3," more"]}),n.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/tags:opacity-100 group-hover/tags:visible z-10 whitespace-nowrap max-w-xs",children:[n.jsx("div",{className:"flex flex-wrap gap-1",children:ue.slice(3).map((V,re)=>n.jsxs("span",{className:"inline-block",children:["#",V.replace(/\s+/g,""),re<ue.length-4?",":""]},re))}),n.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]})}),n.jsx("div",{children:i>0&&n.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${i>=80?"bg-green-100 text-green-700 border border-green-200":i>=60?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:[i,"% match"]})})]}),(j>0||S>0)&&n.jsxs("div",{className:"px-4 py-2 flex items-center justify-between text-xs text-gray-500 border-t border-gray-100",children:[n.jsx("div",{className:"flex items-center gap-1",children:j>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"flex -space-x-1",children:n.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center",children:n.jsx(Un,{size:10,className:"text-white fill-white"})})}),n.jsxs("button",{onClick:()=>J(!0),className:"hover:underline cursor-pointer",children:[j," ",j===1?"like":"likes"]})]})}),n.jsx("div",{className:"flex items-center gap-3",children:S>0&&n.jsxs("button",{onClick:()=>P(!0),className:"hover:underline",children:[S," comment",S!==1?"s":""]})})]}),n.jsxs("div",{className:"px-2 py-1 border-t border-gray-100 grid grid-cols-4 gap-1",children:[n.jsxs("button",{onClick:yt,className:`flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium ${b?"text-blue-600":"text-gray-600"}`,children:[n.jsx(Un,{size:20,className:b?"fill-blue-600":""}),n.jsx("span",{className:"max-sm:hidden",children:"Like"})]}),n.jsxs("button",{onClick:()=>P(!0),className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Rs,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Comment"})]}),n.jsxs("button",{onClick:()=>{var V;if(o!=null&&o.id)te(!0);else{(V=d._showPopUp)==null||V.call(d,"login_prompt");return}},className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Si,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Report"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:V=>{V.stopPropagation(),X(re=>!re)},className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Qs,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Share"})]}),K&&n.jsx(Et,{})]})]}),n.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50",children:[n.jsx("div",{className:"flex items-center gap-3",children:Xe&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[n.jsx(gn,{size:14}),n.jsx("span",{children:Xe})]})}),!Ue&&n.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[n.jsx("button",{onClick:()=>{if(!(o!=null&&o.id)){d._showPopUp("login_prompt");return}c(`/messages?userId=${t.userId}`),ce.success("Starting conversation with "+(t.userName||"user"))},className:"flex-1 px-4 py-2 rounded-full bg-brand-600 text-white font-medium text-sm hover:bg-brand-700 transition-colors",children:"Message"}),p!=="connected"&&ft()]})]})]}),n.jsx(bs,{open:f,onClose:()=>h(!1),toUserId:t==null?void 0:t.userId,toName:(t==null?void 0:t.userName)||"User",onSent:gt}),n.jsx(_d,{userId:g,isOpen:!!g,onClose:()=>m(null),onSent:gt}),n.jsx(Qge,{needId:t==null?void 0:t.id,isOpen:y,onClose:()=>w(!1)}),n.jsx(is,{open:Y,onClose:()=>te(!1),title:"Report this need?",text:"Tell us what's happening. Our team will review.",confirmText:"Submit report",cancelText:"Cancel",withInput:!0,inputType:"textarea",inputLabel:"Report details",inputPlaceholder:"Describe the issue (spam, scam, offensive, etc.)",requireValue:!0,onConfirm:Ie}),n.jsx(nc,{open:_,onClose:()=>J(!1),entityType:"need",entityId:t==null?void 0:t.id}),n.jsx(sc,{open:F,onClose:()=>P(!1),entityType:"need",entityId:t==null?void 0:t.id,currentUser:o,onCountChange:V=>I(V)}),n.jsx(ac,{isOpen:A,onClose:()=>B(!1),item:t,type:"need",mediaUrls:Oe.map(V=>V.url),initialMediaIndex:0,tags:ue})]});function ft(){const V=p||(t==null?void 0:t.connectionStatus)||"none";return V==="connected"?n.jsx("button",{className:"flex-1 px-4 py-2 rounded-full bg-green-100 text-green-700 font-medium text-sm",children:"Connected"}):V==="pending_outgoing"||V==="outgoing_pending"?n.jsx("button",{className:"flex-1 px-4 py-2 rounded-full bg-yellow-100 text-yellow-700 font-medium text-sm",children:"Pending"}):V==="pending_incoming"||V==="incoming_pending"?n.jsx("button",{onClick:()=>c("/notifications"),className:"flex-1 px-4 py-2 rounded-full bg-brand-100 text-brand-600 hover:bg-brand-200 font-medium text-sm transition-colors",children:"Respond"}):o!=null&&o.id?n.jsx("button",{onClick:()=>h(!0),className:"flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors border-2 border-brand-600 text-brand-600 hover:bg-brand-50",children:"Connect"}):n.jsx("button",{onClick:()=>d._showPopUp("login_prompt"),className:"flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors border-2 border-brand-600 text-brand-600 hover:bg-brand-50",children:"Connect"})}}function sme(t){if(!t)return"";const r=new Date(t).getTime(),s=Date.now(),a=Math.floor((s-r)/1e3);if(a<60)return"Just now";const i=Math.floor(a/60);if(i<60)return`${i} min${i>1?"s":""} ago`;const o=Math.floor(i/60);if(o<24)return`${o} hour${o>1?"s":""} ago`;const l=Math.floor(o/24);if(l<30)return`${l} day${l>1?"s":""} ago`;const c=Math.floor(l/30);if(c<12)return`${c} month${c>1?"s":""} ago`;const d=Math.floor(c/12);return`${d} year${d>1?"s":""} ago`}function ame(t,r){return t&&r?`${t}, ${r}`:t||r||""}function ime(t,r="USD",s){try{return`${new Intl.NumberFormat(void 0,{style:"currency",currency:r,minimumFractionDigits:t%1?2:0,maximumFractionDigits:2}).format(t)}${s?` / ${s}`:""}`}catch(a){return`${t}${s?` / ${s}`:""}`}}function kc({children:t,tone:r="brand"}){const s={brand:"bg-brand-50 text-brand-600",green:"bg-green-100 text-green-700",gray:"bg-gray-100 text-gray-700",blue:"bg-blue-100 text-blue-700"};return n.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] ${s[r]||s.gray}`,children:t})}function Af({title:t,icon:r,children:s}){return n.jsxs("div",{className:"mt-5 text-left",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r?n.jsx(r,{size:16,className:"text-brand-600"}):null,n.jsx("h3",{className:"font-medium text-sm",children:t})]}),s]})}function ome({serviceId:t,isOpen:r,onClose:s}){var C,T,k,M,_,J,Y,te;const[a,i]=u.useState(!1),[o,l]=u.useState(!1),[c,d]=u.useState(null),[f,h]=u.useState(""),[g,m]=u.useState(0),[p,x]=u.useState(!1),y=u.useRef(null),w=u.useRef(null),b=u.useRef(null),v=Cr(),{user:j}=Xt(),N=qt();u.useEffect(()=>{function K(W){w.current&&y.current&&!w.current.contains(W.target)&&!y.current.contains(W.target)&&x(!1)}function X(W){W.key==="Escape"&&x(!1)}return document.addEventListener("mousedown",K),document.addEventListener("keydown",X),()=>{document.removeEventListener("mousedown",K),document.removeEventListener("keydown",X)}},[]),u.useEffect(()=>{if(!r){d(null),h("");return}if(!t)return;let K=!0;function X(){return ve(this,null,function*(){l(!0),h(""),d(null);try{const{data:W}=yield Le.get(`/services/${t}`);K&&d(W)}catch(W){console.error("Error fetching service details:",W),K&&h("Failed to load service details.")}finally{K&&l(!1)}})}return X(),()=>{K=!1}},[r,t]);function S(){ce.success("Connection request sent"),i(!1)}function I(){var K;(K=c==null?void 0:c.attachments)!=null&&K.length&&m(X=>(X+1)%c.attachments.length)}function E(){var K;(K=c==null?void 0:c.attachments)!=null&&K.length&&m(X=>(X-1+c.attachments.length)%c.attachments.length)}if(!r)return null;(()=>{const X=((c==null?void 0:c.attachments)||[])[g];return X&&X.startsWith("data:image")?X:typeof X=="string"&&/\.(jpe?g|png|gif|webp|svg)$/i.test(X)?X.startsWith("http")?X:`${API_URL}/uploads/${X}`:null})();const L=(((C=c==null?void 0:c.provider)==null?void 0:C.name)||"?").split(" ").map(K=>K[0]).join("").slice(0,2).toUpperCase();return n.jsxs("div",{className:"fixed z-[99] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[n.jsxs("div",{ref:b,className:"bg-white z-[99] w-full max-w-2xl rounded-2xl shadow-xl flex flex-col max-h-[85vh] overflow-hidden relative",children:[n.jsxs("div",{className:"bg-brand-500 p-4 flex justify-between items-center",children:[n.jsx("div",{className:"text-white font-medium",children:"Service Details"}),n.jsx("button",{onClick:()=>{var K;s(),(K=v._closeAllPopUps)==null||K.call(v)},className:"text-white hover:text-brand-100",children:n.jsx(Lr,{size:20})})]}),n.jsx("div",{className:"p-6 overflow-y-auto",children:o?n.jsx(sx,{}):f?n.jsx("div",{className:"text-sm text-red-600",children:f}):c?n.jsxs(n.Fragment,{children:[(()=>{const K=(c.attachments||[]).filter(F=>typeof F!="string"?!1:F.startsWith("data:image")?!0:typeof F=="string"&&/\.(jpe?g|png|gif|webp|svg)$/i.test(F)||F.startsWith("http://")||F.startsWith("https://"));if(K.length===0)return null;const X=K[g];let W=null;return X.startsWith("data:image")||X.startsWith("http://")||X.startsWith("https://")?W=X:W=`${API_URL}/uploads/${X}`,n.jsx("div",{className:"relative mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:W,alt:c.title,className:"w-full h-64 object-contain bg-gray-50 rounded-lg"}),K.length>1&&n.jsxs("div",{className:"absolute inset-x-0 bottom-0 flex justify-between p-2",children:[n.jsx("button",{onClick:E,className:"p-2 rounded-full bg-white/80 backdrop-blur-sm shadow-lg hover:bg-white",children:"←"}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-full px-3 py-1 text-xs",children:[g+1," / ",K.length]}),n.jsx("button",{onClick:I,className:"p-2 rounded-full bg-white/80 backdrop-blur-sm shadow-lg hover:bg-white",children:"→"})]})]})})})(),n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:c.title}),n.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-600",children:[n.jsx(hl,{size:16}),n.jsx("span",{children:sme(c.createdAt)}),c.country&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"mx-1",children:"•"}),n.jsx(gn,{size:16}),n.jsx("span",{children:ame(c.city,c.country)})]})]})]}),c.priceAmount&&n.jsx("div",{className:"text-2xl font-bold text-brand-600",children:ime(c.priceAmount,c.currency,c.priceType)})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[c.serviceType&&n.jsx(kc,{tone:"brand",children:c.serviceType}),c.locationType&&n.jsx(kc,{tone:"blue",children:c.locationType}),c.experienceLevel&&n.jsx(kc,{tone:"gray",children:c.experienceLevel}),c.deliveryTime&&n.jsx(kc,{tone:"green",children:c.deliveryTime})]}),n.jsx(Af,{title:"Posted By",icon:vs,children:n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border border-gray-100 hover:border-brand-200",onClick:()=>{var K;c!=null&&c.providerUserId&&(v._showPopUp("profile"),(K=v._setProfileUserId)==null||K.call(v,c.providerUserId))},children:[(T=c.provider)!=null&&T.avatarUrl?n.jsx("img",{src:c.provider.avatarUrl,alt:c.provider.name,className:"w-10 h-10 rounded-full object-cover"}):n.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-brand-600 font-medium",children:L})}),n.jsx("div",{children:n.jsx("div",{className:"font-medium",children:((k=c.provider)==null?void 0:k.name)||"Service Provider"})})]})}),n.jsx(Af,{title:"Description",icon:Rs,children:n.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:c.description||"No description provided."})}),((M=c.skills)==null?void 0:M.length)>0&&n.jsx(Af,{title:"Skills",children:n.jsx("div",{className:"flex flex-wrap gap-2",children:c.skills.map((K,X)=>n.jsx(kc,{tone:"gray",children:K},`skill-${X}`))})}),((_=c.audienceCategories)==null?void 0:_.length)>0&&n.jsx(Af,{title:"Categories",icon:no,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:c.audienceCategories.map((K,X)=>n.jsx(kc,{tone:"brand",children:K.name},`cat-${X}`))})}),((J=c.audienceSubcategories)==null?void 0:J.length)>0&&n.jsx(Af,{title:"Subcategories",icon:no,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:c.audienceSubcategories.map((K,X)=>n.jsx(kc,{tone:"gray",children:K.name},`subcat-${X}`))})}),((Y=c.audienceIdentities)==null?void 0:Y.length)>0&&n.jsx(Af,{title:"Target Audience",icon:vs,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:c.audienceIdentities.map((K,X)=>n.jsx(kc,{tone:"blue",children:K.name},`identity-${X}`))})}),n.jsxs("div",{className:"flex gap-3 mt-6 relative",children:[n.jsxs("button",{ref:w,onClick:K=>{K.stopPropagation(),x(X=>!X)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[n.jsx(Qs,{size:18}),"Share"]}),c.providerUserId!==(j==null?void 0:j.id)&&n.jsxs("button",{onClick:()=>{if(!(j!=null&&j.id)){v._showPopUp("login_prompt");return}i(!0)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[n.jsx(vs,{size:18}),"Connect"]}),n.jsx("button",{onClick:()=>{var K;if(!(j!=null&&j.id)){v._showPopUp("login_prompt");return}s(),N(`/messages?userId=${c.providerUserId}`),ce.success("Starting conversation with "+(((K=c.provider)==null?void 0:K.name)||"service provider"))},className:"flex-1 rounded-lg px-4 py-2 text-sm font-medium bg-brand-500 text-white hover:bg-brand-700 active:bg-brand-800 flex items-center justify-center gap-2 transition-all duration-200 shadow-sm hover:shadow-md",children:"Message"}),p&&n.jsx(lme,{service:c,shareMenuRef:y,setShareOpen:x})]})]}):n.jsx("div",{className:"text-sm text-gray-600",children:"No service details available."})})]}),n.jsx(bs,{open:a,onClose:()=>i(!1),toUserId:c==null?void 0:c.providerUserId,toName:((te=c==null?void 0:c.provider)==null?void 0:te.name)||"Service Provider",onSent:S})]})}const lme=({service:t,shareMenuRef:r,setShareOpen:s})=>{var d,f;const a=`${window.location.origin}/service/${t==null?void 0:t.id}`,i=(t==null?void 0:t.title)||"Service on 54Links",o=((t==null?void 0:t.description)||"").slice(0,160)+(((t==null?void 0:t.description)||"").length>160?"…":""),l=["54Links","Services","Marketplace"].filter(Boolean),c=((f=(d=import.meta)==null?void 0:d.env)==null?void 0:f.VITE_FACEBOOK_APP_ID)||void 0;return n.jsxs("div",{ref:r,className:"absolute bottom-14 left-0 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this service"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx(ua,{url:a,title:i,separator:" — ",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(da,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),n.jsx(na,{url:a,quote:o,hashtag:"#54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ea,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),n.jsx(aa,{url:a,title:i,summary:o,source:"54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(sa,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),n.jsx(ca,{url:a,title:i,hashtags:l,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(la,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),n.jsx(oa,{url:a,title:i,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ia,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),n.jsx(Xs,{url:a,subject:i,body:o+`

`+a,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(Ks,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),c&&n.jsx(ra,{url:a,appId:c,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ta,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),n.jsx("div",{className:"mt-2",children:n.jsx(cme,{shareUrl:a,setShareOpen:s})})]})},cme=({shareUrl:t,setShareOpen:r})=>n.jsxs("button",{onClick:()=>ve(void 0,null,function*(){try{yield navigator.clipboard.writeText(t),ce.success("Link copied"),r(!1)}catch(s){ce.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[n.jsx(Zs,{size:16}),"Copy link"]}),dme=t=>!t||typeof t!="string"?!1:t.startsWith("data:")||t.startsWith("http://")||t.startsWith("https://"),ume=t=>{if(!t)return"";const r=t.match(/\.([a-zA-Z0-9]+)(?:\?|$)/);return r?r[1].toLowerCase():""},fme=t=>{if(!t)return"unknown";if(t.startsWith("data:"))return t.startsWith("data:image")?"image":t.startsWith("data:video")?"video":"unknown";const r=ume(t),s=["mp4","webm","ogg","mov","avi","mkv"],a=["jpg","jpeg","png","gif","webp","bmp","svg"],i=["pdf","doc","docx","txt","rtf","odt"];return s.includes(r)?"video":a.includes(r)?"image":i.includes(r)?"document":"unknown"};function lw({item:t,currentUserId:r,currency:s="USD",onDetails:a,onContact:i,onConnect:o,onEdit:l,onDelete:c,type:d="grid",matchPercentage:f=20}){var We,ot,Ce,pe,je;const h=qt(),g=Cr(),{user:m,settings:p}=Xt(),x=r&&(t==null?void 0:t.providerUserId)&&r===t.providerUserId||!!(m!=null&&m.id)&&(t==null?void 0:t.providerUserId)===m.id,[y,w]=u.useState(!1),[b,v]=u.useState(!1),[j,N]=u.useState((t==null?void 0:t.connectionStatus)||"none"),[S,I]=u.useState(null),[E,L]=u.useState(!1),[C,T]=u.useState(!!(t!=null&&t.isLiked)),[k,M]=u.useState(Number(t.likesCount||0)),[_,J]=u.useState(Number((t==null?void 0:t.commentsCount)||0)),[Y,te]=u.useState(!1),[K,X]=u.useState(!1),[W,F]=u.useState(!1),[P,A]=u.useState(!1),[B,z]=u.useState(!1),[O,U]=u.useState(!1),Z=u.useRef(null),[se,fe]=u.useState(null),[le,Ne]=u.useState(null),[Te,ht]=u.useState(!1),[Fe,Ve]=u.useState(null),[ut,Je]=u.useState(!1),G=u.useRef(null),ae=u.useRef(null),[Me,he]=u.useState(0),[ye,oe]=u.useState(!1),[ie,q]=u.useState(!1),[Se,$e]=u.useState(!1),rt=u.useRef(null);u.useEffect(()=>{function we(He){var et;G.current&&!G.current.contains(He.target)&&!((et=ae.current)!=null&&et.contains(He.target))&&Je(!1),Z.current&&!Z.current.contains(He.target)&&(A(!1),z(!1))}function Re(He){He.key==="Escape"&&(Je(!1),A(!1),z(!1))}return document.addEventListener("mousedown",we),document.addEventListener("keydown",Re),()=>{document.removeEventListener("mousedown",we),document.removeEventListener("keydown",Re)}},[]),u.useEffect(()=>()=>{rt.current&&clearTimeout(rt.current)},[]);const nt=50,Ue=we=>{Ne(null),fe(we.targetTouches[0].clientX)},xt=we=>Ne(we.targetTouches[0].clientX),Oe=()=>{if(!se||!le)return;const we=se-le,Re=we>nt,He=we<-nt;Re&&Me<Xe.length-1&&(he(Me+1),ue()),He&&Me>0&&(he(Me-1),ue())},Ee=we=>{ht(!0),Ve(we.clientX)},ee=we=>{if(!Te)return;const Re=we.clientX,He=Fe-Re;Math.abs(He)>nt&&(He>0&&Me<Xe.length-1?(he(Me+1),ue(),ht(!1)):He<0&&Me>0&&(he(Me-1),ue(),ht(!1)))},de=()=>{ht(!1),Ve(null)},ue=()=>{oe(!1),q(!1)},Xe=(()=>{const we=(t==null?void 0:t.images)||[],Re=[];return we.forEach((He,et)=>{if(dme(He)){const pt=fme(He);(pt==="image"||pt==="video")&&Re.push({url:He,type:pt,name:`media-${et}`})}}),Re.sort((He,et)=>He.type==="video"&&et.type!=="video"?-1:He.type!=="video"&&et.type==="video"?1:0)})(),gt=Xe.length>1,wt=Xe[Me],vt=(wt==null?void 0:wt.type)==="video",ct=["Service",...Array.isArray(t==null?void 0:t.audienceCategories)?t==null?void 0:t.audienceCategories.map(we=>we.name):[],t==null?void 0:t.serviceType,t==null?void 0:t.experienceLevel,t==null?void 0:t.categoryName,t==null?void 0:t.subcategoryName,t==null?void 0:t.deliveryTime].filter(Boolean),Ze=ct.slice(0,3);Math.max(0,ct.length-Ze.length);const dt=u.useMemo(()=>{var Re;const we=Number((Re=t==null?void 0:t.priceAmount)!=null?Re:0);try{return`${new Intl.NumberFormat(void 0,{style:"currency",currency:s,minimumFractionDigits:we%1?2:0,maximumFractionDigits:2}).format(we)}${t!=null&&t.priceType?` / ${t.priceType}`:""}`}catch(He){return`${we}${t!=null&&t.priceType?` / ${t.priceType}`:""}`}},[t==null?void 0:t.priceAmount,t==null?void 0:t.priceType,s]),yt=u.useMemo(()=>{var He,et;const we=(He=t==null?void 0:t.city)==null?void 0:He.trim(),Re=(et=t==null?void 0:t.country)==null?void 0:et.trim();return we&&Re?`${we}, ${Re}`:Re||we||(t==null?void 0:t.locationType)||"—"},[t==null?void 0:t.city,t==null?void 0:t.country,t==null?void 0:t.locationType]),Ie=u.useMemo(()=>{if(t!=null&&t.timeAgo)return t.timeAgo;if(!(t!=null&&t.createdAt))return"";const we=Date.now()-new Date(t.createdAt).getTime(),Re=Math.floor(we/6e4);if(Re<60)return`${Re} min${Re!==1?"s":""} ago`;const He=Math.floor(Re/60);if(He<24)return`${He} hour${He!==1?"s":""} ago`;const et=Math.floor(He/24);return`${et} day${et!==1?"s":""} ago`},[t==null?void 0:t.timeAgo,t==null?void 0:t.createdAt]);function ze(){w(!1),N("pending_outgoing"),o==null||o(t)}const qe=we=>{if(!we)return"";const Re=we.replace(/<br\s*\/?>/gi,". "),He=document.createElement("div");He.innerHTML=Re;let et=He.textContent||He.innerText||"";return et=et.replace(/\s+/g," ").trim(),et},it=()=>{oe(!ye),q(!0),rt.current&&clearTimeout(rt.current),rt.current=setTimeout(()=>{q(!1)},3e3)},Ae=()=>{oe(!0),q(!0),rt.current&&clearTimeout(rt.current),rt.current=setTimeout(()=>{q(!1)},3e3)},Ge=()=>{oe(!1),q(!0),rt.current&&clearTimeout(rt.current)},Ye=we=>{vt?(we.stopPropagation(),it()):F(!0)};d==="list"&&(p==null||p.contentType);const Ot=()=>ve(this,null,function*(){var we;if(!(m!=null&&m.id)){(we=g._showPopUp)==null||we.call(g,"login_prompt");return}T(Re=>!Re),M(Re=>C?Math.max(0,Re-1):Re+1);try{const{data:Re}=yield tc("service",t.id);T(Re.liked),M(Re.count)}catch(Re){T(He=>!He),M(He=>C?He+1:Math.max(0,He-1))}}),ft=we=>ve(this,null,function*(){try{yield rc("service",t.id,"other",we),ce.success("Report submitted. Thank you.")}catch(Re){ce.success("Report submitted. Thank you.")}}),D=(t==null?void 0:t.avatarUrl)||null,Q=`${window.location.origin}/service/${t==null?void 0:t.id}`,H=(t==null?void 0:t.title)||"Service on 54Links",V=((t==null?void 0:t.description)||"").slice(0,160)+(((t==null?void 0:t.description)||"").length>160?"…":""),re=["54Links","Services","Professionals"].filter(Boolean),ge=((ot=(We=import.meta)==null?void 0:We.env)==null?void 0:ot.VITE_FACEBOOK_APP_ID)||void 0;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 overflow-hidden ${O?"hidden":""}`,children:[n.jsxs("div",{className:"px-4 pt-3 pb-2 flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx("div",{className:"cursor-pointer flex-shrink-0",onClick:we=>{we.stopPropagation(),t!=null&&t.providerUserId&&h(`/profile/${t.providerUserId}`)},children:D?n.jsx("div",{className:`flex bg-white items-center justify-center w-20 h-20 ${((Ce=t==null?void 0:t.postedBy)==null?void 0:Ce.accountType)==="company"?"rounded":"rounded-full"} border border-gray-300 overflow-hidden`,children:n.jsx("img",{src:D,alt:(t==null?void 0:t.providerUserName)||"User",className:"w-full h-full",style:{objectFit:"cover"}})}):n.jsx("div",{className:`w-20 h-20 bg-gray-200 flex items-center justify-center ${((pe=t==null?void 0:t.postedBy)==null?void 0:pe.accountType)==="company"?"rounded":"rounded-full"} border border-gray-100`,children:n.jsx(ka,{size:24,className:"text-gray-400"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-semibold text-sm text-gray-900 hover:underline cursor-pointer",onClick:we=>{we.stopPropagation(),t!=null&&t.providerUserId&&h(`/profile/${t.providerUserId}`)},children:(t==null?void 0:t.providerUserName)||"User"}),n.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:((je=t==null?void 0:t.profile)==null?void 0:je.professionalTitle)||"Service Provider"}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5",children:[n.jsx("span",{children:Ie}),n.jsx("span",{children:"•"}),n.jsx(so,{size:12})]})]})]}),n.jsxs("div",{className:"relative flex-shrink-0",children:[x&&n.jsx("button",{onClick:we=>{we.stopPropagation(),A(Re=>!Re)},className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors","aria-label":"More options",children:n.jsx(Fo,{size:20,className:"text-gray-600"})}),P&&n.jsx("div",{ref:Z,className:"absolute z-30 w-48 rounded-xl border border-gray-200 bg-white p-2 shadow-xl top-12 right-3",role:"dialog","aria-label":"Options menu",children:B?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-900 border-b border-gray-200 mb-2",children:"Delete this service?"}),n.jsxs("button",{onClick:()=>ve(this,null,function*(){var we,Re;try{yield Le.delete(`/services/${t.id}`),ce.success("Service deleted successfully"),U(!0)}catch(He){console.error("Failed to delete service:",He),ce.error(((Re=(we=He==null?void 0:He.response)==null?void 0:we.data)==null?void 0:Re.message)||"Failed to delete service")}A(!1),z(!1)}),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors mb-1",children:[n.jsx(On,{size:16}),"Confirm Delete"]}),n.jsx("button",{onClick:()=>z(!1),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"Cancel"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>{l?l(t):h(`/service/${t.id}`),A(!1)},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors mb-1",children:[n.jsx(Kl,{size:16}),"Edit"]}),n.jsxs("button",{onClick:()=>z(!0),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[n.jsx(On,{size:16}),"Delete"]})]})})]})]}),n.jsxs("div",{className:"px-4 pb-3",children:[n.jsx("h3",{className:"font-semibold text-base text-gray-900 mb-1 hover:text-brand-600 cursor-pointer transition-colors",onClick:()=>{x?l?l(t):h(`/service/${t.id}`):(v(!0),a==null||a(t))},children:t==null?void 0:t.title}),n.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:[n.jsx("div",{className:Se?"":"line-clamp-3",children:qe(t==null?void 0:t.description)}),(t==null?void 0:t.description)&&qe(t==null?void 0:t.description).length>250&&n.jsx("button",{onClick:()=>$e(!Se),className:"text-gray-500 hover:text-brand-600 font-medium mt-1",children:Se?"Show less":"...more"})]})]}),(p==null?void 0:p.contentType)!=="text"&&Xe.length>0&&n.jsxs("div",{className:"relative bg-gray-900",children:[n.jsx("div",{onClick:Ye,onTouchStart:Ue,onTouchMove:xt,onTouchEnd:Oe,onMouseDown:Ee,onMouseMove:ee,onMouseUp:de,onMouseLeave:de,className:"relative w-full max-h-96 overflow-hidden cursor-pointer select-none",style:{userSelect:"none"},children:gt?n.jsx("div",{className:"flex w-full h-full transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${Me*100}%)`},children:Xe.map((we,Re)=>n.jsx("div",{className:"flex-shrink-0 w-full h-96 relative",children:we.type==="video"?n.jsx("div",{className:"relative w-full h-full bg-black",children:n.jsx(Aa,{src:we.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:Re===Me&&ye,onPlay:Ae,onPause:Ge})}):n.jsx("img",{src:we.url,alt:we.name||`Media ${Re+1}`,className:"w-full h-96 object-cover"})},Re))}):n.jsx("div",{className:"w-full h-96 relative",children:wt.type==="video"?n.jsx("div",{className:"relative w-full h-full bg-black",children:n.jsx(Aa,{src:wt.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:ye,onPlay:Ae,onPause:Ge})}):n.jsx("img",{src:wt.url,alt:wt.name||"Media",className:"w-full h-96 object-cover"})})}),gt&&n.jsx("div",{className:"absolute bottom-3 right-3 flex gap-1",children:Xe.map((we,Re)=>n.jsx("button",{onClick:He=>{He.stopPropagation(),he(Re),we.type==="video"?(oe(!1),q(!0)):(oe(!1),q(!1))},className:`w-[10px] h-[10px] rounded-full border border-gray-300 transition-colors ${Re===Me?we.type==="video"?"bg-blue-500":"bg-white":"bg-white/50"}`,"aria-label":`Go to ${we.type} ${Re+1}`},Re))})]}),n.jsxs("div",{className:"flex justify-between px-4 pt-3 pb-3",children:[ct.length>0&&n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex flex-wrap gap-1.5 flex-1",children:[ct.slice(0,3).map((we,Re)=>n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-brand-500",children:["#",we.replace(/\s+/g,"")]},Re)),ct.length>3&&n.jsxs("div",{className:"relative inline-block group/tags",children:[n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium text-gray-600 bg-gray-100 cursor-help",children:["+",ct.length-3," more"]}),n.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/tags:opacity-100 group-hover/tags:visible z-10 whitespace-nowrap max-w-xs",children:[n.jsx("div",{className:"flex flex-wrap gap-1",children:ct.slice(3).map((we,Re)=>n.jsxs("span",{className:"inline-block",children:["#",we.replace(/\s+/g,""),Re<ct.length-4?",":""]},Re))}),n.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]})}),n.jsx("div",{children:f>0&&n.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${f>=80?"bg-green-100 text-green-700 border border-green-200":f>=60?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:[f,"% match"]})})]}),(k>0||_>0)&&n.jsxs("div",{className:"px-4 py-2 flex items-center justify-between text-xs text-gray-500 border-t border-gray-100",children:[n.jsx("div",{className:"flex items-center gap-1",children:k>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"flex -space-x-1",children:n.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center",children:n.jsx(Un,{size:10,className:"text-white fill-white"})})}),n.jsxs("button",{onClick:()=>L(!0),className:"hover:underline cursor-pointer",children:[k," ",k===1?"like":"likes"]})]})}),n.jsx("div",{className:"flex items-center gap-3",children:_>0&&n.jsxs("button",{onClick:()=>X(!0),className:"hover:underline",children:[_," comment",_!==1?"s":""]})})]}),n.jsxs("div",{className:"px-2 py-1 border-t border-gray-100 grid grid-cols-4 gap-1",children:[n.jsxs("button",{onClick:Ot,className:`flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium ${C?"text-blue-600":"text-gray-600"}`,children:[n.jsx(Un,{size:20,className:C?"fill-blue-600":""}),n.jsx("span",{className:"max-sm:hidden",children:"Like"})]}),n.jsxs("button",{onClick:()=>X(!0),className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Rs,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Comment"})]}),n.jsxs("button",{onClick:()=>{var we;if(m!=null&&m.id)te(!0);else{(we=g._showPopUp)==null||we.call(g,"login_prompt");return}},className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Si,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Report"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:we=>{we.stopPropagation(),Je(Re=>!Re)},className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Qs,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Share"})]}),ut&&n.jsxs("div",{ref:G,className:"absolute z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl bottom-0 right-3",role:"dialog","aria-label":"Share options",children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this service"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx(ua,{url:Q,title:H,separator:" — ",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(da,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),n.jsx(na,{url:Q,quote:V,hashtag:"#54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ea,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),n.jsx(aa,{url:Q,title:H,summary:V,source:"54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(sa,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),n.jsx(ca,{url:Q,title:H,hashtags:re,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(la,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),n.jsx(oa,{url:Q,title:H,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ia,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),n.jsx(Xs,{url:Q,subject:H,body:V+`

`+Q,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(Ks,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),ge&&n.jsx(ra,{url:Q,appId:ge,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ta,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),n.jsx("div",{className:"mt-2",children:n.jsxs("button",{onClick:()=>ve(this,null,function*(){try{yield navigator.clipboard.writeText(Q),ce.success("Link copied"),Je(!1)}catch(we){ce.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[n.jsx(Zs,{size:16}),"Copy link"]})})]})]})]}),!x&&n.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[(t==null?void 0:t.priceAmount)&&n.jsx("div",{className:"text-sm font-semibold text-gray-900",children:dt}),yt&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[n.jsx(gn,{size:14}),n.jsx("span",{children:yt})]})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[n.jsx("button",{onClick:()=>{if(!(m!=null&&m.id)){g._showPopUp("login_prompt");return}v(!0),a==null||a(t)},className:"flex-1 px-4 py-2 rounded-full bg-brand-600 text-white font-medium text-sm hover:bg-brand-700 transition-colors",children:"View Details"}),j!=="connected"&&n.jsx("button",{onClick:()=>{if(!(m!=null&&m.id)){g._showPopUp("login_prompt");return}w(!0)},className:`flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors ${j==="pending_outgoing"||j==="outgoing_pending"?"bg-yellow-100 text-yellow-700":j==="pending_incoming"||j==="incoming_pending"?"bg-brand-100 text-brand-600 hover:bg-brand-200":"border-2 border-brand-600 text-brand-600 hover:bg-brand-50"}`,children:j==="pending_outgoing"||j==="outgoing_pending"?"Pending":j==="pending_incoming"||j==="incoming_pending"?"Respond":"Connect"})]})]})]}),n.jsx(bs,{open:y,onClose:()=>w(!1),toUserId:t==null?void 0:t.providerUserId,toName:(t==null?void 0:t.providerUserName)||"Service Provider",onSent:ze}),n.jsx(_d,{userId:S,isOpen:!!S,onClose:()=>I(null),onSent:ze}),n.jsx(ome,{serviceId:t==null?void 0:t.id,isOpen:b,onClose:()=>v(!1)}),n.jsx(nc,{open:E,onClose:()=>L(!1),entityType:"service",entityId:t==null?void 0:t.id}),n.jsx(is,{open:Y,onClose:()=>te(!1),title:"Report this service?",text:"Tell us what's happening. Our team will review.",confirmText:"Submit report",cancelText:"Cancel",withInput:!0,inputType:"textarea",inputLabel:"Report details",inputPlaceholder:"Describe the issue (spam, scam, offensive, etc.)",requireValue:!0,onConfirm:ft}),n.jsx(sc,{open:K,onClose:()=>X(!1),entityType:"service",entityId:t==null?void 0:t.id,currentUser:m,onCountChange:we=>J(we)}),n.jsx(ac,{isOpen:W,onClose:()=>F(!1),item:t,type:"service",mediaUrls:Xe.map(we=>we.url),initialMediaIndex:0,tags:ct})]})}function hme(t){if(!t)return"";const r=new Date(t).getTime(),s=Date.now(),a=Math.floor((s-r)/1e3);if(a<60)return"Just now";const i=Math.floor(a/60);if(i<60)return`${i} min${i>1?"s":""} ago`;const o=Math.floor(i/60);if(o<24)return`${o} hour${o>1?"s":""} ago`;const l=Math.floor(o/24);if(l<30)return`${l} day${l>1?"s":""} ago`;const c=Math.floor(l/30);if(c<12)return`${c} month${c>1?"s":""} ago`;const d=Math.floor(c/12);return`${d} year${d>1?"s":""} ago`}function wO({children:t,tone:r="brand"}){const s={brand:"bg-brand-50 text-brand-600",green:"bg-green-100 text-green-700",gray:"bg-gray-100 text-gray-700",blue:"bg-blue-100 text-blue-700"};return n.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] ${s[r]||s.gray}`,children:t})}function Tg({title:t,icon:r,children:s}){return n.jsxs("div",{className:"mt-5 text-left",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r?n.jsx(r,{size:16,className:"text-brand-600"}):null,n.jsx("h3",{className:"font-medium text-sm",children:t})]}),s]})}function gme({productId:t,isOpen:r,onClose:s,onSave:a}){var k,M,_,J,Y,te,K,X;const[i,o]=u.useState(!1),[l,c]=u.useState(0),[d,f]=u.useState(!1),[h,g]=u.useState(null),[m,p]=u.useState(""),[x,y]=u.useState(!1),w=u.useRef(null),b=u.useRef(null),v=u.useRef(null),j=Cr(),{user:N}=Xt(),S=qt();u.useEffect(()=>{function W(P){b.current&&w.current&&!b.current.contains(P.target)&&!w.current.contains(P.target)&&y(!1)}function F(P){P.key==="Escape"&&y(!1)}return document.addEventListener("mousedown",W),document.addEventListener("keydown",F),()=>{document.removeEventListener("mousedown",W),document.removeEventListener("keydown",F)}},[]),u.useEffect(()=>{if(!r){g(null),p("");return}if(!t)return;let W=!0;function F(){return ve(this,null,function*(){f(!0),p(""),g(null);try{const{data:P}=yield Le.get(`/products/${t}`);W&&g(P)}catch(P){console.error("Error fetching product details:",P),W&&p("Failed to load product details.")}finally{W&&f(!1)}})}return F(),()=>{W=!1}},[r,t]);function I(){ce.success("Connection request sent"),o(!1)}function E(){var W;(W=h==null?void 0:h.images)!=null&&W.length&&c(F=>(F+1)%h.images.length)}function L(){var W;(W=h==null?void 0:h.images)!=null&&W.length&&c(F=>(F-1+h.images.length)%h.images.length)}if(!r)return null;let C=((M=(k=h==null?void 0:h.images)==null?void 0:k[l])==null?void 0:M.filename)||((_=h==null?void 0:h.images)==null?void 0:_[l])||null;C=C&&(C!=null&&C.startsWith("data:image")||C!=null&&C.startsWith("http"))?C:C?`${En}/uploads/${C}`:null;const T=(((J=h==null?void 0:h.seller)==null?void 0:J.name)||(h==null?void 0:h.sellerUserName)||"?").split(" ").map(W=>W[0]).join("").slice(0,2).toUpperCase();return n.jsxs("div",{className:"fixed z-[99] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[n.jsxs("div",{ref:v,className:"bg-white z-[99] w-full max-w-2xl rounded-2xl shadow-xl flex flex-col max-h-[85vh] overflow-hidden relative",children:[n.jsxs("div",{className:"bg-brand-500 p-4 flex justify-between items-center",children:[n.jsx("div",{className:"text-white font-medium",children:"Product Details"}),n.jsx("button",{onClick:()=>{var W;s(),(W=j._closeAllPopUps)==null||W.call(j)},className:"text-white hover:text-brand-100",children:n.jsx(Lr,{size:20})})]}),n.jsx("div",{className:"p-6 overflow-y-auto",children:d?n.jsx(sx,{}):m?n.jsx("div",{className:"text-sm text-red-600",children:m}):h?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"relative mb-6",children:C?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:C,alt:h.title,className:"w-full h-64 object-contain bg-gray-50 rounded-lg"}),((Y=h.images)==null?void 0:Y.length)>1&&n.jsxs("div",{className:"absolute inset-x-0 bottom-0 flex justify-between p-2",children:[n.jsx("button",{onClick:L,className:"p-2 rounded-full bg-white/80 backdrop-blur-sm shadow-lg hover:bg-white",children:"←"}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-full px-3 py-1 text-xs",children:[l+1," / ",h.images.length]}),n.jsx("button",{onClick:E,className:"p-2 rounded-full bg-white/80 backdrop-blur-sm shadow-lg hover:bg-white",children:"→"})]})]}):n.jsx(n.Fragment,{})}),n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:h.title}),n.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-600",children:[n.jsx(hl,{size:16}),n.jsx("span",{children:hme(h.createdAt)}),h.country&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"mx-1",children:"•"}),n.jsx(gn,{size:16}),n.jsx("span",{children:h.country})]})]})]}),n.jsxs("div",{className:"text-2xl font-bold text-brand-600",children:[h.currency||"US$"," ",h.price]})]}),n.jsx(Tg,{title:"Posted By",icon:vs,children:n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border border-gray-100 hover:border-brand-200",children:[h.avatarUrl?n.jsx("img",{src:h.avatarUrl,alt:h.sellerUserName,className:"w-10 h-10 rounded-full object-cover"}):n.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-brand-600 font-medium",children:T})}),n.jsx("div",{children:n.jsx("div",{className:"font-medium",children:(te=h.seller)==null?void 0:te.name})})]})}),n.jsx(Tg,{title:"Description",icon:Rs,children:n.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:h.description||"No description provided."})}),((K=h.audienceCategories)==null?void 0:K.length)>0&&n.jsx(Tg,{title:"Categories",icon:no,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:h.audienceCategories.map((W,F)=>n.jsx(wO,{tone:"brand",children:W.name},`cat-${F}`))})}),((X=h.tags)==null?void 0:X.length)>0&&n.jsx(Tg,{title:"Tags",icon:Mh,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:h.tags.map((W,F)=>n.jsx(wO,{tone:"gray",children:W},`tag-${F}`))})}),(h.specifications||h.condition||h.brand)&&n.jsx(Tg,{title:"Additional Details",icon:Lh,children:n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[h.brand&&n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-gray-500",children:"Brand"}),n.jsx("span",{className:"font-medium",children:h.brand})]}),h.condition&&n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-gray-500",children:"Condition"}),n.jsx("span",{className:"font-medium",children:h.condition})]}),h.specifications&&Object.entries(h.specifications).map(([W,F])=>n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-gray-500",children:W}),n.jsx("span",{className:"font-medium",children:F})]},W))]})}),n.jsxs("div",{className:"flex gap-3 mt-6 relative",children:[n.jsxs("button",{ref:b,onClick:W=>{W.stopPropagation(),y(F=>!F)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[n.jsx(Qs,{size:18}),"Share"]}),h.sellerUserId!==(N==null?void 0:N.id)&&n.jsxs("button",{onClick:()=>{if(!(N!=null&&N.id)){j._showPopUp("login_prompt");return}o(!0)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[n.jsx(vs,{size:18}),"Connect"]}),n.jsx("button",{onClick:()=>{if(!(N!=null&&N.id)){j._showPopUp("login_prompt");return}s(),S(`/messages?userId=${h.sellerUserId}`),ce.success("Starting conversation with "+(h.sellerUserName||"seller"))},className:"flex-1 rounded-lg px-4 py-2 text-sm font-medium bg-brand-500 text-white hover:bg-brand-700 active:bg-brand-800 flex items-center justify-center gap-2 transition-all duration-200 shadow-sm hover:shadow-md",children:"Message"}),x&&n.jsx(mme,{product:h,shareMenuRef:w,setShareOpen:y})]})]}):n.jsx("div",{className:"text-sm text-gray-600",children:"No product details available."})})]}),n.jsx(bs,{open:i,onClose:()=>o(!1),toUserId:h==null?void 0:h.sellerUserId,toName:(h==null?void 0:h.sellerUserName)||"Seller",onSent:I})]})}const mme=({product:t,shareMenuRef:r,setShareOpen:s})=>{var d,f;const a=`${window.location.origin}/product/${t==null?void 0:t.id}`,i=(t==null?void 0:t.title)||"Product on 54Links",o=((t==null?void 0:t.description)||"").slice(0,160)+(((t==null?void 0:t.description)||"").length>160?"…":""),l=["54Links","Products","Marketplace"].filter(Boolean),c=((f=(d=import.meta)==null?void 0:d.env)==null?void 0:f.VITE_FACEBOOK_APP_ID)||void 0;return n.jsxs("div",{ref:r,className:"absolute bottom-14 left-0 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this product"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx(ua,{url:a,title:i,separator:" — ",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(da,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),n.jsx(na,{url:a,quote:o,hashtag:"#54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ea,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),n.jsx(aa,{url:a,title:i,summary:o,source:"54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(sa,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),n.jsx(ca,{url:a,title:i,hashtags:l,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(la,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),n.jsx(oa,{url:a,title:i,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ia,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),n.jsx(Xs,{url:a,subject:i,body:o+`

`+a,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(Ks,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),c&&n.jsx(ra,{url:a,appId:c,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ta,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),n.jsx("div",{className:"mt-2",children:n.jsx(pme,{shareUrl:a,setShareOpen:s})})]})},pme=({shareUrl:t,setShareOpen:r})=>n.jsxs("button",{onClick:()=>ve(void 0,null,function*(){try{yield navigator.clipboard.writeText(t),ce.success("Link copied"),r(!1)}catch(s){ce.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[n.jsx(Zs,{size:16}),"Copy link"]}),xme=t=>!t||typeof t!="string"?!1:t.startsWith("data:")||t.startsWith("http://")||t.startsWith("https://"),vme=t=>{if(!t)return"";const r=t.match(/\.([a-zA-Z0-9]+)(?:\?|$)/);return r?r[1].toLowerCase():""},yme=t=>{if(!t)return"unknown";if(t.startsWith("data:"))return t.startsWith("data:image")?"image":t.startsWith("data:video")?"video":"unknown";const r=vme(t),s=["mp4","webm","ogg","mov","avi","mkv"],a=["jpg","jpeg","png","gif","webp","bmp","svg"],i=["pdf","doc","docx","txt","rtf","odt"];return s.includes(r)?"video":a.includes(r)?"image":i.includes(r)?"document":"unknown"};function cw({item:t,currency:r="US$",featured:s,onContact:a,onSave:i,matchPercentage:o=20,type:l="grid"}){var Ot,ft,D,Q;const c=qt(),d=Cr(),{user:f,settings:h}=Xt(),[g,m]=u.useState(!1);u.useState(!1);const[p,x]=u.useState(null),[y,w]=u.useState(!1),[b,v]=u.useState(!1),[j,N]=u.useState((t==null?void 0:t.connectionStatus)||"none"),[S,I]=u.useState(!!(t!=null&&t.isLiked)),[E,L]=u.useState(Number(t.likesCount||0)),[C,T]=u.useState(Number((t==null?void 0:t.commentsCount)||0)),[k,M]=u.useState(0),[_,J]=u.useState(!1),[Y,te]=u.useState(!1),[K,X]=u.useState(!1),[W,F]=u.useState(!1),P=u.useRef(null),A=u.useRef(null),[B,z]=u.useState(!1),[O,U]=u.useState(!1),[Z,se]=u.useState(!1),[fe,le]=u.useState(!1),[Ne,Te]=u.useState(!1),ht=u.useRef(null),[Fe,Ve]=u.useState(!1),[ut,Je]=u.useState(null),[G,ae]=u.useState(null),[Me,he]=u.useState(!1),[ye,oe]=u.useState(null),ie=u.useRef(null);u.useEffect(()=>{function H(re){var ge;P.current&&!P.current.contains(re.target)&&!((ge=A.current)!=null&&ge.contains(re.target))&&F(!1),ht.current&&!ht.current.contains(re.target)&&(se(!1),le(!1))}function V(re){re.key==="Escape"&&(F(!1),se(!1),le(!1))}return document.addEventListener("mousedown",H),document.addEventListener("keydown",V),()=>{document.removeEventListener("mousedown",H),document.removeEventListener("keydown",V)}},[]),u.useEffect(()=>()=>{ie.current&&clearTimeout(ie.current)},[]);const q=50,Se=H=>{ae(null),Je(H.targetTouches[0].clientX)},$e=H=>ae(H.targetTouches[0].clientX),rt=()=>{if(!ut||!G)return;const H=ut-G,V=H>q,re=H<-q;V&&k<ue.length-1&&(M(k+1),Oe()),re&&k>0&&(M(k-1),Oe())},nt=H=>{he(!0),oe(H.clientX)},Ue=H=>{if(!Me)return;const V=H.clientX,re=ye-V;Math.abs(re)>q&&(re>0&&k<ue.length-1?(M(k+1),Oe(),he(!1)):re<0&&k>0&&(M(k-1),Oe(),he(!1)))},xt=()=>{he(!1),oe(null)},Oe=()=>{J(!1),te(!1)};function Ee(){m(!1),N("pending_outgoing")}const ee=H=>{if(!H)return"";const V=H.replace(/<br\s*\/?>/gi,". "),re=document.createElement("div");re.innerHTML=V;let ge=re.textContent||re.innerText||"";return ge=ge.replace(/\s+/g," ").trim(),ge},ue=(()=>{const H=(t==null?void 0:t.images)||[],V=[];return H.forEach((re,ge)=>{let We=(re==null?void 0:re.filename)||re||null;if(We&&!We.startsWith("data:")&&!We.startsWith("http")&&(We=`${En}/uploads/${We}`),xme(We)){const ot=yme(We);(ot==="image"||ot==="video")&&V.push({url:We,type:ot,name:`media-${ge}`})}}),V.sort((re,ge)=>re.type==="video"&&ge.type!=="video"?-1:re.type!=="video"&&ge.type==="video"?1:0)})(),_e=ue.length>1,Xe=ue[k],gt=(Xe==null?void 0:Xe.type)==="video",wt=l==="list";(((Ot=t==null?void 0:t.seller)==null?void 0:Ot.name)||(t==null?void 0:t.sellerUserName)||"?").split(" ").map(H=>H[0]).join("").slice(0,2).toUpperCase();const vt=u.useMemo(()=>{if(!(t!=null&&t.createdAt))return"";const H=Date.now()-new Date(t.createdAt).getTime(),V=Math.floor(H/6e4);if(V<60)return`${V} mins ago`;const re=Math.floor(V/60);return re<24?`${re} hrs ago`:`${Math.floor(re/24)} days ago`},[t==null?void 0:t.createdAt]);wt&&(h==null||h.contentType);const ct=()=>{J(!_),te(!0),ie.current&&clearTimeout(ie.current),ie.current=setTimeout(()=>{te(!1)},3e3)},Ze=()=>{J(!0),te(!0),ie.current&&clearTimeout(ie.current),ie.current=setTimeout(()=>{te(!1)},3e3)},dt=()=>{J(!1),te(!0),ie.current&&clearTimeout(ie.current)},yt=H=>{gt?(H.stopPropagation(),ct()):U(!0)},Ie=()=>ve(this,null,function*(){var H;if(!(f!=null&&f.id)){(H=d._showPopUp)==null||H.call(d,"login_prompt");return}I(V=>!V),L(V=>S?Math.max(0,V-1):V+1);try{const{data:V}=yield tc("product",t.id);I(V.liked),L(V.count)}catch(V){I(re=>!re),L(re=>S?re+1:Math.max(0,re-1))}}),ze=H=>ve(this,null,function*(){try{yield rc("product",t.id,"other",H),ce.success("Report submitted. Thank you.")}catch(V){ce.success("Report submitted. Thank you.")}}),qe=()=>n.jsxs("button",{onClick:()=>ve(this,null,function*(){try{yield navigator.clipboard.writeText(shareUrl),ce.success("Link copied"),F(!1)}catch(H){ce.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[n.jsx(Zs,{size:16}),"Copy link"]}),it=()=>{var ot,Ce;const H=`${window.location.origin}/products?id=${t==null?void 0:t.id}`,V=(t==null?void 0:t.title)||"Product on 54Links",re=((t==null?void 0:t.description)||"").slice(0,160)+(((t==null?void 0:t.description)||"").length>160?"…":""),ge=["54Links","Products","Shopping"].filter(Boolean),We=((Ce=(ot=import.meta)==null?void 0:ot.env)==null?void 0:Ce.VITE_FACEBOOK_APP_ID)||void 0;return n.jsxs("div",{ref:P,className:"absolute bottom-0 right-3 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this product"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx(ua,{url:H,title:V,separator:" — ",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(da,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),n.jsx(na,{url:H,quote:re,hashtag:"#54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ea,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),n.jsx(aa,{url:H,title:V,summary:re,source:"54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(sa,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),n.jsx(ca,{url:H,title:V,hashtags:ge,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(la,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),n.jsx(oa,{url:H,title:V,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ia,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),n.jsx(Xs,{url:H,subject:V,body:re+`

`+H,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(Ks,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),We&&n.jsx(ra,{url:H,appId:We,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ta,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),n.jsx("div",{className:"mt-2",children:n.jsx(qe,{})})]})},Ae=()=>n.jsx("div",{ref:ht,className:"absolute z-30 w-48 rounded-xl border border-gray-200 bg-white p-2 shadow-xl top-12 right-3",role:"dialog","aria-label":"Options menu",children:fe?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-900 border-b border-gray-200 mb-2",children:"Delete this product?"}),n.jsxs("button",{onClick:()=>ve(this,null,function*(){var H,V;try{yield Le.delete(`/products/${t.id}`),ce.success("Product deleted successfully"),Te(!0)}catch(re){console.error("Failed to delete product:",re),ce.error(((V=(H=re==null?void 0:re.response)==null?void 0:H.data)==null?void 0:V.message)||"Failed to delete product")}se(!1),le(!1)}),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors mb-1",children:[n.jsx(On,{size:16}),"Confirm Delete"]}),n.jsx("button",{onClick:()=>le(!1),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"Cancel"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>{c(`/product/${t.id}`),se(!1)},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors mb-1",children:[n.jsx(Kl,{size:16}),"Edit"]}),n.jsxs("button",{onClick:()=>le(!0),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[n.jsx(On,{size:16}),"Delete"]})]})}),Ge=(f==null?void 0:f.id)&&(t==null?void 0:t.sellerUserId)&&f.id===t.sellerUserId,Ye=(t==null?void 0:t.avatarUrl)||null,Et=["Product",...Array.isArray(t==null?void 0:t.audienceCategories)?t==null?void 0:t.audienceCategories.map(H=>H.name):[],...Array.isArray(t==null?void 0:t.tags)?t.tags:[]].filter(Boolean);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 overflow-hidden ${Ne?"hidden":""}`,children:[n.jsxs("div",{className:"px-4 pt-3 pb-2 flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx("div",{className:"cursor-pointer flex-shrink-0",onClick:H=>{H.stopPropagation(),t!=null&&t.sellerUserId&&c(`/profile/${t.sellerUserId}`)},children:Ye?n.jsx("div",{className:`flex bg-white items-center justify-center w-20 h-20 ${((ft=t==null?void 0:t.postedBy)==null?void 0:ft.accountType)==="company"?"rounded":"rounded-full"} border border-gray-300 overflow-hidden`,children:n.jsx("img",{src:Ye,alt:(t==null?void 0:t.sellerUserName)||"User",className:"w-full h-full",style:{objectFit:"cover"}})}):n.jsx("div",{className:`w-20 h-20 bg-gray-200 flex items-center justify-center ${((D=t==null?void 0:t.postedBy)==null?void 0:D.accountType)==="company"?"rounded":"rounded-full"} border border-gray-100`,children:n.jsx(ka,{size:24,className:"text-gray-400"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-semibold text-sm text-gray-900 hover:underline cursor-pointer",onClick:H=>{H.stopPropagation(),t!=null&&t.sellerUserId&&c(`/profile/${t.sellerUserId}`)},children:(t==null?void 0:t.sellerUserName)||"User"}),n.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:((Q=t==null?void 0:t.profile)==null?void 0:Q.professionalTitle)||"Seller"}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5",children:[n.jsx("span",{children:vt}),n.jsx("span",{children:"•"}),n.jsx(so,{size:12})]})]})]}),n.jsxs("div",{className:"relative flex-shrink-0",children:[Ge&&n.jsx("button",{onClick:H=>{H.stopPropagation(),se(V=>!V)},className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors","aria-label":"More options",children:n.jsx(Fo,{size:20,className:"text-gray-600"})}),Z&&n.jsx(Ae,{})]})]}),n.jsxs("div",{className:"px-4 pb-3",children:[n.jsx("h3",{className:"font-semibold text-base text-gray-900 mb-1 hover:text-brand-600 cursor-pointer transition-colors",onClick:()=>{Ge?c(`/product/${t.id}`):w(!0)},children:t==null?void 0:t.title}),n.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:[n.jsx("div",{className:Fe?"":"line-clamp-3",children:ee(t==null?void 0:t.description)}),(t==null?void 0:t.description)&&ee(t==null?void 0:t.description).length>150&&n.jsx("button",{onClick:()=>Ve(!Fe),className:"text-gray-500 hover:text-brand-600 font-medium mt-1",children:Fe?"Show less":"...more"})]})]}),(h==null?void 0:h.contentType)!=="text"&&ue.length>0&&n.jsxs("div",{className:"relative bg-gray-900",children:[n.jsx("div",{onClick:yt,onTouchStart:Se,onTouchMove:$e,onTouchEnd:rt,onMouseDown:nt,onMouseMove:Ue,onMouseUp:xt,onMouseLeave:xt,className:"relative w-full max-h-96 overflow-hidden cursor-pointer select-none",style:{userSelect:"none"},children:_e?n.jsx("div",{className:"flex w-full h-full transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${k*100}%)`},children:ue.map((H,V)=>n.jsx("div",{className:"flex-shrink-0 w-full h-96 relative",children:H.type==="video"?n.jsx("div",{className:"relative w-full h-full bg-black",children:n.jsx(Aa,{src:H.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:V===k&&_,onPlay:Ze,onPause:dt})}):n.jsx("img",{src:H.url,alt:H.name||`Media ${V+1}`,className:"w-full h-96 object-contain"})},V))}):n.jsx("div",{className:"w-full h-96 relative",children:Xe.type==="video"?n.jsx("div",{className:"relative w-full h-full bg-black",children:n.jsx(Aa,{src:Xe.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:_,onPlay:Ze,onPause:dt})}):n.jsx("img",{src:Xe.url,alt:Xe.name||"Media",className:"w-full h-96 object-contain"})})}),_e&&n.jsx("div",{className:"absolute bottom-3 right-3 flex gap-1",children:ue.map((H,V)=>n.jsx("button",{onClick:re=>{re.stopPropagation(),M(V),H.type==="video"?(J(!1),te(!0)):(J(!1),te(!1))},className:`w-[10px] h-[10px] rounded-full border border-gray-300 transition-colors ${V===k?H.type==="video"?"bg-blue-500":"bg-white":"bg-white/50"}`,"aria-label":`Go to ${H.type} ${V+1}`},V))})]}),n.jsxs("div",{className:"flex justify-between px-4 pt-3 pb-3",children:[Et.length>0&&n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex flex-wrap gap-1.5 flex-1",children:[Et.slice(0,3).map((H,V)=>n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-brand-500",children:["#",H.replace(/\s+/g,"")]},V)),Et.length>3&&n.jsxs("div",{className:"relative inline-block group/tags",children:[n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium text-gray-600 bg-gray-100 cursor-help",children:["+",Et.length-3," more"]}),n.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/tags:opacity-100 group-hover/tags:visible z-10 whitespace-nowrap max-w-xs",children:[n.jsx("div",{className:"flex flex-wrap gap-1",children:Et.slice(3).map((H,V)=>n.jsxs("span",{className:"inline-block",children:["#",H.replace(/\s+/g,""),V<Et.length-4?",":""]},V))}),n.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]})}),n.jsx("div",{children:o>0&&n.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${o>=80?"bg-green-100 text-green-700 border border-green-200":o>=60?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:[o,"% match"]})})]}),(E>0||C>0)&&n.jsxs("div",{className:"px-4 py-2 flex items-center justify-between text-xs text-gray-500 border-t border-gray-100",children:[n.jsx("div",{className:"flex items-center gap-1",children:E>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"flex -space-x-1",children:n.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center",children:n.jsx(Un,{size:10,className:"text-white fill-white"})})}),n.jsxs("button",{onClick:()=>v(!0),className:"hover:underline cursor-pointer",children:[E," ",E===1?"like":"likes"]})]})}),n.jsx("div",{className:"flex items-center gap-3",children:C>0&&n.jsxs("button",{onClick:()=>z(!0),className:"hover:underline",children:[C," comment",C!==1?"s":""]})})]}),n.jsxs("div",{className:"px-2 py-1 border-t border-gray-100 grid grid-cols-4 gap-1",children:[n.jsxs("button",{onClick:Ie,className:`flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium ${S?"text-blue-600":"text-gray-600"}`,children:[n.jsx(Un,{size:20,className:S?"fill-blue-600":""}),n.jsx("span",{className:"max-sm:hidden",children:"Like"})]}),n.jsxs("button",{onClick:()=>z(!0),className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Rs,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Comment"})]}),n.jsxs("button",{onClick:()=>{var H;if(f!=null&&f.id)X(!0);else{(H=d._showPopUp)==null||H.call(d,"login_prompt");return}},className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Si,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Report"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:H=>{H.stopPropagation(),F(V=>!V)},className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Qs,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Share"})]}),W&&n.jsx(it,{})]})]}),n.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[(t==null?void 0:t.price)&&n.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[r," ",t.price]}),(t==null?void 0:t.country)&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[n.jsx(gn,{size:14}),n.jsxs("span",{children:[t!=null&&t.city?`${t.city}, `:"",(t==null?void 0:t.country)||"—"]})]})]}),!Ge&&n.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[n.jsx("button",{onClick:()=>{if(!(f!=null&&f.id)){d._showPopUp("login_prompt");return}w(!0)},className:"flex-1 px-4 py-2 rounded-full bg-brand-600 text-white font-medium text-sm hover:bg-brand-700 transition-colors",children:"View Details"}),j!=="connected"&&n.jsx("button",{onClick:()=>{if(!(f!=null&&f.id)){d._showPopUp("login_prompt");return}m(!0)},className:`flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors ${j==="pending_outgoing"||j==="outgoing_pending"?"bg-yellow-100 text-yellow-700":j==="pending_incoming"||j==="incoming_pending"?"bg-brand-100 text-brand-600 hover:bg-brand-200":"border-2 border-brand-600 text-brand-600 hover:bg-brand-50"}`,children:j==="pending_outgoing"||j==="outgoing_pending"?"Pending":j==="pending_incoming"||j==="incoming_pending"?"Respond":"Connect"})]})]})]}),n.jsx(bs,{open:g,onClose:()=>m(!1),toUserId:t==null?void 0:t.sellerUserId,toName:(t==null?void 0:t.sellerUserName)||"Seller",onSent:Ee}),n.jsx(_d,{userId:p,isOpen:!!p,onClose:()=>x(null),onSent:Ee}),n.jsx(gme,{productId:t.id,isOpen:y,onClose:()=>w(!1),onSave:i}),n.jsx(is,{open:K,onClose:()=>X(!1),title:"Report this product?",text:"Tell us what's happening. Our team will review.",confirmText:"Submit report",cancelText:"Cancel",withInput:!0,inputType:"textarea",inputLabel:"Report details",inputPlaceholder:"Describe the issue (spam, scam, offensive, etc.)",requireValue:!0,onConfirm:ze}),n.jsx(nc,{open:b,onClose:()=>v(!1),entityType:"product",entityId:t==null?void 0:t.id}),n.jsx(sc,{open:B,onClose:()=>z(!1),entityType:"product",entityId:t==null?void 0:t.id,currentUser:f,onCountChange:H=>T(H)}),n.jsx(ac,{isOpen:O,onClose:()=>U(!1),item:t,type:"product",mediaUrls:ue.map(H=>H.url),initialMediaIndex:0,tags:Et})]})}function bme(t,r){if(t)return t;if(!r)return"";const s=Date.now()-new Date(r).getTime(),a=Math.floor(s/6e4);if(a<60)return`${a} min${a!==1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i!==1?"s":""} ago`;const o=Math.floor(i/24);return`${o} day${o!==1?"s":""} ago`}const jO=t=>!t||typeof t!="string"?!1:t.startsWith("data:")||t.startsWith("http://")||t.startsWith("https://"),wme=t=>{if(!t)return"";const r=t.match(/\.([a-zA-Z0-9]+)(?:\?|$)/);return r?r[1].toLowerCase():""},NO=t=>{if((t==null?void 0:t.type)==="video")return"video";if((t==null?void 0:t.type)==="image")return"image";const r=(t==null?void 0:t.base64url)||(t==null?void 0:t.url)||"",s=wme(r),a=["mp4","webm","ogg","mov","avi","mkv"],i=["jpg","jpeg","png","gif","webp","bmp","svg"];return a.includes(s)?"video":(i.includes(s),"image")},jme=(t,r=4)=>{const s=t.slice(0,r),a=Math.max(0,t.length-r);if(s.length===0)return{layout:"none",items:[],remainingCount:0};const i=s.some(l=>l.type==="video"),o=s.findIndex(l=>l.type==="video");if(i&&o>=0){const l=s[o],c=s.filter((f,h)=>h!==o),d=c.length+a;return{layout:"video-priority",videoItem:l,otherItems:c,remainingCount:d,hasVideos:!0}}if(s.length===1)return{layout:"single",items:s,remainingCount:a,hasVideos:!1};if(s.length===2)return{layout:"double",items:s,remainingCount:a,hasVideos:!1};if(s.length===3)return{layout:"triple",items:s,remainingCount:a,hasVideos:!1};if(s.length>=4)return{layout:"quad",items:s.slice(0,4),remainingCount:a,hasVideos:!1}};function oc({moment:t,onEdit:r,onDelete:s,type:a="grid",matchPercentage:i=20}){var wt,vt,ct,Ze,dt,yt,Ie,ze,qe,it;const{user:o,settings:l}=Xt(),c=qt(),d=Cr(),[f,h]=u.useState(!1),[g,m]=u.useState((t==null?void 0:t.connectionStatus)||"none"),[p,x]=u.useState(!!(t!=null&&t.isLiked)),[y,w]=u.useState(Number((t==null?void 0:t.likesCount)||0)),[b,v]=u.useState(Number((t==null?void 0:t.commentsCount)||0)),[j,N]=u.useState(!1),[S,I]=u.useState(!1),[E,L]=u.useState(!1),C=u.useRef(null),T=u.useRef(null),[k,M]=u.useState(!1),[_,J]=u.useState(!1),[Y,te]=u.useState(0),[K,X]=u.useState(!1),[W,F]=u.useState(!1);u.useState(null),u.useState(null),u.useState(!1),u.useState(null);const[P,A]=u.useState(!1),[B,z]=u.useState(!1),[O,U]=u.useState(!1),Z=u.useRef(null),[se,fe]=u.useState(!1),le=u.useRef(null);u.useEffect(()=>{function Ae(Ye){var Et;C.current&&!C.current.contains(Ye.target)&&!((Et=T.current)!=null&&Et.contains(Ye.target))&&L(!1),Z.current&&!Z.current.contains(Ye.target)&&(A(!1),z(!1))}function Ge(Ye){Ye.key==="Escape"&&(L(!1),A(!1),z(!1))}return document.addEventListener("mousedown",Ae),document.addEventListener("keydown",Ge),()=>{document.removeEventListener("mousedown",Ae),document.removeEventListener("keydown",Ge)}},[]),u.useEffect(()=>()=>{le.current&&clearTimeout(le.current)},[]),u.useEffect(()=>{t!=null&&t.id&&(aw("moment",t.id).then(({data:Ae})=>{x(Ae.liked),w(Ae.count)}).catch(()=>{}),nx("moment",t.id).then(({data:Ae})=>{const Ge=Array.isArray(Ae)?Ae.length:0;v(Ge)}).catch(()=>{}))},[t==null?void 0:t.id]);const Ne=(o==null?void 0:o.id)&&(t==null?void 0:t.userId)&&o.id===t.userId,Te=a==="list",Fe=(()=>{var Ge,Ye;const Ae=[];if(((Ge=t==null?void 0:t.images)==null?void 0:Ge.length)>0)for(const Et of t.images){const Ot=Et==null?void 0:Et.base64url;if(jO(Ot)){const ft=NO(Et);Ae.push({url:Ot,type:ft,name:(Et==null?void 0:Et.name)||`media-${Ae.length}`})}}if(((Ye=t==null?void 0:t.attachments)==null?void 0:Ye.length)>0&&Ae.length===0)for(const Et of t.attachments){const Ot=Et==null?void 0:Et.base64url;if(jO(Ot)){const ft=NO(Et);Ae.push({url:Ot,type:ft,name:(Et==null?void 0:Et.name)||`attachment-${Ae.length}`})}}return Ae.sort((Et,Ot)=>Et.type==="video"&&Ot.type!=="video"?-1:Et.type!=="video"&&Ot.type==="video"?1:0)})(),Ve=jme(Fe),ut=Fe[Y];ut==null||ut.type;const Je=u.useMemo(()=>{var Ye,Et;const Ae=(Ye=t==null?void 0:t.city)==null?void 0:Ye.trim(),Ge=(Et=t==null?void 0:t.country)==null?void 0:Et.trim();return Ae&&Ge?`${Ae}, ${Ge}`:Ge||Ae||""},[t==null?void 0:t.city,t==null?void 0:t.country]),G=u.useMemo(()=>{const Ae=Array.isArray(t==null?void 0:t.tags)?t.tags:[],Ge=[t==null?void 0:t.relatedEntityType,t==null?void 0:t.type,t==null?void 0:t.categoryName,t==null?void 0:t.subcategoryName].filter(Boolean);return[...new Set([...Array.isArray(t==null?void 0:t.audienceCategories)?t==null?void 0:t.audienceCategories.map(Ye=>Ye.name):[],t==null?void 0:t.relatedEntityType,...Ae,...Ge.slice(1)])].filter(Boolean)},[t==null?void 0:t.audienceCategories,t==null?void 0:t.tags,t==null?void 0:t.relatedEntityType,t==null?void 0:t.type,t==null?void 0:t.categoryName,t==null?void 0:t.subcategoryName]),ae=G.slice(0,2),Me=Math.max(0,G.length-ae.length),he=u.useMemo(()=>bme(t==null?void 0:t.timeAgo,t==null?void 0:t.createdAt),[t==null?void 0:t.timeAgo,t==null?void 0:t.createdAt]);function ye(){h(!1),m("pending_outgoing")}const oe=Ae=>{if(!Ae)return"";const Ge=Ae.replace(/<br\s*\/?>/gi,". "),Ye=document.createElement("div");Ye.innerHTML=Ge;let Et=Ye.textContent||Ye.innerText||"";return Et=Et.replace(/\s+/g," ").trim(),Et},ie=()=>{X(!0),F(!0),le.current&&clearTimeout(le.current),le.current=setTimeout(()=>{F(!1)},3e3)},q=()=>{X(!1),F(!0),le.current&&clearTimeout(le.current)},Se=(Ae,Ge=0)=>{Ae.stopPropagation(),te(Ge),J(!0)};Te&&(l==null||l.contentType);const $e=()=>ve(this,null,function*(){var Ae;if(!(o!=null&&o.id)){(Ae=d._showPopUp)==null||Ae.call(d,"login_prompt");return}x(Ge=>!Ge),w(Ge=>p?Math.max(0,Ge-1):Ge+1);try{const{data:Ge}=yield tc("moment",t.id);x(Ge.liked),w(Ge.count)}catch(Ge){x(Ye=>!Ye),w(Ye=>p?Ye+1:Math.max(0,Ye-1))}}),rt=Ae=>ve(this,null,function*(){try{yield rc("moment",t.id,"other",Ae),ce.success("Report submitted. Thank you.")}catch(Ge){ce.success("Report submitted. Thank you.")}}),nt=()=>ve(this,null,function*(){var Ae,Ge;try{yield Le.delete(`/moments/${t.id}`),ce.success("Moment deleted successfully"),U(!0),s&&s(t)}catch(Ye){console.error("Failed to delete moment:",Ye),ce.error(((Ge=(Ae=Ye==null?void 0:Ye.response)==null?void 0:Ae.data)==null?void 0:Ge.message)||"Failed to delete moment")}}),Ue=`${window.location.origin}/moment/${t==null?void 0:t.id}`,xt=(t==null?void 0:t.title)||"Moment on 54Links",Oe=((t==null?void 0:t.description)||"").slice(0,160)+(((t==null?void 0:t.description)||"").length>160?"…":""),Ee=["54Links","Moments","Achievements"].filter(Boolean),ee=((vt=(wt=import.meta)==null?void 0:wt.env)==null?void 0:vt.VITE_FACEBOOK_APP_ID)||void 0,de=()=>n.jsxs("button",{onClick:()=>ve(this,null,function*(){try{yield navigator.clipboard.writeText(Ue),ce.success("Link copied"),L(!1)}catch(Ae){ce.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[n.jsx(Zs,{size:16}),"Copy link"]}),ue=()=>n.jsxs("div",{ref:C,className:"absolute bottom-0 right-3 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this moment"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx(ua,{url:Ue,title:xt,separator:" — ",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(da,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),n.jsx(na,{url:Ue,quote:Oe,hashtag:"#54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ea,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),n.jsx(aa,{url:Ue,title:xt,summary:Oe,source:"54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(sa,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),n.jsx(ca,{url:Ue,title:xt,hashtags:Ee,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(la,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),n.jsx(oa,{url:Ue,title:xt,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ia,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),n.jsx(Xs,{url:Ue,subject:xt,body:Oe+`

`+Ue,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(Ks,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),ee&&n.jsx(ra,{url:Ue,appId:ee,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ta,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),n.jsx("div",{className:"mt-2",children:n.jsx(de,{})})]}),_e=()=>n.jsx("div",{ref:Z,className:"absolute z-30 w-48 rounded-xl border border-gray-200 bg-white p-2 shadow-xl top-12 right-3",role:"dialog","aria-label":"Options menu",children:B?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-900 border-b border-gray-200 mb-2",children:"Delete this moment?"}),n.jsxs("button",{onClick:()=>ve(this,null,function*(){yield nt(),A(!1),z(!1)}),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors mb-1",children:[n.jsx(On,{size:16}),"Confirm Delete"]}),n.jsx("button",{onClick:()=>z(!1),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"Cancel"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>{c(`/moment/${t.id}`),A(!1)},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors mb-1",children:[n.jsx(Kl,{size:16}),"Edit"]}),n.jsxs("button",{onClick:()=>z(!0),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[n.jsx(On,{size:16}),"Delete"]})]})}),Xe=()=>Ve.layout==="none"?null:Ve.layout==="video-priority"?n.jsxs("div",{className:"w-full h-96 relative bg-black",children:[n.jsx("div",{className:"w-full h-full",children:n.jsx(Aa,{src:Ve.videoItem.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:K,onPlay:ie,onPause:q})}),Ve.remainingCount>0&&n.jsx("div",{className:"absolute bottom-4 right-4 z-20 cursor-pointer",onClick:Ae=>Se(Ae,1),children:n.jsxs("div",{className:"relative w-20 h-20 rounded-lg overflow-hidden border-2 border-white shadow-lg",children:[Ve.otherItems[0]?Ve.otherItems[0].type==="video"?n.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:n.jsx(cm,{size:16,className:"text-white"})}):n.jsx("img",{src:Ve.otherItems[0].url,alt:"Preview",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full bg-gray-600 flex items-center justify-center"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center",children:n.jsxs("span",{className:"text-white text-lg font-bold",children:["+",Ve.remainingCount]})})]})})]}):Ve.layout==="single"?n.jsx("div",{className:"w-full h-96 relative",children:Ve.items[0].type==="video"?n.jsx("div",{className:"relative w-full h-full bg-black",children:n.jsx(Aa,{src:Ve.items[0].url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:K,onPlay:ie,onPause:q})}):n.jsx("img",{src:Ve.items[0].url,alt:Ve.items[0].name||"Media",className:"w-full h-96 object-contain cursor-pointer",onClick:Ae=>Se(Ae,0)})}):n.jsx("div",{className:`grid gap-0.5 bg-black ${Ve.layout==="double"?"grid-cols-2 h-96":(Ve.layout==="triple","grid-cols-2 grid-rows-2 h-96")}`,children:Ve.items.map((Ae,Ge)=>{if(Ve.layout==="triple"&&Ge===0)return n.jsx("div",{className:"row-span-2 relative",children:n.jsx("img",{src:Ae.url,alt:Ae.name||`Media ${Ge+1}`,className:"w-full h-full object-cover cursor-pointer  object-[50%_30%]",onClick:Et=>Se(Et,Ge)})},Ge);const Ye=Ge===3&&Ve.remainingCount>0;return n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:Ae.url,alt:Ae.name||`Media ${Ge+1}`,className:"w-full h-full object-cover cursor-pointer  object-[50%_30%]",onClick:Et=>Se(Et,Ge)}),Ye&&n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center cursor-pointer",onClick:Et=>Se(Et,Ge),children:n.jsxs("span",{className:"text-white text-2xl font-bold",children:["+",Ve.remainingCount]})})]},Ge)})});return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 overflow-hidden ${O?"hidden":""}`,children:[n.jsxs("div",{className:"px-4 pt-3 pb-2 flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx("div",{className:"cursor-pointer flex-shrink-0",onClick:Ae=>{Ae.stopPropagation(),t!=null&&t.userId&&c(`/profile/${t.userId}`)},children:(ct=t==null?void 0:t.user)!=null&&ct.avatarUrl||t!=null&&t.avatarUrl?n.jsx("div",{className:`flex bg-white items-center justify-center w-20 h-20 ${((Ze=t==null?void 0:t.postedBy)==null?void 0:Ze.accountType)==="company"?"rounded":"rounded-full"} border border-gray-300 overflow-hidden`,children:n.jsx("img",{src:((dt=t.user)==null?void 0:dt.avatarUrl)||t.avatarUrl,alt:((yt=t==null?void 0:t.user)==null?void 0:yt.name)||(t==null?void 0:t.userName)||"User",className:"w-full h-full",style:{objectFit:"cover"}})}):n.jsx("div",{className:`w-20 h-20 bg-gray-200 flex items-center justify-center ${((Ie=t==null?void 0:t.postedBy)==null?void 0:Ie.accountType)==="company"?"rounded":"rounded-full"} border border-gray-100`,children:n.jsx(ka,{size:24,className:"text-gray-400"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-semibold text-sm text-gray-900 hover:underline cursor-pointer",onClick:Ae=>{Ae.stopPropagation(),t!=null&&t.userId&&c(`/profile/${t.userId}`)},children:((ze=t==null?void 0:t.user)==null?void 0:ze.name)||(t==null?void 0:t.userName)||"User"}),n.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:((qe=t==null?void 0:t.profile)==null?void 0:qe.professionalTitle)||"Moment Creator"}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5",children:[n.jsx("span",{children:he}),n.jsx("span",{children:"•"}),n.jsx(so,{size:12})]})]})]}),n.jsxs("div",{className:"relative flex-shrink-0",children:[Ne&&n.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),A(Ge=>!Ge)},className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors","aria-label":"More options",children:n.jsx(Fo,{size:20,className:"text-gray-600"})}),P&&n.jsx(_e,{})]})]}),n.jsx("div",{className:"px-4 pb-3",children:n.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:[n.jsx("div",{className:se?"":"line-clamp-3",children:oe(t==null?void 0:t.description)}),(t==null?void 0:t.description)&&oe(t==null?void 0:t.description).length>250&&n.jsx("button",{onClick:()=>fe(!se),className:"text-gray-500 hover:text-brand-600 font-medium mt-1",children:se?"Show less":"...more"})]})}),(l==null?void 0:l.contentType)!=="text"&&Fe.length>0&&n.jsx("div",{className:"relative bg-gray-900",children:Xe()}),n.jsxs("div",{className:"flex justify-between px-4 pt-3 pb-3",children:[!!ae.length&&n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex flex-wrap gap-1.5 flex-1",children:[n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-50 text-green-600 border border-green-200",children:"Experience"}),ae.map(Ae=>n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-brand-500",children:["#",Ae.replace(/\s+/g,"")]},Ae)),Me>0&&n.jsxs("div",{className:"relative inline-block group/tags",children:[n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium text-gray-600 bg-gray-100 cursor-help",children:["+",Me," more"]}),n.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/tags:opacity-100 group-hover/tags:visible z-10 whitespace-nowrap max-w-xs",children:[n.jsx("div",{className:"flex flex-wrap gap-1",children:G.slice(2).map((Ae,Ge)=>n.jsxs("span",{className:"inline-block",children:["#",Ae.replace(/\s+/g,""),Ge<G.length-3?",":""]},Ge))}),n.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]})}),n.jsx("div",{children:i>0&&n.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${i>=80?"bg-green-100 text-green-700 border border-green-200":i>=60?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:[i,"% match"]})})]}),(y>0||b>0)&&n.jsxs("div",{className:"px-4 py-2 flex items-center justify-between text-xs text-gray-500 border-t border-gray-100",children:[n.jsx("div",{className:"flex items-center gap-1",children:y>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"flex -space-x-1",children:n.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center",children:n.jsx(Un,{size:10,className:"text-white fill-white"})})}),n.jsxs("button",{onClick:()=>I(!0),className:"hover:underline cursor-pointer",children:[y," ",y===1?"like":"likes"]})]})}),n.jsx("div",{className:"flex items-center gap-3",children:b>0&&n.jsxs("button",{onClick:()=>M(!0),className:"hover:underline",children:[b," comment",b!==1?"s":""]})})]}),n.jsxs("div",{className:"px-2 py-1 border-t border-gray-100 grid grid-cols-4 gap-1",children:[n.jsxs("button",{onClick:$e,className:`flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium ${p?"text-blue-600":"text-gray-600"}`,children:[n.jsx(Un,{size:20,className:p?"fill-blue-600":""}),n.jsx("span",{className:"max-sm:hidden",children:"Like"})]}),n.jsxs("button",{onClick:()=>M(!0),className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Rs,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Comment"})]}),n.jsxs("button",{onClick:()=>{var Ae;if(o!=null&&o.id)N(!0);else{(Ae=d._showPopUp)==null||Ae.call(d,"login_prompt");return}},className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Si,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Report"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),L(Ge=>!Ge)},className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Qs,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Share"})]}),E&&n.jsx(ue,{})]})]}),n.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50",children:[n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[n.jsx(gn,{size:14}),n.jsx("span",{children:Je})]})}),!Ne&&n.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[n.jsx("button",{onClick:()=>{var Ae;if(!(o!=null&&o.id)){d._showPopUp("login_prompt");return}c(`/messages?userId=${t.userId}`),ce.success("Starting conversation with "+(((Ae=t.user)==null?void 0:Ae.name)||t.userName||"moment creator"))},className:"flex-1 px-4 py-2 rounded-full bg-brand-600 text-white font-medium text-sm hover:bg-brand-700 transition-colors",children:"Message"}),g!=="connected"&&gt()]})]})]}),n.jsx(bs,{open:f,onClose:()=>h(!1),toUserId:t==null?void 0:t.userId,toName:((it=t==null?void 0:t.user)==null?void 0:it.name)||(t==null?void 0:t.userName)||"User",onSent:ye}),n.jsx(is,{open:j,onClose:()=>N(!1),title:"Report this moment?",text:"Tell us what's happening. Our team will review.",confirmText:"Submit report",cancelText:"Cancel",withInput:!0,inputType:"textarea",inputLabel:"Report details",inputPlaceholder:"Describe the issue (spam, scam, offensive, etc.)",requireValue:!0,onConfirm:rt}),n.jsx(sc,{open:k,onClose:()=>M(!1),entityType:"moment",entityId:t==null?void 0:t.id,currentUser:o,onCountChange:Ae=>v(Ae)}),n.jsx(nc,{open:S,onClose:()=>I(!1),entityType:"moment",entityId:t==null?void 0:t.id}),n.jsx(ac,{isOpen:_,onClose:()=>J(!1),item:t,type:"moment",tags:ae,mediaUrls:Fe.map(Ae=>Ae.url),initialMediaIndex:Y})]});function gt(){const Ae=g||(t==null?void 0:t.connectionStatus)||"none";return Ae==="connected"?n.jsx("button",{className:"flex-1 px-4 py-2 rounded-full bg-green-100 text-green-700 font-medium text-sm",children:"Connected"}):Ae==="pending_outgoing"||Ae==="outgoing_pending"?n.jsx("button",{className:"flex-1 px-4 py-2 rounded-full bg-yellow-100 text-yellow-700 font-medium text-sm",children:"Pending"}):Ae==="pending_incoming"||Ae==="incoming_pending"?n.jsx("button",{onClick:()=>c("/notifications"),className:"flex-1 px-4 py-2 rounded-full bg-brand-100 text-brand-600 hover:bg-brand-200 font-medium text-sm transition-colors",children:"Respond"}):o!=null&&o.id?n.jsx("button",{onClick:()=>h(!0),className:"flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors border-2 border-brand-600 text-brand-600 hover:bg-brand-50",children:"Connect"}):n.jsx("button",{onClick:()=>d._showPopUp("login_prompt"),className:"flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors border-2 border-brand-600 text-brand-600 hover:bg-brand-50",children:"Connect"})}}function Nme(t){if(!t)return"";const r=new Date(t).getTime(),s=Date.now(),a=Math.floor((s-r)/1e3);if(a<60)return"Just now";const i=Math.floor(a/60);if(i<60)return`${i} min${i>1?"s":""} ago`;const o=Math.floor(i/60);if(o<24)return`${o} hour${o>1?"s":""} ago`;const l=Math.floor(o/24);if(l<30)return`${l} day${l>1?"s":""} ago`;const c=Math.floor(l/30);if(c<12)return`${c} month${c>1?"s":""} ago`;const d=Math.floor(c/12);return`${d} year${d>1?"s":""} ago`}function SO(t,r){return t&&r?`${t}, ${r}`:t||r||""}function Ag({children:t,tone:r="brand"}){const s={brand:"bg-brand-50 text-brand-600",green:"bg-green-100 text-green-700",gray:"bg-gray-100 text-gray-700",blue:"bg-blue-100 text-blue-700"};return n.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] ${s[r]||s.gray}`,children:t})}function Sl({title:t,icon:r,children:s}){return n.jsxs("div",{className:"mt-5 text-left",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r?n.jsx(r,{size:16,className:"text-brand-600"}):null,n.jsx("h3",{className:"font-medium text-sm",children:t})]}),s]})}function Sme({experienceId:t,isOpen:r,onClose:s}){var T,k,M,_,J,Y,te,K,X,W;const[a,i]=u.useState(!1),[o,l]=u.useState(!1),[c,d]=u.useState(null),[f,h]=u.useState(""),[g,m]=u.useState(0),[p,x]=u.useState(!1),y=u.useRef(null),w=u.useRef(null),b=u.useRef(null),v=Cr(),{user:j}=Xt(),N=qt();u.useEffect(()=>{function F(A){w.current&&y.current&&!w.current.contains(A.target)&&!y.current.contains(A.target)&&x(!1)}function P(A){A.key==="Escape"&&x(!1)}return document.addEventListener("mousedown",F),document.addEventListener("keydown",P),()=>{document.removeEventListener("mousedown",F),document.removeEventListener("keydown",P)}},[]),u.useEffect(()=>{if(!r){d(null),h("");return}if(!t)return;let F=!0;function P(){return ve(this,null,function*(){l(!0),h(""),d(null);try{const{data:A}=yield Le.get(`/tourism/${t}`);F&&d(A)}catch(A){console.error("Error fetching experience details:",A),F&&h("Failed to load experience details.")}finally{F&&l(!1)}})}return P(),()=>{F=!1}},[r,t]);function S(){ce.success("Connection request sent"),i(!1)}function I(){var F;(F=c==null?void 0:c.images)!=null&&F.length&&m(P=>(P+1)%c.images.length)}function E(){var F;(F=c==null?void 0:c.images)!=null&&F.length&&m(P=>(P-1+c.images.length)%c.images.length)}if(!r)return null;const L=((T=c==null?void 0:c.images)==null?void 0:T[g])||null,C=(((k=c==null?void 0:c.author)==null?void 0:k.name)||"?").split(" ").map(F=>F[0]).join("").slice(0,2).toUpperCase();return n.jsxs("div",{className:"fixed z-[99] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[n.jsxs("div",{ref:b,className:"bg-white z-[99] w-full max-w-2xl rounded-2xl shadow-xl flex flex-col max-h-[85vh] overflow-hidden relative",children:[n.jsxs("div",{className:"bg-brand-500 p-4 flex justify-between items-center",children:[n.jsx("div",{className:"text-white font-medium",children:"Experience Details"}),n.jsx("button",{onClick:()=>{var F;s(),(F=v._closeAllPopUps)==null||F.call(v)},className:"text-white hover:text-brand-100",children:n.jsx(Lr,{size:20})})]}),n.jsx("div",{className:"p-6 overflow-y-auto",children:o?n.jsx(sx,{}):f?n.jsx("div",{className:"text-sm text-red-600",children:f}):c?n.jsxs(n.Fragment,{children:[((M=c.images)==null?void 0:M.length)>0&&n.jsx("div",{className:"relative mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:L,alt:c.title,className:"w-full h-64 object-cover bg-gray-50 rounded-lg"}),c.images.length>1&&n.jsxs("div",{className:"absolute inset-x-0 bottom-0 flex justify-between p-2",children:[n.jsx("button",{onClick:E,className:"p-2 rounded-full bg-white/80 backdrop-blur-sm shadow-lg hover:bg-white",children:"←"}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-full px-3 py-1 text-xs",children:[g+1," / ",c.images.length]}),n.jsx("button",{onClick:I,className:"p-2 rounded-full bg-white/80 backdrop-blur-sm shadow-lg hover:bg-white",children:"→"})]})]})}),n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:c.title}),n.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-600",children:[n.jsx(hl,{size:16}),n.jsx("span",{children:Nme(c.createdAt)}),c.location&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"mx-1",children:"•"}),n.jsx(gn,{size:16}),n.jsx("span",{children:SO(c.location,c.country)})]})]})]})}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:c.postType&&n.jsx(Ag,{tone:"brand",children:c.postType})}),n.jsx(Sl,{title:"Posted By",icon:vs,children:n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border border-gray-100 hover:border-brand-200",onClick:()=>{var F;c!=null&&c.authorUserId&&(v._showPopUp("profile"),(F=v._setProfileUserId)==null||F.call(v,c.authorUserId))},children:[(_=c.author)!=null&&_.avatarUrl?n.jsx("img",{src:c.author.avatarUrl,alt:c.author.name,className:"w-10 h-10 rounded-full object-cover"}):n.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-brand-600 font-medium",children:C})}),n.jsx("div",{children:n.jsx("div",{className:"font-medium",children:((J=c.author)==null?void 0:J.name)||"Experience Author"})})]})}),n.jsx(Sl,{title:"Description",icon:Rs,children:n.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:c.description||"No description provided."})}),(c.location||c.country)&&n.jsx(Sl,{title:"Location",icon:gn,children:n.jsx("p",{className:"text-sm text-gray-700",children:SO(c.location,c.country)})}),c.season&&n.jsx(Sl,{title:"Best Season to Visit",icon:K2,children:n.jsx("p",{className:"text-sm text-gray-700",children:c.season})}),c.budgetRange&&n.jsx(Sl,{title:"Budget Range",icon:xue,children:n.jsx("p",{className:"text-sm text-gray-700",children:c.budgetRange})}),((Y=c.tags)==null?void 0:Y.length)>0&&n.jsx(Sl,{title:"Tags",icon:Mh,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:c.tags.map((F,P)=>n.jsx(Ag,{tone:"gray",children:F},`tag-${P}`))})}),((te=c.audienceCategories)==null?void 0:te.length)>0&&n.jsx(Sl,{title:"Categories",icon:no,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:c.audienceCategories.map((F,P)=>n.jsx(Ag,{tone:"brand",children:F.name},`cat-${P}`))})}),((K=c.audienceSubcategories)==null?void 0:K.length)>0&&n.jsx(Sl,{title:"Subcategories",icon:no,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:c.audienceSubcategories.map((F,P)=>n.jsx(Ag,{tone:"gray",children:F.name},`subcat-${P}`))})}),((X=c.audienceIdentities)==null?void 0:X.length)>0&&n.jsx(Sl,{title:"Target Audience",icon:vs,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:c.audienceIdentities.map((F,P)=>n.jsx(Ag,{tone:"blue",children:F.name},`identity-${P}`))})}),n.jsxs("div",{className:"flex gap-3 mt-6 relative",children:[n.jsxs("button",{ref:w,onClick:F=>{F.stopPropagation(),x(P=>!P)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[n.jsx(Qs,{size:18}),"Share"]}),c.authorUserId!==(j==null?void 0:j.id)&&n.jsxs("button",{onClick:()=>{if(!(j!=null&&j.id)){v._showPopUp("login_prompt");return}i(!0)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[n.jsx(vs,{size:18}),"Connect"]}),n.jsx("button",{onClick:()=>{var F;if(!(j!=null&&j.id)){v._showPopUp("login_prompt");return}s(),N(`/messages?userId=${c.authorUserId}`),ce.success("Starting conversation with "+(((F=c.author)==null?void 0:F.name)||"experience author"))},className:"flex-1 rounded-lg px-4 py-2 text-sm font-medium bg-brand-500 text-white hover:bg-brand-700 active:bg-brand-800 flex items-center justify-center gap-2 transition-all duration-200 shadow-sm hover:shadow-md",children:"Message"}),p&&n.jsx(Cme,{experience:c,shareMenuRef:y,setShareOpen:x})]})]}):n.jsx("div",{className:"text-sm text-gray-600",children:"No experience details available."})})]}),n.jsx(bs,{open:a,onClose:()=>i(!1),toUserId:c==null?void 0:c.authorUserId,toName:((W=c==null?void 0:c.author)==null?void 0:W.name)||"Experience Author",onSent:S})]})}const Cme=({experience:t,shareMenuRef:r,setShareOpen:s})=>{var d,f;const a=`${window.location.origin}/experience/${t==null?void 0:t.id}`,i=(t==null?void 0:t.title)||"Experience on 54Links",o=((t==null?void 0:t.description)||"").slice(0,160)+(((t==null?void 0:t.description)||"").length>160?"…":""),l=["54Links","Travel","Experiences"].filter(Boolean),c=((f=(d=import.meta)==null?void 0:d.env)==null?void 0:f.VITE_FACEBOOK_APP_ID)||void 0;return n.jsxs("div",{ref:r,className:"absolute bottom-14 left-0 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this experience"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx(ua,{url:a,title:i,separator:" — ",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(da,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),n.jsx(na,{url:a,quote:o,hashtag:"#54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ea,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),n.jsx(aa,{url:a,title:i,summary:o,source:"54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(sa,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),n.jsx(ca,{url:a,title:i,hashtags:l,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(la,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),n.jsx(oa,{url:a,title:i,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ia,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),n.jsx(Xs,{url:a,subject:i,body:o+`

`+a,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(Ks,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),c&&n.jsx(ra,{url:a,appId:c,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ta,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),n.jsx("div",{className:"mt-2",children:n.jsx(kme,{shareUrl:a,setShareOpen:s})})]})},kme=({shareUrl:t,setShareOpen:r})=>n.jsxs("button",{onClick:()=>ve(void 0,null,function*(){try{yield navigator.clipboard.writeText(t),ce.success("Link copied"),r(!1)}catch(s){ce.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[n.jsx(Zs,{size:16}),"Copy link"]}),Eme=t=>!t||typeof t!="string"?!1:t.startsWith("data:")||t.startsWith("http://")||t.startsWith("https://"),Lme=t=>{if(!t)return"";const r=t.match(/\.([a-zA-Z0-9]+)(?:\?|$)/);return r?r[1].toLowerCase():""},Mme=t=>{if(!t)return"unknown";if(t.startsWith("data:"))return t.startsWith("data:image")?"image":t.startsWith("data:video")?"video":"unknown";const r=Lme(t),s=["mp4","webm","ogg","mov","avi","mkv"],a=["jpg","jpeg","png","gif","webp","bmp","svg"];return s.includes(r)?"video":a.includes(r)?"image":"unknown"};function Ime(t,r){if(t)return t;if(!r)return"";const s=Date.now()-new Date(r).getTime(),a=Math.floor(s/6e4);if(a<60)return`${a} min${a!==1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i!==1?"s":""} ago`;const o=Math.floor(i/24);return`${o} day${o!==1?"s":""} ago`}function dw({item:t,type:r="grid",matchPercentage:s=20}){var yt,Ie,ze;const a=qt(),i=Cr(),{user:o,settings:l}=Xt(),[c,d]=u.useState(!1),[f,h]=u.useState((t==null?void 0:t.connectionStatus)||"none"),[g,m]=u.useState(!1),[p,x]=u.useState(!1),[y,w]=u.useState(!!(t!=null&&t.isLiked)),[b,v]=u.useState(Number(t.likesCount||0)),[j,N]=u.useState(Number((t==null?void 0:t.commentsCount)||0)),[S,I]=u.useState(!1),[E,L]=u.useState(!1),[C,T]=u.useState(!1),[k,M]=u.useState(0),[_,J]=u.useState(!1),[Y,te]=u.useState(!1),[K,X]=u.useState(!1),W=u.useRef(null),F=u.useRef(null),[P,A]=u.useState(null),[B,z]=u.useState(null),[O,U]=u.useState(!1),[Z,se]=u.useState(null),[fe,le]=u.useState(!1),[Ne,Te]=u.useState(!1),[ht,Fe]=u.useState(!1),Ve=u.useRef(null),ut=()=>n.jsx("div",{ref:Ve,className:"absolute z-30 w-48 rounded-xl border border-gray-200 bg-white p-2 shadow-xl top-12 right-3",role:"dialog","aria-label":"Options menu",children:Ne?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-900 border-b border-gray-200 mb-2",children:"Delete this experience?"}),n.jsxs("button",{onClick:()=>ve(this,null,function*(){var qe,it;try{yield Le.delete(`/tourism/${t.id}`),ce.success("Experience deleted successfully"),Fe(!0)}catch(Ae){console.error("Failed to delete experience:",Ae),ce.error(((it=(qe=Ae==null?void 0:Ae.response)==null?void 0:qe.data)==null?void 0:it.message)||"Failed to delete experience")}le(!1),Te(!1)}),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors mb-1",children:[n.jsx(On,{size:16}),"Confirm Delete"]}),n.jsx("button",{onClick:()=>Te(!1),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"Cancel"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>{a(`/experience/${t.id}`),le(!1)},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors mb-1",children:[n.jsx(Kl,{size:16}),"Edit"]}),n.jsxs("button",{onClick:()=>Te(!0),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[n.jsx(On,{size:16}),"Delete"]})]})}),Je=u.useRef(null);u.useEffect(()=>{function qe(Ae){var Ge;W.current&&!W.current.contains(Ae.target)&&!((Ge=F.current)!=null&&Ge.contains(Ae.target))&&X(!1),Ve.current&&!Ve.current.contains(Ae.target)&&(le(!1),Te(!1))}function it(Ae){Ae.key==="Escape"&&(X(!1),le(!1),Te(!1))}return document.addEventListener("mousedown",qe),document.addEventListener("keydown",it),()=>{document.removeEventListener("mousedown",qe),document.removeEventListener("keydown",it)}},[]),u.useEffect(()=>()=>{Je.current&&clearTimeout(Je.current)},[]);const G=50,ae=qe=>{z(null),A(qe.targetTouches[0].clientX)},Me=qe=>z(qe.targetTouches[0].clientX),he=()=>{if(!P||!B)return;const qe=P-B,it=qe>G,Ae=qe<-G;it&&k<nt.length-1&&(M(k+1),q()),Ae&&k>0&&(M(k-1),q())},ye=qe=>{U(!0),se(qe.clientX)},oe=qe=>{if(!O)return;const it=qe.clientX,Ae=Z-it;Math.abs(Ae)>G&&(Ae>0&&k<nt.length-1?(M(k+1),q(),U(!1)):Ae<0&&k>0&&(M(k-1),q(),U(!1)))},ie=()=>{U(!1),se(null)},q=()=>{J(!1),te(!1)};u.useEffect(()=>{t!=null&&t.id&&(aw("experience",t.id).then(({data:qe})=>{w(qe.liked),v(qe.count)}).catch(()=>{}),nx("experience",t.id).then(({data:qe})=>{const it=Array.isArray(qe)?qe.length:0;N(it)}).catch(()=>{}))},[t==null?void 0:t.id]);const Se=!!(o!=null&&o.id)&&(t==null?void 0:t.authorUserId)===o.id,$e=r==="list";console.log({isOwner:Se});const nt=(()=>{const qe=(t==null?void 0:t.images)||[],it=[];return qe.forEach((Ae,Ge)=>{let Ye=(Ae==null?void 0:Ae.base64url)||Ae||null;if(Ye&&!Ye.startsWith("data:")&&!Ye.startsWith("http")&&(Ye=`${En}/uploads/${Ye}`),Eme(Ye)){const Et=Mme(Ye);(Et==="image"||Et==="video")&&it.push({url:Ye,type:Et,name:`media-${Ge}`})}}),it.sort((Ae,Ge)=>Ae.type==="video"&&Ge.type!=="video"?-1:Ae.type!=="video"&&Ge.type==="video"?1:0)})(),Ue=nt.length>1,xt=nt[k],Oe=(xt==null?void 0:xt.type)==="video",Ee=["Tourism",...Array.isArray(t==null?void 0:t.audienceCategories)?t==null?void 0:t.audienceCategories.map(qe=>qe.name):[],...Array.isArray(t==null?void 0:t.tags)?t.tags.filter(Boolean):[]],ee=Ee.slice(0,2),de=Math.max(0,Ee.length-ee.length),ue=u.useMemo(()=>Ime(t==null?void 0:t.timeAgo,t==null?void 0:t.createdAt),[t==null?void 0:t.timeAgo,t==null?void 0:t.createdAt]);function _e(){d(!1),h("pending_outgoing")}const Xe=()=>{J(!_),te(!0),Je.current&&clearTimeout(Je.current),Je.current=setTimeout(()=>{te(!1)},3e3)},gt=()=>{J(!0),te(!0),Je.current&&clearTimeout(Je.current),Je.current=setTimeout(()=>{te(!1)},3e3)},wt=()=>{J(!1),te(!0),Je.current&&clearTimeout(Je.current)},vt=qe=>{Oe?(qe.stopPropagation(),Xe()):T(!0)};$e&&(l==null||l.contentType);const ct=()=>ve(this,null,function*(){var qe;if(!(o!=null&&o.id)){(qe=i._showPopUp)==null||qe.call(i,"login_prompt");return}w(it=>!it),v(it=>y?Math.max(0,it-1):it+1);try{const{data:it}=yield tc("experience",t.id);w(it.liked),v(it.count)}catch(it){w(Ae=>!Ae),v(Ae=>y?Ae+1:Math.max(0,Ae-1))}}),Ze=qe=>ve(this,null,function*(){try{yield rc("experience",t.id,"other",qe),ce.success("Report submitted. Thank you.")}catch(it){ce.success("Report submitted. Thank you.")}});return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 overflow-hidden ${ht?"hidden":""}`,children:[n.jsxs("div",{className:"px-4 pt-3 pb-2 flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx("div",{className:"cursor-pointer flex-shrink-0",onClick:qe=>{qe.stopPropagation(),t!=null&&t.authorUserId&&a(`/profile/${t.authorUserId}`)},children:t!=null&&t.avatarUrl?n.jsx("div",{className:`flex bg-white items-center justify-center w-20 h-20 ${((yt=t==null?void 0:t.author)==null?void 0:yt.accountType)==="company"?"rounded":"rounded-full"} border border-gray-300 overflow-hidden`,children:n.jsx("img",{src:t.avatarUrl,alt:(t==null?void 0:t.authorUserName)||"User",className:"w-full h-full",style:{objectFit:"cover"}})}):n.jsx("div",{className:`w-20 h-20 bg-gray-200 flex items-center justify-center ${((Ie=t==null?void 0:t.author)==null?void 0:Ie.accountType)==="company"?"rounded":"rounded-full"} border border-gray-100`,children:n.jsx(ka,{size:24,className:"text-gray-400"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-semibold text-sm text-gray-900 hover:underline cursor-pointer",onClick:qe=>{qe.stopPropagation(),t!=null&&t.authorUserId&&a(`/profile/${t.authorUserId}`)},children:(t==null?void 0:t.authorUserName)||"User"}),n.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:((ze=t==null?void 0:t.profile)==null?void 0:ze.professionalTitle)||"Experience Author"}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5",children:[n.jsx("span",{children:ue}),n.jsx("span",{children:"•"}),n.jsx(so,{size:12})]})]})]}),n.jsxs("div",{className:"relative flex-shrink-0",children:[Se&&n.jsx("button",{onClick:qe=>{qe.stopPropagation(),le(it=>!it)},className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors","aria-label":"More options",children:n.jsx(Fo,{size:20,className:"text-gray-600"})}),fe&&n.jsx(ut,{})]})]}),n.jsxs("div",{className:"px-4 pb-3",children:[n.jsx("h3",{className:"font-semibold text-base text-gray-900 mb-1 hover:text-brand-600 cursor-pointer transition-colors",onClick:()=>{Se?a(`/experience/${t.id}`):m(!0)},children:t==null?void 0:t.title}),n.jsx("div",{className:"text-sm text-gray-700 mb-2",children:n.jsx("div",{className:"line-clamp-3",children:t==null?void 0:t.description})})]}),(l==null?void 0:l.contentType)!=="text"&&nt.length>0&&n.jsxs("div",{className:"relative bg-gray-900",children:[n.jsx("div",{onClick:vt,onTouchStart:ae,onTouchMove:Me,onTouchEnd:he,onMouseDown:ye,onMouseMove:oe,onMouseUp:ie,onMouseLeave:ie,className:"relative w-full max-h-96 overflow-hidden cursor-pointer select-none",style:{userSelect:"none"},children:Ue?n.jsx("div",{className:"flex w-full h-full transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${k*100}%)`},children:nt.map((qe,it)=>n.jsx("div",{className:"flex-shrink-0 w-full h-96 relative",children:qe.type==="video"?n.jsx("div",{className:"relative w-full h-full bg-black",children:n.jsx(Aa,{src:qe.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:it===k&&_,onPlay:gt,onPause:wt})}):n.jsx("img",{src:qe.url,alt:qe.name||`Media ${it+1}`,className:"w-full h-96 object-contain"})},it))}):n.jsx("div",{className:"w-full h-96 relative",children:xt.type==="video"?n.jsx("div",{className:"relative w-full h-full bg-black",children:n.jsx(Aa,{src:xt.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:_,onPlay:gt,onPause:wt})}):n.jsx("img",{src:xt.url,alt:xt.name||"Media",className:"w-full h-96 object-contain"})})}),Ue&&n.jsx("div",{className:"absolute bottom-3 right-3 flex gap-1",children:nt.map((qe,it)=>n.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),M(it),qe.type==="video"?(J(!1),te(!0)):(J(!1),te(!1))},className:`w-[10px] h-[10px] rounded-full border border-gray-300 transition-colors ${it===k?qe.type==="video"?"bg-blue-500":"bg-white":"bg-white/50"}`,"aria-label":`Go to ${qe.type} ${it+1}`},it))})]}),n.jsxs("div",{className:"flex justify-between px-4 pt-3 pb-3",children:[!!ee.length&&n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex flex-wrap gap-1.5 flex-1",children:[ee.map(qe=>n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-brand-500",children:["#",qe.replace(/\s+/g,"")]},qe)),de>0&&n.jsxs("div",{className:"relative inline-block group/tags",children:[n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium text-gray-600 bg-gray-100 cursor-help",children:["+",de," more"]}),n.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/tags:opacity-100 group-hover/tags:visible z-10 whitespace-nowrap max-w-xs",children:[n.jsx("div",{className:"flex flex-wrap gap-1",children:Ee.slice(2).map((qe,it)=>n.jsxs("span",{className:"inline-block",children:["#",qe.replace(/\s+/g,""),it<Ee.length-3?",":""]},it))}),n.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]})}),n.jsx("div",{children:s>0&&n.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${s>=80?"bg-green-100 text-green-700 border border-green-200":s>=60?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:[s,"% match"]})})]}),(b>0||j>0)&&n.jsxs("div",{className:"px-4 py-2 flex items-center justify-between text-xs text-gray-500 border-t border-gray-100",children:[n.jsx("div",{className:"flex items-center gap-1",children:b>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"flex -space-x-1",children:n.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center",children:n.jsx(Un,{size:10,className:"text-white fill-white"})})}),n.jsxs("button",{onClick:()=>x(!0),className:"hover:underline cursor-pointer",children:[b," ",b===1?"like":"likes"]})]})}),n.jsx("div",{className:"flex items-center gap-3",children:j>0&&n.jsxs("button",{onClick:()=>L(!0),className:"hover:underline",children:[j," comment",j!==1?"s":""]})})]}),n.jsxs("div",{className:"px-2 py-1 border-t border-gray-100 grid grid-cols-4 gap-1",children:[n.jsxs("button",{onClick:ct,className:`flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium ${y?"text-blue-600":"text-gray-600"}`,children:[n.jsx(Un,{size:20,className:y?"fill-blue-600":""}),n.jsx("span",{className:"max-sm:hidden",children:"Like"})]}),n.jsxs("button",{onClick:()=>L(!0),className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Rs,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Comment"})]}),n.jsxs("button",{onClick:()=>{var qe;if(o!=null&&o.id)I(!0);else{(qe=i._showPopUp)==null||qe.call(i,"login_prompt");return}},className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Si,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Report"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:qe=>{qe.stopPropagation(),X(it=>!it)},className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Qs,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Share"})]}),K&&n.jsx(Tme,{item:t,shareMenuRef:W,setShareOpen:X})]})]}),!Se&&n.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[n.jsx(gn,{size:14}),n.jsx("span",{children:t!=null&&t.location?`${t.location}${t!=null&&t.country?`, ${t.country}`:""}`:(t==null?void 0:t.country)||"—"})]}),(t==null?void 0:t.season)&&n.jsxs("div",{className:"text-sm text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Best season:"})," ",t.season]}),(t==null?void 0:t.budgetRange)&&n.jsxs("div",{className:"text-sm text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Budget:"})," ",t.budgetRange]})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[n.jsx("button",{onClick:()=>{if(!(o!=null&&o.id)){i._showPopUp("login_prompt");return}a(`/messages?userId=${t.authorUserId}`),ce.success("Starting conversation with "+(t.authorUserName||"experience author"))},className:"flex-1 px-4 py-2 rounded-full bg-brand-600 text-white font-medium text-sm hover:bg-brand-700 transition-colors",children:"Message"}),f!=="connected"&&dt()]})]})]}),n.jsx(bs,{open:c,onClose:()=>d(!1),toUserId:t==null?void 0:t.authorUserId,toName:(t==null?void 0:t.authorUserName)||"Experience Author",onSent:_e}),n.jsx(Sme,{experienceId:t==null?void 0:t.id,isOpen:g,onClose:()=>m(!1)}),n.jsx(nc,{open:p,onClose:()=>x(!1),entityType:"experience",entityId:t==null?void 0:t.id}),n.jsx(is,{open:S,onClose:()=>I(!1),title:"Report this experience?",text:"Tell us what's happening. Our team will review.",confirmText:"Submit report",cancelText:"Cancel",withInput:!0,inputType:"textarea",inputLabel:"Report details",inputPlaceholder:"Describe the issue (spam, scam, offensive, etc.)",requireValue:!0,onConfirm:Ze}),n.jsx(sc,{open:E,onClose:()=>L(!1),entityType:"experience",entityId:t==null?void 0:t.id,currentUser:o,onCountChange:qe=>N(qe)}),n.jsx(ac,{isOpen:C,onClose:()=>T(!1),item:t,type:"experience",mediaUrls:nt.map(qe=>qe.url),initialMediaIndex:0,tags:Ee})]});function dt(){var it;const qe=(it=f||(t==null?void 0:t.connectionStatus)||"none")==null?void 0:it.toLowerCase();return qe==="connected"?n.jsx("button",{className:"flex-1 px-4 py-2 rounded-full bg-green-100 text-green-700 font-medium text-sm",children:"Connected"}):qe==="pending_outgoing"||qe==="outgoing_pending"||qe==="pending"?n.jsx("button",{className:"flex-1 px-4 py-2 rounded-full bg-yellow-100 text-yellow-700 font-medium text-sm",children:"Pending"}):qe==="pending_incoming"||qe==="incoming_pending"?n.jsx("button",{onClick:()=>a("/notifications"),className:"flex-1 px-4 py-2 rounded-full bg-brand-100 text-brand-600 hover:bg-brand-200 font-medium text-sm transition-colors",children:"Respond"}):o!=null&&o.id?n.jsx("button",{onClick:()=>d(!0),className:"flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors border-2 border-brand-600 text-brand-600 hover:bg-brand-50",children:"Connect"}):n.jsx("button",{onClick:()=>i._showPopUp("login_prompt"),className:"flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors border-2 border-brand-600 text-brand-600 hover:bg-brand-50",children:"Connect"})}}const Tme=({item:t,shareMenuRef:r,setShareOpen:s})=>{var d,f;const a=`${window.location.origin}/experience/${t==null?void 0:t.id}`,i=(t==null?void 0:t.title)||"Experience on 54Links",o=((t==null?void 0:t.description)||"").slice(0,160)+(((t==null?void 0:t.description)||"").length>160?"…":""),l=["54Links","Tourism","Travel","Experience"].filter(Boolean),c=((f=(d=import.meta)==null?void 0:d.env)==null?void 0:f.VITE_FACEBOOK_APP_ID)||void 0;return n.jsxs("div",{ref:r,className:"absolute bottom-0 right-3 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this experience"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx(ua,{url:a,title:i,separator:" — ",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(da,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),n.jsx(na,{url:a,quote:o,hashtag:"#54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ea,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),n.jsx(aa,{url:a,title:i,summary:o,source:"54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(sa,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),n.jsx(ca,{url:a,title:i,hashtags:l,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(la,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),n.jsx(oa,{url:a,title:i,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ia,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),n.jsx(Xs,{url:a,subject:i,body:o+`

`+a,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(Ks,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),c&&n.jsx(ra,{url:a,appId:c,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ta,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),n.jsx("div",{className:"mt-2",children:n.jsx(Ame,{shareUrl:a,setShareOpen:s})})]})},Ame=({shareUrl:t,setShareOpen:r})=>n.jsxs("button",{onClick:()=>ve(void 0,null,function*(){try{yield navigator.clipboard.writeText(t),ce.success("Link copied"),r(!1)}catch(s){ce.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[n.jsx(Zs,{size:16}),"Copy link"]});function _me(t){if(!t)return"";const r=new Date(t).getTime(),s=Date.now(),a=Math.floor((s-r)/1e3);if(a<60)return"Just now";const i=Math.floor(a/60);if(i<60)return`${i} min${i>1?"s":""} ago`;const o=Math.floor(i/60);if(o<24)return`${o} hour${o>1?"s":""} ago`;const l=Math.floor(o/24);if(l<30)return`${l} day${l>1?"s":""} ago`;const c=Math.floor(l/30);if(c<12)return`${c} month${c>1?"s":""} ago`;const d=Math.floor(c/12);return`${d} year${d>1?"s":""} ago`}function Ome(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):""}function $me(t){if(!t)return null;const r=new Date,s=new Date(t),a=Math.ceil((s-r)/(1e3*60*60*24));return a>0?a:0}function _g({children:t,tone:r="brand"}){const s={brand:"bg-brand-50 text-brand-600",green:"bg-green-100 text-green-700",gray:"bg-gray-100 text-gray-700",blue:"bg-blue-100 text-blue-700"};return n.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] ${s[r]||s.gray}`,children:t})}function ci({title:t,icon:r,children:s}){return n.jsxs("div",{className:"mt-5 text-left",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r?n.jsx(r,{size:16,className:"text-brand-600"}):null,n.jsx("h3",{className:"font-medium text-sm",children:t})]}),s]})}function Pme({value:t}){return n.jsx("div",{className:"w-full h-2 rounded-full bg-gray-100 overflow-hidden",children:n.jsx("div",{className:"h-full rounded-full bg-brand-500",style:{width:`${Math.min(100,t)}%`}})})}function Dme({crowdfundId:t,isOpen:r,onClose:s}){var Y,te,K,X,W,F,P,A,B,z;const[a,i]=u.useState(!1),[o,l]=u.useState(!1),[c,d]=u.useState(null),[f,h]=u.useState(""),[g,m]=u.useState(0),[p,x]=u.useState(!1),y=u.useRef(null),w=u.useRef(null),b=u.useRef(null),v=Cr(),{user:j}=Xt(),N=qt();u.useEffect(()=>{function O(Z){w.current&&y.current&&!w.current.contains(Z.target)&&!y.current.contains(Z.target)&&x(!1)}function U(Z){Z.key==="Escape"&&x(!1)}return document.addEventListener("mousedown",O),document.addEventListener("keydown",U),()=>{document.removeEventListener("mousedown",O),document.removeEventListener("keydown",U)}},[]),u.useEffect(()=>{if(!r){d(null),h("");return}if(!t)return;let O=!0;function U(){return ve(this,null,function*(){l(!0),h(""),d(null);try{const{data:Z}=yield Le.get(`/funding/projects/${t}`);O&&d(Z)}catch(Z){console.error("Error fetching crowdfund details:",Z),O&&h("Failed to load crowdfund details.")}finally{O&&l(!1)}})}return U(),()=>{O=!1}},[r,t]);function S(){ce.success("Connection request sent"),i(!1)}function I(){var O;(O=c==null?void 0:c.images)!=null&&O.length&&m(U=>(U+1)%c.images.length)}function E(){var O;(O=c==null?void 0:c.images)!=null&&O.length&&m(U=>(U-1+c.images.length)%c.images.length)}if(!r)return null;const L=(Y=c==null?void 0:c.images)==null?void 0:Y[g],C=L?typeof L=="string"?L:L.base64url||L:null,T=parseFloat((c==null?void 0:c.raised)||0),k=parseFloat((c==null?void 0:c.goal)||0),M=k>0?Math.min(100,T/k*100):0,_=$me(c==null?void 0:c.deadline),J=(((te=c==null?void 0:c.creator)==null?void 0:te.name)||"?").split(" ").map(O=>O[0]).join("").slice(0,2).toUpperCase();return n.jsxs("div",{className:"fixed z-[99] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[n.jsxs("div",{ref:b,className:"bg-white z-[99] w-full max-w-2xl rounded-2xl shadow-xl flex flex-col max-h-[85vh] overflow-hidden relative",children:[n.jsxs("div",{className:"bg-brand-500 p-4 flex justify-between items-center",children:[n.jsx("div",{className:"text-white font-medium",children:"Crowdfunding Project Details"}),n.jsx("button",{onClick:()=>{var O;s(),(O=v._closeAllPopUps)==null||O.call(v)},className:"text-white hover:text-brand-100",children:n.jsx(Lr,{size:20})})]}),n.jsx("div",{className:"p-6 overflow-y-auto",children:o?n.jsx(sx,{}):f?n.jsx("div",{className:"text-sm text-red-600",children:f}):c?n.jsxs(n.Fragment,{children:[((K=c.images)==null?void 0:K.length)>0&&n.jsx("div",{className:"relative mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:C,alt:c.title,className:"w-full h-64 object-cover bg-gray-50 rounded-lg"}),c.images.length>1&&n.jsxs("div",{className:"absolute inset-x-0 bottom-0 flex justify-between p-2",children:[n.jsx("button",{onClick:E,className:"p-2 rounded-full bg-white/80 backdrop-blur-sm shadow-lg hover:bg-white",children:"←"}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-full px-3 py-1 text-xs",children:[g+1," / ",c.images.length]}),n.jsx("button",{onClick:I,className:"p-2 rounded-full bg-white/80 backdrop-blur-sm shadow-lg hover:bg-white",children:"→"})]})]})}),n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:c.title}),n.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-600",children:[n.jsx(hl,{size:16}),n.jsx("span",{children:_me(c.createdAt)}),(c.city||c.country)&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"mx-1",children:"•"}),n.jsx(gn,{size:16}),n.jsxs("span",{children:[c.city?`${c.city}, `:"",c.country||""]})]})]})]})}),c.category&&n.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:n.jsx(_g,{tone:"brand",children:c.category.name})}),n.jsx(ci,{title:"Funding Progress",icon:Lh,children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pme,{value:M}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"font-semibold",children:[c.currency," ",Number.isFinite(T)?T.toLocaleString():"0"]})," ","raised"]}),n.jsxs("div",{children:["of"," ",n.jsxs("span",{className:"font-semibold",children:[c.currency," ",Number.isFinite(k)?k.toLocaleString():"0"]})," ","goal"]}),_!==null&&n.jsxs("div",{className:"text-gray-500",children:["· ",_," days left"]})]})]})}),n.jsx(ci,{title:"Creator",icon:vs,children:n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border border-gray-100 hover:border-brand-200",onClick:()=>{var O;c!=null&&c.creatorUserId&&(v._showPopUp("profile"),(O=v._setProfileUserId)==null||O.call(v,c.creatorUserId))},children:[n.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-brand-600 font-medium",children:J})}),n.jsx("div",{children:n.jsx("div",{className:"font-medium",children:((X=c.creator)==null?void 0:X.name)||"Project Creator"})})]})}),n.jsx(ci,{title:"Project Pitch",icon:Rs,children:n.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:c.pitch||"No description provided."})}),c.deadline&&n.jsx(ci,{title:"Deadline",icon:K2,children:n.jsxs("p",{className:"text-sm text-gray-700",children:[Ome(c.deadline),_!==null&&_>0&&` (${_} days left)`]})}),(c.city||c.country)&&n.jsx(ci,{title:"Location",icon:gn,children:n.jsxs("p",{className:"text-sm text-gray-700",children:[c.city?`${c.city}, `:"",c.country||""]})}),c.rewards&&n.jsx(ci,{title:"Rewards",icon:Hle,children:n.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:c.rewards})}),c.team&&n.jsx(ci,{title:"Team",icon:rx,children:n.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:c.team})}),(c.email||c.phone)&&n.jsxs(ci,{title:"Contact Information",icon:sh,children:[c.email&&n.jsxs("p",{className:"text-sm text-gray-700 flex items-center gap-2 mb-1",children:[n.jsx(sh,{size:14,className:"text-gray-500"}),n.jsx("a",{href:`mailto:${c.email}`,className:"hover:underline text-brand-600",children:c.email})]}),c.phone&&n.jsxs("p",{className:"text-sm text-gray-700 flex items-center gap-2",children:[n.jsx(LH,{size:14,className:"text-gray-500"}),n.jsx("a",{href:`tel:${c.phone}`,className:"hover:underline text-brand-600",children:c.phone})]})]}),((W=c.links)==null?void 0:W.length)>0&&n.jsx(ci,{title:"Links",icon:tb,children:n.jsx("div",{className:"space-y-1",children:c.links.map((O,U)=>n.jsxs("p",{className:"text-sm text-gray-700 flex items-center gap-2",children:[n.jsx(tb,{size:14,className:"text-gray-500"}),n.jsx("a",{href:O,target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-brand-600 truncate",children:O})]},`link-${U}`))})}),((F=c.tags)==null?void 0:F.length)>0&&n.jsx(ci,{title:"Tags",icon:Mh,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:c.tags.map((O,U)=>n.jsx(_g,{tone:"gray",children:O},`tag-${U}`))})}),((P=c.audienceCategories)==null?void 0:P.length)>0&&n.jsx(ci,{title:"Target Categories",icon:no,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:c.audienceCategories.map((O,U)=>n.jsx(_g,{tone:"brand",children:O.name},`cat-${U}`))})}),((A=c.audienceSubcategories)==null?void 0:A.length)>0&&n.jsx(ci,{title:"Target Subcategories",icon:no,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:c.audienceSubcategories.map((O,U)=>n.jsx(_g,{tone:"gray",children:O.name},`subcat-${U}`))})}),((B=c.audienceIdentities)==null?void 0:B.length)>0&&n.jsx(ci,{title:"Target Audience",icon:vs,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:c.audienceIdentities.map((O,U)=>n.jsx(_g,{tone:"blue",children:O.name},`identity-${U}`))})}),n.jsxs("div",{className:"flex gap-3 mt-6 relative",children:[n.jsxs("button",{ref:w,onClick:O=>{O.stopPropagation(),x(U=>!U)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[n.jsx(Qs,{size:18}),"Share"]}),c.creatorUserId!==(j==null?void 0:j.id)&&n.jsxs("button",{onClick:()=>{if(!(j!=null&&j.id)){v._showPopUp("login_prompt");return}i(!0)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[n.jsx(vs,{size:18}),"Connect"]}),n.jsx("button",{onClick:()=>{var O;if(!(j!=null&&j.id)){v._showPopUp("login_prompt");return}s(),N(`/messages?userId=${c.creatorUserId}`),ce.success("Starting conversation with "+(((O=c.creator)==null?void 0:O.name)||"project creator"))},className:"flex-1 rounded-lg px-4 py-2 text-sm font-medium bg-brand-500 text-white hover:bg-brand-700 active:bg-brand-800 flex items-center justify-center gap-2 transition-all duration-200 shadow-sm hover:shadow-md",children:"Message"}),p&&n.jsx(Rme,{crowdfund:c,shareMenuRef:y,setShareOpen:x})]})]}):n.jsx("div",{className:"text-sm text-gray-600",children:"No project details available."})})]}),n.jsx(bs,{open:a,onClose:()=>i(!1),toUserId:c==null?void 0:c.creatorUserId,toName:((z=c==null?void 0:c.creator)==null?void 0:z.name)||"Project Creator",onSent:S})]})}const Rme=({crowdfund:t,shareMenuRef:r,setShareOpen:s})=>{var d,f;const a=`${window.location.origin}/funding/${t==null?void 0:t.id}`,i=(t==null?void 0:t.title)||"Crowdfunding Project on 54Links",o=((t==null?void 0:t.pitch)||"").slice(0,160)+(((t==null?void 0:t.pitch)||"").length>160?"…":""),l=["54Links","Crowdfunding","Startup","Funding"].filter(Boolean),c=((f=(d=import.meta)==null?void 0:d.env)==null?void 0:f.VITE_FACEBOOK_APP_ID)||void 0;return n.jsxs("div",{ref:r,className:"absolute bottom-14 left-0 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this project"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx(ua,{url:a,title:i,separator:" — ",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(da,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),n.jsx(na,{url:a,quote:o,hashtag:"#54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ea,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),n.jsx(aa,{url:a,title:i,summary:o,source:"54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(sa,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),n.jsx(ca,{url:a,title:i,hashtags:l,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(la,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),n.jsx(oa,{url:a,title:i,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ia,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),n.jsx(Xs,{url:a,subject:i,body:o+`

`+a,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(Ks,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),c&&n.jsx(ra,{url:a,appId:c,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ta,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),n.jsx("div",{className:"mt-2",children:n.jsx(Fme,{shareUrl:a,setShareOpen:s})})]})},Fme=({shareUrl:t,setShareOpen:r})=>n.jsxs("button",{onClick:()=>ve(void 0,null,function*(){try{yield navigator.clipboard.writeText(t),ce.success("Link copied"),r(!1)}catch(s){ce.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[n.jsx(Zs,{size:16}),"Copy link"]}),gV="#034ea2",Bme=t=>!t||typeof t!="string"?!1:t.startsWith("data:")||t.startsWith("http://")||t.startsWith("https://"),zme=t=>{if(!t)return"";const r=t.match(/\.([a-zA-Z0-9]+)(?:\?|$)/);return r?r[1].toLowerCase():""},Ume=t=>{if(!t)return"unknown";if(t.startsWith("data:"))return t.startsWith("data:image")?"image":t.startsWith("data:video")?"video":"unknown";const r=zme(t),s=["mp4","webm","ogg","mov","avi","mkv"],a=["jpg","jpeg","png","gif","webp","bmp","svg"],i=["pdf","doc","docx","txt","rtf","odt"];return s.includes(r)?"video":a.includes(r)?"image":i.includes(r)?"document":"unknown"},Wme=({value:t})=>n.jsx("div",{className:"w-full h-2 rounded-full bg-gray-100 overflow-hidden",children:n.jsx("div",{className:"h-full rounded-full",style:{width:`${Math.min(100,t)}%`,background:gV}})});function uw({item:t,matchPercentage:r=20,type:s="grid",onDelete:a}){var re,ge,We,ot,Ce;const[i,o]=u.useState(!1),[l,c]=u.useState((t==null?void 0:t.connectionStatus)||"none"),[d,f]=u.useState(!1),[h,g]=u.useState(!1),[m,p]=u.useState(!!(t!=null&&t.isLiked)),[x,y]=u.useState(Number(t.likesCount||0)),[w,b]=u.useState(Number((t==null?void 0:t.commentsCount)||0)),[v,j]=u.useState(0),[N,S]=u.useState(!1),[I,E]=u.useState(!1),[L,C]=u.useState(!1),[T,k]=u.useState(!1),[M,_]=u.useState(!1),[J,Y]=u.useState(!1),te=u.useRef(null),K=u.useRef(null),[X,W]=u.useState(!1),[F,P]=u.useState(!1),[A,B]=u.useState(!1),z=u.useRef(null),[O,U]=u.useState(!1),{user:Z,settings:se}=Xt(),fe=Cr(),le=qt(),[Ne,Te]=u.useState(null),[ht,Fe]=u.useState(null),[Ve,ut]=u.useState(!1),[Je,G]=u.useState(null),ae=u.useRef(null);u.useEffect(()=>{function pe(we){var Re;te.current&&!te.current.contains(we.target)&&!((Re=K.current)!=null&&Re.contains(we.target))&&Y(!1),z.current&&!z.current.contains(we.target)&&(W(!1),P(!1))}function je(we){we.key==="Escape"&&(Y(!1),W(!1),P(!1))}return document.addEventListener("mousedown",pe),document.addEventListener("keydown",je),()=>{document.removeEventListener("mousedown",pe),document.removeEventListener("keydown",je)}},[]),u.useEffect(()=>()=>{ae.current&&clearTimeout(ae.current)},[]);const Me=50,he=pe=>{Fe(null),Te(pe.targetTouches[0].clientX)},ye=pe=>Fe(pe.targetTouches[0].clientX),oe=()=>{if(!Ne||!ht)return;const pe=Ne-ht,je=pe>Me,we=pe<-Me;je&&v<nt.length-1&&(j(v+1),$e()),we&&v>0&&(j(v-1),$e())},ie=pe=>{ut(!0),G(pe.clientX)},q=pe=>{if(!Ve)return;const je=pe.clientX,we=Je-je;Math.abs(we)>Me&&(we>0&&v<nt.length-1?(j(v+1),$e(),ut(!1)):we<0&&v>0&&(j(v-1),$e(),ut(!1)))},Se=()=>{ut(!1),G(null)},$e=()=>{S(!1),E(!1)},nt=(()=>{var je;const pe=[];if(((je=t==null?void 0:t.images)==null?void 0:je.length)>0)for(const we of t.images){let Re=(we==null?void 0:we.base64url)||we||null;if(Bme(Re)){const He=Ume(Re);(He==="image"||He==="video")&&pe.push({url:Re,type:He,name:`media-${pe.length}`})}}return pe.sort((we,Re)=>we.type==="video"&&Re.type!=="video"?-1:we.type!=="video"&&Re.type==="video"?1:0)})(),Ue=nt.length>1,xt=nt[v],Oe=(xt==null?void 0:xt.type)==="video",Ee=parseFloat((t==null?void 0:t.raised)||0),ee=parseFloat((t==null?void 0:t.goal)||0),de=ee>0?Math.min(100,Ee/ee*100):0,ue=u.useMemo(()=>{if(!(t!=null&&t.deadline))return null;const pe=new Date,je=new Date(t.deadline),we=Math.ceil((je-pe)/(1e3*60*60*24));return we>0?we:0},[t==null?void 0:t.deadline]),_e=["Funding",...Array.isArray(t==null?void 0:t.audienceCategories)?t==null?void 0:t.audienceCategories.map(pe=>pe.name):[],...Array.isArray(t==null?void 0:t.tags)?t.tags.filter(Boolean):[]],Xe=_e.slice(0,2),gt=Math.max(0,_e.length-Xe.length),wt=u.useMemo(()=>{if(t!=null&&t.timeAgo)return t.timeAgo;if(!(t!=null&&t.createdAt))return"";const pe=Date.now()-new Date(t.createdAt).getTime(),je=Math.floor(pe/6e4);if(je<60)return`${je} min${je!==1?"s":""} ago`;const we=Math.floor(je/60);if(we<24)return`${we} hour${we!==1?"s":""} ago`;const Re=Math.floor(we/24);return`${Re} day${Re!==1?"s":""} ago`},[t==null?void 0:t.timeAgo,t==null?void 0:t.createdAt]),vt=pe=>{if(!pe)return"";const je=pe.replace(/<br\s*\/?>/gi,". "),we=document.createElement("div");we.innerHTML=je;let Re=we.textContent||we.innerText||"";return Re=Re.replace(/\s+/g," ").trim(),Re},ct=!!(Z!=null&&Z.id)&&Z.id===(t==null?void 0:t.creatorUserId);u.useEffect(()=>{t!=null&&t.id&&(aw("funding",t.id).then(({data:pe})=>{p(pe.liked),y(pe.count)}).catch(()=>{}),nx("funding",t.id).then(({data:pe})=>{const je=Array.isArray(pe)?pe.length:0;b(je)}).catch(()=>{}))},[t==null?void 0:t.id]);const Ze=()=>{S(!N),E(!0),ae.current&&clearTimeout(ae.current),ae.current=setTimeout(()=>{E(!1)},3e3)},dt=()=>{S(!0),E(!0),ae.current&&clearTimeout(ae.current),ae.current=setTimeout(()=>{E(!1)},3e3)},yt=()=>{S(!1),E(!0),ae.current&&clearTimeout(ae.current)},Ie=pe=>{Oe?(pe.stopPropagation(),Ze()):_(!0)},ze=`${window.location.origin}/funding/${t==null?void 0:t.id}`,qe=(t==null?void 0:t.title)||"Crowdfunding project on 54Links",it=((t==null?void 0:t.pitch)||"").slice(0,160)+(((t==null?void 0:t.pitch)||"").length>160?"…":""),Ae=["54Links","Crowdfunding","Support"].filter(Boolean),Ge=((ge=(re=import.meta)==null?void 0:re.env)==null?void 0:ge.VITE_FACEBOOK_APP_ID)||void 0,Ye=()=>n.jsxs("button",{onClick:()=>ve(this,null,function*(){try{yield navigator.clipboard.writeText(ze),ce.success("Link copied"),Y(!1)}catch(pe){ce.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[n.jsx(Zs,{size:16}),"Copy link"]}),Et=()=>n.jsx("div",{ref:z,className:"absolute z-30 w-48 rounded-xl border border-gray-200 bg-white p-2 shadow-xl top-12 right-3",role:"dialog","aria-label":"Options menu",children:F?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-900 border-b border-gray-200 mb-2",children:"Delete this project?"}),n.jsxs("button",{onClick:()=>ve(this,null,function*(){var pe,je;try{yield Le.delete(`/funding/projects/${t.id}`),ce.success("Project deleted successfully"),B(!0),a&&a(t)}catch(we){console.error("Failed to delete project:",we),ce.error(((je=(pe=we==null?void 0:we.response)==null?void 0:pe.data)==null?void 0:je.message)||"Failed to delete project")}W(!1),P(!1)}),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors mb-1",children:[n.jsx(On,{size:16}),"Confirm Delete"]}),n.jsx("button",{onClick:()=>P(!1),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"Cancel"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>{le(`/funding/${t.id}`),W(!1)},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors mb-1",children:[n.jsx(Kl,{size:16}),"Edit"]}),n.jsxs("button",{onClick:()=>P(!0),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[n.jsx(On,{size:16}),"Delete"]})]})}),Ot=()=>n.jsxs("div",{ref:te,className:"absolute bottom-0 right-3 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this project"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx(ua,{url:ze,title:qe,separator:" — ",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(da,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),n.jsx(na,{url:ze,quote:it,hashtag:"#54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ea,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),n.jsx(aa,{url:ze,title:qe,summary:it,source:"54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(sa,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),n.jsx(ca,{url:ze,title:qe,hashtags:Ae,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(la,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),n.jsx(oa,{url:ze,title:qe,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ia,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),n.jsx(Xs,{url:ze,subject:qe,body:it+`

`+ze,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(Ks,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),Ge&&n.jsx(ra,{url:ze,appId:Ge,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ta,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),n.jsx("div",{className:"mt-2",children:n.jsx(Ye,{})})]});function ft(){o(!1),c("pending_outgoing")}s==="list"&&(se==null||se.contentType);const Q=()=>ve(this,null,function*(){var pe;if(!(Z!=null&&Z.id)){(pe=fe._showPopUp)==null||pe.call(fe,"login_prompt");return}p(je=>!je),y(je=>m?Math.max(0,je-1):je+1);try{const{data:je}=yield tc("funding",t.id);p(je.liked),y(je.count)}catch(je){p(we=>!we),y(we=>m?we+1:Math.max(0,we-1))}}),H=pe=>ve(this,null,function*(){try{yield rc("funding",t.id,"other",pe),ce.success("Report submitted. Thank you.")}catch(je){ce.success("Report submitted. Thank you.")}});return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 overflow-hidden ${A?"hidden":""}`,children:[n.jsxs("div",{className:"px-4 pt-3 pb-2 flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx("div",{className:"cursor-pointer flex-shrink-0",onClick:pe=>{pe.stopPropagation(),t!=null&&t.creatorUserId&&le(`/profile/${t.creatorUserId}`)},children:t!=null&&t.avatarUrl?n.jsx("div",{className:`flex bg-white items-center justify-center w-20 h-20 ${((We=t==null?void 0:t.postedBy)==null?void 0:We.accountType)==="company"?"rounded":"rounded-full"} border border-gray-300 overflow-hidden`,children:n.jsx("img",{src:t.avatarUrl,alt:(t==null?void 0:t.creatorUserName)||"User",className:"w-full h-full",style:{objectFit:"cover"}})}):n.jsx("div",{className:`w-20 h-20 bg-gray-200 flex items-center justify-center ${((ot=t==null?void 0:t.postedBy)==null?void 0:ot.accountType)==="company"?"rounded":"rounded-full"} border border-gray-100`,children:n.jsx(ka,{size:24,className:"text-gray-400"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-semibold text-sm text-gray-900 hover:underline cursor-pointer",onClick:pe=>{pe.stopPropagation(),t!=null&&t.creatorUserId&&le(`/profile/${t.creatorUserId}`)},children:(t==null?void 0:t.creatorUserName)||"User"}),n.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:((Ce=t==null?void 0:t.profile)==null?void 0:Ce.professionalTitle)||"Project Creator"}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5",children:[n.jsx("span",{children:wt}),n.jsx("span",{children:"•"}),n.jsx(so,{size:12})]})]})]}),n.jsxs("div",{className:"relative flex-shrink-0",children:[ct&&n.jsx("button",{onClick:pe=>{pe.stopPropagation(),W(je=>!je)},className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors","aria-label":"More options",children:n.jsx(Fo,{size:20,className:"text-gray-600"})}),X&&n.jsx(Et,{})]})]}),n.jsxs("div",{className:"px-4 pb-3",children:[n.jsx("h3",{className:"font-semibold text-base text-gray-900 mb-1 hover:text-brand-600 cursor-pointer transition-colors",onClick:()=>{ct?le(`/funding/${t.id}`):f(!0)},children:t==null?void 0:t.title}),n.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:[n.jsx("div",{className:O?"":"line-clamp-3",children:vt(t==null?void 0:t.pitch)}),(t==null?void 0:t.pitch)&&vt(t==null?void 0:t.pitch).length>250&&n.jsx("button",{onClick:()=>U(!O),className:"text-gray-500 hover:text-brand-600 font-medium mt-1",children:O?"Show less":"...more"})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx(Wme,{value:de}),n.jsxs("div",{className:"flex items-center gap-4 text-sm mt-2",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"font-semibold",children:[t==null?void 0:t.currency," ",Number.isFinite(Ee)?Ee.toLocaleString():"0"]})," ","raised"]}),n.jsxs("div",{children:["of"," ",n.jsxs("span",{className:"font-semibold",children:[t==null?void 0:t.currency," ",Number.isFinite(ee)?ee.toLocaleString():"0"]})," ","goal"]}),ue!==null&&n.jsxs("div",{className:"text-gray-500",children:["· ",ue," days left"]})]})]})]}),(se==null?void 0:se.contentType)!=="text"&&nt.length>0&&n.jsxs("div",{className:"relative bg-gray-900",children:[n.jsx("div",{onClick:Ie,onTouchStart:he,onTouchMove:ye,onTouchEnd:oe,onMouseDown:ie,onMouseMove:q,onMouseUp:Se,onMouseLeave:Se,className:"relative w-full max-h-96 overflow-hidden cursor-pointer select-none",style:{userSelect:"none"},children:Ue?n.jsx("div",{className:"flex w-full h-full transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${v*100}%)`},children:nt.map((pe,je)=>n.jsx("div",{className:"flex-shrink-0 w-full h-96 relative",children:pe.type==="video"?n.jsx("div",{className:"relative w-full h-full bg-black",children:n.jsx(Aa,{src:pe.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:je===v&&N,onPlay:dt,onPause:yt})}):n.jsx("img",{src:pe.url,alt:pe.name||`Media ${je+1}`,className:"w-full h-96 object-contain"})},je))}):n.jsx("div",{className:"w-full h-96 relative",children:xt.type==="video"?n.jsx("div",{className:"relative w-full h-full bg-black",children:n.jsx(Aa,{src:xt.url,className:"w-full h-full object-contain",controls:!1,autoPlay:!1,muted:!0,isPlaying:N,onPlay:dt,onPause:yt})}):n.jsx("img",{src:xt.url,alt:xt.name||"Media",className:"w-full h-96 object-contain"})})}),Ue&&n.jsx("div",{className:"absolute bottom-3 right-3 flex gap-1",children:nt.map((pe,je)=>n.jsx("button",{onClick:we=>{we.stopPropagation(),j(je),pe.type==="video"?(S(!1),E(!0)):(S(!1),E(!1))},className:`w-[10px] h-[10px] rounded-full border border-gray-300 transition-colors ${je===v?pe.type==="video"?"bg-blue-500":"bg-white":"bg-white/50"}`,"aria-label":`Go to ${pe.type} ${je+1}`},je))})]}),n.jsxs("div",{className:"flex justify-between px-4 pt-3 pb-3",children:[!!Xe.length&&n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex flex-wrap gap-1.5 flex-1",children:[Xe.map(pe=>n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-brand-500",children:["#",pe.replace(/\s+/g,"")]},pe)),gt>0&&n.jsxs("div",{className:"relative inline-block group/tags",children:[n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium text-gray-600 bg-gray-100 cursor-help",children:["+",gt," more"]}),n.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/tags:opacity-100 group-hover/tags:visible z-10 whitespace-nowrap max-w-xs",children:[n.jsx("div",{className:"flex flex-wrap gap-1",children:_e.slice(2).map((pe,je)=>n.jsxs("span",{className:"inline-block",children:["#",pe.replace(/\s+/g,""),je<_e.length-3?",":""]},je))}),n.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]})}),n.jsx("div",{children:r>0&&n.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${r>=80?"bg-green-100 text-green-700 border border-green-200":r>=60?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:[r,"% match"]})})]}),(x>0||w>0)&&n.jsxs("div",{className:"px-4 py-2 flex items-center justify-between text-xs text-gray-500 border-t border-gray-100",children:[n.jsx("div",{className:"flex items-center gap-1",children:x>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"flex -space-x-1",children:n.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center",children:n.jsx(Un,{size:10,className:"text-white fill-white"})})}),n.jsxs("button",{onClick:()=>g(!0),className:"hover:underline cursor-pointer",children:[x," ",x===1?"like":"likes"]})]})}),n.jsx("div",{className:"flex items-center gap-3",children:w>0&&n.jsxs("button",{onClick:()=>k(!0),className:"hover:underline",children:[w," comment",w!==1?"s":""]})})]}),n.jsxs("div",{className:"px-2 py-1 border-t border-gray-100 grid grid-cols-4 gap-1",children:[n.jsxs("button",{onClick:Q,className:`flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium ${m?"text-blue-600":"text-gray-600"}`,children:[n.jsx(Un,{size:20,className:m?"fill-blue-600":""}),n.jsx("span",{className:"max-sm:hidden",children:"Like"})]}),n.jsxs("button",{onClick:()=>k(!0),className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Rs,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Comment"})]}),n.jsxs("button",{onClick:()=>{var pe;if(Z!=null&&Z.id)C(!0);else{(pe=fe._showPopUp)==null||pe.call(fe,"login_prompt");return}},className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Si,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Report"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:pe=>{pe.stopPropagation(),Y(je=>!je)},className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Qs,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Share"})]}),J&&n.jsx(Ot,{})]})]}),!ct&&n.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50",children:[n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[n.jsx(gn,{size:14}),n.jsxs("span",{children:[t!=null&&t.city?`${t.city}, `:"",(t==null?void 0:t.country)||"—"]})]})}),n.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[t.creatorUserId==(Z==null?void 0:Z.id)&&n.jsx("button",{onClick:()=>{if(!Z){fe._showPopUp("login_prompt");return}le(`/messages?userId=${t.creatorUserId}`)},className:"px-4 py-2 rounded-full text-white font-medium text-sm transition-colors",style:{background:gV},children:"Support Project"}),n.jsx("button",{onClick:()=>{if(!(Z!=null&&Z.id)){fe._showPopUp("login_prompt");return}le(`/messages?userId=${t.creatorUserId}`),ce.success("Starting conversation with "+(t.creatorUserName||"project creator"))},className:"flex-1 px-4 py-2 rounded-full bg-brand-600 text-white font-medium text-sm hover:bg-brand-700 transition-colors",children:"Message"}),l!=="connected"&&V()]})]})]}),n.jsx(bs,{open:i,onClose:()=>o(!1),toUserId:t==null?void 0:t.creatorUserId,toName:(t==null?void 0:t.creatorUserName)||(t==null?void 0:t.creatorName)||"Project Creator",onSent:ft}),n.jsx(Dme,{crowdfundId:t==null?void 0:t.id,isOpen:d,onClose:()=>f(!1)}),n.jsx(nc,{open:h,onClose:()=>g(!1),entityType:"funding",entityId:t==null?void 0:t.id}),n.jsx(is,{open:L,onClose:()=>C(!1),title:"Report this project?",text:"Tell us what's happening. Our team will review.",confirmText:"Submit report",cancelText:"Cancel",withInput:!0,inputType:"textarea",inputLabel:"Report details",inputPlaceholder:"Describe the issue (spam, scam, offensive, etc.)",requireValue:!0,onConfirm:H}),n.jsx(sc,{open:T,onClose:()=>k(!1),entityType:"funding",entityId:t==null?void 0:t.id,currentUser:Z,onCountChange:pe=>b(pe)}),n.jsx(ac,{isOpen:M,onClose:()=>_(!1),item:t,type:"funding",mediaUrls:nt.map(pe=>pe.url),initialMediaIndex:0,tags:_e})]});function V(){if(t.creatorUserId==(Z==null?void 0:Z.id))return null;const pe=(l||"none").toLowerCase();return pe==="connected"?n.jsx("button",{className:"flex-1 px-4 py-2 rounded-full bg-green-100 text-green-700 font-medium text-sm",children:"Connected"}):pe==="pending_outgoing"||pe==="outgoing_pending"||pe==="pending"?n.jsx("button",{className:"flex-1 px-4 py-2 rounded-full bg-yellow-100 text-yellow-700 font-medium text-sm",children:"Pending"}):pe==="pending_incoming"||pe==="incoming_pending"?n.jsx("button",{onClick:()=>le("/notifications"),className:"flex-1 px-4 py-2 rounded-full bg-brand-100 text-brand-600 hover:bg-brand-200 font-medium text-sm transition-colors",children:"Respond"}):Z!=null&&Z.id?n.jsx("button",{onClick:()=>o(!0),className:"flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors border-2 border-brand-600 text-brand-600 hover:bg-brand-50",children:"Connect"}):n.jsx("button",{onClick:()=>fe._showPopUp("login_prompt"),className:"flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors border-2 border-brand-600 text-brand-600 hover:bg-brand-50",title:"Sign in to send a request",children:"Connect"})}}function Hme({open:t,onClose:r,event:s}){const[a,i]=u.useState(""),[o,l]=u.useState(""),[c,d]=u.useState(!1),[f,h]=u.useState({}),g=()=>{const x={};return(!a||a<1)&&(x.numberOfPeople="Number of people is required and must be at least 1"),o.trim()||(x.reasonForAttending="Reason for attending is required"),h(x),Object.keys(x).length===0};function m(x){i(""),l(""),x=="registered"?r("registered"):r()}const p=x=>ve(this,null,function*(){var y,w;if(x.preventDefault(),!!g()){d(!0);try{yield Le.post("/event-registrations",{eventId:s.id,numberOfPeople:parseInt(a),reasonForAttending:o.trim()}),ce.success("Registration submitted successfully!"),m("registered"),h({})}catch(b){ce.error(((w=(y=b.response)==null?void 0:y.data)==null?void 0:w.message)||"Failed to submit registration")}finally{d(!1)}}});return t?n.jsx("div",{className:"fixed z-[100] inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",children:n.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-brand-100 rounded-full",children:n.jsx(K2,{size:20,className:"text-brand-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-brand-600",children:"Register for Event"}),n.jsx("p",{className:"text-sm text-gray-600 truncate max-w-xs",children:s==null?void 0:s.title})]})]}),n.jsx("button",{onClick:m,className:"p-2 text-gray-500 hover:text-brand-600 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx(Lr,{size:20})})]}),n.jsxs("form",{onSubmit:p,className:"p-4 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Number of People"}),n.jsx("input",{type:"number",min:"1",value:a,onChange:x=>i(x.target.value.replace(/[^\d\-\(\)]/g,"")),placeholder:"Enter number of people",className:`w-full rounded-xl border px-3 py-2 text-sm focus:ring-2 focus:ring-brand-500 focus:outline-none ${f.numberOfPeople?"border-red-500":"border-gray-200"}`,required:!0}),f.numberOfPeople&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.numberOfPeople})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Reason for Attending"}),n.jsx("textarea",{value:o,onChange:x=>l(x.target.value),placeholder:"e.g., Networking, learning, pitching, etc.",rows:3,className:`w-full rounded-xl border px-3 py-2 text-sm focus:ring-2 focus:ring-brand-500 focus:outline-none resize-none ${f.reasonForAttending?"border-red-500":"border-gray-200"}`,required:!0}),f.reasonForAttending&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.reasonForAttending}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Let the organizer know why you're interested in attending"})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Event Details"}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Date:"})," ",(s==null?void 0:s.eventDate)||"TBD"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Location:"})," ",(s==null?void 0:s.location)||(s==null?void 0:s.city)||"TBD"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Price:"})," ",s!=null&&s.price?`$${s.price}`:"Free"]})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 border-t",children:[n.jsx("button",{type:"button",className:"rounded-xl px-4 py-2 text-sm border bg-white hover:bg-gray-50 transition-colors",onClick:m,disabled:c,children:"Cancel"}),n.jsx("button",{type:"submit",onClick:p,disabled:c,className:"inline-flex items-center gap-2 rounded-xl px-6 py-2 text-sm font-semibold text-white bg-brand-500 hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500/30 transition-colors disabled:opacity-50",children:c?"Registering...":"Register"})]})]})}):null}function Vme(t,r){if(t)return t;if(!r)return"";const s=Date.now()-new Date(r).getTime(),a=Math.floor(s/6e4);if(a<60)return`${a} min${a!==1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i!==1?"s":""} ago`;const o=Math.floor(i/24);return`${o} day${o!==1?"s":""} ago`}function Xu({e:t,type:r="grid",matchPercentage:s=20}){var yt,Ie,ze,qe,it;const a=qt(),i=Cr(),{user:o,settings:l}=Xt(),[c,d]=u.useState(!1),[f,h]=u.useState(null);u.useState(!1);const[g,m]=u.useState((t==null?void 0:t.connectionStatus)||"none"),[p,x]=u.useState((t==null?void 0:t.registrationStatus)||"not_registered"),[y,w]=u.useState(!1),[b,v]=u.useState(!1),[j,N]=u.useState(!1),[S,I]=u.useState(null),[E,L]=u.useState(null),[C,T]=u.useState(!1),[k,M]=u.useState(null),[_,J]=u.useState(!!(t!=null&&t.isLiked)),[Y,te]=u.useState(Number(t.likesCount||0)),[K,X]=u.useState(Number((t==null?void 0:t.commentsCount)||0)),[W,F]=u.useState(!1),[P,A]=u.useState(!1),B=u.useRef(null),z=u.useRef(null),[O,U]=u.useState(!1),[Z,se]=u.useState(!1),[fe,le]=u.useState(!1),[Ne,Te]=u.useState(!1),[ht,Fe]=u.useState(!1),Ve=u.useRef(null),ut=50,Je=Ae=>{L(null),I(Ae.targetTouches[0].clientX)},G=Ae=>L(Ae.targetTouches[0].clientX),ae=()=>{},Me=Ae=>{T(!0),M(Ae.clientX)},he=Ae=>{if(!C)return;const Ge=Ae.clientX,Ye=k-Ge;Math.abs(Ye)>ut&&T(!1)},ye=()=>{T(!1),M(null)};u.useEffect(()=>{function Ae(Ye){var Et;B.current&&!B.current.contains(Ye.target)&&!((Et=z.current)!=null&&Et.contains(Ye.target))&&A(!1),Ve.current&&!Ve.current.contains(Ye.target)&&(se(!1),le(!1))}function Ge(Ye){Ye.key==="Escape"&&(A(!1),se(!1),le(!1))}return document.addEventListener("mousedown",Ae),document.addEventListener("keydown",Ge),()=>{document.removeEventListener("mousedown",Ae),document.removeEventListener("keydown",Ge)}},[]);const oe=(o==null?void 0:o.id)&&(t==null?void 0:t.organizerUserId)&&o.id===t.organizerUserId,ie=r==="list",q=Ae=>Ae?Ae!=null&&Ae.startsWith("data:")||Ae!=null&&Ae.startsWith("http")?Ae:`${En}/uploads/${Ae}`:null,Se=u.useMemo(()=>{const Ae=q(t==null?void 0:t.videoUrl),Ge=q((t==null?void 0:t.coverImageBase64)||(t==null?void 0:t.coverImage));return Ae?{type:"video",url:Ae}:Ge?{type:"image",url:Ge}:null},[t==null?void 0:t.videoUrl,t==null?void 0:t.coverImageBase64,t==null?void 0:t.coverImage]);console.log({eventId:t==null?void 0:t.id,coverImage:t==null?void 0:t.coverImageBase64,videoUrl:t==null?void 0:t.videoUrl,mediaToDisplay:Se});const $e=`${window.location.origin}/event/${t==null?void 0:t.id}`,rt=(t==null?void 0:t.title)||"Event on 54Links",nt=((t==null?void 0:t.description)||"").slice(0,160)+(((t==null?void 0:t.description)||"").length>160?"…":""),Ue=["54Links","Events","Networking"].filter(Boolean),xt=((Ie=(yt=import.meta)==null?void 0:yt.env)==null?void 0:Ie.VITE_FACEBOOK_APP_ID)||void 0,Oe=()=>n.jsxs("button",{onClick:()=>ve(this,null,function*(){try{yield navigator.clipboard.writeText($e),ce.success("Link copied"),A(!1)}catch(Ae){ce.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[n.jsx(Zs,{size:16}),"Copy link"]}),Ee=()=>n.jsxs("div",{ref:B,className:"absolute bottom-0 right-3 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this event"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx(ua,{url:$e,title:rt,separator:" — ",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(da,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),n.jsx(na,{url:$e,quote:nt,hashtag:"#54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ea,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),n.jsx(aa,{url:$e,title:rt,summary:nt,source:"54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(sa,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),n.jsx(ca,{url:$e,title:rt,hashtags:Ue,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(la,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),n.jsx(oa,{url:$e,title:rt,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ia,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),n.jsx(Xs,{url:$e,subject:rt,body:nt+`

`+$e,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(Ks,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),xt&&n.jsx(ra,{url:$e,appId:xt,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ta,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),n.jsx("div",{className:"mt-2",children:n.jsx(Oe,{})})]}),ee=()=>n.jsx("div",{ref:Ve,className:"absolute z-30 w-48 rounded-xl border border-gray-200 bg-white p-2 shadow-xl top-12 right-3",role:"dialog","aria-label":"Options menu",children:fe?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-900 border-b border-gray-200 mb-2",children:"Delete this event?"}),n.jsxs("button",{onClick:()=>ve(this,null,function*(){var Ae,Ge;try{yield Le.delete(`/events/${t.id}`),ce.success("Event deleted successfully"),Te(!0)}catch(Ye){console.error("Failed to delete event:",Ye),ce.error(((Ge=(Ae=Ye==null?void 0:Ye.response)==null?void 0:Ae.data)==null?void 0:Ge.message)||"Failed to delete event")}se(!1),le(!1)}),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors mb-1",children:[n.jsx(On,{size:16}),"Confirm Delete"]}),n.jsx("button",{onClick:()=>le(!1),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"Cancel"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>{a(`/event/${t.id}`),se(!1)},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors mb-1",children:[n.jsx(Kl,{size:16}),"Edit"]}),n.jsxs("button",{onClick:()=>le(!0),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[n.jsx(On,{size:16}),"Delete"]})]})}),de=["Event",...Array.isArray(t==null?void 0:t.audienceCategories)?t==null?void 0:t.audienceCategories.map(Ae=>Ae.name):[],t.eventType||"Event",t.categoryName,t.subcategoryName].filter(Boolean),ue=de.slice(0,2);Math.max(0,de.length-ue.length);const _e=(t==null?void 0:t.price)!=null&&t.price!==""&&!isNaN(Number(t.price)),Xe=_e?`${(t==null?void 0:t.currency)||"USD"} ${t.price}`:"Free",gt=u.useMemo(()=>Vme(t==null?void 0:t.timeAgo,t==null?void 0:t.createdAt),[t==null?void 0:t.timeAgo,t==null?void 0:t.createdAt]);function wt(){d(!1),m("pending_outgoing"),document.body.style.overflow=""}function vt(){d(!1),document.body.style.overflow=""}const ct=Ae=>{if(!Ae)return"";const Ge=Ae.replace(/<br\s*\/?>/gi,". "),Ye=document.createElement("div");Ye.innerHTML=Ge;let Et=Ye.textContent||Ye.innerText||"";return Et=Et.replace(/\s+/g," ").trim(),Et};ie&&(l==null||l.contentType);const Ze=()=>ve(this,null,function*(){var Ae;if(!(o!=null&&o.id)){(Ae=i._showPopUp)==null||Ae.call(i,"login_prompt");return}J(Ge=>!Ge),te(Ge=>_?Math.max(0,Ge-1):Ge+1);try{const{data:Ge}=yield tc("event",t.id);J(Ge.liked),te(Ge.count)}catch(Ge){J(Ye=>!Ye),te(Ye=>_?Ye+1:Math.max(0,Ye-1))}}),dt=Ae=>ve(this,null,function*(){try{yield rc("event",t.id,"other",Ae),ce.success("Report submitted. Thank you.")}catch(Ge){ce.success("Report submitted. Thank you.")}});return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 overflow-hidden ${Ne?"hidden":""}`,children:[n.jsxs("div",{className:"px-4 pt-3 pb-2 flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx("div",{className:"cursor-pointer flex-shrink-0",onClick:Ae=>{Ae.stopPropagation(),t!=null&&t.organizerUserId&&a(`/profile/${t.organizerUserId}`)},children:t!=null&&t.avatarUrl?n.jsx("div",{className:`flex bg-white items-center justify-center w-20 h-20 ${((ze=t==null?void 0:t.postedBy)==null?void 0:ze.accountType)==="company"?"rounded":"rounded-full"} border border-gray-300 overflow-hidden`,children:n.jsx("img",{src:t.avatarUrl,alt:(t==null?void 0:t.organizerUserName)||"User",className:"w-full h-full",style:{objectFit:"cover"}})}):n.jsx("div",{className:`w-20 h-20 bg-gray-200 flex items-center justify-center ${((qe=t==null?void 0:t.postedBy)==null?void 0:qe.accountType)==="company"?"rounded":"rounded-full"} border border-gray-100`,children:n.jsx(ka,{size:24,className:"text-gray-400"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-semibold text-sm text-gray-900 hover:underline cursor-pointer",onClick:Ae=>{Ae.stopPropagation(),t!=null&&t.organizerUserId&&a(`/profile/${t.organizerUserId}`)},children:(t==null?void 0:t.organizerUserName)||"User"}),n.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:((it=t==null?void 0:t.profile)==null?void 0:it.professionalTitle)||"Event Organizer"}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5",children:[n.jsx("span",{children:gt}),n.jsx("span",{children:"•"}),n.jsx(so,{size:12})]})]})]}),n.jsxs("div",{className:"relative flex-shrink-0",children:[oe&&n.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),se(Ge=>!Ge)},className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors","aria-label":"More options",children:n.jsx(Fo,{size:20,className:"text-gray-600"})}),Z&&n.jsx(ee,{})]})]}),n.jsxs("div",{className:"px-4 pb-3",children:[n.jsx("h3",{className:"font-semibold text-base text-gray-900 mb-1 hover:text-brand-600 cursor-pointer transition-colors",onClick:()=>{oe?a(`/event/${t.id}`):v(!0)},children:t==null?void 0:t.title}),n.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:[n.jsx("div",{className:ht?"":"line-clamp-3",children:ct(t==null?void 0:t.description)}),(t==null?void 0:t.description)&&ct(t==null?void 0:t.description).length>250&&n.jsx("button",{onClick:()=>Fe(!ht),className:"text-gray-500 hover:text-brand-600 font-medium mt-1",children:ht?"Show less":"Show more"})]})]}),(l==null?void 0:l.contentType)!=="text"&&Se&&n.jsx("div",{className:"relative bg-gray-900",children:Se.type==="video"?n.jsx(Aa,{src:Se.url,alt:"Event video"}):n.jsx("img",{src:Se.url,alt:"Event cover",className:"w-full max-h-96 object-contain cursor-pointer select-none",style:{userSelect:"none"},onClick:()=>v(!0),onTouchStart:Je,onTouchMove:G,onTouchEnd:ae,onMouseDown:Me,onMouseMove:he,onMouseUp:ye,onMouseLeave:ye})}),n.jsxs("div",{className:"flex justify-between px-4 pt-3 pb-3",children:[de.length>0&&n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex flex-wrap gap-1.5 flex-1",children:[de.slice(0,3).map((Ae,Ge)=>n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-brand-500",children:["#",Ae.replace(/\s+/g,"")]},Ge)),de.length>3&&n.jsxs("div",{className:"relative inline-block group/tags",children:[n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium text-gray-600 bg-gray-100 cursor-help",children:["+",de.length-3," more"]}),n.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/tags:opacity-100 group-hover/tags:visible z-10 whitespace-nowrap max-w-xs",children:[n.jsx("div",{className:"flex flex-wrap gap-1",children:de.slice(3).map((Ae,Ge)=>n.jsxs("span",{className:"inline-block",children:["#",Ae.replace(/\s+/g,""),Ge<de.length-4?",":""]},Ge))}),n.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]})}),n.jsx("div",{children:s>0&&n.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${s>=80?"bg-green-100 text-green-700 border border-green-200":s>=60?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:[s,"% match"]})})]}),(Y>0||K>0)&&n.jsxs("div",{className:"px-4 py-2 flex items-center justify-between text-xs text-gray-500 border-t border-gray-100",children:[n.jsx("div",{className:"flex items-center gap-1",children:Y>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:"flex -space-x-1",children:n.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 flex items-center justify-center",children:n.jsx(Un,{size:10,className:"text-white fill-white"})})}),n.jsxs("button",{onClick:()=>w(!0),className:"hover:underline cursor-pointer",children:[Y," ",Y===1?"like":"likes"]})]})}),n.jsx("div",{className:"flex items-center gap-3",children:K>0&&n.jsxs("button",{onClick:()=>U(!0),className:"hover:underline",children:[K," comment",K!==1?"s":""]})})]}),n.jsxs("div",{className:"px-2 py-1 border-t border-gray-100 grid grid-cols-4 gap-1",children:[n.jsxs("button",{onClick:Ze,className:`flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium ${_?"text-blue-600":"text-gray-600"}`,children:[n.jsx(Un,{size:20,className:_?"fill-blue-600":""}),n.jsx("span",{className:"max-sm:hidden",children:"Like"})]}),n.jsxs("button",{onClick:()=>U(!0),className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Rs,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Comment"})]}),n.jsxs("button",{onClick:()=>{var Ae;if(o!=null&&o.id)F(!0);else{(Ae=i._showPopUp)==null||Ae.call(i,"login_prompt");return}},className:"flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Si,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Report"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),A(Ge=>!Ge)},className:"w-full flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium text-gray-600",children:[n.jsx(Qs,{size:20}),n.jsx("span",{className:"max-sm:hidden",children:"Share"})]}),P&&n.jsx(Ee,{})]})]}),n.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[_e&&n.jsx("div",{className:"text-sm font-semibold text-gray-900",children:Xe}),n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[n.jsx(gn,{size:14}),n.jsxs("span",{children:[t!=null&&t.city?`${t.city}, `:"",(t==null?void 0:t.country)||"—"]})]})]}),!oe&&n.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[p==="registered"?n.jsxs("button",{className:"flex-1 px-4 py-2 rounded-full bg-green-100 text-green-700 font-medium text-sm flex items-center justify-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Registered"]}):n.jsx("button",{onClick:()=>{if(!(o!=null&&o.id)){i._showPopUp("login_prompt");return}N(!0)},className:"flex-1 px-4 py-2 rounded-full bg-brand-600 text-white font-medium text-sm hover:bg-brand-700 transition-colors",children:"Register"}),g!=="connected"&&n.jsx("button",{onClick:()=>{if(!(o!=null&&o.id)){i._showPopUp("login_prompt");return}d(!0)},className:`flex-1 px-4 py-2 rounded-full font-medium text-sm transition-colors ${g==="pending_outgoing"||g==="outgoing_pending"?"bg-yellow-100 text-yellow-700":g==="pending_incoming"||g==="incoming_pending"?"bg-brand-100 text-brand-600 hover:bg-brand-200":"border-2 border-brand-600 text-brand-600 hover:bg-brand-50"}`,children:g==="pending_outgoing"||g==="outgoing_pending"?"Pending":g==="pending_incoming"||g==="incoming_pending"?"Respond":"Connect"})]})]})]}),n.jsx(bs,{open:c,onClose:vt,toUserId:t==null?void 0:t.organizerUserId,toName:(t==null?void 0:t.organizerUserName)||"Event Organizer",onSent:wt}),n.jsx(_d,{userId:f,isOpen:!!f,onClose:()=>h(null),onSent:wt}),n.jsx(nc,{open:y,onClose:()=>w(!1),entityType:"event",entityId:t==null?void 0:t.id}),n.jsx(ac,{isOpen:b,onClose:()=>v(!1),item:t,type:"event",tags:ue,mediaUrls:Se?[Se.url]:[],initialMediaIndex:0}),n.jsx(Hme,{open:j,onClose:Ae=>{Ae==="registered"&&x("registered"),N(!1)},event:t}),n.jsx(is,{open:W,onClose:()=>F(!1),title:"Report this event?",text:"Tell us what's happening. Our team will review.",confirmText:"Submit report",cancelText:"Cancel",withInput:!0,inputType:"textarea",inputLabel:"Report details",inputPlaceholder:"Describe the issue (spam, scam, offensive, etc.)",requireValue:!0,onConfirm:dt}),n.jsx(sc,{open:O,onClose:()=>U(!1),entityType:"event",entityId:t==null?void 0:t.id,currentUser:o,onCountChange:Ae=>X(Ae)})]})}const Gme=[{value:"Etc/GMT+12",offset:"GMT-12:00",label:"International Date Line West"},{value:"America/Adak",offset:"GMT-10:00",label:"Adak (Alaska Aleutian)"},{value:"Pacific/Honolulu",offset:"GMT-10:00",label:"Honolulu (Hawaii)"},{value:"America/Anchorage",offset:"GMT-09:00",label:"Anchorage (Alaska)"},{value:"America/Los_Angeles",offset:"GMT-08:00",label:"Los Angeles (Pacific Time)"},{value:"America/Denver",offset:"GMT-07:00",label:"Denver (Mountain Time)"},{value:"America/Chicago",offset:"GMT-06:00",label:"Chicago (Central Time)"},{value:"America/Guatemala",offset:"GMT-06:00",label:"Guatemala (Central America)"},{value:"America/New_York",offset:"GMT-05:00",label:"New York (Eastern Time)"},{value:"America/Bogota",offset:"GMT-05:00",label:"Bogotá (Colombia)"},{value:"America/Caracas",offset:"GMT-04:00",label:"Caracas (Venezuela)"},{value:"America/Halifax",offset:"GMT-04:00",label:"Halifax (Atlantic Time)"},{value:"America/Argentina/Buenos_Aires",offset:"GMT-03:00",label:"Buenos Aires"},{value:"America/Sao_Paulo",offset:"GMT-03:00",label:"São Paulo"},{value:"America/Noronha",offset:"GMT-02:00",label:"Fernando de Noronha"},{value:"Atlantic/Azores",offset:"GMT-01:00",label:"Azores"},{value:"Atlantic/Cape_Verde",offset:"GMT-01:00",label:"Cape Verde"},{value:"Europe/London",offset:"GMT+00:00",label:"London"},{value:"Africa/Abidjan",offset:"GMT+00:00",label:"Abidjan (Ghana, Ivory Coast, etc.)"},{value:"Atlantic/Reykjavik",offset:"GMT+00:00",label:"Reykjavik (Iceland)"},{value:"Europe/Berlin",offset:"GMT+01:00",label:"Berlin (Central European Time)"},{value:"Europe/Paris",offset:"GMT+01:00",label:"Paris"},{value:"Africa/Lagos",offset:"GMT+01:00",label:"Lagos (West Africa)"},{value:"Africa/Johannesburg",offset:"GMT+02:00",label:"Johannesburg (South African Standard Time)"},{value:"Europe/Athens",offset:"GMT+02:00",label:"Athens (Eastern European Time)"},{value:"Europe/Moscow",offset:"GMT+03:00",label:"Moscow"},{value:"Africa/Nairobi",offset:"GMT+03:00",label:"Nairobi (East Africa)"},{value:"Asia/Dubai",offset:"GMT+04:00",label:"Dubai"},{value:"Asia/Karachi",offset:"GMT+05:00",label:"Karachi"},{value:"Asia/Kolkata",offset:"GMT+05:30",label:"New Delhi (India Standard Time)"},{value:"Asia/Katmandu",offset:"GMT+05:45",label:"Kathmandu (Nepal)"},{value:"Asia/Dhaka",offset:"GMT+06:00",label:"Dhaka"},{value:"Asia/Bangkok",offset:"GMT+07:00",label:"Bangkok"},{value:"Asia/Hong_Kong",offset:"GMT+08:00",label:"Hong Kong"},{value:"Asia/Shanghai",offset:"GMT+08:00",label:"Shanghai (China)"},{value:"Australia/Perth",offset:"GMT+08:00",label:"Perth (Western Australia)"},{value:"Asia/Tokyo",offset:"GMT+09:00",label:"Tokyo"},{value:"Australia/Adelaide",offset:"GMT+09:30",label:"Adelaide (Central Australia)"},{value:"Australia/Sydney",offset:"GMT+10:00",label:"Sydney (Eastern Australia)"},{value:"Pacific/Guadalcanal",offset:"GMT+11:00",label:"Guadalcanal (Solomon Islands)"},{value:"Pacific/Auckland",offset:"GMT+12:00",label:"Auckland (New Zealand)"},{value:"Pacific/Fiji",offset:"GMT+12:00",label:"Suva (Fiji)"},{value:"Pacific/Chatham",offset:"GMT+12:45",label:"Chatham (New Zealand)"},{value:"Pacific/Tongatapu",offset:"GMT+13:00",label:"Nukuʻalofa (Tonga)"}],fw=Gme,qme=()=>n.jsxs("div",{className:"animate-pulse",children:[n.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-md"}),n.jsx("div",{className:"absolute -bottom-2 -right-2 flex -space-x-2",children:n.jsx("div",{className:"w-7 h-7 bg-gray-200 rounded-md border-2 border-white"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-32"}),n.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"}),n.jsx("div",{className:"h-5 bg-gray-200 rounded w-12"})]}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-48 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-24 mb-3"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-8 mx-auto mb-1"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-12 mx-auto"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-8 mx-auto mb-1"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-12 mx-auto"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-8 mx-auto mb-1"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-12 mx-auto"})]})]})]})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-12"})]}),n.jsx("div",{className:"h-16 bg-gray-200 rounded"})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-40"})]})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-20"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-18"})]})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-14"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"})]})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-18"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-20"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-22"})]})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-20"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-18"})]})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-12"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-14"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-18"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-20"})]})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-20"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-24"})]})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"rounded-lg border p-3",children:[n.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-1"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-16 mb-2"}),n.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-12"}),n.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-14"})]}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-32"})]})}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[n.jsx("div",{className:"w-full h-16 bg-gray-200 rounded"}),n.jsx("div",{className:"w-full h-16 bg-gray-200 rounded"}),n.jsx("div",{className:"w-full h-16 bg-gray-200 rounded"})]})]}),n.jsxs("div",{className:"rounded-lg border p-3",children:[n.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-28 mb-1"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-20 mb-2"}),n.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-16"}),n.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-18"})]}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-36"})]})}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[n.jsx("div",{className:"w-full h-16 bg-gray-200 rounded"}),n.jsx("div",{className:"w-full h-16 bg-gray-200 rounded"}),n.jsx("div",{className:"w-full h-16 bg-gray-200 rounded"})]})]})]})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded w-6 mx-auto mb-1"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-12 mx-auto"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded w-8 mx-auto mb-1"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-14 mx-auto"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded w-6 mx-auto mb-1"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-10 mx-auto"})]})]})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"rounded-lg border p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-24 mb-1"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-12"}),n.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-16"})]})]}),n.jsxs("div",{className:"rounded-lg border p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-36"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-28 mb-1"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-14"}),n.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-18"})]})]})]})]}),n.jsx("div",{className:"mb-4",children:n.jsx("div",{className:"h-3 bg-gray-200 rounded w-48"})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-1 h-10 bg-gray-200 rounded-lg"}),n.jsx("div",{className:"flex-1 h-10 bg-gray-200 rounded-lg"}),n.jsx("div",{className:"flex-1 h-10 bg-gray-200 rounded-lg"})]})]});function kv(t){var i,o;if(!t)return"U";const r=t.trim().split(/\s+/),s=((i=r[0])==null?void 0:i.charAt(0).toUpperCase())||"",a=((o=r[1])==null?void 0:o.charAt(0).toUpperCase())||"";return s+a}function CO(t){if(!t)return"";const r=new Date(t).getTime(),s=Date.now(),a=Math.floor((s-r)/1e3);if(a<60)return"Just now";const i=Math.floor(a/60);if(i<60)return`${i} min${i>1?"s":""} ago`;const o=Math.floor(i/60);if(o<24)return`${o} hour${o>1?"s":""} ago`;const l=Math.floor(o/24);if(l<30)return`${l} day${l>1?"s":""} ago`;const c=Math.floor(l/30);if(c<12)return`${c} month${c>1?"s":""} ago`;const d=Math.floor(c/12);return`${d} year${d>1?"s":""} ago`}function Yme(t,r){return t&&r?`${t}, ${r}`:t||r||""}function Kn({children:t,tone:r="brand"}){const s={brand:"bg-brand-50 text-brand-600",green:"bg-green-100 text-green-700",gray:"bg-gray-100 text-gray-700",blue:"bg-blue-100 text-blue-700",red:"bg-red-100 text-red-700"};return n.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] ${s[r]||s.gray}`,children:t})}function di({title:t,icon:r,children:s}){return n.jsxs("div",{className:"mt-5 text-left",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r?n.jsx(r,{size:16,className:"text-brand-600"}):null,n.jsx("h3",{className:"font-medium text-sm",children:t})]}),s]})}function QC(t,r){if(!t)return null;try{const s=new Date(t);if(isNaN(s.getTime()))return null;const a=s.getTime();return new Date(a+r*6e4).toISOString()}catch(s){return null}}function kO(t,r){if(!t)return!1;try{const s=Date.now(),a=new Date(t);if(isNaN(a.getTime()))return!1;const i=a.getTime(),o=i-10*60*1e3,l=QC(t,Number(r)||30),c=l?new Date(l).getTime():i+(Number(r)||30)*60*1e3;return s>=o&&s<=c}catch(s){return!1}}function EO(t,r,s){if(!t)return"Invalid date";try{const a=new Date(t);if(isNaN(a.getTime()))return"Invalid date";const i={dateStyle:"medium",timeStyle:"short",timeZone:r||void 0};return`${a.toLocaleString(void 0,i)} • ${s} min`}catch(a){return"Invalid date"}}function Jme({open:t,onClose:r,toUserId:s,toName:a,onCreated:i}){const o=Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",[l,c]=u.useState({date:"",time:"",duration:"30",mode:"video",location:"",link:"",title:`Meeting with ${a!=null?a:"User"}`,agenda:"",timezone:o}),[d,f]=u.useState(!1),[h,g]=u.useState({});u.useEffect(()=>{t&&(g({}),f(!1))},[t]);function m(){const y={};return l.date||(y.date="Pick a date"),l.time||(y.time="Pick a time"),l.title.trim()||(y.title="Add a title"),y}function p(y,w){c(b=>me(ne({},b),{[y]:w}))}function x(y){return ve(this,null,function*(){var v,j;y.preventDefault();const w=m();if(g(w),Object.keys(w).length)return;const b=new Date(`${l.date}T${l.time}:00`).toISOString();f(!0);try{const N={toUserId:s,title:l.title,agenda:l.agenda,scheduledAt:b,duration:parseInt(l.duration),timezone:l.timezone,mode:l.mode,location:l.mode==="in_person"?l.location:null,link:l.mode==="video"?l.link:null},{data:S}=yield Le.post("/meeting-requests",N);ce.success("Meeting request sent successfully!"),i==null||i(S),r()}catch(N){console.error("Error creating meeting request:",N),ce.error(((j=(v=N==null?void 0:N.response)==null?void 0:v.data)==null?void 0:j.message)||"Failed to send meeting request")}finally{f(!1)}})}return t?n.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm",children:n.jsxs("div",{className:"w-[92vw] sm:w-full sm:max-w-lg max-h-[80vh] bg-white rounded-2xl shadow-xl flex flex-col overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between bg-brand-500 px-4 py-3",children:[n.jsx("div",{className:"text-white font-medium",children:"Request Meeting"}),n.jsx("button",{onClick:r,className:"text-white/90 hover:text-white",children:n.jsx(Lr,{size:20})})]}),n.jsxs("form",{id:"meetingForm",onSubmit:x,className:"p-5 overflow-y-auto flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Title"}),n.jsx("input",{type:"text",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:l.title,onChange:y=>p("title",y.target.value),placeholder:"e.g., Intro call about collaboration"}),h.title&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.title})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date"}),n.jsx("input",{type:"date",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:l.date,onChange:y=>p("date",y.target.value)}),h.date&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.date})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Time"}),n.jsx("input",{type:"time",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:l.time,onChange:y=>p("time",y.target.value)}),h.time&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.time})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Duration"}),n.jsxs("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:l.duration,onChange:y=>p("duration",y.target.value),children:[n.jsx("option",{value:"15",children:"15 minutes"}),n.jsx("option",{value:"30",children:"30 minutes"}),n.jsx("option",{value:"45",children:"45 minutes"}),n.jsx("option",{value:"60",children:"60 minutes"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Timezone"}),n.jsx("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:l.timezone,onChange:y=>p("timezone",y.target.value),children:fw.map((y,w)=>n.jsx("option",{value:y.value,children:`${y.offset} - ${y.label}`}))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Meeting mode"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("button",{type:"button",onClick:()=>p("mode","video"),className:`flex items-center justify-center gap-2 rounded-lg border px-3 py-2 text-sm ${l.mode==="video"?"border-brand-500 bg-brand-50 text-brand-700":"border-gray-300 bg-white text-gray-700"}`,children:[n.jsx(Zi,{size:18})," Video call"]}),n.jsxs("button",{type:"button",onClick:()=>p("mode","in_person"),className:`flex items-center justify-center gap-2 rounded-lg border px-3 py-2 text-sm ${l.mode==="in_person"?"border-brand-500 bg-brand-50 text-brand-700":"border-gray-300 bg-white text-gray-700"}`,children:[n.jsx(GE,{size:18})," In person"]})]})]}),l.mode==="video"?n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Call link"}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"rounded-lg border border-gray-300 px-3 py-2 flex-1 flex items-center gap-2",children:[n.jsx(tb,{size:16,className:"text-gray-500"}),n.jsx("input",{type:"url",className:"w-full text-sm focus:outline-none",placeholder:"https://meet.google.com/abc-defg-hij",value:l.link,onChange:y=>p("link",y.target.value)})]})}),h.link&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.link})]}):n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Location"}),n.jsx("input",{type:"text",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",placeholder:"e.g., Avenida Julius Nyerere 123, Maputo",value:l.location,onChange:y=>p("location",y.target.value)}),h.location&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:h.location})]}),l.date&&l.time&&n.jsx("div",{className:"rounded-lg border bg-gray-50 px-3 py-2 text-xs text-gray-700",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(To,{size:14,className:"text-brand-600"}),n.jsxs("span",{children:[new Date(`${l.date}T${l.time}:00`).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})," ","(",l.timezone,") • ",l.duration," min • ",l.mode==="video"?"Video call":"In person"]})]})})]}),n.jsxs("div",{className:"p-4 border-t flex items-center justify-end gap-3",children:[n.jsx("button",{type:"button",onClick:r,className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-gray-400",children:"Cancel"}),n.jsxs("button",{type:"submit",form:"meetingForm",disabled:d,className:"inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium text-white bg-brand-500 hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500/30 disabled:opacity-60",children:[n.jsx(hl,{size:18}),d?"Creating…":"Create request"]})]})]})}):null}const Zme=({profile:t,shareMenuRef:r,setShareOpen:s})=>{var f,h;const a=`https://54links.com/profile/${t==null?void 0:t.id}`,i=`${(t==null?void 0:t.name)||"Profile"} on 54Links`,o=(t==null?void 0:t.about)||`Check out ${(t==null?void 0:t.name)||"this profile"} on 54Links`,l=o.slice(0,160)+(o.length>160?"…":""),c=["54Links","Profile","Networking"].filter(Boolean),d=((h=(f=import.meta)==null?void 0:f.env)==null?void 0:h.VITE_FACEBOOK_APP_ID)||void 0;return n.jsxs("div",{ref:r,className:"absolute bottom-14 left-0 mt-2 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this profile"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx(ua,{url:a,title:i,separator:" — ",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(da,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),n.jsx(na,{url:a,quote:l,hashtag:"#54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ea,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),n.jsx(aa,{url:a,title:i,summary:l,source:"54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(sa,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),n.jsx(ca,{url:a,title:i,hashtags:c,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(la,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),n.jsx(oa,{url:a,title:i,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ia,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),n.jsx(Xs,{url:a,subject:i,body:l+`

`+a,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(Ks,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),d&&n.jsx(ra,{url:a,appId:d,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ta,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),n.jsx("div",{className:"mt-2",children:n.jsx(Qme,{shareUrl:a,setShareOpen:s})})]})},Qme=({shareUrl:t,setShareOpen:r})=>n.jsxs("button",{onClick:()=>ve(void 0,null,function*(){try{yield navigator.clipboard.writeText(t),ce.success("Link copied"),r(!1)}catch(s){ce.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[n.jsx(Zs,{size:16}),"Copy link"]});function _d({userId:t,isOpen:r,onClose:s,onSent:a}){var Te,ht,Fe,Ve,ut,Je;const[i,o]=u.useState(!1),[l,c]=u.useState(null),[d,f]=u.useState(""),[h,g]=u.useState(!1),[m,p]=u.useState(!1),[x,y]=u.useState(!1),[w,b]=u.useState(!1),[v,j]=u.useState([]),[N,S]=u.useState(!1),[I,E]=u.useState([]),[L,C]=u.useState(!1),[T,k]=u.useState(!1),M=u.useRef(null),_=u.useRef(null);function J(G){return ve(this,null,function*(){if(!A)return P._showPopUp("login_prompt");yield Le.post(`/users/${t}/block`,{note:G}),c(ae=>{const Me=me(ne({},ae),{block:me(ne({},(ae==null?void 0:ae.block)||{}),{iBlockedThem:!0,status:"i_blocked"})});return["connected","outgoing_pending","incoming_pending","pending","pending_outgoing","pending_incoming"].includes(ae==null?void 0:ae.connectionStatus)&&(Me.connectionStatus="none"),Me}),ce.success("User blocked")})}function Y(){return ve(this,null,function*(){if(!A)return P._showPopUp("login_prompt");yield Le.delete(`/users/${t}/block`),c(G=>{const ae=me(ne({},G),{block:me(ne({},(G==null?void 0:G.block)||{}),{iBlockedThem:!1,status:"none"})});return(G==null?void 0:G.connectionStatus)==="blocked"&&(ae.connectionStatus="none"),ae}),ce.success("User unblocked")})}function te(G){return ve(this,null,function*(){if(!A)return P._showPopUp("login_prompt");yield Le.post("/reports",{targetType:"user",targetId:t,description:G}),ce.success("Report submitted. Thanks for keeping the community safe.")})}const[K,X]=u.useState(!1),[W,F]=u.useState([]),P=Cr(),{user:A}=Xt(),B=qt();u.useEffect(()=>(h?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[h]),u.useEffect(()=>{function G(Me){_.current&&M.current&&!_.current.contains(Me.target)&&!M.current.contains(Me.target)&&k(!1)}function ae(Me){Me.key==="Escape"&&k(!1)}return document.addEventListener("mousedown",G),document.addEventListener("keydown",ae),()=>{document.removeEventListener("mousedown",G),document.removeEventListener("keydown",ae)}},[]);function z(){if(!A)return P._showPopUp("login_prompt");g(!0)}function O(){if(!A)return P._showPopUp("login_prompt");X(!0)}const U=u.useMemo(()=>Array.isArray(l==null?void 0:l.languages)?l.languages.map(G=>typeof G=="string"?{name:G}:G).filter(Boolean):[],[l]);u.useEffect(()=>{ve(this,null,function*(){try{const{data:G}=yield Le.get("/feed/meta");E(G.categories||[])}catch(G){console.error(G)}})},[]),u.useEffect(()=>{if(!r||!t)return;let G=!0;return ve(this,null,function*(){o(!0),f("");try{const{data:ae}=yield Le.get(`/users/${t}/public`);G&&c(ae)}catch(ae){console.error(ae),G&&f("Failed to load profile.")}finally{G&&o(!1)}}),()=>{G=!1}},[r,t]),u.useEffect(()=>{if(!r||!t)return;function G(){return ve(this,null,function*(){S(!0);try{const ae={tab:"all",userId:t,limit:20,offset:0},{data:Me}=yield Le.get("/feed",{params:ae});j(Me.items||[])}catch(ae){console.error("Error loading user feed:",ae)}finally{S(!1)}})}G()},[r,t]),u.useEffect(()=>{if(!r||!t||!A)return;function G(){return ve(this,null,function*(){try{const{data:ae}=yield Le.get("/meeting-requests"),he=[...ae.received.filter(ye=>ye.fromUserId===t),...ae.sent.filter(ye=>ye.toUserId===t)].filter(ye=>ye.status==="accepted").map(ye=>({id:ye.id,toUserId:t,title:ye.title,agenda:ye.agenda,mode:ye.mode,link:ye.link,location:ye.location,timezone:ye.timezone,duration:ye.duration,isoStart:ye.scheduledAt,createdAt:ye.createdAt}));F(he)}catch(ae){console.error("Error loading meetings:",ae)}})}G()},[r,A==null?void 0:A.id,t]);function Z(G){const ae=[G,...W].sort((Me,he)=>new Date(he.isoStart)-new Date(Me.isoStart));F(ae)}function se(){return l?l.connectionStatus==="outgoing_pending"?n.jsx("button",{className:"col-span-1 rounded-lg px-3 py-2 text-sm font-medium bg-yellow-100 text-yellow-700 cursor-default",children:"Pending request"}):l.connectionStatus==="incoming_pending"?n.jsxs("button",{onClick:()=>B("/notifications"),className:"col-span-1 items-center flex justify-center rounded-lg px-3 py-2 text-sm font-medium bg-brand-100 text-brand-600 cursor-pointer",children:[n.jsx(Lo,{size:16,className:"mr-1"}),"Respond"]}):l.connectionStatus==="connected"?n.jsx("div",{className:"col-span-1",children:n.jsx("button",{onClick:()=>p(!0),title:"Connected — click to remove","aria-label":"Connected. Click to remove connection",className:`group/conn w-full inline-flex items-center justify-center rounded-lg px-3 py-2 text-sm font-semibold\r
               bg-green-100 text-green-700 border border-green-200\r
               hover:bg-red-50 hover:text-red-700 hover:border-red-300\r
               focus:outline-none focus:ring-2 focus:ring-red-500/30\r
               transition-all duration-200`,children:n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(X2,{size:14,className:"block group-hover/conn:hidden group-focus/conn:hidden"}),n.jsx(ew,{size:14,className:"hidden group-hover/conn:block group-focus/conn:block"}),n.jsx("span",{className:"block group-hover/conn:hidden group-focus/conn:hidden",children:"Connected"}),n.jsx("span",{className:"hidden group-hover/conn:block group-focus/conn:block",children:"Remove"}),n.jsxs("span",{className:"ml-1 inline-flex items-center",children:[n.jsx(On,{size:12,className:"block group-hover/conn:hidden group-focus/conn:hidden text-gray-500","aria-hidden":"true"}),n.jsx("span",{className:"hidden group-hover/conn:inline group-focus/conn:inline text-[10px] leading-none text-gray-500",children:"tap to remove"})]})]})})}):n.jsx("button",{onClick:z,className:"col-span-1 rounded-lg px-3 py-2 text-sm font-medium text-white bg-brand-500 hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500/30 transition-colors",children:"Connect"}):null}function fe(G){return ve(this,null,function*(){var ae,Me;if(!A)return P._showPopUp("login_prompt");try{yield Le.delete(`/connections/${t}`,{data:{note:G}}),c(he=>me(ne({},he),{connectionStatus:"none"}))}catch(he){console.error(he),ce.error(((Me=(ae=he==null?void 0:he.response)==null?void 0:ae.data)==null?void 0:Me.message)||"Failed to remove connection")}})}const le=!!((Te=l==null?void 0:l.block)!=null&&Te.iBlockedThem),Ne=G=>{var ae,Me,he,ye,oe,ie,q,Se,$e,rt,nt,Ue;return G.kind==="job"?n.jsx(Ad,{type:"grid",matchPercentage:G.matchPercentage,job:me(ne({},G),{categoryName:(ae=I.find(xt=>String(xt.id)===String(G.categoryId)))==null?void 0:ae.name,subcategoryName:(ye=(he=(Me=I.find(xt=>String(xt.id)===String(G.categoryId)))==null?void 0:Me.subcategories)==null?void 0:he.find(xt=>String(xt.id)===String(G.subcategoryId)))==null?void 0:ye.name})},`job-${G.id}`):G.kind==="need"?n.jsx(ic,{type:"grid",matchPercentage:G.matchPercentage,need:me(ne({},G),{categoryName:(oe=I.find(xt=>String(xt.id)===String(G.categoryId)))==null?void 0:oe.name,subcategoryName:(Se=(q=(ie=I.find(xt=>String(xt.id)===String(G.categoryId)))==null?void 0:ie.subcategories)==null?void 0:q.find(xt=>String(xt.id)===String(G.subcategoryId)))==null?void 0:Se.name})},`need-${G.id}`):G.kind==="service"?n.jsx(lw,{type:"grid",item:G,matchPercentage:G.matchPercentage,currentUserId:A==null?void 0:A.id},`service-${G.id}`):G.kind==="product"?n.jsx(cw,{type:"grid",item:G,matchPercentage:G.matchPercentage,currentUserId:A==null?void 0:A.id},`product-${G.id}`):G.kind==="moment"?n.jsx(oc,{type:"grid",matchPercentage:G.matchPercentage,moment:me(ne({},G),{categoryName:($e=I.find(xt=>String(xt.id)===String(G.categoryId)))==null?void 0:$e.name,subcategoryName:(Ue=(nt=(rt=I.find(xt=>String(xt.id)===String(G.categoryId)))==null?void 0:rt.subcategories)==null?void 0:nt.find(xt=>String(xt.id)===String(G.subcategoryId)))==null?void 0:Ue.name})},`moment-${G.id}`):G.kind==="tourism"?n.jsx(dw,{type:"grid",item:G,matchPercentage:G.matchPercentage,currentUserId:A==null?void 0:A.id},`tourism-${G.id}`):G.kind==="funding"?n.jsx(uw,{type:"grid",item:G,matchPercentage:G.matchPercentage,currentUserId:A==null?void 0:A.id},`funding-${G.id}`):n.jsx(Xu,{type:"grid",item:G,e:G,matchPercentage:G.matchPercentage},`event-${G.id}`)};return r?n.jsxs("div",{className:"fixed z-[99] _profile inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",children:[n.jsxs("div",{className:"bg-white z-[99] w-full max-w-5xl rounded-2xl shadow-xl flex flex-col max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"bg-brand-500 p-4 flex justify-between items-center",children:[n.jsx("div",{className:"text-white font-medium",children:"Profile"}),n.jsx("button",{onClick:()=>{s(),P._closeAllPopUps()},className:"text-white hover:text-brand-100",children:n.jsx(Lr,{size:20})})]}),n.jsxs("div",{className:"p-6 overflow-y-auto",children:[i&&n.jsx(qme,{}),d&&n.jsx("div",{className:"text-sm text-red-600",children:d}),!i&&!d&&l&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`flex items-start gap-4 ${l.accountType==="company"?"bg-brand-50 p-4 rounded-lg border":""}`,children:[n.jsxs("div",{className:"relative",children:[l.avatarUrl?n.jsx("div",{className:"h-32 w-32 rounded-md border-4 border-white shadow-md bg-white flex justify-center items-center overflow-hidden",children:n.jsx("img",{src:l.avatarUrl,alt:l.name,className:"w-full"})}):n.jsx("div",{className:"h-32 w-32 rounded-md border-4 border-white shadow-md bg-brand-50 grid place-items-center overflow-hidden",children:n.jsx("span",{className:"font-semibold text-brand-600 text-lg",children:kv(l.name)})}),l.companyMemberships&&l.companyMemberships.length>0&&n.jsxs("div",{className:"absolute -bottom-2 -right-2 flex -space-x-2",children:[[...l.companyMemberships].sort((G,ae)=>(ae.isMain?1:0)-(G.isMain?1:0)).slice(0,3).map((G,ae)=>G.company.avatarUrl?n.jsx("img",{src:G.company.avatarUrl,alt:G.company.name,className:`h-7 w-7 rounded-full border-2 border-white shadow-sm object-cover ${G.isMain?"ring-2 ring-brand-400":""}`,title:`${G.company.name} (${G.role})`},G.companyId):n.jsx("div",{className:`h-7 w-7 rounded-full border-2 border-white shadow-sm bg-gray-100 flex items-center justify-center text-xs font-medium text-gray-600 ${G.isMain?"ring-2 ring-brand-400":""}`,title:`${G.company.name} (${G.role})`,children:kv(G.company.name)},G.companyId)),l.companyMemberships.length>3&&n.jsxs("div",{className:"h-7 w-7 rounded-full border-2 border-white shadow-sm bg-gray-100 flex items-center justify-center text-xs font-medium text-gray-600 z-10",children:["+",l.companyMemberships.length-3]})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("h2",{className:`${l.accountType==="company"?"text-xl":"text-lg"} font-semibold`,children:l.name}),l.accountType&&n.jsx(Kn,{tone:l.accountType==="company"?"blue":"gray",children:l.accountType==="company"?"Company":"Individual"}),l.primaryIdentity&&n.jsx(Kn,{tone:"brand",children:l.primaryIdentity}),l.experienceLevel&&n.jsx(Kn,{tone:"gray",children:l.experienceLevel})]}),l.accountType==="company"?n.jsxs("div",{className:"mt-1",children:[n.jsx("p",{className:"text-sm font-medium text-brand-600",children:l.professionalTitle||(l.categories&&l.categories.length>0?l.categories.join(", "):"Company")}),l.categories&&l.categories.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[l.categories.map((G,ae)=>n.jsx(Kn,{tone:"brand",children:G},`cat-${ae}`)),l.subcategories&&l.subcategories.map((G,ae)=>n.jsx(Kn,{tone:"gray",children:G},`subcat-${ae}`))]})]}):n.jsx("p",{className:"text-sm font-medium text-brand-600 mt-1",children:l.professionalTitle||l.title||"—"}),(l.city||l.country)&&n.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mt-1",children:[n.jsx(gn,{size:14})," ",Yme(l.city,l.country)]}),n.jsx("div",{className:"mt-3 grid grid-cols-3 gap-4 text-sm hidden",children:n.jsxs("div",{className:"",children:[n.jsx("p",{className:"font-semibold text-brand-600",children:(ht=l.connections)!=null?ht:0}),n.jsx("p",{className:"text-gray-500 text-xs",children:"Connections"})]})})]})]}),l.about&&n.jsxs(di,{title:"About",icon:vs,children:[n.jsx("p",{className:`text-sm text-gray-700 ${l.accountType==="company"?"bg-white p-3 rounded border border-gray-100":""}`,children:l.about}),l.accountType==="company"&&l.skills&&l.skills.length>0&&n.jsxs("div",{className:"mt-3",children:[n.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Company Expertise:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:l.skills.map((G,ae)=>n.jsx(Kn,{tone:"green",children:G},`skill-${ae}`))})]})]}),Array.isArray(l.workSamples)&&l.workSamples.length>0&&n.jsx(di,{title:"Work Samples",icon:Q2,children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:l.workSamples.map(G=>n.jsxs("div",{className:"rounded-lg border p-3",children:[n.jsx("div",{className:"flex items-start justify-between gap-2",children:n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-medium text-sm truncate",children:G.title}),G.category&&n.jsx("div",{className:"mt-1",children:n.jsx(Kn,{tone:"brand",children:G.category})}),Array.isArray(G.technologies)&&G.technologies.length>0&&n.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[G.technologies.slice(0,6).map((ae,Me)=>n.jsx(Kn,{tone:"gray",children:ae},`${G.id}-tech-${Me}`)),G.technologies.length>6&&n.jsxs("span",{className:"text-[11px] text-gray-500",children:["+",G.technologies.length-6," more"]})]}),G.description&&n.jsx("p",{className:"mt-2 text-xs text-gray-600 line-clamp-3",children:G.description}),n.jsxs("div",{className:"mt-2 text-[11px] text-gray-500",children:[G.completionDate?new Date(G.completionDate).toLocaleDateString():null,G.createdAt?` • added ${CO(G.createdAt)}`:null]})]})}),Array.isArray(G.attachments)&&G.attachments.length>0&&n.jsxs("div",{className:"mt-3 space-y-2",children:[n.jsx("div",{className:"grid grid-cols-3 gap-2",children:G.attachments.filter(ae=>ae==null?void 0:ae.isImage).map((ae,Me)=>{const he=ae.base64url||ae.url;return he?n.jsx("a",{href:he,target:"_blank",rel:"noreferrer",title:ae.name||"Image",className:"block",children:n.jsx("img",{src:he,alt:ae.name||G.title,className:"w-full h-24 object-cover rounded-md border",loading:"lazy"})},`${G.id}-img-${Me}`):null})}),n.jsx("div",{className:"flex flex-col gap-1",children:G.attachments.filter(ae=>!(ae!=null&&ae.isImage)).map((ae,Me)=>{const he=ae.base64url||ae.url||"#",ye=ae.name||"document";return n.jsxs("a",{href:he,target:"_blank",rel:"noreferrer",download:ye,className:"inline-flex items-center gap-2 text-xs font-medium text-brand-700 underline",title:ye,children:[n.jsx(Lo,{size:14}),n.jsx("span",{className:"truncate max-w-[14rem]",children:ye})]},`${G.id}-doc-${Me}`)})})]}),G.projectUrl&&n.jsx("div",{className:"mt-3",children:n.jsxs("a",{href:G.projectUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-xs font-medium text-brand-700 underline",children:[n.jsx(Lo,{size:14})," View project"]})})]},G.id))})}),(l.email||l.website||Array.isArray(l.links)&&l.links.length)&&n.jsx(di,{title:"Contact",icon:vs,children:n.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[l.email&&n.jsxs("div",{children:["📧 ",l.email]}),l.website&&n.jsxs("div",{children:["🔗 ",n.jsx("a",{href:l.website,target:"_blank",rel:"noreferrer",className:"underline text-brand-700",children:l.website})]}),Array.isArray(l.links)&&l.links.map((G,ae)=>n.jsxs("div",{children:["🔗"," ",n.jsx("a",{href:G,target:"_blank",rel:"noreferrer",className:"underline text-brand-700",children:G})]},ae))]})}),Array.isArray(l.lookingFor)&&l.lookingFor.length>0&&n.jsx(di,{title:"Looking For",icon:GA,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:l.lookingFor.map((G,ae)=>n.jsx(Kn,{tone:"green",children:G},`${G}-${ae}`))})}),Array.isArray(l.identities)&&l.identities.length>0&&n.jsx(di,{title:l.accountType==="company"?"Company Identity":"Identities",icon:vs,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:l.identities.map((G,ae)=>n.jsx(Kn,{tone:"blue",children:G},`ident-${ae}`))})}),v.length>0&&n.jsx(di,{title:"Posts and activities",icon:yH,children:n.jsx("div",{className:"space-y-4",children:N?n.jsx("div",{className:"text-sm text-gray-600",children:"Loading posts..."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:L?v.map(Ne):v.slice(0,4).map(Ne)}),v.length>4&&n.jsx("div",{className:"flex justify-center pt-2",children:n.jsxs("button",{onClick:()=>C(!L),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-brand-600 bg-brand-50 hover:bg-brand-100 rounded-lg transition-colors duration-200",children:[n.jsx("span",{children:L?"View Less":`View All ${v.length} posts`}),n.jsx(Lo,{size:16,className:`transition-transform duration-200 ${L?"rotate-180":""}`})]})})]})})}),l.interests&&n.jsx(di,{title:l.accountType==="company"?"Company Interests":"Identity Interests",icon:GA,children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.interests.identities&&l.interests.identities.length>0?[...new Set(l.interests.identities)].map((G,ae)=>n.jsx(Kn,{tone:"green",children:G},`ident-int-${ae}`)):Array.isArray(l.identityInterests)&&l.identityInterests.length>0?[...new Set(l.identityInterests)].map((G,ae)=>n.jsx(Kn,{tone:"green",children:G},`old-ident-int-${ae}`)):null,l.interests.categories&&l.interests.categories.length>0&&[...new Set(l.interests.categories)].map((G,ae)=>n.jsx(Kn,{tone:"brand",children:G},`cat-int-${ae}`)),l.interests.subcategories&&l.interests.subcategories.length>0&&[...new Set(l.interests.subcategories)].map((G,ae)=>n.jsx(Kn,{tone:"gray",children:G},`sub-int-${ae}`))]})}),(Fe=l.cats)!=null&&Fe.length||(Ve=l.subs)!=null&&Ve.length?n.jsx(di,{title:"Expertise & Interests",icon:no,children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[(l.cats||[]).map(G=>n.jsx(Kn,{tone:"brand",children:G},`cat-${G}`)),(l.subs||[]).map(G=>n.jsx(Kn,{tone:"gray",children:G},`sub-${G}`))]})}):null,Array.isArray(l.subsubs)&&l.subsubs.length>0&&n.jsx(di,{title:"Specialties",icon:no,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:[...new Set(l.subsubs)].map((G,ae)=>n.jsx(Kn,{tone:"gray",children:G},`s3-${ae}`))})}),Array.isArray(l.skills)&&l.skills.length>0&&n.jsx(di,{title:"Skills",icon:kH,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:l.skills.map((G,ae)=>n.jsx(Kn,{tone:"gray",children:G},`${G}-${ae}`))})}),U.length>0&&n.jsx(di,{title:l.accountType==="company"?"Working Languages":"Languages",icon:EH,children:n.jsx("div",{className:"flex flex-wrap gap-2",children:U.map((G,ae)=>n.jsxs(Kn,{tone:l.accountType==="company"?"blue":"gray",children:[G.name,G.level?` • ${G.level}`:""]},`${G.name}-${ae}`))})}),(()=>{var ye,oe,ie,q,Se,$e,rt,nt,Ue,xt,Oe,Ee,ee,de,ue,_e,Xe,gt,wt,vt,ct,Ze,dt,yt,Ie,ze,qe,it,Ae,Ge;const G=l.counts||{},ae=l.stats||{},he=[["Jobs",(Se=(q=(ye=G.jobs)!=null?ye:ae.jobs)!=null?q:(ie=(oe=l.recent)==null?void 0:oe.jobs)==null?void 0:ie.length)!=null?Se:0],["Events",(xt=(Ue=($e=G.events)!=null?$e:ae.events)!=null?Ue:(nt=(rt=l.recent)==null?void 0:rt.events)==null?void 0:nt.length)!=null?xt:0],["Funding",(ue=(de=(Oe=G.funding)!=null?Oe:ae.funding)!=null?de:(ee=(Ee=l.recent)==null?void 0:Ee.funding)==null?void 0:ee.length)!=null?ue:0],["Services",(vt=(wt=(_e=G.services)!=null?_e:ae.services)!=null?wt:(gt=(Xe=l.recent)==null?void 0:Xe.services)==null?void 0:gt.length)!=null?vt:0],["Products",(Ie=(yt=(ct=G.products)!=null?ct:ae.products)!=null?yt:(dt=(Ze=l.recent)==null?void 0:Ze.products)==null?void 0:dt.length)!=null?Ie:0],["Tourism",(Ge=(Ae=(ze=G.tourism)!=null?ze:ae.tourism)!=null?Ae:(it=(qe=l.recent)==null?void 0:qe.tourism)==null?void 0:it.length)!=null?Ge:0]].filter(([,Ye])=>Number(Ye)>=1);return he.length===0?null:n.jsx(di,{title:"Overview",icon:Yu,children:n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 text-sm",children:he.map(([Ye,Et])=>n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-brand-600",children:Et}),n.jsx("p",{className:"text-gray-500 text-xs",children:Ye})]},Ye))})})})(),null,!1,!1,!1,!1,(l==null?void 0:l.connectionStatus)=="connected"&&n.jsx(di,{title:"Meetings",icon:To,children:l.meetings&&l.meetings.length>0?n.jsx("div",{className:"space-y-3",children:l.meetings.map(G=>{var ie,q;const ae=G.mode==="video"&&kO(G.scheduledAt,G.duration),Me=Date.now();let he,ye,oe;try{const Se=new Date(G.scheduledAt);if(isNaN(Se.getTime()))oe="Upcoming";else{he=Se.getTime();const $e=QC(G.scheduledAt,Number(G.duration)||30);ye=$e?new Date($e).getTime():he+(Number(G.duration)||30)*60*1e3,oe=Me<he?"Upcoming":Me>ye?"Ended":"Ongoing"}}catch(Se){oe="Upcoming"}return n.jsx("div",{className:"rounded-lg border p-3",children:n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"font-medium text-sm truncate",children:G.title||"Untitled meeting"}),n.jsx("span",{className:`text-[11px] px-2 py-0.5 rounded-full ${oe==="Upcoming"?"bg-blue-50 text-blue-700":oe==="Ongoing"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:oe})]}),n.jsxs("div",{className:"text-xs text-gray-600 mt-0.5",children:[EO(G.scheduledAt,G.timezone,G.duration)," •"," ",G.mode==="video"?"Online":"In person"]}),G.mode==="in_person"&&G.location?n.jsxs("div",{className:"text-xs text-gray-500 mt-0.5 line-clamp-1",children:["📍 ",G.location]}):null,G.mode==="video"&&G.link?n.jsxs("div",{className:"text-xs text-gray-500 mt-0.5 truncate",children:["🔗 ",G.link]}):null,G.agenda?n.jsxs("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:["📝 ",G.agenda]}):null,n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsxs("div",{className:"flex -space-x-2",children:[G.from&&(G.from.avatarUrl?n.jsx("img",{src:G.from.avatarUrl,alt:G.from.name,className:"h-6 w-6 rounded-full border border-white",title:G.from.name}):n.jsx("div",{className:"h-6 w-6 rounded-full border border-white bg-brand-50 flex items-center justify-center text-xs font-semibold text-brand-600",title:G.from.name,children:kv(G.from.name)})),G.to&&(G.to.avatarUrl?n.jsx("img",{src:G.to.avatarUrl,alt:G.to.name,className:"h-6 w-6 rounded-full border border-white",title:G.to.name}):n.jsx("div",{className:"h-6 w-6 rounded-full border border-white bg-brand-50 flex items-center justify-center text-xs font-semibold text-brand-600",title:G.to.name,children:kv(G.to.name)}))]}),n.jsxs("span",{className:"text-xs text-gray-500",children:[((ie=G.from)==null?void 0:ie.name)||"User"," and ",((q=G.to)==null?void 0:q.name)||"User"]})]})]}),n.jsx("div",{className:"shrink-0 flex items-center gap-2",children:G.mode==="video"?n.jsx("a",{href:G.link||"#",target:"_blank",rel:"noreferrer",title:ae?"Open call link":"Join opens 10 min before start",className:`inline-flex items-center justify-center rounded-md px-3 py-1.5 text-xs font-medium ${ae?"bg-brand-500 text-white hover:bg-brand-600":"bg-gray-100 text-gray-500 cursor-not-allowed"}`,onClick:Se=>{ae||Se.preventDefault()},children:"Join"}):G.location?n.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(G.location)}`,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-md px-3 py-1.5 text-xs font-medium bg-brand-50 text-brand-700 hover:bg-brand-100",children:"Open Map"}):null})]})},G.id)})}):W.length===0?n.jsx("div",{className:"text-sm text-gray-600",children:"No meetings yet. Create one from the button below."}):n.jsx("div",{className:"space-y-3",children:W.map(G=>{const ae=G.mode==="video"&&kO(G.isoStart,G.duration),Me=Date.now();let he,ye,oe;try{const ie=new Date(G.isoStart);if(isNaN(ie.getTime()))oe="Upcoming";else{he=ie.getTime();const q=QC(G.isoStart,Number(G.duration)||30);ye=q?new Date(q).getTime():he+(Number(G.duration)||30)*60*1e3,oe=Me<he?"Upcoming":Me>ye?"Ended":"Ongoing"}}catch(ie){oe="Upcoming"}return n.jsx("div",{className:"rounded-lg border p-3",children:n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"font-medium text-sm truncate",children:G.title||"Untitled meeting"}),n.jsx("span",{className:`text-[11px] px-2 py-0.5 rounded-full ${oe==="Upcoming"?"bg-blue-50 text-blue-700":oe==="Ongoing"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:oe})]}),n.jsxs("div",{className:"text-xs text-gray-600 mt-0.5",children:[EO(G.isoStart||G.scheduledAt,G.timezone,G.duration)," •"," ",G.mode==="video"?"Online":"In person"]}),G.mode==="in_person"&&G.location?n.jsxs("div",{className:"text-xs text-gray-500 mt-0.5 line-clamp-1",children:["📍 ",G.location]}):null,G.mode==="video"&&G.link?n.jsxs("div",{className:"text-xs text-gray-500 mt-0.5 truncate",children:["🔗 ",G.link]}):null,G.agenda?n.jsxs("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:["📝 ",G.agenda]}):null]}),n.jsx("div",{className:"shrink-0 flex items-center gap-2",children:G.mode==="video"?n.jsx("a",{href:G.link||"#",target:"_blank",rel:"noreferrer",title:ae?"Open call link":"Join opens 10 min before start",className:`inline-flex items-center justify-center rounded-md px-3 py-1.5 text-xs font-medium ${ae?"bg-brand-500 text-white hover:bg-brand-600":"bg-gray-100 text-gray-500 cursor-not-allowed"}`,onClick:ie=>{ae||ie.preventDefault()},children:"Join"}):G.location?n.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(G.location)}`,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-md px-3 py-1.5 text-xs font-medium bg-brand-50 text-brand-700 hover:bg-brand-100",children:"Open Map"}):null})]})},G.id)})})}),n.jsxs("div",{className:"mt-6 text-xs text-gray-500",children:["Member since ",new Date(l.memberSince).toLocaleDateString()," • ",CO(l.memberSince)]}),n.jsxs("div",{className:"flex items-center gap-2 my-4",children:[A&&n.jsxs("button",{onClick:()=>le?Y():y(!0),className:`inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-sm font-medium transition-all
                  ${le?"border border-red-300 text-red-700 bg-red-50 hover:bg-red-100":"border-2 border-gray-200 text-gray-700 bg-white hover:border-red-300 hover:text-red-700 hover:bg-red-50"}`,"aria-label":le?"Unblock user":"Block user",title:le?"Unblock user":"Block user",children:[n.jsx(IH,{size:16}),n.jsx("span",{children:le?"Unblock user":"Block user"})]}),n.jsxs("button",{onClick:()=>b(!0),className:"inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-sm font-medium border-2 border-gray-200 text-gray-700 bg-white hover:border-amber-300 hover:text-amber-700 hover:bg-amber-50 transition-all","aria-label":"Report user",title:"Report user",children:[n.jsx(Si,{size:16}),n.jsx("span",{children:"Report user"})]})]}),n.jsxs("div",{className:`grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-3 mt-6 relative ${le?"hidden":""}`,children:[T&&n.jsx(Zme,{profile:l,shareMenuRef:M,setShareOpen:k}),n.jsxs("button",{ref:_,onClick:G=>{G.stopPropagation(),k(ae=>!ae)},className:"col-span-1 inline-flex items-center justify-center gap-2 rounded-lg px-3 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:[n.jsx(Qs,{size:16}),n.jsx("span",{children:"Share"})]}),n.jsx("button",{onClick:()=>{if(!A){P._showPopUp("login_prompt");return}s(),B(`/profile/${t}`)},className:"col-span-1 rounded-lg px-3 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:"View Full Profile"}),se(),(l==null?void 0:l.connectionStatus)=="connected"&&!((ut=l==null?void 0:l.block)!=null&&ut.iBlockedThem)&&!((Je=l==null?void 0:l.block)!=null&&Je.theyBlockedMe)&&n.jsxs("button",{onClick:O,className:"col-span-1 inline-flex items-center justify-center rounded-lg px-3 py-2 text-sm font-medium border border-brand-200 bg-white text-brand-700 hover:border-brand-500 hover:text-brand-700 transition-colors",children:[n.jsx(To,{size:16,className:"mr-1"}),"Request Meeting"]}),n.jsx("button",{onClick:()=>{if(!A){P._showPopUp("login_prompt");return}s(),B(`/messages?userId=${t}`),ce.success("Starting conversation with "+l.name)},className:"col-span-1 rounded-lg px-3 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 transition-colors",children:"Message"})]})]})]})]}),n.jsx(bs,{open:h,onClose:()=>g(!1),toUserId:t,toName:l==null?void 0:l.name,onSent:()=>{c(me(ne({},l),{connectionStatus:"outgoing_pending"})),a==null||a()}}),n.jsx(Jme,{open:K,onClose:()=>X(!1),toUserId:t,toName:l==null?void 0:l.name,onCreated:G=>{Z(G)}}),n.jsx(is,{open:m,onClose:()=>p(!1),title:"Remove this connection?",text:"This action will remove the connection. You can send a new request later.",confirmText:"Remove",cancelText:"Cancel",tone:"danger",withInput:!0,inputLabel:"Optional reason",inputPlaceholder:"Why are you removing this connection?",inputType:"textarea",requireValue:!1,onConfirm:fe,onResult:G=>{ce.success("Connection removed")}}),n.jsx(is,{open:x,onClose:()=>y(!1),title:"Block this user?",text:"They won’t be able to message or connect with you. Any connection and pending requests will be removed.",confirmText:"Block",cancelText:"Cancel",tone:"danger",withInput:!0,inputLabel:"Optional note",inputPlaceholder:"Why are you blocking this user?",inputType:"textarea",requireValue:!1,onConfirm:J}),n.jsx(is,{open:w,onClose:()=>b(!1),title:"Report this user?",text:"Tell us what’s going on. Our team will review.",confirmText:"Submit report",cancelText:"Cancel",tone:"default",withInput:!0,inputLabel:"Report details",inputPlaceholder:"Describe the issue (spam, harassment, impersonation, etc.)",inputType:"textarea",requireValue:!0,onConfirm:te})]}):null}function Kme(t,r=0){if(t!=null&&t.avatarUrl)return t.avatarUrl;if(t!=null&&t.avatar)return t.avatar}function Xme(t){return t?t.split(" ").map(r=>r.charAt(0).toUpperCase()).slice(0,2).join(""):"?"}function LO({item:t,idx:r=0,size:s="md",className:a=""}){const i=Kme(t,r),o=Xme(t==null?void 0:t.name);return i?n.jsx("img",{alt:"",className:`${s==="sm"?"h-9 w-9":"h-10 w-10"} rounded-full object-cover flex-shrink-0 ${a}`,src:i}):n.jsx("div",{className:`${s==="sm"?"h-9 w-9":"h-10 w-10"} rounded-full flex-shrink-0 flex items-center justify-center font-semibold ${a}`,style:{backgroundColor:"#f3f4f6",color:"#374151"},title:(t==null?void 0:t.name)||"Unknown",children:o})}function MO(t){const r=Number(t==null?void 0:t.matchPercentage);return Number.isFinite(r)?Math.max(0,Math.min(100,Math.round(r))):null}const epe=()=>n.jsxs("div",{className:"rounded-xl border border-gray-100 p-3 relative animate-pulse",children:[n.jsx("div",{className:"inline-block mb-1 bg-gray-200 rounded-full px-2 py-0.5 text-[11px] w-16 h-5"}),n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 w-3/4"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded mb-1 w-full"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]}),n.jsx("div",{className:"absolute top-2 right-2 h-8 w-8 rounded-lg bg-gray-200"})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-20"}),n.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-16"}),n.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-24"})]}),n.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[n.jsx("div",{className:"flex-1 h-8 bg-gray-200 rounded-lg"}),n.jsx("div",{className:"flex-1 h-8 bg-gray-200 rounded-lg"})]})]}),tpe=()=>n.jsxs("div",{className:"flex flex-col border-b last:border-b-0 pb-3 last:pb-0 animate-pulse",children:[n.jsx("div",{className:"inline-block mb-2 bg-gray-200 rounded-full px-2 py-0.5 text-[11px] w-16 h-5"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-full bg-gray-200 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 w-2/3"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]})]}),n.jsx("div",{className:"h-8 bg-gray-200 rounded-lg w-20"})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-16"}),n.jsx("div",{className:"h-5 bg-gray-200 rounded-full w-20"})]})]});function Od({matches:t=[],nearby:r=[],loading:s=!1}){const[a,i]=u.useState(null),[o,l]=u.useState(!1),[c,d]=u.useState({id:null,name:""}),f=Cr(),{user:h}=Xt(),g=qt(),m=u.useMemo(()=>{const v={};return[...t,...r].forEach(j=>v[j.id]=j.connectionStatus||"none"),v},[t,r]),[p,x]=u.useState(m);function y(v,j){d({id:v,name:j}),l(!0)}function w(){x(v=>me(ne({},v),{[a||c.id]:"pending_outgoing"}))}const b=v=>{const j=p[v.id]||v.connectionStatus||"none";return j==="connected"?n.jsx("button",{className:"flex-1 rounded-lg px-3 py-1.5 text-sm font-semibold bg-green-100 text-green-700 cursor-default",children:"Connected"}):j==="pending_outgoing"?n.jsx("button",{className:"flex-1 rounded-lg px-3 py-1.5 text-sm font-semibold bg-yellow-100 text-yellow-700 cursor-default",children:"Pending"}):j==="pending_incoming"?n.jsx("button",{className:"flex-1 rounded-lg px-3 py-1.5 text-sm font-semibold bg-brand-100 text-brand-500 cursor-default",children:"Respond"}):j==="unauthenticated"?n.jsx("button",{onClick:()=>f._showPopUp("login_prompt"),className:"flex-1 rounded-lg px-3 py-1.5 text-sm bg-gray-100 border  border-gray-200 text-gray-700 hover:border-brand-500 hover:text-brand-500",title:"Sign in to send a request",children:"Connect"}):n.jsx("button",{onClick:()=>y(v.id,v.name),className:"flex-1 rounded-lg px-3 py-1.5 text-sm bg-gray-100 border  border-gray-200 text-gray-700 hover:border-brand-500 hover:text-brand-500",children:"Connect"})};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:`rounded-lg bg-white border border-gray-100 shadow p-4 ${h?"":"hidden"}`,children:[n.jsx("h3",{className:"font-semibold",children:"People You May Want to Meet "}),n.jsx("div",{className:"mt-4 space-y-3",children:s?n.jsx(n.Fragment,{children:n.jsx(epe,{})}):n.jsxs(n.Fragment,{children:[t.map((v,j)=>{const N=MO(v);return n.jsxs("div",{className:"rounded-xl border border-gray-100 p-3 relative",children:[N!==null&&n.jsxs("span",{className:"inline-flex mb-1 items-center bg-gray-100 rounded-full text-gray-600  border border-gray-200 px-2 py-0.5 text-[11px] font-semibold ",title:`${N}% match`,children:[N,"% match"]}),n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx(LO,{item:v,idx:j,size:"md"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-medium truncate max-w-[160px]",title:v.name,children:v.name}),n.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[200px]",title:`${v.professionalTitle}`,children:v.professionalTitle}),n.jsx("div",{title:`${v.location}`,className:"text-xs flex items-center mt-1 text-gray-500 truncate max-w-[200px]",children:v.location?n.jsxs(n.Fragment,{children:[n.jsx(gn,{size:13}),v.location]}):null})]})]}),n.jsx("div",{className:"flex items-center gap-2 shrink-0",children:n.jsx("button",{onClick:()=>{g("/profile/"+v.id)},className:"grid absolute top-2 right-2 _profile shrink-0 place-items-center h-8 w-8 rounded-lg border border-gray-200 text-gray-600",title:"View profile",children:n.jsx(Ws.see,{})})})]}),Array.isArray(v.cats)&&v.cats.length>0&&n.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:v.cats.filter((S,I)=>I<=2).map(S=>n.jsx("span",{className:"inline-block bg-gray-100 text-gray-600 text-[11px] px-2 py-0.5 rounded-full truncate max-w-[120px]",title:S,children:S},S))}),N!==null&&n.jsxs("div",{className:"mt-2 hidden",children:[n.jsx("div",{className:"h-1.5 w-full bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-1.5 bg-brand-500 rounded-full",style:{width:`${N}%`},"aria-hidden":"true"})}),n.jsxs("span",{className:"sr-only",children:[N,"% match"]})]}),n.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[b(v),n.jsx("button",{onClick:()=>{if(!(h!=null&&h.id)){f._showPopUp("login_prompt");return}g(`/messages?userId=${v.id}`),ce.success("Starting conversation with "+v.name)},className:"flex-1 _login_prompt rounded-lg px-3 py-1.5 text-sm border border-gray-200 text-gray-700 bg-white hover:border-brand-500 hover:text-brand-500",children:"Message"})]})]},v.id||v.name||j)}),t.length===0&&n.jsx("div",{className:"text-sm text-gray-500 border rounded-xl p-3",children:"No suggestions right now."})]})})]}),n.jsxs("div",{className:"rounded-lg bg-white border border-gray-100 shadow p-4",children:[n.jsx("h3",{className:"font-semibold",children:"People Around You"}),n.jsx("div",{className:"mt-3 space-y-3",children:s?n.jsx(n.Fragment,{children:n.jsx(tpe,{})}):n.jsxs(n.Fragment,{children:[r.map((v,j)=>{const N=MO(v);return n.jsxs("div",{className:"flex flex-col border-b last:border-b-0 pb-3 last:pb-0 relative",children:[n.jsx("div",{children:N!==null&&n.jsxs("span",{className:"inline-flex mb-2 items-center rounded-full bg-gray-100  text-gray-600  border border-gray-200 px-2 py-0.5 text-[11px] font-semibold",title:`${N}% match`,children:[N,"% match"]})}),n.jsxs("div",{className:"flex items-center justify-between gap-1",children:[n.jsx("div",{className:"flex items-center gap-2 shrink-0",children:n.jsx("button",{onClick:()=>{g("/profile/"+v.id)},className:"grid absolute top-0 right-2 _profile shrink-0 place-items-center h-8 w-8 rounded-lg border border-gray-200 text-gray-600",title:"View profile",children:n.jsx(Ws.see,{})})}),n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx(LO,{item:v,idx:j,size:"sm"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-medium truncate max-w-[160px]",title:v.name,children:v.name}),n.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[200px]",title:`${v.professionalTitle}`,children:v.professionalTitle}),n.jsx("div",{title:`${v.location}`,className:"text-xs flex items-center mt-1 text-gray-500 truncate max-w-[200px]",children:v.location?n.jsxs(n.Fragment,{children:[n.jsx(gn,{size:13}),v.location]}):null})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:b(v)})]}),Array.isArray(v.cats)&&v.cats.length>0&&n.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:v.cats.filter((S,I)=>I<=2).map(S=>n.jsx("span",{className:"inline-block bg-gray-100 text-gray-600 text-[11px] px-2 py-0.5 rounded-full truncate max-w-[120px]",title:S,children:S},S))}),N!==null&&n.jsxs("div",{className:"mt-2 hidden",children:[n.jsx("div",{className:"h-1.5 w-full bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-1.5 bg-brand-500 rounded-full",style:{width:`${N}%`},"aria-hidden":"true"})}),n.jsxs("span",{className:"sr-only",children:[N,"% match"]})]})]},v.id||v.name||j)}),r.length===0&&n.jsx("div",{className:"text-sm text-gray-500 border rounded-xl p-3",children:"No nearby profiles for these filters."})]})})]})]}),n.jsx(_d,{userId:a,isOpen:!!a,onClose:()=>i(null),onSent:w}),n.jsx(bs,{open:o,onClose:()=>l(!1),toUserId:c.id,toName:c.name,onSent:w})]})}function $d({activeTab:t}){qt();const r=t==="Events"?"No events found":t==="Job Opportunities"?"No job opportunities found":"No results found",s=t==="Events"?"We couldn’t find events that match your filters.":t==="Job Opportunities"?"We couldn’t find job opportunities that match your filters.":"We couldn’t find any items that match your filters.";return n.jsx("div",{className:"rounded-2xl border bg-white p-8 text-gray-700",children:n.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[n.jsx("div",{className:"h-16 w-16 rounded-2xl grid place-items-center bg-brand-50",children:n.jsxs("svg",{className:"h-8 w-8 text-brand-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("circle",{cx:"11",cy:"11",r:"7"}),n.jsx("path",{d:"M21 21l-3.5-3.5"})]})}),n.jsx("h3",{className:"text-lg font-semibold text-brand-600",children:r}),n.jsx("p",{className:"text-sm text-gray-500 max-w-md",children:s}),n.jsx("br",{}),n.jsx("br",{}),n.jsx("br",{})]})})}function ef({title:t="Quick Actions",items:r=[]}){const{user:s}=Xt(),a=qt();return n.jsx(n.Fragment,{children:n.jsxs("div",{className:`rounded-2xl ${s?"":"hidden"} hidden bg-white border border-gray-100 shadow-soft p-4`,children:[n.jsx("h3",{className:"font-semibold text-brand-600",children:t}),n.jsx("ul",{className:"mt-3 space-y-2 text-sm text-gray-700",children:r.filter(i=>!i.hide).map(({label:i,Icon:o,onClick:l,disabled:c,path:d},f)=>n.jsx("li",{children:n.jsxs("button",{type:"button",onClick:d?()=>{a(d)}:l,disabled:c,className:`w-full text-left rounded-lg px-3 py-2 flex items-center gap-2 hover:bg-brand-50 hover:text-brand-600 transition-colors ${c?"opacity-50 cursor-not-allowed":""}`,children:[o?n.jsx(o,{size:16,className:"text-brand-500"}):null,n.jsx("span",{children:i})]})},f))})]})})}const y0="#034ea2",Pc={chevron:({open:t})=>n.jsx("svg",{className:`h-4 w-4 transform transition-transform duration-200 ${t?"rotate-90":""}`,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),bell:()=>n.jsx(Kle,{size:18,color:y0}),users:()=>n.jsx(vs,{size:20,color:y0}),chat:()=>n.jsx(Rs,{size:16,color:y0}),plus:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M11 5h2v6h6v2h-6v6h-2v-6H5v-2h6z"})}),calendar:()=>n.jsx(K2,{size:18,color:y0}),check:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"white",children:n.jsx("path",{d:"M9 16.2 4.8 12l-1.8 1.8L9 20l12-12-1.8-1.8z"})}),close:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M18 6 6 18M6 6l12 12"})}),pin:()=>n.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Zm0 10a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z"})})},z4=({title:t,icon:r,children:s,right:a})=>{const[i,o]=u.useState(!1);return n.jsxs("div",{className:"border-b border-gray-100",children:[n.jsxs("button",{onClick:()=>o(!i),className:"w-full flex items-center justify-between px-4 py-3 text-left",children:[n.jsxs("div",{className:"flex items-center gap-2 font-semibold text-gray-800",children:[r,t]}),n.jsxs("div",{className:"flex items-center gap-2",children:[a,n.jsx(Pc.chevron,{open:i})]})]}),i&&n.jsx("div",{className:"px-4 pb-4",children:s})]})},U4=({n:t})=>n.jsx("span",{className:"ml-2 inline-flex h-5 min-w-[20px] items-center justify-center rounded-full bg-[#FF6B6B] px-1.5 text-[11px] font-semibold text-white",children:t}),IO=i=>{var o=i,{children:t,className:r="",style:s}=o,a=wc(o,["children","className","style"]);return n.jsx("button",me(ne({className:`h-8 w-8 grid place-items-center rounded-full shadow-sm ${r}`,style:s},a),{children:t}))};function rpe(){const{user:t}=Xt(),r=qt(),{socket:s,connected:a}=sw(),[i,o]=u.useState([]),[l,c]=u.useState([]),[d,f]=u.useState([]),[h,g]=u.useState(!0),m=(b,v,j)=>new Promise((N,S)=>{if(!s||!a)return S(new Error("Socket not connected"));let I;const E=()=>{clearTimeout(I),j&&s.off(j,L)},L=C=>{E(),N(C)};s.emit(b,v||{},C=>{E(),N(C)}),j&&s.once(j,L),I=setTimeout(()=>{E(),S(new Error(`${b} timeout`))},7e3)}),p=()=>ve(this,null,function*(){var b,v,j,N,S,I,E;if(!(!s||!a))try{g(!0);const[L,C,T]=yield Promise.all([m("qa_fetch_connection_requests",{},"qa_fetch_connection_requests_result"),m("qa_fetch_recent_chats",{},"qa_fetch_recent_chats_result"),m("qa_fetch_upcoming_meetings",{},"qa_fetch_upcoming_meetings_result")]),k=(j=(v=(b=L==null?void 0:L.data)==null?void 0:b.incoming)!=null?v:L==null?void 0:L.incoming)!=null?j:[],M=(S=(N=C==null?void 0:C.data)!=null?N:C)!=null?S:[],_=(E=(I=T==null?void 0:T.data)!=null?I:T)!=null?E:[];o(k),c(M),f(_)}catch(L){console.error("QuickActions loadData error:",L)}finally{g(!1)}});u.useEffect(()=>{t&&a&&p()},[t,a]),u.useEffect(()=>{if(!t||!a)return;const b=setInterval(()=>{p()},5e3);return()=>clearInterval(b)},[t,a]);const x=(b,v)=>ve(this,null,function*(){try{const j=yield m("qa_respond_connection_request",{requestId:b,action:v},"qa_respond_connection_request_result");j!=null&&j.ok&&p()}catch(j){console.error("respond error:",j)}}),y=b=>{r(`/messages?userId=${b}`)},w=b=>{const v=d.find(j=>j.id===b);v&&(v.mode==="in_person"&&v.location?window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(v.location)}`,"_blank"):v.link&&window.open(v.link,"_blank"))};return t?n.jsxs("aside",{className:`w-full hidden ${t?"":"hidden"} max-w-sm rounded-2xl border border-gray-200 bg-white shadow-sm my-2`,children:[n.jsxs("div",{className:"px-4 pt-4 pb-3 border-b border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pc.bell,{}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Hub"})]}),n.jsx("button",{onClick:p,className:"h-8 w-8 grid place-items-center rounded-full border border-gray-200 text-gray-600 hover:bg-gray-50",title:"Refresh",children:n.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Stay connected and organized"})]}),n.jsx(z4,{title:"Connection Requests",icon:n.jsx(Pc.users,{}),right:n.jsx(U4,{n:i.length}),children:h?n.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:"Loading…"}):i.length===0?n.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:"No pending connection requests"}):i.map(b=>{var v,j;return n.jsxs("div",{className:"flex items-center justify-between mb-3 hover:bg-gray-50 cursor-pointer",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx("img",{src:((v=b.from)==null?void 0:v.avatarUrl)||"https://i.pravatar.cc/80?img=1",alt:"",className:"h-9 w-9 rounded-full object-cover flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-[14px] font-semibold text-gray-900 truncate",children:b.fromName||((j=b.from)==null?void 0:j.name)}),n.jsx("div",{className:"text-xs text-gray-500 truncate",children:b.reason||"Professional"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(IO,{style:{background:y0},onClick:()=>x(b.id,"accept"),children:n.jsx(Pc.check,{})}),n.jsx(IO,{className:"border border-gray-200 text-gray-500 bg-white",onClick:()=>x(b.id,"reject"),children:n.jsx(Lr,{size:18})})]})]},b.id)})}),n.jsx(z4,{title:"Recent Chats",icon:n.jsx(Pc.chat,{}),right:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>r("/messages"),className:"h-7 w-7 grid place-items-center rounded-md border border-gray-200 text-gray-600 hover:bg-gray-50",children:n.jsx(Pc.plus,{})}),n.jsx(U4,{n:l.length})]}),children:h?n.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:"Loading…"}):l.length===0?n.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:"No recent chats"}):l.map(b=>n.jsxs("div",{className:"flex items-center justify-between mb-3 rounded-lg px-2 py-1 hover:bg-gray-50 cursor-pointer",onClick:()=>y(b.otherUser.id),children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:b.otherUser.avatarUrl||"https://i.pravatar.cc/80?img=1",alt:"",className:"h-9 w-9 rounded-full object-cover flex-shrink-0"}),n.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-2 ring-white bg-gray-300"})]}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:b.otherUser.name}),n.jsx("div",{className:"text-xs text-gray-500 truncate",children:b.lastMessage||"No messages yet"})]})]}),n.jsx("span",{className:"text-[11px] text-gray-400",children:b.lastMessageTime?new Date(b.lastMessageTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):""})]},b.id))}),n.jsx(z4,{title:"Upcoming Meetings",icon:n.jsx(Pc.calendar,{}),right:n.jsx(U4,{n:d.length}),children:h?n.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:"Loading…"}):d.length===0?n.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:"No upcoming meetings"}):d.map(b=>{const v=new Date(b.scheduledAt),j=new Date,N=new Date;N.setDate(j.getDate()+1);let S="";v.toDateString()===j.toDateString()?S="Today":v.toDateString()===N.toDateString()?S="Tomorrow":S=v.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});const I=v.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),E=b.fromUserId===(t==null?void 0:t.id)?b.recipient:b.requester;return n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white mb-3",children:[n.jsxs("div",{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"font-semibold text-gray-800",children:b.title}),n.jsx("span",{className:`rounded-full text-[11px] px-2 py-0.5 ${S==="Today"?"bg-orange-100 text-orange-700":S==="Tomorrow"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:S})]}),n.jsxs("div",{className:"mt-1 text-xs text-gray-500 flex items-center gap-1.5",children:[n.jsx(Pc.pin,{})," with ",(E==null?void 0:E.name)||"Unknown"," • ",I]})]}),n.jsx("div",{className:"p-3 pt-0",children:n.jsx("button",{className:"w-full rounded-xl px-4 py-2.5 text-sm font-semibold text-white",style:{background:y0},onClick:()=>w(b.id),children:b.mode==="in_person"?"See Map":"Join Meeting"})})]},b.id)})})]}):null}function tf(){const{user:t,profile:r}=Xt(),s=(t==null?void 0:t.organizationId)&&(t==null?void 0:t.organization);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`rounded-2xl bg-white hidden border p-4 shadow-sm ${t?"":"hidden"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:(r==null?void 0:r.avatarUrl)||(t==null?void 0:t.avatarUrl)||"https://www.gravatar.com/avatar/?d=mp&s=200",alt:"",className:"h-12 w-12 rounded-full"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-semibold",children:t==null?void 0:t.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:[r==null?void 0:r.primaryIdentity,n.jsx("br",{}),t==null?void 0:t.city," ",t!=null&&t.city&&(t!=null&&t.country||t!=null&&t.countryOfResidence)?",":""," ",(t==null?void 0:t.country)||(t==null?void 0:t.countryOfResidence)]}),s&&n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-50 rounded-full",children:[t.organization.avatarUrl?n.jsx("img",{src:t.organization.avatarUrl,alt:t.organization.name,className:"w-4 h-4 rounded-full object-cover"}):n.jsx("div",{className:"w-4 h-4 bg-blue-200 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs text-blue-700 font-medium",children:t.organization.name.charAt(0).toUpperCase()})}),n.jsx("span",{className:"text-xs text-blue-700 font-medium truncate max-w-24",children:t.organization.name})]}),(t==null?void 0:t.organizationRole)&&n.jsxs("span",{className:"text-xs text-gray-500",children:["• ",t.organizationRole]})]})]})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-2 bg-gray-50 rounded-xl text-center text-sm",children:[n.jsxs("div",{className:"p-3 border-r",children:[n.jsx("div",{className:"text-xs text-gray-500",children:"Connections"}),n.jsx("div",{className:"font-semibold",children:"1"})]}),n.jsxs("div",{className:"p-3",children:[n.jsx("div",{className:"text-xs text-gray-500",children:"Posts"}),n.jsx("div",{className:"font-semibold"})]})]}),n.jsxs("button",{className:`mt-4 ${BC.primaryWide} flex items-center justify-center`,children:[n.jsxs("svg",{width:"19",height:"16",viewBox:"0 0 19 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("g",{clipPath:"url(#clip0_294_101)",children:n.jsx("path",{d:"M9.96875 3.3125C10.325 3.09375 10.5625 2.69687 10.5625 2.25C10.5625 1.55937 10.0031 1 9.3125 1C8.62187 1 8.0625 1.55937 8.0625 2.25C8.0625 2.7 8.3 3.09375 8.65625 3.3125L6.86562 6.89375C6.58125 7.4625 5.84375 7.625 5.34688 7.22813L2.5625 5C2.71875 4.79063 2.8125 4.53125 2.8125 4.25C2.8125 3.55938 2.25312 3 1.5625 3C0.871875 3 0.3125 3.55938 0.3125 4.25C0.3125 4.94062 0.871875 5.5 1.5625 5.5C1.56875 5.5 1.57812 5.5 1.58438 5.5L3.0125 13.3562C3.18438 14.3062 4.0125 15 4.98125 15H13.6438C14.6094 15 15.4375 14.3094 15.6125 13.3562L17.0406 5.5C17.0469 5.5 17.0562 5.5 17.0625 5.5C17.7531 5.5 18.3125 4.94062 18.3125 4.25C18.3125 3.55938 17.7531 3 17.0625 3C16.3719 3 15.8125 3.55938 15.8125 4.25C15.8125 4.53125 15.9062 4.79063 16.0625 5L13.2781 7.22813C12.7812 7.625 12.0437 7.4625 11.7594 6.89375L9.96875 3.3125Z",fill:"white"})}),n.jsx("defs",{children:n.jsx("clipPath",{id:"clip0_294_101",children:n.jsx("path",{d:"M0.3125 0H18.3125V16H0.3125V0Z",fill:"white"})})})]}),n.jsx("span",{className:"ml-1",children:"Boost Your Profile"})]})]}),n.jsx(rpe,{})]})}const npe=()=>n.jsxs("div",{className:"group relative rounded-[15px] border border-gray-100 bg-white shadow-sm overflow-hidden flex flex-col animate-pulse",children:[n.jsxs("div",{className:"relative overflow-hidden",children:[n.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-gray-200 to-gray-300"}),n.jsx("div",{className:"absolute top-4 left-4",children:n.jsx("div",{className:"w-20 h-6 bg-gray-300 rounded-full"})}),n.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"}),n.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full"})]})]}),n.jsxs("div",{className:"p-5 flex flex-col flex-1",children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2 w-3/4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded mb-1 w-full"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]}),n.jsx("div",{className:"mb-3",children:n.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3"})}),n.jsxs("div",{className:"mb-3 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-7 h-7 bg-gray-300 rounded-full"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]}),n.jsx("div",{className:"h-5 bg-gray-200 rounded w-20"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"h-3 bg-gray-200 rounded w-12"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]}),n.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-12"})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-2",children:[n.jsx("div",{className:"h-10 w-10 bg-gray-300 rounded-xl flex-shrink-0"}),n.jsx("div",{className:"flex-1 h-10 bg-gray-300 rounded-xl"}),n.jsx("div",{className:"h-10 w-20 bg-gray-300 rounded-xl"})]})]}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent opacity-50"})]});function Pd({columns:t=3,count:r=6,className:s=""}){const a=Array.from({length:r},(o,l)=>n.jsx(npe,{},l)),i=()=>{const o={1:"grid-cols-1",2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",5:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",6:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6"};return o[t]||o[3]};return n.jsx("div",{className:`grid ${i()} gap-6 ${s}`,children:a})}const ml=({onRetry:t,message:r="Failed to load feed. Please try again.",buttonText:s="Try Again"})=>n.jsx("div",{className:"min-h-[160px] flex items-center justify-center",children:n.jsxs("div",{className:"text-center p-6 bg-white rounded-xl border border-gray-200 max-w-md w-full",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(VE,{className:"w-6 h-6 text-red-600"})})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Oops! Something went wrong"}),n.jsx("p",{className:"text-gray-600 mb-6",children:r}),n.jsxs("button",{onClick:t,className:"inline-flex items-center gap-2 px-6 py-3 bg-brand-600 text-white rounded-lg hover:bg-brand-700 transition-colors font-medium",children:[n.jsx(Pde,{className:"w-4 h-4"}),s]})]})});function spe(t,r=400){const[s,a]=u.useState(t);return u.useEffect(()=>{const i=setTimeout(()=>a(t),r);return()=>clearTimeout(i)},[t,r]),s}function ape(){const t=qt();u.useState(!1);const[r,s]=u.useState("All");u.useMemo(()=>["All","Events","Jobs","Needs","Moments","Services","Products","Experiences","Funding"],[]);const[a,i]=u.useState(""),o=spe(a,400),[l,c]=u.useState(),[d,f]=u.useState(),[h,g]=u.useState(),[m,p]=u.useState(),[x,y]=u.useState(),[w,b]=u.useState(),[v,j]=u.useState([]),[N,S]=u.useState([]),[I,E]=u.useState([]),[L,C]=u.useState([]),[T,k]=u.useState(!1),[M,_]=u.useState(0),[J,Y]=u.useState(0),[te,K]=u.useState(!1),X=u.useRef(null),[W,F]=u.useState(!0),[P,A]=u.useState(!1),B=u.useRef(null);u.useRef(null);const z=u.useRef(0),O=u.useRef(null),U=u.useRef(0),Z=u.useRef(!1),se=u.useRef(!1),fe=u.useRef({}),le=u.useRef(null),[Ne,Te]=u.useState([]),[ht,Fe]=u.useState([]),[Ve,ut]=u.useState(!1),[Je,G]=u.useState(!1);u.useState([]),u.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set});const[ae,Me]=u.useState([]),[he,ye]=u.useState("list"),oe=Cr(),{user:ie,settings:q}=Xt();u.useEffect(()=>{ve(this,null,function*(){try{const{data:Ue}=yield Le.get("/feed/meta");j(Ue.categories||[]),S(Ue.countries||[]),E(Ue.goals||[])}catch(Ue){console.error(Ue)}})},[]);const Se=u.useCallback(()=>ve(this,null,function*(){O.current&&O.current.abort(),O.current=new AbortController;const Ue=Date.now();U.current=Ue,Z.current&&console.log("Canceling previous request"),Z.current=!0,k(!0);try{const Oe={tab:r==="Events"?"events":r==="Jobs"?"jobs":r==="Needs"?"needs":r==="Moments"?"moments":r==="Services"?"services":r==="Products"?"products":r==="Experiences"?"tourism":r==="Funding"?"funding":"all",q:o||void 0,country:l||void 0,city:d||void 0,goalId:x||void 0,role:w||void 0,categoryId:h||void 0,subcategoryId:m||void 0,industryIds:ae.length>0?ae.join(","):void 0,limit:5,offset:0},{data:Ee}=yield Le.get("/feed",{params:Oe,signal:O.current.signal});if(Ue===U.current){const ee=Array.isArray(Ee.items)?Ee.items:[];C(ee),_(typeof Ee.total=="number"?Ee.total:ee.length),F(typeof Ee.total=="number"?ee.length<Ee.total:ee.length===5),z.current=ee.length,K(!1),X.current&&(clearTimeout(X.current),X.current=null)}}catch(xt){if(xt.name==="AbortError"){console.log("Request was canceled");return}console.error("Failed to load feed:",xt),Ue===U.current&&(C([]),K(!0),X.current&&clearTimeout(X.current),X.current=setTimeout(()=>{Se()},3e3))}finally{Ue===U.current&&(Z.current=!1,k(!1),O.current=null)}}),[r,o,l,d,h,m,x,w,ae]),$e=u.useCallback(()=>ve(this,null,function*(){if(!(Z.current||T||P||!W)){Z.current=!0,A(!0);try{const xt={tab:r==="Events"?"events":r==="Jobs"?"jobs":r==="Needs"?"needs":r==="Moments"?"moments":r==="Services"?"services":r==="Products"?"products":r==="Experiences"?"tourism":r==="Funding"?"funding":"all",q:o||void 0,country:l||void 0,city:d||void 0,goalId:x||void 0,role:w||void 0,categoryId:h||void 0,subcategoryId:m||void 0,industryIds:ae.length>0?ae.join(","):void 0,limit:5,offset:z.current},{data:Oe}=yield Le.get("/feed",{params:xt}),Ee=Array.isArray(Oe.items)?Oe.items:[];C(ee=>[...ee,...Ee]),z.current+=Ee.length,F(Ee.length===5),K(!1)}catch(Ue){console.error("Failed to load more:",Ue)}finally{Z.current=!1,A(!1)}}}),[r,o,l,d,h,m,x,w,ae,L.length,T,P,W]);u.useEffect(()=>{const Ue=JSON.stringify({activeTab:r,debouncedQ:o,country:l,city:d,categoryId:h,subcategoryId:m,goalId:x,role:w,selectedIndustries:[...ae].sort()});if(Ue!==fe.current)return fe.current=Ue,le.current&&clearTimeout(le.current),O.current&&O.current.abort(),se.current?le.current=setTimeout(()=>{Se()},300):(se.current=!0,Se()),()=>{le.current&&clearTimeout(le.current),X.current&&clearTimeout(X.current)}},[r,o,l,d,h,m,x,w,ae,Se]),u.useEffect(()=>{ve(this,null,function*(){ut(!0);try{const Ue={q:o||void 0,country:l||void 0,city:d||void 0,goalId:x||void 0,role:w||void 0,categoryId:h||void 0,subcategoryId:m||void 0,industryIds:ae.length>0?ae.join(","):void 0,limit:10},{data:xt}=yield Le.get("/feed/suggestions",{params:Ue});Te(xt.matches||[]),Fe(xt.nearby||[])}catch(Ue){console.error(Ue)}finally{ut(!1)}})},[o,l,d,h,m,w,x,ae]),u.useEffect(()=>{if(!B.current||!W)return;const Ue=B.current,xt=new IntersectionObserver(Oe=>{const[Ee]=Oe;Ee.isIntersecting&&$e()},{root:null,rootMargin:"3000px",threshold:0});return xt.observe(Ue),()=>xt.disconnect()},[B,W,$e]);const rt={setShowTotalCount:Y,query:a,setQuery:i,country:l,setCountry:c,city:d,setCity:f,categoryId:h,setCategoryId:g,subcategoryId:m,setSubcategoryId:p,categories:v,countries:N,role:w,setGoalId:y,setRole:b,goalId:x,goals:I,selectedIndustries:ae,setSelectedIndustries:Me,onApply:()=>G(!1)},nt=Ue=>{var xt,Oe,Ee,ee,de,ue,_e,Xe,gt,wt,vt,ct;return Ue.kind==="job"?n.jsx(Ad,{type:he,matchPercentage:Ue.matchPercentage,job:me(ne({},Ue),{categoryName:(xt=v.find(Ze=>String(Ze.id)===String(Ue.categoryId)))==null?void 0:xt.name,subcategoryName:(ee=(Ee=(Oe=v.find(Ze=>String(Ze.id)===String(Ue.categoryId)))==null?void 0:Oe.subcategories)==null?void 0:Ee.find(Ze=>String(Ze.id)===String(Ue.subcategoryId)))==null?void 0:ee.name})},`job-${Ue.id}`):Ue.kind==="need"?n.jsx(ic,{type:he,matchPercentage:Ue.matchPercentage,need:me(ne({},Ue),{categoryName:(de=v.find(Ze=>String(Ze.id)===String(Ue.categoryId)))==null?void 0:de.name,subcategoryName:(Xe=(_e=(ue=v.find(Ze=>String(Ze.id)===String(Ue.categoryId)))==null?void 0:ue.subcategories)==null?void 0:_e.find(Ze=>String(Ze.id)===String(Ue.subcategoryId)))==null?void 0:Xe.name})},`need-${Ue.id}`):Ue.kind==="service"?n.jsx(lw,{type:he,item:Ue,matchPercentage:Ue.matchPercentage,currentUserId:ie==null?void 0:ie.id},`service-${Ue.id}`):Ue.kind==="product"?n.jsx(cw,{type:he,item:Ue,matchPercentage:Ue.matchPercentage,currentUserId:ie==null?void 0:ie.id},`product-${Ue.id}`):Ue.kind==="moment"?n.jsx(oc,{type:he,matchPercentage:Ue.matchPercentage,moment:me(ne({},Ue),{categoryName:(gt=v.find(Ze=>String(Ze.id)===String(Ue.categoryId)))==null?void 0:gt.name,subcategoryName:(ct=(vt=(wt=v.find(Ze=>String(Ze.id)===String(Ue.categoryId)))==null?void 0:wt.subcategories)==null?void 0:vt.find(Ze=>String(Ze.id)===String(Ue.subcategoryId)))==null?void 0:ct.name})},`moment-${Ue.id}`):Ue.kind==="tourism"?n.jsx(dw,{type:he,item:Ue,matchPercentage:Ue.matchPercentage,currentUserId:ie==null?void 0:ie.id},`tourism-${Ue.id}`):Ue.kind==="funding"?n.jsx(uw,{type:he,item:Ue,matchPercentage:Ue.matchPercentage,currentUserId:ie==null?void 0:ie.id},`funding-${Ue.id}`):n.jsx(Xu,{type:he,item:Ue,e:Ue,matchPercentage:Ue.matchPercentage},`event-${Ue.id}`)};return n.jsxs(ti,{children:[n.jsxs("main",{className:`mx-auto ${oe._openPopUps.profile?"relative z-50":""} max-w-7xl px-4 sm:px-6 lg:px-8 py-6 grid lg:grid-cols-12 gap-6`,children:[n.jsx(Md,{query:a,setQuery:i,placeholder:"Search the feed...",onFilterClick:()=>G(!0)}),n.jsxs("aside",{className:"lg:col-span-3 hidden lg:flex flex-col space-y-4 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto pr-1",children:[n.jsx("div",{className:"_sticky top-0 z-10 _bg-white",children:n.jsx(Xl,ne({},rt))}),n.jsx(ef,{title:"Quick Actions",items:[{label:"Edit Profile",Icon:xd,onClick:()=>t("/profile")},{label:"Settings and Privacy",Icon:xd,onClick:()=>t("/settings")},{label:"Share a Job Opening",Icon:Sn,onClick:()=>t("/jobs/create"),hide:(ie==null?void 0:ie.accountType)=="individual"},{label:"Create an Event",Icon:Sn,onClick:()=>t("/events/create"),hide:(ie==null?void 0:ie.accountType)=="individual"},{label:(ie==null?void 0:ie.accountType)=="company"?"Share an experience":"Highlight a career progress",Icon:Sn,onClick:()=>t("/moment/job/create"),from:"job",hide:(ie==null?void 0:ie.accountType)=="company"},{label:"Find Jobs",Icon:Sn,onClick:()=>t("/need/job/create"),from:"job",hide:(ie==null?void 0:ie.accountType)=="company"},{label:"Highlight an event",Icon:Sn,onClick:()=>t("/moment/event/create"),from:"event",hide:(ie==null?void 0:ie.accountType)=="company"},{label:"Ask About an Event",Icon:Sn,onClick:()=>t("/need/event/create"),from:"event",hide:(ie==null?void 0:ie.accountType)=="company"}]}),n.jsx(tf,{})]}),n.jsxs("div",{className:"lg:col-span-9 grid lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx("div",{className:"flex items-center flex-wrap w-full justify-between mb-4",children:n.jsx(Ju,{from:"feed",typeOfPosts:[{label:"Share a job opening",Icon:Q2,from:"job",hide:(ie==null?void 0:ie.accountType)==="individual"},{label:"Host an event",Icon:wH,from:"event",hide:(ie==null?void 0:ie.accountType)==="individual"},{label:"Add new product",Icon:Mh,from:"product",hide:(ie==null?void 0:ie.accountType)==="individual"},{label:"Add new service",Icon:sce,from:"service",hide:(ie==null?void 0:ie.accountType)==="individual"},{label:"Post a tourism attraction",Icon:gn,from:"tourism",hide:(ie==null?void 0:ie.accountType)==="individual"},{label:"Publish an opportunity",Icon:Lh,from:"funding",hide:(ie==null?void 0:ie.accountType)==="individual"},{label:"Share work experience",Icon:Yu,from:"job",hide:(ie==null?void 0:ie.accountType)==="individual"},{label:"Highlight an event",Icon:Zi,from:"event",hide:(ie==null?void 0:ie.accountType)==="individual"},{label:"Highlight a product",Icon:aue,from:"product",hide:(ie==null?void 0:ie.accountType)==="individual"},{label:"Highlight a service",Icon:sh,from:"service",hide:(ie==null?void 0:ie.accountType)==="individual"},{label:"Highlight a tourism attraction",Icon:rde,from:"tourism",hide:(ie==null?void 0:ie.accountType)==="individual"},{label:"Highlight an opportunity",Icon:wue,from:"funding",hide:(ie==null?void 0:ie.accountType)==="individual"},{label:"Find jobs",Icon:Ta,from:"job",hide:(ie==null?void 0:ie.accountType)==="company"},{label:"Find events",Icon:jH,from:"event",hide:(ie==null?void 0:ie.accountType)==="company"},{label:"Find Products",Icon:Vde,from:"product",hide:(ie==null?void 0:ie.accountType)==="company"},{label:"Find Services",Icon:Bde,from:"service",hide:(ie==null?void 0:ie.accountType)==="company"},{label:"Explore tourism attractions",Icon:so,from:"tourism",hide:(ie==null?void 0:ie.accountType)==="company"},{label:"Explore funding opportunities",Icon:SH,from:"funding",hide:(ie==null?void 0:ie.accountType)==="company"},{label:"Highlight a career progress",Icon:ka,from:"job",hide:(ie==null?void 0:ie.accountType)==="company"},{label:"Highlight an event",Icon:DC,from:"event",hide:(ie==null?void 0:ie.accountType)==="company"},{label:"Highlight a product",Icon:HE,from:"product",hide:(ie==null?void 0:ie.accountType)==="company"},{label:"Highlight a service",Icon:LH,from:"service",hide:(ie==null?void 0:ie.accountType)==="company"},{label:"Share tourism experiences",Icon:Un,from:"tourism",hide:(ie==null?void 0:ie.accountType)==="company"},{label:"Highlight a funding opportunity",Icon:TH,from:"funding",hide:(ie==null?void 0:ie.accountType)==="company"}]})}),n.jsxs("section",{className:"space-y-4 overflow-hidden",children:[te&&n.jsx(ml,{onRetry:()=>{K(!1),X.current&&clearTimeout(X.current),X.current=null,le.current&&clearTimeout(le.current),le.current=null,Se()},message:"Failed to load feed. Please try again.",buttonText:"Try Again"}),T&&n.jsx("div",{className:"min-h-[160px] grid text-gray-600",children:n.jsx(Pd,{columns:1})}),!te&&!T&&J&&n.jsxs("div",{className:"text-sm text-gray-600",children:[M," result",M===1?"":"s"]}),!te&&!T&&L.length===0&&n.jsx($d,{activeTab:r}),!te&&!T&&L.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`grid grid-cols-1 ${he==="list"?"sm:grid-cols-1":"lg:grid-cols-3"} gap-6`,children:L.map(nt)}),!T&&W&&n.jsx("div",{ref:B,className:"h-10 w-full",children:P&&n.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Loading more…"})})]})]})]}),n.jsx("aside",{className:"lg:col-span-1 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto",children:n.jsx(Od,{loading:Ve,matches:Ne,nearby:ht})})]})]}),n.jsx(Id,ne({isOpen:Je,onClose:()=>G(!1)},rt))]})}const ipe={avatar:{aspect:1,minWidth:100,minHeight:100}},ope=({value:t,onChange:r,error:s,citiesLoading:a,getCitiesForCountry:i})=>{const[o,l]=u.useState(!1),[c,d]=u.useState(""),[f,h]=u.useState("");if(a)return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Other Countries of Operations (Branches) ",n.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),n.jsxs("div",{className:"flex items-center justify-center p-4",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-500",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading cities..."})]})]});const g=()=>{if(c&&f){const x={country:c,city:f};r([...t,x]),d(""),h(""),l(!1)}},m=x=>{const y=t.filter((w,b)=>b!==x);r(y)},p=(x,y)=>{const w=t.map((b,v)=>v===x?me(ne({},b),{city:y}):b);r(w)};return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Other Countries of Operations (Branches) ",n.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),t.length>0&&n.jsx("div",{className:"space-y-2",children:t.map((x,y)=>n.jsxs("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-sm",children:x.country}),n.jsxs("div",{className:"text-xs text-gray-500",children:["City: ",x.city]})]}),n.jsx(Fn,{options:i(x.country),value:x.city,onChange:w=>p(y,w),placeholder:"Select city",className:"w-48"}),n.jsx("button",{type:"button",onClick:()=>m(y),className:"p-1 text-red-500 hover:text-red-700",title:"Remove",children:n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]},y))}),o?n.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg bg-blue-50 space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Fn,{options:An,value:c,onChange:d,placeholder:"Select country"}),n.jsx(Fn,{options:c?i(c):[],value:f,onChange:h,placeholder:"Select city",disabled:!c})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{type:"button",onClick:g,disabled:!c||!f,className:"px-3 py-1 bg-brand-600 text-white rounded-lg text-sm hover:bg-brand-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),n.jsx("button",{type:"button",onClick:()=>{l(!1),d(""),h("")},className:"px-3 py-1 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:"Cancel"})]})]}):n.jsxs("button",{type:"button",onClick:()=>l(!0),className:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 5v14M5 12h14"})}),"Add Country & City"]}),s&&n.jsx("p",{className:"text-xs text-red-600",children:s}),n.jsx("p",{className:"text-xs text-gray-500",children:"Select countries where your company has branches or operations (optional)"})]})};function W4(){const t=qt(),[r,s]=u.useState(!1),[a,i]=u.useState(!1),[o,l]=u.useState([]),[c,d]=u.useState(!0);u.useEffect(()=>{ve(this,null,function*(){try{const ae=yield fetch("/data/cities.json");if(!ae.ok)throw new Error("Failed to fetch cities");const Me=yield ae.json();l(Me)}catch(ae){console.error("Error fetching cities:",ae)}finally{d(!1)}})},[]);const f=u.useMemo(()=>o.slice(0,1e4).map(G=>({value:G.city,label:`${G.city}${G.country?`, ${G.country}`:""}`,country:G.country})),[o]),h=u.useCallback(G=>G?f.filter(ae=>{var Me;return((Me=ae.country)==null?void 0:Me.toLowerCase())===G.toLowerCase()}):[],[f]);u.useState("All"),u.useMemo(()=>["All","Events","Jobs","Services","Products"],[]);const[g,m]=u.useState("signup"),[p,x]=u.useState({email:"",password:"",remember:!1}),[y,w]=u.useState({email:"",password:""}),[b,v]=u.useState({name:"",email:"",phone:"",country:"",password:"",confirmPassword:"",tos:!1,avatarUrl:null,avatarPreview:null,birthDate:"",gender:"",nationality:"",otherCountries:[],webpage:""}),[j,N]=u.useState({name:"",email:"",phone:"",country:"",password:"",confirmPassword:"",tos:"",avatarUrl:"",birthDate:"",gender:"",nationality:"",otherCountries:"",webpage:""}),[S,I]=u.useState("individual"),[E,L]=u.useState(!1),[C,T]=u.useState(!1),[k,M]=u.useState(!1),[_,J]=u.useState(!1),[Y,te]=u.useState(!1),[K,X]=u.useState(null),[W,F]=u.useState({width:0,height:0}),P=G=>{const{name:ae,value:Me,type:he,checked:ye}=G.target;x(oe=>me(ne({},oe),{[ae]:he==="checkbox"?ye:Me})),w(oe=>me(ne({},oe),{[ae]:""}))},A=G=>{const{name:ae,value:Me,type:he,checked:ye}=G.target;v(oe=>me(ne({},oe),{[ae]:he==="checkbox"?ye:Me})),N(oe=>me(ne({},oe),{[ae]:""}))},B=(G,ae)=>ve(this,null,function*(){if(ae){if(ae.size>5242880){N(ye=>me(ne({},ye),{[G]:"File size must be less than 5MB"}));return}if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(ae.type)){N(ye=>me(ne({},ye),{[G]:"Please select a valid image file (JPG, PNG, GIF, WEBP)"}));return}{const ye=new FileReader;ye.onload=oe=>{const ie=new Image;ie.onload=()=>{F({width:ie.width,height:ie.height}),X(oe.target.result),te(!0)},ie.src=oe.target.result},ye.readAsDataURL(ae),v(oe=>me(ne({},oe),{avatarFile:null,avatarPreview:null}))}N(ye=>me(ne({},ye),{avatarUrl:""}))}else v(Me=>me(ne({},Me),{avatarFile:null,avatarPreview:null}))}),z=G=>{const ae=G.type||"image/jpeg",Me=ae==="image/png"?"png":ae==="image/webp"?"webp":"jpg",he=`avatar-${Date.now()}.${Me}`,ye=new File([G],he,{type:ae}),oe=URL.createObjectURL(G);v(ie=>me(ne({},ie),{avatarFile:ye,avatarPreview:oe})),te(!1),X(null),F({width:0,height:0})},O=()=>{te(!1),X(null),F({width:0,height:0})},U=S==="company"?"Company name":"Name",Z=S==="company"?"Company email":"Email Address",se=S==="company"?"Company phone":"Phone Number",fe=G=>/^[^\s@]+@[^\s@]+\.[a-zA-Z]{2,}$/.test(String(G||"").toLowerCase());function le(){const G={email:"",password:""};return p.email?fe(p.email)||(G.email="Please enter a valid email."):G.email="Email is required.",p.password||(G.password="Password is required."),w(G),!G.email&&!G.password}function Ne(){const G={name:"",email:"",phone:"",country:"",password:"",confirmPassword:"",tos:"",birthDate:"",gender:"",nationality:"",otherCountries:"",webpage:""};if(b.name?b.name.trim().length<2?G.name=`${U} must be at least 2 characters long.`:/^[\p{L}0-9\s\-'\.]+$/u.test(b.name.trim())||(G.name=`${U} can only contain letters, numbers, spaces, hyphens, apostrophes, and periods.`):G.name=`${U} is required.`,b.email?fe(b.email)||(G.email="Please enter a valid email."):G.email=`${Z} is required.`,!b.phone)G.phone=`${se} is required.`;else{const ae=String(b.phone).replace(/\D/g,"");ae.length<6?G.phone="Please enter a valid phone number.":ae.length>15?G.phone="Phone number is too long.":/^\+?[\d\s\-\(\)]+$/.test(b.phone)||(G.phone="Please enter a valid phone number format.")}if(b.country||(G.country="Country is required."),b.password?b.password.length<8?G.password="Password must be at least 8 characters long.":/^(?=.*[A-Za-z])(?=.*\d)(?=.*[^A-Za-z\d]).+$/.test(b.password)||(G.password="Create a strong password with a mix of letters, numbers and symbols."):G.password="Password is required.",b.confirmPassword?b.password!==b.confirmPassword&&(G.confirmPassword="Passwords do not match."):G.confirmPassword="Please confirm password.",b.tos||(G.tos="You must agree to the Terms and Privacy Policy."),S==="individual"){if(!b.birthDate)G.birthDate="Birth date is required.";else{const ae=new Date(b.birthDate),Me=new Date,he=18,ye=120;if(ae>Me)G.birthDate="Birth date cannot be in the future.";else{const oe=Me.getFullYear()-ae.getFullYear();oe<he?G.birthDate="You must be at least 18 years old.":oe>ye&&(G.birthDate="Please enter a valid birth date.")}}b.gender||(G.gender="Gender is required."),b.nationality||(G.nationality="Nationality is required.")}if(S==="company"){const ae=/^(https?:\/\/)?([\w-]+\.)+[a-zA-Z]{2,}(\/\S*)?$/;b.webpage&&!ae.test(b.webpage.trim())&&(G.webpage="Please enter a valid website address (e.g. google.com)")}return N(G),Object.values(G).every(ae=>!ae)}function Te(G){return ve(this,null,function*(){var ae;if(G.preventDefault(),!le()){ce.error("Please fix the highlighted fields.");return}J(!0);try{const Me=Le.post("/auth/login",{email:p.email,password:p.password}),he=yield ce.promise(Me,{loading:"Signing you in…",success:"Welcome back! 🎉",error:oe=>{var ie,q;return((q=(ie=oe==null?void 0:oe.response)==null?void 0:ie.data)==null?void 0:q.message)||"Login failed. Check your credentials."}},{id:"login"}),ye=(ae=he==null?void 0:he.data)==null?void 0:ae.token;ye&&(localStorage.setItem("auth_token",ye),localStorage.setItem("token",ye),window.location.href="/")}catch(Me){J(!1)}finally{J(!1)}})}const ht=G=>ve(this,null,function*(){try{const ae=new FormData;return ae.append("file",G),(yield Le.post("/profile/uploadLogo",ae,{headers:{"Content-Type":"multipart/form-data"}})).data.url}catch(ae){throw console.error("Error uploading file:",ae),new Error("Failed to upload file")}});function Fe(G){return ve(this,null,function*(){var ae;if(G.preventDefault(),!Ne()){ce.error("Please fix the highlighted fields.");return}J(!0);try{let Me=null;if(b.avatarFile)try{Me=yield ht(b.avatarFile)}catch(q){ce.error("Failed to upload profile picture. Please try again."),J(!1);return}const he={name:b.name,email:b.email,phone:b.phone,countryOfResidence:b.country,password:b.password,accountType:S,avatarUrl:Me,birthDate:b.birthDate,gender:b.gender,nationality:b.nationality,otherCountries:b.otherCountries,webpage:b.webpage},ye=Le.post("/auth/signup",he),oe=yield ce.promise(ye,{loading:"Creating your account…",success:"Account created! 🎉",error:q=>{var Se,$e;return(($e=(Se=q==null?void 0:q.response)==null?void 0:Se.data)==null?void 0:$e.message)||"Sign up failed."}},{id:"signup"}),ie=((ae=oe==null?void 0:oe.data)==null?void 0:ae.email)||he.email;t("/verify-email-sent",{state:{email:ie}})}catch(Me){}finally{J(!1)}})}Cr();const{user:Ve,settings:ut}=Xt(),{pathname:Je}=ys();return n.jsxs(ti,{makePublic:!0,children:[n.jsx(an,{page:"feed"}),(ut==null?void 0:ut.hideMainFeed)&&n.jsx(n.Fragment,{}),Ve&&!(ut!=null&&ut.hideMainFeed)&&!Je.includes("/landing")&&n.jsx(ape,{}),n.jsxs("section",{className:`relative overflow-visible ${Ve!=null&&Ve.id&&!Je.includes("/landing")?"hidden":""}`,children:[n.jsxs("div",{className:"relative bg-brand-600 overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"absolute inset-0 bg-brand-700/20"}),n.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Ccircle cx='40' cy='40' r='3'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})]}),n.jsx("div",{className:"relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-24 md:py-32",children:n.jsxs("div",{className:"grid lg:grid-cols-12 gap-16 items-center",children:[n.jsxs("div",{className:"lg:col-span-7 text-white",children:[n.jsx("div",{className:"flex items-center gap-3 mb-8",children:n.jsx("span",{className:"text-3xl font-bold",children:n.jsx("img",{src:JH,width:110})})}),n.jsx("h1",{className:"text-6xl md:text-7xl font-black leading-[0.9] mb-8",children:n.jsxs("span",{className:"block",children:[n.jsx("label",{className:"text-accent-100",children:"Connect. "})," Collaborate. and Grow."]})}),n.jsxs("p",{className:"text-xl text-white/90 leading-relaxed mb-10 max-w-2xl",children:[n.jsx("strong",{className:"text-white",children:"54Links"})," is where founders, professionals, and teams connect to build meaningful relationships, discover new opportunities, and grow together. Whether you're just starting out or leading an established business, 54Links helps you meet the right people to move forward."]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-12",children:[n.jsx("button",{onClick:()=>s(!0),className:"px-10 py-4 bg-white text-brand-600 font-bold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 text-lg",children:"Join Our Growing Network"}),n.jsx("button",{onClick:()=>t("/people"),className:"px-10 py-4 border-2 border-white/60 text-white font-semibold rounded-xl hover:bg-white/10 hover:border-white transition-all duration-200 text-lg",children:"Explore"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 text-white/90",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 flex-shrink-0 bg-accent-500 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 flex-shrink-0 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M16 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM4 18a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v2H4v-2z"})})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-white",children:"Intelligent Matching System"}),n.jsx("div",{className:"text-sm",children:"AI-powered connections"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 flex-shrink-0 bg-accent-600 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"})})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-white",children:"Job Opportunities"}),n.jsx("div",{className:"text-sm",children:"Discover your next big opportunity or hire top talents"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 flex-shrink-0 bg-accent-700 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M7 4V2C7 1.45 7.45 1 8 1h8c.55 0 1 .45 1 1v2h4c1.1 0 2 .9 2 2v14c0 1.1-.9 2-2 2H3c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h4zM9 2v2h6V2H9z"})})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-white",children:"Business Marketplace"}),n.jsx("div",{className:"text-sm",children:"Buy, sell, and trade"})]})]})]})]}),n.jsx("div",{className:"lg:col-span-5",children:n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl md:scale-110",children:[n.jsx("img",{alt:"Global business networking",className:"w-full object-cover",src:"https://theblackrise.com/wp-content/uploads/2023/11/AdobeStock_257397505-scaled.jpeg"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"})]})})})]})})]}),n.jsx("div",{id:"features",className:"py-24 bg-white",children:n.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-20",children:[n.jsx("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:"How It Works"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Get started in three simple steps and start building meaningful connections."})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-12",children:[n.jsxs("div",{className:"text-center group",children:[n.jsxs("div",{className:"relative mb-8",children:[n.jsx("div",{className:"w-24 h-24 bg-brand-500 rounded-2xl flex items-center justify-center mx-auto shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:n.jsx("span",{className:"text-3xl font-bold text-white",children:"1"})}),n.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-accent-500 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Step 1: Create Your Profile"}),n.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:"Tell us about yourself, what you do, and what you hope to find. Whether you're a founder, freelancer, or professional — your journey starts here."})]}),n.jsxs("div",{className:"text-center group",children:[n.jsxs("div",{className:"relative mb-8",children:[n.jsx("div",{className:"w-24 h-24 bg-accent-500 rounded-2xl flex items-center justify-center mx-auto shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:n.jsx("span",{className:"text-3xl font-bold text-white",children:"2"})}),n.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-brand-500 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M16 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM4 18a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v2H4v-2z"})})})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Get Matched Instantly"}),n.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:"Our AI instantly connects you with people, jobs, and opportunities that fit your goals and interests."})]}),n.jsxs("div",{className:"text-center group",children:[n.jsxs("div",{className:"relative mb-8",children:[n.jsx("div",{className:"w-24 h-24 bg-brand-600 rounded-2xl flex items-center justify-center mx-auto shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:n.jsx("span",{className:"text-3xl font-bold text-white",children:"3"})}),n.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-accent-600 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Connect & Grow"}),n.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:"Chat, collaborate, buy, sell, hire, or partner. 54Links helps you build meaningful relationships that drive real results."})]})]})]})}),n.jsx("div",{className:"py-20 bg-gray-100",children:n.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:["See ",n.jsx("span",{className:"text-brand-600",children:"54Links"})," in Action"]}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"See how simple it is to discover opportunities, connect with professionals, and grow — all in one smart platform."})]}),n.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl border border-gray-200 mx-auto max-w-5xl",children:[n.jsx("img",{src:Tfe,alt:"54Links Platform Interface",className:"w-full h-auto object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8 text-white",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-brand-600 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M16 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM4 18a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v2H4v-2z"})})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xl font-bold",children:"Build Meaningful Business Connections"}),n.jsx("div",{className:"text-white/80 max-md:hidden",children:"Meet professionals, entrepreneurs, and businesses in one trusted and secure space."})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 max-md:hidden",children:[n.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 border border-white/30",children:[n.jsx("div",{className:"font-semibold",children:"Discover Opportunities"}),n.jsx("div",{className:"text-sm text-white/80",children:"Business & Career Growth"})]}),n.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 border border-white/30",children:[n.jsx("div",{className:"font-semibold",children:"Connect Instantly"}),n.jsx("div",{className:"text-sm text-white/80",children:"Meet Like-minded Professionals"})]}),n.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 border border-white/30",children:[n.jsx("div",{className:"font-semibold",children:"Smart. Simple. Effective."}),n.jsx("div",{className:"text-sm text-white/80",children:"Simple. Secure. Powerful connections that work."})]})]})]})]})]})}),n.jsx("div",{className:"py-24 bg-gray-50",children:n.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-20",children:[n.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:["Everything You Need to ",n.jsx("span",{className:"text-brand-600",children:"Succeed"})]}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"From career growth to business partnerships, 54Links connects you with the people, tools, and community to thrive globally."})]}),n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{onClick:()=>t("/people"),className:"group bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 hover:border-brand-200 cursor-pointer",children:[n.jsx("div",{className:"w-16 h-16 bg-brand-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:n.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M16 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM4 18a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v2H4v-2z"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Real Connections"}),n.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Easily connect with the right people. Our smart matching system introduces you to professionals, founders, and business leaders who align with your goals and interests."}),n.jsxs("button",{onClick:()=>t("/people"),className:"flex items-center text-brand-600 font-semibold",children:[n.jsx("span",{children:"Explore Network"}),n.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})]})]}),n.jsxs("div",{onClick:()=>t("/jobs"),className:"group bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 hover:border-accent-200 cursor-pointer",children:[n.jsx("div",{className:"w-16 h-16 bg-accent-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:n.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Explore Top Job Opportunities"}),n.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Find your next role or discover great talent. Explore exclusive opportunities with filters that help you match faster."}),n.jsxs("button",{onClick:()=>t("/jobs"),className:"flex items-center text-accent-600 font-semibold",children:[n.jsx("span",{children:"Find Opportunities"}),n.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})]})]}),n.jsxs("div",{onClick:()=>t("/products"),className:"group bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 hover:border-brand-200 cursor-pointer",children:[n.jsx("div",{className:"w-16 h-16 bg-brand-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:n.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M7 4V2C7 1.45 7.45 1 8 1h8c.55 0 1 .45 1 1v2h4c1.1 0 2 .9 2 2v14c0 1.1-.9 2-2 2H3c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h4zM9 2v2h6V2H9z"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Business Marketplace"}),n.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Buy, sell, or collaborate with trusted businesses. Discover suppliers, support entrepreneurs, and grow your network with confidence."}),n.jsxs("button",{onClick:()=>t("/products"),className:"flex items-center text-brand-600 font-semibold",children:[n.jsx("span",{children:"Explore Marketplace"}),n.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})]})]}),n.jsxs("div",{onClick:()=>t("/events"),className:"group bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 hover:border-accent-200 cursor-pointer",children:[n.jsx("div",{className:"w-16 h-16 bg-accent-600 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:n.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.1 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM5 6v2h14V6H5z"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Events & Communities"}),n.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Join events and communities built for growth. Learn, connect, and lead alongside global professionals and innovators."}),n.jsxs("button",{onClick:()=>t("/events"),className:"flex items-center text-accent-600 font-semibold",children:[n.jsx("span",{children:"Join Events"}),n.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})]})]}),n.jsxs("div",{onClick:()=>t("/tourism"),className:"group bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 hover:border-brand-200 cursor-pointer",children:[n.jsx("div",{className:"w-16 h-16 bg-brand-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:n.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Tourism & Culture"}),n.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Discover the world through business connections. Promote destinations, connect with tourism innovators, and celebrate culture across borders."}),n.jsxs("button",{onClick:()=>t("/tourism"),className:"flex items-center text-brand-600 font-semibold",children:[n.jsx("span",{children:"Explore the World"}),n.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})]})]}),n.jsxs("div",{onClick:()=>t("/funding"),className:"group bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 hover:border-accent-200 cursor-pointer",children:[n.jsx("div",{className:"w-16 h-16 bg-accent-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:n.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Funding & Investment Opportunities"}),n.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Turn your ideas into reality. Find investors, access funding, and grow within a vibrant startup ecosystem."}),n.jsxs("button",{onClick:()=>t("/funding"),className:"flex items-center text-accent-600 font-semibold",children:[n.jsx("span",{children:"Get Funded"}),n.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})]})]})]})]})}),n.jsx("div",{id:"benefits",className:"py-24 bg-white",children:n.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-20",children:[n.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:["Why Professionals Choose ",n.jsx("span",{className:"text-brand-600",children:"54Links"})]}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Join a trusted platform built to help you form real connections and grow faster."})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[n.jsxs("div",{onClick:()=>t("/people"),className:"text-center cursor-pointer hover:transform hover:scale-105 transition-transform",children:[n.jsx("div",{className:"w-20 h-20 bg-brand-500 rounded-2xl flex items-center justify-center mx-auto mb-6",children:n.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Verified Network"}),n.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Every member is verified — helping you connect confidently with real professionals and trusted businesses."})]}),n.jsxs("div",{onClick:()=>t("/people"),className:"text-center cursor-pointer hover:transform hover:scale-105 transition-transform",children:[n.jsx("div",{className:"w-20 h-20 bg-accent-500 rounded-2xl flex items-center justify-center mx-auto mb-6",children:n.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.1 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Smart Matching Technology"}),n.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Our intelligent algorithm connects you with the most relevant people and opportunities."})]}),n.jsxs("div",{onClick:()=>t("/privacy"),className:"text-center cursor-pointer hover:transform hover:scale-105 transition-transform",children:[n.jsx("div",{className:"w-20 h-20 bg-brand-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:n.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Safe and Secure"}),n.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Your information is always protected with top-tier security — and you decide who sees your profile."})]})]})]})}),n.jsx("div",{id:"community",className:"py-20 bg-brand-600",children:n.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Join Our Growing Business Community"}),n.jsx("p",{className:"text-xl text-white/90 max-w-3xl mx-auto",children:"54Links is where ideas grow, partnerships form, and businesses scale."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[n.jsxs("div",{onClick:()=>t("/people"),className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 cursor-pointer hover:bg-white/20 transition-colors",children:[n.jsx("div",{className:"w-12 h-12 bg-accent-500 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M16 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM4 18a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v2H4v-2z"})})}),n.jsx("div",{className:"text-white font-semibold mb-2",children:"Professional Network"}),n.jsx("div",{className:"text-white/80 text-sm",children:"Connect with verified professionals around the world."})]}),n.jsxs("div",{onClick:()=>t("/events"),className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 cursor-pointer hover:bg-white/20 transition-colors",children:[n.jsx("div",{className:"w-12 h-12 bg-accent-700 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.1 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM5 6v2h14V6H5z"})})}),n.jsx("div",{className:"text-white font-semibold mb-2",children:"Business Events"}),n.jsx("div",{className:"text-white/80 text-sm",children:"Exclusive networking opportunities"})]}),n.jsxs("div",{onClick:()=>t("/people"),className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 cursor-pointer hover:bg-white/20 transition-colors",children:[n.jsx("div",{className:"w-12 h-12 bg-accent-600 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),n.jsx("div",{className:"text-white font-semibold mb-2",children:"Intelligent Matching System"}),n.jsx("div",{className:"text-white/80 text-sm",children:"Get connected to the right people — automatically."})]})]})]})}),n.jsx("div",{className:"py-16 bg-gray-50 hidden",children:n.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Ready to Begin?"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Create your free account today and start building connections that make a difference."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[n.jsxs("div",{onClick:()=>t("/signup"),className:"bg-white rounded-xl p-6 shadow-sm border border-brand-100 cursor-pointer hover:shadow-md transition-all",children:[n.jsx("div",{className:"w-12 h-12 bg-brand-500 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("span",{className:"text-white font-bold text-lg",children:"1"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Create Your Profile"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Set up your professional profile in minutes"})]}),n.jsxs("div",{onClick:()=>t("/people"),className:"bg-white rounded-xl p-6 shadow-sm border border-accent-100 cursor-pointer hover:shadow-md transition-all",children:[n.jsx("div",{className:"w-12 h-12 bg-accent-500 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("span",{className:"text-white font-bold text-lg",children:"2"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Discover Connections"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Find relevant professionals and businesses"})]}),n.jsxs("div",{onClick:()=>t("/people"),className:"bg-white rounded-xl p-6 shadow-sm border border-brand-100 cursor-pointer hover:shadow-md transition-all",children:[n.jsx("div",{className:"w-12 h-12 bg-brand-600 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("span",{className:"text-white font-bold text-lg",children:"3"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Grow Your Network"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Build partnerships and accelerate your success"})]})]})]})}),n.jsx("div",{className:"py-16 bg-white",children:n.jsxs("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Ready to Begin?"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Create your free account today and start building connections that make a difference."})]}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("div",{className:"w-full max-w-lg bg-white rounded-xl shadow-xl p-6 md:p-8",children:[n.jsxs("div",{className:"mb-6 grid grid-cols-2 rounded-xl bg-gray-100 p-1 text-sm",children:[n.jsx("button",{onClick:()=>m("login"),className:`text-center rounded-lg py-2 font-medium transition ${g==="login"?"bg-white shadow-soft text-brand-700":"text-gray-600 hover:text-gray-900"}`,children:"Sign In"}),n.jsx("button",{onClick:()=>m("signup"),className:`text-center rounded-lg py-2 font-medium transition ${g==="signup"?"bg-white shadow-soft text-brand-700":"text-gray-600 hover:text-gray-900"}`,children:"Sign Up"})]}),g==="login"?n.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[n.jsx(Pr,{name:"email",label:"Email Address",type:"email",placeholder:"Enter your email",value:p.email,onChange:P,error:y.email,rightIcon:n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M4 6h16v12H4z"}),n.jsx("path",{d:"m22 6-10 7L2 6"})]})}),n.jsx(Pr,{name:"password",label:"Password",type:E?"text":"password",placeholder:"Enter your password",value:p.password,onChange:P,error:y.password,rightIcon:n.jsx("button",{type:"button",onClick:()=>L(G=>!G),"aria-label":E?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:E?n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M3 3l18 18"}),n.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("label",{className:"inline-flex items-center gap-2",children:[n.jsx("input",{name:"remember",type:"checkbox",checked:p.remember,onChange:P,className:"h-4 w-4 rounded border-gray-300 text-brand-500 focus:ring-brand-500"}),n.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),n.jsx("button",{type:"button",onClick:()=>t("/forgot"),className:"text-brand-500 hover:underline",children:"Forgot password?"})]}),n.jsxs("button",{type:"submit",disabled:_,className:"mt-1 w-full rounded-xl bg-brand-600 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[_&&n.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),_?"Signing In...":"Sign In"]}),n.jsxs("div",{className:"relative my-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-200"})}),n.jsx("div",{className:"relative flex justify-center",children:n.jsx("span",{className:"bg-white px-4 text-xs uppercase tracking-wider text-gray-400",children:"or continue with"})})]}),n.jsx(nh,{page:"signin"}),n.jsxs("div",{className:"mt-4 text-center text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Don't have an account?"})," ",n.jsx("button",{type:"button",onClick:()=>m("signup"),className:"text-brand-500 hover:underline font-medium",children:"Sign up"})]})]}):n.jsxs("form",{onSubmit:Fe,className:"",children:[n.jsxs("div",{className:"flex gap-3 mb-4",children:[n.jsxs("button",{type:"button",onClick:()=>I("individual"),className:`flex-1 inline-flex items-center justify-center gap-2 rounded-xl border px-4 py-3 text-sm ${S==="individual"?"border-brand-500 text-brand-700 bg-brand-50":"border-gray-200 text-gray-700"}`,children:[n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5ZM3 22a9 9 0 1 1 18 0Z"})}),"Individual"]}),n.jsxs("button",{type:"button",onClick:()=>I("company"),className:`flex-1 inline-flex items-center justify-center gap-2 rounded-xl border px-4 py-3 text-sm ${S==="company"?"border-brand-500 text-brand-700 bg-brand-50":"border-gray-200 text-gray-700"}`,children:[n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M3 21V3h8v6h10v12H3Z"})}),"Organization"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("div",{className:"md:col-span-2",children:n.jsx(Pr,{label:U,name:"name",placeholder:S==="company"?"54Links Ltd.":"John Doe",value:b.name,onChange:A,error:j.name})}),n.jsx("div",{className:"md:col-span-1",children:n.jsx(Pr,{label:Z,name:"email",type:"email",placeholder:S==="company"?"contact@yourcompany.com":"john@example.com",value:b.email,onChange:A,error:j.email})}),n.jsx("div",{className:"md:col-span-1",children:n.jsx(Pr,{label:se,name:"phone",onWheel:G=>G.currentTarget.blur(),placeholder:"Phone",value:b.phone,onChange:G=>{const{name:ae,value:Me}=G.target,he=Me.replace(/[^+\d\-\(\)]/g,"");if((he.match(/\+/g)||[]).length>1){const oe=he.replace(/\+/g,"");v(ie=>me(ne({},ie),{[ae]:"+"+oe}))}else v(oe=>me(ne({},oe),{[ae]:he}));N(oe=>me(ne({},oe),{[ae]:""}))},error:j.phone})}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(Fn,{label:"Country",options:An,value:b.country,onChange:G=>{v(ae=>me(ne({},ae),{country:G})),N(ae=>me(ne({},ae),{country:""}))},placeholder:"Select your country",error:j.country})}),S==="individual"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"md:col-span-2 space-y-3",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Profile Picture (Optional)"}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-20 h-20 rounded-full border-2 border-gray-200 bg-gray-50 flex items-center justify-center overflow-hidden",children:b.avatarPreview?n.jsx("img",{src:b.avatarPreview,alt:"Profile preview",className:"w-full h-full object-cover"}):n.jsxs("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),b.avatarPreview&&n.jsx("button",{type:"button",onClick:()=>B("avatar",null),className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("input",{type:"file",name:"avatar",accept:"image/*",onChange:G=>{const ae=G.target.files[0];B("avatar",ae)},className:"hidden",id:"avatar-upload"}),n.jsx("label",{htmlFor:"avatar-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-50 text-brand-700 border border-brand-200 rounded-lg cursor-pointer hover:bg-brand-100 transition-colors",children:b.avatarUrl?"Change Picture":"Upload Picture"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b.avatarPreview?"Image selected":"JPG, PNG up to 5MB"})]})]})]}),n.jsxs("div",{className:"md:col-span-1 space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Birth Date"}),n.jsx("input",{type:"date",name:"birthDate",value:b.birthDate,onChange:A,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${j.birthDate?"border-red-400 focus:ring-red-400":"border-gray-200"}`}),j.birthDate&&n.jsx("p",{className:"text-xs text-red-600",children:j.birthDate})]}),n.jsxs("div",{className:"md:col-span-1 space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Gender"}),n.jsxs("select",{name:"gender",value:b.gender,onChange:A,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${j.gender?"border-red-400 focus:ring-red-400":"border-gray-200"}`,children:[n.jsx("option",{value:"",disabled:!0,children:"Select gender"}),n.jsx("option",{value:"male",children:"Male"}),n.jsx("option",{value:"female",children:"Female"})]}),j.gender&&n.jsx("p",{className:"text-xs text-red-600",children:j.gender})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(Fn,{label:"Nationality",options:An,value:b.nationality,onChange:G=>{v(ae=>me(ne({},ae),{nationality:G})),N(ae=>me(ne({},ae),{nationality:""}))},placeholder:"Select your nationality",error:j.nationality})})]}),S==="company"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"md:col-span-2 space-y-3",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Company Logo (Optional)"}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-20 h-20 rounded-lg border-2 border-gray-200 bg-gray-50 flex items-center justify-center overflow-hidden",children:b.avatarPreview?n.jsx("img",{src:b.avatarPreview,alt:"Logo preview",className:"w-full h-full object-contain"}):n.jsxs("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("circle",{cx:"9",cy:"9",r:"2"}),n.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]})}),b.avatarPreview&&n.jsx("button",{type:"button",onClick:()=>B("avatar",null),className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("input",{type:"file",name:"avatar",accept:"image/*",onChange:G=>{const ae=G.target.files[0];B("avatar",ae)},className:"hidden",id:"logo-upload"}),n.jsx("label",{htmlFor:"logo-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-50 text-brand-700 border border-brand-200 rounded-lg cursor-pointer hover:bg-brand-100 transition-colors",children:b.avatarUrl?"Change Logo":"Upload Logo"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b.avatarPreview?"Logo selected":"JPG, PNG up to 5MB"})]})]})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(ope,{value:b.otherCountries,onChange:G=>{v(ae=>me(ne({},ae),{otherCountries:G})),N(ae=>me(ne({},ae),{otherCountries:""}))},error:j.otherCountries,citiesLoading:c,getCitiesForCountry:h})}),n.jsxs("div",{className:"md:col-span-2 space-y-1",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Company Website ",n.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),n.jsx("input",{name:"webpage",placeholder:"https://www.yourcompany.com",value:b.webpage,onChange:A,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${j.webpage?"border-red-400 focus:ring-red-400":"border-gray-200"}`}),j.webpage&&n.jsx("p",{className:"text-xs text-red-600",children:j.webpage})]})]}),n.jsxs("div",{children:[n.jsx(Pr,{label:"Password",name:"password",type:C?"text":"password",placeholder:"Create a strong password",value:b.password,onChange:A,error:j.password,rightIcon:n.jsx("button",{type:"button",onClick:()=>T(G=>!G),"aria-label":C?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:C?n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M3 3l18 18"}),n.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),b.password&&/^(?=.*[A-Za-z])(?=.*\d)(?=.*[^A-Za-z\d]).+$/.test(b.password)?n.jsxs("div",{className:"flex items-center gap-2 mt-2 text-green-600",children:[n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:n.jsx("path",{d:"M20 6L9 17l-5-5"})}),n.jsx("p",{className:"text-xs",children:"Password validated"})]}):j.password?null:n.jsx("p",{className:"text-xs text-gray-500 my-2",children:"Create a strong password with a mix of letters, numbers and symbols."})]}),n.jsx(Pr,{label:"Confirm Password",name:"confirmPassword",type:k?"text":"password",placeholder:"Confirm your password",value:b.confirmPassword,onChange:A,error:j.confirmPassword,rightIcon:n.jsx("button",{type:"button",onClick:()=>M(G=>!G),"aria-label":k?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:k?n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M3 3l18 18"}),n.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),n.jsxs("div",{className:"md:col-span-2 flex items-start gap-3 text-sm",children:[n.jsx("input",{name:"tos",type:"checkbox",checked:b.tos,onChange:A,className:`mt-1 h-4 w-4 rounded border-gray-300 text-brand-600 focus:ring-brand-500 ${j.tos?"ring-2 ring-red-400":""}`}),n.jsxs("p",{className:"text-gray-600",children:["I agree to the"," ",n.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 underline",children:"Terms of Service"})," and"," ",n.jsx("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 underline",children:"Privacy Policy"})]})]}),j.tos&&n.jsx("div",{className:"md:col-span-2 -mt-2",children:n.jsx("p",{className:"text-xs text-red-600",children:j.tos})}),n.jsxs("div",{className:"md:col-span-2 space-y-4",children:[n.jsxs("button",{type:"submit",disabled:_,className:"w-full rounded-xl bg-brand-600 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[_&&n.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),_?"Creating Account…":"Create Account"]}),n.jsx(nh,{page:"signup"})]}),n.jsxs("div",{className:"md:col-span-2 text-center text-sm mt-4",children:[n.jsx("span",{className:"text-gray-600",children:"Already have an account?"})," ",n.jsx("button",{type:"button",onClick:()=>m("login"),className:"text-brand-500 hover:underline font-medium",children:"Sign in"})]})]})]})]})})]})}),n.jsxs("div",{className:"py-24 bg-brand-600 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 opacity-10",children:n.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),n.jsxs("div",{className:"relative mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 text-center",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h2",{className:"text-5xl md:text-6xl font-black text-white mb-6",children:["Ready to Build Your",n.jsx("span",{className:"block text-accent-100",children:"Global Business Network?"})]}),n.jsxs("p",{className:"text-xl text-white/90 mb-12 max-w-4xl mx-auto leading-relaxed",children:["Join our growing community of professionals and entrepreneurs using ",n.jsx("strong",{children:"54Links"})," to grow faster, connect smarter, and build stronger partnerships."]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center mb-12",children:[n.jsxs("button",{onClick:()=>s(!0),className:"group relative px-12 py-5 bg-white text-brand-600 font-bold rounded-2xl shadow-2xl hover:shadow-3xl transform hover:scale-105 transition-all duration-300 text-xl",children:[n.jsxs("span",{className:"relative z-10 flex items-center gap-3",children:["🚀 Start Building Connections",n.jsx("svg",{className:"w-6 h-6 group-hover:translate-x-1 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})]}),n.jsx("div",{className:"absolute inset-0 bg-accent-50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),n.jsx("button",{onClick:()=>t("/people"),className:"px-12 py-5 border-2 border-white/60 text-white font-bold rounded-2xl hover:bg-white/10 hover:border-white transition-all duration-300 text-xl",children:"🌍 Explore the Network"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-white/90",children:[n.jsxs("div",{className:"flex items-center justify-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-accent-500 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-bold text-white",children:"Verified Network"}),n.jsx("div",{className:"text-sm",children:"Trusted connections only"})]})]}),n.jsxs("div",{className:"flex items-center justify-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-accent-600 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-bold text-white",children:"Secure Platform"}),n.jsx("div",{className:"text-sm",children:"Enterprise-grade security"})]})]}),n.jsxs("div",{className:"flex items-center justify-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-accent-700 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M16 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM4 18a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v2H4v-2z"})})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-bold text-white",children:"Global Community"}),n.jsx("div",{className:"text-sm",children:"Connections"})]})]})]})]})]}),n.jsx("div",{className:"py-20 bg-gray-50 border-t border-gray-200",children:n.jsxs("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-brand-500 rounded-xl mb-6",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})})}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Got Questions? We're Here to Help."}),n.jsx("p",{className:"text-lg text-gray-600 mb-10 max-w-2xl mx-auto",children:"Reach out to our team — we're here to help you grow."}),n.jsx("button",{onClick:()=>i(!0),className:"px-10 py-4 bg-brand-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl hover:bg-brand-700 transform hover:scale-105 transition-all duration-200 text-lg",children:"Report / Contact Us"})]})}),n.jsx("footer",{className:"bg-brand-700 text-white py-16",children:n.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-12",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("div",{className:"flex items-center gap-3 mb-6",children:n.jsx("span",{className:"text-2xl font-bold text-white",children:"54Links"})}),n.jsx("p",{className:"text-white/90 mb-6 max-w-md leading-relaxed",children:"A comprehensive business networking platform connecting entrepreneurs, professionals, and businesses. Building stronger networks through meaningful connections."}),n.jsxs("div",{className:"flex gap-4 hidden",children:[n.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-accent-500 transition-colors",children:n.jsx("span",{className:"text-sm",children:"📘"})}),n.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-accent-500 transition-colors",children:n.jsx("span",{className:"text-sm",children:"🐦"})}),n.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-accent-500 transition-colors",children:n.jsx("span",{className:"text-sm",children:"💼"})}),n.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-accent-500 transition-colors",children:n.jsx("span",{className:"text-sm",children:"📧"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-accent-100",children:"Platform"}),n.jsxs("ul",{className:"space-y-3 text-white/80",children:[n.jsx("li",{children:n.jsx("a",{onClick:()=>t("/"),className:"hover:text-accent-200 transition-colors cursor-pointer",children:"Feed"})}),n.jsx("li",{children:n.jsx("a",{onClick:()=>t("/people"),className:"hover:text-accent-200 transition-colors cursor-pointer",children:"People"})}),n.jsx("li",{children:n.jsx("a",{onClick:()=>t("/jobs"),className:"hover:text-accent-200 transition-colors cursor-pointer",children:"Jobs"})}),n.jsx("li",{children:n.jsx("a",{onClick:()=>t("/events"),className:"hover:text-accent-200 transition-colors cursor-pointer",children:"Events"})}),n.jsx("li",{children:n.jsx("a",{onClick:()=>t("/products"),className:"hover:text-accent-200 transition-colors cursor-pointer",children:"Products"})}),n.jsx("li",{children:n.jsx("a",{onClick:()=>t("/services"),className:"hover:text-accent-200 transition-colors cursor-pointer",children:"Services"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-accent-100",children:"Company"}),n.jsxs("ul",{className:"space-y-3 text-white/80",children:[n.jsx("li",{children:n.jsx("a",{onClick:()=>t("/terms"),className:"hover:text-accent-200 transition-colors cursor-pointer",children:"Terms of Service"})}),n.jsx("li",{children:n.jsx("a",{onClick:()=>t("/privacy"),className:"hover:text-accent-200 transition-colors cursor-pointer",children:"Privacy Policy"})})]})]})]}),n.jsx("div",{className:"border-t border-white/20 pt-8",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[n.jsx("div",{className:"text-white/70 text-sm",children:"© 2025 54Links. All rights reserved. Building global business networks together."}),n.jsxs("div",{className:"flex items-center gap-6 text-sm text-white/70",children:[n.jsx("span",{children:"🌍 Global Platform"}),n.jsx("span",{children:"🔒 Secure & Verified"}),n.jsx("span",{children:"🤝 Trusted Connections"})]})]})})]})})]}),n.jsx(sb,{isOpen:r,onClose:()=>s(!1),initialTab:"signup"}),n.jsx(AH,{isOpen:a,onClose:()=>i(!1)}),Y&&K&&n.jsx(tw,{image:K,imageDimensions:W,onCropComplete:z,onCancel:O,config:ipe.avatar,type:"avatar"})]})}function lpe(){return n.jsxs(ti,{children:[n.jsx(an,{}),n.jsxs("div",{className:"flex items-center justify-center h-[100vh] w-full flex-col",children:[n.jsx("h3",{className:"pb-4 text-[25px]",children:"Page not found"}),n.jsx("p",{children:n.jsx(Bn,{to:"/",className:"underline",children:"Home"})})]})]})}function mV(){const{pathname:t}=ys(),r=t==="/login";return n.jsxs("div",{className:"mt-6 grid grid-cols-2 rounded-xl bg-gray-100 p-1 text-sm",children:[n.jsx(Bn,{to:"/login",className:`text-center rounded-lg py-2 font-medium transition ${r?"bg-white shadow-soft text-brand-700":"text-gray-600 hover:text-gray-900"}`,children:"Sign In"}),n.jsx(Bn,{to:"/signup",className:`text-center rounded-lg py-2 font-medium transition ${r?"text-gray-600 hover:text-gray-900":"bg-white shadow-soft text-brand-700"}`,children:"Sign Up"})]})}const cpe="/assets/phone-hero-DC2KSVGI.png";function pV(){const t=qt();return n.jsxs("div",{className:"to-brand-600 from-brand-600 bg-gradient-to-br h-full text-white relative overflow-hidden flex flex-col items-center justify-center p-10",children:[n.jsx("div",{className:"absolute left-4 top-4",children:n.jsx("h1",{onClick:()=>t("/"),className:"hover:underline cursor-pointer text-[20px]",children:n.jsx("img",{src:JH,width:110})})}),n.jsxs("div",{className:"max-w-md text-center mt-16",children:[n.jsx("div",{className:"mx-auto w-[26rem] relative",children:n.jsx("img",{alt:"phone",src:cpe,className:"w-full h-full object-contain drop-shadow-2xl"})}),n.jsxs("h1",{className:"mt-6 text-[2rem] md:text-[2rem] font-bold leading-tight",children:["Connect. Collaborate.",n.jsx("br",{}),"and Grow."]}),n.jsx("p",{className:"mt-8 tracking-wide uppercase text-sm text-white/80",children:"© 2025 54Links"})]})]})}const dpe=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(t||"").toLowerCase());function upe(){qt();const[t,r]=u.useState({email:"",password:"",remember:!1}),[s,a]=u.useState({email:"",password:""}),[i,o]=u.useState(!1),[l,c]=u.useState(!1),[d,f]=u.useState(!1);u.useEffect(()=>{const p=localStorage.getItem("token")||localStorage.getItem("auth_token");f(!!p)},[]);const h=p=>{const{name:x,value:y,type:w,checked:b}=p.target;r(v=>me(ne({},v),{[x]:w==="checkbox"?b:y})),a(v=>me(ne({},v),{[x]:""}))};function g(){const p={email:"",password:""};return t.email?dpe(t.email)||(p.email="Please enter a valid email."):p.email="Email is required.",t.password||(p.password="Password is required."),a(p),!p.email&&!p.password}function m(p){return ve(this,null,function*(){var x;if(p.preventDefault(),!g()){ce.error("Please fix the highlighted fields.");return}o(!0);try{const y=Le.post("/auth/login",{email:t.email,password:t.password}),w=yield ce.promise(y,{loading:"Signing you in…",success:"Welcome back! 🎉",error:v=>{var j,N;return((N=(j=v==null?void 0:v.response)==null?void 0:j.data)==null?void 0:N.message)||"Login failed. Check your credentials."}},{id:"login"}),b=(x=w==null?void 0:w.data)==null?void 0:x.token;b&&(localStorage.setItem("auth_token",b),localStorage.setItem("token",b),f(!0)),window.location.href="/"}catch(y){o(!1)}finally{o(!1)}})}return n.jsxs("div",{className:"min-h-screen grid md:grid-cols-2",children:[n.jsx("div",{className:"hidden md:block",children:n.jsx(pV,{})}),n.jsx("div",{className:"flex items-center justify-center p-6 md:p-10",children:n.jsxs("div",{className:"w-full max-w-md",children:[d?n.jsxs(n.Fragment,{children:[n.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Welcome Back"}),n.jsx("p",{className:"mt-1 text-gray-500",children:"Sign in to continue your professional journey"})]}):n.jsxs(n.Fragment,{children:[n.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:n.jsx("img",{src:ah,width:130,className:"mb-6"})}),n.jsx("p",{className:"mt-1 text-gray-600",children:"Discover, connect, and collaborate across markets."}),n.jsx("p",{className:"mt-1 text-gray-500",children:"Log in to start connecting."})]}),n.jsx(mV,{}),n.jsxs("form",{onSubmit:m,className:"mt-6 space-y-4",children:[n.jsx(Pr,{name:"email",label:"Email Address",type:"email",placeholder:"Enter your email",value:t.email,onChange:h,error:s.email,rightIcon:n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M4 6h16v12H4z"}),n.jsx("path",{d:"m22 6-10 7L2 6"})]})}),n.jsx(Pr,{name:"password",label:"Password",type:l?"text":"password",placeholder:"Enter your password",value:t.password,onChange:h,error:s.password,rightIcon:n.jsx("button",{type:"button",onClick:()=>c(p=>!p),"aria-label":l?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:l?n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M3 3l18 18"}),n.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("label",{className:"inline-flex items-center gap-2",children:[n.jsx("input",{name:"remember",type:"checkbox",checked:t.remember,onChange:h,className:"h-4 w-4 rounded border-gray-300 text-brand-500 focus:ring-brand-500"}),n.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),n.jsx(Bn,{to:"/forgot",className:"text-brand-500 hover:underline",children:"Forgot password?"})]}),n.jsxs("button",{type:"submit",disabled:i,className:"mt-1 w-full rounded-xl bg-gradient-to-r from-brand-600 to-brand-500 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i&&n.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),i?"Signing In...":"Sign In"]}),n.jsxs("div",{className:"relative my-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-200"})}),n.jsx("div",{className:"relative flex justify-center",children:n.jsx("span",{className:"bg-white px-4 text-xs uppercase tracking-wider text-gray-400",children:"or continue with"})})]}),n.jsx(nh,{page:"signin"})]})]})})]})}const fpe=t=>/^[^\s@]+@[^\s@]+\.[a-zA-Z]{2,}$/.test(String(t||"").toLowerCase()),hpe={avatar:{aspect:1,minWidth:100,minHeight:100}},gpe=({value:t,onChange:r,error:s,citiesLoading:a,getCitiesForCountry:i})=>{const[o,l]=u.useState(!1),[c,d]=u.useState(""),[f,h]=u.useState(""),g=()=>{if(c&&f){const x={country:c,city:f};r([...t,x]),d(""),h(""),l(!1)}},m=x=>{const y=t.filter((w,b)=>b!==x);r(y)},p=(x,y)=>{const w=t.map((b,v)=>v===x?me(ne({},b),{city:y}):b);r(w)};return a?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Other Countries of Operations (Branches) ",n.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),n.jsxs("div",{className:"flex items-center justify-center p-4",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-500",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading cities..."})]})]}):n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Other Countries of Operations (Branches) ",n.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),t.length>0&&n.jsx("div",{className:"space-y-2",children:t.map((x,y)=>n.jsxs("div",{className:"flex items-center max-sm:flex-col relative gap-3 p-3 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-sm",children:x.country}),n.jsxs("div",{className:"text-xs text-gray-500",children:["City: ",x.city]})]}),n.jsx(Fn,{options:i(x.country),value:x.city,onChange:w=>p(y,w),placeholder:"Select city",className:"w-48 max-sm:w-full"}),n.jsx("button",{type:"button",onClick:()=>m(y),className:"p-1 text-red-500 hover:text-red-700 max-sm:absolute right-1 top-1",title:"Remove",children:n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]},y))}),o?n.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg bg-blue-50 space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3 max-sm:grid-cols-1",children:[n.jsx(Fn,{options:An,value:c,onChange:d,placeholder:"Select country"}),n.jsx(Fn,{options:c?i(c):[],value:f,onChange:h,placeholder:"Select city",disabled:!c})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{type:"button",onClick:g,disabled:!c||!f,className:"px-3 py-1 bg-brand-600 text-white rounded-lg text-sm hover:bg-brand-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),n.jsx("button",{type:"button",onClick:()=>{l(!1),d(""),h("")},className:"px-3 py-1 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:"Cancel"})]})]}):n.jsxs("button",{type:"button",onClick:()=>l(!0),className:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 5v14M5 12h14"})}),"Add Country & City"]}),s&&n.jsx("p",{className:"text-xs text-red-600",children:s}),n.jsx("p",{className:"text-xs text-gray-500",children:"Select countries where your company has branches or operations (optional)"})]})};function mpe(){const[t,r]=u.useState("individual"),[s,a]=u.useState(!1),i=qt(),[o,l]=u.useState([]),[c,d]=u.useState(!0);u.useEffect(()=>{ve(this,null,function*(){try{const F=yield fetch("/data/cities.json");if(!F.ok)throw new Error("Failed to fetch cities");const P=yield F.json();l(P)}catch(F){console.error("Error fetching cities:",F)}finally{d(!1)}})},[]);const f=u.useMemo(()=>o.slice(0,1e4).map(W=>({value:W.city,label:`${W.city}${W.country?`, ${W.country}`:""}`,country:W.country})),[o]),h=u.useCallback(W=>W?f.filter(F=>{var P;return((P=F.country)==null?void 0:P.toLowerCase())===W.toLowerCase()}):[],[f]),[g,m]=u.useState({name:"",email:"",phone:"",country:"",password:"",confirmPassword:"",tos:!1,avatarUrl:null,avatarPreview:null,birthDate:"",gender:"",nationality:"",otherCountries:[],webpage:""}),[p,x]=u.useState({name:"",email:"",phone:"",country:"",password:"",confirmPassword:"",tos:"",avatarUrl:"",birthDate:"",gender:"",nationality:"",otherCountries:"",webpage:""}),[y,w]=u.useState(!1),[b,v]=u.useState(null),[j,N]=u.useState({width:0,height:0}),[S,I]=u.useState(!1),[E,L]=u.useState(!1),C=W=>{const{name:F,value:P,type:A,checked:B}=W.target;m(z=>me(ne({},z),{[F]:A==="checkbox"?B:P})),x(z=>me(ne({},z),{[F]:""}))},T=(W,F)=>ve(this,null,function*(){if(F){if(F.size>5242880){x(B=>me(ne({},B),{[W]:"File size must be less than 5MB"}));return}if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(F.type)){x(B=>me(ne({},B),{[W]:"Please select a valid image file (JPG, PNG, GIF, WEBP)"}));return}{const B=new FileReader;B.onload=z=>{const O=new Image;O.onload=()=>{N({width:O.width,height:O.height}),v(z.target.result),w(!0)},O.src=z.target.result},B.readAsDataURL(F),m(z=>me(ne({},z),{avatarFile:null,avatarPreview:null}))}x(B=>me(ne({},B),{avatarUrl:""}))}else m(P=>me(ne({},P),{avatarFile:null,avatarPreview:null}))}),k=W=>{const F=W.type||"image/jpeg",P=F==="image/png"?"png":F==="image/webp"?"webp":"jpg",A=`avatar-${Date.now()}.${P}`,B=new File([W],A,{type:F}),z=URL.createObjectURL(W);m(O=>me(ne({},O),{avatarFile:B,avatarPreview:z})),w(!1),v(null),N({width:0,height:0})},M=()=>{w(!1),v(null),N({width:0,height:0})},_=t==="company"?"Organization name":"Name",J=t==="company"?"Organization email":"Email Address",Y=t==="company"?"Organization phone":"Phone Number";function te(){const W={name:"",email:"",phone:"",country:"",password:"",confirmPassword:"",tos:"",birthDate:"",gender:"",nationality:"",otherCountries:"",webpage:""};if(g.name?g.name.trim().length<2?W.name=`${_} must be at least 2 characters long.`:/^[\p{L}0-9\s\-'\.]+$/u.test(g.name.trim())||(W.name=`${_} can only contain letters (including accents), numbers, spaces, hyphens, apostrophes, and periods.`):W.name=`${_} is required.`,g.email?fpe(g.email)||(W.email="Please enter a valid email."):W.email=`${J} is required.`,!g.phone)W.phone=`${Y} is required.`;else{const F=String(g.phone).replace(/\D/g,"");F.length<6?W.phone="Please enter a valid phone number.":F.length>15?W.phone="Phone number is too long.":/^\+?[\d\s\-\(\)]+$/.test(g.phone)||(W.phone="Please enter a valid phone number format.")}if(g.country||(W.country="Country is required."),g.password?g.password.length<8?W.password="Password must be at least 8 characters long.":/^(?=.*[A-Za-z])(?=.*\d)(?=.*[^A-Za-z\d]).+$/.test(g.password)||(W.password="Create a strong password with a mix of letters, numbers and symbols."):W.password="Password is required.",g.confirmPassword?g.password!==g.confirmPassword&&(W.confirmPassword="Passwords do not match."):W.confirmPassword="Please confirm password.",g.tos||(W.tos="You must agree to the Terms and Privacy Policy."),t==="individual"){if(!g.birthDate)W.birthDate="Birth date is required.";else{const F=new Date(g.birthDate),P=new Date,A=18,B=120;if(F>P)W.birthDate="Birth date cannot be in the future.";else{const z=P.getFullYear()-F.getFullYear();z<A?W.birthDate=`You must be at least ${A} years old to sign up.`:z>B&&(W.birthDate="Please enter a valid birth date.")}}g.gender||(W.gender="Gender is required."),g.nationality||(W.nationality="Nationality is required.")}return t==="company"&&g.webpage&&(/^(https?:\/\/)?([\w-]+\.)+[a-zA-Z]{2,}(\/\S*)?$/.test(g.webpage.trim())||(W.webpage="Please enter a valid website address (e.g. google.com)")),x(W),Object.values(W).every(F=>!F)}const K=W=>ve(this,null,function*(){try{const F=new FormData;return F.append("file",W),(yield Le.post("/profile/uploadLogo",F,{headers:{"Content-Type":"multipart/form-data"}})).data.url}catch(F){throw console.error("Error uploading file:",F),new Error("Failed to upload file")}});function X(W){return ve(this,null,function*(){var F;if(W.preventDefault(),!te()){ce.error("Please fix the highlighted fields.");return}a(!0);try{let P=null;if(g.avatarFile)try{P=yield K(g.avatarFile)}catch(U){ce.error("Failed to upload profile picture. Please try again."),a(!1);return}const A={name:g.name,email:g.email,phone:g.phone,countryOfResidence:g.country,password:g.password,accountType:t,avatarUrl:P,birthDate:g.birthDate,gender:g.gender,nationality:g.nationality,otherCountries:g.otherCountries,webpage:g.webpage},B=Le.post("/auth/signup",A),z=yield ce.promise(B,{loading:"Creating your account…",success:"Account created! 🎉",error:U=>{var Z,se;return((se=(Z=U==null?void 0:U.response)==null?void 0:Z.data)==null?void 0:se.message)||"Sign up failed."}},{id:"signup"}),O=((F=z==null?void 0:z.data)==null?void 0:F.email)||A.email;i("/verify-email-sent",{state:{email:O}})}catch(P){}finally{a(!1)}})}return n.jsxs("div",{className:"min-h-screen grid md:grid-cols-2",children:[n.jsx("div",{className:"hidden md:block sticky top-0 h-[100vh]",children:n.jsx(pV,{})}),n.jsx("div",{className:"flex items-center justify-center p-6 md:p-10 overflow-y-auto",children:n.jsxs("div",{className:"w-full max-w-2xl",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 flex items-center gap-x-2 mb-4 mt-5",children:n.jsx("img",{src:ah,width:130})}),n.jsx("p",{className:"mt-1 text-gray-500",children:"Join the global networking community"}),n.jsx("div",{className:"max-w-xs",children:n.jsx(mV,{})}),n.jsxs("div",{className:"mt-6 flex gap-3",children:[n.jsxs("button",{type:"button",onClick:()=>r("individual"),className:`flex-1 inline-flex items-center justify-center gap-2 rounded-xl border px-4 py-3 text-sm ${t==="individual"?"border-brand-500 text-brand-700 bg-brand-50":"border-gray-200 text-gray-700"}`,children:[n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5ZM3 22a9 9 0 1 1 18 0Z"})}),"Individual"]}),n.jsxs("button",{type:"button",onClick:()=>r("company"),className:`flex-1 inline-flex items-center justify-center gap-2 rounded-xl border px-4 py-3 text-sm ${t==="company"?"border-brand-500 text-brand-700 bg-brand-50":"border-gray-200 text-gray-700"}`,children:[n.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M3 21V3h8v6h10v12H3Z"})}),"Organization"]})]}),n.jsxs("form",{onSubmit:X,className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("div",{className:"md:col-span-2",children:n.jsx(Pr,{label:_,name:"name",placeholder:t==="company"?"54Links Ltd.":"John Doe",value:g.name,onChange:C,error:p.name})}),n.jsx("div",{className:"md:col-span-1",children:n.jsx(Pr,{label:J,name:"email",type:"email",placeholder:t==="company"?"contact@yourcompany.com":"john@example.com",value:g.email,onChange:C,error:p.email})}),n.jsx("div",{className:"md:col-span-1",children:n.jsx(Pr,{label:Y,name:"phone",onWheel:W=>W.currentTarget.blur(),placeholder:"Phone",value:g.phone,onChange:W=>{const{name:F,value:P}=W.target,A=P.replace(/[^+\d\-\(\)]/g,"");if((A.match(/\+/g)||[]).length>1){const z=A.replace(/\+/g,"");m(O=>me(ne({},O),{[F]:"+"+z}))}else m(z=>me(ne({},z),{[F]:A}));x(z=>me(ne({},z),{[F]:""}))},error:p.phone})}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(Fn,{label:"Country",options:An,value:g.country,onChange:W=>{m(F=>me(ne({},F),{country:W})),x(F=>me(ne({},F),{country:""}))},placeholder:"Select your country",error:p.country})}),t==="individual"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"md:col-span-2 space-y-3",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Profile Picture (Optional)"}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-20 h-20 rounded-full border-2 border-gray-200 bg-gray-50 flex items-center justify-center overflow-hidden",children:g.avatarPreview?n.jsx("img",{src:g.avatarPreview,alt:"Profile preview",className:"w-full h-full object-cover"}):n.jsxs("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),g.avatarPreview&&n.jsx("button",{type:"button",onClick:()=>T("avatar",null),className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("input",{type:"file",name:"avatar",accept:"image/*",onChange:W=>{const F=W.target.files[0];T("avatar",F)},className:"hidden",id:"avatar-upload"}),n.jsx("label",{htmlFor:"avatar-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-50 text-brand-700 border border-brand-200 rounded-lg cursor-pointer hover:bg-brand-100 transition-colors",children:g.avatarUrl?"Change Picture":"Upload Picture"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.avatarPreview?"Image selected":"JPG, PNG up to 5MB"})]})]})]}),n.jsxs("div",{className:"md:col-span-1 space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Birth Date"}),n.jsx("input",{type:"date",name:"birthDate",value:g.birthDate,onChange:C,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${p.birthDate?"border-red-400 focus:ring-red-400":"border-gray-200"}`}),p.birthDate&&n.jsx("p",{className:"text-xs text-red-600",children:p.birthDate})]}),n.jsxs("div",{className:"md:col-span-1 space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Gender"}),n.jsxs("select",{name:"gender",value:g.gender,onChange:C,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${p.gender?"border-red-400 focus:ring-red-400":"border-gray-200"}`,children:[n.jsx("option",{value:"",disabled:!0,children:"Select gender"}),n.jsx("option",{value:"male",children:"Male"}),n.jsx("option",{value:"female",children:"Female"})]}),p.gender&&n.jsx("p",{className:"text-xs text-red-600",children:p.gender})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(Fn,{label:"Nationality",options:An,value:g.nationality,onChange:W=>{m(F=>me(ne({},F),{nationality:W})),x(F=>me(ne({},F),{nationality:""}))},placeholder:"Select your nationality",error:p.nationality})})]}),t==="company"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"md:col-span-2 space-y-3",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Company Logo (Optional)"}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-20 h-20 rounded-lg border-2 border-gray-200 bg-gray-50 flex items-center justify-center overflow-hidden",children:g.avatarPreview?n.jsx("img",{src:g.avatarPreview,alt:"Logo preview",className:"w-full h-full object-contain"}):n.jsxs("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("circle",{cx:"9",cy:"9",r:"2"}),n.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]})}),g.avatarPreview&&n.jsx("button",{type:"button",onClick:()=>T("avatar",null),className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("input",{type:"file",name:"avatar",accept:"image/*",onChange:W=>{const F=W.target.files[0];T("avatar",F)},className:"hidden",id:"avatar-upload"}),n.jsx("label",{htmlFor:"avatar-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-50 text-brand-700 border border-brand-200 rounded-lg cursor-pointer hover:bg-brand-100 transition-colors",children:g.avatarUrl?"Change Logo":"Upload Logo"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.avatarPreview?"Logo selected":"JPG, PNG up to 5MB"})]})]})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(gpe,{value:g.otherCountries,onChange:W=>{m(F=>me(ne({},F),{otherCountries:W})),x(F=>me(ne({},F),{otherCountries:""}))},error:p.otherCountries,citiesLoading:c,getCitiesForCountry:h})}),n.jsxs("div",{className:"md:col-span-2 space-y-1",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Company Website ",n.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),n.jsx("input",{name:"webpage",placeholder:"https://www.yourcompany.com",value:g.webpage,onChange:C,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 bg-white ${p.webpage?"border-red-400 focus:ring-red-400":"border-gray-200"}`}),p.webpage&&n.jsx("p",{className:"text-xs text-red-600",children:p.webpage})]})]}),n.jsxs("div",{children:[n.jsx(Pr,{label:"Password",name:"password",type:S?"text":"password",placeholder:"Create a strong password",value:g.password,onChange:C,error:p.password,rightIcon:n.jsx("button",{type:"button",onClick:()=>I(W=>!W),"aria-label":S?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:S?n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M3 3l18 18"}),n.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),g.password&&/^(?=.*[A-Za-z])(?=.*\d)(?=.*[^A-Za-z\d]).+$/.test(g.password)?n.jsxs("div",{className:"flex items-center gap-2 mt-2 text-green-600",children:[n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:n.jsx("path",{d:"M20 6L9 17l-5-5"})}),n.jsx("p",{className:"text-xs",children:"Password validated"})]}):p.password?null:n.jsx("p",{className:"text-xs text-gray-500 my-2",children:"Create a strong password with a mix of letters, numbers and symbols."})]}),n.jsx(Pr,{label:"Confirm Password",name:"confirmPassword",type:E?"text":"password",placeholder:"Confirm your password",value:g.confirmPassword,onChange:C,error:p.confirmPassword,rightIcon:n.jsx("button",{type:"button",onClick:()=>L(W=>!W),"aria-label":E?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:E?n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M3 3l18 18"}),n.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),n.jsxs("div",{className:"md:col-span-2 flex items-start gap-3 text-sm",children:[n.jsx("input",{name:"tos",type:"checkbox",checked:g.tos,onChange:C,className:`mt-1 h-4 w-4 rounded border-gray-300 text-brand-600 focus:ring-brand-500 ${p.tos?"ring-2 ring-red-400":""}`}),n.jsxs("p",{className:"text-gray-600",children:["I agree to the"," ",n.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 underline",children:"Terms of Service"})," and"," ",n.jsx("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 underline",children:"Privacy Policy"})]})]}),p.tos&&n.jsx("div",{className:"md:col-span-2 -mt-2",children:n.jsx("p",{className:"text-xs text-red-600",children:p.tos})}),n.jsxs("div",{className:"md:col-span-2 space-y-4",children:[n.jsxs("button",{type:"submit",disabled:s,className:"w-full rounded-xl bg-gradient-to-r from-brand-700 to-brand-500 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s&&n.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),s?"Creating Account…":"Create Account"]}),n.jsx(nh,{page:"signup"})]})]}),y&&b&&n.jsx(tw,{image:b,imageDimensions:j,onCropComplete:k,onCancel:M,config:hpe.avatar,type:"avatar"})]})})]})}function ppe(){const{state:t}=ys(),r=t==null?void 0:t.email;return n.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
      bg-gradient-to-br from-brand-50 via-white to-brand-50\r
      sm:px-6 md:px-8`,children:n.jsxs("div",{className:"w-full max-w-xl",children:[n.jsxs("div",{className:`rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5\r
            backdrop-blur p-6 sm:p-8 md:p-10`,children:[n.jsx("div",{className:`mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center\r
              rounded-full bg-brand-100 text-brand-600`,children:n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),n.jsx("path",{d:"m22 4-12 12-3-3"})]})}),n.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Email Sent!"}),n.jsxs("p",{className:"mt-3 text-center text-base sm:text-lg text-slate-600",children:["We’ve sent a verification link to"," ",r?n.jsx("b",{children:r}):"your email","."]}),n.jsx("p",{className:"mt-2 text-center text-base text-slate-600",children:"Please verify your email to finish setting up your account."}),n.jsx("p",{className:"mt-2 text-center text-sm sm:text-base text-slate-500",children:"If you don’t see it, check your spam or promotions folder."}),n.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-3",children:[n.jsx(Bn,{to:"/login",className:`inline-flex items-center justify-center rounded-xl border border-gray-200 bg-white px-5 py-3\r
                         text-sm font-medium text-gray-700 hover:bg-gray-50 w-full sm:w-auto`,children:"Back to Sign In"}),n.jsx(Bn,{to:"/signup",className:`inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-brand-700 to-brand-500\r
                         px-5 py-3 text-sm font-semibold text-white shadow-soft hover:opacity-95 w-full sm:w-auto`,children:"Create another account"})]})]}),n.jsx("p",{className:"mt-6 text-center text-xs text-gray-500",children:"Didn’t receive the email? Wait a minute and try resending from the app."})]})})}function xpe(){const{token:t}=Ds(),r=qt(),[s,a]=u.useState("verifying"),[i,o]=u.useState("");return u.useEffect(()=>{function l(){return ve(this,null,function*(){try{const c=Le.get(`/auth/verify/${t}`);yield ce.promise(c,{loading:"Verifying your email…",success:"Email verified!",error:"Verification failed."},{id:"verify"}),a("success"),o("Your email has been successfully verified. You can now sign in and start using your account.")}catch(c){a("error"),o("This verification link is no longer valid—it may have expired or already been used. Please request a new link and try again. If you’ve already verified, you can sign in.")}})}t&&l()},[t,r]),n.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
                 bg-gradient-to-br from-brand-50 via-white to-brand-50\r
                 sm:px-6 md:px-8`,children:n.jsx("div",{className:"w-full max-w-xl",children:n.jsxs("div",{className:`rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5\r
                     backdrop-blur p-6 sm:p-8 md:p-10`,children:[n.jsxs("div",{className:`mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full
              ${s==="success"?"bg-brand-100 text-brand-600":s==="error"?"bg-red-100 text-red-600":"bg-brand-100 text-brand-600"}`,children:[s==="verifying"&&n.jsxs("svg",{className:"h-7 w-7 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),s==="success"&&n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),n.jsx("path",{d:"m22 4-12 12-3-3"})]}),s==="error"&&n.jsx("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})]}),n.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold text-slate-900",children:s==="success"?"Verified!":s==="error"?"We couldn’t verify your email":"Verifying…"}),n.jsx("p",{className:"mt-3 text-center text-base sm:text-lg text-slate-600",children:i||(s==="verifying"?"Hold on while we validate your token.":"")}),s==="error"&&n.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-3",children:[n.jsx(Bn,{to:"/login",className:`inline-flex items-center justify-center rounded-xl border border-gray-200 bg-white px-5 py-3\r
                           text-sm font-medium text-gray-700 hover:bg-gray-50 w-full sm:w-auto`,children:"Back to Sign In"}),n.jsx(Bn,{to:"/signup",className:`inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-brand-700 to-brand-500\r
                           px-5 py-3 text-sm font-semibold text-white shadow-soft hover:opacity-95 w-full sm:w-auto`,children:"Create account"})]}),s==="success"&&n.jsx("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-3",children:n.jsx(Bn,{to:"/login",className:`inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-brand-700 to-brand-500\r
                           px-5 py-3 text-sm font-semibold text-white shadow-soft hover:opacity-95 w-full sm:w-auto`,children:"Sign in to Start"})})]})})})}const vpe=t=>Le.post("/auth/delete-account",t),ype=t=>Le.post(`/auth/delete-account/${t}`),bpe=5e3;function wpe(){const{token:t}=Ds(),r=qt(),{logout:s}=Xt(),[a,i]=u.useState("deleting"),[o,l]=u.useState("");return u.useEffect(()=>{function c(){return ve(this,null,function*(){try{yield ce.promise(ype(t),{loading:"Deleting your account…",success:"Account deleted successfully",error:"Account deletion failed."},{id:"delete-account"}),i("success"),l("Your account has been permanently deleted. Thank you for using our platform."),setTimeout(()=>{s(),r("/")},bpe)}catch(d){i("error"),l("This deletion link is no longer valid—it may have expired or already been used. If you still want to delete your account, please request a new deletion email from your settings.")}})}t&&c()},[t,r,s]),n.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
                 bg-gradient-to-br from-red-50 via-white to-red-50\r
                 sm:px-6 md:px-8`,children:n.jsx("div",{className:"w-full max-w-xl",children:n.jsxs("div",{className:`rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5\r
                     backdrop-blur p-6 sm:p-8 md:p-10`,children:[n.jsxs("div",{className:`mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full
              ${a==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:[a==="deleting"&&n.jsxs("svg",{className:"h-7 w-7 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),a==="success"&&n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),n.jsx("path",{d:"m22 4-12 12-3-3"})]}),a==="error"&&n.jsx("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})]}),n.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold text-slate-900",children:a==="success"?"Account Deleted":a==="error"?"We couldn't delete your account":"Deleting Account…"}),n.jsx("p",{className:"mt-3 text-center text-base sm:text-lg text-slate-600",children:o||(a==="deleting"?"Please wait while we permanently delete your account and all associated data.":"")}),a==="error"&&n.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-3",children:[n.jsx(Bn,{to:"/settings",className:`inline-flex items-center justify-center rounded-xl border border-gray-200 bg-white px-5 py-3\r
                           text-sm font-medium text-gray-700 hover:bg-gray-50 w-full sm:w-auto`,children:"Back to Settings"}),n.jsx(Bn,{to:"/",className:`inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-brand-700 to-brand-500\r
                           px-5 py-3 text-sm font-semibold text-white shadow-soft hover:opacity-95 w-full sm:w-auto`,children:"Go to Home"})]}),a==="success"&&n.jsx("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-3",children:n.jsx(Bn,{to:"/",className:`inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-brand-700 to-brand-500\r
                           px-5 py-3 text-sm font-semibold text-white shadow-soft hover:opacity-95 w-full sm:w-auto`,children:"Go to Home"})})]})})})}const TO=t=>/^[^\s@]+@[^\s@]+\.[a-zA-Z]{2,}$/.test(String(t||"").toLowerCase());function jpe(){const t=qt(),[r,s]=u.useState(""),[a,i]=u.useState(""),[o,l]=u.useState(!1);function c(){return r?TO(r)?(i(""),!0):(i("Please enter a valid email."),!1):(i("Email is required."),!1)}function d(f){return ve(this,null,function*(){if(f.preventDefault(),!c())if(!r)ce.error("Email is required.");else if(!TO(r))ce.error("Please enter a valid email.");else{ce.error("Please fix the highlighted fields.");return}l(!0);try{const h=Le.post("/auth/forgot-password",{email:r});yield ce.promise(h,{loading:"Sending reset link…",success:"Reset link sent! Check your inbox.",error:g=>{var m,p;return((p=(m=g==null?void 0:g.response)==null?void 0:m.data)==null?void 0:p.message)||"Failed to send reset email."}},{id:"forgot"}),t("/reset-email-sent",{state:{email:r}})}finally{l(!1)}})}return n.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
      bg-[conic-gradient(at_10%_-10%,#FDF2FF_0%,#FFF7ED_30%,#FFFFFF_60%)] sm:px-6 md:px-8`,children:n.jsxs("div",{className:"w-full max-w-md rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5 backdrop-blur p-6 sm:p-8 md:p-10",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-slate-900 text-center",children:"Forgot your password?"}),n.jsx("p",{className:"mt-3 text-center text-slate-600",children:"Enter your email and we’ll send you a reset link."}),n.jsxs("form",{onSubmit:d,className:"mt-6 space-y-4",children:[n.jsx(Pr,{label:"Email Address",name:"email",type:"email",placeholder:"you@example.com",value:r,onChange:f=>s(f.target.value),error:a}),n.jsxs("button",{type:"submit",disabled:o,className:"w-full rounded-xl bg-gradient-to-r from-brand-700 to-brand-500 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[o&&n.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),o?"Sending…":"Send reset link"]})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx(Bn,{to:"/login",className:"text-brand-700 hover:underline",children:"Back to Sign in"})})]})})}function Npe(){const{state:t}=ys(),r=t==null?void 0:t.email;return n.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
      bg-gradient-to-br from-brand-50 via-white to-brand-50 sm:px-6 md:px-8`,children:n.jsxs("div",{className:"w-full max-w-xl rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5 backdrop-blur p-6 sm:p-8 md:p-10 text-center",children:[n.jsx("div",{className:"mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full bg-brand-100 text-brand-600",children:n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),n.jsx("path",{d:"m22 4-12 12-3-3"})]})}),n.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Reset Email Sent!"}),n.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-600",children:["We sent a password reset link to ",r?n.jsx("b",{children:r}):"your email","."]}),n.jsx("p",{className:"mt-2 text-sm sm:text-base text-slate-500",children:"If you don’t see it, check your spam folder."}),n.jsx("div",{className:"mt-8",children:n.jsx(Bn,{to:"/login",className:"text-brand-700 hover:underline",children:"Back to Sign in"})})]})})}function Spe(){const{token:t}=Ds(),r=qt(),[s,a]=u.useState(""),[i,o]=u.useState(""),[l,c]=u.useState({password:"",confirm:""}),[d,f]=u.useState(!1),[h,g]=u.useState(!1),[m,p]=u.useState(!1);function x(){const w={password:"",confirm:""};return s?s.length<6?w.password="Use at least 6 characters.":/^(?=.*[A-Za-z])(?=.*\d)(?=.*[^A-Za-z\d]).+$/.test(s)||(w.password="Create a strong password with a mix of letters, numbers and symbols."):w.password="Password is required.",i?s!==i&&(w.confirm="Passwords do not match."):w.confirm="Please confirm your password.",c(w),!w.password&&!w.confirm}function y(w){return ve(this,null,function*(){if(w.preventDefault(),!x()){ce.error("Please fix the highlighted fields.");return}f(!0);try{const b=Le.post("/auth/reset-password",{token:t,password:s});yield ce.promise(b,{loading:"Updating password…",success:"Password updated. You can sign in now.",error:"Reset failed."},{id:"reset"}),r("/reset-success")}finally{f(!1)}})}return n.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
      bg-gradient-to-br from-brand-50 via-white to-brand-50 sm:px-6 md:px-8`,children:n.jsxs("div",{className:"w-full max-w-md rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5 backdrop-blur p-6 sm:p-8 md:p-10",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-slate-900 text-center",children:"Create a new password"}),n.jsxs("form",{onSubmit:y,className:"mt-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx(Pr,{label:"New password",type:h?"text":"password",name:"password",value:s,onChange:w=>a(w.target.value),placeholder:"Enter a strong password",error:l.password,rightIcon:n.jsx("button",{type:"button",onClick:()=>g(w=>!w),"aria-label":h?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:h?n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M3 3l18 18"}),n.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),!l.password&&n.jsx("p",{className:"text-xs text-gray-500 my-2",children:"Create a strong password with a mix of letters, numbers and symbols."})]}),n.jsx(Pr,{label:"Confirm password",type:m?"text":"password",name:"confirm",value:i,onChange:w=>o(w.target.value),placeholder:"Re-enter your password",error:l.confirm,rightIcon:n.jsx("button",{type:"button",onClick:()=>p(w=>!w),"aria-label":m?"Hide password":"Show password",className:"p-1 text-gray-500 hover:text-gray-700",children:m?n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M3 3l18 18"}),n.jsx("path",{d:"M10.6 10.6A2 2 0 0 0 12 14a2 2 0 0 0 1.4-.6M9.9 5.1A9.8 9.8 0 0 1 12 5c5 0 9.3 3.1 11 7-0.5 1.3-1.2 2.5-2.2 3.6M6.7 6.7C4.7 7.8 3.1 9.3 2 12c1.1 2.7 3.1 4.6 5.5 5.8A11.9 11.9 0 0 0 12 19c.7 0 1.4-.1 2-.2"})]}):n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[n.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12Z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),n.jsxs("button",{type:"submit",disabled:d,className:"w-full rounded-xl bg-gradient-to-r from-brand-700 to-brand-500 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d&&n.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),d?"Saving…":"Reset password"]})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx(Bn,{to:"/login",className:"text-brand-700 hover:underline",children:"Back to Sign in"})})]})})}function Cpe(){return n.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
      bg-[conic-gradient(at_10%_-10%,#FDF2FF_0%,#FFF7ED_30%,#FFFFFF_60%)] sm:px-6 md:px-8`,children:n.jsxs("div",{className:"w-full max-w-xl rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5 backdrop-blur p-6 sm:p-8 md:p-10 text-center",children:[n.jsx("div",{className:"mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full bg-green-100 text-green-600",children:n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),n.jsx("path",{d:"m22 4-12 12-3-3"})]})}),n.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Password reset successfully"}),n.jsx("p",{className:"mt-3 text-base sm:text-lg text-slate-600",children:"Your password has been updated. You can now sign in with your new password."}),n.jsx("div",{className:"mt-8 flex justify-center",children:n.jsx(Bn,{to:"/login",className:`inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-brand-700 to-brand-500\r
                       px-6 py-3 text-sm font-semibold text-white shadow-soft hover:opacity-95`,children:"Go to Sign In"})})]})})}const kpe=()=>Le.get("/profile/me"),xV=t=>Le.put("/profile/personal",t),Epe=t=>Le.put("/profile/professional",t),Lpe=t=>Le.put("/profile/portfolio",t),Mpe=()=>Le.get("/public/identities?type=all"),Ipe=t=>Le.put("/profile/do-selections",t),Tpe=t=>Le.put("/profile/interest-selections",t),Ape=t=>Le.put("/profile/industry-selections",t),AO=()=>Le.get("/profile/work-samples"),_pe=t=>Le.post("/profile/work-samples",t),Ope=(t,r)=>Le.put(`/profile/work-samples/${t}`,r),$pe=t=>Le.delete(`/profile/work-samples/${t}`),Ppe=()=>Le.get("/profile/gallery"),Dpe=t=>qu.post("/profile/gallery",t),Rpe=(t,r)=>qu.put(`/profile/gallery/${t}`,r),Fpe=t=>Le.delete(`/profile/gallery/${t}`),Bpe=t=>Le.put("/profile/availability",t),H4=t=>t instanceof FormData?qu.put("/profile/avatar",t):Le.put("/profile/avatar",t),V4=t=>t instanceof FormData?qu.put("/profile/cover-image",t):Le.put("/profile/cover-image",t);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var mb={};mb.version="0.18.5";var vV=1252,zpe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],yV=function(t){zpe.indexOf(t)!=-1&&(vV=t)};function Upe(){yV(1252)}var jp=function(t){yV(t)};function Wpe(){jp(1200),Upe()}var Ev=function(r){return String.fromCharCode(r)},_O=function(r){return String.fromCharCode(r)},cu,Jc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Np(t){for(var r="",s=0,a=0,i=0,o=0,l=0,c=0,d=0,f=0;f<t.length;)s=t.charCodeAt(f++),o=s>>2,a=t.charCodeAt(f++),l=(s&3)<<4|a>>4,i=t.charCodeAt(f++),c=(a&15)<<2|i>>6,d=i&63,isNaN(a)?c=d=64:isNaN(i)&&(d=64),r+=Jc.charAt(o)+Jc.charAt(l)+Jc.charAt(c)+Jc.charAt(d);return r}function Wl(t){var r="",s=0,a=0,i=0,o=0,l=0,c=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)o=Jc.indexOf(t.charAt(f++)),l=Jc.indexOf(t.charAt(f++)),s=o<<2|l>>4,r+=String.fromCharCode(s),c=Jc.indexOf(t.charAt(f++)),a=(l&15)<<4|c>>2,c!==64&&(r+=String.fromCharCode(a)),d=Jc.indexOf(t.charAt(f++)),i=(c&3)<<6|d,d!==64&&(r+=String.fromCharCode(i));return r}var Hr=function(){return typeof Buffer!="undefined"&&typeof process!="undefined"&&typeof process.versions!="undefined"&&!!process.versions.node}(),lc=function(){if(typeof Buffer!="undefined"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch(r){t=!0}return t?function(r,s){return s?new Buffer(r,s):new Buffer(r)}:Buffer.from.bind(Buffer)}return function(){}}();function Fu(t){return Hr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array!="undefined"?new Uint8Array(t):new Array(t)}function OO(t){return Hr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array!="undefined"?new Uint8Array(t):new Array(t)}var Mo=function(r){return Hr?lc(r,"binary"):r.split("").map(function(s){return s.charCodeAt(0)&255})};function hw(t){if(typeof ArrayBuffer=="undefined")return Mo(t);for(var r=new ArrayBuffer(t.length),s=new Uint8Array(r),a=0;a!=t.length;++a)s[a]=t.charCodeAt(a)&255;return r}function ax(t){if(Array.isArray(t))return t.map(function(a){return String.fromCharCode(a)}).join("");for(var r=[],s=0;s<t.length;++s)r[s]=String.fromCharCode(t[s]);return r.join("")}function Hpe(t){if(typeof Uint8Array=="undefined")throw new Error("Unsupported");return new Uint8Array(t)}var Ms=Hr?function(t){return Buffer.concat(t.map(function(r){return Buffer.isBuffer(r)?r:lc(r)}))}:function(t){if(typeof Uint8Array!="undefined"){var r=0,s=0;for(r=0;r<t.length;++r)s+=t[r].length;var a=new Uint8Array(s),i=0;for(r=0,s=0;r<t.length;s+=i,++r)if(i=t[r].length,t[r]instanceof Uint8Array)a.set(t[r],s);else{if(typeof t[r]=="string")throw"wtf";a.set(new Uint8Array(t[r]),s)}return a}return[].concat.apply([],t.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function Vpe(t){for(var r=[],s=0,a=t.length+250,i=Fu(t.length+255),o=0;o<t.length;++o){var l=t.charCodeAt(o);if(l<128)i[s++]=l;else if(l<2048)i[s++]=192|l>>6&31,i[s++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=t.charCodeAt(++o)&1023;i[s++]=240|l>>8&7,i[s++]=128|l>>2&63,i[s++]=128|c>>6&15|(l&3)<<4,i[s++]=128|c&63}else i[s++]=224|l>>12&15,i[s++]=128|l>>6&63,i[s++]=128|l&63;s>a&&(r.push(i.slice(0,s)),s=0,i=Fu(65535),a=65530)}return r.push(i.slice(0,s)),Ms(r)}var Im=/\u0000/g,Lv=/[\u0001-\u0006]/g;function $0(t){for(var r="",s=t.length-1;s>=0;)r+=t.charAt(s--);return r}function Ao(t,r){var s=""+t;return s.length>=r?s:Tn("0",r-s.length)+s}function rL(t,r){var s=""+t;return s.length>=r?s:Tn(" ",r-s.length)+s}function pb(t,r){var s=""+t;return s.length>=r?s:s+Tn(" ",r-s.length)}function Gpe(t,r){var s=""+Math.round(t);return s.length>=r?s:Tn("0",r-s.length)+s}function qpe(t,r){var s=""+t;return s.length>=r?s:Tn("0",r-s.length)+s}var $O=Math.pow(2,32);function _f(t,r){if(t>$O||t<-$O)return Gpe(t,r);var s=Math.round(t);return qpe(s,r)}function xb(t,r){return r=r||0,t.length>=7+r&&(t.charCodeAt(r)|32)===103&&(t.charCodeAt(r+1)|32)===101&&(t.charCodeAt(r+2)|32)===110&&(t.charCodeAt(r+3)|32)===101&&(t.charCodeAt(r+4)|32)===114&&(t.charCodeAt(r+5)|32)===97&&(t.charCodeAt(r+6)|32)===108}var PO=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],G4=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Ype(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var _n={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},DO={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Jpe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function vb(t,r,s){for(var a=t<0?-1:1,i=t*a,o=0,l=1,c=0,d=1,f=0,h=0,g=Math.floor(i);f<r&&(g=Math.floor(i),c=g*l+o,h=g*f+d,!(i-g<5e-8));)i=1/(i-g),o=l,l=c,d=f,f=h;if(h>r&&(f>r?(h=d,c=o):(h=f,c=l)),!s)return[0,a*c,h];var m=Math.floor(a*c/h);return[m,a*c-m*h,h]}function Mv(t,r,s){if(t>2958465||t<0)return null;var a=t|0,i=Math.floor(86400*(t-a)),o=0,l=[],c={D:a,T:i,u:86400*(t-a)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),r&&r.date1904&&(a+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++a,++c.D)),a===60)l=s?[1317,10,29]:[1900,2,29],o=3;else if(a===0)l=s?[1317,8,29]:[1900,1,0],o=6;else{a>60&&--a;var d=new Date(1900,0,1);d.setDate(d.getDate()+a-1),l=[d.getFullYear(),d.getMonth()+1,d.getDate()],o=d.getDay(),a<60&&(o=(o+6)%7),s&&(o=rxe(d,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=o,c}var bV=new Date(1899,11,31,0,0,0),Zpe=bV.getTime(),Qpe=new Date(1900,2,1,0,0,0);function wV(t,r){var s=t.getTime();return r?s-=1461*24*60*60*1e3:t>=Qpe&&(s+=24*60*60*1e3),(s-(Zpe+(t.getTimezoneOffset()-bV.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function nL(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Kpe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Xpe(t){var r=t<0?12:11,s=nL(t.toFixed(12));return s.length<=r||(s=t.toPrecision(10),s.length<=r)?s:t.toExponential(5)}function exe(t){var r=nL(t.toFixed(11));return r.length>(t<0?12:11)||r==="0"||r==="-0"?t.toPrecision(6):r}function txe(t){var r=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),s;return r>=-4&&r<=-1?s=t.toPrecision(10+r):Math.abs(r)<=9?s=Xpe(t):r===10?s=t.toFixed(10).substr(0,12):s=exe(t),nL(Kpe(s.toUpperCase()))}function KC(t,r){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):txe(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return vd(14,wV(t,r&&r.date1904),r)}throw new Error("unsupported value in General format: "+t)}function rxe(t,r){r[0]-=581;var s=t.getDay();return t<60&&(s=(s+6)%7),s}function nxe(t,r,s,a){var i="",o=0,l=0,c=s.y,d,f=0;switch(t){case 98:c=s.y+543;case 121:switch(r.length){case 1:case 2:d=c%100,f=2;break;default:d=c%1e4,f=4;break}break;case 109:switch(r.length){case 1:case 2:d=s.m,f=r.length;break;case 3:return G4[s.m-1][1];case 5:return G4[s.m-1][0];default:return G4[s.m-1][2]}break;case 100:switch(r.length){case 1:case 2:d=s.d,f=r.length;break;case 3:return PO[s.q][0];default:return PO[s.q][1]}break;case 104:switch(r.length){case 1:case 2:d=1+(s.H+11)%12,f=r.length;break;default:throw"bad hour format: "+r}break;case 72:switch(r.length){case 1:case 2:d=s.H,f=r.length;break;default:throw"bad hour format: "+r}break;case 77:switch(r.length){case 1:case 2:d=s.M,f=r.length;break;default:throw"bad minute format: "+r}break;case 115:if(r!="s"&&r!="ss"&&r!=".0"&&r!=".00"&&r!=".000")throw"bad second format: "+r;return s.u===0&&(r=="s"||r=="ss")?Ao(s.S,r.length):(a>=2?l=a===3?1e3:100:l=a===1?10:1,o=Math.round(l*(s.S+s.u)),o>=60*l&&(o=0),r==="s"?o===0?"0":""+o/l:(i=Ao(o,2+a),r==="ss"?i.substr(0,2):"."+i.substr(2,r.length-1)));case 90:switch(r){case"[h]":case"[hh]":d=s.D*24+s.H;break;case"[m]":case"[mm]":d=(s.D*24+s.H)*60+s.M;break;case"[s]":case"[ss]":d=((s.D*24+s.H)*60+s.M)*60+Math.round(s.S+s.u);break;default:throw"bad abstime format: "+r}f=r.length===3?1:2;break;case 101:d=c,f=1;break}var h=f>0?Ao(d,f):"";return h}function Zc(t){var r=3;if(t.length<=r)return t;for(var s=t.length%r,a=t.substr(0,s);s!=t.length;s+=r)a+=(a.length>0?",":"")+t.substr(s,r);return a}var jV=/%/g;function sxe(t,r,s){var a=r.replace(jV,""),i=r.length-a.length;return $l(t,a,s*Math.pow(10,2*i))+Tn("%",i)}function axe(t,r,s){for(var a=r.length-1;r.charCodeAt(a-1)===44;)--a;return $l(t,r.substr(0,a),s/Math.pow(10,3*(r.length-a)))}function NV(t,r){var s,a=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+NV(t,-r);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var o=Math.floor(Math.log(r)*Math.LOG10E)%i;if(o<0&&(o+=i),s=(r/Math.pow(10,o)).toPrecision(a+1+(i+o)%i),s.indexOf("e")===-1){var l=Math.floor(Math.log(r)*Math.LOG10E);for(s.indexOf(".")===-1?s=s.charAt(0)+"."+s.substr(1)+"E+"+(l-s.length+o):s+="E+"+(l-o);s.substr(0,2)==="0.";)s=s.charAt(0)+s.substr(2,i)+"."+s.substr(2+i),s=s.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");s=s.replace(/\+-/,"-")}s=s.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,f,h){return d+f+h.substr(0,(i+o)%i)+"."+h.substr(o)+"E"})}else s=r.toExponential(a);return t.match(/E\+00$/)&&s.match(/e[+-]\d$/)&&(s=s.substr(0,s.length-1)+"0"+s.charAt(s.length-1)),t.match(/E\-/)&&s.match(/e\+/)&&(s=s.replace(/e\+/,"e")),s.replace("e","E")}var SV=/# (\?+)( ?)\/( ?)(\d+)/;function ixe(t,r,s){var a=parseInt(t[4],10),i=Math.round(r*a),o=Math.floor(i/a),l=i-o*a,c=a;return s+(o===0?"":""+o)+" "+(l===0?Tn(" ",t[1].length+1+t[4].length):rL(l,t[1].length)+t[2]+"/"+t[3]+Ao(c,t[4].length))}function oxe(t,r,s){return s+(r===0?"":""+r)+Tn(" ",t[1].length+2+t[4].length)}var CV=/^#*0*\.([0#]+)/,kV=/\).*[0#]/,EV=/\(###\) ###\\?-####/;function Sa(t){for(var r="",s,a=0;a!=t.length;++a)switch(s=t.charCodeAt(a)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(s)}return r}function RO(t,r){var s=Math.pow(10,r);return""+Math.round(t*s)/s}function FO(t,r){var s=t-Math.floor(t),a=Math.pow(10,r);return r<(""+Math.round(s*a)).length?0:Math.round(s*a)}function lxe(t,r){return r<(""+Math.round((t-Math.floor(t))*Math.pow(10,r))).length?1:0}function cxe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function zi(t,r,s){if(t.charCodeAt(0)===40&&!r.match(kV)){var a=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return s>=0?zi("n",a,s):"("+zi("n",a,-s)+")"}if(r.charCodeAt(r.length-1)===44)return axe(t,r,s);if(r.indexOf("%")!==-1)return sxe(t,r,s);if(r.indexOf("E")!==-1)return NV(r,s);if(r.charCodeAt(0)===36)return"$"+zi(t,r.substr(r.charAt(1)==" "?2:1),s);var i,o,l,c,d=Math.abs(s),f=s<0?"-":"";if(r.match(/^00+$/))return f+_f(d,r.length);if(r.match(/^[#?]+$/))return i=_f(s,0),i==="0"&&(i=""),i.length>r.length?i:Sa(r.substr(0,r.length-i.length))+i;if(o=r.match(SV))return ixe(o,d,f);if(r.match(/^#+0+$/))return f+_f(d,r.length-r.indexOf("0"));if(o=r.match(CV))return i=RO(s,o[1].length).replace(/^([^\.]+)$/,"$1."+Sa(o[1])).replace(/\.$/,"."+Sa(o[1])).replace(/\.(\d*)$/,function(x,y){return"."+y+Tn("0",Sa(o[1]).length-y.length)}),r.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),o=r.match(/^(0*)\.(#*)$/))return f+RO(d,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=r.match(/^#{1,3},##0(\.?)$/))return f+Zc(_f(d,0));if(o=r.match(/^#,##0\.([#0]*0)$/))return s<0?"-"+zi(t,r,-s):Zc(""+(Math.floor(s)+lxe(s,o[1].length)))+"."+Ao(FO(s,o[1].length),o[1].length);if(o=r.match(/^#,#*,#0/))return zi(t,r.replace(/^#,#*,/,""),s);if(o=r.match(/^([0#]+)(\\?-([0#]+))+$/))return i=$0(zi(t,r.replace(/[\\-]/g,""),s)),l=0,$0($0(r.replace(/\\/g,"")).replace(/[0#]/g,function(x){return l<i.length?i.charAt(l++):x==="0"?"0":""}));if(r.match(EV))return i=zi(t,"##########",s),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(o=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),c=vb(d,Math.pow(10,l)-1,!1),i=""+f,h=$l("n",o[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+o[2]+"/"+o[3],h=pb(c[2],l),h.length<o[4].length&&(h=Sa(o[4].substr(o[4].length-h.length))+h),i+=h,i;if(o=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),c=vb(d,Math.pow(10,l)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?rL(c[1],l)+o[2]+"/"+o[3]+pb(c[2],l):Tn(" ",2*l+1+o[2].length+o[3].length));if(o=r.match(/^[#0?]+$/))return i=_f(s,0),r.length<=i.length?i:Sa(r.substr(0,r.length-i.length))+i;if(o=r.match(/^([#0?]+)\.([#0]+)$/)){i=""+s.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var g=r.indexOf(".")-l,m=r.length-i.length-g;return Sa(r.substr(0,g)+i+r.substr(r.length-m))}if(o=r.match(/^00,000\.([#0]*0)$/))return l=FO(s,o[1].length),s<0?"-"+zi(t,r,-s):Zc(cxe(s)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Ao(0,3-x.length):"")+x})+"."+Ao(l,o[1].length);switch(r){case"###,##0.00":return zi(t,"#,##0.00",s);case"###,###":case"##,###":case"#,###":var p=Zc(_f(d,0));return p!=="0"?f+p:"";case"###,###.00":return zi(t,"###,##0.00",s).replace(/^0\./,".");case"#,###.00":return zi(t,"#,##0.00",s).replace(/^0\./,".")}throw new Error("unsupported format |"+r+"|")}function dxe(t,r,s){for(var a=r.length-1;r.charCodeAt(a-1)===44;)--a;return $l(t,r.substr(0,a),s/Math.pow(10,3*(r.length-a)))}function uxe(t,r,s){var a=r.replace(jV,""),i=r.length-a.length;return $l(t,a,s*Math.pow(10,2*i))+Tn("%",i)}function LV(t,r){var s,a=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+LV(t,-r);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var o=Math.floor(Math.log(r)*Math.LOG10E)%i;if(o<0&&(o+=i),s=(r/Math.pow(10,o)).toPrecision(a+1+(i+o)%i),!s.match(/[Ee]/)){var l=Math.floor(Math.log(r)*Math.LOG10E);s.indexOf(".")===-1?s=s.charAt(0)+"."+s.substr(1)+"E+"+(l-s.length+o):s+="E+"+(l-o),s=s.replace(/\+-/,"-")}s=s.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,f,h){return d+f+h.substr(0,(i+o)%i)+"."+h.substr(o)+"E"})}else s=r.toExponential(a);return t.match(/E\+00$/)&&s.match(/e[+-]\d$/)&&(s=s.substr(0,s.length-1)+"0"+s.charAt(s.length-1)),t.match(/E\-/)&&s.match(/e\+/)&&(s=s.replace(/e\+/,"e")),s.replace("e","E")}function Ko(t,r,s){if(t.charCodeAt(0)===40&&!r.match(kV)){var a=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return s>=0?Ko("n",a,s):"("+Ko("n",a,-s)+")"}if(r.charCodeAt(r.length-1)===44)return dxe(t,r,s);if(r.indexOf("%")!==-1)return uxe(t,r,s);if(r.indexOf("E")!==-1)return LV(r,s);if(r.charCodeAt(0)===36)return"$"+Ko(t,r.substr(r.charAt(1)==" "?2:1),s);var i,o,l,c,d=Math.abs(s),f=s<0?"-":"";if(r.match(/^00+$/))return f+Ao(d,r.length);if(r.match(/^[#?]+$/))return i=""+s,s===0&&(i=""),i.length>r.length?i:Sa(r.substr(0,r.length-i.length))+i;if(o=r.match(SV))return oxe(o,d,f);if(r.match(/^#+0+$/))return f+Ao(d,r.length-r.indexOf("0"));if(o=r.match(CV))return i=(""+s).replace(/^([^\.]+)$/,"$1."+Sa(o[1])).replace(/\.$/,"."+Sa(o[1])),i=i.replace(/\.(\d*)$/,function(x,y){return"."+y+Tn("0",Sa(o[1]).length-y.length)}),r.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),o=r.match(/^(0*)\.(#*)$/))return f+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=r.match(/^#{1,3},##0(\.?)$/))return f+Zc(""+d);if(o=r.match(/^#,##0\.([#0]*0)$/))return s<0?"-"+Ko(t,r,-s):Zc(""+s)+"."+Tn("0",o[1].length);if(o=r.match(/^#,#*,#0/))return Ko(t,r.replace(/^#,#*,/,""),s);if(o=r.match(/^([0#]+)(\\?-([0#]+))+$/))return i=$0(Ko(t,r.replace(/[\\-]/g,""),s)),l=0,$0($0(r.replace(/\\/g,"")).replace(/[0#]/g,function(x){return l<i.length?i.charAt(l++):x==="0"?"0":""}));if(r.match(EV))return i=Ko(t,"##########",s),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(o=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),c=vb(d,Math.pow(10,l)-1,!1),i=""+f,h=$l("n",o[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+o[2]+"/"+o[3],h=pb(c[2],l),h.length<o[4].length&&(h=Sa(o[4].substr(o[4].length-h.length))+h),i+=h,i;if(o=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),c=vb(d,Math.pow(10,l)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?rL(c[1],l)+o[2]+"/"+o[3]+pb(c[2],l):Tn(" ",2*l+1+o[2].length+o[3].length));if(o=r.match(/^[#0?]+$/))return i=""+s,r.length<=i.length?i:Sa(r.substr(0,r.length-i.length))+i;if(o=r.match(/^([#0]+)\.([#0]+)$/)){i=""+s.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var g=r.indexOf(".")-l,m=r.length-i.length-g;return Sa(r.substr(0,g)+i+r.substr(r.length-m))}if(o=r.match(/^00,000\.([#0]*0)$/))return s<0?"-"+Ko(t,r,-s):Zc(""+s).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Ao(0,3-x.length):"")+x})+"."+Ao(0,o[1].length);switch(r){case"###,###":case"##,###":case"#,###":var p=Zc(""+d);return p!=="0"?f+p:"";default:if(r.match(/\.[0#?]*$/))return Ko(t,r.slice(0,r.lastIndexOf(".")),s)+Sa(r.slice(r.lastIndexOf(".")))}throw new Error("unsupported format |"+r+"|")}function $l(t,r,s){return(s|0)===s?Ko(t,r,s):zi(t,r,s)}function fxe(t){for(var r=[],s=!1,a=0,i=0;a<t.length;++a)switch(t.charCodeAt(a)){case 34:s=!s;break;case 95:case 42:case 92:++a;break;case 59:r[r.length]=t.substr(i,a-i),i=a+1}if(r[r.length]=t.substr(i),s===!0)throw new Error("Format |"+t+"| unterminated string ");return r}var MV=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function IV(t){for(var r=0,s="",a="";r<t.length;)switch(s=t.charAt(r)){case"G":xb(t,r)&&(r+=6),r++;break;case'"':for(;t.charCodeAt(++r)!==34&&r<t.length;);++r;break;case"\\":r+=2;break;case"_":r+=2;break;case"@":++r;break;case"B":case"b":if(t.charAt(r+1)==="1"||t.charAt(r+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(r,3).toUpperCase()==="A/P"||t.substr(r,5).toUpperCase()==="AM/PM"||t.substr(r,5).toUpperCase()==="上午/下午")return!0;++r;break;case"[":for(a=s;t.charAt(r++)!=="]"&&r<t.length;)a+=t.charAt(r);if(a.match(MV))return!0;break;case".":case"0":case"#":for(;r<t.length&&("0#?.,E+-%".indexOf(s=t.charAt(++r))>-1||s=="\\"&&t.charAt(r+1)=="-"&&"0#".indexOf(t.charAt(r+2))>-1););break;case"?":for(;t.charAt(++r)===s;);break;case"*":++r,(t.charAt(r)==" "||t.charAt(r)=="*")&&++r;break;case"(":case")":++r;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;r<t.length&&"0123456789".indexOf(t.charAt(++r))>-1;);break;case" ":++r;break;default:++r;break}return!1}function hxe(t,r,s,a){for(var i=[],o="",l=0,c="",d="t",f,h,g,m="H";l<t.length;)switch(c=t.charAt(l)){case"G":if(!xb(t,l))throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(o="";(g=t.charCodeAt(++l))!==34&&l<t.length;)o+=String.fromCharCode(g);i[i.length]={t:"t",v:o},++l;break;case"\\":var p=t.charAt(++l),x=p==="("||p===")"?p:"t";i[i.length]={t:x,v:p},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:r},++l;break;case"B":case"b":if(t.charAt(l+1)==="1"||t.charAt(l+1)==="2"){if(f==null&&(f=Mv(r,s,t.charAt(l+1)==="2"),f==null))return"";i[i.length]={t:"X",v:t.substr(l,2)},d=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(r<0||f==null&&(f=Mv(r,s),f==null))return"";for(o=c;++l<t.length&&t.charAt(l).toLowerCase()===c;)o+=c;c==="m"&&d.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=m),i[i.length]={t:c,v:o},d=c;break;case"A":case"a":case"上":var y={t:c,v:c};if(f==null&&(f=Mv(r,s)),t.substr(l,3).toUpperCase()==="A/P"?(f!=null&&(y.v=f.H>=12?"P":"A"),y.t="T",m="h",l+=3):t.substr(l,5).toUpperCase()==="AM/PM"?(f!=null&&(y.v=f.H>=12?"PM":"AM"),y.t="T",l+=5,m="h"):t.substr(l,5).toUpperCase()==="上午/下午"?(f!=null&&(y.v=f.H>=12?"下午":"上午"),y.t="T",l+=5,m="h"):(y.t="t",++l),f==null&&y.t==="T")return"";i[i.length]=y,d=c;break;case"[":for(o=c;t.charAt(l++)!=="]"&&l<t.length;)o+=t.charAt(l);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(MV)){if(f==null&&(f=Mv(r,s),f==null))return"";i[i.length]={t:"Z",v:o.toLowerCase()},d=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",IV(t)||(i[i.length]={t:"t",v:o}));break;case".":if(f!=null){for(o=c;++l<t.length&&(c=t.charAt(l))==="0";)o+=c;i[i.length]={t:"s",v:o};break}case"0":case"#":for(o=c;++l<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(l))>-1;)o+=c;i[i.length]={t:"n",v:o};break;case"?":for(o=c;t.charAt(++l)===c;)o+=c;i[i.length]={t:c,v:o},d=c;break;case"*":++l,(t.charAt(l)==" "||t.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:a===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=c;l<t.length&&"0123456789".indexOf(t.charAt(++l))>-1;)o+=t.charAt(l);i[i.length]={t:"D",v:o};break;case" ":i[i.length]={t:c,v:c},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"t",v:c},++l;break}var w=0,b=0,v;for(l=i.length-1,d="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=m,d="h",w<1&&(w=1);break;case"s":(v=i[l].v.match(/\.0+$/))&&(b=Math.max(b,v[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":d=i[l].t;break;case"m":d==="s"&&(i[l].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&i[l].v.match(/[Hh]/)&&(w=1),w<2&&i[l].v.match(/[Mm]/)&&(w=2),w<3&&i[l].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var j="",N;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=nxe(i[l].t.charCodeAt(0),i[l].v,f,b),i[l].t="t";break;case"n":case"?":for(N=l+1;i[N]!=null&&((c=i[N].t)==="?"||c==="D"||(c===" "||c==="t")&&i[N+1]!=null&&(i[N+1].t==="?"||i[N+1].t==="t"&&i[N+1].v==="/")||i[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[N].v==="/"||i[N].v===" "&&i[N+1]!=null&&i[N+1].t=="?"));)i[l].v+=i[N].v,i[N]={v:"",t:";"},++N;j+=i[l].v,l=N-1;break;case"G":i[l].t="t",i[l].v=KC(r,s);break}var S="",I,E;if(j.length>0){j.charCodeAt(0)==40?(I=r<0&&j.charCodeAt(0)===45?-r:r,E=$l("n",j,I)):(I=r<0&&a>1?-r:r,E=$l("n",j,I),I<0&&i[0]&&i[0].t=="t"&&(E=E.substr(1),i[0].v="-"+i[0].v)),N=E.length-1;var L=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){L=l;break}var C=i.length;if(L===i.length&&E.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(N>=i[l].v.length-1?(N-=i[l].v.length,i[l].v=E.substr(N+1,i[l].v.length)):N<0?i[l].v="":(i[l].v=E.substr(0,N+1),N=-1),i[l].t="t",C=l);N>=0&&C<i.length&&(i[C].v=E.substr(0,N+1)+i[C].v)}else if(L!==i.length&&E.indexOf("E")===-1){for(N=E.indexOf(".")-1,l=L;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(h=i[l].v.indexOf(".")>-1&&l===L?i[l].v.indexOf(".")-1:i[l].v.length-1,S=i[l].v.substr(h+1);h>=0;--h)N>=0&&(i[l].v.charAt(h)==="0"||i[l].v.charAt(h)==="#")&&(S=E.charAt(N--)+S);i[l].v=S,i[l].t="t",C=l}for(N>=0&&C<i.length&&(i[C].v=E.substr(0,N+1)+i[C].v),N=E.indexOf(".")+1,l=L;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==L)){for(h=i[l].v.indexOf(".")>-1&&l===L?i[l].v.indexOf(".")+1:0,S=i[l].v.substr(0,h);h<i[l].v.length;++h)N<E.length&&(S+=E.charAt(N++));i[l].v=S,i[l].t="t",C=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(I=a>1&&r<0&&l>0&&i[l-1].v==="-"?-r:r,i[l].v=$l(i[l].t,i[l].v,I),i[l].t="t");var T="";for(l=0;l!==i.length;++l)i[l]!=null&&(T+=i[l].v);return T}var BO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function zO(t,r){if(r==null)return!1;var s=parseFloat(r[2]);switch(r[1]){case"=":if(t==s)return!0;break;case">":if(t>s)return!0;break;case"<":if(t<s)return!0;break;case"<>":if(t!=s)return!0;break;case">=":if(t>=s)return!0;break;case"<=":if(t<=s)return!0;break}return!1}function gxe(t,r){var s=fxe(t),a=s.length,i=s[a-1].indexOf("@");if(a<4&&i>-1&&--a,s.length>4)throw new Error("cannot find right format for |"+s.join("|")+"|");if(typeof r!="number")return[4,s.length===4||i>-1?s[s.length-1]:"@"];switch(s.length){case 1:s=i>-1?["General","General","General",s[0]]:[s[0],s[0],s[0],"@"];break;case 2:s=i>-1?[s[0],s[0],s[0],s[1]]:[s[0],s[1],s[0],"@"];break;case 3:s=i>-1?[s[0],s[1],s[0],s[2]]:[s[0],s[1],s[2],"@"];break}var o=r>0?s[0]:r<0?s[1]:s[2];if(s[0].indexOf("[")===-1&&s[1].indexOf("[")===-1)return[a,o];if(s[0].match(/\[[=<>]/)!=null||s[1].match(/\[[=<>]/)!=null){var l=s[0].match(BO),c=s[1].match(BO);return zO(r,l)?[a,s[0]]:zO(r,c)?[a,s[1]]:[a,s[l!=null&&c!=null?2:1]]}return[a,o]}function vd(t,r,s){s==null&&(s={});var a="";switch(typeof t){case"string":t=="m/d/yy"&&s.dateNF?a=s.dateNF:a=t;break;case"number":t==14&&s.dateNF?a=s.dateNF:a=(s.table!=null?s.table:_n)[t],a==null&&(a=s.table&&s.table[DO[t]]||_n[DO[t]]),a==null&&(a=Jpe[t]||"General");break}if(xb(a,0))return KC(r,s);r instanceof Date&&(r=wV(r,s.date1904));var i=gxe(a,r);if(xb(i[1]))return KC(r,s);if(r===!0)r="TRUE";else if(r===!1)r="FALSE";else if(r===""||r==null)return"";return hxe(i[1],r,s,i[0])}function TV(t,r){if(typeof r!="number"){r=+r||-1;for(var s=0;s<392;++s){if(_n[s]==null){r<0&&(r=s);continue}if(_n[s]==t){r=s;break}}r<0&&(r=391)}return _n[r]=t,r}function gw(t){for(var r=0;r!=392;++r)t[r]!==void 0&&TV(t[r],r)}function mw(){_n=Ype()}var AV=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function mxe(t){var r=typeof t=="number"?_n[t]:t;return r=r.replace(AV,"(\\d+)"),new RegExp("^"+r+"$")}function pxe(t,r,s){var a=-1,i=-1,o=-1,l=-1,c=-1,d=-1;(r.match(AV)||[]).forEach(function(g,m){var p=parseInt(s[m+1],10);switch(g.toLowerCase().charAt(0)){case"y":a=p;break;case"d":o=p;break;case"h":l=p;break;case"s":d=p;break;case"m":l>=0?c=p:i=p;break}}),d>=0&&c==-1&&i>=0&&(c=i,i=-1);var f=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var h=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return l==-1&&c==-1&&d==-1?f:a==-1&&i==-1&&o==-1?h:f+"T"+h}var xxe=function(){var t={};t.version="1.2.0";function r(){for(var E=0,L=new Array(256),C=0;C!=256;++C)E=C,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,L[C]=E;return typeof Int32Array!="undefined"?new Int32Array(L):L}var s=r();function a(E){var L=0,C=0,T=0,k=typeof Int32Array!="undefined"?new Int32Array(4096):new Array(4096);for(T=0;T!=256;++T)k[T]=E[T];for(T=0;T!=256;++T)for(C=E[T],L=256+T;L<4096;L+=256)C=k[L]=C>>>8^E[C&255];var M=[];for(T=1;T!=16;++T)M[T-1]=typeof Int32Array!="undefined"?k.subarray(T*256,T*256+256):k.slice(T*256,T*256+256);return M}var i=a(s),o=i[0],l=i[1],c=i[2],d=i[3],f=i[4],h=i[5],g=i[6],m=i[7],p=i[8],x=i[9],y=i[10],w=i[11],b=i[12],v=i[13],j=i[14];function N(E,L){for(var C=L^-1,T=0,k=E.length;T<k;)C=C>>>8^s[(C^E.charCodeAt(T++))&255];return~C}function S(E,L){for(var C=L^-1,T=E.length-15,k=0;k<T;)C=j[E[k++]^C&255]^v[E[k++]^C>>8&255]^b[E[k++]^C>>16&255]^w[E[k++]^C>>>24]^y[E[k++]]^x[E[k++]]^p[E[k++]]^m[E[k++]]^g[E[k++]]^h[E[k++]]^f[E[k++]]^d[E[k++]]^c[E[k++]]^l[E[k++]]^o[E[k++]]^s[E[k++]];for(T+=15;k<T;)C=C>>>8^s[(C^E[k++])&255];return~C}function I(E,L){for(var C=L^-1,T=0,k=E.length,M=0,_=0;T<k;)M=E.charCodeAt(T++),M<128?C=C>>>8^s[(C^M)&255]:M<2048?(C=C>>>8^s[(C^(192|M>>6&31))&255],C=C>>>8^s[(C^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,_=E.charCodeAt(T++)&1023,C=C>>>8^s[(C^(240|M>>8&7))&255],C=C>>>8^s[(C^(128|M>>2&63))&255],C=C>>>8^s[(C^(128|_>>6&15|(M&3)<<4))&255],C=C>>>8^s[(C^(128|_&63))&255]):(C=C>>>8^s[(C^(224|M>>12&15))&255],C=C>>>8^s[(C^(128|M>>6&63))&255],C=C>>>8^s[(C^(128|M&63))&255]);return~C}return t.table=s,t.bstr=N,t.buf=S,t.str=I,t}(),tn=function(){var r={};r.version="1.2.1";function s(D,Q){for(var H=D.split("/"),V=Q.split("/"),re=0,ge=0,We=Math.min(H.length,V.length);re<We;++re){if(ge=H[re].length-V[re].length)return ge;if(H[re]!=V[re])return H[re]<V[re]?-1:1}return H.length-V.length}function a(D){if(D.charAt(D.length-1)=="/")return D.slice(0,-1).indexOf("/")===-1?D:a(D.slice(0,-1));var Q=D.lastIndexOf("/");return Q===-1?D:D.slice(0,Q+1)}function i(D){if(D.charAt(D.length-1)=="/")return i(D.slice(0,-1));var Q=D.lastIndexOf("/");return Q===-1?D:D.slice(Q+1)}function o(D,Q){typeof Q=="string"&&(Q=new Date(Q));var H=Q.getHours();H=H<<6|Q.getMinutes(),H=H<<5|Q.getSeconds()>>>1,D.write_shift(2,H);var V=Q.getFullYear()-1980;V=V<<4|Q.getMonth()+1,V=V<<5|Q.getDate(),D.write_shift(2,V)}function l(D){var Q=D.read_shift(2)&65535,H=D.read_shift(2)&65535,V=new Date,re=H&31;H>>>=5;var ge=H&15;H>>>=4,V.setMilliseconds(0),V.setFullYear(H+1980),V.setMonth(ge-1),V.setDate(re);var We=Q&31;Q>>>=5;var ot=Q&63;return Q>>>=6,V.setHours(Q),V.setMinutes(ot),V.setSeconds(We<<1),V}function c(D){gi(D,0);for(var Q={},H=0;D.l<=D.length-4;){var V=D.read_shift(2),re=D.read_shift(2),ge=D.l+re,We={};switch(V){case 21589:H=D.read_shift(1),H&1&&(We.mtime=D.read_shift(4)),re>5&&(H&2&&(We.atime=D.read_shift(4)),H&4&&(We.ctime=D.read_shift(4))),We.mtime&&(We.mt=new Date(We.mtime*1e3));break}D.l=ge,Q[V]=We}return Q}var d;function f(){return d||(d={})}function h(D,Q){if(D[0]==80&&D[1]==75)return wt(D,Q);if((D[0]|32)==109&&(D[1]|32)==105)return it(D,Q);if(D.length<512)throw new Error("CFB file size "+D.length+" < 512");var H=3,V=512,re=0,ge=0,We=0,ot=0,Ce=0,pe=[],je=D.slice(0,512);gi(je,0);var we=g(je);switch(H=we[0],H){case 3:V=512;break;case 4:V=4096;break;case 0:if(we[1]==0)return wt(D,Q);default:throw new Error("Major Version: Expected 3 or 4 saw "+H)}V!==512&&(je=D.slice(0,V),gi(je,28));var Re=D.slice(0,V);m(je,H);var He=je.read_shift(4,"i");if(H===3&&He!==0)throw new Error("# Directory Sectors: Expected 0 saw "+He);je.l+=4,We=je.read_shift(4,"i"),je.l+=4,je.chk("00100000","Mini Stream Cutoff Size: "),ot=je.read_shift(4,"i"),re=je.read_shift(4,"i"),Ce=je.read_shift(4,"i"),ge=je.read_shift(4,"i");for(var et=-1,pt=0;pt<109&&(et=je.read_shift(4,"i"),!(et<0));++pt)pe[pt]=et;var be=p(D,V);w(Ce,ge,be,V,pe);var De=v(be,We,pe,V);De[We].name="!Directory",re>0&&ot!==_&&(De[ot].name="!MiniFAT"),De[pe[0]].name="!FAT",De.fat_addrs=pe,De.ssz=V;var st={},Ke=[],mt=[],tt=[];j(We,De,be,Ke,re,st,mt,ot),x(mt,tt,Ke),Ke.shift();var ke={FileIndex:mt,FullPaths:tt};return Q&&Q.raw&&(ke.raw={header:Re,sectors:be}),ke}function g(D){if(D[D.l]==80&&D[D.l+1]==75)return[0,0];D.chk(J,"Header Signature: "),D.l+=16;var Q=D.read_shift(2,"u");return[D.read_shift(2,"u"),Q]}function m(D,Q){var H=9;switch(D.l+=2,H=D.read_shift(2)){case 9:if(Q!=3)throw new Error("Sector Shift: Expected 9 saw "+H);break;case 12:if(Q!=4)throw new Error("Sector Shift: Expected 12 saw "+H);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+H)}D.chk("0600","Mini Sector Shift: "),D.chk("000000000000","Reserved: ")}function p(D,Q){for(var H=Math.ceil(D.length/Q)-1,V=[],re=1;re<H;++re)V[re-1]=D.slice(re*Q,(re+1)*Q);return V[H-1]=D.slice(H*Q),V}function x(D,Q,H){for(var V=0,re=0,ge=0,We=0,ot=0,Ce=H.length,pe=[],je=[];V<Ce;++V)pe[V]=je[V]=V,Q[V]=H[V];for(;ot<je.length;++ot)V=je[ot],re=D[V].L,ge=D[V].R,We=D[V].C,pe[V]===V&&(re!==-1&&pe[re]!==re&&(pe[V]=pe[re]),ge!==-1&&pe[ge]!==ge&&(pe[V]=pe[ge])),We!==-1&&(pe[We]=V),re!==-1&&V!=pe[V]&&(pe[re]=pe[V],je.lastIndexOf(re)<ot&&je.push(re)),ge!==-1&&V!=pe[V]&&(pe[ge]=pe[V],je.lastIndexOf(ge)<ot&&je.push(ge));for(V=1;V<Ce;++V)pe[V]===V&&(ge!==-1&&pe[ge]!==ge?pe[V]=pe[ge]:re!==-1&&pe[re]!==re&&(pe[V]=pe[re]));for(V=1;V<Ce;++V)if(D[V].type!==0){if(ot=V,ot!=pe[ot])do ot=pe[ot],Q[V]=Q[ot]+"/"+Q[V];while(ot!==0&&pe[ot]!==-1&&ot!=pe[ot]);pe[V]=-1}for(Q[0]+="/",V=1;V<Ce;++V)D[V].type!==2&&(Q[V]+="/")}function y(D,Q,H){for(var V=D.start,re=D.size,ge=[],We=V;H&&re>0&&We>=0;)ge.push(Q.slice(We*M,We*M+M)),re-=M,We=du(H,We*4);return ge.length===0?Lt(0):Ms(ge).slice(0,D.size)}function w(D,Q,H,V,re){var ge=_;if(D===_){if(Q!==0)throw new Error("DIFAT chain shorter than expected")}else if(D!==-1){var We=H[D],ot=(V>>>2)-1;if(!We)return;for(var Ce=0;Ce<ot&&(ge=du(We,Ce*4))!==_;++Ce)re.push(ge);w(du(We,V-4),Q-1,H,V,re)}}function b(D,Q,H,V,re){var ge=[],We=[];re||(re=[]);var ot=V-1,Ce=0,pe=0;for(Ce=Q;Ce>=0;){re[Ce]=!0,ge[ge.length]=Ce,We.push(D[Ce]);var je=H[Math.floor(Ce*4/V)];if(pe=Ce*4&ot,V<4+pe)throw new Error("FAT boundary crossed: "+Ce+" 4 "+V);if(!D[je])break;Ce=du(D[je],pe)}return{nodes:ge,data:JO([We])}}function v(D,Q,H,V){var re=D.length,ge=[],We=[],ot=[],Ce=[],pe=V-1,je=0,we=0,Re=0,He=0;for(je=0;je<re;++je)if(ot=[],Re=je+Q,Re>=re&&(Re-=re),!We[Re]){Ce=[];var et=[];for(we=Re;we>=0;){et[we]=!0,We[we]=!0,ot[ot.length]=we,Ce.push(D[we]);var pt=H[Math.floor(we*4/V)];if(He=we*4&pe,V<4+He)throw new Error("FAT boundary crossed: "+we+" 4 "+V);if(!D[pt]||(we=du(D[pt],He),et[we]))break}ge[Re]={nodes:ot,data:JO([Ce])}}return ge}function j(D,Q,H,V,re,ge,We,ot){for(var Ce=0,pe=V.length?2:0,je=Q[D].data,we=0,Re=0,He;we<je.length;we+=128){var et=je.slice(we,we+128);gi(et,64),Re=et.read_shift(2),He=lL(et,0,Re-pe),V.push(He);var pt={name:He,type:et.read_shift(1),color:et.read_shift(1),L:et.read_shift(4,"i"),R:et.read_shift(4,"i"),C:et.read_shift(4,"i"),clsid:et.read_shift(16),state:et.read_shift(4,"i"),start:0,size:0},be=et.read_shift(2)+et.read_shift(2)+et.read_shift(2)+et.read_shift(2);be!==0&&(pt.ct=N(et,et.l-8));var De=et.read_shift(2)+et.read_shift(2)+et.read_shift(2)+et.read_shift(2);De!==0&&(pt.mt=N(et,et.l-8)),pt.start=et.read_shift(4,"i"),pt.size=et.read_shift(4,"i"),pt.size<0&&pt.start<0&&(pt.size=pt.type=0,pt.start=_,pt.name=""),pt.type===5?(Ce=pt.start,re>0&&Ce!==_&&(Q[Ce].name="!StreamData")):pt.size>=4096?(pt.storage="fat",Q[pt.start]===void 0&&(Q[pt.start]=b(H,pt.start,Q.fat_addrs,Q.ssz)),Q[pt.start].name=pt.name,pt.content=Q[pt.start].data.slice(0,pt.size)):(pt.storage="minifat",pt.size<0?pt.size=0:Ce!==_&&pt.start!==_&&Q[Ce]&&(pt.content=y(pt,Q[Ce].data,(Q[ot]||{}).data))),pt.content&&gi(pt.content,0),ge[He]=pt,We.push(pt)}}function N(D,Q){return new Date((vi(D,Q+4)/1e7*Math.pow(2,32)+vi(D,Q)/1e7-11644473600)*1e3)}function S(D,Q){return f(),h(d.readFileSync(D),Q)}function I(D,Q){var H=Q&&Q.type;switch(H||Hr&&Buffer.isBuffer(D)&&(H="buffer"),H||"base64"){case"file":return S(D,Q);case"base64":return h(Mo(Wl(D)),Q);case"binary":return h(Mo(D),Q)}return h(D,Q)}function E(D,Q){var H=Q||{},V=H.root||"Root Entry";if(D.FullPaths||(D.FullPaths=[]),D.FileIndex||(D.FileIndex=[]),D.FullPaths.length!==D.FileIndex.length)throw new Error("inconsistent CFB structure");D.FullPaths.length===0&&(D.FullPaths[0]=V+"/",D.FileIndex[0]={name:V,type:5}),H.CLSID&&(D.FileIndex[0].clsid=H.CLSID),L(D)}function L(D){var Q="Sh33tJ5";if(!tn.find(D,"/"+Q)){var H=Lt(4);H[0]=55,H[1]=H[3]=50,H[2]=54,D.FileIndex.push({name:Q,type:2,content:H,size:4,L:69,R:69,C:69}),D.FullPaths.push(D.FullPaths[0]+Q),C(D)}}function C(D,Q){E(D);for(var H=!1,V=!1,re=D.FullPaths.length-1;re>=0;--re){var ge=D.FileIndex[re];switch(ge.type){case 0:V?H=!0:(D.FileIndex.pop(),D.FullPaths.pop());break;case 1:case 2:case 5:V=!0,isNaN(ge.R*ge.L*ge.C)&&(H=!0),ge.R>-1&&ge.L>-1&&ge.R==ge.L&&(H=!0);break;default:H=!0;break}}if(!(!H&&!Q)){var We=new Date(1987,1,19),ot=0,Ce=Object.create?Object.create(null):{},pe=[];for(re=0;re<D.FullPaths.length;++re)Ce[D.FullPaths[re]]=!0,D.FileIndex[re].type!==0&&pe.push([D.FullPaths[re],D.FileIndex[re]]);for(re=0;re<pe.length;++re){var je=a(pe[re][0]);V=Ce[je],V||(pe.push([je,{name:i(je).replace("/",""),type:1,clsid:te,ct:We,mt:We,content:null}]),Ce[je]=!0)}for(pe.sort(function(He,et){return s(He[0],et[0])}),D.FullPaths=[],D.FileIndex=[],re=0;re<pe.length;++re)D.FullPaths[re]=pe[re][0],D.FileIndex[re]=pe[re][1];for(re=0;re<pe.length;++re){var we=D.FileIndex[re],Re=D.FullPaths[re];if(we.name=i(Re).replace("/",""),we.L=we.R=we.C=-(we.color=1),we.size=we.content?we.content.length:0,we.start=0,we.clsid=we.clsid||te,re===0)we.C=pe.length>1?1:-1,we.size=0,we.type=5;else if(Re.slice(-1)=="/"){for(ot=re+1;ot<pe.length&&a(D.FullPaths[ot])!=Re;++ot);for(we.C=ot>=pe.length?-1:ot,ot=re+1;ot<pe.length&&a(D.FullPaths[ot])!=a(Re);++ot);we.R=ot>=pe.length?-1:ot,we.type=1}else a(D.FullPaths[re+1]||"")==a(Re)&&(we.R=re+1),we.type=2}}}function T(D,Q){var H=Q||{};if(H.fileType=="mad")return Ae(D,H);switch(C(D),H.fileType){case"zip":return ct(D,H)}var V=function(He){for(var et=0,pt=0,be=0;be<He.FileIndex.length;++be){var De=He.FileIndex[be];if(De.content){var st=De.content.length;st>0&&(st<4096?et+=st+63>>6:pt+=st+511>>9)}}for(var Ke=He.FullPaths.length+3>>2,mt=et+7>>3,tt=et+127>>7,ke=mt+pt+Ke+tt,lt=ke+127>>7,St=lt<=109?0:Math.ceil((lt-109)/127);ke+lt+St+127>>7>lt;)St=++lt<=109?0:Math.ceil((lt-109)/127);var Mt=[1,St,lt,tt,Ke,pt,et,0];return He.FileIndex[0].size=et<<6,Mt[7]=(He.FileIndex[0].start=Mt[0]+Mt[1]+Mt[2]+Mt[3]+Mt[4]+Mt[5])+(Mt[6]+7>>3),Mt}(D),re=Lt(V[7]<<9),ge=0,We=0;{for(ge=0;ge<8;++ge)re.write_shift(1,Y[ge]);for(ge=0;ge<8;++ge)re.write_shift(2,0);for(re.write_shift(2,62),re.write_shift(2,3),re.write_shift(2,65534),re.write_shift(2,9),re.write_shift(2,6),ge=0;ge<3;++ge)re.write_shift(2,0);for(re.write_shift(4,0),re.write_shift(4,V[2]),re.write_shift(4,V[0]+V[1]+V[2]+V[3]-1),re.write_shift(4,0),re.write_shift(4,4096),re.write_shift(4,V[3]?V[0]+V[1]+V[2]-1:_),re.write_shift(4,V[3]),re.write_shift(-4,V[1]?V[0]-1:_),re.write_shift(4,V[1]),ge=0;ge<109;++ge)re.write_shift(-4,ge<V[2]?V[1]+ge:-1)}if(V[1])for(We=0;We<V[1];++We){for(;ge<236+We*127;++ge)re.write_shift(-4,ge<V[2]?V[1]+ge:-1);re.write_shift(-4,We===V[1]-1?_:We+1)}var ot=function(He){for(We+=He;ge<We-1;++ge)re.write_shift(-4,ge+1);He&&(++ge,re.write_shift(-4,_))};for(We=ge=0,We+=V[1];ge<We;++ge)re.write_shift(-4,K.DIFSECT);for(We+=V[2];ge<We;++ge)re.write_shift(-4,K.FATSECT);ot(V[3]),ot(V[4]);for(var Ce=0,pe=0,je=D.FileIndex[0];Ce<D.FileIndex.length;++Ce)je=D.FileIndex[Ce],je.content&&(pe=je.content.length,!(pe<4096)&&(je.start=We,ot(pe+511>>9)));for(ot(V[6]+7>>3);re.l&511;)re.write_shift(-4,K.ENDOFCHAIN);for(We=ge=0,Ce=0;Ce<D.FileIndex.length;++Ce)je=D.FileIndex[Ce],je.content&&(pe=je.content.length,!(!pe||pe>=4096)&&(je.start=We,ot(pe+63>>6)));for(;re.l&511;)re.write_shift(-4,K.ENDOFCHAIN);for(ge=0;ge<V[4]<<2;++ge){var we=D.FullPaths[ge];if(!we||we.length===0){for(Ce=0;Ce<17;++Ce)re.write_shift(4,0);for(Ce=0;Ce<3;++Ce)re.write_shift(4,-1);for(Ce=0;Ce<12;++Ce)re.write_shift(4,0);continue}je=D.FileIndex[ge],ge===0&&(je.start=je.size?je.start-1:_);var Re=ge===0&&H.root||je.name;if(pe=2*(Re.length+1),re.write_shift(64,Re,"utf16le"),re.write_shift(2,pe),re.write_shift(1,je.type),re.write_shift(1,je.color),re.write_shift(-4,je.L),re.write_shift(-4,je.R),re.write_shift(-4,je.C),je.clsid)re.write_shift(16,je.clsid,"hex");else for(Ce=0;Ce<4;++Ce)re.write_shift(4,0);re.write_shift(4,je.state||0),re.write_shift(4,0),re.write_shift(4,0),re.write_shift(4,0),re.write_shift(4,0),re.write_shift(4,je.start),re.write_shift(4,je.size),re.write_shift(4,0)}for(ge=1;ge<D.FileIndex.length;++ge)if(je=D.FileIndex[ge],je.size>=4096)if(re.l=je.start+1<<9,Hr&&Buffer.isBuffer(je.content))je.content.copy(re,re.l,0,je.size),re.l+=je.size+511&-512;else{for(Ce=0;Ce<je.size;++Ce)re.write_shift(1,je.content[Ce]);for(;Ce&511;++Ce)re.write_shift(1,0)}for(ge=1;ge<D.FileIndex.length;++ge)if(je=D.FileIndex[ge],je.size>0&&je.size<4096)if(Hr&&Buffer.isBuffer(je.content))je.content.copy(re,re.l,0,je.size),re.l+=je.size+63&-64;else{for(Ce=0;Ce<je.size;++Ce)re.write_shift(1,je.content[Ce]);for(;Ce&63;++Ce)re.write_shift(1,0)}if(Hr)re.l=re.length;else for(;re.l<re.length;)re.write_shift(1,0);return re}function k(D,Q){var H=D.FullPaths.map(function(Ce){return Ce.toUpperCase()}),V=H.map(function(Ce){var pe=Ce.split("/");return pe[pe.length-(Ce.slice(-1)=="/"?2:1)]}),re=!1;Q.charCodeAt(0)===47?(re=!0,Q=H[0].slice(0,-1)+Q):re=Q.indexOf("/")!==-1;var ge=Q.toUpperCase(),We=re===!0?H.indexOf(ge):V.indexOf(ge);if(We!==-1)return D.FileIndex[We];var ot=!ge.match(Lv);for(ge=ge.replace(Im,""),ot&&(ge=ge.replace(Lv,"!")),We=0;We<H.length;++We)if((ot?H[We].replace(Lv,"!"):H[We]).replace(Im,"")==ge||(ot?V[We].replace(Lv,"!"):V[We]).replace(Im,"")==ge)return D.FileIndex[We];return null}var M=64,_=-2,J="d0cf11e0a1b11ae1",Y=[208,207,17,224,161,177,26,225],te="00000000000000000000000000000000",K={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:_,FREESECT:-1,HEADER_SIGNATURE:J,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:te,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function X(D,Q,H){f();var V=T(D,H);d.writeFileSync(Q,V)}function W(D){for(var Q=new Array(D.length),H=0;H<D.length;++H)Q[H]=String.fromCharCode(D[H]);return Q.join("")}function F(D,Q){var H=T(D,Q);switch(Q&&Q.type||"buffer"){case"file":return f(),d.writeFileSync(Q.filename,H),H;case"binary":return typeof H=="string"?H:W(H);case"base64":return Np(typeof H=="string"?H:W(H));case"buffer":if(Hr)return Buffer.isBuffer(H)?H:lc(H);case"array":return typeof H=="string"?Mo(H):H}return H}var P;function A(D){try{var Q=D.InflateRaw,H=new Q;if(H._processChunk(new Uint8Array([3,0]),H._finishFlushFlag),H.bytesRead)P=D;else throw new Error("zlib does not expose bytesRead")}catch(V){console.error("cannot use native zlib: "+(V.message||V))}}function B(D,Q){if(!P)return Xe(D,Q);var H=P.InflateRaw,V=new H,re=V._processChunk(D.slice(D.l),V._finishFlushFlag);return D.l+=V.bytesRead,re}function z(D){return P?P.deflateRawSync(D):Ue(D)}var O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Z=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function se(D){var Q=(D<<1|D<<11)&139536|(D<<5|D<<15)&558144;return(Q>>16|Q>>8|Q)&255}for(var fe=typeof Uint8Array!="undefined",le=fe?new Uint8Array(256):[],Ne=0;Ne<256;++Ne)le[Ne]=se(Ne);function Te(D,Q){var H=le[D&255];return Q<=8?H>>>8-Q:(H=H<<8|le[D>>8&255],Q<=16?H>>>16-Q:(H=H<<8|le[D>>16&255],H>>>24-Q))}function ht(D,Q){var H=Q&7,V=Q>>>3;return(D[V]|(H<=6?0:D[V+1]<<8))>>>H&3}function Fe(D,Q){var H=Q&7,V=Q>>>3;return(D[V]|(H<=5?0:D[V+1]<<8))>>>H&7}function Ve(D,Q){var H=Q&7,V=Q>>>3;return(D[V]|(H<=4?0:D[V+1]<<8))>>>H&15}function ut(D,Q){var H=Q&7,V=Q>>>3;return(D[V]|(H<=3?0:D[V+1]<<8))>>>H&31}function Je(D,Q){var H=Q&7,V=Q>>>3;return(D[V]|(H<=1?0:D[V+1]<<8))>>>H&127}function G(D,Q,H){var V=Q&7,re=Q>>>3,ge=(1<<H)-1,We=D[re]>>>V;return H<8-V||(We|=D[re+1]<<8-V,H<16-V)||(We|=D[re+2]<<16-V,H<24-V)||(We|=D[re+3]<<24-V),We&ge}function ae(D,Q,H){var V=Q&7,re=Q>>>3;return V<=5?D[re]|=(H&7)<<V:(D[re]|=H<<V&255,D[re+1]=(H&7)>>8-V),Q+3}function Me(D,Q,H){var V=Q&7,re=Q>>>3;return H=(H&1)<<V,D[re]|=H,Q+1}function he(D,Q,H){var V=Q&7,re=Q>>>3;return H<<=V,D[re]|=H&255,H>>>=8,D[re+1]=H,Q+8}function ye(D,Q,H){var V=Q&7,re=Q>>>3;return H<<=V,D[re]|=H&255,H>>>=8,D[re+1]=H&255,D[re+2]=H>>>8,Q+16}function oe(D,Q){var H=D.length,V=2*H>Q?2*H:Q+5,re=0;if(H>=Q)return D;if(Hr){var ge=OO(V);if(D.copy)D.copy(ge);else for(;re<D.length;++re)ge[re]=D[re];return ge}else if(fe){var We=new Uint8Array(V);if(We.set)We.set(D);else for(;re<H;++re)We[re]=D[re];return We}return D.length=V,D}function ie(D){for(var Q=new Array(D),H=0;H<D;++H)Q[H]=0;return Q}function q(D,Q,H){var V=1,re=0,ge=0,We=0,ot=0,Ce=D.length,pe=fe?new Uint16Array(32):ie(32);for(ge=0;ge<32;++ge)pe[ge]=0;for(ge=Ce;ge<H;++ge)D[ge]=0;Ce=D.length;var je=fe?new Uint16Array(Ce):ie(Ce);for(ge=0;ge<Ce;++ge)pe[re=D[ge]]++,V<re&&(V=re),je[ge]=0;for(pe[0]=0,ge=1;ge<=V;++ge)pe[ge+16]=ot=ot+pe[ge-1]<<1;for(ge=0;ge<Ce;++ge)ot=D[ge],ot!=0&&(je[ge]=pe[ot+16]++);var we=0;for(ge=0;ge<Ce;++ge)if(we=D[ge],we!=0)for(ot=Te(je[ge],V)>>V-we,We=(1<<V+4-we)-1;We>=0;--We)Q[ot|We<<we]=we&15|ge<<4;return V}var Se=fe?new Uint16Array(512):ie(512),$e=fe?new Uint16Array(32):ie(32);if(!fe){for(var rt=0;rt<512;++rt)Se[rt]=0;for(rt=0;rt<32;++rt)$e[rt]=0}(function(){for(var D=[],Q=0;Q<32;Q++)D.push(5);q(D,$e,32);var H=[];for(Q=0;Q<=143;Q++)H.push(8);for(;Q<=255;Q++)H.push(9);for(;Q<=279;Q++)H.push(7);for(;Q<=287;Q++)H.push(8);q(H,Se,288)})();var nt=function(){for(var Q=fe?new Uint8Array(32768):[],H=0,V=0;H<Z.length-1;++H)for(;V<Z[H+1];++V)Q[V]=H;for(;V<32768;++V)Q[V]=29;var re=fe?new Uint8Array(259):[];for(H=0,V=0;H<U.length-1;++H)for(;V<U[H+1];++V)re[V]=H;function ge(ot,Ce){for(var pe=0;pe<ot.length;){var je=Math.min(65535,ot.length-pe),we=pe+je==ot.length;for(Ce.write_shift(1,+we),Ce.write_shift(2,je),Ce.write_shift(2,~je&65535);je-- >0;)Ce[Ce.l++]=ot[pe++]}return Ce.l}function We(ot,Ce){for(var pe=0,je=0,we=fe?new Uint16Array(32768):[];je<ot.length;){var Re=Math.min(65535,ot.length-je);if(Re<10){for(pe=ae(Ce,pe,+(je+Re==ot.length)),pe&7&&(pe+=8-(pe&7)),Ce.l=pe/8|0,Ce.write_shift(2,Re),Ce.write_shift(2,~Re&65535);Re-- >0;)Ce[Ce.l++]=ot[je++];pe=Ce.l*8;continue}pe=ae(Ce,pe,+(je+Re==ot.length)+2);for(var He=0;Re-- >0;){var et=ot[je];He=(He<<5^et)&32767;var pt=-1,be=0;if((pt=we[He])&&(pt|=je&-32768,pt>je&&(pt-=32768),pt<je))for(;ot[pt+be]==ot[je+be]&&be<250;)++be;if(be>2){et=re[be],et<=22?pe=he(Ce,pe,le[et+1]>>1)-1:(he(Ce,pe,3),pe+=5,he(Ce,pe,le[et-23]>>5),pe+=3);var De=et<8?0:et-4>>2;De>0&&(ye(Ce,pe,be-U[et]),pe+=De),et=Q[je-pt],pe=he(Ce,pe,le[et]>>3),pe-=3;var st=et<4?0:et-2>>1;st>0&&(ye(Ce,pe,je-pt-Z[et]),pe+=st);for(var Ke=0;Ke<be;++Ke)we[He]=je&32767,He=(He<<5^ot[je])&32767,++je;Re-=be-1}else et<=143?et=et+48:pe=Me(Ce,pe,1),pe=he(Ce,pe,le[et]),we[He]=je&32767,++je}pe=he(Ce,pe,0)-1}return Ce.l=(pe+7)/8|0,Ce.l}return function(Ce,pe){return Ce.length<8?ge(Ce,pe):We(Ce,pe)}}();function Ue(D){var Q=Lt(50+Math.floor(D.length*1.1)),H=nt(D,Q);return Q.slice(0,H)}var xt=fe?new Uint16Array(32768):ie(32768),Oe=fe?new Uint16Array(32768):ie(32768),Ee=fe?new Uint16Array(128):ie(128),ee=1,de=1;function ue(D,Q){var H=ut(D,Q)+257;Q+=5;var V=ut(D,Q)+1;Q+=5;var re=Ve(D,Q)+4;Q+=4;for(var ge=0,We=fe?new Uint8Array(19):ie(19),ot=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ce=1,pe=fe?new Uint8Array(8):ie(8),je=fe?new Uint8Array(8):ie(8),we=We.length,Re=0;Re<re;++Re)We[O[Re]]=ge=Fe(D,Q),Ce<ge&&(Ce=ge),pe[ge]++,Q+=3;var He=0;for(pe[0]=0,Re=1;Re<=Ce;++Re)je[Re]=He=He+pe[Re-1]<<1;for(Re=0;Re<we;++Re)(He=We[Re])!=0&&(ot[Re]=je[He]++);var et=0;for(Re=0;Re<we;++Re)if(et=We[Re],et!=0){He=le[ot[Re]]>>8-et;for(var pt=(1<<7-et)-1;pt>=0;--pt)Ee[He|pt<<et]=et&7|Re<<3}var be=[];for(Ce=1;be.length<H+V;)switch(He=Ee[Je(D,Q)],Q+=He&7,He>>>=3){case 16:for(ge=3+ht(D,Q),Q+=2,He=be[be.length-1];ge-- >0;)be.push(He);break;case 17:for(ge=3+Fe(D,Q),Q+=3;ge-- >0;)be.push(0);break;case 18:for(ge=11+Je(D,Q),Q+=7;ge-- >0;)be.push(0);break;default:be.push(He),Ce<He&&(Ce=He);break}var De=be.slice(0,H),st=be.slice(H);for(Re=H;Re<286;++Re)De[Re]=0;for(Re=V;Re<30;++Re)st[Re]=0;return ee=q(De,xt,286),de=q(st,Oe,30),Q}function _e(D,Q){if(D[0]==3&&!(D[1]&3))return[Fu(Q),2];for(var H=0,V=0,re=OO(Q||1<<18),ge=0,We=re.length>>>0,ot=0,Ce=0;!(V&1);){if(V=Fe(D,H),H+=3,V>>>1)V>>1==1?(ot=9,Ce=5):(H=ue(D,H),ot=ee,Ce=de);else{H&7&&(H+=8-(H&7));var pe=D[H>>>3]|D[(H>>>3)+1]<<8;if(H+=32,pe>0)for(!Q&&We<ge+pe&&(re=oe(re,ge+pe),We=re.length);pe-- >0;)re[ge++]=D[H>>>3],H+=8;continue}for(;;){!Q&&We<ge+32767&&(re=oe(re,ge+32767),We=re.length);var je=G(D,H,ot),we=V>>>1==1?Se[je]:xt[je];if(H+=we&15,we>>>=4,!(we>>>8&255))re[ge++]=we;else{if(we==256)break;we-=257;var Re=we<8?0:we-4>>2;Re>5&&(Re=0);var He=ge+U[we];Re>0&&(He+=G(D,H,Re),H+=Re),je=G(D,H,Ce),we=V>>>1==1?$e[je]:Oe[je],H+=we&15,we>>>=4;var et=we<4?0:we-2>>1,pt=Z[we];for(et>0&&(pt+=G(D,H,et),H+=et),!Q&&We<He&&(re=oe(re,He+100),We=re.length);ge<He;)re[ge]=re[ge-pt],++ge}}}return Q?[re,H+7>>>3]:[re.slice(0,ge),H+7>>>3]}function Xe(D,Q){var H=D.slice(D.l||0),V=_e(H,Q);return D.l+=V[1],V[0]}function gt(D,Q){if(D)typeof console!="undefined"&&console.error(Q);else throw new Error(Q)}function wt(D,Q){var H=D;gi(H,0);var V=[],re=[],ge={FileIndex:V,FullPaths:re};E(ge,{root:Q.root});for(var We=H.length-4;(H[We]!=80||H[We+1]!=75||H[We+2]!=5||H[We+3]!=6)&&We>=0;)--We;H.l=We+4,H.l+=4;var ot=H.read_shift(2);H.l+=6;var Ce=H.read_shift(4);for(H.l=Ce,We=0;We<ot;++We){H.l+=20;var pe=H.read_shift(4),je=H.read_shift(4),we=H.read_shift(2),Re=H.read_shift(2),He=H.read_shift(2);H.l+=8;var et=H.read_shift(4),pt=c(H.slice(H.l+we,H.l+we+Re));H.l+=we+Re+He;var be=H.l;H.l=et+4,vt(H,pe,je,ge,pt),H.l=be}return ge}function vt(D,Q,H,V,re){D.l+=2;var ge=D.read_shift(2),We=D.read_shift(2),ot=l(D);if(ge&8257)throw new Error("Unsupported ZIP encryption");for(var Ce=D.read_shift(4),pe=D.read_shift(4),je=D.read_shift(4),we=D.read_shift(2),Re=D.read_shift(2),He="",et=0;et<we;++et)He+=String.fromCharCode(D[D.l++]);if(Re){var pt=c(D.slice(D.l,D.l+Re));(pt[21589]||{}).mt&&(ot=pt[21589].mt),((re||{})[21589]||{}).mt&&(ot=re[21589].mt)}D.l+=Re;var be=D.slice(D.l,D.l+pe);switch(We){case 8:be=B(D,je);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+We)}var De=!1;ge&8&&(Ce=D.read_shift(4),Ce==134695760&&(Ce=D.read_shift(4),De=!0),pe=D.read_shift(4),je=D.read_shift(4)),pe!=Q&&gt(De,"Bad compressed size: "+Q+" != "+pe),je!=H&&gt(De,"Bad uncompressed size: "+H+" != "+je),Ye(V,He,be,{unsafe:!0,mt:ot})}function ct(D,Q){var H=Q||{},V=[],re=[],ge=Lt(1),We=H.compression?8:0,ot=0,Ce=0,pe=0,je=0,we=0,Re=D.FullPaths[0],He=Re,et=D.FileIndex[0],pt=[],be=0;for(Ce=1;Ce<D.FullPaths.length;++Ce)if(He=D.FullPaths[Ce].slice(Re.length),et=D.FileIndex[Ce],!(!et.size||!et.content||He=="Sh33tJ5")){var De=je,st=Lt(He.length);for(pe=0;pe<He.length;++pe)st.write_shift(1,He.charCodeAt(pe)&127);st=st.slice(0,st.l),pt[we]=xxe.buf(et.content,0);var Ke=et.content;We==8&&(Ke=z(Ke)),ge=Lt(30),ge.write_shift(4,67324752),ge.write_shift(2,20),ge.write_shift(2,ot),ge.write_shift(2,We),et.mt?o(ge,et.mt):ge.write_shift(4,0),ge.write_shift(-4,pt[we]),ge.write_shift(4,Ke.length),ge.write_shift(4,et.content.length),ge.write_shift(2,st.length),ge.write_shift(2,0),je+=ge.length,V.push(ge),je+=st.length,V.push(st),je+=Ke.length,V.push(Ke),ge=Lt(46),ge.write_shift(4,33639248),ge.write_shift(2,0),ge.write_shift(2,20),ge.write_shift(2,ot),ge.write_shift(2,We),ge.write_shift(4,0),ge.write_shift(-4,pt[we]),ge.write_shift(4,Ke.length),ge.write_shift(4,et.content.length),ge.write_shift(2,st.length),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(4,0),ge.write_shift(4,De),be+=ge.l,re.push(ge),be+=st.length,re.push(st),++we}return ge=Lt(22),ge.write_shift(4,101010256),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,we),ge.write_shift(2,we),ge.write_shift(4,be),ge.write_shift(4,je),ge.write_shift(2,0),Ms([Ms(V),Ms(re),ge])}var Ze={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function dt(D,Q){if(D.ctype)return D.ctype;var H=D.name||"",V=H.match(/\.([^\.]+)$/);return V&&Ze[V[1]]||Q&&(V=(H=Q).match(/[\.\\]([^\.\\])+$/),V&&Ze[V[1]])?Ze[V[1]]:"application/octet-stream"}function yt(D){for(var Q=Np(D),H=[],V=0;V<Q.length;V+=76)H.push(Q.slice(V,V+76));return H.join(`\r
`)+`\r
`}function Ie(D){var Q=D.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(pe){var je=pe.charCodeAt(0).toString(16).toUpperCase();return"="+(je.length==1?"0"+je:je)});Q=Q.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Q.charAt(0)==`
`&&(Q="=0D"+Q.slice(1)),Q=Q.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var H=[],V=Q.split(`\r
`),re=0;re<V.length;++re){var ge=V[re];if(ge.length==0){H.push("");continue}for(var We=0;We<ge.length;){var ot=76,Ce=ge.slice(We,We+ot);Ce.charAt(ot-1)=="="?ot--:Ce.charAt(ot-2)=="="?ot-=2:Ce.charAt(ot-3)=="="&&(ot-=3),Ce=ge.slice(We,We+ot),We+=ot,We<ge.length&&(Ce+="="),H.push(Ce)}}return H.join(`\r
`)}function ze(D){for(var Q=[],H=0;H<D.length;++H){for(var V=D[H];H<=D.length&&V.charAt(V.length-1)=="=";)V=V.slice(0,V.length-1)+D[++H];Q.push(V)}for(var re=0;re<Q.length;++re)Q[re]=Q[re].replace(/[=][0-9A-Fa-f]{2}/g,function(ge){return String.fromCharCode(parseInt(ge.slice(1),16))});return Mo(Q.join(`\r
`))}function qe(D,Q,H){for(var V="",re="",ge="",We,ot=0;ot<10;++ot){var Ce=Q[ot];if(!Ce||Ce.match(/^\s*$/))break;var pe=Ce.match(/^(.*?):\s*([^\s].*)$/);if(pe)switch(pe[1].toLowerCase()){case"content-location":V=pe[2].trim();break;case"content-type":ge=pe[2].trim();break;case"content-transfer-encoding":re=pe[2].trim();break}}switch(++ot,re.toLowerCase()){case"base64":We=Mo(Wl(Q.slice(ot).join("")));break;case"quoted-printable":We=ze(Q.slice(ot));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+re)}var je=Ye(D,V.slice(H.length),We,{unsafe:!0});ge&&(je.ctype=ge)}function it(D,Q){if(W(D.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var H=Q&&Q.root||"",V=(Hr&&Buffer.isBuffer(D)?D.toString("binary"):W(D)).split(`\r
`),re=0,ge="";for(re=0;re<V.length;++re)if(ge=V[re],!!/^Content-Location:/i.test(ge)&&(ge=ge.slice(ge.indexOf("file")),H||(H=ge.slice(0,ge.lastIndexOf("/")+1)),ge.slice(0,H.length)!=H))for(;H.length>0&&(H=H.slice(0,H.length-1),H=H.slice(0,H.lastIndexOf("/")+1),ge.slice(0,H.length)!=H););var We=(V[1]||"").match(/boundary="(.*?)"/);if(!We)throw new Error("MAD cannot find boundary");var ot="--"+(We[1]||""),Ce=[],pe=[],je={FileIndex:Ce,FullPaths:pe};E(je);var we,Re=0;for(re=0;re<V.length;++re){var He=V[re];He!==ot&&He!==ot+"--"||(Re++&&qe(je,V.slice(we,re),H),we=re)}return je}function Ae(D,Q){var H=Q||{},V=H.boundary||"SheetJS";V="------="+V;for(var re=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+V.slice(2)+'"',"","",""],ge=D.FullPaths[0],We=ge,ot=D.FileIndex[0],Ce=1;Ce<D.FullPaths.length;++Ce)if(We=D.FullPaths[Ce].slice(ge.length),ot=D.FileIndex[Ce],!(!ot.size||!ot.content||We=="Sh33tJ5")){We=We.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(be){return"_x"+be.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(be){return"_u"+be.charCodeAt(0).toString(16)+"_"});for(var pe=ot.content,je=Hr&&Buffer.isBuffer(pe)?pe.toString("binary"):W(pe),we=0,Re=Math.min(1024,je.length),He=0,et=0;et<=Re;++et)(He=je.charCodeAt(et))>=32&&He<128&&++we;var pt=we>=Re*4/5;re.push(V),re.push("Content-Location: "+(H.root||"file:///C:/SheetJS/")+We),re.push("Content-Transfer-Encoding: "+(pt?"quoted-printable":"base64")),re.push("Content-Type: "+dt(ot,We)),re.push(""),re.push(pt?Ie(je):yt(je))}return re.push(V+`--\r
`),re.join(`\r
`)}function Ge(D){var Q={};return E(Q,D),Q}function Ye(D,Q,H,V){var re=V&&V.unsafe;re||E(D);var ge=!re&&tn.find(D,Q);if(!ge){var We=D.FullPaths[0];Q.slice(0,We.length)==We?We=Q:(We.slice(-1)!="/"&&(We+="/"),We=(We+Q).replace("//","/")),ge={name:i(Q),type:2},D.FileIndex.push(ge),D.FullPaths.push(We),re||tn.utils.cfb_gc(D)}return ge.content=H,ge.size=H?H.length:0,V&&(V.CLSID&&(ge.clsid=V.CLSID),V.mt&&(ge.mt=V.mt),V.ct&&(ge.ct=V.ct)),ge}function Et(D,Q){E(D);var H=tn.find(D,Q);if(H){for(var V=0;V<D.FileIndex.length;++V)if(D.FileIndex[V]==H)return D.FileIndex.splice(V,1),D.FullPaths.splice(V,1),!0}return!1}function Ot(D,Q,H){E(D);var V=tn.find(D,Q);if(V){for(var re=0;re<D.FileIndex.length;++re)if(D.FileIndex[re]==V)return D.FileIndex[re].name=i(H),D.FullPaths[re]=H,!0}return!1}function ft(D){C(D,!0)}return r.find=k,r.read=I,r.parse=h,r.write=F,r.writeFile=X,r.utils={cfb_new:Ge,cfb_add:Ye,cfb_del:Et,cfb_mov:Ot,cfb_gc:ft,ReadShift:Am,CheckField:ZV,prep_blob:gi,bconcat:Ms,use_zlib:A,_deflateRaw:Ue,_inflateRaw:Xe,consts:K},r}();function vxe(t){return typeof t=="string"?hw(t):Array.isArray(t)?Hpe(t):t}function ix(t,r,s){if(typeof Deno!="undefined"){if(s&&typeof r=="string")switch(s){case"utf8":r=new TextEncoder(s).encode(r);break;case"binary":r=hw(r);break;default:throw new Error("Unsupported encoding "+s)}return Deno.writeFileSync(t,r)}var a=s=="utf8"?Cp(r):r;if(typeof IE_SaveFile!="undefined")return IE_SaveFile(a,t);if(typeof Blob!="undefined"){var i=new Blob([vxe(a)],{type:"application/octet-stream"});if(typeof navigator!="undefined"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs!="undefined")return saveAs(i,t);if(typeof URL!="undefined"&&typeof document!="undefined"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout!="undefined"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:t,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=t,l.href=o,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout!="undefined"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $!="undefined"&&typeof File!="undefined"&&typeof Folder!="undefined")try{var c=File(t);return c.open("w"),c.encoding="binary",Array.isArray(r)&&(r=ax(r)),c.write(r),c.close(),r}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+t)}function Ps(t){for(var r=Object.keys(t),s=[],a=0;a<r.length;++a)Object.prototype.hasOwnProperty.call(t,r[a])&&s.push(r[a]);return s}function UO(t,r){for(var s=[],a=Ps(t),i=0;i!==a.length;++i)s[t[a[i]][r]]==null&&(s[t[a[i]][r]]=a[i]);return s}function sL(t){for(var r=[],s=Ps(t),a=0;a!==s.length;++a)r[t[s[a]]]=s[a];return r}function pw(t){for(var r=[],s=Ps(t),a=0;a!==s.length;++a)r[t[s[a]]]=parseInt(s[a],10);return r}function yxe(t){for(var r=[],s=Ps(t),a=0;a!==s.length;++a)r[t[s[a]]]==null&&(r[t[s[a]]]=[]),r[t[s[a]]].push(s[a]);return r}var yb=new Date(1899,11,30,0,0,0);function Qa(t,r){var s=t.getTime(),a=yb.getTime()+(t.getTimezoneOffset()-yb.getTimezoneOffset())*6e4;return(s-a)/(24*60*60*1e3)}var _V=new Date,bxe=yb.getTime()+(_V.getTimezoneOffset()-yb.getTimezoneOffset())*6e4,WO=_V.getTimezoneOffset();function OV(t){var r=new Date;return r.setTime(t*24*60*60*1e3+bxe),r.getTimezoneOffset()!==WO&&r.setTime(r.getTime()+(r.getTimezoneOffset()-WO)*6e4),r}var HO=new Date("2017-02-19T19:06:09.000Z"),$V=isNaN(HO.getFullYear())?new Date("2/19/17"):HO,wxe=$V.getFullYear()==2017;function Ma(t,r){var s=new Date(t);if(wxe)return r>0?s.setTime(s.getTime()+s.getTimezoneOffset()*60*1e3):r<0&&s.setTime(s.getTime()-s.getTimezoneOffset()*60*1e3),s;if(t instanceof Date)return t;if($V.getFullYear()==1917&&!isNaN(s.getFullYear())){var a=s.getFullYear();return t.indexOf(""+a)>-1||s.setFullYear(s.getFullYear()+100),s}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function xw(t,r){if(Hr&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder!="undefined")try{var s={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(o){return s[o]||o})}catch(o){}for(var a=[],i=0;i!=t.length;++i)a.push(String.fromCharCode(t[i]));return a.join("")}function Ka(t){if(typeof JSON!="undefined"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=Ka(t[s]));return r}function Tn(t,r){for(var s="";s.length<r;)s+=t;return s}function Pl(t){var r=Number(t);if(!isNaN(r))return isFinite(r)?r:NaN;if(!/\d/.test(t))return r;var s=1,a=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return s*=100,""});return!isNaN(r=Number(a))||(a=a.replace(/[(](.*)[)]/,function(i,o){return s=-s,o}),!isNaN(r=Number(a)))?r/s:r}var jxe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Sp(t){var r=new Date(t),s=new Date(NaN),a=r.getYear(),i=r.getMonth(),o=r.getDate();if(isNaN(o))return s;var l=t.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&jxe.indexOf(l)==-1)return s}else if(l.match(/[a-z]/))return s;return a<0||a>8099?s:(i>0||o>1)&&a!=101?r:t.match(/[^-0-9:,\/\\]/)?s:r}function vr(t,r,s){if(t.FullPaths){if(typeof s=="string"){var a;return Hr?a=lc(s):a=Vpe(s),tn.utils.cfb_add(t,r,a)}tn.utils.cfb_add(t,r,s)}else t.file(r,s)}function aL(){return tn.utils.cfb_new()}var Yn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Nxe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},iL=sL(Nxe),oL=/[&<>'"]/g,Sxe=/[\u0000-\u0008\u000b-\u001f]/g;function Qr(t){var r=t+"";return r.replace(oL,function(s){return iL[s]}).replace(Sxe,function(s){return"_x"+("000"+s.charCodeAt(0).toString(16)).slice(-4)+"_"})}function VO(t){return Qr(t).replace(/ /g,"_x0020_")}var PV=/[\u0000-\u001f]/g;function Cxe(t){var r=t+"";return r.replace(oL,function(s){return iL[s]}).replace(/\n/g,"<br/>").replace(PV,function(s){return"&#x"+("000"+s.charCodeAt(0).toString(16)).slice(-4)+";"})}function kxe(t){var r=t+"";return r.replace(oL,function(s){return iL[s]}).replace(PV,function(s){return"&#x"+s.charCodeAt(0).toString(16).toUpperCase()+";"})}function Exe(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Lxe(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function q4(t){for(var r="",s=0,a=0,i=0,o=0,l=0,c=0;s<t.length;){if(a=t.charCodeAt(s++),a<128){r+=String.fromCharCode(a);continue}if(i=t.charCodeAt(s++),a>191&&a<224){l=(a&31)<<6,l|=i&63,r+=String.fromCharCode(l);continue}if(o=t.charCodeAt(s++),a<240){r+=String.fromCharCode((a&15)<<12|(i&63)<<6|o&63);continue}l=t.charCodeAt(s++),c=((a&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536,r+=String.fromCharCode(55296+(c>>>10&1023)),r+=String.fromCharCode(56320+(c&1023))}return r}function GO(t){var r=Fu(2*t.length),s,a,i=1,o=0,l=0,c;for(a=0;a<t.length;a+=i)i=1,(c=t.charCodeAt(a))<128?s=c:c<224?(s=(c&31)*64+(t.charCodeAt(a+1)&63),i=2):c<240?(s=(c&15)*4096+(t.charCodeAt(a+1)&63)*64+(t.charCodeAt(a+2)&63),i=3):(i=4,s=(c&7)*262144+(t.charCodeAt(a+1)&63)*4096+(t.charCodeAt(a+2)&63)*64+(t.charCodeAt(a+3)&63),s-=65536,l=55296+(s>>>10&1023),s=56320+(s&1023)),l!==0&&(r[o++]=l&255,r[o++]=l>>>8,l=0),r[o++]=s%256,r[o++]=s>>>8;return r.slice(0,o).toString("ucs2")}function qO(t){return lc(t,"binary").toString("utf8")}var Iv="foo bar bazâð£",Tm=Hr&&(qO(Iv)==q4(Iv)&&qO||GO(Iv)==q4(Iv)&&GO)||q4,Cp=Hr?function(t){return lc(t,"utf8").toString("binary")}:function(t){for(var r=[],s=0,a=0,i=0;s<t.length;)switch(a=t.charCodeAt(s++),!0){case a<128:r.push(String.fromCharCode(a));break;case a<2048:r.push(String.fromCharCode(192+(a>>6))),r.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,i=t.charCodeAt(s++)-56320+(a<<10),r.push(String.fromCharCode(240+(i>>18&7))),r.push(String.fromCharCode(144+(i>>12&63))),r.push(String.fromCharCode(128+(i>>6&63))),r.push(String.fromCharCode(128+(i&63)));break;default:r.push(String.fromCharCode(224+(a>>12))),r.push(String.fromCharCode(128+(a>>6&63))),r.push(String.fromCharCode(128+(a&63)))}return r.join("")},Mxe=function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(r){return[new RegExp("&"+r[0]+";","ig"),r[1]]});return function(s){for(var a=s.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)a=a.replace(t[i][0],t[i][1]);return a}}(),DV=/(^\s|\s$|\n)/;function Is(t,r){return"<"+t+(r.match(DV)?' xml:space="preserve"':"")+">"+r+"</"+t+">"}function kp(t){return Ps(t).map(function(r){return" "+r+'="'+t[r]+'"'}).join("")}function Bt(t,r,s){return"<"+t+(s!=null?kp(s):"")+(r!=null?(r.match(DV)?' xml:space="preserve"':"")+">"+r+"</"+t:"/")+">"}function XC(t,r){try{return t.toISOString().replace(/\.\d*/,"")}catch(s){if(r)throw s}return""}function Ixe(t,r){switch(typeof t){case"string":var s=Bt("vt:lpwstr",Qr(t));return s=s.replace(/&quot;/g,"_x0022_"),s;case"number":return Bt((t|0)==t?"vt:i4":"vt:r8",Qr(String(t)));case"boolean":return Bt("vt:bool",t?"true":"false")}if(t instanceof Date)return Bt("vt:filetime",XC(t));throw new Error("Unable to serialize "+t)}var hs={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Ah=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],xi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Txe(t,r){for(var s=1-2*(t[r+7]>>>7),a=((t[r+7]&127)<<4)+(t[r+6]>>>4&15),i=t[r+6]&15,o=5;o>=0;--o)i=i*256+t[r+o];return a==2047?i==0?s*(1/0):NaN:(a==0?a=-1022:(a-=1023,i+=Math.pow(2,52)),s*Math.pow(2,a-52)*i)}function Axe(t,r,s){var a=(r<0||1/r==-1/0?1:0)<<7,i=0,o=0,l=a?-r:r;isFinite(l)?l==0?i=o=0:(i=Math.floor(Math.log(l)/Math.LN2),o=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?i=-1022:(o-=Math.pow(2,52),i+=1023)):(i=2047,o=isNaN(r)?26985:0);for(var c=0;c<=5;++c,o/=256)t[s+c]=o&255;t[s+6]=(i&15)<<4|o&15,t[s+7]=i>>4|a}var YO=function(t){for(var r=[],s=10240,a=0;a<t[0].length;++a)if(t[0][a])for(var i=0,o=t[0][a].length;i<o;i+=s)r.push.apply(r,t[0][a].slice(i,i+s));return r},JO=Hr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(r){return Buffer.isBuffer(r)?r:lc(r)})):YO(t)}:YO,ZO=function(t,r,s){for(var a=[],i=r;i<s;i+=2)a.push(String.fromCharCode(um(t,i)));return a.join("").replace(Im,"")},lL=Hr?function(t,r,s){return Buffer.isBuffer(t)?t.toString("utf16le",r,s).replace(Im,""):ZO(t,r,s)}:ZO,QO=function(t,r,s){for(var a=[],i=r;i<r+s;++i)a.push(("0"+t[i].toString(16)).slice(-2));return a.join("")},RV=Hr?function(t,r,s){return Buffer.isBuffer(t)?t.toString("hex",r,r+s):QO(t,r,s)}:QO,KO=function(t,r,s){for(var a=[],i=r;i<s;i++)a.push(String.fromCharCode(Qf(t,i)));return a.join("")},ox=Hr?function(r,s,a){return Buffer.isBuffer(r)?r.toString("utf8",s,a):KO(r,s,a)}:KO,FV=function(t,r){var s=vi(t,r);return s>0?ox(t,r+4,r+4+s-1):""},BV=FV,zV=function(t,r){var s=vi(t,r);return s>0?ox(t,r+4,r+4+s-1):""},UV=zV,WV=function(t,r){var s=2*vi(t,r);return s>0?ox(t,r+4,r+4+s-1):""},HV=WV,VV=function(r,s){var a=vi(r,s);return a>0?lL(r,s+4,s+4+a):""},GV=VV,qV=function(t,r){var s=vi(t,r);return s>0?ox(t,r+4,r+4+s):""},YV=qV,JV=function(t,r){return Txe(t,r)},bb=JV,cL=function(r){return Array.isArray(r)||typeof Uint8Array!="undefined"&&r instanceof Uint8Array};Hr&&(BV=function(r,s){if(!Buffer.isBuffer(r))return FV(r,s);var a=r.readUInt32LE(s);return a>0?r.toString("utf8",s+4,s+4+a-1):""},UV=function(r,s){if(!Buffer.isBuffer(r))return zV(r,s);var a=r.readUInt32LE(s);return a>0?r.toString("utf8",s+4,s+4+a-1):""},HV=function(r,s){if(!Buffer.isBuffer(r))return WV(r,s);var a=2*r.readUInt32LE(s);return r.toString("utf16le",s+4,s+4+a-1)},GV=function(r,s){if(!Buffer.isBuffer(r))return VV(r,s);var a=r.readUInt32LE(s);return r.toString("utf16le",s+4,s+4+a)},YV=function(r,s){if(!Buffer.isBuffer(r))return qV(r,s);var a=r.readUInt32LE(s);return r.toString("utf8",s+4,s+4+a)},bb=function(r,s){return Buffer.isBuffer(r)?r.readDoubleLE(s):JV(r,s)},cL=function(r){return Buffer.isBuffer(r)||Array.isArray(r)||typeof Uint8Array!="undefined"&&r instanceof Uint8Array});var Qf=function(t,r){return t[r]},um=function(t,r){return t[r+1]*256+t[r]},_xe=function(t,r){var s=t[r+1]*256+t[r];return s<32768?s:(65535-s+1)*-1},vi=function(t,r){return t[r+3]*(1<<24)+(t[r+2]<<16)+(t[r+1]<<8)+t[r]},du=function(t,r){return t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]},Oxe=function(t,r){return t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]};function Am(t,r){var s="",a,i,o=[],l,c,d,f;switch(r){case"dbcs":if(f=this.l,Hr&&Buffer.isBuffer(this))s=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)s+=String.fromCharCode(um(this,f)),f+=2;t*=2;break;case"utf8":s=ox(this,this.l,this.l+t);break;case"utf16le":t*=2,s=lL(this,this.l,this.l+t);break;case"wstr":return Am.call(this,t,"dbcs");case"lpstr-ansi":s=BV(this,this.l),t=4+vi(this,this.l);break;case"lpstr-cp":s=UV(this,this.l),t=4+vi(this,this.l);break;case"lpwstr":s=HV(this,this.l),t=4+2*vi(this,this.l);break;case"lpp4":t=4+vi(this,this.l),s=GV(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+vi(this,this.l),s=YV(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,s="";(l=Qf(this,this.l+t++))!==0;)o.push(Ev(l));s=o.join("");break;case"_wstr":for(t=0,s="";(l=um(this,this.l+t))!==0;)o.push(Ev(l)),t+=2;t+=2,s=o.join("");break;case"dbcs-cont":for(s="",f=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return l=Qf(this,f),this.l=f+1,c=Am.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(Ev(um(this,f))),f+=2}s=o.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(s="",f=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return l=Qf(this,f),this.l=f+1,c=Am.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(Ev(Qf(this,f))),f+=1}s=o.join("");break;default:switch(t){case 1:return a=Qf(this,this.l),this.l++,a;case 2:return a=(r==="i"?_xe:um)(this,this.l),this.l+=2,a;case 4:case-4:return r==="i"||!(this[this.l+3]&128)?(a=(t>0?du:Oxe)(this,this.l),this.l+=4,a):(i=vi(this,this.l),this.l+=4,i);case 8:case-8:if(r==="f")return t==8?i=bb(this,this.l):i=bb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:s=RV(this,this.l,t);break}}return this.l+=t,s}var $xe=function(t,r,s){t[s]=r&255,t[s+1]=r>>>8&255,t[s+2]=r>>>16&255,t[s+3]=r>>>24&255},Pxe=function(t,r,s){t[s]=r&255,t[s+1]=r>>8&255,t[s+2]=r>>16&255,t[s+3]=r>>24&255},Dxe=function(t,r,s){t[s]=r&255,t[s+1]=r>>>8&255};function Rxe(t,r,s){var a=0,i=0;if(s==="dbcs"){for(i=0;i!=r.length;++i)Dxe(this,r.charCodeAt(i),this.l+2*i);a=2*r.length}else if(s==="sbcs"){for(r=r.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=r.length;++i)this[this.l+i]=r.charCodeAt(i)&255;a=r.length}else if(s==="hex"){for(;i<t;++i)this[this.l++]=parseInt(r.slice(2*i,2*i+2),16)||0;return this}else if(s==="utf16le"){var o=Math.min(this.l+t,this.length);for(i=0;i<Math.min(r.length,t);++i){var l=r.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(t){case 1:a=1,this[this.l]=r&255;break;case 2:a=2,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255;break;case 3:a=3,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255,r>>>=8,this[this.l+2]=r&255;break;case 4:a=4,$xe(this,r,this.l);break;case 8:if(a=8,s==="f"){Axe(this,r,this.l);break}case 16:break;case-4:a=4,Pxe(this,r,this.l);break}return this.l+=a,this}function ZV(t,r){var s=RV(this,this.l,t.length>>1);if(s!==t)throw new Error(r+"Expected "+t+" saw "+s);this.l+=t.length>>1}function gi(t,r){t.l=r,t.read_shift=Am,t.chk=ZV,t.write_shift=Rxe}function ul(t,r){t.l+=r}function Lt(t){var r=Fu(t);return gi(r,0),r}function Za(){var t=[],r=Hr?256:2048,s=function(f){var h=Lt(f);return gi(h,0),h},a=s(r),i=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&t.push(a),a=null)},o=function(f){return a&&f<a.length-a.l?a:(i(),a=s(Math.max(f+1,r)))},l=function(){return i(),Ms(t)},c=function(f){i(),a=f,a.l==null&&(a.l=a.length),o(r)};return{next:o,push:c,end:l,_bufs:t}}function At(t,r,s,a){var i=+r,o;if(!isNaN(i)){a||(a=Twe[i].p||(s||[]).length||0),o=1+(i>=128?1:0)+1,a>=128&&++o,a>=16384&&++o,a>=2097152&&++o;var l=t.next(o);i<=127?l.write_shift(1,i):(l.write_shift(1,(i&127)+128),l.write_shift(1,i>>7));for(var c=0;c!=4;++c)if(a>=128)l.write_shift(1,(a&127)+128),a>>=7;else{l.write_shift(1,a);break}a>0&&cL(s)&&t.push(s)}}function _m(t,r,s){var a=Ka(t);if(r.s?(a.cRel&&(a.c+=r.s.c),a.rRel&&(a.r+=r.s.r)):(a.cRel&&(a.c+=r.c),a.rRel&&(a.r+=r.r)),!s||s.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function XO(t,r,s){var a=Ka(t);return a.s=_m(a.s,r.s,s),a.e=_m(a.e,r.s,s),a}function Om(t,r){if(t.cRel&&t.c<0)for(t=Ka(t);t.c<0;)t.c+=r>8?16384:256;if(t.rRel&&t.r<0)for(t=Ka(t);t.r<0;)t.r+=r>8?1048576:r>5?65536:16384;var s=Xr(t);return!t.cRel&&t.cRel!=null&&(s=zxe(s)),!t.rRel&&t.rRel!=null&&(s=Fxe(s)),s}function Y4(t,r){return t.s.r==0&&!t.s.rRel&&t.e.r==(r.biff>=12?1048575:r.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Gs(t.s.c)+":"+(t.e.cRel?"":"$")+Gs(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(r.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+_s(t.s.r)+":"+(t.e.rRel?"":"$")+_s(t.e.r):Om(t.s,r.biff)+":"+Om(t.e,r.biff)}function dL(t){return parseInt(Bxe(t),10)-1}function _s(t){return""+(t+1)}function Fxe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Bxe(t){return t.replace(/\$(\d+)$/,"$1")}function uL(t){for(var r=Uxe(t),s=0,a=0;a!==r.length;++a)s=26*s+r.charCodeAt(a)-64;return s-1}function Gs(t){if(t<0)throw new Error("invalid column "+t);var r="";for(++t;t;t=Math.floor((t-1)/26))r=String.fromCharCode((t-1)%26+65)+r;return r}function zxe(t){return t.replace(/^([A-Z])/,"$$$1")}function Uxe(t){return t.replace(/^\$([A-Z])/,"$1")}function Wxe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ms(t){for(var r=0,s=0,a=0;a<t.length;++a){var i=t.charCodeAt(a);i>=48&&i<=57?r=10*r+(i-48):i>=65&&i<=90&&(s=26*s+(i-64))}return{c:s-1,r:r-1}}function Xr(t){for(var r=t.c+1,s="";r;r=(r-1)/26|0)s=String.fromCharCode((r-1)%26+65)+s;return s+(t.r+1)}function Ci(t){var r=t.indexOf(":");return r==-1?{s:ms(t),e:ms(t)}:{s:ms(t.slice(0,r)),e:ms(t.slice(r+1))}}function qn(t,r){return typeof r=="undefined"||typeof r=="number"?qn(t.s,t.e):(typeof t!="string"&&(t=Xr(t)),typeof r!="string"&&(r=Xr(r)),t==r?t:t+":"+r)}function mn(t){var r={s:{c:0,r:0},e:{c:0,r:0}},s=0,a=0,i=0,o=t.length;for(s=0;a<o&&!((i=t.charCodeAt(a)-64)<1||i>26);++a)s=26*s+i;for(r.s.c=--s,s=0;a<o&&!((i=t.charCodeAt(a)-48)<0||i>9);++a)s=10*s+i;if(r.s.r=--s,a===o||i!=10)return r.e.c=r.s.c,r.e.r=r.s.r,r;for(++a,s=0;a!=o&&!((i=t.charCodeAt(a)-64)<1||i>26);++a)s=26*s+i;for(r.e.c=--s,s=0;a!=o&&!((i=t.charCodeAt(a)-48)<0||i>9);++a)s=10*s+i;return r.e.r=--s,r}function e$(t,r){var s=t.t=="d"&&r instanceof Date;if(t.z!=null)try{return t.w=vd(t.z,s?Qa(r):r)}catch(a){}try{return t.w=vd((t.XF||{}).numFmtId||(s?14:0),s?Qa(r):r)}catch(a){return""+r}}function Hl(t,r,s){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&s&&s.dateNF&&(t.z=s.dateNF),t.t=="e"?lx[t.v]||t.v:r==null?e$(t,t.v):e$(t,r))}function rf(t,r){var s=r&&r.sheet?r.sheet:"Sheet1",a={};return a[s]=t,{SheetNames:[s],Sheets:a}}function QV(t,r,s){var a=s||{},i=t?Array.isArray(t):a.dense,o=t||(i?[]:{}),l=0,c=0;if(o&&a.origin!=null){if(typeof a.origin=="number")l=a.origin;else{var d=typeof a.origin=="string"?ms(a.origin):a.origin;l=d.r,c=d.c}o["!ref"]||(o["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var h=mn(o["!ref"]);f.s.c=h.s.c,f.s.r=h.s.r,f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),l==-1&&(f.e.r=l=h.e.r+1)}for(var g=0;g!=r.length;++g)if(r[g]){if(!Array.isArray(r[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=r[g].length;++m)if(typeof r[g][m]!="undefined"){var p={v:r[g][m]},x=l+g,y=c+m;if(f.s.r>x&&(f.s.r=x),f.s.c>y&&(f.s.c=y),f.e.r<x&&(f.e.r=x),f.e.c<y&&(f.e.c=y),r[g][m]&&typeof r[g][m]=="object"&&!Array.isArray(r[g][m])&&!(r[g][m]instanceof Date))p=r[g][m];else if(Array.isArray(p.v)&&(p.f=r[g][m][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(a.nullError)p.t="e",p.v=0;else if(a.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=a.dateNF||_n[14],a.cellDates?(p.t="d",p.w=vd(p.z,Qa(p.v))):(p.t="n",p.v=Qa(p.v),p.w=vd(p.z,p.v))):p.t="s";if(i)o[x]||(o[x]=[]),o[x][y]&&o[x][y].z&&(p.z=o[x][y].z),o[x][y]=p;else{var w=Xr({c:y,r:x});o[w]&&o[w].z&&(p.z=o[w].z),o[w]=p}}}return f.s.c<1e7&&(o["!ref"]=qn(f)),o}function _h(t,r){return QV(null,t,r)}function Hxe(t){return t.read_shift(4,"i")}function Po(t,r){return r||(r=Lt(4)),r.write_shift(4,t),r}function qs(t){var r=t.read_shift(4);return r===0?"":t.read_shift(r,"dbcs")}function ps(t,r){var s=!1;return r==null&&(s=!0,r=Lt(4+2*t.length)),r.write_shift(4,t.length),t.length>0&&r.write_shift(0,t,"dbcs"),s?r.slice(0,r.l):r}function Vxe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function Gxe(t,r){return r||(r=Lt(4)),r.write_shift(2,0),r.write_shift(2,0),r}function fL(t,r){var s=t.l,a=t.read_shift(1),i=qs(t),o=[],l={t:i,h:i};if(a&1){for(var c=t.read_shift(4),d=0;d!=c;++d)o.push(Vxe(t));l.r=o}else l.r=[{ich:0,ifnt:0}];return t.l=s+r,l}function qxe(t,r){var s=!1;return r==null&&(s=!0,r=Lt(15+4*t.t.length)),r.write_shift(1,0),ps(t.t,r),s?r.slice(0,r.l):r}var Yxe=fL;function Jxe(t,r){var s=!1;return r==null&&(s=!0,r=Lt(23+4*t.t.length)),r.write_shift(1,1),ps(t.t,r),r.write_shift(4,1),Gxe({ich:0,ifnt:0},r),s?r.slice(0,r.l):r}function ao(t){var r=t.read_shift(4),s=t.read_shift(2);return s+=t.read_shift(1)<<16,t.l++,{c:r,iStyleRef:s}}function nf(t,r){return r==null&&(r=Lt(8)),r.write_shift(-4,t.c),r.write_shift(3,t.iStyleRef||t.s),r.write_shift(1,0),r}function sf(t){var r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:r}}function af(t,r){return r==null&&(r=Lt(4)),r.write_shift(3,t.iStyleRef||t.s),r.write_shift(1,0),r}var Zxe=qs,KV=ps;function hL(t){var r=t.read_shift(4);return r===0||r===4294967295?"":t.read_shift(r,"dbcs")}function wb(t,r){var s=!1;return r==null&&(s=!0,r=Lt(127)),r.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&r.write_shift(0,t,"dbcs"),s?r.slice(0,r.l):r}var Qxe=qs,e6=hL,gL=wb;function XV(t){var r=t.slice(t.l,t.l+4),s=r[0]&1,a=r[0]&2;t.l+=4;var i=a===0?bb([0,0,0,0,r[0]&252,r[1],r[2],r[3]],0):du(r,0)>>2;return s?i/100:i}function eG(t,r){r==null&&(r=Lt(4));var s=0,a=0,i=t*100;if(t==(t|0)&&t>=-(1<<29)&&t<1<<29?a=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(a=1,s=1),a)r.write_shift(-4,((s?i:t)<<2)+(s+2));else throw new Error("unsupported RkNumber "+t)}function tG(t){var r={s:{},e:{}};return r.s.r=t.read_shift(4),r.e.r=t.read_shift(4),r.s.c=t.read_shift(4),r.e.c=t.read_shift(4),r}function Kxe(t,r){return r||(r=Lt(16)),r.write_shift(4,t.s.r),r.write_shift(4,t.e.r),r.write_shift(4,t.s.c),r.write_shift(4,t.e.c),r}var of=tG,Oh=Kxe;function $h(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Bu(t,r){return(r||Lt(8)).write_shift(8,t,"f")}function Xxe(t){var r={},s=t.read_shift(1),a=s>>>1,i=t.read_shift(1),o=t.read_shift(2,"i"),l=t.read_shift(1),c=t.read_shift(1),d=t.read_shift(1);switch(t.l++,a){case 0:r.auto=1;break;case 1:r.index=i;var f=lve[i];f&&(r.rgb=u$(f));break;case 2:r.rgb=u$([l,c,d]);break;case 3:r.theme=i;break}return o!=0&&(r.tint=o>0?o/32767:o/32768),r}function jb(t,r){if(r||(r=Lt(8)),!t||t.auto)return r.write_shift(4,0),r.write_shift(4,0),r;t.index!=null?(r.write_shift(1,2),r.write_shift(1,t.index)):t.theme!=null?(r.write_shift(1,6),r.write_shift(1,t.theme)):(r.write_shift(1,5),r.write_shift(1,0));var s=t.tint||0;if(s>0?s*=32767:s<0&&(s*=32768),r.write_shift(2,s),!t.rgb||t.theme!=null)r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);else{var a=t.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),r.write_shift(1,parseInt(a.slice(0,2),16)),r.write_shift(1,parseInt(a.slice(2,4),16)),r.write_shift(1,parseInt(a.slice(4,6),16)),r.write_shift(1,255)}return r}function eve(t){var r=t.read_shift(1);t.l++;var s={fBold:r&1,fItalic:r&2,fUnderline:r&4,fStrikeout:r&8,fOutline:r&16,fShadow:r&32,fCondense:r&64,fExtend:r&128};return s}function tve(t,r){r||(r=Lt(2));var s=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return r.write_shift(1,s),r.write_shift(1,0),r}var rG=2,ui=3,Tv=11,Nb=19,Av=64,rve=65,nve=71,sve=4108,ave=4126,Ls=80,t$={1:{n:"CodePage",t:rG},2:{n:"Category",t:Ls},3:{n:"PresentationFormat",t:Ls},4:{n:"ByteCount",t:ui},5:{n:"LineCount",t:ui},6:{n:"ParagraphCount",t:ui},7:{n:"SlideCount",t:ui},8:{n:"NoteCount",t:ui},9:{n:"HiddenCount",t:ui},10:{n:"MultimediaClipCount",t:ui},11:{n:"ScaleCrop",t:Tv},12:{n:"HeadingPairs",t:sve},13:{n:"TitlesOfParts",t:ave},14:{n:"Manager",t:Ls},15:{n:"Company",t:Ls},16:{n:"LinksUpToDate",t:Tv},17:{n:"CharacterCount",t:ui},19:{n:"SharedDoc",t:Tv},22:{n:"HyperlinksChanged",t:Tv},23:{n:"AppVersion",t:ui,p:"version"},24:{n:"DigSig",t:rve},26:{n:"ContentType",t:Ls},27:{n:"ContentStatus",t:Ls},28:{n:"Language",t:Ls},29:{n:"Version",t:Ls},255:{},2147483648:{n:"Locale",t:Nb},2147483651:{n:"Behavior",t:Nb},1919054434:{}},r$={1:{n:"CodePage",t:rG},2:{n:"Title",t:Ls},3:{n:"Subject",t:Ls},4:{n:"Author",t:Ls},5:{n:"Keywords",t:Ls},6:{n:"Comments",t:Ls},7:{n:"Template",t:Ls},8:{n:"LastAuthor",t:Ls},9:{n:"RevNumber",t:Ls},10:{n:"EditTime",t:Av},11:{n:"LastPrinted",t:Av},12:{n:"CreatedDate",t:Av},13:{n:"ModifiedDate",t:Av},14:{n:"PageCount",t:ui},15:{n:"WordCount",t:ui},16:{n:"CharCount",t:ui},17:{n:"Thumbnail",t:nve},18:{n:"Application",t:Ls},19:{n:"DocSecurity",t:ui},255:{},2147483648:{n:"Locale",t:Nb},2147483651:{n:"Behavior",t:Nb},1919054434:{}};function ive(t){return t.map(function(r){return[r>>16&255,r>>8&255,r&255]})}var ove=ive([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),lve=Ka(ove),lx={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},cve={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},_v={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function nG(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function sG(t,r){var s=yxe(cve),a=[],i;a[a.length]=Yn,a[a.length]=Bt("Types",null,{xmlns:hs.CT,"xmlns:xsd":hs.xsd,"xmlns:xsi":hs.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return Bt("Default",null,{Extension:d[0],ContentType:d[1]})}));var o=function(d){t[d]&&t[d].length>0&&(i=t[d][0],a[a.length]=Bt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:_v[d][r.bookType]||_v[d].xlsx}))},l=function(d){(t[d]||[]).forEach(function(f){a[a.length]=Bt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:_v[d][r.bookType]||_v[d].xlsx})})},c=function(d){(t[d]||[]).forEach(function(f){a[a.length]=Bt("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:s[d][0]})})};return o("workbooks"),l("sheets"),l("charts"),c("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),l("metadata"),c("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Wr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function aG(t){var r=t.lastIndexOf("/");return t.slice(0,r+1)+"_rels/"+t.slice(r+1)+".rels"}function P0(t){var r=[Yn,Bt("Relationships",null,{xmlns:hs.RELS})];return Ps(t["!id"]).forEach(function(s){r[r.length]=Bt("Relationship",null,t["!id"][s])}),r.length>2&&(r[r.length]="</Relationships>",r[1]=r[1].replace("/>",">")),r.join("")}function Zr(t,r,s,a,i,o){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),r<0)for(r=t["!idx"];t["!id"]["rId"+r];++r);if(t["!idx"]=r+1,i.Id="rId"+r,i.Type=a,i.Target=s,[Wr.HLINK,Wr.XPATH,Wr.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+r);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,r}function dve(t){var r=[Yn];r.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),r.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var s=0;s<t.length;++s)r.push('  <manifest:file-entry manifest:full-path="'+t[s][0]+'" manifest:media-type="'+t[s][1]+`"/>
`);return r.push("</manifest:manifest>"),r.join("")}function n$(t,r,s){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(s||"odf")+"#"+r+`"/>
`,`  </rdf:Description>
`].join("")}function uve(t,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+r+`"/>
`,`  </rdf:Description>
`].join("")}function fve(t){var r=[Yn];r.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var s=0;s!=t.length;++s)r.push(n$(t[s][0],t[s][1])),r.push(uve("",t[s][0]));return r.push(n$("","Document","pkg")),r.push("</rdf:RDF>"),r.join("")}function iG(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+mb.version+"</meta:generator></office:meta></office:document-meta>"}var Eu=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function J4(t,r,s,a,i){i[t]!=null||r==null||r===""||(i[t]=r,r=Qr(r),a[a.length]=s?Bt(t,r,s):Is(t,r))}function oG(t,r){var s=r||{},a=[Yn,Bt("cp:coreProperties",null,{"xmlns:cp":hs.CORE_PROPS,"xmlns:dc":hs.dc,"xmlns:dcterms":hs.dcterms,"xmlns:dcmitype":hs.dcmitype,"xmlns:xsi":hs.xsi})],i={};if(!t&&!s.Props)return a.join("");t&&(t.CreatedDate!=null&&J4("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:XC(t.CreatedDate,s.WTF),{"xsi:type":"dcterms:W3CDTF"},a,i),t.ModifiedDate!=null&&J4("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:XC(t.ModifiedDate,s.WTF),{"xsi:type":"dcterms:W3CDTF"},a,i));for(var o=0;o!=Eu.length;++o){var l=Eu[o],c=s.Props&&s.Props[l[1]]!=null?s.Props[l[1]]:t?t[l[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&J4(l[0],c,null,a,i)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var D0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],lG=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function cG(t){var r=[],s=Bt;return t||(t={}),t.Application="SheetJS",r[r.length]=Yn,r[r.length]=Bt("Properties",null,{xmlns:hs.EXT_PROPS,"xmlns:vt":hs.vt}),D0.forEach(function(a){if(t[a[1]]!==void 0){var i;switch(a[2]){case"string":i=Qr(String(t[a[1]]));break;case"bool":i=t[a[1]]?"true":"false";break}i!==void 0&&(r[r.length]=s(a[0],i))}}),r[r.length]=s("HeadingPairs",s("vt:vector",s("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+s("vt:variant",s("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),r[r.length]=s("TitlesOfParts",s("vt:vector",t.SheetNames.map(function(a){return"<vt:lpstr>"+Qr(a)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}function dG(t){var r=[Yn,Bt("Properties",null,{xmlns:hs.CUST_PROPS,"xmlns:vt":hs.vt})];if(!t)return r.join("");var s=1;return Ps(t).forEach(function(i){++s,r[r.length]=Bt("property",Ixe(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:s,name:Qr(i)})}),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}var s$={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function hve(t,r){var s=[];return Ps(s$).map(function(a){for(var i=0;i<Eu.length;++i)if(Eu[i][1]==a)return Eu[i];for(i=0;i<D0.length;++i)if(D0[i][1]==a)return D0[i];throw a}).forEach(function(a){if(t[a[1]]!=null){var i=r&&r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:t[a[1]];switch(a[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),s.push(Is(s$[a[1]]||a[1],i))}}),Bt("DocumentProperties",s.join(""),{xmlns:xi.o})}function gve(t,r){var s=["Worksheets","SheetNames"],a="CustomDocumentProperties",i=[];return t&&Ps(t).forEach(function(o){if(Object.prototype.hasOwnProperty.call(t,o)){for(var l=0;l<Eu.length;++l)if(o==Eu[l][1])return;for(l=0;l<D0.length;++l)if(o==D0[l][1])return;for(l=0;l<s.length;++l)if(o==s[l])return;var c=t[o],d="string";typeof c=="number"?(d="float",c=String(c)):c===!0||c===!1?(d="boolean",c=c?"1":"0"):c=String(c),i.push(Bt(VO(o),c,{"dt:dt":d}))}}),r&&Ps(r).forEach(function(o){if(Object.prototype.hasOwnProperty.call(r,o)&&!(t&&Object.prototype.hasOwnProperty.call(t,o))){var l=r[o],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l instanceof Date?(c="dateTime.tz",l=l.toISOString()):l=String(l),i.push(Bt(VO(o),l,{"dt:dt":c}))}}),"<"+a+' xmlns="'+xi.o+'">'+i.join("")+"</"+a+">"}function mve(t){var r=typeof t=="string"?new Date(Date.parse(t)):t,s=r.getTime()/1e3+11644473600,a=s%Math.pow(2,32),i=(s-a)/Math.pow(2,32);a*=1e7,i*=1e7;var o=a/Math.pow(2,32)|0;o>0&&(a=a%Math.pow(2,32),i+=o);var l=Lt(8);return l.write_shift(4,a),l.write_shift(4,i),l}function a$(t,r){var s=Lt(4),a=Lt(4);switch(s.write_shift(4,t==80?31:t),t){case 3:a.write_shift(-4,r);break;case 5:a=Lt(8),a.write_shift(8,r,"f");break;case 11:a.write_shift(4,r?1:0);break;case 64:a=mve(r);break;case 31:case 80:for(a=Lt(4+2*(r.length+1)+(r.length%2?0:2)),a.write_shift(4,r.length+1),a.write_shift(0,r,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}return Ms([s,a])}var uG=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function pve(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function i$(t,r,s){var a=Lt(8),i=[],o=[],l=8,c=0,d=Lt(8),f=Lt(8);if(d.write_shift(4,2),d.write_shift(4,1200),f.write_shift(4,1),o.push(d),i.push(f),l+=8+d.length,!r){f=Lt(8),f.write_shift(4,0),i.unshift(f);var h=[Lt(4)];for(h[0].write_shift(4,t.length),c=0;c<t.length;++c){var g=t[c][0];for(d=Lt(8+2*(g.length+1)+(g.length%2?0:2)),d.write_shift(4,c+2),d.write_shift(4,g.length+1),d.write_shift(0,g,"dbcs");d.l!=d.length;)d.write_shift(1,0);h.push(d)}d=Ms(h),o.unshift(d),l+=8+d.length}for(c=0;c<t.length;++c)if(!(r&&!r[t[c][0]])&&!(uG.indexOf(t[c][0])>-1||lG.indexOf(t[c][0])>-1)&&t[c][1]!=null){var m=t[c][1],p=0;if(r){p=+r[t[c][0]];var x=s[p];if(x.p=="version"&&typeof m=="string"){var y=m.split(".");m=(+y[0]<<16)+(+y[1]||0)}d=a$(x.t,m)}else{var w=pve(m);w==-1&&(w=31,m=String(m)),d=a$(w,m)}o.push(d),f=Lt(8),f.write_shift(4,r?p:2+c),i.push(f),l+=8+d.length}var b=8*(o.length+1);for(c=0;c<o.length;++c)i[c].write_shift(4,b),b+=o[c].length;return a.write_shift(4,l),a.write_shift(4,o.length),Ms([a].concat(i).concat(o))}function o$(t,r,s,a,i,o){var l=Lt(i?68:48),c=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,tn.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,i?2:1),l.write_shift(16,r,"hex"),l.write_shift(4,i?68:48);var d=i$(t,s,a);if(c.push(d),i){var f=i$(i,null,null);l.write_shift(16,o,"hex"),l.write_shift(4,68+d.length),c.push(f)}return Ms(c)}function xve(t,r){r||(r=Lt(t));for(var s=0;s<t;++s)r.write_shift(1,0);return r}function vve(t,r){return t.read_shift(r)===1}function Ca(t,r){return r||(r=Lt(2)),r.write_shift(2,+!!t),r}function fG(t){return t.read_shift(2,"u")}function Wi(t,r){return r||(r=Lt(2)),r.write_shift(2,t),r}function hG(t,r,s){return s||(s=Lt(2)),s.write_shift(1,r=="e"?+t:+!!t),s.write_shift(1,r=="e"?1:0),s}function gG(t,r,s){var a=t.read_shift(s&&s.biff>=12?2:1),i="sbcs-cont";if(s&&s.biff>=8,!s||s.biff==8){var o=t.read_shift(1);o&&(i="dbcs-cont")}else s.biff==12&&(i="wstr");s.biff>=2&&s.biff<=5&&(i="cpstr");var l=a?t.read_shift(a,i):"";return l}function yve(t){var r=t.t||"",s=Lt(3);s.write_shift(2,r.length),s.write_shift(1,1);var a=Lt(2*r.length);a.write_shift(2*r.length,r,"utf16le");var i=[s,a];return Ms(i)}function bve(t,r,s){var a;if(s){if(s.biff>=2&&s.biff<=5)return t.read_shift(r,"cpstr");if(s.biff>=12)return t.read_shift(r,"dbcs-cont")}var i=t.read_shift(1);return i===0?a=t.read_shift(r,"sbcs-cont"):a=t.read_shift(r,"dbcs-cont"),a}function wve(t,r,s){var a=t.read_shift(s&&s.biff==2?1:2);return a===0?(t.l++,""):bve(t,a,s)}function jve(t,r,s){if(s.biff>5)return wve(t,r,s);var a=t.read_shift(1);return a===0?(t.l++,""):t.read_shift(a,s.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function mG(t,r,s){return s||(s=Lt(3+2*t.length)),s.write_shift(2,t.length),s.write_shift(1,1),s.write_shift(31,t,"utf16le"),s}function l$(t,r){r||(r=Lt(6+t.length*2)),r.write_shift(4,1+t.length);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function Nve(t){var r=Lt(512),s=0,a=t.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var i=a.indexOf("#"),o=i>-1?31:23;switch(a.charAt(0)){case"#":o=28;break;case".":o&=-3;break}r.write_shift(4,2),r.write_shift(4,o);var l=[8,6815827,6619237,4849780,83];for(s=0;s<l.length;++s)r.write_shift(4,l[s]);if(o==28)a=a.slice(1),l$(a,r);else if(o&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<l.length;++s)r.write_shift(1,parseInt(l[s],16));var c=i>-1?a.slice(0,i):a;for(r.write_shift(4,2*(c.length+1)),s=0;s<c.length;++s)r.write_shift(2,c.charCodeAt(s));r.write_shift(2,0),o&8&&l$(i>-1?a.slice(i+1):"",r)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),s=0;s<l.length;++s)r.write_shift(1,parseInt(l[s],16));for(var d=0;a.slice(d*3,d*3+3)=="../"||a.slice(d*3,d*3+3)=="..\\";)++d;for(r.write_shift(2,d),r.write_shift(4,a.length-3*d+1),s=0;s<a.length-3*d;++s)r.write_shift(1,a.charCodeAt(s+3*d)&255);for(r.write_shift(1,0),r.write_shift(2,65535),r.write_shift(2,57005),s=0;s<6;++s)r.write_shift(4,0)}return r.slice(0,r.l)}function zu(t,r,s,a){return a||(a=Lt(6)),a.write_shift(2,t),a.write_shift(2,r),a.write_shift(2,s||0),a}function Sve(t,r,s){var a=s.biff>8?4:2,i=t.read_shift(a),o=t.read_shift(a,"i"),l=t.read_shift(a,"i");return[i,o,l]}function Cve(t){var r=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2);return{s:{c:a,r},e:{c:i,r:s}}}function pG(t,r){return r||(r=Lt(8)),r.write_shift(2,t.s.r),r.write_shift(2,t.e.r),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c),r}function mL(t,r,s){var a=1536,i=16;switch(s.bookType){case"biff8":break;case"biff5":a=1280,i=8;break;case"biff4":a=4,i=6;break;case"biff3":a=3,i=6;break;case"biff2":a=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=Lt(i);return o.write_shift(2,a),o.write_shift(2,r),i>4&&o.write_shift(2,29282),i>6&&o.write_shift(2,1997),i>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function kve(t,r){var s=!r||r.biff==8,a=Lt(s?112:54);for(a.write_shift(r.biff==8?2:1,7),s&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(s?0:536870912));a.l<a.length;)a.write_shift(1,s?0:32);return a}function Eve(t,r){var s=!r||r.biff>=8?2:1,a=Lt(8+s*t.name.length);a.write_shift(4,t.pos),a.write_shift(1,t.hs||0),a.write_shift(1,t.dt),a.write_shift(1,t.name.length),r.biff>=8&&a.write_shift(1,1),a.write_shift(s*t.name.length,t.name,r.biff<8?"sbcs":"utf16le");var i=a.slice(0,a.l);return i.l=a.l,i}function Lve(t,r){var s=Lt(8);s.write_shift(4,t.Count),s.write_shift(4,t.Unique);for(var a=[],i=0;i<t.length;++i)a[i]=yve(t[i]);var o=Ms([s].concat(a));return o.parts=[s.length].concat(a.map(function(l){return l.length})),o}function Mve(){var t=Lt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function Ive(t){var r=Lt(18),s=1718;return t&&t.RTL&&(s|=64),r.write_shift(2,s),r.write_shift(4,0),r.write_shift(4,64),r.write_shift(4,0),r.write_shift(4,0),r}function Tve(t,r){var s=t.name||"Arial",a=r&&r.biff==5,i=a?15+s.length:16+2*s.length,o=Lt(i);return o.write_shift(2,(t.sz||12)*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,s.length),a||o.write_shift(1,1),o.write_shift((a?1:2)*s.length,s,a?"sbcs":"utf16le"),o}function Ave(t,r,s,a){var i=Lt(10);return zu(t,r,a,i),i.write_shift(4,s),i}function _ve(t,r,s,a,i){var o=!i||i.biff==8,l=Lt(8+ +o+(1+o)*s.length);return zu(t,r,a,l),l.write_shift(2,s.length),o&&l.write_shift(1,1),l.write_shift((1+o)*s.length,s,o?"utf16le":"sbcs"),l}function Ove(t,r,s,a){var i=s&&s.biff==5;a||(a=Lt(i?3+r.length:5+2*r.length)),a.write_shift(2,t),a.write_shift(i?1:2,r.length),i||a.write_shift(1,1),a.write_shift((i?1:2)*r.length,r,i?"sbcs":"utf16le");var o=a.length>a.l?a.slice(0,a.l):a;return o.l==null&&(o.l=o.length),o}function $ve(t,r){var s=r.biff==8||!r.biff?4:2,a=Lt(2*s+6);return a.write_shift(s,t.s.r),a.write_shift(s,t.e.r+1),a.write_shift(2,t.s.c),a.write_shift(2,t.e.c+1),a.write_shift(2,0),a}function c$(t,r,s,a){var i=s&&s.biff==5;a||(a=Lt(i?16:20)),a.write_shift(2,0),t.style?(a.write_shift(2,t.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,t.numFmtId||0),a.write_shift(2,r<<4));var o=0;return t.numFmtId>0&&i&&(o|=1024),a.write_shift(4,o),a.write_shift(4,0),i||a.write_shift(4,0),a.write_shift(2,0),a}function Pve(t){var r=Lt(8);return r.write_shift(4,0),r.write_shift(2,0),r.write_shift(2,0),r}function Dve(t,r,s,a,i,o){var l=Lt(8);return zu(t,r,a,l),hG(s,o,l),l}function Rve(t,r,s,a){var i=Lt(14);return zu(t,r,a,i),Bu(s,i),i}function Fve(t,r,s){if(s.biff<8)return Bve(t,r,s);for(var a=[],i=t.l+r,o=t.read_shift(s.biff>8?4:2);o--!==0;)a.push(Sve(t,s.biff>8?12:6,s));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return a}function Bve(t,r,s){t[t.l+1]==3&&t[t.l]++;var a=gG(t,r,s);return a.charCodeAt(0)==3?a.slice(1):a}function zve(t){var r=Lt(2+t.length*8);r.write_shift(2,t.length);for(var s=0;s<t.length;++s)pG(t[s],r);return r}function Uve(t){var r=Lt(24),s=ms(t[0]);r.write_shift(2,s.r),r.write_shift(2,s.r),r.write_shift(2,s.c),r.write_shift(2,s.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)r.write_shift(1,parseInt(a[i],16));return Ms([r,Nve(t[1])])}function Wve(t){var r=t[1].Tooltip,s=Lt(10+2*(r.length+1));s.write_shift(2,2048);var a=ms(t[0]);s.write_shift(2,a.r),s.write_shift(2,a.r),s.write_shift(2,a.c),s.write_shift(2,a.c);for(var i=0;i<r.length;++i)s.write_shift(2,r.charCodeAt(i));return s.write_shift(2,0),s}function Hve(t){return t||(t=Lt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function Vve(t,r,s){if(!s.cellStyles)return ul(t,r);var a=s&&s.biff>=12?4:2,i=t.read_shift(a),o=t.read_shift(a),l=t.read_shift(a),c=t.read_shift(a),d=t.read_shift(2);a==2&&(t.l+=2);var f={s:i,e:o,w:l,ixfe:c,flags:d};return(s.biff>=5||!s.biff)&&(f.level=d>>8&7),f}function Gve(t,r){var s=Lt(12);s.write_shift(2,r),s.write_shift(2,r),s.write_shift(2,t.width*256),s.write_shift(2,0);var a=0;return t.hidden&&(a|=1),s.write_shift(1,a),a=t.level||0,s.write_shift(1,a),s.write_shift(2,0),s}function qve(t){for(var r=Lt(2*t),s=0;s<t;++s)r.write_shift(2,s+1);return r}function Yve(t,r,s){var a=Lt(15);return dx(a,t,r),a.write_shift(8,s,"f"),a}function Jve(t,r,s){var a=Lt(9);return dx(a,t,r),a.write_shift(2,s),a}var Zve=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},r=sL({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function s(c,d){var f=[],h=Fu(1);switch(d.type){case"base64":h=Mo(Wl(c));break;case"binary":h=Mo(c);break;case"buffer":case"array":h=c;break}gi(h,0);var g=h.read_shift(1),m=!!(g&136),p=!1,x=!1;switch(g){case 2:break;case 3:break;case 48:p=!0,m=!0;break;case 49:p=!0,m=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var y=0,w=521;g==2&&(y=h.read_shift(2)),h.l+=3,g!=2&&(y=h.read_shift(4)),y>1048576&&(y=1e6),g!=2&&(w=h.read_shift(2));var b=h.read_shift(2),v=d.codepage||1252;g!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(v=t[h[h.l]]),h.l+=1,h.l+=2),x&&(h.l+=36);for(var j=[],N={},S=Math.min(h.length,g==2?521:w-10-(p?264:0)),I=x?32:11;h.l<S&&h[h.l]!=13;)switch(N={},N.name=cu.utils.decode(v,h.slice(h.l,h.l+I)).replace(/[\u0000\r\n].*$/g,""),h.l+=I,N.type=String.fromCharCode(h.read_shift(1)),g!=2&&!x&&(N.offset=h.read_shift(4)),N.len=h.read_shift(1),g==2&&(N.offset=h.read_shift(2)),N.dec=h.read_shift(1),N.name.length&&j.push(N),g!=2&&(h.l+=x?13:14),N.type){case"B":(!p||N.len!=8)&&d.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+N.type)}if(h[h.l]!==13&&(h.l=w-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=w;var E=0,L=0;for(f[0]=[],L=0;L!=j.length;++L)f[0][L]=j[L].name;for(;y-- >0;){if(h[h.l]===42){h.l+=b;continue}for(++h.l,f[++E]=[],L=0,L=0;L!=j.length;++L){var C=h.slice(h.l,h.l+j[L].len);h.l+=j[L].len,gi(C,0);var T=cu.utils.decode(v,C);switch(j[L].type){case"C":T.trim().length&&(f[E][L]=T.replace(/\s+$/,""));break;case"D":T.length===8?f[E][L]=new Date(+T.slice(0,4),+T.slice(4,6)-1,+T.slice(6,8)):f[E][L]=T;break;case"F":f[E][L]=parseFloat(T.trim());break;case"+":case"I":f[E][L]=x?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(T.trim().toUpperCase()){case"Y":case"T":f[E][L]=!0;break;case"N":case"F":f[E][L]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+T+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));f[E][L]="##MEMO##"+(x?parseInt(T.trim(),10):C.read_shift(4));break;case"N":T=T.replace(/\u0000/g,"").trim(),T&&T!="."&&(f[E][L]=+T||0);break;case"@":f[E][L]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":f[E][L]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":f[E][L]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[E][L]=-C.read_shift(-8,"f");break;case"B":if(p&&j[L].len==8){f[E][L]=C.read_shift(8,"f");break}case"G":case"P":C.l+=j[L].len;break;case"0":if(j[L].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[L].type)}}}if(g!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return d&&d.sheetRows&&(f=f.slice(0,d.sheetRows)),d.DBF=j,f}function a(c,d){var f=d||{};f.dateNF||(f.dateNF="yyyymmdd");var h=_h(s(c,f),f);return h["!cols"]=f.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete f.DBF,h}function i(c,d){try{return rf(a(c,d),d)}catch(f){if(d&&d.WTF)throw f}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,d){var f=d||{};if(+f.codepage>=0&&jp(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var h=Za(),g=Lb(c,{header:1,raw:!0,cellDates:!0}),m=g[0],p=g.slice(1),x=c["!cols"]||[],y=0,w=0,b=0,v=1;for(y=0;y<m.length;++y){if(((x[y]||{}).DBF||{}).name){m[y]=x[y].DBF.name,++b;continue}if(m[y]!=null){if(++b,typeof m[y]=="number"&&(m[y]=m[y].toString(10)),typeof m[y]!="string")throw new Error("DBF Invalid column name "+m[y]+" |"+typeof m[y]+"|");if(m.indexOf(m[y])!==y){for(w=0;w<1024;++w)if(m.indexOf(m[y]+"_"+w)==-1){m[y]+="_"+w;break}}}}var j=mn(c["!ref"]),N=[],S=[],I=[];for(y=0;y<=j.e.c-j.s.c;++y){var E="",L="",C=0,T=[];for(w=0;w<p.length;++w)p[w][y]!=null&&T.push(p[w][y]);if(T.length==0||m[y]==null){N[y]="?";continue}for(w=0;w<T.length;++w){switch(typeof T[w]){case"number":L="B";break;case"string":L="C";break;case"boolean":L="L";break;case"object":L=T[w]instanceof Date?"D":"C";break;default:L="C"}C=Math.max(C,String(T[w]).length),E=E&&E!=L?"C":L}C>250&&(C=250),L=((x[y]||{}).DBF||{}).type,L=="C"&&x[y].DBF.len>C&&(C=x[y].DBF.len),E=="B"&&L=="N"&&(E="N",I[y]=x[y].DBF.dec,C=x[y].DBF.len),S[y]=E=="C"||L=="N"?C:o[E]||0,v+=S[y],N[y]=E}var k=h.next(32);for(k.write_shift(4,318902576),k.write_shift(4,p.length),k.write_shift(2,296+32*b),k.write_shift(2,v),y=0;y<4;++y)k.write_shift(4,0);for(k.write_shift(4,0|(+r[vV]||3)<<8),y=0,w=0;y<m.length;++y)if(m[y]!=null){var M=h.next(32),_=(m[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,_,"sbcs"),M.write_shift(1,N[y]=="?"?"C":N[y],"sbcs"),M.write_shift(4,w),M.write_shift(1,S[y]||o[N[y]]||0),M.write_shift(1,I[y]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),w+=S[y]||o[N[y]]||0}var J=h.next(264);for(J.write_shift(4,13),y=0;y<65;++y)J.write_shift(4,0);for(y=0;y<p.length;++y){var Y=h.next(v);for(Y.write_shift(1,0),w=0;w<m.length;++w)if(m[w]!=null)switch(N[w]){case"L":Y.write_shift(1,p[y][w]==null?63:p[y][w]?84:70);break;case"B":Y.write_shift(8,p[y][w]||0,"f");break;case"N":var te="0";for(typeof p[y][w]=="number"&&(te=p[y][w].toFixed(I[w]||0)),b=0;b<S[w]-te.length;++b)Y.write_shift(1,32);Y.write_shift(1,te,"sbcs");break;case"D":p[y][w]?(Y.write_shift(4,("0000"+p[y][w].getFullYear()).slice(-4),"sbcs"),Y.write_shift(2,("00"+(p[y][w].getMonth()+1)).slice(-2),"sbcs"),Y.write_shift(2,("00"+p[y][w].getDate()).slice(-2),"sbcs")):Y.write_shift(8,"00000000","sbcs");break;case"C":var K=String(p[y][w]!=null?p[y][w]:"").slice(0,S[w]);for(Y.write_shift(1,K,"sbcs"),b=0;b<S[w]-K.length;++b)Y.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:i,to_sheet:a,from_sheet:l}}(),Qve=function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},r=new RegExp("\x1BN("+Ps(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),s=function(m,p){var x=t[p];return typeof x=="number"?_O(x):x},a=function(m,p,x){var y=p.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return y==59?m:_O(y)};t["|"]=254;function i(m,p){switch(p.type){case"base64":return o(Wl(m),p);case"binary":return o(m,p);case"buffer":return o(Hr&&Buffer.isBuffer(m)?m.toString("binary"):ax(m),p);case"array":return o(xw(m),p)}throw new Error("Unrecognized type "+p.type)}function o(m,p){var x=m.split(/[\n\r]+/),y=-1,w=-1,b=0,v=0,j=[],N=[],S=null,I={},E=[],L=[],C=[],T=0,k;for(+p.codepage>=0&&jp(+p.codepage);b!==x.length;++b){T=0;var M=x[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(r,s),_=M.replace(/;;/g,"\0").split(";").map(function(O){return O.replace(/\u0000/g,";")}),J=_[0],Y;if(M.length>0)switch(J){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":_[1].charAt(0)=="P"&&N.push(M.slice(3).replace(/;;/g,";"));break;case"C":var te=!1,K=!1,X=!1,W=!1,F=-1,P=-1;for(v=1;v<_.length;++v)switch(_[v].charAt(0)){case"A":break;case"X":w=parseInt(_[v].slice(1))-1,K=!0;break;case"Y":for(y=parseInt(_[v].slice(1))-1,K||(w=0),k=j.length;k<=y;++k)j[k]=[];break;case"K":Y=_[v].slice(1),Y.charAt(0)==='"'?Y=Y.slice(1,Y.length-1):Y==="TRUE"?Y=!0:Y==="FALSE"?Y=!1:isNaN(Pl(Y))?isNaN(Sp(Y).getDate())||(Y=Ma(Y)):(Y=Pl(Y),S!==null&&IV(S)&&(Y=OV(Y))),te=!0;break;case"E":W=!0;var A=J1e(_[v].slice(1),{r:y,c:w});j[y][w]=[j[y][w],A];break;case"S":X=!0,j[y][w]=[j[y][w],"S5S"];break;case"G":break;case"R":F=parseInt(_[v].slice(1))-1;break;case"C":P=parseInt(_[v].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+M)}if(te&&(j[y][w]&&j[y][w].length==2?j[y][w][0]=Y:j[y][w]=Y,S=null),X){if(W)throw new Error("SYLK shared formula cannot have own formula");var B=F>-1&&j[F][P];if(!B||!B[1])throw new Error("SYLK shared formula cannot find base");j[y][w][1]=Z1e(B[1],{r:y-F,c:w-P})}break;case"F":var z=0;for(v=1;v<_.length;++v)switch(_[v].charAt(0)){case"X":w=parseInt(_[v].slice(1))-1,++z;break;case"Y":for(y=parseInt(_[v].slice(1))-1,k=j.length;k<=y;++k)j[k]=[];break;case"M":T=parseInt(_[v].slice(1))/20;break;case"F":break;case"G":break;case"P":S=N[parseInt(_[v].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=_[v].slice(1).split(" "),k=parseInt(C[0],10);k<=parseInt(C[1],10);++k)T=parseInt(C[2],10),L[k-1]=T===0?{hidden:!0}:{wch:T},pL(L[k-1]);break;case"C":w=parseInt(_[v].slice(1))-1,L[w]||(L[w]={});break;case"R":y=parseInt(_[v].slice(1))-1,E[y]||(E[y]={}),T>0?(E[y].hpt=T,E[y].hpx=wG(T)):T===0&&(E[y].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+M)}z<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+M)}}return E.length>0&&(I["!rows"]=E),L.length>0&&(I["!cols"]=L),p&&p.sheetRows&&(j=j.slice(0,p.sheetRows)),[j,I]}function l(m,p){var x=i(m,p),y=x[0],w=x[1],b=_h(y,p);return Ps(w).forEach(function(v){b[v]=w[v]}),b}function c(m,p){return rf(l(m,p),p)}function d(m,p,x,y){var w="C;Y"+(x+1)+";X"+(y+1)+";K";switch(m.t){case"n":w+=m.v||0,m.f&&!m.F&&(w+=";E"+vL(m.f,{r:x,c:y}));break;case"b":w+=m.v?"TRUE":"FALSE";break;case"e":w+=m.w||m.v;break;case"d":w+='"'+(m.w||m.v)+'"';break;case"s":w+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function f(m,p){p.forEach(function(x,y){var w="F;W"+(y+1)+" "+(y+1)+" ";x.hidden?w+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=Sb(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=Cb(x.wpx)),typeof x.wch=="number"&&(w+=Math.round(x.wch))),w.charAt(w.length-1)!=" "&&m.push(w)})}function h(m,p){p.forEach(function(x,y){var w="F;";x.hidden?w+="M0;":x.hpt?w+="M"+20*x.hpt+";":x.hpx&&(w+="M"+20*kb(x.hpx)+";"),w.length>2&&m.push(w+"R"+(y+1))})}function g(m,p){var x=["ID;PWXL;N;E"],y=[],w=mn(m["!ref"]),b,v=Array.isArray(m),j=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),m["!cols"]&&f(x,m["!cols"]),m["!rows"]&&h(x,m["!rows"]),x.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var N=w.s.r;N<=w.e.r;++N)for(var S=w.s.c;S<=w.e.c;++S){var I=Xr({r:N,c:S});b=v?(m[N]||[])[S]:m[I],!(!b||b.v==null&&(!b.f||b.F))&&y.push(d(b,m,N,S))}return x.join(j)+j+y.join(j)+j+"E"+j}return{to_workbook:c,to_sheet:l,from_sheet:g}}(),Kve=function(){function t(o,l){switch(l.type){case"base64":return r(Wl(o),l);case"binary":return r(o,l);case"buffer":return r(Hr&&Buffer.isBuffer(o)?o.toString("binary"):ax(o),l);case"array":return r(xw(o),l)}throw new Error("Unrecognized type "+l.type)}function r(o,l){for(var c=o.split(`
`),d=-1,f=-1,h=0,g=[];h!==c.length;++h){if(c[h].trim()==="BOT"){g[++d]=[],f=0;continue}if(!(d<0)){var m=c[h].trim().split(","),p=m[0],x=m[1];++h;for(var y=c[h]||"";(y.match(/["]/g)||[]).length&1&&h<c.length-1;)y+=`
`+c[++h];switch(y=y.trim(),+p){case-1:if(y==="BOT"){g[++d]=[],f=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?g[d][f]=!0:y==="FALSE"?g[d][f]=!1:isNaN(Pl(x))?isNaN(Sp(x).getDate())?g[d][f]=x:g[d][f]=Ma(x):g[d][f]=Pl(x),++f;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),g[d][f++]=y!==""?y:null;break}if(y==="EOD")break}}return l&&l.sheetRows&&(g=g.slice(0,l.sheetRows)),g}function s(o,l){return _h(t(o,l),l)}function a(o,l){return rf(s(o,l),l)}var i=function(){var o=function(d,f,h,g,m){d.push(f),d.push(h+","+g),d.push('"'+m.replace(/"/g,'""')+'"')},l=function(d,f,h,g){d.push(f+","+h),d.push(f==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(d){var f=[],h=mn(d["!ref"]),g,m=Array.isArray(d);o(f,"TABLE",0,1,"sheetjs"),o(f,"VECTORS",0,h.e.r-h.s.r+1,""),o(f,"TUPLES",0,h.e.c-h.s.c+1,""),o(f,"DATA",0,0,"");for(var p=h.s.r;p<=h.e.r;++p){l(f,-1,0,"BOT");for(var x=h.s.c;x<=h.e.c;++x){var y=Xr({r:p,c:x});if(g=m?(d[p]||[])[x]:d[y],!g){l(f,1,0,"");continue}switch(g.t){case"n":var w=g.w;!w&&g.v!=null&&(w=g.v),w==null?g.f&&!g.F?l(f,1,0,"="+g.f):l(f,1,0,""):l(f,0,w,"V");break;case"b":l(f,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":l(f,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=vd(g.z||_n[14],Qa(Ma(g.v)))),l(f,0,g.w,"V");break;default:l(f,1,0,"")}}}l(f,-1,0,"EOD");var b=`\r
`,v=f.join(b);return v}}();return{to_workbook:a,to_sheet:s,from_sheet:i}}(),xG=function(){function t(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function r(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function s(g,m){for(var p=g.split(`
`),x=-1,y=-1,w=0,b=[];w!==p.length;++w){var v=p[w].trim().split(":");if(v[0]==="cell"){var j=ms(v[1]);if(b.length<=j.r)for(x=b.length;x<=j.r;++x)b[x]||(b[x]=[]);switch(x=j.r,y=j.c,v[2]){case"t":b[x][y]=t(v[3]);break;case"v":b[x][y]=+v[3];break;case"vtf":var N=v[v.length-1];case"vtc":switch(v[3]){case"nl":b[x][y]=!!+v[4];break;default:b[x][y]=+v[4];break}v[2]=="vtf"&&(b[x][y]=[b[x][y],N])}}}return m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),b}function a(g,m){return _h(s(g,m),m)}function i(g,m){return rf(a(g,m),m)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function f(g){if(!g||!g["!ref"])return"";for(var m=[],p=[],x,y="",w=Ci(g["!ref"]),b=Array.isArray(g),v=w.s.r;v<=w.e.r;++v)for(var j=w.s.c;j<=w.e.c;++j)if(y=Xr({r:v,c:j}),x=b?(g[v]||[])[j]:g[y],!(!x||x.v==null||x.t==="z")){switch(p=["cell",y,"t"],x.t){case"s":case"str":p.push(r(x.v));break;case"n":x.f?(p[2]="vtf",p[3]="n",p[4]=x.v,p[5]=r(x.f)):(p[2]="v",p[3]=x.v);break;case"b":p[2]="vt"+(x.f?"f":"c"),p[3]="nl",p[4]=x.v?"1":"0",p[5]=r(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var N=Qa(Ma(x.v));p[2]="vtc",p[3]="nd",p[4]=""+N,p[5]=x.w||vd(x.z||_n[14],N);break;case"e":continue}m.push(p.join(":"))}return m.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function h(g){return[o,l,c,l,f(g),d].join(`
`)}return{to_workbook:i,to_sheet:a,from_sheet:h}}(),Xve=function(){function t(h,g,m,p,x){x.raw?g[m][p]=h:h===""||(h==="TRUE"?g[m][p]=!0:h==="FALSE"?g[m][p]=!1:isNaN(Pl(h))?isNaN(Sp(h).getDate())?g[m][p]=h:g[m][p]=Ma(h):g[m][p]=Pl(h))}function r(h,g){var m=g||{},p=[];if(!h||h.length===0)return p;for(var x=h.split(/[\r\n]/),y=x.length-1;y>=0&&x[y].length===0;)--y;for(var w=10,b=0,v=0;v<=y;++v)b=x[v].indexOf(" "),b==-1?b=x[v].length:b++,w=Math.max(w,b);for(v=0;v<=y;++v){p[v]=[];var j=0;for(t(x[v].slice(0,w).trim(),p,v,j,m),j=1;j<=(x[v].length-w)/10+1;++j)t(x[v].slice(w+(j-1)*10,w+j*10).trim(),p,v,j,m)}return m.sheetRows&&(p=p.slice(0,m.sheetRows)),p}var s={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function i(h){for(var g={},m=!1,p=0,x=0;p<h.length;++p)(x=h.charCodeAt(p))==34?m=!m:!m&&x in s&&(g[x]=(g[x]||0)+1);x=[];for(p in g)Object.prototype.hasOwnProperty.call(g,p)&&x.push([g[p],p]);if(!x.length){g=a;for(p in g)Object.prototype.hasOwnProperty.call(g,p)&&x.push([g[p],p])}return x.sort(function(y,w){return y[0]-w[0]||a[y[1]]-a[w[1]]}),s[x.pop()[1]]||44}function o(h,g){var m=g||{},p="",x=m.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(p=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(p=h.charAt(4),h=h.slice(6)):p=i(h.slice(0,1024)):m&&m.FS?p=m.FS:p=i(h.slice(0,1024));var w=0,b=0,v=0,j=0,N=0,S=p.charCodeAt(0),I=!1,E=0,L=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var C=m.dateNF!=null?mxe(m.dateNF):null;function T(){var k=h.slice(j,N),M={};if(k.charAt(0)=='"'&&k.charAt(k.length-1)=='"'&&(k=k.slice(1,-1).replace(/""/g,'"')),k.length===0)M.t="z";else if(m.raw)M.t="s",M.v=k;else if(k.trim().length===0)M.t="s",M.v=k;else if(k.charCodeAt(0)==61)k.charCodeAt(1)==34&&k.charCodeAt(k.length-1)==34?(M.t="s",M.v=k.slice(2,-1).replace(/""/g,'"')):Q1e(k)?(M.t="n",M.f=k.slice(1)):(M.t="s",M.v=k);else if(k=="TRUE")M.t="b",M.v=!0;else if(k=="FALSE")M.t="b",M.v=!1;else if(!isNaN(v=Pl(k)))M.t="n",m.cellText!==!1&&(M.w=k),M.v=v;else if(!isNaN(Sp(k).getDate())||C&&k.match(C)){M.z=m.dateNF||_n[14];var _=0;C&&k.match(C)&&(k=pxe(k,m.dateNF,k.match(C)||[]),_=1),m.cellDates?(M.t="d",M.v=Ma(k,_)):(M.t="n",M.v=Qa(Ma(k,_))),m.cellText!==!1&&(M.w=vd(M.z,M.v instanceof Date?Qa(M.v):M.v)),m.cellNF||delete M.z}else M.t="s",M.v=k;if(M.t=="z"||(m.dense?(x[w]||(x[w]=[]),x[w][b]=M):x[Xr({c:b,r:w})]=M),j=N+1,L=h.charCodeAt(j),y.e.c<b&&(y.e.c=b),y.e.r<w&&(y.e.r=w),E==S)++b;else if(b=0,++w,m.sheetRows&&m.sheetRows<=w)return!0}e:for(;N<h.length;++N)switch(E=h.charCodeAt(N)){case 34:L===34&&(I=!I);break;case S:case 10:case 13:if(!I&&T())break e;break}return N-j>0&&T(),x["!ref"]=qn(y),x}function l(h,g){return!(g&&g.PRN)||g.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?o(h,g):_h(r(h,g),g)}function c(h,g){var m="",p=g.type=="string"?[0,0,0,0]:uje(h,g);switch(g.type){case"base64":m=Wl(h);break;case"binary":m=h;break;case"buffer":g.codepage==65001?m=h.toString("utf8"):g.codepage&&typeof cu!="undefined"?m=cu.utils.decode(g.codepage,h):m=Hr&&Buffer.isBuffer(h)?h.toString("binary"):ax(h);break;case"array":m=xw(h);break;case"string":m=h;break;default:throw new Error("Unrecognized type "+g.type)}return p[0]==239&&p[1]==187&&p[2]==191?m=Tm(m.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?m=Tm(m):g.type=="binary"&&typeof cu!="undefined"&&g.codepage&&(m=cu.utils.decode(g.codepage,cu.utils.encode(28591,m))),m.slice(0,19)=="socialcalc:version:"?xG.to_sheet(g.type=="string"?m:Tm(m),g):l(m,g)}function d(h,g){return rf(c(h,g),g)}function f(h){for(var g=[],m=mn(h["!ref"]),p,x=Array.isArray(h),y=m.s.r;y<=m.e.r;++y){for(var w=[],b=m.s.c;b<=m.e.c;++b){var v=Xr({r:y,c:b});if(p=x?(h[y]||[])[b]:h[v],!p||p.v==null){w.push("          ");continue}for(var j=(p.w||(Hl(p),p.w)||"").slice(0,10);j.length<10;)j+=" ";w.push(j+(b===0?" ":""))}g.push(w.join(""))}return g.join(`
`)}return{to_workbook:d,to_sheet:c,from_sheet:f}}(),d$=function(){function t(A,B,z){if(A){gi(A,A.l||0);for(var O=z.Enum||F;A.l<A.length;){var U=A.read_shift(2),Z=O[U]||O[65535],se=A.read_shift(2),fe=A.l+se,le=Z.f&&Z.f(A,se,z);if(A.l=fe,B(le,Z,U))return}}}function r(A,B){switch(B.type){case"base64":return s(Mo(Wl(A)),B);case"binary":return s(Mo(A),B);case"buffer":case"array":return s(A,B)}throw"Unsupported type "+B.type}function s(A,B){if(!A)return A;var z=B||{},O=z.dense?[]:{},U="Sheet1",Z="",se=0,fe={},le=[],Ne=[],Te={s:{r:0,c:0},e:{r:0,c:0}},ht=z.sheetRows||0;if(A[2]==0&&(A[3]==8||A[3]==9)&&A.length>=16&&A[14]==5&&A[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(A[2]==2)z.Enum=F,t(A,function(Je,G,ae){switch(ae){case 0:z.vers=Je,Je>=4096&&(z.qpro=!0);break;case 6:Te=Je;break;case 204:Je&&(Z=Je);break;case 222:Z=Je;break;case 15:case 51:z.qpro||(Je[1].v=Je[1].v.slice(1));case 13:case 14:case 16:ae==14&&(Je[2]&112)==112&&(Je[2]&15)>1&&(Je[2]&15)<15&&(Je[1].z=z.dateNF||_n[14],z.cellDates&&(Je[1].t="d",Je[1].v=OV(Je[1].v))),z.qpro&&Je[3]>se&&(O["!ref"]=qn(Te),fe[U]=O,le.push(U),O=z.dense?[]:{},Te={s:{r:0,c:0},e:{r:0,c:0}},se=Je[3],U=Z||"Sheet"+(se+1),Z="");var Me=z.dense?(O[Je[0].r]||[])[Je[0].c]:O[Xr(Je[0])];if(Me){Me.t=Je[1].t,Me.v=Je[1].v,Je[1].z!=null&&(Me.z=Je[1].z),Je[1].f!=null&&(Me.f=Je[1].f);break}z.dense?(O[Je[0].r]||(O[Je[0].r]=[]),O[Je[0].r][Je[0].c]=Je[1]):O[Xr(Je[0])]=Je[1];break}},z);else if(A[2]==26||A[2]==14)z.Enum=P,A[2]==14&&(z.qpro=!0,A.l=0),t(A,function(Je,G,ae){switch(ae){case 204:U=Je;break;case 22:Je[1].v=Je[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Je[3]>se&&(O["!ref"]=qn(Te),fe[U]=O,le.push(U),O=z.dense?[]:{},Te={s:{r:0,c:0},e:{r:0,c:0}},se=Je[3],U="Sheet"+(se+1)),ht>0&&Je[0].r>=ht)break;z.dense?(O[Je[0].r]||(O[Je[0].r]=[]),O[Je[0].r][Je[0].c]=Je[1]):O[Xr(Je[0])]=Je[1],Te.e.c<Je[0].c&&(Te.e.c=Je[0].c),Te.e.r<Je[0].r&&(Te.e.r=Je[0].r);break;case 27:Je[14e3]&&(Ne[Je[14e3][0]]=Je[14e3][1]);break;case 1537:Ne[Je[0]]=Je[1],Je[0]==se&&(U=Je[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+A[2]);if(O["!ref"]=qn(Te),fe[Z||U]=O,le.push(Z||U),!Ne.length)return{SheetNames:le,Sheets:fe};for(var Fe={},Ve=[],ut=0;ut<Ne.length;++ut)fe[le[ut]]?(Ve.push(Ne[ut]||le[ut]),Fe[Ne[ut]]=fe[Ne[ut]]||fe[le[ut]]):(Ve.push(Ne[ut]),Fe[Ne[ut]]={"!ref":"A1"});return{SheetNames:Ve,Sheets:Fe}}function a(A,B){var z=B||{};if(+z.codepage>=0&&jp(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var O=Za(),U=mn(A["!ref"]),Z=Array.isArray(A),se=[];zt(O,0,o(1030)),zt(O,6,d(U));for(var fe=Math.min(U.e.r,8191),le=U.s.r;le<=fe;++le)for(var Ne=_s(le),Te=U.s.c;Te<=U.e.c;++Te){le===U.s.r&&(se[Te]=Gs(Te));var ht=se[Te]+Ne,Fe=Z?(A[le]||[])[Te]:A[ht];if(!(!Fe||Fe.t=="z"))if(Fe.t=="n")(Fe.v|0)==Fe.v&&Fe.v>=-32768&&Fe.v<=32767?zt(O,13,p(le,Te,Fe.v)):zt(O,14,y(le,Te,Fe.v));else{var Ve=Hl(Fe);zt(O,15,g(le,Te,Ve.slice(0,239)))}}return zt(O,1),O.end()}function i(A,B){var z=B||{};if(+z.codepage>=0&&jp(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var O=Za();zt(O,0,l(A));for(var U=0,Z=0;U<A.SheetNames.length;++U)(A.Sheets[A.SheetNames[U]]||{})["!ref"]&&zt(O,27,W(A.SheetNames[U],Z++));var se=0;for(U=0;U<A.SheetNames.length;++U){var fe=A.Sheets[A.SheetNames[U]];if(!(!fe||!fe["!ref"])){for(var le=mn(fe["!ref"]),Ne=Array.isArray(fe),Te=[],ht=Math.min(le.e.r,8191),Fe=le.s.r;Fe<=ht;++Fe)for(var Ve=_s(Fe),ut=le.s.c;ut<=le.e.c;++ut){Fe===le.s.r&&(Te[ut]=Gs(ut));var Je=Te[ut]+Ve,G=Ne?(fe[Fe]||[])[ut]:fe[Je];if(!(!G||G.t=="z"))if(G.t=="n")zt(O,23,T(Fe,ut,se,G.v));else{var ae=Hl(G);zt(O,22,E(Fe,ut,se,ae.slice(0,239)))}}++se}}return zt(O,1),O.end()}function o(A){var B=Lt(2);return B.write_shift(2,A),B}function l(A){var B=Lt(26);B.write_shift(2,4096),B.write_shift(2,4),B.write_shift(4,0);for(var z=0,O=0,U=0,Z=0;Z<A.SheetNames.length;++Z){var se=A.SheetNames[Z],fe=A.Sheets[se];if(!(!fe||!fe["!ref"])){++U;var le=Ci(fe["!ref"]);z<le.e.r&&(z=le.e.r),O<le.e.c&&(O=le.e.c)}}return z>8191&&(z=8191),B.write_shift(2,z),B.write_shift(1,U),B.write_shift(1,O),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(1,1),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(4,0),B}function c(A,B,z){var O={s:{c:0,r:0},e:{c:0,r:0}};return B==8&&z.qpro?(O.s.c=A.read_shift(1),A.l++,O.s.r=A.read_shift(2),O.e.c=A.read_shift(1),A.l++,O.e.r=A.read_shift(2),O):(O.s.c=A.read_shift(2),O.s.r=A.read_shift(2),B==12&&z.qpro&&(A.l+=2),O.e.c=A.read_shift(2),O.e.r=A.read_shift(2),B==12&&z.qpro&&(A.l+=2),O.s.c==65535&&(O.s.c=O.e.c=O.s.r=O.e.r=0),O)}function d(A){var B=Lt(8);return B.write_shift(2,A.s.c),B.write_shift(2,A.s.r),B.write_shift(2,A.e.c),B.write_shift(2,A.e.r),B}function f(A,B,z){var O=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(O[0].c=A.read_shift(1),O[3]=A.read_shift(1),O[0].r=A.read_shift(2),A.l+=2):(O[2]=A.read_shift(1),O[0].c=A.read_shift(2),O[0].r=A.read_shift(2)),O}function h(A,B,z){var O=A.l+B,U=f(A,B,z);if(U[1].t="s",z.vers==20768){A.l++;var Z=A.read_shift(1);return U[1].v=A.read_shift(Z,"utf8"),U}return z.qpro&&A.l++,U[1].v=A.read_shift(O-A.l,"cstr"),U}function g(A,B,z){var O=Lt(7+z.length);O.write_shift(1,255),O.write_shift(2,B),O.write_shift(2,A),O.write_shift(1,39);for(var U=0;U<O.length;++U){var Z=z.charCodeAt(U);O.write_shift(1,Z>=128?95:Z)}return O.write_shift(1,0),O}function m(A,B,z){var O=f(A,B,z);return O[1].v=A.read_shift(2,"i"),O}function p(A,B,z){var O=Lt(7);return O.write_shift(1,255),O.write_shift(2,B),O.write_shift(2,A),O.write_shift(2,z,"i"),O}function x(A,B,z){var O=f(A,B,z);return O[1].v=A.read_shift(8,"f"),O}function y(A,B,z){var O=Lt(13);return O.write_shift(1,255),O.write_shift(2,B),O.write_shift(2,A),O.write_shift(8,z,"f"),O}function w(A,B,z){var O=A.l+B,U=f(A,B,z);if(U[1].v=A.read_shift(8,"f"),z.qpro)A.l=O;else{var Z=A.read_shift(2);N(A.slice(A.l,A.l+Z),U),A.l+=Z}return U}function b(A,B,z){var O=B&32768;return B&=-32769,B=(O?A:0)+(B>=8192?B-16384:B),(O?"":"$")+(z?Gs(B):_s(B))}var v={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function N(A,B){gi(A,0);for(var z=[],O=0,U="",Z="",se="",fe="";A.l<A.length;){var le=A[A.l++];switch(le){case 0:z.push(A.read_shift(8,"f"));break;case 1:Z=b(B[0].c,A.read_shift(2),!0),U=b(B[0].r,A.read_shift(2),!1),z.push(Z+U);break;case 2:{var Ne=b(B[0].c,A.read_shift(2),!0),Te=b(B[0].r,A.read_shift(2),!1);Z=b(B[0].c,A.read_shift(2),!0),U=b(B[0].r,A.read_shift(2),!1),z.push(Ne+Te+":"+Z+U)}break;case 3:if(A.l<A.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(A.read_shift(2));break;case 6:{for(var ht="";le=A[A.l++];)ht+=String.fromCharCode(le);z.push('"'+ht.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:fe=z.pop(),se=z.pop(),z.push(["AND","OR"][le-20]+"("+se+","+fe+")");break;default:if(le<32&&j[le])fe=z.pop(),se=z.pop(),z.push(se+j[le]+fe);else if(v[le]){if(O=v[le][1],O==69&&(O=A[A.l++]),O>z.length){console.error("WK1 bad formula parse 0x"+le.toString(16)+":|"+z.join("|")+"|");return}var Fe=z.slice(-O);z.length-=O,z.push(v[le][0]+"("+Fe.join(",")+")")}else return le<=7?console.error("WK1 invalid opcode "+le.toString(16)):le<=24?console.error("WK1 unsupported op "+le.toString(16)):le<=30?console.error("WK1 invalid opcode "+le.toString(16)):le<=115?console.error("WK1 unsupported function opcode "+le.toString(16)):console.error("WK1 unrecognized opcode "+le.toString(16))}}z.length==1?B[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function S(A){var B=[{c:0,r:0},{t:"n",v:0},0];return B[0].r=A.read_shift(2),B[3]=A[A.l++],B[0].c=A[A.l++],B}function I(A,B){var z=S(A);return z[1].t="s",z[1].v=A.read_shift(B-4,"cstr"),z}function E(A,B,z,O){var U=Lt(6+O.length);U.write_shift(2,A),U.write_shift(1,z),U.write_shift(1,B),U.write_shift(1,39);for(var Z=0;Z<O.length;++Z){var se=O.charCodeAt(Z);U.write_shift(1,se>=128?95:se)}return U.write_shift(1,0),U}function L(A,B){var z=S(A);z[1].v=A.read_shift(2);var O=z[1].v>>1;if(z[1].v&1)switch(O&7){case 0:O=(O>>3)*5e3;break;case 1:O=(O>>3)*500;break;case 2:O=(O>>3)/20;break;case 3:O=(O>>3)/200;break;case 4:O=(O>>3)/2e3;break;case 5:O=(O>>3)/2e4;break;case 6:O=(O>>3)/16;break;case 7:O=(O>>3)/64;break}return z[1].v=O,z}function C(A,B){var z=S(A),O=A.read_shift(4),U=A.read_shift(4),Z=A.read_shift(2);if(Z==65535)return O===0&&U===3221225472?(z[1].t="e",z[1].v=15):O===0&&U===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var se=Z&32768;return Z=(Z&32767)-16446,z[1].v=(1-se*2)*(U*Math.pow(2,Z+32)+O*Math.pow(2,Z)),z}function T(A,B,z,O){var U=Lt(14);if(U.write_shift(2,A),U.write_shift(1,z),U.write_shift(1,B),O==0)return U.write_shift(4,0),U.write_shift(4,0),U.write_shift(2,65535),U;var Z=0,se=0,fe=0,le=0;return O<0&&(Z=1,O=-O),se=Math.log2(O)|0,O/=Math.pow(2,se-31),le=O>>>0,le&2147483648||(O/=2,++se,le=O>>>0),O-=le,le|=2147483648,le>>>=0,O*=Math.pow(2,32),fe=O>>>0,U.write_shift(4,fe),U.write_shift(4,le),se+=16383+(Z?32768:0),U.write_shift(2,se),U}function k(A,B){var z=C(A);return A.l+=B-14,z}function M(A,B){var z=S(A),O=A.read_shift(4);return z[1].v=O>>6,z}function _(A,B){var z=S(A),O=A.read_shift(8,"f");return z[1].v=O,z}function J(A,B){var z=_(A);return A.l+=B-10,z}function Y(A,B){return A[A.l+B-1]==0?A.read_shift(B,"cstr"):""}function te(A,B){var z=A[A.l++];z>B-1&&(z=B-1);for(var O="";O.length<z;)O+=String.fromCharCode(A[A.l++]);return O}function K(A,B,z){if(!(!z.qpro||B<21)){var O=A.read_shift(1);A.l+=17,A.l+=1,A.l+=2;var U=A.read_shift(B-21,"cstr");return[O,U]}}function X(A,B){for(var z={},O=A.l+B;A.l<O;){var U=A.read_shift(2);if(U==14e3){for(z[U]=[0,""],z[U][0]=A.read_shift(2);A[A.l];)z[U][1]+=String.fromCharCode(A[A.l]),A.l++;A.l++}}return z}function W(A,B){var z=Lt(5+A.length);z.write_shift(2,14e3),z.write_shift(2,B);for(var O=0;O<A.length;++O){var U=A.charCodeAt(O);z[z.l++]=U>127?95:U}return z[z.l++]=0,z}var F={0:{n:"BOF",f:fG},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Y},222:{n:"SHEETNAMELP",f:te},65535:{n:""}},P={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:I},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:L},25:{n:"FORMULA19",f:k},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:X},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:_},40:{n:"FORMULA28",f:J},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Y},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:K},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:i,to_workbook:r}}(),e1e=/^\s|\s$|[\t\n\r]/;function vG(t,r){if(!r.bookSST)return"";var s=[Yn];s[s.length]=Bt("sst",null,{xmlns:Ah[0],count:t.Count,uniqueCount:t.Unique});for(var a=0;a!=t.length;++a)if(t[a]!=null){var i=t[a],o="<si>";i.r?o+=i.r:(o+="<t",i.t||(i.t=""),i.t.match(e1e)&&(o+=' xml:space="preserve"'),o+=">"+Qr(i.t)+"</t>"),o+="</si>",s[s.length]=o}return s.length>2&&(s[s.length]="</sst>",s[1]=s[1].replace("/>",">")),s.join("")}function t1e(t){return[t.read_shift(4),t.read_shift(4)]}function r1e(t,r){return r||(r=Lt(8)),r.write_shift(4,t.Count),r.write_shift(4,t.Unique),r}var n1e=qxe;function s1e(t){var r=Za();At(r,159,r1e(t));for(var s=0;s<t.length;++s)At(r,19,n1e(t[s]));return At(r,160),r.end()}function a1e(t){for(var r=[],s=t.split(""),a=0;a<s.length;++a)r[a]=s[a].charCodeAt(0);return r}function yG(t){var r=0,s,a=a1e(t),i=a.length+1,o,l,c,d,f;for(s=Fu(i),s[0]=a.length,o=1;o!=i;++o)s[o]=a[o-1];for(o=i-1;o>=0;--o)l=s[o],c=r&16384?1:0,d=r<<1&32767,f=c|d,r=f^l;return r^52811}var i1e=function(){function t(i,o){switch(o.type){case"base64":return r(Wl(i),o);case"binary":return r(i,o);case"buffer":return r(Hr&&Buffer.isBuffer(i)?i.toString("binary"):ax(i),o);case"array":return r(xw(i),o)}throw new Error("Unrecognized type "+o.type)}function r(i,o){var l=o||{},c=l.dense?[]:{},d=i.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(h,g){Array.isArray(c)&&(c[g]=[]);for(var m=/\\\w+\b/g,p=0,x,y=-1;x=m.exec(h);){switch(x[0]){case"\\cell":var w=h.slice(p,m.lastIndex-x[0].length);if(w[0]==" "&&(w=w.slice(1)),++y,w.length){var b={v:w,t:"s"};Array.isArray(c)?c[g][y]=b:c[Xr({r:g,c:y})]=b}break}p=m.lastIndex}y>f.e.c&&(f.e.c=y)}),c["!ref"]=qn(f),c}function s(i,o){return rf(t(i,o),o)}function a(i){for(var o=["{\\rtf1\\ansi"],l=mn(i["!ref"]),c,d=Array.isArray(i),f=l.s.r;f<=l.e.r;++f){o.push("\\trowd\\trautofit1");for(var h=l.s.c;h<=l.e.c;++h)o.push("\\cellx"+(h+1));for(o.push("\\pard\\intbl"),h=l.s.c;h<=l.e.c;++h){var g=Xr({r:f,c:h});c=d?(i[f]||[])[h]:i[g],!(!c||c.v==null&&(!c.f||c.F))&&(o.push(" "+(c.w||(Hl(c),c.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:s,to_sheet:t,from_sheet:a}}();function u$(t){for(var r=0,s=1;r!=3;++r)s=s*256+(t[r]>255?255:t[r]<0?0:t[r]);return s.toString(16).toUpperCase().slice(1)}var o1e=6,Dl=o1e;function Sb(t){return Math.floor((t+Math.round(128/Dl)/256)*Dl)}function Cb(t){return Math.floor((t-5)/Dl*100+.5)/100}function t6(t){return Math.round((t*Dl+5)/Dl*256)/256}function pL(t){t.width?(t.wpx=Sb(t.width),t.wch=Cb(t.wpx),t.MDW=Dl):t.wpx?(t.wch=Cb(t.wpx),t.width=t6(t.wch),t.MDW=Dl):typeof t.wch=="number"&&(t.width=t6(t.wch),t.wpx=Sb(t.width),t.MDW=Dl),t.customWidth&&delete t.customWidth}var l1e=96,bG=l1e;function kb(t){return t*96/bG}function wG(t){return t*bG/96}function c1e(t){var r=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&(r[r.length]=Bt("numFmt",null,{numFmtId:a,formatCode:Qr(t[a])}))}),r.length===1?"":(r[r.length]="</numFmts>",r[0]=Bt("numFmts",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function d1e(t){var r=[];return r[r.length]=Bt("cellXfs",null),t.forEach(function(s){r[r.length]=Bt("xf",null,s)}),r[r.length]="</cellXfs>",r.length===2?"":(r[0]=Bt("cellXfs",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function jG(t,r){var s=[Yn,Bt("styleSheet",null,{xmlns:Ah[0],"xmlns:vt":hs.vt})],a;return t.SSF&&(a=c1e(t.SSF))!=null&&(s[s.length]=a),s[s.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',s[s.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',s[s.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',s[s.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=d1e(r.cellXfs))&&(s[s.length]=a),s[s.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',s[s.length]='<dxfs count="0"/>',s[s.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',s.length>2&&(s[s.length]="</styleSheet>",s[1]=s[1].replace("/>",">")),s.join("")}function u1e(t,r){var s=t.read_shift(2),a=qs(t);return[s,a]}function f1e(t,r,s){s||(s=Lt(6+4*r.length)),s.write_shift(2,t),ps(r,s);var a=s.length>s.l?s.slice(0,s.l):s;return s.l==null&&(s.l=s.length),a}function h1e(t,r,s){var a={};a.sz=t.read_shift(2)/20;var i=eve(t);i.fItalic&&(a.italic=1),i.fCondense&&(a.condense=1),i.fExtend&&(a.extend=1),i.fShadow&&(a.shadow=1),i.fOutline&&(a.outline=1),i.fStrikeout&&(a.strike=1);var o=t.read_shift(2);switch(o===700&&(a.bold=1),t.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var l=t.read_shift(1);l!=0&&(a.underline=l);var c=t.read_shift(1);c>0&&(a.family=c);var d=t.read_shift(1);switch(d>0&&(a.charset=d),t.l++,a.color=Xxe(t),t.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=qs(t),a}function g1e(t,r){r||(r=Lt(25+4*32)),r.write_shift(2,t.sz*20),tve(t,r),r.write_shift(2,t.bold?700:400);var s=0;t.vertAlign=="superscript"?s=1:t.vertAlign=="subscript"&&(s=2),r.write_shift(2,s),r.write_shift(1,t.underline||0),r.write_shift(1,t.family||0),r.write_shift(1,t.charset||0),r.write_shift(1,0),jb(t.color,r);var a=0;return t.scheme=="major"&&(a=1),t.scheme=="minor"&&(a=2),r.write_shift(1,a),ps(t.name,r),r.length>r.l?r.slice(0,r.l):r}var m1e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Z4,p1e=ul;function f$(t,r){r||(r=Lt(4*3+8*7+16*1)),Z4||(Z4=sL(m1e));var s=Z4[t.patternType];s==null&&(s=40),r.write_shift(4,s);var a=0;if(s!=40)for(jb({auto:1},r),jb({auto:1},r);a<12;++a)r.write_shift(4,0);else{for(;a<4;++a)r.write_shift(4,0);for(;a<12;++a)r.write_shift(4,0)}return r.length>r.l?r.slice(0,r.l):r}function x1e(t,r){var s=t.l+r,a=t.read_shift(2),i=t.read_shift(2);return t.l=s,{ixfe:a,numFmtId:i}}function NG(t,r,s){s||(s=Lt(16)),s.write_shift(2,r||0),s.write_shift(2,t.numFmtId||0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(1,0),s.write_shift(1,0);var a=0;return s.write_shift(1,a),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(1,0),s}function Og(t,r){return r||(r=Lt(10)),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(4,0),r}var v1e=ul;function y1e(t,r){return r||(r=Lt(51)),r.write_shift(1,0),Og(null,r),Og(null,r),Og(null,r),Og(null,r),Og(null,r),r.length>r.l?r.slice(0,r.l):r}function b1e(t,r){return r||(r=Lt(12+4*10)),r.write_shift(4,t.xfId),r.write_shift(2,1),r.write_shift(1,+t.builtinId),r.write_shift(1,0),wb(t.name||"",r),r.length>r.l?r.slice(0,r.l):r}function w1e(t,r,s){var a=Lt(2052);return a.write_shift(4,t),wb(r,a),wb(s,a),a.length>a.l?a.slice(0,a.l):a}function j1e(t,r){if(r){var s=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var i=a[0];i<=a[1];++i)r[i]!=null&&++s}),s!=0&&(At(t,615,Po(s)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var i=a[0];i<=a[1];++i)r[i]!=null&&At(t,44,f1e(i,r[i]))}),At(t,616))}}function N1e(t){var r=1;At(t,611,Po(r)),At(t,43,g1e({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),At(t,612)}function S1e(t){var r=2;At(t,603,Po(r)),At(t,45,f$({patternType:"none"})),At(t,45,f$({patternType:"gray125"})),At(t,604)}function C1e(t){var r=1;At(t,613,Po(r)),At(t,46,y1e()),At(t,614)}function k1e(t){var r=1;At(t,626,Po(r)),At(t,47,NG({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),At(t,627)}function E1e(t,r){At(t,617,Po(r.length)),r.forEach(function(s){At(t,47,NG(s,0))}),At(t,618)}function L1e(t){var r=1;At(t,619,Po(r)),At(t,48,b1e({xfId:0,builtinId:0,name:"Normal"})),At(t,620)}function M1e(t){var r=0;At(t,505,Po(r)),At(t,506)}function I1e(t){var r=0;At(t,508,w1e(r,"TableStyleMedium9","PivotStyleMedium4")),At(t,509)}function T1e(t,r){var s=Za();return At(s,278),j1e(s,t.SSF),N1e(s),S1e(s),C1e(s),k1e(s),E1e(s,r.cellXfs),L1e(s),M1e(s),I1e(s),At(s,279),s.end()}function SG(t,r){if(r&&r.themeXLSX)return r.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var s=[Yn];return s[s.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',s[s.length]="<a:themeElements>",s[s.length]='<a:clrScheme name="Office">',s[s.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',s[s.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',s[s.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',s[s.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',s[s.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',s[s.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',s[s.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',s[s.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',s[s.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',s[s.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',s[s.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',s[s.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',s[s.length]="</a:clrScheme>",s[s.length]='<a:fontScheme name="Office">',s[s.length]="<a:majorFont>",s[s.length]='<a:latin typeface="Cambria"/>',s[s.length]='<a:ea typeface=""/>',s[s.length]='<a:cs typeface=""/>',s[s.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',s[s.length]='<a:font script="Hang" typeface="맑은 고딕"/>',s[s.length]='<a:font script="Hans" typeface="宋体"/>',s[s.length]='<a:font script="Hant" typeface="新細明體"/>',s[s.length]='<a:font script="Arab" typeface="Times New Roman"/>',s[s.length]='<a:font script="Hebr" typeface="Times New Roman"/>',s[s.length]='<a:font script="Thai" typeface="Tahoma"/>',s[s.length]='<a:font script="Ethi" typeface="Nyala"/>',s[s.length]='<a:font script="Beng" typeface="Vrinda"/>',s[s.length]='<a:font script="Gujr" typeface="Shruti"/>',s[s.length]='<a:font script="Khmr" typeface="MoolBoran"/>',s[s.length]='<a:font script="Knda" typeface="Tunga"/>',s[s.length]='<a:font script="Guru" typeface="Raavi"/>',s[s.length]='<a:font script="Cans" typeface="Euphemia"/>',s[s.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',s[s.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',s[s.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',s[s.length]='<a:font script="Thaa" typeface="MV Boli"/>',s[s.length]='<a:font script="Deva" typeface="Mangal"/>',s[s.length]='<a:font script="Telu" typeface="Gautami"/>',s[s.length]='<a:font script="Taml" typeface="Latha"/>',s[s.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',s[s.length]='<a:font script="Orya" typeface="Kalinga"/>',s[s.length]='<a:font script="Mlym" typeface="Kartika"/>',s[s.length]='<a:font script="Laoo" typeface="DokChampa"/>',s[s.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',s[s.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',s[s.length]='<a:font script="Viet" typeface="Times New Roman"/>',s[s.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',s[s.length]='<a:font script="Geor" typeface="Sylfaen"/>',s[s.length]="</a:majorFont>",s[s.length]="<a:minorFont>",s[s.length]='<a:latin typeface="Calibri"/>',s[s.length]='<a:ea typeface=""/>',s[s.length]='<a:cs typeface=""/>',s[s.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',s[s.length]='<a:font script="Hang" typeface="맑은 고딕"/>',s[s.length]='<a:font script="Hans" typeface="宋体"/>',s[s.length]='<a:font script="Hant" typeface="新細明體"/>',s[s.length]='<a:font script="Arab" typeface="Arial"/>',s[s.length]='<a:font script="Hebr" typeface="Arial"/>',s[s.length]='<a:font script="Thai" typeface="Tahoma"/>',s[s.length]='<a:font script="Ethi" typeface="Nyala"/>',s[s.length]='<a:font script="Beng" typeface="Vrinda"/>',s[s.length]='<a:font script="Gujr" typeface="Shruti"/>',s[s.length]='<a:font script="Khmr" typeface="DaunPenh"/>',s[s.length]='<a:font script="Knda" typeface="Tunga"/>',s[s.length]='<a:font script="Guru" typeface="Raavi"/>',s[s.length]='<a:font script="Cans" typeface="Euphemia"/>',s[s.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',s[s.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',s[s.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',s[s.length]='<a:font script="Thaa" typeface="MV Boli"/>',s[s.length]='<a:font script="Deva" typeface="Mangal"/>',s[s.length]='<a:font script="Telu" typeface="Gautami"/>',s[s.length]='<a:font script="Taml" typeface="Latha"/>',s[s.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',s[s.length]='<a:font script="Orya" typeface="Kalinga"/>',s[s.length]='<a:font script="Mlym" typeface="Kartika"/>',s[s.length]='<a:font script="Laoo" typeface="DokChampa"/>',s[s.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',s[s.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',s[s.length]='<a:font script="Viet" typeface="Arial"/>',s[s.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',s[s.length]='<a:font script="Geor" typeface="Sylfaen"/>',s[s.length]="</a:minorFont>",s[s.length]="</a:fontScheme>",s[s.length]='<a:fmtScheme name="Office">',s[s.length]="<a:fillStyleLst>",s[s.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:lin ang="16200000" scaled="1"/>',s[s.length]="</a:gradFill>",s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:lin ang="16200000" scaled="0"/>',s[s.length]="</a:gradFill>",s[s.length]="</a:fillStyleLst>",s[s.length]="<a:lnStyleLst>",s[s.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]="</a:lnStyleLst>",s[s.length]="<a:effectStyleLst>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]="</a:effectStyle>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]="</a:effectStyle>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',s[s.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',s[s.length]="</a:effectStyle>",s[s.length]="</a:effectStyleLst>",s[s.length]="<a:bgFillStyleLst>",s[s.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',s[s.length]="</a:gradFill>",s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',s[s.length]="</a:gradFill>",s[s.length]="</a:bgFillStyleLst>",s[s.length]="</a:fmtScheme>",s[s.length]="</a:themeElements>",s[s.length]="<a:objectDefaults>",s[s.length]="<a:spDef>",s[s.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',s[s.length]="</a:spDef>",s[s.length]="<a:lnDef>",s[s.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',s[s.length]="</a:lnDef>",s[s.length]="</a:objectDefaults>",s[s.length]="<a:extraClrSchemeLst/>",s[s.length]="</a:theme>",s.join("")}function A1e(t,r){return{flags:t.read_shift(4),version:t.read_shift(4),name:qs(t)}}function _1e(t){var r=Lt(12+2*t.name.length);return r.write_shift(4,t.flags),r.write_shift(4,t.version),ps(t.name,r),r.slice(0,r.l)}function O1e(t){for(var r=[],s=t.read_shift(4);s-- >0;)r.push([t.read_shift(4),t.read_shift(4)]);return r}function $1e(t){var r=Lt(4+8*t.length);r.write_shift(4,t.length);for(var s=0;s<t.length;++s)r.write_shift(4,t[s][0]),r.write_shift(4,t[s][1]);return r}function P1e(t,r){var s=Lt(8+2*r.length);return s.write_shift(4,t),ps(r,s),s.slice(0,s.l)}function D1e(t){return t.l+=4,t.read_shift(4)!=0}function R1e(t,r){var s=Lt(8);return s.write_shift(4,t),s.write_shift(4,1),s}function F1e(){var t=Za();return At(t,332),At(t,334,Po(1)),At(t,335,_1e({name:"XLDAPR",version:12e4,flags:3496657072})),At(t,336),At(t,339,P1e(1,"XLDAPR")),At(t,52),At(t,35,Po(514)),At(t,4096,Po(0)),At(t,4097,Wi(1)),At(t,36),At(t,53),At(t,340),At(t,337,R1e(1)),At(t,51,$1e([[1,0]])),At(t,338),At(t,333),t.end()}function CG(){var t=[Yn];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function B1e(t){var r={};r.i=t.read_shift(4);var s={};s.r=t.read_shift(4),s.c=t.read_shift(4),r.r=Xr(s);var a=t.read_shift(1);return a&2&&(r.l="1"),a&8&&(r.a="1"),r}var b0=1024;function kG(t,r){for(var s=[21600,21600],a=["m0,0l0",s[1],s[0],s[1],s[0],"0xe"].join(","),i=[Bt("xml",null,{"xmlns:v":xi.v,"xmlns:o":xi.o,"xmlns:x":xi.x,"xmlns:mv":xi.mv}).replace(/\/>/,">"),Bt("o:shapelayout",Bt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Bt("v:shapetype",[Bt("v:stroke",null,{joinstyle:"miter"}),Bt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:s.join(","),path:a})];b0<t*1e3;)b0+=1e3;return r.forEach(function(o){var l=ms(o[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var d=c.type=="gradient"?Bt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Bt("v:fill",d,c),h={on:"t",obscured:"t"};++b0,i=i.concat(["<v:shape"+kp({id:"_x0000_s"+b0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Bt("v:shadow",null,h),Bt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Is("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),Is("x:AutoFill","False"),Is("x:Row",String(l.r)),Is("x:Column",String(l.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function EG(t){var r=[Yn,Bt("comments",null,{xmlns:Ah[0]})],s=[];return r.push("<authors>"),t.forEach(function(a){a[1].forEach(function(i){var o=Qr(i.a);s.indexOf(o)==-1&&(s.push(o),r.push("<author>"+o+"</author>")),i.T&&i.ID&&s.indexOf("tc="+i.ID)==-1&&(s.push("tc="+i.ID),r.push("<author>tc="+i.ID+"</author>"))})}),s.length==0&&(s.push("SheetJ5"),r.push("<author>SheetJ5</author>")),r.push("</authors>"),r.push("<commentList>"),t.forEach(function(a){var i=0,o=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?i=s.indexOf("tc="+a[1][0].ID):a[1].forEach(function(d){d.a&&(i=s.indexOf(Qr(d.a))),o.push(d.t||"")}),r.push('<comment ref="'+a[0]+'" authorId="'+i+'"><text>'),o.length<=1)r.push(Is("t",Qr(o[0]||"")));else{for(var l=`Comment:
    `+o[0]+`
`,c=1;c<o.length;++c)l+=`Reply:
    `+o[c]+`
`;r.push(Is("t",Qr(l)))}r.push("</text></comment>")}),r.push("</commentList>"),r.length>2&&(r[r.length]="</comments>",r[1]=r[1].replace("/>",">")),r.join("")}function z1e(t,r,s){var a=[Yn,Bt("ThreadedComments",null,{xmlns:hs.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var o="";(i[1]||[]).forEach(function(l,c){if(!l.T){delete l.ID;return}l.a&&r.indexOf(l.a)==-1&&r.push(l.a);var d={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+s.tcid++).slice(-12)+"}"};c==0?o=d.id:d.parentId=o,l.ID=d.id,l.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+r.indexOf(l.a)).slice(-12)+"}"),a.push(Bt("threadedComment",Is("text",l.t||""),d))})}),a.push("</ThreadedComments>"),a.join("")}function U1e(t){var r=[Yn,Bt("personList",null,{xmlns:hs.TCMNT,"xmlns:x":Ah[0]}).replace(/[\/]>/,">")];return t.forEach(function(s,a){r.push(Bt("person",null,{displayName:s,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:s,providerId:"None"}))}),r.push("</personList>"),r.join("")}function W1e(t){var r={};r.iauthor=t.read_shift(4);var s=of(t);return r.rfx=s.s,r.ref=Xr(s.s),t.l+=16,r}function H1e(t,r){return r==null&&(r=Lt(36)),r.write_shift(4,t[1].iauthor),Oh(t[0],r),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r}var V1e=qs;function G1e(t){return ps(t.slice(0,54))}function q1e(t){var r=Za(),s=[];return At(r,628),At(r,630),t.forEach(function(a){a[1].forEach(function(i){s.indexOf(i.a)>-1||(s.push(i.a.slice(0,54)),At(r,632,G1e(i.a)))})}),At(r,631),At(r,633),t.forEach(function(a){a[1].forEach(function(i){i.iauthor=s.indexOf(i.a);var o={s:ms(a[0]),e:ms(a[0])};At(r,635,H1e([o,i])),i.t&&i.t.length>0&&At(r,637,Jxe(i)),At(r,636),delete i.iauthor})}),At(r,634),At(r,629),r.end()}function Y1e(t,r){r.FullPaths.forEach(function(s,a){if(a!=0){var i=s.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&tn.utils.cfb_add(t,i,r.FileIndex[a].content)}})}var LG=["xlsb","xlsm","xlam","biff8","xla"],J1e=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,r={r:0,c:0};function s(a,i,o,l){var c=!1,d=!1;o.length==0?d=!0:o.charAt(0)=="["&&(d=!0,o=o.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var f=o.length>0?parseInt(o,10)|0:0,h=l.length>0?parseInt(l,10)|0:0;return c?h+=r.c:--h,d?f+=r.r:--f,i+(c?"":"$")+Gs(h)+(d?"":"$")+_s(f)}return function(i,o){return r=o,i.replace(t,s)}}(),xL=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,vL=function(){return function(r,s){return r.replace(xL,function(a,i,o,l,c,d){var f=uL(l)-(o?0:s.c),h=dL(d)-(c?0:s.r),g=h==0?"":c?h+1:"["+h+"]",m=f==0?"":o?f+1:"["+f+"]";return i+"R"+g+"C"+m})}}();function Z1e(t,r){return t.replace(xL,function(s,a,i,o,l,c){return a+(i=="$"?i+o:Gs(uL(o)+r.c))+(l=="$"?l+c:_s(dL(c)+r.r))})}function Q1e(t){return t.length!=1}function Wn(t){t.l+=1}function yd(t,r){var s=t.read_shift(2);return[s&16383,s>>14&1,s>>15&1]}function MG(t,r,s){var a=2;if(s){if(s.biff>=2&&s.biff<=5)return IG(t);s.biff==12&&(a=4)}var i=t.read_shift(a),o=t.read_shift(a),l=yd(t),c=yd(t);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:o,c:c[0],cRel:c[1],rRel:c[2]}}}function IG(t){var r=yd(t),s=yd(t),a=t.read_shift(1),i=t.read_shift(1);return{s:{r:r[0],c:a,cRel:r[1],rRel:r[2]},e:{r:s[0],c:i,cRel:s[1],rRel:s[2]}}}function K1e(t,r,s){if(s.biff<8)return IG(t);var a=t.read_shift(s.biff==12?4:2),i=t.read_shift(s.biff==12?4:2),o=yd(t),l=yd(t);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function TG(t,r,s){if(s&&s.biff>=2&&s.biff<=5)return X1e(t);var a=t.read_shift(s&&s.biff==12?4:2),i=yd(t);return{r:a,c:i[0],cRel:i[1],rRel:i[2]}}function X1e(t){var r=yd(t),s=t.read_shift(1);return{r:r[0],c:s,cRel:r[1],rRel:r[2]}}function eye(t){var r=t.read_shift(2),s=t.read_shift(2);return{r,c:s&255,fQuoted:!!(s&16384),cRel:s>>15,rRel:s>>15}}function tye(t,r,s){var a=s&&s.biff?s.biff:8;if(a>=2&&a<=5)return rye(t);var i=t.read_shift(a>=12?4:2),o=t.read_shift(2),l=(o&16384)>>14,c=(o&32768)>>15;if(o&=16383,c==1)for(;i>524287;)i-=1048576;if(l==1)for(;o>8191;)o=o-16384;return{r:i,c:o,cRel:l,rRel:c}}function rye(t){var r=t.read_shift(2),s=t.read_shift(1),a=(r&32768)>>15,i=(r&16384)>>14;return r&=16383,a==1&&r>=8192&&(r=r-16384),i==1&&s>=128&&(s=s-256),{r,c:s,cRel:i,rRel:a}}function nye(t,r,s){var a=(t[t.l++]&96)>>5,i=MG(t,s.biff>=2&&s.biff<=5?6:8,s);return[a,i]}function sye(t,r,s){var a=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),o=8;if(s)switch(s.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}var l=MG(t,o,s);return[a,i,l]}function aye(t,r,s){var a=(t[t.l++]&96)>>5;return t.l+=s&&s.biff>8?12:s.biff<8?6:8,[a]}function iye(t,r,s){var a=(t[t.l++]&96)>>5,i=t.read_shift(2),o=8;if(s)switch(s.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}return t.l+=o,[a,i]}function oye(t,r,s){var a=(t[t.l++]&96)>>5,i=K1e(t,r-1,s);return[a,i]}function lye(t,r,s){var a=(t[t.l++]&96)>>5;return t.l+=s.biff==2?6:s.biff==12?14:7,[a]}function h$(t){var r=t[t.l+1]&1,s=1;return t.l+=4,[r,s]}function cye(t,r,s){t.l+=2;for(var a=t.read_shift(s&&s.biff==2?1:2),i=[],o=0;o<=a;++o)i.push(t.read_shift(s&&s.biff==2?1:2));return i}function dye(t,r,s){var a=t[t.l+1]&255?1:0;return t.l+=2,[a,t.read_shift(s&&s.biff==2?1:2)]}function uye(t,r,s){var a=t[t.l+1]&255?1:0;return t.l+=2,[a,t.read_shift(s&&s.biff==2?1:2)]}function fye(t){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(2)]}function hye(t,r,s){var a=t[t.l+1]&255?1:0;return t.l+=s&&s.biff==2?3:4,[a]}function AG(t){var r=t.read_shift(1),s=t.read_shift(1);return[r,s]}function gye(t){return t.read_shift(2),AG(t)}function mye(t){return t.read_shift(2),AG(t)}function pye(t,r,s){var a=(t[t.l]&96)>>5;t.l+=1;var i=TG(t,0,s);return[a,i]}function xye(t,r,s){var a=(t[t.l]&96)>>5;t.l+=1;var i=tye(t,0,s);return[a,i]}function vye(t,r,s){var a=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);s&&s.biff==5&&(t.l+=12);var o=TG(t,0,s);return[a,i,o]}function yye(t,r,s){var a=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(s&&s.biff<=3?1:2);return[ybe[i],$G[i],a]}function bye(t,r,s){var a=t[t.l++],i=t.read_shift(1),o=s&&s.biff<=3?[a==88?-1:0,t.read_shift(1)]:wye(t);return[i,(o[0]===0?$G:vbe)[o[1]]]}function wye(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function jye(t,r,s){t.l+=s&&s.biff==2?3:4}function Nye(t,r,s){if(t.l++,s&&s.biff==12)return[t.read_shift(4,"i"),0];var a=t.read_shift(2),i=t.read_shift(s&&s.biff==2?1:2);return[a,i]}function Sye(t){return t.l++,lx[t.read_shift(1)]}function Cye(t){return t.l++,t.read_shift(2)}function kye(t){return t.l++,t.read_shift(1)!==0}function Eye(t){return t.l++,$h(t)}function Lye(t,r,s){return t.l++,gG(t,r-1,s)}function Mye(t,r){var s=[t.read_shift(1)];if(r==12)switch(s[0]){case 2:s[0]=4;break;case 4:s[0]=16;break;case 0:s[0]=1;break;case 1:s[0]=2;break}switch(s[0]){case 4:s[1]=vve(t,1)?"TRUE":"FALSE",r!=12&&(t.l+=7);break;case 37:case 16:s[1]=lx[t[t.l]],t.l+=r==12?4:8;break;case 0:t.l+=8;break;case 1:s[1]=$h(t);break;case 2:s[1]=jve(t,0,{biff:r>0&&r<8?2:r});break;default:throw new Error("Bad SerAr: "+s[0])}return s}function Iye(t,r,s){for(var a=t.read_shift(s.biff==12?4:2),i=[],o=0;o!=a;++o)i.push((s.biff==12?of:Cve)(t));return i}function Tye(t,r,s){var a=0,i=0;s.biff==12?(a=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),a=1+t.read_shift(2)),s.biff>=2&&s.biff<8&&(--a,--i==0&&(i=256));for(var o=0,l=[];o!=a&&(l[o]=[]);++o)for(var c=0;c!=i;++c)l[o][c]=Mye(t,s.biff);return l}function Aye(t,r,s){var a=t.read_shift(1)>>>5&3,i=!s||s.biff>=8?4:2,o=t.read_shift(i);switch(s.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[a,0,o]}function _ye(t,r,s){if(s.biff==5)return Oye(t);var a=t.read_shift(1)>>>5&3,i=t.read_shift(2),o=t.read_shift(4);return[a,i,o]}function Oye(t){var r=t.read_shift(1)>>>5&3,s=t.read_shift(2,"i");t.l+=8;var a=t.read_shift(2);return t.l+=12,[r,s,a]}function $ye(t,r,s){var a=t.read_shift(1)>>>5&3;t.l+=s&&s.biff==2?3:4;var i=t.read_shift(s&&s.biff==2?1:2);return[a,i]}function Pye(t,r,s){var a=t.read_shift(1)>>>5&3,i=t.read_shift(s&&s.biff==2?1:2);return[a,i]}function Dye(t,r,s){var a=t.read_shift(1)>>>5&3;return t.l+=4,s.biff<8&&t.l--,s.biff==12&&(t.l+=2),[a]}function Rye(t,r,s){var a=(t[t.l++]&96)>>5,i=t.read_shift(2),o=4;if(s)switch(s.biff){case 5:o=15;break;case 12:o=6;break}return t.l+=o,[a,i]}var Fye=ul,Bye=ul,zye=ul;function cx(t,r,s){return t.l+=2,[eye(t)]}function yL(t){return t.l+=6,[]}var Uye=cx,Wye=yL,Hye=yL,Vye=cx;function _G(t){return t.l+=2,[fG(t),t.read_shift(2)&1]}var Gye=cx,qye=_G,Yye=yL,Jye=cx,Zye=cx,Qye=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Kye(t){t.l+=2;var r=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(4),i=t.read_shift(2),o=t.read_shift(2),l=Qye[s>>2&31];return{ixti:r,coltype:s&3,rt:l,idx:a,c:i,C:o}}function Xye(t){return t.l+=2,[t.read_shift(4)]}function ebe(t,r,s){return t.l+=5,t.l+=2,t.l+=s.biff==2?1:4,["PTGSHEET"]}function tbe(t,r,s){return t.l+=s.biff==2?4:5,["PTGENDSHEET"]}function rbe(t){var r=t.read_shift(1)>>>5&3,s=t.read_shift(2);return[r,s]}function nbe(t){var r=t.read_shift(1)>>>5&3,s=t.read_shift(2);return[r,s]}function sbe(t){return t.l+=4,[0,0]}var g$={1:{n:"PtgExp",f:Nye},2:{n:"PtgTbl",f:zye},3:{n:"PtgAdd",f:Wn},4:{n:"PtgSub",f:Wn},5:{n:"PtgMul",f:Wn},6:{n:"PtgDiv",f:Wn},7:{n:"PtgPower",f:Wn},8:{n:"PtgConcat",f:Wn},9:{n:"PtgLt",f:Wn},10:{n:"PtgLe",f:Wn},11:{n:"PtgEq",f:Wn},12:{n:"PtgGe",f:Wn},13:{n:"PtgGt",f:Wn},14:{n:"PtgNe",f:Wn},15:{n:"PtgIsect",f:Wn},16:{n:"PtgUnion",f:Wn},17:{n:"PtgRange",f:Wn},18:{n:"PtgUplus",f:Wn},19:{n:"PtgUminus",f:Wn},20:{n:"PtgPercent",f:Wn},21:{n:"PtgParen",f:Wn},22:{n:"PtgMissArg",f:Wn},23:{n:"PtgStr",f:Lye},26:{n:"PtgSheet",f:ebe},27:{n:"PtgEndSheet",f:tbe},28:{n:"PtgErr",f:Sye},29:{n:"PtgBool",f:kye},30:{n:"PtgInt",f:Cye},31:{n:"PtgNum",f:Eye},32:{n:"PtgArray",f:lye},33:{n:"PtgFunc",f:yye},34:{n:"PtgFuncVar",f:bye},35:{n:"PtgName",f:Aye},36:{n:"PtgRef",f:pye},37:{n:"PtgArea",f:nye},38:{n:"PtgMemArea",f:$ye},39:{n:"PtgMemErr",f:Fye},40:{n:"PtgMemNoMem",f:Bye},41:{n:"PtgMemFunc",f:Pye},42:{n:"PtgRefErr",f:Dye},43:{n:"PtgAreaErr",f:aye},44:{n:"PtgRefN",f:xye},45:{n:"PtgAreaN",f:oye},46:{n:"PtgMemAreaN",f:rbe},47:{n:"PtgMemNoMemN",f:nbe},57:{n:"PtgNameX",f:_ye},58:{n:"PtgRef3d",f:vye},59:{n:"PtgArea3d",f:sye},60:{n:"PtgRefErr3d",f:Rye},61:{n:"PtgAreaErr3d",f:iye},255:{}},abe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},ibe={1:{n:"PtgElfLel",f:_G},2:{n:"PtgElfRw",f:Jye},3:{n:"PtgElfCol",f:Uye},6:{n:"PtgElfRwV",f:Zye},7:{n:"PtgElfColV",f:Vye},10:{n:"PtgElfRadical",f:Gye},11:{n:"PtgElfRadicalS",f:Yye},13:{n:"PtgElfColS",f:Wye},15:{n:"PtgElfColSV",f:Hye},16:{n:"PtgElfRadicalLel",f:qye},25:{n:"PtgList",f:Kye},29:{n:"PtgSxName",f:Xye},255:{}},obe={0:{n:"PtgAttrNoop",f:sbe},1:{n:"PtgAttrSemi",f:hye},2:{n:"PtgAttrIf",f:uye},4:{n:"PtgAttrChoose",f:cye},8:{n:"PtgAttrGoto",f:dye},16:{n:"PtgAttrSum",f:jye},32:{n:"PtgAttrBaxcel",f:h$},33:{n:"PtgAttrBaxcel",f:h$},64:{n:"PtgAttrSpace",f:gye},65:{n:"PtgAttrSpaceSemi",f:mye},128:{n:"PtgAttrIfError",f:fye},255:{}};function lbe(t,r,s,a){if(a.biff<8)return ul(t,r);for(var i=t.l+r,o=[],l=0;l!==s.length;++l)switch(s[l][0]){case"PtgArray":s[l][1]=Tye(t,0,a),o.push(s[l][1]);break;case"PtgMemArea":s[l][2]=Iye(t,s[l][1],a),o.push(s[l][2]);break;case"PtgExp":a&&a.biff==12&&(s[l][1][1]=t.read_shift(4),o.push(s[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+s[l][0]}return r=i-t.l,r!==0&&o.push(ul(t,r)),o}function cbe(t,r,s){for(var a=t.l+r,i,o,l=[];a!=t.l;)r=a-t.l,o=t[t.l],i=g$[o]||g$[abe[o]],(o===24||o===25)&&(i=(o===24?ibe:obe)[t[t.l+1]]),!i||!i.f?ul(t,r):l.push([i.n,i.f(t,r,s)]);return l}function dbe(t){for(var r=[],s=0;s<t.length;++s){for(var a=t[s],i=[],o=0;o<a.length;++o){var l=a[o];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}r.push(i.join(","))}return r.join(";")}var ube={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function fbe(t,r){if(!t&&!(r&&r.biff<=5&&r.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function OG(t,r,s){if(!t)return"SH33TJSERR0";if(s.biff>8&&(!t.XTI||!t.XTI[r]))return t.SheetNames[r];if(!t.XTI)return"SH33TJSERR6";var a=t.XTI[r];if(s.biff<8)return r>1e4&&(r-=65536),r<0&&(r=-r),r==0?"":t.XTI[r-1];if(!a)return"SH33TJSERR1";var i="";if(s.biff>8)switch(t[a[0]][0]){case 357:return i=a[1]==-1?"#REF":t.SheetNames[a[1]],a[1]==a[2]?i:i+":"+t.SheetNames[a[2]];case 358:return s.SID!=null?t.SheetNames[s.SID]:"SH33TJSSAME"+t[a[0]][0];case 355:default:return"SH33TJSSRC"+t[a[0]][0]}switch(t[a[0]][0][0]){case 1025:return i=a[1]==-1?"#REF":t.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?i:i+":"+t.SheetNames[a[2]];case 14849:return t[a[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return t[a[0]][0][3]?(i=a[1]==-1?"#REF":t[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?i:i+":"+t[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function m$(t,r,s){var a=OG(t,r,s);return a=="#REF"?a:fbe(a,s)}function ih(t,r,s,a,i){var o=i&&i.biff||8,l={s:{c:0,r:0},e:{c:0,r:0}},c=[],d,f,h,g=0,m=0,p,x="";if(!t[0]||!t[0][0])return"";for(var y=-1,w="",b=0,v=t[0].length;b<v;++b){var j=t[0][b];switch(j[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=c.pop(),f=c.pop(),y>=0){switch(t[0][y][1][0]){case 0:w=Tn(" ",t[0][y][1][1]);break;case 1:w=Tn("\r",t[0][y][1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][y][1][0])}f=f+w,y=-1}c.push(f+ube[j[0]]+d);break;case"PtgIsect":d=c.pop(),f=c.pop(),c.push(f+" "+d);break;case"PtgUnion":d=c.pop(),f=c.pop(),c.push(f+","+d);break;case"PtgRange":d=c.pop(),f=c.pop(),c.push(f+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=_m(j[1][1],l,i),c.push(Om(h,o));break;case"PtgRefN":h=s?_m(j[1][1],s,i):j[1][1],c.push(Om(h,o));break;case"PtgRef3d":g=j[1][1],h=_m(j[1][2],l,i),x=m$(a,g,i),c.push(x+"!"+Om(h,o));break;case"PtgFunc":case"PtgFuncVar":var N=j[1][0],S=j[1][1];N||(N=0),N&=127;var I=N==0?[]:c.slice(-N);c.length-=N,S==="User"&&(S=I.shift()),c.push(S+"("+I.join(",")+")");break;case"PtgBool":c.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(j[1]);break;case"PtgNum":c.push(String(j[1]));break;case"PtgStr":c.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(j[1]);break;case"PtgAreaN":p=XO(j[1][1],s?{s}:l,i),c.push(Y4(p,i));break;case"PtgArea":p=XO(j[1][1],l,i),c.push(Y4(p,i));break;case"PtgArea3d":g=j[1][1],p=j[1][2],x=m$(a,g,i),c.push(x+"!"+Y4(p,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=j[1][2];var E=(a.names||[])[m-1]||(a[0]||[])[m],L=E?E.Name:"SH33TJSNAME"+String(m);L&&L.slice(0,6)=="_xlfn."&&!i.xlfn&&(L=L.slice(6)),c.push(L);break;case"PtgNameX":var C=j[1][1];m=j[1][2];var T;if(i.biff<=5)C<0&&(C=-C),a[C]&&(T=a[C][m]);else{var k="";if(((a[C]||[])[0]||[])[0]==14849||(((a[C]||[])[0]||[])[0]==1025?a[C][m]&&a[C][m].itab>0&&(k=a.SheetNames[a[C][m].itab-1]+"!"):k=a.SheetNames[m-1]+"!"),a[C]&&a[C][m])k+=a[C][m].Name;else if(a[0]&&a[0][m])k+=a[0][m].Name;else{var M=(OG(a,C,i)||"").split(";;");M[m-1]?k=M[m-1]:k+="SH33TJSERRX"}c.push(k);break}T||(T={Name:"SH33TJSERRY"}),c.push(T.Name);break;case"PtgParen":var _="(",J=")";if(y>=0){switch(w="",t[0][y][1][0]){case 2:_=Tn(" ",t[0][y][1][1])+_;break;case 3:_=Tn("\r",t[0][y][1][1])+_;break;case 4:J=Tn(" ",t[0][y][1][1])+J;break;case 5:J=Tn("\r",t[0][y][1][1])+J;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][y][1][0])}y=-1}c.push(_+c.pop()+J);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":h={c:j[1][1],r:j[1][0]};var Y={c:s.c,r:s.r};if(a.sharedf[Xr(h)]){var te=a.sharedf[Xr(h)];c.push(ih(te,l,Y,a,i))}else{var K=!1;for(d=0;d!=a.arrayf.length;++d)if(f=a.arrayf[d],!(h.c<f[0].s.c||h.c>f[0].e.c)&&!(h.r<f[0].s.r||h.r>f[0].e.r)){c.push(ih(f[1],l,Y,a,i)),K=!0;break}K||c.push(j[1])}break;case"PtgArray":c.push("{"+dbe(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var X=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&y>=0&&X.indexOf(t[0][b][0])==-1){j=t[0][y];var W=!0;switch(j[1][0]){case 4:W=!1;case 0:w=Tn(" ",j[1][1]);break;case 5:W=!1;case 1:w=Tn("\r",j[1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}c.push((W?w:"")+c.pop()+(W?"":w)),y=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function hbe(t){if(t==null){var r=Lt(8);return r.write_shift(1,3),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,65535),r}else if(typeof t=="number")return Bu(t);return Bu(0)}function gbe(t,r,s,a,i){var o=zu(r,s,i),l=hbe(t.v),c=Lt(6),d=33;c.write_shift(2,d),c.write_shift(4,0);for(var f=Lt(t.bf.length),h=0;h<t.bf.length;++h)f[h]=t.bf[h];var g=Ms([o,l,c,f]);return g}function vw(t,r,s){var a=t.read_shift(4),i=cbe(t,a,s),o=t.read_shift(4),l=o>0?lbe(t,o,i,s):null;return[i,l]}var mbe=vw,yw=vw,pbe=vw,xbe=vw,vbe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},$G={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},ybe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function bbe(t){var r="of:="+t.replace(xL,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return r.replace(/;/g,"|").replace(/,/g,";")}function wbe(t){return t.replace(/\./,"!")}var $m=typeof Map!="undefined";function bL(t,r,s){var a=0,i=t.length;if(s){if($m?s.has(r):Object.prototype.hasOwnProperty.call(s,r)){for(var o=$m?s.get(r):s[r];a<o.length;++a)if(t[o[a]].t===r)return t.Count++,o[a]}}else for(;a<i;++a)if(t[a].t===r)return t.Count++,a;return t[i]={t:r},t.Count++,t.Unique++,s&&($m?(s.has(r)||s.set(r,[]),s.get(r).push(i)):(Object.prototype.hasOwnProperty.call(s,r)||(s[r]=[]),s[r].push(i))),i}function bw(t,r){var s={min:t+1,max:t+1},a=-1;return r.MDW&&(Dl=r.MDW),r.width!=null?s.customWidth=1:r.wpx!=null?a=Cb(r.wpx):r.wch!=null&&(a=r.wch),a>-1?(s.width=t6(a),s.customWidth=1):r.width!=null&&(s.width=r.width),r.hidden&&(s.hidden=!0),r.level!=null&&(s.outlineLevel=s.level=r.level),s}function PG(t,r){if(t){var s=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=s[0]),t.right==null&&(t.right=s[1]),t.top==null&&(t.top=s[2]),t.bottom==null&&(t.bottom=s[3]),t.header==null&&(t.header=s[4]),t.footer==null&&(t.footer=s[5])}}function Dd(t,r,s){var a=s.revssf[r.z!=null?r.z:"General"],i=60,o=t.length;if(a==null&&s.ssf){for(;i<392;++i)if(s.ssf[i]==null){TV(r.z,i),s.ssf[i]=r.z,s.revssf[r.z]=a=i;break}}for(i=0;i!=o;++i)if(t[i].numFmtId===a)return i;return t[o]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function jbe(t,r,s){if(t&&t["!ref"]){var a=mn(t["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+s+"): "+t["!ref"])}}function Nbe(t){if(t.length===0)return"";for(var r='<mergeCells count="'+t.length+'">',s=0;s!=t.length;++s)r+='<mergeCell ref="'+qn(t[s])+'"/>';return r+"</mergeCells>"}function Sbe(t,r,s,a,i){var o=!1,l={},c=null;if(a.bookType!=="xlsx"&&r.vbaraw){var d=r.SheetNames[s];try{r.Workbook&&(d=r.Workbook.Sheets[s].CodeName||d)}catch(h){}o=!0,l.codeName=Cp(Qr(d))}if(t&&t["!outline"]){var f={summaryBelow:1,summaryRight:1};t["!outline"].above&&(f.summaryBelow=0),t["!outline"].left&&(f.summaryRight=0),c=(c||"")+Bt("outlinePr",null,f)}!o&&!c||(i[i.length]=Bt("sheetPr",c,l))}var Cbe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],kbe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Ebe(t){var r={sheet:1};return Cbe.forEach(function(s){t[s]!=null&&t[s]&&(r[s]="1")}),kbe.forEach(function(s){t[s]!=null&&!t[s]&&(r[s]="0")}),t.password&&(r.password=yG(t.password).toString(16).toUpperCase()),Bt("sheetProtection",null,r)}function Lbe(t){return PG(t),Bt("pageMargins",null,t)}function Mbe(t,r){for(var s=["<cols>"],a,i=0;i!=r.length;++i)(a=r[i])&&(s[s.length]=Bt("col",null,bw(i,a)));return s[s.length]="</cols>",s.join("")}function Ibe(t,r,s,a){var i=typeof t.ref=="string"?t.ref:qn(t.ref);s.Workbook||(s.Workbook={Sheets:[]}),s.Workbook.Names||(s.Workbook.Names=[]);var o=s.Workbook.Names,l=Ci(i);l.s.r==l.e.r&&(l.e.r=Ci(r["!ref"]).e.r,i=qn(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==a){d.Ref="'"+s.SheetNames[a]+"'!"+i;break}}return c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+s.SheetNames[a]+"'!"+i}),Bt("autoFilter",null,{ref:i})}function Tbe(t,r,s,a){var i={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),Bt("sheetViews",Bt("sheetView",null,i),{})}function Abe(t,r,s,a){if(t.c&&s["!comments"].push([r,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",o=t.t,l=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=lx[t.v];break;case"d":a&&a.cellDates?i=Ma(t.v,-1).toISOString():(t=Ka(t),t.t="n",i=""+(t.v=Qa(Ma(t.v)))),typeof t.z=="undefined"&&(t.z=_n[14]);break;default:i=t.v;break}var c=Is("v",Qr(i)),d={r},f=Dd(a.cellXfs,t,a);switch(f!==0&&(d.s=f),t.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){c=Is("v",""+bL(a.Strings,t.v,a.revStrings)),d.t="s";break}d.t="str";break}if(t.t!=o&&(t.t=o,t.v=l),typeof t.f=="string"&&t.f){var h=t.F&&t.F.slice(0,r.length)==r?{t:"array",ref:t.F}:null;c=Bt("f",Qr(t.f),h)+(t.v!=null?c:"")}return t.l&&s["!links"].push([r,t.l]),t.D&&(d.cm=1),Bt("c",c,d)}function _be(t,r,s,a){var i=[],o=[],l=mn(t["!ref"]),c="",d,f="",h=[],g=0,m=0,p=t["!rows"],x=Array.isArray(t),y={r:f},w,b=-1;for(m=l.s.c;m<=l.e.c;++m)h[m]=Gs(m);for(g=l.s.r;g<=l.e.r;++g){for(o=[],f=_s(g),m=l.s.c;m<=l.e.c;++m){d=h[m]+f;var v=x?(t[g]||[])[m]:t[d];v!==void 0&&(c=Abe(v,d,t,r))!=null&&o.push(c)}(o.length>0||p&&p[g])&&(y={r:f},p&&p[g]&&(w=p[g],w.hidden&&(y.hidden=1),b=-1,w.hpx?b=kb(w.hpx):w.hpt&&(b=w.hpt),b>-1&&(y.ht=b,y.customHeight=1),w.level&&(y.outlineLevel=w.level)),i[i.length]=Bt("row",o.join(""),y))}if(p)for(;g<p.length;++g)p&&p[g]&&(y={r:g+1},w=p[g],w.hidden&&(y.hidden=1),b=-1,w.hpx?b=kb(w.hpx):w.hpt&&(b=w.hpt),b>-1&&(y.ht=b,y.customHeight=1),w.level&&(y.outlineLevel=w.level),i[i.length]=Bt("row","",y));return i.join("")}function DG(t,r,s,a){var i=[Yn,Bt("worksheet",null,{xmlns:Ah[0],"xmlns:r":hs.r})],o=s.SheetNames[t],l=0,c="",d=s.Sheets[o];d==null&&(d={});var f=d["!ref"]||"A1",h=mn(f);if(h.e.c>16383||h.e.r>1048575){if(r.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),f=qn(h)}a||(a={}),d["!comments"]=[];var g=[];Sbe(d,s,t,r,i),i[i.length]=Bt("dimension",null,{ref:f}),i[i.length]=Tbe(d,r,t,s),r.sheetFormat&&(i[i.length]=Bt("sheetFormatPr",null,{defaultRowHeight:r.sheetFormat.defaultRowHeight||"16",baseColWidth:r.sheetFormat.baseColWidth||"10",outlineLevelRow:r.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(i[i.length]=Mbe(d,d["!cols"])),i[l=i.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(c=_be(d,r),c.length>0&&(i[i.length]=c)),i.length>l+1&&(i[i.length]="</sheetData>",i[l]=i[l].replace("/>",">")),d["!protect"]&&(i[i.length]=Ebe(d["!protect"])),d["!autofilter"]!=null&&(i[i.length]=Ibe(d["!autofilter"],d,s,t)),d["!merges"]!=null&&d["!merges"].length>0&&(i[i.length]=Nbe(d["!merges"]));var m=-1,p,x=-1;return d["!links"].length>0&&(i[i.length]="<hyperlinks>",d["!links"].forEach(function(y){y[1].Target&&(p={ref:y[0]},y[1].Target.charAt(0)!="#"&&(x=Zr(a,-1,Qr(y[1].Target).replace(/#.*$/,""),Wr.HLINK),p["r:id"]="rId"+x),(m=y[1].Target.indexOf("#"))>-1&&(p.location=Qr(y[1].Target.slice(m+1))),y[1].Tooltip&&(p.tooltip=Qr(y[1].Tooltip)),i[i.length]=Bt("hyperlink",null,p))}),i[i.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(i[i.length]=Lbe(d["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&(i[i.length]=Is("ignoredErrors",Bt("ignoredError",null,{numberStoredAsText:1,sqref:f}))),g.length>0&&(x=Zr(a,-1,"../drawings/drawing"+(t+1)+".xml",Wr.DRAW),i[i.length]=Bt("drawing",null,{"r:id":"rId"+x}),d["!drawing"]=g),d["!comments"].length>0&&(x=Zr(a,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Wr.VML),i[i.length]=Bt("legacyDrawing",null,{"r:id":"rId"+x}),d["!legacy"]=x),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function Obe(t,r){var s={},a=t.l+r;s.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var o=t.read_shift(1);return t.l=a,o&7&&(s.level=o&7),o&16&&(s.hidden=!0),o&32&&(s.hpt=i/20),s}function $be(t,r,s){var a=Lt(145),i=(s["!rows"]||[])[t]||{};a.write_shift(4,t),a.write_shift(4,0);var o=320;i.hpx?o=kb(i.hpx)*20:i.hpt&&(o=i.hpt*20),a.write_shift(2,o),a.write_shift(1,0);var l=0;i.level&&(l|=i.level),i.hidden&&(l|=16),(i.hpx||i.hpt)&&(l|=32),a.write_shift(1,l),a.write_shift(1,0);var c=0,d=a.l;a.l+=4;for(var f={r:t,c:0},h=0;h<16;++h)if(!(r.s.c>h+1<<10||r.e.c<h<<10)){for(var g=-1,m=-1,p=h<<10;p<h+1<<10;++p){f.c=p;var x=Array.isArray(s)?(s[f.r]||[])[f.c]:s[Xr(f)];x&&(g<0&&(g=p),m=p)}g<0||(++c,a.write_shift(4,g),a.write_shift(4,m))}var y=a.l;return a.l=d,a.write_shift(4,c),a.l=y,a.length>a.l?a.slice(0,a.l):a}function Pbe(t,r,s,a){var i=$be(a,s,r);(i.length>17||(r["!rows"]||[])[a])&&At(t,0,i)}var Dbe=of,Rbe=Oh;function Fbe(){}function Bbe(t,r){var s={},a=t[t.l];return++t.l,s.above=!(a&64),s.left=!(a&128),t.l+=18,s.name=Zxe(t),s}function zbe(t,r,s){s==null&&(s=Lt(84+4*t.length));var a=192;r&&(r.above&&(a&=-65),r.left&&(a&=-129)),s.write_shift(1,a);for(var i=1;i<3;++i)s.write_shift(1,0);return jb({auto:1},s),s.write_shift(-4,-1),s.write_shift(-4,-1),KV(t,s),s.slice(0,s.l)}function Ube(t){var r=ao(t);return[r]}function Wbe(t,r,s){return s==null&&(s=Lt(8)),nf(r,s)}function Hbe(t){var r=sf(t);return[r]}function Vbe(t,r,s){return s==null&&(s=Lt(4)),af(r,s)}function Gbe(t){var r=ao(t),s=t.read_shift(1);return[r,s,"b"]}function qbe(t,r,s){return s==null&&(s=Lt(9)),nf(r,s),s.write_shift(1,t.v?1:0),s}function Ybe(t){var r=sf(t),s=t.read_shift(1);return[r,s,"b"]}function Jbe(t,r,s){return s==null&&(s=Lt(5)),af(r,s),s.write_shift(1,t.v?1:0),s}function Zbe(t){var r=ao(t),s=t.read_shift(1);return[r,s,"e"]}function Qbe(t,r,s){return s==null&&(s=Lt(9)),nf(r,s),s.write_shift(1,t.v),s}function Kbe(t){var r=sf(t),s=t.read_shift(1);return[r,s,"e"]}function Xbe(t,r,s){return s==null&&(s=Lt(8)),af(r,s),s.write_shift(1,t.v),s.write_shift(2,0),s.write_shift(1,0),s}function e2e(t){var r=ao(t),s=t.read_shift(4);return[r,s,"s"]}function t2e(t,r,s){return s==null&&(s=Lt(12)),nf(r,s),s.write_shift(4,r.v),s}function r2e(t){var r=sf(t),s=t.read_shift(4);return[r,s,"s"]}function n2e(t,r,s){return s==null&&(s=Lt(8)),af(r,s),s.write_shift(4,r.v),s}function s2e(t){var r=ao(t),s=$h(t);return[r,s,"n"]}function a2e(t,r,s){return s==null&&(s=Lt(16)),nf(r,s),Bu(t.v,s),s}function i2e(t){var r=sf(t),s=$h(t);return[r,s,"n"]}function o2e(t,r,s){return s==null&&(s=Lt(12)),af(r,s),Bu(t.v,s),s}function l2e(t){var r=ao(t),s=XV(t);return[r,s,"n"]}function c2e(t,r,s){return s==null&&(s=Lt(12)),nf(r,s),eG(t.v,s),s}function d2e(t){var r=sf(t),s=XV(t);return[r,s,"n"]}function u2e(t,r,s){return s==null&&(s=Lt(8)),af(r,s),eG(t.v,s),s}function f2e(t){var r=ao(t),s=fL(t);return[r,s,"is"]}function h2e(t){var r=ao(t),s=qs(t);return[r,s,"str"]}function g2e(t,r,s){return s==null&&(s=Lt(12+4*t.v.length)),nf(r,s),ps(t.v,s),s.length>s.l?s.slice(0,s.l):s}function m2e(t){var r=sf(t),s=qs(t);return[r,s,"str"]}function p2e(t,r,s){return s==null&&(s=Lt(8+4*t.v.length)),af(r,s),ps(t.v,s),s.length>s.l?s.slice(0,s.l):s}function x2e(t,r,s){var a=t.l+r,i=ao(t);i.r=s["!row"];var o=t.read_shift(1),l=[i,o,"b"];if(s.cellFormula){t.l+=2;var c=yw(t,a-t.l,s);l[3]=ih(c,null,i,s.supbooks,s)}else t.l=a;return l}function v2e(t,r,s){var a=t.l+r,i=ao(t);i.r=s["!row"];var o=t.read_shift(1),l=[i,o,"e"];if(s.cellFormula){t.l+=2;var c=yw(t,a-t.l,s);l[3]=ih(c,null,i,s.supbooks,s)}else t.l=a;return l}function y2e(t,r,s){var a=t.l+r,i=ao(t);i.r=s["!row"];var o=$h(t),l=[i,o,"n"];if(s.cellFormula){t.l+=2;var c=yw(t,a-t.l,s);l[3]=ih(c,null,i,s.supbooks,s)}else t.l=a;return l}function b2e(t,r,s){var a=t.l+r,i=ao(t);i.r=s["!row"];var o=qs(t),l=[i,o,"str"];if(s.cellFormula){t.l+=2;var c=yw(t,a-t.l,s);l[3]=ih(c,null,i,s.supbooks,s)}else t.l=a;return l}var w2e=of,j2e=Oh;function N2e(t,r){return r==null&&(r=Lt(4)),r.write_shift(4,t),r}function S2e(t,r){var s=t.l+r,a=of(t),i=hL(t),o=qs(t),l=qs(t),c=qs(t);t.l=s;var d={rfx:a,relId:i,loc:o,display:c};return l&&(d.Tooltip=l),d}function C2e(t,r){var s=Lt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Oh({s:ms(t[0]),e:ms(t[0])},s),gL("rId"+r,s);var a=t[1].Target.indexOf("#"),i=a==-1?"":t[1].Target.slice(a+1);return ps(i||"",s),ps(t[1].Tooltip||"",s),ps("",s),s.slice(0,s.l)}function k2e(){}function E2e(t,r,s){var a=t.l+r,i=tG(t),o=t.read_shift(1),l=[i];if(l[2]=o,s.cellFormula){var c=mbe(t,a-t.l,s);l[1]=c}else t.l=a;return l}function L2e(t,r,s){var a=t.l+r,i=of(t),o=[i];if(s.cellFormula){var l=xbe(t,a-t.l,s);o[1]=l,t.l=a}else t.l=a;return o}function M2e(t,r,s){s==null&&(s=Lt(18));var a=bw(t,r);s.write_shift(-4,t),s.write_shift(-4,t),s.write_shift(4,(a.width||10)*256),s.write_shift(4,0);var i=0;return r.hidden&&(i|=1),typeof a.width=="number"&&(i|=2),r.level&&(i|=r.level<<8),s.write_shift(2,i),s}var RG=["left","right","top","bottom","header","footer"];function I2e(t){var r={};return RG.forEach(function(s){r[s]=$h(t)}),r}function T2e(t,r){return r==null&&(r=Lt(6*8)),PG(t),RG.forEach(function(s){Bu(t[s],r)}),r}function A2e(t){var r=t.read_shift(2);return t.l+=28,{RTL:r&32}}function _2e(t,r,s){s==null&&(s=Lt(30));var a=924;return(((r||{}).Views||[])[0]||{}).RTL&&(a|=32),s.write_shift(2,a),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(2,0),s.write_shift(2,100),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(4,0),s}function O2e(t){var r=Lt(24);return r.write_shift(4,4),r.write_shift(4,1),Oh(t,r),r}function $2e(t,r){return r==null&&(r=Lt(16*4+2)),r.write_shift(2,t.password?yG(t.password):0),r.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(s){s[1]?r.write_shift(4,t[s[0]]!=null&&!t[s[0]]?1:0):r.write_shift(4,t[s[0]]!=null&&t[s[0]]?0:1)}),r}function P2e(){}function D2e(){}function R2e(t,r,s,a,i,o,l){if(r.v===void 0)return!1;var c="";switch(r.t){case"b":c=r.v?"1":"0";break;case"d":r=Ka(r),r.z=r.z||_n[14],r.v=Qa(Ma(r.v)),r.t="n";break;case"n":case"e":c=""+r.v;break;default:c=r.v;break}var d={r:s,c:a};switch(d.s=Dd(i.cellXfs,r,i),r.l&&o["!links"].push([Xr(d),r.l]),r.c&&o["!comments"].push([Xr(d),r.c]),r.t){case"s":case"str":return i.bookSST?(c=bL(i.Strings,r.v,i.revStrings),d.t="s",d.v=c,l?At(t,18,n2e(r,d)):At(t,7,t2e(r,d))):(d.t="str",l?At(t,17,p2e(r,d)):At(t,6,g2e(r,d))),!0;case"n":return r.v==(r.v|0)&&r.v>-1e3&&r.v<1e3?l?At(t,13,u2e(r,d)):At(t,2,c2e(r,d)):l?At(t,16,o2e(r,d)):At(t,5,a2e(r,d)),!0;case"b":return d.t="b",l?At(t,15,Jbe(r,d)):At(t,4,qbe(r,d)),!0;case"e":return d.t="e",l?At(t,14,Xbe(r,d)):At(t,3,Qbe(r,d)),!0}return l?At(t,12,Vbe(r,d)):At(t,1,Wbe(r,d)),!0}function F2e(t,r,s,a){var i=mn(r["!ref"]||"A1"),o,l="",c=[];At(t,145);var d=Array.isArray(r),f=i.e.r;r["!rows"]&&(f=Math.max(i.e.r,r["!rows"].length-1));for(var h=i.s.r;h<=f;++h){l=_s(h),Pbe(t,r,i,h);var g=!1;if(h<=i.e.r)for(var m=i.s.c;m<=i.e.c;++m){h===i.s.r&&(c[m]=Gs(m)),o=c[m]+l;var p=d?(r[h]||[])[m]:r[o];if(!p){g=!1;continue}g=R2e(t,p,h,m,a,r,g)}}At(t,146)}function B2e(t,r){!r||!r["!merges"]||(At(t,177,N2e(r["!merges"].length)),r["!merges"].forEach(function(s){At(t,176,j2e(s))}),At(t,178))}function z2e(t,r){!r||!r["!cols"]||(At(t,390),r["!cols"].forEach(function(s,a){s&&At(t,60,M2e(a,s))}),At(t,391))}function U2e(t,r){!r||!r["!ref"]||(At(t,648),At(t,649,O2e(mn(r["!ref"]))),At(t,650))}function W2e(t,r,s){r["!links"].forEach(function(a){if(a[1].Target){var i=Zr(s,-1,a[1].Target.replace(/#.*$/,""),Wr.HLINK);At(t,494,C2e(a,i))}}),delete r["!links"]}function H2e(t,r,s,a){if(r["!comments"].length>0){var i=Zr(a,-1,"../drawings/vmlDrawing"+(s+1)+".vml",Wr.VML);At(t,551,gL("rId"+i)),r["!legacy"]=i}}function V2e(t,r,s,a){if(r["!autofilter"]){var i=r["!autofilter"],o=typeof i.ref=="string"?i.ref:qn(i.ref);s.Workbook||(s.Workbook={Sheets:[]}),s.Workbook.Names||(s.Workbook.Names=[]);var l=s.Workbook.Names,c=Ci(o);c.s.r==c.e.r&&(c.e.r=Ci(r["!ref"]).e.r,o=qn(c));for(var d=0;d<l.length;++d){var f=l[d];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==a){f.Ref="'"+s.SheetNames[a]+"'!"+o;break}}d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+s.SheetNames[a]+"'!"+o}),At(t,161,Oh(mn(o))),At(t,162)}}function G2e(t,r,s){At(t,133),At(t,137,_2e(r,s)),At(t,138),At(t,134)}function q2e(t,r){r["!protect"]&&At(t,535,$2e(r["!protect"]))}function Y2e(t,r,s,a){var i=Za(),o=s.SheetNames[t],l=s.Sheets[o]||{},c=o;try{s&&s.Workbook&&(c=s.Workbook.Sheets[t].CodeName||c)}catch(f){}var d=mn(l["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(r.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],At(i,129),(s.vbaraw||l["!outline"])&&At(i,147,zbe(c,l["!outline"])),At(i,148,Rbe(d)),G2e(i,l,s.Workbook),z2e(i,l),F2e(i,l,t,r),q2e(i,l),V2e(i,l,s,t),B2e(i,l),W2e(i,l,a),l["!margins"]&&At(i,476,T2e(l["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&U2e(i,l),H2e(i,l,t,a),At(i,130),i.end()}function J2e(t,r){t.l+=10;var s=qs(t);return{name:s}}var Z2e=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Q2e(t){return!t.Workbook||!t.Workbook.WBProps?"false":Lxe(t.Workbook.WBProps.date1904)?"true":"false"}var K2e="][*?/\\".split("");function FG(t,r){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var s=!0;return K2e.forEach(function(a){if(t.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),s}function X2e(t,r,s){t.forEach(function(a,i){FG(a);for(var o=0;o<i;++o)if(a==t[o])throw new Error("Duplicate Sheet Name: "+a);if(s){var l=r&&r[i]&&r[i].CodeName||a;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function ewe(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var r=t.Workbook&&t.Workbook.Sheets||[];X2e(t.SheetNames,r,!!t.vbaraw);for(var s=0;s<t.SheetNames.length;++s)jbe(t.Sheets[t.SheetNames[s]],t.SheetNames[s],s)}function BG(t){var r=[Yn];r[r.length]=Bt("workbook",null,{xmlns:Ah[0],"xmlns:r":hs.r});var s=t.Workbook&&(t.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(Z2e.forEach(function(c){t.Workbook.WBProps[c[0]]!=null&&t.Workbook.WBProps[c[0]]!=c[1]&&(a[c[0]]=t.Workbook.WBProps[c[0]])}),t.Workbook.WBProps.CodeName&&(a.codeName=t.Workbook.WBProps.CodeName,delete a.CodeName)),r[r.length]=Bt("workbookPr",null,a);var i=t.Workbook&&t.Workbook.Sheets||[],o=0;if(i&&i[0]&&i[0].Hidden){for(r[r.length]="<bookViews>",o=0;o!=t.SheetNames.length&&!(!i[o]||!i[o].Hidden);++o);o==t.SheetNames.length&&(o=0),r[r.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',r[r.length]="</bookViews>"}for(r[r.length]="<sheets>",o=0;o!=t.SheetNames.length;++o){var l={name:Qr(t.SheetNames[o].slice(0,31))};if(l.sheetId=""+(o+1),l["r:id"]="rId"+(o+1),i[o])switch(i[o].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}r[r.length]=Bt("sheet",null,l)}return r[r.length]="</sheets>",s&&(r[r.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(c){var d={name:c.Name};c.Comment&&(d.comment=c.Comment),c.Sheet!=null&&(d.localSheetId=""+c.Sheet),c.Hidden&&(d.hidden="1"),c.Ref&&(r[r.length]=Bt("definedName",Qr(c.Ref),d))}),r[r.length]="</definedNames>"),r.length>2&&(r[r.length]="</workbook>",r[1]=r[1].replace("/>",">")),r.join("")}function twe(t,r){var s={};return s.Hidden=t.read_shift(4),s.iTabID=t.read_shift(4),s.strRelID=e6(t),s.name=qs(t),s}function rwe(t,r){return r||(r=Lt(127)),r.write_shift(4,t.Hidden),r.write_shift(4,t.iTabID),gL(t.strRelID,r),ps(t.name.slice(0,31),r),r.length>r.l?r.slice(0,r.l):r}function nwe(t,r){var s={},a=t.read_shift(4);s.defaultThemeVersion=t.read_shift(4);var i=r>8?qs(t):"";return i.length>0&&(s.CodeName=i),s.autoCompressPictures=!!(a&65536),s.backupFile=!!(a&64),s.checkCompatibility=!!(a&4096),s.date1904=!!(a&1),s.filterPrivacy=!!(a&8),s.hidePivotFieldList=!!(a&1024),s.promptedSolutions=!!(a&16),s.publishItems=!!(a&2048),s.refreshAllConnections=!!(a&262144),s.saveExternalLinkValues=!!(a&128),s.showBorderUnselectedTables=!!(a&4),s.showInkAnnotation=!!(a&32),s.showObjects=["all","placeholders","none"][a>>13&3],s.showPivotChartFilter=!!(a&32768),s.updateLinks=["userSet","never","always"][a>>8&3],s}function swe(t,r){r||(r=Lt(72));var s=0;return t&&t.filterPrivacy&&(s|=8),r.write_shift(4,s),r.write_shift(4,0),KV(t&&t.CodeName||"ThisWorkbook",r),r.slice(0,r.l)}function awe(t,r,s){var a=t.l+r;t.l+=4,t.l+=1;var i=t.read_shift(4),o=Qxe(t),l=pbe(t,0,s),c=hL(t);t.l=a;var d={Name:o,Ptg:l};return i<268435455&&(d.Sheet=i),c&&(d.Comment=c),d}function iwe(t,r){At(t,143);for(var s=0;s!=r.SheetNames.length;++s){var a=r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[s]&&r.Workbook.Sheets[s].Hidden||0,i={Hidden:a,iTabID:s+1,strRelID:"rId"+(s+1),name:r.SheetNames[s]};At(t,156,rwe(i))}At(t,144)}function owe(t,r){r||(r=Lt(127));for(var s=0;s!=4;++s)r.write_shift(4,0);return ps("SheetJS",r),ps(mb.version,r),ps(mb.version,r),ps("7262",r),r.length>r.l?r.slice(0,r.l):r}function lwe(t,r){r||(r=Lt(29)),r.write_shift(-4,0),r.write_shift(-4,460),r.write_shift(4,28800),r.write_shift(4,17600),r.write_shift(4,500),r.write_shift(4,t),r.write_shift(4,t);var s=120;return r.write_shift(1,s),r.length>r.l?r.slice(0,r.l):r}function cwe(t,r){if(!(!r.Workbook||!r.Workbook.Sheets)){for(var s=r.Workbook.Sheets,a=0,i=-1,o=-1;a<s.length;++a)!s[a]||!s[a].Hidden&&i==-1?i=a:s[a].Hidden==1&&o==-1&&(o=a);o>i||(At(t,135),At(t,158,lwe(i)),At(t,136))}}function dwe(t,r){var s=Za();return At(s,131),At(s,128,owe()),At(s,153,swe(t.Workbook&&t.Workbook.WBProps||null)),cwe(s,t),iwe(s,t),At(s,132),s.end()}function uwe(t,r,s){return(r.slice(-4)===".bin"?dwe:BG)(t)}function fwe(t,r,s,a,i){return(r.slice(-4)===".bin"?Y2e:DG)(t,s,a,i)}function hwe(t,r,s){return(r.slice(-4)===".bin"?T1e:jG)(t,s)}function gwe(t,r,s){return(r.slice(-4)===".bin"?s1e:vG)(t,s)}function mwe(t,r,s){return(r.slice(-4)===".bin"?q1e:EG)(t)}function pwe(t){return(t.slice(-4)===".bin"?F1e:CG)()}function xwe(t,r){var s=[];return t.Props&&s.push(hve(t.Props,r)),t.Custprops&&s.push(gve(t.Props,t.Custprops)),s.join("")}function vwe(){return""}function ywe(t,r){var s=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return r.cellXfs.forEach(function(a,i){var o=[];o.push(Bt("NumberFormat",null,{"ss:Format":Qr(_n[a.numFmtId])}));var l={"ss:ID":"s"+(21+i)};s.push(Bt("Style",o.join(""),l))}),Bt("Styles",s.join(""))}function zG(t){return Bt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+vL(t.Ref,{r:0,c:0})})}function bwe(t){if(!((t||{}).Workbook||{}).Names)return"";for(var r=t.Workbook.Names,s=[],a=0;a<r.length;++a){var i=r[a];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||s.push(zG(i)))}return Bt("Names",s.join(""))}function wwe(t,r,s,a){if(!t||!((a||{}).Workbook||{}).Names)return"";for(var i=a.Workbook.Names,o=[],l=0;l<i.length;++l){var c=i[l];c.Sheet==s&&(c.Name.match(/^_xlfn\./)||o.push(zG(c)))}return o.join("")}function jwe(t,r,s,a){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Bt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Bt("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Bt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[s])if(a.Workbook.Sheets[s].Hidden)i.push(Bt("Visible",a.Workbook.Sheets[s].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<s&&!(a.Workbook.Sheets[o]&&!a.Workbook.Sheets[o].Hidden);++o);o==s&&i.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(Is("ProtectContents","True")),t["!protect"].objects&&i.push(Is("ProtectObjects","True")),t["!protect"].scenarios&&i.push(Is("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(Is("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(Is("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){t["!protect"][l[0]]&&i.push("<"+l[1]+"/>")})),i.length==0?"":Bt("WorksheetOptions",i.join(""),{xmlns:xi.x})}function Nwe(t){return t.map(function(r){var s=Exe(r.t||""),a=Bt("ss:Data",s,{xmlns:"http://www.w3.org/TR/REC-html40"});return Bt("Comment",a,{"ss:Author":r.a})}).join("")}function Swe(t,r,s,a,i,o,l){if(!t||t.v==null&&t.f==null)return"";var c={};if(t.f&&(c["ss:Formula"]="="+Qr(vL(t.f,l))),t.F&&t.F.slice(0,r.length)==r){var d=ms(t.F.slice(r.length+1));c["ss:ArrayRange"]="RC:R"+(d.r==l.r?"":"["+(d.r-l.r)+"]")+"C"+(d.c==l.c?"":"["+(d.c-l.c)+"]")}if(t.l&&t.l.Target&&(c["ss:HRef"]=Qr(t.l.Target),t.l.Tooltip&&(c["x:HRefScreenTip"]=Qr(t.l.Tooltip))),s["!merges"])for(var f=s["!merges"],h=0;h!=f.length;++h)f[h].s.c!=l.c||f[h].s.r!=l.r||(f[h].e.c>f[h].s.c&&(c["ss:MergeAcross"]=f[h].e.c-f[h].s.c),f[h].e.r>f[h].s.r&&(c["ss:MergeDown"]=f[h].e.r-f[h].s.r));var g="",m="";switch(t.t){case"z":if(!a.sheetStubs)return"";break;case"n":g="Number",m=String(t.v);break;case"b":g="Boolean",m=t.v?"1":"0";break;case"e":g="Error",m=lx[t.v];break;case"d":g="DateTime",m=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||_n[14]);break;case"s":g="String",m=kxe(t.v||"");break}var p=Dd(a.cellXfs,t,a);c["ss:StyleID"]="s"+(21+p),c["ss:Index"]=l.c+1;var x=t.v!=null?m:"",y=t.t=="z"?"":'<Data ss:Type="'+g+'">'+x+"</Data>";return(t.c||[]).length>0&&(y+=Nwe(t.c)),Bt("Cell",y,c)}function Cwe(t,r){var s='<Row ss:Index="'+(t+1)+'"';return r&&(r.hpt&&!r.hpx&&(r.hpx=wG(r.hpt)),r.hpx&&(s+=' ss:AutoFitHeight="0" ss:Height="'+r.hpx+'"'),r.hidden&&(s+=' ss:Hidden="1"')),s+">"}function kwe(t,r,s,a){if(!t["!ref"])return"";var i=mn(t["!ref"]),o=t["!merges"]||[],l=0,c=[];t["!cols"]&&t["!cols"].forEach(function(w,b){pL(w);var v=!!w.width,j=bw(b,w),N={"ss:Index":b+1};v&&(N["ss:Width"]=Sb(j.width)),w.hidden&&(N["ss:Hidden"]="1"),c.push(Bt("Column",null,N))});for(var d=Array.isArray(t),f=i.s.r;f<=i.e.r;++f){for(var h=[Cwe(f,(t["!rows"]||[])[f])],g=i.s.c;g<=i.e.c;++g){var m=!1;for(l=0;l!=o.length;++l)if(!(o[l].s.c>g)&&!(o[l].s.r>f)&&!(o[l].e.c<g)&&!(o[l].e.r<f)){(o[l].s.c!=g||o[l].s.r!=f)&&(m=!0);break}if(!m){var p={r:f,c:g},x=Xr(p),y=d?(t[f]||[])[g]:t[x];h.push(Swe(y,x,t,r,s,a,p))}}h.push("</Row>"),h.length>2&&c.push(h.join(""))}return c.join("")}function Ewe(t,r,s){var a=[],i=s.SheetNames[t],o=s.Sheets[i],l=o?wwe(o,r,t,s):"";return l.length>0&&a.push("<Names>"+l+"</Names>"),l=o?kwe(o,r,t,s):"",l.length>0&&a.push("<Table>"+l+"</Table>"),a.push(jwe(o,r,t,s)),a.join("")}function Lwe(t,r){r||(r={}),t.SSF||(t.SSF=Ka(_n)),t.SSF&&(mw(),gw(t.SSF),r.revssf=pw(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF,r.cellXfs=[],Dd(r.cellXfs,{},{revssf:{General:0}}));var s=[];s.push(xwe(t,r)),s.push(vwe()),s.push(""),s.push("");for(var a=0;a<t.SheetNames.length;++a)s.push(Bt("Worksheet",Ewe(a,r,t),{"ss:Name":Qr(t.SheetNames[a])}));return s[2]=ywe(t,r),s[3]=bwe(t),Yn+Bt("Workbook",s.join(""),{xmlns:xi.ss,"xmlns:o":xi.o,"xmlns:x":xi.x,"xmlns:ss":xi.ss,"xmlns:dt":xi.dt,"xmlns:html":xi.html})}var Q4={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Mwe(t,r){var s=[],a=[],i=[],o=0,l,c=UO(t$,"n"),d=UO(r$,"n");if(t.Props)for(l=Ps(t.Props),o=0;o<l.length;++o)(Object.prototype.hasOwnProperty.call(c,l[o])?s:Object.prototype.hasOwnProperty.call(d,l[o])?a:i).push([l[o],t.Props[l[o]]]);if(t.Custprops)for(l=Ps(t.Custprops),o=0;o<l.length;++o)Object.prototype.hasOwnProperty.call(t.Props||{},l[o])||(Object.prototype.hasOwnProperty.call(c,l[o])?s:Object.prototype.hasOwnProperty.call(d,l[o])?a:i).push([l[o],t.Custprops[l[o]]]);var f=[];for(o=0;o<i.length;++o)uG.indexOf(i[o][0])>-1||lG.indexOf(i[o][0])>-1||i[o][1]!=null&&f.push(i[o]);a.length&&tn.utils.cfb_add(r,"/SummaryInformation",o$(a,Q4.SI,d,r$)),(s.length||f.length)&&tn.utils.cfb_add(r,"/DocumentSummaryInformation",o$(s,Q4.DSI,c,t$,f.length?f:null,Q4.UDI))}function Iwe(t,r){var s=r||{},a=tn.utils.cfb_new({root:"R"}),i="/Workbook";switch(s.bookType||"xls"){case"xls":s.bookType="biff8";case"xla":s.bookType||(s.bookType="xla");case"biff8":i="/Workbook",s.biff=8;break;case"biff5":i="/Book",s.biff=5;break;default:throw new Error("invalid type "+s.bookType+" for XLS CFB")}return tn.utils.cfb_add(a,i,UG(t,s)),s.biff==8&&(t.Props||t.Custprops)&&Mwe(t,a),s.biff==8&&t.vbaraw&&Y1e(a,tn.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),a}var Twe={0:{f:Obe},1:{f:Ube},2:{f:l2e},3:{f:Zbe},4:{f:Gbe},5:{f:s2e},6:{f:h2e},7:{f:e2e},8:{f:b2e},9:{f:y2e},10:{f:x2e},11:{f:v2e},12:{f:Hbe},13:{f:d2e},14:{f:Kbe},15:{f:Ybe},16:{f:i2e},17:{f:m2e},18:{f:r2e},19:{f:fL},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:awe},40:{},42:{},43:{f:h1e},44:{f:u1e},45:{f:p1e},46:{f:v1e},47:{f:x1e},48:{},49:{f:Hxe},50:{},51:{f:O1e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Vve},62:{f:f2e},63:{f:B1e},64:{f:P2e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ul,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:A2e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Bbe},148:{f:Dbe,p:16},151:{f:k2e},152:{},153:{f:nwe},154:{},155:{},156:{f:twe},157:{},158:{},159:{T:1,f:t1e},160:{T:-1},161:{T:1,f:of},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:w2e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:A1e},336:{T:-1},337:{f:D1e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:e6},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Fve},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:E2e},427:{f:L2e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:I2e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Fbe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:S2e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:e6},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:V1e},633:{T:1},634:{T:-1},635:{T:1,f:W1e},636:{T:-1},637:{f:Yxe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:J2e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:D2e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function zt(t,r,s,a){var i=r;if(!isNaN(i)){var o=a||(s||[]).length||0,l=t.next(4);l.write_shift(2,i),l.write_shift(2,o),o>0&&cL(s)&&t.push(s)}}function Awe(t,r,s,a){var i=(s||[]).length||0;if(i<=8224)return zt(t,r,s,i);var o=r;if(!isNaN(o)){for(var l=s.parts||[],c=0,d=0,f=0;f+(l[c]||8224)<=8224;)f+=l[c]||8224,c++;var h=t.next(4);for(h.write_shift(2,o),h.write_shift(2,f),t.push(s.slice(d,d+f)),d+=f;d<i;){for(h=t.next(4),h.write_shift(2,60),f=0;f+(l[c]||8224)<=8224;)f+=l[c]||8224,c++;h.write_shift(2,f),t.push(s.slice(d,d+f)),d+=f}}}function dx(t,r,s){return t||(t=Lt(7)),t.write_shift(2,r),t.write_shift(2,s),t.write_shift(2,0),t.write_shift(1,0),t}function _we(t,r,s,a){var i=Lt(9);return dx(i,t,r),hG(s,a||"b",i),i}function Owe(t,r,s){var a=Lt(8+2*s.length);return dx(a,t,r),a.write_shift(1,s.length),a.write_shift(s.length,s,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function $we(t,r,s,a){if(r.v!=null)switch(r.t){case"d":case"n":var i=r.t=="d"?Qa(Ma(r.v)):r.v;i==(i|0)&&i>=0&&i<65536?zt(t,2,Jve(s,a,i)):zt(t,3,Yve(s,a,i));return;case"b":case"e":zt(t,5,_we(s,a,r.v,r.t));return;case"s":case"str":zt(t,4,Owe(s,a,(r.v||"").slice(0,255)));return}zt(t,1,dx(null,s,a))}function Pwe(t,r,s,a){var i=Array.isArray(r),o=mn(r["!ref"]||"A1"),l,c="",d=[];if(o.e.c>255||o.e.r>16383){if(a.WTF)throw new Error("Range "+(r["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),l=qn(o)}for(var f=o.s.r;f<=o.e.r;++f){c=_s(f);for(var h=o.s.c;h<=o.e.c;++h){f===o.s.r&&(d[h]=Gs(h)),l=d[h]+c;var g=i?(r[f]||[])[h]:r[l];g&&$we(t,g,f,h)}}}function Dwe(t,r){for(var s=r||{},a=Za(),i=0,o=0;o<t.SheetNames.length;++o)t.SheetNames[o]==s.sheet&&(i=o);if(i==0&&s.sheet&&t.SheetNames[0]!=s.sheet)throw new Error("Sheet not found: "+s.sheet);return zt(a,s.biff==4?1033:s.biff==3?521:9,mL(t,16,s)),Pwe(a,t.Sheets[t.SheetNames[i]],i,s),zt(a,10),a.end()}function Rwe(t,r,s){zt(t,49,Tve({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},s))}function Fwe(t,r,s){r&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var i=a[0];i<=a[1];++i)r[i]!=null&&zt(t,1054,Ove(i,r[i],s))})}function Bwe(t,r){var s=Lt(19);s.write_shift(4,2151),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(2,3),s.write_shift(1,1),s.write_shift(4,0),zt(t,2151,s),s=Lt(39),s.write_shift(4,2152),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(2,3),s.write_shift(1,0),s.write_shift(4,0),s.write_shift(2,1),s.write_shift(4,4),s.write_shift(2,0),pG(mn(r["!ref"]||"A1"),s),s.write_shift(4,4),zt(t,2152,s)}function zwe(t,r){for(var s=0;s<16;++s)zt(t,224,c$({numFmtId:0,style:!0},0,r));r.cellXfs.forEach(function(a){zt(t,224,c$(a,0,r))})}function Uwe(t,r){for(var s=0;s<r["!links"].length;++s){var a=r["!links"][s];zt(t,440,Uve(a)),a[1].Tooltip&&zt(t,2048,Wve(a))}delete r["!links"]}function Wwe(t,r){if(r){var s=0;r.forEach(function(a,i){++s<=256&&a&&zt(t,125,Gve(bw(i,a),i))})}}function Hwe(t,r,s,a,i){var o=16+Dd(i.cellXfs,r,i);if(r.v==null&&!r.bf){zt(t,513,zu(s,a,o));return}if(r.bf)zt(t,6,gbe(r,s,a,i,o));else switch(r.t){case"d":case"n":var l=r.t=="d"?Qa(Ma(r.v)):r.v;zt(t,515,Rve(s,a,l,o));break;case"b":case"e":zt(t,517,Dve(s,a,r.v,o,i,r.t));break;case"s":case"str":if(i.bookSST){var c=bL(i.Strings,r.v,i.revStrings);zt(t,253,Ave(s,a,c,o))}else zt(t,516,_ve(s,a,(r.v||"").slice(0,255),o,i));break;default:zt(t,513,zu(s,a,o))}}function Vwe(t,r,s){var a=Za(),i=s.SheetNames[t],o=s.Sheets[i]||{},l=(s||{}).Workbook||{},c=(l.Sheets||[])[t]||{},d=Array.isArray(o),f=r.biff==8,h,g="",m=[],p=mn(o["!ref"]||"A1"),x=f?65536:16384;if(p.e.c>255||p.e.r>=x){if(r.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,x-1)}zt(a,2057,mL(s,16,r)),zt(a,13,Wi(1)),zt(a,12,Wi(100)),zt(a,15,Ca(!0)),zt(a,17,Ca(!1)),zt(a,16,Bu(.001)),zt(a,95,Ca(!0)),zt(a,42,Ca(!1)),zt(a,43,Ca(!1)),zt(a,130,Wi(1)),zt(a,128,Pve()),zt(a,131,Ca(!1)),zt(a,132,Ca(!1)),f&&Wwe(a,o["!cols"]),zt(a,512,$ve(p,r)),f&&(o["!links"]=[]);for(var y=p.s.r;y<=p.e.r;++y){g=_s(y);for(var w=p.s.c;w<=p.e.c;++w){y===p.s.r&&(m[w]=Gs(w)),h=m[w]+g;var b=d?(o[y]||[])[w]:o[h];b&&(Hwe(a,b,y,w,r),f&&b.l&&o["!links"].push([h,b.l]))}}var v=c.CodeName||c.name||i;return f&&zt(a,574,Ive((l.Views||[])[0])),f&&(o["!merges"]||[]).length&&zt(a,229,zve(o["!merges"])),f&&Uwe(a,o),zt(a,442,mG(v)),f&&Bwe(a,o),zt(a,10),a.end()}function Gwe(t,r,s){var a=Za(),i=(t||{}).Workbook||{},o=i.Sheets||[],l=i.WBProps||{},c=s.biff==8,d=s.biff==5;if(zt(a,2057,mL(t,5,s)),s.bookType=="xla"&&zt(a,135),zt(a,225,c?Wi(1200):null),zt(a,193,xve(2)),d&&zt(a,191),d&&zt(a,192),zt(a,226),zt(a,92,kve("SheetJS",s)),zt(a,66,Wi(c?1200:1252)),c&&zt(a,353,Wi(0)),c&&zt(a,448),zt(a,317,qve(t.SheetNames.length)),c&&t.vbaraw&&zt(a,211),c&&t.vbaraw){var f=l.CodeName||"ThisWorkbook";zt(a,442,mG(f))}zt(a,156,Wi(17)),zt(a,25,Ca(!1)),zt(a,18,Ca(!1)),zt(a,19,Wi(0)),c&&zt(a,431,Ca(!1)),c&&zt(a,444,Wi(0)),zt(a,61,Mve()),zt(a,64,Ca(!1)),zt(a,141,Wi(0)),zt(a,34,Ca(Q2e(t)=="true")),zt(a,14,Ca(!0)),c&&zt(a,439,Ca(!1)),zt(a,218,Wi(0)),Rwe(a,t,s),Fwe(a,t.SSF,s),zwe(a,s),c&&zt(a,352,Ca(!1));var h=a.end(),g=Za();c&&zt(g,140,Hve()),c&&s.Strings&&Awe(g,252,Lve(s.Strings)),zt(g,10);var m=g.end(),p=Za(),x=0,y=0;for(y=0;y<t.SheetNames.length;++y)x+=(c?12:11)+(c?2:1)*t.SheetNames[y].length;var w=h.length+x+m.length;for(y=0;y<t.SheetNames.length;++y){var b=o[y]||{};zt(p,133,Eve({pos:w,hs:b.Hidden||0,dt:0,name:t.SheetNames[y]},s)),w+=r[y].length}var v=p.end();if(x!=v.length)throw new Error("BS8 "+x+" != "+v.length);var j=[];return h.length&&j.push(h),v.length&&j.push(v),m.length&&j.push(m),Ms(j)}function qwe(t,r){var s=r||{},a=[];t&&!t.SSF&&(t.SSF=Ka(_n)),t&&t.SSF&&(mw(),gw(t.SSF),s.revssf=pw(t.SSF),s.revssf[t.SSF[65535]]=0,s.ssf=t.SSF),s.Strings=[],s.Strings.Count=0,s.Strings.Unique=0,wL(s),s.cellXfs=[],Dd(s.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)a[a.length]=Vwe(i,s,t);return a.unshift(Gwe(t,a,s)),Ms(a)}function UG(t,r){for(var s=0;s<=t.SheetNames.length;++s){var a=t.Sheets[t.SheetNames[s]];if(!(!a||!a["!ref"])){var i=Ci(a["!ref"]);i.e.c>255&&typeof console!="undefined"&&console.error&&console.error("Worksheet '"+t.SheetNames[s]+"' extends beyond column IV (255).  Data may be lost.")}}var o=r||{};switch(o.biff||2){case 8:case 5:return qwe(t,r);case 4:case 3:case 2:return Dwe(t,r)}throw new Error("invalid type "+o.bookType+" for BIFF")}function Ywe(t,r,s,a){for(var i=t["!merges"]||[],o=[],l=r.s.c;l<=r.e.c;++l){for(var c=0,d=0,f=0;f<i.length;++f)if(!(i[f].s.r>s||i[f].s.c>l)&&!(i[f].e.r<s||i[f].e.c<l)){if(i[f].s.r<s||i[f].s.c<l){c=-1;break}c=i[f].e.r-i[f].s.r+1,d=i[f].e.c-i[f].s.c+1;break}if(!(c<0)){var h=Xr({r:s,c:l}),g=a.dense?(t[s]||[])[l]:t[h],m=g&&g.v!=null&&(g.h||Cxe(g.w||(Hl(g),g.w)||""))||"",p={};c>1&&(p.rowspan=c),d>1&&(p.colspan=d),a.editable?m='<span contenteditable="true">'+m+"</span>":g&&(p["data-t"]=g&&g.t||"z",g.v!=null&&(p["data-v"]=g.v),g.z!=null&&(p["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+g.l.Target+'">'+m+"</a>")),p.id=(a.id||"sjs")+"-"+h,o.push(Bt("td",m,p))}}var x="<tr>";return x+o.join("")+"</tr>"}var Jwe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Zwe="</body></html>";function Qwe(t,r,s){var a=[];return a.join("")+"<table"+(s&&s.id?' id="'+s.id+'"':"")+">"}function WG(t,r){var s=r||{},a=s.header!=null?s.header:Jwe,i=s.footer!=null?s.footer:Zwe,o=[a],l=Ci(t["!ref"]);s.dense=Array.isArray(t),o.push(Qwe(t,l,s));for(var c=l.s.r;c<=l.e.r;++c)o.push(Ywe(t,l,c,s));return o.push("</table>"+i),o.join("")}function HG(t,r,s){var a=s||{},i=0,o=0;if(a.origin!=null)if(typeof a.origin=="number")i=a.origin;else{var l=typeof a.origin=="string"?ms(a.origin):a.origin;i=l.r,o=l.c}var c=r.getElementsByTagName("tr"),d=Math.min(a.sheetRows||1e7,c.length),f={s:{r:0,c:0},e:{r:i,c:o}};if(t["!ref"]){var h=Ci(t["!ref"]);f.s.r=Math.min(f.s.r,h.s.r),f.s.c=Math.min(f.s.c,h.s.c),f.e.r=Math.max(f.e.r,h.e.r),f.e.c=Math.max(f.e.c,h.e.c),i==-1&&(f.e.r=i=h.e.r+1)}var g=[],m=0,p=t["!rows"]||(t["!rows"]=[]),x=0,y=0,w=0,b=0,v=0,j=0;for(t["!cols"]||(t["!cols"]=[]);x<c.length&&y<d;++x){var N=c[x];if(p$(N)){if(a.display)continue;p[y]={hidden:!0}}var S=N.children;for(w=b=0;w<S.length;++w){var I=S[w];if(!(a.display&&p$(I))){var E=I.hasAttribute("data-v")?I.getAttribute("data-v"):I.hasAttribute("v")?I.getAttribute("v"):Mxe(I.innerHTML),L=I.getAttribute("data-z")||I.getAttribute("z");for(m=0;m<g.length;++m){var C=g[m];C.s.c==b+o&&C.s.r<y+i&&y+i<=C.e.r&&(b=C.e.c+1-o,m=-1)}j=+I.getAttribute("colspan")||1,((v=+I.getAttribute("rowspan")||1)>1||j>1)&&g.push({s:{r:y+i,c:b+o},e:{r:y+i+(v||1)-1,c:b+o+(j||1)-1}});var T={t:"s",v:E},k=I.getAttribute("data-t")||I.getAttribute("t")||"";E!=null&&(E.length==0?T.t=k||"z":a.raw||E.trim().length==0||k=="s"||(E==="TRUE"?T={t:"b",v:!0}:E==="FALSE"?T={t:"b",v:!1}:isNaN(Pl(E))?isNaN(Sp(E).getDate())||(T={t:"d",v:Ma(E)},a.cellDates||(T={t:"n",v:Qa(T.v)}),T.z=a.dateNF||_n[14]):T={t:"n",v:Pl(E)})),T.z===void 0&&L!=null&&(T.z=L);var M="",_=I.getElementsByTagName("A");if(_&&_.length)for(var J=0;J<_.length&&!(_[J].hasAttribute("href")&&(M=_[J].getAttribute("href"),M.charAt(0)!="#"));++J);M&&M.charAt(0)!="#"&&(T.l={Target:M}),a.dense?(t[y+i]||(t[y+i]=[]),t[y+i][b+o]=T):t[Xr({c:b+o,r:y+i})]=T,f.e.c<b+o&&(f.e.c=b+o),b+=j}}++y}return g.length&&(t["!merges"]=(t["!merges"]||[]).concat(g)),f.e.r=Math.max(f.e.r,y-1+i),t["!ref"]=qn(f),y>=d&&(t["!fullref"]=qn((f.e.r=c.length-x+y-1+i,f))),t}function VG(t,r){var s=r||{},a=s.dense?[]:{};return HG(a,t,r)}function Kwe(t,r){return rf(VG(t,r),r)}function p$(t){var r="",s=Xwe(t);return s&&(r=s(t).getPropertyValue("display")),r||(r=t.style&&t.style.display),r==="none"}function Xwe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var eje=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),r="<office:document-styles "+kp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Yn+r}}(),x$=function(){var t=function(o){return Qr(o).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},r=`          <table:table-cell />
`,s=`          <table:covered-table-cell/>
`,a=function(o,l,c){var d=[];d.push('      <table:table table:name="'+Qr(l.SheetNames[c])+`" table:style-name="ta1">
`);var f=0,h=0,g=Ci(o["!ref"]||"A1"),m=o["!merges"]||[],p=0,x=Array.isArray(o);if(o["!cols"])for(h=0;h<=g.e.c;++h)d.push("        <table:table-column"+(o["!cols"][h]?' table:style-name="co'+o["!cols"][h].ods+'"':"")+`></table:table-column>
`);var y="",w=o["!rows"]||[];for(f=0;f<g.s.r;++f)y=w[f]?' table:style-name="ro'+w[f].ods+'"':"",d.push("        <table:table-row"+y+`></table:table-row>
`);for(;f<=g.e.r;++f){for(y=w[f]?' table:style-name="ro'+w[f].ods+'"':"",d.push("        <table:table-row"+y+`>
`),h=0;h<g.s.c;++h)d.push(r);for(;h<=g.e.c;++h){var b=!1,v={},j="";for(p=0;p!=m.length;++p)if(!(m[p].s.c>h)&&!(m[p].s.r>f)&&!(m[p].e.c<h)&&!(m[p].e.r<f)){(m[p].s.c!=h||m[p].s.r!=f)&&(b=!0),v["table:number-columns-spanned"]=m[p].e.c-m[p].s.c+1,v["table:number-rows-spanned"]=m[p].e.r-m[p].s.r+1;break}if(b){d.push(s);continue}var N=Xr({r:f,c:h}),S=x?(o[f]||[])[h]:o[N];if(S&&S.f&&(v["table:formula"]=Qr(bbe(S.f)),S.F&&S.F.slice(0,N.length)==N)){var I=Ci(S.F);v["table:number-matrix-columns-spanned"]=I.e.c-I.s.c+1,v["table:number-matrix-rows-spanned"]=I.e.r-I.s.r+1}if(!S){d.push(r);continue}switch(S.t){case"b":j=S.v?"TRUE":"FALSE",v["office:value-type"]="boolean",v["office:boolean-value"]=S.v?"true":"false";break;case"n":j=S.w||String(S.v||0),v["office:value-type"]="float",v["office:value"]=S.v||0;break;case"s":case"str":j=S.v==null?"":S.v,v["office:value-type"]="string";break;case"d":j=S.w||Ma(S.v).toISOString(),v["office:value-type"]="date",v["office:date-value"]=Ma(S.v).toISOString(),v["table:style-name"]="ce1";break;default:d.push(r);continue}var E=t(j);if(S.l&&S.l.Target){var L=S.l.Target;L=L.charAt(0)=="#"?"#"+wbe(L.slice(1)):L,L.charAt(0)!="#"&&!L.match(/^\w+:/)&&(L="../"+L),E=Bt("text:a",E,{"xlink:href":L.replace(/&/g,"&amp;")})}d.push("          "+Bt("table:table-cell",Bt("text:p",E,{}),v)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},i=function(o,l){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var c=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var h=0;h<f["!cols"].length;++h)if(f["!cols"][h]){var g=f["!cols"][h];if(g.width==null&&g.wpx==null&&g.wch==null)continue;pL(g),g.ods=c;var m=f["!cols"][h].wpx+"px";o.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),o.push(`  </style:style>
`),++c}}});var d=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var h=0;h<f["!rows"].length;++h)if(f["!rows"][h]){f["!rows"][h].ods=d;var g=f["!rows"][h].hpx+"px";o.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+g+`"/>
`),o.push(`  </style:style>
`),++d}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(l,c){var d=[Yn],f=kp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=kp({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(d.push("<office:document"+f+h+`>
`),d.push(iG().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+f+`>
`),i(d,l),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var g=0;g!=l.SheetNames.length;++g)d.push(a(l.Sheets[l.SheetNames[g]],l,g));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),c.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}}();function GG(t,r){if(r.bookType=="fods")return x$(t,r);var s=aL(),a="",i=[],o=[];return a="mimetype",vr(s,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",vr(s,a,x$(t,r)),i.push([a,"text/xml"]),o.push([a,"ContentFile"]),a="styles.xml",vr(s,a,eje(t,r)),i.push([a,"text/xml"]),o.push([a,"StylesFile"]),a="meta.xml",vr(s,a,Yn+iG()),i.push([a,"text/xml"]),o.push([a,"MetadataFile"]),a="manifest.rdf",vr(s,a,fve(o)),i.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",vr(s,a,dve(i)),s}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Eb(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function tje(t){return typeof TextEncoder!="undefined"?new TextEncoder().encode(t):Mo(Cp(t))}function rje(t,r){e:for(var s=0;s<=t.length-r.length;++s){for(var a=0;a<r.length;++a)if(t[s+a]!=r[a])continue e;return!0}return!1}function bd(t){var r=t.reduce(function(i,o){return i+o.length},0),s=new Uint8Array(r),a=0;return t.forEach(function(i){s.set(i,a),a+=i.length}),s}function nje(t,r,s){var a=Math.floor(s==0?0:Math.LOG10E*Math.log(Math.abs(s)))+6176-20,i=s/Math.pow(10,a-6176);t[r+15]|=a>>7,t[r+14]|=(a&127)<<1;for(var o=0;i>=1;++o,i/=256)t[r+o]=i&255;t[r+15]|=s>=0?0:128}function Ep(t,r){var s=r?r[0]:0,a=t[s]&127;e:if(t[s++]>=128&&(a|=(t[s]&127)<<7,t[s++]<128||(a|=(t[s]&127)<<14,t[s++]<128)||(a|=(t[s]&127)<<21,t[s++]<128)||(a+=(t[s]&127)*Math.pow(2,28),++s,t[s++]<128)||(a+=(t[s]&127)*Math.pow(2,35),++s,t[s++]<128)||(a+=(t[s]&127)*Math.pow(2,42),++s,t[s++]<128)))break e;return r&&(r[0]=s),a}function Jr(t){var r=new Uint8Array(7);r[0]=t&127;var s=1;e:if(t>127){if(r[s-1]|=128,r[s]=t>>7&127,++s,t<=16383||(r[s-1]|=128,r[s]=t>>14&127,++s,t<=2097151)||(r[s-1]|=128,r[s]=t>>21&127,++s,t<=268435455)||(r[s-1]|=128,r[s]=t/256>>>21&127,++s,t<=34359738367)||(r[s-1]|=128,r[s]=t/65536>>>21&127,++s,t<=4398046511103))break e;r[s-1]|=128,r[s]=t/16777216>>>21&127,++s}return r.slice(0,s)}function R0(t){var r=0,s=t[r]&127;e:if(t[r++]>=128){if(s|=(t[r]&127)<<7,t[r++]<128||(s|=(t[r]&127)<<14,t[r++]<128)||(s|=(t[r]&127)<<21,t[r++]<128))break e;s|=(t[r]&127)<<28}return s}function rs(t){for(var r=[],s=[0];s[0]<t.length;){var a=s[0],i=Ep(t,s),o=i&7;i=Math.floor(i/8);var l=0,c;if(i==0)break;switch(o){case 0:{for(var d=s[0];t[s[0]++]>=128;);c=t.slice(d,s[0])}break;case 5:l=4,c=t.slice(s[0],s[0]+l),s[0]+=l;break;case 1:l=8,c=t.slice(s[0],s[0]+l),s[0]+=l;break;case 2:l=Ep(t,s),c=t.slice(s[0],s[0]+l),s[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(i," at offset ").concat(a))}var f={data:c,type:o};r[i]==null?r[i]=[f]:r[i].push(f)}return r}function ks(t){var r=[];return t.forEach(function(s,a){s.forEach(function(i){i.data&&(r.push(Jr(a*8+i.type)),i.type==2&&r.push(Jr(i.data.length)),r.push(i.data))})}),bd(r)}function mo(t){for(var r,s=[],a=[0];a[0]<t.length;){var i=Ep(t,a),o=rs(t.slice(a[0],a[0]+i));a[0]+=i;var l={id:R0(o[1][0].data),messages:[]};o[2].forEach(function(c){var d=rs(c.data),f=R0(d[3][0].data);l.messages.push({meta:d,data:t.slice(a[0],a[0]+f)}),a[0]+=f}),(r=o[3])!=null&&r[0]&&(l.merge=R0(o[3][0].data)>>>0>0),s.push(l)}return s}function Of(t){var r=[];return t.forEach(function(s){var a=[];a[1]=[{data:Jr(s.id),type:0}],a[2]=[],s.merge!=null&&(a[3]=[{data:Jr(+!!s.merge),type:0}]);var i=[];s.messages.forEach(function(l){i.push(l.data),l.meta[3]=[{type:0,data:Jr(l.data.length)}],a[2].push({data:ks(l.meta),type:2})});var o=ks(a);r.push(Jr(o.length)),r.push(o),i.forEach(function(l){return r.push(l)})}),bd(r)}function sje(t,r){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var s=[0],a=Ep(r,s),i=[];s[0]<r.length;){var o=r[s[0]]&3;if(o==0){var l=r[s[0]++]>>2;if(l<60)++l;else{var c=l-59;l=r[s[0]],c>1&&(l|=r[s[0]+1]<<8),c>2&&(l|=r[s[0]+2]<<16),c>3&&(l|=r[s[0]+3]<<24),l>>>=0,l++,s[0]+=c}i.push(r.slice(s[0],s[0]+l)),s[0]+=l;continue}else{var d=0,f=0;if(o==1?(f=(r[s[0]]>>2&7)+4,d=(r[s[0]++]&224)<<3,d|=r[s[0]++]):(f=(r[s[0]++]>>2)+1,o==2?(d=r[s[0]]|r[s[0]+1]<<8,s[0]+=2):(d=(r[s[0]]|r[s[0]+1]<<8|r[s[0]+2]<<16|r[s[0]+3]<<24)>>>0,s[0]+=4)),i=[bd(i)],d==0)throw new Error("Invalid offset 0");if(d>i[0].length)throw new Error("Invalid offset beyond length");if(f>=d)for(i.push(i[0].slice(-d)),f-=d;f>=i[i.length-1].length;)i.push(i[i.length-1]),f-=i[i.length-1].length;i.push(i[0].slice(-d,-d+f))}}var h=bd(i);if(h.length!=a)throw new Error("Unexpected length: ".concat(h.length," != ").concat(a));return h}function po(t){for(var r=[],s=0;s<t.length;){var a=t[s++],i=t[s]|t[s+1]<<8|t[s+2]<<16;s+=3,r.push(sje(a,t.slice(s,s+i))),s+=i}if(s!==t.length)throw new Error("data is not a valid framed stream!");return bd(r)}function $f(t){for(var r=[],s=0;s<t.length;){var a=Math.min(t.length-s,268435455),i=new Uint8Array(4);r.push(i);var o=Jr(a),l=o.length;r.push(o),a<=60?(l++,r.push(new Uint8Array([a-1<<2]))):a<=256?(l+=2,r.push(new Uint8Array([240,a-1&255]))):a<=65536?(l+=3,r.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(l+=4,r.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(l+=5,r.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),r.push(t.slice(s,s+a)),l+=a,i[0]=0,i[1]=l&255,i[2]=l>>8&255,i[3]=l>>16&255,s+=a}return bd(r)}function K4(t,r){var s=new Uint8Array(32),a=Eb(s),i=12,o=0;switch(s[0]=5,t.t){case"n":s[1]=2,nje(s,i,t.v),o|=1,i+=16;break;case"b":s[1]=6,a.setFloat64(i,t.v?1:0,!0),o|=2,i+=8;break;case"s":if(r.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));s[1]=3,a.setUint32(i,r.indexOf(t.v),!0),o|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return a.setUint32(8,o,!0),s.slice(0,i)}function X4(t,r){var s=new Uint8Array(32),a=Eb(s),i=12,o=0;switch(s[0]=3,t.t){case"n":s[2]=2,a.setFloat64(i,t.v,!0),o|=32,i+=8;break;case"b":s[2]=6,a.setFloat64(i,t.v?1:0,!0),o|=32,i+=8;break;case"s":if(r.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));s[2]=3,a.setUint32(i,r.indexOf(t.v),!0),o|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return a.setUint32(4,o,!0),s.slice(0,i)}function Ec(t){var r=rs(t);return Ep(r[1][0].data)}function aje(t,r,s){var a,i,o,l;if(!((a=t[6])!=null&&a[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var c=((l=(o=t[8])==null?void 0:o[0])==null?void 0:l.data)&&R0(t[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var d=0,f=Eb(t[7][0].data),h=0,g=[],m=Eb(t[4][0].data),p=0,x=[],y=0;y<r.length;++y){if(r[y]==null){f.setUint16(y*2,65535,!0),m.setUint16(y*2,65535);continue}f.setUint16(y*2,h,!0),m.setUint16(y*2,p,!0);var w,b;switch(typeof r[y]){case"string":w=K4({t:"s",v:r[y]},s),b=X4({t:"s",v:r[y]},s);break;case"number":w=K4({t:"n",v:r[y]},s),b=X4({t:"n",v:r[y]},s);break;case"boolean":w=K4({t:"b",v:r[y]},s),b=X4({t:"b",v:r[y]},s);break;default:throw new Error("Unsupported value "+r[y])}g.push(w),h+=w.length,x.push(b),p+=b.length,++d}for(t[2][0].data=Jr(d);y<t[7][0].data.length/2;++y)f.setUint16(y*2,65535,!0),m.setUint16(y*2,65535,!0);return t[6][0].data=bd(g),t[3][0].data=bd(x),d}function ije(t,r){if(!r||!r.numbers)throw new Error("Must pass a `numbers` option -- check the README");var s=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=Ci(s["!ref"]);a.s.r=a.s.c=0;var i=!1;a.e.c>9&&(i=!0,a.e.c=9),a.e.r>49&&(i=!0,a.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(qn(a)));var o=Lb(s,{range:a,header:1}),l=["~Sh33tJ5~"];o.forEach(function(B){return B.forEach(function(z){typeof z=="string"&&l.push(z)})});var c={},d=[],f=tn.read(r.numbers,{type:"base64"});f.FileIndex.map(function(B,z){return[B,f.FullPaths[z]]}).forEach(function(B){var z=B[0],O=B[1];if(z.type==2&&z.name.match(/\.iwa/)){var U=z.content,Z=po(U),se=mo(Z);se.forEach(function(fe){d.push(fe.id),c[fe.id]={deps:[],location:O,type:R0(fe.messages[0].meta[1][0].data)}})}}),d.sort(function(B,z){return B-z});var h=d.filter(function(B){return B>1}).map(function(B){return[B,Jr(B)]});f.FileIndex.map(function(B,z){return[B,f.FullPaths[z]]}).forEach(function(B){var z=B[0];if(B[1],!!z.name.match(/\.iwa/)){var O=mo(po(z.content));O.forEach(function(U){U.messages.forEach(function(Z){h.forEach(function(se){U.messages.some(function(fe){return R0(fe.meta[1][0].data)!=11006&&rje(fe.data,se[1])})&&c[se[0]].deps.push(U.id)})})})}});for(var g=tn.find(f,c[1].location),m=mo(po(g.content)),p,x=0;x<m.length;++x){var y=m[x];y.id==1&&(p=y)}var w=Ec(rs(p.messages[0].data)[1][0].data);for(g=tn.find(f,c[w].location),m=mo(po(g.content)),x=0;x<m.length;++x)y=m[x],y.id==w&&(p=y);for(w=Ec(rs(p.messages[0].data)[2][0].data),g=tn.find(f,c[w].location),m=mo(po(g.content)),x=0;x<m.length;++x)y=m[x],y.id==w&&(p=y);for(w=Ec(rs(p.messages[0].data)[2][0].data),g=tn.find(f,c[w].location),m=mo(po(g.content)),x=0;x<m.length;++x)y=m[x],y.id==w&&(p=y);var b=rs(p.messages[0].data);{b[6][0].data=Jr(a.e.r+1),b[7][0].data=Jr(a.e.c+1);var v=Ec(b[46][0].data),j=tn.find(f,c[v].location),N=mo(po(j.content));{for(var S=0;S<N.length&&N[S].id!=v;++S);if(N[S].id!=v)throw"Bad ColumnRowUIDMapArchive";var I=rs(N[S].messages[0].data);I[1]=[],I[2]=[],I[3]=[];for(var E=0;E<=a.e.c;++E){var L=[];L[1]=L[2]=[{type:0,data:Jr(E+420690)}],I[1].push({type:2,data:ks(L)}),I[2].push({type:0,data:Jr(E)}),I[3].push({type:0,data:Jr(E)})}I[4]=[],I[5]=[],I[6]=[];for(var C=0;C<=a.e.r;++C)L=[],L[1]=L[2]=[{type:0,data:Jr(C+726270)}],I[4].push({type:2,data:ks(L)}),I[5].push({type:0,data:Jr(C)}),I[6].push({type:0,data:Jr(C)});N[S].messages[0].data=ks(I)}j.content=$f(Of(N)),j.size=j.content.length,delete b[46];var T=rs(b[4][0].data);{T[7][0].data=Jr(a.e.r+1);var k=rs(T[1][0].data),M=Ec(k[2][0].data);j=tn.find(f,c[M].location),N=mo(po(j.content));{if(N[0].id!=M)throw"Bad HeaderStorageBucket";var _=rs(N[0].messages[0].data);for(C=0;C<o.length;++C){var J=rs(_[2][0].data);J[1][0].data=Jr(C),J[4][0].data=Jr(o[C].length),_[2][C]={type:_[2][0].type,data:ks(J)}}N[0].messages[0].data=ks(_)}j.content=$f(Of(N)),j.size=j.content.length;var Y=Ec(T[2][0].data);j=tn.find(f,c[Y].location),N=mo(po(j.content));{if(N[0].id!=Y)throw"Bad HeaderStorageBucket";for(_=rs(N[0].messages[0].data),E=0;E<=a.e.c;++E)J=rs(_[2][0].data),J[1][0].data=Jr(E),J[4][0].data=Jr(a.e.r+1),_[2][E]={type:_[2][0].type,data:ks(J)};N[0].messages[0].data=ks(_)}j.content=$f(Of(N)),j.size=j.content.length;var te=Ec(T[4][0].data);(function(){for(var B=tn.find(f,c[te].location),z=mo(po(B.content)),O,U=0;U<z.length;++U){var Z=z[U];Z.id==te&&(O=Z)}var se=rs(O.messages[0].data);{se[3]=[];var fe=[];l.forEach(function(Te,ht){fe[1]=[{type:0,data:Jr(ht)}],fe[2]=[{type:0,data:Jr(1)}],fe[3]=[{type:2,data:tje(Te)}],se[3].push({type:2,data:ks(fe)})})}O.messages[0].data=ks(se);var le=Of(z),Ne=$f(le);B.content=Ne,B.size=B.content.length})();var K=rs(T[3][0].data);{var X=K[1][0];delete K[2];var W=rs(X.data);{var F=Ec(W[2][0].data);(function(){for(var B=tn.find(f,c[F].location),z=mo(po(B.content)),O,U=0;U<z.length;++U){var Z=z[U];Z.id==F&&(O=Z)}var se=rs(O.messages[0].data);{delete se[6],delete K[7];var fe=new Uint8Array(se[5][0].data);se[5]=[];for(var le=0,Ne=0;Ne<=a.e.r;++Ne){var Te=rs(fe);le+=aje(Te,o[Ne],l),Te[1][0].data=Jr(Ne),se[5].push({data:ks(Te),type:2})}se[1]=[{type:0,data:Jr(a.e.c+1)}],se[2]=[{type:0,data:Jr(a.e.r+1)}],se[3]=[{type:0,data:Jr(le)}],se[4]=[{type:0,data:Jr(a.e.r+1)}]}O.messages[0].data=ks(se);var ht=Of(z),Fe=$f(ht);B.content=Fe,B.size=B.content.length})()}X.data=ks(W)}T[3][0].data=ks(K)}b[4][0].data=ks(T)}p.messages[0].data=ks(b);var P=Of(m),A=$f(P);return g.content=A,g.size=g.content.length,f}function oje(t){return function(s){for(var a=0;a!=t.length;++a){var i=t[a];s[i[0]]===void 0&&(s[i[0]]=i[1]),i[2]==="n"&&(s[i[0]]=Number(s[i[0]]))}}}function wL(t){oje([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function lje(t,r){return r.bookType=="ods"?GG(t,r):r.bookType=="numbers"?ije(t,r):r.bookType=="xlsb"?cje(t,r):dje(t,r)}function cje(t,r){b0=1024,t&&!t.SSF&&(t.SSF=Ka(_n)),t&&t.SSF&&(mw(),gw(t.SSF),r.revssf=pw(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,$m?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var s=r.bookType=="xlsb"?"bin":"xml",a=LG.indexOf(r.bookType)>-1,i=nG();wL(r=r||{});var o=aL(),l="",c=0;if(r.cellXfs=[],Dd(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",vr(o,l,oG(t.Props,r)),i.coreprops.push(l),Zr(r.rels,2,l,Wr.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&d.push(t.SheetNames[f]);t.Props.SheetNames=d}for(t.Props.Worksheets=t.Props.SheetNames.length,vr(o,l,cG(t.Props)),i.extprops.push(l),Zr(r.rels,3,l,Wr.EXT_PROPS),t.Custprops!==t.Props&&Ps(t.Custprops||{}).length>0&&(l="docProps/custom.xml",vr(o,l,dG(t.Custprops)),i.custprops.push(l),Zr(r.rels,4,l,Wr.CUST_PROPS)),c=1;c<=t.SheetNames.length;++c){var h={"!id":{}},g=t.Sheets[t.SheetNames[c-1]],m=(g||{})["!type"]||"sheet";switch(m){case"chart":default:l="xl/worksheets/sheet"+c+"."+s,vr(o,l,fwe(c-1,l,r,t,h)),i.sheets.push(l),Zr(r.wbrels,-1,"worksheets/sheet"+c+"."+s,Wr.WS[0])}if(g){var p=g["!comments"],x=!1,y="";p&&p.length>0&&(y="xl/comments"+c+"."+s,vr(o,y,mwe(p,y)),i.comments.push(y),Zr(h,-1,"../comments"+c+"."+s,Wr.CMNT),x=!0),g["!legacy"]&&x&&vr(o,"xl/drawings/vmlDrawing"+c+".vml",kG(c,g["!comments"])),delete g["!comments"],delete g["!legacy"]}h["!id"].rId1&&vr(o,aG(l),P0(h))}return r.Strings!=null&&r.Strings.length>0&&(l="xl/sharedStrings."+s,vr(o,l,gwe(r.Strings,l,r)),i.strs.push(l),Zr(r.wbrels,-1,"sharedStrings."+s,Wr.SST)),l="xl/workbook."+s,vr(o,l,uwe(t,l)),i.workbooks.push(l),Zr(r.rels,1,l,Wr.WB),l="xl/theme/theme1.xml",vr(o,l,SG(t.Themes,r)),i.themes.push(l),Zr(r.wbrels,-1,"theme/theme1.xml",Wr.THEME),l="xl/styles."+s,vr(o,l,hwe(t,l,r)),i.styles.push(l),Zr(r.wbrels,-1,"styles."+s,Wr.STY),t.vbaraw&&a&&(l="xl/vbaProject.bin",vr(o,l,t.vbaraw),i.vba.push(l),Zr(r.wbrels,-1,"vbaProject.bin",Wr.VBA)),l="xl/metadata."+s,vr(o,l,pwe(l)),i.metadata.push(l),Zr(r.wbrels,-1,"metadata."+s,Wr.XLMETA),vr(o,"[Content_Types].xml",sG(i,r)),vr(o,"_rels/.rels",P0(r.rels)),vr(o,"xl/_rels/workbook."+s+".rels",P0(r.wbrels)),delete r.revssf,delete r.ssf,o}function dje(t,r){b0=1024,t&&!t.SSF&&(t.SSF=Ka(_n)),t&&t.SSF&&(mw(),gw(t.SSF),r.revssf=pw(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,$m?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var s="xml",a=LG.indexOf(r.bookType)>-1,i=nG();wL(r=r||{});var o=aL(),l="",c=0;if(r.cellXfs=[],Dd(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",vr(o,l,oG(t.Props,r)),i.coreprops.push(l),Zr(r.rels,2,l,Wr.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&d.push(t.SheetNames[f]);t.Props.SheetNames=d}t.Props.Worksheets=t.Props.SheetNames.length,vr(o,l,cG(t.Props)),i.extprops.push(l),Zr(r.rels,3,l,Wr.EXT_PROPS),t.Custprops!==t.Props&&Ps(t.Custprops||{}).length>0&&(l="docProps/custom.xml",vr(o,l,dG(t.Custprops)),i.custprops.push(l),Zr(r.rels,4,l,Wr.CUST_PROPS));var h=["SheetJ5"];for(r.tcid=0,c=1;c<=t.SheetNames.length;++c){var g={"!id":{}},m=t.Sheets[t.SheetNames[c-1]],p=(m||{})["!type"]||"sheet";switch(p){case"chart":default:l="xl/worksheets/sheet"+c+"."+s,vr(o,l,DG(c-1,r,t,g)),i.sheets.push(l),Zr(r.wbrels,-1,"worksheets/sheet"+c+"."+s,Wr.WS[0])}if(m){var x=m["!comments"],y=!1,w="";if(x&&x.length>0){var b=!1;x.forEach(function(v){v[1].forEach(function(j){j.T==!0&&(b=!0)})}),b&&(w="xl/threadedComments/threadedComment"+c+"."+s,vr(o,w,z1e(x,h,r)),i.threadedcomments.push(w),Zr(g,-1,"../threadedComments/threadedComment"+c+"."+s,Wr.TCMNT)),w="xl/comments"+c+"."+s,vr(o,w,EG(x)),i.comments.push(w),Zr(g,-1,"../comments"+c+"."+s,Wr.CMNT),y=!0}m["!legacy"]&&y&&vr(o,"xl/drawings/vmlDrawing"+c+".vml",kG(c,m["!comments"])),delete m["!comments"],delete m["!legacy"]}g["!id"].rId1&&vr(o,aG(l),P0(g))}return r.Strings!=null&&r.Strings.length>0&&(l="xl/sharedStrings."+s,vr(o,l,vG(r.Strings,r)),i.strs.push(l),Zr(r.wbrels,-1,"sharedStrings."+s,Wr.SST)),l="xl/workbook."+s,vr(o,l,BG(t)),i.workbooks.push(l),Zr(r.rels,1,l,Wr.WB),l="xl/theme/theme1.xml",vr(o,l,SG(t.Themes,r)),i.themes.push(l),Zr(r.wbrels,-1,"theme/theme1.xml",Wr.THEME),l="xl/styles."+s,vr(o,l,jG(t,r)),i.styles.push(l),Zr(r.wbrels,-1,"styles."+s,Wr.STY),t.vbaraw&&a&&(l="xl/vbaProject.bin",vr(o,l,t.vbaraw),i.vba.push(l),Zr(r.wbrels,-1,"vbaProject.bin",Wr.VBA)),l="xl/metadata."+s,vr(o,l,CG()),i.metadata.push(l),Zr(r.wbrels,-1,"metadata."+s,Wr.XLMETA),h.length>1&&(l="xl/persons/person.xml",vr(o,l,U1e(h)),i.people.push(l),Zr(r.wbrels,-1,"persons/person.xml",Wr.PEOPLE)),vr(o,"[Content_Types].xml",sG(i,r)),vr(o,"_rels/.rels",P0(r.rels)),vr(o,"xl/_rels/workbook."+s+".rels",P0(r.wbrels)),delete r.revssf,delete r.ssf,o}function uje(t,r){var s="";switch((r||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":s=Wl(t.slice(0,12));break;case"binary":s=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(r&&r.type||"undefined"))}return[s.charCodeAt(0),s.charCodeAt(1),s.charCodeAt(2),s.charCodeAt(3),s.charCodeAt(4),s.charCodeAt(5),s.charCodeAt(6),s.charCodeAt(7)]}function qG(t,r){switch(r.type){case"base64":case"binary":break;case"buffer":case"array":r.type="";break;case"file":return ix(r.file,tn.write(t,{type:Hr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");default:throw new Error("Unrecognized type "+r.type)}return tn.write(t,r)}function fje(t,r){var s=Ka(r||{}),a=lje(t,s);return hje(a,s)}function hje(t,r){var s={},a=Hr?"nodebuffer":typeof Uint8Array!="undefined"?"array":"string";if(r.compression&&(s.compression="DEFLATE"),r.password)s.type=a;else switch(r.type){case"base64":s.type="base64";break;case"binary":s.type="string";break;case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");case"buffer":case"file":s.type=a;break;default:throw new Error("Unrecognized type "+r.type)}var i=t.FullPaths?tn.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[s.type]||s.type,compression:!!r.compression}):t.generate(s);if(typeof Deno!="undefined"&&typeof i=="string"){if(r.type=="binary"||r.type=="base64")return i;i=new Uint8Array(hw(i))}return r.password&&typeof encrypt_agile!="undefined"?qG(encrypt_agile(i,r.password),r):r.type==="file"?ix(r.file,i):r.type=="string"?Tm(i):i}function gje(t,r){var s=r||{},a=Iwe(t,s);return qG(a,s)}function Xo(t,r,s){s||(s="");var a=s+t;switch(r.type){case"base64":return Np(Cp(a));case"binary":return Cp(a);case"string":return t;case"file":return ix(r.file,a,"utf8");case"buffer":return Hr?lc(a,"utf8"):typeof TextEncoder!="undefined"?new TextEncoder().encode(a):Xo(a,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function mje(t,r){switch(r.type){case"base64":return Np(t);case"binary":return t;case"string":return t;case"file":return ix(r.file,t,"binary");case"buffer":return Hr?lc(t,"binary"):t.split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function Ov(t,r){switch(r.type){case"string":case"base64":case"binary":for(var s="",a=0;a<t.length;++a)s+=String.fromCharCode(t[a]);return r.type=="base64"?Np(s):r.type=="string"?Tm(s):s;case"file":return ix(r.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+r.type)}}function ux(t,r){Wpe(),ewe(t);var s=Ka(r||{});if(s.cellStyles&&(s.cellNF=!0,s.sheetStubs=!0),s.type=="array"){s.type="binary";var a=ux(t,s);return s.type="array",hw(a)}var i=0;if(s.sheet&&(typeof s.sheet=="number"?i=s.sheet:i=t.SheetNames.indexOf(s.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+s.sheet+" : "+typeof s.sheet);switch(s.bookType||"xlsb"){case"xml":case"xlml":return Xo(Lwe(t,s),s);case"slk":case"sylk":return Xo(Qve.from_sheet(t.Sheets[t.SheetNames[i]],s),s);case"htm":case"html":return Xo(WG(t.Sheets[t.SheetNames[i]],s),s);case"txt":return mje(YG(t.Sheets[t.SheetNames[i]],s),s);case"csv":return Xo(jL(t.Sheets[t.SheetNames[i]],s),s,"\uFEFF");case"dif":return Xo(Kve.from_sheet(t.Sheets[t.SheetNames[i]],s),s);case"dbf":return Ov(Zve.from_sheet(t.Sheets[t.SheetNames[i]],s),s);case"prn":return Xo(Xve.from_sheet(t.Sheets[t.SheetNames[i]],s),s);case"rtf":return Xo(i1e.from_sheet(t.Sheets[t.SheetNames[i]],s),s);case"eth":return Xo(xG.from_sheet(t.Sheets[t.SheetNames[i]],s),s);case"fods":return Xo(GG(t,s),s);case"wk1":return Ov(d$.sheet_to_wk1(t.Sheets[t.SheetNames[i]],s),s);case"wk3":return Ov(d$.book_to_wk3(t,s),s);case"biff2":s.biff||(s.biff=2);case"biff3":s.biff||(s.biff=3);case"biff4":return s.biff||(s.biff=4),Ov(UG(t,s),s);case"biff5":s.biff||(s.biff=5);case"biff8":case"xla":case"xls":return s.biff||(s.biff=8),gje(t,s);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return fje(t,s);default:throw new Error("Unrecognized bookType |"+s.bookType+"|")}}function pje(t){if(!t.bookType){var r={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},s=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();s.match(/^\.[a-z]+$/)&&(t.bookType=s.slice(1)),t.bookType=r[t.bookType]||t.bookType}}function xje(t,r,s){var a={};return a.type="file",a.file=r,pje(a),ux(t,a)}function vje(t,r,s,a,i,o,l,c){var d=_s(s),f=c.defval,h=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),g=!0,m=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:s,enumerable:!1})}catch(w){m.__rowNum__=s}else m.__rowNum__=s;if(!l||t[s])for(var p=r.s.c;p<=r.e.c;++p){var x=l?t[s][p]:t[a[p]+d];if(x===void 0||x.t===void 0){if(f===void 0)continue;o[p]!=null&&(m[o[p]]=f);continue}var y=x.v;switch(x.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(o[p]!=null){if(y==null)if(x.t=="e"&&y===null)m[o[p]]=null;else if(f!==void 0)m[o[p]]=f;else if(h&&y===null)m[o[p]]=null;else continue;else m[o[p]]=h&&(x.t!=="n"||x.t==="n"&&c.rawNumbers!==!1)?y:Hl(x,y,c);y!=null&&(g=!1)}}return{row:m,isempty:g}}function Lb(t,r){if(t==null||t["!ref"]==null)return[];var s={t:"n",v:0},a=0,i=1,o=[],l=0,c="",d={s:{r:0,c:0},e:{r:0,c:0}},f=r||{},h=f.range!=null?f.range:t["!ref"];switch(f.header===1?a=1:f.header==="A"?a=2:Array.isArray(f.header)?a=3:f.header==null&&(a=0),typeof h){case"string":d=mn(h);break;case"number":d=mn(t["!ref"]),d.s.r=h;break;default:d=h}a>0&&(i=0);var g=_s(d.s.r),m=[],p=[],x=0,y=0,w=Array.isArray(t),b=d.s.r,v=0,j={};w&&!t[b]&&(t[b]=[]);var N=f.skipHidden&&t["!cols"]||[],S=f.skipHidden&&t["!rows"]||[];for(v=d.s.c;v<=d.e.c;++v)if(!(N[v]||{}).hidden)switch(m[v]=Gs(v),s=w?t[b][v]:t[m[v]+g],a){case 1:o[v]=v-d.s.c;break;case 2:o[v]=m[v];break;case 3:o[v]=f.header[v-d.s.c];break;default:if(s==null&&(s={w:"__EMPTY",t:"s"}),c=l=Hl(s,null,f),y=j[l]||0,!y)j[l]=1;else{do c=l+"_"+y++;while(j[c]);j[l]=y,j[c]=1}o[v]=c}for(b=d.s.r+i;b<=d.e.r;++b)if(!(S[b]||{}).hidden){var I=vje(t,d,b,m,a,o,w,f);(I.isempty===!1||(a===1?f.blankrows!==!1:f.blankrows))&&(p[x++]=I.row)}return p.length=x,p}var v$=/"/g;function yje(t,r,s,a,i,o,l,c){for(var d=!0,f=[],h="",g=_s(s),m=r.s.c;m<=r.e.c;++m)if(a[m]){var p=c.dense?(t[s]||[])[m]:t[a[m]+g];if(p==null)h="";else if(p.v!=null){d=!1,h=""+(c.rawNumbers&&p.t=="n"?p.v:Hl(p,null,c));for(var x=0,y=0;x!==h.length;++x)if((y=h.charCodeAt(x))===i||y===o||y===34||c.forceQuotes){h='"'+h.replace(v$,'""')+'"';break}h=="ID"&&(h='"ID"')}else p.f!=null&&!p.F?(d=!1,h="="+p.f,h.indexOf(",")>=0&&(h='"'+h.replace(v$,'""')+'"')):h="";f.push(h)}return c.blankrows===!1&&d?null:f.join(l)}function jL(t,r){var s=[],a=r==null?{}:r;if(t==null||t["!ref"]==null)return"";var i=mn(t["!ref"]),o=a.FS!==void 0?a.FS:",",l=o.charCodeAt(0),c=a.RS!==void 0?a.RS:`
`,d=c.charCodeAt(0),f=new RegExp((o=="|"?"\\|":o)+"+$"),h="",g=[];a.dense=Array.isArray(t);for(var m=a.skipHidden&&t["!cols"]||[],p=a.skipHidden&&t["!rows"]||[],x=i.s.c;x<=i.e.c;++x)(m[x]||{}).hidden||(g[x]=Gs(x));for(var y=0,w=i.s.r;w<=i.e.r;++w)(p[w]||{}).hidden||(h=yje(t,i,w,g,l,d,o,a),h!=null&&(a.strip&&(h=h.replace(f,"")),(h||a.blankrows!==!1)&&s.push((y++?c:"")+h)));return delete a.dense,s.join("")}function YG(t,r){r||(r={}),r.FS="	",r.RS=`
`;var s=jL(t,r);return s}function bje(t){var r="",s,a="";if(t==null||t["!ref"]==null)return[];var i=mn(t["!ref"]),o="",l=[],c,d=[],f=Array.isArray(t);for(c=i.s.c;c<=i.e.c;++c)l[c]=Gs(c);for(var h=i.s.r;h<=i.e.r;++h)for(o=_s(h),c=i.s.c;c<=i.e.c;++c)if(r=l[c]+o,s=f?(t[h]||[])[c]:t[r],a="",s!==void 0){if(s.F!=null){if(r=s.F,!s.f)continue;a=s.f,r.indexOf(":")==-1&&(r=r+":"+r)}if(s.f!=null)a=s.f;else{if(s.t=="z")continue;if(s.t=="n"&&s.v!=null)a=""+s.v;else if(s.t=="b")a=s.v?"TRUE":"FALSE";else if(s.w!==void 0)a="'"+s.w;else{if(s.v===void 0)continue;s.t=="s"?a="'"+s.v:a=""+s.v}}d[d.length]=r+"="+a}return d}function JG(t,r,s){var a=s||{},i=+!a.skipHeader,o=t||{},l=0,c=0;if(o&&a.origin!=null)if(typeof a.origin=="number")l=a.origin;else{var d=typeof a.origin=="string"?ms(a.origin):a.origin;l=d.r,c=d.c}var f,h={s:{c:0,r:0},e:{c,r:l+r.length-1+i}};if(o["!ref"]){var g=mn(o["!ref"]);h.e.c=Math.max(h.e.c,g.e.c),h.e.r=Math.max(h.e.r,g.e.r),l==-1&&(l=g.e.r+1,h.e.r=l+r.length-1+i)}else l==-1&&(l=0,h.e.r=r.length-1+i);var m=a.header||[],p=0;r.forEach(function(y,w){Ps(y).forEach(function(b){(p=m.indexOf(b))==-1&&(m[p=m.length]=b);var v=y[b],j="z",N="",S=Xr({c:c+p,r:l+w+i});f=Lp(o,S),v&&typeof v=="object"&&!(v instanceof Date)?o[S]=v:(typeof v=="number"?j="n":typeof v=="boolean"?j="b":typeof v=="string"?j="s":v instanceof Date?(j="d",a.cellDates||(j="n",v=Qa(v)),N=a.dateNF||_n[14]):v===null&&a.nullError&&(j="e",v=0),f?(f.t=j,f.v=v,delete f.w,delete f.R,N&&(f.z=N)):o[S]=f={t:j,v},N&&(f.z=N))})}),h.e.c=Math.max(h.e.c,c+m.length-1);var x=_s(l);if(i)for(p=0;p<m.length;++p)o[Gs(p+c)+x]={t:"s",v:m[p]};return o["!ref"]=qn(h),o}function wje(t,r){return JG(null,t,r)}function Lp(t,r,s){if(typeof r=="string"){if(Array.isArray(t)){var a=ms(r);return t[a.r]||(t[a.r]=[]),t[a.r][a.c]||(t[a.r][a.c]={t:"z"})}return t[r]||(t[r]={t:"z"})}return typeof r!="number"?Lp(t,Xr(r)):Lp(t,Xr({r,c:s||0}))}function jje(t,r){if(typeof r=="number"){if(r>=0&&t.SheetNames.length>r)return r;throw new Error("Cannot find sheet # "+r)}else if(typeof r=="string"){var s=t.SheetNames.indexOf(r);if(s>-1)return s;throw new Error("Cannot find sheet name |"+r+"|")}else throw new Error("Cannot find sheet |"+r+"|")}function Nje(){return{SheetNames:[],Sheets:{}}}function Sje(t,r,s,a){var i=1;if(!s)for(;i<=65535&&t.SheetNames.indexOf(s="Sheet"+i)!=-1;++i,s=void 0);if(!s||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&t.SheetNames.indexOf(s)>=0){var o=s.match(/(^.*?)(\d+)$/);i=o&&+o[2]||0;var l=o&&o[1]||s;for(++i;i<=65535&&t.SheetNames.indexOf(s=l+i)!=-1;++i);}if(FG(s),t.SheetNames.indexOf(s)>=0)throw new Error("Worksheet with name |"+s+"| already exists!");return t.SheetNames.push(s),t.Sheets[s]=r,s}function Cje(t,r,s){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var a=jje(t,r);switch(t.Workbook.Sheets[a]||(t.Workbook.Sheets[a]={}),s){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+s)}t.Workbook.Sheets[a].Hidden=s}function kje(t,r){return t.z=r,t}function ZG(t,r,s){return r?(t.l={Target:r},s&&(t.l.Tooltip=s)):delete t.l,t}function Eje(t,r,s){return ZG(t,"#"+r,s)}function Lje(t,r,s){t.c||(t.c=[]),t.c.push({t:r,a:s||"SheetJS"})}function Mje(t,r,s,a){for(var i=typeof r!="string"?r:mn(r),o=typeof r=="string"?r:qn(r),l=i.s.r;l<=i.e.r;++l)for(var c=i.s.c;c<=i.e.c;++c){var d=Lp(t,l,c);d.t="n",d.F=o,delete d.v,l==i.s.r&&c==i.s.c&&(d.f=s,a&&(d.D=!0))}return t}var eo={encode_col:Gs,encode_row:_s,encode_cell:Xr,encode_range:qn,decode_col:uL,decode_row:dL,split_cell:Wxe,decode_cell:ms,decode_range:Ci,format_cell:Hl,sheet_add_aoa:QV,sheet_add_json:JG,sheet_add_dom:HG,aoa_to_sheet:_h,json_to_sheet:wje,table_to_sheet:VG,table_to_book:Kwe,sheet_to_csv:jL,sheet_to_txt:YG,sheet_to_json:Lb,sheet_to_html:WG,sheet_to_formulae:bje,sheet_to_row_object_array:Lb,sheet_get_cell:Lp,book_new:Nje,book_append_sheet:Sje,book_set_sheet_visibility:Cje,cell_set_number_format:kje,cell_set_hyperlink:ZG,cell_set_internal_link:Eje,cell_add_comment:Lje,sheet_set_array_formula:Mje,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Ije=(t={})=>Le.get("/admin/users",{params:t}),Kf=t=>Le.get(`/admin/users/${t}`),fm=(t,r)=>Le.put(`/admin/users/${t}`,r),Tje=t=>Le.delete(`/admin/users/${t}`),Aje=(t,r)=>Le.put(`/admin/users/${t}/suspension`,{suspended:r}),_je=(t={})=>Le.get("/admin/users/export",{params:t,responseType:["csv","excel"].includes(t.format)?"blob":"json"}),Oje=(...r)=>ve(void 0,[...r],function*(t={}){try{const s=t.format||"csv",a=s==="excel"?"csv":s,i=yield _je(me(ne({},t),{format:a}));if(s==="excel"){const o=i.data,l=w=>{const b=[];let v="",j=!1,N=0;for(;N<w.length;){const S=w[N];S==='"'?j&&w[N+1]==='"'?(v+='"',N+=2):(j=!j,N++):S===","&&!j?(b.push(v),v="",N++):(v+=S,N++)}return b.push(v),b},c=o.split(`
`).filter(w=>w.trim()),d=l(c[0]),f=[];for(let w=1;w<c.length;w++){const b=l(c[w]),v={};d.forEach((j,N)=>{v[j]=b[N]||""}),f.push(v)}const h=eo.json_to_sheet(f),g=eo.book_new();eo.book_append_sheet(g,h,"Users");const m=ux(g,{bookType:"xlsx",type:"array"}),p=new Blob([m],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),x=window.URL.createObjectURL(p),y=document.createElement("a");y.href=x,y.setAttribute("download","users-export.xlsx"),document.body.appendChild(y),y.click(),window.URL.revokeObjectURL(x),document.body.removeChild(y)}else{const o=s==="json"?"application/json":"text/csv",l=new Blob([s==="json"?JSON.stringify(i.data,null,2):i.data],{type:o}),c=window.URL.createObjectURL(l),d=document.createElement("a");d.href=c,d.setAttribute("download",`users-export.${s}`),document.body.appendChild(d),d.click(),window.URL.revokeObjectURL(c),document.body.removeChild(d)}return!0}catch(s){throw console.error("Error downloading users data:",s),s}}),$je=(t={})=>Le.get("/admin/moderation/content",{params:t}),Pje=(t,r,s)=>Le.put(`/admin/moderation/content/${t}/status`,{contentType:r,moderationStatus:s}),Dje=()=>Le.get("/admin/moderation/stats"),Rje=()=>Le.get("/admin/dashboard/stats"),Fje=(t=10)=>Le.get("/admin/dashboard/activity",{params:{limit:t}}),Bje=(t=30)=>Le.get("/admin/dashboard/growth",{params:{days:t}}),zje=(t={})=>Le.get("/admin/contacts",{params:t}),Uje=(t,r,s="")=>Le.patch(`/admin/contacts/${t}/status`,{status:r,notes:s}),Wje=t=>Le.delete(`/admin/contacts/${t}`),Hje=t=>Le.patch(`/admin/contacts/${t}/read`),Vje=()=>Le.patch("/admin/contacts/read-all"),y$=()=>Le.get("/admin/contacts/unread/count"),Gje=t=>ve(void 0,null,function*(){try{const r=t.map(f=>{var h,g;return{ID:f.id,Name:f.fullName,Email:f.email,Phone:f.phone||"","Contact Reason":f.contactReason,Company:f.companyName||"",Website:f.website||"",Status:f.status,Message:((h=f.message)==null?void 0:h.substring(0,100))+(((g=f.message)==null?void 0:g.length)>100?"...":""),"Submitted At":new Date(f.createdAt).toLocaleString(),"Responded At":f.respondedAt?new Date(f.respondedAt).toLocaleString():"","Read At":f.readAt?new Date(f.readAt).toLocaleString():"",Notes:f.notes||""}}),s=eo.json_to_sheet(r),a=Object.keys(r[0]||{}).map(f=>({wch:Math.max(f.length,...r.map(h=>{var g;return String((g=h[f])!=null?g:"").length}))+2}));s["!cols"]=a;const i=eo.book_new();eo.book_append_sheet(i,s,"Contacts");const o=ux(i,{bookType:"xlsx",type:"array"}),l=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),c=window.URL.createObjectURL(l),d=document.createElement("a");return d.href=c,d.setAttribute("download",`contacts-export-${new Date().toISOString().split("T")[0]}.xlsx`),document.body.appendChild(d),d.click(),window.URL.revokeObjectURL(c),document.body.removeChild(d),!0}catch(r){throw console.error("Error creating Excel file:",r),r}}),qje=(t={})=>Le.get("/admin/supports",{params:t}),Yje=(t,r,s="")=>Le.patch(`/admin/supports/${t}/status`,{status:r,notes:s}),Jje=t=>Le.delete(`/admin/supports/${t}`),Zje=t=>Le.patch(`/admin/supports/${t}/read`),Qje=()=>Le.patch("/admin/supports/read-all"),b$=()=>Le.get("/admin/supports/unread/count"),Kje=()=>Le.get("/admin/settings"),Xje=t=>Le.put("/admin/settings",t),e4e=t=>Le.post("/admin/notifications/send-custom",t),t4e=t=>ve(void 0,null,function*(){try{const r=t.map(f=>{var h,g;return{ID:f.id,Name:f.fullName,Email:f.email,Phone:f.phone||"","Support Reason":f.supportReason,Priority:f.priority,Status:f.status,Message:((h=f.message)==null?void 0:h.substring(0,100))+(((g=f.message)==null?void 0:g.length)>100?"...":""),"Submitted At":new Date(f.createdAt).toLocaleString(),"Responded At":f.respondedAt?new Date(f.respondedAt).toLocaleString():"","Read At":f.readAt?new Date(f.readAt).toLocaleString():"",Notes:f.notes||""}}),s=eo.json_to_sheet(r),a=Object.keys(r[0]||{}).map(f=>({wch:Math.max(f.length,...r.map(h=>{var g;return String((g=h[f])!=null?g:"").length}))+2}));s["!cols"]=a;const i=eo.book_new();eo.book_append_sheet(i,s,"Supports");const o=ux(i,{bookType:"xlsx",type:"array"}),l=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),c=window.URL.createObjectURL(l),d=document.createElement("a");return d.href=c,d.setAttribute("download",`supports-export-${new Date().toISOString().split("T")[0]}.xlsx`),document.body.appendChild(d),d.click(),window.URL.revokeObjectURL(c),document.body.removeChild(d),!0}catch(r){throw console.error("Error creating Excel file:",r),r}});function eN({avatarUrl:t,coverImage:r,onChange:s,type:a="avatar"}){const i=u.useRef(null),o=u.useRef(null),[l,c]=u.useState(!1),[d,f]=u.useState(!1),[h,g]=u.useState(!1),[m,p]=u.useState(!1),[x,y]=u.useState(null),[w,b]=u.useState({width:0,height:0}),v={avatar:!0,cover:!0},j={avatar:{aspect:1,minWidth:100,minHeight:100},cover:{aspect:16/9,minWidth:800,minHeight:450}};u.useEffect(()=>{const k=M=>{o.current&&!o.current.contains(M.target)&&g(!1)};return h&&document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[h]);const N=k=>{const M=k.target.files[0];if(!M)return;const _=5*1024*1024;if(M.size>_){ce.error("File size must be less than 5MB."),i.current&&(i.current.value="");return}if(!M.type.startsWith("image/")){ce.error("Please select a valid image file."),i.current&&(i.current.value="");return}if(v[a]){const Y=new FileReader;Y.onload=te=>{const K=new Image;K.onload=()=>{b({width:K.width,height:K.height}),y(te.target.result),p(!0)},K.src=te.target.result},Y.readAsDataURL(M)}else S(M)},S=k=>ve(this,null,function*(){c(!0);try{const M=new FormData;M.append("file",k),a==="avatar"?(yield H4(M),ce.success("Profile photo updated successfully!")):a==="cover"&&(yield V4(M),ce.success("Cover image updated successfully!"));const _=URL.createObjectURL(k);s(_)}catch(M){console.error(`Failed to upload ${a}:`,M),ce.error(`Failed to upload ${a==="avatar"?"profile photo":"cover image"}. Please try again.`)}finally{c(!1),i.current&&(i.current.value="")}}),I=k=>ve(this,null,function*(){p(!1),c(!0);try{const M=new FormData,_=k.type||"image/jpeg",J=_==="image/png"?"png":_==="image/webp"?"webp":"jpg",te=`${a==="avatar"?"avatar":"cover"}-${Date.now()}.${J}`;M.append("file",k,te),a==="avatar"?(yield H4(M),ce.success("Profile photo updated successfully!")):a==="cover"&&(yield V4(M),ce.success("Cover image updated successfully!"));const K=URL.createObjectURL(k);s(K)}catch(M){console.error(`Failed to upload ${a}:`,M),ce.error(`Failed to upload ${a==="avatar"?"profile photo":"cover image"}. Please try again.`)}finally{c(!1),y(null),b({width:0,height:0}),i.current&&(i.current.value="")}}),E=()=>{p(!1),y(null),b({width:0,height:0}),i.current&&(i.current.value="")},L=()=>ve(this,null,function*(){f(!0),g(!1);try{a==="avatar"?(yield H4({avatarUrl:null}),ce.success("Profile photo removed successfully!")):a==="cover"&&(yield V4({coverImage:null}),ce.success("Cover image removed successfully!")),s(null),i.current&&(i.current.value="")}catch(k){console.error(`Failed to remove ${a}:`,k),ce.error(`Failed to remove ${a==="avatar"?"profile photo":"cover image"}. Please try again.`)}finally{f(!1)}}),C=()=>{var k;g(!1),(k=i.current)==null||k.click()},T=()=>{var M;(a==="avatar"?t:r)?g(!h):(M=i.current)==null||M.click()};return n.jsxs("div",{children:[n.jsx("input",{type:"file",accept:"image/*",ref:i,className:"hidden",onChange:N,disabled:l||d}),n.jsx("div",{onClick:T,className:`bg-brand-600 rounded-full p-1 flex cursor-pointer hover:opacity-60 transition-opacity ${a==="avatar"?"absolute -bottom-1 -right-2 max-md:right-auto max-md:left-0":"absolute top-2 right-2"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[a!=="avatar"&&!r&&n.jsx("span",{className:"text-white",children:"Add"}),n.jsx(HE,{size:18,className:"text-white"}),(l||d)&&n.jsx("span",{className:"text-white text-xs",children:l?"Uploading...":"Removing..."})]})}),n.jsx("div",{className:"relative",children:h&&(a==="avatar"?t:r)&&n.jsx("div",{ref:o,className:"absolute bg-white border border-gray-200 rounded-md shadow-lg z-50 top-full right-0 mt-2 w-48",children:n.jsxs("div",{className:"py-1",children:[n.jsx("button",{onClick:C,disabled:l||d,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:"Change Image"}),n.jsx("button",{onClick:L,disabled:l||d,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100 disabled:opacity-50",children:d?"Removing...":"Remove Image"})]})})}),m&&x&&n.jsx(tw,{image:x,imageDimensions:w,onCropComplete:I,onCancel:E,config:j[a],type:a})]})}const Mb=({isOpen:t,onClose:r,mediaUrl:s,mediaType:a="image",alt:i="Media",format:o="rounded"})=>{if(!t||!s)return document.body.style.overflow==="hidden"&&(document.body.style.overflow="unset"),null;const l=h=>{h.target===h.currentTarget&&r()},c=h=>{h.key==="Escape"&&r()},d=h=>{h.stopPropagation(),r()};fr.useEffect(()=>{if(t)return document.addEventListener("keydown",c),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",c),document.body.style.overflow="unset"}},[t,r]);const f=()=>{switch(o){case"square":return"rounded-xl";case"rounded":default:return"rounded-xl"}};return n.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-sm p-4",onClick:l,children:n.jsxs("div",{className:"relative max-w-[80vw] max-h-[80vh] w-auto h-auto",children:[n.jsx("button",{onClick:d,className:"absolute -top-16 right-0 text-white hover:opacity-50 transition-all duration-200 z-10 bg-black/80 hover:bg-white hover:text-black rounded-full p-3 border-2 border-white/50 hover:border-white shadow-lg hover:shadow-xl","aria-label":"Close media viewer",children:n.jsx(Lr,{size:28})}),a==="image"?n.jsx("img",{src:s,alt:i,className:`max-w-full h-auto object-contain shadow-2xl border-2 border-white/20 ${f()}`,style:{maxHeight:"calc(80vh - 2rem)"},onClick:h=>h.stopPropagation()}):n.jsx("div",{className:`max-w-full max-h-[calc(80vh-2rem)] object-contain shadow-2xl bg-white p-8 border-2 border-white/20 ${f()}`,children:n.jsxs("p",{className:"text-gray-500",children:["Unsupported media type: ",a]})})]})})},QG=({isOpen:t,onClose:r,onSelect:s,title:a,excludeIds:i=[],accountType:o="individual"})=>{const[l,c]=u.useState(""),[d,f]=u.useState([]),[h,g]=u.useState(!1),[m,p]=u.useState(null);u.useEffect(()=>{t&&l.length>=3?x():f([])},[l,t]);const x=()=>ve(void 0,null,function*(){g(!0);try{const v=yield Le.get(`/users/search?q=${l}`);console.log({response:v});const j=v.data.filter(N=>!i.includes(N.id)&&N.accountType==="individual");f(j)}catch(v){console.error("Error searching users:",v),ce.error("Failed to search users")}finally{g(!1)}}),y=v=>{p(v)},w=()=>{m&&(s(m),b())},b=()=>{c(""),f([]),p(null),r()};return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:a}),n.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsx("div",{className:"mb-4",children:n.jsx("input",{type:"text",placeholder:"Search users by name or email...",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent",value:l,onChange:v=>c(v.target.value)})}),n.jsx("div",{className:"max-h-64 overflow-y-auto mb-4",children:h?n.jsxs("div",{className:"text-center py-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Searching..."})]}):d.length===0&&l.length>=3?n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-500",children:"No users found"})}):n.jsx("div",{className:"space-y-2",children:d.map(v=>n.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${(m==null?void 0:m.id)===v.id?"border-brand-500 bg-brand-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>y(v),children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:v.avatarUrl?n.jsx("img",{src:v.avatarUrl,alt:v.name,className:"w-10 h-10 rounded-full object-cover"}):n.jsx("span",{className:"text-gray-600 font-medium",children:v.name.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-gray-900",children:v.name}),n.jsx("div",{className:"text-sm text-gray-500",children:v.email}),v.professionalTitle&&n.jsx("div",{className:"text-xs text-gray-400",children:v.professionalTitle}),v.city&&v.country&&n.jsxs("div",{className:"text-xs text-gray-400",children:[v.city,", ",v.country]})]}),(m==null?void 0:m.id)===v.id&&n.jsx("div",{className:"text-brand-600",children:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]})},v.id))})}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:b,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:w,disabled:!m,className:`px-4 py-2 rounded-lg ${m?"bg-brand-700 text-white hover:bg-brand-800":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Select User"})]})]})}):null},r4e=({isOpen:t,onClose:r,onSuccess:s,companyId:a,companyName:i})=>{const[o,l]=u.useState(null),[c,d]=u.useState(""),[f,h]=u.useState(""),[g,m]=u.useState(!1),[p,x]=u.useState(!1),y=()=>ve(void 0,null,function*(){var b,v;if(!o){ce.error("Please select a user to invite");return}m(!0);try{console.log("Sending staff invitation for user:",o.id,"with role:",c);const j=yield Le.post("/company/staff/invite",{staffId:o.id,role:c,message:f.trim()||void 0});console.log("Staff invitation response:",j.data),ce.dismiss(),console.log("Toast success called for staff invitation"),s&&s(j.data.invitation),w()}catch(j){console.error("Error inviting staff:",j),ce.error(((v=(b=j==null?void 0:j.response)==null?void 0:b.data)==null?void 0:v.message)||"Failed to send invitation")}finally{m(!1)}}),w=()=>{l(null),d(""),h(""),x(!1),r()};return t?n.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Invite Staff Member"}),n.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select User"}),o?n.jsx("div",{className:"p-3 border border-brand-200 bg-brand-50 rounded-lg",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:o.avatarUrl?n.jsx("img",{src:o.avatarUrl,alt:o.name,className:"w-10 h-10 rounded-full object-cover"}):n.jsx("span",{className:"text-gray-600 font-medium",children:o.name.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-gray-900",children:o.name}),n.jsx("div",{className:"text-sm text-gray-500",children:o.email})]}),n.jsx("button",{onClick:()=>l(null),className:"text-gray-400 hover:text-gray-600",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):n.jsx("button",{onClick:()=>x(!0),className:"w-full p-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-gray-400 hover:text-gray-600",children:"Click to select a user"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Role"}),n.jsx("input",{type:"text",value:c,onChange:b=>d(b.target.value),placeholder:"e.g. Software Engineer, Marketing Manager",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Personal Message (Optional)"}),n.jsx("textarea",{value:f,onChange:b=>h(b.target.value),placeholder:"Add a personal message to the invitation...",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent",rows:"3"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This message will be included in the invitation email"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:w,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:y,disabled:!o||g,className:`px-4 py-2 rounded-lg ${o&&!g?"bg-brand-700 text-white hover:bg-brand-800":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:g?"Sending...":"Send Invitation"})]})]}),p&&n.jsx(QG,{isOpen:p,onClose:()=>x(!1),onSelect:b=>{l(b),x(!1)},title:"Select Staff Member",accountType:"individual"})]}):null},n4e=({isOpen:t,onClose:r,onSuccess:s,title:a="Join Organization",description:i="Select an organization you'd like to join and send a request."})=>{const[o,l]=u.useState([]),[c,d]=u.useState(!1),[f,h]=u.useState(!1),[g,m]=u.useState(null),[p,x]=u.useState(""),[y,w]=u.useState(""),[b,v]=u.useState(!1);u.useEffect(()=>{t&&j()},[t]);const j=()=>ve(void 0,null,function*(){try{d(!0);const L=yield Le.get("/organization/organizations");l(L.data.organizations||[])}catch(L){console.error("Failed to load organizations:",L),ce.error("Failed to load organizations")}finally{d(!1)}}),N=L=>{m(L),v(!0)},S=()=>{m(null),x(""),v(!1)},I=()=>ve(void 0,null,function*(){var L,C;if(!g){ce.error("Please select an organization");return}try{h(!0),ce.loading("Sending join request...",{id:"join-request"});const T=yield Le.post("/organization/join-request",{organizationId:g.id,message:p.trim()||null});ce.success("Join request sent successfully!",{id:"join-request"}),s&&s(T.data.request),m(null),x(""),v(!1),r()}catch(T){console.error("Failed to submit join request:",T),(C=(L=T.response)==null?void 0:L.data)!=null&&C.message?ce.error(T.response.data.message,{id:"join-request"}):ce.error("Failed to send join request",{id:"join-request"})}finally{h(!1)}}),E=o.filter(L=>L.name.toLowerCase().includes(y.toLowerCase()));return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex md:items-center justify-between p-6 border-b",children:[n.jsxs("div",{className:"flex md:items-center gap-3 max-md:flex-col",children:[b&&n.jsxs("button",{onClick:S,className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 md:px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Back to organization list",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),n.jsx("span",{className:"text-sm font-medium",children:"Back"})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:b?"Send Join Request":a}),n.jsx("p",{className:"text-gray-600 text-sm mt-1",children:b?`Request to join ${g==null?void 0:g.name}`:i})]})]}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 p-2 self-start",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsx("div",{className:"p-6",children:b?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"border border-brand-200 rounded-lg p-4 bg-brand-50",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:g.avatarUrl?n.jsx("img",{src:g.avatarUrl,alt:g.name,className:"w-12 h-12 rounded-lg object-cover"}):n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-gray-600 font-semibold text-lg",children:g.name.charAt(0).toUpperCase()})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:g.name}),n.jsx("span",{className:"text-sm opacity-80",children:g.email}),n.jsxs("div",{className:"text-sm text-gray-500",children:[g.city&&g.country&&n.jsxs("span",{children:[g.city,", ",g.country]}),g.webpage&&n.jsx("span",{className:"ml-2",children:n.jsx("a",{href:g.webpage,target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 hover:text-brand-800",children:"Website"})})]})]})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message (Optional)"}),n.jsx("textarea",{value:p,onChange:L=>x(L.target.value),placeholder:"Tell the organization why you'd like to join...",rows:"4",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent",maxLength:500}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[p.length,"/500 characters"]})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-4",children:n.jsx("input",{type:"text",placeholder:"Search organizations...",value:y,onChange:L=>w(L.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent"})}),n.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:c?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),n.jsx("p",{className:"text-gray-500 mt-2",children:"Loading organizations..."})]}):E.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-5 0v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h-4m-2-5a2 2 0 011-2h2a2 2 0 012 2m-2 2v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h-4"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No organizations found"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:y?"Try adjusting your search terms.":"No organizations are available at the moment."})]}):E.map(L=>n.jsx("div",{onClick:()=>N(L),className:"border border-gray-200 rounded-lg p-4 cursor-pointer transition-all hover:border-gray-300 hover:bg-gray-50",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:L.avatarUrl?n.jsx("img",{src:L.avatarUrl,alt:L.name,className:"w-12 h-12 rounded-lg object-cover"}):n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-gray-600 font-semibold text-lg",children:L.name.charAt(0).toUpperCase()})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:L.name}),n.jsx("span",{className:"text-sm opacity-80",children:L.email}),n.jsxs("div",{className:"text-sm text-gray-500",children:[L.city&&L.country&&n.jsxs("span",{children:[L.city,", ",L.country]}),L.webpage&&n.jsx("span",{className:"ml-2",children:n.jsx("a",{href:L.webpage,target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 hover:text-brand-800",onClick:C=>C.stopPropagation(),children:"Website"})})]})]}),n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},L.id))})]})}),n.jsxs("div",{className:"flex items-center justify-between p-6 border-t bg-gray-50 rounded-b-xl",children:[!b&&n.jsx("div",{children:n.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"})}),n.jsxs("div",{className:"flex gap-3 flex-1",children:[b&&n.jsxs("button",{onClick:S,disabled:f,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:[n.jsx("span",{className:"max-md:hidden",children:"Back to Organizations"}),n.jsx("span",{className:"md:hidden",children:"Back"})]}),b&&n.jsx("button",{onClick:I,disabled:f,className:"px-4 py-2 flex-1 bg-brand-600 text-white rounded-lg hover:bg-brand-700 disabled:opacity-50 disabled:cursor-not-allowed",children:f?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Sending Request..."]}):"Send Request"})]})]})]})}):null},Jt={PERSONAL:"personal",PROFESSIONAL:"professional",PORTFOLIO:"portfolio",GALLERY:"gallery",DO:"do",INTERESTS:"interests",INDUSTRIES:"industries",REPRESENTATIVE:"representative",STAFF:"staff",ORGANIZATIONS:"organizations",JOIN_REQUESTS:"join_requests",APPLICATIONS:"applications",EVENTS:"events",JOB_APPLICATIONS:"job_applications",EVENT_REGISTRATIONS:"event_registrations"},Pi={PROFESSIONAL_TITLE:50,ABOUT:300};function w$(){var FT,BT,zT,UT,WT,HT,VT,GT,qT,YT,JT,ZT,QT,KT,XT,e5,t5,r5,n5;const{id:t}=Ds(),r=ys(),s=r.pathname.includes("/admin/user-profile/"),{user:a,profile:i,setProfile:o,setUser:l}=Xt(),c=qt(),[d,f]=u.useState(!1),[h,g]=u.useState(!1),[m,p]=u.useState(Jt.PERSONAL),[x,y]=u.useState(!0),[w,b]=u.useState(!1),[v,j]=u.useState(null),[N,S]=u.useState([]),[I,E]=u.useState(!1),L=u.useRef(null),C=((FT=v==null?void 0:v.user)==null?void 0:FT.accountType)==="company";u.useEffect(()=>{var R;!v||!a||(a==null?void 0:a.id)!=((R=v==null?void 0:v.user)==null?void 0:R.id)&&(a==null?void 0:a.accountType)!="admin"&&window.location.reload()},[a,v]),u.useEffect(()=>{var at,bt;const R=new URLSearchParams(r.search),xe=R.get("jobApplication"),Pe=R.get("eventRegistration");xe&&((at=v==null?void 0:v.user)!=null&&at.id)?(y(!0),C?(p(Jt.JOB_APPLICATIONS),ST().then(()=>{setTimeout(()=>{const jt=document.querySelector(`[data-application-id="${xe}"]`);jt?(jt.scrollIntoView({behavior:"smooth",block:"center"}),jt.classList.add("ring-2","ring-brand-500","ring-offset-2"),setTimeout(()=>{jt.classList.remove("ring-2","ring-brand-500","ring-offset-2")},3e3)):ce.error("Job application not found or access denied"),y(!1)},500)}).catch(jt=>{console.error("Failed to load job applications:",jt),ce.error("Failed to load job applications"),y(!1)})):(p(Jt.APPLICATIONS),kT().then(()=>{setTimeout(()=>{const jt=document.querySelector(`[data-application-id="${xe}"]`);jt?(jt.scrollIntoView({behavior:"smooth",block:"center"}),jt.classList.add("ring-2","ring-brand-500","ring-offset-2"),setTimeout(()=>{jt.classList.remove("ring-2","ring-brand-500","ring-offset-2")},3e3)):ce.error("Job application not found"),y(!1)},500)}).catch(jt=>{console.error("Failed to load job applications:",jt),ce.error("Failed to load job applications"),y(!1)}))):Pe&&((bt=v==null?void 0:v.user)!=null&&bt.id)&&(y(!0),C?(p(Jt.EVENT_REGISTRATIONS),CT().then(()=>{setTimeout(()=>{const jt=document.querySelector(`[data-registration-id="${Pe}"]`);jt?(jt.scrollIntoView({behavior:"smooth",block:"center"}),jt.classList.add("ring-2","ring-brand-500","ring-offset-2"),setTimeout(()=>{jt.classList.remove("ring-2","ring-brand-500","ring-offset-2")},3e3)):ce.error("Event registration not found or access denied"),y(!1)},500)}).catch(jt=>{console.error("Failed to load event registrations:",jt),ce.error("Failed to load event registrations"),y(!1)})):(p(Jt.EVENTS),ET().then(()=>{setTimeout(()=>{const jt=document.querySelector(`[data-registration-id="${Pe}"]`);jt?(jt.scrollIntoView({behavior:"smooth",block:"center"}),jt.classList.add("ring-2","ring-brand-500","ring-offset-2"),setTimeout(()=>{jt.classList.remove("ring-2","ring-brand-500","ring-offset-2")},3e3)):ce.error("Event registration not found"),y(!1)},500)}).catch(jt=>{console.error("Failed to load event registrations:",jt),ce.error("Failed to load event registrations"),y(!1)})))},[r.search,v,C]);function T(R){var bt,jt;if(!R)return"U";const xe=R.trim().split(/\s+/),Pe=((bt=xe[0])==null?void 0:bt.charAt(0).toUpperCase())||"",at=((jt=xe[1])==null?void 0:jt.charAt(0).toUpperCase())||"";return Pe+at}const[k,M]=u.useState({name:"",phone:"",nationality:"",country:"",countryOfResidence:"",city:"",address:"",birthDate:"",professionalTitle:"",about:"",avatarUrl:"",coverImage:"",gender:"",otherCountries:[],webpage:""}),[_,J]=u.useState({experienceLevel:"",skills:[],languages:[]}),[Y,te]=u.useState({cvBase64:[],workSamples:[]}),[K,X]=u.useState([]),[W,F]=u.useState(!1),[P,A]=u.useState(null),[B,z]=u.useState(!1),[O,U]=u.useState({title:"",description:"",projectUrl:"",skillsTags:[],attachments:[]}),[Z,se]=u.useState(""),[fe,le]=u.useState(""),[Ne,Te]=u.useState(null),[ht,Fe]=u.useState([]),[Ve,ut]=u.useState(!1),[Je,G]=u.useState(!1),[ae,Me]=u.useState(!1),[he,ye]=u.useState({title:"",description:"",isPublic:!0}),[oe,ie]=u.useState([]),[q,Se]=u.useState(null),[$e,rt]=u.useState(null),[nt,Ue]=u.useState(""),[xt,Oe]=u.useState([]),[Ee,ee]=u.useState([]),[de,ue]=u.useState([]),[_e,Xe]=u.useState([]),[gt,wt]=u.useState(null),vt=3,[ct,Ze]=u.useState([]),[dt,yt]=u.useState([]),[Ie,ze]=u.useState([]),[qe,it]=u.useState([]),[Ae,Ge]=u.useState(null),[Ye,Et]=u.useState([]),[Ot,ft]=u.useState([]),[D,Q]=u.useState([]),[H,V]=u.useState([]),[re,ge]=u.useState(()=>new Set),[We,ot]=u.useState(()=>new Set),[Ce,pe]=u.useState(()=>new Set),[je,we]=u.useState(()=>new Set),[Re,He]=u.useState(()=>new Set),[et,pt]=u.useState(()=>new Set),[be,De]=u.useState([]),[st,Ke]=u.useState([]),[mt,tt]=u.useState(!1),[ke,lt]=u.useState(!1),[St,Mt]=u.useState(null),[Ht,mr]=u.useState([]),[Rt,er]=u.useState([]),[tr,Nt]=u.useState(!1),[Kt,jr]=u.useState(!1),[dr,en]=u.useState(!1),[qr,ur]=u.useState(null),[pa,xa]=u.useState(""),[Yr,Ns]=u.useState(!1),[cs,Pa]=u.useState(null),[Zn,Vo]=u.useState(!1),[Be,Tt]=u.useState([]),[Ft,rr]=u.useState(!1),[cr,Nr]=u.useState(0),[va,ug]=u.useState([]),[Ss,oT]=u.useState([]),[dte,lT]=u.useState(!1),[ute,cT]=u.useState(!1),[Zxt,fte]=u.useState([]),[Qxt,hte]=u.useState([]),[Kxt,dT]=u.useState(!1),[Xxt,uT]=u.useState(!1),[xc,gte]=u.useState([]),[vc,mte]=u.useState([]),[pte,fT]=u.useState(!1),[xte,hT]=u.useState(!1),[Gx,vte]=u.useState(new Set),[qx,gT]=u.useState("all"),[Yx,mT]=u.useState("all"),[yc,Jx]=u.useState(""),[yte,Wj]=u.useState(!1),[bte,Hj]=u.useState(null),[pT,xT]=u.useState([]),[wte,vT]=u.useState(!0),fg=u.useMemo(()=>pT.slice(0,1e4).map(R=>({value:R.city,label:`${R.city}${R.country?`, ${R.country}`:""}`,country:R.country})),[pT]),Vj=u.useMemo(()=>k.countryOfResidence?fg.filter(R=>{var xe;return((xe=R.country)==null?void 0:xe.toLowerCase())===k.countryOfResidence.toLowerCase()}):fg,[k.countryOfResidence,fg]);u.useEffect(()=>{k.countryOfResidence&&k.city&&(Vj.some(xe=>xe.value===k.city)||M(xe=>me(ne({},xe),{city:""})))},[k.countryOfResidence,Vj,k.city]);const yT=u.useCallback(R=>R?fg.filter(xe=>{var Pe;return((Pe=xe.country)==null?void 0:Pe.toLowerCase())===R.toLowerCase()}):[],[fg]),jte=({value:R,onChange:xe,error:Pe})=>{const[at,bt]=u.useState(!1),[jt,Ct]=u.useState(""),[$t,Yt]=u.useState("");if(wte)return n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z",className:"opacity-75"})]}),"Loading cities..."]});const nr=()=>{if(jt&&$t){const Wt={country:jt,city:$t};xe([...R,Wt]),Ct(""),Yt(""),bt(!1)}},ar=Wt=>{const ir=R.filter((Gr,pr)=>pr!==Wt);xe(ir)},Ar=(Wt,ir)=>{const Gr=R.map((pr,Qt)=>Qt===Wt?me(ne({},pr),{city:ir}):pr);xe(Gr)};return n.jsxs("div",{className:"space-y-3 w-full",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Other Countries of Operations (Branches) ",n.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),R.length>0&&n.jsx("div",{className:"space-y-2",children:R.map((Wt,ir)=>n.jsxs("div",{className:"flex max-sm:flex-col items-center relative gap-3 p-3 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-sm",children:Wt.country}),n.jsxs("div",{className:"text-xs text-gray-500",children:["City: ",Wt.city]})]}),n.jsx(Fn,{options:yT(Wt.country),value:Wt.city,onChange:Gr=>Ar(ir,Gr),placeholder:"Select city",className:"w-48 max-sm:w-full"}),n.jsx("button",{type:"button",onClick:()=>ar(ir),className:"p-1 text-red-500 hover:text-red-700 max-sm:absolute right-1 top-1",title:"Remove",children:n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]},ir))}),at?n.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg bg-blue-50 space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3 max-sm:grid-cols-1",children:[n.jsx(Fn,{options:An,value:jt,onChange:Ct,placeholder:"Select country"}),n.jsx(Fn,{options:jt?yT(jt):[],value:$t,onChange:Yt,placeholder:"Select city",disabled:!jt})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{type:"button",onClick:nr,disabled:!jt||!$t,className:"px-3 py-1 bg-brand-600 text-white rounded-lg text-sm hover:bg-brand-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),n.jsx("button",{type:"button",onClick:()=>{bt(!1),Ct(""),Yt("")},className:"px-3 py-1 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:"Cancel"})]})]}):n.jsxs("button",{type:"button",onClick:()=>bt(!0),className:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 5v14M5 12h14"})}),"Add Country & City"]}),Pe&&n.jsx("p",{className:"text-xs text-red-600",children:Pe}),n.jsx("p",{className:"text-xs text-gray-500",children:"Select countries where your company has branches or operations (optional)"})]})};u.useEffect(()=>{var R;C&&((R=v==null?void 0:v.user)!=null&&R.id)&&oi()},[C,(BT=v==null?void 0:v.user)==null?void 0:BT.id]),u.useEffect(()=>{var R;!C&&((R=v==null?void 0:v.user)!=null&&R.id)&&hg()},[C,(zT=v==null?void 0:v.user)==null?void 0:zT.id]),u.useEffect(()=>{var R;C&&((R=v==null?void 0:v.user)!=null&&R.id)&&(Zx(),Qx())},[C,(UT=v==null?void 0:v.user)==null?void 0:UT.id]),u.useEffect(()=>{var R;C&&((R=v==null?void 0:v.user)!=null&&R.id)&&m===Jt.JOB_APPLICATIONS&&ST()},[C,(WT=v==null?void 0:v.user)==null?void 0:WT.id,m]),u.useEffect(()=>{var R;C&&((R=v==null?void 0:v.user)!=null&&R.id)&&m===Jt.EVENT_REGISTRATIONS&&CT()},[C,(HT=v==null?void 0:v.user)==null?void 0:HT.id,m]),u.useEffect(()=>{var R;!C&&((R=v==null?void 0:v.user)!=null&&R.id)&&m===Jt.APPLICATIONS&&Ute()},[C,(VT=v==null?void 0:v.user)==null?void 0:VT.id,m]),u.useEffect(()=>{var R;!C&&((R=v==null?void 0:v.user)!=null&&R.id)&&m===Jt.EVENTS&&Wte()},[C,(GT=v==null?void 0:v.user)==null?void 0:GT.id,m]),u.useEffect(()=>{var R;!C&&((R=v==null?void 0:v.user)!=null&&R.id)&&m===Jt.APPLICATIONS&&kT()},[!C,(qT=v==null?void 0:v.user)==null?void 0:qT.id,m]),u.useEffect(()=>{var R;!C&&((R=v==null?void 0:v.user)!=null&&R.id)&&m===Jt.EVENTS&&ET()},[!C,(YT=v==null?void 0:v.user)==null?void 0:YT.id,m]),u.useEffect(()=>{var R;(R=v==null?void 0:v.user)!=null&&R.id&&m===Jt.GALLERY&&Xx()},[(JT=v==null?void 0:v.user)==null?void 0:JT.id,m]),u.useEffect(()=>{var R;m===Jt.GALLERY&&ht.length===0&&!Ve&&((R=v==null?void 0:v.user)!=null&&R.id)&&Xx()},[m,(ZT=v==null?void 0:v.user)==null?void 0:ZT.id]),u.useEffect(()=>{var R;C&&((R=v==null?void 0:v.user)!=null&&R.id)&&m===Jt.REPRESENTATIVE&&oi()},[C,(QT=v==null?void 0:v.user)==null?void 0:QT.id,m]),u.useEffect(()=>{var R;C&&((R=v==null?void 0:v.user)!=null&&R.id)&&m===Jt.JOIN_REQUESTS&&(Zx(),Qx())},[C,(KT=v==null?void 0:v.user)==null?void 0:KT.id,m]),u.useEffect(()=>{var R;C&&((R=v==null?void 0:v.user)!=null&&R.id)&&m===Jt.STAFF&&oi()},[C,(XT=v==null?void 0:v.user)==null?void 0:XT.id,m]);const bT=(R,xe=150)=>{if(!R)return"";if(R.replace(/<[^>]*>/g,"").length<=xe)return R;let at=0,bt=!1;for(let jt=0;jt<R.length&&at<xe;jt++){const Ct=R[jt];if(Ct==="<")bt=!0;else if(Ct===">")bt=!1;else if(!bt&&(at++,at>=xe))return R.substring(0,jt+1)+"..."}return R+"..."},wT=R=>{vte(xe=>{const Pe=new Set(xe);return Pe.has(R)?Pe.delete(R):Pe.add(R),Pe})},jT=R=>R.map(at=>{var bt,jt,Ct,$t,Yt;return{id:(bt=at.job)==null?void 0:bt.id,title:(jt=at.job)==null?void 0:jt.title,companyName:((Ct=at.job)==null?void 0:Ct.companyName)||((Yt=($t=at.job)==null?void 0:$t.postedBy)==null?void 0:Yt.name)}}).filter(at=>at.id&&at.title).filter((at,bt,jt)=>bt===jt.findIndex(Ct=>Ct.id===at.id)),NT=R=>R.map(at=>{var bt,jt,Ct,$t;return{id:(bt=at.event)==null?void 0:bt.id,title:(jt=at.event)==null?void 0:jt.title,organizerName:($t=(Ct=at.event)==null?void 0:Ct.organizer)==null?void 0:$t.name}}).filter(at=>at.id&&at.title).filter((at,bt,jt)=>bt===jt.findIndex(Ct=>Ct.id===at.id)),Sf=R=>{let xe=R;if(qx!=="all"&&(xe=xe.filter(Pe=>{var at;return((at=Pe.job)==null?void 0:at.id)===qx})),yc.trim()){const Pe=yc.toLowerCase();xe=xe.filter(at=>{var bt,jt,Ct,$t,Yt,nr,ar,Ar,Wt;return((jt=(bt=at.job)==null?void 0:bt.title)==null?void 0:jt.toLowerCase().includes(Pe))||(($t=(Ct=at.job)==null?void 0:Ct.companyName)==null?void 0:$t.toLowerCase().includes(Pe))||((nr=(Yt=at.applicant)==null?void 0:Yt.name)==null?void 0:nr.toLowerCase().includes(Pe))||((Ar=(ar=at.applicant)==null?void 0:ar.email)==null?void 0:Ar.toLowerCase().includes(Pe))||((Wt=at.coverLetter)==null?void 0:Wt.toLowerCase().includes(Pe))})}return xe},Cf=R=>{let xe=R;if(Yx!=="all"&&(xe=xe.filter(Pe=>{var at;return((at=Pe.event)==null?void 0:at.id)===Yx})),yc.trim()){const Pe=yc.toLowerCase();xe=xe.filter(at=>{var bt,jt,Ct,$t,Yt,nr,ar,Ar,Wt,ir;return((jt=(bt=at.event)==null?void 0:bt.title)==null?void 0:jt.toLowerCase().includes(Pe))||((Yt=($t=(Ct=at.event)==null?void 0:Ct.organizer)==null?void 0:$t.name)==null?void 0:Yt.toLowerCase().includes(Pe))||((ar=(nr=at.registrant)==null?void 0:nr.name)==null?void 0:ar.toLowerCase().includes(Pe))||((Wt=(Ar=at.registrant)==null?void 0:Ar.email)==null?void 0:Wt.toLowerCase().includes(Pe))||((ir=at.reasonForAttending)==null?void 0:ir.toLowerCase().includes(Pe))})}return xe},Nte=(R,xe)=>ve(this,null,function*(){try{yield Le.put(`/job-applications/${R}/status`,{status:xe}),ug(Pe=>Pe.map(at=>at.id===R?me(ne({},at),{status:xe}):at)),ce.success(`Application ${xe} successfully`)}catch(Pe){console.error("Failed to update application status:",Pe),ce.error("Failed to update application status")}}),Ste=(R,xe)=>ve(this,null,function*(){try{yield Le.patch(`/event-registrations/${R}/status`,{status:xe}),oT(Pe=>Pe.map(at=>at.id===R?me(ne({},at),{status:xe}):at)),ce.success(`Registration ${xe} successfully`)}catch(Pe){console.error("Failed to update registration status:",Pe),ce.error("Failed to update registration status")}});function oi(){return ve(this,null,function*(){var R,xe,Pe,at;try{const bt=yield Le.get("/company/representatives");if((R=bt.data)!=null&&R.representatives){De(bt.data.representatives);const Ct=bt.data.representatives.find($t=>$t.status==="authorized");Ct&&Mt(Ct)}const jt=yield Le.get("/company/staff");(xe=jt.data)!=null&&xe.staff&&Ke(jt.data.staff);try{const Ct=yield Le.get("/company/invitations?type=representative&status=sent");(Pe=Ct.data)!=null&&Pe.invitations&&mr(Ct.data.invitations)}catch(Ct){console.log("Invitations endpoint not available yet")}try{const Ct=yield Le.get("/company/invitations?type=representative&status=pending&direction=incoming");(at=Ct.data)!=null&&at.invitations&&er(Ct.data.invitations)}catch(Ct){console.log("Incoming invitations endpoint not available yet")}}catch(bt){console.error("Failed to load company data:",bt)}})}function Cte(R){return ve(this,null,function*(){var xe,Pe;try{tt(!1),jr(!0),ce.loading("Sending authorization request...",{id:"representative-invite"}),console.log("Sending representative invitation for user:",R.id);const at=yield Le.post("/company/representative/invite",{companyId:v.user.id,representativeId:R.id});console.log("Representative invitation response:",at.data),console.log({a:at.data}),at.data.invitation?(ce.success("Authorization request sent to user",{id:"representative-invite"}),console.log("Toast success called"),oi()):ce.error("Failed to send authorization request",{id:"representative-invite"})}catch(at){if(console.error("Failed to send representative request:",at),(Pe=(xe=at.response)==null?void 0:xe.data)!=null&&Pe.message){const bt=at.response.data.message;bt.includes("already sent")?ce.error("An invitation has already been sent to this user. Please wait for their response or try a different user.",{id:"representative-invite"}):bt.includes("already a representative")?ce.error("This user is already a representative for your company.",{id:"representative-invite"}):bt.includes("Only companies can")?ce.error("Only company accounts can invite representatives.",{id:"representative-invite"}):bt.includes("Invalid representative")?ce.error("This user cannot be selected as a representative.",{id:"representative-invite"}):ce.error(`Authorization request failed: ${bt}`,{id:"representative-invite"})}else ce.error("Failed to send authorization request. Please try again.",{id:"representative-invite"})}finally{jr(!1)}})}function kte(R){return ve(this,null,function*(){try{en(!0),ce.loading("Sending staff invitation...",{id:"staff-invite"}),ce.dismiss(),ce.success("Staff invitation sent successfully",{id:"staff-invite"}),oi()}catch(xe){console.error("Failed to handle staff invitation:",xe),ce.error("Failed to process staff invitation",{id:"staff-invite"})}finally{en(!1)}})}function Ete(R){return ve(this,null,function*(){try{(yield Le.delete(`/company/staff/${R}`)).data&&(ce.success("Staff member removed successfully"),oi())}catch(xe){console.error("Failed to remove staff member:",xe),ce.error("Failed to remove staff member")}})}function Lte(R,xe){return ve(this,null,function*(){try{(yield Le.put(`/company/staff/${R}`,{role:xe})).data&&(ce.success("Staff role updated successfully"),oi(),ur(null),xa(""))}catch(Pe){console.error("Failed to update staff role:",Pe),ce.error("Failed to update staff role")}})}function Mte(R){ur(R.id),xa(R.role)}function Ite(){ur(null),xa("")}function Tte(){return ve(this,null,function*(){try{(yield Le.delete(`/company/representative/${St.representativeId}`)).data&&(ce.success("Representative authorization revoked successfully"),Mt(null),oi())}catch(R){console.error("Failed to remove representative:",R),ce.error("Failed to remove representative")}})}function Ate(R){return ve(this,null,function*(){try{Nt(!0),(yield Le.put(`/company/invitations/${R}/cancel`)).data&&(ce.success("Invitation cancelled successfully"),oi())}catch(xe){console.error("Failed to cancel invitation:",xe),ce.error("Failed to cancel invitation")}finally{Nt(!1)}})}function _te(R){return ve(this,null,function*(){try{Nt(!0),(yield Le.put(`/company/invitations/${R}/resend`)).data&&(ce.success("Invitation resent successfully"),oi())}catch(xe){console.error("Failed to resend invitation:",xe),ce.error("Failed to resend invitation")}finally{Nt(!1)}})}function Ote(R){return ve(this,null,function*(){try{Nt(!0),(yield Le.put(`/company/invitations/${R}/accept`)).data&&(ce.success("Representative request accepted successfully"),oi())}catch(xe){console.error("Failed to accept invitation:",xe),ce.error("Failed to accept representative request")}finally{Nt(!1)}})}function $te(R){return ve(this,null,function*(){try{Nt(!0),(yield Le.put(`/company/invitations/${R}/reject`)).data&&(ce.success("Representative request rejected"),oi())}catch(xe){console.error("Failed to reject invitation:",xe),ce.error("Failed to reject representative request")}finally{Nt(!1)}})}function hg(){return ve(this,null,function*(){try{Vo(!0);const R=yield Le.get("/company/staff/my-memberships");Pa(R.data.memberships||[])}catch(R){console.error("Failed to load membership status:",R)}finally{Vo(!1)}})}function Pte(R){return ve(this,null,function*(){hg()})}function Dte(R){return ve(this,null,function*(){try{(yield Le.delete(`/company/staff/membership/${R}`)).data&&(ce.success("Successfully left the organization"),hg())}catch(xe){console.error("Failed to leave organization:",xe),ce.error("Failed to leave organization")}})}function Rte(R){return ve(this,null,function*(){try{(yield Le.put(`/company/staff/membership/${R}/set-main`)).data&&(ce.success("Main company set successfully"),hg())}catch(xe){console.error("Failed to set main company:",xe),ce.error("Failed to set main company")}})}function Fte(R){return ve(this,null,function*(){try{(yield Le.put(`/company/staff/membership/${R}/unset-main`)).data&&(ce.success("Main company unset successfully"),hg())}catch(xe){console.error("Failed to unset main company:",xe),ce.error("Failed to unset main company")}})}function Zx(){return ve(this,null,function*(){var R;try{rr(!0);const xe=yield Le.get("/organization/join-requests");(R=xe.data)!=null&&R.requests&&Tt(xe.data.requests)}catch(xe){console.error("Failed to load organization join requests:",xe)}finally{rr(!1)}})}function Qx(){return ve(this,null,function*(){var R;try{const xe=yield Le.get("/organization/join-requests/pending/count");((R=xe.data)==null?void 0:R.count)!==void 0&&Nr(xe.data.count)}catch(xe){console.error("Failed to load pending requests count:",xe)}})}function Bte(R){return ve(this,null,function*(){try{(yield Le.put(`/organization/join-requests/${R}/approve`)).data&&(ce.success("Join request approved successfully!"),Zx(),Qx(),oi())}catch(xe){console.error("Failed to approve join request:",xe),ce.error("Failed to approve join request")}})}function zte(R){return ve(this,null,function*(){try{(yield Le.put(`/organization/join-requests/${R}/reject`)).data&&(ce.success("Join request rejected"),Zx(),Qx())}catch(xe){console.error("Failed to reject join request:",xe),ce.error("Failed to reject join request")}})}function ST(){return ve(this,null,function*(){var R;try{lT(!0);const xe=yield Le.get("/profile/job-applications");(R=xe.data)!=null&&R.applications&&ug(xe.data.applications)}catch(xe){console.error("Failed to load job applications:",xe)}finally{lT(!1)}})}function CT(){return ve(this,null,function*(){var R;try{cT(!0);const xe=yield Le.get("/profile/event-registrations");(R=xe.data)!=null&&R.registrations&&oT(xe.data.registrations)}catch(xe){console.error("Failed to load event registrations:",xe)}finally{cT(!1)}})}function Ute(){return ve(this,null,function*(){var R;try{dT(!0);const xe=yield Le.get("/profile/applications/jobs");(R=xe.data)!=null&&R.applications&&fte(xe.data.applications)}catch(xe){console.error("Failed to load individual job applications:",xe)}finally{dT(!1)}})}function Wte(){return ve(this,null,function*(){var R;try{uT(!0);const xe=yield Le.get("/profile/applications/events");(R=xe.data)!=null&&R.registrations&&hte(xe.data.registrations)}catch(xe){console.error("Failed to load individual event registrations:",xe)}finally{uT(!1)}})}function kT(){return ve(this,null,function*(){var R;try{fT(!0);const xe=yield Le.get("/profile/applications/jobs");(R=xe.data)!=null&&R.applications&&gte(xe.data.applications)}catch(xe){console.error("Failed to load my applications:",xe)}finally{fT(!1)}})}function ET(){return ve(this,null,function*(){var R;try{hT(!0);const xe=yield Le.get("/profile/applications/events");(R=xe.data)!=null&&R.registrations&&mte(xe.data.registrations)}catch(xe){console.error("Failed to load my event registrations:",xe)}finally{hT(!1)}})}const Kx=u.useCallback(()=>ve(this,null,function*(){var R,xe,Pe,at,bt,jt,Ct,$t,Yt,nr,ar,Ar,Wt;try{y(!0),E(!1);let ir;const{data:Gr}=yield Mpe();if(s&&t){const{data:xr}=yield Kf(t);ir={user:{id:xr.id,name:xr.name,email:xr.email,phone:xr.phone,nationality:xr.nationality,country:xr.country,countryOfResidence:xr.countryOfResidence,city:xr.city,accountType:xr.accountType,avatarUrl:xr.avatarUrl},profile:xr.profile||{},progress:xr.progress||{percent:0},doIdentityIds:((R=xr.identities)==null?void 0:R.map(Br=>Br.id))||[],doCategoryIds:((xe=xr.categories)==null?void 0:xe.map(Br=>Br.id))||[],doSubcategoryIds:((Pe=xr.subcategories)==null?void 0:Pe.map(Br=>Br.id))||[],doSubsubCategoryIds:((at=xr.subsubcategories)==null?void 0:at.map(Br=>Br.id))||[],interestIdentityIds:((jt=(bt=xr.interests)==null?void 0:bt.identities)==null?void 0:jt.map(Br=>Br.id))||[],interestCategoryIds:(($t=(Ct=xr.interests)==null?void 0:Ct.categories)==null?void 0:$t.map(Br=>Br.id))||[],interestSubcategoryIds:((nr=(Yt=xr.interests)==null?void 0:Yt.subcategories)==null?void 0:nr.map(Br=>Br.id))||[],interestSubsubCategoryIds:((Ar=(ar=xr.interests)==null?void 0:ar.subsubcategories)==null?void 0:Ar.map(Br=>Br.id))||[]}}else{const{data:xr}=yield kpe();ir=xr;try{const{data:Br}=yield AO();X(Array.isArray(Br==null?void 0:Br.workSamples)?Br.workSamples:[])}catch(Br){console.error("Failed to load work samples:",Br),X([])}}j(ir),S(Array.isArray(Gr==null?void 0:Gr.identities)?Gr.identities:[]);const pr=ir.user||{},Qt=ir.profile||{};M({name:pr.name||"",phone:pr.phone||"",nationality:pr.nationality||"",country:pr.country||"",countryOfResidence:pr.countryOfResidence||"",city:pr.city||"",address:pr.address||"",birthDate:Qt.birthDate||"",professionalTitle:Qt.professionalTitle||"",about:Qt.about||"",avatarUrl:pr.avatarUrl||Qt.avatarUrl||"",coverImage:pr.coverImage||Qt.coverImage||"",gender:pr.gender||"",otherCountries:Array.isArray(pr.otherCountries)?pr.otherCountries:[],webpage:pr.webpage||""}),J({experienceLevel:Qt.experienceLevel||"",skills:Array.isArray(Qt.skills)?Qt.skills:[],languages:Array.isArray(Qt.languages)?Qt.languages:[]}),te({cvBase64:Array.isArray(Qt.cvBase64)?Qt.cvBase64.map(xr=>me(ne({},xr),{created_at:xr.created_at||new Date().toISOString()})):Qt.cvBase64?[{original_filename:Qt.cvFileName||"",title:"",base64:Qt.cvBase64,created_at:new Date().toISOString()}]:[]}),F(!!Qt.isOpenToWork),Oe(ir.doIdentityIds||[]),ee(ir.doCategoryIds||[]),ue(ir.doSubcategoryIds||[]),Xe(ir.doSubsubCategoryIds||[]),Ze(ir.interestIdentityIds||[]),yt(ir.interestCategoryIds||[]),ze(ir.interestSubcategoryIds||[]),it(ir.interestSubsubCategoryIds||[]),ft(ir.industryCategoryIds||[]),Q(ir.industrySubcategoryIds||[]),V(ir.industrySubsubCategoryIds||[]);const Qn=yield Le.get("/industry-categories/tree");Et(Array.isArray((Wt=Qn.data)==null?void 0:Wt.industryCategories)?Qn.data.industryCategories:[])}catch(ir){console.error(ir),E(!0),L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{Kx()},3e3)}finally{y(!1)}}),[s,t]);u.useEffect(()=>{ve(this,null,function*(){try{vT(!0);const xe=yield fetch("/data/cities.json");if(!xe.ok)throw new Error("Failed to fetch cities");const Pe=yield xe.json();xT(Pe)}catch(xe){console.error("Error fetching cities:",xe),xT([])}finally{vT(!1)}})},[]),u.useEffect(()=>(Kx(),()=>{L.current&&clearTimeout(L.current)}),[Kx]),u.useEffect(()=>{Ye.length===0&&!x&&ve(this,null,function*(){var R;try{const xe=yield Le.get("/api/industry-categories/tree");Et(Array.isArray((R=xe.data)==null?void 0:R.industryCategories)?xe.data.industryCategories:[])}catch(xe){console.error("Failed to load industry categories:",xe)}})},[Ye.length,x]);const LT=(t5=(e5=v==null?void 0:v.progress)==null?void 0:e5.percent)!=null?t5:0,Hte=["Junior","Mid","Senior","Lead","Director","C-level"],Vte=["Startup","Small business","Medium business","Large enterprise","Public company"];function Gte(){return ve(this,null,function*(){var R,xe;try{if(b(!0),s&&t){const Pe={name:k.name,phone:k.phone,nationality:k.nationality,country:k.country,countryOfResidence:k.countryOfResidence,city:k.city,address:k.address,gender:k.gender,otherCountries:k.otherCountries,webpage:k.webpage,profile:{birthDate:k.birthDate,professionalTitle:k.professionalTitle,about:k.about,avatarUrl:k.avatarUrl,coverImage:k.coverImage}};yield fm(t,Pe),ce.success(C?"Company info saved!":"Personal info saved!");const{data:at}=yield Kf(t);j(me(ne({},v),{user:me(ne({},v.user),{name:k.name,phone:k.phone,nationality:k.nationality,country:k.country,countryOfResidence:k.countryOfResidence,city:k.city,address:k.address}),profile:me(ne({},v.profile),{birthDate:k.birthDate,professionalTitle:k.professionalTitle,about:k.about,avatarUrl:k.avatarUrl,coverImage:k.coverImage}),progress:at.progress}))}else{const{data:Pe}=yield xV(k);j(Pe),ce.success(C?"Company info saved!":"Personal info saved!")}}catch(Pe){ce.error(((xe=(R=Pe==null?void 0:Pe.response)==null?void 0:R.data)==null?void 0:xe.message)||"Failed to save.")}finally{b(!1)}})}function qte(){return ve(this,null,function*(){var R,xe;try{if(b(!0),s&&t){const Pe={profile:{experienceLevel:_.experienceLevel,skills:_.skills,languages:_.languages}};yield fm(t,Pe),ce.success("Professional info saved!");const{data:at}=yield Kf(t);j(me(ne({},v),{profile:me(ne({},v.profile),{experienceLevel:_.experienceLevel,skills:_.skills,languages:_.languages}),progress:at.progress}))}else{const{data:Pe}=yield Epe(_);j(Pe),ce.success("Professional info saved!")}}catch(Pe){ce.error(((xe=(R=Pe==null?void 0:Pe.response)==null?void 0:R.data)==null?void 0:xe.message)||"Failed to save.")}finally{b(!1)}})}function Yte(){return ve(this,null,function*(){var R,xe;try{if(b(!0),s&&t){const Pe={profile:{cvBase64:Y.cvBase64}};yield fm(t,Pe),ce.success("Portfolio info saved!");const{data:at}=yield Kf(t);j(me(ne({},v),{profile:me(ne({},v.profile),{cvBase64:Y.cvBase64}),progress:at.progress}))}else{const{data:Pe}=yield Lpe({cvBase64:Y.cvBase64});j(Pe),o(me(ne({},i),{cvBase64:Y.cvBase64})),ce.success("Portfolio info saved!")}}catch(Pe){ce.error(((xe=(R=Pe==null?void 0:Pe.response)==null?void 0:R.data)==null?void 0:xe.message)||"Failed to save.")}finally{b(!1)}})}function Jte(){return ve(this,null,function*(){var R,xe;try{if(b(!0),s&&t){yield fm(t,{profile:{isOpenToWork:W}}),ce.success("Availability updated!");const{data:at}=yield Kf(t);j(me(ne({},v),{profile:me(ne({},v.profile),{isOpenToWork:W}),progress:at.progress}))}else{const{data:Pe}=yield Bpe({isOpenToWork:!W});j(Pe),ce.success("Availability updated!")}}catch(Pe){ce.error(((xe=(R=Pe==null?void 0:Pe.response)==null?void 0:R.data)==null?void 0:xe.message)||"Failed to update availability.")}finally{b(!1)}})}function MT(){const R=(Z||"").trim();R&&(U(xe=>xe.skillsTags.includes(R)?xe:me(ne({},xe),{skillsTags:[...xe.skillsTags,R]})),se(""))}function Zte(R){U(xe=>me(ne({},xe),{skillsTags:xe.skillsTags.filter((Pe,at)=>at!==R)}))}function Qte(R){return ve(this,null,function*(){const xe=Array.from(R||[]);if(xe.length)try{const Pe=yield Promise.all(xe.map(at=>ve(this,null,function*(){const bt=yield rre(at);return{name:fe||at.name,base64url:bt,isImage:nre(bt)}})));U(at=>me(ne({},at),{attachments:[...at.attachments,...Pe]})),le("")}catch(Pe){console.error(Pe),ce.error("Some files could not be read.")}})}function Kte(R){U(xe=>me(ne({},xe),{attachments:xe.attachments.filter((Pe,at)=>at!==R)}))}function Xte(R){Te(R)}function Gj(R,xe){xe.trim()&&(U(Pe=>me(ne({},Pe),{attachments:Pe.attachments.map((at,bt)=>bt===R?me(ne({},at),{name:xe.trim()}):at)})),Te(null))}function IT(){Te(null)}function ere(R){A(R.id),z(!0),U({title:R.title||"",description:R.description||"",projectUrl:R.projectUrl||"",skillsTags:Array.isArray(R.technologies)?R.technologies:[],attachments:Array.isArray(R.attachments)?R.attachments:[]})}function qj(){A(null),U({title:"",description:"",projectUrl:"",skillsTags:[],attachments:[]}),se(""),le(""),Te(null)}function tre(){return ve(this,null,function*(){if(!O.title.trim()){ce.error("Project title is required");return}try{const R={title:O.title.trim(),description:O.description.trim()||null,projectUrl:O.projectUrl.trim()||null,technologies:O.skillsTags,attachments:O.attachments,isPublic:!0};if(P){yield Ope(P,R);const{data:xe}=yield AO();X(Array.isArray(xe==null?void 0:xe.workSamples)?xe.workSamples:[]),ce.success("Work sample updated successfully")}else{const{data:xe}=yield _pe(R);X(Pe=>[xe.workSample,...Pe]),ce.success("Work sample added successfully")}qj(),z(!1)}catch(R){ce.error("Failed to save work sample")}})}function rre(R){return new Promise((xe,Pe)=>{const at=new FileReader;at.onerror=Pe,at.onload=()=>xe(at.result),at.readAsDataURL(R)})}function nre(R){return typeof R=="string"&&R.startsWith("data:image")}function TT(R){return R&&typeof R.base64url=="string"&&R.base64url.startsWith("data:image")}function Xx(){return ve(this,null,function*(){try{ut(!0);const{data:R}=yield Ppe();Fe(Array.isArray(R==null?void 0:R.gallery)?R.gallery:[])}catch(R){console.error("Failed to load gallery:",R),ce.error("Failed to load gallery")}finally{ut(!1)}})}function sre(R){return ve(this,null,function*(){const xe=Array.from(R.target.files);if(!xe||xe.length===0)return;const Pe=[],at=[];if(xe.forEach((bt,jt)=>{if(!bt.type.startsWith("image/")){at.push(`File ${jt+1}: Please select an image file`);return}if(bt.size>5*1024*1024){at.push(`File ${jt+1}: Image size must be less than 5MB`);return}Pe.push(bt)}),at.length>0){at.forEach(bt=>ce.error(bt));return}Pe.length>0&&ce.success(`${Pe.length} image(s) selected for upload`),ie(Pe)})}function are(){return ve(this,null,function*(){var R,xe,Pe,at,bt,jt;if(!q&&(!oe||oe.length===0)){ce.error("Please select at least one image");return}q&&oe.length===0&&console.log("Updating gallery item metadata only (no new files)"),Me(!0);try{const Ct=new FormData;oe&&oe.length>0&&oe.forEach(($t,Yt)=>{Ct.append("imageBase64",$t),console.log(`File ${Yt+1}:`,$t.name,$t.size,$t.type)}),Ct.append("title",he.title||""),Ct.append("description",he.description||""),Ct.append("isPublic",he.isPublic.toString()),console.log("FormData contents:");for(let $t of Ct.entries())console.log($t[0]+": "+($t[1]instanceof File?`File(${$t[1].name})`:$t[1]));if(q)console.log("Updating existing gallery item:",q.id),yield Rpe(q.id,Ct),ce.success("Gallery item updated successfully");else{console.log(`Creating ${oe.length} new gallery item(s)`);const $t=yield Dpe(Ct),Yt=((xe=(R=$t.data)==null?void 0:R.galleryItems)==null?void 0:xe.length)||((Pe=$t.data)==null?void 0:Pe.length)||oe.length;ce.success(`${Yt} image(s) added to gallery successfully`)}yield Xx(),Yj(),G(!1),ie([]),Me(!1)}catch(Ct){console.error("Failed to save gallery item:",Ct),console.error("Error response:",(at=Ct.response)==null?void 0:at.data),ce.error(`Failed to save gallery item: ${((jt=(bt=Ct.response)==null?void 0:bt.data)==null?void 0:jt.message)||Ct.message}`)}finally{Me(!1)}})}function ire(R){return ve(this,null,function*(){var xe,Pe;if(console.log("deleteGalleryItem called with:",R),!R||!R.id){console.error("Invalid gallery item:",R),ce.error("Invalid gallery item");return}try{console.log("Deleting gallery item:",R.id,R),yield Fpe(R.id),yield Xx(),ce.success("Gallery item deleted successfully")}catch(at){console.error("Failed to delete gallery item:",at),ce.error(`Failed to delete gallery item: ${((Pe=(xe=at.response)==null?void 0:xe.data)==null?void 0:Pe.message)||at.message}`)}})}function ore(R){Se(R),G(!0),ye({title:R.title||"",description:R.description||"",isPublic:R.isPublic!==!1}),ie([])}function Yj(){Se(null),ye({title:"",description:"",isPublic:!0}),ie([])}function lre(){return ve(this,null,function*(){var R,xe;try{if(b(!0),s&&t)ce.error("Admin editing of taxonomy selections is not supported yet.");else{const{data:Pe}=yield Ipe({identityIds:xt,categoryIds:Ee,subcategoryIds:de,subsubCategoryIds:_e});j(Pe),ce.success("Updated what you DO!")}}catch(Pe){ce.error(((xe=(R=Pe==null?void 0:Pe.response)==null?void 0:R.data)==null?void 0:xe.message)||"Failed to save.")}finally{b(!1)}})}function cre(){return ve(this,null,function*(){var R,xe;try{if(b(!0),s&&t)ce.error("Admin editing of taxonomy selections is not supported yet.");else{const{data:Pe}=yield Tpe({identityIds:ct,categoryIds:dt,subcategoryIds:Ie,subsubCategoryIds:qe});j(Pe),ce.success("Updated what you're LOOKING FOR!")}}catch(Pe){ce.error(((xe=(R=Pe==null?void 0:Pe.response)==null?void 0:R.data)==null?void 0:xe.message)||"Failed to save.")}finally{b(!1)}})}function dre(){return ve(this,null,function*(){var R,xe;try{if(b(!0),s&&t)ce.error("Admin editing of taxonomy selections is not supported yet.");else{const{data:Pe}=yield Ape({industryCategoryIds:Ot,industrySubcategoryIds:D,industrySubsubCategoryIds:H});j(Pe),ce.success("Updated your industries!")}}catch(Pe){ce.error(((xe=(R=Pe==null?void 0:Pe.response)==null?void 0:R.data)==null?void 0:xe.message)||"Failed to save.")}finally{b(!1)}})}const Gd=R=>R.id||`name:${R.name}`,AT=u.useMemo(()=>{const R={};for(const xe of N){const Pe=Gd(xe);for(const at of xe.categories||[])at!=null&&at.id&&(R[at.id]=R[at.id]||new Set,R[at.id].add(Pe))}return R},[N]),_T=u.useMemo(()=>{const R={};for(const xe of N){const Pe=Gd(xe);for(const at of xe.categories||[])for(const bt of at.subcategories||[])bt!=null&&bt.id&&(R[bt.id]=R[bt.id]||new Set,R[bt.id].add(Pe))}return R},[N]),OT=u.useMemo(()=>{const R={};for(const xe of N){const Pe=Gd(xe);for(const at of xe.categories||[])for(const bt of at.subcategories||[])for(const jt of bt.subsubs||[])jt!=null&&jt.id&&(R[jt.id]=R[jt.id]||new Set,R[jt.id].add(Pe))}return R},[N]),bc=u.useMemo(()=>{const R={};for(const xe of N)for(const Pe of xe.categories||[])for(const at of Pe.subcategories||[])at!=null&&at.id&&(R[at.id]=Pe.id);return R},[N]),gg=u.useMemo(()=>{const R={};for(const xe of N)for(const Pe of xe.categories||[])for(const at of Pe.subcategories||[])for(const bt of at.subsubs||[])bt!=null&&bt.id&&(R[bt.id]=at.id);return R},[N]),$T=u.useMemo(()=>{const R={};for(const xe of N)for(const Pe of xe.categories||[]){if(!(Pe!=null&&Pe.id))continue;const at=(Pe.subcategories||[]).map(bt=>bt.id).filter(Boolean);R[Pe.id]=Array.from(new Set([...R[Pe.id]||[],...at]))}return R},[N]),ev=u.useMemo(()=>{const R={};for(const xe of N)for(const Pe of xe.categories||[])for(const at of Pe.subcategories||[]){if(!(at!=null&&at.id))continue;const bt=(at.subsubs||[]).map(jt=>jt.id).filter(Boolean);R[at.id]=Array.from(new Set([...R[at.id]||[],...bt]))}return R},[N]);function ure({catIds:R,setCatIds:xe,setSubIds:Pe,setXIds:at}){return bt=>{if(!bt)return;if(R.includes(bt)){const Ct=$T[bt]||[],$t=Ct.flatMap(Yt=>ev[Yt]||[]);xe(Yt=>Yt.filter(nr=>nr!==bt)),Pe(Yt=>Yt.filter(nr=>!Ct.includes(nr))),at(Yt=>Yt.filter(nr=>!$t.includes(nr)))}else xe(Ct=>[...Ct,bt])}}function fre({subIds:R,setSubIds:xe,setXIds:Pe,setCatIds:at}){return bt=>{if(!bt)return;const jt=bc[bt];if(R.includes(bt)){const $t=ev[bt]||[];xe(Yt=>Yt.filter(nr=>nr!==bt)),Pe(Yt=>Yt.filter(nr=>!$t.includes(nr)))}else jt&&at($t=>$t.includes(jt)?$t:[...$t,jt]),xe($t=>[...$t,bt])}}function hre({setXIds:R,subIds:xe,setSubIds:Pe,setCatIds:at}){return bt=>{if(!bt)return;const jt=gg[bt];jt&&bc[jt],R(Ct=>Ct.includes(bt)?Ct.filter(Yt=>Yt!==bt):[...Ct,bt])}}const gre=R=>{const Pe=xt.includes(R),at=Pe?[]:[R];Oe(at),wt(Pe?null:R);const bt=(jt,Ct)=>{const $t=jt[Ct];return $t?at.some(Yt=>$t.has(Yt)):!1};Xe(jt=>jt.filter(Ct=>bt(OT,Ct))),ue(jt=>jt.filter(Ct=>bt(_T,Ct))),ee(jt=>jt.filter(Ct=>bt(AT,Ct)))},mre=ure({catIds:Ee,setCatIds:ee,setSubIds:ue,setXIds:Xe}),pre=fre({subIds:de,setSubIds:ue,setXIds:Xe,setCatIds:ee}),xre=hre({setXIds:Xe,subIds:de,setSubIds:ue,setCatIds:ee}),vre=R=>{Ze(xe=>{const Pe=xe.includes(R),at=!Pe;if(at&&xe.length>=vt)return xe;const bt=Pe?xe.filter(Ct=>Ct!==R):[...xe,R];if(at)Ge(R);else if(Pe&&Ae===R){const Ct=bt.length>0?bt[bt.length-1]:null;Ge(Ct)}const jt=(Ct,$t)=>{const Yt=Ct[$t];return Yt?bt.some(nr=>Yt.has(nr)):!1};return it(Ct=>Ct.filter($t=>jt(OT,$t))),ze(Ct=>Ct.filter($t=>jt(_T,$t))),yt(Ct=>Ct.filter($t=>jt(AT,$t))),bt})},yre=R=>{yt(xe=>{if(xe.includes(R)){const at=$T[R]||[],bt=at.flatMap(jt=>ev[jt]||[]);return ze(jt=>jt.filter(Ct=>!at.includes(Ct))),it(jt=>jt.filter(Ct=>!bt.includes(Ct))),xe.filter(jt=>jt!==R)}else return[...xe,R]})},bre=R=>{const xe=bc[R];ze(Pe=>{if(Pe.includes(R)){const bt=ev[R]||[];return it(jt=>jt.filter(Ct=>!bt.includes(Ct))),Pe.filter(jt=>jt!==R)}else return xe&&!dt.includes(xe)&&yt(bt=>[...bt,xe]),[...Pe,R]})},wre=R=>{const xe=gg[R],Pe=xe?bc[xe]:null;it(at=>at.includes(R)?at.filter(jt=>jt!==R):(xe&&!Ie.includes(xe)&&ze(jt=>[...jt,xe]),Pe&&!dt.includes(Pe)&&yt(jt=>[...jt,Pe]),[...at,R]))};function jre({industryCatIds:R,setIndustryCatIds:xe,setIndustrySubIds:Pe,setIndustryXIds:at,setOpenIndustryCats:bt,setOpenIndustrySubs:jt}){return Ct=>{var Yt,nr;if(!Ct)return;if(R.includes(Ct)){const ar=((nr=(Yt=Ye.find(Wt=>Wt.id===Ct))==null?void 0:Yt.subcategories)==null?void 0:nr.map(Wt=>Wt.id))||[],Ar=ar.flatMap(Wt=>{var ir,Gr,pr,Qt;return((Qt=(pr=(Gr=(ir=Ye.find(Qn=>Qn.id===Ct))==null?void 0:ir.subcategories)==null?void 0:Gr.find(Qn=>Qn.id===Wt))==null?void 0:pr.subsubs)==null?void 0:Qt.map(Qn=>Qn.id))||[]});xe(Wt=>Wt.filter(ir=>ir!==Ct)),Pe(Wt=>Wt.filter(ir=>!ar.includes(ir))),at(Wt=>Wt.filter(ir=>!Ar.includes(ir))),bt(Wt=>{const ir=new Set(Wt);return ir.delete(Ct),ir}),jt(Wt=>{const ir=new Set(Wt);for(const Gr of ar)ir.delete(Gr);return ir})}else xe(ar=>[...ar,Ct]),bt(ar=>new Set(ar).add(Ct))}}function Nre({industrySubIds:R,setIndustrySubIds:xe,setIndustryXIds:Pe,setOpenIndustrySubs:at,setIndustryCatIds:bt,setOpenIndustryCats:jt}){return Ct=>{var nr,ar,Ar,Wt,ir;if(!Ct)return;const $t=(nr=Ye.find(Gr=>{var pr;return(pr=Gr.subcategories)==null?void 0:pr.some(Qt=>Qt.id===Ct)}))==null?void 0:nr.id;if(R.includes(Ct)){const Gr=((ir=(Wt=(Ar=(ar=Ye.find(pr=>pr.id===$t))==null?void 0:ar.subcategories)==null?void 0:Ar.find(pr=>pr.id===Ct))==null?void 0:Wt.subsubs)==null?void 0:ir.map(pr=>pr.id))||[];xe(pr=>pr.filter(Qt=>Qt!==Ct)),Pe(pr=>pr.filter(Qt=>!Gr.includes(Qt))),at(pr=>{const Qt=new Set(pr);return Qt.delete(Ct),Qt})}else $t&&(bt(Gr=>Gr.includes($t)?Gr:[...Gr,$t]),jt(Gr=>new Set(Gr).add($t))),xe(Gr=>[...Gr,Ct])}}function Sre({setIndustryXIds:R,industrySubIds:xe,setIndustrySubIds:Pe,setIndustryCatIds:at,setOpenIndustryCats:bt}){return jt=>{var Yt,nr;if(!jt)return;const Ct=(Yt=Ye.flatMap(ar=>ar.subcategories||[]).find(ar=>{var Ar;return(Ar=ar.subsubs)==null?void 0:Ar.some(Wt=>Wt.id===jt)}))==null?void 0:Yt.id,$t=Ct?(nr=Ye.find(ar=>{var Ar;return(Ar=ar.subcategories)==null?void 0:Ar.some(Wt=>Wt.id===Ct)}))==null?void 0:nr.id:null;R(ar=>ar.includes(jt)?ar.filter(Wt=>Wt!==jt):(Ct&&!xe.includes(Ct)&&Pe(Wt=>[...Wt,Ct]),$t&&(at(Wt=>Wt.includes($t)?Wt:[...Wt,$t]),bt(Wt=>new Set(Wt).add($t))),[...ar,jt]))}}const Cre=jre({industryCatIds:Ot,setIndustryCatIds:ft,setIndustrySubIds:Q,setIndustryXIds:V,setOpenIndustryCats:He,setOpenIndustrySubs:pt}),kre=Nre({industrySubIds:D,setIndustrySubIds:Q,setIndustryXIds:V,setOpenIndustrySubs:pt,setIndustryCatIds:ft,setOpenIndustryCats:He}),Ere=Sre({setIndustryXIds:V,industrySubIds:D,setIndustrySubIds:Q,setIndustryCatIds:ft,setOpenIndustryCats:He}),PT=(R,xe,Pe)=>{const at=new Set(R),bt=new Set(xe);for(const jt of xe){const Ct=bc[jt];Ct&&at.add(Ct)}for(const jt of Pe){const Ct=gg[jt];if(Ct){bt.add(Ct);const $t=bc[Ct];$t&&at.add($t)}}return{cats:at,subs:bt}};u.useEffect(()=>{if(m!==Jt.DO)return;const{cats:R,subs:xe}=PT(Ee,de,_e);ge(R),ot(xe)},[m,Ee,de,_e,bc,gg]),u.useEffect(()=>{m===Jt.DO&&xt.length>0&&!gt&&wt(xt[xt.length-1])},[m,xt,gt]),u.useEffect(()=>{if(m!==Jt.INTERESTS)return;const{cats:R,subs:xe}=PT(dt,Ie,qe);pe(R),we(xe)},[m,dt,Ie,qe,bc,gg]),u.useEffect(()=>{m===Jt.INTERESTS&&ct.length>0&&!Ae&&Ge(ct[ct.length-1])},[m,ct,Ae]),u.useEffect(()=>{if(m!==Jt.INDUSTRIES)return;const R=new Set(Ot),xe=new Set(D);He(R),pt(xe)},[m,Ot,D]);const Lre=()=>n.jsxs("div",{className:"min-h-screen grid place-items-center text-brand-700",children:[n.jsxs("svg",{className:"h-6 w-6 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),n.jsx("span",{className:"ml-2",children:"Loading…"})]});if(x)return n.jsx(Lre,{});if(I)return n.jsx(ml,{onRetry:()=>{E(!1),L.current&&clearTimeout(L.current),L.current=null,Kx()},message:"Failed to load profile. Please try again.",buttonText:"Try Again"});if(!v)return null;function DT({picked:R,onToggle:xe,activeTab:Pe,onTabSwitch:at,limit:bt}){const jt=typeof bt=="number"&&R.length>=bt,Ct=u.useMemo(()=>{const $t=new Set(R);return N.filter(Yt=>$t.has(Gd(Yt)))},[R,N]);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available Identities"}),n.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-2",children:N.filter($t=>$t.type==(a==null?void 0:a.accountType)||m!=Jt.DO).map(($t,Yt)=>{const nr=Gd($t),ar=R.includes(nr),Ar=!ar&&jt;return n.jsxs("button",{onClick:()=>!Ar&&xe(nr),disabled:Ar,className:`rounded-xl flex items-center justify-between border px-4 py-3 text-left hover:shadow-soft transition-all ${ar?"border-brand-700 bg-brand-50 ring-2 ring-brand-200":"border-gray-200"} ${Ar?"opacity-50 cursor-not-allowed":""}`,children:[n.jsx("div",{children:n.jsx("div",{className:"font-medium",children:$t.name})}),n.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${ar?"bg-brand-600 border-brand-600":"border-gray-300"}`,children:ar&&n.jsx("svg",{className:"w-3 h-3 text-white mx-auto mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},`${Yt}-${$t.name}`)})})]}),Ct.length>0&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selected Identities"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Ct.map(($t,Yt)=>{const nr=Gd($t),ar=Pe===nr;return n.jsx("button",{onClick:()=>at(nr),className:`px-4 py-2 rounded-full border text-sm font-medium transition-all ${ar?"bg-brand-700 text-white border-brand-700":"bg-white text-gray-700 ring-1 border-gray-300 hover:bg-gray-50"}`,children:$t.name},`${Yt}-${$t.name}`)})})]})]})}function RT({selectedIdentitiesKeys:R,catIds:xe,subIds:Pe,xIds:at,openCats:bt,openSubs:jt,onToggleCat:Ct,onToggleSub:$t,onToggleSubsub:Yt,setOpenCats:nr,setOpenSubs:ar,catLimit:Ar,ensureCatOpenOnSelect:Wt=!0,ensureSubOpenOnSelect:ir=!0,color:Gr="categories"}){const pr=cn=>Array.isArray(cn==null?void 0:cn.subcategories)&&cn.subcategories.length>0,Qt=cn=>Array.isArray(cn==null?void 0:cn.subsubs)&&cn.subsubs.length>0,Qn=u.useMemo(()=>{const cn=new Set(R);return N.filter(li=>cn.has(Gd(li)))},[N,R]),Br={identities:{container:"bg-gray-50 border-gray-200",subcategory:"bg-gray-100 border-gray-300",subsubcategory:"bg-gray-200"},categories:{container:"bg-gray-50 border-gray-200",subcategory:"bg-gray-100 border-gray-300",subsubcategory:"bg-gray-200"}}[Gr];if(Qn.length===0)return n.jsx("div",{className:`rounded-xl border bg-white p-6 text-sm text-gray-600 ${Br.container}`,children:"Select at least one identity to see categories."});const Jj=cn=>{nr(li=>{const zr=new Set(li);return zr.has(cn)?zr.delete(cn):zr.add(cn),zr})},Da=cn=>{ar(li=>{const zr=new Set(li);return zr.has(cn)?zr.delete(cn):zr.add(cn),zr})};return n.jsx("div",{className:"space-y-4",children:Qn.map((cn,li)=>n.jsxs("div",{className:`rounded-xl border ${Br.container}`,children:[n.jsx("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 rounded-t-xl",children:n.jsx("div",{className:"font-semibold",children:cn.name})}),n.jsx("div",{className:"px-4 py-4 space-y-3",children:(cn.categories||[]).map((zr,kf)=>{const jl=pr(zr),mg=!!zr.id&&bt.has(zr.id),Zj=!!zr.id&&xe.includes(zr.id);return n.jsxs("div",{className:"border rounded-lg bg-white",children:[" ",n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 cursor-pointer select-none",role:"button","aria-expanded":mg,onClick:()=>zr.id&&Jj(zr.id),children:[n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",onClick:ds=>ds.stopPropagation(),children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:Zj,onChange:ds=>{ds.stopPropagation(),zr.id&&(Ct(zr.id),Wt&&jl&&nr(tv=>new Set(tv).add(zr.id)))},disabled:!zr.id||!1,title:zr.id?"":"Category not found in DB"}),n.jsx("span",{className:"font-medium",children:zr.name})]}),jl&&n.jsx("span",{className:`text-gray-500 transition-transform ${mg?"rotate-180":""}`,children:"▾"})]}),jl&&mg&&n.jsx("div",{className:"px-4 pb-4 space-y-3",children:(zr.subcategories||[]).map((ds,tv)=>{const Qj=Qt(ds),Kj=!!ds.id&&jt.has(ds.id),s5=!!ds.id&&Pe.includes(ds.id);return zr.id&&xe.includes(zr.id),n.jsxs("div",{className:`border rounded-lg ${Br.subcategory}`,children:[" ",n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 cursor-pointer select-none",role:"button","aria-expanded":Kj,onClick:()=>ds.id&&Da(ds.id),children:[n.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",onClick:$i=>$i.stopPropagation(),children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:s5,onChange:$i=>{$i.stopPropagation(),ds.id&&($t(ds.id),ir&&Qj&&ar(Xj=>new Set(Xj).add(ds.id)))},disabled:!ds.id||!1,title:ds.id?"":"Subcategory not found in DB"}),n.jsx("span",{className:"font-medium",children:ds.name})]}),Qj&&n.jsx("span",{className:`text-gray-500 transition-transform ${Kj?"rotate-180":""}`,children:"▾"})]}),Qj&&(Kj||s5)&&n.jsx("div",{className:"px-4 pb-3",children:n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:ds.subsubs.map(($i,Xj)=>{zr.id&&xe.includes(zr.id);const Ire=!!$i.id&&at.includes($i.id),a5=!1;return n.jsxs("label",{className:`inline-flex items-center gap-2 px-2 py-1 border border-gray-300 rounded-full text-sm  ${Br.subsubcategory}`,children:[n.jsx("input",{type:"checkbox",checked:!!$i.id&&Ire,onChange:()=>{!$i.id||a5||Yt($i.id)},disabled:!$i.id||a5,title:$i.id?"":"Level-3 not found in DB"}),n.jsx("span",{children:$i.name})]},`ss-${li}-${kf}-${tv}-${Xj}`)})})})]},`sub-${li}-${kf}-${tv}`)})})]},`cat-${li}-${kf}`)})})]},`iden-${li}`))})}function Mre({title:R,subtitle:xe,industryCatIds:Pe,industrySubIds:at,industryXIds:bt,openIndustryCats:jt,openIndustrySubs:Ct,onToggleIndustryCat:$t,onToggleIndustrySub:Yt,onToggleIndustrySubsub:nr,setOpenIndustryCats:ar,setOpenIndustrySubs:Ar}){const Wt=Qt=>Array.isArray(Qt==null?void 0:Qt.subcategories)&&Qt.subcategories.length>0,ir=Qt=>Array.isArray(Qt==null?void 0:Qt.subsubs)&&Qt.subsubs.length>0,Gr=Qt=>{ar(Qn=>{const xr=new Set(Qn);return xr.has(Qt)?xr.delete(Qt):xr.add(Qt),xr})},pr=Qt=>{Ar(Qn=>{const xr=new Set(Qn);return xr.has(Qt)?xr.delete(Qt):xr.add(Qt),xr})};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold mb-2",children:R}),n.jsx("p",{className:"text-gray-600",children:xe})]}),n.jsx("div",{className:"space-y-4",children:Ye.length===0?n.jsx("div",{className:"rounded-xl border bg-white p-6 text-sm text-gray-600",children:"Loading industry categories..."}):Ye.map((Qt,Qn)=>{const xr=Wt(Qt),Br=!!Qt.id&&jt.has(Qt.id),Jj=!!Qt.id&&Pe.includes(Qt.id);return n.jsxs("div",{className:"rounded-xl border",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 rounded-t-xl",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex items-center gap-3",children:n.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:Jj,onChange:()=>Qt.id&&$t(Qt.id)})}),n.jsx("div",{className:"font-semibold",children:Qt.name})]}),n.jsx("div",{className:"flex items-center gap-1",children:xr&&n.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700 ml-auto","aria-expanded":Br,onClick:()=>Qt.id&&Gr(Qt.id),children:n.jsx("span",{className:`inline-block transition-transform ${Br?"rotate-180":""}`,children:"▾"})})})]}),n.jsx("div",{className:`${xr&&Br?"px-4 py-4 space-y-3":""}`,children:xr&&Br&&n.jsx("div",{className:"ml-7 space-y-3",children:(Qt.subcategories||[]).map((Da,cn)=>{const li=ir(Da),zr=!!Da.id&&Ct.has(Da.id),kf=!!Da.id&&at.includes(Da.id);return n.jsxs("div",{className:"border rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"flex items-center w-full flex-1 gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-brand-600",checked:kf,onChange:()=>Da.id&&Yt(Da.id)}),n.jsx("span",{className:"font-medium w-full flex flex-1",children:Da.name})]}),li&&n.jsx("button",{type:"button",onClick:()=>Da.id&&pr(Da.id),className:"text-gray-500 hover:text-gray-700","aria-expanded":zr,"aria-label":`Toggle ${Da.name} sub-items`,children:n.jsx("span",{className:`inline-block transition-transform ${zr?"rotate-180":""}`,children:"▾"})})]}),li&&(zr||kf)&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-2 ml-7",children:Da.subsubs.map((jl,mg)=>{const Zj=!!jl.id&&bt.includes(jl.id);return n.jsxs("label",{className:"inline-flex items-center gap-2 px-2 py-1 border rounded-full text-sm cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:Zj,onChange:()=>jl.id&&nr(jl.id)}),n.jsx("span",{children:jl.name})]},`industry-ss-${Qn}-${cn}-${mg}`)})})]},`industry-sub-${Qn}-${cn}`)})})})]},`industry-cat-${Qn}`)})})]})}return n.jsxs("div",{className:"bg-[#F6F7FB]",children:[!s&&n.jsx(an,{}),n.jsxs("div",{className:"max-w-5xl mx-auto p-4 md:p-8",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm mb-6",children:[n.jsx("div",{className:"relative h-48 rounded-t-xl overflow-hidden border border-b-0",children:k.coverImage?n.jsxs("div",{className:"relative w-full h-full",children:[n.jsx("img",{src:k.coverImage,alt:"Cover",className:"w-full h-full object-cover cursor-pointer",onClick:()=>g(!0)}),n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(eN,{type:"cover",coverImage:k.coverImage,onChange:R=>{M(me(ne({},k),{coverImage:R}))}})})]}):n.jsxs("div",{className:"w-full h-full bg-gradient-to-r from-brand-600 to-brand-600 flex items-center justify-center relative",children:[n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(eN,{type:"cover",coverImage:k.coverImage,onChange:R=>{M(me(ne({},k),{coverImage:R}))}})}),n.jsxs("div",{className:"text-center",children:[n.jsx(HE,{size:32,className:"text-white mx-auto mb-2 opacity-70"}),n.jsx("p",{className:"text-white text-sm opacity-70",children:"cover image"})]})]})}),n.jsx("div",{className:"px-6 pb-6 relative",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between -mt-16 gap-4 mb-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"z-50",children:n.jsx(eN,{type:"avatar",onChange:R=>{M(me(ne({},k),{avatarUrl:R})),l(me(ne({},a),{avatarUrl:R}))},avatarUrl:k.avatarUrl})}),k.avatarUrl?n.jsx("div",{className:`${C?"h-32 w-32 rounded-xl":"h-32 w-32 rounded-full"} border-4 border-white shadow-lg bg-white flex justify-center items-center overflow-hidden cursor-pointer hover:opacity-90 transition-opacity`,onClick:()=>f(!0),role:"button",tabIndex:0,children:n.jsx("img",{src:k.avatarUrl,alt:k.name||"Profile",className:"w-full h-full",style:{objectFit:C?"contain":"cover"}})}):n.jsx("div",{className:`${C?"h-32 w-32 rounded-xl":"h-32 w-32 rounded-full"} border-4 border-white shadow-lg bg-gradient-to-br from-brand-50 to-brand-50 grid place-items-center overflow-hidden`,children:n.jsx("span",{className:"font-semibold text-brand-600 text-2xl",children:T(k.name||"User")})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx("h1",{className:`${C?"text-3xl":"text-2xl"} font-bold text-white drop-shadow-md max-md:text-gray-900 relative z-10`,children:k.name||"Profile"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10 blur-sm rounded-lg -m-1 z-0 max-md:hidden"})]}),C&&n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-700 z-10 relative",children:"Company"}),!C&&((r5=v==null?void 0:v.user)==null?void 0:r5.accountType)&&n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-gray-100 text-gray-700 z-10 relative",children:"Individual"})]}),n.jsx("div",{className:"mb-2 md:px-4 py-2 bg-white bg-opacity-90 backdrop-blur-sm rounded-lg shadow-sm border border-white border-opacity-20",children:n.jsx("p",{className:"text-gray-900 text-lg font-semibold",children:k.professionalTitle||(C?"Company":"Professional")})}),(k.city||k.countryOfResidence)&&n.jsxs("div",{className:"flex items-center gap-1 text-sm drop-shadow-md",children:[n.jsx(gn,{size:16}),n.jsx("span",{children:[k.city,k.countryOfResidence].filter(Boolean).join(", ")})]})]})]}),n.jsxs("div",{className:"flex flex-col md:items-end gap-3 pt-5",children:[n.jsxs("div",{className:"text-right flex items-center gap-2",children:[n.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Profile Completion"}),n.jsxs("div",{className:"text-sm font-bold text-gray-700",children:[" (",LT,"%) "]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-[10.5rem] max-md:w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-3 bg-gradient-to-r from-brand-500 to-brand-500 rounded-full transition-all duration-500 ease-out",style:{width:`${LT}%`}})}),n.jsxs("button",{onClick:()=>{var R;return c(`/profile/${(R=v==null?void 0:v.user)==null?void 0:R.id}`)},className:"px-4 py-1 w-full absolute justify-center gap-x-2 flex items-center top-[100%] translate-y-[6px] left-0 bg-green-600 text-white rounded-full hover:bg-green-700 transition-colors text-sm font-medium",children:["Public Profile ",n.jsx(Ru,{size:17})]})]})]})]})})]}),!s&&(a==null?void 0:a.accountType)=="individual"&&n.jsx("div",{className:"mt-4 bg-white rounded-xl shadow-soft p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${W?"bg-green-500":"bg-gray-400"}`}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:W?"Open to work":"Not looking for work"}),n.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:W?"Available for opportunities":"Tap to show availability"})]})]}),n.jsx("button",{onClick:()=>ve(this,null,function*(){const R=!W;F(R);try{yield Jte()}catch(xe){F(!R)}}),disabled:w,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${W?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:w?"...":W?"Close":"Open"})]})}),n.jsxs("div",{className:"mt-6 flex gap-2 flex-wrap",children:[n.jsx("button",{className:`px-4 py-2 rounded-full border ${m===Jt.PERSONAL?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>p(Jt.PERSONAL),children:C?"Company Info":"Personal"}),n.jsx("button",{className:`px-4 py-2 rounded-full border ${m===Jt.PROFESSIONAL?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>p(Jt.PROFESSIONAL),children:C?"Company Details":"Professional"}),n.jsx("button",{className:`px-4 py-2 rounded-full border ${m===Jt.DO?"bg-brand-700 text-white border-brand-700":"bg-gray-100 border-gray-300"}`,onClick:()=>p(Jt.DO),children:C?"What We Offer":"What I DO"}),n.jsx("button",{className:`px-4 py-2 rounded-full border ${m===Jt.INTERESTS?"bg-brand-700 text-white border-brand-700":"bg-gray-100 border-gray-300"}`,onClick:()=>p(Jt.INTERESTS),children:C?"What We're LOOKING FOR":"What I'm LOOKING FOR"}),n.jsx("button",{className:`px-4 py-2 rounded-full border ${m===Jt.PORTFOLIO?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>p(Jt.PORTFOLIO),children:C?"Company Portfolio":"Portfolio"}),n.jsx("button",{className:`px-4 py-2 rounded-full border ${m===Jt.GALLERY?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>p(Jt.GALLERY),children:"Gallery"}),n.jsx("button",{className:`px-4 py-2 rounded-full border ${m===Jt.INDUSTRIES?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>p(Jt.INDUSTRIES),children:C?"Company Industries":"Industries"}),C&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:`px-4 py-2 rounded-full border ${m===Jt.REPRESENTATIVE?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>p(Jt.REPRESENTATIVE),children:"Representative"}),n.jsx("button",{className:`px-4 py-2 rounded-full border ${m===Jt.STAFF?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>p(Jt.STAFF),children:n.jsx("label",{children:" Staff "})}),n.jsx("button",{className:`px-4 py-2 rounded-full border ${m===Jt.JOB_APPLICATIONS?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>p(Jt.JOB_APPLICATIONS),children:"Job Applications"}),n.jsx("button",{className:`px-4 py-2 rounded-full border ${m===Jt.EVENT_REGISTRATIONS?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>p(Jt.EVENT_REGISTRATIONS),children:"Event Registrations"}),n.jsxs("button",{className:`px-4 py-2 rounded-full border relative ${m===Jt.JOIN_REQUESTS?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>p(Jt.JOIN_REQUESTS),children:["Join Requests",cr>0&&n.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:cr})]})]}),!C&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:`px-4 py-2 rounded-full border ${m===Jt.APPLICATIONS?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>p(Jt.APPLICATIONS),children:"My Applications"}),n.jsx("button",{className:`px-4 py-2 rounded-full border ${m===Jt.EVENTS?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>p(Jt.EVENTS),children:"My Events"}),n.jsx("button",{className:`px-4 py-2 rounded-full border ${m===Jt.ORGANIZATIONS?"bg-brand-700 text-white border-brand-700":"bg-white border-gray-200"}`,onClick:()=>p(Jt.ORGANIZATIONS),children:"Organizations"})]})]}),n.jsxs("div",{className:"mt-4 bg-white rounded-2xl shadow-soft p-5",children:[m===Jt.PERSONAL&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:C?"Company name":"Full name"}),n.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:k.name,onChange:R=>M(me(ne({},k),{name:R.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),n.jsx("input",{disabled:!s,className:`w-full ${s?"":"opacity-50 pointer-events-none"} border rounded-lg px-3 py-2 bg-gray-50`,value:((n5=v==null?void 0:v.user)==null?void 0:n5.email)||"",readOnly:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),n.jsx("input",{onWheel:R=>R.currentTarget.blur(),type:"tel",className:"w-full border rounded-lg px-3 py-2",value:k.phone,onChange:R=>{const Pe=R.target.value.replace(/[^+\d\-\(\)]/g,"");if((Pe.match(/\+/g)||[]).length>1){const bt=Pe.replace(/\+/g,"");M(me(ne({},k),{phone:"+"+bt}))}else M(me(ne({},k),{phone:Pe}))}})]}),!C&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Birth date"}),n.jsx("input",{type:"date",className:"w-full border rounded-lg px-3 py-2",value:k.birthDate||"",onChange:R=>M(me(ne({},k),{birthDate:R.target.value}))})]}),!C&&n.jsx("div",{children:n.jsx(Fn,{label:"Nationality",options:An,value:k.country,onChange:R=>M(me(ne({},k),{country:R})),placeholder:"Select country of birth"})}),n.jsx("div",{children:n.jsx(Fn,{label:C?"Country (Headquarters)":"Country of residence",options:An,value:k.countryOfResidence,onChange:R=>M(me(ne({},k),{countryOfResidence:R})),placeholder:C?"Select country of Headquarters":"Select country of residence"})}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1",children:["City ",C?"(Headquarters)":""]}),n.jsx(Fn,{value:k.city,onChange:R=>M(me(ne({},k),{city:R})),options:Vj,placeholder:"Search and select city..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address"}),n.jsx("input",{className:"w-full border rounded-lg px-3 py-2",value:k.address,onChange:R=>M(me(ne({},k),{address:R.target.value})),placeholder:"Street address, building, apartment, etc."})]}),C?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Company Website ",n.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),n.jsx("input",{type:"url",className:"w-full border rounded-lg px-3 py-2",value:k.webpage,onChange:R=>M(me(ne({},k),{webpage:R.target.value})),placeholder:"https://www.yourcompany.com"})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(jte,{value:k.otherCountries,onChange:R=>M(xe=>me(ne({},xe),{otherCountries:R}))})})]}):n.jsx(n.Fragment,{children:n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gender"}),n.jsxs("select",{value:k.gender,onChange:R=>M(me(ne({},k),{gender:R.target.value})),className:"w-full border rounded-lg px-3 py-2",children:[n.jsx("option",{value:"",disabled:!0,children:"Select gender"}),n.jsx("option",{value:"male",children:"Male"}),n.jsx("option",{value:"female",children:"Female"})]})]})}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("label",{className:"block text-sm font-medium",children:C?"Company description/type":"Professional title"}),n.jsxs("span",{className:`text-xs ${k.professionalTitle.length>Pi.PROFESSIONAL_TITLE?"text-red-600":"text-gray-500"}`,children:[k.professionalTitle.length,"/",Pi.PROFESSIONAL_TITLE]})]}),n.jsx("input",{className:`w-full border rounded-lg px-3 py-2 ${k.professionalTitle.length>Pi.PROFESSIONAL_TITLE?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-brand-500 focus:ring-brand-500"}`,value:k.professionalTitle,onChange:R=>{R.target.value.length<=Pi.PROFESSIONAL_TITLE&&M(me(ne({},k),{professionalTitle:R.target.value}))},placeholder:C?"e.g., Venture Capital Firm, Technology Startup":"e.g., Software Engineer, Marketing Specialist"}),k.professionalTitle.length>Pi.PROFESSIONAL_TITLE&&n.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Professional title must be ",Pi.PROFESSIONAL_TITLE," characters or less"]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("label",{className:"block text-sm font-medium",children:C?"About the company":"About you"}),n.jsxs("span",{className:`text-xs ${k.about.length>Pi.ABOUT?"text-red-600":"text-gray-500"}`,children:[k.about.length,"/",Pi.ABOUT]})]}),n.jsx("textarea",{className:`w-full border rounded-lg px-3 py-2 ${k.about.length>Pi.ABOUT?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-brand-500 focus:ring-brand-500"}`,rows:"4",value:k.about,onChange:R=>{R.target.value.length<=Pi.ABOUT&&M(me(ne({},k),{about:R.target.value}))},placeholder:C?"Describe your company, its mission, and focus areas...":"Tell others about yourself, your background, and interests..."}),k.about.length>Pi.ABOUT&&n.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["About section must be ",Pi.ABOUT," characters or less"]})]})]}),n.jsx("div",{className:"flex justify-end gap-3",children:n.jsx("button",{disabled:w,onClick:Gte,className:"px-4 py-2 rounded-xl bg-brand-700 text-white disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:w?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Saving..."]}):"Save"})})]}),m===Jt.PROFESSIONAL&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:C?"Company size/stage":"Experience level"}),n.jsxs("select",{className:"w-full border rounded-lg px-3 py-2",value:_.experienceLevel,onChange:R=>J(xe=>me(ne({},xe),{experienceLevel:R.target.value})),children:[n.jsx("option",{value:"",children:"Select"}),(C?Vte:Hte).map(R=>n.jsx("option",{value:R,children:R},R))]})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:C?"Company expertise":"Skills"}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:_.skills.map((R,xe)=>n.jsxs("span",{className:"inline-flex items-center gap-1 bg-brand-50 text-brand-700 rounded-full px-3 py-1 text-sm",children:[R,n.jsx("button",{onClick:()=>J(Pe=>me(ne({},Pe),{skills:Pe.skills.filter((at,bt)=>bt!==xe)})),children:"×"})]},xe))}),n.jsx("input",{className:"w-full border rounded-lg px-3 py-2",placeholder:"Type a skill and press Enter",onKeyDown:R=>{if(R.key==="Enter"){R.preventDefault();const xe=R.currentTarget.value.trim();xe&&J(Pe=>me(ne({},Pe),{skills:Array.from(new Set([...Pe.skills||[],xe]))})),R.currentTarget.value=""}}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:C?"Working languages":"Languages"}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:_.languages.map((R,xe)=>n.jsxs("span",{className:"inline-flex items-center gap-2 bg-gray-100 rounded-full px-3 py-1 text-sm",children:[n.jsx("b",{children:R.name})," ",n.jsx("em",{className:"text-gray-600",children:R.level}),n.jsx("button",{onClick:()=>J(Pe=>me(ne({},Pe),{languages:Pe.languages.filter((at,bt)=>bt!==xe)})),children:"×"})]},xe))}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsx("input",{id:"lang-name",className:"flex-1 border rounded-lg px-3 py-2",placeholder:"Language (e.g., English)"}),n.jsxs("select",{id:"lang-level",className:"w-40 border rounded-lg px-3 py-2",children:[n.jsx("option",{children:"Basic"}),n.jsx("option",{children:"Intermediate"}),n.jsx("option",{children:"Advanced"}),n.jsx("option",{children:"Native"})]}),n.jsx("button",{className:"px-3 py-2 rounded-lg border",onClick:()=>{const R=document.getElementById("lang-name").value.trim(),xe=document.getElementById("lang-level").value;R&&(J(Pe=>me(ne({},Pe),{languages:[...Pe.languages||[],{name:R,level:xe}]})),document.getElementById("lang-name").value="")},children:"+ Add"})]})]}),n.jsx("div",{className:"flex justify-end gap-3",children:n.jsx("button",{disabled:w,onClick:qte,className:"px-4 py-2 rounded-xl bg-brand-700 text-white disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:w?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Saving..."]}):"Save"})})]}),m===Jt.GALLERY&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:"Gallery"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Showcase your images and photos"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("button",{onClick:()=>G(!0),className:"px-4 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800",children:[n.jsx("span",{className:"max-md:hidden",children:"Add Image"}),n.jsx("span",{className:"md:hidden",children:n.jsx(RC,{size:16})})]})})]}),Je&&n.jsxs("div",{className:"border rounded-lg p-6 bg-gray-50",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h4",{className:"font-medium text-lg",children:q?"Edit Image":"Add New Image"}),n.jsx("button",{type:"button",onClick:()=>{Yj(),G(!1)},className:"text-gray-400 hover:text-gray-600 p-1",title:"Close",children:n.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title (Optional)"}),n.jsx("input",{type:"text",placeholder:"Enter image title",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent",value:he.title,onChange:R=>ye(xe=>me(ne({},xe),{title:R.target.value}))})]}),n.jsx("input",{type:"hidden",value:he.description,onChange:R=>ye(xe=>me(ne({},xe),{description:R.target.value}))}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:q?"Replace Image (Optional)":"Images"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:sre,className:"hidden",id:"gallery-file-input"}),n.jsxs("label",{htmlFor:"gallery-file-input",className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),q?"Choose New Image":"Choose Images"]}),oe.length>0&&n.jsxs("div",{className:"mt-3 space-y-2",children:[n.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[oe.length," file(s) selected:"]}),oe.map((R,xe)=>n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-sm",children:R.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:[(R.size/1024/1024).toFixed(2)," MB • ",R.type]})]}),n.jsx("button",{type:"button",onClick:()=>ie(Pe=>Pe.filter((at,bt)=>bt!==xe)),className:"text-red-500 hover:text-red-700 p-1",title:"Remove file",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},xe))]}),q&&oe.length===0&&n.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:[n.jsxs("div",{className:"text-sm text-blue-800",children:["Current image: ",n.jsx("span",{className:"font-medium",children:q.imageFileName})]}),n.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Leave empty to keep current image, or select new file(s) to replace it."})]}),n.jsx("div",{className:"text-xs text-gray-500",children:q?"Select new image(s) to replace the current one, or leave empty to keep existing image":"Select multiple images to upload at once. Max 5MB per image."})]})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:he.isPublic,onChange:R=>ye(xe=>me(ne({},xe),{isPublic:R.target.checked}))}),n.jsx("span",{className:"text-sm",children:"Make this image public"})]})})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[n.jsx("button",{type:"button",onClick:()=>{Yj(),G(!1)},className:"px-6 py-2 rounded-lg border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:are,disabled:ae,className:`px-6 py-2 rounded-lg text-white transition-all ${ae?"bg-gray-500 cursor-not-allowed":"bg-brand-700 hover:bg-brand-800"}`,children:ae?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),q?"Updating...":"Uploading..."]}):q?"Update Image":"Add Image"})]})]}),Ve?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),n.jsx("p",{className:"text-gray-500 mt-2",children:"Loading gallery..."})]}):ht.length===0&&!Ve?n.jsxs("div",{className:`text-center ${Je?"hidden":""} py-12 border-2 border-dashed border-gray-300 rounded-lg`,children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No images yet"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start building your gallery by adding your first image."}),n.jsx("div",{className:"mt-6",children:n.jsxs("button",{onClick:()=>G(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-brand-600 hover:bg-brand-700",children:[n.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Your First Image"]})})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:ht.map(R=>n.jsxs("div",{className:`border rounded-lg overflow-hidden bg-white ${Je?"hidden":""}`,children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:R.imageUrl,alt:R.title||"Gallery image",className:"w-full h-48 object-cover"}),n.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[n.jsx("button",{onClick:xe=>{xe.stopPropagation(),ore(R)},className:"p-1 bg-white rounded-full shadow-sm hover:bg-gray-50",title:"Edit",children:n.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),n.jsx("button",{onClick:xe=>{xe.stopPropagation(),R&&ire(R)},className:"p-1 bg-white rounded-full shadow-sm hover:bg-gray-50",title:"Delete",children:n.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),n.jsxs("div",{className:"p-4",children:[R.title&&n.jsx("h4",{className:"font-medium text-sm mb-1",children:R.title}),R.description&&n.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:R.description}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[R.isPublic?"Public":"Private"," • Added ",new Date(R.createdAt).toLocaleDateString()]})]})]},R.id))})]}),m===Jt.PORTFOLIO&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-4",children:C?"Company CV/Resume":"CV/Resume"}),n.jsxs("div",{className:"space-y-4",children:[Y.cvBase64.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Uploaded CVs"}),Y.cvBase64.map((R,xe)=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-gray-50",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[$e===xe?n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("input",{type:"text",value:nt,onChange:Pe=>Ue(Pe.target.value),className:"flex-1 text-sm border rounded px-2 py-1",placeholder:"Enter CV title",autoFocus:!0})}):n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium truncate",children:R.title||R.original_filename}),R.title&&n.jsxs("span",{className:"text-xs text-gray-500 truncate",children:["(",R.original_filename,")"]})]}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[(R.base64.length*.75/1024).toFixed(1)," KB • Uploaded ",new Date(R.created_at).toLocaleDateString()]})]}),n.jsx("div",{className:"flex items-center gap-2",children:$e===xe?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>{te(Pe=>me(ne({},Pe),{cvBase64:Pe.cvBase64.map((at,bt)=>bt===xe?me(ne({},at),{title:nt.trim()||""}):at)})),rt(null),Ue("")},className:"text-green-600 hover:text-green-800 p-1",title:"Save",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("button",{onClick:()=>{rt(null),Ue("")},className:"text-gray-600 hover:text-gray-800 p-1",title:"Cancel",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>{rt(xe),Ue(R.title||"")},className:"text-blue-600 hover:text-blue-800 p-1",title:"Edit title",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),n.jsx("a",{href:R.base64,download:R.original_filename,className:"text-blue-600 hover:text-blue-800 p-1",title:"Download",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsx("button",{onClick:()=>{te(Pe=>me(ne({},Pe),{cvBase64:Pe.cvBase64.filter((at,bt)=>bt!==xe)}))},className:"text-red-600 hover:text-red-800 p-1",title:"Remove",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},xe))]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Add CV (PDF, DOC, DOCX)"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"CV Title (optional)",className:"w-full border rounded-lg px-3 py-2 text-sm",id:"cv-title"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"file",accept:".pdf,.doc,.docx",className:"hidden",id:"cv-upload",onChange:R=>{const xe=R.target.files[0],Pe=document.getElementById("cv-title").value.trim();if(xe){if(xe.size>10*1024*1024){ce.error("File size must be less than 10MB");return}const at=new FileReader;at.onload=bt=>{const jt=bt.target.result;te(Ct=>me(ne({},Ct),{cvBase64:[...Ct.cvBase64,{original_filename:xe.name,title:Pe||"",base64:jt,created_at:new Date().toISOString()}]})),document.getElementById("cv-title").value="",R.target.value=""},at.readAsDataURL(xe)}}}),n.jsx("label",{htmlFor:"cv-upload",className:"flex items-center justify-center w-full h-24 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-brand-500 hover:bg-brand-50 transition-colors",children:n.jsxs("div",{className:"text-center",children:[n.jsx("svg",{className:"mx-auto h-8 w-8 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:n.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),n.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Click to upload CV"}),n.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOC, DOCX up to 10MB"})]})})]})]})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"font-semibold",children:C?"Company Work Samples":"Work Samples"}),n.jsxs("button",{onClick:()=>z(!0),className:"px-4 py-2 rounded-lg bg-brand-700 text-white hover:bg-brand-800 focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 transition-colors",children:[n.jsx("span",{className:"max-md:hidden",children:"Add Work Sample"}),n.jsx("span",{className:"md:hidden",children:n.jsx(RC,{size:16})})]})]}),n.jsxs("div",{className:"space-y-4",children:[K.length===0&&!B&&n.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No work samples yet"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Showcase your work by adding projects, case studies, or portfolio pieces."}),n.jsx("div",{className:"mt-6",children:n.jsxs("button",{onClick:()=>z(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500",children:[n.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Your First ",n.jsx("label",{className:"max-sm:hidden",children:"Work Sample"})]})})]}),K.map((R,xe)=>n.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsx("h4",{className:"font-medium text-lg",children:R.title}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>ere(R),className:"text-blue-500 hover:text-blue-700 p-1",title:"Edit",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),n.jsx("button",{onClick:()=>ve(this,null,function*(){try{yield $pe(R.id),X(Pe=>Pe.filter((at,bt)=>bt!==xe)),ce.success("Work sample deleted successfully")}catch(Pe){ce.error("Failed to delete work sample")}}),className:"text-red-500 hover:text-red-700 p-1",title:"Delete",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),R.description&&n.jsx("p",{className:"text-gray-700 mb-3",children:R.description}),R.projectUrl&&n.jsxs("a",{href:R.projectUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 text-sm font-medium mb-2",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View Project"]}),R.technologies&&R.technologies.length>0&&n.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:R.technologies.map((Pe,at)=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:Pe},at))}),R.attachments&&R.attachments.length>0&&n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Attachments"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:R.attachments.map((Pe,at)=>n.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3 bg-gray-50",children:[n.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-100 overflow-hidden grid place-items-center",children:TT(Pe)?n.jsx("img",{src:Pe.base64url,alt:Pe.name,className:"h-full w-full object-cover"}):n.jsx("span",{className:"text-xs text-gray-500",children:"DOC"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"truncate text-sm font-medium",children:Pe.name}),n.jsx("div",{className:"text-[11px] text-gray-500 truncate",children:TT(Pe)?"Image":"Document"})]}),n.jsx("a",{href:Pe.base64url,download:Pe.name,className:"text-blue-600 hover:text-blue-800 p-1",title:"Download",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]},at))})]})]},R.id||xe)),B&&n.jsxs("div",{className:"border rounded-lg p-6 bg-gray-50",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h4",{className:"font-medium text-lg",children:P?"Edit Work Sample":"Add New Work Sample"}),n.jsx("button",{type:"button",onClick:()=>{qj(),z(!1)},className:"text-gray-400 hover:text-gray-600 p-1",title:"Close",children:n.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Project/Sample Title",n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsx("input",{type:"text",placeholder:"Enter project title",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent",value:O.title,onChange:R=>U(xe=>me(ne({},xe),{title:R.target.value}))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),n.jsx("textarea",{placeholder:"Describe your project",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent",rows:"3",value:O.description,onChange:R=>U(xe=>me(ne({},xe),{description:R.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Project URL"}),n.jsx("input",{type:"url",placeholder:"https://example.com",className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent",value:O.projectUrl,onChange:R=>U(xe=>me(ne({},xe),{projectUrl:R.target.value}))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Skills & Tags"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:Z,onChange:R=>se(R.target.value),onKeyDown:R=>{R.key==="Enter"&&(R.preventDefault(),MT())},placeholder:"Add skills (e.g., JavaScript, Marketing, Design)",className:"flex-1 border rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-transparent"}),n.jsxs("button",{type:"button",onClick:MT,className:"inline-flex items-center gap-1 rounded-lg px-3 py-2 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700","aria-label":"Add skill",children:[n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 5v14M5 12h14"})}),"Add"]})]}),O.skillsTags.length>0&&n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:O.skillsTags.map((R,xe)=>n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-50 text-brand-700 px-3 py-1 text-xs border border-brand-100",children:[R,n.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>Zte(xe),title:"Remove",children:"×"})]},`${R}-${xe}`))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Portfolio Samples (Optional)"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-600",children:[n.jsx("div",{className:"mb-2",children:n.jsx("svg",{className:"mx-auto h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 4v16m8-8H4"})})}),"Upload images or documents showcasing your work",n.jsxs("div",{className:"mt-3 flex gap-2 justify-center flex-wrap",children:[n.jsx("input",{type:"text",placeholder:"File title (optional)",className:"flex-1 max-w-xs border rounded-lg px-3 py-2 text-sm",value:fe,onChange:R=>le(R.target.value)}),n.jsx("input",{type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.txt",className:"hidden",id:"sample-files",onChange:R=>Qte(R.target.files)}),n.jsx("button",{type:"button",onClick:()=>document.getElementById("sample-files").click(),className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Choose Files"})]}),O.attachments.length>0&&n.jsx("div",{className:"mt-6 grid sm:grid-cols-2 gap-4 text-left",children:O.attachments.map((R,xe)=>n.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 overflow-hidden grid place-items-center",children:R.isImage?n.jsx("img",{src:R.base64url,alt:R.name,className:"h-full w-full object-cover"}):n.jsx("span",{className:"text-xs text-gray-500",children:"DOC"})}),n.jsx("div",{className:"flex-1 min-w-0",children:Ne===xe?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:R.name,onChange:Pe=>{const at=Pe.target.value;U(bt=>me(ne({},bt),{attachments:bt.attachments.map((jt,Ct)=>Ct===xe?me(ne({},jt),{name:at}):jt)}))},onKeyDown:Pe=>{Pe.key==="Enter"?Gj(xe,R.name):Pe.key==="Escape"&&IT()},onBlur:()=>Gj(xe,R.name),className:"flex-1 text-sm border rounded px-2 py-1 focus:ring-2 focus:ring-brand-500 focus:border-transparent",autoFocus:!0}),n.jsx("button",{type:"button",onClick:()=>Gj(xe,R.name),className:"text-green-600 hover:text-green-800 p-1",title:"Save",children:n.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("button",{type:"button",onClick:IT,className:"text-gray-600 hover:text-gray-800 p-1",title:"Cancel",children:n.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):n.jsxs("div",{children:[n.jsxs("div",{className:"truncate text-sm font-medium flex items-center gap-2",children:[R.name,n.jsx("button",{type:"button",onClick:()=>Xte(xe),className:"text-gray-400 hover:text-gray-600 p-1",title:"Edit title",children:n.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]}),n.jsx("div",{className:"text-[11px] text-gray-500 truncate",children:"Attached"})]})}),n.jsx("button",{type:"button",onClick:()=>Kte(xe),className:"p-1 rounded hover:bg-gray-100",title:"Remove",children:n.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M9 3h6l1 2h4v2H4V5h4l1-2Zm1 6h2v9h-2V9Zm4 0h2v9h-2V9ZM6 9h2v9H6V9Z"})})})]},`${R.name}-${xe}`))})]})]}),n.jsxs("div",{className:"md:col-span-2 flex justify-end gap-3",children:[n.jsx("button",{type:"button",onClick:()=>{qj(),z(!1)},className:"px-6 py-2 rounded-lg border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{className:"px-6 py-2 rounded-lg bg-brand-700 text-white hover:bg-brand-800 focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 transition-colors",onClick:tre,children:P?"Update Work Sample":"Add Work Sample"})]})]})]})]})]}),n.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t",children:n.jsx("button",{disabled:w,onClick:()=>ve(this,null,function*(){if(!Y.cvBase64||Y.cvBase64.length===0){ce.error("Please upload at least one CV before saving");return}yield Yte()}),className:"px-6 py-2 rounded-xl bg-brand-700 text-white hover:bg-brand-800 focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:w?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Saving..."]}):"Save Portfolio"})})]}),m===Jt.DO&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:C?"Company identity (what we DO)":"Identity (what you DO)"}),n.jsx("p",{className:"text-gray-600 mb-4",children:C?"Choose the identity that best represents what your company does.":"Choose the identity that best represents what you do."}),n.jsx(DT,{picked:xt,onToggle:gre,activeTab:gt,onTabSwitch:wt,limit:1})]}),gt&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:C?"Categories (what we DO)":"Categories (what you DO)"}),n.jsx(RT,{selectedIdentitiesKeys:[gt],catIds:Ee,subIds:de,xIds:_e,openCats:re,openSubs:We,onToggleCat:R=>{mre(R),ge(xe=>new Set(xe).add(R))},onToggleSub:R=>{pre(R),ot(xe=>new Set(xe).add(R))},onToggleSubsub:xre,setOpenCats:ge,setOpenSubs:ot})]}),!gt&&xt.length===0&&n.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Select an identity to continue"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Choose an identity above to see and select relevant categories."})]}),n.jsx("div",{className:"flex justify-end gap-3",children:n.jsx("button",{disabled:w,onClick:lre,className:"px-4 py-2 rounded-xl bg-brand-700 text-white disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:w?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Saving..."]}):"Save"})})]}),m===Jt.INTERESTS&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold mb-2",children:C?"Identities (what we're LOOKING FOR)":"Identities (what you're LOOKING FOR)"}),n.jsxs("span",{className:"text-sm text-gray-500",children:["Selected ",ct.length,"/",vt]})]}),n.jsx(DT,{picked:ct,onToggle:vre,activeTab:Ae,onTabSwitch:Ge,limit:vt}),Ae&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold mb-2",children:C?"Categories (what we're LOOKING FOR)":"Categories (what you're LOOKING FOR)"}),n.jsxs("span",{className:"text-sm text-gray-500",children:["Selected ",dt.length]})]}),n.jsx(RT,{selectedIdentitiesKeys:[Ae],catIds:dt,subIds:Ie,xIds:qe,openCats:Ce,openSubs:je,onToggleCat:R=>{yre(R),pe(xe=>new Set(xe).add(R))},onToggleSub:R=>{bre(R),we(xe=>new Set(xe).add(R))},onToggleSubsub:wre,setOpenCats:pe,setOpenSubs:we})]}),!Ae&&ct.length===0&&n.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Select identities to continue"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Choose identities above to see and select relevant categories for what you're looking for."})]}),n.jsx("div",{className:"flex justify-end gap-3",children:n.jsx("button",{disabled:w,onClick:cre,className:"px-4 py-2 rounded-xl bg-brand-700 text-white disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:w?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Saving..."]}):"Save"})})]}),m===Jt.INDUSTRIES&&n.jsx("div",{className:"space-y-6",children:Ye.length===0?n.jsx("div",{className:"rounded-xl border bg-white p-6 text-sm text-gray-600",children:"Loading industry categories..."}):n.jsxs(n.Fragment,{children:[n.jsx(Mre,{title:C?"Choose your company's industry focus":"Choose your industry focus",subtitle:C?"Select the industries that best represent your company's sector and expertise.":"Select the industries that best represent your professional sector and expertise.",industryCatIds:Ot,industrySubIds:D,industryXIds:H,openIndustryCats:Re,openIndustrySubs:et,onToggleIndustryCat:Cre,onToggleIndustrySub:kre,onToggleIndustrySubsub:Ere,setOpenIndustryCats:He,setOpenIndustrySubs:pt}),n.jsx("div",{className:"flex justify-end gap-3",children:n.jsx("button",{disabled:w,onClick:dre,className:"px-4 py-2 rounded-xl bg-brand-700 text-white disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:w?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Saving..."]}):"Save"})})]})}),m===Jt.REPRESENTATIVE&&C&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-4 text-lg sm:text-base",children:"Company Representative"}),n.jsx("p",{className:"text-gray-600 mb-4 text-sm sm:text-base",children:"Select an individual user to act as the authorized representative for your company. They will receive an email request to authorize this relationship."}),Rt.length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"font-medium mb-3 text-blue-700 text-sm sm:text-base",children:"Requests to be Representative"}),n.jsx("div",{className:"space-y-3",children:Rt.map(R=>{var xe,Pe,at,bt,jt;return n.jsx("div",{className:"border border-blue-200 rounded-lg p-3 sm:p-4 bg-blue-50",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-200 rounded-full flex items-center justify-center flex-shrink-0",children:(xe=R.company)!=null&&xe.avatarUrl?n.jsx("img",{src:R.company.avatarUrl,alt:R.company.name,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full object-cover"}):n.jsx("span",{className:"text-blue-700 font-medium text-sm",children:((at=(Pe=R.company)==null?void 0:Pe.name)==null?void 0:at.charAt(0).toUpperCase())||"?"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:((bt=R.company)==null?void 0:bt.name)||"Unknown Company"}),n.jsx("div",{className:"text-xs sm:text-sm text-gray-600 truncate",children:((jt=R.company)==null?void 0:jt.email)||"No email"}),n.jsx("div",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800 inline-block mt-1",children:"📧 Request to be Representative"}),R.createdAt&&n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Received ",new Date(R.createdAt).toLocaleDateString()]}),R.message&&n.jsxs("div",{className:"text-xs text-gray-600 mt-1 italic break-words",children:['"',R.message,'"']})]})]}),n.jsxs("div",{className:"flex gap-2 self-end sm:self-auto",children:[n.jsx("button",{onClick:()=>Ote(R.id),disabled:tr,className:"px-2 py-1 sm:px-3 bg-green-600 text-white rounded-lg text-xs sm:text-sm hover:bg-green-700 disabled:opacity-50 flex-1 sm:flex-none",title:"Accept representative request",children:tr?"...":"Accept"}),n.jsx("button",{onClick:()=>$te(R.id),disabled:tr,className:"px-2 py-1 sm:px-3 border border-red-300 text-red-600 rounded-lg text-xs sm:text-sm hover:bg-red-50 disabled:opacity-50 flex-1 sm:flex-none",title:"Reject representative request",children:tr?"...":"Reject"})]})]})},R.id)})})]}),St&&n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"font-medium mb-3 text-green-700 text-sm sm:text-base",children:"Current Representative"}),n.jsx("div",{className:"border border-green-200 rounded-lg p-3 sm:p-4 bg-green-50",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-200 rounded-full flex items-center justify-center flex-shrink-0",children:St.representative.avatarUrl?n.jsx("img",{src:St.representative.avatarUrl,alt:St.representative.name,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full object-cover"}):n.jsx("span",{className:"text-green-700 font-medium text-sm sm:text-base",children:St.representative.name.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:St.representative.name}),n.jsx("div",{className:"text-xs sm:text-sm text-gray-600 truncate",children:St.representative.email}),St.representative.professionalTitle&&n.jsx("div",{className:"text-xs text-gray-500 truncate",children:St.representative.professionalTitle}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 mt-1",children:[n.jsx("div",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800 w-fit",children:"✓ Authorized"}),St.authorizedAt&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Authorized ",new Date(St.authorizedAt).toLocaleDateString()]})]})]})]}),n.jsxs("div",{className:"flex gap-2 self-end sm:self-auto",children:[n.jsx("button",{onClick:()=>tt(!0),disabled:Kt,className:"px-2 py-1 sm:px-3 border border-gray-300 rounded-lg text-xs sm:text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex-1 sm:flex-none",children:Kt?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-1 h-3 w-3 sm:mr-2 sm:h-3 sm:w-3 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),n.jsx("span",{className:"hidden sm:inline",children:"Sending..."}),n.jsx("span",{className:"sm:hidden",children:"..."})]}):"Replace"}),n.jsx("button",{onClick:Tte,className:"px-2 py-1 sm:px-3 border border-red-300 text-red-600 rounded-lg text-xs sm:text-sm hover:bg-red-50 flex-1 sm:flex-none",children:"Remove"})]})]})})]}),Ht.length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"font-medium mb-3 text-yellow-700 text-sm sm:text-base",children:"Pending Requests"}),n.jsx("div",{className:"space-y-3",children:Ht.map(R=>{var Pe;const xe=R.representative||R.invitedUser;return n.jsx("div",{className:"border border-yellow-200 rounded-lg p-3 sm:p-4 bg-yellow-50",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-yellow-200 rounded-full flex items-center justify-center flex-shrink-0",children:xe!=null&&xe.avatarUrl?n.jsx("img",{src:xe.avatarUrl,alt:xe.name,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full object-cover"}):n.jsx("span",{className:"text-yellow-700 font-medium text-sm",children:((Pe=xe==null?void 0:xe.name)==null?void 0:Pe.charAt(0).toUpperCase())||"?"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:(xe==null?void 0:xe.name)||"Unknown User"}),n.jsx("div",{className:"text-xs sm:text-sm text-gray-600 truncate",children:(xe==null?void 0:xe.email)||"No email"}),n.jsx("div",{className:"text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800 inline-block mt-1",children:"⏳ Awaiting Authorization"}),R.createdAt&&n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Sent ",new Date(R.createdAt).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"flex gap-2 self-end sm:self-auto",children:[n.jsx("button",{onClick:()=>_te(R.id),disabled:tr,className:"px-2 py-1 sm:px-3 border border-blue-300 text-blue-600 rounded-lg text-xs sm:text-sm hover:bg-blue-50 disabled:opacity-50 flex-1 sm:flex-none",title:"Resend invitation",children:tr?"...":"Resend"}),n.jsx("button",{onClick:()=>Ate(R.id),disabled:tr,className:"px-2 py-1 sm:px-3 border border-red-300 text-red-600 rounded-lg text-xs sm:text-sm hover:bg-red-50 disabled:opacity-50 flex-1 sm:flex-none",title:"Cancel invitation",children:tr?"...":"Cancel"}),n.jsx("button",{onClick:()=>tt(!0),disabled:Kt,className:"px-2 py-1 sm:px-3 border border-gray-300 rounded-lg text-xs sm:text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex-1 sm:flex-none",children:Kt?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-1 h-3 w-3 sm:mr-2 sm:h-3 sm:w-3 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),n.jsx("span",{className:"hidden sm:inline",children:"Sending..."}),n.jsx("span",{className:"sm:hidden",children:"..."})]}):"Change"})]})]})},R.id)})})]}),!St&&Ht.length===0&&n.jsxs("div",{className:"text-center py-6 sm:py-8",children:[n.jsx("div",{className:"mb-3 sm:mb-4",children:n.jsx("svg",{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"No Representative Selected"}),n.jsx("p",{className:"text-gray-500 mb-4 text-sm sm:text-base px-2",children:"Select an individual user to act as your company's authorized representative."}),n.jsx("button",{onClick:()=>tt(!0),disabled:Kt,className:"px-4 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base w-full sm:w-auto",children:Kt?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Sending..."]}):"Select Representative"})]})]})}),m===Jt.STAFF&&C&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg sm:text-base",children:"Company Staff"}),n.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Manage team members who have access to company features"})]}),n.jsx("button",{onClick:()=>lt(!0),disabled:dr,className:"px-4 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base w-full sm:w-auto order-first sm:order-last",children:dr?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Sending..."]}):"Invite Staff Member"})]}),n.jsx("div",{className:"space-y-3",children:st.length===0?n.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[n.jsx("svg",{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No staff members yet"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500 px-4",children:"Invite team members to join your company."})]}):st.map(R=>n.jsx("div",{className:"border rounded-lg p-3 sm:p-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:R.staff.avatarUrl?n.jsx("img",{src:R.staff.avatarUrl,alt:R.staff.name,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full object-cover"}):n.jsx("span",{className:"text-gray-600 font-medium text-sm",children:R.staff.name.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:R.staff.name}),n.jsx("div",{className:"text-xs sm:text-sm text-gray-500 truncate",children:R.staff.email}),n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Role: ",qr===R.id?n.jsx("input",{type:"text",value:pa,onChange:xe=>xa(xe.target.value),className:"ml-1 px-2 py-1 border rounded text-xs w-full sm:w-auto",placeholder:"Enter role"}):n.jsx("span",{className:"text-gray-600",children:R.role})]}),n.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Status: ",R.status]})]})]}),n.jsx("div",{className:"flex gap-2 self-end sm:self-auto",children:qr===R.id?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>Lte(R.staffId,pa),className:"px-2 py-1 sm:px-3 bg-green-600 text-white rounded-lg text-xs sm:text-sm hover:bg-green-700 flex-1 sm:flex-none",children:"Save"}),n.jsx("button",{onClick:Ite,className:"px-2 py-1 sm:px-3 border border-gray-300 text-gray-600 rounded-lg text-xs sm:text-sm hover:bg-gray-50 flex-1 sm:flex-none",children:"Cancel"})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>Mte(R),className:"px-2 py-1 sm:px-3 border border-blue-300 text-blue-600 rounded-lg text-xs sm:text-sm hover:bg-blue-50 flex-1 sm:flex-none",children:"Edit"}),n.jsx("button",{onClick:()=>Ete(R.staffId),className:"px-2 py-1 sm:px-3 border border-red-300 text-red-600 rounded-lg text-xs sm:text-sm hover:bg-red-50 flex-1 sm:flex-none",children:"Remove"})]})})]})},R.id))})]}),m===Jt.JOB_APPLICATIONS&&C&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-4",children:"Job Applications"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"View and manage applications for your job postings, ranked by similarity to your requirements."}),va.length>0&&n.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Applications"}),n.jsx("input",{type:"text",value:yc,onChange:R=>Jx(R.target.value),placeholder:"Search by job title, company, applicant name, or cover letter content...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Filter by Job"}),n.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",Sf(va).length," of ",va.length," applications"]})]}),n.jsxs("select",{value:qx,onChange:R=>gT(R.target.value),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[n.jsxs("option",{value:"all",children:["All Jobs (",va.length,")"]}),jT(va).map(R=>n.jsxs("option",{value:R.id,children:[R.title," ",R.companyName?`at ${R.companyName}`:""," (",va.filter(xe=>{var Pe;return((Pe=xe.job)==null?void 0:Pe.id)===R.id}).length,")"]},R.id))]})]})]}),dte?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),n.jsx("p",{className:"text-gray-500 mt-2",children:"Loading applications..."})]}):Sf(va).length===0?n.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No applications yet"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"When candidates apply to your jobs, their applications will appear here ranked by match quality."})]}):n.jsx("div",{className:"space-y-4",children:Sf(va).map((R,xe)=>{var Pe,at,bt,jt,Ct,$t,Yt,nr,ar,Ar;return n.jsxs("div",{className:"border rounded-lg p-4 bg-white","data-application-id":R.id,children:[n.jsxs("div",{className:"flex md:items-center gap-2 justify-between mb-3 max-md:flex-col",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:(Pe=R.applicant)!=null&&Pe.avatarUrl?n.jsx("img",{src:R.applicant.avatarUrl,alt:R.applicant.name,className:"w-12 h-12 rounded-full object-cover"}):n.jsx("span",{className:"text-gray-600 font-medium",children:((bt=(at=R.applicant)==null?void 0:at.name)==null?void 0:bt.charAt(0).toUpperCase())||"?"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:((jt=R.applicant)==null?void 0:jt.name)||"Unknown Applicant"}),n.jsx("div",{className:"text-sm text-gray-600",children:((Ct=R.applicant)==null?void 0:Ct.email)||"No email"}),((Yt=($t=R.applicant)==null?void 0:$t.profile)==null?void 0:Yt.professionalTitle)&&n.jsx("div",{className:"text-xs text-gray-500",children:R.applicant.profile.professionalTitle}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Applied to: ",((nr=R.job)==null?void 0:nr.title)||"Unknown Job"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${R.similarityScore>=80?"bg-green-100 text-green-800":R.similarityScore>=60?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[R.similarityScore,"% match"]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["#",xe+1]})]})]}),R.coverLetter&&n.jsxs("div",{className:"mb-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Cover Letter"}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[n.jsx("div",{className:"text-sm text-gray-600",dangerouslySetInnerHTML:{__html:Gx.has(R.id)?R.coverLetter:bT(R.coverLetter,200)}}),R.coverLetter.replace(/<[^>]*>/g,"").length>200&&n.jsx("button",{onClick:()=>wT(R.id),className:"mt-2 text-xs text-brand-600 hover:text-brand-800 font-medium",children:Gx.has(R.id)?"Show Less":"Read More"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4 p-3 bg-gray-50 rounded-lg",children:[R.expectedSalary&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"text-xs font-medium text-gray-600",children:"Expected Salary"}),n.jsx("p",{className:"text-sm text-gray-800 font-medium",children:R.expectedSalary})]}),R.availability&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"text-xs font-medium text-gray-600",children:"Availability"}),n.jsx("p",{className:"text-sm text-gray-800",children:R.availability==="immediate"?"Immediate":R.availability==="1month"?"Within 1 month":R.availability==="specific"?`Specific date: ${R.availabilityDate?new Date(R.availabilityDate).toLocaleDateString():"Not specified"}`:R.availability})]}),R.employmentType&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"text-xs font-medium text-gray-600",children:"Employment Type"}),n.jsx("p",{className:"text-sm text-gray-800",children:R.employmentType.replace("-"," ").replace(/\b\w/g,Wt=>Wt.toUpperCase())})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"text-xs font-medium text-gray-600",children:"Application Status"}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("select",{value:R.status,onChange:Wt=>Nte(R.id,Wt.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"reviewed",children:"Reviewed"}),n.jsx("option",{value:"accepted",children:"Accepted"}),n.jsx("option",{value:"rejected",children:"Rejected"})]})})]})]}),R.similarity&&R.similarity.matches&&n.jsxs("div",{className:"mb-3 hidden",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Matching Categories"}),n.jsxs("div",{className:"flex flex-wrap gap-1",children:[R.similarity.matches.categories.map(Wt=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:Wt.name},Wt.id)),R.similarity.matches.subcategories.map(Wt=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:Wt.name},Wt.id)),R.similarity.matches.subsubcategories.map(Wt=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-brand-100 text-brand-800",children:Wt.name},Wt.id))]})]}),((ar=R.job)==null?void 0:ar.coverImageBase64)&&n.jsxs("div",{className:"mb-3 hidden",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Job Cover Image"}),n.jsx("div",{className:"w-full max-w-xs",children:n.jsx("img",{src:R.job.coverImageBase64,alt:"Job cover",className:"w-full h-32 object-cover rounded-lg border"})})]}),((Ar=R.cvBase64)==null?void 0:Ar.base64)&&n.jsx("div",{className:"mb-4 p-4 border border-gray-300 bg-gray-50 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-12 bg-red-600 text-white flex items-center justify-center rounded",children:"PDF"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:R.cvBase64.title||R.cvBase64.original_filename}),n.jsxs("p",{className:"text-sm text-gray-600",children:[Math.round(R.cvBase64.base64.length*3/4/1024)," KB • Uploaded ",new Date(R.cvBase64.created_at).toLocaleDateString()]})]})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsx("a",{href:R.cvBase64.base64,download:R.cvBase64.original_filename,className:"text-gray-500 hover:text-gray-700 p-1",title:"Download",children:n.jsx(La,{size:18})})})]})}),n.jsxs("div",{className:"sm:flex items-center justify-between",children:[n.jsxs("div",{className:"text-xs text-gray-500",children:["Applied ",new Date(R.createdAt).toLocaleDateString()]}),n.jsxs("div",{className:"flex gap-2 max-sm:mt-4",children:[n.jsx("button",{onClick:()=>c(`/profile/${R.applicant.id}`),className:"px-3 py-1 border border-blue-300 text-blue-600 rounded-lg text-sm hover:bg-blue-50",children:"View Profile"}),n.jsx("button",{onClick:()=>window.open(`/messages?userId=${R.applicant.id}`,"_blank"),className:"px-3 py-1 bg-brand-600 text-white rounded-lg text-sm hover:bg-brand-700",children:"Message"})]})]})]},R.id)})})]})}),m===Jt.EVENT_REGISTRATIONS&&C&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-4",children:"Event Registrations"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"View and manage registrations for your events, ranked by similarity to your target audience."}),Ss.length>0&&n.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Registrations"}),n.jsx("input",{type:"text",value:yc,onChange:R=>Jx(R.target.value),placeholder:"Search by event title, organizer, attendee name, or reason for attending...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Filter by Event"}),n.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",Cf(Ss).length," of ",Ss.length," registrations"]})]}),n.jsxs("select",{value:Yx,onChange:R=>mT(R.target.value),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[n.jsxs("option",{value:"all",children:["All Events (",Ss.length,")"]}),NT(Ss).map(R=>n.jsxs("option",{value:R.id,children:[R.title," ",R.organizerName?`by ${R.organizerName}`:""," (",Ss.filter(xe=>{var Pe;return((Pe=xe.event)==null?void 0:Pe.id)===R.id}).length,")"]},R.id))]})]})]}),ute?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),n.jsx("p",{className:"text-gray-500 mt-2",children:"Loading registrations..."})]}):Cf(Ss).length===0?n.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No registrations yet"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"When attendees register for your events, they will appear here ranked by audience match."})]}):n.jsx("div",{className:"space-y-4",children:Cf(Ss).map((R,xe)=>{var Pe,at,bt,jt,Ct,$t,Yt,nr;return n.jsxs("div",{className:"border rounded-lg p-4 bg-white","data-registration-id":R.id,children:[n.jsxs("div",{className:"flex md:items-center gap-2 justify-between mb-3 max-md:flex-col",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:(Pe=R.registrant)!=null&&Pe.avatarUrl?n.jsx("img",{src:R.registrant.avatarUrl,alt:R.registrant.name,className:"w-12 h-12 rounded-full object-cover"}):n.jsx("span",{className:"text-gray-600 font-medium",children:((bt=(at=R.registrant)==null?void 0:at.name)==null?void 0:bt.charAt(0).toUpperCase())||"?"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:((jt=R.registrant)==null?void 0:jt.name)||"Unknown Attendee"}),n.jsx("div",{className:"text-sm text-gray-600",children:((Ct=R.registrant)==null?void 0:Ct.email)||"No email"}),((Yt=($t=R.registrant)==null?void 0:$t.profile)==null?void 0:Yt.professionalTitle)&&n.jsx("div",{className:"text-xs text-gray-500",children:R.registrant.profile.professionalTitle}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Event: ",((nr=R.event)==null?void 0:nr.title)||"Unknown Event"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${R.similarityScore>=80?"bg-green-100 text-green-800":R.similarityScore>=60?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[R.similarityScore,"% match"]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["#",xe+1]})]})]}),R.numberOfPeople&&R.numberOfPeople>1&&n.jsxs("div",{className:"mb-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Number of People"}),n.jsxs("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:[R.numberOfPeople," ",R.numberOfPeople===1?"person":"people"]})]}),R.reasonForAttending&&n.jsxs("div",{className:"mb-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Reason for Attending"}),n.jsx("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",dangerouslySetInnerHTML:{__html:R.reasonForAttending||""}})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Registration Status"}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("select",{value:R.status,onChange:ar=>Ste(R.id,ar.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]}),n.jsxs("div",{className:"sm:flex items-center justify-between",children:[n.jsxs("div",{className:"text-xs text-gray-500",children:["Registered ",new Date(R.createdAt).toLocaleDateString()]}),n.jsxs("div",{className:"flex gap-2 max-sm:mt-4",children:[n.jsx("button",{onClick:()=>c(`/profile/${R.registrant.id}`),className:"px-3 py-1 border border-blue-300 text-blue-600 rounded-lg text-sm hover:bg-blue-50",children:"View Profile"}),n.jsx("button",{onClick:()=>window.open(`/messages?userId=${R.registrant.id}`,"_blank"),className:"px-3 py-1 bg-brand-600 text-white rounded-lg text-sm hover:bg-brand-700",children:"Message"})]})]})]},R.id)})})]})}),m===Jt.JOIN_REQUESTS&&C&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-4",children:"Organization Join Requests"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Review and manage requests from individuals who want to join your organization."}),Ft?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),n.jsx("p",{className:"text-gray-500 mt-2",children:"Loading join requests..."})]}):Be.length===0?n.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No join requests yet"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"When individuals request to join your organization, they will appear here for review."})]}):n.jsx("div",{className:"space-y-4",children:Be.map(R=>{var xe,Pe,at,bt,jt;return n.jsx("div",{className:"border rounded-lg p-4 bg-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:(xe=R.user)!=null&&xe.avatarUrl?n.jsx("img",{src:R.user.avatarUrl,alt:R.user.name,className:"w-12 h-12 rounded-full object-cover"}):n.jsx("span",{className:"text-gray-600 font-medium",children:((at=(Pe=R.user)==null?void 0:Pe.name)==null?void 0:at.charAt(0).toUpperCase())||"?"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:((bt=R.user)==null?void 0:bt.name)||"Unknown User"}),n.jsx("div",{className:"text-sm text-gray-600",children:((jt=R.user)==null?void 0:jt.email)||"No email"}),R.message&&n.jsxs("div",{className:"text-xs text-gray-600 mt-1 italic",children:['"',R.message,'"']}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${R.status==="pending"?"bg-yellow-100 text-yellow-800":R.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R.status==="pending"?"⏳ Pending Review":R.status==="approved"?"✓ Approved":"✗ Rejected"}),R.createdAt&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Requested ",new Date(R.createdAt).toLocaleDateString()]})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[R.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>Bte(R.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 transition-colors",children:"Approve"}),n.jsx("button",{onClick:()=>zte(R.id),className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg text-sm hover:bg-red-50 transition-colors",children:"Reject"})]}),R.status==="approved"&&n.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Member Added"}),R.status==="rejected"&&n.jsx("div",{className:"text-sm text-red-600 font-medium",children:"Request Rejected"})]})]})},R.id)})})]})}),m===Jt.APPLICATIONS&&!C&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-4",children:"My Job Applications"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"View your job applications, ranked by similarity to the job requirements."}),xc.length>0&&n.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Applications"}),n.jsx("input",{type:"text",value:yc,onChange:R=>Jx(R.target.value),placeholder:"Search by job title, company, applicant name, or cover letter content...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Filter by Job"}),n.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",Sf(xc).length," of ",xc.length," applications"]})]}),n.jsxs("select",{value:qx,onChange:R=>gT(R.target.value),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[n.jsxs("option",{value:"all",children:["All Jobs (",xc.length,")"]}),jT(xc).map(R=>n.jsxs("option",{value:R.id,children:[R.title," ",R.companyName?`at ${R.companyName}`:""," (",xc.filter(xe=>{var Pe;return((Pe=xe.job)==null?void 0:Pe.id)===R.id}).length,")"]},R.id))]})]})]}),pte?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),n.jsx("p",{className:"text-gray-500 mt-2",children:"Loading applications..."})]}):Sf(xc).length===0?n.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No applications yet"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"When you apply to jobs, your applications will appear here ranked by match quality."})]}):n.jsx("div",{className:"space-y-4",children:Sf(xc).map((R,xe)=>{var Pe,at,bt,jt,Ct,$t,Yt,nr,ar,Ar;return n.jsxs("div",{className:"border rounded-lg p-4 bg-white","data-application-id":R.id,children:[n.jsxs("div",{className:"flex md:items-center gap-2 justify-between mb-3 max-md:flex-col",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:(at=(Pe=R.job)==null?void 0:Pe.postedBy)!=null&&at.avatarUrl?n.jsx("img",{src:R.job.postedBy.avatarUrl,alt:R.job.postedBy.name,className:"w-12 h-12 rounded-full object-cover"}):n.jsx("span",{className:"text-gray-600 font-medium",children:((Ct=(jt=(bt=R.job)==null?void 0:bt.postedBy)==null?void 0:jt.name)==null?void 0:Ct.charAt(0).toUpperCase())||"?"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:((Yt=($t=R.job)==null?void 0:$t.postedBy)==null?void 0:Yt.name)||"Unknown Company"}),n.jsx("div",{className:"text-sm text-gray-600",children:((nr=R.job)==null?void 0:nr.title)||"Unknown Job"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${R.similarity.percentage>=80?"bg-green-100 text-green-800":R.similarity.percentage>=60?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[R.similarity.percentage,"% match"]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["#",xe+1]})]})]}),R.coverLetter&&n.jsxs("div",{className:"mb-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Cover Letter"}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[n.jsx("div",{className:"text-sm text-gray-600",dangerouslySetInnerHTML:{__html:Gx.has(R.id)?R.coverLetter:bT(R.coverLetter,200)}}),R.coverLetter.replace(/<[^>]*>/g,"").length>200&&n.jsx("button",{onClick:()=>wT(R.id),className:"mt-2 text-xs text-brand-600 hover:text-brand-800 font-medium",children:Gx.has(R.id)?"Show Less":"Read More"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4 p-3 bg-gray-50 rounded-lg",children:[R.expectedSalary&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"text-xs font-medium text-gray-600",children:"Expected Salary"}),n.jsx("p",{className:"text-sm text-gray-800 font-medium",children:R.expectedSalary})]}),R.availability&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"text-xs font-medium text-gray-600",children:"Availability"}),n.jsx("p",{className:"text-sm text-gray-800",children:R.availability==="immediate"?"Immediate":R.availability==="1month"?"Within 1 month":R.availability==="specific"?`Specific date: ${R.availabilityDate?new Date(R.availabilityDate).toLocaleDateString():"Not specified"}`:R.availability})]}),R.employmentType&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"text-xs font-medium text-gray-600",children:"Employment Type"}),n.jsx("p",{className:"text-sm text-gray-800",children:R.employmentType.replace("-"," ").replace(/\b\w/g,Wt=>Wt.toUpperCase())})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"text-xs font-medium text-gray-600",children:"Application Status"}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${R.status==="pending"?"bg-yellow-100 text-yellow-800":R.status==="reviewed"?"bg-blue-100 text-blue-800":R.status==="accepted"?"bg-green-100 text-green-800":R.status==="rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:R.status?R.status.charAt(0).toUpperCase()+R.status.slice(1):"Unknown"})})]})]}),R.similarity&&R.similarity.matches&&n.jsxs("div",{className:"mb-3 hidden",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Matching Categories"}),n.jsxs("div",{className:"flex flex-wrap gap-1",children:[R.similarity.matches.categories.map(Wt=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:Wt.name},Wt.id)),R.similarity.matches.subcategories.map(Wt=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:Wt.name},Wt.id)),R.similarity.matches.subsubcategories.map(Wt=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-brand-100 text-brand-800",children:Wt.name},Wt.id))]})]}),((ar=R.job)==null?void 0:ar.coverImageBase64)&&n.jsxs("div",{className:"mb-3 hidden",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Job Cover Image"}),n.jsx("div",{className:"w-full max-w-xs",children:n.jsx("img",{src:R.job.coverImageBase64,alt:"Job cover",className:"w-full h-32 object-cover rounded-lg border"})})]}),((Ar=R.cvBase64)==null?void 0:Ar.base64)&&n.jsx("div",{className:"mb-4 p-4 border border-gray-300 bg-gray-50 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-12 bg-red-600 text-white flex items-center justify-center rounded",children:"PDF"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:R.cvBase64.title||R.cvBase64.original_filename}),n.jsxs("p",{className:"text-sm text-gray-600",children:[Math.round(R.cvBase64.base64.length*3/4/1024)," KB • Uploaded ",new Date(R.cvBase64.created_at).toLocaleDateString()]})]})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsx("a",{href:R.cvBase64.base64,download:R.cvBase64.original_filename,className:"text-gray-500 hover:text-gray-700 p-1",title:"Download",children:n.jsx(La,{size:18})})})]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-xs text-gray-500",children:["Applied ",new Date(R.createdAt).toLocaleDateString()]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{Hj(R.job.postedBy.id),Wj(!0)},className:"px-3 py-1 border border-blue-300 text-blue-600 rounded-lg text-sm hover:bg-blue-50",children:"View Company"}),n.jsx("button",{onClick:()=>window.open(`/messages?userId=${R.job.postedBy.id}`,"_blank"),className:"px-3 py-1 bg-brand-600 text-white rounded-lg text-sm hover:bg-brand-700",children:"Message"})]})]})]},R.id)})})]})}),m===Jt.EVENTS&&!C&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-4",children:"My Event Registrations"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"View your event registrations, ranked by similarity to the event audience."}),vc.length>0&&n.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Events"}),n.jsx("input",{type:"text",value:yc,onChange:R=>Jx(R.target.value),placeholder:"Search by event title, organizer, attendee name, or reason for attending...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Filter by Event"}),n.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",Cf(vc).length," of ",vc.length," registrations"]})]}),n.jsxs("select",{value:Yx,onChange:R=>mT(R.target.value),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[n.jsxs("option",{value:"all",children:["All Events (",vc.length,")"]}),NT(vc).map(R=>n.jsxs("option",{value:R.id,children:[R.title," ",R.organizerName?`by ${R.organizerName}`:""," (",vc.filter(xe=>{var Pe;return((Pe=xe.event)==null?void 0:Pe.id)===R.id}).length,")"]},R.id))]})]})]}),xte?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),n.jsx("p",{className:"text-gray-500 mt-2",children:"Loading registrations..."})]}):Cf(vc).length===0?n.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No registrations yet"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"When you register for events, they will appear here ranked by audience match."})]}):n.jsx("div",{className:"space-y-4",children:Cf(vc).map((R,xe)=>{var Pe,at,bt,jt,Ct,$t,Yt,nr;return n.jsxs("div",{className:"border rounded-lg p-4 bg-white","data-registration-id":R.id,children:[n.jsxs("div",{className:"flex md:items-center gap-2 justify-between mb-3 max-md:flex-col",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:(at=(Pe=R.event)==null?void 0:Pe.organizer)!=null&&at.avatarUrl?n.jsx("img",{src:R.event.organizer.avatarUrl,alt:R.event.organizer.name,className:"w-12 h-12 rounded-full object-cover"}):n.jsx("span",{className:"text-gray-600 font-medium",children:((Ct=(jt=(bt=R.event)==null?void 0:bt.organizer)==null?void 0:jt.name)==null?void 0:Ct.charAt(0).toUpperCase())||"?"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:((Yt=($t=R.event)==null?void 0:$t.organizer)==null?void 0:Yt.name)||"Unknown Organizer"}),n.jsx("div",{className:"text-sm text-gray-600",children:((nr=R.event)==null?void 0:nr.title)||"Unknown Event"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${R.similarity.percentage>=80?"bg-green-100 text-green-800":R.similarity.percentage>=60?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[R.similarity.percentage,"% match"]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["#",xe+1]})]})]}),R.numberOfPeople&&R.numberOfPeople>1&&n.jsxs("div",{className:"mb-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Number of People"}),n.jsxs("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:[R.numberOfPeople," ",R.numberOfPeople===1?"person":"people"]})]}),R.reasonForAttending&&n.jsxs("div",{className:"mb-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Reason for Attending"}),n.jsx("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",dangerouslySetInnerHTML:{__html:R.reasonForAttending||""}})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Registration Status"}),n.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${R.status==="pending"?"bg-yellow-100 text-yellow-800":R.status==="confirmed"?"bg-green-100 text-green-800":R.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:R.status?R.status.charAt(0).toUpperCase()+R.status.slice(1):"Unknown"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-xs text-gray-500",children:["Registered ",new Date(R.createdAt).toLocaleDateString()]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{Hj(R.event.organizer.id),Wj(!0)},className:"px-3 py-1 border border-blue-300 text-blue-600 rounded-lg text-sm hover:bg-blue-50",children:"View Organizer"}),n.jsx("button",{onClick:()=>window.open(`/messages?userId=${R.event.organizer.id}`,"_blank"),className:"px-3 py-1 bg-brand-600 text-white rounded-lg text-sm hover:bg-brand-700",children:"Message"})]})]})]},R.id)})})]})}),m===Jt.ORGANIZATIONS&&!C&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"font-semibold",children:"Organization Membership"}),n.jsx("button",{onClick:()=>Ns(!0),className:"px-4 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 text-sm",children:cs&&cs.length>0?"+ Join Another":"+ Join"})]}),Zn?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),n.jsx("p",{className:"text-gray-500 mt-2",children:"Loading membership status..."})]}):cs&&cs.length>0?n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-3 text-green-700",children:"Current Organizations"}),n.jsx("div",{className:"space-y-3",children:cs.map(R=>n.jsx("div",{className:"border border-green-200 rounded-lg p-4 bg-green-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"w-12 h-12 bg-green-200 rounded-lg flex items-center justify-center relative",children:[R.company.avatarUrl?n.jsx("img",{src:R.company.avatarUrl,alt:R.company.name,className:"w-12 h-12 rounded-lg object-cover"}):n.jsx("span",{className:"text-green-700 font-medium",children:R.company.name.charAt(0).toUpperCase()}),R.isMain&&n.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-yellow-500 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"font-medium",children:R.company.name}),R.isMain&&n.jsx("span",{className:"text-xs px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full",children:"⭐ Main Company"})]}),R.company.webpage&&n.jsx("div",{className:"text-sm text-gray-600",children:n.jsx("a",{href:R.company.webpage,target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 hover:text-brand-800",children:R.company.webpage})}),R.role&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Role: ",R.role]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${R.status==="confirmed"?"bg-green-100 text-green-800":R.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:R.status==="confirmed"?"✓ Confirmed Member":R.status==="pending"?"⏳ Pending Confirmation":R.status}),R.joinedAt&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Joined ",new Date(R.joinedAt).toLocaleDateString()]})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[R.isMain?n.jsx("button",{onClick:()=>Fte(R.id),className:"px-3 py-1 border border-gray-300 text-gray-600 rounded-lg text-sm hover:bg-gray-50",title:"Unset as main company",children:"Unset Main"}):n.jsx("button",{onClick:()=>Rte(R.id),className:"px-3 py-1 border border-yellow-300 text-yellow-600 rounded-lg text-sm hover:bg-yellow-50",title:"Set as main company",children:"Set as Main"}),n.jsx("button",{onClick:()=>Dte(R.id),className:"px-3 py-1 border border-red-300 text-red-600 rounded-lg text-sm hover:bg-red-50",children:"Leave Organization"})]})]})},R.id))})]}):n.jsx("div",{className:"text-center py-8 text-gray-500",children:n.jsx("p",{children:"Join an organization to showcase your professional affiliation."})})]})})]})]}),mt&&n.jsx(QG,{isOpen:mt,onClose:()=>tt(!1),onSelect:Cte,title:"Select Company Representative",description:"Choose an individual user to act as the authorized representative for your company. They will receive an email request to authorize this relationship.",accountType:"individual"}),ke&&n.jsx(r4e,{isOpen:ke,onClose:()=>lt(!1),onSuccess:kte,companyId:v.user.id,companyName:v.user.name}),Yr&&n.jsx(n4e,{isOpen:Yr,onClose:()=>Ns(!1),onSuccess:Pte,title:"Join Organization",description:"Select an organization you'd like to join and send a request for approval."}),n.jsx(Mb,{isOpen:d,onClose:()=>f(!1),mediaUrl:k==null?void 0:k.avatarUrl,mediaType:"image",alt:`${k==null?void 0:k.name}'s profile picture`}),n.jsx(Mb,{isOpen:h,onClose:()=>g(!1),mediaUrl:k==null?void 0:k.coverImage,mediaType:"image",alt:`${k==null?void 0:k.name}'s cover image`}),n.jsx(_d,{userId:bte,isOpen:yte,onClose:()=>{Wj(!1),Hj(null)}})]})}const s4e=()=>Le.get("/user/settings"),a4e=t=>Le.put("/user/settings",t);function i4e(){const t=Xt(),[r,s]=u.useState(!0),[a,i]=u.useState(!1),[o,l]=u.useState("notifications"),[c,d]=u.useState(!1),[f,h]=u.useState(!1),[g,m]=u.useState(!1),[p,x]=u.useState({notifications:{jobOpportunities:{email:!0},connectionInvitations:{email:!0},connectionRecommendations:{email:!0},connectionUpdates:{email:!0},messages:{email:!0},meetingRequests:{email:!0}},emailFrequency:"daily",hideMainFeed:!1,connectionsOnly:!1,contentType:"all",notifyOnNewPost:!0,notifyOnComments:!0,bidirectionalMatch:!0,bidirectionalMatchFormula:"reciprocal"});u.useEffect(()=>{function k(){return ve(this,null,function*(){try{s(!0);const{data:M}=yield s4e();if(M){const _=typeof M.notifications=="string"?JSON.parse(M.notifications):M.notifications,J=me(ne({notifications:{jobOpportunities:{email:!0},connectionInvitations:{email:!0},connectionRecommendations:{email:!0},connectionUpdates:{email:!0},messages:{email:!0},meetingRequests:{email:!0}},emailFrequency:"daily",hideMainFeed:!1,connectionsOnly:!1,contentType:"all",notifyOnNewPost:!0,notifyOnComments:!0,bidirectionalMatch:!0,bidirectionalMatchFormula:"reciprocal"},M),{notifications:_||J.notifications});x(J)}}catch(M){console.error("Error fetching settings:",M)}finally{s(!1)}})}k()},[]);const y=()=>ve(this,null,function*(){try{i(!0);const k=me(ne({},p),{notifications:typeof p.notifications=="string"?p.notifications:JSON.stringify(p.notifications)});yield a4e(k),ce.success("Settings saved successfully"),t.setSettings(k),console.log({settingsToSave:k})}catch(k){console.error("Error saving settings:",k),ce.error("Failed to save settings")}finally{i(!1)}});console.log({set:t.settings});const w=(k,M)=>{x(_=>me(ne({},_),{notifications:me(ne({},_.notifications),{[k]:me(ne({},_.notifications[k]),{[M]:!_.notifications[k][M]})})}))},b=k=>{x(M=>me(ne({},M),{emailFrequency:k}))},v=()=>{x(k=>me(ne({},k),{hideMainFeed:!k.hideMainFeed}))},j=()=>{x(k=>me(ne({},k),{connectionsOnly:!k.connectionsOnly}))},N=k=>{x(M=>me(ne({},M),{contentType:k}))},S=()=>{x(k=>me(ne({},k),{notifyOnNewPost:!k.notifyOnNewPost}))},I=()=>{x(k=>me(ne({},k),{notifyOnComments:!k.notifyOnComments}))},E=()=>{x(k=>me(ne({},k),{bidirectionalMatch:!k.bidirectionalMatch}))},L=k=>{x(M=>me(ne({},M),{bidirectionalMatchFormula:k}))},C=()=>ve(this,null,function*(){try{d(!0),yield vpe({email:t.user.email}),h(!1),m(!0)}catch(k){console.error("Error requesting account deletion:",k),ce.error("Failed to send deletion email. Please try again.")}finally{d(!1)}});if(r)return n.jsxs("div",{children:[n.jsx(an,{}),n.jsx("div",{className:"max-w-5xl mx-auto p-4 md:p-8",children:n.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-5",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-6"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"h-12 bg-gray-200 rounded"}),n.jsx("div",{className:"h-12 bg-gray-200 rounded"}),n.jsx("div",{className:"h-12 bg-gray-200 rounded"})]})]})})})]});const T=[{id:"notifications",label:"Notifications",icon:"🔔"},{id:"privacy",label:"Privacy & Display",icon:"🔒"},{id:"account",label:"Account",icon:"👤"}];return console.log({activeTab:o}),n.jsxs("div",{children:[n.jsx(an,{}),n.jsxs("div",{className:"max-w-5xl mx-auto p-4 md:p-8",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-5 mb-6",children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Settings"}),n.jsx("p",{className:"text-gray-500",children:"Manage your account settings and preferences"})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-5 mb-6",children:[n.jsx("div",{className:"flex flex-wrap sm:flex-nowrap sm:overflow-x-auto gap-2 mb-6",children:T.map(k=>n.jsxs("button",{onClick:()=>l(k.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors whitespace-nowrap ${o===k.id?"bg-brand-100 text-brand-700 border border-brand-200":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[n.jsx("span",{children:k.icon}),k.label]},k.id))}),n.jsxs("div",{children:[o==="notifications"&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Notification Preferences"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Choose how and when you want to be notified"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"border-b pb-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-2",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Job opportunity recommendations"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Get notified about job opportunities that match your profile"})]})}),n.jsx("div",{className:"mt-3",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:p.notifications.jobOpportunities.email,onChange:()=>w("jobOpportunities","email")}),n.jsx("span",{className:"ml-2 text-sm",children:"Email notifications"})]})})]}),n.jsxs("div",{className:"border-b pb-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-2",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Invitation to connect"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when someone invites you to connect"})]})}),n.jsx("div",{className:"mt-3",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:p.notifications.connectionInvitations.email,onChange:()=>w("connectionInvitations","email")}),n.jsx("span",{className:"ml-2 text-sm",children:"Email notifications"})]})})]}),n.jsxs("div",{className:"border-b pb-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-2",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"New connection recommendations"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Get notified about people you might want to connect with"})]})}),n.jsx("div",{className:"mt-3",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:p.notifications.connectionRecommendations.email,onChange:()=>w("connectionRecommendations","email")}),n.jsx("span",{className:"ml-2 text-sm",children:"Email notifications"})]})})]}),n.jsxs("div",{className:"border-b pb-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-2",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Updates from people and companies you're connected with"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Get notified about updates from your connections"})]})}),n.jsx("div",{className:"mt-3",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:p.notifications.connectionUpdates.email,onChange:()=>w("connectionUpdates","email")}),n.jsx("span",{className:"ml-2 text-sm",children:"Email notifications"})]})})]}),n.jsxs("div",{className:"border-b pb-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-2",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"New message notifications"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when you receive new messages"})]})}),n.jsx("div",{className:"mt-3",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:p.notifications.messages.email,onChange:()=>w("messages","email")}),n.jsx("span",{className:"ml-2 text-sm",children:"Email notifications"})]})})]}),n.jsxs("div",{className:"border-b pb-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-2",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Meeting request notifications"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Get notified about meeting requests and updates"})]})}),n.jsx("div",{className:"mt-3",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:p.notifications.meetingRequests.email,onChange:()=>w("meetingRequests","email")}),n.jsx("span",{className:"ml-2 text-sm",children:"Email notifications"})]})})]}),n.jsxs("div",{className:"border-b pb-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-2",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"New posts"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when someone posts new content"})]})}),n.jsx("div",{className:"mt-3",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:!!p.notifyOnNewPost,onChange:S}),n.jsx("span",{className:"ml-2 text-sm",children:"Email notifications"})]})})]}),n.jsxs("div",{className:"border-b pb-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-2",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Comments on my posts"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when someone comments on your posts"})]})}),n.jsx("div",{className:"mt-3",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:!!p.notifyOnComments,onChange:I}),n.jsx("span",{className:"ml-2 text-sm",children:"Email notifications"})]})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"mb-2",children:[n.jsx("h3",{className:"font-medium",children:"Choose email frequency"}),n.jsx("p",{className:"text-sm text-gray-500",children:"How often would you like to receive email notifications?"})]}),n.jsxs("div",{className:"mt-3 space-y-2",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"emailFrequency",className:"h-5 w-5 text-brand-600 focus:ring-brand-500",checked:p.emailFrequency==="daily",onChange:()=>b("daily")}),n.jsx("span",{className:"ml-2 text-sm",children:"Daily"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"emailFrequency",className:"h-5 w-5 text-brand-600 focus:ring-brand-500",checked:p.emailFrequency==="weekly",onChange:()=>b("weekly")}),n.jsx("span",{className:"ml-2 text-sm",children:"Weekly"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"emailFrequency",className:"h-5 w-5 text-brand-600 focus:ring-brand-500",checked:p.emailFrequency==="monthly",onChange:()=>b("monthly")}),n.jsx("span",{className:"ml-2 text-sm",children:"Monthly"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"emailFrequency",className:"h-5 w-5 text-brand-600 focus:ring-brand-500",checked:p.emailFrequency==="auto",onChange:()=>b("auto")}),n.jsx("span",{className:"ml-2 text-sm",children:"Let the platform decide"})]})]})]})]})]}),o==="privacy"&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Privacy & Display"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Control your privacy settings and display preferences"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"border-b pb-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-2",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Hide main feed content"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Hide posts and content from the main feed while keeping access to other features"})]})}),n.jsx("div",{className:"mt-3",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:p.hideMainFeed,onChange:v}),n.jsx("span",{className:"ml-2 text-sm",children:"Hide main feed"})]})})]}),n.jsxs("div",{className:"border-b pb-4",children:[n.jsx("div",{className:"flex justify-between items-center mb-2",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Show only posts from my connections"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Only display posts from people and companies you're connected with"})]})}),n.jsx("div",{className:"mt-3",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:p.connectionsOnly,onChange:j}),n.jsx("span",{className:"ml-2 text-sm",children:"Connections only"})]})})]}),n.jsxs("div",{className:"border-b pb-4",children:[n.jsxs("div",{className:"mb-2",children:[n.jsx("h3",{className:"font-medium",children:"Content type preference"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Choose what type of content you want to see in your feed"})]}),n.jsxs("div",{className:"mt-3 space-y-2",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"contentType",className:"h-5 w-5 text-brand-600 focus:ring-brand-500",checked:p.contentType==="all",onChange:()=>N("all")}),n.jsx("span",{className:"ml-2 text-sm",children:"All content (text and images)"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"contentType",className:"h-5 w-5 text-brand-600 focus:ring-brand-500",checked:p.contentType==="text",onChange:()=>N("text")}),n.jsx("span",{className:"ml-2 text-sm",children:"Text only"})]})]})]}),n.jsxs("div",{className:"border-b pb-4",children:[n.jsxs("div",{className:"mb-2",children:[n.jsx("h3",{className:"font-medium",children:"Connection matching preferences"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Control how the platform matches you with potential connections"})]}),n.jsxs("div",{className:"mt-3 mb-4",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded text-brand-600 focus:ring-brand-500",checked:p.bidirectionalMatch,onChange:E}),n.jsx("span",{className:"ml-2 text-sm",children:"Enable bidirectional matching"})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1 ml-7",children:"When enabled, the system considers both your interests and what others are looking for, creating more balanced matches"})]}),p.bidirectionalMatch&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"mb-2",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Matching formula"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Choose how to combine your match score with others' perspectives"})]}),n.jsxs("div",{className:"mt-3 space-y-2",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"bidirectionalFormula",className:"h-5 w-5 text-brand-600 focus:ring-brand-500",checked:p.bidirectionalMatchFormula==="simple",onChange:()=>L("simple")}),n.jsxs("div",{className:"ml-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Simple Average"}),n.jsxs("p",{className:"text-xs text-gray-400",children:["Calculates the average of both match directions. Example: If you match them 80% but they match you 60%, the final score is 70%. ",n.jsx("span",{className:"text-gray-600",children:"(80% + 60%) / 2 = 70%"}),"."]})]})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"bidirectionalFormula",className:"h-5 w-5 text-brand-600 focus:ring-brand-500",checked:p.bidirectionalMatchFormula==="reciprocal",onChange:()=>L("reciprocal")}),n.jsxs("div",{className:"ml-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Weighted Reciprocal"}),n.jsxs("p",{className:"text-xs text-gray-400",children:["Prioritizes your own assessment (70%) while considering their perspective (30%). Example: If you match them 80% but they match you 60%, the final score is 74%. ",n.jsx("span",{className:"text-gray-600",children:"(80%×0.7 + 60%×0.3) = 74%"}),"."]})]})]})]}),n.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[n.jsx("h5",{className:"font-medium text-sm text-blue-900 mb-2",children:"How Matching Works"}),n.jsxs("div",{className:"text-xs text-blue-800 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Unidirectional (one-way):"})," Only considers if others match what you're looking for"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Bidirectional (two-way):"})," Considers both directions - if you match their needs AND they match yours"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Why it matters:"})," Bidirectional matching helps ensure mutual interest and reduces unwanted connection requests"]})]})]})]})]})]})]}),o==="account"&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Account Management"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Manage your account settings and data"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200",children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:"👤"}),"Account Information"]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your current account details"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium text-gray-700 mb-1",children:"Name"}),n.jsx("span",{className:"text-gray-900 bg-white px-3 py-2 rounded-lg border border-gray-200",children:t.user.name})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("span",{className:"text-gray-900 bg-white px-3 py-2 rounded-lg border border-gray-200",children:t.user.email})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium text-gray-700 mb-1",children:"Account Type"}),n.jsx("span",{className:"text-gray-900 bg-white px-3 py-2 rounded-lg border border-gray-200 capitalize",children:t.user.accountType})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium text-gray-700 mb-1",children:"Member Since"}),n.jsx("span",{className:"text-gray-900 bg-white px-3 py-2 rounded-lg border border-gray-200",children:new Date(t.user.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),n.jsxs("div",{className:"border border-red-200 rounded-2xl p-6 bg-red-50",children:[n.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[n.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-red-600 text-sm",children:"⚠️"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-red-800",children:"Danger Zone"}),n.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Irreversible actions that will affect your account"})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-5 border border-red-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:"font-semibold text-red-800",children:"Delete Account"}),n.jsx("span",{className:"bg-red-100 text-red-700 text-xs px-2 py-1 rounded-full font-medium",children:"Permanent"})]}),n.jsx("p",{className:"text-sm text-red-600 mb-3",children:"Permanently delete your account and all associated data. This action cannot be undone."}),n.jsxs("div",{className:"space-y-1 text-xs text-red-500",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1 h-1 bg-red-400 rounded-full"}),n.jsx("span",{children:"All your posts, connections, and profile data will be removed"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1 h-1 bg-red-400 rounded-full"}),n.jsx("span",{children:"This action is permanent and cannot be reversed"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1 h-1 bg-red-400 rounded-full"}),n.jsx("span",{children:"You'll need to create a new account to use the platform again"})]})]})]}),n.jsx("div",{className:"flex-shrink-0",children:n.jsxs("button",{onClick:()=>h(!0),className:"px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors font-medium flex items-center gap-2 min-w-[140px] justify-center",children:[n.jsx("span",{children:"🗑️"}),"Delete Account"]})})]})})]})]})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:y,disabled:a,className:"px-4 py-2 rounded-xl bg-brand-700 text-white hover:bg-brand-800 transition-colors disabled:opacity-50",children:a?"Saving...":"Save Settings"})})]}),f&&n.jsx(o4e,{onClose:()=>h(!1),onConfirm:C,loading:c}),g&&n.jsx(l4e,{onClose:()=>m(!1)})]})}function o4e({onClose:t,onConfirm:r,loading:s}){return n.jsx("div",{style:{marginTop:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Confirm Account Deletion"}),n.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:"×"})]}),n.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently removed."}),n.jsxs("div",{className:"space-y-3 text-sm text-red-600 bg-red-50 p-3 rounded-lg mb-6",children:[n.jsx("p",{className:"font-medium",children:"This will permanently:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[n.jsx("li",{children:"Delete your profile and all personal information"}),n.jsx("li",{children:"Remove all your posts, connections, and messages"}),n.jsx("li",{children:"Cancel any pending meetings or requests"}),n.jsx("li",{children:"Remove your access to the platform"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:s,children:"Cancel"}),n.jsx("button",{onClick:r,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",disabled:s,children:s?"Sending Email...":"Delete Account"})]})]})})})}function l4e({onClose:t}){return n.jsx("div",{style:{marginTop:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-green-600 text-xl",children:"✓"})})}),n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Deletion Email Sent"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"We've sent a confirmation email to your inbox with a link to permanently delete your account."}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left",children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Next Steps:"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-blue-800",children:[n.jsx("li",{children:"Check your email inbox (and spam folder)"}),n.jsx("li",{children:"Click the account deletion link in the email"}),n.jsx("li",{children:"Confirm deletion on the following page"}),n.jsx("li",{children:"Your account will be permanently deleted"})]})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"The deletion link will expire in 24 hours for security reasons."})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx("button",{onClick:t,className:"px-6 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition-colors",children:"Understood"})})]})})})}const c4e=u.forwardRef(function({label:r="Add some visual flair 🎨",value:s,onChange:a,accept:i="image/png, image/jpeg, image/jpg, video/mp4, video/mov, video/avi, video/webm",maxSizeMB:o=50,preview:l=null,canSelectBothVideoAndImage:c=!1,selectedMediaType:d=null},f){const h=u.useRef(null),[g,m]=u.useState(null),[p,x]=u.useState(l),[y,w]=u.useState(d),[b,v]=u.useState(!1);console.log({preview:l,previewUrl:p});const j=()=>{h.current&&(h.current.accept="image/png, image/jpeg, image/jpg, image/gif, image/webp, video/mp4, video/mov, video/avi, video/webm, video/quicktime",h.current.click())};u.useImperativeHandle(f,()=>({pick:j})),u.useEffect(()=>{l&&x(l)},[l]),u.useEffect(()=>{d&&w(d)},[d]);const N=Y=>{if(!Y)return;if(Y.size>o*1024*1024){alert(`File too big! Keep it under ${o}MB`);return}const te=Y.type.startsWith("image/"),K=Y.type.startsWith("video/");if(!te&&!K){alert("Please select an image or video file");return}m(Y),w(te?"image":"video");const X=URL.createObjectURL(Y);x(X),a==null||a(Y,te?"image":"video")},S=Y=>{var K;const te=(K=Y.target.files)==null?void 0:K[0];N(te),Y.target.value=""},I=Y=>{Y.preventDefault(),v(!0)},E=Y=>{Y.preventDefault(),v(!1)},L=Y=>{Y.preventDefault(),v(!1);const te=Y.dataTransfer.files;te.length>0&&N(te[0])},C=()=>{a==null||a(null,null),m(null),x(null),w(null),h.current&&(h.current.value="")},T=()=>{h.current&&(h.current.accept="image/png, image/jpeg, image/jpg, image/gif, image/webp",h.current.click())},k=()=>{h.current&&(h.current.accept="video/mp4, video/mov, video/avi, video/webm, video/quicktime",h.current.click())},M=Y=>{C(),setTimeout(()=>{Y==="image"?T():k()},100)},_=()=>c?"image/png, image/jpeg, image/jpg, image/gif, image/webp, video/mp4, video/mov, video/avi, video/webm, video/quicktime":y==="image"?"image/png, image/jpeg, image/jpg, image/gif, image/webp":y==="video"?"video/mp4, video/mov, video/avi, video/webm, video/quicktime":"image/png, image/jpeg, image/jpg, image/gif, image/webp, video/mp4, video/mov, video/avi, video/webm, video/quicktime",J=()=>c?"PNG, JPG, GIF, WEBP, MP4, MOV, AVI • Max 50MB":y==="image"?"PNG, JPG, GIF, WEBP • Max 5MB":y==="video"?"MP4, MOV, AVI, WEBM • Max 50MB":"PNG, JPG, GIF, WEBP, MP4, MOV, AVI • Max 50MB";return n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:r}),n.jsx("input",{ref:h,type:"file",accept:_(),className:"hidden",onChange:S}),n.jsx("div",{className:`mt-2 rounded-2xl border border-dashed transition-colors ${b?"border-brand-400 bg-brand-50/60":"border-gray-300 bg-gray-50/60 hover:border-brand-400"} p-4`,onDragOver:I,onDragLeave:E,onDrop:L,children:!p&&!s?n.jsxs("div",{className:"text-center py-8",children:[n.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[(!y||y==="image")&&n.jsx("button",{type:"button",onClick:T,className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/80 border border-gray-200 hover:border-brand-400 hover:bg-brand-50/50 transition-all cursor-pointer",children:n.jsx(x0,{className:"h-8 w-8 text-brand-600"})}),(!y||y==="video")&&n.jsx("button",{type:"button",onClick:k,className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/80 border border-gray-200 hover:border-brand-400 hover:bg-brand-50/50 transition-all cursor-pointer",children:n.jsx(Zi,{className:"h-8 w-8 text-brand-600"})})]}),n.jsx("p",{className:"text-sm text-gray-600",children:b?"Drop your file here!":`Drag & drop your ${c?"image or video":y||"media"} here, or`}),n.jsxs("button",{type:"button",onClick:j,className:"mt-3 inline-flex items-center gap-2 rounded-full px-5 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30 transition-all",children:[n.jsx(FC,{className:"h-4 w-4"}),"Choose File"]}),n.jsx("p",{className:"mt-3 text-[11px] text-gray-400",children:J()}),!c&&y&&n.jsxs("p",{className:"mt-2 text-[10px] text-orange-600 bg-orange-50 px-2 py-1 rounded-full inline-block",children:["Currently: ",y," only"]})]}):n.jsxs("div",{className:"grid gap-4",children:[y==="image"||!y&&(p!=null&&p.includes("data:image")||s!=null&&s.includes("image"))?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:p||s,alt:"Cover preview",className:"w-full max-w-md rounded-xl object-contain aspect-[16/6] shadow max-h-32"}),n.jsxs("div",{className:"absolute top-2 right-2 bg-black/70 text-white px-2 py-1 rounded-full text-xs flex items-center gap-1",children:[n.jsx(x0,{className:"h-3 w-3"}),"Image"]})]}):n.jsxs("div",{className:"relative",children:[n.jsx("video",{src:p||s,controls:!0,className:"w-full max-w-md rounded-xl object-contain aspect-[16/6] shadow max-h-32 bg-black",children:"Your browser does not support the video tag."}),n.jsxs("div",{className:"absolute top-2 right-2 bg-black/70 text-white px-2 py-1 rounded-full text-xs flex items-center gap-1",children:[n.jsx(Zi,{className:"h-3 w-3"}),"Video"]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[!c&&y?n.jsx(n.Fragment,{children:y==="image"?n.jsxs(n.Fragment,{children:[n.jsxs("button",{type:"button",onClick:T,className:"flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30 transition-all",children:[n.jsx(x0,{className:"h-4 w-4"}),"Replace Image"]}),n.jsxs("button",{type:"button",onClick:()=>M("video"),className:"flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm border border-gray-200 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500/20 transition-all",children:[n.jsx(Zi,{className:"h-4 w-4"}),"Upload Video"]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("button",{type:"button",onClick:k,className:"flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30 transition-all",children:[n.jsx(Zi,{className:"h-4 w-4"}),"Replace Video"]}),n.jsxs("button",{type:"button",onClick:()=>M("image"),className:"flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm border border-gray-200 bg-white text-gray-700 hover:border-brand-500 hover:text-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500/20 transition-all",children:[n.jsx(x0,{className:"h-4 w-4"}),"Upload Image"]})]})}):n.jsxs("button",{type:"button",onClick:j,className:"flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30 transition-all",children:[n.jsx(FC,{className:"h-4 w-4"}),"Change ",y||"Media"]}),n.jsxs("button",{type:"button",onClick:C,className:"flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm border border-gray-200 bg-white text-gray-700 hover:border-red-400 hover:text-red-600 focus:outline-none focus:ring-2 focus:ring-red-500/20 transition-all",children:[n.jsx(Lr,{className:"h-4 w-4"}),"Remove"]})]})]})})]})}),KG=c4e;function d4e(){this.__data__=[],this.size=0}var u4e=d4e;function f4e(t,r){return t===r||t!==t&&r!==r}var XG=f4e,h4e=XG;function g4e(t,r){for(var s=t.length;s--;)if(h4e(t[s][0],r))return s;return-1}var ww=g4e,m4e=ww,p4e=Array.prototype,x4e=p4e.splice;function v4e(t){var r=this.__data__,s=m4e(r,t);if(s<0)return!1;var a=r.length-1;return s==a?r.pop():x4e.call(r,s,1),--this.size,!0}var y4e=v4e,b4e=ww;function w4e(t){var r=this.__data__,s=b4e(r,t);return s<0?void 0:r[s][1]}var j4e=w4e,N4e=ww;function S4e(t){return N4e(this.__data__,t)>-1}var C4e=S4e,k4e=ww;function E4e(t,r){var s=this.__data__,a=k4e(s,t);return a<0?(++this.size,s.push([t,r])):s[a][1]=r,this}var L4e=E4e,M4e=u4e,I4e=y4e,T4e=j4e,A4e=C4e,_4e=L4e;function Ph(t){var r=-1,s=t==null?0:t.length;for(this.clear();++r<s;){var a=t[r];this.set(a[0],a[1])}}Ph.prototype.clear=M4e;Ph.prototype.delete=I4e;Ph.prototype.get=T4e;Ph.prototype.has=A4e;Ph.prototype.set=_4e;var jw=Ph,O4e=jw;function $4e(){this.__data__=new O4e,this.size=0}var P4e=$4e;function D4e(t){var r=this.__data__,s=r.delete(t);return this.size=r.size,s}var R4e=D4e;function F4e(t){return this.__data__.get(t)}var B4e=F4e;function z4e(t){return this.__data__.has(t)}var U4e=z4e,W4e=typeof Ts=="object"&&Ts&&Ts.Object===Object&&Ts,eq=W4e,H4e=eq,V4e=typeof self=="object"&&self&&self.Object===Object&&self,G4e=H4e||V4e||Function("return this")(),cc=G4e,q4e=cc,Y4e=q4e.Symbol,NL=Y4e,j$=NL,tq=Object.prototype,J4e=tq.hasOwnProperty,Z4e=tq.toString,$g=j$?j$.toStringTag:void 0;function Q4e(t){var r=J4e.call(t,$g),s=t[$g];try{t[$g]=void 0;var a=!0}catch(o){}var i=Z4e.call(t);return a&&(r?t[$g]=s:delete t[$g]),i}var K4e=Q4e,X4e=Object.prototype,eNe=X4e.toString;function tNe(t){return eNe.call(t)}var rNe=tNe,N$=NL,nNe=K4e,sNe=rNe,aNe="[object Null]",iNe="[object Undefined]",S$=N$?N$.toStringTag:void 0;function oNe(t){return t==null?t===void 0?iNe:aNe:S$&&S$ in Object(t)?nNe(t):sNe(t)}var Nw=oNe;function lNe(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}var rq=lNe,cNe=Nw,dNe=rq,uNe="[object AsyncFunction]",fNe="[object Function]",hNe="[object GeneratorFunction]",gNe="[object Proxy]";function mNe(t){if(!dNe(t))return!1;var r=cNe(t);return r==fNe||r==hNe||r==uNe||r==gNe}var nq=mNe,pNe=cc,xNe=pNe["__core-js_shared__"],vNe=xNe,tN=vNe,C$=function(){var t=/[^.]+$/.exec(tN&&tN.keys&&tN.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function yNe(t){return!!C$&&C$ in t}var bNe=yNe,wNe=Function.prototype,jNe=wNe.toString;function NNe(t){if(t!=null){try{return jNe.call(t)}catch(r){}try{return t+""}catch(r){}}return""}var sq=NNe,SNe=nq,CNe=bNe,kNe=rq,ENe=sq,LNe=/[\\^$.*+?()[\]{}|]/g,MNe=/^\[object .+?Constructor\]$/,INe=Function.prototype,TNe=Object.prototype,ANe=INe.toString,_Ne=TNe.hasOwnProperty,ONe=RegExp("^"+ANe.call(_Ne).replace(LNe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $Ne(t){if(!kNe(t)||CNe(t))return!1;var r=SNe(t)?ONe:MNe;return r.test(ENe(t))}var PNe=$Ne;function DNe(t,r){return t==null?void 0:t[r]}var RNe=DNe,FNe=PNe,BNe=RNe;function zNe(t,r){var s=BNe(t,r);return FNe(s)?s:void 0}var Dh=zNe,UNe=Dh,WNe=cc,HNe=UNe(WNe,"Map"),SL=HNe,VNe=Dh,GNe=VNe(Object,"create"),Sw=GNe,k$=Sw;function qNe(){this.__data__=k$?k$(null):{},this.size=0}var YNe=qNe;function JNe(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}var ZNe=JNe,QNe=Sw,KNe="__lodash_hash_undefined__",XNe=Object.prototype,e3e=XNe.hasOwnProperty;function t3e(t){var r=this.__data__;if(QNe){var s=r[t];return s===KNe?void 0:s}return e3e.call(r,t)?r[t]:void 0}var r3e=t3e,n3e=Sw,s3e=Object.prototype,a3e=s3e.hasOwnProperty;function i3e(t){var r=this.__data__;return n3e?r[t]!==void 0:a3e.call(r,t)}var o3e=i3e,l3e=Sw,c3e="__lodash_hash_undefined__";function d3e(t,r){var s=this.__data__;return this.size+=this.has(t)?0:1,s[t]=l3e&&r===void 0?c3e:r,this}var u3e=d3e,f3e=YNe,h3e=ZNe,g3e=r3e,m3e=o3e,p3e=u3e;function Rh(t){var r=-1,s=t==null?0:t.length;for(this.clear();++r<s;){var a=t[r];this.set(a[0],a[1])}}Rh.prototype.clear=f3e;Rh.prototype.delete=h3e;Rh.prototype.get=g3e;Rh.prototype.has=m3e;Rh.prototype.set=p3e;var x3e=Rh,E$=x3e,v3e=jw,y3e=SL;function b3e(){this.size=0,this.__data__={hash:new E$,map:new(y3e||v3e),string:new E$}}var w3e=b3e;function j3e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}var N3e=j3e,S3e=N3e;function C3e(t,r){var s=t.__data__;return S3e(r)?s[typeof r=="string"?"string":"hash"]:s.map}var Cw=C3e,k3e=Cw;function E3e(t){var r=k3e(this,t).delete(t);return this.size-=r?1:0,r}var L3e=E3e,M3e=Cw;function I3e(t){return M3e(this,t).get(t)}var T3e=I3e,A3e=Cw;function _3e(t){return A3e(this,t).has(t)}var O3e=_3e,$3e=Cw;function P3e(t,r){var s=$3e(this,t),a=s.size;return s.set(t,r),this.size+=s.size==a?0:1,this}var D3e=P3e,R3e=w3e,F3e=L3e,B3e=T3e,z3e=O3e,U3e=D3e;function Fh(t){var r=-1,s=t==null?0:t.length;for(this.clear();++r<s;){var a=t[r];this.set(a[0],a[1])}}Fh.prototype.clear=R3e;Fh.prototype.delete=F3e;Fh.prototype.get=B3e;Fh.prototype.has=z3e;Fh.prototype.set=U3e;var aq=Fh,W3e=jw,H3e=SL,V3e=aq,G3e=200;function q3e(t,r){var s=this.__data__;if(s instanceof W3e){var a=s.__data__;if(!H3e||a.length<G3e-1)return a.push([t,r]),this.size=++s.size,this;s=this.__data__=new V3e(a)}return s.set(t,r),this.size=s.size,this}var Y3e=q3e,J3e=jw,Z3e=P4e,Q3e=R4e,K3e=B4e,X3e=U4e,eSe=Y3e;function Bh(t){var r=this.__data__=new J3e(t);this.size=r.size}Bh.prototype.clear=Z3e;Bh.prototype.delete=Q3e;Bh.prototype.get=K3e;Bh.prototype.has=X3e;Bh.prototype.set=eSe;var tSe=Bh,rSe="__lodash_hash_undefined__";function nSe(t){return this.__data__.set(t,rSe),this}var sSe=nSe;function aSe(t){return this.__data__.has(t)}var iSe=aSe,oSe=aq,lSe=sSe,cSe=iSe;function Ib(t){var r=-1,s=t==null?0:t.length;for(this.__data__=new oSe;++r<s;)this.add(t[r])}Ib.prototype.add=Ib.prototype.push=lSe;Ib.prototype.has=cSe;var dSe=Ib;function uSe(t,r){for(var s=-1,a=t==null?0:t.length;++s<a;)if(r(t[s],s,t))return!0;return!1}var fSe=uSe;function hSe(t,r){return t.has(r)}var gSe=hSe,mSe=dSe,pSe=fSe,xSe=gSe,vSe=1,ySe=2;function bSe(t,r,s,a,i,o){var l=s&vSe,c=t.length,d=r.length;if(c!=d&&!(l&&d>c))return!1;var f=o.get(t),h=o.get(r);if(f&&h)return f==r&&h==t;var g=-1,m=!0,p=s&ySe?new mSe:void 0;for(o.set(t,r),o.set(r,t);++g<c;){var x=t[g],y=r[g];if(a)var w=l?a(y,x,g,r,t,o):a(x,y,g,t,r,o);if(w!==void 0){if(w)continue;m=!1;break}if(p){if(!pSe(r,function(b,v){if(!xSe(p,v)&&(x===b||i(x,b,s,a,o)))return p.push(v)})){m=!1;break}}else if(!(x===y||i(x,y,s,a,o))){m=!1;break}}return o.delete(t),o.delete(r),m}var iq=bSe,wSe=cc,jSe=wSe.Uint8Array,NSe=jSe;function SSe(t){var r=-1,s=Array(t.size);return t.forEach(function(a,i){s[++r]=[i,a]}),s}var CSe=SSe;function kSe(t){var r=-1,s=Array(t.size);return t.forEach(function(a){s[++r]=a}),s}var ESe=kSe,L$=NL,M$=NSe,LSe=XG,MSe=iq,ISe=CSe,TSe=ESe,ASe=1,_Se=2,OSe="[object Boolean]",$Se="[object Date]",PSe="[object Error]",DSe="[object Map]",RSe="[object Number]",FSe="[object RegExp]",BSe="[object Set]",zSe="[object String]",USe="[object Symbol]",WSe="[object ArrayBuffer]",HSe="[object DataView]",I$=L$?L$.prototype:void 0,rN=I$?I$.valueOf:void 0;function VSe(t,r,s,a,i,o,l){switch(s){case HSe:if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case WSe:return!(t.byteLength!=r.byteLength||!o(new M$(t),new M$(r)));case OSe:case $Se:case RSe:return LSe(+t,+r);case PSe:return t.name==r.name&&t.message==r.message;case FSe:case zSe:return t==r+"";case DSe:var c=ISe;case BSe:var d=a&ASe;if(c||(c=TSe),t.size!=r.size&&!d)return!1;var f=l.get(t);if(f)return f==r;a|=_Se,l.set(t,r);var h=MSe(c(t),c(r),a,i,o,l);return l.delete(t),h;case USe:if(rN)return rN.call(t)==rN.call(r)}return!1}var GSe=VSe;function qSe(t,r){for(var s=-1,a=r.length,i=t.length;++s<a;)t[i+s]=r[s];return t}var YSe=qSe,JSe=Array.isArray,CL=JSe,ZSe=YSe,QSe=CL;function KSe(t,r,s){var a=r(t);return QSe(t)?a:ZSe(a,s(t))}var XSe=KSe;function eCe(t,r){for(var s=-1,a=t==null?0:t.length,i=0,o=[];++s<a;){var l=t[s];r(l,s,t)&&(o[i++]=l)}return o}var tCe=eCe;function rCe(){return[]}var nCe=rCe,sCe=tCe,aCe=nCe,iCe=Object.prototype,oCe=iCe.propertyIsEnumerable,T$=Object.getOwnPropertySymbols,lCe=T$?function(t){return t==null?[]:(t=Object(t),sCe(T$(t),function(r){return oCe.call(t,r)}))}:aCe,cCe=lCe;function dCe(t,r){for(var s=-1,a=Array(t);++s<t;)a[s]=r(s);return a}var uCe=dCe;function fCe(t){return t!=null&&typeof t=="object"}var kw=fCe,hCe=Nw,gCe=kw,mCe="[object Arguments]";function pCe(t){return gCe(t)&&hCe(t)==mCe}var xCe=pCe,A$=xCe,vCe=kw,oq=Object.prototype,yCe=oq.hasOwnProperty,bCe=oq.propertyIsEnumerable,wCe=A$(function(){return arguments}())?A$:function(t){return vCe(t)&&yCe.call(t,"callee")&&!bCe.call(t,"callee")},jCe=wCe,Tb={exports:{}};function NCe(){return!1}var SCe=NCe;Tb.exports;(function(t,r){var s=cc,a=SCe,i=r&&!r.nodeType&&r,o=i&&!0&&t&&!t.nodeType&&t,l=o&&o.exports===i,c=l?s.Buffer:void 0,d=c?c.isBuffer:void 0,f=d||a;t.exports=f})(Tb,Tb.exports);var lq=Tb.exports,CCe=9007199254740991,kCe=/^(?:0|[1-9]\d*)$/;function ECe(t,r){var s=typeof t;return r=r==null?CCe:r,!!r&&(s=="number"||s!="symbol"&&kCe.test(t))&&t>-1&&t%1==0&&t<r}var LCe=ECe,MCe=9007199254740991;function ICe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=MCe}var cq=ICe,TCe=Nw,ACe=cq,_Ce=kw,OCe="[object Arguments]",$Ce="[object Array]",PCe="[object Boolean]",DCe="[object Date]",RCe="[object Error]",FCe="[object Function]",BCe="[object Map]",zCe="[object Number]",UCe="[object Object]",WCe="[object RegExp]",HCe="[object Set]",VCe="[object String]",GCe="[object WeakMap]",qCe="[object ArrayBuffer]",YCe="[object DataView]",JCe="[object Float32Array]",ZCe="[object Float64Array]",QCe="[object Int8Array]",KCe="[object Int16Array]",XCe="[object Int32Array]",e6e="[object Uint8Array]",t6e="[object Uint8ClampedArray]",r6e="[object Uint16Array]",n6e="[object Uint32Array]",un={};un[JCe]=un[ZCe]=un[QCe]=un[KCe]=un[XCe]=un[e6e]=un[t6e]=un[r6e]=un[n6e]=!0;un[OCe]=un[$Ce]=un[qCe]=un[PCe]=un[YCe]=un[DCe]=un[RCe]=un[FCe]=un[BCe]=un[zCe]=un[UCe]=un[WCe]=un[HCe]=un[VCe]=un[GCe]=!1;function s6e(t){return _Ce(t)&&ACe(t.length)&&!!un[TCe(t)]}var a6e=s6e;function i6e(t){return function(r){return t(r)}}var o6e=i6e,Ab={exports:{}};Ab.exports;(function(t,r){var s=eq,a=r&&!r.nodeType&&r,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o&&s.process,c=function(){try{var d=i&&i.require&&i.require("util").types;return d||l&&l.binding&&l.binding("util")}catch(f){}}();t.exports=c})(Ab,Ab.exports);var l6e=Ab.exports,c6e=a6e,d6e=o6e,_$=l6e,O$=_$&&_$.isTypedArray,u6e=O$?d6e(O$):c6e,dq=u6e,f6e=uCe,h6e=jCe,g6e=CL,m6e=lq,p6e=LCe,x6e=dq,v6e=Object.prototype,y6e=v6e.hasOwnProperty;function b6e(t,r){var s=g6e(t),a=!s&&h6e(t),i=!s&&!a&&m6e(t),o=!s&&!a&&!i&&x6e(t),l=s||a||i||o,c=l?f6e(t.length,String):[],d=c.length;for(var f in t)(r||y6e.call(t,f))&&!(l&&(f=="length"||i&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||p6e(f,d)))&&c.push(f);return c}var w6e=b6e,j6e=Object.prototype;function N6e(t){var r=t&&t.constructor,s=typeof r=="function"&&r.prototype||j6e;return t===s}var S6e=N6e;function C6e(t,r){return function(s){return t(r(s))}}var k6e=C6e,E6e=k6e,L6e=E6e(Object.keys,Object),M6e=L6e,I6e=S6e,T6e=M6e,A6e=Object.prototype,_6e=A6e.hasOwnProperty;function O6e(t){if(!I6e(t))return T6e(t);var r=[];for(var s in Object(t))_6e.call(t,s)&&s!="constructor"&&r.push(s);return r}var $6e=O6e,P6e=nq,D6e=cq;function R6e(t){return t!=null&&D6e(t.length)&&!P6e(t)}var F6e=R6e,B6e=w6e,z6e=$6e,U6e=F6e;function W6e(t){return U6e(t)?B6e(t):z6e(t)}var H6e=W6e,V6e=XSe,G6e=cCe,q6e=H6e;function Y6e(t){return V6e(t,q6e,G6e)}var J6e=Y6e,$$=J6e,Z6e=1,Q6e=Object.prototype,K6e=Q6e.hasOwnProperty;function X6e(t,r,s,a,i,o){var l=s&Z6e,c=$$(t),d=c.length,f=$$(r),h=f.length;if(d!=h&&!l)return!1;for(var g=d;g--;){var m=c[g];if(!(l?m in r:K6e.call(r,m)))return!1}var p=o.get(t),x=o.get(r);if(p&&x)return p==r&&x==t;var y=!0;o.set(t,r),o.set(r,t);for(var w=l;++g<d;){m=c[g];var b=t[m],v=r[m];if(a)var j=l?a(v,b,m,r,t,o):a(b,v,m,t,r,o);if(!(j===void 0?b===v||i(b,v,s,a,o):j)){y=!1;break}w||(w=m=="constructor")}if(y&&!w){var N=t.constructor,S=r.constructor;N!=S&&"constructor"in t&&"constructor"in r&&!(typeof N=="function"&&N instanceof N&&typeof S=="function"&&S instanceof S)&&(y=!1)}return o.delete(t),o.delete(r),y}var eke=X6e,tke=Dh,rke=cc,nke=tke(rke,"DataView"),ske=nke,ake=Dh,ike=cc,oke=ake(ike,"Promise"),lke=oke,cke=Dh,dke=cc,uke=cke(dke,"Set"),fke=uke,hke=Dh,gke=cc,mke=hke(gke,"WeakMap"),pke=mke,r6=ske,n6=SL,s6=lke,a6=fke,i6=pke,uq=Nw,zh=sq,P$="[object Map]",xke="[object Object]",D$="[object Promise]",R$="[object Set]",F$="[object WeakMap]",B$="[object DataView]",vke=zh(r6),yke=zh(n6),bke=zh(s6),wke=zh(a6),jke=zh(i6),ou=uq;(r6&&ou(new r6(new ArrayBuffer(1)))!=B$||n6&&ou(new n6)!=P$||s6&&ou(s6.resolve())!=D$||a6&&ou(new a6)!=R$||i6&&ou(new i6)!=F$)&&(ou=function(t){var r=uq(t),s=r==xke?t.constructor:void 0,a=s?zh(s):"";if(a)switch(a){case vke:return B$;case yke:return P$;case bke:return D$;case wke:return R$;case jke:return F$}return r});var Nke=ou,nN=tSe,Ske=iq,Cke=GSe,kke=eke,z$=Nke,U$=CL,W$=lq,Eke=dq,Lke=1,H$="[object Arguments]",V$="[object Array]",$v="[object Object]",Mke=Object.prototype,G$=Mke.hasOwnProperty;function Ike(t,r,s,a,i,o){var l=U$(t),c=U$(r),d=l?V$:z$(t),f=c?V$:z$(r);d=d==H$?$v:d,f=f==H$?$v:f;var h=d==$v,g=f==$v,m=d==f;if(m&&W$(t)){if(!W$(r))return!1;l=!0,h=!1}if(m&&!h)return o||(o=new nN),l||Eke(t)?Ske(t,r,s,a,i,o):Cke(t,r,d,s,a,i,o);if(!(s&Lke)){var p=h&&G$.call(t,"__wrapped__"),x=g&&G$.call(r,"__wrapped__");if(p||x){var y=p?t.value():t,w=x?r.value():r;return o||(o=new nN),i(y,w,s,a,o)}}return m?(o||(o=new nN),kke(t,r,s,a,i,o)):!1}var Tke=Ike,Ake=Tke,q$=kw;function fq(t,r,s,a,i){return t===r?!0:t==null||r==null||!q$(t)&&!q$(r)?t!==t&&r!==r:Ake(t,r,s,a,fq,i)}var _ke=fq,Oke=_ke;function $ke(t,r){return Oke(t,r)}var Pke=$ke,hq={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,r){(function(a,i){t.exports=i()})(typeof self!="undefined"?self:Ts,function(){return function(s){var a={};function i(o){if(a[o])return a[o].exports;var l=a[o]={i:o,l:!1,exports:{}};return s[o].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=s,i.c=a,i.d=function(o,l,c){i.o(o,l)||Object.defineProperty(o,l,{configurable:!1,enumerable:!0,get:c})},i.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(l,"a",l),l},i.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},i.p="",i(i.s=109)}([function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=i(17),l=i(18),c=i(19),d=i(45),f=i(46),h=i(47),g=i(48),m=i(49),p=i(12),x=i(32),y=i(33),w=i(31),b=i(1),v={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:o.default,Format:l.default,Leaf:c.default,Embed:g.default,Scroll:d.default,Block:h.default,Inline:f.default,Text:m.default,Attributor:{Attribute:p.default,Class:x.default,Style:y.default,Store:w.default}};a.default=v},function(s,a,i){var o=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,v){b.__proto__=v}||function(b,v){for(var j in v)v.hasOwnProperty(j)&&(b[j]=v[j])};return function(b,v){w(b,v);function j(){this.constructor=b}b.prototype=v===null?Object.create(v):(j.prototype=v.prototype,new j)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=function(w){o(b,w);function b(v){var j=this;return v="[Parchment] "+v,j=w.call(this,v)||this,j.message=v,j.name=j.constructor.name,j}return b}(Error);a.ParchmentError=l;var c={},d={},f={},h={};a.DATA_KEY="__blot";var g;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(g=a.Scope||(a.Scope={}));function m(w,b){var v=x(w);if(v==null)throw new l("Unable to create "+w+" blot");var j=v,N=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:j.create(b);return new j(N,b)}a.create=m;function p(w,b){return b===void 0&&(b=!1),w==null?null:w[a.DATA_KEY]!=null?w[a.DATA_KEY].blot:b?p(w.parentNode,b):null}a.find=p;function x(w,b){b===void 0&&(b=g.ANY);var v;if(typeof w=="string")v=h[w]||c[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)v=h.text;else if(typeof w=="number")w&g.LEVEL&g.BLOCK?v=h.block:w&g.LEVEL&g.INLINE&&(v=h.inline);else if(w instanceof HTMLElement){var j=(w.getAttribute("class")||"").split(/\s+/);for(var N in j)if(v=d[j[N]],v)break;v=v||f[w.tagName]}return v==null?null:b&g.LEVEL&v.scope&&b&g.TYPE&v.scope?v:null}a.query=x;function y(){for(var w=[],b=0;b<arguments.length;b++)w[b]=arguments[b];if(w.length>1)return w.map(function(N){return y(N)});var v=w[0];if(typeof v.blotName!="string"&&typeof v.attrName!="string")throw new l("Invalid definition");if(v.blotName==="abstract")throw new l("Cannot register abstract class");if(h[v.blotName||v.attrName]=v,typeof v.keyName=="string")c[v.keyName]=v;else if(v.className!=null&&(d[v.className]=v),v.tagName!=null){Array.isArray(v.tagName)?v.tagName=v.tagName.map(function(N){return N.toUpperCase()}):v.tagName=v.tagName.toUpperCase();var j=Array.isArray(v.tagName)?v.tagName:[v.tagName];j.forEach(function(N){(f[N]==null||v.className==null)&&(f[N]=v)})}return v}a.register=y},function(s,a,i){var o=i(51),l=i(11),c=i(3),d=i(20),f="\0",h=function(g){Array.isArray(g)?this.ops=g:g!=null&&Array.isArray(g.ops)?this.ops=g.ops:this.ops=[]};h.prototype.insert=function(g,m){var p={};return g.length===0?this:(p.insert=g,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(p.attributes=m),this.push(p))},h.prototype.delete=function(g){return g<=0?this:this.push({delete:g})},h.prototype.retain=function(g,m){if(g<=0)return this;var p={retain:g};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(p.attributes=m),this.push(p)},h.prototype.push=function(g){var m=this.ops.length,p=this.ops[m-1];if(g=c(!0,{},g),typeof p=="object"){if(typeof g.delete=="number"&&typeof p.delete=="number")return this.ops[m-1]={delete:p.delete+g.delete},this;if(typeof p.delete=="number"&&g.insert!=null&&(m-=1,p=this.ops[m-1],typeof p!="object"))return this.ops.unshift(g),this;if(l(g.attributes,p.attributes)){if(typeof g.insert=="string"&&typeof p.insert=="string")return this.ops[m-1]={insert:p.insert+g.insert},typeof g.attributes=="object"&&(this.ops[m-1].attributes=g.attributes),this;if(typeof g.retain=="number"&&typeof p.retain=="number")return this.ops[m-1]={retain:p.retain+g.retain},typeof g.attributes=="object"&&(this.ops[m-1].attributes=g.attributes),this}}return m===this.ops.length?this.ops.push(g):this.ops.splice(m,0,g),this},h.prototype.chop=function(){var g=this.ops[this.ops.length-1];return g&&g.retain&&!g.attributes&&this.ops.pop(),this},h.prototype.filter=function(g){return this.ops.filter(g)},h.prototype.forEach=function(g){this.ops.forEach(g)},h.prototype.map=function(g){return this.ops.map(g)},h.prototype.partition=function(g){var m=[],p=[];return this.forEach(function(x){var y=g(x)?m:p;y.push(x)}),[m,p]},h.prototype.reduce=function(g,m){return this.ops.reduce(g,m)},h.prototype.changeLength=function(){return this.reduce(function(g,m){return m.insert?g+d.length(m):m.delete?g-m.delete:g},0)},h.prototype.length=function(){return this.reduce(function(g,m){return g+d.length(m)},0)},h.prototype.slice=function(g,m){g=g||0,typeof m!="number"&&(m=1/0);for(var p=[],x=d.iterator(this.ops),y=0;y<m&&x.hasNext();){var w;y<g?w=x.next(g-y):(w=x.next(m-y),p.push(w)),y+=d.length(w)}return new h(p)},h.prototype.compose=function(g){var m=d.iterator(this.ops),p=d.iterator(g.ops),x=[],y=p.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var w=y.retain;m.peekType()==="insert"&&m.peekLength()<=w;)w-=m.peekLength(),x.push(m.next());y.retain-w>0&&p.next(y.retain-w)}for(var b=new h(x);m.hasNext()||p.hasNext();)if(p.peekType()==="insert")b.push(p.next());else if(m.peekType()==="delete")b.push(m.next());else{var v=Math.min(m.peekLength(),p.peekLength()),j=m.next(v),N=p.next(v);if(typeof N.retain=="number"){var S={};typeof j.retain=="number"?S.retain=v:S.insert=j.insert;var I=d.attributes.compose(j.attributes,N.attributes,typeof j.retain=="number");if(I&&(S.attributes=I),b.push(S),!p.hasNext()&&l(b.ops[b.ops.length-1],S)){var E=new h(m.rest());return b.concat(E).chop()}}else typeof N.delete=="number"&&typeof j.retain=="number"&&b.push(N)}return b.chop()},h.prototype.concat=function(g){var m=new h(this.ops.slice());return g.ops.length>0&&(m.push(g.ops[0]),m.ops=m.ops.concat(g.ops.slice(1))),m},h.prototype.diff=function(g,m){if(this.ops===g.ops)return new h;var p=[this,g].map(function(v){return v.map(function(j){if(j.insert!=null)return typeof j.insert=="string"?j.insert:f;var N=v===g?"on":"with";throw new Error("diff() called "+N+" non-document")}).join("")}),x=new h,y=o(p[0],p[1],m),w=d.iterator(this.ops),b=d.iterator(g.ops);return y.forEach(function(v){for(var j=v[1].length;j>0;){var N=0;switch(v[0]){case o.INSERT:N=Math.min(b.peekLength(),j),x.push(b.next(N));break;case o.DELETE:N=Math.min(j,w.peekLength()),w.next(N),x.delete(N);break;case o.EQUAL:N=Math.min(w.peekLength(),b.peekLength(),j);var S=w.next(N),I=b.next(N);l(S.insert,I.insert)?x.retain(N,d.attributes.diff(S.attributes,I.attributes)):x.push(I).delete(N);break}j-=N}}),x.chop()},h.prototype.eachLine=function(g,m){m=m||`
`;for(var p=d.iterator(this.ops),x=new h,y=0;p.hasNext();){if(p.peekType()!=="insert")return;var w=p.peek(),b=d.length(w)-p.peekLength(),v=typeof w.insert=="string"?w.insert.indexOf(m,b)-b:-1;if(v<0)x.push(p.next());else if(v>0)x.push(p.next(v));else{if(g(x,p.next(1).attributes||{},y)===!1)return;y+=1,x=new h}}x.length()>0&&g(x,{},y)},h.prototype.transform=function(g,m){if(m=!!m,typeof g=="number")return this.transformPosition(g,m);for(var p=d.iterator(this.ops),x=d.iterator(g.ops),y=new h;p.hasNext()||x.hasNext();)if(p.peekType()==="insert"&&(m||x.peekType()!=="insert"))y.retain(d.length(p.next()));else if(x.peekType()==="insert")y.push(x.next());else{var w=Math.min(p.peekLength(),x.peekLength()),b=p.next(w),v=x.next(w);if(b.delete)continue;v.delete?y.push(v):y.retain(w,d.attributes.transform(b.attributes,v.attributes,m))}return y.chop()},h.prototype.transformPosition=function(g,m){m=!!m;for(var p=d.iterator(this.ops),x=0;p.hasNext()&&x<=g;){var y=p.peekLength(),w=p.peekType();if(p.next(),w==="delete"){g-=Math.min(y,g-x);continue}else w==="insert"&&(x<g||!m)&&(g+=y);x+=y}return g},s.exports=h},function(s,a){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,l=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=function(p){return typeof Array.isArray=="function"?Array.isArray(p):o.call(p)==="[object Array]"},f=function(p){if(!p||o.call(p)!=="[object Object]")return!1;var x=i.call(p,"constructor"),y=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!x&&!y)return!1;var w;for(w in p);return typeof w=="undefined"||i.call(p,w)},h=function(p,x){l&&x.name==="__proto__"?l(p,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):p[x.name]=x.newValue},g=function(p,x){if(x==="__proto__")if(i.call(p,x)){if(c)return c(p,x).value}else return;return p[x]};s.exports=function m(){var p,x,y,w,b,v,j=arguments[0],N=1,S=arguments.length,I=!1;for(typeof j=="boolean"&&(I=j,j=arguments[1]||{},N=2),(j==null||typeof j!="object"&&typeof j!="function")&&(j={});N<S;++N)if(p=arguments[N],p!=null)for(x in p)y=g(j,x),w=g(p,x),j!==w&&(I&&w&&(f(w)||(b=d(w)))?(b?(b=!1,v=y&&d(y)?y:[]):v=y&&f(y)?y:{},h(j,{name:x,newValue:m(I,v,w)})):typeof w!="undefined"&&h(j,{name:x,newValue:w}));return j}},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BlockEmbed=a.bubbleFormats=void 0;var o=function(){function k(M,_){for(var J=0;J<_.length;J++){var Y=_[J];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(M,Y.key,Y)}}return function(M,_,J){return _&&k(M.prototype,_),J&&k(M,J),M}}(),l=function k(M,_,J){M===null&&(M=Function.prototype);var Y=Object.getOwnPropertyDescriptor(M,_);if(Y===void 0){var te=Object.getPrototypeOf(M);return te===null?void 0:k(te,_,J)}else{if("value"in Y)return Y.value;var K=Y.get;return K===void 0?void 0:K.call(J)}},c=i(3),d=j(c),f=i(2),h=j(f),g=i(0),m=j(g),p=i(16),x=j(p),y=i(6),w=j(y),b=i(7),v=j(b);function j(k){return k&&k.__esModule?k:{default:k}}function N(k,M){if(!(k instanceof M))throw new TypeError("Cannot call a class as a function")}function S(k,M){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:k}function I(k,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);k.prototype=Object.create(M&&M.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(k,M):k.__proto__=M)}var E=1,L=function(k){I(M,k);function M(){return N(this,M),S(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return o(M,[{key:"attach",value:function(){l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"attach",this).call(this),this.attributes=new m.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new h.default().insert(this.value(),(0,d.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(J,Y){var te=m.default.query(J,m.default.Scope.BLOCK_ATTRIBUTE);te!=null&&this.attributes.attribute(te,Y)}},{key:"formatAt",value:function(J,Y,te,K){this.format(te,K)}},{key:"insertAt",value:function(J,Y,te){if(typeof Y=="string"&&Y.endsWith(`
`)){var K=m.default.create(C.blotName);this.parent.insertBefore(K,J===0?this:this.next),K.insertAt(0,Y.slice(0,-1))}else l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertAt",this).call(this,J,Y,te)}}]),M}(m.default.Embed);L.scope=m.default.Scope.BLOCK_BLOT;var C=function(k){I(M,k);function M(_){N(this,M);var J=S(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,_));return J.cache={},J}return o(M,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(m.default.Leaf).reduce(function(J,Y){return Y.length()===0?J:J.insert(Y.value(),T(Y))},new h.default).insert(`
`,T(this))),this.cache.delta}},{key:"deleteAt",value:function(J,Y){l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"deleteAt",this).call(this,J,Y),this.cache={}}},{key:"formatAt",value:function(J,Y,te,K){Y<=0||(m.default.query(te,m.default.Scope.BLOCK)?J+Y===this.length()&&this.format(te,K):l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"formatAt",this).call(this,J,Math.min(Y,this.length()-J-1),te,K),this.cache={})}},{key:"insertAt",value:function(J,Y,te){if(te!=null)return l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertAt",this).call(this,J,Y,te);if(Y.length!==0){var K=Y.split(`
`),X=K.shift();X.length>0&&(J<this.length()-1||this.children.tail==null?l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertAt",this).call(this,Math.min(J,this.length()-1),X):this.children.tail.insertAt(this.children.tail.length(),X),this.cache={});var W=this;K.reduce(function(F,P){return W=W.split(F,!0),W.insertAt(0,P),P.length},J+X.length)}}},{key:"insertBefore",value:function(J,Y){var te=this.children.head;l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertBefore",this).call(this,J,Y),te instanceof x.default&&te.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"length",this).call(this)+E),this.cache.length}},{key:"moveChildren",value:function(J,Y){l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"moveChildren",this).call(this,J,Y),this.cache={}}},{key:"optimize",value:function(J){l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,J),this.cache={}}},{key:"path",value:function(J){return l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"path",this).call(this,J,!0)}},{key:"removeChild",value:function(J){l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"removeChild",this).call(this,J),this.cache={}}},{key:"split",value:function(J){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Y&&(J===0||J>=this.length()-E)){var te=this.clone();return J===0?(this.parent.insertBefore(te,this),this):(this.parent.insertBefore(te,this.next),te)}else{var K=l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"split",this).call(this,J,Y);return this.cache={},K}}}]),M}(m.default.Block);C.blotName="block",C.tagName="P",C.defaultChild="break",C.allowedChildren=[w.default,m.default.Embed,v.default];function T(k){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(M=(0,d.default)(M,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?M:T(k.parent,M)}a.bubbleFormats=T,a.BlockEmbed=L,a.default=C},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.overload=a.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},l=function(){function W(F,P){var A=[],B=!0,z=!1,O=void 0;try{for(var U=F[Symbol.iterator](),Z;!(B=(Z=U.next()).done)&&(A.push(Z.value),!(P&&A.length===P));B=!0);}catch(se){z=!0,O=se}finally{try{!B&&U.return&&U.return()}finally{if(z)throw O}}return A}return function(F,P){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return W(F,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function W(F,P){for(var A=0;A<P.length;A++){var B=P[A];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(F,B.key,B)}}return function(F,P,A){return P&&W(F.prototype,P),A&&W(F,A),F}}();i(50);var d=i(2),f=T(d),h=i(14),g=T(h),m=i(8),p=T(m),x=i(9),y=T(x),w=i(0),b=T(w),v=i(15),j=T(v),N=i(3),S=T(N),I=i(10),E=T(I),L=i(34),C=T(L);function T(W){return W&&W.__esModule?W:{default:W}}function k(W,F,P){return F in W?Object.defineProperty(W,F,{value:P,enumerable:!0,configurable:!0,writable:!0}):W[F]=P,W}function M(W,F){if(!(W instanceof F))throw new TypeError("Cannot call a class as a function")}var _=(0,E.default)("quill"),J=function(){c(W,null,[{key:"debug",value:function(P){P===!0&&(P="log"),E.default.level(P)}},{key:"find",value:function(P){return P.__quill||b.default.find(P)}},{key:"import",value:function(P){return this.imports[P]==null&&_.error("Cannot import "+P+". Are you sure it was registered?"),this.imports[P]}},{key:"register",value:function(P,A){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof P!="string"){var O=P.attrName||P.blotName;typeof O=="string"?this.register("formats/"+O,P,A):Object.keys(P).forEach(function(U){B.register(U,P[U],A)})}else this.imports[P]!=null&&!z&&_.warn("Overwriting "+P+" with",A),this.imports[P]=A,(P.startsWith("blots/")||P.startsWith("formats/"))&&A.blotName!=="abstract"?b.default.register(A):P.startsWith("modules")&&typeof A.register=="function"&&A.register()}}]);function W(F){var P=this,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(M(this,W),this.options=Y(F,A),this.container=this.options.container,this.container==null)return _.error("Invalid Quill container",F);this.options.debug&&W.debug(this.options.debug);var B=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new g.default(this.scroll),this.selection=new j.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(O){O===p.default.events.TEXT_CHANGE&&P.root.classList.toggle("ql-blank",P.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(O,U){var Z=P.selection.lastRange,se=Z&&Z.length===0?Z.index:void 0;te.call(P,function(){return P.editor.update(null,U,se)},O)});var z=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+B+"<p><br></p></div>");this.setContents(z),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return c(W,[{key:"addContainer",value:function(P){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof P=="string"){var B=P;P=document.createElement("div"),P.classList.add(B)}return this.container.insertBefore(P,A),P}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(P,A,B){var z=this,O=K(P,A,B),U=l(O,4);return P=U[0],A=U[1],B=U[3],te.call(this,function(){return z.editor.deleteText(P,A)},B,P,-1*A)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(P),this.container.classList.toggle("ql-disabled",!P)}},{key:"focus",value:function(){var P=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=P,this.scrollIntoView()}},{key:"format",value:function(P,A){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return te.call(this,function(){var O=B.getSelection(!0),U=new f.default;if(O==null)return U;if(b.default.query(P,b.default.Scope.BLOCK))U=B.editor.formatLine(O.index,O.length,k({},P,A));else{if(O.length===0)return B.selection.format(P,A),U;U=B.editor.formatText(O.index,O.length,k({},P,A))}return B.setSelection(O,p.default.sources.SILENT),U},z)}},{key:"formatLine",value:function(P,A,B,z,O){var U=this,Z=void 0,se=K(P,A,B,z,O),fe=l(se,4);return P=fe[0],A=fe[1],Z=fe[2],O=fe[3],te.call(this,function(){return U.editor.formatLine(P,A,Z)},O,P,0)}},{key:"formatText",value:function(P,A,B,z,O){var U=this,Z=void 0,se=K(P,A,B,z,O),fe=l(se,4);return P=fe[0],A=fe[1],Z=fe[2],O=fe[3],te.call(this,function(){return U.editor.formatText(P,A,Z)},O,P,0)}},{key:"getBounds",value:function(P){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=void 0;typeof P=="number"?B=this.selection.getBounds(P,A):B=this.selection.getBounds(P.index,P.length);var z=this.container.getBoundingClientRect();return{bottom:B.bottom-z.top,height:B.height,left:B.left-z.left,right:B.right-z.left,top:B.top-z.top,width:B.width}}},{key:"getContents",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-P,B=K(P,A),z=l(B,2);return P=z[0],A=z[1],this.editor.getContents(P,A)}},{key:"getFormat",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof P=="number"?this.editor.getFormat(P,A):this.editor.getFormat(P.index,P.length)}},{key:"getIndex",value:function(P){return P.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(P){return this.scroll.leaf(P)}},{key:"getLine",value:function(P){return this.scroll.line(P)}},{key:"getLines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof P!="number"?this.scroll.lines(P.index,P.length):this.scroll.lines(P,A)}},{key:"getModule",value:function(P){return this.theme.modules[P]}},{key:"getSelection",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return P&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-P,B=K(P,A),z=l(B,2);return P=z[0],A=z[1],this.editor.getText(P,A)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(P,A,B){var z=this,O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:W.sources.API;return te.call(this,function(){return z.editor.insertEmbed(P,A,B)},O,P)}},{key:"insertText",value:function(P,A,B,z,O){var U=this,Z=void 0,se=K(P,0,B,z,O),fe=l(se,4);return P=fe[0],Z=fe[2],O=fe[3],te.call(this,function(){return U.editor.insertText(P,A,Z)},O,P,A.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(P,A,B){this.clipboard.dangerouslyPasteHTML(P,A,B)}},{key:"removeFormat",value:function(P,A,B){var z=this,O=K(P,A,B),U=l(O,4);return P=U[0],A=U[1],B=U[3],te.call(this,function(){return z.editor.removeFormat(P,A)},B,P)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(P){var A=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return te.call(this,function(){P=new f.default(P);var z=A.getLength(),O=A.editor.deleteText(0,z),U=A.editor.applyDelta(P),Z=U.ops[U.ops.length-1];Z!=null&&typeof Z.insert=="string"&&Z.insert[Z.insert.length-1]===`
`&&(A.editor.deleteText(A.getLength()-1,1),U.delete(1));var se=O.compose(U);return se},B)}},{key:"setSelection",value:function(P,A,B){if(P==null)this.selection.setRange(null,A||W.sources.API);else{var z=K(P,A,B),O=l(z,4);P=O[0],A=O[1],B=O[3],this.selection.setRange(new v.Range(P,A),B),B!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(P){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,B=new f.default().insert(P);return this.setContents(B,A)}},{key:"update",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,A=this.scroll.update(P);return this.selection.update(P),A}},{key:"updateContents",value:function(P){var A=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return te.call(this,function(){return P=new f.default(P),A.editor.applyDelta(P,B)},B,!0)}}]),W}();J.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},J.events=p.default.events,J.sources=p.default.sources,J.version="1.3.7",J.imports={delta:f.default,parchment:b.default,"core/module":y.default,"core/theme":C.default};function Y(W,F){if(F=(0,S.default)(!0,{container:W,modules:{clipboard:!0,keyboard:!0,history:!0}},F),!F.theme||F.theme===J.DEFAULTS.theme)F.theme=C.default;else if(F.theme=J.import("themes/"+F.theme),F.theme==null)throw new Error("Invalid theme "+F.theme+". Did you register it?");var P=(0,S.default)(!0,{},F.theme.DEFAULTS);[P,F].forEach(function(z){z.modules=z.modules||{},Object.keys(z.modules).forEach(function(O){z.modules[O]===!0&&(z.modules[O]={})})});var A=Object.keys(P.modules).concat(Object.keys(F.modules)),B=A.reduce(function(z,O){var U=J.import("modules/"+O);return U==null?_.error("Cannot load "+O+" module. Are you sure you registered it?"):z[O]=U.DEFAULTS||{},z},{});return F.modules!=null&&F.modules.toolbar&&F.modules.toolbar.constructor!==Object&&(F.modules.toolbar={container:F.modules.toolbar}),F=(0,S.default)(!0,{},J.DEFAULTS,{modules:B},P,F),["bounds","container","scrollingContainer"].forEach(function(z){typeof F[z]=="string"&&(F[z]=document.querySelector(F[z]))}),F.modules=Object.keys(F.modules).reduce(function(z,O){return F.modules[O]&&(z[O]=F.modules[O]),z},{}),F}function te(W,F,P,A){if(this.options.strict&&!this.isEnabled()&&F===p.default.sources.USER)return new f.default;var B=P==null?null:this.getSelection(),z=this.editor.delta,O=W();if(B!=null&&(P===!0&&(P=B.index),A==null?B=X(B,O,F):A!==0&&(B=X(B,P,A,F)),this.setSelection(B,p.default.sources.SILENT)),O.length()>0){var U,Z=[p.default.events.TEXT_CHANGE,O,z,F];if((U=this.emitter).emit.apply(U,[p.default.events.EDITOR_CHANGE].concat(Z)),F!==p.default.sources.SILENT){var se;(se=this.emitter).emit.apply(se,Z)}}return O}function K(W,F,P,A,B){var z={};return typeof W.index=="number"&&typeof W.length=="number"?typeof F!="number"?(B=A,A=P,P=F,F=W.length,W=W.index):(F=W.length,W=W.index):typeof F!="number"&&(B=A,A=P,P=F,F=0),(typeof P=="undefined"?"undefined":o(P))==="object"?(z=P,B=A):typeof P=="string"&&(A!=null?z[P]=A:B=P),B=B||p.default.sources.API,[W,F,z,B]}function X(W,F,P,A){if(W==null)return null;var B=void 0,z=void 0;if(F instanceof f.default){var O=[W.index,W.index+W.length].map(function(fe){return F.transformPosition(fe,A!==p.default.sources.USER)}),U=l(O,2);B=U[0],z=U[1]}else{var Z=[W.index,W.index+W.length].map(function(fe){return fe<F||fe===F&&A===p.default.sources.USER?fe:P>=0?fe+P:Math.max(F,fe+P)}),se=l(Z,2);B=se[0],z=se[1]}return new v.Range(B,z-B)}a.expandConfig=Y,a.overload=K,a.default=J},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function w(b,v){for(var j=0;j<v.length;j++){var N=v[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,v,j){return v&&w(b.prototype,v),j&&w(b,j),b}}(),l=function w(b,v,j){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,v);if(N===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:w(S,v,j)}else{if("value"in N)return N.value;var I=N.get;return I===void 0?void 0:I.call(j)}},c=i(7),d=g(c),f=i(0),h=g(f);function g(w){return w&&w.__esModule?w:{default:w}}function m(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function p(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function x(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var y=function(w){x(b,w);function b(){return m(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"formatAt",value:function(j,N,S,I){if(b.compare(this.statics.blotName,S)<0&&h.default.query(S,h.default.Scope.BLOT)){var E=this.isolate(j,N);I&&E.wrap(S,I)}else l(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,j,N,S,I)}},{key:"optimize",value:function(j){if(l(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,j),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var N=this.parent.isolate(this.offset(),this.length());this.moveChildren(N),N.wrap(this)}}}],[{key:"compare",value:function(j,N){var S=b.order.indexOf(j),I=b.order.indexOf(N);return S>=0||I>=0?S-I:j===N?0:j<N?-1:1}}]),b}(h.default.Inline);y.allowedChildren=[y,h.default.Embed,d.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],a.default=y},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=i(0),l=c(o);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function f(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function h(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var g=function(m){h(p,m);function p(){return d(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(l.default.Text);a.default=g},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function v(j,N){for(var S=0;S<N.length;S++){var I=N[S];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(j,I.key,I)}}return function(j,N,S){return N&&v(j.prototype,N),S&&v(j,S),j}}(),l=function v(j,N,S){j===null&&(j=Function.prototype);var I=Object.getOwnPropertyDescriptor(j,N);if(I===void 0){var E=Object.getPrototypeOf(j);return E===null?void 0:v(E,N,S)}else{if("value"in I)return I.value;var L=I.get;return L===void 0?void 0:L.call(S)}},c=i(54),d=g(c),f=i(10),h=g(f);function g(v){return v&&v.__esModule?v:{default:v}}function m(v,j){if(!(v instanceof j))throw new TypeError("Cannot call a class as a function")}function p(v,j){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:v}function x(v,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);v.prototype=Object.create(j&&j.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(v,j):v.__proto__=j)}var y=(0,h.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(v){document.addEventListener(v,function(){for(var j=arguments.length,N=Array(j),S=0;S<j;S++)N[S]=arguments[S];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(I){if(I.__quill&&I.__quill.emitter){var E;(E=I.__quill.emitter).handleDOM.apply(E,N)}})})});var b=function(v){x(j,v);function j(){m(this,j);var N=p(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return N.listeners={},N.on("error",y.error),N}return o(j,[{key:"emit",value:function(){y.log.apply(y,arguments),l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(S){for(var I=arguments.length,E=Array(I>1?I-1:0),L=1;L<I;L++)E[L-1]=arguments[L];(this.listeners[S.type]||[]).forEach(function(C){var T=C.node,k=C.handler;(S.target===T||T.contains(S.target))&&k.apply(void 0,[S].concat(E))})}},{key:"listenDOM",value:function(S,I,E){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push({node:I,handler:E})}}]),j}(d.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},a.default=b},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});function o(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var l=function c(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,c),this.quill=d,this.options=f};l.DEFAULTS={},a.default=l},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=["error","warn","log","info"],l="warn";function c(f){if(o.indexOf(f)<=o.indexOf(l)){for(var h,g=arguments.length,m=Array(g>1?g-1:0),p=1;p<g;p++)m[p-1]=arguments[p];(h=console)[f].apply(h,m)}}function d(f){return o.reduce(function(h,g){return h[g]=c.bind(console,g,f),h},{})}c.level=d.level=function(f){l=f},a.default=d},function(s,a,i){var o=Array.prototype.slice,l=i(52),c=i(53),d=s.exports=function(m,p,x){return x||(x={}),m===p?!0:m instanceof Date&&p instanceof Date?m.getTime()===p.getTime():!m||!p||typeof m!="object"&&typeof p!="object"?x.strict?m===p:m==p:g(m,p,x)};function f(m){return m==null}function h(m){return!(!m||typeof m!="object"||typeof m.length!="number"||typeof m.copy!="function"||typeof m.slice!="function"||m.length>0&&typeof m[0]!="number")}function g(m,p,x){var y,w;if(f(m)||f(p)||m.prototype!==p.prototype)return!1;if(c(m))return c(p)?(m=o.call(m),p=o.call(p),d(m,p,x)):!1;if(h(m)){if(!h(p)||m.length!==p.length)return!1;for(y=0;y<m.length;y++)if(m[y]!==p[y])return!1;return!0}try{var b=l(m),v=l(p)}catch(j){return!1}if(b.length!=v.length)return!1;for(b.sort(),v.sort(),y=b.length-1;y>=0;y--)if(b[y]!=v[y])return!1;for(y=b.length-1;y>=0;y--)if(w=b[y],!d(m[w],p[w],x))return!1;return typeof m==typeof p}},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=i(1),l=function(){function c(d,f,h){h===void 0&&(h={}),this.attrName=d,this.keyName=f;var g=o.Scope.TYPE&o.Scope.ATTRIBUTE;h.scope!=null?this.scope=h.scope&o.Scope.LEVEL|g:this.scope=o.Scope.ATTRIBUTE,h.whitelist!=null&&(this.whitelist=h.whitelist)}return c.keys=function(d){return[].map.call(d.attributes,function(f){return f.name})},c.prototype.add=function(d,f){return this.canAdd(d,f)?(d.setAttribute(this.keyName,f),!0):!1},c.prototype.canAdd=function(d,f){var h=o.query(d,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return h==null?!1:this.whitelist==null?!0:typeof f=="string"?this.whitelist.indexOf(f.replace(/["']/g,""))>-1:this.whitelist.indexOf(f)>-1},c.prototype.remove=function(d){d.removeAttribute(this.keyName)},c.prototype.value=function(d){var f=d.getAttribute(this.keyName);return this.canAdd(d,f)&&f?f:""},c}();a.default=l},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.Code=void 0;var o=function(){function L(C,T){var k=[],M=!0,_=!1,J=void 0;try{for(var Y=C[Symbol.iterator](),te;!(M=(te=Y.next()).done)&&(k.push(te.value),!(T&&k.length===T));M=!0);}catch(K){_=!0,J=K}finally{try{!M&&Y.return&&Y.return()}finally{if(_)throw J}}return k}return function(C,T){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return L(C,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function L(C,T){for(var k=0;k<T.length;k++){var M=T[k];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(C,M.key,M)}}return function(C,T,k){return T&&L(C.prototype,T),k&&L(C,k),C}}(),c=function L(C,T,k){C===null&&(C=Function.prototype);var M=Object.getOwnPropertyDescriptor(C,T);if(M===void 0){var _=Object.getPrototypeOf(C);return _===null?void 0:L(_,T,k)}else{if("value"in M)return M.value;var J=M.get;return J===void 0?void 0:J.call(k)}},d=i(2),f=v(d),h=i(0),g=v(h),m=i(4),p=v(m),x=i(6),y=v(x),w=i(7),b=v(w);function v(L){return L&&L.__esModule?L:{default:L}}function j(L,C){if(!(L instanceof C))throw new TypeError("Cannot call a class as a function")}function N(L,C){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:L}function S(L,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);L.prototype=Object.create(C&&C.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(L,C):L.__proto__=C)}var I=function(L){S(C,L);function C(){return j(this,C),N(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return C}(y.default);I.blotName="code",I.tagName="CODE";var E=function(L){S(C,L);function C(){return j(this,C),N(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return l(C,[{key:"delta",value:function(){var k=this,M=this.domNode.textContent;return M.endsWith(`
`)&&(M=M.slice(0,-1)),M.split(`
`).reduce(function(_,J){return _.insert(J).insert(`
`,k.formats())},new f.default)}},{key:"format",value:function(k,M){if(!(k===this.statics.blotName&&M)){var _=this.descendant(b.default,this.length()-1),J=o(_,1),Y=J[0];Y!=null&&Y.deleteAt(Y.length()-1,1),c(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,k,M)}}},{key:"formatAt",value:function(k,M,_,J){if(M!==0&&!(g.default.query(_,g.default.Scope.BLOCK)==null||_===this.statics.blotName&&J===this.statics.formats(this.domNode))){var Y=this.newlineIndex(k);if(!(Y<0||Y>=k+M)){var te=this.newlineIndex(k,!0)+1,K=Y-te+1,X=this.isolate(te,K),W=X.next;X.format(_,J),W instanceof C&&W.formatAt(0,k-te+M-K,_,J)}}}},{key:"insertAt",value:function(k,M,_){if(_==null){var J=this.descendant(b.default,k),Y=o(J,2),te=Y[0],K=Y[1];te.insertAt(K,M)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?k:k+1}},{key:"newlineIndex",value:function(k){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(M)return this.domNode.textContent.slice(0,k).lastIndexOf(`
`);var _=this.domNode.textContent.slice(k).indexOf(`
`);return _>-1?k+_:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith(`
`)||this.appendChild(g.default.create("text",`
`)),c(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,k);var M=this.next;M!=null&&M.prev===this&&M.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===M.statics.formats(M.domNode)&&(M.optimize(k),M.moveChildren(this),M.remove())}},{key:"replace",value:function(k){c(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(M){var _=g.default.find(M);_==null?M.parentNode.removeChild(M):_ instanceof g.default.Embed?_.remove():_.unwrap()})}}],[{key:"create",value:function(k){var M=c(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,k);return M.setAttribute("spellcheck",!1),M}},{key:"formats",value:function(){return!0}}]),C}(p.default);E.blotName="code-block",E.tagName="PRE",E.TAB="  ",a.Code=I,a.default=E},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},l=function(){function W(F,P){var A=[],B=!0,z=!1,O=void 0;try{for(var U=F[Symbol.iterator](),Z;!(B=(Z=U.next()).done)&&(A.push(Z.value),!(P&&A.length===P));B=!0);}catch(se){z=!0,O=se}finally{try{!B&&U.return&&U.return()}finally{if(z)throw O}}return A}return function(F,P){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return W(F,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function W(F,P){for(var A=0;A<P.length;A++){var B=P[A];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(F,B.key,B)}}return function(F,P,A){return P&&W(F.prototype,P),A&&W(F,A),F}}(),d=i(2),f=M(d),h=i(20),g=M(h),m=i(0),p=M(m),x=i(13),y=M(x),w=i(24),b=M(w),v=i(4),j=M(v),N=i(16),S=M(N),I=i(21),E=M(I),L=i(11),C=M(L),T=i(3),k=M(T);function M(W){return W&&W.__esModule?W:{default:W}}function _(W,F,P){return F in W?Object.defineProperty(W,F,{value:P,enumerable:!0,configurable:!0,writable:!0}):W[F]=P,W}function J(W,F){if(!(W instanceof F))throw new TypeError("Cannot call a class as a function")}var Y=/^[ -~]*$/,te=function(){function W(F){J(this,W),this.scroll=F,this.delta=this.getDelta()}return c(W,[{key:"applyDelta",value:function(P){var A=this,B=!1;this.scroll.update();var z=this.scroll.length();return this.scroll.batchStart(),P=X(P),P.reduce(function(O,U){var Z=U.retain||U.delete||U.insert.length||1,se=U.attributes||{};if(U.insert!=null){if(typeof U.insert=="string"){var fe=U.insert;fe.endsWith(`
`)&&B&&(B=!1,fe=fe.slice(0,-1)),O>=z&&!fe.endsWith(`
`)&&(B=!0),A.scroll.insertAt(O,fe);var le=A.scroll.line(O),Ne=l(le,2),Te=Ne[0],ht=Ne[1],Fe=(0,k.default)({},(0,v.bubbleFormats)(Te));if(Te instanceof j.default){var Ve=Te.descendant(p.default.Leaf,ht),ut=l(Ve,1),Je=ut[0];Fe=(0,k.default)(Fe,(0,v.bubbleFormats)(Je))}se=g.default.attributes.diff(Fe,se)||{}}else if(o(U.insert)==="object"){var G=Object.keys(U.insert)[0];if(G==null)return O;A.scroll.insertAt(O,G,U.insert[G])}z+=Z}return Object.keys(se).forEach(function(ae){A.scroll.formatAt(O,Z,ae,se[ae])}),O+Z},0),P.reduce(function(O,U){return typeof U.delete=="number"?(A.scroll.deleteAt(O,U.delete),O):O+(U.retain||U.insert.length||1)},0),this.scroll.batchEnd(),this.update(P)}},{key:"deleteText",value:function(P,A){return this.scroll.deleteAt(P,A),this.update(new f.default().retain(P).delete(A))}},{key:"formatLine",value:function(P,A){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(z).forEach(function(O){if(!(B.scroll.whitelist!=null&&!B.scroll.whitelist[O])){var U=B.scroll.lines(P,Math.max(A,1)),Z=A;U.forEach(function(se){var fe=se.length();if(!(se instanceof y.default))se.format(O,z[O]);else{var le=P-se.offset(B.scroll),Ne=se.newlineIndex(le+Z)-le+1;se.formatAt(le,Ne,O,z[O])}Z-=fe})}}),this.scroll.optimize(),this.update(new f.default().retain(P).retain(A,(0,E.default)(z)))}},{key:"formatText",value:function(P,A){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(z).forEach(function(O){B.scroll.formatAt(P,A,O,z[O])}),this.update(new f.default().retain(P).retain(A,(0,E.default)(z)))}},{key:"getContents",value:function(P,A){return this.delta.slice(P,P+A)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(P,A){return P.concat(A.delta())},new f.default)}},{key:"getFormat",value:function(P){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=[],z=[];A===0?this.scroll.path(P).forEach(function(U){var Z=l(U,1),se=Z[0];se instanceof j.default?B.push(se):se instanceof p.default.Leaf&&z.push(se)}):(B=this.scroll.lines(P,A),z=this.scroll.descendants(p.default.Leaf,P,A));var O=[B,z].map(function(U){if(U.length===0)return{};for(var Z=(0,v.bubbleFormats)(U.shift());Object.keys(Z).length>0;){var se=U.shift();if(se==null)return Z;Z=K((0,v.bubbleFormats)(se),Z)}return Z});return k.default.apply(k.default,O)}},{key:"getText",value:function(P,A){return this.getContents(P,A).filter(function(B){return typeof B.insert=="string"}).map(function(B){return B.insert}).join("")}},{key:"insertEmbed",value:function(P,A,B){return this.scroll.insertAt(P,A,B),this.update(new f.default().retain(P).insert(_({},A,B)))}},{key:"insertText",value:function(P,A){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return A=A.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(P,A),Object.keys(z).forEach(function(O){B.scroll.formatAt(P,A.length,O,z[O])}),this.update(new f.default().retain(P).insert(A,(0,E.default)(z)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var P=this.scroll.children.head;return P.statics.blotName!==j.default.blotName||P.children.length>1?!1:P.children.head instanceof S.default}},{key:"removeFormat",value:function(P,A){var B=this.getText(P,A),z=this.scroll.line(P+A),O=l(z,2),U=O[0],Z=O[1],se=0,fe=new f.default;U!=null&&(U instanceof y.default?se=U.newlineIndex(Z)-Z+1:se=U.length()-Z,fe=U.delta().slice(Z,Z+se-1).insert(`
`));var le=this.getContents(P,A+se),Ne=le.diff(new f.default().insert(B).concat(fe)),Te=new f.default().retain(P).concat(Ne);return this.applyDelta(Te)}},{key:"update",value:function(P){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,z=this.delta;if(A.length===1&&A[0].type==="characterData"&&A[0].target.data.match(Y)&&p.default.find(A[0].target)){var O=p.default.find(A[0].target),U=(0,v.bubbleFormats)(O),Z=O.offset(this.scroll),se=A[0].oldValue.replace(b.default.CONTENTS,""),fe=new f.default().insert(se),le=new f.default().insert(O.value()),Ne=new f.default().retain(Z).concat(fe.diff(le,B));P=Ne.reduce(function(Te,ht){return ht.insert?Te.insert(ht.insert,U):Te.push(ht)},new f.default),this.delta=z.compose(P)}else this.delta=this.getDelta(),(!P||!(0,C.default)(z.compose(P),this.delta))&&(P=z.diff(this.delta,B));return P}}]),W}();function K(W,F){return Object.keys(F).reduce(function(P,A){return W[A]==null||(F[A]===W[A]?P[A]=F[A]:Array.isArray(F[A])?F[A].indexOf(W[A])<0&&(P[A]=F[A].concat([W[A]])):P[A]=[F[A],W[A]]),P},{})}function X(W){return W.reduce(function(F,P){if(P.insert===1){var A=(0,E.default)(P.attributes);return delete A.image,F.insert({image:P.attributes.image},A)}if(P.attributes!=null&&(P.attributes.list===!0||P.attributes.bullet===!0)&&(P=(0,E.default)(P),P.attributes.list?P.attributes.list="ordered":(P.attributes.list="bullet",delete P.attributes.bullet)),typeof P.insert=="string"){var B=P.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return F.insert(B,P.attributes)}return F.push(P)},new f.default)}a.default=te},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.Range=void 0;var o=function(){function L(C,T){var k=[],M=!0,_=!1,J=void 0;try{for(var Y=C[Symbol.iterator](),te;!(M=(te=Y.next()).done)&&(k.push(te.value),!(T&&k.length===T));M=!0);}catch(K){_=!0,J=K}finally{try{!M&&Y.return&&Y.return()}finally{if(_)throw J}}return k}return function(C,T){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return L(C,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function L(C,T){for(var k=0;k<T.length;k++){var M=T[k];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(C,M.key,M)}}return function(C,T,k){return T&&L(C.prototype,T),k&&L(C,k),C}}(),c=i(0),d=b(c),f=i(21),h=b(f),g=i(11),m=b(g),p=i(8),x=b(p),y=i(10),w=b(y);function b(L){return L&&L.__esModule?L:{default:L}}function v(L){if(Array.isArray(L)){for(var C=0,T=Array(L.length);C<L.length;C++)T[C]=L[C];return T}else return Array.from(L)}function j(L,C){if(!(L instanceof C))throw new TypeError("Cannot call a class as a function")}var N=(0,w.default)("quill:selection"),S=function L(C){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;j(this,L),this.index=C,this.length=T},I=function(){function L(C,T){var k=this;j(this,L),this.emitter=T,this.scroll=C,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=d.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,x.default.sources.USER),1)}),this.emitter.on(x.default.events.EDITOR_CHANGE,function(M,_){M===x.default.events.TEXT_CHANGE&&_.length()>0&&k.update(x.default.sources.SILENT)}),this.emitter.on(x.default.events.SCROLL_BEFORE_UPDATE,function(){if(k.hasFocus()){var M=k.getNativeRange();M!=null&&M.start.node!==k.cursor.textNode&&k.emitter.once(x.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(M.start.node,M.start.offset,M.end.node,M.end.offset)}catch(_){}})}}),this.emitter.on(x.default.events.SCROLL_OPTIMIZE,function(M,_){if(_.range){var J=_.range,Y=J.startNode,te=J.startOffset,K=J.endNode,X=J.endOffset;k.setNativeRange(Y,te,K,X)}}),this.update(x.default.sources.SILENT)}return l(L,[{key:"handleComposition",value:function(){var T=this;this.root.addEventListener("compositionstart",function(){T.composing=!0}),this.root.addEventListener("compositionend",function(){if(T.composing=!1,T.cursor.parent){var k=T.cursor.restore();if(!k)return;setTimeout(function(){T.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var T=this;this.emitter.listenDOM("mousedown",document.body,function(){T.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){T.mouseDown=!1,T.update(x.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(T,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[T])){this.scroll.update();var M=this.getNativeRange();if(!(M==null||!M.native.collapsed||d.default.query(T,d.default.Scope.BLOCK))){if(M.start.node!==this.cursor.textNode){var _=d.default.find(M.start.node,!1);if(_==null)return;if(_ instanceof d.default.Leaf){var J=_.split(M.start.offset);_.parent.insertBefore(this.cursor,J)}else _.insertBefore(this.cursor,M.start.node);this.cursor.attach()}this.cursor.format(T,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(T){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=this.scroll.length();T=Math.min(T,M-1),k=Math.min(T+k,M-1)-T;var _=void 0,J=this.scroll.leaf(T),Y=o(J,2),te=Y[0],K=Y[1];if(te==null)return null;var X=te.position(K,!0),W=o(X,2);_=W[0],K=W[1];var F=document.createRange();if(k>0){F.setStart(_,K);var P=this.scroll.leaf(T+k),A=o(P,2);if(te=A[0],K=A[1],te==null)return null;var B=te.position(K,!0),z=o(B,2);return _=z[0],K=z[1],F.setEnd(_,K),F.getBoundingClientRect()}else{var O="left",U=void 0;return _ instanceof Text?(K<_.data.length?(F.setStart(_,K),F.setEnd(_,K+1)):(F.setStart(_,K-1),F.setEnd(_,K),O="right"),U=F.getBoundingClientRect()):(U=te.domNode.getBoundingClientRect(),K>0&&(O="right")),{bottom:U.top+U.height,height:U.height,left:U[O],right:U[O],top:U.top,width:0}}}},{key:"getNativeRange",value:function(){var T=document.getSelection();if(T==null||T.rangeCount<=0)return null;var k=T.getRangeAt(0);if(k==null)return null;var M=this.normalizeNative(k);return N.info("getNativeRange",M),M}},{key:"getRange",value:function(){var T=this.getNativeRange();if(T==null)return[null,null];var k=this.normalizedToRange(T);return[k,T]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(T){var k=this,M=[[T.start.node,T.start.offset]];T.native.collapsed||M.push([T.end.node,T.end.offset]);var _=M.map(function(te){var K=o(te,2),X=K[0],W=K[1],F=d.default.find(X,!0),P=F.offset(k.scroll);return W===0?P:F instanceof d.default.Container?P+F.length():P+F.index(X,W)}),J=Math.min(Math.max.apply(Math,v(_)),this.scroll.length()-1),Y=Math.min.apply(Math,[J].concat(v(_)));return new S(Y,J-Y)}},{key:"normalizeNative",value:function(T){if(!E(this.root,T.startContainer)||!T.collapsed&&!E(this.root,T.endContainer))return null;var k={start:{node:T.startContainer,offset:T.startOffset},end:{node:T.endContainer,offset:T.endOffset},native:T};return[k.start,k.end].forEach(function(M){for(var _=M.node,J=M.offset;!(_ instanceof Text)&&_.childNodes.length>0;)if(_.childNodes.length>J)_=_.childNodes[J],J=0;else if(_.childNodes.length===J)_=_.lastChild,J=_ instanceof Text?_.data.length:_.childNodes.length+1;else break;M.node=_,M.offset=J}),k}},{key:"rangeToNative",value:function(T){var k=this,M=T.collapsed?[T.index]:[T.index,T.index+T.length],_=[],J=this.scroll.length();return M.forEach(function(Y,te){Y=Math.min(J-1,Y);var K=void 0,X=k.scroll.leaf(Y),W=o(X,2),F=W[0],P=W[1],A=F.position(P,te!==0),B=o(A,2);K=B[0],P=B[1],_.push(K,P)}),_.length<2&&(_=_.concat(_)),_}},{key:"scrollIntoView",value:function(T){var k=this.lastRange;if(k!=null){var M=this.getBounds(k.index,k.length);if(M!=null){var _=this.scroll.length()-1,J=this.scroll.line(Math.min(k.index,_)),Y=o(J,1),te=Y[0],K=te;if(k.length>0){var X=this.scroll.line(Math.min(k.index+k.length,_)),W=o(X,1);K=W[0]}if(!(te==null||K==null)){var F=T.getBoundingClientRect();M.top<F.top?T.scrollTop-=F.top-M.top:M.bottom>F.bottom&&(T.scrollTop+=M.bottom-F.bottom)}}}}},{key:"setNativeRange",value:function(T,k){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,J=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(N.info("setNativeRange",T,k,M,_),!(T!=null&&(this.root.parentNode==null||T.parentNode==null||M.parentNode==null))){var Y=document.getSelection();if(Y!=null)if(T!=null){this.hasFocus()||this.root.focus();var te=(this.getNativeRange()||{}).native;if(te==null||J||T!==te.startContainer||k!==te.startOffset||M!==te.endContainer||_!==te.endOffset){T.tagName=="BR"&&(k=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode),M.tagName=="BR"&&(_=[].indexOf.call(M.parentNode.childNodes,M),M=M.parentNode);var K=document.createRange();K.setStart(T,k),K.setEnd(M,_),Y.removeAllRanges(),Y.addRange(K)}}else Y.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(T){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x.default.sources.API;if(typeof k=="string"&&(M=k,k=!1),N.info("setRange",T),T!=null){var _=this.rangeToNative(T);this.setNativeRange.apply(this,v(_).concat([k]))}else this.setNativeRange(null);this.update(M)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x.default.sources.USER,k=this.lastRange,M=this.getRange(),_=o(M,2),J=_[0],Y=_[1];if(this.lastRange=J,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,m.default)(k,this.lastRange)){var te;!this.composing&&Y!=null&&Y.native.collapsed&&Y.start.node!==this.cursor.textNode&&this.cursor.restore();var K=[x.default.events.SELECTION_CHANGE,(0,h.default)(this.lastRange),(0,h.default)(k),T];if((te=this.emitter).emit.apply(te,[x.default.events.EDITOR_CHANGE].concat(K)),T!==x.default.sources.SILENT){var X;(X=this.emitter).emit.apply(X,K)}}}}]),L}();function E(L,C){try{C.parentNode}catch(T){return!1}return C instanceof Text&&(C=C.parentNode),L.contains(C)}a.Range=S,a.default=I},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function x(y,w){for(var b=0;b<w.length;b++){var v=w[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,v.key,v)}}return function(y,w,b){return w&&x(y.prototype,w),b&&x(y,b),y}}(),l=function x(y,w,b){y===null&&(y=Function.prototype);var v=Object.getOwnPropertyDescriptor(y,w);if(v===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:x(j,w,b)}else{if("value"in v)return v.value;var N=v.get;return N===void 0?void 0:N.call(b)}},c=i(0),d=f(c);function f(x){return x&&x.__esModule?x:{default:x}}function h(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function g(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function m(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var p=function(x){m(y,x);function y(){return h(this,y),g(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"insertInto",value:function(b,v){b.children.length===0?l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,b,v):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(d.default.Embed);p.blotName="break",p.tagName="BR",a.default=p},function(s,a,i){var o=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var x in p)p.hasOwnProperty(x)&&(m[x]=p[x])};return function(m,p){g(m,p);function x(){this.constructor=m}m.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=i(44),c=i(30),d=i(1),f=function(g){o(m,g);function m(p){var x=g.call(this,p)||this;return x.build(),x}return m.prototype.appendChild=function(p){this.insertBefore(p)},m.prototype.attach=function(){g.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},m.prototype.build=function(){var p=this;this.children=new l.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(x){try{var y=h(x);p.insertBefore(y,p.children.head||void 0)}catch(w){if(w instanceof d.ParchmentError)return;throw w}})},m.prototype.deleteAt=function(p,x){if(p===0&&x===this.length())return this.remove();this.children.forEachAt(p,x,function(y,w,b){y.deleteAt(w,b)})},m.prototype.descendant=function(p,x){var y=this.children.find(x),w=y[0],b=y[1];return p.blotName==null&&p(w)||p.blotName!=null&&w instanceof p?[w,b]:w instanceof m?w.descendant(p,b):[null,-1]},m.prototype.descendants=function(p,x,y){x===void 0&&(x=0),y===void 0&&(y=Number.MAX_VALUE);var w=[],b=y;return this.children.forEachAt(x,y,function(v,j,N){(p.blotName==null&&p(v)||p.blotName!=null&&v instanceof p)&&w.push(v),v instanceof m&&(w=w.concat(v.descendants(p,j,b))),b-=N}),w},m.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),g.prototype.detach.call(this)},m.prototype.formatAt=function(p,x,y,w){this.children.forEachAt(p,x,function(b,v,j){b.formatAt(v,j,y,w)})},m.prototype.insertAt=function(p,x,y){var w=this.children.find(p),b=w[0],v=w[1];if(b)b.insertAt(v,x,y);else{var j=y==null?d.create("text",x):d.create(x,y);this.appendChild(j)}},m.prototype.insertBefore=function(p,x){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return p instanceof y}))throw new d.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,x)},m.prototype.length=function(){return this.children.reduce(function(p,x){return p+x.length()},0)},m.prototype.moveChildren=function(p,x){this.children.forEach(function(y){p.insertBefore(y,x)})},m.prototype.optimize=function(p){if(g.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var x=d.create(this.statics.defaultChild);this.appendChild(x),x.optimize(p)}else this.remove()},m.prototype.path=function(p,x){x===void 0&&(x=!1);var y=this.children.find(p,x),w=y[0],b=y[1],v=[[this,p]];return w instanceof m?v.concat(w.path(b,x)):(w!=null&&v.push([w,b]),v)},m.prototype.removeChild=function(p){this.children.remove(p)},m.prototype.replace=function(p){p instanceof m&&p.moveChildren(this),g.prototype.replace.call(this,p)},m.prototype.split=function(p,x){if(x===void 0&&(x=!1),!x){if(p===0)return this;if(p===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(p,this.length(),function(w,b,v){w=w.split(b,x),y.appendChild(w)}),y},m.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},m.prototype.update=function(p,x){var y=this,w=[],b=[];p.forEach(function(v){v.target===y.domNode&&v.type==="childList"&&(w.push.apply(w,v.addedNodes),b.push.apply(b,v.removedNodes))}),b.forEach(function(v){if(!(v.parentNode!=null&&v.tagName!=="IFRAME"&&document.body.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var j=d.find(v);j!=null&&(j.domNode.parentNode==null||j.domNode.parentNode===y.domNode)&&j.detach()}}),w.filter(function(v){return v.parentNode==y.domNode}).sort(function(v,j){return v===j?0:v.compareDocumentPosition(j)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(v){var j=null;v.nextSibling!=null&&(j=d.find(v.nextSibling));var N=h(v);(N.next!=j||N.next==null)&&(N.parent!=null&&N.parent.removeChild(y),y.insertBefore(N,j||void 0))})},m}(c.default);function h(g){var m=d.find(g);if(m==null)try{m=d.create(g)}catch(p){m=d.create(d.Scope.INLINE),[].slice.call(g.childNodes).forEach(function(x){m.domNode.appendChild(x)}),g.parentNode&&g.parentNode.replaceChild(m.domNode,g),m.attach()}return m}a.default=f},function(s,a,i){var o=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var x in p)p.hasOwnProperty(x)&&(m[x]=p[x])};return function(m,p){g(m,p);function x(){this.constructor=m}m.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=i(12),c=i(31),d=i(17),f=i(1),h=function(g){o(m,g);function m(p){var x=g.call(this,p)||this;return x.attributes=new c.default(x.domNode),x}return m.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},m.prototype.format=function(p,x){var y=f.query(p);y instanceof l.default?this.attributes.attribute(y,x):x&&y!=null&&(p!==this.statics.blotName||this.formats()[p]!==x)&&this.replaceWith(p,x)},m.prototype.formats=function(){var p=this.attributes.values(),x=this.statics.formats(this.domNode);return x!=null&&(p[this.statics.blotName]=x),p},m.prototype.replaceWith=function(p,x){var y=g.prototype.replaceWith.call(this,p,x);return this.attributes.copy(y),y},m.prototype.update=function(p,x){var y=this;g.prototype.update.call(this,p,x),p.some(function(w){return w.target===y.domNode&&w.type==="attributes"})&&this.attributes.build()},m.prototype.wrap=function(p,x){var y=g.prototype.wrap.call(this,p,x);return y instanceof m&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},m}(d.default);a.default=h},function(s,a,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var m in g)g.hasOwnProperty(m)&&(h[m]=g[m])};return function(h,g){f(h,g);function m(){this.constructor=h}h.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=i(30),c=i(1),d=function(f){o(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.value=function(g){return!0},h.prototype.index=function(g,m){return this.domNode===g||this.domNode.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(m,1):-1},h.prototype.position=function(g,m){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return g>0&&(p+=1),[this.parent.domNode,p]},h.prototype.value=function(){var g;return g={},g[this.statics.blotName]=this.statics.value(this.domNode)||!0,g},h.scope=c.Scope.INLINE_BLOT,h}(l.default);a.default=d},function(s,a,i){var o=i(11),l=i(3),c={attributes:{compose:function(f,h,g){typeof f!="object"&&(f={}),typeof h!="object"&&(h={});var m=l(!0,{},h);g||(m=Object.keys(m).reduce(function(x,y){return m[y]!=null&&(x[y]=m[y]),x},{}));for(var p in f)f[p]!==void 0&&h[p]===void 0&&(m[p]=f[p]);return Object.keys(m).length>0?m:void 0},diff:function(f,h){typeof f!="object"&&(f={}),typeof h!="object"&&(h={});var g=Object.keys(f).concat(Object.keys(h)).reduce(function(m,p){return o(f[p],h[p])||(m[p]=h[p]===void 0?null:h[p]),m},{});return Object.keys(g).length>0?g:void 0},transform:function(f,h,g){if(typeof f!="object")return h;if(typeof h=="object"){if(!g)return h;var m=Object.keys(h).reduce(function(p,x){return f[x]===void 0&&(p[x]=h[x]),p},{});return Object.keys(m).length>0?m:void 0}}},iterator:function(f){return new d(f)},length:function(f){return typeof f.delete=="number"?f.delete:typeof f.retain=="number"?f.retain:typeof f.insert=="string"?f.insert.length:1}};function d(f){this.ops=f,this.index=0,this.offset=0}d.prototype.hasNext=function(){return this.peekLength()<1/0},d.prototype.next=function(f){f||(f=1/0);var h=this.ops[this.index];if(h){var g=this.offset,m=c.length(h);if(f>=m-g?(f=m-g,this.index+=1,this.offset=0):this.offset+=f,typeof h.delete=="number")return{delete:f};var p={};return h.attributes&&(p.attributes=h.attributes),typeof h.retain=="number"?p.retain=f:typeof h.insert=="string"?p.insert=h.insert.substr(g,f):p.insert=h.insert,p}else return{retain:1/0}},d.prototype.peek=function(){return this.ops[this.index]},d.prototype.peekLength=function(){return this.ops[this.index]?c.length(this.ops[this.index])-this.offset:1/0},d.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},d.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var f=this.offset,h=this.index,g=this.next(),m=this.ops.slice(this.index);return this.offset=f,this.index=h,[g].concat(m)}else return[]},s.exports=c},function(s,a){var i=function(){function o(y,w){return w!=null&&y instanceof w}var l;try{l=Map}catch(y){l=function(){}}var c;try{c=Set}catch(y){c=function(){}}var d;try{d=Promise}catch(y){d=function(){}}function f(y,w,b,v,j){typeof w=="object"&&(b=w.depth,v=w.prototype,j=w.includeNonEnumerable,w=w.circular);var N=[],S=[],I=typeof Buffer!="undefined";typeof w=="undefined"&&(w=!0),typeof b=="undefined"&&(b=1/0);function E(L,C){if(L===null)return null;if(C===0)return L;var T,k;if(typeof L!="object")return L;if(o(L,l))T=new l;else if(o(L,c))T=new c;else if(o(L,d))T=new d(function(F,P){L.then(function(A){F(E(A,C-1))},function(A){P(E(A,C-1))})});else if(f.__isArray(L))T=[];else if(f.__isRegExp(L))T=new RegExp(L.source,x(L)),L.lastIndex&&(T.lastIndex=L.lastIndex);else if(f.__isDate(L))T=new Date(L.getTime());else{if(I&&Buffer.isBuffer(L))return Buffer.allocUnsafe?T=Buffer.allocUnsafe(L.length):T=new Buffer(L.length),L.copy(T),T;o(L,Error)?T=Object.create(L):typeof v=="undefined"?(k=Object.getPrototypeOf(L),T=Object.create(k)):(T=Object.create(v),k=v)}if(w){var M=N.indexOf(L);if(M!=-1)return S[M];N.push(L),S.push(T)}o(L,l)&&L.forEach(function(F,P){var A=E(P,C-1),B=E(F,C-1);T.set(A,B)}),o(L,c)&&L.forEach(function(F){var P=E(F,C-1);T.add(P)});for(var _ in L){var J;k&&(J=Object.getOwnPropertyDescriptor(k,_)),!(J&&J.set==null)&&(T[_]=E(L[_],C-1))}if(Object.getOwnPropertySymbols)for(var Y=Object.getOwnPropertySymbols(L),_=0;_<Y.length;_++){var te=Y[_],K=Object.getOwnPropertyDescriptor(L,te);K&&!K.enumerable&&!j||(T[te]=E(L[te],C-1),K.enumerable||Object.defineProperty(T,te,{enumerable:!1}))}if(j)for(var X=Object.getOwnPropertyNames(L),_=0;_<X.length;_++){var W=X[_],K=Object.getOwnPropertyDescriptor(L,W);K&&K.enumerable||(T[W]=E(L[W],C-1),Object.defineProperty(T,W,{enumerable:!1}))}return T}return E(y,b)}f.clonePrototype=function(w){if(w===null)return null;var b=function(){};return b.prototype=w,new b};function h(y){return Object.prototype.toString.call(y)}f.__objToStr=h;function g(y){return typeof y=="object"&&h(y)==="[object Date]"}f.__isDate=g;function m(y){return typeof y=="object"&&h(y)==="[object Array]"}f.__isArray=m;function p(y){return typeof y=="object"&&h(y)==="[object RegExp]"}f.__isRegExp=p;function x(y){var w="";return y.global&&(w+="g"),y.ignoreCase&&(w+="i"),y.multiline&&(w+="m"),w}return f.__getRegExpFlags=x,f}();typeof s=="object"&&s.exports&&(s.exports=i)},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function T(k,M){var _=[],J=!0,Y=!1,te=void 0;try{for(var K=k[Symbol.iterator](),X;!(J=(X=K.next()).done)&&(_.push(X.value),!(M&&_.length===M));J=!0);}catch(W){Y=!0,te=W}finally{try{!J&&K.return&&K.return()}finally{if(Y)throw te}}return _}return function(k,M){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return T(k,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function T(k,M){for(var _=0;_<M.length;_++){var J=M[_];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(k,J.key,J)}}return function(k,M,_){return M&&T(k.prototype,M),_&&T(k,_),k}}(),c=function T(k,M,_){k===null&&(k=Function.prototype);var J=Object.getOwnPropertyDescriptor(k,M);if(J===void 0){var Y=Object.getPrototypeOf(k);return Y===null?void 0:T(Y,M,_)}else{if("value"in J)return J.value;var te=J.get;return te===void 0?void 0:te.call(_)}},d=i(0),f=N(d),h=i(8),g=N(h),m=i(4),p=N(m),x=i(16),y=N(x),w=i(13),b=N(w),v=i(25),j=N(v);function N(T){return T&&T.__esModule?T:{default:T}}function S(T,k){if(!(T instanceof k))throw new TypeError("Cannot call a class as a function")}function I(T,k){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:T}function E(T,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);T.prototype=Object.create(k&&k.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(T,k):T.__proto__=k)}function L(T){return T instanceof p.default||T instanceof m.BlockEmbed}var C=function(T){E(k,T);function k(M,_){S(this,k);var J=I(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,M));return J.emitter=_.emitter,Array.isArray(_.whitelist)&&(J.whitelist=_.whitelist.reduce(function(Y,te){return Y[te]=!0,Y},{})),J.domNode.addEventListener("DOMNodeInserted",function(){}),J.optimize(),J.enable(),J}return l(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(_,J){var Y=this.line(_),te=o(Y,2),K=te[0],X=te[1],W=this.line(_+J),F=o(W,1),P=F[0];if(c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,_,J),P!=null&&K!==P&&X>0){if(K instanceof m.BlockEmbed||P instanceof m.BlockEmbed){this.optimize();return}if(K instanceof b.default){var A=K.newlineIndex(K.length(),!0);if(A>-1&&(K=K.split(A+1),K===P)){this.optimize();return}}else if(P instanceof b.default){var B=P.newlineIndex(0);B>-1&&P.split(B+1)}var z=P.children.head instanceof y.default?null:P.children.head;K.moveChildren(P,z),K.remove()}this.optimize()}},{key:"enable",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",_)}},{key:"formatAt",value:function(_,J,Y,te){this.whitelist!=null&&!this.whitelist[Y]||(c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,_,J,Y,te),this.optimize())}},{key:"insertAt",value:function(_,J,Y){if(!(Y!=null&&this.whitelist!=null&&!this.whitelist[J])){if(_>=this.length())if(Y==null||f.default.query(J,f.default.Scope.BLOCK)==null){var te=f.default.create(this.statics.defaultChild);this.appendChild(te),Y==null&&J.endsWith(`
`)&&(J=J.slice(0,-1)),te.insertAt(0,J,Y)}else{var K=f.default.create(J,Y);this.appendChild(K)}else c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,_,J,Y);this.optimize()}}},{key:"insertBefore",value:function(_,J){if(_.statics.scope===f.default.Scope.INLINE_BLOT){var Y=f.default.create(this.statics.defaultChild);Y.appendChild(_),_=Y}c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,_,J)}},{key:"leaf",value:function(_){return this.path(_).pop()||[null,-1]}},{key:"line",value:function(_){return _===this.length()?this.line(_-1):this.descendant(L,_)}},{key:"lines",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,Y=function te(K,X,W){var F=[],P=W;return K.children.forEachAt(X,W,function(A,B,z){L(A)?F.push(A):A instanceof f.default.Container&&(F=F.concat(te(A,B,P))),P-=z}),F};return Y(this,_,J)}},{key:"optimize",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,_,J),_.length>0&&this.emitter.emit(g.default.events.SCROLL_OPTIMIZE,_,J))}},{key:"path",value:function(_){return c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,_).slice(1)}},{key:"update",value:function(_){if(this.batch!==!0){var J=g.default.sources.USER;typeof _=="string"&&(J=_),Array.isArray(_)||(_=this.observer.takeRecords()),_.length>0&&this.emitter.emit(g.default.events.SCROLL_BEFORE_UPDATE,J,_),c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,_.concat([])),_.length>0&&this.emitter.emit(g.default.events.SCROLL_UPDATE,J,_)}}}]),k}(f.default.Scroll);C.blotName="scroll",C.className="ql-editor",C.tagName="DIV",C.defaultChild="block",C.allowedChildren=[p.default,m.BlockEmbed,j.default],a.default=C},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.SHORTKEY=a.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},l=function(){function U(Z,se){var fe=[],le=!0,Ne=!1,Te=void 0;try{for(var ht=Z[Symbol.iterator](),Fe;!(le=(Fe=ht.next()).done)&&(fe.push(Fe.value),!(se&&fe.length===se));le=!0);}catch(Ve){Ne=!0,Te=Ve}finally{try{!le&&ht.return&&ht.return()}finally{if(Ne)throw Te}}return fe}return function(Z,se){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return U(Z,se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function U(Z,se){for(var fe=0;fe<se.length;fe++){var le=se[fe];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(Z,le.key,le)}}return function(Z,se,fe){return se&&U(Z.prototype,se),fe&&U(Z,fe),Z}}(),d=i(21),f=T(d),h=i(11),g=T(h),m=i(3),p=T(m),x=i(2),y=T(x),w=i(20),b=T(w),v=i(0),j=T(v),N=i(5),S=T(N),I=i(10),E=T(I),L=i(9),C=T(L);function T(U){return U&&U.__esModule?U:{default:U}}function k(U,Z,se){return Z in U?Object.defineProperty(U,Z,{value:se,enumerable:!0,configurable:!0,writable:!0}):U[Z]=se,U}function M(U,Z){if(!(U instanceof Z))throw new TypeError("Cannot call a class as a function")}function _(U,Z){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:U}function J(U,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);U.prototype=Object.create(Z&&Z.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(U,Z):U.__proto__=Z)}var Y=(0,E.default)("quill:keyboard"),te=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",K=function(U){J(Z,U),c(Z,null,[{key:"match",value:function(fe,le){return le=O(le),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Ne){return!!le[Ne]!==fe[Ne]&&le[Ne]!==null})?!1:le.key===(fe.which||fe.keyCode)}}]);function Z(se,fe){M(this,Z);var le=_(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,se,fe));return le.bindings={},Object.keys(le.options.bindings).forEach(function(Ne){Ne==="list autofill"&&se.scroll.whitelist!=null&&!se.scroll.whitelist.list||le.options.bindings[Ne]&&le.addBinding(le.options.bindings[Ne])}),le.addBinding({key:Z.keys.ENTER,shiftKey:null},A),le.addBinding({key:Z.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(le.addBinding({key:Z.keys.BACKSPACE},{collapsed:!0},W),le.addBinding({key:Z.keys.DELETE},{collapsed:!0},F)):(le.addBinding({key:Z.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},W),le.addBinding({key:Z.keys.DELETE},{collapsed:!0,suffix:/^.?$/},F)),le.addBinding({key:Z.keys.BACKSPACE},{collapsed:!1},P),le.addBinding({key:Z.keys.DELETE},{collapsed:!1},P),le.addBinding({key:Z.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},W),le.listen(),le}return c(Z,[{key:"addBinding",value:function(fe){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Te=O(fe);if(Te==null||Te.key==null)return Y.warn("Attempted to add invalid keyboard binding",Te);typeof le=="function"&&(le={handler:le}),typeof Ne=="function"&&(Ne={handler:Ne}),Te=(0,p.default)(Te,le,Ne),this.bindings[Te.key]=this.bindings[Te.key]||[],this.bindings[Te.key].push(Te)}},{key:"listen",value:function(){var fe=this;this.quill.root.addEventListener("keydown",function(le){if(!le.defaultPrevented){var Ne=le.which||le.keyCode,Te=(fe.bindings[Ne]||[]).filter(function(Ue){return Z.match(le,Ue)});if(Te.length!==0){var ht=fe.quill.getSelection();if(!(ht==null||!fe.quill.hasFocus())){var Fe=fe.quill.getLine(ht.index),Ve=l(Fe,2),ut=Ve[0],Je=Ve[1],G=fe.quill.getLeaf(ht.index),ae=l(G,2),Me=ae[0],he=ae[1],ye=ht.length===0?[Me,he]:fe.quill.getLeaf(ht.index+ht.length),oe=l(ye,2),ie=oe[0],q=oe[1],Se=Me instanceof j.default.Text?Me.value().slice(0,he):"",$e=ie instanceof j.default.Text?ie.value().slice(q):"",rt={collapsed:ht.length===0,empty:ht.length===0&&ut.length()<=1,format:fe.quill.getFormat(ht),offset:Je,prefix:Se,suffix:$e},nt=Te.some(function(Ue){if(Ue.collapsed!=null&&Ue.collapsed!==rt.collapsed||Ue.empty!=null&&Ue.empty!==rt.empty||Ue.offset!=null&&Ue.offset!==rt.offset)return!1;if(Array.isArray(Ue.format)){if(Ue.format.every(function(xt){return rt.format[xt]==null}))return!1}else if(o(Ue.format)==="object"&&!Object.keys(Ue.format).every(function(xt){return Ue.format[xt]===!0?rt.format[xt]!=null:Ue.format[xt]===!1?rt.format[xt]==null:(0,g.default)(Ue.format[xt],rt.format[xt])}))return!1;return Ue.prefix!=null&&!Ue.prefix.test(rt.prefix)||Ue.suffix!=null&&!Ue.suffix.test(rt.suffix)?!1:Ue.handler.call(fe,ht,rt)!==!0});nt&&le.preventDefault()}}}})}}]),Z}(C.default);K.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},K.DEFAULTS={bindings:{bold:z("bold"),italic:z("italic"),underline:z("underline"),indent:{key:K.keys.TAB,format:["blockquote","indent","list"],handler:function(Z,se){if(se.collapsed&&se.offset!==0)return!0;this.quill.format("indent","+1",S.default.sources.USER)}},outdent:{key:K.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Z,se){if(se.collapsed&&se.offset!==0)return!0;this.quill.format("indent","-1",S.default.sources.USER)}},"outdent backspace":{key:K.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Z,se){se.format.indent!=null?this.quill.format("indent","-1",S.default.sources.USER):se.format.list!=null&&this.quill.format("list",!1,S.default.sources.USER)}},"indent code-block":B(!0),"outdent code-block":B(!1),"remove tab":{key:K.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Z){this.quill.deleteText(Z.index-1,1,S.default.sources.USER)}},tab:{key:K.keys.TAB,handler:function(Z){this.quill.history.cutoff();var se=new y.default().retain(Z.index).delete(Z.length).insert("	");this.quill.updateContents(se,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Z.index+1,S.default.sources.SILENT)}},"list empty enter":{key:K.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Z,se){this.quill.format("list",!1,S.default.sources.USER),se.format.indent&&this.quill.format("indent",!1,S.default.sources.USER)}},"checklist enter":{key:K.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Z){var se=this.quill.getLine(Z.index),fe=l(se,2),le=fe[0],Ne=fe[1],Te=(0,p.default)({},le.formats(),{list:"checked"}),ht=new y.default().retain(Z.index).insert(`
`,Te).retain(le.length()-Ne-1).retain(1,{list:"unchecked"});this.quill.updateContents(ht,S.default.sources.USER),this.quill.setSelection(Z.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:K.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Z,se){var fe=this.quill.getLine(Z.index),le=l(fe,2),Ne=le[0],Te=le[1],ht=new y.default().retain(Z.index).insert(`
`,se.format).retain(Ne.length()-Te-1).retain(1,{header:null});this.quill.updateContents(ht,S.default.sources.USER),this.quill.setSelection(Z.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Z,se){var fe=se.prefix.length,le=this.quill.getLine(Z.index),Ne=l(le,2),Te=Ne[0],ht=Ne[1];if(ht>fe)return!0;var Fe=void 0;switch(se.prefix.trim()){case"[]":case"[ ]":Fe="unchecked";break;case"[x]":Fe="checked";break;case"-":case"*":Fe="bullet";break;default:Fe="ordered"}this.quill.insertText(Z.index," ",S.default.sources.USER),this.quill.history.cutoff();var Ve=new y.default().retain(Z.index-ht).delete(fe+1).retain(Te.length()-2-ht).retain(1,{list:Fe});this.quill.updateContents(Ve,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Z.index-fe,S.default.sources.SILENT)}},"code exit":{key:K.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Z){var se=this.quill.getLine(Z.index),fe=l(se,2),le=fe[0],Ne=fe[1],Te=new y.default().retain(Z.index+le.length()-Ne-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Te,S.default.sources.USER)}},"embed left":X(K.keys.LEFT,!1),"embed left shift":X(K.keys.LEFT,!0),"embed right":X(K.keys.RIGHT,!1),"embed right shift":X(K.keys.RIGHT,!0)}};function X(U,Z){var se,fe=U===K.keys.LEFT?"prefix":"suffix";return se={key:U,shiftKey:Z,altKey:null},k(se,fe,/^$/),k(se,"handler",function(Ne){var Te=Ne.index;U===K.keys.RIGHT&&(Te+=Ne.length+1);var ht=this.quill.getLeaf(Te),Fe=l(ht,1),Ve=Fe[0];return Ve instanceof j.default.Embed?(U===K.keys.LEFT?Z?this.quill.setSelection(Ne.index-1,Ne.length+1,S.default.sources.USER):this.quill.setSelection(Ne.index-1,S.default.sources.USER):Z?this.quill.setSelection(Ne.index,Ne.length+1,S.default.sources.USER):this.quill.setSelection(Ne.index+Ne.length+1,S.default.sources.USER),!1):!0}),se}function W(U,Z){if(!(U.index===0||this.quill.getLength()<=1)){var se=this.quill.getLine(U.index),fe=l(se,1),le=fe[0],Ne={};if(Z.offset===0){var Te=this.quill.getLine(U.index-1),ht=l(Te,1),Fe=ht[0];if(Fe!=null&&Fe.length()>1){var Ve=le.formats(),ut=this.quill.getFormat(U.index-1,1);Ne=b.default.attributes.diff(Ve,ut)||{}}}var Je=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Z.prefix)?2:1;this.quill.deleteText(U.index-Je,Je,S.default.sources.USER),Object.keys(Ne).length>0&&this.quill.formatLine(U.index-Je,Je,Ne,S.default.sources.USER),this.quill.focus()}}function F(U,Z){var se=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Z.suffix)?2:1;if(!(U.index>=this.quill.getLength()-se)){var fe={},le=0,Ne=this.quill.getLine(U.index),Te=l(Ne,1),ht=Te[0];if(Z.offset>=ht.length()-1){var Fe=this.quill.getLine(U.index+1),Ve=l(Fe,1),ut=Ve[0];if(ut){var Je=ht.formats(),G=this.quill.getFormat(U.index,1);fe=b.default.attributes.diff(Je,G)||{},le=ut.length()}}this.quill.deleteText(U.index,se,S.default.sources.USER),Object.keys(fe).length>0&&this.quill.formatLine(U.index+le-1,se,fe,S.default.sources.USER)}}function P(U){var Z=this.quill.getLines(U),se={};if(Z.length>1){var fe=Z[0].formats(),le=Z[Z.length-1].formats();se=b.default.attributes.diff(le,fe)||{}}this.quill.deleteText(U,S.default.sources.USER),Object.keys(se).length>0&&this.quill.formatLine(U.index,1,se,S.default.sources.USER),this.quill.setSelection(U.index,S.default.sources.SILENT),this.quill.focus()}function A(U,Z){var se=this;U.length>0&&this.quill.scroll.deleteAt(U.index,U.length);var fe=Object.keys(Z.format).reduce(function(le,Ne){return j.default.query(Ne,j.default.Scope.BLOCK)&&!Array.isArray(Z.format[Ne])&&(le[Ne]=Z.format[Ne]),le},{});this.quill.insertText(U.index,`
`,fe,S.default.sources.USER),this.quill.setSelection(U.index+1,S.default.sources.SILENT),this.quill.focus(),Object.keys(Z.format).forEach(function(le){fe[le]==null&&(Array.isArray(Z.format[le])||le!=="link"&&se.quill.format(le,Z.format[le],S.default.sources.USER))})}function B(U){return{key:K.keys.TAB,shiftKey:!U,format:{"code-block":!0},handler:function(se){var fe=j.default.query("code-block"),le=se.index,Ne=se.length,Te=this.quill.scroll.descendant(fe,le),ht=l(Te,2),Fe=ht[0],Ve=ht[1];if(Fe!=null){var ut=this.quill.getIndex(Fe),Je=Fe.newlineIndex(Ve,!0)+1,G=Fe.newlineIndex(ut+Ve+Ne),ae=Fe.domNode.textContent.slice(Je,G).split(`
`);Ve=0,ae.forEach(function(Me,he){U?(Fe.insertAt(Je+Ve,fe.TAB),Ve+=fe.TAB.length,he===0?le+=fe.TAB.length:Ne+=fe.TAB.length):Me.startsWith(fe.TAB)&&(Fe.deleteAt(Je+Ve,fe.TAB.length),Ve-=fe.TAB.length,he===0?le-=fe.TAB.length:Ne-=fe.TAB.length),Ve+=Me.length+1}),this.quill.update(S.default.sources.USER),this.quill.setSelection(le,Ne,S.default.sources.SILENT)}}}}function z(U){return{key:U[0].toUpperCase(),shortKey:!0,handler:function(se,fe){this.quill.format(U,!fe.format[U],S.default.sources.USER)}}}function O(U){if(typeof U=="string"||typeof U=="number")return O({key:U});if((typeof U=="undefined"?"undefined":o(U))==="object"&&(U=(0,f.default)(U,!1)),typeof U.key=="string")if(K.keys[U.key.toUpperCase()]!=null)U.key=K.keys[U.key.toUpperCase()];else if(U.key.length===1)U.key=U.key.toUpperCase().charCodeAt(0);else return null;return U.shortKey&&(U[te]=U.shortKey,delete U.shortKey),U}a.default=K,a.SHORTKEY=te},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function b(v,j){var N=[],S=!0,I=!1,E=void 0;try{for(var L=v[Symbol.iterator](),C;!(S=(C=L.next()).done)&&(N.push(C.value),!(j&&N.length===j));S=!0);}catch(T){I=!0,E=T}finally{try{!S&&L.return&&L.return()}finally{if(I)throw E}}return N}return function(v,j){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return b(v,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function b(v,j,N){v===null&&(v=Function.prototype);var S=Object.getOwnPropertyDescriptor(v,j);if(S===void 0){var I=Object.getPrototypeOf(v);return I===null?void 0:b(I,j,N)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(N)}},c=function(){function b(v,j){for(var N=0;N<j.length;N++){var S=j[N];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,j,N){return j&&b(v.prototype,j),N&&b(v,N),v}}(),d=i(0),f=m(d),h=i(7),g=m(h);function m(b){return b&&b.__esModule?b:{default:b}}function p(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function x(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:b}function y(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}var w=function(b){y(v,b),c(v,null,[{key:"value",value:function(){}}]);function v(j,N){p(this,v);var S=x(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,j));return S.selection=N,S.textNode=document.createTextNode(v.CONTENTS),S.domNode.appendChild(S.textNode),S._length=0,S}return c(v,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(N,S){if(this._length!==0)return l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,N,S);for(var I=this,E=0;I!=null&&I.statics.scope!==f.default.Scope.BLOCK_BLOT;)E+=I.offset(I.parent),I=I.parent;I!=null&&(this._length=v.CONTENTS.length,I.optimize(),I.formatAt(E,v.CONTENTS.length,N,S),this._length=0)}},{key:"index",value:function(N,S){return N===this.textNode?0:l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,N,S)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var N=this.textNode,S=this.selection.getNativeRange(),I=void 0,E=void 0,L=void 0;if(S!=null&&S.start.node===N&&S.end.node===N){var C=[N,S.start.offset,S.end.offset];I=C[0],E=C[1],L=C[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==v.CONTENTS){var T=this.textNode.data.split(v.CONTENTS).join("");this.next instanceof g.default?(I=this.next.domNode,this.next.insertAt(0,T),this.textNode.data=v.CONTENTS):(this.textNode.data=T,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(v.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),E!=null){var k=[E,L].map(function(_){return Math.max(0,Math.min(I.data.length,_-1))}),M=o(k,2);return E=M[0],L=M[1],{startNode:I,startOffset:E,endNode:I,endOffset:L}}}}},{key:"update",value:function(N,S){var I=this;if(N.some(function(L){return L.type==="characterData"&&L.target===I.textNode})){var E=this.restore();E&&(S.range=E)}}},{key:"value",value:function(){return""}}]),v}(f.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",a.default=w},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=i(0),l=f(o),c=i(4),d=f(c);function f(x){return x&&x.__esModule?x:{default:x}}function h(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function g(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function m(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var p=function(x){m(y,x);function y(){return h(this,y),g(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(l.default.Container);p.allowedChildren=[d.default,c.BlockEmbed,p],a.default=p},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.ColorStyle=a.ColorClass=a.ColorAttributor=void 0;var o=function(){function w(b,v){for(var j=0;j<v.length;j++){var N=v[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,v,j){return v&&w(b.prototype,v),j&&w(b,j),b}}(),l=function w(b,v,j){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,v);if(N===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:w(S,v,j)}else{if("value"in N)return N.value;var I=N.get;return I===void 0?void 0:I.call(j)}},c=i(0),d=f(c);function f(w){return w&&w.__esModule?w:{default:w}}function h(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function g(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function m(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var p=function(w){m(b,w);function b(){return h(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"value",value:function(j){var N=l(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,j);return N.startsWith("rgb(")?(N=N.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+N.split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join("")):N}}]),b}(d.default.Attributor.Style),x=new d.default.Attributor.Class("color","ql-color",{scope:d.default.Scope.INLINE}),y=new p("color","color",{scope:d.default.Scope.INLINE});a.ColorAttributor=p,a.ColorClass=x,a.ColorStyle=y},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.sanitize=a.default=void 0;var o=function(){function y(w,b){for(var v=0;v<b.length;v++){var j=b[v];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(w,j.key,j)}}return function(w,b,v){return b&&y(w.prototype,b),v&&y(w,v),w}}(),l=function y(w,b,v){w===null&&(w=Function.prototype);var j=Object.getOwnPropertyDescriptor(w,b);if(j===void 0){var N=Object.getPrototypeOf(w);return N===null?void 0:y(N,b,v)}else{if("value"in j)return j.value;var S=j.get;return S===void 0?void 0:S.call(v)}},c=i(6),d=f(c);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function g(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function m(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var p=function(y){m(w,y);function w(){return h(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"format",value:function(v,j){if(v!==this.statics.blotName||!j)return l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,v,j);j=this.constructor.sanitize(j),this.domNode.setAttribute("href",j)}}],[{key:"create",value:function(v){var j=l(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,v);return v=this.sanitize(v),j.setAttribute("href",v),j.setAttribute("rel","noopener noreferrer"),j.setAttribute("target","_blank"),j}},{key:"formats",value:function(v){return v.getAttribute("href")}},{key:"sanitize",value:function(v){return x(v,this.PROTOCOL_WHITELIST)?v:this.SANITIZED_URL}}]),w}(d.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function x(y,w){var b=document.createElement("a");b.href=y;var v=b.href.slice(0,b.href.indexOf(":"));return w.indexOf(v)>-1}a.default=p,a.sanitize=x},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},l=function(){function w(b,v){for(var j=0;j<v.length;j++){var N=v[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,v,j){return v&&w(b.prototype,v),j&&w(b,j),b}}(),c=i(23),d=g(c),f=i(107),h=g(f);function g(w){return w&&w.__esModule?w:{default:w}}function m(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}var p=0;function x(w,b){w.setAttribute(b,w.getAttribute(b)!=="true")}var y=function(){function w(b){var v=this;m(this,w),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){v.togglePicker()}),this.label.addEventListener("keydown",function(j){switch(j.keyCode){case d.default.keys.ENTER:v.togglePicker();break;case d.default.keys.ESCAPE:v.escape(),j.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return l(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),x(this.label,"aria-expanded"),x(this.options,"aria-hidden")}},{key:"buildItem",value:function(v){var j=this,N=document.createElement("span");return N.tabIndex="0",N.setAttribute("role","button"),N.classList.add("ql-picker-item"),v.hasAttribute("value")&&N.setAttribute("data-value",v.getAttribute("value")),v.textContent&&N.setAttribute("data-label",v.textContent),N.addEventListener("click",function(){j.selectItem(N,!0)}),N.addEventListener("keydown",function(S){switch(S.keyCode){case d.default.keys.ENTER:j.selectItem(N,!0),S.preventDefault();break;case d.default.keys.ESCAPE:j.escape(),S.preventDefault();break}}),N}},{key:"buildLabel",value:function(){var v=document.createElement("span");return v.classList.add("ql-picker-label"),v.innerHTML=h.default,v.tabIndex="0",v.setAttribute("role","button"),v.setAttribute("aria-expanded","false"),this.container.appendChild(v),v}},{key:"buildOptions",value:function(){var v=this,j=document.createElement("span");j.classList.add("ql-picker-options"),j.setAttribute("aria-hidden","true"),j.tabIndex="-1",j.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",j.id),this.options=j,[].slice.call(this.select.options).forEach(function(N){var S=v.buildItem(N);j.appendChild(S),N.selected===!0&&v.selectItem(S)}),this.container.appendChild(j)}},{key:"buildPicker",value:function(){var v=this;[].slice.call(this.select.attributes).forEach(function(j){v.container.setAttribute(j.name,j.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var v=this;this.close(),setTimeout(function(){return v.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(v){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N=this.container.querySelector(".ql-selected");if(v!==N&&(N!=null&&N.classList.remove("ql-selected"),v!=null&&(v.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(v.parentNode.children,v),v.hasAttribute("data-value")?this.label.setAttribute("data-value",v.getAttribute("data-value")):this.label.removeAttribute("data-value"),v.hasAttribute("data-label")?this.label.setAttribute("data-label",v.getAttribute("data-label")):this.label.removeAttribute("data-label"),j))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event=="undefined"?"undefined":o(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var v=void 0;if(this.select.selectedIndex>-1){var j=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];v=this.select.options[this.select.selectedIndex],this.selectItem(j)}else this.selectItem(null);var N=v!=null&&v!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",N)}}]),w}();a.default=y},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=i(0),l=Y(o),c=i(5),d=Y(c),f=i(4),h=Y(f),g=i(16),m=Y(g),p=i(25),x=Y(p),y=i(24),w=Y(y),b=i(35),v=Y(b),j=i(6),N=Y(j),S=i(22),I=Y(S),E=i(7),L=Y(E),C=i(55),T=Y(C),k=i(42),M=Y(k),_=i(23),J=Y(_);function Y(te){return te&&te.__esModule?te:{default:te}}d.default.register({"blots/block":h.default,"blots/block/embed":f.BlockEmbed,"blots/break":m.default,"blots/container":x.default,"blots/cursor":w.default,"blots/embed":v.default,"blots/inline":N.default,"blots/scroll":I.default,"blots/text":L.default,"modules/clipboard":T.default,"modules/history":M.default,"modules/keyboard":J.default}),l.default.register(h.default,m.default,w.default,N.default,I.default,L.default),a.default=d.default},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=i(1),l=function(){function c(d){this.domNode=d,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(d){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var f;return Array.isArray(this.tagName)?(typeof d=="string"&&(d=d.toUpperCase(),parseInt(d).toString()===d&&(d=parseInt(d))),typeof d=="number"?f=document.createElement(this.tagName[d-1]):this.tagName.indexOf(d)>-1?f=document.createElement(d):f=document.createElement(this.tagName[0])):f=document.createElement(this.tagName),this.className&&f.classList.add(this.className),f},c.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var d=this.domNode.cloneNode(!1);return o.create(d)},c.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},c.prototype.deleteAt=function(d,f){var h=this.isolate(d,f);h.remove()},c.prototype.formatAt=function(d,f,h,g){var m=this.isolate(d,f);if(o.query(h,o.Scope.BLOT)!=null&&g)m.wrap(h,g);else if(o.query(h,o.Scope.ATTRIBUTE)!=null){var p=o.create(this.statics.scope);m.wrap(p),p.format(h,g)}},c.prototype.insertAt=function(d,f,h){var g=h==null?o.create("text",f):o.create(f,h),m=this.split(d);this.parent.insertBefore(g,m)},c.prototype.insertInto=function(d,f){f===void 0&&(f=null),this.parent!=null&&this.parent.children.remove(this);var h=null;d.children.insertBefore(this,f),f!=null&&(h=f.domNode),(this.domNode.parentNode!=d.domNode||this.domNode.nextSibling!=h)&&d.domNode.insertBefore(this.domNode,h),this.parent=d,this.attach()},c.prototype.isolate=function(d,f){var h=this.split(d);return h.split(f),h},c.prototype.length=function(){return 1},c.prototype.offset=function(d){return d===void 0&&(d=this.parent),this.parent==null||this==d?0:this.parent.children.offset(this)+this.parent.offset(d)},c.prototype.optimize=function(d){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},c.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(d){d.parent!=null&&(d.parent.insertBefore(this,d.next),d.remove())},c.prototype.replaceWith=function(d,f){var h=typeof d=="string"?o.create(d,f):d;return h.replace(this),h},c.prototype.split=function(d,f){return d===0?this:this.next},c.prototype.update=function(d,f){},c.prototype.wrap=function(d,f){var h=typeof d=="string"?o.create(d,f):d;return this.parent!=null&&this.parent.insertBefore(h,this.next),h.appendChild(this),h},c.blotName="abstract",c}();a.default=l},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=i(12),l=i(32),c=i(33),d=i(1),f=function(){function h(g){this.attributes={},this.domNode=g,this.build()}return h.prototype.attribute=function(g,m){m?g.add(this.domNode,m)&&(g.value(this.domNode)!=null?this.attributes[g.attrName]=g:delete this.attributes[g.attrName]):(g.remove(this.domNode),delete this.attributes[g.attrName])},h.prototype.build=function(){var g=this;this.attributes={};var m=o.default.keys(this.domNode),p=l.default.keys(this.domNode),x=c.default.keys(this.domNode);m.concat(p).concat(x).forEach(function(y){var w=d.query(y,d.Scope.ATTRIBUTE);w instanceof o.default&&(g.attributes[w.attrName]=w)})},h.prototype.copy=function(g){var m=this;Object.keys(this.attributes).forEach(function(p){var x=m.attributes[p].value(m.domNode);g.format(p,x)})},h.prototype.move=function(g){var m=this;this.copy(g),Object.keys(this.attributes).forEach(function(p){m.attributes[p].remove(m.domNode)}),this.attributes={}},h.prototype.values=function(){var g=this;return Object.keys(this.attributes).reduce(function(m,p){return m[p]=g.attributes[p].value(g.domNode),m},{})},h}();a.default=f},function(s,a,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var m in g)g.hasOwnProperty(m)&&(h[m]=g[m])};return function(h,g){f(h,g);function m(){this.constructor=h}h.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=i(12);function c(f,h){var g=f.getAttribute("class")||"";return g.split(/\s+/).filter(function(m){return m.indexOf(h+"-")===0})}var d=function(f){o(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.keys=function(g){return(g.getAttribute("class")||"").split(/\s+/).map(function(m){return m.split("-").slice(0,-1).join("-")})},h.prototype.add=function(g,m){return this.canAdd(g,m)?(this.remove(g),g.classList.add(this.keyName+"-"+m),!0):!1},h.prototype.remove=function(g){var m=c(g,this.keyName);m.forEach(function(p){g.classList.remove(p)}),g.classList.length===0&&g.removeAttribute("class")},h.prototype.value=function(g){var m=c(g,this.keyName)[0]||"",p=m.slice(this.keyName.length+1);return this.canAdd(g,p)?p:""},h}(l.default);a.default=d},function(s,a,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var m in g)g.hasOwnProperty(m)&&(h[m]=g[m])};return function(h,g){f(h,g);function m(){this.constructor=h}h.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=i(12);function c(f){var h=f.split("-"),g=h.slice(1).map(function(m){return m[0].toUpperCase()+m.slice(1)}).join("");return h[0]+g}var d=function(f){o(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.keys=function(g){return(g.getAttribute("style")||"").split(";").map(function(m){var p=m.split(":");return p[0].trim()})},h.prototype.add=function(g,m){return this.canAdd(g,m)?(g.style[c(this.keyName)]=m,!0):!1},h.prototype.remove=function(g){g.style[c(this.keyName)]="",g.getAttribute("style")||g.removeAttribute("style")},h.prototype.value=function(g){var m=g.style[c(this.keyName)];return this.canAdd(g,m)?m:""},h}(l.default);a.default=d},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function d(f,h){for(var g=0;g<h.length;g++){var m=h[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,h,g){return h&&d(f.prototype,h),g&&d(f,g),f}}();function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}var c=function(){function d(f,h){l(this,d),this.quill=f,this.options=h,this.modules={}}return o(d,[{key:"init",value:function(){var h=this;Object.keys(this.options.modules).forEach(function(g){h.modules[g]==null&&h.addModule(g)})}},{key:"addModule",value:function(h){var g=this.quill.constructor.import("modules/"+h);return this.modules[h]=new g(this.quill,this.options.modules[h]||{}),this.modules[h]}}]),d}();c.DEFAULTS={modules:{}},c.themes={default:c},a.default=c},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function b(v,j){for(var N=0;N<j.length;N++){var S=j[N];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,j,N){return j&&b(v.prototype,j),N&&b(v,N),v}}(),l=function b(v,j,N){v===null&&(v=Function.prototype);var S=Object.getOwnPropertyDescriptor(v,j);if(S===void 0){var I=Object.getPrototypeOf(v);return I===null?void 0:b(I,j,N)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(N)}},c=i(0),d=g(c),f=i(7),h=g(f);function g(b){return b&&b.__esModule?b:{default:b}}function m(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function p(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:b}function x(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}var y="\uFEFF",w=function(b){x(v,b);function v(j){m(this,v);var N=p(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,j));return N.contentNode=document.createElement("span"),N.contentNode.setAttribute("contenteditable",!1),[].slice.call(N.domNode.childNodes).forEach(function(S){N.contentNode.appendChild(S)}),N.leftGuard=document.createTextNode(y),N.rightGuard=document.createTextNode(y),N.domNode.appendChild(N.leftGuard),N.domNode.appendChild(N.contentNode),N.domNode.appendChild(N.rightGuard),N}return o(v,[{key:"index",value:function(N,S){return N===this.leftGuard?0:N===this.rightGuard?1:l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,N,S)}},{key:"restore",value:function(N){var S=void 0,I=void 0,E=N.data.split(y).join("");if(N===this.leftGuard)if(this.prev instanceof h.default){var L=this.prev.length();this.prev.insertAt(L,E),S={startNode:this.prev.domNode,startOffset:L+E.length}}else I=document.createTextNode(E),this.parent.insertBefore(d.default.create(I),this),S={startNode:I,startOffset:E.length};else N===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,E),S={startNode:this.next.domNode,startOffset:E.length}):(I=document.createTextNode(E),this.parent.insertBefore(d.default.create(I),this.next),S={startNode:I,startOffset:E.length}));return N.data=y,S}},{key:"update",value:function(N,S){var I=this;N.forEach(function(E){if(E.type==="characterData"&&(E.target===I.leftGuard||E.target===I.rightGuard)){var L=I.restore(E.target);L&&(S.range=L)}})}}]),v}(d.default.Embed);a.default=w},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.AlignStyle=a.AlignClass=a.AlignAttribute=void 0;var o=i(0),l=c(o);function c(m){return m&&m.__esModule?m:{default:m}}var d={scope:l.default.Scope.BLOCK,whitelist:["right","center","justify"]},f=new l.default.Attributor.Attribute("align","align",d),h=new l.default.Attributor.Class("align","ql-align",d),g=new l.default.Attributor.Style("align","text-align",d);a.AlignAttribute=f,a.AlignClass=h,a.AlignStyle=g},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.BackgroundStyle=a.BackgroundClass=void 0;var o=i(0),l=d(o),c=i(26);function d(g){return g&&g.__esModule?g:{default:g}}var f=new l.default.Attributor.Class("background","ql-bg",{scope:l.default.Scope.INLINE}),h=new c.ColorAttributor("background","background-color",{scope:l.default.Scope.INLINE});a.BackgroundClass=f,a.BackgroundStyle=h},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.DirectionStyle=a.DirectionClass=a.DirectionAttribute=void 0;var o=i(0),l=c(o);function c(m){return m&&m.__esModule?m:{default:m}}var d={scope:l.default.Scope.BLOCK,whitelist:["rtl"]},f=new l.default.Attributor.Attribute("direction","dir",d),h=new l.default.Attributor.Class("direction","ql-direction",d),g=new l.default.Attributor.Style("direction","direction",d);a.DirectionAttribute=f,a.DirectionClass=h,a.DirectionStyle=g},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.FontClass=a.FontStyle=void 0;var o=function(){function b(v,j){for(var N=0;N<j.length;N++){var S=j[N];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,j,N){return j&&b(v.prototype,j),N&&b(v,N),v}}(),l=function b(v,j,N){v===null&&(v=Function.prototype);var S=Object.getOwnPropertyDescriptor(v,j);if(S===void 0){var I=Object.getPrototypeOf(v);return I===null?void 0:b(I,j,N)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(N)}},c=i(0),d=f(c);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function g(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:b}function m(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}var p={scope:d.default.Scope.INLINE,whitelist:["serif","monospace"]},x=new d.default.Attributor.Class("font","ql-font",p),y=function(b){m(v,b);function v(){return h(this,v),g(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"value",value:function(N){return l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,N).replace(/["']/g,"")}}]),v}(d.default.Attributor.Style),w=new y("font","font-family",p);a.FontStyle=w,a.FontClass=x},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.SizeStyle=a.SizeClass=void 0;var o=i(0),l=c(o);function c(h){return h&&h.__esModule?h:{default:h}}var d=new l.default.Attributor.Class("size","ql-size",{scope:l.default.Scope.INLINE,whitelist:["small","large","huge"]}),f=new l.default.Attributor.Style("size","font-size",{scope:l.default.Scope.INLINE,whitelist:["10px","18px","32px"]});a.SizeClass=d,a.SizeStyle=f},function(s,a,i){s.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.getLastChangeIndex=a.default=void 0;var o=function(){function j(N,S){for(var I=0;I<S.length;I++){var E=S[I];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(N,E.key,E)}}return function(N,S,I){return S&&j(N.prototype,S),I&&j(N,I),N}}(),l=i(0),c=m(l),d=i(5),f=m(d),h=i(9),g=m(h);function m(j){return j&&j.__esModule?j:{default:j}}function p(j,N){if(!(j instanceof N))throw new TypeError("Cannot call a class as a function")}function x(j,N){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:j}function y(j,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);j.prototype=Object.create(N&&N.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(j,N):j.__proto__=N)}var w=function(j){y(N,j);function N(S,I){p(this,N);var E=x(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,S,I));return E.lastRecorded=0,E.ignoreChange=!1,E.clear(),E.quill.on(f.default.events.EDITOR_CHANGE,function(L,C,T,k){L!==f.default.events.TEXT_CHANGE||E.ignoreChange||(!E.options.userOnly||k===f.default.sources.USER?E.record(C,T):E.transform(C))}),E.quill.keyboard.addBinding({key:"Z",shortKey:!0},E.undo.bind(E)),E.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},E.redo.bind(E)),/Win/i.test(navigator.platform)&&E.quill.keyboard.addBinding({key:"Y",shortKey:!0},E.redo.bind(E)),E}return o(N,[{key:"change",value:function(I,E){if(this.stack[I].length!==0){var L=this.stack[I].pop();this.stack[E].push(L),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(L[I],f.default.sources.USER),this.ignoreChange=!1;var C=v(L[I]);this.quill.setSelection(C)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(I,E){if(I.ops.length!==0){this.stack.redo=[];var L=this.quill.getContents().diff(E),C=Date.now();if(this.lastRecorded+this.options.delay>C&&this.stack.undo.length>0){var T=this.stack.undo.pop();L=L.compose(T.undo),I=T.redo.compose(I)}else this.lastRecorded=C;this.stack.undo.push({redo:I,undo:L}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(I){this.stack.undo.forEach(function(E){E.undo=I.transform(E.undo,!0),E.redo=I.transform(E.redo,!0)}),this.stack.redo.forEach(function(E){E.undo=I.transform(E.undo,!0),E.redo=I.transform(E.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),N}(g.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(j){var N=j.ops[j.ops.length-1];return N==null?!1:N.insert!=null?typeof N.insert=="string"&&N.insert.endsWith(`
`):N.attributes!=null?Object.keys(N.attributes).some(function(S){return c.default.query(S,c.default.Scope.BLOCK)!=null}):!1}function v(j){var N=j.reduce(function(I,E){return I+=E.delete||0,I},0),S=j.length()-N;return b(j)&&(S-=1),S}a.default=w,a.getLastChangeIndex=v},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BaseTooltip=void 0;var o=function(){function A(B,z){for(var O=0;O<z.length;O++){var U=z[O];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(B,U.key,U)}}return function(B,z,O){return z&&A(B.prototype,z),O&&A(B,O),B}}(),l=function A(B,z,O){B===null&&(B=Function.prototype);var U=Object.getOwnPropertyDescriptor(B,z);if(U===void 0){var Z=Object.getPrototypeOf(B);return Z===null?void 0:A(Z,z,O)}else{if("value"in U)return U.value;var se=U.get;return se===void 0?void 0:se.call(O)}},c=i(3),d=C(c),f=i(2),h=C(f),g=i(8),m=C(g),p=i(23),x=C(p),y=i(34),w=C(y),b=i(59),v=C(b),j=i(60),N=C(j),S=i(28),I=C(S),E=i(61),L=C(E);function C(A){return A&&A.__esModule?A:{default:A}}function T(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}function k(A,B){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:A}function M(A,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);A.prototype=Object.create(B&&B.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(A,B):A.__proto__=B)}var _=[!1,"center","right","justify"],J=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Y=[!1,"serif","monospace"],te=["1","2","3",!1],K=["small",!1,"large","huge"],X=function(A){M(B,A);function B(z,O){T(this,B);var U=k(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,z,O)),Z=function se(fe){if(!document.body.contains(z.root))return document.body.removeEventListener("click",se);U.tooltip!=null&&!U.tooltip.root.contains(fe.target)&&document.activeElement!==U.tooltip.textbox&&!U.quill.hasFocus()&&U.tooltip.hide(),U.pickers!=null&&U.pickers.forEach(function(le){le.container.contains(fe.target)||le.close()})};return z.emitter.listenDOM("click",document.body,Z),U}return o(B,[{key:"addModule",value:function(O){var U=l(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"addModule",this).call(this,O);return O==="toolbar"&&this.extendToolbar(U),U}},{key:"buildButtons",value:function(O,U){O.forEach(function(Z){var se=Z.getAttribute("class")||"";se.split(/\s+/).forEach(function(fe){if(fe.startsWith("ql-")&&(fe=fe.slice(3),U[fe]!=null))if(fe==="direction")Z.innerHTML=U[fe][""]+U[fe].rtl;else if(typeof U[fe]=="string")Z.innerHTML=U[fe];else{var le=Z.value||"";le!=null&&U[fe][le]&&(Z.innerHTML=U[fe][le])}})})}},{key:"buildPickers",value:function(O,U){var Z=this;this.pickers=O.map(function(fe){if(fe.classList.contains("ql-align"))return fe.querySelector("option")==null&&P(fe,_),new N.default(fe,U.align);if(fe.classList.contains("ql-background")||fe.classList.contains("ql-color")){var le=fe.classList.contains("ql-background")?"background":"color";return fe.querySelector("option")==null&&P(fe,J,le==="background"?"#ffffff":"#000000"),new v.default(fe,U[le])}else return fe.querySelector("option")==null&&(fe.classList.contains("ql-font")?P(fe,Y):fe.classList.contains("ql-header")?P(fe,te):fe.classList.contains("ql-size")&&P(fe,K)),new I.default(fe)});var se=function(){Z.pickers.forEach(function(le){le.update()})};this.quill.on(m.default.events.EDITOR_CHANGE,se)}}]),B}(w.default);X.DEFAULTS=(0,d.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var B=this,z=this.container.querySelector("input.ql-image[type=file]");z==null&&(z=document.createElement("input"),z.setAttribute("type","file"),z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),z.classList.add("ql-image"),z.addEventListener("change",function(){if(z.files!=null&&z.files[0]!=null){var O=new FileReader;O.onload=function(U){var Z=B.quill.getSelection(!0);B.quill.updateContents(new h.default().retain(Z.index).delete(Z.length).insert({image:U.target.result}),m.default.sources.USER),B.quill.setSelection(Z.index+1,m.default.sources.SILENT),z.value=""},O.readAsDataURL(z.files[0])}}),this.container.appendChild(z)),z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var W=function(A){M(B,A);function B(z,O){T(this,B);var U=k(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,z,O));return U.textbox=U.root.querySelector('input[type="text"]'),U.listen(),U}return o(B,[{key:"listen",value:function(){var O=this;this.textbox.addEventListener("keydown",function(U){x.default.match(U,"enter")?(O.save(),U.preventDefault()):x.default.match(U,"escape")&&(O.cancel(),U.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),U!=null?this.textbox.value=U:O!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+O)||""),this.root.setAttribute("data-mode",O)}},{key:"restoreFocus",value:function(){var O=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=O}},{key:"save",value:function(){var O=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var U=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",O,m.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",O,m.default.sources.USER)),this.quill.root.scrollTop=U;break}case"video":O=F(O);case"formula":{if(!O)break;var Z=this.quill.getSelection(!0);if(Z!=null){var se=Z.index+Z.length;this.quill.insertEmbed(se,this.root.getAttribute("data-mode"),O,m.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(se+1," ",m.default.sources.USER),this.quill.setSelection(se+2,m.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),B}(L.default);function F(A){var B=A.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||A.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return B?(B[1]||"https")+"://www.youtube.com/embed/"+B[2]+"?showinfo=0":(B=A.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(B[1]||"https")+"://player.vimeo.com/video/"+B[2]+"/":A}function P(A,B){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;B.forEach(function(O){var U=document.createElement("option");O===z?U.setAttribute("selected","selected"):U.setAttribute("value",O),A.appendChild(U)})}a.BaseTooltip=W,a.default=X},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function l(){this.head=this.tail=null,this.length=0}return l.prototype.append=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},l.prototype.contains=function(c){for(var d,f=this.iterator();d=f();)if(d===c)return!0;return!1},l.prototype.insertBefore=function(c,d){c&&(c.next=d,d!=null?(c.prev=d.prev,d.prev!=null&&(d.prev.next=c),d.prev=c,d===this.head&&(this.head=c)):this.tail!=null?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},l.prototype.offset=function(c){for(var d=0,f=this.head;f!=null;){if(f===c)return d;d+=f.length(),f=f.next}return-1},l.prototype.remove=function(c){this.contains(c)&&(c.prev!=null&&(c.prev.next=c.next),c.next!=null&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},l.prototype.iterator=function(c){return c===void 0&&(c=this.head),function(){var d=c;return c!=null&&(c=c.next),d}},l.prototype.find=function(c,d){d===void 0&&(d=!1);for(var f,h=this.iterator();f=h();){var g=f.length();if(c<g||d&&c===g&&(f.next==null||f.next.length()!==0))return[f,c];c-=g}return[null,0]},l.prototype.forEach=function(c){for(var d,f=this.iterator();d=f();)c(d)},l.prototype.forEachAt=function(c,d,f){if(!(d<=0))for(var h=this.find(c),g=h[0],m=h[1],p,x=c-m,y=this.iterator(g);(p=y())&&x<c+d;){var w=p.length();c>x?f(p,c-x,Math.min(d,x+w-c)):f(p,0,Math.min(w,c+d-x)),x+=w}},l.prototype.map=function(c){return this.reduce(function(d,f){return d.push(c(f)),d},[])},l.prototype.reduce=function(c,d){for(var f,h=this.iterator();f=h();)d=c(d,f);return d},l}();a.default=o},function(s,a,i){var o=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var x in p)p.hasOwnProperty(x)&&(m[x]=p[x])};return function(m,p){g(m,p);function x(){this.constructor=m}m.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=i(17),c=i(1),d={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=100,h=function(g){o(m,g);function m(p){var x=g.call(this,p)||this;return x.scroll=x,x.observer=new MutationObserver(function(y){x.update(y)}),x.observer.observe(x.domNode,d),x.attach(),x}return m.prototype.detach=function(){g.prototype.detach.call(this),this.observer.disconnect()},m.prototype.deleteAt=function(p,x){this.update(),p===0&&x===this.length()?this.children.forEach(function(y){y.remove()}):g.prototype.deleteAt.call(this,p,x)},m.prototype.formatAt=function(p,x,y,w){this.update(),g.prototype.formatAt.call(this,p,x,y,w)},m.prototype.insertAt=function(p,x,y){this.update(),g.prototype.insertAt.call(this,p,x,y)},m.prototype.optimize=function(p,x){var y=this;p===void 0&&(p=[]),x===void 0&&(x={}),g.prototype.optimize.call(this,x);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)p.push(w.pop());for(var b=function(S,I){I===void 0&&(I=!0),!(S==null||S===y)&&S.domNode.parentNode!=null&&(S.domNode[c.DATA_KEY].mutations==null&&(S.domNode[c.DATA_KEY].mutations=[]),I&&b(S.parent))},v=function(S){S.domNode[c.DATA_KEY]==null||S.domNode[c.DATA_KEY].mutations==null||(S instanceof l.default&&S.children.forEach(v),S.optimize(x))},j=p,N=0;j.length>0;N+=1){if(N>=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(j.forEach(function(S){var I=c.find(S.target,!0);I!=null&&(I.domNode===S.target&&(S.type==="childList"?(b(c.find(S.previousSibling,!1)),[].forEach.call(S.addedNodes,function(E){var L=c.find(E,!1);b(L,!1),L instanceof l.default&&L.children.forEach(function(C){b(C,!1)})})):S.type==="attributes"&&b(I.prev)),b(I))}),this.children.forEach(v),j=[].slice.call(this.observer.takeRecords()),w=j.slice();w.length>0;)p.push(w.pop())}},m.prototype.update=function(p,x){var y=this;x===void 0&&(x={}),p=p||this.observer.takeRecords(),p.map(function(w){var b=c.find(w.target,!0);return b==null?null:b.domNode[c.DATA_KEY].mutations==null?(b.domNode[c.DATA_KEY].mutations=[w],b):(b.domNode[c.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===y||w.domNode[c.DATA_KEY]==null||w.update(w.domNode[c.DATA_KEY].mutations||[],x)}),this.domNode[c.DATA_KEY].mutations!=null&&g.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,x),this.optimize(p,x)},m.blotName="scroll",m.defaultChild="block",m.scope=c.Scope.BLOCK_BLOT,m.tagName="DIV",m}(l.default);a.default=h},function(s,a,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var p in m)m.hasOwnProperty(p)&&(g[p]=m[p])};return function(g,m){h(g,m);function p(){this.constructor=g}g.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=i(18),c=i(1);function d(h,g){if(Object.keys(h).length!==Object.keys(g).length)return!1;for(var m in h)if(h[m]!==g[m])return!1;return!0}var f=function(h){o(g,h);function g(){return h!==null&&h.apply(this,arguments)||this}return g.formats=function(m){if(m.tagName!==g.tagName)return h.formats.call(this,m)},g.prototype.format=function(m,p){var x=this;m===this.statics.blotName&&!p?(this.children.forEach(function(y){y instanceof l.default||(y=y.wrap(g.blotName,!0)),x.attributes.copy(y)}),this.unwrap()):h.prototype.format.call(this,m,p)},g.prototype.formatAt=function(m,p,x,y){if(this.formats()[x]!=null||c.query(x,c.Scope.ATTRIBUTE)){var w=this.isolate(m,p);w.format(x,y)}else h.prototype.formatAt.call(this,m,p,x,y)},g.prototype.optimize=function(m){h.prototype.optimize.call(this,m);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var x=this.next;x instanceof g&&x.prev===this&&d(p,x.formats())&&(x.moveChildren(this),x.remove())},g.blotName="inline",g.scope=c.Scope.INLINE_BLOT,g.tagName="SPAN",g}(l.default);a.default=f},function(s,a,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var m in g)g.hasOwnProperty(m)&&(h[m]=g[m])};return function(h,g){f(h,g);function m(){this.constructor=h}h.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=i(18),c=i(1),d=function(f){o(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.formats=function(g){var m=c.query(h.blotName).tagName;if(g.tagName!==m)return f.formats.call(this,g)},h.prototype.format=function(g,m){c.query(g,c.Scope.BLOCK)!=null&&(g===this.statics.blotName&&!m?this.replaceWith(h.blotName):f.prototype.format.call(this,g,m))},h.prototype.formatAt=function(g,m,p,x){c.query(p,c.Scope.BLOCK)!=null?this.format(p,x):f.prototype.formatAt.call(this,g,m,p,x)},h.prototype.insertAt=function(g,m,p){if(p==null||c.query(m,c.Scope.INLINE)!=null)f.prototype.insertAt.call(this,g,m,p);else{var x=this.split(g),y=c.create(m,p);x.parent.insertBefore(y,x)}},h.prototype.update=function(g,m){navigator.userAgent.match(/Trident/)?this.build():f.prototype.update.call(this,g,m)},h.blotName="block",h.scope=c.Scope.BLOCK_BLOT,h.tagName="P",h}(l.default);a.default=d},function(s,a,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var g in h)h.hasOwnProperty(g)&&(f[g]=h[g])};return function(f,h){d(f,h);function g(){this.constructor=f}f.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=i(19),c=function(d){o(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.formats=function(h){},f.prototype.format=function(h,g){d.prototype.formatAt.call(this,0,this.length(),h,g)},f.prototype.formatAt=function(h,g,m,p){h===0&&g===this.length()?this.format(m,p):d.prototype.formatAt.call(this,h,g,m,p)},f.prototype.formats=function(){return this.statics.formats(this.domNode)},f}(l.default);a.default=c},function(s,a,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var m in g)g.hasOwnProperty(m)&&(h[m]=g[m])};return function(h,g){f(h,g);function m(){this.constructor=h}h.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();Object.defineProperty(a,"__esModule",{value:!0});var l=i(19),c=i(1),d=function(f){o(h,f);function h(g){var m=f.call(this,g)||this;return m.text=m.statics.value(m.domNode),m}return h.create=function(g){return document.createTextNode(g)},h.value=function(g){var m=g.data;return m.normalize&&(m=m.normalize()),m},h.prototype.deleteAt=function(g,m){this.domNode.data=this.text=this.text.slice(0,g)+this.text.slice(g+m)},h.prototype.index=function(g,m){return this.domNode===g?m:-1},h.prototype.insertAt=function(g,m,p){p==null?(this.text=this.text.slice(0,g)+m+this.text.slice(g),this.domNode.data=this.text):f.prototype.insertAt.call(this,g,m,p)},h.prototype.length=function(){return this.text.length},h.prototype.optimize=function(g){f.prototype.optimize.call(this,g),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof h&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},h.prototype.position=function(g,m){return[this.domNode,g]},h.prototype.split=function(g,m){if(m===void 0&&(m=!1),!m){if(g===0)return this;if(g===this.length())return this.next}var p=c.create(this.domNode.splitText(g));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},h.prototype.update=function(g,m){var p=this;g.some(function(x){return x.type==="characterData"&&x.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},h.prototype.value=function(){return this.text},h.blotName="text",h.scope=c.Scope.INLINE_BLOT,h}(l.default);a.default=d},function(s,a,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var l=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,d){return arguments.length>1&&!this.contains(c)==!d?d:l.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,d){return d=d||0,this.substr(d,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,d){var f=this.toString();(typeof d!="number"||!isFinite(d)||Math.floor(d)!==d||d>f.length)&&(d=f.length),d-=c.length;var h=f.indexOf(c,d);return h!==-1&&h===d}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(d){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof d!="function")throw new TypeError("predicate must be a function");for(var f=Object(this),h=f.length>>>0,g=arguments[1],m,p=0;p<h;p++)if(m=f[p],d.call(g,m,p,f))return m}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(s,a){var i=-1,o=1,l=0;function c(N,S,I){if(N==S)return N?[[l,N]]:[];(I<0||N.length<I)&&(I=null);var E=g(N,S),L=N.substring(0,E);N=N.substring(E),S=S.substring(E),E=m(N,S);var C=N.substring(N.length-E);N=N.substring(0,N.length-E),S=S.substring(0,S.length-E);var T=d(N,S);return L&&T.unshift([l,L]),C&&T.push([l,C]),x(T),I!=null&&(T=b(T,I)),T=v(T),T}function d(N,S){var I;if(!N)return[[o,S]];if(!S)return[[i,N]];var E=N.length>S.length?N:S,L=N.length>S.length?S:N,C=E.indexOf(L);if(C!=-1)return I=[[o,E.substring(0,C)],[l,L],[o,E.substring(C+L.length)]],N.length>S.length&&(I[0][0]=I[2][0]=i),I;if(L.length==1)return[[i,N],[o,S]];var T=p(N,S);if(T){var k=T[0],M=T[1],_=T[2],J=T[3],Y=T[4],te=c(k,_),K=c(M,J);return te.concat([[l,Y]],K)}return f(N,S)}function f(N,S){for(var I=N.length,E=S.length,L=Math.ceil((I+E)/2),C=L,T=2*L,k=new Array(T),M=new Array(T),_=0;_<T;_++)k[_]=-1,M[_]=-1;k[C+1]=0,M[C+1]=0;for(var J=I-E,Y=J%2!=0,te=0,K=0,X=0,W=0,F=0;F<L;F++){for(var P=-F+te;P<=F-K;P+=2){var A=C+P,B;P==-F||P!=F&&k[A-1]<k[A+1]?B=k[A+1]:B=k[A-1]+1;for(var z=B-P;B<I&&z<E&&N.charAt(B)==S.charAt(z);)B++,z++;if(k[A]=B,B>I)K+=2;else if(z>E)te+=2;else if(Y){var O=C+J-P;if(O>=0&&O<T&&M[O]!=-1){var U=I-M[O];if(B>=U)return h(N,S,B,z)}}}for(var Z=-F+X;Z<=F-W;Z+=2){var O=C+Z,U;Z==-F||Z!=F&&M[O-1]<M[O+1]?U=M[O+1]:U=M[O-1]+1;for(var se=U-Z;U<I&&se<E&&N.charAt(I-U-1)==S.charAt(E-se-1);)U++,se++;if(M[O]=U,U>I)W+=2;else if(se>E)X+=2;else if(!Y){var A=C+J-Z;if(A>=0&&A<T&&k[A]!=-1){var B=k[A],z=C+B-A;if(U=I-U,B>=U)return h(N,S,B,z)}}}}return[[i,N],[o,S]]}function h(N,S,I,E){var L=N.substring(0,I),C=S.substring(0,E),T=N.substring(I),k=S.substring(E),M=c(L,C),_=c(T,k);return M.concat(_)}function g(N,S){if(!N||!S||N.charAt(0)!=S.charAt(0))return 0;for(var I=0,E=Math.min(N.length,S.length),L=E,C=0;I<L;)N.substring(C,L)==S.substring(C,L)?(I=L,C=I):E=L,L=Math.floor((E-I)/2+I);return L}function m(N,S){if(!N||!S||N.charAt(N.length-1)!=S.charAt(S.length-1))return 0;for(var I=0,E=Math.min(N.length,S.length),L=E,C=0;I<L;)N.substring(N.length-L,N.length-C)==S.substring(S.length-L,S.length-C)?(I=L,C=I):E=L,L=Math.floor((E-I)/2+I);return L}function p(N,S){var I=N.length>S.length?N:S,E=N.length>S.length?S:N;if(I.length<4||E.length*2<I.length)return null;function L(K,X,W){for(var F=K.substring(W,W+Math.floor(K.length/4)),P=-1,A="",B,z,O,U;(P=X.indexOf(F,P+1))!=-1;){var Z=g(K.substring(W),X.substring(P)),se=m(K.substring(0,W),X.substring(0,P));A.length<se+Z&&(A=X.substring(P-se,P)+X.substring(P,P+Z),B=K.substring(0,W-se),z=K.substring(W+Z),O=X.substring(0,P-se),U=X.substring(P+Z))}return A.length*2>=K.length?[B,z,O,U,A]:null}var C=L(I,E,Math.ceil(I.length/4)),T=L(I,E,Math.ceil(I.length/2)),k;if(!C&&!T)return null;T?C?k=C[4].length>T[4].length?C:T:k=T:k=C;var M,_,J,Y;N.length>S.length?(M=k[0],_=k[1],J=k[2],Y=k[3]):(J=k[0],Y=k[1],M=k[2],_=k[3]);var te=k[4];return[M,_,J,Y,te]}function x(N){N.push([l,""]);for(var S=0,I=0,E=0,L="",C="",T;S<N.length;)switch(N[S][0]){case o:E++,C+=N[S][1],S++;break;case i:I++,L+=N[S][1],S++;break;case l:I+E>1?(I!==0&&E!==0&&(T=g(C,L),T!==0&&(S-I-E>0&&N[S-I-E-1][0]==l?N[S-I-E-1][1]+=C.substring(0,T):(N.splice(0,0,[l,C.substring(0,T)]),S++),C=C.substring(T),L=L.substring(T)),T=m(C,L),T!==0&&(N[S][1]=C.substring(C.length-T)+N[S][1],C=C.substring(0,C.length-T),L=L.substring(0,L.length-T))),I===0?N.splice(S-E,I+E,[o,C]):E===0?N.splice(S-I,I+E,[i,L]):N.splice(S-I-E,I+E,[i,L],[o,C]),S=S-I-E+(I?1:0)+(E?1:0)+1):S!==0&&N[S-1][0]==l?(N[S-1][1]+=N[S][1],N.splice(S,1)):S++,E=0,I=0,L="",C="";break}N[N.length-1][1]===""&&N.pop();var k=!1;for(S=1;S<N.length-1;)N[S-1][0]==l&&N[S+1][0]==l&&(N[S][1].substring(N[S][1].length-N[S-1][1].length)==N[S-1][1]?(N[S][1]=N[S-1][1]+N[S][1].substring(0,N[S][1].length-N[S-1][1].length),N[S+1][1]=N[S-1][1]+N[S+1][1],N.splice(S-1,1),k=!0):N[S][1].substring(0,N[S+1][1].length)==N[S+1][1]&&(N[S-1][1]+=N[S+1][1],N[S][1]=N[S][1].substring(N[S+1][1].length)+N[S+1][1],N.splice(S+1,1),k=!0)),S++;k&&x(N)}var y=c;y.INSERT=o,y.DELETE=i,y.EQUAL=l,s.exports=y;function w(N,S){if(S===0)return[l,N];for(var I=0,E=0;E<N.length;E++){var L=N[E];if(L[0]===i||L[0]===l){var C=I+L[1].length;if(S===C)return[E+1,N];if(S<C){N=N.slice();var T=S-I,k=[L[0],L[1].slice(0,T)],M=[L[0],L[1].slice(T)];return N.splice(E,1,k,M),[E+1,N]}else I=C}}throw new Error("cursor_pos is out of bounds!")}function b(N,S){var I=w(N,S),E=I[1],L=I[0],C=E[L],T=E[L+1];if(C==null)return N;if(C[0]!==l)return N;if(T!=null&&C[1]+T[1]===T[1]+C[1])return E.splice(L,2,T,C),j(E,L,2);if(T!=null&&T[1].indexOf(C[1])===0){E.splice(L,2,[T[0],C[1]],[0,C[1]]);var k=T[1].slice(C[1].length);return k.length>0&&E.splice(L+2,0,[T[0],k]),j(E,L,3)}else return N}function v(N){for(var S=!1,I=function(T){return T.charCodeAt(0)>=56320&&T.charCodeAt(0)<=57343},E=function(T){return T.charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319},L=2;L<N.length;L+=1)N[L-2][0]===l&&E(N[L-2][1])&&N[L-1][0]===i&&I(N[L-1][1])&&N[L][0]===o&&I(N[L][1])&&(S=!0,N[L-1][1]=N[L-2][1].slice(-1)+N[L-1][1],N[L][1]=N[L-2][1].slice(-1)+N[L][1],N[L-2][1]=N[L-2][1].slice(0,-1));if(!S)return N;for(var C=[],L=0;L<N.length;L+=1)N[L][1].length>0&&C.push(N[L]);return C}function j(N,S,I){for(var E=S+I-1;E>=0&&E>=S-1;E--)if(E+1<N.length){var L=N[E],C=N[E+1];L[0]===C[1]&&N.splice(E,2,[L[0],L[1]+C[1]])}return N}},function(s,a){a=s.exports=typeof Object.keys=="function"?Object.keys:i,a.shim=i;function i(o){var l=[];for(var c in o)l.push(c);return l}},function(s,a){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";a=s.exports=i?o:l,a.supported=o;function o(c){return Object.prototype.toString.call(c)=="[object Arguments]"}a.unsupported=l;function l(c){return c&&typeof c=="object"&&typeof c.length=="number"&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}},function(s,a){var i=Object.prototype.hasOwnProperty,o="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(o=!1));function c(f,h,g){this.fn=f,this.context=h,this.once=g||!1}function d(){this._events=new l,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],g,m;if(this._eventsCount===0)return h;for(m in g=this._events)i.call(g,m)&&h.push(o?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(g)):h},d.prototype.listeners=function(h,g){var m=o?o+h:h,p=this._events[m];if(g)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var x=0,y=p.length,w=new Array(y);x<y;x++)w[x]=p[x].fn;return w},d.prototype.emit=function(h,g,m,p,x,y){var w=o?o+h:h;if(!this._events[w])return!1;var b=this._events[w],v=arguments.length,j,N;if(b.fn){switch(b.once&&this.removeListener(h,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,g),!0;case 3:return b.fn.call(b.context,g,m),!0;case 4:return b.fn.call(b.context,g,m,p),!0;case 5:return b.fn.call(b.context,g,m,p,x),!0;case 6:return b.fn.call(b.context,g,m,p,x,y),!0}for(N=1,j=new Array(v-1);N<v;N++)j[N-1]=arguments[N];b.fn.apply(b.context,j)}else{var S=b.length,I;for(N=0;N<S;N++)switch(b[N].once&&this.removeListener(h,b[N].fn,void 0,!0),v){case 1:b[N].fn.call(b[N].context);break;case 2:b[N].fn.call(b[N].context,g);break;case 3:b[N].fn.call(b[N].context,g,m);break;case 4:b[N].fn.call(b[N].context,g,m,p);break;default:if(!j)for(I=1,j=new Array(v-1);I<v;I++)j[I-1]=arguments[I];b[N].fn.apply(b[N].context,j)}}return!0},d.prototype.on=function(h,g,m){var p=new c(g,m||this),x=o?o+h:h;return this._events[x]?this._events[x].fn?this._events[x]=[this._events[x],p]:this._events[x].push(p):(this._events[x]=p,this._eventsCount++),this},d.prototype.once=function(h,g,m){var p=new c(g,m||this,!0),x=o?o+h:h;return this._events[x]?this._events[x].fn?this._events[x]=[this._events[x],p]:this._events[x].push(p):(this._events[x]=p,this._eventsCount++),this},d.prototype.removeListener=function(h,g,m,p){var x=o?o+h:h;if(!this._events[x])return this;if(!g)return--this._eventsCount===0?this._events=new l:delete this._events[x],this;var y=this._events[x];if(y.fn)y.fn===g&&(!p||y.once)&&(!m||y.context===m)&&(--this._eventsCount===0?this._events=new l:delete this._events[x]);else{for(var w=0,b=[],v=y.length;w<v;w++)(y[w].fn!==g||p&&!y[w].once||m&&y[w].context!==m)&&b.push(y[w]);b.length?this._events[x]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new l:delete this._events[x]}return this},d.prototype.removeAllListeners=function(h){var g;return h?(g=o?o+h:h,this._events[g]&&(--this._eventsCount===0?this._events=new l:delete this._events[g])):(this._events=new l,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prototype.setMaxListeners=function(){return this},d.prefixed=o,d.EventEmitter=d,typeof s!="undefined"&&(s.exports=d)},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.matchText=a.matchSpacing=a.matchNewline=a.matchBlot=a.matchAttributor=a.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},l=function(){function G(ae,Me){var he=[],ye=!0,oe=!1,ie=void 0;try{for(var q=ae[Symbol.iterator](),Se;!(ye=(Se=q.next()).done)&&(he.push(Se.value),!(Me&&he.length===Me));ye=!0);}catch($e){oe=!0,ie=$e}finally{try{!ye&&q.return&&q.return()}finally{if(oe)throw ie}}return he}return function(ae,Me){if(Array.isArray(ae))return ae;if(Symbol.iterator in Object(ae))return G(ae,Me);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function G(ae,Me){for(var he=0;he<Me.length;he++){var ye=Me[he];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(ae,ye.key,ye)}}return function(ae,Me,he){return Me&&G(ae.prototype,Me),he&&G(ae,he),ae}}(),d=i(3),f=M(d),h=i(2),g=M(h),m=i(0),p=M(m),x=i(5),y=M(x),w=i(10),b=M(w),v=i(9),j=M(v),N=i(36),S=i(37),I=i(13),E=M(I),L=i(26),C=i(38),T=i(39),k=i(40);function M(G){return G&&G.__esModule?G:{default:G}}function _(G,ae,Me){return ae in G?Object.defineProperty(G,ae,{value:Me,enumerable:!0,configurable:!0,writable:!0}):G[ae]=Me,G}function J(G,ae){if(!(G instanceof ae))throw new TypeError("Cannot call a class as a function")}function Y(G,ae){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae&&(typeof ae=="object"||typeof ae=="function")?ae:G}function te(G,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ae);G.prototype=Object.create(ae&&ae.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),ae&&(Object.setPrototypeOf?Object.setPrototypeOf(G,ae):G.__proto__=ae)}var K=(0,b.default)("quill:clipboard"),X="__ql-matcher",W=[[Node.TEXT_NODE,Je],[Node.TEXT_NODE,Fe],["br",Ne],[Node.ELEMENT_NODE,Fe],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,Ve],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,ut],["li",ht],["b",se.bind(se,"bold")],["i",se.bind(se,"italic")],["style",Te]],F=[N.AlignAttribute,C.DirectionAttribute].reduce(function(G,ae){return G[ae.keyName]=ae,G},{}),P=[N.AlignStyle,S.BackgroundStyle,L.ColorStyle,C.DirectionStyle,T.FontStyle,k.SizeStyle].reduce(function(G,ae){return G[ae.keyName]=ae,G},{}),A=function(G){te(ae,G);function ae(Me,he){J(this,ae);var ye=Y(this,(ae.__proto__||Object.getPrototypeOf(ae)).call(this,Me,he));return ye.quill.root.addEventListener("paste",ye.onPaste.bind(ye)),ye.container=ye.quill.addContainer("ql-clipboard"),ye.container.setAttribute("contenteditable",!0),ye.container.setAttribute("tabindex",-1),ye.matchers=[],W.concat(ye.options.matchers).forEach(function(oe){var ie=l(oe,2),q=ie[0],Se=ie[1];!he.matchVisual&&Se===Ve||ye.addMatcher(q,Se)}),ye}return c(ae,[{key:"addMatcher",value:function(he,ye){this.matchers.push([he,ye])}},{key:"convert",value:function(he){if(typeof he=="string")return this.container.innerHTML=he.replace(/\>\r?\n +\</g,"><"),this.convert();var ye=this.quill.getFormat(this.quill.selection.savedRange.index);if(ye[E.default.blotName]){var oe=this.container.innerText;return this.container.innerHTML="",new g.default().insert(oe,_({},E.default.blotName,ye[E.default.blotName]))}var ie=this.prepareMatching(),q=l(ie,2),Se=q[0],$e=q[1],rt=Z(this.container,Se,$e);return O(rt,`
`)&&rt.ops[rt.ops.length-1].attributes==null&&(rt=rt.compose(new g.default().retain(rt.length()-1).delete(1))),K.log("convert",this.container.innerHTML,rt),this.container.innerHTML="",rt}},{key:"dangerouslyPasteHTML",value:function(he,ye){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof he=="string")this.quill.setContents(this.convert(he),ye),this.quill.setSelection(0,y.default.sources.SILENT);else{var ie=this.convert(ye);this.quill.updateContents(new g.default().retain(he).concat(ie),oe),this.quill.setSelection(he+ie.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(he){var ye=this;if(!(he.defaultPrevented||!this.quill.isEnabled())){var oe=this.quill.getSelection(),ie=new g.default().retain(oe.index),q=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){ie=ie.concat(ye.convert()).delete(oe.length),ye.quill.updateContents(ie,y.default.sources.USER),ye.quill.setSelection(ie.length()-oe.length,y.default.sources.SILENT),ye.quill.scrollingContainer.scrollTop=q,ye.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var he=this,ye=[],oe=[];return this.matchers.forEach(function(ie){var q=l(ie,2),Se=q[0],$e=q[1];switch(Se){case Node.TEXT_NODE:oe.push($e);break;case Node.ELEMENT_NODE:ye.push($e);break;default:[].forEach.call(he.container.querySelectorAll(Se),function(rt){rt[X]=rt[X]||[],rt[X].push($e)});break}}),[ye,oe]}}]),ae}(j.default);A.DEFAULTS={matchers:[],matchVisual:!0};function B(G,ae,Me){return(typeof ae=="undefined"?"undefined":o(ae))==="object"?Object.keys(ae).reduce(function(he,ye){return B(he,ye,ae[ye])},G):G.reduce(function(he,ye){return ye.attributes&&ye.attributes[ae]?he.push(ye):he.insert(ye.insert,(0,f.default)({},_({},ae,Me),ye.attributes))},new g.default)}function z(G){if(G.nodeType!==Node.ELEMENT_NODE)return{};var ae="__ql-computed-style";return G[ae]||(G[ae]=window.getComputedStyle(G))}function O(G,ae){for(var Me="",he=G.ops.length-1;he>=0&&Me.length<ae.length;--he){var ye=G.ops[he];if(typeof ye.insert!="string")break;Me=ye.insert+Me}return Me.slice(-1*ae.length)===ae}function U(G){if(G.childNodes.length===0)return!1;var ae=z(G);return["block","list-item"].indexOf(ae.display)>-1}function Z(G,ae,Me){return G.nodeType===G.TEXT_NODE?Me.reduce(function(he,ye){return ye(G,he)},new g.default):G.nodeType===G.ELEMENT_NODE?[].reduce.call(G.childNodes||[],function(he,ye){var oe=Z(ye,ae,Me);return ye.nodeType===G.ELEMENT_NODE&&(oe=ae.reduce(function(ie,q){return q(ye,ie)},oe),oe=(ye[X]||[]).reduce(function(ie,q){return q(ye,ie)},oe)),he.concat(oe)},new g.default):new g.default}function se(G,ae,Me){return B(Me,G,!0)}function fe(G,ae){var Me=p.default.Attributor.Attribute.keys(G),he=p.default.Attributor.Class.keys(G),ye=p.default.Attributor.Style.keys(G),oe={};return Me.concat(he).concat(ye).forEach(function(ie){var q=p.default.query(ie,p.default.Scope.ATTRIBUTE);q!=null&&(oe[q.attrName]=q.value(G),oe[q.attrName])||(q=F[ie],q!=null&&(q.attrName===ie||q.keyName===ie)&&(oe[q.attrName]=q.value(G)||void 0),q=P[ie],q!=null&&(q.attrName===ie||q.keyName===ie)&&(q=P[ie],oe[q.attrName]=q.value(G)||void 0))}),Object.keys(oe).length>0&&(ae=B(ae,oe)),ae}function le(G,ae){var Me=p.default.query(G);if(Me==null)return ae;if(Me.prototype instanceof p.default.Embed){var he={},ye=Me.value(G);ye!=null&&(he[Me.blotName]=ye,ae=new g.default().insert(he,Me.formats(G)))}else typeof Me.formats=="function"&&(ae=B(ae,Me.blotName,Me.formats(G)));return ae}function Ne(G,ae){return O(ae,`
`)||ae.insert(`
`),ae}function Te(){return new g.default}function ht(G,ae){var Me=p.default.query(G);if(Me==null||Me.blotName!=="list-item"||!O(ae,`
`))return ae;for(var he=-1,ye=G.parentNode;!ye.classList.contains("ql-clipboard");)(p.default.query(ye)||{}).blotName==="list"&&(he+=1),ye=ye.parentNode;return he<=0?ae:ae.compose(new g.default().retain(ae.length()-1).retain(1,{indent:he}))}function Fe(G,ae){return O(ae,`
`)||(U(G)||ae.length()>0&&G.nextSibling&&U(G.nextSibling))&&ae.insert(`
`),ae}function Ve(G,ae){if(U(G)&&G.nextElementSibling!=null&&!O(ae,`

`)){var Me=G.offsetHeight+parseFloat(z(G).marginTop)+parseFloat(z(G).marginBottom);G.nextElementSibling.offsetTop>G.offsetTop+Me*1.5&&ae.insert(`
`)}return ae}function ut(G,ae){var Me={},he=G.style||{};return he.fontStyle&&z(G).fontStyle==="italic"&&(Me.italic=!0),he.fontWeight&&(z(G).fontWeight.startsWith("bold")||parseInt(z(G).fontWeight)>=700)&&(Me.bold=!0),Object.keys(Me).length>0&&(ae=B(ae,Me)),parseFloat(he.textIndent||0)>0&&(ae=new g.default().insert("	").concat(ae)),ae}function Je(G,ae){var Me=G.data;if(G.parentNode.tagName==="O:P")return ae.insert(Me.trim());if(Me.trim().length===0&&G.parentNode.classList.contains("ql-clipboard"))return ae;if(!z(G.parentNode).whiteSpace.startsWith("pre")){var he=function(oe,ie){return ie=ie.replace(/[^\u00a0]/g,""),ie.length<1&&oe?" ":ie};Me=Me.replace(/\r\n/g," ").replace(/\n/g," "),Me=Me.replace(/\s\s+/g,he.bind(he,!0)),(G.previousSibling==null&&U(G.parentNode)||G.previousSibling!=null&&U(G.previousSibling))&&(Me=Me.replace(/^\s+/,he.bind(he,!1))),(G.nextSibling==null&&U(G.parentNode)||G.nextSibling!=null&&U(G.nextSibling))&&(Me=Me.replace(/\s+$/,he.bind(he,!1)))}return ae.insert(Me)}a.default=A,a.matchAttributor=fe,a.matchBlot=le,a.matchNewline=Fe,a.matchSpacing=Ve,a.matchText=Je},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function x(y,w){for(var b=0;b<w.length;b++){var v=w[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,v.key,v)}}return function(y,w,b){return w&&x(y.prototype,w),b&&x(y,b),y}}(),l=function x(y,w,b){y===null&&(y=Function.prototype);var v=Object.getOwnPropertyDescriptor(y,w);if(v===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:x(j,w,b)}else{if("value"in v)return v.value;var N=v.get;return N===void 0?void 0:N.call(b)}},c=i(6),d=f(c);function f(x){return x&&x.__esModule?x:{default:x}}function h(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function g(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function m(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var p=function(x){m(y,x);function y(){return h(this,y),g(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"optimize",value:function(b){l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return l(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(d.default);p.blotName="bold",p.tagName=["STRONG","B"],a.default=p},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.addControls=a.default=void 0;var o=function(){function k(M,_){var J=[],Y=!0,te=!1,K=void 0;try{for(var X=M[Symbol.iterator](),W;!(Y=(W=X.next()).done)&&(J.push(W.value),!(_&&J.length===_));Y=!0);}catch(F){te=!0,K=F}finally{try{!Y&&X.return&&X.return()}finally{if(te)throw K}}return J}return function(M,_){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return k(M,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function k(M,_){for(var J=0;J<_.length;J++){var Y=_[J];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(M,Y.key,Y)}}return function(M,_,J){return _&&k(M.prototype,_),J&&k(M,J),M}}(),c=i(2),d=b(c),f=i(0),h=b(f),g=i(5),m=b(g),p=i(10),x=b(p),y=i(9),w=b(y);function b(k){return k&&k.__esModule?k:{default:k}}function v(k,M,_){return M in k?Object.defineProperty(k,M,{value:_,enumerable:!0,configurable:!0,writable:!0}):k[M]=_,k}function j(k,M){if(!(k instanceof M))throw new TypeError("Cannot call a class as a function")}function N(k,M){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:k}function S(k,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);k.prototype=Object.create(M&&M.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(k,M):k.__proto__=M)}var I=(0,x.default)("quill:toolbar"),E=function(k){S(M,k);function M(_,J){j(this,M);var Y=N(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,_,J));if(Array.isArray(Y.options.container)){var te=document.createElement("div");C(te,Y.options.container),_.container.parentNode.insertBefore(te,_.container),Y.container=te}else typeof Y.options.container=="string"?Y.container=document.querySelector(Y.options.container):Y.container=Y.options.container;if(!(Y.container instanceof HTMLElement)){var K;return K=I.error("Container required for toolbar",Y.options),N(Y,K)}return Y.container.classList.add("ql-toolbar"),Y.controls=[],Y.handlers={},Object.keys(Y.options.handlers).forEach(function(X){Y.addHandler(X,Y.options.handlers[X])}),[].forEach.call(Y.container.querySelectorAll("button, select"),function(X){Y.attach(X)}),Y.quill.on(m.default.events.EDITOR_CHANGE,function(X,W){X===m.default.events.SELECTION_CHANGE&&Y.update(W)}),Y.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){var X=Y.quill.selection.getRange(),W=o(X,1),F=W[0];Y.update(F)}),Y}return l(M,[{key:"addHandler",value:function(J,Y){this.handlers[J]=Y}},{key:"attach",value:function(J){var Y=this,te=[].find.call(J.classList,function(X){return X.indexOf("ql-")===0});if(te){if(te=te.slice(3),J.tagName==="BUTTON"&&J.setAttribute("type","button"),this.handlers[te]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[te]==null){I.warn("ignoring attaching to disabled format",te,J);return}if(h.default.query(te)==null){I.warn("ignoring attaching to nonexistent format",te,J);return}}var K=J.tagName==="SELECT"?"change":"click";J.addEventListener(K,function(X){var W=void 0;if(J.tagName==="SELECT"){if(J.selectedIndex<0)return;var F=J.options[J.selectedIndex];F.hasAttribute("selected")?W=!1:W=F.value||!1}else J.classList.contains("ql-active")?W=!1:W=J.value||!J.hasAttribute("value"),X.preventDefault();Y.quill.focus();var P=Y.quill.selection.getRange(),A=o(P,1),B=A[0];if(Y.handlers[te]!=null)Y.handlers[te].call(Y,W);else if(h.default.query(te).prototype instanceof h.default.Embed){if(W=prompt("Enter "+te),!W)return;Y.quill.updateContents(new d.default().retain(B.index).delete(B.length).insert(v({},te,W)),m.default.sources.USER)}else Y.quill.format(te,W,m.default.sources.USER);Y.update(B)}),this.controls.push([te,J])}}},{key:"update",value:function(J){var Y=J==null?{}:this.quill.getFormat(J);this.controls.forEach(function(te){var K=o(te,2),X=K[0],W=K[1];if(W.tagName==="SELECT"){var F=void 0;if(J==null)F=null;else if(Y[X]==null)F=W.querySelector("option[selected]");else if(!Array.isArray(Y[X])){var P=Y[X];typeof P=="string"&&(P=P.replace(/\"/g,'\\"')),F=W.querySelector('option[value="'+P+'"]')}F==null?(W.value="",W.selectedIndex=-1):F.selected=!0}else if(J==null)W.classList.remove("ql-active");else if(W.hasAttribute("value")){var A=Y[X]===W.getAttribute("value")||Y[X]!=null&&Y[X].toString()===W.getAttribute("value")||Y[X]==null&&!W.getAttribute("value");W.classList.toggle("ql-active",A)}else W.classList.toggle("ql-active",Y[X]!=null)})}}]),M}(w.default);E.DEFAULTS={};function L(k,M,_){var J=document.createElement("button");J.setAttribute("type","button"),J.classList.add("ql-"+M),_!=null&&(J.value=_),k.appendChild(J)}function C(k,M){Array.isArray(M[0])||(M=[M]),M.forEach(function(_){var J=document.createElement("span");J.classList.add("ql-formats"),_.forEach(function(Y){if(typeof Y=="string")L(J,Y);else{var te=Object.keys(Y)[0],K=Y[te];Array.isArray(K)?T(J,te,K):L(J,te,K)}}),k.appendChild(J)})}function T(k,M,_){var J=document.createElement("select");J.classList.add("ql-"+M),_.forEach(function(Y){var te=document.createElement("option");Y!==!1?te.setAttribute("value",Y):te.setAttribute("selected","selected"),J.appendChild(te)}),k.appendChild(J)}E.DEFAULTS={container:null,handlers:{clean:function(){var M=this,_=this.quill.getSelection();if(_!=null)if(_.length==0){var J=this.quill.getFormat();Object.keys(J).forEach(function(Y){h.default.query(Y,h.default.Scope.INLINE)!=null&&M.quill.format(Y,!1)})}else this.quill.removeFormat(_,m.default.sources.USER)},direction:function(M){var _=this.quill.getFormat().align;M==="rtl"&&_==null?this.quill.format("align","right",m.default.sources.USER):!M&&_==="right"&&this.quill.format("align",!1,m.default.sources.USER),this.quill.format("direction",M,m.default.sources.USER)},indent:function(M){var _=this.quill.getSelection(),J=this.quill.getFormat(_),Y=parseInt(J.indent||0);if(M==="+1"||M==="-1"){var te=M==="+1"?1:-1;J.direction==="rtl"&&(te*=-1),this.quill.format("indent",Y+te,m.default.sources.USER)}},link:function(M){M===!0&&(M=prompt("Enter link URL:")),this.quill.format("link",M,m.default.sources.USER)},list:function(M){var _=this.quill.getSelection(),J=this.quill.getFormat(_);M==="check"?J.list==="checked"||J.list==="unchecked"?this.quill.format("list",!1,m.default.sources.USER):this.quill.format("list","unchecked",m.default.sources.USER):this.quill.format("list",M,m.default.sources.USER)}}},a.default=E,a.addControls=C},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function x(y,w){for(var b=0;b<w.length;b++){var v=w[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,v.key,v)}}return function(y,w,b){return w&&x(y.prototype,w),b&&x(y,b),y}}(),l=function x(y,w,b){y===null&&(y=Function.prototype);var v=Object.getOwnPropertyDescriptor(y,w);if(v===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:x(j,w,b)}else{if("value"in v)return v.value;var N=v.get;return N===void 0?void 0:N.call(b)}},c=i(28),d=f(c);function f(x){return x&&x.__esModule?x:{default:x}}function h(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function g(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function m(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var p=function(x){m(y,x);function y(w,b){h(this,y);var v=g(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return v.label.innerHTML=b,v.container.classList.add("ql-color-picker"),[].slice.call(v.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(j){j.classList.add("ql-primary")}),v}return o(y,[{key:"buildItem",value:function(b){var v=l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,b);return v.style.backgroundColor=b.getAttribute("value")||"",v}},{key:"selectItem",value:function(b,v){l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,b,v);var j=this.label.querySelector(".ql-color-label"),N=b&&b.getAttribute("data-value")||"";j&&(j.tagName==="line"?j.style.stroke=N:j.style.fill=N)}}]),y}(d.default);a.default=p},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function x(y,w){for(var b=0;b<w.length;b++){var v=w[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,v.key,v)}}return function(y,w,b){return w&&x(y.prototype,w),b&&x(y,b),y}}(),l=function x(y,w,b){y===null&&(y=Function.prototype);var v=Object.getOwnPropertyDescriptor(y,w);if(v===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:x(j,w,b)}else{if("value"in v)return v.value;var N=v.get;return N===void 0?void 0:N.call(b)}},c=i(28),d=f(c);function f(x){return x&&x.__esModule?x:{default:x}}function h(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function g(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function m(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var p=function(x){m(y,x);function y(w,b){h(this,y);var v=g(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return v.container.classList.add("ql-icon-picker"),[].forEach.call(v.container.querySelectorAll(".ql-picker-item"),function(j){j.innerHTML=b[j.getAttribute("data-value")||""]}),v.defaultItem=v.container.querySelector(".ql-selected"),v.selectItem(v.defaultItem),v}return o(y,[{key:"selectItem",value:function(b,v){l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,b,v),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),y}(d.default);a.default=p},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function d(f,h){for(var g=0;g<h.length;g++){var m=h[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,h,g){return h&&d(f.prototype,h),g&&d(f,g),f}}();function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}var c=function(){function d(f,h){var g=this;l(this,d),this.quill=f,this.boundsContainer=h||document.body,this.root=f.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){g.root.style.marginTop=-1*g.quill.root.scrollTop+"px"}),this.hide()}return o(d,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(h){var g=h.left+h.width/2-this.root.offsetWidth/2,m=h.bottom+this.quill.root.scrollTop;this.root.style.left=g+"px",this.root.style.top=m+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),x=this.root.getBoundingClientRect(),y=0;if(x.right>p.right&&(y=p.right-x.right,this.root.style.left=g+y+"px"),x.left<p.left&&(y=p.left-x.left,this.root.style.left=g+y+"px"),x.bottom>p.bottom){var w=x.bottom-x.top,b=h.bottom-h.top+w;this.root.style.top=m-b+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),d}();a.default=c},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function T(k,M){var _=[],J=!0,Y=!1,te=void 0;try{for(var K=k[Symbol.iterator](),X;!(J=(X=K.next()).done)&&(_.push(X.value),!(M&&_.length===M));J=!0);}catch(W){Y=!0,te=W}finally{try{!J&&K.return&&K.return()}finally{if(Y)throw te}}return _}return function(k,M){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return T(k,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function T(k,M,_){k===null&&(k=Function.prototype);var J=Object.getOwnPropertyDescriptor(k,M);if(J===void 0){var Y=Object.getPrototypeOf(k);return Y===null?void 0:T(Y,M,_)}else{if("value"in J)return J.value;var te=J.get;return te===void 0?void 0:te.call(_)}},c=function(){function T(k,M){for(var _=0;_<M.length;_++){var J=M[_];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(k,J.key,J)}}return function(k,M,_){return M&&T(k.prototype,M),_&&T(k,_),k}}(),d=i(3),f=j(d),h=i(8),g=j(h),m=i(43),p=j(m),x=i(27),y=j(x),w=i(15),b=i(41),v=j(b);function j(T){return T&&T.__esModule?T:{default:T}}function N(T,k){if(!(T instanceof k))throw new TypeError("Cannot call a class as a function")}function S(T,k){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:T}function I(T,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);T.prototype=Object.create(k&&k.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(T,k):T.__proto__=k)}var E=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],L=function(T){I(k,T);function k(M,_){N(this,k),_.modules.toolbar!=null&&_.modules.toolbar.container==null&&(_.modules.toolbar.container=E);var J=S(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,M,_));return J.quill.container.classList.add("ql-snow"),J}return c(k,[{key:"extendToolbar",value:function(_){_.container.classList.add("ql-snow"),this.buildButtons([].slice.call(_.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(_.container.querySelectorAll("select")),v.default),this.tooltip=new C(this.quill,this.options.bounds),_.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(J,Y){_.handlers.link.call(_,!Y.format.link)})}}]),k}(p.default);L.DEFAULTS=(0,f.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var M=this.quill.getSelection();if(M==null||M.length==0)return;var _=this.quill.getText(M);/^\S+@\S+\.\S+$/.test(_)&&_.indexOf("mailto:")!==0&&(_="mailto:"+_);var J=this.quill.theme.tooltip;J.edit("link",_)}else this.quill.format("link",!1)}}}}});var C=function(T){I(k,T);function k(M,_){N(this,k);var J=S(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,M,_));return J.preview=J.root.querySelector("a.ql-preview"),J}return c(k,[{key:"listen",value:function(){var _=this;l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(J){_.root.classList.contains("ql-editing")?_.save():_.edit("link",_.preview.textContent),J.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(J){if(_.linkRange!=null){var Y=_.linkRange;_.restoreFocus(),_.quill.formatText(Y,"link",!1,g.default.sources.USER),delete _.linkRange}J.preventDefault(),_.hide()}),this.quill.on(g.default.events.SELECTION_CHANGE,function(J,Y,te){if(J!=null){if(J.length===0&&te===g.default.sources.USER){var K=_.quill.scroll.descendant(y.default,J.index),X=o(K,2),W=X[0],F=X[1];if(W!=null){_.linkRange=new w.Range(J.index-F,W.length());var P=y.default.formats(W.domNode);_.preview.textContent=P,_.preview.setAttribute("href",P),_.show(),_.position(_.quill.getBounds(_.linkRange));return}}else delete _.linkRange;_.hide()}})}},{key:"show",value:function(){l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k}(m.BaseTooltip);C.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),a.default=L},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=i(29),l=ye(o),c=i(36),d=i(38),f=i(64),h=i(65),g=ye(h),m=i(66),p=ye(m),x=i(67),y=ye(x),w=i(37),b=i(26),v=i(39),j=i(40),N=i(56),S=ye(N),I=i(68),E=ye(I),L=i(27),C=ye(L),T=i(69),k=ye(T),M=i(70),_=ye(M),J=i(71),Y=ye(J),te=i(72),K=ye(te),X=i(73),W=ye(X),F=i(13),P=ye(F),A=i(74),B=ye(A),z=i(75),O=ye(z),U=i(57),Z=ye(U),se=i(41),fe=ye(se),le=i(28),Ne=ye(le),Te=i(59),ht=ye(Te),Fe=i(60),Ve=ye(Fe),ut=i(61),Je=ye(ut),G=i(108),ae=ye(G),Me=i(62),he=ye(Me);function ye(oe){return oe&&oe.__esModule?oe:{default:oe}}l.default.register({"attributors/attribute/direction":d.DirectionAttribute,"attributors/class/align":c.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":d.DirectionClass,"attributors/class/font":v.FontClass,"attributors/class/size":j.SizeClass,"attributors/style/align":c.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":d.DirectionStyle,"attributors/style/font":v.FontStyle,"attributors/style/size":j.SizeStyle},!0),l.default.register({"formats/align":c.AlignClass,"formats/direction":d.DirectionClass,"formats/indent":f.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":v.FontClass,"formats/size":j.SizeClass,"formats/blockquote":g.default,"formats/code-block":P.default,"formats/header":p.default,"formats/list":y.default,"formats/bold":S.default,"formats/code":F.Code,"formats/italic":E.default,"formats/link":C.default,"formats/script":k.default,"formats/strike":_.default,"formats/underline":Y.default,"formats/image":K.default,"formats/video":W.default,"formats/list/item":x.ListItem,"modules/formula":B.default,"modules/syntax":O.default,"modules/toolbar":Z.default,"themes/bubble":ae.default,"themes/snow":he.default,"ui/icons":fe.default,"ui/picker":Ne.default,"ui/icon-picker":Ve.default,"ui/color-picker":ht.default,"ui/tooltip":Je.default},!0),a.default=l.default},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.IndentClass=void 0;var o=function(){function y(w,b){for(var v=0;v<b.length;v++){var j=b[v];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(w,j.key,j)}}return function(w,b,v){return b&&y(w.prototype,b),v&&y(w,v),w}}(),l=function y(w,b,v){w===null&&(w=Function.prototype);var j=Object.getOwnPropertyDescriptor(w,b);if(j===void 0){var N=Object.getPrototypeOf(w);return N===null?void 0:y(N,b,v)}else{if("value"in j)return j.value;var S=j.get;return S===void 0?void 0:S.call(v)}},c=i(0),d=f(c);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function g(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function m(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var p=function(y){m(w,y);function w(){return h(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"add",value:function(v,j){if(j==="+1"||j==="-1"){var N=this.value(v)||0;j=j==="+1"?N+1:N-1}return j===0?(this.remove(v),!0):l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,v,j)}},{key:"canAdd",value:function(v,j){return l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,v,j)||l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,v,parseInt(j))}},{key:"value",value:function(v){return parseInt(l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,v))||void 0}}]),w}(d.default.Attributor.Class),x=new p("indent","ql-indent",{scope:d.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});a.IndentClass=x},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=i(4),l=c(o);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function f(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function h(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var g=function(m){h(p,m);function p(){return d(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(l.default);g.blotName="blockquote",g.tagName="blockquote",a.default=g},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function p(x,y){for(var w=0;w<y.length;w++){var b=y[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(x,b.key,b)}}return function(x,y,w){return y&&p(x.prototype,y),w&&p(x,w),x}}(),l=i(4),c=d(l);function d(p){return p&&p.__esModule?p:{default:p}}function f(p,x){if(!(p instanceof x))throw new TypeError("Cannot call a class as a function")}function h(p,x){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:p}function g(p,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);p.prototype=Object.create(x&&x.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(p,x):p.__proto__=x)}var m=function(p){g(x,p);function x(){return f(this,x),h(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return o(x,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),x}(c.default);m.blotName="header",m.tagName=["H1","H2","H3","H4","H5","H6"],a.default=m},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.ListItem=void 0;var o=function(){function N(S,I){for(var E=0;E<I.length;E++){var L=I[E];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}return function(S,I,E){return I&&N(S.prototype,I),E&&N(S,E),S}}(),l=function N(S,I,E){S===null&&(S=Function.prototype);var L=Object.getOwnPropertyDescriptor(S,I);if(L===void 0){var C=Object.getPrototypeOf(S);return C===null?void 0:N(C,I,E)}else{if("value"in L)return L.value;var T=L.get;return T===void 0?void 0:T.call(E)}},c=i(0),d=p(c),f=i(4),h=p(f),g=i(25),m=p(g);function p(N){return N&&N.__esModule?N:{default:N}}function x(N,S,I){return S in N?Object.defineProperty(N,S,{value:I,enumerable:!0,configurable:!0,writable:!0}):N[S]=I,N}function y(N,S){if(!(N instanceof S))throw new TypeError("Cannot call a class as a function")}function w(N,S){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:N}function b(N,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);N.prototype=Object.create(S&&S.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(N,S):N.__proto__=S)}var v=function(N){b(S,N);function S(){return y(this,S),w(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,[{key:"format",value:function(E,L){E===j.blotName&&!L?this.replaceWith(d.default.create(this.statics.scope)):l(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,E,L)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():l(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(E,L){return this.parent.isolate(this.offset(this.parent),this.length()),E===this.parent.statics.blotName?(this.parent.replaceWith(E,L),this):(this.parent.unwrap(),l(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,E,L))}}],[{key:"formats",value:function(E){return E.tagName===this.tagName?void 0:l(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,E)}}]),S}(h.default);v.blotName="list-item",v.tagName="LI";var j=function(N){b(S,N),o(S,null,[{key:"create",value:function(E){var L=E==="ordered"?"OL":"UL",C=l(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,L);return(E==="checked"||E==="unchecked")&&C.setAttribute("data-checked",E==="checked"),C}},{key:"formats",value:function(E){if(E.tagName==="OL")return"ordered";if(E.tagName==="UL")return E.hasAttribute("data-checked")?E.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function S(I){y(this,S);var E=w(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,I)),L=function(T){if(T.target.parentNode===I){var k=E.statics.formats(I),M=d.default.find(T.target);k==="checked"?M.format("list","unchecked"):k==="unchecked"&&M.format("list","checked")}};return I.addEventListener("touchstart",L),I.addEventListener("mousedown",L),E}return o(S,[{key:"format",value:function(E,L){this.children.length>0&&this.children.tail.format(E,L)}},{key:"formats",value:function(){return x({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(E,L){if(E instanceof v)l(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,E,L);else{var C=L==null?this.length():L.offset(this),T=this.split(C);T.parent.insertBefore(E,T)}}},{key:"optimize",value:function(E){l(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,E);var L=this.next;L!=null&&L.prev===this&&L.statics.blotName===this.statics.blotName&&L.domNode.tagName===this.domNode.tagName&&L.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(L.moveChildren(this),L.remove())}},{key:"replace",value:function(E){if(E.statics.blotName!==this.statics.blotName){var L=d.default.create(this.statics.defaultChild);E.moveChildren(L),this.appendChild(L)}l(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,E)}}]),S}(m.default);j.blotName="list",j.scope=d.default.Scope.BLOCK_BLOT,j.tagName=["OL","UL"],j.defaultChild="list-item",j.allowedChildren=[v],a.ListItem=v,a.default=j},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=i(56),l=c(o);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function f(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function h(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var g=function(m){h(p,m);function p(){return d(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(l.default);g.blotName="italic",g.tagName=["EM","I"],a.default=g},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function x(y,w){for(var b=0;b<w.length;b++){var v=w[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,v.key,v)}}return function(y,w,b){return w&&x(y.prototype,w),b&&x(y,b),y}}(),l=function x(y,w,b){y===null&&(y=Function.prototype);var v=Object.getOwnPropertyDescriptor(y,w);if(v===void 0){var j=Object.getPrototypeOf(y);return j===null?void 0:x(j,w,b)}else{if("value"in v)return v.value;var N=v.get;return N===void 0?void 0:N.call(b)}},c=i(6),d=f(c);function f(x){return x&&x.__esModule?x:{default:x}}function h(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function g(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function m(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var p=function(x){m(y,x);function y(){return h(this,y),g(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):l(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),y}(d.default);p.blotName="script",p.tagName=["SUB","SUP"],a.default=p},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=i(6),l=c(o);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function f(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function h(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var g=function(m){h(p,m);function p(){return d(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(l.default);g.blotName="strike",g.tagName="S",a.default=g},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=i(6),l=c(o);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function f(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function h(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var g=function(m){h(p,m);function p(){return d(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(l.default);g.blotName="underline",g.tagName="U",a.default=g},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function w(b,v){for(var j=0;j<v.length;j++){var N=v[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,v,j){return v&&w(b.prototype,v),j&&w(b,j),b}}(),l=function w(b,v,j){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,v);if(N===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:w(S,v,j)}else{if("value"in N)return N.value;var I=N.get;return I===void 0?void 0:I.call(j)}},c=i(0),d=h(c),f=i(27);function h(w){return w&&w.__esModule?w:{default:w}}function g(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function m(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function p(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var x=["alt","height","width"],y=function(w){p(b,w);function b(){return g(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"format",value:function(j,N){x.indexOf(j)>-1?N?this.domNode.setAttribute(j,N):this.domNode.removeAttribute(j):l(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,j,N)}}],[{key:"create",value:function(j){var N=l(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,j);return typeof j=="string"&&N.setAttribute("src",this.sanitize(j)),N}},{key:"formats",value:function(j){return x.reduce(function(N,S){return j.hasAttribute(S)&&(N[S]=j.getAttribute(S)),N},{})}},{key:"match",value:function(j){return/\.(jpe?g|gif|png)$/.test(j)||/^data:image\/.+;base64/.test(j)}},{key:"sanitize",value:function(j){return(0,f.sanitize)(j,["http","https","data"])?j:"//:0"}},{key:"value",value:function(j){return j.getAttribute("src")}}]),b}(d.default.Embed);y.blotName="image",y.tagName="IMG",a.default=y},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function w(b,v){for(var j=0;j<v.length;j++){var N=v[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,v,j){return v&&w(b.prototype,v),j&&w(b,j),b}}(),l=function w(b,v,j){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,v);if(N===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:w(S,v,j)}else{if("value"in N)return N.value;var I=N.get;return I===void 0?void 0:I.call(j)}},c=i(4),d=i(27),f=h(d);function h(w){return w&&w.__esModule?w:{default:w}}function g(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function m(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function p(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var x=["height","width"],y=function(w){p(b,w);function b(){return g(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"format",value:function(j,N){x.indexOf(j)>-1?N?this.domNode.setAttribute(j,N):this.domNode.removeAttribute(j):l(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,j,N)}}],[{key:"create",value:function(j){var N=l(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,j);return N.setAttribute("frameborder","0"),N.setAttribute("allowfullscreen",!0),N.setAttribute("src",this.sanitize(j)),N}},{key:"formats",value:function(j){return x.reduce(function(N,S){return j.hasAttribute(S)&&(N[S]=j.getAttribute(S)),N},{})}},{key:"sanitize",value:function(j){return f.default.sanitize(j)}},{key:"value",value:function(j){return j.getAttribute("src")}}]),b}(c.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",a.default=y},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.FormulaBlot=void 0;var o=function(){function j(N,S){for(var I=0;I<S.length;I++){var E=S[I];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(N,E.key,E)}}return function(N,S,I){return S&&j(N.prototype,S),I&&j(N,I),N}}(),l=function j(N,S,I){N===null&&(N=Function.prototype);var E=Object.getOwnPropertyDescriptor(N,S);if(E===void 0){var L=Object.getPrototypeOf(N);return L===null?void 0:j(L,S,I)}else{if("value"in E)return E.value;var C=E.get;return C===void 0?void 0:C.call(I)}},c=i(35),d=p(c),f=i(5),h=p(f),g=i(9),m=p(g);function p(j){return j&&j.__esModule?j:{default:j}}function x(j,N){if(!(j instanceof N))throw new TypeError("Cannot call a class as a function")}function y(j,N){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:j}function w(j,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);j.prototype=Object.create(N&&N.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(j,N):j.__proto__=N)}var b=function(j){w(N,j);function N(){return x(this,N),y(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return o(N,null,[{key:"create",value:function(I){var E=l(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,I);return typeof I=="string"&&(window.katex.render(I,E,{throwOnError:!1,errorColor:"#f00"}),E.setAttribute("data-value",I)),E}},{key:"value",value:function(I){return I.getAttribute("data-value")}}]),N}(d.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var v=function(j){w(N,j),o(N,null,[{key:"register",value:function(){h.default.register(b,!0)}}]);function N(){x(this,N);var S=y(this,(N.__proto__||Object.getPrototypeOf(N)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return S}return N}(m.default);a.FormulaBlot=b,a.default=v},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.CodeToken=a.CodeBlock=void 0;var o=function(){function I(E,L){for(var C=0;C<L.length;C++){var T=L[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(E,T.key,T)}}return function(E,L,C){return L&&I(E.prototype,L),C&&I(E,C),E}}(),l=function I(E,L,C){E===null&&(E=Function.prototype);var T=Object.getOwnPropertyDescriptor(E,L);if(T===void 0){var k=Object.getPrototypeOf(E);return k===null?void 0:I(k,L,C)}else{if("value"in T)return T.value;var M=T.get;return M===void 0?void 0:M.call(C)}},c=i(0),d=y(c),f=i(5),h=y(f),g=i(9),m=y(g),p=i(13),x=y(p);function y(I){return I&&I.__esModule?I:{default:I}}function w(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function b(I,E){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:I}function v(I,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);I.prototype=Object.create(E&&E.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(I,E):I.__proto__=E)}var j=function(I){v(E,I);function E(){return w(this,E),b(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"replaceWith",value:function(C){this.domNode.textContent=this.domNode.textContent,this.attach(),l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replaceWith",this).call(this,C)}},{key:"highlight",value:function(C){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=C(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),E}(x.default);j.className="ql-syntax";var N=new d.default.Attributor.Class("token","hljs",{scope:d.default.Scope.INLINE}),S=function(I){v(E,I),o(E,null,[{key:"register",value:function(){h.default.register(N,!0),h.default.register(j,!0)}}]);function E(L,C){w(this,E);var T=b(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,L,C));if(typeof T.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return T.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){T.highlight(),k=null},T.options.interval)}),T.highlight(),T}return o(E,[{key:"highlight",value:function(){var C=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(j).forEach(function(k){k.highlight(C.options.highlight)}),this.quill.update(h.default.sources.SILENT),T!=null&&this.quill.setSelection(T,h.default.sources.SILENT)}}}]),E}(m.default);S.DEFAULTS={highlight:function(){return window.hljs==null?null:function(I){var E=window.hljs.highlightAuto(I);return E.value}}(),interval:1e3},a.CodeBlock=j,a.CodeToken=N,a.default=S},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(s,a){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(s,a){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(s,a){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(s,a){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(s,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BubbleTooltip=void 0;var o=function E(L,C,T){L===null&&(L=Function.prototype);var k=Object.getOwnPropertyDescriptor(L,C);if(k===void 0){var M=Object.getPrototypeOf(L);return M===null?void 0:E(M,C,T)}else{if("value"in k)return k.value;var _=k.get;return _===void 0?void 0:_.call(T)}},l=function(){function E(L,C){for(var T=0;T<C.length;T++){var k=C[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(L,k.key,k)}}return function(L,C,T){return C&&E(L.prototype,C),T&&E(L,T),L}}(),c=i(3),d=w(c),f=i(8),h=w(f),g=i(43),m=w(g),p=i(15),x=i(41),y=w(x);function w(E){return E&&E.__esModule?E:{default:E}}function b(E,L){if(!(E instanceof L))throw new TypeError("Cannot call a class as a function")}function v(E,L){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:E}function j(E,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);E.prototype=Object.create(L&&L.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(E,L):E.__proto__=L)}var N=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],S=function(E){j(L,E);function L(C,T){b(this,L),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=N);var k=v(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,C,T));return k.quill.container.classList.add("ql-bubble"),k}return l(L,[{key:"extendToolbar",value:function(T){this.tooltip=new I(this.quill,this.options.bounds),this.tooltip.root.appendChild(T.container),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),y.default)}}]),L}(m.default);S.DEFAULTS=(0,d.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(L){L?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var I=function(E){j(L,E);function L(C,T){b(this,L);var k=v(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,C,T));return k.quill.on(h.default.events.EDITOR_CHANGE,function(M,_,J,Y){if(M===h.default.events.SELECTION_CHANGE)if(_!=null&&_.length>0&&Y===h.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var te=k.quill.getLines(_.index,_.length);if(te.length===1)k.position(k.quill.getBounds(_));else{var K=te[te.length-1],X=k.quill.getIndex(K),W=Math.min(K.length()-1,_.index+_.length-X),F=k.quill.getBounds(new p.Range(X,W));k.position(F)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return l(L,[{key:"listen",value:function(){var T=this;o(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){T.root.classList.remove("ql-editing")}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!T.root.classList.contains("ql-hidden")){var k=T.quill.getSelection();k!=null&&T.position(T.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(T){var k=o(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"position",this).call(this,T),M=this.root.querySelector(".ql-tooltip-arrow");if(M.style.marginLeft="",k===0)return k;M.style.marginLeft=-1*k-M.offsetWidth/2+"px"}}]),L}(g.BaseTooltip);I.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),a.BubbleTooltip=I,a.default=S},function(s,a,i){s.exports=i(63)}]).default})})(hq);var Dke=hq.exports,Rke=Ts&&Ts.__extends||function(){var t=function(r,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)i.hasOwnProperty(o)&&(a[o]=i[o])},t(r,s)};return function(r,s){t(r,s);function a(){this.constructor=r}r.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),_b=Ts&&Ts.__assign||function(){return _b=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},_b.apply(this,arguments)},Fke=Ts&&Ts.__spreadArrays||function(){for(var t=0,r=0,s=arguments.length;r<s;r++)t+=arguments[r].length;for(var a=Array(t),i=0,r=0;r<s;r++)for(var o=arguments[r],l=0,c=o.length;l<c;l++,i++)a[i]=o[l];return a},Ew=Ts&&Ts.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Yo=Ew(u),Bke=Ew(Ed),Pg=Ew(Pke),Y$=Ew(Dke),zke=function(t){Rke(r,t);function r(s){var a=t.call(this,s)||this;a.dirtyProps=["modules","formats","bounds","theme","children"],a.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],a.state={generation:0},a.selection=null,a.onEditorChange=function(o,l,c,d){var f,h,g,m;o==="text-change"?(h=(f=a).onEditorChangeText)===null||h===void 0||h.call(f,a.editor.root.innerHTML,l,d,a.unprivilegedEditor):o==="selection-change"&&((m=(g=a).onEditorChangeSelection)===null||m===void 0||m.call(g,l,d,a.unprivilegedEditor))};var i=a.isControlled()?s.value:s.defaultValue;return a.value=i!=null?i:"",a}return r.prototype.validateProps=function(s){var a;if(Yo.default.Children.count(s.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Yo.default.Children.count(s.children)){var i=Yo.default.Children.only(s.children);if(((a=i)===null||a===void 0?void 0:a.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&s.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},r.prototype.shouldComponentUpdate=function(s,a){var i=this,o;if(this.validateProps(s),!this.editor||this.state.generation!==a.generation)return!0;if("value"in s){var l=this.getEditorContents(),c=(o=s.value,o!=null?o:"");this.isEqualValue(c,l)||this.setEditorContents(this.editor,c)}return s.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,s.readOnly),Fke(this.cleanProps,this.dirtyProps).some(function(d){return!Pg.default(s[d],i.props[d])})},r.prototype.shouldComponentRegenerate=function(s){var a=this;return this.dirtyProps.some(function(i){return!Pg.default(s[i],a.props[i])})},r.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},r.prototype.componentWillUnmount=function(){this.destroyEditor()},r.prototype.componentDidUpdate=function(s,a){var i=this;if(this.editor&&this.shouldComponentRegenerate(s)){var o=this.editor.getContents(),l=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:l},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==a.generation){var c=this.regenerationSnapshot,o=c.delta,d=c.selection;delete this.regenerationSnapshot,this.instantiateEditor();var f=this.editor;f.setContents(o),J$(function(){return i.setEditorSelection(f,d)})}},r.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},r.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},r.prototype.isControlled=function(){return"value"in this.props},r.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},r.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},r.prototype.createEditor=function(s,a){var i=new Y$.default(s,a);return a.tabIndex!=null&&this.setEditorTabIndex(i,a.tabIndex),this.hookEditor(i),i},r.prototype.hookEditor=function(s){this.unprivilegedEditor=this.makeUnprivilegedEditor(s),s.on("editor-change",this.onEditorChange)},r.prototype.unhookEditor=function(s){s.off("editor-change",this.onEditorChange)},r.prototype.getEditorContents=function(){return this.value},r.prototype.getEditorSelection=function(){return this.selection},r.prototype.isDelta=function(s){return s&&s.ops},r.prototype.isEqualValue=function(s,a){return this.isDelta(s)&&this.isDelta(a)?Pg.default(s.ops,a.ops):Pg.default(s,a)},r.prototype.setEditorContents=function(s,a){var i=this;this.value=a;var o=this.getEditorSelection();typeof a=="string"?s.setContents(s.clipboard.convert(a)):s.setContents(a),J$(function(){return i.setEditorSelection(s,o)})},r.prototype.setEditorSelection=function(s,a){if(this.selection=a,a){var i=s.getLength();a.index=Math.max(0,Math.min(a.index,i-1)),a.length=Math.max(0,Math.min(a.length,i-1-a.index)),s.setSelection(a)}},r.prototype.setEditorTabIndex=function(s,a){var i,o;!((o=(i=s)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(s.scroll.domNode.tabIndex=a)},r.prototype.setEditorReadOnly=function(s,a){a?s.disable():s.enable()},r.prototype.makeUnprivilegedEditor=function(s){var a=s;return{getHTML:function(){return a.root.innerHTML},getLength:a.getLength.bind(a),getText:a.getText.bind(a),getContents:a.getContents.bind(a),getSelection:a.getSelection.bind(a),getBounds:a.getBounds.bind(a)}},r.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var s=Bke.default.findDOMNode(this.editingArea);if(!s)throw new Error("Cannot find element for editing area");if(s.nodeType===3)throw new Error("Editing area cannot be a text node");return s},r.prototype.renderEditingArea=function(){var s=this,a=this.props,i=a.children,o=a.preserveWhitespace,l=this.state.generation,c={key:l,ref:function(d){s.editingArea=d}};return Yo.default.Children.count(i)?Yo.default.cloneElement(Yo.default.Children.only(i),c):o?Yo.default.createElement("pre",_b({},c)):Yo.default.createElement("div",_b({},c))},r.prototype.render=function(){var s;return Yo.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(s=this.props.className,s!=null?s:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},r.prototype.onEditorChangeText=function(s,a,i,o){var l,c;if(this.editor){var d=this.isDelta(this.value)?o.getContents():o.getHTML();d!==this.getEditorContents()&&(this.lastDeltaChangeSet=a,this.value=d,(c=(l=this.props).onChange)===null||c===void 0||c.call(l,s,a,i,o))}},r.prototype.onEditorChangeSelection=function(s,a,i){var o,l,c,d,f,h;if(this.editor){var g=this.getEditorSelection(),m=!g&&s,p=g&&!s;Pg.default(s,g)||(this.selection=s,(l=(o=this.props).onChangeSelection)===null||l===void 0||l.call(o,s,a,i),m?(d=(c=this.props).onFocus)===null||d===void 0||d.call(c,s,a,i):p&&((h=(f=this.props).onBlur)===null||h===void 0||h.call(f,g,a,i)))}},r.prototype.focus=function(){this.editor&&this.editor.focus()},r.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},r.displayName="React Quill",r.Quill=Y$.default,r.defaultProps={theme:"snow",modules:{},readOnly:!1},r}(Yo.default.Component);function J$(t){Promise.resolve().then(t)}var Uke=zke;const gq=j2(Uke),fd={briefcase:()=>n.jsxs("svg",{className:"h-5 w-5 text-brand-600",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"M10 3h4a2 2 0 0 1 2 2v1h3a2 2 0 0 1 2 2v3H3V8a2 2 0 0 1 2-2h3V5a2 2 0 0 1 2-2Zm4 3V5h-4v1h4Z"}),n.jsx("path",{d:"M3 11h18v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7Zm8 2H5v2h6v-2Z"})]}),doc:()=>n.jsxs("svg",{className:"h-5 w-5 text-brand-600",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"M6 2h8l6 6v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"}),n.jsx("path",{d:"M14 2v6h6",className:"opacity-70"})]}),pin:()=>n.jsx("svg",{className:"h-5 w-5 text-brand-600",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Zm0 10a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z"})}),send:()=>n.jsx("svg",{className:"h-5 w-5 text-brand-600",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"m2 21 21-9L2 3v7l15 2-15 2v7z"})}),back:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M15 19 8 12l7-7"})}),chevron:()=>n.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"m6 9 6 6 6-6"})}),calendar:()=>n.jsxs("svg",{className:"h-5 w-5 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"M7 2h2v3H7zm8 0h2v3h-2z"}),n.jsx("path",{d:"M5 5h14a2 2 0 0 1 2 2v13H3V7a2 2 0 0 1 2-2Zm0 5v9h14v-9H5Z"})]}),search:()=>n.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M10 2a8 8 0 1 1 5.293 13.707l4 4-1.414 1.414-4-4A8 8 0 0 1 10 2Zm0 2a6 6 0 1 0 .001 12.001A6 6 0 0 0 10 4Z"})}),x:()=>n.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M6 6l12 12M18 6 6 18"})})},Xn=({children:t,required:r})=>n.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:[t," ",r&&n.jsx("span",{className:"text-pink-600",children:"*"})]}),Dc=t=>{const r=s=>{t.type==="number"&&(s.target.value=s.target.value.replace(/[^\d.-]/g,"")),t.onChange&&t.onChange(s)};return n.jsx("input",me(ne({},t),{onChange:r,className:`w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-100 ${t.className||""}`}))},Jd=s=>{var a=s,{children:t}=a,r=wc(a,["children"]);return n.jsxs("div",{className:"relative",children:[n.jsx("select",me(ne({},r),{className:"w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-100",children:t})),n.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:n.jsx(fd.chevron,{})})]})},Wke=t=>n.jsx("textarea",me(ne({rows:t.rows||4},t),{className:`w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-100 ${t.className||""}`})),Hke=["USD","EUR","GBP","NGN","GHS","ZAR","KES","UGX","TZS","XOF","XAF","MAD","DZD","TND","EGP","ETB","NAD","BWP","MZN","ZMW","RWF","BIF","SOS","SDG","CDF"],Vke=[{value:"All countries",label:"All countries"},...An.map(t=>({value:t,label:t}))],Gke=({value:t,onChange:r,error:s,citiesLoading:a,getCitiesForCountry:i})=>{const[o,l]=u.useState(!1),[c,d]=u.useState(""),[f,h]=u.useState("");if(a)return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Countries and cities ",n.jsx("span",{className:"text-gray-400 font-normal",children:"(optional)"})]}),n.jsxs("div",{className:"flex items-center justify-center p-4",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-500",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading cities..."})]})]});const g=()=>{if(c){const x={country:c,city:c==="All countries"?null:f||""};r([...t,x]),d(""),h(""),l(!1)}},m=x=>{const y=t.filter((w,b)=>b!==x);r(y)},p=(x,y)=>{const w=t.map((b,v)=>v===x?me(ne({},b),{city:b.country==="All countries"?null:y}):b);r(w)};return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Countries and cities ",n.jsx("span",{className:"text-gray-400 font-normal",children:"(optional)"})]}),t.length>0&&n.jsx("div",{className:"space-y-2",children:t.map((x,y)=>n.jsxs("div",{className:"flex items-center relative max-sm:flex-col gap-3 p-3 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-sm",children:x.country}),x.city&&x.country!=="All countries"&&n.jsxs("div",{className:"text-xs text-gray-500",children:["City: ",x.city]})]}),x.country!=="All countries"?n.jsx(Nu,{options:i(x.country),value:x.city,onChange:w=>p(y,w),placeholder:"Select city",className:"w-48 max-sm:w-full"}):n.jsx("div",{className:"w-48 p-2 text-sm text-gray-500 italic",children:"City not applicable"}),n.jsx("button",{type:"button",onClick:()=>m(y),className:"p-1 text-red-500 hover:text-red-700 max-sm:absolute top-1 right-1",title:"Remove",children:n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]},y))}),o?n.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg bg-blue-50 space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3 max-sm:grid-cols-1",children:[n.jsx(Nu,{options:Vke,value:c,onChange:d,placeholder:"Select country"}),n.jsx(Nu,{options:c?i(c):[],value:f,onChange:h,placeholder:"Select city (optional)",disabled:!c||c==="All countries"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{type:"button",onClick:g,disabled:!c,className:"px-3 py-1 bg-brand-600 text-white rounded-lg text-sm hover:bg-brand-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),n.jsx("button",{type:"button",onClick:()=>{l(!1),d(""),h("")},className:"px-3 py-1 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:"Cancel"})]})]}):n.jsxs("button",{type:"button",onClick:()=>l(!0),className:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 5v14M5 12h14"})}),"Add Country"]}),s&&n.jsx("p",{className:"text-xs text-red-600",children:s})]})},Pv={badge:"inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium",chip:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs"};function Nu({value:t,onChange:r,options:s,placeholder:a="Select…",disabled:i=!1,required:o=!1,ariaLabel:l}){const[c,d]=u.useState(!1),[f,h]=u.useState(""),[g,m]=u.useState(0),p=u.useRef(null),x=u.useRef(null),y=u.useMemo(()=>s.find(S=>String(S.value)===String(t))||null,[s,t]),w=u.useMemo(()=>{const S=f.trim().toLowerCase();return S?s.map(I=>({o:I,score:(I.label||"").toLowerCase().indexOf(S)})).filter(I=>I.score!==-1).sort((I,E)=>I.score-E.score).map(I=>I.o).slice(0,100):s},[f,s]),b=y&&!f?y.label:f;u.useEffect(()=>{function S(I){p.current&&(p.current.contains(I.target)||d(!1))}return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]),u.useEffect(()=>{c||m(0)},[c,f]);function v(S){var I;r==null||r((S==null?void 0:S.value)||""),h(""),d(!1),(I=x.current)==null||I.blur()}function j(){r==null||r(""),h(""),d(!1)}function N(S){if(!i){if(!c&&(S.key==="ArrowDown"||S.key==="ArrowUp")){d(!0);return}if(c)if(S.key==="ArrowDown")S.preventDefault(),m(I=>Math.min(I+1,w.length-1));else if(S.key==="ArrowUp")S.preventDefault(),m(I=>Math.max(I-1,0));else if(S.key==="Enter"){S.preventDefault();const I=w[g];I&&v(I)}else S.key==="Escape"&&d(!1)}}return n.jsxs("div",{ref:p,className:`relative ${i?"opacity-60":""}`,children:[n.jsxs("div",{className:"grid gap-1.5",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{ref:x,type:"text",value:b,disabled:i,placeholder:a,onChange:S=>{h(S.target.value),d(!0)},onFocus:()=>!i&&d(!0),onKeyDown:N,"aria-autocomplete":"list","aria-expanded":c,"aria-controls":"ss-results","aria-label":l||a,role:"combobox",autoComplete:"off",className:"w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-16 focus:outline-none focus:ring-2 focus:ring-brand-200 text-black"}),y&&!i?n.jsx("button",{type:"button",onClick:j,className:"absolute right-8 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-gray-100",title:"Clear",children:"×"}):null,n.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:n.jsx(fd.chevron,{})})]}),o&&n.jsx("input",{tabIndex:-1,"aria-hidden":"true",className:"sr-only",required:!0,value:t||"",onChange:()=>{}})]}),c&&!i&&n.jsx("div",{id:"ss-results",role:"listbox",className:"absolute z-30 mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:w.length===0?n.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No results"}):n.jsx("ul",{className:"max-h-72 overflow-auto",children:w.map((S,I)=>{const E=I===g;return n.jsx("li",{role:"option","aria-selected":E,className:`cursor-pointer px-3 py-2 text-sm ${E?"bg-brand-50":"hover:bg-gray-50"}`,onMouseEnter:()=>m(I),onMouseDown:L=>{L.preventDefault(),v(S)},children:S.label},S.value)})})})]})}function qke(t){if(!t)return"—";try{const r=new Date(t+"T00:00:00");return new Intl.DateTimeFormat(void 0,{dateStyle:"medium"}).format(r)}catch(r){return t}}function Yke(t,r,s){const a=s||"";return t&&r?`${t}–${r} ${a}`:t?`From ${t} ${a}`:r?`Up to ${r} ${a}`:"—"}function Jke(t=[]){const r=new Map,s=new Map,a=new Map,i=new Map;for(const o of t){r.set(String(o.id),o.name||o.title||`Identity ${o.id}`);for(const l of o.categories||[]){s.set(String(l.id),l.name||l.title||`Category ${l.id}`);for(const c of l.subcategories||[]){a.set(String(c.id),c.name||c.title||`Subcategory ${c.id}`);for(const d of c.subsubs||[])i.set(String(d.id),d.name||d.title||`Sub-sub ${d.id}`)}}}return{ids:r,cats:s,subs:a,subsubs:i}}function Zke(t={}){const r=new Set,s=d=>{typeof d=="string"&&d.trim()&&r.add(d.trim())},a=d=>{Array.isArray(d)&&d.forEach(f=>{typeof f=="string"?s(f):f&&typeof f.url=="string"&&s(f.url)})};s(t.coverImageUrl),s(t.imageUrl),s(t.bannerUrl),s(t.heroUrl),a(t.images),a(t.gallery),a(t.photos),a(t.media),Array.isArray(t.attachments)&&t.attachments.forEach(d=>{var g;const f=(d==null?void 0:d.url)||(d==null?void 0:d.href),h=(d==null?void 0:d.mimeType)||(d==null?void 0:d.contentType);((g=h==null?void 0:h.startsWith)!=null&&g.call(h,"image/")||typeof f=="string"&&/\.(png|jpe?g|webp|gif|bmp|svg)(\?|#|$)/i.test(f))&&s(f)});const i=t.logoUrl||t.companyLogoUrl||null,o=Array.from(r),l=t.coverImageUrl||t.bannerUrl||t.heroUrl||o[0]||null,c=o.filter(d=>d!==l);return{logoUrl:i,coverImageUrl:l,images:c}}function Z$(t,r){if(!r)return t;try{const s=new RegExp(`(${r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"ig");return(t||"").split(s).map((i,o)=>s.test(i)?n.jsx("mark",{className:"bg-yellow-100 rounded px-0.5",children:i},o):n.jsx("span",{children:i},o))}catch(s){return t}}function Qke({companies:t=[],value:r,onChange:s,required:a}){const[i,o]=u.useState(""),[l,c]=u.useState(!1),[d,f]=u.useState(0),h=u.useRef(null),g=u.useRef(null);u.useEffect(()=>{function v(j){h.current&&(h.current.contains(j.target)||c(!1))}return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const m=u.useMemo(()=>t.find(v=>v.id===r)||null,[t,r]),p=u.useMemo(()=>{const v=i.trim().toLowerCase();return v?t.map(N=>{const I=`${N.name||""} ${N.email||""} ${N.city||""} ${N.country||""}`.toLowerCase().indexOf(v),L=((N.name||"").toLowerCase().indexOf(v)!==-1?0:5)+(I===-1?999:I);return{c:N,score:L}}).filter(N=>N.score<999).sort((N,S)=>N.score-S.score).map(N=>N.c).slice(0,12):t.slice(0,20)},[t,i]);u.useEffect(()=>{l||f(0)},[l,i]);function x(v){var j;s==null||s(v),o(""),c(!1),(j=g.current)==null||j.blur()}function y(){var v;s==null||s(null),o(""),c(!1),(v=g.current)==null||v.focus()}function w(){setTimeout(()=>{const v=i.trim();if(!v)return;const j=t.find(N=>(N.name||"").trim().toLowerCase()===v.toLowerCase());j?x(j):y()},0)}function b(v){if(!l&&(v.key==="ArrowDown"||v.key==="ArrowUp")){c(!0);return}if(l)if(v.key==="ArrowDown")v.preventDefault(),f(j=>Math.min(j+1,p.length-1));else if(v.key==="ArrowUp")v.preventDefault(),f(j=>Math.max(j-1,0));else if(v.key==="Enter"){v.preventDefault();const j=p[d];j&&x(j)}else v.key==="Escape"&&c(!1)}return n.jsxs("div",{ref:h,className:"relative",children:[n.jsxs("div",{className:"grid gap-1.5",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Dc,{ref:g,placeholder:m?m.name:"Search companies…",value:i,onChange:v=>{o(v.target.value),c(!0)},onFocus:()=>c(!0),onKeyDown:b,onBlur:w,"aria-autocomplete":"list","aria-expanded":l,"aria-controls":"company-results",role:"combobox",autoComplete:"off",className:m?"text-gray-400 placeholder-black border-0":"text-gray-700 placeholder-gray-400"}),m&&n.jsx("button",{type:"button",onClick:y,className:"absolute right-2 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-gray-100","aria-label":"Clear selected company",title:"Clear",children:n.jsx(fd.x,{})})]})}),a&&n.jsx("input",{tabIndex:-1,"aria-hidden":"true",className:"sr-only",required:!0,value:r||"",onChange:()=>{}})]}),l&&n.jsx("div",{id:"company-results",role:"listbox",className:"absolute z-20 mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:p.length===0?n.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No companies found."}):n.jsx("ul",{className:"max-h-72 overflow-auto",children:p.map((v,j)=>{const N=j===d;return n.jsxs("li",{role:"option","aria-selected":N,className:`cursor-pointer px-3 py-2 text-sm flex items-center justify-between ${N?"bg-brand-50":"hover:bg-gray-50"}`,onMouseEnter:()=>f(j),onMouseDown:S=>{S.preventDefault(),x(v)},children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-medium truncate",children:Z$(v.name||"Unnamed",i)}),n.jsxs("div",{className:"text-[12px] text-gray-500 truncate",children:[v.email?n.jsx("span",{className:"mr-2",children:Z$(v.email,i)}):null,v.city||v.country?n.jsx("span",{className:"",children:[v.city,v.country].filter(Boolean).join(", ")}):null]})]}),n.jsx("span",{className:"ml-3 text-[11px] text-gray-400",children:v.country||""})]},v.id)})})})]})}function Kke({form:t,audSel:r,audTree:s,media:a,coverImage:i}){const o=u.useMemo(()=>Jke(s),[s]),l=Array.from(r.identityIds||[]).map(x=>o.ids.get(String(x))).filter(Boolean),c=Array.from(r.categoryIds||[]).map(x=>o.cats.get(String(x))).filter(Boolean),d=Array.from(r.subcategoryIds||[]).map(x=>o.subs.get(String(x))).filter(Boolean),f=Array.from(r.subsubCategoryIds||[]).map(x=>o.subsubs.get(String(x))).filter(Boolean);Array.isArray(t.requiredSkills)?t.requiredSkills:(t.requiredSkills||"").split(",").map(x=>x.trim()).filter(Boolean);const{logoUrl:h,coverImageUrl:g,images:m=[]}=a||{},p=i||g||null;return console.log({coverSrc:p}),n.jsxs("div",{className:"mt-6 rounded-2xl bg-white border border-gray-100 shadow-sm overflow-hidden",children:[p?n.jsx("div",{className:"relative aspect-[16/6] w-full bg-gray-100",children:n.jsx("img",{src:p,alt:"Job cover",className:"h-full w-full object-cover"})}):null,n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[h?n.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-xl overflow-hidden border border-gray-200 bg-white",children:n.jsx("img",{src:h,alt:"Company logo",className:"h-full w-full object-cover"})}):null,n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold",children:t.title||"Untitled role"}),n.jsx("div",{className:"mt-1 text-sm text-gray-700",children:t.companyName?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"font-medium",children:t.companyName}),t.make_company_name_private?n.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(company kept private)"}):null]}):""})]})]})}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[n.jsx("div",{className:"rounded-xl border p-4 hidden",children:n.jsxs("div",{className:"mt-2 text-sm text-gray-700 space-y-1",children:[n.jsxs("div",{children:["Experience: ",t.experienceLevel||"—"]}),n.jsxs("div",{children:["Type: ",t.jobType||"—"]}),n.jsxs("div",{children:["Work Location: ",t.workLocation||"—"]})]})}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsxs("div",{className:"text-gray-700 font-medium flex items-center gap-2",children:[n.jsx(fd.pin,{})," Location"]}),n.jsxs("div",{className:"mt-2 text-sm text-gray-700",children:[n.jsx("div",{children:[t.city,t.country].filter(Boolean).join(", ")||"All contries"}),n.jsxs("div",{className:"mt-1 hidden",children:["Salary: ",Yke(t.minSalary,t.maxSalary,t.currency)]}),n.jsxs("div",{className:"mt-1 hidden",children:["Benefits: ",t.benefits||"—"]})]})]}),n.jsxs("div",{className:"rounded-xl border p-4 hidden",children:[n.jsxs("div",{className:"text-gray-700 font-medium flex items-center gap-2",children:[n.jsx(fd.send,{})," Applications"]}),n.jsxs("div",{className:"mt-2 text-sm text-gray-700 space-y-1",children:[n.jsxs("div",{children:["Deadline: ",qke(t.applicationDeadline)]}),n.jsxs("div",{children:["Positions: ",t.positions||"—"]}),n.jsxs("div",{children:["Contact: ",t.contactEmail||"—"]})]})]})]}),((m==null?void 0:m.length)||0)>0?n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Images"}),n.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:m.map((x,y)=>n.jsx("div",{className:"relative w-full aspect-[16/10] bg-gray-100 rounded-xl overflow-hidden border",children:n.jsx("img",{src:x,alt:`Job image ${y+1}`,className:"h-full w-full object-cover"})},y))})]}):null,n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Description"}),n.jsx("p",{className:"mt-2 text-sm text-gray-700 whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:t.description||"No description provided."}})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Target Audience"}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[l.map(x=>n.jsx("span",{className:Pv.chip,children:x},`i-${x}`)),c.map(x=>n.jsx("span",{className:Pv.chip,children:x},`c-${x}`)),d.map(x=>n.jsx("span",{className:Pv.chip,children:x},`s-${x}`)),f.map(x=>n.jsx("span",{className:Pv.chip,children:x},`ss-${x}`)),!l.length&&!c.length&&!d.length&&!f.length&&n.jsx("span",{className:"text-sm text-gray-500",children:"Everyone"})]})]})]})]})}function ny({triggerImageSelection:t=!1,hideHeader:r=!1,onSuccess:s}){var Ue,xt;const a=qt(),[i,o]=u.useState(!1),{id:l}=Ds(),[c,d]=u.useState(!1),[f,h]=u.useState(!1),{user:g}=Xt(),[m,p]=u.useState(null),[x,y]=u.useState(null),[w,b]=u.useState(null),v=u.useRef(null),[j,N]=u.useState(!1),[S,I]=u.useState([]),[E,L]=u.useState(!0);u.useEffect(()=>{ve(this,null,function*(){try{const Ee=yield fetch("/data/cities.json");if(!Ee.ok)throw new Error("Failed to fetch cities");const ee=yield Ee.json();I(ee)}catch(Ee){console.error("Error fetching cities:",Ee)}finally{L(!1)}})},[]);const C=u.useMemo(()=>S.slice(0,1e4).map(Oe=>({value:Oe.city,label:`${Oe.city}${Oe.country?`, ${Oe.country}`:""}`,country:Oe.country})),[S]),T=u.useCallback(Oe=>!Oe||Oe==="All countries"?[]:C.filter(Ee=>{var ee;return((ee=Ee.country)==null?void 0:ee.toLowerCase())===Oe.toLowerCase()}),[C]),[k,M]=u.useState({title:"",companyId:"",country:"",city:"",description:"",requiredSkills:[],skills:[],minSalary:"",maxSalary:"",currency:"",applicationDeadline:"",positions:"",contactEmail:""});u.useEffect(()=>{g&&Te(me(ne({},Ne),{companyId:g.id}))},[g]);const[_,J]=u.useState(""),[Y,te]=u.useState([]),[K,X]=u.useState({categoryId:"",subcategoryId:"",subsubCategoryId:""}),[W,F]=u.useState([]),[P,A]=u.useState({categoryId:"",subcategoryId:""});u.useEffect(()=>{ve(this,null,function*(){try{const{data:Oe}=yield Le.get("/general-categories/tree?type=job");te(Oe.generalCategories||[])}catch(Oe){console.error("Failed to load general categories",Oe)}})},[]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:Oe}=yield Le.get("/industry-categories/tree");F(Oe.industryCategories||[])}catch(Oe){console.error("Failed to load industry categories",Oe)}})},[]);const[B,z]=u.useState([]),[O,U]=u.useState(null),[Z,se]=u.useState([]),[fe,le]=u.useState([]),[Ne,Te]=u.useState({title:"",companyName:"",companyId:"",make_company_name_private:!1,department:"",experienceLevel:"",description:"",requiredSkills:"",country:"",city:"",minSalary:"",maxSalary:"",currency:"USD",benefits:"",applicationDeadline:"",positions:1,applicationInstructions:"",contactEmail:"",categoryId:"",subcategoryId:"",jobType:"",workLocation:"",workSchedule:"",careerLevel:"",paymentType:"",workLocation:"",description:"",requiredSkills:"",country:"",city:"",countries:[],videoUrl:""});console.log({form:Ne});const ht=u.useMemo(()=>Ne.country?String(Ne.country).split(",").map(Oe=>Oe.trim().toLowerCase()).filter(Boolean):[],[Ne.country]);u.useMemo(()=>{if(ht.length===0)return C;const Oe=new Set(ht);return C.filter(Ee=>Oe.has(Ee.country.toLowerCase()))},[ht,C]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:Oe}=yield Le.get("/companies?limit=2000");z(Oe.companies||[])}catch(Oe){console.error("Failed to load companies",Oe)}})},[]),u.useEffect(()=>{if(Ne.companyId&&!Ne.companyName){const Oe=B.find(Ee=>Ee.id===Ne.companyId);Oe&&Te(Ee=>me(ne({},Ee),{companyName:Oe.name}))}},[B,Ne.companyId]);const[Fe,Ve]=u.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[ut,Je]=u.useState({logoUrl:null,coverImageUrl:null,images:[]}),G=f&&O&&(g==null?void 0:g.id)!==O,ae=(Oe,Ee)=>{Ee==="image"?(p(Oe),b("image"),N(!0),Te(ee=>me(ne({},ee),{videoUrl:""}))):Ee==="video"?(p(Oe),b("video"),N(!0)):(p(null),b(null),N(!0),Te(ee=>me(ne({},ee),{videoUrl:""})))},Me=(Oe,Ee)=>ve(this,null,function*(){if(!Oe)return{imageUrl:null,videoUrl:null};const ee=new FormData;let de=null,ue=null;try{return Ee==="image"?(ee.append("coverImage",Oe),de=(yield Le.post("/jobs/upload-cover",ee,{headers:{"Content-Type":"multipart/form-data"}})).data.url):Ee==="video"&&(ee.append("video",Oe),ue=(yield Le.post("/jobs/upload-video",ee,{headers:{"Content-Type":"multipart/form-data"}})).data.url),{imageUrl:de,videoUrl:ue}}catch(_e){return console.error("Error uploading media file:",_e),ce.error(`Failed to upload ${Ee}`),{imageUrl:null,videoUrl:null}}});u.useEffect(()=>{l&&(h(!0),d(!0),N(!1),ve(this,null,function*(){var Oe,Ee,ee,de,ue,_e,Xe,gt,wt,vt,ct,Ze,dt,yt,Ie,ze,qe,it,Ae;try{const{data:Ge}=yield Le.get(`/jobs/${l}?updated=true`),Ye=Ge.job,Et=(gt=(Xe=(ue=(ee=(Ee=(Oe=Ye.ownerUserId)!=null?Oe:Ye.postedByUserId)!=null?Ee:Ye.createdById)!=null?ee:Ye.userId)!=null?ue:(de=Ye.createdBy)==null?void 0:de.id)!=null?Xe:(_e=Ye.poster)==null?void 0:_e.id)!=null?gt:null;U(Et);let Ot=Ye.description||"";Ot&&typeof Ot=="string"&&(Ot=Ot.trim(),console.log("Loading job data, processed description:",Ot));let ft=null,D=null;Ye.coverImageBase64?(ft="image",Ye.coverImageBase64.startsWith("data:")||Ye.coverImageBase64.startsWith("http")?(D=Ye.coverImageBase64,p(Ye.coverImageBase64)):(y(Ye.coverImageBase64),D=En+`/uploads/${Ye.coverImageBase64}`,p(D))):Ye.videoUrl&&(ft="video",D=Ye.videoUrl),b(ft),Te({id:Ye.id,createdAt:Ye.createdAt,title:Ye.title||"",companyId:(g==null?void 0:g.id)||Ye.companyId||"",companyName:((wt=Ye.company)==null?void 0:wt.name)||Ye.companyName||"",make_company_name_private:Ye.make_company_name_private||!1,department:Ye.department||"",experienceLevel:Ye.experienceLevel||"",jobType:Ye.jobType||"",workLocation:Ye.workLocation||"",description:Ot,requiredSkills:Array.isArray(Ye.requiredSkills)?Ye.requiredSkills:typeof Ye.requiredSkills=="string"?Ye.requiredSkills.split(",").map(Q=>Q.trim()).filter(Boolean):[],country:Ye.country||An[0]||"",countries:Ye.countries||[],city:Ye.city||"",minSalary:((vt=Ye.minSalary)==null?void 0:vt.toString())||"",maxSalary:((ct=Ye.maxSalary)==null?void 0:ct.toString())||"",currency:Ye.currency||"USD",benefits:Ye.benefits||"",applicationDeadline:Ye.applicationDeadline?Ye.applicationDeadline.split("T")[0]:"",positions:Ye.positions||1,applicationInstructions:Ye.applicationInstructions||"",contactEmail:Ye.contactEmail||"",categoryId:Ye.categoryId||"",subcategoryId:Ye.subcategoryId||"",jobType:Ye.jobType||"",workLocation:Ye.workLocation||"",workSchedule:Ye.workSchedule||"",careerLevel:Ye.careerLevel||"",paymentType:Ye.paymentType||"",videoUrl:Ye.videoUrl||null,coverImageBase64:Ye.coverImageBase64||null}),((Ze=Ye.audienceIdentities)!=null&&Ze.length||(dt=Ye.audienceCategories)!=null&&dt.length||(yt=Ye.audienceSubcategories)!=null&&yt.length||(Ie=Ye.audienceSubsubs)!=null&&Ie.length)&&Ve({identityIds:new Set(((ze=Ye.audienceIdentities)==null?void 0:ze.map(Q=>Q.id))||[]),categoryIds:new Set(((qe=Ye.audienceCategories)==null?void 0:qe.map(Q=>Q.id))||[]),subcategoryIds:new Set(((it=Ye.audienceSubcategories)==null?void 0:it.map(Q=>Q.id))||[]),subsubCategoryIds:new Set(((Ae=Ye.audienceSubsubs)==null?void 0:Ae.map(Q=>Q.id))||[])}),Je(Zke(Ye)),X({categoryId:Ye.generalCategoryId||"",subcategoryId:Ye.generalSubcategoryId||"",subsubCategoryId:Ye.generalSubsubCategoryId||""}),A({categoryId:Ye.industryCategoryId||"",subcategoryId:Ye.industrySubcategoryId||""})}catch(Ge){console.error("Error fetching job data:",Ge),ce.error("Failed to load job data"),a("/jobs")}finally{d(!1)}}))},[l,a]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:Oe}=yield Le.get("/categories/tree");se(Oe.categories||[])}catch(Oe){console.error("Error loading categories:",Oe)}})},[]),u.useEffect(()=>{if(t&&v.current){const Oe=setTimeout(()=>{var Ee;console.log(v.current),(Ee=v.current)==null||Ee.pick()},100);return()=>clearTimeout(Oe)}},[t]);function he(){if(G)return;const Oe=(_||"").trim();Oe&&(Te(Ee=>Ee.requiredSkills.includes(Oe)?Ee:me(ne({},Ee),{requiredSkills:[...Ee.requiredSkills,Oe]})),J(""))}function ye(Oe){G||Te(Ee=>me(ne({},Ee),{requiredSkills:Ee.requiredSkills.filter((ee,de)=>de!==Oe)}))}u.useEffect(()=>{ve(this,null,function*(){try{const{data:Oe}=yield Le.get("/public/identities?type=all");le(Oe.identities||[])}catch(Oe){console.error("Error loading identities:",Oe)}})},[]),u.useMemo(()=>{const Oe=Z.find(Ee=>Ee.id===Ne.categoryId);return(Oe==null?void 0:Oe.subcategories)||[]},[Z,Ne.categoryId]);const oe=u.useMemo(()=>Y.map(Oe=>({value:Oe.id,label:Oe.name||`Category ${Oe.id}`})),[Y]),ie=u.useMemo(()=>{const Oe=Y.find(Ee=>Ee.id===K.categoryId);return((Oe==null?void 0:Oe.subcategories)||[]).map(Ee=>({value:Ee.id,label:Ee.name||`Subcategory ${Ee.id}`}))},[Y,K.categoryId]);u.useMemo(()=>{var ee;const Oe=Y.find(de=>de.id===K.categoryId),Ee=(ee=Oe==null?void 0:Oe.subcategories)==null?void 0:ee.find(de=>de.id===K.subcategoryId);return((Ee==null?void 0:Ee.subsubcategories)||[]).map(de=>({value:de.id,label:de.name||`Sub-sub ${de.id}`}))},[Y,K.categoryId,K.subcategoryId]);const q=u.useMemo(()=>W.map(Oe=>({value:Oe.id,label:Oe.name||`Category ${Oe.id}`})),[W]),Se=u.useMemo(()=>{const Oe=W.find(Ee=>Ee.id===P.categoryId);return((Oe==null?void 0:Oe.subcategories)||[]).map(Ee=>({value:Ee.id,label:Ee.name||`Subcategory ${Ee.id}`}))},[W,P.categoryId]),$e=Oe=>{if(G)return;const{name:Ee,value:ee}=Oe.target;Te(de=>{const ue=me(ne({},de),{[Ee]:ee});return Ee==="categoryId"&&(ue.subcategoryId=""),ue}),M(de=>me(ne({},de),{[Ee]:""}))};function rt(){const Oe={title:"",companyId:"",country:"",city:"",description:"",requiredSkills:[],minSalary:"",maxSalary:"",currency:"",applicationDeadline:"",positions:"",contactEmail:""};return Ne.title.trim()?Ne.title.trim().length<3&&(Oe.title="Job title must be at least 3 characters long."):Oe.title="Job title is required.",Ne.companyId||(Oe.companyId="Please select a company."),Ne.description.trim()?Ne.description.trim().length<10&&(Oe.description="Job description must be at least 10 characters long."):Oe.description="Add Job description",Ne.minSalary&&isNaN(Number(Ne.minSalary))?Oe.minSalary="Minimum salary must be a valid number.":Ne.minSalary&&Number(Ne.minSalary)<0&&(Oe.minSalary="Minimum salary cannot be negative."),Ne.maxSalary&&isNaN(Number(Ne.maxSalary))?Oe.maxSalary="Maximum salary must be a valid number.":Ne.maxSalary&&Number(Ne.maxSalary)<0&&(Oe.maxSalary="Maximum salary cannot be negative."),Ne.minSalary&&Ne.maxSalary&&Number(Ne.minSalary)>Number(Ne.maxSalary)&&(Oe.maxSalary="Maximum salary must be greater than minimum salary."),Ne.positions&&(isNaN(Number(Ne.positions))||Number(Ne.positions)<1)&&(Oe.positions="Number of positions must be at least 1."),Ne.contactEmail&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Ne.contactEmail)&&(Oe.contactEmail="Please enter a valid email address."),M(Oe),Oe}const nt=Oe=>ve(this,null,function*(){if(Oe.preventDefault(),G)return;const Ee=rt(),ee=Object.values(Ee).find(de=>Array.isArray(de)?de.length>0:de);if(ee){ce.error(ee);return}d(!0);try{let de=Ne.coverImageBase64,ue=Ne.videoUrl;if(j&&m instanceof File){let gt=yield Me(m,w);ue=gt.videoUrl,de=gt.imageUrl,N(!1)}const _e=me(ne({},Ne),{positions:Number(Ne.positions||1),requiredSkills:Ne.requiredSkills,minSalary:Ne.minSalary===""?null:Number(Ne.minSalary),maxSalary:Ne.maxSalary===""?null:Number(Ne.maxSalary),subcategoryId:Ne.subcategoryId||null,identityIds:Array.from(Fe.identityIds),categoryIds:Array.from(Fe.categoryIds),subcategoryIds:Array.from(Fe.subcategoryIds),subsubCategoryIds:Array.from(Fe.subsubCategoryIds),generalCategoryId:K.categoryId||null,generalSubcategoryId:K.subcategoryId||null,generalSubsubCategoryId:K.subsubCategoryId||null,coverImageBase64:w==="image"?j?de:Ne.coverImageBase64:null,videoUrl:w==="video"?j?ue:Ne.videoUrl:null,companyId:Ne.companyId||null,companyName:Ne.companyName||"",industryCategoryId:P.categoryId||null,industrySubcategoryId:P.subcategoryId||null}),Xe=f?Le.put(`/jobs/${l}`,_e):Le.post("/jobs",_e);yield ce.promise(Xe,{loading:f?"Updating job…":"Creating job…",success:f?"Job updated successfully!":"Job created successfully!",error:gt=>{var wt,vt;return((vt=(wt=gt==null?void 0:gt.response)==null?void 0:wt.data)==null?void 0:vt.message)||(f?"Failed to update job":"Failed to create job")}},{id:"job-submit"}),f||(r&&s?s():a("/jobs"))}catch(de){console.error("Error saving job:",de)}finally{d(!1)}});return c&&!Ne.id?n.jsx(ei,{message:"Loading job…",tip:"Fetching..."}):(console.log({a:m}),n.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900",children:[!r&&n.jsx(an,{page:"jobs"}),n.jsxs("main",{className:`mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 ${r?"py-4":"py-8"}`,children:[!r&&n.jsx("div",{className:"mb-5 cursor-pointer",children:n.jsxs("a",{onClick:()=>a("/jobs"),className:"inline-flex items-center gap-2 text-sm text-gray-600 hover:text-gray-800",children:[n.jsx(fd.back,{})," Go to Jobs"]})}),f&&!G&&n.jsx("div",{children:n.jsx("h1",{className:"text-[20px] font-bold",children:f?"Edit Job":"Create Job Opportunity"})}),G?n.jsx(Kke,{form:Ne,audSel:Fe,audTree:fe,media:ut,coverImage:m}):c&&!f?n.jsx("div",{className:"mt-6 rounded-2xl bg-white border border-gray-100 shadow-sm p-5 md:p-6 flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin text-3xl mb-2",children:"⟳"}),n.jsx("p",{children:"Loading job data..."})]})}):n.jsxs("form",{onSubmit:nt,className:"mt-6 rounded-2xl bg-white border border-gray-100 shadow-sm p-5 md:p-6",children:[n.jsxs("div",{className:"mt-3 grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Xn,{required:!0,children:"Job Title"}),n.jsx(Dc,{name:"title",value:Ne.title,onChange:$e,placeholder:"e.g. Senior Software Engineer"})]}),(B.length!=0&&(g==null?void 0:g.accountType)=="company"||(g==null?void 0:g.accountType)=="company")&&n.jsxs("div",{children:[n.jsx(Xn,{required:!0,children:"Company"}),n.jsx("div",{className:"opacity-60 pointer-events-none",children:n.jsx(Qke,{___companies:B,companies:[{name:g==null?void 0:g.name,id:g==null?void 0:g.id}],value:Ne.companyId,onChange:Oe=>{Te(Ee=>me(ne({},Ee),{companyId:(Oe==null?void 0:Oe.id)||"",companyName:(Oe==null?void 0:Oe.name)||""}))}})}),n.jsxs("div",{className:"mt-1 flex items-center",children:[n.jsx("input",{type:"checkbox",id:"make_company_name_private",name:"make_company_name_private",checked:Ne.make_company_name_private,onChange:Oe=>Te(me(ne({},Ne),{make_company_name_private:Oe.target.checked})),className:"h-4 w-4 accent-brand-600 text-brand-600 focus:ring-brand-500"}),n.jsx("label",{htmlFor:"make_company_name_private",className:"ml-2 text-sm text-gray-700",children:"Make it private"})]})]}),n.jsxs("div",{className:"hidden",children:[n.jsx(Xn,{children:"Department"}),n.jsx(Dc,{name:"department",value:Ne.department,onChange:$e,placeholder:"e.g. Engineering, Marketing"})]}),n.jsxs("div",{className:"hidden",children:[n.jsx(Xn,{children:"Experience Level"}),n.jsxs(Jd,{name:"experienceLevel",value:Ne.experienceLevel,onChange:$e,children:[n.jsx("option",{value:"",children:"Select experience level"}),n.jsx("option",{children:"Junior"}),n.jsx("option",{children:"Mid-level"}),n.jsx("option",{children:"Senior"}),n.jsx("option",{children:"Lead"})]})]})]}),n.jsx("div",{className:"md:col-span-3 mt-6",children:n.jsx(gq,{theme:"snow",value:Ne.description||"",onChange:Oe=>{console.log("ReactQuill onChange - Raw value:",Oe),console.log("ReactQuill onChange - Is HTML?",Oe.includes("<")),Te(me(ne({},Ne),{description:Oe}))},placeholder:"Describe the roles, responsibilities and requirements of the position you are opening",modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["link"],["clean"]]},formats:["header","bold","italic","underline","strike","color","background","list","bullet","align","link"],className:"bg-white rounded-xl border border-gray-200",style:{minHeight:"80px"},preserveWhitespace:!0})}),n.jsx("hr",{className:"my-5 border-gray-200"}),n.jsx(KG,{ref:v,label:"Image / Video (optional)",value:m,preview:w==="video"?Ne.videoUrl:typeof m=="string"?m:null,onChange:ae,canSelectBothVideoAndImage:!1,selectedMediaType:w}),n.jsxs("div",{className:"mt-3 grid md:grid-cols-2 gap-4 hidden",children:[n.jsxs("div",{children:[n.jsx(Xn,{children:"Job Type"}),n.jsxs(Jd,{name:"jobType",value:Ne.jobType,onChange:$e,children:[n.jsx("option",{value:"",children:"Select job type"}),n.jsx("option",{children:"Full-Time"}),n.jsx("option",{children:"Part-Time"}),n.jsx("option",{children:"Temporary"}),n.jsx("option",{children:"Seasonal"}),n.jsx("option",{children:"Internship"}),n.jsx("option",{children:"Apprenticeship"}),n.jsx("option",{children:"Contract / Freelance"})]})]}),n.jsxs("div",{children:[n.jsx(Xn,{required:!0,children:"Work Location"}),n.jsxs(Jd,{name:"workLocation",value:Ne.workLocation,onChange:$e,children:[n.jsx("option",{value:"",children:"Select location"}),n.jsx("option",{children:"Office"}),n.jsx("option",{children:"Field"}),n.jsx("option",{children:"Home"}),n.jsx("option",{children:"Client Site"})]})]}),n.jsxs("div",{children:[n.jsx(Xn,{required:!0,children:"Work Schedule"}),n.jsxs(Jd,{name:"workSchedule",value:Ne.workSchedule,onChange:$e,children:[n.jsx("option",{value:"",children:"Select schedule"}),n.jsx("option",{children:"Day Shift"}),n.jsx("option",{children:"Night Shift"}),n.jsx("option",{children:"Rotational Shifts"}),n.jsx("option",{children:"Flexible Hours"}),n.jsx("option",{children:"Weekend Jobs"}),n.jsx("option",{children:"Overtime"}),n.jsx("option",{children:"On-Call"})]})]}),n.jsxs("div",{children:[n.jsx(Xn,{required:!0,children:"Career Level"}),n.jsxs(Jd,{name:"careerLevel",value:Ne.careerLevel,onChange:$e,children:[n.jsx("option",{value:"",children:"Select level"}),n.jsx("option",{children:"Entry-Level"}),n.jsx("option",{children:"Mid-Level"}),n.jsx("option",{children:"Senior-Level"}),n.jsx("option",{children:"Executive / C-Suite"}),n.jsx("option",{children:"Volunteer / Community Work"})]})]}),n.jsxs("div",{children:[n.jsx(Xn,{required:!0,children:"Payment Type"}),n.jsxs(Jd,{name:"paymentType",value:Ne.paymentType,onChange:$e,children:[n.jsx("option",{value:"",children:"Select payment type"}),n.jsx("option",{children:"Salaried Jobs"}),n.jsx("option",{children:"Hourly Jobs"}),n.jsx("option",{children:"Commission-Based"}),n.jsx("option",{children:"Stipend-Based"}),n.jsx("option",{children:"Equity / Profit-Sharing Roles"})]})]})]}),n.jsx("div",{className:"mt-3 grid md:grid-cols-3 gap-4",children:n.jsxs("div",{className:"md:col-span-3 hidden",children:[n.jsx(Xn,{children:"Required Skills & Qualifications"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("input",{type:"text",value:_,onChange:Oe=>J(Oe.target.value),onKeyDown:Oe=>{Oe.key==="Enter"&&(Oe.preventDefault(),he())},placeholder:"Add skills (e.g., React, Node.js, Leadership)",className:"flex-1 rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"}),n.jsx("button",{type:"button",onClick:he,className:"inline-flex items-center gap-1 rounded-lg px-3 py-2 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700",children:"+ Add"})]}),Ne.requiredSkills.length>0&&n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:Ne.requiredSkills.map((Oe,Ee)=>n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-50 text-brand-700 px-3 py-1 text-xs border border-brand-100",children:[Oe,n.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>ye(Ee),title:"Remove",children:"×"})]},`${Oe}-${Ee}`))})]})}),n.jsx("div",{children:n.jsx("div",{className:"mt-3",children:n.jsx(Gke,{value:Ne.countries,onChange:Oe=>Te(Ee=>me(ne({},Ee),{countries:Oe})),citiesLoading:E,getCitiesForCountry:T})})}),n.jsx("hr",{className:"my-5 border-gray-200"}),n.jsx("section",{children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:["Category ",n.jsx("span",{className:"text-gray-400 font-normal",children:"(optional)"})]}),n.jsx(Nu,{ariaLabel:"Category",value:K.categoryId,onChange:Oe=>X({categoryId:Oe,subcategoryId:"",subsubCategoryId:""}),options:oe,placeholder:"Search & select category…"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:["Subcategory ",n.jsx("span",{className:"text-gray-400 font-normal",children:"(optional)"})]}),n.jsx(Nu,{ariaLabel:"Subcategory",value:K.subcategoryId,onChange:Oe=>X(Ee=>me(ne({},Ee),{subcategoryId:Oe,subsubCategoryId:""})),options:ie,placeholder:"Search & select subcategory…",disabled:!K.categoryId})]})]})}),n.jsxs("div",{className:"hidden",children:[n.jsx("hr",{className:"my-5 border-gray-200"}),n.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[n.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-brand-600"}),n.jsx("h3",{className:"font-semibold",children:"Industry Classification"})]}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Search and pick the industry category that best describes this job opportunity."}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Xn,{children:"Industry Category"}),n.jsx(Nu,{ariaLabel:"Industry Category",value:P.categoryId,onChange:Oe=>A({categoryId:Oe,subcategoryId:""}),options:q,placeholder:"Search & select industry category…"})]}),n.jsxs("div",{children:[n.jsx(Xn,{children:"Industry Subcategory"}),n.jsx(Nu,{ariaLabel:"Industry Subcategory",value:P.subcategoryId,onChange:Oe=>A(Ee=>me(ne({},Ee),{subcategoryId:Oe})),options:Se,placeholder:"Search & select industry subcategory…",disabled:!P.categoryId})]})]})]}),n.jsx("hr",{className:"my-5 border-gray-200"}),n.jsx("div",{className:"mb-4",children:i?n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-brand-600"}),n.jsx("h3",{className:"font-semibold",children:"Share with (identities & industries)"})]}),n.jsxs("button",{type:"button",onClick:()=>o(!1),className:"inline-flex items-center gap-1 px-3 py-1 border border-gray-300 text-gray-600 rounded-lg text-xs hover:bg-gray-50",children:[n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Hide"]})]}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Pick who should see this job."}),n.jsx(gl,{tree:fe,selected:Fe,onChange:Oe=>Ve(Oe)})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsxs("button",{type:"button",onClick:()=>o(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 5v14M5 12h14"})}),"Define Audience (optional)"]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Target your post to specific audiences"})]})}),n.jsxs("div",{className:"mt-3 grid md:grid-cols-3 gap-4 hidden",children:[n.jsxs("div",{children:[n.jsx(Xn,{children:"Min Salary"}),n.jsx(Dc,{name:"minSalary",type:"number",min:"0",step:"1",value:Ne.minSalary,onChange:$e,placeholder:"e.g. 2000"})]}),n.jsxs("div",{children:[n.jsx(Xn,{children:"Max Salary"}),n.jsx(Dc,{name:"maxSalary",type:"number",min:"0",step:"1",value:Ne.maxSalary,onChange:$e,placeholder:"e.g. 4000"})]}),n.jsxs("div",{children:[n.jsx(Xn,{children:"Currency"}),n.jsx(Jd,{name:"currency",value:Ne.currency,onChange:$e,children:Hke.map(Oe=>n.jsx("option",{value:Oe,children:Oe},Oe))})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx(Xn,{children:"Benefits"}),n.jsx(Dc,{name:"benefits",value:Ne.benefits,onChange:$e,placeholder:"Health insurance, remote work…"})]})]}),n.jsxs("div",{className:"hidden",children:[n.jsx("hr",{className:"my-5 border-gray-200"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fd.send,{}),n.jsx("h3",{className:"font-semibold",children:"Application Details"})]}),n.jsxs("div",{className:"mt-3 grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Xn,{children:"Application Deadline"}),n.jsxs("div",{className:"relative",children:[n.jsx(Dc,{name:"applicationDeadline",type:"date",value:Ne.applicationDeadline,min:f?(xt=(Ue=Ne.createdAt)==null?void 0:Ue.split("T"))==null?void 0:xt[0]:new Date().toISOString().split("T")[0],onChange:$e,id:"applicationDeadline"}),n.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 cursor-pointer",onClick:()=>document.getElementById("applicationDeadline").showPicker(),tabIndex:"-1","aria-label":"Open date picker",title:"Open date picker",children:n.jsx(fd.calendar,{})})]})]}),n.jsxs("div",{children:[n.jsx(Xn,{children:"Number of Positions"}),n.jsx(Dc,{name:"positions",type:"number",min:"1",value:Ne.positions,onChange:$e})]})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx(Xn,{children:"Application Instructions"}),n.jsx(Wke,{name:"applicationInstructions",value:Ne.applicationInstructions,onChange:$e,rows:3,placeholder:"Provide specific instructions for applicants…"})]})]}),n.jsx("div",{className:"flex justify-end gap-3 mt-8",children:c?n.jsxs("button",{type:"button",className:"px-4 py-2 rounded-xl bg-brand-600 text-white opacity-70 cursor-not-allowed",disabled:!0,children:[n.jsx("span",{className:"inline-block animate-spin mr-2",children:"⟳"}),f?"Updating...":"Creating..."]}):n.jsx("button",{type:"submit",className:"px-4 py-2 rounded-xl bg-brand-600 text-white hover:opacity-90",children:f?"Update":"Post"})})]})]})]}))}const Xke=Object.freeze(Object.defineProperty({__proto__:null,default:ny},Symbol.toStringTag,{value:"Module"})),eEe=()=>Le.get("/onboarding/state"),Q$=t=>Le.post("/onboarding/profile-type",{primaryIdentity:t}),tEe=(t,r)=>Le.post("/onboarding/categories",{categoryIds:t,subcategoryIds:r}),rEe=t=>Le.post("/onboarding/goals",{goalIds:t});function kL(){const[t,r]=u.useState({loading:!0,nextStep:null,progress:0});function s(){return ve(this,null,function*(){const{data:a}=yield eEe();r(ne({loading:!1},a))})}return u.useEffect(()=>{s()},[]),{state:t,refresh:s,saveProfileType:Q$,saveIdentities:Q$,saveCategories:tEe,saveGoals:rEe}}function nEe(){const t=qt(),{refresh:r,state:s,saveIdentities:a}=kL(),[i,o]=u.useState(!0),[l,c]=u.useState([]),[d,f]=u.useState([]);u.useEffect(()=>{ve(this,null,function*(){try{const{data:m}=yield Le.get("/feed/meta"),p=(m.identities||[]).map(x=>({id:x.id,name:x.name,group:x.group,sort:x.sort}));c(p)}catch(m){console.error(m)}finally{o(!1)}})},[]);function h(m){f(p=>p.includes(m)?p.filter(x=>x!==m):[...p,m])}function g(){return ve(this,null,function*(){d.length!==0&&(yield a(d),yield r(),t("/onboarding/industry"))})}return i?n.jsx("div",{className:"min-h-screen grid place-items-center text-brand-700",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("svg",{className:"h-6 w-6 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),n.jsx("span",{children:"Loading…"})]})}):n.jsxs("div",{className:"min-h-screen p-6 bg-brand-50/40",children:[n.jsxs("header",{className:"max-w-3xl mx-auto text-center",children:[n.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-brand-100 text-brand-700 flex items-center justify-center",children:"👥"}),n.jsx("h1",{className:"mt-4 text-3xl font-bold",children:"Choose your identities"}),n.jsx("p",{className:"text-gray-500",children:"You can select more than one if it represents you."}),n.jsx("div",{className:"mt-4 h-2 bg-gray-200 rounded",children:n.jsx("div",{className:"h-2 rounded bg-brand-700",style:{width:`${Math.max(s.progress,33)}%`}})})]}),n.jsxs("main",{className:"max-w-3xl mx-auto mt-6",children:[n.jsx("div",{className:"bg-white rounded-2xl shadow-soft p-6",children:n.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-3",children:l.map(m=>n.jsxs("button",{onClick:()=>h(m.id),className:`rounded-xl border px-4 py-3 text-left hover:shadow-soft ${d.includes(m.id)?"border-brand-700 ring-2 ring-brand-500":"border-gray-200"}`,children:[n.jsx("div",{className:"font-medium",children:m.name}),n.jsx("div",{className:"text-xs text-gray-500",children:"Select to include"})]},m.id))})}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx("button",{onClick:g,disabled:d.length===0,className:"rounded-xl bg-brand-700 text-white px-6 py-3 font-semibold disabled:opacity-50",children:"Continue"})})]})]})}function sEe(){var v;const t=qt(),{saveCategories:r,refresh:s,state:a}=kL(),[i,o]=u.useState([]),[l,c]=u.useState([]),[d,f]=u.useState([]),[h,g]=u.useState([]);u.useEffect(()=>{ve(this,null,function*(){try{const{data:j}=yield Le.get("/feed/meta"),N=(j.identities||[]).flatMap(E=>E.categories||[]),S=j.categoriesWithoutIdentity||[],I=[...N,...S].map(E=>({id:E.id,name:E.name,subcategories:(E.subcategories||[]).map(L=>({id:L.id,name:L.name,subsubs:(L.subsubs||[]).map(C=>({id:C.id,name:C.name}))}))}));o(I)}catch(j){console.error(j)}})},[]);const m=u.useMemo(()=>{const j={};for(const N of i)for(const S of N.subcategories||[])j[S.id]=N.id;return j},[i]),p=u.useMemo(()=>{const j={};for(const N of i)for(const S of N.subcategories||[])for(const I of S.subsubs||[])j[I.id]=S.id;return j},[i]);function x(j){const N=m[j];f(S=>{var L;const I=S.includes(j),E=I?S.filter(C=>C!==j):[...S,j];if(!I&&N&&!l.includes(N)&&c(C=>C.includes(N)?C:[...C,N]),I&&N){const C=(((L=i.find(k=>k.id===N))==null?void 0:L.subcategories)||[]).map(k=>k.id);E.some(k=>C.includes(k))||c(k=>k.filter(M=>M!==N))}return g(C=>C.filter(T=>p[T]!==j)),E})}function y(j){const N=p[j],S=m[N];g(I=>{const E=I.includes(j),L=E?I.filter(C=>C!==j):[...I,j];return!E&&N&&!d.includes(N)&&f(C=>C.includes(N)?C:[...C,N]),!E&&S&&!l.includes(S)&&c(C=>C.includes(S)?C:[...C,S]),L})}const w=l.length>=1&&d.length>=2;function b(){return ve(this,null,function*(){w&&(yield r(l,d,h),yield s(),t("/onboarding/goals"))})}return i.length===0?n.jsx("div",{className:"min-h-screen grid place-items-center text-brand-700",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("svg",{className:"h-6 w-6 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),n.jsx("span",{children:"Loading…"})]})}):n.jsxs("div",{className:"min-h-screen p-6 bg-brand-50/40",children:[n.jsxs("header",{className:"max-w-3xl mx-auto text-center",children:[n.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-brand-100 text-brand-700 flex items-center justify-center",children:"🧩"}),n.jsx("h1",{className:"mt-4 text-3xl font-bold",children:"Your Industry"}),n.jsx("p",{className:"text-gray-500",children:"Select the categories that best describe your field."}),n.jsx("div",{className:"mt-4 h-2 bg-gray-200 rounded",children:n.jsx("div",{className:"h-2 rounded bg-brand-700",style:{width:`${Math.max((v=a==null?void 0:a.progress)!=null?v:66,66)}%`}})})]}),n.jsxs("main",{className:"max-w-3xl mx-auto mt-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-soft p-2 sm:p-6",children:[n.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["* Select at least ",n.jsx("b",{children:"1 category"})," and ",n.jsx("b",{children:"2 subcategories"}),". Level-3 is optional."]}),n.jsx("div",{className:"space-y-3",children:i.map(j=>n.jsxs("details",{className:"group border rounded-xl",children:[n.jsxs("summary",{className:"flex items-center justify-between px-4 py-3 cursor-pointer select-none",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:l.includes(j.id),readOnly:!0,className:"hidden"}),n.jsx("span",{className:"font-medium",children:j.name})]}),n.jsx("span",{className:"text-gray-400 group-open:rotate-180 transition",children:"▾"})]}),n.jsx("div",{className:"px-4 pb-4 space-y-3",children:j.subcategories.map(N=>{var S;return n.jsxs("div",{className:"border rounded-lg p-3",children:[n.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:d.includes(N.id),onChange:()=>x(N.id),className:"h-4 w-4 text-brand-600"}),n.jsx("span",{className:"font-medium",children:N.name})]}),((S=N.subsubs)==null?void 0:S.length)>0&&d.includes(N.id)&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:N.subsubs.map(I=>n.jsxs("label",{className:"inline-flex items-center gap-2 px-2 py-1 border rounded-full text-sm",children:[n.jsx("input",{type:"checkbox",checked:h.includes(I.id),onChange:()=>y(I.id)}),n.jsx("span",{children:I.name})]},I.id))})]},N.id)})})]},j.id))})]}),n.jsxs("div",{className:"mt-6 flex justify-between",children:[n.jsx("button",{onClick:()=>t(-1),className:"rounded-xl border px-4 py-3",children:"Previous"}),n.jsx("button",{onClick:b,disabled:!w,className:"rounded-xl bg-brand-700 text-white px-6 py-3 font-semibold disabled:opacity-50",children:"Continue"})]})]})]})}const on=(t,r="h-5 w-5")=>n.jsx(t,{className:r,"aria-hidden":!0}),aEe={Funding:on(Lh),"Job opportunities":on(zA),"Job seekers":on(Ta),Freelancers:on(rx),Internship:on(A4),"Services providers":on(YA),Investors:on(Lce),Grants:on(Yle),"Tourist guide":on(mde),Events:on(lce),Scholarship:on(A4),"Career guide":on(Ice),Networking:on(Nde),Training:on(_de),"Mentorship/Coaching":on(Gle),Franchising:on(Zle),"Expanding into a new market":on($ce),Partnership:on(CH),Products:on(ece),students:on(A4),Professionals:on(zA),"Social entrepreneurs/ NGOs":on(Xce),"Volunteer opportunity":on(iEe),"Research/ project collaborators":on(cde),"Services providers":on(YA)};function iEe(t){return n.jsx("div",ne({className:"h-4 w-6 rounded bg-gray-200"},t))}const oEe=(t,r,s=on(ode))=>(t==null?void 0:t[r])||s;function lEe(){const t=qt(),{saveGoals:r,refresh:s}=kL(),[a,i]=u.useState([]),[o,l]=u.useState([]);u.useEffect(()=>{ve(this,null,function*(){const{data:f}=yield Le.get("/public/goals");i(f||[])})},[]);function c(f){l(h=>h.includes(f)?h.filter(g=>g!==f):[...h,f])}function d(){return ve(this,null,function*(){o.length!==0&&(yield r(o),yield s(),t("/dashboard"))})}return a.length===0?n.jsx("div",{className:"min-h-screen grid place-items-center text-brand-700",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("svg",{className:"h-6 w-6 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),n.jsx("span",{children:"Loading…"})]})}):n.jsxs("div",{className:"min-h-screen p-6 bg-brand-50/40",children:[n.jsxs("header",{className:"max-w-3xl mx-auto text-center",children:[n.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-brand-100 text-brand-700 flex items-center justify-center",children:"🎯"}),n.jsx("h1",{className:"mt-4 text-3xl font-bold",children:"We need some information"}),n.jsx("p",{className:"text-gray-500",children:"Tell us what you’re looking for."}),n.jsx("div",{className:"mt-4 h-2 bg-gray-200 rounded",children:n.jsx("div",{className:"h-2 rounded bg-brand-700",style:{width:"100%"}})})]}),n.jsxs("main",{className:"max-w-3xl mx-auto mt-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-soft p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"What Are You Looking For?"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"* Select the goals that interest you."}),n.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-3",children:a.map(f=>{const h=o.includes(f.id);return n.jsx("button",{onClick:()=>c(f.id),className:`rounded-xl border px-4 py-3 text-left hover:shadow-soft transition ${h?"border-brand-700 ring-2 ring-brand-500":"border-gray-200"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-brand-700",children:oEe(aEe,f.name)}),n.jsx("div",{className:"font-medium",children:f.name})]})},f.id)})})]}),n.jsxs("div",{className:"mt-6 flex justify-between",children:[n.jsx("button",{onClick:()=>t(-1),className:"rounded-xl border px-4 py-3",children:"Previous"}),n.jsx("button",{onClick:d,disabled:o.length===0,className:"rounded-xl bg-brand-700 text-white px-6 py-3 font-semibold disabled:opacity-50",children:"Save & Join"})]})]})]})}function Xa({buttons:t=[],selected:r=[],setSelected:s,from:a,buttonLabels:i={},loading:o}){const l=Cr();Xt();const[c,d]=u.useState(!1),f=u.useRef(null),h=u.useRef(null),[g,m]=u.useState({});u.useEffect(()=>{function N(S){f.current&&!f.current.contains(S.target)&&h.current&&!h.current.contains(S.target)&&d(!1)}return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]),u.useEffect(()=>{if(c&&f.current){const N=f.current.getBoundingClientRect(),S=f.current.parentElement.parentElement.getBoundingClientRect(),I=N.left-S.left;I+224>S.width?m({right:0}):m({left:I})}},[c]);const p=0,x=t.slice(0,p),y=t.slice(p),w=y.some(N=>r.includes(N)),b=()=>{if(r.length===0)return"All Categories";if(r.length===1){const N=t.find(S=>r.includes(S));return i[N]||N}else return`${r.length} Selected`},v=N=>{N.stopPropagation(),s([]),l.setUpdateData(Math.random())},j=N=>{r.includes(N)?a=="people"||a=="jobs"||a=="products"||a=="services"?(s([]),l.setUpdateData(Math.random())):(s(r.filter(S=>S!=N)),l.setFiltersToClear([i[N]||N])):a=="people"||a=="jobs"||a=="products"||a=="services"?s([N]):s([...r,N])};return n.jsxs("div",{className:"relative w-full ",children:[n.jsxs("div",{className:"flex gap-2 sticky top-10 w-full rounded-sm whitespace-nowrap py-2 overflow-x-auto",children:[o?n.jsx("div",{className:"px-5 rounded-full py-1.5 mb-1 bg-gray-200 animate-pulse flex items-center justify-center gap-2 flex-shrink-0",style:{width:"120px",height:"28px"},children:n.jsx("div",{className:"bg-gray-300 rounded w-3/4 h-3"})}):x.map((N,S)=>n.jsx("button",{onClick:()=>j(N),className:`px-5 rounded-full py-1.5 mb-1 text-sm font-medium ${r.includes(N)?"text-brand-600 font-bold shadow-md active:bg-brand-800 bg-brand-50":"text-gray-700 hover:border-brand-300"} border border-gray-200 flex items-center justify-center gap-2 transition-all duration-200 hover:shadow-md flex-shrink-0`,children:n.jsx("span",{children:i[N]||N})},N)),y.length>0&&!o&&n.jsx("div",{className:"flex-shrink-0",ref:f,children:n.jsxs("button",{onClick:()=>d(!c),className:`px-5 rounded-full py-1.5 text-sm font-medium ${c||w?"text-brand-600 font-bold shadow-md active:bg-brand-800 bg-brand-50":"text-gray-700 hover:border-brand-300"} border border-gray-200 flex items-center justify-center gap-2 transition-all duration-200 hover:shadow-md`,children:[n.jsx("span",{children:b()}),r.length>0&&n.jsx("button",{onClick:v,className:"ml-1 hover:bg-gray-200 rounded-full p-0.5 transition-colors",title:"Clear selection",children:n.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),n.jsx("svg",{className:`h-4 w-4 transition-transform ${c?"rotate-180":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M6 9l6 6 6-6"})})]})})]}),c&&y.length>0&&n.jsx("div",{ref:h,className:"absolute top-full mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg p-2 z-30",style:g,children:n.jsx("div",{className:"max-h-[300px] gap-y-1 flex flex-col overflow-y-auto",children:y.map(N=>n.jsx("button",{onClick:()=>{j(N),d(!1)},className:`w-full text-left px-3 py-2 text-sm flex items-center gap-2 rounded-md ${r.includes(N)?"bg-brand-50 text-brand-700":"hover:bg-brand-50 hover:text-brand-700 text-gray-700"}`,children:n.jsx("span",{children:i[N]||N})},N))})})]})}function cEe(t,r=400){const[s,a]=u.useState(t),i=u.useRef();return u.useEffect(()=>{if(i.current&&clearTimeout(i.current),t===""){a(t);return}return i.current=setTimeout(()=>{a(t)},r),()=>{i.current&&clearTimeout(i.current)}},[t,r]),s}function dEe(){const[r,s]=u.useState("Posts");u.useMemo(()=>["Posts","Job Seeker","Job Offers"],[]);const a="jobs",[i,o]=u.useState([]),[l,c]=u.useState({});u.useEffect(()=>{ve(this,null,function*(){try{const{data:Nt}=yield Le.get("/general-categories/tree?type=job");o(Nt.generalCategories||[])}catch(Nt){console.error("Failed to load general categories",Nt)}})},[]);const d=qt(),[f,h]=u.useState("list"),g=Cr(),{user:m}=Xt(),[p,x]=u.useState(""),y=cEe(p,400),[w,b]=u.useState(),[v,j]=u.useState(),[N,S]=u.useState(),[I,E]=u.useState(),[L,C]=u.useState(),[T,k]=u.useState([]),[M,_]=u.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),J=u.useCallback(Nt=>{if(!T.length)return null;for(const Kt of T)if(Kt.name===Nt||Kt.name.toLowerCase()===Nt.toLowerCase())return Kt.id;return null},[T]),[Y,te]=u.useState(""),[K,X]=u.useState(""),[W,F]=u.useState(""),[P,A]=u.useState(""),[B,z]=u.useState(""),[O,U]=u.useState(""),[Z,se]=u.useState(""),[fe,le]=u.useState(""),[Ne,Te]=u.useState(""),[ht,Fe]=u.useState(""),[Ve,ut]=u.useState(""),[Je,G]=u.useState(""),[ae,Me]=u.useState(""),[he,ye]=u.useState(""),[oe,ie]=u.useState(""),[q,Se]=u.useState(""),[$e,rt]=u.useState(""),[nt,Ue]=u.useState(""),[xt,Oe]=u.useState(""),[Ee,ee]=u.useState(""),[de,ue]=u.useState(""),[_e,Xe]=u.useState(""),[gt,wt]=u.useState(""),[vt,ct]=u.useState([]),[Ze,dt]=u.useState([]),[yt,Ie]=u.useState([]),[ze,qe]=u.useState([]),[it,Ae]=u.useState(!1),[Ge,Ye]=u.useState(0),[Et,Ot]=u.useState(0),[ft,D]=u.useState(!1),Q=u.useRef(null),[H,V]=u.useState([]),[re,ge]=u.useState([]),[We,ot]=u.useState(!1),[Ce,pe]=u.useState(!1),[je,we]=u.useState(!0),[Re,He]=u.useState(!1),et=u.useRef(null);u.useRef(null);const pt=u.useRef(0),[be,De]=u.useState([]),[st,Ke]=u.useState([]);u.useEffect(()=>{ve(this,null,function*(){try{const{data:Nt}=yield Le.get("/feed/meta");dt(Nt.categories||[]),Ie(Nt.countries||[])}catch(Nt){console.error("Failed to load meta:",Nt)}})},[]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:Nt}=yield Le.get("/public/identities",{params:{type:"individual"}});k(Nt.identities||[])}catch(Nt){console.error("Error loading identities:",Nt),k([])}})},[]);const mt=u.useCallback(()=>ve(this,null,function*(){if(r==="Posts"&&!ke.current){ke.current=!0,Ae(!0);try{const Nt={tab:"jobs",q:y||void 0,country:w||void 0,city:v||void 0,categoryId:N||void 0,subcategoryId:I||void 0,goalId:L||void 0,audienceIdentityIds:Array.from(M.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(M.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(M.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(M.subsubCategoryIds).join(",")||void 0,industryIds:vt.length>0?vt.join(","):void 0,price:Y||void 0,serviceType:K||void 0,priceType:W||void 0,deliveryTime:P||void 0,experienceLevel:B||void 0,locationType:O||void 0,jobType:Z||void 0,workMode:fe||void 0,workLocation:Ne||void 0,workSchedule:ht||void 0,careerLevel:Ve||void 0,paymentType:Je||void 0,jobsView:ae||void 0,postType:he||void 0,season:oe||void 0,budgetRange:q||void 0,fundingGoal:$e||void 0,amountRaised:nt||void 0,currency:xt||void 0,deadline:Ee||void 0,eventType:de||void 0,date:_e||void 0,registrationType:gt||void 0,generalCategoryIds:be.filter(dr=>i.some(en=>en.id===dr)).join(",")||void 0,generalSubcategoryIds:Object.keys(l).filter(dr=>l[dr]).join(",")||void 0,limit:10,offset:0},{data:Kt}=yield Le.get("/feed",{params:Nt}),jr=Array.isArray(Kt.items)?Kt.items:[];qe(jr),Ye(typeof Kt.total=="number"?Kt.total:jr.length),we(typeof Kt.total=="number"?jr.length<Kt.total:jr.length===10),pt.current=jr.length,D(!1),Q.current&&(clearTimeout(Q.current),Q.current=null)}catch(Nt){console.error("Failed to load feed:",Nt),qe([]),D(!0),Q.current&&clearTimeout(Q.current),Q.current=setTimeout(()=>{mt()},3e3)}finally{ke.current=!1,Ae(!1)}g._scrollToSection("top",!0)}}),[r,y,w,v,N,I,L,be,M,Y,K,W,P,B,O,Z,fe,Ne,ht,Ve,Je,ae,he,oe,q,$e,nt,xt,Ee,de,_e,gt,vt,i,l]),tt=u.useCallback(()=>ve(this,null,function*(){if(!(ke.current||it||Re||!je)){ke.current=!0,He(!0);try{const Nt={tab:"jobs",q:y||void 0,country:w||void 0,city:v||void 0,categoryId:N||void 0,subcategoryId:I||void 0,goalId:L||void 0,audienceIdentityIds:Array.from(M.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(M.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(M.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(M.subsubCategoryIds).join(",")||void 0,industryIds:vt.length>0?vt.join(","):void 0,price:Y||void 0,serviceType:K||void 0,priceType:W||void 0,deliveryTime:P||void 0,experienceLevel:B||void 0,locationType:O||void 0,jobType:Z||void 0,workMode:fe||void 0,workLocation:Ne||void 0,workSchedule:ht||void 0,careerLevel:Ve||void 0,paymentType:Je||void 0,jobsView:ae||void 0,postType:he||void 0,season:oe||void 0,budgetRange:q||void 0,fundingGoal:$e||void 0,amountRaised:nt||void 0,currency:xt||void 0,deadline:Ee||void 0,eventType:de||void 0,date:_e||void 0,registrationType:gt||void 0,generalCategoryIds:be.filter(dr=>i.some(en=>en.id===dr)).join(",")||void 0,generalSubcategoryIds:Object.keys(l).filter(dr=>l[dr]).join(",")||void 0,limit:10,offset:pt.current},{data:Kt}=yield Le.get("/feed",{params:Nt}),jr=Array.isArray(Kt.items)?Kt.items:[];qe(dr=>[...dr,...jr]),pt.current+=jr.length,we(jr.length===10),D(!1)}catch(Nt){console.error("Failed to load more:",Nt)}finally{ke.current=!1,He(!1)}}}),[r,y,w,v,N,I,L,be,M,Y,K,W,P,B,O,Z,fe,Ne,ht,Ve,Je,ae,he,oe,q,$e,nt,xt,Ee,de,_e,gt,vt,i,l,ze.length,it,Re,je]),ke=u.useRef(!1),lt=u.useRef(!1),St=u.useRef({}),Mt=u.useRef(null);u.useEffect(()=>{const Nt={activeTab:r,debouncedQ:y,country:w,city:v,categoryId:N,subcategoryId:I,goalId:L,selectedFilters:be,audienceSelections:{identityIds:Array.from(M.identityIds),categoryIds:Array.from(M.categoryIds),subcategoryIds:Array.from(M.subcategoryIds),subsubCategoryIds:Array.from(M.subsubCategoryIds)},price:Y,serviceType:K,priceType:W,deliveryTime:P,experienceLevel:B,locationType:O,jobType:Z,workMode:fe,workLocation:Ne,workSchedule:ht,careerLevel:Ve,paymentType:Je,jobsView:ae,postType:he,season:oe,budgetRange:q,fundingGoal:$e,amountRaised:nt,currency:xt,deadline:Ee,eventType:de,date:_e,registrationType:gt,selectedIndustries:vt,selectedSubcategories:l};JSON.stringify(Nt)!==JSON.stringify(St.current)&&(St.current=Nt,lt.current?(clearTimeout(Mt.current),Mt.current=setTimeout(()=>{mt()},200)):(lt.current=!0,mt()))},[r,y,w,v,N,I,L,be,M,Y,K,W,P,B,O,Z,fe,Ne,ht,Ve,Je,ae,he,oe,q,$e,nt,xt,Ee,de,_e,gt,vt,ae,l,mt]),u.useEffect(()=>()=>{Q.current&&clearTimeout(Q.current)},[]),u.useEffect(()=>{if(be.length>0&&T.length>0){const Nt=be.map(Kt=>J(Kt)).filter(Kt=>Kt!==null);_(Kt=>me(ne({},Kt),{identityIds:new Set(Nt)}))}else _(Nt=>me(ne({},Nt),{identityIds:new Set}))},[be,T,J]),u.useEffect(()=>{ve(this,null,function*(){ot(!0);try{const Nt={q:y||void 0,country:w||void 0,city:v||void 0,categoryId:N||void 0,subcategoryId:I||void 0,goalId:L||void 0,industryIds:vt.length>0?vt.join(","):void 0,limit:40},{data:Kt}=yield Le.get("/feed/suggestions",{params:Nt});V(Kt.matches||[]),ge(Kt.nearby||[])}catch(Nt){console.error("Failed to load suggestions:",Nt)}finally{ot(!1)}})},[y,w,v,N,I,L,vt]),u.useEffect(()=>{if(!et.current||!je)return;const Nt=et.current,Kt=new IntersectionObserver(jr=>{const[dr]=jr;dr.isIntersecting&&tt()},{root:null,rootMargin:"700px",threshold:0});return Kt.observe(Nt),()=>Kt.disconnect()},[et,je,tt]);const mr={setShowTotalCount:Ot,onSubcategoryChange:Nt=>{c(Nt)},query:p,setQuery:x,country:w,setCountry:b,city:v,setCity:j,categoryId:N,setCategoryId:S,subcategoryId:I,setSubcategoryId:E,goalId:L,setGoalId:C,price:Y,setPrice:te,serviceType:K,setServiceType:X,priceType:W,setPriceType:F,deliveryTime:P,setDeliveryTime:A,experienceLevel:B,setExperienceLevel:z,locationType:O,setLocationType:U,jobType:Z,setJobType:se,workMode:fe,setWorkMode:le,workLocation:Ne,setWorkLocation:Te,workSchedule:ht,setWorkSchedule:Fe,careerLevel:Ve,setCareerLevel:ut,paymentType:Je,setPaymentType:G,jobsView:ae,setJobsView:Me,postType:he,setPostType:ye,season:oe,setSeason:ie,budgetRange:q,setBudgetRange:Se,fundingGoal:$e,setFundingGoal:rt,amountRaised:nt,setAmountRaised:Ue,currency:xt,setCurrency:Oe,deadline:Ee,setDeadline:ee,eventType:de,setEventType:ue,date:_e,setDate:Xe,registrationType:gt,setRegistrationType:wt,categories:Ze,countries:yt,audienceSelections:M,setAudienceSelections:_,audienceTree:T,selectedIndustries:vt,setSelectedIndustries:ct,onApply:()=>pe(!1)},[Rt,er]=u.useState({});u.useEffect(()=>{const Nt={};i.forEach(Kt=>{Nt[Kt.id]=Kt.name}),er(Nt),Ke(i.map(Kt=>Kt.id))},[i]);const tr=()=>r!=="Posts"?n.jsxs("div",{className:"rounded-xl border bg-white p-6 text-sm text-gray-600",children:[r," tab uses its own API route. Render the specific list here."]}):ft?n.jsx(ml,{onRetry:()=>{D(!1),Q.current&&clearTimeout(Q.current),Q.current=null,mt()},message:"Failed to load feed. Trying to connect...",buttonText:"Try Again"}):n.jsxs(n.Fragment,{children:[it&&n.jsx("div",{className:"min-h-[160px] grid  text-gray-600",children:n.jsx(Pd,{columns:1})}),!it&&Et&&n.jsxs("div",{className:"text-sm text-gray-600",children:[Ge," result",Ge===1?"":"s"]}),!it&&ze.length===0&&n.jsx($d,{activeTab:"All"}),!it&&n.jsx("div",{className:`grid grid-cols-1 ${f==="list"?"sm:grid-cols-1":"lg:grid-cols-3"} gap-6`,children:ze==null?void 0:ze.map(Nt=>{var Kt,jr,dr,en,qr,ur,pa,xa;return Nt.kind==="job"?n.jsx(Ad,{type:f,job:Nt,matchPercentage:Nt.matchPercentage},`job-${Nt.id}`):Nt.kind==="need"?n.jsx(ic,{type:f,matchPercentage:Nt.matchPercentage,need:me(ne({},Nt),{categoryName:(Kt=Ze.find(Yr=>String(Yr.id)===String(Nt.categoryId)))==null?void 0:Kt.name,subcategoryName:(en=(dr=(jr=Ze.find(Yr=>String(Yr.id)===String(Nt.categoryId)))==null?void 0:jr.subcategories)==null?void 0:dr.find(Yr=>String(Yr.id)===String(Nt.subcategoryId)))==null?void 0:en.name})},`need-${Nt.id}`):Nt.kind==="moment"?n.jsx(oc,{type:f,matchPercentage:Nt.matchPercentage,moment:me(ne({},Nt),{categoryName:(qr=Ze.find(Yr=>String(Yr.id)===String(Nt.categoryId)))==null?void 0:qr.name,subcategoryName:(xa=(pa=(ur=Ze.find(Yr=>String(Yr.id)===String(Nt.categoryId)))==null?void 0:ur.subcategories)==null?void 0:pa.find(Yr=>String(Yr.id)===String(Nt.subcategoryId)))==null?void 0:xa.name})},`moment-${Nt.id}`):null})}),!it&&je&&n.jsx("div",{ref:et,className:"h-10 w-full",children:Re&&n.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Loading more…"})})]});return n.jsxs(ti,{children:[n.jsx(an,{}),n.jsxs("main",{className:`mx-auto ${g._openPopUps.profile?"relative z-50":""} max-w-7xl px-4 sm:px-6 lg:px-8 py-6 grid lg:grid-cols-12 gap-6`,children:[n.jsx(Md,{query:p,setQuery:x,placeholder:"Search for jobs...",onFilterClick:()=>pe(!0)}),n.jsxs("aside",{className:"lg:col-span-3 hidden lg:flex flex-col space-y-4 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto pr-1",children:[n.jsx("div",{className:"_sticky top-0 z-10 _bg-white",children:n.jsx(Xl,me(ne({selectedFilters:be,setSelectedFilters:De,generalTree:i},mr),{from:"jobs",catComponent:n.jsx(Xa,{selected:be,setSelected:De,buttons:st,buttonLabels:Rt,from:a,loading:it})}))}),n.jsx(ef,{title:"Quick Actions",items:[{label:"Edit Profile",Icon:xd,onClick:()=>d("/profile")},{label:"Highlight a career progress",Icon:Sn,onClick:()=>d("/moment/job/create"),hide:(m==null?void 0:m.accountType)=="company"},{label:"Find Jobs",Icon:Sn,onClick:()=>d("/need/job/create"),hide:(m==null?void 0:m.accountType)=="company"},{label:"Share a Job Opening",Icon:Sn,onClick:()=>d("/jobs/create"),hide:(m==null?void 0:m.accountType)=="individual"}]}),n.jsx(tf,{})]}),n.jsxs("div",{className:"lg:col-span-9 grid lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx("div",{className:"flex items-center flex-wrap w-full justify-between mb-4",children:n.jsx(Ju,{from:"job",typeOfPosts:[{label:"Share a Job Opening",Icon:Q2,hide:(m==null?void 0:m.accountType)=="individual",type:"main"},{label:"Find Jobs",Icon:Ta,hide:(m==null?void 0:m.accountType)=="company"},{label:(m==null?void 0:m.accountType)=="company"?"Share an experience":"Highlight a career progress",Icon:Yu}]})}),n.jsx("section",{className:"space-y-4 overflow-hidden",children:tr()})]}),n.jsx("aside",{className:"lg:col-span-1 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto",children:n.jsx(Od,{loading:We,matches:H,nearby:re})})]})]}),n.jsx(Id,me(ne({isOpen:Ce,onClose:()=>pe(!1),selectedFilters:be,setSelectedFilters:De,generalTree:i},mr),{from:"jobs",catComponent:n.jsx(Xa,{selected:be,setSelected:De,buttons:st,buttonLabels:Rt,from:a,loading:it})}))]})}function uEe(t,r=400){const[s,a]=u.useState(t);return u.useEffect(()=>{const i=setTimeout(()=>a(t),r);return()=>clearTimeout(i)},[t,r]),s}function fEe(){const[t,r]=u.useState("Suggested for You");u.useMemo(()=>["Suggested for You","Events to Attend"],[]);const s=qt(),a=Cr(),{user:i}=Xt(),o=10,[l,c]=u.useState(""),d=uEe(l,400),[f,h]=u.useState(),[g,m]=u.useState(),[p,x]=u.useState(),[y,w]=u.useState(),[b,v]=u.useState(),[j,N]=u.useState(),[S,I]=u.useState("list"),E="events",[L,C]=u.useState([]),[T,k]=u.useState({}),[M,_]=u.useState("");u.useEffect(()=>{ve(this,null,function*(){try{const{data:Rt}=yield Le.get("/general-categories/tree?type=event");C(Rt.generalCategories||[])}catch(Rt){console.error("Failed to load general categories",Rt)}})},[]);const[J,Y]=u.useState([]),[te,K]=u.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[X,W]=u.useState(""),[F,P]=u.useState(""),[A,B]=u.useState(""),[z,O]=u.useState(""),[U,Z]=u.useState(""),[se,fe]=u.useState(""),[le,Ne]=u.useState(""),[Te,ht]=u.useState(""),[Fe,Ve]=u.useState(""),[ut,Je]=u.useState(""),[G,ae]=u.useState(""),[Me,he]=u.useState(""),[ye,oe]=u.useState(""),[ie,q]=u.useState(""),[Se,$e]=u.useState(""),[rt,nt]=u.useState(""),[Ue,xt]=u.useState(""),[Oe,Ee]=u.useState(""),[ee,de]=u.useState([]),[ue,_e]=u.useState([]),[Xe,gt]=u.useState([]),[wt,vt]=u.useState([]),[ct,Ze]=u.useState([]),[dt,yt]=u.useState(!1),[Ie,ze]=u.useState(0),[qe,it]=u.useState(0),[Ae,Ge]=u.useState([]),[Ye,Et]=u.useState([]),[Ot,ft]=u.useState(!1),D=u.useRef(null),[Q,H]=u.useState([]),[V,re]=u.useState([]),[ge,We]=u.useState(!1),[ot,Ce]=u.useState(!1),[pe,je]=u.useState(!0),[we,Re]=u.useState(!1),He=u.useRef(null);u.useRef(null);const et=u.useRef(0),pt=u.useRef(null),be=u.useRef(0),De=u.useRef(!1),st=u.useRef(!1),Ke=u.useRef({}),mt=u.useRef(null);u.useEffect(()=>{ve(this,null,function*(){try{const{data:Rt}=yield Le.get("/feed/meta");_e(Rt.categories||[]),gt(Rt.countries||[]),vt(Rt.goals||[])}catch(Rt){console.error("Failed to load meta:",Rt)}})},[]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:Rt}=yield Le.get("/public/identities");Y(Rt.identities)}catch(Rt){console.error("Error loading identities:",Rt)}})},[]);const tt=u.useCallback(()=>ve(this,null,function*(){if(t!=="Suggested for You")return;pt.current&&pt.current.abort(),pt.current=new AbortController;const Rt=Date.now();be.current=Rt,De.current&&console.log("Canceling previous request"),De.current=!0,yt(!0);try{const er={tab:"events",q:d||void 0,country:f||void 0,city:g||void 0,categoryId:p||void 0,subcategoryId:y||void 0,goalId:b||void 0,role:j||void 0,price:X||void 0,serviceType:F||void 0,priceType:A||void 0,deliveryTime:z||void 0,experienceLevel:U||void 0,locationType:se||void 0,jobType:le||void 0,workMode:Te||void 0,postType:Fe||void 0,season:ut||void 0,budgetRange:G||void 0,fundingGoal:Me||void 0,amountRaised:ye||void 0,currency:ie||void 0,deadline:Se||void 0,eventType:rt||void 0,date:Ue||void 0,registrationType:Oe||void 0,eventsView:M||void 0,generalCategoryIds:Ae.filter(Nt=>L.some(Kt=>Kt.id===Nt)).join(",")||void 0,generalSubcategoryIds:Object.keys(T).filter(Nt=>T[Nt]).join(",")||void 0,audienceIdentityIds:Array.from(te.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(te.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(te.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(te.subsubCategoryIds).join(",")||void 0,industryIds:ee.length>0?ee.join(","):void 0,limit:o,offset:0},{data:tr}=yield Le.get("/feed",{params:er,signal:pt.current.signal});if(Rt===be.current){const Nt=Array.isArray(tr.items)?tr.items:[];Ze(Nt),ze(typeof tr.total=="number"?tr.total:Nt.length),je(typeof tr.total=="number"?Nt.length<tr.total:Nt.length===o),et.current=Nt.length,ft(!1),D.current&&(clearTimeout(D.current),D.current=null)}}catch(er){if(er.name==="AbortError"){console.log("Request was canceled");return}console.error("Failed to load feed:",er),Rt===be.current&&(Ze([]),ft(!0),D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{tt()},3e3))}finally{Rt===be.current&&(De.current=!1,yt(!1),pt.current=null)}Rt===be.current&&setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)}),[t,d,f,g,p,y,b,j,te,M,X,F,A,z,U,se,le,Te,Fe,ut,G,Me,ye,ie,Se,rt,Ue,Oe,T,Ae,ee,L,a]),ke=u.useCallback(()=>ve(this,null,function*(){if(!(De.current||dt||we||!pe)){De.current=!0,Re(!0);try{const Rt={tab:"events",q:d||void 0,country:f||void 0,city:g||void 0,categoryId:p||void 0,subcategoryId:y||void 0,goalId:b||void 0,role:j||void 0,price:X||void 0,serviceType:F||void 0,priceType:A||void 0,deliveryTime:z||void 0,experienceLevel:U||void 0,locationType:se||void 0,jobType:le||void 0,workMode:Te||void 0,postType:Fe||void 0,season:ut||void 0,budgetRange:G||void 0,fundingGoal:Me||void 0,amountRaised:ye||void 0,currency:ie||void 0,deadline:Se||void 0,eventType:rt||void 0,date:Ue||void 0,registrationType:Oe||void 0,eventsView:M||void 0,generalCategoryIds:Ae.filter(Nt=>L.some(Kt=>Kt.id===Nt)).join(",")||void 0,generalSubcategoryIds:Object.keys(T).filter(Nt=>T[Nt]).join(",")||void 0,audienceIdentityIds:Array.from(te.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(te.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(te.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(te.subsubCategoryIds).join(",")||void 0,industryIds:ee.length>0?ee.join(","):void 0,limit:o,offset:et.current},{data:er}=yield Le.get("/feed",{params:Rt}),tr=Array.isArray(er.items)?er.items:[];Ze(Nt=>[...Nt,...tr]),et.current+=tr.length,je(tr.length===o),ft(!1)}catch(Rt){console.error("Failed to load more:",Rt)}finally{De.current=!1,Re(!1)}}}),[t,d,f,g,p,y,b,j,te,M,X,F,A,z,U,se,le,Te,Fe,ut,G,Me,ye,ie,Se,rt,Ue,Oe,T,Ae,ee,L,ct.length,dt,we,pe]);u.useEffect(()=>{const Rt=JSON.stringify({activeTab:t,debouncedQ:d,country:f,city:g,categoryId:p,subcategoryId:y,goalId:b,role:j,audienceSelections:{identityIds:[...te.identityIds].sort(),categoryIds:[...te.categoryIds].sort(),subcategoryIds:[...te.subcategoryIds].sort(),subsubCategoryIds:[...te.subsubCategoryIds].sort()},price:X,serviceType:F,priceType:A,deliveryTime:z,experienceLevel:U,locationType:se,jobType:le,workMode:Te,postType:Fe,season:ut,budgetRange:G,fundingGoal:Me,amountRaised:ye,currency:ie,deadline:Se,eventType:rt,eventsView:M,date:Ue,registrationType:Oe,selectedFilters:[...Ae].sort(),selectedIndustries:[...ee].sort(),selectedSubcategories:JSON.stringify(T)});if(Rt!==Ke.current)return Ke.current=Rt,mt.current&&clearTimeout(mt.current),pt.current&&pt.current.abort(),st.current?mt.current=setTimeout(()=>{tt()},300):(st.current=!0,tt()),()=>{mt.current&&clearTimeout(mt.current),D.current&&clearTimeout(D.current)}},[t,d,f,g,p,y,b,j,te,X,F,A,z,U,se,le,Te,Fe,ut,G,Me,ye,ie,Se,rt,Ue,Oe,Ae,ee,T,tt]),u.useEffect(()=>{ve(this,null,function*(){We(!0);try{const Rt={q:d||void 0,country:f||void 0,city:g||void 0,categoryId:p||void 0,subcategoryId:y||void 0,goalId:b||void 0,role:j||void 0,industryIds:ee.length>0?ee.join(","):void 0,limit:40},{data:er}=yield Le.get("/feed/suggestions",{params:Rt});H(er.matches||[]),re(er.nearby||[])}catch(Rt){console.error("Failed to load suggestions:",Rt)}finally{We(!1)}})},[d,f,g,p,y,b,j,ee]),u.useEffect(()=>{if(!He.current||!pe)return;const Rt=He.current,er=new IntersectionObserver(tr=>{const[Nt]=tr;Nt.isIntersecting&&ke()},{root:null,rootMargin:"3000px",threshold:0});return er.observe(Rt),()=>er.disconnect()},[He,pe,ke]);const St={setShowTotalCount:it,audienceSelections:te,setAudienceSelections:K,audienceTree:J,generalTree:L,selectedFilters:Ae,setSelectedFilters:Ge,onSubcategoryChange:Rt=>{k(Rt)},query:l,setQuery:c,country:f,setCountry:h,city:g,setCity:m,categoryId:p,setCategoryId:x,subcategoryId:y,setSubcategoryId:w,goalId:b,goals:wt,role:j,setRole:N,setGoalId:v,categories:ue,countries:Xe,price:X,setPrice:W,serviceType:F,setServiceType:P,priceType:A,setPriceType:B,deliveryTime:z,setDeliveryTime:O,eventsView:M,setEventsView:_,experienceLevel:U,setExperienceLevel:Z,locationType:se,setLocationType:fe,jobType:le,setJobType:Ne,workMode:Te,setWorkMode:ht,postType:Fe,setPostType:Ve,season:ut,setSeason:Je,budgetRange:G,setBudgetRange:ae,fundingGoal:Me,setFundingGoal:he,amountRaised:ye,setAmountRaised:oe,currency:ie,setCurrency:q,deadline:Se,setDeadline:$e,eventType:rt,setEventType:nt,date:Ue,setDate:xt,registrationType:Oe,setRegistrationType:Ee,selectedIndustries:ee,setSelectedIndustries:de,onApply:()=>Ce(!1)},[Mt,Ht]=u.useState({});u.useEffect(()=>{const Rt={};L.forEach(er=>{Rt[er.id]=er.name}),Ht(Rt),Et(L.map(er=>er.id))},[L]);const mr=()=>t!=="Suggested for You"?n.jsxs("div",{className:"rounded-xl border bg-white p-6 text-sm text-gray-600",children:[t," tab uses its own API route. Render the specific list here."]}):Ot?n.jsx(ml,{onRetry:()=>{ft(!1),D.current&&clearTimeout(D.current),D.current=null,tt()},message:"Failed to load feed. Trying to connect...",buttonText:"Try Again"}):n.jsxs(n.Fragment,{children:[dt&&n.jsx("div",{className:"min-h-[160px] grid text-gray-600",children:n.jsx(Pd,{columns:1})}),!dt&&qe&&n.jsxs("div",{className:"text-sm text-gray-600",children:[Ie," result",Ie===1?"":"s"]}),!dt&&ct.length===0&&n.jsx($d,{activeTab:"All"}),!dt&&n.jsx("div",{className:`grid grid-cols-1 ${S==="list"?"sm:grid-cols-1":"lg:grid-cols-3"} gap-6`,children:ct==null?void 0:ct.map(Rt=>{var er,tr,Nt,Kt,jr,dr,en,qr;return Rt.kind==="event"?n.jsx(Xu,{type:S,matchPercentage:Rt.matchPercentage,e:Rt},`event-${Rt.id}`):Rt.kind==="need"?n.jsx(ic,{type:S,matchPercentage:Rt.matchPercentage,need:me(ne({},Rt),{categoryName:(er=ue.find(ur=>String(ur.id)===String(Rt.categoryId)))==null?void 0:er.name,subcategoryName:(Kt=(Nt=(tr=ue.find(ur=>String(ur.id)===String(Rt.categoryId)))==null?void 0:tr.subcategories)==null?void 0:Nt.find(ur=>String(ur.id)===String(Rt.subcategoryId)))==null?void 0:Kt.name})},`need-${Rt.id}`):Rt.kind==="moment"?n.jsx(oc,{type:S,matchPercentage:Rt.matchPercentage,moment:me(ne({},Rt),{categoryName:(jr=ue.find(ur=>String(ur.id)===String(Rt.categoryId)))==null?void 0:jr.name,subcategoryName:(qr=(en=(dr=ue.find(ur=>String(ur.id)===String(Rt.categoryId)))==null?void 0:dr.subcategories)==null?void 0:en.find(ur=>String(ur.id)===String(Rt.subcategoryId)))==null?void 0:qr.name})},`moment-${Rt.id}`):Rt.kind==="job"?n.jsx(Ad,{job:Rt},`job-${Rt.id}`):null})}),!dt&&pe&&n.jsx("div",{ref:He,className:"h-10 w-full",children:we&&n.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Loading more…"})})]});return n.jsxs(ti,{children:[n.jsx(an,{}),n.jsxs("main",{className:`mx-auto ${a._openPopUps.profile?"relative z-50":""} max-w-7xl px-4 sm:px-6 lg:px-8 py-6 grid lg:grid-cols-12 gap-6`,children:[n.jsx(Md,{query:l,setQuery:c,placeholder:"Search for events...",onFilterClick:()=>Ce(!0)}),n.jsxs("aside",{className:"lg:col-span-3 hidden lg:flex flex-col space-y-4 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto pr-1",children:[n.jsx("div",{className:"_sticky top-0 z-10 _bg-white",children:n.jsx(Xl,me(ne({selectedFilters:Ae,setSelectedFilters:Ge,generalTree:L},St),{from:"events",catComponent:n.jsx(Xa,{selected:Ae,setSelected:Ge,buttons:Ye,buttonLabels:Mt,from:E,loading:dt})}))}),n.jsx(ef,{title:"Quick Actions",items:[{label:"Edit Profile",Icon:xd,onClick:()=>s("/profile")},{label:"Host an Event",Icon:Sn,onClick:()=>s("/events/create"),hide:(i==null?void 0:i.accountType)=="individual"},{label:"Highlight an event",Icon:Sn,onClick:()=>s("/moment/event/create"),hide:(i==null?void 0:i.accountType)=="company"},{label:"Find events",Icon:Sn,onClick:()=>s("/need/event/create"),hide:(i==null?void 0:i.accountType)=="company"}]}),n.jsx(tf,{})]}),n.jsxs("div",{className:"lg:col-span-9 grid lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx("div",{className:"flex items-center flex-wrap w-full justify-between mb-4",children:n.jsx(Ju,{from:"event",typeOfPosts:[{label:"Host an Event",Icon:wH,hide:(i==null?void 0:i.accountType)==="individual",type:"main"},{label:"Find events",Icon:Ta,hide:(i==null?void 0:i.accountType)==="company"},{label:"Highlight an event",Icon:Yu}]})}),n.jsx("section",{className:"space-y-4 overflow-hidden",children:mr()})]}),n.jsx("aside",{className:"lg:col-span-1 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto",children:n.jsx(Od,{loading:ge,matches:Q,nearby:V})})]})]}),n.jsx(Id,me(ne({isOpen:ot,onClose:()=>Ce(!1),selectedFilters:Ae,setSelectedFilters:Ge,generalTree:L},St),{from:"events",catComponent:n.jsx(Xa,{selected:Ae,setSelected:Ge,buttons:Ye,buttonLabels:Mt,from:E,loading:dt})}))]})}function hEe(t,r=400){const[s,a]=u.useState(t);return u.useEffect(()=>{const i=setTimeout(()=>a(t),r);return()=>clearTimeout(i)},[t,r]),s}function gEe(){const[r,s]=u.useState("Suggested for You");u.useMemo(()=>["Suggested for You","Events to Attend"],[]);const a=qt(),i=Cr(),{user:o}=Xt(),[l,c]=u.useState("list"),d="tourism",[f,h]=u.useState(""),g=hEe(f,400),[m,p]=u.useState(),[x,y]=u.useState(),[w,b]=u.useState(),[v,j]=u.useState(),[N,S]=u.useState(),[I,E]=u.useState(),[L,C]=u.useState(""),[T,k]=u.useState([]),[M,_]=u.useState({}),[J,Y]=u.useState([]),[te,K]=u.useState([]);u.useEffect(()=>{ve(this,null,function*(){try{const{data:ke}=yield Le.get("/general-categories/tree?type=tourism");k(ke.generalCategories||[])}catch(ke){console.error("Failed to load general categories",ke)}})},[]);const[X,W]=u.useState([]),[F,P]=u.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[A,B]=u.useState(""),[z,O]=u.useState(""),[U,Z]=u.useState(""),[se,fe]=u.useState(""),[le,Ne]=u.useState(""),[Te,ht]=u.useState(""),[Fe,Ve]=u.useState(""),[ut,Je]=u.useState(""),[G,ae]=u.useState(""),[Me,he]=u.useState(""),[ye,oe]=u.useState(""),[ie,q]=u.useState(""),[Se,$e]=u.useState(""),[rt,nt]=u.useState(""),[Ue,xt]=u.useState(""),[Oe,Ee]=u.useState(""),[ee,de]=u.useState(""),[ue,_e]=u.useState("Free"),[Xe,gt]=u.useState([]),[wt,vt]=u.useState([]),[ct,Ze]=u.useState([]),[dt,yt]=u.useState([]),[Ie,ze]=u.useState([]),[qe,it]=u.useState(!1),[Ae,Ge]=u.useState(0),[Ye,Et]=u.useState(0),[Ot,ft]=u.useState(!1),D=u.useRef(null),[Q,H]=u.useState([]),[V,re]=u.useState([]),[ge,We]=u.useState(!1),[ot,Ce]=u.useState(!1),[pe,je]=u.useState(!0),[we,Re]=u.useState(!1),He=u.useRef(null);u.useRef(null);const et=u.useRef(0);u.useEffect(()=>{ve(this,null,function*(){try{const{data:ke}=yield Le.get("/feed/meta");vt(ke.categories||[]),Ze(ke.countries||[]),yt(ke.goals||[])}catch(ke){console.error("Failed to load meta:",ke)}})},[]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:ke}=yield Le.get("/public/identities");W(ke.identities)}catch(ke){console.error("Error loading identities:",ke)}})},[]);const pt=u.useCallback(()=>ve(this,null,function*(){if(r==="Suggested for You"){it(!0);try{const ke={tab:"tourism",q:g||void 0,country:m||void 0,tourismView:L||void 0,city:x||void 0,categoryId:w||void 0,subcategoryId:v||void 0,goalId:N||void 0,role:I||void 0,price:A||void 0,serviceType:z||void 0,priceType:U||void 0,deliveryTime:se||void 0,experienceLevel:le||void 0,locationType:Te||void 0,jobType:Fe||void 0,workMode:ut||void 0,postType:G||void 0,season:Me||void 0,budgetRange:ye||void 0,fundingGoal:ie||void 0,amountRaised:Se||void 0,currency:rt||void 0,deadline:Ue||void 0,eventType:Oe||void 0,date:ee||void 0,registrationType:ue||void 0,generalCategoryIds:J.filter(Mt=>T.some(Ht=>Ht.id===Mt)).join(",")||void 0,generalSubcategoryIds:Object.keys(M).filter(Mt=>M[Mt]).join(",")||void 0,audienceIdentityIds:Array.from(F.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(F.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(F.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(F.subsubCategoryIds).join(",")||void 0,industryIds:Xe.length>0?Xe.join(","):void 0,limit:10,offset:0},{data:lt}=yield Le.get("/feed",{params:ke}),St=Array.isArray(lt.items)?lt.items:[];ze(St),Ge(typeof lt.total=="number"?lt.total:St.length),je(typeof lt.total=="number"?St.length<lt.total:St.length===10),et.current=St.length,ft(!1),D.current&&(clearTimeout(D.current),D.current=null)}catch(ke){console.error("Failed to load feed:",ke),ze([]),ft(!0),D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{pt()},3e3)}finally{it(!1)}setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)}}),[r,g,m,x,w,v,N,I,L,F,A,z,U,se,le,Te,Fe,ut,G,Me,ye,ie,Se,rt,Ue,Oe,ee,ue,M,J,Xe,T,i]),be=u.useCallback(()=>ve(this,null,function*(){if(!(isFetchingRef.current||qe||we||!pe)){isFetchingRef.current=!0,Re(!0);try{const ke={tab:"tourism",q:g||void 0,country:m||void 0,tourismView:L||void 0,city:x||void 0,categoryId:w||void 0,subcategoryId:v||void 0,goalId:N||void 0,role:I||void 0,price:A||void 0,serviceType:z||void 0,priceType:U||void 0,deliveryTime:se||void 0,experienceLevel:le||void 0,locationType:Te||void 0,jobType:Fe||void 0,workMode:ut||void 0,postType:G||void 0,season:Me||void 0,budgetRange:ye||void 0,fundingGoal:ie||void 0,amountRaised:Se||void 0,currency:rt||void 0,deadline:Ue||void 0,eventType:Oe||void 0,date:ee||void 0,registrationType:ue||void 0,generalCategoryIds:J.filter(Mt=>T.some(Ht=>Ht.id===Mt)).join(",")||void 0,generalSubcategoryIds:Object.keys(M).filter(Mt=>M[Mt]).join(",")||void 0,audienceIdentityIds:Array.from(F.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(F.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(F.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(F.subsubCategoryIds).join(",")||void 0,industryIds:Xe.length>0?Xe.join(","):void 0,limit:10,offset:et.current},{data:lt}=yield Le.get("/feed",{params:ke}),St=Array.isArray(lt.items)?lt.items:[];ze(Mt=>[...Mt,...St]),et.current+=St.length,je(St.length===10),ft(!1)}catch(ke){console.error("Failed to load more:",ke)}finally{isFetchingRef.current=!1,Re(!1)}}}),[r,g,m,x,w,v,N,I,F,L,A,z,U,se,le,Te,Fe,ut,G,Me,ye,ie,Se,rt,Ue,Oe,ee,ue,M,J,Xe,T,Ie.length,qe,we,pe]);u.useEffect(()=>{pt()},[pt]),u.useEffect(()=>{ve(this,null,function*(){We(!0);try{const ke={q:g||void 0,country:m||void 0,city:x||void 0,categoryId:w||void 0,subcategoryId:v||void 0,goalId:N||void 0,role:I||void 0,industryIds:Xe.length>0?Xe.join(","):void 0,limit:10},{data:lt}=yield Le.get("/feed/suggestions",{params:ke});H(lt.matches||[]),re(lt.nearby||[])}catch(ke){console.error("Failed to load suggestions:",ke)}finally{We(!1)}})},[g,m,x,w,v,N,I,Xe]),u.useEffect(()=>{if(!He.current||!pe)return;const ke=He.current,lt=new IntersectionObserver(St=>{const[Mt]=St;Mt.isIntersecting&&be()},{root:null,rootMargin:"700px",threshold:0});return lt.observe(ke),()=>lt.disconnect()},[He,pe,be]);const De=ke=>{_(ke)},[st,Ke]=u.useState({});u.useEffect(()=>{const ke={};T.forEach(lt=>{ke[lt.id]=lt.name}),Ke(ke),K(T.map(lt=>lt.id))},[T]);const mt={setShowTotalCount:Et,audienceSelections:F,setAudienceSelections:P,audienceTree:X,generalTree:T,selectedFilters:J,setSelectedFilters:Y,onSubcategoryChange:De,query:f,setQuery:h,tourismView:L,setTourismView:C,country:m,setCountry:p,city:x,setCity:y,categoryId:w,setCategoryId:b,subcategoryId:v,setSubcategoryId:j,goalId:N,goals:dt,role:I,setRole:E,setGoalId:S,price:A,setPrice:B,serviceType:z,setServiceType:O,priceType:U,setPriceType:Z,deliveryTime:se,setDeliveryTime:fe,experienceLevel:le,setExperienceLevel:Ne,locationType:Te,setLocationType:ht,jobType:Fe,setJobType:Ve,workMode:ut,setWorkMode:Je,postType:G,setPostType:ae,season:Me,setSeason:he,budgetRange:ye,setBudgetRange:oe,fundingGoal:ie,setFundingGoal:q,amountRaised:Se,setAmountRaised:$e,currency:rt,setCurrency:nt,deadline:Ue,setDeadline:xt,eventType:Oe,setEventType:Ee,date:ee,setDate:de,registrationType:ue,setRegistrationType:_e,selectedIndustries:Xe,setSelectedIndustries:gt,categories:wt,countries:ct,onApply:()=>Ce(!1)},tt=()=>r!=="Suggested for You"?n.jsxs("div",{className:"rounded-xl border bg-white p-6 text-sm text-gray-600",children:[r," tab uses its own API route. Render the specific list here."]}):Ot?n.jsx(ml,{onRetry:()=>{ft(!1),D.current&&clearTimeout(D.current),D.current=null,pt()},message:"Failed to load feed. Trying to connect...",buttonText:"Try Again"}):n.jsxs(n.Fragment,{children:[qe&&n.jsx("div",{className:"min-h-[160px] grid text-gray-600",children:n.jsx(Pd,{columns:1})}),!qe&&Ye&&n.jsxs("div",{className:"text-sm text-gray-600",children:[Ae," result",Ae===1?"":"s"]}),!qe&&Ie.length===0&&n.jsx($d,{activeTab:"All"}),n.jsx("div",{className:`grid grid-cols-1 ${l==="list"?"sm:grid-cols-1":"lg:grid-cols-3"} gap-6`,children:!qe&&Ie.map(ke=>{var lt,St,Mt,Ht,mr,Rt,er,tr;return ke.kind==="tourism"?n.jsx(dw,{matchPercentage:ke.matchPercentage,type:l,item:ke},ke.id):ke.kind==="need"?n.jsx(ic,{type:l,matchPercentage:ke.matchPercentage,need:me(ne({},ke),{categoryName:(lt=wt.find(Nt=>String(Nt.id)===String(ke.categoryId)))==null?void 0:lt.name,subcategoryName:(Ht=(Mt=(St=wt.find(Nt=>String(Nt.id)===String(ke.categoryId)))==null?void 0:St.subcategories)==null?void 0:Mt.find(Nt=>String(Nt.id)===String(ke.subcategoryId)))==null?void 0:Ht.name})},`need-${ke.id}`):ke.kind==="moment"?n.jsx(oc,{type:l,matchPercentage:ke.matchPercentage,moment:me(ne({},ke),{categoryName:(mr=wt.find(Nt=>String(Nt.id)===String(ke.categoryId)))==null?void 0:mr.name,subcategoryName:(tr=(er=(Rt=wt.find(Nt=>String(Nt.id)===String(ke.categoryId)))==null?void 0:Rt.subcategories)==null?void 0:er.find(Nt=>String(Nt.id)===String(ke.subcategoryId)))==null?void 0:tr.name})},`moment-${ke.id}`):ke.kind==="job"?n.jsx(Ad,{job:ke},`job-${ke.id}`):ke.kind==="event"?n.jsx(Xu,{e:ke},`event-${ke.id}`):null})}),!qe&&pe&&n.jsx("div",{ref:He,className:"h-10 w-full",children:we&&n.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Loading more…"})})]});return n.jsxs(ti,{children:[n.jsx(an,{}),n.jsxs("main",{className:`mx-auto ${i._openPopUps.profile?"relative z-50":""} max-w-7xl px-4 sm:px-6 lg:px-8 py-6 grid lg:grid-cols-12 gap-6`,children:[n.jsx(Md,{query:f,setQuery:h,placeholder:"Search for tourism activities...",onFilterClick:()=>Ce(!0)}),n.jsxs("aside",{className:"lg:col-span-3 hidden lg:flex flex-col space-y-4 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto pr-1",children:[n.jsx("div",{className:"_sticky top-0 z-10 _bg-white",children:n.jsx(Xl,me(ne({selectedFilters:J,setSelectedFilters:Y,generalTree:T},mt),{from:"tourism",catComponent:n.jsx(Xa,{selected:J,setSelected:Y,buttons:te,buttonLabels:st,from:d,loading:qe})}))}),n.jsx(ef,{title:"Quick Actions",items:[{label:"Edit Profile",Icon:xd,path:"/profile",hide:(o==null?void 0:o.accountType)=="individual"},{label:"Share a tourism activity",Icon:Sn,onClick:()=>a("/experiences/create"),hide:(o==null?void 0:o.accountType)=="company"},{label:"Search for tourism activities",Icon:Sn,onClick:()=>a("/need/tourism/create"),hide:(o==null?void 0:o.accountType)=="company"}]}),n.jsx(tf,{})]}),n.jsxs("div",{className:"lg:col-span-9 grid lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx("div",{className:"flex items-center flex-wrap w-full justify-between mb-4",children:n.jsx(Ju,{from:"tourism",typeOfPosts:[{label:"Post a Tourism Attraction",Icon:GE,hide:(o==null?void 0:o.accountType)!=="company"},{label:(o==null?void 0:o.accountType)==="company"?"Highlight a tourist Attraction":"Explore Tourism Attractions",Icon:Ta},{label:"Share a Tourism Experience",Icon:gn,hide:(o==null?void 0:o.accountType)==="company"}]})}),n.jsx("section",{className:"space-y-4 overflow-hidden",children:tt()})]}),n.jsx("aside",{className:"lg:col-span-1 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto",children:n.jsx(Od,{loading:ge,matches:Q,nearby:V})})]})]}),n.jsx(Id,me(ne({isOpen:ot,onClose:()=>Ce(!1),selectedFilters:J,setSelectedFilters:Y,generalTree:T},mt),{from:"tourism",catComponent:n.jsx(Xa,{selected:J,setSelected:Y,buttons:te,buttonLabels:st,from:d,loading:qe})}))]})}const mEe=({onSelect:t,selectedUsers:r,onRemove:s,thisUserId:a})=>{const[i,o]=u.useState(""),[l,c]=u.useState([]),[d,f]=u.useState(!1),h=u.useRef(null),g=x=>ve(void 0,null,function*(){if(!x.trim()){c([]);return}f(!0);try{const{data:y}=yield Le.get(`/users/search?q=${encodeURIComponent(x)}`),w=y.filter(b=>!r.some(v=>v.id===b.id)&&(b==null?void 0:b.id)!=a);c(w)}catch(y){console.error("Error searching users:",y),c([])}finally{f(!1)}});u.useEffect(()=>{const x=y=>{h.current&&!h.current.contains(y.target)&&c([])};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[]);const m=x=>{const y=x.target.value;o(y),clearTimeout(window.searchTimeout),window.searchTimeout=setTimeout(()=>{g(y)},300)},p=x=>{t(x),o(""),c([])};return n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Add Participants"}),r.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:r.map(x=>n.jsxs("div",{className:"inline-flex items-center gap-2 bg-brand-50 text-brand-700 rounded-full px-3 py-1 text-xs font-medium",children:[x.avatarUrl?n.jsx("img",{src:x.avatarUrl,alt:x.name,className:"w-4 h-4 rounded-full object-cover"}):n.jsx("div",{className:"w-4 h-4 rounded-full bg-brand-100 flex items-center justify-center text-xs font-medium text-brand-700",children:Pm(x.name)}),x.name||x.email,(x==null?void 0:x.id)!=a&&n.jsx("button",{type:"button",onClick:()=>s(x.id),className:"text-brand-500 hover:text-brand-700",children:n.jsx(Lr,{size:14})})]},x.id))}),n.jsxs("div",{ref:h,className:"relative",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:i,onChange:m,placeholder:"Search users by name or email...",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30"}),d&&n.jsx("div",{className:"absolute right-3 top-2.5",children:n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-500"})})]}),l.length>0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:l.map(x=>n.jsxs("button",{type:"button",onClick:()=>p(x),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3",children:[x.avatarUrl?n.jsx("img",{src:x.avatarUrl,alt:x.name,className:"w-6 h-6 rounded-full object-cover"}):n.jsx("div",{className:"w-6 h-6 rounded-full bg-brand-100 flex items-center justify-center text-xs font-medium text-brand-700",children:Pm(x.name)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:x.name}),n.jsx("div",{className:"text-xs text-gray-500 truncate",children:x.email})]})]},x.id))})]})]})},pEe=({open:t,onClose:r,toUserId:s,toName:a,onCreated:i})=>{const o=Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",[l,c]=u.useState({date:"",time:"",duration:"30",mode:"video",location:"",link:"",title:`Meeting with ${a!=null?a:"User"}`,agenda:"",timezone:o}),[d,f]=u.useState([]),[h,g]=u.useState(!1),[m,p]=u.useState({});fr.useEffect(()=>{t&&(p({}),g(!1),s&&a&&f([{id:s,name:a}]))},[t,s,a]);function x(){const j={};return l.date||(j.date="Pick a date"),l.time||(j.time="Pick a time"),l.title.trim()||(j.title="Add a title"),d.length===0&&(j.participants="Add at least one participant"),j}function y(j,N){c(S=>me(ne({},S),{[j]:N}))}const w=j=>{d.some(N=>N.id===j.id)||f(N=>[...N,j])},b=j=>{f(N=>N.filter(S=>S.id!==j))};function v(j){return ve(this,null,function*(){var L,C;j.preventDefault();const N=x();if(p(N),Object.keys(N).length)return;const S=new Date(`${l.date}T${l.time}:00`).toISOString(),I=d[0],E=d.slice(1).map(T=>T.id);g(!0);try{const T={toUserId:I.id,title:l.title,agenda:l.agenda,scheduledAt:S,duration:parseInt(l.duration),timezone:l.timezone,mode:l.mode,location:l.mode==="in_person"?l.location:null,link:l.mode==="video"?l.link:null,participants:E},{data:k}=yield Le.post("/meeting-requests",T);i==null||i(k),r(),f([]),c({date:"",time:"",duration:"30",mode:"video",location:"",link:"",title:`Meeting with ${a!=null?a:"User"}`,agenda:"",timezone:o})}catch(T){console.error("Error creating meeting request:",T),ce.error(((C=(L=T==null?void 0:T.response)==null?void 0:L.data)==null?void 0:C.message)||"Failed to send meeting request")}finally{g(!1)}})}return t?n.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm",children:n.jsxs("div",{className:"w-[92vw] sm:w-full sm:max-w-lg max-h-[80vh] bg-white rounded-2xl shadow-xl flex flex-col overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between bg-brand-500 px-4 py-3",children:[n.jsx("div",{className:"text-white font-medium",children:"Request Meeting"}),n.jsx("button",{onClick:r,className:"text-white/90 hover:text-white",children:n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),n.jsxs("form",{id:"meetingForm",onSubmit:v,className:"p-5 overflow-y-auto flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Title"}),n.jsx("input",{type:"text",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:l.title,onChange:j=>y("title",j.target.value),placeholder:"e.g., Intro call about collaboration"}),m.title&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:m.title})]}),n.jsx(mEe,{onSelect:w,selectedUsers:d,onRemove:b,thisUserId:s}),m.participants&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:m.participants}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date"}),n.jsx("input",{type:"date",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:l.date,min:new Date().toISOString().split("T")[0],onChange:j=>y("date",j.target.value)}),m.date&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:m.date})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Time"}),n.jsx("input",{type:"time",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:l.time,onChange:j=>y("time",j.target.value)}),m.time&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:m.time})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Duration"}),n.jsxs("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:l.duration,onChange:j=>y("duration",j.target.value),children:[n.jsx("option",{value:"15",children:"15 minutes"}),n.jsx("option",{value:"30",children:"30 minutes"}),n.jsx("option",{value:"45",children:"45 minutes"}),n.jsx("option",{value:"60",children:"60 minutes"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Timezone"}),n.jsx("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:l.timezone,onChange:j=>y("timezone",j.target.value),children:fw.map((j,N)=>n.jsx("option",{value:j.value,children:`${j.offset} - ${j.label}`}))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Meeting mode"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("button",{type:"button",onClick:()=>y("mode","video"),className:`flex items-center justify-center gap-2 rounded-lg border px-3 py-2 text-sm ${l.mode==="video"?"border-brand-500 bg-brand-50 text-brand-700":"border-gray-300 bg-white text-gray-700"}`,children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M16 2H8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z"}),n.jsx("path",{d:"m16 2 4 4"}),n.jsx("path",{d:"M21 2v8"})]}),"Video call"]}),n.jsxs("button",{type:"button",onClick:()=>y("mode","in_person"),className:`flex items-center justify-center gap-2 rounded-lg border px-3 py-2 text-sm ${l.mode==="in_person"?"border-brand-500 bg-brand-50 text-brand-700":"border-gray-300 bg-white text-gray-700"}`,children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"In person"]})]})]}),l.mode==="video"?n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Call link ",n.jsx("span",{className:"text-gray-600",children:"(optional)"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"rounded-lg border border-gray-300 px-3 py-2 flex-1 flex items-center gap-2",children:[n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),n.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),n.jsx("input",{type:"url",placeholder:"Insert call link",className:"w-full text-sm focus:outline-none",value:l.link,onChange:j=>y("link",j.target.value)})]})}),m.link&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:m.link})]}):n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Location"}),n.jsx("input",{type:"text",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",placeholder:"e.g., Avenida Julius Nyerere 123, Maputo",value:l.location,onChange:j=>y("location",j.target.value)}),m.location&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:m.location})]}),l.date&&l.time&&n.jsxs("div",{className:"rounded-lg border bg-gray-50 px-3 py-2 text-xs text-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),n.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),n.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),n.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]}),n.jsxs("span",{children:[new Date(`${l.date}T${l.time}:00`).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})," ","(",l.timezone,") • ",l.duration," min • ",l.mode==="video"?"Video call":"In person"]})]}),d.length>0&&n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx(rx,{size:14}),n.jsxs("span",{children:[d.length," participant",d.length!==1?"s":""]})]})]})]}),n.jsxs("div",{className:"p-4 border-t flex items-center justify-end gap-3",children:[n.jsx("button",{type:"button",onClick:r,className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-gray-400",children:"Cancel"}),n.jsxs("button",{type:"submit",form:"meetingForm",disabled:h,className:"inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium text-white bg-brand-500 hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500/30 disabled:opacity-60",children:[n.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("polyline",{points:"12,6 12,12 16,14"})]}),h?"Creating…":`Create request (${d.length})`]})]})]})}):null};function Pm(t){var i,o;if(!t)return"U";const r=t.trim().split(/\s+/),s=((i=r[0])==null?void 0:i.charAt(0).toUpperCase())||"",a=((o=r[1])==null?void 0:o.charAt(0).toUpperCase())||"";return s+a}function xEe(t,r){if(t)return t;if(!r)return"";const s=Date.now()-new Date(r).getTime(),a=Math.floor(s/6e4);if(a<60)return`${a} min${a!==1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i!==1?"s":""} ago`;const o=Math.floor(i/24);return`${o} day${o!==1?"s":""} ago`}function vEe({id:t,avatarUrl:r,coverImage:s,name:a,role:i,city:o,countryOfResidence:l,country:c,email:d,about:f,lookingFor:h,goals:g=[],cats:m=[],onConnect:p,onMessage:x,connectionStatus:y,createdAt:w,timeAgo:b,matchPercentage:v=0,type:j="grid",accountType:N="individual",companyMemberships:S=[]}){const{user:I}=Xt(),E=Cr(),L=qt(),[C,T]=u.useState(null),[k,M]=u.useState(!1),[_,J]=u.useState(!1),[Y,te]=u.useState(y||"none"),[K,X]=u.useState(!1),[W,F]=u.useState(!1);function P(Fe){return ve(this,null,function*(){yield Le.delete(`/connections/${t}`,{data:{note:Fe}}),te("none"),ce.success("Connection removed")})}const A=j==="list",B=[o,l||c].filter(Boolean).join(", ");u.useMemo(()=>xEe(b,w),[b,w]);const z=u.useMemo(()=>[...new Set([...g,...m].filter(Boolean).map(String))],[g,m]),O=z.slice(0,1),U=Math.max(0,z.length-O.length),Z=100,se=!!f&&f.length>Z;f&&se&&`${f.slice(0,Z)}`;function fe(){te("pending_outgoing"),p==null||p()}const le=N==="company",Ne=`group relative rounded-2xl border-2 ${le?"border-gray-100 shadow-sm":"border-gray-100"} bg-white   transition-all duration-300 ease-out`,Te=A?"flex":"flex flex-col";return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`${Ne} ${Te} ${!A&&K?"transform -translate-y-2":""}`,onMouseEnter:()=>X(!0),onMouseLeave:()=>X(!1),children:[n.jsx(_d,{userId:C,isOpen:!!C,onClose:()=>T(null),onSent:fe}),A?n.jsx("div",{className:"relative overflow-hidden",children:n.jsx("div",{className:"p-5 pr-0",children:r?n.jsx("div",{className:"flex bg-white  items-center justify-center w-24 h-24 shadow-xl border-4 border-white rounded-2xl overflow-hidden cursor-pointer hover:shadow-2xl transition-all duration-200",onClick:()=>{L(`/profile/${t}`)},title:`View ${a}'s profile`,children:n.jsx("img",{src:r,alt:a,className:"w-full h-full border border-gray-100",style:{objectFit:le?"contain":"cover"}})}):n.jsx("div",{className:`w-24 h-24 rounded-2xl shadow-xl ${le?"border-4 border-white bg-gradient-to-br from-blue-100 to-blue-200":"border-4 border-white bg-gradient-to-br from-brand-100 to-brand-200"} flex items-center justify-center cursor-pointer hover:shadow-2xl transition-all duration-200`,onClick:()=>{L(`/profile/${t}`)},title:`View ${a}'s profile`,children:n.jsx("span",{className:`${le?"text-blue-700":"text-brand-700"} font-bold text-3xl`,children:Pm(a)})})})}):n.jsxs("div",{className:"relative w-full overflow-hidden rounded-t-2xl",children:[s?n.jsxs("div",{className:"h-32 relative cursor-pointer",onClick:()=>{L(`/profile/${t}`)},children:[n.jsx("img",{src:s,alt:`${a}'s cover`,className:"w-full h-full object-cover object-[50%_30%]"}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/2 bg-gradient-to-t from-black/60 via-black/30 to-transparent"})]}):n.jsx("div",{onClick:()=>{L(`/profile/${t}`)},className:`h-32 rounded-t-2xl cursor-pointer ${le?"bg-gradient-to-br from-blue-500 via-blue-400 to-blue-300":"bg-gradient-to-br from-brand-500 via-brand-300 to-brand-100"} relative`,children:n.jsx("div",{className:"absolute inset-0 opacity-10",children:n.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 10px, currentColor 10px, currentColor 11px)",color:"white"}})})}),v!=0&&n.jsx("div",{className:"absolute top-3 right-3",children:n.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold shadow-lg backdrop-blur-sm border-2 ${v>=80?"bg-white/95 text-green-700 border-green-400":v>=60?"bg-white/95 text-brand-700 border-brand-400":"bg-white/95 text-gray-700 border-gray-300"}`,children:[n.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),v,"%"]})}),n.jsx("div",{className:"relative px-5 pb-3 bg-white",children:n.jsxs("div",{className:"flex items-start gap-4 -mt-16",children:[n.jsxs("div",{className:"relative flex-shrink-0 -translate-y-4",children:[r?n.jsx("div",{className:"flex bg-white items-center justify-center w-24 h-24 shadow-xl border-4 border-white rounded-2xl overflow-hidden cursor-pointer hover:shadow-2xl transition-all duration-200",onClick:()=>{L(`/profile/${t}`)},title:`View ${a}'s profile`,children:n.jsx("img",{src:r,alt:a,className:"w-full h-full",style:{objectFit:le?"contain":"cover"}})}):n.jsx("div",{className:`w-24 h-24 rounded-2xl shadow-xl ${le?"border-4 border-white bg-gradient-to-br from-blue-100 to-blue-200":"border-4 border-white bg-gradient-to-br from-brand-100 to-brand-200"} flex items-center justify-center cursor-pointer hover:shadow-2xl transition-all duration-200`,onClick:()=>{L(`/profile/${t}`)},title:`View ${a}'s profile`,children:n.jsx("span",{className:`${le?"text-blue-700":"text-brand-700"} font-bold text-3xl`,children:Pm(a)})}),S&&S.length>0&&n.jsxs("div",{className:"absolute -bottom-1 -right-1 flex -space-x-1",children:[[...S].sort((Fe,Ve)=>(Ve.isMain?1:0)-(Fe.isMain?1:0)).slice(0,3).map((Fe,Ve)=>Fe.company.avatarUrl?n.jsx("img",{src:Fe.company.avatarUrl,alt:Fe.company.name,className:`h-7 w-7 rounded-full border-2 border-white bg-white shadow-md object-cover ${Fe.isMain?"ring-2 ring-brand-400":""}`,title:`${Fe.company.name} (${Fe.role})`},Fe.companyId):n.jsx("div",{className:`h-7 w-7 rounded-full border-2 border-white shadow-md bg-gray-100 flex items-center justify-center text-[10px] font-medium text-gray-600 ${Fe.isMain?"ring-2 ring-brand-400":""}`,title:`${Fe.company.name} (${Fe.role})`,children:Pm(Fe.company.name)},Fe.companyId)),S.length>3&&n.jsxs("div",{className:"h-7 w-7 rounded-full border-2 border-white shadow-md bg-gray-100 flex items-center justify-center text-[10px] font-medium text-gray-600",children:["+",S.length-3]})]})]}),n.jsxs("div",{className:"flex-1 min-w-0 pt-4 space-y-2",children:[le&&n.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-md bg-blue-100 text-blue-700 text-[10px] font-bold uppercase tracking-wide",children:[n.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Association"]}),n.jsx("div",{className:"cursor-pointer group/name",onClick:()=>{L(`/profile/${t}`)},children:n.jsx("h3",{className:"font-bold text-sm text-gray-900 group-hover/name:text-brand-600 transition-colors leading-tight break-words",title:a,children:a||"Anonymous User"})}),i?n.jsx("div",{className:`text-[13px] line-clamp-3 ${le?"font-semibold text-gray-700":"font-semibold text-gray-600"} break-words`,title:i,children:le?`${i||"Company"}`:i}):n.jsx("div",{className:"text-sm font-medium text-gray-500 italic",children:le?"Company Profile":"Professional"})]})]})})]}),n.jsxs("div",{className:`${A?"pb-5 pl-5 pr-5 md:pb-6 md:pl-6 md:pr-6":"pb-6 pl-6 pr-6"} mt-1 flex flex-col flex-1`,children:[j=="list"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mt-6",children:n.jsx("h3",{onClick:()=>L(`/profile/${t}`),className:"font-bold cursor-pointer text-sm mb-2 hover:underline text-gray-900 group-hover/name:text-brand-600 transition-colors leading-tight break-words",title:a,children:a||"Anonymous User"})}),n.jsx("div",{className:"absolute top-3 right-3 flex items-center gap-2",children:v!=0&&n.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold bg-white/95 backdrop-blur-sm text-brand-600 border border-brand-200",children:[v,"% match"]})})]}),B&&n.jsxs("div",{className:`flex mb-3 items-start text-sm text-gray-600 gap-1.5 ${le?"md:absolute bottom-1 right-4":""}`,children:[n.jsx(gn,{size:16,className:"text-gray-400 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"break-words text-[12px]",title:B,children:B})]}),f&&n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{title:f,className:`text-[14px] leading-relaxed text-gray-700 ${A?"line-clamp-3 md:line-clamp-3":"line-clamp-3"}`,children:f}),se&&n.jsxs("div",{className:"relative group/tags",children:[n.jsx("button",{className:"mt-2 table text-xs font-medium text-brand-600 hover:text-brand-700 transition-colors",children:"Read more"}),n.jsxs("div",{className:"absolute bottom-full left-0 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/tags:opacity-100 group-hover/tags:visible z-10 w-full break-words",children:[f,n.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]}),!!O.length&&n.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[O.map(Fe=>n.jsx("span",{className:"inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-semibold bg-brand-50 text-brand-400 border _border-brand-200",children:Fe},Fe)),U>0&&n.jsxs("div",{className:"relative inline-block group/tags",children:[n.jsxs("span",{className:"inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-semibold bg-gray-100 text-gray-600 cursor-help",children:["+",U," more"]}),n.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible transition-opacity duration-200 group-hover/tags:opacity-100 group-hover/tags:visible z-10 whitespace-nowrap max-w-xs",children:[n.jsx("div",{className:"flex flex-wrap gap-1",children:z.slice(O.length).map((Fe,Ve)=>n.jsxs("span",{className:"inline-block",children:[Fe,Ve<z.length-O.length-1?",":""]},Ve))}),n.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]}),n.jsxs("div",{className:`mt-auto ${le?"":"pt-3"} flex items-center gap-3`,children:[(I==null?void 0:I.id)!=t&&!le&&n.jsxs("button",{onClick:()=>{if(!I){E._showPopUp("login_prompt");return}x?x(t):L(`/messages?userId=${t}`)},className:`inline-flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-semibold bg-brand-50 text-brand-500 active:bg-brand-800 transition-all duration-200 shadow-sm hover:shadow-md ${j==="grid"?"flex-1 justify-center":""}`,children:[n.jsx(Rs,{size:16}),"Message"]}),Y==="connected"&&n.jsxs("button",{onClick:()=>{if(!I){E._showPopUp("login_prompt");return}J(!0)},className:"inline-flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-semibold border border-brand-200 bg-white text-brand-700 hover:border-brand-500 hover:text-brand-700 transition-all duration-200",children:[n.jsx(To,{size:16}),"Meeting"]}),Y!="connected"&&n.jsx("div",{className:j==="grid"?"flex-1":"",children:ht()})]})]})]}),n.jsx(bs,{open:k,onClose:()=>M(!1),toUserId:t,toName:a,onSent:fe}),n.jsx(pEe,{open:_,onClose:()=>J(!1),toUserId:t,toName:a,onCreated:Fe=>{ce.success("Meeting request sent successfully!")}}),n.jsx(is,{open:W,onClose:()=>F(!1),title:"Remove this connection?",text:"This will remove the connection. You can send a new request later.",confirmText:"Remove",cancelText:"Cancel",tone:"danger",withInput:!0,inputLabel:"Optional note",inputPlaceholder:"Why are you removing this connection?",inputType:"textarea",requireValue:!1,onConfirm:P})]});function ht(){const Fe=(Y||"none").toLowerCase();return Fe==="connected"?n.jsxs("button",{onClick:()=>F(!0),title:"Connected — click to remove","aria-label":"Connected. Click to remove connection",className:`group/conn rounded-xl px-4 py-2.5 text-sm font-semibold w-full
                    bg-green-50 text-green-700 border-2 border-green-200
                    hover:bg-red-50 hover:text-red-700 hover:border-red-300
                    focus:outline-none focus:ring-2 focus:ring-red-500/30
                    transition-all duration-200 flex items-center justify-center gap-2 ${j==="grid"?"flex-1":""}`,children:[n.jsx(X2,{size:16,className:"block group-hover/conn:hidden group-focus/conn:hidden"}),n.jsx(ew,{size:16,className:"hidden group-hover/conn:block group-focus/conn:block"}),n.jsx("span",{className:"block group-hover/conn:hidden group-focus/conn:hidden",children:"Connected"}),n.jsx("span",{className:"hidden group-hover/conn:block group-focus/conn:block",children:"Remove"})]}):Fe==="pending_outgoing"||Fe==="outgoing_pending"||Fe==="pending"?n.jsx("button",{className:`rounded-xl px-4 py-2.5 text-sm font-semibold bg-amber-50 text-amber-700 border border-amber-200 cursor-default ${j==="grid"?"w-full":""}`,children:"Pending"}):Fe==="pending_incoming"||Fe==="incoming_pending"?n.jsx("button",{onClick:()=>L("/notifications"),className:`rounded-xl px-4 py-2.5 text-sm font-semibold bg-brand-50 text-brand-700 border border-brand-200 hover:bg-brand-100 transition-colors ${j==="grid"?"w-full":""}`,children:"Respond"}):I?n.jsx("button",{onClick:()=>M(!0),className:`rounded-xl px-4 py-2.5 text-sm font-semibold border-2  hover:border-brand-300 hover:text-brand-600 transition-all duration-200 ${j==="grid"?"w-full":""}`,children:"Connect"}):n.jsx("button",{onClick:()=>E._showPopUp("login_prompt"),className:`rounded-xl px-4 py-2.5 text-sm font-semibold border-2 border-gray-200 bg-white text-gray-500 hover:border-brand-300 hover:text-brand-600 transition-all duration-200 ${j==="grid"?"w-full":""}`,children:"Connect"})}}const yEe=()=>n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-6 animate-pulse",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-32 mb-3"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),n.jsx("div",{className:"h-10 bg-gray-200 rounded w-24 mt-4"})]}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6 animate-pulse",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-40 mb-3"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]}),n.jsx("div",{className:"h-10 bg-gray-200 rounded w-24 mt-4"})]}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6 animate-pulse",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-36 mb-3"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-10 bg-gray-200 rounded w-24 mt-4"})]}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]})})]})});function bEe(t,r=400){const[s,a]=u.useState(t),i=u.useRef();return u.useEffect(()=>{if(i.current&&clearTimeout(i.current),t===""){a(t);return}return i.current=setTimeout(()=>{a(t)},r),()=>{i.current&&clearTimeout(i.current)}},[t,r]),s}function mq(){const{user:t}=Xt(),[r,s]=u.useState("People"),a=Cr();u.useMemo(()=>{const Ke=["Posts","People","News & Articles"];return t&&Ke.splice(2,0,"My Connections"),Ke},[t]),qt();const[i,o]=u.useState(!1),[l,c]=u.useState(""),d=bEe(l,400),[f,h]=u.useState(),[g,m]=u.useState(),[p,x]=u.useState(),[y,w]=u.useState(),[b,v]=u.useState(),[j,N]=u.useState(),[S,I]=u.useState([]);u.useState("grid");const{pathname:E}=ys(),L=E.includes("/people")?"people":"companies",[C,T]=u.useState(!1),[k,M]=u.useState(""),[_,J]=u.useState(""),[Y,te]=u.useState(""),[K,X]=u.useState(""),[W,F]=u.useState(""),[P,A]=u.useState(""),[B,z]=u.useState(""),[O,U]=u.useState(""),[Z,se]=u.useState(""),[fe,le]=u.useState(""),[Ne,Te]=u.useState(""),[ht,Fe]=u.useState(""),[Ve,ut]=u.useState(""),[Je,G]=u.useState(""),[ae,Me]=u.useState(""),[he,ye]=u.useState(""),[oe,ie]=u.useState(""),[q,Se]=u.useState("Free"),[$e,rt]=u.useState([]),[nt,Ue]=u.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[xt,Oe]=u.useState([]),[Ee,ee]=u.useState([]),[de,ue]=u.useState([]),[_e,Xe]=u.useState([]),[gt,wt]=u.useState(!1),[vt,ct]=u.useState(0),[Ze,dt]=u.useState(0),[yt,Ie]=u.useState(!1),[ze,qe]=u.useState(!1),it=u.useRef(null),[Ae,Ge]=u.useState([]),[Ye,Et]=u.useState([]),[Ot,ft]=u.useState(!1),[D,Q]=u.useState(!1),[H,V]=u.useState([]),[re,ge]=u.useState(!0),[We,ot]=u.useState(!1),Ce=u.useRef(null);u.useRef(null);const pe=u.useRef(0),je=u.useCallback(Ke=>{if(!de.length)return null;for(const mt of de)if(mt.name===Ke||mt.name.toLowerCase()===Ke.toLowerCase())return mt.id;return null},[de]);u.useEffect(()=>{ve(this,null,function*(){try{const{data:Ke}=yield Le.get("/feed/meta");Oe(Ke.categories||[]),ee(Ke.countries||[]),I(Ke.goals||[])}catch(Ke){console.error("Failed to load meta:",Ke)}})},[]),u.useEffect(()=>{ve(this,null,function*(){let Ke=L=="people"?"individual":"company";try{const{data:mt}=yield Le.get("/public/identities",{params:{type:Ke}});ue(mt.identities)}catch(mt){console.error("Error loading identities:",mt)}})},[L]);const we=u.useRef(!1),Re=u.useRef(!1),He=u.useRef({}),et=u.useRef(null),pt=u.useCallback(()=>ve(this,null,function*(){if(!we.current){we.current=!0,wt(!0);try{const Ke={accountType:L=="people"?"individual":"company",q:d||void 0,country:f||void 0,city:g||void 0,categoryId:p||void 0,subcategoryId:y||void 0,goalId:b||void 0,role:j||void 0,identityIds:Array.from(nt.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(nt.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(nt.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(nt.subsubCategoryIds).join(",")||void 0,industryIds:$e.length>0?$e.join(","):void 0,connectionStatus:r=="My Connections"&&i?"outgoing_pending,incoming_pending":r=="My Connections"&&!i?"connected":null,price:k||void 0,viewOnlyConnections:C,serviceType:_||void 0,priceType:Y||void 0,deliveryTime:K||void 0,experienceLevel:W||void 0,locationType:P||void 0,jobType:B||void 0,workMode:O||void 0,postType:Z||void 0,season:fe||void 0,budgetRange:Ne||void 0,fundingGoal:ht||void 0,amountRaised:Ve||void 0,currency:Je||void 0,deadline:ae||void 0,eventType:he||void 0,date:oe||void 0,registrationType:q||void 0,limit:10,offset:0},{data:mt}=yield Le.get("/people",{params:Ke}),tt=Array.isArray(mt.items)?mt.items:[];Xe(tt),ct(typeof mt.total=="number"?mt.total:Array.isArray(mt.items)?mt.items.length:0),ge(typeof mt.total=="number"?tt.length<mt.total:tt.length===10),pe.current=tt.length,Ie(!0),qe(!1),it.current&&(clearTimeout(it.current),it.current=null)}catch(Ke){console.error("Failed to load feed:",Ke),Xe([]),qe(!0),Ie(!0),it.current&&clearTimeout(it.current),it.current=setTimeout(()=>{pt()},3e3)}finally{we.current=!1,wt(!1)}a._scrollToSection("top",!0)}}),[r,d,f,g,p,y,b,j,i,nt,k,_,Y,C,K,W,P,B,O,Z,fe,Ne,ht,Ve,Je,ae,he,oe,q,$e,L,a]),be=u.useCallback(()=>ve(this,null,function*(){if(!(we.current||gt||We||!re)){we.current=!0,ot(!0);try{const Ke={accountType:L=="people"?"individual":"company",q:d||void 0,country:f||void 0,city:g||void 0,categoryId:p||void 0,subcategoryId:y||void 0,goalId:b||void 0,role:j||void 0,identityIds:Array.from(nt.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(nt.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(nt.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(nt.subsubCategoryIds).join(",")||void 0,industryIds:$e.length>0?$e.join(","):void 0,connectionStatus:r=="My Connections"&&i?"outgoing_pending,incoming_pending":r=="My Connections"&&!i?"connected":null,price:k||void 0,viewOnlyConnections:C,serviceType:_||void 0,priceType:Y||void 0,deliveryTime:K||void 0,experienceLevel:W||void 0,locationType:P||void 0,jobType:B||void 0,workMode:O||void 0,postType:Z||void 0,season:fe||void 0,budgetRange:Ne||void 0,fundingGoal:ht||void 0,amountRaised:Ve||void 0,currency:Je||void 0,deadline:ae||void 0,eventType:he||void 0,date:oe||void 0,registrationType:q||void 0,limit:10,offset:pe.current},{data:mt}=yield Le.get("/people",{params:Ke}),tt=Array.isArray(mt.items)?mt.items:[];Xe(ke=>[...ke,...tt]),pe.current+=tt.length,ge(tt.length===10),qe(!1)}catch(Ke){console.error("Failed to load more:",Ke)}finally{we.current=!1,ot(!1)}}}),[r,d,f,g,p,y,b,j,i,nt,k,_,Y,C,K,W,P,B,O,Z,fe,Ne,ht,Ve,Je,ae,he,oe,q,$e,L,_e.length,gt,We,re]);u.useEffect(()=>{const Ke={activeTab:r,debouncedQ:d,country:f,city:g,categoryId:p,subcategoryId:y,goalId:b,role:j,showPendingRequests:i,audienceSelections:{identityIds:Array.from(nt.identityIds),categoryIds:Array.from(nt.categoryIds),subcategoryIds:Array.from(nt.subcategoryIds),subsubCategoryIds:Array.from(nt.subsubCategoryIds)},price:k,serviceType:_,priceType:Y,viewOnlyConnections:C,deliveryTime:K,experienceLevel:W,locationType:P,jobType:B,workMode:O,postType:Z,season:fe,budgetRange:Ne,fundingGoal:ht,amountRaised:Ve,currency:Je,deadline:ae,eventType:he,date:oe,registrationType:q,selectedIndustries:$e};if(JSON.stringify(Ke)!==JSON.stringify(He.current))return He.current=Ke,Re.current?(clearTimeout(et.current),wt(!0),et.current=setTimeout(()=>{pt()},100)):(Re.current=!0,pt()),()=>{clearTimeout(et.current),it.current&&clearTimeout(it.current)}},[r,d,f,g,p,y,b,j,i,nt,k,_,Y,C,K,W,P,B,O,Z,fe,Ne,ht,Ve,Je,ae,he,oe,q,$e,pt]),u.useEffect(()=>{if(!Ce.current||!re)return;const Ke=Ce.current,mt=new IntersectionObserver(tt=>{const[ke]=tt;ke.isIntersecting&&be()},{root:null,rootMargin:"3000px",threshold:0});return mt.observe(Ke),()=>mt.disconnect()},[Ce,re,be]),u.useEffect(()=>{if(H.length>0&&de.length>0){const Ke=H.map(mt=>je(mt)).filter(mt=>mt!==null);Ue(mt=>me(ne({},mt),{identityIds:new Set(Ke)}))}else Ue(Ke=>me(ne({},Ke),{identityIds:new Set}))},[H,de,je]);const De={setShowTotalCount:dt,query:l,setQuery:c,country:f,setCountry:h,city:g,setCity:m,categoryId:p,setCategoryId:x,subcategoryId:y,setSubcategoryId:w,goalId:b,setGoalId:v,goals:S,role:j,setRole:N,price:k,setPrice:M,serviceType:_,setServiceType:J,priceType:Y,setPriceType:te,viewOnlyConnections:C,setViewOnlyConnections:T,deliveryTime:K,setDeliveryTime:X,experienceLevel:W,setExperienceLevel:F,locationType:P,setLocationType:A,jobType:B,setJobType:z,workMode:O,setWorkMode:U,postType:Z,setPostType:se,season:fe,setSeason:le,budgetRange:Ne,setBudgetRange:Te,fundingGoal:ht,setFundingGoal:Fe,amountRaised:Ve,setAmountRaised:ut,currency:Je,setCurrency:G,deadline:ae,setDeadline:Me,eventType:he,setEventType:ye,date:oe,setDate:ie,registrationType:q,setRegistrationType:Se,audienceTree:de,audienceSelections:nt,setAudienceSelections:Ue,selectedIndustries:$e,setSelectedIndustries:rt,categories:xt,countries:Ee,onApply:()=>Q(!1)},st=()=>{const Ke=gt||!yt&&_e.length===0;return ze?n.jsx(ml,{onRetry:()=>{qe(!1),it.current&&clearTimeout(it.current),it.current=null,pt()},message:"Failed to load feed. Trying to connect...",buttonText:"Try Again"}):n.jsxs(n.Fragment,{children:[Ke&&n.jsx("div",{className:"min-h-[160px] grid text-gray-600",children:L=="companies"?n.jsx(yEe,{}):n.jsx(Pd,{})}),!Ke&&Ze?n.jsxs("div",{className:"text-sm text-gray-600",children:[vt," result",vt===1?"":"s"]}):null,!Ke&&yt&&_e.length===0&&n.jsx($d,{activeTab:"All"}),n.jsx("div",{className:`grid grid-cols-1 mt-3 ${L!="people"?"sm:grid-cols-1":"lg:grid-cols-2 xl:grid-cols-3"} gap-6`,children:!Ke&&_e.map(mt=>n.jsx(vEe,me(ne({type:L=="people"?"grid":"list",tyle:"list"},mt),{matchPercentage:mt.matchPercentage}),mt.id||mt.userId||mt.profileId||Math.random()))}),!Ke&&re&&n.jsx("div",{ref:Ce,className:"h-10 w-full",children:We&&n.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Loading more…"})})]})};return n.jsxs(ti,{children:[n.jsx(an,{}),n.jsxs("main",{className:`mx-auto ${a._openPopUps.profile?"relative z-50":""} max-w-7xl px-4 sm:px-6 lg:px-8 py-6 grid lg:grid-cols-12 gap-6`,children:[n.jsx(Md,{query:l,setQuery:c,placeholder:L!="people"?"Search for companies":"Search for people...",onFilterClick:()=>Q(!0)}),n.jsx("aside",{className:"scrollable-container lg:col-span-3 hidden lg:flex flex-col space-y-4 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto pr-1",children:n.jsx("div",{className:"_sticky top-0 z-10 _bg-white",children:n.jsx(Xl,me(ne({},De),{selectedFilters:H,from:"people",showAudienceFilters:!0,isFromCompany:L=="companies",catComponent:n.jsx(Xa,{isFromCompany:L=="companies",from:"people",loading:gt,selected:H,setSelected:V,buttons:L=="people"?["Entrepreneurs","Business Owners / Businesses","Social Entrepreneurs","Professionals","Freelancers","Students","Government Officials","Investors","Executives"]:["Companies","NGOs/NPOs","Government / Public Sector","Educational & Research","Healthcare","International / Intergovernmental","Hybrid / Special"]})}))})}),n.jsxs("div",{className:"lg:col-span-9 grid lg:grid-cols-4 gap-6",children:[n.jsxs("section",{className:"lg:col-span-4 space-y-4 mt-4 w-full overflow-hidden",children:[n.jsx("div",{className:"flex items-center justify-end gap-x-2 flex-wrap "}),r==="My Connections"&&n.jsx("div",{className:"mb-3",children:n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white shadow-sm p-3 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-800",children:"Connection Requests"}),n.jsx("p",{className:"text-xs text-gray-500",children:"View pending requests you sent or received"})]}),n.jsx("button",{onClick:()=>o(!i),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors shadow-sm border ${i?"bg-purple-600 text-white border-purple-600 hover:bg-purple-700":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:i?"Showing Pending":"Show Pending"})]})}),st()]}),n.jsx("aside",{className:"lg:col-span-2 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto hidden",children:Ot?n.jsx("div",{className:"rounded-2xl bg-white border border-gray-100 shadow-sm p-4 text-sm text-gray-600",children:"Loading suggestions…"}):n.jsx(Od,{matches:Ae,nearby:Ye})})]})]}),n.jsx(Id,me(ne({isOpen:D,onClose:()=>Q(!1)},De),{selectedFilters:H,from:"people",isFromCompany:L=="companies",showAudienceFilters:!0,catComponent:n.jsx(Xa,{from:"people",isFromCompany:L=="companies",loading:gt,selected:H,setSelected:V,buttons:L=="people"?["Entrepreneurs","Business Owners / Businesses","Social Entrepreneurs","Professionals","Freelancers","Students","Government Officials","Investors","Executives"]:["Companies","NGOs/NPOs","Government / Public Sector","Educational & Research","Healthcare","International / Intergovernmental","Hybrid / Special"]})}))]})}function wEe(){return n.jsx(mq,{})}const us={primary:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-600/30",outline:"rounded-lg px-3 py-1.5 text-sm font-semibold border border-gray-200 bg-white text-gray-700 hover:bg-gray-50",danger:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white bg-red-600 hover:bg-red-700",icon:"rounded-lg p-1.5 text-sm font-semibold border border-gray-200 bg-white text-gray-700 hover:bg-gray-50"};function sN(t){var c,d;const r=typeof t=="string"?new Date(t).getTime():(d=(c=t==null?void 0:t.getTime)==null?void 0:c.call(t))!=null?d:Date.now(),s=Math.max(0,Date.now()-r),a=Math.floor(s/1e3);if(a<5)return"Just now";if(a<60)return`${a}s ago`;const i=Math.floor(a/60);if(i<60)return`${i} min${i>1?"s":""} ago`;const o=Math.floor(i/60);if(o<24)return`${o} hour${o>1?"s":""} ago`;const l=Math.floor(o/24);return`${l} day${l>1?"s":""} ago`}const jEe=t=>{const{type:r,payload:s,user:a}=t;switch(r){case"connection.request":return(s==null?void 0:s.fromId)||(s==null?void 0:s.fromUserId)||(s==null?void 0:s.byUserId);case"connection.accepted":case"connection.rejected":case"connection.removed":return(s==null?void 0:s.fromId)||(s==null?void 0:s.fromUserId)||(s==null?void 0:s.byUserId);case"meeting_request":return(s==null?void 0:s.fromId)||(s==null?void 0:s.fromUserId)||(s==null?void 0:s.byUserId);case"meeting_invitation":return(s==null?void 0:s.fromId)||(s==null?void 0:s.fromUserId)||(s==null?void 0:s.byUserId);case"meeting_response":return(s==null?void 0:s.fromId)||(s==null?void 0:s.fromUserId)||(s==null?void 0:s.byUserId);case"meeting_participant_response":return s==null?void 0:s.participantId;case"meeting_cancelled":return(a==null?void 0:a.id)||(s==null?void 0:s.fromId)||(s==null?void 0:s.fromUserId);case"message.new":return s==null?void 0:s.senderId;case"comment.new":return s==null?void 0:s.commenterId;case"job.application.received":return s==null?void 0:s.applicantId;case"job.application.accepted":case"job.application.rejected":case"job.application.reviewed":return s==null?void 0:s.employerId;case"event.registration.received":return s==null?void 0:s.registrantId;case"event.registration.confirmed":case"event.registration.cancelled":return s==null?void 0:s.organizerId;case"company.staff.accepted":case"company.staff.rejected":return s==null?void 0:s.staffId;case"company.staff.removed":return s==null?void 0:s.removedBy;case"company.representative.revoked":return s==null?void 0:s.revokedBy;case"company.representative.invitation":return s==null?void 0:s.invitedBy;case"company.representative.authorized":return s==null?void 0:s.representativeId;case"company.staff.invitation":return s==null?void 0:s.invitedBy;case"company.staff.left":return s==null?void 0:s.staffId;case"organization.join.request":return s==null?void 0:s.userId;case"organization.join.approved":case"organization.join.rejected":return s==null?void 0:s.approvedBy;default:return(a==null?void 0:a.id)||(s==null?void 0:s.userId)}};function NEe(){var ut,Je,G,ae,Me;const{user:t}=Xt(),[r,s]=u.useState("All"),{socket:a,connected:i}=sw(),o=qt(),l=he=>{he&&o(`/profile/${he}`)},c=()=>ve(this,null,function*(){try{console.log("Manual refresh triggered"),yield Promise.all([K(),F(),X(),W()]),i&&a&&a.emit("get_header_badge_counts",he=>{he&&Y(ye=>ne(ne({},ye),he))}),ce.success("Notifications updated")}catch(he){console.error("Error during manual refresh:",he),ce.error("Failed to refresh notifications")}});u.useEffect(()=>{},[i,a,t==null?void 0:t.id]),u.useEffect(()=>{if(!i||!a||!(t!=null&&t.id))return;const he=ie=>{console.log("New notification received:",ie),j(q=>[ie.notification,...q]),S(q=>[ie.notification,...q]),i&&a&&a.emit("get_header_badge_counts",q=>{q&&Y(Se=>ne(ne({},Se),q))})},ye=ie=>{console.log("Badge counts updated:",ie),Y(q=>ne(ne({},q),ie))},oe=ie=>{console.log("Notification updated:",ie),ie.notification&&(j(q=>q.map(Se=>Se.id===ie.notification.id?ie.notification:Se)),S(q=>q.map(Se=>Se.id===ie.notification.id?ie.notification:Se)))};return a.on("new_notification",he),a.on("header_badge_counts",ye),a.on("notification_updated",oe),a.emit("subscribe_to_notifications"),a.emit("get_header_badge_counts",ie=>{ie&&Y(q=>ne(ne({},q),ie))}),()=>{a.off("new_notification",he),a.off("header_badge_counts",ye),a.off("notification_updated",oe)}},[i,a,t==null?void 0:t.id]);const[d,f]=u.useState(!1),[h,g]=u.useState([]),[m,p]=u.useState([]),[x,y]=u.useState(""),[w,b]=u.useState(!1),[v,j]=u.useState([]),[N,S]=u.useState([]),[I,E]=u.useState(""),[L,C]=u.useState(!1),[T,k]=u.useState([]),[M,_]=u.useState(""),[J,Y]=u.useState({connectionsPending:0,meetingsPending:0,messagesPending:0,jobApplicationsPending:0,eventRegistrationsPending:0,notificationsUnread:0}),te=({userId:he,className:ye=""})=>he?n.jsx("button",{onClick:()=>l(he),className:`${us.icon} ${ye} px-2.5 py-2.5`,title:"View Profile",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}):null;u.useEffect(()=>{if(!i||!a||!(t!=null&&t.id))return;const he=oe=>{j(ie=>[oe.notification,...ie]),S(ie=>[oe.notification,...ie])},ye=oe=>{Y(ie=>ne(ne({},ie),oe))};return a.on("new_notification",he),a.on("header_badge_counts",ye),a.emit("subscribe_to_notifications"),a.emit("get_header_badge_counts",oe=>{oe&&Y(ie=>ne(ne({},ie),oe))}),()=>{a.off("new_notification",he),a.off("header_badge_counts",ye)}},[i,a,t==null?void 0:t.id]),u.useEffect(()=>{i&&a&&a.emit("mark_header_badge_seen",{type:"all"})},[i,a]);const K=()=>ve(this,null,function*(){var he,ye;f(!0),y("");try{if(i&&a)a.emit("qa_fetch_connection_requests",oe=>{oe!=null&&oe.ok?(g(oe.data.incoming||[]),p(oe.data.outgoing||[])):y((oe==null?void 0:oe.error)||"Failed to load connection requests"),f(!1)});else{const{data:oe}=yield Le.get("/connections/requests");g(oe.incoming||[]),p(oe.outgoing||[]),f(!1)}}catch(oe){y(((ye=(he=oe==null?void 0:oe.response)==null?void 0:he.data)==null?void 0:ye.message)||"Failed to load connection requests"),f(!1)}}),X=()=>ve(this,null,function*(){var he,ye;b(!0),E("");try{if(i&&a){let oe=r.toLowerCase();a.emit("qa_fetch_notifications",{type:r==="All"?"all":oe=="meetings"?"meeting":oe=="connections"?"connection":oe=="messages"?"message":oe=="jobs"?"job":oe=="events"?"event":oe=="posts"?"new_post":oe=="invitations"?"invitation":oe=="system"?"system":r.toLowerCase()},ie=>{var q;console.log(`Loading notifications for filter: ${r}, type: ${oe=="jobs"?"job":r.toLowerCase()}, response:`,ie),ie!=null&&ie.ok?(j(ie.data.notifications||[]),console.log(`Loaded ${((q=ie.data.notifications)==null?void 0:q.length)||0} notifications`)):E((ie==null?void 0:ie.error)||"Failed to load notifications"),b(!1)})}else{const{data:oe}=yield Le.get("/notifications");j(oe||[]),b(!1)}}catch(oe){E(((ye=(he=oe==null?void 0:oe.response)==null?void 0:he.data)==null?void 0:ye.message)||"Failed to load notifications"),b(!1)}}),W=()=>ve(this,null,function*(){if(i&&a)a.emit("qa_fetch_notifications",{type:"all"},he=>{he!=null&&he.ok&&S(he.data.notifications||[])});else try{const{data:he}=yield Le.get("/notifications");S(he||[])}catch(he){console.error("Failed to load notifications for badges:",he)}}),F=()=>ve(this,null,function*(){var he,ye;C(!0),_("");try{{const{data:oe}=yield Le.get("/meeting-requests");k([...oe.received||[],...oe.sent||[]]),C(!1)}}catch(oe){_(((ye=(he=oe==null?void 0:oe.response)==null?void 0:he.data)==null?void 0:ye.message)||"Failed to load meeting requests"),C(!1)}});u.useEffect(()=>{K(),F(),X()},[r,i,a]),u.useEffect(()=>{i&&a&&W()},[i,a]);const P=(he,ye)=>ve(this,null,function*(){var oe,ie;try{ce.dismiss();const q=ce.loading(`${ye==="accept"?"Accepting":"Declining"} connection request...`),Se=v.find($e=>{var rt;return $e.type==="connection.request"&&((rt=$e.payload)==null?void 0:rt.item_id)===he});yield Le.post(`/connections/requests/${he}/respond`,{action:ye}),ce.success(`Connection request ${ye==="accept"?"accepted":"declined"} successfully`,{id:q}),Se&&z(Se.id),K()}catch(q){ce.dismiss(),ce.error(((ie=(oe=q==null?void 0:q.response)==null?void 0:oe.data)==null?void 0:ie.message)||"Failed to update connection request")}}),A=(he,ye,oe="")=>ve(this,null,function*(){var ie,q;try{ce.dismiss();const Se=ce.loading(`${ye==="accept"?"Accepting":"Declining"} meeting request...`),$e=v.find(rt=>{var nt;return rt.type==="meeting_request"&&((nt=rt.payload)==null?void 0:nt.item_id)===he});i&&a?yield Le.post(`/meeting-requests/${he}/respond`,{action:ye,rejectionReason:oe}):yield Le.post(`/meeting-requests/${he}/respond`,{action:ye,rejectionReason:oe}),$e&&(yield z($e.id)),ce.dismiss(),ce.success(`Meeting request ${ye==="accept"?"accepted":"declined"} successfully`,{id:Se}),yield Promise.all([F(),X()])}catch(Se){ce.dismiss(),ce.error(((q=(ie=Se==null?void 0:Se.response)==null?void 0:ie.data)==null?void 0:q.message)||"Failed to update meeting request")}}),B=(he,ye,oe="")=>ve(this,null,function*(){var ie,q;try{ce.dismiss();const Se=ce.loading(`${ye==="accept"?"Accepting":ye==="reject"?"Declining":"Setting as tentative"} meeting invitation...`),$e=v.find(rt=>{var nt;return rt.type==="meeting_invitation"&&((nt=rt.payload)==null?void 0:nt.item_id)===he});i&&a?yield Le.post(`/meeting-requests/${he}/respond-invitation`,{action:ye,rejectionReason:oe}):yield Le.post(`/meeting-requests/${he}/respond-invitation`,{action:ye,rejectionReason:oe}),$e&&(yield z($e.id)),ce.dismiss(),ce.success(`Meeting invitation ${ye==="accept"?"accepted":ye==="reject"?"declined":"set as tentative"} successfully`,{id:Se}),yield Promise.all([F(),X()])}catch(Se){ce.dismiss(),ce.error(((q=(ie=Se==null?void 0:Se.response)==null?void 0:ie.data)==null?void 0:q.message)||"Failed to update meeting invitation")}}),z=he=>ve(this,null,function*(){try{if(i&&a)a.emit("qa_mark_notification_read",{notificationId:he},ye=>{ye!=null&&ye.ok&&(j(oe=>oe.map(ie=>ie.id===he?me(ne({},ie),{readAt:new Date}):ie)),S(oe=>oe.map(ie=>ie.id===he?me(ne({},ie),{readAt:new Date}):ie)))});else{let ye=yield Le.post(`/notifications/${he}/read`);console.log(ye),j(oe=>oe.map(ie=>ie.id===he?me(ne({},ie),{readAt:new Date}):ie)),S(oe=>oe.map(ie=>ie.id===he?me(ne({},ie),{readAt:new Date}):ie))}}catch(ye){console.error("Error marking notification as read:",ye)}}),O=()=>ve(this,null,function*(){var he,ye;try{const oe=ce.loading("Marking all notifications as read...");i&&a?a.emit("qa_mark_all_notifications_read",ie=>{ie!=null&&ie.ok?(ce.success("All notifications marked as read",{id:oe}),j(q=>q.map(Se=>me(ne({},Se),{readAt:new Date}))),S(q=>q.map(Se=>me(ne({},Se),{readAt:new Date}))),Y(q=>me(ne({},q),{notificationsUnread:0,connectionsPending:0,meetingsPending:0,messagesPending:0,jobApplicationsPending:0,eventRegistrationsPending:0}))):ce.error((ie==null?void 0:ie.error)||"Failed to mark notifications as read",{id:oe})}):(yield Le.post("/notifications/mark-all-read"),ce.success("All notifications marked as read",{id:oe}),j(ie=>ie.map(q=>me(ne({},q),{readAt:new Date}))),S(ie=>ie.map(q=>me(ne({},q),{readAt:new Date}))),Y(ie=>me(ne({},ie),{notificationsUnread:0,connectionsPending:0,meetingsPending:0,messagesPending:0,jobApplicationsPending:0,eventRegistrationsPending:0})))}catch(oe){ce.dismiss(),ce.error(((ye=(he=oe==null?void 0:oe.response)==null?void 0:he.data)==null?void 0:ye.message)||"Failed to mark notifications as read")}}),U=he=>ve(this,null,function*(){var ye,oe;try{i&&a?a.emit("qa_delete_notification",{notificationId:he},ie=>{ie!=null&&ie.ok&&(j(q=>q.filter(Se=>Se.id!==he)),S(q=>q.filter(Se=>Se.id!==he)),ce.success("Notification deleted"))}):(yield Le.delete(`/notifications/${he}`),j(ie=>ie.filter(q=>q.id!==he)),S(ie=>ie.filter(q=>q.id!==he)),ce.success("Notification deleted"))}catch(ie){ce.dismiss(),ce.error(((oe=(ye=ie==null?void 0:ie.response)==null?void 0:ye.data)==null?void 0:oe.message)||"Failed to delete notification")}}),Z=(ut=J.connectionsPending)!=null?ut:h.length,se=(Je=J.meetingsPending)!=null?Je:T.filter(he=>{var ye;return he.status==="pending"&&((ye=he.requester)==null?void 0:ye.id)!==(t==null?void 0:t.id)}).length,fe=(G=J.messagesPending)!=null?G:N.filter(he=>!he.readAt&&he.type==="message.new").length,le=(ae=J.jobApplicationsPending)!=null?ae:N.filter(he=>!he.readAt&&he.type.startsWith("job.application.")).length,Ne=(Me=J.eventRegistrationsPending)!=null?Me:N.filter(he=>!he.readAt&&he.type.startsWith("event.registration.")).length,Te=N.filter(he=>!he.readAt&&(he.type.startsWith("company.")||he.type.startsWith("organization."))).length,ht=N.filter(he=>!he.readAt&&(he.type==="system"||he.type==="custom_notification")).length,Fe=u.useMemo(()=>{const he=[...h.map(q=>({key:`conn-in-${q.id}`,id:q.id,type:"connection",tab:"Connections",hasApproval:!0,title:"New Connection Request",desc:`${q.fromName||"Someone"} wants to connect with you.${q.reason?` Reason: ${q.reason}.`:""}${q.message?` Message: "${q.message}"`:""}`,time:sN(q.createdAt),userId:q.fromId,actions:n.jsxs("div",{className:"mt-2 flex gap-2 text-sm",children:[n.jsx("button",{onClick:()=>P(q.id,"accept"),className:us.primary,children:"Accept"}),n.jsx("button",{onClick:()=>P(q.id,"reject"),className:us.outline,children:"Decline"})]})}))],ye=T.filter(q=>{var Se;return q.status==="pending"&&((Se=q.requester)==null?void 0:Se.id)!==(t==null?void 0:t.id)}).map(q=>{var Se,$e;return{key:`meeting-${q.id}`,type:"meeting",id:q.id,title:"New Meeting Request",tab:"Meetings",hasApproval:!0,desc:`${((Se=q.requester)==null?void 0:Se.name)||"Someone"} wants to schedule a meeting: "${q.title}"`,time:sN(q.createdAt),meta:`📅 ${new Date(q.scheduledAt).toLocaleString("en-US",{dateStyle:"short",timeStyle:"short"})} ${q.time?"-":""} ${q.time||""} (${q.timezone}) • ${q.duration} min • ${q.mode} ${q.link||q.location?"•":""} ${q.link||q.location||""}`,userId:($e=q.requester)==null?void 0:$e.id,actions:n.jsxs("div",{className:"mt-2 flex gap-2 text-sm",children:[n.jsx("button",{onClick:()=>A(q.id,"accept"),className:us.primary,children:"Accept"}),n.jsx("button",{onClick:()=>A(q.id,"reject"),className:us.outline,children:"Decline"})]})}}),oe=v.map(q=>{var ue,_e,Xe,gt,wt,vt,ct,Ze,dt,yt,Ie,ze,qe,it,Ae,Ge,Ye,Et,Ot,ft,D,Q,H,V,re,ge,We,ot,Ce,pe,je,we,Re,He,et,pt,be,De,st,Ke,mt,tt,ke,lt,St,Mt,Ht,mr,Rt,er,tr,Nt,Kt,jr,dr,en,qr,ur,pa,xa,Yr,Ns,cs,Pa,Zn,Vo,Be,Tt,Ft,rr,cr,Nr,va,ug;let Se="",$e="",rt="";switch(q.type){case"connection.request":Se="New Connection Request",$e=`${((ue=q.payload)==null?void 0:ue.fromName)||"Someone"} wants to connect with you`,(_e=q.payload)!=null&&_e.reason&&($e+=`. Reason: ${q.payload.reason}`);break;case"connection.accepted":Se="Connection Accepted",$e=`${((Xe=q.payload)==null?void 0:Xe.fromName)||"Someone"} accepted your connection request`;break;case"connection.rejected":Se="Connection Declined",$e=`${((gt=q.payload)==null?void 0:gt.fromName)||"Someone"} declined your connection request`;break;case"connection.removed":Se="Connection Removed",$e=`${((wt=q.payload)==null?void 0:wt.fromName)||"Someone"} removed the connection`,(vt=q.payload)!=null&&vt.note&&($e+=`. Note: ${q.payload.note}`);break;case"meeting_request":Se="New Meeting Request",$e=`${((ct=q.payload)==null?void 0:ct.fromName)||"Someone"} requested a meeting ${(Ze=q.payload)!=null&&Ze.title?`:${(dt=q.payload)==null?void 0:dt.title}`:""}`,rt=`📅 ${new Date(q.payload.scheduledAt).toLocaleString("en-US",{dateStyle:"short",timeStyle:"short"})} ${q.payload.time?"-":""} ${q.payload.time||""} (${q.payload.timezone}) • ${q.payload.duration} min • ${q.payload.mode} ${q.payload.link||q.payload.location?"•":""} ${q.payload.link||q.payload.location||""}`,(yt=q.payload)!=null&&yt.agenda&&($e+=`. Agenda: ${q.payload.agenda}`);break;case"meeting_invitation":Se="Meeting Invitation",$e=`${((Ie=q.payload)==null?void 0:Ie.fromName)||"Someone"} has invited you to a meeting ${(ze=q.payload)!=null&&ze.title?`:${(qe=q.payload)==null?void 0:qe.title}`:""}`,rt=`📅 ${new Date(q.payload.scheduledAt).toLocaleString("en-US",{dateStyle:"short",timeStyle:"short"})} ${q.payload.time?"-":""} ${q.payload.time||""} (${q.payload.timezone}) • ${q.payload.duration} min • ${q.payload.mode} ${q.payload.link||q.payload.location?"•":""} ${q.payload.link||q.payload.location||""}`,(it=q.payload)!=null&&it.agenda&&($e+=`. Agenda: ${q.payload.agenda}`);break;case"meeting_response":Se=((Ae=q.payload)==null?void 0:Ae.action)=="accept"?"Meeting Accepted":"Meeting Declined",$e=`${((Ge=q.payload)==null?void 0:Ge.fromName)||"Someone"} ${((Ye=q.payload)==null?void 0:Ye.action)=="accept"?"accepted":"declined"} your meeting request${(Et=q.payload)!=null&&Et.title?`: ${(Ot=q.payload)==null?void 0:Ot.title}`:""}`,rt=`📅 ${new Date(q.payload.scheduledAt).toLocaleString("en-US",{dateStyle:"short",timeStyle:"short"})} ${q.payload.time?"-":""} ${q.payload.time||""} (${q.payload.timezone}) • ${q.payload.duration} min • ${q.payload.mode} ${q.payload.link||q.payload.location?"•":""} ${q.payload.link||q.payload.location||""}`,(ft=q.payload)!=null&&ft.rejectionReason&&($e+=`. Reason: ${q.payload.rejectionReason}`);break;case"meeting_participant_response":Se=((D=q.payload)==null?void 0:D.action)==="accept"?"Meeting Invitation Accepted":((Q=q.payload)==null?void 0:Q.action)==="reject"?"Meeting Invitation Declined":"Meeting Invitation Response",$e=`${((H=q.payload)==null?void 0:H.participantName)||"Someone"} ${(V=q.payload)==null?void 0:V.action}ed your meeting invitation${(re=q.payload)!=null&&re.title?`: ${(ge=q.payload)==null?void 0:ge.title}`:""}`,rt=`📅 ${new Date(q.payload.scheduledAt).toLocaleString("en-US",{dateStyle:"short",timeStyle:"short"})} (${q.payload.timezone}) • ${q.payload.duration} min • ${q.payload.mode} ${q.payload.link||q.payload.location?"•":""} ${q.payload.link||q.payload.location||""}`,(We=q.payload)!=null&&We.rejectionReason&&($e+=`. Reason: ${q.payload.rejectionReason}`);break;case"meeting_cancelled":Se="Meeting Cancelled",$e=`${((ot=q.user)==null?void 0:ot.name)||"Someone"} cancelled the meeting: "${((Ce=q.payload)==null?void 0:Ce.title)||"Untitled"}"`;break;case"message.new":Se="New Message",$e=`${((pe=q.payload)==null?void 0:pe.senderName)||"Someone"} sent you a message`,(je=q.payload)!=null&&je.content&&($e+=`: "${q.payload.content.length>50?q.payload.content.substring(0,50)+"...":q.payload.content}"`);break;case"job.application.received":Se="New Job Application",$e=`${((we=q.payload)==null?void 0:we.applicantName)||"Someone"} applied for your job: "${((Re=q.payload)==null?void 0:Re.jobTitle)||"Untitled"}"`;break;case"job.application.accepted":Se="Job Application Accepted",$e=`Your application for "${((He=q.payload)==null?void 0:He.jobTitle)||"the job"}" was accepted`;break;case"job.application.rejected":Se="Job Application Rejected",$e=`Your application for "${((et=q.payload)==null?void 0:et.jobTitle)||"the job"}" was rejected`;break;case"job.application.reviewed":Se="Job Application Reviewed",$e=`Your application for "${((pt=q.payload)==null?void 0:pt.jobTitle)||"the job"}" has been reviewed`;break;case"event.registration.received":Se="New Event Registration",$e=`${((be=q.payload)==null?void 0:be.registrantName)||"Someone"} registered for your event: "${((De=q.payload)==null?void 0:De.eventTitle)||"Untitled"}"`;break;case"event.registration.confirmed":Se="Event Registration Confirmed",$e=`Your registration for "${((st=q.payload)==null?void 0:st.eventTitle)||"the event"}" has been confirmed`;break;case"event.registration.cancelled":Se="Event Registration Cancelled",$e=`Your registration for "${((Ke=q.payload)==null?void 0:Ke.eventTitle)||"the event"}" has been cancelled`;break;case"company.staff.accepted":Se="Staff Invitation Accepted",$e=`${((mt=q.payload)==null?void 0:mt.staffName)||"Someone"} accepted your staff invitation for the role of ${((tt=q.payload)==null?void 0:tt.role)||"staff"}`;break;case"company.staff.rejected":Se="Staff Invitation Declined",$e=`${((ke=q.payload)==null?void 0:ke.staffName)||"Someone"} declined your staff invitation for the role of ${((lt=q.payload)==null?void 0:lt.role)||"staff"}`;break;case"company.staff.removed":Se="Removed from Company Staff",$e=`You have been removed from the staff of ${((St=q.payload)==null?void 0:St.companyName)||"the company"}`;break;case"company.representative.revoked":Se="Representative Authorization Revoked",$e=`Your representative authorization for ${((Mt=q.payload)==null?void 0:Mt.companyName)||"the company"} has been revoked`;break;case"company.representative.invitation":Se="Company Representative Invitation",$e=`${((Ht=q.payload)==null?void 0:Ht.companyName)||"A company"} has invited you to be their representative`;break;case"company.representative.authorized":Se="Representative Authorization Confirmed",$e=`${((mr=q.payload)==null?void 0:mr.representativeName)||"Someone"} has authorized as your company representative`;break;case"company.staff.invitation":Se="Company Staff Invitation",$e=`${((Rt=q.payload)==null?void 0:Rt.companyName)||"A company"} has invited you to join their staff as ${((er=q.payload)==null?void 0:er.role)||"a staff member"}`;break;case"company.staff.left":Se="Staff Member Left",$e=`${((tr=q.payload)==null?void 0:tr.staffName)||"Someone"} has left your organization`;break;case"organization.join.request":Se="New Organization Join Request",$e=`${((Nt=q.payload)==null?void 0:Nt.userName)||"Someone"} wants to join your organization`,(Kt=q.payload)!=null&&Kt.message&&($e+=`. Message: "${q.payload.message}"`);break;case"organization.join.approved":Se="Organization Join Request Approved",$e=`Your join request for ${((jr=q.payload)==null?void 0:jr.organizationName)||"the organization"} has been approved`;break;case"organization.join.rejected":Se="Organization Join Request Rejected",$e=`Your join request for ${((dr=q.payload)==null?void 0:dr.organizationName)||"the organization"} has been rejected`;break;case"new_post":Se=`New ${((en=q.payload)==null?void 0:en.postType)||"post"} posted`,$e=`${((qr=q.payload)==null?void 0:qr.createdByName)||"Someone"} posted a new ${((ur=q.payload)==null?void 0:ur.postType)||""} post: "${((pa=q.payload)==null?void 0:pa.title)||"Untitled"}"`,(xa=q.payload)!=null&&xa.matchPercentage&&($e+=` (${q.payload.matchPercentage}% match)`);break;case"comment.new":Se="New Comment: "+((Yr=q.payload)==null?void 0:Yr.commentText),$e=`${((Ns=q.payload)==null?void 0:Ns.commenterName)||"Someone"} commented on your ${((cs=q.payload)==null?void 0:cs.postType)||""} post: "${((Pa=q.payload)==null?void 0:Pa.postTitle)||((Zn=q.payload)==null?void 0:Zn.commentDescription)||"Untitled"}"`;break;case"custom_notification":Se=((Vo=q.payload)==null?void 0:Vo.subject)||"Custom Notification",$e=((Be=q.payload)==null?void 0:Be.message)||"You have a custom notification";break;default:Se=q.title||"Notification",$e=q.message||"You have a new notification";break}let nt="system";q.type.startsWith("connection.")?nt="connection":q.type.startsWith("meeting_")?nt="meeting":q.type==="message.new"?nt="message":q.type.startsWith("job.application.")?nt="job":q.type.startsWith("event.registration.")?nt="event":q.type.startsWith("company.")||q.type.startsWith("organization.")?nt="invitation":q.type==="new_post"||q.type==="comment.new"?nt="posts":(q.type==="custom_notification"||q.type==="system")&&(nt="system");const Ue=q.type==="connection.request"||q.type==="meeting_request"||q.type==="meeting_invitation",xt=Ss=>{window.location.href=`/profile?jobApplication=${Ss}`},Oe=Ss=>{window.location.href=`/profile?eventRegistration=${Ss}`},Ee=Ss=>{Ss&&(window.location.href=Ss)},ee=nt==="system",de=ee?null:jEe(q);return{key:`notif-${q.id}`,id:q.id,type:nt,title:Se,payload:q.payload,meta:rt,tab:nt=="connection"?"Connections":nt=="meeting"?"Meetings":nt=="message"?"Messages":nt=="job"?"Jobs":nt=="event"?"Events":nt=="invitation"?"Invitations":nt=="posts"?"Posts":"System",desc:$e,isNotification:!0,time:sN(q.createdAt),read:!!q.readAt,readAt:q.readAt,hasActions:Ue,userId:de,actions:n.jsxs("div",{className:"mt-2 flex sm:justify-between items-center text-sm gap-x-2",children:[n.jsxs("div",{className:"flex gap-2",children:[!q.readAt&&n.jsxs("button",{onClick:()=>z(q.id),className:us.outline,children:[n.jsx("span",{className:"max-md:hidden",children:"Mark Read"}),n.jsx("span",{className:"md:hidden",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#5f6368",children:n.jsx("path",{d:"M480-480Zm280-160q-50 0-85-35t-35-85q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q28 0 55.5 4t54.5 12q-11 17-18 36.5T562-788q-20-6-40.5-9t-41.5-3q-134 0-227 93t-93 227q0 134 93 227t227 93q134 0 227-93t93-227q0-21-3-41.5t-9-40.5q20-3 39.5-10t36.5-18q8 27 12 54.5t4 55.5q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm-57-216 273-273q-20-7-37.5-17.5T625-611L424-410 310-522l-56 56 169 170Z"})})})]}),n.jsxs("button",{onClick:()=>U(q.id),className:us.danger,children:[n.jsx("span",{className:"max-md:hidden",children:"Delete"}),n.jsx("span",{className:"md:hidden",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#fff",children:n.jsx("path",{d:"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"})})})]})]}),n.jsxs("div",{className:"flex gap-2",children:[!ee&&n.jsx(te,{userId:de}),q.type.startsWith("job.application.")&&((Tt=q.payload)==null?void 0:Tt.applicationId)&&n.jsx("button",{onClick:()=>xt(q.payload.applicationId),className:us.primary,children:"View"}),q.type.startsWith("event.registration.")&&((Ft=q.payload)==null?void 0:Ft.registrationId)&&n.jsx("button",{onClick:()=>Oe(q.payload.registrationId),className:us.primary,children:"View"}),q.type.startsWith("company.")&&((rr=q.payload)==null?void 0:rr.actionLink)&&n.jsx("button",{onClick:()=>Ee(q.payload.actionLink),className:us.primary,children:"View"}),q.type.startsWith("organization.")&&((cr=q.payload)==null?void 0:cr.actionLink)&&n.jsx("button",{onClick:()=>Ee(q.payload.actionLink),className:us.primary,children:"View"}),q.type==="message.new"&&((Nr=q.payload)==null?void 0:Nr.senderId)&&n.jsx("button",{onClick:()=>window.location.href=`/messages?userId=${q.payload.senderId}`,className:us.primary,children:"View"}),q.type==="meeting_invitation"&&!q.readAt&&n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>B(q.payload.item_id,"accept"),className:us.primary,children:"Accept"}),n.jsx("button",{onClick:()=>{const Ss=window.prompt("Reason for rejection (optional):");B(q.payload.item_id,"reject",Ss||"")},className:us.outline,children:"Decline"})]}),q.type==="new_post"&&((va=q.payload)==null?void 0:va.link)&&n.jsxs("button",{onClick:()=>window.location.href=q.payload.link,className:us.primary,children:[n.jsx("span",{className:"max-md:hidden",children:"View Post"}),n.jsx(Ru,{className:"md:hidden"})]}),q.type==="comment.new"&&((ug=q.payload)==null?void 0:ug.link)&&n.jsxs("button",{onClick:()=>window.location.href=q.payload.link,className:us.primary,children:[n.jsx("span",{className:"max-md:hidden",children:"View Post"}),n.jsx(Ru,{className:"md:hidden"})]})]})]})}});return[...he,...ye,...oe]},[h,m,T,v,t==null?void 0:t.id]),Ve=u.useMemo(()=>{if(r==="All")return Fe;const ye={Connections:"connection",Meetings:"meeting",Messages:"message",Jobs:"job",Events:"event",Invitations:"invitation",Posts:"posts",System:"system"}[r];console.log(`Filtering: ${r} -> Type: ${ye}`),console.log("All items types:",Fe.map(ie=>({type:ie.type,title:ie.title})));const oe=Fe.filter(ie=>{const q=ie.type===ye;return console.log(`Item: ${ie.title}, Type: ${ie.type}, Matches: ${q}`),q});return console.log(`Filter: ${r}, Found ${oe.length} items`),oe},[Fe,r]);return n.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900",children:[n.jsx(an,{}),n.jsxs("main",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Notifications"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Stay updated with your network activities"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:c,className:`${us.outline} flex items-center gap-2`,children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),n.jsx("span",{className:"max-md:hidden",children:" Refresh"})]}),n.jsxs("button",{onClick:O,className:us.primary,children:[n.jsx("span",{className:"max-md:hidden",children:"Mark All Read"}),n.jsx("span",{className:"md:hidden",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#fff",children:n.jsx("path",{d:"M480-480Zm280-160q-50 0-85-35t-35-85q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q28 0 55.5 4t54.5 12q-11 17-18 36.5T562-788q-20-6-40.5-9t-41.5-3q-134 0-227 93t-93 227q0 134 93 227t227 93q134 0 227-93t93-227q0-21-3-41.5t-9-40.5q20-3 39.5-10t36.5-18q8 27 12 54.5t4 55.5q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm-57-216 273-273q-20-7-37.5-17.5T625-611L424-410 310-522l-56 56 169 170Z"})})})]})]})]}),n.jsx("div",{className:"mt-6 flex items-center justify-between",children:n.jsx("div",{className:"flex gap-2 flex-wrap",children:["All","Connections","Meetings","Messages","Jobs","Events","Posts","Invitations","System"].map(he=>{const ye=r===he;let oe=0;return he==="Connections"?oe=Z:he==="Meetings"?oe=se:he==="Messages"?oe=fe:he==="Jobs"?oe=le:he==="Events"?oe=Ne:he==="Posts"?oe=N.filter(ie=>!ie.readAt&&(ie.type==="new_post"||ie.type==="comment.new")).length:he==="Invitations"?oe=Te:he==="System"?oe=ht:he==="All"&&(oe=Z+se+fe+le+Ne+Te+ht+N.filter(ie=>!ie.readAt&&(ie.type==="new_post"||ie.type==="comment.new")).length),n.jsxs("button",{onClick:()=>s(he),className:`relative px-4 py-1.5 rounded-full text-sm font-medium ${ye?"bg-brand-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[n.jsx("span",{children:he}),oe>0&&n.jsx("span",{className:`ml-2 inline-grid place-items-center rounded-full text-[10px] font-semibold px-1.5 h-4 min-w-4 ${ye?"bg-white text-brand-600":"bg-red-500 text-white"}`,children:oe>9?"9+":oe})]},he)})})}),n.jsx("div",{className:"mt-6 space-y-6",children:d||L||w?n.jsx("div",{className:"rounded-2xl bg-white border border-gray-100 shadow-sm p-6 text-center",children:n.jsx("div",{className:"animate-pulse",children:r==="Connections"?"Loading connection requests...":`Loading ${r.toLowerCase()} notifications...`})}):n.jsx(n.Fragment,{children:n.jsx("div",{className:"space-y-4",children:Ve.length===0?n.jsx("div",{className:"rounded-2xl bg-white border border-gray-100 shadow-sm p-6 text-center text-gray-500",children:r==="All"?"No notifications yet":r==="Connections"?"No connection requests yet":r==="Meetings"?"No meeting requests yet":`No ${r.toLowerCase()} notifications yet`}):Ve.filter(he=>!he.hasApproval).map(he=>{var Se,$e,rt;const ye=(Se=Ve.filter(nt=>{var Ue;return nt.id==((Ue=he==null?void 0:he.payload)==null?void 0:Ue.item_id)&&nt.hasApproval}))==null?void 0:Se[0];let oe=ye==null?void 0:ye.actions,ie=ye==null?void 0:ye.desc,q=ye==null?void 0:ye.meta;return he.meta=q||he.meta,console.log({item:he}),n.jsxs("div",{className:`rounded-2xl  ${he!=null&&he.hasApproval?"bg-gray-100":"bg-white"} border shadow-sm p-4 md:flex justify-between ${he.readAt&&!ye?"border-gray-100 opacity-75":"border-brand-200 bg-brand-50"}`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold",children:he.title}),!he.readAt&&!he.hasApproval&&n.jsx("span",{className:"inline-block w-2 h-2 bg-red-500 rounded-full"})]}),n.jsx("p",{className:`text-sm text-gray-600 mt-1 ${he.item=="system"?"line-clamp-3":($e=he==null?void 0:he.payload)!=null&&$e.commentText?"line-clamp-2":""}`,children:he.type==="system"&&((rt=he.payload)!=null&&rt.message)?n.jsx("span",{dangerouslySetInnerHTML:{__html:he.payload.message}}):ie||he.desc}),he.meta&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:he.meta}),n.jsxs("div",{className:"flex md:items-center max-sm:flex-col justify-between gap-x-5 gap-y-1",children:[n.jsx("div",{className:"flex-1",children:he.actions}),oe]})]}),n.jsx("div",{className:"text-xs text-gray-400 whitespace-nowrap md:ml-4 max-md:mt-2",children:he.time})]},he.key)})})})})]})]})}function SEe(t,r){const s=Date.now(),a=new Date(t).getTime(),i=a-10*60*1e3,o=a+(Number(r)||30)*60*1e3;return s>=i&&s<=o}function Dv(t,r){const s=Date.now(),a=new Date(t).getTime(),i=a+(Number(r)||30)*60*1e3;return s<a?"upcoming":s>i?"ended":"ongoing"}function CEe(){const t=qt(),[r,s]=u.useState(!1),[a,i]=u.useState([]),[o,l]=u.useState("");function c(){return ve(this,null,function*(){var m,p;s(!0),l("");try{const{data:x}=yield Le.get("/meeting-requests/upcoming");i(x||[])}catch(x){l(((p=(m=x==null?void 0:x.response)==null?void 0:m.data)==null?void 0:p.message)||"Failed to load meetings")}finally{s(!1)}})}u.useEffect(()=>{c()},[]);const d=a.filter(m=>Dv(m.scheduledAt,m.duration)==="upcoming"),f=a.filter(m=>Dv(m.scheduledAt,m.duration)==="ongoing"),h=a.filter(m=>Dv(m.scheduledAt,m.duration)==="ended");function g(m){var w;const p=Dv(m.scheduledAt,m.duration),x=m.mode==="video"&&SEe(m.scheduledAt,m.duration),y=((w=m.requester)==null?void 0:w.id)===m.fromUserId?m.recipient:m.requester;return n.jsx("div",{className:"rounded-2xl bg-white border border-gray-100 shadow-sm p-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h3",{className:"font-semibold text-lg",children:m.title}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${p==="upcoming"?"bg-blue-50 text-blue-700":p==="ongoing"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:p==="upcoming"?"Upcoming":p==="ongoing"?"Ongoing":"Ended"})]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Meeting with ",n.jsx("span",{className:"font-medium",children:(y==null?void 0:y.name)||"User"})]}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(To,{size:16,className:"text-brand-600"}),n.jsxs("span",{children:[new Date(m.scheduledAt).toLocaleDateString()," at"," ",new Date(m.scheduledAt).toLocaleTimeString()]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hl,{size:16,className:"text-brand-600"}),n.jsxs("span",{children:[m.duration," minutes • ",m.timezone]})]}),n.jsx("div",{className:"flex items-center gap-2",children:m.mode==="video"?n.jsxs(n.Fragment,{children:[n.jsx(Zi,{size:16,className:"text-brand-600"}),n.jsx("span",{children:"Video call"})]}):n.jsxs(n.Fragment,{children:[n.jsx(gn,{size:16,className:"text-brand-600"}),n.jsx("span",{children:"In person"})]})}),m.agenda&&n.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"Agenda:"}),n.jsx("p",{className:"text-sm text-gray-600",children:m.agenda})]})]})]}),n.jsxs("div",{className:"ml-4 flex flex-col gap-2",children:[m.mode==="video"&&m.link&&n.jsxs("a",{href:m.link,target:"_blank",rel:"noreferrer",className:`inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium ${x?"bg-brand-500 text-white hover:bg-brand-600":"bg-gray-100 text-gray-500 cursor-not-allowed"}`,onClick:b=>{x||b.preventDefault()},title:x?"Join meeting":p==="upcoming"?"Join opens 10 minutes before start":"Meeting has ended",children:[n.jsx(Zi,{size:16}),x?"Join Now":"Join"]}),m.mode==="in_person"&&m.location&&n.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(m.location)}`,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium bg-brand-50 text-brand-700 hover:bg-brand-100",children:[n.jsx(Lo,{size:16}),"View Location"]})]})]})},m.id)}return n.jsxs(ti,{children:[n.jsx(an,{}),n.jsxs("main",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"My Meetings"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Manage your scheduled meetings and join calls"})]}),n.jsx("button",{onClick:c,className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Refresh"})]}),r&&n.jsx("div",{className:"rounded-2xl bg-white border border-gray-100 shadow-sm p-6 text-sm text-gray-600",children:"Loading meetings…"}),o&&n.jsx("div",{className:"rounded-2xl bg-white border border-red-200 bg-red-50 shadow-sm p-6 text-sm text-red-700",children:o}),!r&&!o&&n.jsxs("div",{className:"space-y-8",children:[f.length>0&&n.jsxs("section",{children:[n.jsx("h2",{className:"text-lg font-semibold mb-4 text-green-700",children:"🔴 Ongoing Meetings"}),n.jsx("div",{className:"space-y-4",children:f.map(g)})]}),d.length>0&&n.jsxs("section",{children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:"📅 Upcoming Meetings"}),n.jsx("div",{className:"space-y-4",children:d.map(g)})]}),h.length>0&&n.jsxs("section",{children:[n.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-600",children:"📋 Past Meetings"}),n.jsx("div",{className:"space-y-4",children:h.slice(0,10).map(g)})]}),a.length===0&&!r&&n.jsxs("div",{className:"rounded-2xl bg-white border border-gray-100 shadow-sm p-8 text-center",children:[n.jsx(To,{size:48,className:"mx-auto text-gray-400 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No meetings yet"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Start connecting with people and schedule meetings to collaborate"}),n.jsx("button",{onClick:()=>t("/people"),className:"rounded-lg px-4 py-2 text-sm font-medium text-white bg-brand-500 hover:bg-brand-600",children:"Explore People"})]})]})]})]})}const uu={primary:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30 disabled:opacity-50 disabled:cursor-not-allowed",primaryGhost:"rounded-lg px-3 py-1.5 text-sm font-semibold border border-brand-600 text-brand-600 bg-white hover:bg-brand-50",badge:"inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium",chip:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs"},Lu={chevron:()=>n.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"m6 9 6 6 6-6"})}),calendar:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M7 2v2H5a2 2 0 0 0-2 2v1h18V6a2 2 0 0 0-2-2h-2V2h-2v2H9V2H7zm14 7H3v11a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V9z"})}),mapPin:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7zm0 9.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z"})}),ticket:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M3 7a2 2 0 0 1 2-2h5v3a2 2 0 1 0 4 0V5h5a2 2 0 0 1 2 2v3h-3a2 2 0 1 0 0 4h3v3a2 2 0 0 1-2 2h-5v-3a2 2 0 1 0-4 0v3H5a2 2 0 0 1-2-2v-3h3a2 2 0 1 0 0-4H3V7z"})})};function K$(t,r){if(!t)return"";try{const s=new Date(t+"T00:00:00");return new Intl.DateTimeFormat(void 0,{dateStyle:"full",timeZone:r||"UTC"}).format(s)}catch(s){return t}}function X$(t,r){if(!t)return"";try{const s=new Date,[a,i]=t.split(":").map(Number);return s.setHours(a,i,0,0),new Intl.DateTimeFormat(void 0,{hour:"numeric",minute:"2-digit",timeZone:r||"UTC"}).format(s)}catch(s){return t}}function kEe(t=[]){const r=new Map,s=new Map,a=new Map,i=new Map;for(const o of t){r.set(String(o.id),o.name||o.title||`Identity ${o.id}`);for(const l of o.categories||[]){s.set(String(l.id),l.name||l.title||`Category ${l.id}`);for(const c of l.subcategories||[]){a.set(String(c.id),c.name||c.title||`Subcategory ${c.id}`);for(const d of c.subsubs||[])i.set(String(d.id),d.name||d.title||`Sub-sub ${d.id}`)}}}return{ids:r,cats:s,subs:a,subsubs:i}}function Pf({value:t,onChange:r,options:s,placeholder:a="Select…",disabled:i=!1,required:o=!1,ariaLabel:l}){const[c,d]=u.useState(!1),[f,h]=u.useState(""),[g,m]=u.useState(0),p=u.useRef(null),x=u.useRef(null),[y,w]=u.useState(!1),b=u.useMemo(()=>s.find(L=>String(L.value)===String(t))||null,[s,t]),v=u.useMemo(()=>{const L=f.trim().toLowerCase();return L?s.map(C=>({o:C,score:(C.label||"").toLowerCase().indexOf(L)})).filter(C=>C.score!==-1).sort((C,T)=>C.score-T.score).map(C=>C.o).slice(0,100):s.slice(0,100)},[f,s]),N=y||c||f!==""?f:(b==null?void 0:b.label)||"";u.useEffect(()=>{function L(C){p.current&&(p.current.contains(C.target)||d(!1))}return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[]),u.useEffect(()=>{c||m(0)},[c,f]);function S(L){var C;r==null||r((L==null?void 0:L.value)||""),h(""),d(!1),(C=x.current)==null||C.blur()}function I(){var L;r==null||r(""),h(""),d(!1),(L=x.current)==null||L.focus()}function E(L){if(!i){if(!c&&(L.key==="ArrowDown"||L.key==="ArrowUp")){d(!0);return}if(!c){if(L.key==="Backspace"){L.preventDefault(),h(b&&!f?(b.label||"").slice(0,-1):(f||"").slice(0,-1)),d(!0);return}return}if(L.key==="ArrowDown")L.preventDefault(),m(C=>Math.min(C+1,v.length-1));else if(L.key==="ArrowUp")L.preventDefault(),m(C=>Math.max(C-1,0));else if(L.key==="Enter"){L.preventDefault();const C=v[g];C&&S(C)}else L.key==="Escape"&&d(!1)}}return n.jsxs("div",{ref:p,className:`relative ${i?"opacity-60":""}`,children:[n.jsxs("div",{className:"grid gap-1.5",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{ref:x,type:"text",value:N,disabled:i,placeholder:a,onChange:L=>{h(L.target.value),d(!0)},onFocus:()=>{i||(w(!0),d(!0))},onBlur:()=>w(!1),onKeyDown:E,"aria-autocomplete":"list","aria-expanded":c,"aria-controls":"ss-results","aria-label":l||a,role:"combobox",autoComplete:"off",className:"w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-16 focus:outline-none focus:ring-2 focus:ring-brand-200 text-black"}),b&&!i?n.jsx("button",{type:"button",onClick:I,className:"absolute right-8 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-gray-100",title:"Clear",children:"×"}):null,n.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:n.jsx(Lu.chevron,{})})]}),o&&n.jsx("input",{tabIndex:-1,"aria-hidden":"true",className:"sr-only",required:!0,value:t||"",onChange:()=>{}})]}),c&&!i&&n.jsx("div",{id:"ss-results",role:"listbox",className:"absolute z-30 mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:v.length===0?n.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No results"}):n.jsx("ul",{className:"max-h-72 overflow-auto",children:v.map((L,C)=>{const T=C===g;return n.jsx("li",{role:"option","aria-selected":T,className:`cursor-pointer px-3 py-2 text-sm ${T?"bg-brand-50":"hover:bg-gray-50"}`,onMouseEnter:()=>m(C),onMouseDown:k=>{k.preventDefault(),S(L)},children:L.label},L.value)})})})]})}const EEe=[{value:"All countries",label:"All countries"},...An.map(t=>({value:t,label:t}))];function LEe({form:t,coverImageBase64:r,meta:s,audSel:a,audTree:i}){const o=t.timezone||"Africa/Lagos",l=u.useMemo(()=>kEe(i),[i]),c=Array.from(a.identityIds||[]).map(m=>l.ids.get(String(m))).filter(Boolean),d=Array.from(a.categoryIds||[]).map(m=>l.cats.get(String(m))).filter(Boolean),f=Array.from(a.subcategoryIds||[]).map(m=>l.subs.get(String(m))).filter(Boolean),h=Array.from(a.subsubCategoryIds||[]).map(m=>l.subsubs.get(String(m))).filter(Boolean),g=r||t.coverImageUrl||null;return n.jsxs("div",{className:"mt-6 rounded-2xl bg-white border p-0 shadow-sm overflow-hidden",children:[g?n.jsxs("div",{className:"relative aspect-[16/6] w-full bg-gray-100",children:[n.jsx("img",{src:g,alt:"Event cover",className:"h-full w-full object-cover"}),n.jsx("span",{className:"absolute left-4 top-4 bg-white/90 border-gray-200 text-gray-700 px-2 py-0.5 rounded-full border text-xs",children:t.eventType||"Event"})]}):null,n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold",children:t.title||"Untitled event"}),n.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t.description||"No description provided."})]})}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[n.jsx(Lu.calendar,{})," ",n.jsx("span",{children:"Date & Time"})]}),n.jsxs("div",{className:"mt-2 text-sm text-gray-700",children:[n.jsx("div",{children:K$(t.date,o)}),n.jsxs("div",{children:[X$(t.startTime,o),t.endTime?` – ${X$(t.endTime,o)}`:""," ",n.jsxs("span",{className:"text-gray-500",children:["(",o,")"]})]})]})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[n.jsx(Lu.mapPin,{})," ",n.jsx("span",{children:"Location"})]}),n.jsxs("div",{className:"mt-2 text-sm text-gray-700",children:[t.locationType==="Virtual"?t.onlineUrl?n.jsx("a",{href:t.onlineUrl,target:"_blank",rel:"noreferrer",className:"text-brand-600 underline",children:"Join link"}):"Online":n.jsxs(n.Fragment,{children:[n.jsx("div",{children:t.address||"—"}),n.jsx("div",{children:[t.city,t.country].filter(Boolean).join(", ")||"—"})]}),n.jsx("div",{className:"mt-1 text-xs text-gray-500",children:t.locationType||"—"})]})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[n.jsx(Lu.ticket,{})," ",n.jsx("span",{children:"Registration"})]}),n.jsxs("div",{className:"mt-2 text-sm text-gray-700",children:[n.jsx("div",{children:t.registrationType==="Paid"?`${t.price||"—"} ${t.currency||""}`:"Free"}),n.jsxs("div",{children:["Capacity: ",t.capacity||"—"]}),n.jsxs("div",{children:["Deadline: ",t.registrationDeadline?K$(t.registrationDeadline,o):"—"]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Target Audience"}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[c.map(m=>n.jsx("span",{className:uu.chip,children:m},`i-${m}`)),d.map(m=>n.jsx("span",{className:uu.chip,children:m},`c-${m}`)),f.map(m=>n.jsx("span",{className:uu.chip,children:m},`s-${m}`)),h.map(m=>n.jsx("span",{className:uu.chip,children:m},`ss-${m}`)),c.length+d.length+f.length+h.length===0&&n.jsx("span",{className:"text-sm text-gray-500",children:"Everyone"})]})]}),n.jsx("div",{className:"flex justify-end gap-3 pt-2",children:t.onlineUrl?n.jsx("a",{href:t.onlineUrl,target:"_blank",rel:"noreferrer",className:uu.primary,children:"Open Join Link"}):null})]})]})}function o6({triggerImageSelection:t=!1,hideHeader:r=!1,onSuccess:s}){var he,ye,oe,ie;const a=qt(),{id:i}=Ds(),[o,l]=u.useState(!1),[c,d]=u.useState(!1),{user:f}=Xt(),[h,g]=u.useState(null),[m,p]=u.useState([]),[x,y]=u.useState(!0);u.useEffect(()=>{ve(this,null,function*(){try{const Se=yield fetch("/data/cities.json");if(!Se.ok)throw new Error("Failed to fetch cities");const $e=yield Se.json();p($e)}catch(Se){console.error("Error fetching cities:",Se)}finally{y(!1)}})},[]);const w=u.useMemo(()=>m.slice(0,1e4).map(q=>({value:q.city,label:`${q.city}${q.country?`, ${q.country}`:""}`,country:q.country})),[m]),[b,v]=u.useState([]),[j,N]=u.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[S,I]=u.useState([]),[E,L]=u.useState({categoryId:"",subcategoryId:"",subsubCategoryId:""}),[C,T]=u.useState([]),[k,M]=u.useState({categoryId:"",subcategoryId:""}),[_,J]=u.useState(!1),[Y,te]=u.useState({eventType:"Workshop",title:"",description:"",categoryId:"",subcategoryId:"",date:"",startTime:"",endTime:"",timezone:"Africa/Lagos",locationType:"In-Person",country:"All countries",city:"",address:"",onlineUrl:"",registrationType:"Free",price:"",currency:"USD",capacity:"",registrationDeadline:"",coverImageUrl:"",videoUrl:""}),[K,X]=u.useState({categories:[],currencies:[],timezones:[]}),[W,F]=u.useState(!0),[P,A]=u.useState(null),[B,z]=u.useState(null),[O,U]=u.useState(null),[Z,se]=u.useState(!1),fe=u.useRef(null),le=u.useMemo(()=>Y.country?String(Y.country).split(",").map(q=>q.trim().toLowerCase()).filter(Boolean):[],[Y.country]),Ne=u.useMemo(()=>{if(le.length===0||le.includes("all countries"))return[];const q=new Set(le);return w.filter(Se=>q.has(Se.country.toLowerCase()))},[le,w]),Te=o&&h&&(f==null?void 0:f.id)!==h;u.useEffect(()=>{i&&(l(!0),F(!0),ve(this,null,function*(){var q,Se,$e,rt,nt,Ue,xt,Oe,Ee,ee,de,ue,_e,Xe,gt,wt,vt,ct;try{const{data:Ze}=yield Le.get(`/events/${i}?updated=true`),dt=(Oe=(xt=(Ue=(rt=(Se=(q=Ze.organizerUserId)!=null?q:Ze.organizerId)!=null?Se:Ze.createdById)!=null?rt:($e=Ze.organizer)==null?void 0:$e.id)!=null?Ue:(nt=Ze.createdBy)==null?void 0:nt.id)!=null?xt:Ze.userId)!=null?Oe:null;g(dt);let yt=null,Ie=null;Ze.coverImageBase64?(yt="image",Ze.coverImageBase64.startsWith("data:")||Ze.coverImageBase64.startsWith("http")?(Ie=Ze.coverImageBase64,A(Ze.coverImageBase64)):(z(Ze.coverImageBase64),Ie=En+`/uploads/${Ze.coverImageBase64}`,A(Ie))):Ze.videoUrl&&(yt="video",Ie=Ze.videoUrl),U(yt),te({eventType:Ze.eventType||"Workshop",title:Ze.title||"",description:Ze.description||"",categoryId:Ze.categoryId||"",subcategoryId:Ze.subcategoryId||"",date:Ze.startAt?new Date(Ze.startAt).toISOString().split("T")[0]:"",startTime:Ze.startAt?new Date(Ze.startAt).toISOString().split("T")[1].substring(0,5):"",endTime:Ze.endAt?new Date(Ze.endAt).toISOString().split("T")[1].substring(0,5):"",timezone:Ze.timezone||"Africa/Lagos",locationType:Ze.locationType||"In-Person",country:Ze.country||"",city:Ze.city||"",address:Ze.address||"",onlineUrl:Ze.onlineUrl||"",registrationType:Ze.registrationType||"Free",price:((Ee=Ze.price)==null?void 0:Ee.toString())||"",currency:Ze.currency||"USD",capacity:((ee=Ze.capacity)==null?void 0:ee.toString())||"",registrationDeadline:Ze.registrationDeadline?new Date(Ze.registrationDeadline).toISOString().split("T")[0]:"",coverImageUrl:Ze.coverImageUrl||"",coverImageBase64:Ze.coverImageBase64||Ze.coverImageUrl,videoUrl:Ze.videoUrl||null}),((de=Ze.audienceIdentities)!=null&&de.length||(ue=Ze.audienceCategories)!=null&&ue.length||(_e=Ze.audienceSubcategories)!=null&&_e.length||(Xe=Ze.audienceSubsubs)!=null&&Xe.length)&&N({identityIds:new Set(((gt=Ze.audienceIdentities)==null?void 0:gt.map(ze=>ze.id))||[]),categoryIds:new Set(((wt=Ze.audienceCategories)==null?void 0:wt.map(ze=>ze.id))||[]),subcategoryIds:new Set(((vt=Ze.audienceSubcategories)==null?void 0:vt.map(ze=>ze.id))||[]),subsubCategoryIds:new Set(((ct=Ze.audienceSubsubs)==null?void 0:ct.map(ze=>ze.id))||[])}),L({categoryId:Ze.generalCategoryId||"",subcategoryId:Ze.generalSubcategoryId||"",subsubCategoryId:Ze.generalSubsubCategoryId||""}),M({categoryId:Ze.industryCategoryId||"",subcategoryId:Ze.industrySubcategoryId||""})}catch(Ze){console.error(Ze),ce.error("Failed to load event data"),a("/events")}finally{F(!1)}}))},[i,a]),u.useEffect(()=>{ve(this,null,function*(){var q,Se;try{const{data:$e}=yield Le.get("/events/meta");X($e),te(rt=>me(ne({},rt),{country:rt.country,timezone:rt.timezone||$e.timezones[0]||"Africa/Lagos"}))}catch($e){console.error($e),ce.error(((Se=(q=$e==null?void 0:$e.response)==null?void 0:q.data)==null?void 0:Se.message)||"Failed to load form metadata")}finally{F(!1)}})},[]),u.useEffect(()=>{if(t&&fe.current){const q=setTimeout(()=>{var Se;console.log(fe.current),(Se=fe.current)==null||Se.pick()},2e3);return()=>clearTimeout(q)}},[t]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:q}=yield Le.get("/public/identities?type=all");v(q.identities||[])}catch(q){console.error("Error loading identities:",q)}})},[]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:q}=yield Le.get("/general-categories/tree?type=event");I(q.generalCategories||[])}catch(q){console.error("Failed to load general categories",q)}})},[]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:q}=yield Le.get("/industry-categories/tree");T(q.industryCategories||[])}catch(q){console.error("Failed to load industry categories",q)}})},[]),u.useMemo(()=>{if(!Y.categoryId)return[];const q=K.categories.find(Se=>Se.id===Y.categoryId);return(q==null?void 0:q.subcategories)||[]},[Y.categoryId,K.categories]);const ht=(q,Se)=>{Se==="image"?(A(q),U("image"),se(!0),te($e=>me(ne({},$e),{videoUrl:""}))):Se==="video"?(A(q),U("video"),se(!0)):(A(null),U(null),se(!0),te($e=>me(ne({},$e),{videoUrl:""})))},Fe=(q,Se)=>ve(this,null,function*(){if(!q)return{imageUrl:null,videoUrl:null};const $e=new FormData;let rt=null,nt=null;try{return Se==="image"?($e.append("coverImage",q),rt=(yield Le.post("/events/upload-cover",$e,{headers:{"Content-Type":"multipart/form-data"}})).data.url):Se==="video"&&($e.append("video",q),nt=(yield Le.post("/events/upload-video",$e,{headers:{"Content-Type":"multipart/form-data"}})).data.url),{imageUrl:rt,videoUrl:nt}}catch(Ue){return console.error("Error uploading media file:",Ue),ce.error(`Failed to upload ${Se}`),{imageUrl:null,videoUrl:null}}});function Ve(q,Se){Te||te($e=>{const rt=me(ne({},$e),{[q]:Se});return q==="categoryId"&&(rt.subcategoryId=""),q==="registrationType"&&Se==="Free"&&(rt.price=""),q==="country"&&Se==="All countries"&&(rt.city=""),q==="locationType"&&(Se==="Virtual"?(rt.address="",rt.city=""):rt.onlineUrl=""),rt})}function ut(q){return ve(this,null,function*(){var Se,$e;if(q.preventDefault(),!Te){if(!Y.title||!Y.description){ce.error("Title and description are required");return}if(!Y.date||!Y.startTime){ce.error("Date and start time are required");return}if(Y.registrationType==="Paid"&&(!Y.price||!Y.currency)){ce.error("Price and currency are required for paid events");return}d(!0);try{const rt=Array.from(j.identityIds),nt=Array.from(j.categoryIds),Ue=Array.from(j.subcategoryIds),xt=Array.from(j.subsubCategoryIds);let Oe=B,Ee=Y.videoUrl;if(Z&&P instanceof File){let de=yield Fe(P,O);Ee=de.videoUrl,Oe=de.imageUrl,se(!1)}console.log({a:Oe,coverImageBase64:P});const ee=me(ne({},Y),{identityIds:rt,categoryIds:nt,subcategoryIds:Ue,subsubCategoryIds:xt,coverImageBase64:O==="image"?Z?Oe:Y.coverImageBase64:null,coverImageUrl:O==="image"?Z?Oe:Y.coverImageUrl:null,videoUrl:O==="video"?Z?Ee:Y.videoUrl:null,generalCategoryId:E.categoryId||null,generalSubcategoryId:E.subcategoryId||null,generalSubsubCategoryId:E.subsubCategoryId||null,industryCategoryId:k.categoryId||null,industrySubcategoryId:k.subcategoryId||null});ee.subcategoryId||delete ee.subcategoryId,ee.registrationType==="Free"&&(delete ee.price,delete ee.currency),ee.locationType==="Virtual"?(delete ee.address,delete ee.city,delete ee.country):(delete ee.onlineUrl,ee.country==="All countries"&&delete ee.city),o?(yield Le.put(`/events/${i}`,ee),ce.success("Event updated successfully!")):(yield Le.post("/events",ee),ce.success("Event created successfully!"),r&&s?s():a("/events"))}catch(rt){console.error(rt),ce.error((($e=(Se=rt==null?void 0:rt.response)==null?void 0:Se.data)==null?void 0:$e.message)||"Could not create event")}finally{d(!1)}}})}const Je=u.useMemo(()=>S.map(q=>({value:q.id,label:q.name||`Category ${q.id}`})),[S]),G=u.useMemo(()=>{const q=S.find(Se=>Se.id===E.categoryId);return((q==null?void 0:q.subcategories)||[]).map(Se=>({value:Se.id,label:Se.name||`Subcategory ${Se.id}`}))},[S,E.categoryId]);u.useMemo(()=>{var $e;const q=S.find(rt=>rt.id===E.categoryId),Se=($e=q==null?void 0:q.subcategories)==null?void 0:$e.find(rt=>rt.id===E.subcategoryId);return((Se==null?void 0:Se.subsubcategories)||[]).map(rt=>({value:rt.id,label:rt.name||`Sub-sub ${rt.id}`}))},[S,E.categoryId,E.subcategoryId]);const ae=u.useMemo(()=>C.map(q=>({value:q.id,label:q.name||`Category ${q.id}`})),[C]),Me=u.useMemo(()=>{const q=C.find(Se=>Se.id===k.categoryId);return((q==null?void 0:q.subcategories)||[]).map(Se=>({value:Se.id,label:Se.name||`Subcategory ${Se.id}`}))},[C,k.categoryId]);return W?n.jsx(ei,{message:"Loading event form…",tip:"Fetching categories and preferences"}):n.jsxs("div",{className:"min-h-screen bg-[#F7F7FB] text-gray-900",children:[!r&&n.jsx(an,{page:"events"}),n.jsxs("main",{className:`mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 ${r?"py-4":"py-8"}`,children:[!r&&n.jsx("button",{onClick:()=>a("/events"),className:"flex items-center gap-2 text-sm text-gray-600 hover:text-brand-600",children:"← Go to Events"}),o&&!Te&&n.jsx(n.Fragment,{children:n.jsx("h1",{className:"text-2xl font-bold mt-3",children:o?"Edit Event":"Create Event"})}),Te?n.jsx(LEe,{form:Y,coverImageBase64:P,meta:K,audSel:j,audTree:b}):n.jsxs("form",{onSubmit:ut,className:"mt-6 rounded-2xl bg-white border p-6 shadow-sm space-y-8",children:[n.jsx("section",{children:n.jsxs("div",{className:"mt-3 grid gap-4",children:[n.jsx("input",{type:"text",value:Y.title,onChange:q=>Ve("title",q.target.value),_placeholder:"Enter event title",placeholder:"Event title: Annual Marketing Conference 2024",className:"rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",required:!0}),n.jsx("textarea",{value:Y.description,onChange:q=>Ve("description",q.target.value),_placeholder:"Describe your event...",placeholder:"Describe your event: Join us for a day of networking and learning about the latest marketing trends. Featuring industry experts and hands-on workshops.",className:"rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",rows:4,required:!0})]})}),n.jsx("section",{children:n.jsx(KG,{ref:fe,label:"Cover Image / Video (optional)",value:P,preview:O==="video"?Y.videoUrl:typeof P=="string"?P:null,onChange:ht,canSelectBothVideoAndImage:!1,selectedMediaType:O})}),n.jsxs("section",{children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"Date & Time"}),n.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-3",children:[n.jsxs("div",{className:"grid gap-1",children:[n.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:["Date ",n.jsx("label",{className:"text-[crimson]",children:"*"})]}),n.jsx("input",{type:"date",min:o?(ye=(he=Y.createdAt)==null?void 0:he.split("T"))==null?void 0:ye[0]:new Date().toISOString().split("T")[0],value:Y.date,onChange:q=>Ve("date",q.target.value),className:"rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200",required:!0})]}),n.jsxs("div",{className:"grid gap-1",children:[n.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:["Start time ",n.jsx("label",{className:"text-[crimson]",children:"*"})]}),n.jsx("input",{type:"time",value:Y.startTime,onChange:q=>Ve("startTime",q.target.value),placeholder:"HH:MM",title:"Formato 24h (HH:MM), ex.: 14:30",className:"rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200",required:!0})]}),n.jsxs("div",{className:"grid gap-1",children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"End time (optional)"}),n.jsx("input",{type:"time",value:Y.endTime,onChange:q=>Ve("endTime",q.target.value),placeholder:"HH:MM",title:"Formato 24h (HH:MM), ex.: 16:00",className:"rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"})]})]}),n.jsxs("div",{className:"relative mt-3",children:[n.jsx("label",{className:"sr-only",children:"Timezone"}),n.jsx("select",{value:Y.timezone,onChange:q=>Ve("timezone",q.target.value),className:"w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-200",children:fw.map((q,Se)=>n.jsx("option",{value:q.value,children:`${q.offset} - ${q.label}`}))}),n.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:n.jsx(Lu.chevron,{})})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"Location"}),n.jsx("div",{className:"mt-3 flex gap-6 text-sm",children:["In-Person","Virtual","Hybrid"].map(q=>n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"locationType",checked:Y.locationType===q,onChange:()=>Ve("locationType",q)}),q]},q))}),Y.locationType!=="Virtual"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Country"}),n.jsx(Pf,{value:Y.country,onChange:q=>Ve("country",q),options:EEe,placeholder:"Search and select country..."},Y.country)]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"City"}),n.jsx(Pf,{value:Y.city,onChange:q=>Ve("city",q),options:Ne,placeholder:"Search and select city...",disabled:Y.country==="All countries"},Y.country)]})]}),n.jsx("input",{type:"text",value:Y.address,onChange:q=>Ve("address",q.target.value),placeholder:"Full address",className:"mt-3 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}):n.jsx("input",{type:"url",value:Y.onlineUrl,onChange:q=>Ve("onlineUrl",q.target.value),placeholder:"Meeting link (Zoom/Meet/etc.)",className:"mt-3 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"Registration"}),n.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-[0.8rem] font-medium text-gray-700 mb-1",children:"Registration Type"}),n.jsxs("select",{value:Y.registrationType,onChange:q=>Ve("registrationType",q.target.value),className:"w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-200",children:[n.jsx("option",{children:"Free"}),n.jsx("option",{children:"Paid"})]}),n.jsx("span",{className:"pointer-events-none absolute right-2 top-[2.3rem] -translate-y-1/2",children:n.jsx(Lu.chevron,{})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-[0.8rem] font-medium text-gray-700 mb-1",children:"Seats / Capacity (optional)"}),n.jsx("input",{type:"number",min:"1",value:Y.capacity,onChange:q=>Ve("capacity",q.target.value.replace(/[^\d\-\(\)]/g,"")),placeholder:"e.g. 200",className:"w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"})]})]}),Y.registrationType==="Paid"&&n.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),n.jsx("input",{type:"number",step:"0.01",value:Y.price,onChange:q=>Ve("price",q.target.value.replace(/[^\d\-\(\)]/g,"")),placeholder:"e.g. 50.00",className:"w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200",required:!0})]}),n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),n.jsx("select",{value:Y.currency,onChange:q=>Ve("currency",q.target.value),className:"w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-200",children:K.currencies.map(q=>n.jsx("option",{value:q,children:q},q))}),n.jsx("span",{className:"pointer-events-none absolute right-2 top-[2.3rem] -translate-y-1/2",children:n.jsx(Lu.chevron,{})})]})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"block text-[0.8rem]  font-medium text-gray-700 mb-1",children:"Registration Deadline (last day to register)"}),n.jsx("input",{type:"date",min:o?(ie=(oe=Y.createdAt)==null?void 0:oe.split("T"))==null?void 0:ie[0]:new Date().toISOString().split("T")[0],value:Y.registrationDeadline,onChange:q=>Ve("registrationDeadline",q.target.value),className:"w-full rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"})]})]}),n.jsx("section",{children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:["Category ",n.jsx("span",{className:"text-gray-400 font-normal",children:"(optional)"})]}),n.jsx(Pf,{ariaLabel:"Category",value:E.categoryId,onChange:q=>L({categoryId:q,subcategoryId:"",subsubCategoryId:""}),options:Je,placeholder:"Search & select category…"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:["Subcategory ",n.jsx("span",{className:"text-gray-400 font-normal",children:"(optional)"})]}),n.jsx(Pf,{ariaLabel:"Subcategory",value:E.subcategoryId,onChange:q=>L(Se=>me(ne({},Se),{subcategoryId:q,subsubCategoryId:""})),options:G,placeholder:"Search & select subcategory…",disabled:!E.categoryId})]})]})}),n.jsxs("section",{className:"hidden",children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"Industry Classification"}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select the industry category and subcategory that best describes your event."}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Category"}),n.jsx(Pf,{ariaLabel:"Industry Category",value:k.categoryId,onChange:q=>M({categoryId:q,subcategoryId:""}),options:ae,placeholder:"Search & select industry category…"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Subcategory"}),n.jsx(Pf,{ariaLabel:"Industry Subcategory",value:k.subcategoryId,onChange:q=>M(Se=>me(ne({},Se),{subcategoryId:q})),options:Me,placeholder:"Search & select industry subcategory…",disabled:!k.categoryId})]})]})]}),n.jsx("section",{children:n.jsx("div",{className:"mb-4",children:_?n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-brand-600"}),n.jsx("h3",{className:"font-semibold text-brand-600",children:"Share With (Target Audience)"})]}),n.jsxs("button",{type:"button",onClick:()=>J(!1),className:"inline-flex items-center gap-1 px-3 py-1 border border-gray-300 text-gray-600 rounded-lg text-xs hover:bg-gray-50",children:[n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Hide"]})]}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select who should see this event."}),n.jsx(gl,{tree:b,selected:j,onChange:q=>N(q)})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsxs("button",{type:"button",onClick:()=>J(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 5v14M5 12h14"})}),"Define Target Audience (optional)"]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Target your post to specific audiences"})]})})}),n.jsxs("div",{className:"flex justify-end gap-3",children:[!r&&n.jsx("button",{type:"button",className:uu.primaryGhost,onClick:()=>a("/events"),children:"Cancel"}),n.jsx("button",{type:"submit",className:uu.primary,disabled:c,children:c?"Saving…":o?"Update":"Publish"})]})]})]})]})}const MEe=Object.freeze(Object.defineProperty({__proto__:null,default:o6},Symbol.toStringTag,{value:"Module"})),fu={primary:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",primaryWide:"w-full rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",ghost:"rounded-lg px-3 py-1.5 text-sm font-semibold border border-brand-600 text-brand-600 bg-white hover:bg-brand-50",badge:"inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium",chip:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs"},Jo=({children:t,required:r})=>n.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:[t," ",r&&n.jsx("span",{className:"text-pink-600",children:"*"})]}),wa={plus:()=>n.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 5v14M5 12h14"})}),trash:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M9 3h6l1 2h4v2H4V5h4l1-2Zm1 6h2v9h-2V9Zm4 0h2v9h-2V9ZM6 9h2v9H6V9Z"})}),chevron:()=>n.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"m6 9 6 6 6-6"})}),pin:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Zm0 10a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z"})}),clock:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12 22a10 10 0 1 0 0-20 10 10 0 0 0 0 20Zm1-10.59V7h-2v6l5 3 .9-1.45-3.9-2.14Z"})}),tag:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"m10 4 8 0a2 2 0 0 1 2 2v8l-8 8-8-8V6a2 2 0 0 1 2-2h4Z"}),n.jsx("circle",{cx:"15",cy:"9",r:"1.5",fill:"white"})]}),cash:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"M3 6h18v12H3z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3",fill:"white"})]}),video:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"m17 10.5-5-3v6l5-3Z"}),n.jsx("rect",{x:"3",y:"6",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),image:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),n.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5",fill:"currentColor"}),n.jsx("path",{d:"m21 15-5-5L5 21",stroke:"currentColor",strokeWidth:"2"})]})};function Lw(t){if(!t)return"document";const r=t.toLowerCase().split(".").pop(),s=["jpg","jpeg","png","gif","webp","svg","bmp"],a=["mp4","mov","avi","mkv","webm","flv","wmv","m4v","3gp","ogv"];return s.includes(r)?"image":a.includes(r)?"video":"document"}function pq(t){return Lw(t)==="image"}function Ob(t){return Lw(t)==="video"}function xq(t){return pq(t)||Ob(t)}function vq(t){return Lw(t)==="document"}const IEe=["USD","EUR","GBP","NGN","GHS","ZAR","KES","UGX","TZS","XOF","XAF","MAD","DZD","TND","EGP","ETB","NAD","BWP","MZN","ZMW","RWF","BIF","SOS","SDG","CDF"];function TEe(t,r){return t===""||t==null?"—":`${t}${r?` (${r})`:""}`}function AEe(t=[]){const r=new Map,s=new Map,a=new Map,i=new Map;for(const o of t){r.set(String(o.id),o.name||o.title||`Identity ${o.id}`);for(const l of o.categories||[]){s.set(String(l.id),l.name||l.title||`Category ${l.id}`);for(const c of l.subcategories||[]){a.set(String(c.id),c.name||c.title||`Subcategory ${c.id}`);for(const d of c.subsubs||[])i.set(String(d.id),d.name||d.title||`Sub-sub ${d.id}`)}}}return{ids:r,cats:s,subs:a,subsubs:i}}function e8(t={},r=[]){const s=[],a=f=>{typeof f=="string"&&f.trim()&&s.push(f.trim())},i=f=>{Array.isArray(f)&&f.forEach(h=>typeof h=="string"?a(h):(h==null?void 0:h.url)&&a(h.url))};a(t.coverImageUrl),a(t.bannerUrl),a(t.heroUrl),i(t.images),i(t.gallery),i(t.photos),r.forEach(f=>{xq(f)&&s.push(f)});const o=Array.from(new Set(s)),l=t.coverImageUrl||o[0]||null,c=o.filter(f=>f!==l),d=r.filter(f=>vq(f));return{coverImageUrl:l,images:c,docs:d}}function _Ee({form:t,audSel:r,audTree:s,media:a}){const i=u.useMemo(()=>AEe(s),[s]),o=Array.from(r.identityIds||[]).map(p=>i.ids.get(String(p))).filter(Boolean),l=Array.from(r.categoryIds||[]).map(p=>i.cats.get(String(p))).filter(Boolean),c=Array.from(r.subcategoryIds||[]).map(p=>i.subs.get(String(p))).filter(Boolean),d=Array.from(r.subsubCategoryIds||[]).map(p=>i.subsubs.get(String(p))).filter(Boolean),{coverImageUrl:f,images:h=[],docs:g=[]}=a||{},m=t.skills||[];return n.jsxs("div",{className:"mt-6 rounded-2xl bg-white border p-0 shadow-sm overflow-hidden",children:[f?n.jsxs("div",{className:"relative aspect-[16/6] w-full bg-gray-100",children:[Ob(f)?n.jsx("video",{src:f,className:"h-full w-full object-cover",controls:!0}):n.jsx("img",{src:f,alt:"Service cover",className:"h-full w-full object-cover"}),n.jsx("span",{className:"absolute left-4 top-4 bg-white/90 border-gray-200 text-gray-700 rounded-full px-2 py-0.5 text-xs font-medium",children:t.serviceType||"Service"})]}):null,n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold",children:t.title||"Untitled Service"}),n.jsx("p",{className:"mt-1 text-sm text-gray-700",children:t.description||"No description provided."})]})}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[n.jsx(wa.cash,{})," Pricing"]}),n.jsx("div",{className:"mt-2 text-sm text-gray-700",children:TEe(t.priceAmount,t.priceType)})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[n.jsx(wa.clock,{})," Delivery"]}),n.jsx("div",{className:"mt-2 text-sm text-gray-700",children:t.deliveryTime||"—"})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[n.jsx(wa.tag,{})," Experience"]}),n.jsx("div",{className:"mt-2 text-sm text-gray-700",children:t.experienceLevel||"—"})]})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[n.jsx(wa.pin,{})," Location"]}),n.jsxs("div",{className:"mt-2 text-sm text-gray-700",children:[n.jsxs("div",{children:["Type: ",t.locationType||"—"]}),t.locationType==="On-site"?n.jsx("div",{className:"mt-1",children:[t.city,t.country].filter(Boolean).join(", ")||"—"}):null]})]}),(h==null?void 0:h.length)>0?n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Media"}),n.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:h.map((p,x)=>n.jsx("div",{className:"relative w-full aspect-[16/10] bg-gray-100 rounded-xl overflow-hidden border",children:Ob(p)?n.jsx("video",{src:p,controls:!0,className:"h-full w-full object-cover",children:"Your browser does not support the video tag."}):n.jsx("img",{src:p,alt:`Service image ${x+1}`,className:"h-full w-full object-cover"})},x))})]}):null,(g==null?void 0:g.length)>0?n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Documents"}),n.jsx("div",{className:"mt-3 grid sm:grid-cols-2 gap-3",children:g.map((p,x)=>n.jsxs("a",{href:p,download:p.split("/").pop(),className:"flex items-center gap-3 border rounded-lg p-3 hover:bg-gray-50",children:[n.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-100 grid place-items-center text-xs text-gray-500",children:"DOC"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"truncate text-sm font-medium",children:p.split("/").pop()}),n.jsx("div",{className:"text-[11px] text-gray-500 truncate",children:"Tap to download"})]})]},`${p}-${x}`))})]}):null,n.jsxs("div",{className:"hidden",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Skills"}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:m.length?m.map((p,x)=>n.jsx("span",{className:fu.chip,children:p},`${p}-${x}`)):n.jsx("span",{className:"text-sm text-gray-500",children:"—"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Target Audience"}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[o.map(p=>n.jsx("span",{className:fu.chip,children:p},`i-${p}`)),l.map(p=>n.jsx("span",{className:fu.chip,children:p},`c-${p}`)),c.map(p=>n.jsx("span",{className:fu.chip,children:p},`s-${p}`)),d.map(p=>n.jsx("span",{className:fu.chip,children:p},`ss-${p}`)),!o.length&&!l.length&&!c.length&&!d.length&&n.jsx("span",{className:"text-sm text-gray-500",children:"Everyone"})]})]})]})]})}function sy({triggerImageSelection:t=!1,hideHeader:r=!1,onSuccess:s}){const a=qt(),{id:i}=Ds(),o=!!i,{user:l}=Xt(),[c,d]=u.useState(!0),[f,h]=u.useState(!1),[g,m]=u.useState(0),[p,x]=u.useState({}),[y,w]=u.useState(!1),[b,v]=u.useState(!1),[j,N]=u.useState(0),[S,I]=u.useState(null),[E,L]=u.useState([]),[C,T]=u.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[k,M]=u.useState(!1),[_,J]=u.useState({title:"",serviceType:"Consulting",description:"",priceAmount:"",currency:"USD",priceType:"Fixed Price",deliveryTime:"1 Week",locationType:"Remote",experienceLevel:"Intermediate",country:"All countries",city:"",skills:[]}),[Y,te]=u.useState(""),[K,X]=u.useState([]),W=u.useRef(null);u.useEffect(()=>{if(t&&W.current){const ee=setTimeout(()=>{var de;(de=W.current)==null||de.click()},100);return()=>clearTimeout(ee)}},[t]);const[F,P]=u.useState({coverImageUrl:null,images:[],docs:[]}),A=o&&S&&(l==null?void 0:l.id)!=S,B=u.useMemo(()=>K.filter(ee=>xq(ee)),[K]);u.useEffect(()=>{ve(this,null,function*(){try{const{data:ee}=yield Le.get("/public/identities?type=all");L(ee.identities||[])}catch(ee){console.error(ee)}})},[]),u.useEffect(()=>{o&&ve(this,null,function*(){try{const{data:ee}=yield Le.get(`/services/${i}?updated=true`);d(!0);const de=ee.providerUserId;I(de),J(_e=>{var Xe;return me(ne({},_e),{title:ee.title||"",serviceType:ee.serviceType||"Consulting",description:ee.description||"",priceAmount:((Xe=ee.priceAmount)==null?void 0:Xe.toString())||"",currency:ee.currency||"USD",priceType:ee.priceType||"Fixed Price",deliveryTime:ee.deliveryTime||"1 Week",locationType:ee.locationType||"Remote",experienceLevel:ee.experienceLevel||"Intermediate",country:ee.country||"",city:ee.city||"",skills:Array.isArray(ee.skills)?ee.skills:[]})});let ue=[];Array.isArray(ee.attachments)?(ue=ee.attachments,X(ue)):X([]),T({identityIds:new Set((ee.audienceIdentities||[]).map(_e=>_e.id)),categoryIds:new Set((ee.audienceCategories||[]).map(_e=>_e.id)),subcategoryIds:new Set((ee.audienceSubcategories||[]).map(_e=>_e.id)),subsubCategoryIds:new Set((ee.audienceSubsubs||[]).map(_e=>_e.id))}),Ve({categoryId:ee.generalCategoryId||"",subcategoryId:ee.generalSubcategoryId||"",subsubCategoryId:ee.generalSubsubCategoryId||""}),$e({categoryId:ee.industryCategoryId||"",subcategoryId:ee.industrySubcategoryId||"",subsubCategoryId:ee.industrySubcategoryId||""}),P(e8(ee,ue)),d(!1)}catch(ee){console.error(ee),ce.error("Failed to load service"),a("/services")}})},[o,i,a]),u.useEffect(()=>{o&&P(ee=>e8({coverImageUrl:ee.coverImageUrl},K))},[K,o]);function z(ee,de){A||J(ue=>{const _e=me(ne({},ue),{[ee]:de});return ee==="locationType"&&de==="Remote"&&(_e.city=""),ee==="country"&&de==="All countries"&&(_e.city=""),_e})}function O(){if(A)return;const ee=(Y||"").trim();ee&&(J(de=>de.skills.includes(ee)?de:me(ne({},de),{skills:[...de.skills,ee]})),te(""))}function U(ee){A||J(de=>me(ne({},de),{skills:de.skills.filter((ue,_e)=>_e!==ee)}))}function Z(ee){N(ee),v(!0)}function se(){v(!1)}function fe(ee){return ve(this,null,function*(){if(A)return;const de=Array.from(ee||[]);if(!de.length)return;const ue={video:50*1024*1024,image:5*1024*1024,document:5*1024*1024},_e=de.filter(wt=>{const vt=Lw(wt.name);return wt.size>ue[vt]});if(_e.length>0){const wt=_e.map(vt=>vt.name).join(", ");ce.error(`Files exceeding size limit: ${wt}`);return}const Xe=20-K.length,gt=Xe>0?de.slice(0,Xe):[];try{h(!0),m(gt.length);const wt={};gt.forEach(yt=>{wt[yt.name]=0}),x(wt);const vt=new FormData;gt.forEach(yt=>{vt.append("attachments",yt)});const dt=((yield Le.post("/services/upload-attachments",vt,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:yt=>{if(yt.total){const Ie=Math.round(yt.loaded*100/yt.total),ze={};gt.forEach(qe=>{ze[qe.name]=Ie}),x(ze)}}})).data.filenames||[]).map(yt=>`${yt}`);X(yt=>[...yt,...dt]),x({})}catch(wt){console.error(wt),ce.error("Some files could not be uploaded."),x({})}finally{h(!1),m(0)}})}function le(ee){A||X(de=>de.filter((ue,_e)=>_e!==ee))}function Ne(){return _.title.trim()?_.description.trim()?_.priceType!=="Fixed Price"&&_.priceType!=="Hourly"?"Invalid price type":_.priceAmount&&Number(_.priceAmount)<0?"Price cannot be negative":_.locationType==="On-site"&&!_.country?"Country is required for On-site services":null:"Description is required":"Title is required"}const[Te,ht]=u.useState([]),[Fe,Ve]=u.useState({categoryId:"",subcategoryId:"",subsubCategoryId:""}),ut=[{value:"All countries",label:"All countries"},...An.map(ee=>({value:ee,label:ee}))],[Je,G]=u.useState([]),[ae,Me]=u.useState(!0);u.useEffect(()=>{ve(this,null,function*(){try{const de=yield fetch("/data/cities.json");if(!de.ok)throw new Error("Failed to fetch cities");const ue=yield de.json();G(ue)}catch(de){console.error("Error fetching cities:",de)}finally{Me(!1)}})},[]);const he=u.useMemo(()=>Je.slice(0,1e4).map(ee=>({value:ee.city,label:`${ee.city}${ee.country?`, ${ee.country}`:""}`,country:ee.country})),[Je]),ye=u.useMemo(()=>_.country?String(_.country).split(",").map(ee=>ee.trim().toLowerCase()).filter(Boolean):[],[_.country]),oe=u.useMemo(()=>{if(ye.length===0||ye.includes("all countries"))return[];const ee=new Set(ye);return he.filter(de=>ee.has(de.country.toLowerCase()))},[ye,he]),[ie,q]=u.useState([]),[Se,$e]=u.useState({categoryId:"",subcategoryId:""});u.useEffect(()=>{ve(this,null,function*(){try{const{data:ee}=yield Le.get("/general-categories/tree?type=service");ht(ee.generalCategories||[])}catch(ee){console.error("Failed to load general categories",ee)}})},[]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:ee}=yield Le.get("/industry-categories/tree");q(ee.industryCategories||[])}catch(ee){console.error("Failed to load industry categories",ee)}})},[]);const rt=u.useMemo(()=>Te.map(ee=>({value:ee.id,label:ee.name||`Category ${ee.id}`})),[Te]),nt=u.useMemo(()=>{const ee=Te.find(de=>de.id===Fe.categoryId);return((ee==null?void 0:ee.subcategories)||[]).map(de=>({value:de.id,label:de.name||`Subcategory ${de.id}`}))},[Te,Fe.categoryId]);u.useMemo(()=>{var ue;const ee=Te.find(_e=>_e.id===Fe.categoryId),de=(ue=ee==null?void 0:ee.subcategories)==null?void 0:ue.find(_e=>_e.id===Fe.subcategoryId);return((de==null?void 0:de.subsubcategories)||[]).map(_e=>({value:_e.id,label:_e.name||`Sub-sub ${_e.id}`}))},[Te,Fe.categoryId,Fe.subcategoryId]);const Ue=u.useMemo(()=>ie.map(ee=>({value:ee.id,label:ee.name||`Category ${ee.id}`})),[ie]),xt=u.useMemo(()=>{const ee=ie.find(de=>de.id===Se.categoryId);return((ee==null?void 0:ee.subcategories)||[]).map(de=>({value:de.id,label:de.name||`Subcategory ${de.id}`}))},[ie,Se.categoryId]);function Oe({value:ee,onChange:de,options:ue,placeholder:_e="Select…",disabled:Xe=!1,required:gt=!1,ariaLabel:wt}){const[vt,ct]=u.useState(!1),[Ze,dt]=u.useState(""),[yt,Ie]=u.useState(0),ze=u.useRef(null),qe=u.useRef(null),[it,Ae]=u.useState(!1),Ge=u.useMemo(()=>ue.find(H=>String(H.value)===String(ee))||null,[ue,ee]),Ye=u.useMemo(()=>{const H=Ze.trim().toLowerCase();return H?ue.map(V=>({o:V,score:(V.label||"").toLowerCase().indexOf(H)})).filter(V=>V.score!==-1).sort((V,re)=>V.score-re.score).map(V=>V.o).slice(0,100):ue.slice(0,100)},[Ze,ue]),Ot=it||vt||Ze!==""?Ze:(Ge==null?void 0:Ge.label)||"";u.useEffect(()=>{function H(V){ze.current&&(ze.current.contains(V.target)||ct(!1))}return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]),u.useEffect(()=>{vt||Ie(0)},[vt,Ze]);function ft(H){var V;de==null||de((H==null?void 0:H.value)||""),dt(""),ct(!1),(V=qe.current)==null||V.blur()}function D(){var H;de==null||de(""),dt(""),ct(!1),(H=qe.current)==null||H.focus()}function Q(H){if(!Xe){if(!vt&&(H.key==="ArrowDown"||H.key==="ArrowUp")){ct(!0);return}if(!vt){H.key==="Backspace"&&(H.preventDefault(),dt(Ge&&!Ze?(Ge.label||"").slice(0,-1):(Ze||"").slice(0,-1)),ct(!0));return}if(H.key==="ArrowDown")H.preventDefault(),Ie(V=>Math.min(V+1,Ye.length-1));else if(H.key==="ArrowUp")H.preventDefault(),Ie(V=>Math.max(V-1,0));else if(H.key==="Enter"){H.preventDefault();const V=Ye[yt];V&&ft(V)}else H.key==="Escape"&&ct(!1)}}return n.jsxs("div",{ref:ze,className:`relative ${Xe?"opacity-60":""}`,children:[n.jsxs("div",{className:"grid gap-1.5",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{ref:qe,type:"text",value:Ot,disabled:Xe,placeholder:_e,onChange:H=>{dt(H.target.value),ct(!0)},onFocus:()=>{Xe||(Ae(!0),ct(!0))},onBlur:()=>Ae(!1),onKeyDown:Q,"aria-autocomplete":"list","aria-expanded":vt,"aria-controls":"ss-results","aria-label":wt||_e,role:"combobox",autoComplete:"off",className:"w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-16 focus:outline-none focus:ring-2 focus:ring-brand-200 text-black"}),Ge&&!Xe?n.jsx("button",{type:"button",onClick:D,className:"absolute right-8 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-gray-100",title:"Clear",children:"×"}):null,n.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:n.jsx(wa.chevron,{})})]}),gt&&n.jsx("input",{tabIndex:-1,"aria-hidden":"true",className:"sr-only",required:!0,value:ee||"",onChange:()=>{}})]}),vt&&!Xe&&n.jsx("div",{id:"ss-results",role:"listbox",className:"absolute z-30 mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:Ye.length===0?n.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No results"}):n.jsx("ul",{className:"max-h-72 overflow-auto",children:Ye.map((H,V)=>{const re=V===yt;return n.jsx("li",{role:"option","aria-selected":re,className:`cursor-pointer px-3 py-2 text-sm ${re?"bg-brand-50":"hover:bg-gray-50"}`,onMouseEnter:()=>Ie(V),onMouseDown:ge=>{ge.preventDefault(),ft(H)},children:H.label},H.value)})})})]})}function Ee(ee){return ve(this,null,function*(){var ue,_e;if(ee.preventDefault(),A)return;const de=Ne();if(de){ce.error(de);return}M(!0);try{const Xe=Array.from(C.identityIds),gt=Array.from(C.categoryIds),wt=Array.from(C.subcategoryIds),vt=Array.from(C.subsubCategoryIds),ct=me(ne({},_),{priceAmount:_.priceAmount!==""&&!Number.isNaN(Number(_.priceAmount))?Number(_.priceAmount):void 0,currency:_.currency||"USD",attachments:K,identityIds:Xe,categoryIds:gt,subcategoryIds:wt,subsubCategoryIds:vt,generalCategoryId:Fe.categoryId||null,generalSubcategoryId:Fe.subcategoryId||null,generalSubsubCategoryId:Fe.subsubCategoryId||null,industryCategoryId:Se.categoryId||null,industrySubcategoryId:Se.subcategoryId||null});o?(yield Le.put(`/services/${i}`,ct),ce.success("Service updated!")):(yield Le.post("/services",ct),ce.success("Service published!"),r&&s?s():a("/services"))}catch(Xe){console.error(Xe),ce.error(((_e=(ue=Xe==null?void 0:Xe.response)==null?void 0:ue.data)==null?void 0:_e.message)||"Could not save service")}finally{M(!1)}})}return c&&i?n.jsx(ei,{message:"Loading service…",tip:"Fetching..."}):(console.log({attachments:K}),n.jsxs("div",{className:"min-h-screen bg-[#F7F7FB] text-gray-900",children:[!r&&n.jsx(an,{page:"services"}),n.jsxs("main",{className:`mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 ${r?"py-4":"py-8"}`,children:[!r&&n.jsx("button",{onClick:()=>a("/services"),className:"flex items-center gap-2 text-sm text-gray-600 hover:text-brand-600",type:"button",children:"← Back to services"}),o&&!A&&n.jsx(n.Fragment,{children:n.jsx("h1",{className:"text-2xl font-bold mt-3",children:o?"Edit Service":"Create Service Post"})}),A?n.jsx(_Ee,{form:_,audSel:C,audTree:E,media:F}):n.jsxs("form",{onSubmit:Ee,className:"mt-6 rounded-2xl bg-white border p-6 shadow-sm space-y-8",children:[n.jsx("section",{children:n.jsxs("div",{className:"mt-3 grid gap-4",children:[n.jsxs("div",{children:[n.jsx(Jo,{required:!0,children:"Title"}),n.jsx("input",{type:"text",value:_.title,onChange:ee=>z("title",ee.target.value),placeholder:"e.g., Growth Marketing Strategy Sprint",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",required:!0})]}),n.jsx("div",{children:n.jsx("textarea",{value:_.description,onChange:ee=>z("description",ee.target.value),_placeholder:"Describe your service in detail. What problems do you solve? What value do you provide?",placeholder:"Describe the service you are offering and find clients or partners",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",rows:4,required:!0})})]})}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-[12px] font-medium text-gray-700",children:"Service Type"}),n.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{label:"Consulting",desc:"Professional advice and expertise"},{label:"Freelance Work",desc:"Project-based services"},{label:"Managed Services",desc:"Ongoing support (IT, HR, etc.)."}].map(ee=>n.jsxs("button",{type:"button",onClick:()=>z("serviceType",ee.label),className:`border rounded-xl p-4 text-left transition-colors ${_.serviceType===ee.label?"border-brand-600 bg-brand-50":"border-gray-200 bg-white hover:border-brand-600"}`,children:[n.jsx("div",{className:"font-medium",children:ee.label}),n.jsx("div",{className:"text-xs text-gray-500",children:ee.desc})]},ee.label))})]}),n.jsx("section",{children:n.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx(Jo,{children:"Amount"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:_.priceAmount,onChange:ee=>z("priceAmount",ee.target.value.replace(/[^\d\-\(\)]/g,"")),placeholder:"0.00",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),n.jsxs("div",{children:[n.jsx(Jo,{children:"Currency"}),n.jsx("select",{className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",name:"currency",onChange:ee=>z("currency",ee.target.value),value:_.currency,children:IEe.map(ee=>n.jsx("option",{value:ee,children:ee},ee))})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Jo,{children:"Price Type"}),n.jsxs("select",{value:_.priceType,onChange:ee=>z("priceType",ee.target.value),className:"mt-1 w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-200",children:[n.jsx("option",{children:"Fixed Price"}),n.jsx("option",{children:"Hourly"})]}),n.jsx("span",{className:"pointer-events-none absolute right-2 bottom-3",children:n.jsx(wa.chevron,{})})]}),n.jsxs("div",{className:"relative hidden",children:[n.jsx(Jo,{children:"Typical Delivery"}),n.jsxs("select",{value:_.deliveryTime,onChange:ee=>z("deliveryTime",ee.target.value),className:"mt-1 w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-200",children:[n.jsx("option",{children:"1 Day"}),n.jsx("option",{children:"3 Days"}),n.jsx("option",{children:"1 Week"}),n.jsx("option",{children:"2 Weeks"}),n.jsx("option",{children:"1 Month"})]}),n.jsx("span",{className:"pointer-events-none absolute right-2 bottom-3",children:n.jsx(wa.chevron,{})})]})]})}),n.jsxs("section",{children:[n.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Jo,{children:"Location Type"}),n.jsxs("select",{value:_.locationType,onChange:ee=>z("locationType",ee.target.value),className:"mt-1 w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-200",children:[n.jsx("option",{children:"Remote"}),n.jsx("option",{children:"On-site"})]}),n.jsx("span",{className:"pointer-events-none absolute right-2 bottom-3",children:n.jsx(wa.chevron,{})})]}),n.jsxs("div",{className:"relative hidden",children:[n.jsx(Jo,{children:"Experience Level"}),n.jsxs("select",{value:_.experienceLevel,onChange:ee=>z("experienceLevel",ee.target.value),className:"mt-1 w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-200",children:[n.jsx("option",{children:"Entry Level"}),n.jsx("option",{children:"Intermediate"}),n.jsx("option",{children:"Expert"})]}),n.jsx("span",{className:"pointer-events-none absolute right-2 bottom-3",children:n.jsx(wa.chevron,{})})]})]}),n.jsxs("div",{className:"mt-3 grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Jo,{required:!0,children:"Country"}),n.jsx(Oe,{value:_.country,onChange:ee=>z("country",ee),options:ut,placeholder:"Search and select country...",required:!0},_.country)]}),n.jsxs("div",{children:[n.jsx(Jo,{children:"City"}),n.jsx(Oe,{value:_.city,onChange:ee=>z("city",ee),options:oe,placeholder:"Search and select city...",disabled:_.country==="All countries"},_.country)]})]})]}),n.jsxs("section",{className:"hidden",children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"Skills & Tags"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("input",{type:"text",value:Y,onChange:ee=>te(ee.target.value),onKeyDown:ee=>{ee.key==="Enter"&&(ee.preventDefault(),O())},placeholder:"Add skills (e.g., JavaScript, Marketing, Design)",className:"flex-1 rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"}),n.jsxs("button",{type:"button",onClick:O,className:"inline-flex items-center gap-1 rounded-lg px-3 py-2 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700","aria-label":"Add skill",children:[n.jsx(wa.plus,{})," Add"]})]}),_.skills.length>0&&n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:_.skills.map((ee,de)=>n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-50 text-brand-700 px-3 py-1 text-xs border border-brand-100",children:[ee,n.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>U(de),title:"Remove",children:"×"})]},`${ee}-${de}`))})]}),n.jsx("section",{children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Category"}),n.jsx(Oe,{ariaLabel:"Category",value:Fe.categoryId,onChange:ee=>Ve({categoryId:ee,subcategoryId:"",subsubCategoryId:""}),options:rt,placeholder:"Search & select category…"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Subcategory"}),n.jsx(Oe,{ariaLabel:"Subcategory",value:Fe.subcategoryId,onChange:ee=>Ve(de=>me(ne({},de),{subcategoryId:ee,subsubCategoryId:""})),options:nt,placeholder:"Search & select subcategory…",disabled:!Fe.categoryId})]})]})}),n.jsxs("section",{className:"hidden",children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"Industry Classification"}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select the industry category and subcategory that best describes your service."}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Category"}),n.jsx(Oe,{ariaLabel:"Industry Category",value:Se.categoryId,onChange:ee=>$e({categoryId:ee,subcategoryId:""}),options:Ue,placeholder:"Search & select industry category…"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Subcategory"}),n.jsx(Oe,{ariaLabel:"Industry Subcategory",value:Se.subcategoryId,onChange:ee=>$e(de=>me(ne({},de),{subcategoryId:ee})),options:xt,placeholder:"Search & select industry subcategory…",disabled:!Se.categoryId})]})]})]}),n.jsxs("section",{children:[n.jsx(Jo,{children:"Portfolio & Attachments (Optional)"}),n.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-600",children:[n.jsxs("div",{className:"flex justify-center items-center gap-3 mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(wa.image,{}),n.jsx("span",{className:"text-xs",children:"Images"})]}),n.jsx("div",{className:"h-4 w-px bg-gray-300"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(wa.video,{}),n.jsx("span",{className:"text-xs",children:"Videos"})]}),n.jsx("div",{className:"h-4 w-px bg-gray-300"}),n.jsx("div",{className:"flex items-center gap-1",children:n.jsx("span",{className:"text-xs",children:"Documents"})})]}),"Upload images, videos, or documents showcasing your work",n.jsxs("div",{className:"mt-3",children:[n.jsx("input",{ref:W,type:"file",multiple:!0,accept:"image/*,video/*,.pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.txt",className:"hidden",onChange:ee=>fe(ee.target.files)}),n.jsx("button",{type:"button",onClick:()=>{var ee;return(ee=W.current)==null?void 0:ee.click()},className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Choose Files"})]}),f&&Object.keys(p).length>0&&n.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Uploading ",Object.keys(p).length," file(s)..."]}),n.jsxs("span",{className:"text-sm text-gray-500",children:[Object.values(p)[0],"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-brand-600 h-2 rounded-full transition-all duration-300",style:{width:`${Object.values(p)[0]||0}%`}})})]}),(K.length>0||g>0)&&n.jsxs("div",{className:"mt-6 grid sm:grid-cols-2 gap-4 text-left",children:[K.map((ee,de)=>{const ue=pq(ee),_e=Ob(ee),Xe=vq(ee);return ue||_e?n.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 overflow-hidden grid place-items-center relative cursor-pointer",onClick:()=>Z(de),children:_e?n.jsxs(n.Fragment,{children:[n.jsx("video",{src:ee,className:"h-full w-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:n.jsx(wa.video,{})})]}):n.jsx("img",{src:ee,alt:`Attachment ${de+1}`,className:"h-full w-full object-cover"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"truncate text-sm font-medium",children:ee.split("/").pop()}),n.jsxs("div",{className:"text-[11px] text-gray-500 truncate",children:[_e?"Video":"Image"," • Attached"]})]}),n.jsx("button",{type:"button",onClick:()=>le(de),className:"p-1 rounded hover:bg-gray-100",title:"Remove",children:n.jsx(wa.trash,{})})]},`${ee}-${de}`):Xe?n.jsxs("a",{href:ee,download:ee.split("/").pop(),className:"flex items-center gap-3 border rounded-lg p-3 hover:bg-gray-50",children:[n.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 grid place-items-center text-xs text-gray-500",children:"DOC"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"truncate text-sm font-medium",children:ee.split("/").pop()}),n.jsx("div",{className:"text-[11px] text-gray-500 truncate",children:"Tap to download"})]}),n.jsx("button",{type:"button",onClick:gt=>{gt.preventDefault(),gt.stopPropagation(),le(de)},className:"p-1 rounded hover:bg-gray-100",title:"Remove",children:n.jsx(wa.trash,{})})]},`${ee}-${de}`):null}),g>0&&Array.from({length:g}).map((ee,de)=>n.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-200 animate-pulse"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-1"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"}),f&&n.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-1.5",children:n.jsx("div",{className:"bg-brand-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${Object.values(p)[0]||0}%`}})})]}),n.jsx("div",{className:"h-8 w-8 rounded bg-gray-200 animate-pulse"})]},`att-skel-${de}`))]}),n.jsx("p",{className:"mt-2 text-[11px] text-gray-400",children:"Images & Documents: Up to 5MB each. Videos: Up to 50MB each. Supported formats: JPG, PNG, GIF, MP4, MOV, PDF, DOC, DOCX, PPT, PPTX, XLS, XLSX, TXT"})]})]}),n.jsx("section",{children:n.jsx("div",{className:"mb-4",children:y?n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-brand-600"}),n.jsx("h3",{className:"font-semibold text-brand-600",children:"Share With (Target Audience)"})]}),n.jsxs("button",{type:"button",onClick:()=>w(!1),className:"inline-flex items-center gap-1 px-3 py-1 border border-gray-300 text-gray-600 rounded-lg text-xs hover:bg-gray-50",children:[n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Hide"]})]}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select who should see this service."}),n.jsx(gl,{tree:E,selected:C,onChange:ee=>T(ee)})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsxs("button",{type:"button",onClick:()=>w(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 5v14M5 12h14"})}),"Define Target Audience (optional)"]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Target your post to specific audiences"})]})})}),n.jsxs("div",{className:"flex justify-end gap-3",children:[!r&&n.jsx("button",{type:"button",className:fu.ghost,onClick:()=>a("/services"),children:"Cancel"}),n.jsx("button",{type:"submit",className:fu.primary,disabled:k,children:k?"Saving…":o?"Update":"Publish"})]})]})]}),b&&n.jsx(Td,{urls:B,initialIndex:j,onClose:se})]}))}const OEe=Object.freeze(Object.defineProperty({__proto__:null,default:sy},Symbol.toStringTag,{value:"Module"})),hu={primary:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",primaryWide:"w-full rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",ghost:"rounded-lg px-3 py-1.5 text-sm font-semibold border border-brand-600 text-brand-600 bg-white hover:bg-brand-50",badge:"inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium",chip:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs"},Dg={trash:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M9 3h6l1 2h4v2H4V5h4l1-2Zm1 6h2v9h-2V9Zm4 0h2v9h-2V9ZM6 9h2v9H6V9Z"})}),chevron:()=>n.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"m6 9 6 6 6-6"})}),video:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"m17 10.5-5-3v6l5-3Z"}),n.jsx("rect",{x:"3",y:"6",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),image:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),n.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5",fill:"currentColor"}),n.jsx("path",{d:"m21 15-5-5L5 21",stroke:"currentColor",strokeWidth:"2"})]})};function $Ee({images:t,className:r=""}){const[s,a]=u.useState(0),i=()=>{a(c=>c===t.length-1?0:c+1)},o=()=>{a(c=>c===0?t.length-1:c-1)},l=c=>{a(c)};return!t||t.length===0?n.jsx("div",{className:`w-full h-64 bg-gray-100 flex items-center justify-center text-gray-400 ${r}`,children:"No Images"}):n.jsxs("div",{className:`relative w-full h-64 bg-gray-100 rounded-lg overflow-hidden ${r}`,children:[n.jsx("div",{className:"w-full h-full",children:n.jsx("img",{src:t[s].startsWith("http")?t[s]:`${En}/uploads/${t[s]}`,alt:`Slide ${s+1}`,className:"w-full h-full object-cover"})}),t.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:o,className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-all",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsx("button",{onClick:i,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-all",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),t.length>1&&n.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:t.map((c,d)=>n.jsx("button",{onClick:()=>l(d),className:`w-2 h-2 rounded-full transition-all ${d===s?"bg-white":"bg-white/50"}`},d))}),t.length>1&&n.jsxs("div",{className:"absolute top-4 right-4 bg-black/50 text-white px-2 py-1 rounded-full text-xs",children:[s+1," / ",t.length]})]})}function PEe(t){return typeof t=="string"&&/\.(jpg|jpeg|png|gif|webp|svg)$/i.test(t)}function t8(t){return typeof t=="string"&&/\.(mp4|mov|avi|mkv|webm|flv|wmv|m4v|3gp|ogv)$/i.test(t)}function DEe(t){return t.type.startsWith("image/")?"image":t.type.startsWith("video/")?"video":"document"}function REe(t=[]){const r=new Map,s=new Map,a=new Map,i=new Map;for(const o of t){r.set(String(o.id),o.name||o.title||`Identity ${o.id}`);for(const l of o.categories||[]){s.set(String(l.id),l.name||l.title||`Category ${l.id}`);for(const c of l.subcategories||[]){a.set(String(c.id),c.name||c.title||`Subcategory ${c.id}`);for(const d of c.subsubs||[])i.set(String(d.id),d.name||d.title||`Sub-sub ${d.id}`)}}}return{ids:r,cats:s,subs:a,subsubs:i}}function FEe({message:t="Loading..."}){return n.jsx("div",{className:"mt-6 rounded-2xl bg-white border border-gray-100 shadow-sm p-6 flex items-center justify-center h-60",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin text-3xl mb-2",children:"⟳"}),n.jsx("p",{className:"text-sm text-gray-700",children:t})]})})}const BEe=["USD","EUR","GBP","NGN","GHS","ZAR","KES","UGX","TZS","XOF","XAF","MAD","DZD","TND","EGP","ETB","NAD","BWP","MZN","ZMW","RWF","BIF","SOS","SDG","CDF"];function zEe({form:t,images:r,audSel:s,audTree:a,hideHeader:i}){const o=u.useMemo(()=>REe(a),[a]),l=Array.from(s.identityIds||[]).map(g=>o.ids.get(String(g))).filter(Boolean),c=Array.from(s.categoryIds||[]).map(g=>o.cats.get(String(g))).filter(Boolean),d=Array.from(s.subcategoryIds||[]).map(g=>o.subs.get(String(g))).filter(Boolean),f=Array.from(s.subsubCategoryIds||[]).map(g=>o.subsubs.get(String(g))).filter(Boolean),h=Array.isArray(t.tags)?t.tags:typeof t.tags=="string"?t.tags.split(",").map(g=>g.trim()).filter(Boolean):[];return n.jsxs("div",{className:"mt-6 rounded-2xl bg-white border border-gray-100 shadow-sm overflow-hidden",children:[r!=null&&r.length?n.jsx("div",{className:"p-4",children:n.jsx($Ee,{images:r,className:"w-full"})}):n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"w-full h-64 bg-gray-100 rounded-lg flex items-center justify-center text-gray-400",children:"No Images Available"})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold",children:t.title||"Untitled product"}),n.jsx("p",{className:"mt-1 text-sm text-gray-600 whitespace-pre-wrap",children:t.description||"No description provided."})]})}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[n.jsxs("div",{className:"rounded-xl border p-4 text-sm text-gray-700",children:[n.jsx("div",{className:"text-gray-800 font-medium",children:"Pricing"}),n.jsxs("div",{className:"mt-2",children:["Price: ",t.price!==""?t.price:"—"," ",t.currency?`(${t.currency})`:""]}),n.jsxs("div",{children:["Quantity: ",t.quantity!==""?t.quantity:"—"]})]}),n.jsxs("div",{className:"rounded-xl border p-4 text-sm text-gray-700",children:[n.jsx("div",{className:"text-gray-800 font-medium",children:"Location"}),n.jsxs("div",{className:"mt-2",children:[t.city?`${t.city}, `:"",t.country||"-"]})]})]}),n.jsxs("div",{className:"hidden",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Tags"}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:h.length?h.map(g=>n.jsx("span",{className:hu.chip,children:g},g)):n.jsx("span",{className:"text-sm text-gray-500",children:"—"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Target Audience"}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[l.map(g=>n.jsx("span",{className:hu.chip,children:g},`i-${g}`)),c.map(g=>n.jsx("span",{className:hu.chip,children:g},`c-${g}`)),d.map(g=>n.jsx("span",{className:hu.chip,children:g},`s-${g}`)),f.map(g=>n.jsx("span",{className:hu.chip,children:g},`ss-${g}`)),!l.length&&!c.length&&!d.length&&!f.length&&n.jsx("span",{className:"text-sm text-gray-500",children:"Everyone"})]})]})]})]})}function l6({triggerImageSelection:t=!1,hideHeader:r=!1,onSuccess:s}){const a=qt(),{id:i}=Ds(),o=!!i,{user:l}=Xt(),[c,d]=u.useState(!1),[f,h]=u.useState(!1),[g,m]=u.useState(!1),[p,x]=u.useState(0),[y,w]=u.useState({}),[b,v]=u.useState(null),[j,N]=u.useState(!1),[S,I]=u.useState(0),[E,L]=u.useState([]),[C,T]=u.useState([]),[k,M]=u.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[_,J]=u.useState([]),[Y,te]=u.useState({categoryId:"",subcategoryId:"",subsubCategoryId:""}),K=[{value:"All countries",label:"All countries"},...An.map(ee=>({value:ee,label:ee}))],[X,W]=u.useState([]),[F,P]=u.useState({categoryId:"",subcategoryId:""});u.useEffect(()=>{ve(this,null,function*(){try{const{data:ee}=yield Le.get("/general-categories/tree?type=product");J(ee.generalCategories||[])}catch(ee){console.error("Failed to load general categories",ee)}})},[]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:ee}=yield Le.get("/industry-categories/tree");W(ee.industryCategories||[])}catch(ee){console.error("Failed to load industry categories",ee)}})},[]);function A({value:ee,onChange:de,options:ue,placeholder:_e="Select…",disabled:Xe=!1,required:gt=!1,ariaLabel:wt}){const[vt,ct]=u.useState(!1),[Ze,dt]=u.useState(""),[yt,Ie]=u.useState(0),ze=u.useRef(null),qe=u.useRef(null),[it,Ae]=u.useState(!1),Ge=u.useMemo(()=>ue.find(H=>String(H.value)===String(ee))||null,[ue,ee]),Ye=u.useMemo(()=>{const H=Ze.trim().toLowerCase();return H?ue.map(V=>({o:V,score:(V.label||"").toLowerCase().indexOf(H)})).filter(V=>V.score!==-1).sort((V,re)=>V.score-re.score).map(V=>V.o).slice(0,100):ue.slice(0,100)},[Ze,ue]),Ot=it||vt||Ze!==""?Ze:(Ge==null?void 0:Ge.label)||"";u.useEffect(()=>{function H(V){ze.current&&(ze.current.contains(V.target)||ct(!1))}return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]),u.useEffect(()=>{vt||Ie(0)},[vt,Ze]);function ft(H){var V;de==null||de((H==null?void 0:H.value)||""),dt(""),ct(!1),(V=qe.current)==null||V.blur()}function D(){var H;de==null||de(""),dt(""),ct(!1),(H=qe.current)==null||H.focus()}function Q(H){if(!Xe){if(!vt&&(H.key==="ArrowDown"||H.key==="ArrowUp")){ct(!0);return}if(!vt){H.key==="Backspace"&&(H.preventDefault(),dt(Ge&&!Ze?(Ge.label||"").slice(0,-1):(Ze||"").slice(0,-1)),ct(!0));return}if(H.key==="ArrowDown")H.preventDefault(),Ie(V=>Math.min(V+1,Ye.length-1));else if(H.key==="ArrowUp")H.preventDefault(),Ie(V=>Math.max(V-1,0));else if(H.key==="Enter"){H.preventDefault();const V=Ye[yt];V&&ft(V)}else H.key==="Escape"&&ct(!1)}}return n.jsxs("div",{ref:ze,className:`relative ${Xe?"opacity-60":""}`,children:[n.jsxs("div",{className:"grid gap-1.5",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{ref:qe,type:"text",value:Ot,disabled:Xe,placeholder:_e,onChange:H=>{dt(H.target.value),ct(!0)},onFocus:()=>{Xe||(Ae(!0),ct(!0))},onBlur:()=>Ae(!1),onKeyDown:Q,"aria-autocomplete":"list","aria-expanded":vt,"aria-controls":"ss-results","aria-label":wt||_e,role:"combobox",autoComplete:"off",className:"w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-16 focus:outline-none focus:ring-2 focus:ring-brand-200 text-black"}),Ge&&!Xe?n.jsx("button",{type:"button",onClick:D,className:"absolute right-8 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-gray-100",title:"Clear",children:"×"}):null,n.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:n.jsx(Dg.chevron,{})})]}),gt&&n.jsx("input",{tabIndex:-1,"aria-hidden":"true",className:"sr-only",required:!0,value:ee||"",onChange:()=>{}})]}),vt&&!Xe&&n.jsx("div",{id:"ss-results",role:"listbox",className:"absolute z-30 mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:Ye.length===0?n.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No results"}):n.jsx("ul",{className:"max-h-72 overflow-auto",children:Ye.map((H,V)=>{const re=V===yt;return n.jsx("li",{role:"option","aria-selected":re,className:`cursor-pointer px-3 py-2 text-sm ${re?"bg-brand-50":"hover:bg-gray-50"}`,onMouseEnter:()=>Ie(V),onMouseDown:ge=>{ge.preventDefault(),ft(H)},children:H.label},H.value)})})})]})}const[B,z]=u.useState(!1),[O,U]=u.useState({title:"",categoryId:"",subcategoryId:"",price:"",currency:"USD",quantity:"",description:"",country:"All countries",city:"",tags:[]}),[Z,se]=u.useState([]),[fe,le]=u.useState(!0);u.useEffect(()=>{ve(this,null,function*(){try{const de=yield fetch("/data/cities.json");if(!de.ok)throw new Error("Failed to fetch cities");const ue=yield de.json();se(ue)}catch(de){console.error("Error fetching cities:",de)}finally{le(!1)}})},[]);const Ne=u.useMemo(()=>Z.slice(0,1e4).map(ee=>({value:ee.city,label:`${ee.city}${ee.country?`, ${ee.country}`:""}`,country:ee.country})),[Z]),Te=u.useMemo(()=>O.country?String(O.country).split(",").map(ee=>ee.trim().toLowerCase()).filter(Boolean):[],[O.country]),ht=u.useMemo(()=>{if(Te.length===0||Te.includes("all countries"))return[];const ee=new Set(Te);return Ne.filter(de=>ee.has(de.country.toLowerCase()))},[Te,Ne]),Fe=u.useMemo(()=>_.map(ee=>({value:ee.id,label:ee.name||`Category ${ee.id}`})),[_]),Ve=u.useMemo(()=>{const ee=_.find(de=>de.id===Y.categoryId);return((ee==null?void 0:ee.subcategories)||[]).map(de=>({value:de.id,label:de.name||`Subcategory ${de.id}`}))},[_,Y.categoryId]);u.useMemo(()=>{var ue;const ee=_.find(_e=>_e.id===Y.categoryId),de=(ue=ee==null?void 0:ee.subcategories)==null?void 0:ue.find(_e=>_e.id===Y.subcategoryId);return((de==null?void 0:de.subsubcategories)||[]).map(_e=>({value:_e.id,label:_e.name||`Sub-sub ${_e.id}`}))},[_,Y.categoryId,Y.subcategoryId]);const ut=u.useMemo(()=>X.map(ee=>({value:ee.id,label:ee.name||`Category ${ee.id}`})),[X]),Je=u.useMemo(()=>{const ee=X.find(de=>de.id===F.categoryId);return((ee==null?void 0:ee.subcategories)||[]).map(de=>({value:de.id,label:de.name||`Subcategory ${de.id}`}))},[X,F.categoryId]),[G,ae]=u.useState(""),[Me,he]=u.useState([]),ye=u.useRef(null),oe=u.useMemo(()=>Me.filter(ee=>PEe(ee)||t8(ee)).map(ee=>ee.startsWith("http")?ee:`${En}/uploads/${ee}`),[Me]);u.useEffect(()=>{if(t&&ye.current){const ee=setTimeout(()=>{var de;(de=ye.current)==null||de.click()},100);return()=>clearTimeout(ee)}},[t]);const ie=o&&b&&(l==null?void 0:l.id)!==b;function q(){if(ie)return;const ee=(G||"").trim();ee&&(U(de=>de.tags.includes(ee)?de:me(ne({},de),{tags:[...de.tags,ee]})),ae(""))}function Se(ee){ie||U(de=>me(ne({},de),{tags:de.tags.filter((ue,_e)=>_e!==ee)}))}function $e(ee){I(ee),N(!0)}function rt(){N(!1)}u.useEffect(()=>{ve(this,null,function*(){try{const{data:ee}=yield Le.get("/public/identities?type=all");T(ee.identities||[])}catch(ee){console.error(ee)}})},[]),u.useEffect(()=>{o&&(h(!0),ve(this,null,function*(){try{const{data:ee}=yield Le.get(`/products/${i}?updated=true`),de=ee.sellerUserId;v(de),U(ue=>{var _e,Xe,gt,wt;return me(ne(ne({},ue),ee),{title:ee.title||"",categoryId:ee.categoryId||"",subcategoryId:ee.subcategoryId||"",price:((Xe=(_e=ee.price)==null?void 0:_e.toString)==null?void 0:Xe.call(_e))||"",currency:ee.currency||"USD",quantity:((wt=(gt=ee.quantity)==null?void 0:gt.toString)==null?void 0:wt.call(gt))||"",description:ee.description||"",country:ee.country||"",city:ee.city||"",tags:Array.isArray(ee.tags)?ee.tags:typeof ee.tags=="string"?ee.tags.split(",").map(vt=>vt.trim()).filter(Boolean):[]})}),Array.isArray(ee.images)&&he(ee.images.filter(ue=>(ue==null?void 0:ue.filename)||typeof ue=="string").map(ue=>typeof ue=="string"?ue:ue.filename)),M({identityIds:new Set((ee.audienceIdentities||[]).map(ue=>ue.id)),categoryIds:new Set((ee.audienceCategories||[]).map(ue=>ue.id)),subcategoryIds:new Set((ee.audienceSubcategories||[]).map(ue=>ue.id)),subsubCategoryIds:new Set((ee.audienceSubsubs||[]).map(ue=>ue.id))}),te({categoryId:ee.generalCategoryId||"",subcategoryId:ee.generalSubcategoryId||"",subsubCategoryId:ee.generalSubsubCategoryId||""}),P({categoryId:ee.industryCategoryId||"",subcategoryId:ee.industrySubcategoryId||"",subsubCategoryId:ee.industrySubsubCategoryId||""})}catch(ee){console.error(ee),ce.error("Failed to load product"),a("/products")}finally{h(!1)}}))},[o,i,a]),console.log({form:O}),u.useEffect(()=>{ve(this,null,function*(){try{const{data:ee}=yield Le.get("/categories/tree");L(ee.categories||[])}catch(ee){console.error("Error loading categories:",ee)}})},[]);function nt(ee,de){U(ue=>{const _e=me(ne({},ue),{[ee]:de});return ee==="country"&&de==="All countries"&&(_e.city=""),_e})}function Ue(){return O.title.trim()?O.description.trim()?Me.length?O.price!==""&&Number(O.price)<0?"Price cannot be negative.":O.quantity!==""&&Number(O.quantity)<0?"Quantity cannot be negative.":null:"Please add at least one product image.":"Description is required.":"Title is required."}function xt(ee){return ve(this,null,function*(){const de=Array.from(ee||[]);if(!de.length)return;const ue={video:50*1024*1024,image:5*1024*1024},_e=de.filter(vt=>{const ct=DEe(vt);return vt.size>ue[ct]});if(_e.length>0){const vt=_e.map(ct=>ct.name).join(", ");ce.error(`Files exceeding size limit: ${vt}`);return}if(de.filter(vt=>vt.type.startsWith("image/")||vt.type.startsWith("video/")).length!==de.length){ce.error("Only image and video files are allowed.");return}const gt=20-Me.length,wt=gt>0?de.slice(0,gt):[];try{m(!0),x(wt.length);const vt={};wt.forEach(yt=>{vt[yt.name]=0}),w(vt);const ct=new FormData;wt.forEach(yt=>{ct.append("images",yt)});const dt=(yield Le.post("/products/upload-images",ct,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:yt=>{if(yt.total){const Ie=Math.round(yt.loaded*100/yt.total),ze={};wt.forEach(qe=>{ze[qe.name]=Ie}),w(ze)}}})).data.filenames.map(yt=>yt);he(yt=>[...yt,...dt]),w({})}catch(vt){console.error(vt),ce.error("Some images/videos could not be uploaded."),w({})}finally{m(!1),x(0)}})}function Oe(ee){he(de=>de.filter((ue,_e)=>_e!==ee))}function Ee(ee){return ve(this,null,function*(){var ue,_e;ee.preventDefault();const de=Ue();if(de){ce.error(de);return}z(!0);try{const Xe={title:O.title,categoryId:O.categoryId||void 0,subcategoryId:O.subcategoryId||void 0,price:O.price!==""&&!Number.isNaN(Number(O.price))?Number(O.price):void 0,quantity:O.quantity!==""&&!Number.isNaN(Number(O.quantity))?Number(O.quantity):void 0,description:O.description,country:O.country||void 0,city:O.country==="All countries"?void 0:O.city||void 0,tags:O.tags,images:Me.map(gt=>gt.includes("http")?gt:`${En}/uploads/${gt}`),currency:O.currency,identityIds:Array.from(k.identityIds),categoryIds:Array.from(k.categoryIds),subcategoryIds:Array.from(k.subcategoryIds),subsubCategoryIds:Array.from(k.subsubCategoryIds),generalCategoryId:Y.categoryId||null,generalSubcategoryId:Y.subcategoryId||null,generalSubsubCategoryId:Y.subsubCategoryId||null,industryCategoryId:F.categoryId||null,industrySubcategoryId:F.subcategoryId||null};o?(yield Le.put(`/products/${i}`,Xe),ce.success("Product updated!")):(yield Le.post("/products",Xe),ce.success("Product published!"),r&&s?s():a("/products"))}catch(Xe){console.error(Xe),ce.error(((_e=(ue=Xe==null?void 0:Xe.response)==null?void 0:ue.data)==null?void 0:_e.message)||"Could not save product")}finally{z(!1)}})}return f&&i?n.jsx(ei,{message:"Loading product…",tip:"Fetching..."}):n.jsxs("div",{className:"min-h-screen bg-[#F7F7FB] text-gray-900",children:[!r&&n.jsx(an,{page:"products"}),n.jsxs("main",{className:`mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 ${r?"py-4":"py-8"} fle justify-center gap-6`,children:[!r&&n.jsx("button",{onClick:()=>a("/products"),className:"flex items-center gap-2 mb-2 text-sm text-gray-600 hover:text-brand-600",children:"← Go to Products"}),n.jsxs("section",{className:"lg:col-span-8",children:[o?f?n.jsx(FEe,{message:"Loading product…"}):ie?n.jsx(zEe,{form:O,hideHeader:r,images:Me,audSel:k,audTree:C}):null:null,(!o||!f&&!ie)&&n.jsxs("form",{onSubmit:Ee,className:"rounded-2xl bg-white border border-gray-100 p-6 shadow-sm space-y-6",children:[o&&n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("div",{children:n.jsx("h1",{className:"text-xl font-bold",children:o?"Edit Product":"Create New Product Post"})})}),n.jsx("div",{children:n.jsx("input",{type:"text",value:O.title,onChange:ee=>nt("title",ee.target.value),placeholder:"Enter your product title...",className:"mt-2 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",required:!0})}),n.jsx("div",{children:n.jsx("textarea",{value:O.description,onChange:ee=>nt("description",ee.target.value),placeholder:"Describe the product you are launching or promoting and boost your sales and partnerships.",_placeholder:"Describe your product in detail...",className:"mt-2 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",rows:4,required:!0})}),n.jsxs("section",{children:[n.jsxs("h2",{className:"text-[12px] font-medium text-gray-700",children:["Product Images & Videos ",n.jsx("label",{className:"text-[crimson] text-[14px]",children:"*"})]}),n.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-600",children:[n.jsxs("div",{className:"flex justify-center items-center gap-3 mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Dg.image,{}),n.jsx("span",{className:"text-xs",children:"Images"})]}),n.jsx("div",{className:"h-4 w-px bg-gray-300"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Dg.video,{}),n.jsx("span",{className:"text-xs",children:"Videos"})]})]}),"Upload images or videos to showcase your product",n.jsxs("div",{className:"mt-3",children:[n.jsx("input",{ref:ye,type:"file",multiple:!0,accept:"image/*,video/*",className:"hidden",onChange:ee=>xt(ee.target.files)}),n.jsx("button",{type:"button",onClick:()=>{var ee;return(ee=ye.current)==null?void 0:ee.click()},className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Choose Files"})]}),g&&Object.keys(y).length>0&&n.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Uploading ",Object.keys(y).length," file(s)..."]}),n.jsxs("span",{className:"text-sm text-gray-500",children:[Object.values(y)[0],"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-brand-600 h-2 rounded-full transition-all duration-300",style:{width:`${Object.values(y)[0]||0}%`}})})]}),(Me.length>0||p>0)&&n.jsxs("div",{className:"mt-6 grid sm:grid-cols-2 gap-4 text-left",children:[Me.map((ee,de)=>{const ue=t8(ee),_e=ee.startsWith("http")?ee:`${En}/uploads/${ee}`;return n.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 overflow-hidden grid place-items-center relative cursor-pointer",onClick:()=>$e(de),children:ue?n.jsxs(n.Fragment,{children:[n.jsx("video",{src:_e,className:"h-full w-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:n.jsx(Dg.video,{})})]}):n.jsx("img",{src:_e,alt:`Product media ${de+1}`,className:"h-full w-full object-cover"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"truncate text-sm font-medium",children:[ue?"Video":"Image"," ",de+1]}),n.jsxs("div",{className:"text-[11px] text-gray-500 truncate",children:[ue?"Video":"Image"," • Attached"]})]}),n.jsx("button",{type:"button",onClick:()=>Oe(de),className:"p-1 rounded hover:bg-gray-100",title:"Remove",children:n.jsx(Dg.trash,{})})]},`${ee}-${de}`)}),p>0&&Array.from({length:p}).map((ee,de)=>n.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-200 animate-pulse"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-1"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"}),g&&n.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-1.5",children:n.jsx("div",{className:"bg-brand-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${Object.values(y)[0]||0}%`}})})]}),n.jsx("div",{className:"h-8 w-8 rounded bg-gray-200 animate-pulse"})]},`img-skel-${de}`))]}),n.jsx("p",{className:"mt-2 text-[11px] text-gray-400",children:"Images: Up to 5MB each. Videos: Up to 50MB each. Supported formats: JPG, PNG, GIF, MP4, MOV"})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-[12px] font-medium text-gray-700",children:"Price"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:O.price,onChange:ee=>nt("price",ee.target.value.replace(/[^\d\-\(\)]/g,"")),placeholder:"0.00",className:"mt-2 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-[12px] font-medium text-gray-700",children:"Currency"}),n.jsx("select",{className:"mt-2 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",name:"currency",onChange:ee=>nt("currency",ee.target.value),value:O.currency,children:BEe.map(ee=>n.jsx("option",{value:ee,children:ee},ee))})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-[12px] font-medium text-gray-700",children:"Quantity Available"}),n.jsx("input",{type:"number",min:"0",value:O.quantity,onChange:ee=>nt("quantity",ee.target.value.replace(/[^\d\-\(\)]/g,"")),placeholder:"Enter quantity",className:"mt-2 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]})]}),n.jsx("div",{children:n.jsxs("div",{className:"mt-3 grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Country"}),n.jsx(A,{value:O.country,onChange:ee=>nt("country",ee),options:K,placeholder:"Search and select country..."},O.country)]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"City"}),n.jsx(A,{value:O.city,onChange:ee=>nt("city",ee),options:ht,placeholder:"Search and select city...",disabled:O.country==="All countries"},O.country)]})]})}),n.jsxs("div",{className:"hidden",children:[n.jsx("h2",{className:"font-semibold",children:"Tags"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("input",{type:"text",value:G,onChange:ee=>ae(ee.target.value),onKeyDown:ee=>{ee.key==="Enter"&&(ee.preventDefault(),q())},placeholder:"Add a tag (e.g., organic, handmade)",className:"flex-1 rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"}),n.jsx("button",{type:"button",onClick:q,className:"inline-flex items-center gap-1 rounded-lg px-3 py-2 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700",children:"+ Add"})]}),O.tags.length>0&&n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:O.tags.map((ee,de)=>n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-50 text-brand-700 px-3 py-1 text-xs border border-brand-100",children:[ee,n.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>Se(de),title:"Remove",children:"×"})]},`${ee}-${de}`))}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Tags help others find your product"})]}),n.jsx("section",{children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Category"}),n.jsx(A,{ariaLabel:"Category",value:Y.categoryId,onChange:ee=>te({categoryId:ee,subcategoryId:"",subsubCategoryId:""}),options:Fe,placeholder:"Search & select category…"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Subcategory"}),n.jsx(A,{ariaLabel:"Subcategory",value:Y.subcategoryId,onChange:ee=>te(de=>me(ne({},de),{subcategoryId:ee,subsubCategoryId:""})),options:Ve,placeholder:"Search & select subcategory…",disabled:!Y.categoryId})]})]})}),n.jsxs("section",{className:"hidden",children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"Industry Classification"}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select the industry category and subcategory that best describes your product."}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Category"}),n.jsx(A,{ariaLabel:"Industry Category",value:F.categoryId,onChange:ee=>P({categoryId:ee,subcategoryId:""}),options:ut,placeholder:"Search & select industry category…"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Subcategory"}),n.jsx(A,{ariaLabel:"Industry Subcategory",value:F.subcategoryId,onChange:ee=>P(de=>me(ne({},de),{subcategoryId:ee})),options:Je,placeholder:"Search & select industry subcategory…",disabled:!F.categoryId})]})]})]}),n.jsx("section",{children:n.jsx("div",{className:"mb-4",children:c?n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-brand-600"}),n.jsx("h3",{className:"font-semibold text-brand-600",children:"Share With (Target Audience)"})]}),n.jsxs("button",{type:"button",onClick:()=>d(!1),className:"inline-flex items-center gap-1 px-3 py-1 border border-gray-300 text-gray-600 rounded-lg text-xs hover:bg-gray-50",children:[n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Hide"]})]}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select who should see this product."}),n.jsx(gl,{tree:C,selected:k,onChange:ee=>M(ee)})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsxs("button",{type:"button",onClick:()=>d(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 5v14M5 12h14"})}),"Define Target Audience (optional)"]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Target your post to specific audiences"})]})})}),n.jsxs("div",{className:"flex justify-end gap-3",children:[!r&&n.jsx("button",{type:"button",onClick:()=>a("/products"),className:hu.ghost,children:"Cancel"}),n.jsx("button",{type:"submit",className:hu.primaryWide,disabled:B,children:B?"Saving…":o?"Update":"Publish"})]})]})]}),n.jsxs("aside",{className:"lg:col-span-4 space-y-4 hidden",children:[n.jsxs("div",{className:"rounded-2xl bg-brand-700 p-6 text-white shadow-sm",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"🚀 Boost Your Post"}),n.jsx("p",{className:"mt-1 text-sm",children:"Reach more potential customers across Africa"}),n.jsx("button",{className:"mt-4 bg-white text-brand-700 rounded-lg px-4 py-2 text-sm font-semibold",children:"Learn More"})]}),n.jsxs("div",{className:"rounded-2xl bg-white border border-gray-100 p-6 shadow-sm",children:[n.jsx("h3",{className:"font-semibold text-brand-600",children:"📌 Product Posting Tips"}),n.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-gray-600",children:[n.jsx("li",{children:"✅ Use high-quality images"}),n.jsx("li",{children:"✅ Write detailed descriptions"}),n.jsx("li",{children:"✅ Set competitive pricing"}),n.jsx("li",{children:"✅ Use relevant tags"})]})]})]})]}),j&&n.jsx(Td,{urls:oe,initialIndex:S,onClose:rt})]})}const UEe=Object.freeze(Object.defineProperty({__proto__:null,default:l6},Symbol.toStringTag,{value:"Module"})),gu={primary:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",primaryWide:"w-full rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",ghost:"rounded-lg px-3 py-1.5 text-sm font-semibold border border-brand-600 text-brand-600 bg-white hover:bg-brand-50",badge:"inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium",chip:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs"},Zd={trash:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M9 3h6l1 2h4v2H4V5h4l1-2Zm1 6h2v9h-2V9Zm4 0h2v9h-2V9ZM6 9h2v9H6V9Z"})}),chevron:()=>n.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"m6 9 6 6 6-6"})}),video:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"m17 10.5-5-3v6l5-3Z"}),n.jsx("rect",{x:"3",y:"6",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),image:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),n.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5",fill:"currentColor"}),n.jsx("path",{d:"m21 15-5-5L5 21",stroke:"currentColor",strokeWidth:"2"})]})};function WEe(t){return typeof t=="string"&&/\.(jpg|jpeg|png|gif|webp|svg)$/i.test(t)}function r8(t){return typeof t=="string"&&/\.(mp4|mov|avi|mkv|webm|flv|wmv|m4v|3gp|ogv)$/i.test(t)}function HEe(t){return t.type.startsWith("image/")?"image":t.type.startsWith("video/")?"video":"document"}function VEe(t=[]){const r=new Map,s=new Map,a=new Map,i=new Map;for(const o of t){r.set(String(o.id),o.name||o.title||`Identity ${o.id}`);for(const l of o.categories||[]){s.set(String(l.id),l.name||l.title||`Category ${l.id}`);for(const c of l.subcategories||[]){a.set(String(c.id),c.name||c.title||`Subcategory ${c.id}`);for(const d of c.subsubs||[])i.set(String(d.id),d.name||d.title||`Sub-sub ${d.id}`)}}}return{ids:r,cats:s,subs:a,subsubs:i}}function GEe({postType:t,form:r,images:s,audSel:a,audTree:i}){const o=u.useMemo(()=>VEe(i),[i]),l=Array.from(a.identityIds||[]).map(p=>o.ids.get(String(p))).filter(Boolean),c=Array.from(a.categoryIds||[]).map(p=>o.cats.get(String(p))).filter(Boolean),d=Array.from(a.subcategoryIds||[]).map(p=>o.subs.get(String(p))).filter(Boolean),f=Array.from(a.subsubCategoryIds||[]).map(p=>o.subsubs.get(String(p))).filter(Boolean),h=s!=null&&s[0]?`${s[0]}`:null,g=(s||[]).slice(1),m=Array.isArray(r.tags)?r.tags:typeof r.tags=="string"?r.tags.split(",").map(p=>p.trim()).filter(Boolean):[];return n.jsxs("div",{className:"mt-6 rounded-2xl bg-white border border-gray-100 shadow-sm overflow-hidden",children:[h?n.jsxs("div",{className:"relative aspect-[16/6] w-full bg-gray-100",children:[n.jsx("img",{src:h,alt:"Cover",className:"h-full w-full object-cover"}),n.jsx("span",{className:"absolute left-4 top-4 bg-white/90 border border-gray-200 text-gray-700 rounded-full px-2 py-0.5 text-xs font-medium",children:t})]}):null,n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold",children:r.title||"Untitled Post"}),n.jsx("div",{className:"mt-1 text-sm text-gray-700",children:[r.location,r.country].filter(Boolean).join(", ")||"—"})]})}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[n.jsxs("div",{className:"rounded-xl border p-4 hidden",children:[n.jsx("div",{className:"text-gray-700 font-medium",children:"Season"}),n.jsx("div",{className:"mt-1 text-sm text-gray-700",children:r.season||"—"})]}),n.jsxs("div",{className:"rounded-xl border p-4 hidden",children:[n.jsx("div",{className:"text-gray-700 font-medium",children:"Budget Range"}),n.jsx("div",{className:"mt-1 text-sm text-gray-700",children:r.budgetRange||"—"})]}),n.jsxs("div",{className:"rounded-xl border p-4 hidden",children:[n.jsx("div",{className:"text-gray-700 font-medium",children:"Post Type"}),n.jsx("div",{className:"mt-1 text-sm text-gray-700",children:t||"—"})]})]}),g.length>0?n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Photos"}),n.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:g.map((p,x)=>{const y=p.startsWith("http")?p:`${En}/uploads/${p}`;return n.jsx("div",{className:"relative w-full aspect-[16/10] bg-gray-100 rounded-xl overflow-hidden border",children:n.jsx("img",{src:y,alt:`Photo ${x+2}`,className:"h-full w-full object-cover"})},x)})})]}):null,n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Description"}),n.jsx("p",{className:"mt-2 text-sm text-gray-700 whitespace-pre-wrap",children:r.description||"No description provided."})]}),n.jsxs("div",{className:"hidden",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Tags"}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:m.length?m.map((p,x)=>n.jsx("span",{className:gu.chip,children:p},`${p}-${x}`)):n.jsx("span",{className:"text-sm text-gray-500",children:"—"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Target Audience"}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[l.map(p=>n.jsx("span",{className:gu.chip,children:p},`i-${p}`)),c.map(p=>n.jsx("span",{className:gu.chip,children:p},`c-${p}`)),d.map(p=>n.jsx("span",{className:gu.chip,children:p},`s-${p}`)),f.map(p=>n.jsx("span",{className:gu.chip,children:p},`ss-${p}`)),!l.length&&!c.length&&!d.length&&!f.length&&n.jsx("span",{className:"text-sm text-gray-500",children:"Everyone"})]})]})]})]})}function c6({triggerImageSelection:t=!1,hideHeader:r=!1,onSuccess:s}){const a=qt(),{id:i}=Ds(),o=!!i,{user:l}=Xt(),[c,d]=u.useState(!0),[f,h]=u.useState(!1),[g,m]=u.useState(0),[p,x]=u.useState({}),[y,w]=u.useState(null),[b,v]=u.useState(!1),[j,N]=u.useState(0),[S,I]=u.useState(!1),[E,L]=u.useState("Destination"),[C,T]=u.useState(!1),[k,M]=u.useState([]),[_,J]=u.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[Y,te]=u.useState({title:"",country:"All countries",location:"",description:"",season:"",budgetRange:"",tagsInput:"",tags:[]}),[K,X]=u.useState(""),[W,F]=u.useState([]),P=u.useRef(null),A=u.useMemo(()=>W.filter(Ee=>WEe(Ee)||r8(Ee)).map(Ee=>Ee.startsWith("http")?Ee:`${En}/uploads/${Ee}`),[W]),B=o&&y&&(l==null?void 0:l.id)!==y;u.useEffect(()=>{ve(this,null,function*(){try{const{data:Ee}=yield Le.get("/public/identities?type=all");M(Ee.identities||[])}catch(Ee){console.error(Ee)}})},[]);function z(){if(B)return;const Ee=(K||"").trim();Ee&&(te(ee=>ee.tags.includes(Ee)?ee:me(ne({},ee),{tags:[...ee.tags,Ee]})),X(""))}function O(Ee){B||te(ee=>me(ne({},ee),{tags:ee.tags.filter((de,ue)=>ue!==Ee)}))}u.useEffect(()=>{o&&ve(this,null,function*(){var Ee,ee,de,ue,_e,Xe,gt,wt,vt;try{d(!0);const{data:ct}=yield Le.get(`/tourism/${i}?updated=true`),Ze=(vt=(wt=(Xe=(ue=(ee=(Ee=ct.ownerUserId)!=null?Ee:ct.createdById)!=null?ee:ct.userId)!=null?ue:(de=ct.author)==null?void 0:de.id)!=null?Xe:(_e=ct.owner)==null?void 0:_e.id)!=null?wt:(gt=ct.createdBy)==null?void 0:gt.id)!=null?vt:null;w(Ze),L(ct.postType||"Destination"),te(dt=>me(ne({},dt),{title:ct.title||"",country:ct.country||"",location:ct.location||"",description:ct.description||"",season:ct.season||"",budgetRange:ct.budgetRange||"",tags:Array.isArray(ct.tags)?ct.tags:typeof ct.tags=="string"?ct.tags.split(",").map(yt=>yt.trim()).filter(Boolean):[]})),Array.isArray(ct.images)?F(ct.images.filter(dt=>(dt==null?void 0:dt.filename)||typeof dt=="string").map(dt=>typeof dt=="string"?dt:dt.filename)):F([]),J({identityIds:new Set((ct.audienceIdentities||[]).map(dt=>dt.id)),categoryIds:new Set((ct.audienceCategories||[]).map(dt=>dt.id)),subcategoryIds:new Set((ct.audienceSubcategories||[]).map(dt=>dt.id)),subsubCategoryIds:new Set((ct.audienceSubsubs||[]).map(dt=>dt.id))}),Ve({categoryId:ct.generalCategoryId||"",subcategoryId:ct.generalSubcategoryId||"",subsubCategoryId:ct.generalSubsubCategoryId||""}),Se({categoryId:ct.industryCategoryId||"",subcategoryId:ct.industrySubcategoryId||""}),d(!1)}catch(ct){console.error(ct),ce.error("Failed to load tourism post"),a("/tourism")}})},[o,i,a]);function U(Ee,ee){B||te(de=>{const ue=me(ne({},de),{[Ee]:ee});return Ee==="country"&&ee==="All countries"&&(ue.location=""),ue})}function Z(){return Y.title.trim()?Y.country.trim()?Y.description.trim()?W.length?null:"Please add at least one image.":"Description is required.":"Country is required.":"Title is required."}function se(Ee){return ve(this,null,function*(){if(B)return;const ee=Array.from(Ee||[]);if(!ee.length)return;const de={video:50*1024*1024,image:5*1024*1024},ue=ee.filter(wt=>{const vt=HEe(wt);return wt.size>de[vt]});if(ue.length>0){const wt=ue.map(vt=>vt.name).join(", ");ce.error(`Files exceeding size limit: ${wt}`);return}if(ee.filter(wt=>wt.type.startsWith("image/")||wt.type.startsWith("video/")).length!==ee.length){ce.error("Only image and video files are allowed.");return}const Xe=20-W.length,gt=Xe>0?ee.slice(0,Xe):[];try{h(!0),m(gt.length);const wt={};gt.forEach(dt=>{wt[dt.name]=0}),x(wt);const vt=new FormData;gt.forEach(dt=>{vt.append("images",dt)});const Ze=(yield Le.post("/tourism/upload-images",vt,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:dt=>{if(dt.total){const yt=Math.round(dt.loaded*100/dt.total),Ie={};gt.forEach(ze=>{Ie[ze.name]=yt}),x(Ie)}}})).data.filenames.map(dt=>dt);F(dt=>[...dt,...Ze]),x({})}catch(wt){console.error(wt),ce.error("Some images/videos could not be uploaded."),x({})}finally{h(!1),m(0)}})}function fe(Ee){B||F(ee=>ee.filter((de,ue)=>ue!==Ee))}function le(Ee){N(Ee),v(!0)}function Ne(){v(!1)}const[Te,ht]=u.useState([]),[Fe,Ve]=u.useState({categoryId:"",subcategoryId:"",subsubCategoryId:""}),ut=[{value:"All countries",label:"All countries"},...An.map(Ee=>({value:Ee,label:Ee}))],[Je,G]=u.useState([]),[ae,Me]=u.useState(!0);u.useEffect(()=>{ve(this,null,function*(){try{const ee=yield fetch("/data/cities.json");if(!ee.ok)throw new Error("Failed to fetch cities");const de=yield ee.json();G(de)}catch(ee){console.error("Error fetching cities:",ee)}finally{Me(!1)}})},[]);const ye=u.useMemo(()=>Je.slice(0,1e3).map(Ee=>({value:Ee.city,label:`${Ee.city}${Ee.country?`, ${Ee.country}`:""}`})),[Je]),[oe,ie]=u.useState([]),[q,Se]=u.useState({categoryId:"",subcategoryId:""});u.useEffect(()=>{ve(this,null,function*(){try{const{data:Ee}=yield Le.get("/general-categories/tree?type=tourism");ht(Ee.generalCategories||[])}catch(Ee){console.error("Failed to load general categories",Ee)}})},[]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:Ee}=yield Le.get("/industry-categories/tree");ie(Ee.industryCategories||[])}catch(Ee){console.error("Failed to load industry categories",Ee)}})},[]);const $e=u.useMemo(()=>Te.map(Ee=>({value:Ee.id,label:Ee.name||`Category ${Ee.id}`})),[Te]),rt=u.useMemo(()=>{const Ee=Te.find(ee=>ee.id===Fe.categoryId);return((Ee==null?void 0:Ee.subcategories)||[]).map(ee=>({value:ee.id,label:ee.name||`Subcategory ${ee.id}`}))},[Te,Fe.categoryId]);u.useMemo(()=>{var de;const Ee=Te.find(ue=>ue.id===Fe.categoryId),ee=(de=Ee==null?void 0:Ee.subcategories)==null?void 0:de.find(ue=>ue.id===Fe.subcategoryId);return((ee==null?void 0:ee.subsubcategories)||[]).map(ue=>({value:ue.id,label:ue.name||`Sub-sub ${ue.id}`}))},[Te,Fe.categoryId,Fe.subcategoryId]);const nt=u.useMemo(()=>oe.map(Ee=>({value:Ee.id,label:Ee.name||`Category ${Ee.id}`})),[oe]),Ue=u.useMemo(()=>{const Ee=oe.find(ee=>ee.id===q.categoryId);return((Ee==null?void 0:Ee.subcategories)||[]).map(ee=>({value:ee.id,label:ee.name||`Subcategory ${ee.id}`}))},[oe,q.categoryId]);function xt({value:Ee,onChange:ee,options:de,placeholder:ue="Select…",disabled:_e=!1,required:Xe=!1,ariaLabel:gt}){const[wt,vt]=u.useState(!1),[ct,Ze]=u.useState(""),[dt,yt]=u.useState(0),Ie=u.useRef(null),ze=u.useRef(null),[qe,it]=u.useState(!1),Ae=u.useMemo(()=>de.find(Q=>String(Q.value)===String(Ee))||null,[de,Ee]),Ge=u.useMemo(()=>{const Q=ct.trim().toLowerCase();return Q?de.map(H=>({o:H,score:(H.label||"").toLowerCase().indexOf(Q)})).filter(H=>H.score!==-1).sort((H,V)=>H.score-V.score).map(H=>H.o).slice(0,100):de.slice(0,100)},[ct,de]),Et=qe||wt||ct!==""?ct:(Ae==null?void 0:Ae.label)||"";u.useEffect(()=>{function Q(H){Ie.current&&(Ie.current.contains(H.target)||vt(!1))}return document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[]),u.useEffect(()=>{wt||yt(0)},[wt,ct]);function Ot(Q){var H;ee==null||ee((Q==null?void 0:Q.value)||""),Ze(""),vt(!1),(H=ze.current)==null||H.blur()}function ft(){var Q;ee==null||ee(""),Ze(""),vt(!1),(Q=ze.current)==null||Q.focus()}function D(Q){if(!_e){if(!wt&&(Q.key==="ArrowDown"||Q.key==="ArrowUp")){vt(!0);return}if(!wt){Q.key==="Backspace"&&(Q.preventDefault(),Ze(Ae&&!ct?(Ae.label||"").slice(0,-1):(ct||"").slice(0,-1)),vt(!0));return}if(Q.key==="ArrowDown")Q.preventDefault(),yt(H=>Math.min(H+1,Ge.length-1));else if(Q.key==="ArrowUp")Q.preventDefault(),yt(H=>Math.max(H-1,0));else if(Q.key==="Enter"){Q.preventDefault();const H=Ge[dt];H&&Ot(H)}else Q.key==="Escape"&&vt(!1)}}return n.jsxs("div",{ref:Ie,className:`relative ${_e?"opacity-60":""}`,children:[n.jsxs("div",{className:"grid gap-1.5",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{ref:ze,type:"text",value:Et,disabled:_e,placeholder:ue,onChange:Q=>{Ze(Q.target.value),vt(!0)},onFocus:()=>{_e||(it(!0),vt(!0))},onBlur:()=>it(!1),onKeyDown:D,"aria-autocomplete":"list","aria-expanded":wt,"aria-controls":"ss-results","aria-label":gt||ue,role:"combobox",autoComplete:"off",className:"w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-16 focus:outline-none focus:ring-2 focus:ring-brand-200 text-black"}),Ae&&!_e?n.jsx("button",{type:"button",onClick:ft,className:"absolute right-8 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-gray-100",title:"Clear",children:"×"}):null,n.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:n.jsx(Zd.chevron,{})})]}),Xe&&n.jsx("input",{tabIndex:-1,"aria-hidden":"true",className:"sr-only",required:!0,value:Ee||"",onChange:()=>{}})]}),wt&&!_e&&n.jsx("div",{id:"ss-results",role:"listbox",className:"absolute z-30 mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:Ge.length===0?n.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No results"}):n.jsx("ul",{className:"max-h-72 overflow-auto",children:Ge.map((Q,H)=>{const V=H===dt;return n.jsx("li",{role:"option","aria-selected":V,className:`cursor-pointer px-3 py-2 text-sm ${V?"bg-brand-50":"hover:bg-gray-50"}`,onMouseEnter:()=>yt(H),onMouseDown:re=>{re.preventDefault(),Ot(Q)},children:Q.label},Q.value)})})})]})}function Oe(Ee){return ve(this,null,function*(){var de,ue;if(Ee.preventDefault(),B)return;const ee=Z();if(ee)return ce.error(ee);T(!0);try{const _e={postType:E,title:Y.title,country:Y.country,location:Y.location||void 0,description:Y.description,season:Y.season||void 0,budgetRange:Y.budgetRange||void 0,tags:Y.tags,images:W.map(Xe=>Xe.includes("http")?Xe:`${En}/uploads/${Xe}`),identityIds:Array.from(_.identityIds),categoryIds:Array.from(_.categoryIds),subcategoryIds:Array.from(_.subcategoryIds),subsubCategoryIds:Array.from(_.subsubCategoryIds),generalCategoryId:Fe.categoryId||null,generalSubcategoryId:Fe.subcategoryId||null,generalSubsubCategoryId:Fe.subsubCategoryId||null,industryCategoryId:q.categoryId||null,industrySubcategoryId:q.subcategoryId||null};o?(yield Le.put(`/tourism/${i}`,_e),ce.success("Tourism post updated!")):(yield Le.post("/tourism",_e),ce.success("Tourism post published!"),r&&s?s():a("/tourism")),d(!0)}catch(_e){console.error(_e),ce.error(((ue=(de=_e==null?void 0:_e.response)==null?void 0:de.data)==null?void 0:ue.message)||"Could not save tourism post")}finally{T(!1),d(!1)}})}return c&&i?n.jsx(ei,{message:"Loading service…",tip:"Fetching..."}):n.jsxs("div",{className:"min-h-screen bg-[#F7F7FB] text-gray-900",children:[!r&&n.jsx(an,{page:"tourism"}),n.jsxs("main",{className:`mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 ${r?"py-4":"py-8"}`,children:[!r&&n.jsx("button",{onClick:()=>a("/tourism"),className:"flex items-center gap-2 text-sm text-gray-600 hover:underline",type:"button",children:"← Back"}),o&&!B&&n.jsx("h1",{className:"text-2xl font-bold mt-3",children:o?"Edit Tourism Post":"Create Tourism Post"}),B?n.jsx(GEe,{postType:E,form:Y,images:W,audSel:_,audTree:k}):n.jsxs("form",{onSubmit:Oe,className:"mt-6 rounded-2xl bg-white border border-gray-100 p-6 shadow-sm space-y-8",children:[n.jsxs("section",{children:[n.jsx("h2",{className:"font-semibold",children:"Post Type"}),n.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{label:"Destination",desc:"Share a beautiful location"},{label:"Experience",desc:"Share travel experiences"},{label:"Culture",desc:"Share cultural insights"}].map(Ee=>n.jsxs("button",{type:"button",onClick:()=>L(Ee.label),className:`border rounded-xl p-4 text-left transition-colors ${E===Ee.label?"border-brand-600 bg-brand-50":"border-gray-200 bg-white hover:border-brand-600"}`,children:[n.jsx("div",{className:"font-medium",children:Ee.label}),n.jsx("div",{className:"text-xs text-gray-500",children:Ee.desc})]},Ee.label))})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"font-semibold",children:"Title *"}),n.jsx("input",{type:"text",value:Y.title,onChange:Ee=>U("title",Ee.target.value),placeholder:"Enter an engaging title for your post",className:"mt-2 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",required:!0})]}),n.jsx("section",{children:n.jsx("textarea",{value:Y.description,onChange:Ee=>U("description",Ee.target.value),placeholder:"Describe the type of attraction and connect with potential clients.",className:"mt-2 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",rows:4,required:!0})}),n.jsxs("section",{children:[n.jsx("h2",{className:"font-semibold",children:"Country & City/Location *"}),n.jsxs("div",{className:"mt-2 grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Country *"}),n.jsx(xt,{value:Y.country,onChange:Ee=>U("country",Ee),options:ut,placeholder:"Search and select country...",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"City/Location"}),n.jsx(xt,{value:Y.location,onChange:Ee=>U("location",Ee),options:ye,placeholder:"Search and select location...",disabled:Y.country==="All countries"})]})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"Photos & Videos"}),n.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-600",children:[n.jsxs("div",{className:"flex justify-center items-center gap-3 mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Zd.image,{}),n.jsx("span",{className:"text-xs",children:"Images"})]}),n.jsx("div",{className:"h-4 w-px bg-gray-300"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Zd.video,{}),n.jsx("span",{className:"text-xs",children:"Videos"})]})]}),"Upload images or videos to showcase your tourism post",n.jsxs("div",{className:"mt-3",children:[n.jsx("input",{ref:P,type:"file",multiple:!0,accept:"image/*,video/*",className:"hidden",onChange:Ee=>se(Ee.target.files)}),n.jsx("button",{type:"button",onClick:()=>{var Ee;return(Ee=P.current)==null?void 0:Ee.click()},className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Choose Files"})]}),f&&Object.keys(p).length>0&&n.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Uploading ",Object.keys(p).length," file(s)..."]}),n.jsxs("span",{className:"text-sm text-gray-500",children:[Object.values(p)[0],"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-brand-600 h-2 rounded-full transition-all duration-300",style:{width:`${Object.values(p)[0]||0}%`}})})]}),(W.length>0||g>0)&&n.jsxs("div",{className:"mt-6 grid sm:grid-cols-2 gap-4 text-left",children:[W.map((Ee,ee)=>{const de=r8(Ee),ue=Ee.startsWith("http")?Ee:`${En}/uploads/${Ee}`;return n.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 overflow-hidden grid place-items-center relative cursor-pointer",onClick:()=>le(ee),children:de?n.jsxs(n.Fragment,{children:[n.jsx("video",{src:ue,className:"h-full w-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:n.jsx(Zd.video,{})})]}):n.jsx("img",{src:ue,alt:`Media ${ee+1}`,className:"h-full w-full object-cover"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"truncate text-sm font-medium",children:[de?"Video":"Image"," ",ee+1]}),n.jsxs("div",{className:"text-[11px] text-gray-500 truncate",children:[de?"Video":"Image"," • Attached"]})]}),n.jsx("button",{type:"button",onClick:()=>fe(ee),className:"p-1 rounded hover:bg-gray-100",title:"Remove",children:n.jsx(Zd.trash,{})})]},`${Ee}-${ee}`)}),g>0&&Array.from({length:g}).map((Ee,ee)=>n.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-200 animate-pulse"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-1"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"}),f&&n.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-1.5",children:n.jsx("div",{className:"bg-brand-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${Object.values(p)[0]||0}%`}})})]}),n.jsx("div",{className:"h-8 w-8 rounded bg-gray-200 animate-pulse"})]},`img-skel-${ee}`))]})]})]}),n.jsxs("section",{className:"hidden",children:[n.jsx("h2",{className:"font-semibold",children:"Best Season to Visit & Budget Range"}),n.jsxs("div",{className:"mt-2 grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:Y.season,onChange:Ee=>U("season",Ee.target.value),className:"rounded-xl border border-gray-200 px-3 py-2 text-sm w-full bg-white appearance-none focus:outline-none focus:ring-2 focus:ring-brand-200 pr-8",children:[n.jsx("option",{value:"",children:"Select Season"}),n.jsx("option",{children:"Summer"}),n.jsx("option",{children:"Winter"}),n.jsx("option",{children:"All Year"}),n.jsx("option",{children:"Rainy Season"}),n.jsx("option",{children:"Dry Season"})]}),n.jsx("span",{className:"pointer-events-none absolute right-2 top-3",children:n.jsx(Zd.chevron,{})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:Y.budgetRange,onChange:Ee=>U("budgetRange",Ee.target.value),className:"rounded-xl border border-gray-200 px-3 py-2 text-sm w-full bg-white appearance-none focus:outline-none focus:ring-2 focus:ring-brand-200 pr-8",children:[n.jsx("option",{value:"",children:"Select Budget"}),n.jsx("option",{children:"$100 - $500"}),n.jsx("option",{children:"$500 - $2000"}),n.jsx("option",{children:"$2000+"})]}),n.jsx("span",{className:"pointer-events-none absolute right-2 top-3",children:n.jsx(Zd.chevron,{})})]})]})]}),n.jsxs("section",{className:"hidden",children:[n.jsx("h2",{className:"font-semibold",children:"Tags"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("input",{type:"text",value:K,onChange:Ee=>X(Ee.target.value),onKeyDown:Ee=>{Ee.key==="Enter"&&(Ee.preventDefault(),z())},placeholder:"Add a tag (e.g., wildlife, beaches, culture)",className:"flex-1 rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"}),n.jsx("button",{type:"button",onClick:z,className:"inline-flex items-center gap-1 rounded-lg px-3 py-2 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700",children:"+ Add"})]}),Y.tags.length>0&&n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:Y.tags.map((Ee,ee)=>n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-50 text-brand-700 px-3 py-1 text-xs border border-brand-100",children:[Ee,n.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>O(ee),title:"Remove",children:"×"})]},`${Ee}-${ee}`))}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Tags help others discover your tourism post"})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"font-semibold text-brand-600 hidden",children:"Classification"}),n.jsx("p",{className:"text-xs text-gray-600 mb-3 hidden",children:"Search and pick the category that best describes your tourism post."}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Category"}),n.jsx(xt,{ariaLabel:"Category",value:Fe.categoryId,onChange:Ee=>Ve({categoryId:Ee,subcategoryId:"",subsubCategoryId:""}),options:$e,placeholder:"Search & select category…"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Subcategory"}),n.jsx(xt,{ariaLabel:"Subcategory",value:Fe.subcategoryId,onChange:Ee=>Ve(ee=>me(ne({},ee),{subcategoryId:Ee,subsubCategoryId:""})),options:rt,placeholder:"Search & select subcategory…",disabled:!Fe.categoryId})]})]})]}),n.jsxs("section",{className:"hidden",children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"Industry Classification"}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select the industry category and subcategory that best describes your tourism post."}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Category"}),n.jsx(xt,{ariaLabel:"Industry Category",value:q.categoryId,onChange:Ee=>Se({categoryId:Ee,subcategoryId:""}),options:nt,placeholder:"Search & select industry category…"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Subcategory"}),n.jsx(xt,{ariaLabel:"Industry Subcategory",value:q.subcategoryId,onChange:Ee=>Se(ee=>me(ne({},ee),{subcategoryId:Ee})),options:Ue,placeholder:"Search & select industry subcategory…",disabled:!q.categoryId})]})]})]}),n.jsx("section",{children:n.jsx("div",{className:"mb-4",children:S?n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-brand-600"}),n.jsx("h3",{className:"font-semibold text-brand-600",children:"Share With (Target Audience)"})]}),n.jsxs("button",{type:"button",onClick:()=>I(!1),className:"inline-flex items-center gap-1 px-3 py-1 border border-gray-300 text-gray-600 rounded-lg text-xs hover:bg-gray-50",children:[n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Hide"]})]}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select who should see this post. Choose multiple identities, categories, subcategories, and sub-subs."}),n.jsx(gl,{tree:k,selected:_,onChange:Ee=>J(Ee)})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsxs("button",{type:"button",onClick:()=>I(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 5v14M5 12h14"})}),"Define Target Audience (optional)"]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Target your post to specific audiences"})]})})}),n.jsxs("div",{className:"flex justify-end gap-3",children:[!r&&n.jsx("button",{type:"button",onClick:()=>a("/tourism"),className:gu.ghost,children:"Cancel"}),n.jsx("button",{type:"submit",className:gu.primaryWide,disabled:C,children:C?"Saving…":o?"Update":"Publish"})]})]})]}),b&&n.jsx(Td,{urls:A,initialIndex:j,onClose:Ne})]})}const qEe=Object.freeze(Object.defineProperty({__proto__:null,default:c6},Symbol.toStringTag,{value:"Module"}));function d6(t){return[].concat(t)}function EL(t){return t.startsWith(":")}function yq(t){return Mw(t)&&(t==="*"||t.length>1&&":>~.+*".includes(t.slice(0,1))||Nq(t))}function bq(t,r){return(Mw(r)||typeof r=="number")&&!jq(t)&&!EL(t)&&!wq(t)}function wq(t){return t.startsWith("@media")}function YEe(t){return t==="."}function jq(t){return t==="--"}function Mw(t){return t+""===t}function Nq(t){return Mw(t)&&(t.startsWith("&")||EL(t))}function $b(t,r=""){return t.filter(Boolean).join(r)}function Sq(t,r){let s=0;if(r.length===0)return s.toString();for(let a=0;a<r.length;a++){const i=r.charCodeAt(a);s=(s<<5)-s+i,s=s&s}return`${t!=null?t:"cl"}_${s.toString(36)}`}function JEe(t,r){return t==="content"?`"${r}"`:r}function ZEe(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function n8(t,r){return`${t}:${r}`}function QEe(t){return t?`.${t}`:""}function KEe(t,r){return t?`${t}
${r}`:r}var Cq=class kq{constructor(r,s,a,i){this.sheet=r,this.property=s,this.value=a,this.selector=i,this.property=s,this.value=a,this.joined=n8(s,a);const o=this.selector.preconditions.concat(this.selector.postconditions);this.hash=this.selector.hasConditions?this.selector.scopeClassName:Sq(this.sheet.name,this.joined),this.key=$b([this.joined,o,this.hash])}toString(){let r=u6(this.selector.preconditions,{right:this.hash});return r=u6(this.selector.postconditions,{left:r}),`${r} {${kq.genRule(this.property,this.value)}}`}static genRule(r,s){const a=ZEe(r);return n8(a,JEe(r,s))+";"}};function u6(t,{left:r="",right:s=""}={}){const a=t.reduce((i,o)=>EL(o)?i+o:Nq(o)?i+o.slice(1):$b([i,o]," "),r);return $b([a,QEe(s)]," ")}var XEe=class ay{constructor(r,s=null,{preconditions:a,postconditions:i}={}){this.sheet=r,this.preconditions=[],this.scopeClassName=null,this.scopeName=null,this.postconditions=[],this.preconditions=a?d6(a):[],this.postconditions=i?d6(i):[],this.setScope(s)}setScope(r){return r?(this.scopeClassName||(this.scopeName=r,this.scopeClassName=Sq(this.sheet.name,r+this.sheet.count)),this):this}get hasConditions(){return this.preconditions.length>0||this.postconditions.length>0}addScope(r){return new ay(this.sheet,r,{preconditions:this.preconditions,postconditions:this.postconditions})}addPrecondition(r){return new ay(this.sheet,this.scopeClassName,{postconditions:this.postconditions,preconditions:this.preconditions.concat(r)})}addPostcondition(r){return new ay(this.sheet,this.scopeClassName,{preconditions:this.preconditions,postconditions:this.postconditions.concat(r)})}createRule(r,s){return new Cq(this.sheet,r,s,this)}},eLe=class{constructor(t,r){this.name=t,this.rootNode=r,this.storedStyles={},this.storedClasses={},this.style="",this.count=0,this.id=`flairup-${t}`,this.styleTag=this.createStyleTag()}getStyle(){return this.style}append(t){this.style=KEe(this.style,t)}apply(){this.count++,this.styleTag&&(this.styleTag.innerHTML=this.style)}isApplied(){return!!this.styleTag}createStyleTag(){var r;if(typeof document=="undefined"||this.isApplied()||this.rootNode===null)return this.styleTag;const t=document.createElement("style");return t.type="text/css",t.id=this.id,((r=this.rootNode)!=null?r:document.head).appendChild(t),t}addRule(t){const r=this.storedClasses[t.key];return Mw(r)?r:(this.storedClasses[t.key]=t.hash,this.storedStyles[t.hash]=[t.property,t.value],this.append(t.toString()),t.hash)}};function LL(t,r){for(const s in t)r(s.trim(),t[s])}function Mr(...t){const r=t.reduce((s,a)=>(a instanceof Set?s.push(...a):typeof a=="string"?s.push(a):Array.isArray(a)?s.push(Mr(...a)):typeof a=="object"&&Object.entries(a).forEach(([i,o])=>{o&&s.push(i)}),s),[]);return $b(r," ").trim()}function tLe(t,r){const s=new eLe(t,r);return{create:a,getStyle:s.getStyle.bind(s),isApplied:s.isApplied.bind(s)};function a(i){const o={};return Eq(s,i,new XEe(s)).forEach(([c,d,f])=>{Iw(s,d,f).forEach(h=>{l(c,h)})}),s.apply(),o;function l(c,d){var f;o[c]=(f=o[c])!=null?f:new Set,o[c].add(d)}}}function Eq(t,r,s){const a=[];return LL(r,(i,o)=>{if(yq(i))return Eq(t,o,s.addPrecondition(i)).forEach(l=>a.push(l));a.push([i,r[i],s.addScope(i)])}),a}function Iw(t,r,s){const a=new Set;return LL(r,(i,o)=>{let l=[];if(yq(i))l=Iw(t,o,s.addPostcondition(i));else if(YEe(i))l=d6(o);else if(wq(i))l=nLe(t,o,i,s);else if(jq(i))l=rLe(t,o,s);else if(bq(i,o)){const c=s.createRule(i,o);t.addRule(c),a.add(c.hash)}return Lq(l,a)}),a}function Lq(t,r){return t.forEach(s=>r.add(s)),r}function rLe(t,r,s){const a=new Set,i=[];if(LL(r,(o,l)=>{if(bq(o,l)){i.push(Cq.genRule(o,l));return}const c=Iw(t,l!=null?l:{},s);Lq(c,a)}),!s.scopeClassName)return a;if(i.length){const o=i.join(" ");t.append(`${u6(s.preconditions,{right:s.scopeClassName})} {${o}}`)}return a.add(s.scopeClassName),a}function nLe(t,r,s,a){t.append(s+" {");const i=Iw(t,r,a);return t.append("}"),i}function Ln(){return Ln=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Ln.apply(this,arguments)}function sLe(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,f6(t,r)}function f6(t,r){return f6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},f6(t,r)}function Mq(t,r){if(t==null)return{};var s={},a=Object.keys(t),i,o;for(o=0;o<a.length;o++)i=a[o],!(r.indexOf(i)>=0)&&(s[i]=t[i]);return s}function aLe(t,r){if(t){if(typeof t=="string")return s8(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return s8(t,r)}}function s8(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}function iLe(t,r){var s=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(s)return(s=s.call(t)).next.bind(s);if(Array.isArray(t)||(s=aLe(t))||r){s&&(t=s);var a=0;return function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wr;(function(t){t.hiddenOnSearch="epr-hidden-on-search",t.searchActive="epr-search-active",t.hidden="epr-hidden",t.visible="epr-visible",t.active="epr-active",t.emoji="epr-emoji",t.category="epr-emoji-category",t.label="epr-emoji-category-label",t.categoryContent="epr-emoji-category-content",t.emojiHasVariations="epr-emoji-has-variations",t.scrollBody="epr-body",t.emojiList="epr-emoji-list",t.external="__EmojiPicker__",t.emojiPicker="EmojiPickerReact",t.open="epr-open",t.vertical="epr-vertical",t.horizontal="epr-horizontal",t.variationPicker="epr-emoji-variation-picker",t.darkTheme="epr-dark-theme",t.autoTheme="epr-auto-theme"})(wr||(wr={}));function Js(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return r.map(function(a){return"."+a}).join("")}var yn=tLe("epr",null),iy={display:"none",opacity:"0",pointerEvents:"none",visibility:"hidden",overflow:"hidden"},ML=yn.create({hidden:Ln({".":wr.hidden},iy)}),oLe=u.memo(function(){return u.createElement("style",{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:yn.getStyle()}})}),lf=yn.create({".epr-main":{":has(input:not(:placeholder-shown))":{categoryBtn:{":hover":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"}},hiddenOnSearch:Ln({".":wr.hiddenOnSearch},iy)},":has(input:placeholder-shown)":{visibleOnSearchOnly:iy}},hiddenOnReactions:{transition:"all 0.5s ease-in-out"},".epr-reactions":{hiddenOnReactions:{height:"0px",width:"0px",opacity:"0",pointerEvents:"none",overflow:"hidden"}},".EmojiPickerReact:not(.epr-search-active)":{categoryBtn:{":hover":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"},"&.epr-active":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"}},visibleOnSearchOnly:Ln({".":"epr-visible-on-search-only"},iy)}});function wd(t,r){var s,a;return{".epr-dark-theme":(s={},s[t]=r,s),".epr-auto-theme":(a={},a[t]={"@media (prefers-color-scheme: dark)":r},a)}}function Iq(t,r){var s,a,i=(s=t.customEmojis)!=null?s:[],o=(a=r.customEmojis)!=null?a:[];return t.open===r.open&&t.emojiVersion===r.emojiVersion&&t.reactionsDefaultOpen===r.reactionsDefaultOpen&&t.searchPlaceHolder===r.searchPlaceHolder&&t.searchPlaceholder===r.searchPlaceholder&&t.defaultSkinTone===r.defaultSkinTone&&t.skinTonesDisabled===r.skinTonesDisabled&&t.autoFocusSearch===r.autoFocusSearch&&t.emojiStyle===r.emojiStyle&&t.theme===r.theme&&t.suggestedEmojisMode===r.suggestedEmojisMode&&t.lazyLoadEmojis===r.lazyLoadEmojis&&t.className===r.className&&t.height===r.height&&t.width===r.width&&t.style===r.style&&t.searchDisabled===r.searchDisabled&&t.skinTonePickerLocation===r.skinTonePickerLocation&&i.length===o.length}var lLe=["1f44d","2764-fe0f","1f603","1f622","1f64f","1f44e","1f621"],Mp;(function(t){t.RECENT="recent",t.FREQUENT="frequent"})(Mp||(Mp={}));var bi;(function(t){t.NATIVE="native",t.APPLE="apple",t.TWITTER="twitter",t.GOOGLE="google",t.FACEBOOK="facebook"})(bi||(bi={}));var Ip;(function(t){t.DARK="dark",t.LIGHT="light",t.AUTO="auto"})(Ip||(Ip={}));var ko;(function(t){t.NEUTRAL="neutral",t.LIGHT="1f3fb",t.MEDIUM_LIGHT="1f3fc",t.MEDIUM="1f3fd",t.MEDIUM_DARK="1f3fe",t.DARK="1f3ff"})(ko||(ko={}));var br;(function(t){t.SUGGESTED="suggested",t.CUSTOM="custom",t.SMILEYS_PEOPLE="smileys_people",t.ANIMALS_NATURE="animals_nature",t.FOOD_DRINK="food_drink",t.TRAVEL_PLACES="travel_places",t.ACTIVITIES="activities",t.OBJECTS="objects",t.SYMBOLS="symbols",t.FLAGS="flags"})(br||(br={}));var oh;(function(t){t.SEARCH="SEARCH",t.PREVIEW="PREVIEW"})(oh||(oh={}));var Di,cLe=[br.SUGGESTED,br.CUSTOM,br.SMILEYS_PEOPLE,br.ANIMALS_NATURE,br.FOOD_DRINK,br.TRAVEL_PLACES,br.ACTIVITIES,br.OBJECTS,br.SYMBOLS,br.FLAGS],dLe={name:"Recently Used",category:br.SUGGESTED},Tq=(Di={},Di[br.SUGGESTED]={category:br.SUGGESTED,name:"Frequently Used"},Di[br.CUSTOM]={category:br.CUSTOM,name:"Custom Emojis"},Di[br.SMILEYS_PEOPLE]={category:br.SMILEYS_PEOPLE,name:"Smileys & People"},Di[br.ANIMALS_NATURE]={category:br.ANIMALS_NATURE,name:"Animals & Nature"},Di[br.FOOD_DRINK]={category:br.FOOD_DRINK,name:"Food & Drink"},Di[br.TRAVEL_PLACES]={category:br.TRAVEL_PLACES,name:"Travel & Places"},Di[br.ACTIVITIES]={category:br.ACTIVITIES,name:"Activities"},Di[br.OBJECTS]={category:br.OBJECTS,name:"Objects"},Di[br.SYMBOLS]={category:br.SYMBOLS,name:"Symbols"},Di[br.FLAGS]={category:br.FLAGS,name:"Flags"},Di);function Aq(t){return cLe.map(function(r){return Ln({},Tq[r],t&&t[r]&&t[r])})}function IL(t){return t.category}function _q(t){return t.name}function uLe(t,r){var s;t===void 0&&(t=[]),r===void 0&&(r={});var a={};r.suggestionMode===Mp.RECENT&&(a[br.SUGGESTED]=dLe);var i=Aq(a);return(s=t)!=null&&s.length?t.map(function(o){return typeof o=="string"?a8(o,a[o]):Ln({},a8(o.category,a[o.category]),o)}):i}function a8(t,r){return r===void 0&&(r={}),Object.assign(Tq[t],r)}var fLe="https://cdn.jsdelivr.net/npm/emoji-datasource-apple/img/apple/64/",hLe="https://cdn.jsdelivr.net/npm/emoji-datasource-facebook/img/facebook/64/",gLe="https://cdn.jsdelivr.net/npm/emoji-datasource-twitter/img/twitter/64/",mLe="https://cdn.jsdelivr.net/npm/emoji-datasource-google/img/google/64/";function pLe(t){switch(t){case bi.TWITTER:return gLe;case bi.GOOGLE:return mLe;case bi.FACEBOOK:return hLe;case bi.APPLE:default:return fLe}}var xLe=[],vLe=[{n:["grinning","grinning face"],u:"1f600",a:"1.0"},{n:["smiley","smiling face with open mouth"],u:"1f603",a:"0.6"},{n:["smile","smiling face with open mouth and smiling eyes"],u:"1f604",a:"0.6"},{n:["grin","grinning face with smiling eyes"],u:"1f601",a:"0.6"},{n:["laughing","satisfied","smiling face with open mouth and tightly-closed eyes"],u:"1f606",a:"0.6"},{n:["sweat smile","smiling face with open mouth and cold sweat"],u:"1f605",a:"0.6"},{n:["rolling on the floor laughing"],u:"1f923",a:"3.0"},{n:["joy","face with tears of joy"],u:"1f602",a:"0.6"},{n:["slightly smiling face"],u:"1f642",a:"1.0"},{n:["upside-down face","upside down face"],u:"1f643",a:"1.0"},{n:["melting face"],u:"1fae0",a:"14.0"},{n:["wink","winking face"],u:"1f609",a:"0.6"},{n:["blush","smiling face with smiling eyes"],u:"1f60a",a:"0.6"},{n:["innocent","smiling face with halo"],u:"1f607",a:"1.0"},{n:["smiling face with 3 hearts","smiling face with smiling eyes and three hearts"],u:"1f970",a:"11.0"},{n:["heart eyes","smiling face with heart-shaped eyes"],u:"1f60d",a:"0.6"},{n:["star-struck","grinning face with star eyes"],u:"1f929",a:"5.0"},{n:["kissing heart","face throwing a kiss"],u:"1f618",a:"0.6"},{n:["kissing","kissing face"],u:"1f617",a:"1.0"},{n:["relaxed","white smiling face"],u:"263a-fe0f",a:"0.6"},{n:["kissing closed eyes","kissing face with closed eyes"],u:"1f61a",a:"0.6"},{n:["kissing smiling eyes","kissing face with smiling eyes"],u:"1f619",a:"1.0"},{n:["smiling face with tear"],u:"1f972",a:"13.0"},{n:["yum","face savouring delicious food"],u:"1f60b",a:"0.6"},{n:["stuck out tongue","face with stuck-out tongue"],u:"1f61b",a:"1.0"},{n:["stuck out tongue winking eye","face with stuck-out tongue and winking eye"],u:"1f61c",a:"0.6"},{n:["zany face","grinning face with one large and one small eye"],u:"1f92a",a:"5.0"},{n:["stuck out tongue closed eyes","face with stuck-out tongue and tightly-closed eyes"],u:"1f61d",a:"0.6"},{n:["money-mouth face","money mouth face"],u:"1f911",a:"1.0"},{n:["hugging face"],u:"1f917",a:"1.0"},{n:["face with hand over mouth","smiling face with smiling eyes and hand covering mouth"],u:"1f92d",a:"5.0"},{n:["face with open eyes and hand over mouth"],u:"1fae2",a:"14.0"},{n:["face with peeking eye"],u:"1fae3",a:"14.0"},{n:["shushing face","face with finger covering closed lips"],u:"1f92b",a:"5.0"},{n:["thinking face"],u:"1f914",a:"1.0"},{n:["saluting face"],u:"1fae1",a:"14.0"},{n:["zipper-mouth face","zipper mouth face"],u:"1f910",a:"1.0"},{n:["face with raised eyebrow","face with one eyebrow raised"],u:"1f928",a:"5.0"},{n:["neutral face"],u:"1f610",a:"0.7"},{n:["expressionless","expressionless face"],u:"1f611",a:"1.0"},{n:["no mouth","face without mouth"],u:"1f636",a:"1.0"},{n:["dotted line face"],u:"1fae5",a:"14.0"},{n:["face in clouds"],u:"1f636-200d-1f32b-fe0f",a:"13.1"},{n:["smirk","smirking face"],u:"1f60f",a:"0.6"},{n:["unamused","unamused face"],u:"1f612",a:"0.6"},{n:["face with rolling eyes"],u:"1f644",a:"1.0"},{n:["grimacing","grimacing face"],u:"1f62c",a:"1.0"},{n:["face exhaling"],u:"1f62e-200d-1f4a8",a:"13.1"},{n:["lying face"],u:"1f925",a:"3.0"},{n:["shaking face"],u:"1fae8",a:"15.0"},{n:["head shaking horizontally"],u:"1f642-200d-2194-fe0f",a:"15.1"},{n:["head shaking vertically"],u:"1f642-200d-2195-fe0f",a:"15.1"},{n:["relieved","relieved face"],u:"1f60c",a:"0.6"},{n:["pensive","pensive face"],u:"1f614",a:"0.6"},{n:["sleepy","sleepy face"],u:"1f62a",a:"0.6"},{n:["drooling face"],u:"1f924",a:"3.0"},{n:["sleeping","sleeping face"],u:"1f634",a:"1.0"},{n:["mask","face with medical mask"],u:"1f637",a:"0.6"},{n:["face with thermometer"],u:"1f912",a:"1.0"},{n:["face with head-bandage","face with head bandage"],u:"1f915",a:"1.0"},{n:["nauseated face"],u:"1f922",a:"3.0"},{n:["face vomiting","face with open mouth vomiting"],u:"1f92e",a:"5.0"},{n:["sneezing face"],u:"1f927",a:"3.0"},{n:["hot face","overheated face"],u:"1f975",a:"11.0"},{n:["cold face","freezing face"],u:"1f976",a:"11.0"},{n:["woozy face","face with uneven eyes and wavy mouth"],u:"1f974",a:"11.0"},{n:["dizzy face"],u:"1f635",a:"0.6"},{n:["face with spiral eyes"],u:"1f635-200d-1f4ab",a:"13.1"},{n:["exploding head","shocked face with exploding head"],u:"1f92f",a:"5.0"},{n:["face with cowboy hat"],u:"1f920",a:"3.0"},{n:["partying face","face with party horn and party hat"],u:"1f973",a:"11.0"},{n:["disguised face"],u:"1f978",a:"13.0"},{n:["sunglasses","smiling face with sunglasses"],u:"1f60e",a:"1.0"},{n:["nerd face"],u:"1f913",a:"1.0"},{n:["face with monocle"],u:"1f9d0",a:"5.0"},{n:["confused","confused face"],u:"1f615",a:"1.0"},{n:["face with diagonal mouth"],u:"1fae4",a:"14.0"},{n:["worried","worried face"],u:"1f61f",a:"1.0"},{n:["slightly frowning face"],u:"1f641",a:"1.0"},{n:["frowning face","white frowning face"],u:"2639-fe0f",a:"0.7"},{n:["open mouth","face with open mouth"],u:"1f62e",a:"1.0"},{n:["hushed","hushed face"],u:"1f62f",a:"1.0"},{n:["astonished","astonished face"],u:"1f632",a:"0.6"},{n:["flushed","flushed face"],u:"1f633",a:"0.6"},{n:["pleading face","face with pleading eyes"],u:"1f97a",a:"11.0"},{n:["face holding back tears"],u:"1f979",a:"14.0"},{n:["frowning","frowning face with open mouth"],u:"1f626",a:"1.0"},{n:["anguished","anguished face"],u:"1f627",a:"1.0"},{n:["fearful","fearful face"],u:"1f628",a:"0.6"},{n:["cold sweat","face with open mouth and cold sweat"],u:"1f630",a:"0.6"},{n:["disappointed relieved","disappointed but relieved face"],u:"1f625",a:"0.6"},{n:["cry","crying face"],u:"1f622",a:"0.6"},{n:["sob","loudly crying face"],u:"1f62d",a:"0.6"},{n:["scream","face screaming in fear"],u:"1f631",a:"0.6"},{n:["confounded","confounded face"],u:"1f616",a:"0.6"},{n:["persevere","persevering face"],u:"1f623",a:"0.6"},{n:["disappointed","disappointed face"],u:"1f61e",a:"0.6"},{n:["sweat","face with cold sweat"],u:"1f613",a:"0.6"},{n:["weary","weary face"],u:"1f629",a:"0.6"},{n:["tired face"],u:"1f62b",a:"0.6"},{n:["yawning face"],u:"1f971",a:"12.0"},{n:["triumph","face with look of triumph"],u:"1f624",a:"0.6"},{n:["rage","pouting face"],u:"1f621",a:"0.6"},{n:["angry","angry face"],u:"1f620",a:"0.6"},{n:["face with symbols on mouth","serious face with symbols covering mouth"],u:"1f92c",a:"5.0"},{n:["smiling imp","smiling face with horns"],u:"1f608",a:"1.0"},{n:["imp"],u:"1f47f",a:"0.6"},{n:["skull"],u:"1f480",a:"0.6"},{n:["skull and crossbones"],u:"2620-fe0f",a:"1.0"},{n:["poop","shit","hankey","pile of poo"],u:"1f4a9",a:"0.6"},{n:["clown face"],u:"1f921",a:"3.0"},{n:["japanese ogre"],u:"1f479",a:"0.6"},{n:["japanese goblin"],u:"1f47a",a:"0.6"},{n:["ghost"],u:"1f47b",a:"0.6"},{n:["alien","extraterrestrial alien"],u:"1f47d",a:"0.6"},{n:["alien monster","space invader"],u:"1f47e",a:"0.6"},{n:["robot face"],u:"1f916",a:"1.0"},{n:["smiley cat","smiling cat face with open mouth"],u:"1f63a",a:"0.6"},{n:["smile cat","grinning cat face with smiling eyes"],u:"1f638",a:"0.6"},{n:["joy cat","cat face with tears of joy"],u:"1f639",a:"0.6"},{n:["heart eyes cat","smiling cat face with heart-shaped eyes"],u:"1f63b",a:"0.6"},{n:["smirk cat","cat face with wry smile"],u:"1f63c",a:"0.6"},{n:["kissing cat","kissing cat face with closed eyes"],u:"1f63d",a:"0.6"},{n:["scream cat","weary cat face"],u:"1f640",a:"0.6"},{n:["crying cat face"],u:"1f63f",a:"0.6"},{n:["pouting cat","pouting cat face"],u:"1f63e",a:"0.6"},{n:["see no evil","see-no-evil monkey"],u:"1f648",a:"0.6"},{n:["hear no evil","hear-no-evil monkey"],u:"1f649",a:"0.6"},{n:["speak no evil","speak-no-evil monkey"],u:"1f64a",a:"0.6"},{n:["love letter"],u:"1f48c",a:"0.6"},{n:["cupid","heart with arrow"],u:"1f498",a:"0.6"},{n:["gift heart","heart with ribbon"],u:"1f49d",a:"0.6"},{n:["sparkling heart"],u:"1f496",a:"0.6"},{n:["heartpulse","growing heart"],u:"1f497",a:"0.6"},{n:["heartbeat","beating heart"],u:"1f493",a:"0.6"},{n:["revolving hearts"],u:"1f49e",a:"0.6"},{n:["two hearts"],u:"1f495",a:"0.6"},{n:["heart decoration"],u:"1f49f",a:"0.6"},{n:["heart exclamation","heavy heart exclamation mark ornament"],u:"2763-fe0f",a:"1.0"},{n:["broken heart"],u:"1f494",a:"0.6"},{n:["heart on fire"],u:"2764-fe0f-200d-1f525",a:"13.1"},{n:["mending heart"],u:"2764-fe0f-200d-1fa79",a:"13.1"},{n:["heart","heavy black heart"],u:"2764-fe0f",a:"0.6"},{n:["pink heart"],u:"1fa77",a:"15.0"},{n:["orange heart"],u:"1f9e1",a:"5.0"},{n:["yellow heart"],u:"1f49b",a:"0.6"},{n:["green heart"],u:"1f49a",a:"0.6"},{n:["blue heart"],u:"1f499",a:"0.6"},{n:["light blue heart"],u:"1fa75",a:"15.0"},{n:["purple heart"],u:"1f49c",a:"0.6"},{n:["brown heart"],u:"1f90e",a:"12.0"},{n:["black heart"],u:"1f5a4",a:"3.0"},{n:["grey heart"],u:"1fa76",a:"15.0"},{n:["white heart"],u:"1f90d",a:"12.0"},{n:["kiss","kiss mark"],u:"1f48b",a:"0.6"},{n:["100","hundred points symbol"],u:"1f4af",a:"0.6"},{n:["anger","anger symbol"],u:"1f4a2",a:"0.6"},{n:["boom","collision","collision symbol"],u:"1f4a5",a:"0.6"},{n:["dizzy","dizzy symbol"],u:"1f4ab",a:"0.6"},{n:["sweat drops","splashing sweat symbol"],u:"1f4a6",a:"0.6"},{n:["dash","dash symbol"],u:"1f4a8",a:"0.6"},{n:["hole"],u:"1f573-fe0f",a:"0.7"},{n:["speech balloon"],u:"1f4ac",a:"0.6"},{n:["eye in speech bubble","eye-in-speech-bubble"],u:"1f441-fe0f-200d-1f5e8-fe0f",a:"2.0"},{n:["left speech bubble"],u:"1f5e8-fe0f",a:"2.0"},{n:["right anger bubble"],u:"1f5ef-fe0f",a:"0.7"},{n:["thought balloon"],u:"1f4ad",a:"1.0"},{n:["zzz","sleeping symbol"],u:"1f4a4",a:"0.6"},{n:["wave","waving hand sign"],u:"1f44b",v:["1f44b-1f3fb","1f44b-1f3fc","1f44b-1f3fd","1f44b-1f3fe","1f44b-1f3ff"],a:"0.6"},{n:["raised back of hand"],u:"1f91a",v:["1f91a-1f3fb","1f91a-1f3fc","1f91a-1f3fd","1f91a-1f3fe","1f91a-1f3ff"],a:"3.0"},{n:["hand with fingers splayed","raised hand with fingers splayed"],u:"1f590-fe0f",v:["1f590-1f3fb","1f590-1f3fc","1f590-1f3fd","1f590-1f3fe","1f590-1f3ff"],a:"0.7"},{n:["hand","raised hand"],u:"270b",v:["270b-1f3fb","270b-1f3fc","270b-1f3fd","270b-1f3fe","270b-1f3ff"],a:"0.6"},{n:["spock-hand","raised hand with part between middle and ring fingers"],u:"1f596",v:["1f596-1f3fb","1f596-1f3fc","1f596-1f3fd","1f596-1f3fe","1f596-1f3ff"],a:"1.0"},{n:["rightwards hand"],u:"1faf1",v:["1faf1-1f3fb","1faf1-1f3fc","1faf1-1f3fd","1faf1-1f3fe","1faf1-1f3ff"],a:"14.0"},{n:["leftwards hand"],u:"1faf2",v:["1faf2-1f3fb","1faf2-1f3fc","1faf2-1f3fd","1faf2-1f3fe","1faf2-1f3ff"],a:"14.0"},{n:["palm down hand"],u:"1faf3",v:["1faf3-1f3fb","1faf3-1f3fc","1faf3-1f3fd","1faf3-1f3fe","1faf3-1f3ff"],a:"14.0"},{n:["palm up hand"],u:"1faf4",v:["1faf4-1f3fb","1faf4-1f3fc","1faf4-1f3fd","1faf4-1f3fe","1faf4-1f3ff"],a:"14.0"},{n:["leftwards pushing hand"],u:"1faf7",v:["1faf7-1f3fb","1faf7-1f3fc","1faf7-1f3fd","1faf7-1f3fe","1faf7-1f3ff"],a:"15.0"},{n:["rightwards pushing hand"],u:"1faf8",v:["1faf8-1f3fb","1faf8-1f3fc","1faf8-1f3fd","1faf8-1f3fe","1faf8-1f3ff"],a:"15.0"},{n:["ok hand","ok hand sign"],u:"1f44c",v:["1f44c-1f3fb","1f44c-1f3fc","1f44c-1f3fd","1f44c-1f3fe","1f44c-1f3ff"],a:"0.6"},{n:["pinched fingers"],u:"1f90c",v:["1f90c-1f3fb","1f90c-1f3fc","1f90c-1f3fd","1f90c-1f3fe","1f90c-1f3ff"],a:"13.0"},{n:["pinching hand"],u:"1f90f",v:["1f90f-1f3fb","1f90f-1f3fc","1f90f-1f3fd","1f90f-1f3fe","1f90f-1f3ff"],a:"12.0"},{n:["v","victory hand"],u:"270c-fe0f",v:["270c-1f3fb","270c-1f3fc","270c-1f3fd","270c-1f3fe","270c-1f3ff"],a:"0.6"},{n:["crossed fingers","hand with index and middle fingers crossed"],u:"1f91e",v:["1f91e-1f3fb","1f91e-1f3fc","1f91e-1f3fd","1f91e-1f3fe","1f91e-1f3ff"],a:"3.0"},{n:["hand with index finger and thumb crossed"],u:"1faf0",v:["1faf0-1f3fb","1faf0-1f3fc","1faf0-1f3fd","1faf0-1f3fe","1faf0-1f3ff"],a:"14.0"},{n:["i love you hand sign"],u:"1f91f",v:["1f91f-1f3fb","1f91f-1f3fc","1f91f-1f3fd","1f91f-1f3fe","1f91f-1f3ff"],a:"5.0"},{n:["the horns","sign of the horns"],u:"1f918",v:["1f918-1f3fb","1f918-1f3fc","1f918-1f3fd","1f918-1f3fe","1f918-1f3ff"],a:"1.0"},{n:["call me hand"],u:"1f919",v:["1f919-1f3fb","1f919-1f3fc","1f919-1f3fd","1f919-1f3fe","1f919-1f3ff"],a:"3.0"},{n:["point left","white left pointing backhand index"],u:"1f448",v:["1f448-1f3fb","1f448-1f3fc","1f448-1f3fd","1f448-1f3fe","1f448-1f3ff"],a:"0.6"},{n:["point right","white right pointing backhand index"],u:"1f449",v:["1f449-1f3fb","1f449-1f3fc","1f449-1f3fd","1f449-1f3fe","1f449-1f3ff"],a:"0.6"},{n:["point up 2","white up pointing backhand index"],u:"1f446",v:["1f446-1f3fb","1f446-1f3fc","1f446-1f3fd","1f446-1f3fe","1f446-1f3ff"],a:"0.6"},{n:["middle finger","reversed hand with middle finger extended"],u:"1f595",v:["1f595-1f3fb","1f595-1f3fc","1f595-1f3fd","1f595-1f3fe","1f595-1f3ff"],a:"1.0"},{n:["point down","white down pointing backhand index"],u:"1f447",v:["1f447-1f3fb","1f447-1f3fc","1f447-1f3fd","1f447-1f3fe","1f447-1f3ff"],a:"0.6"},{n:["point up","white up pointing index"],u:"261d-fe0f",v:["261d-1f3fb","261d-1f3fc","261d-1f3fd","261d-1f3fe","261d-1f3ff"],a:"0.6"},{n:["index pointing at the viewer"],u:"1faf5",v:["1faf5-1f3fb","1faf5-1f3fc","1faf5-1f3fd","1faf5-1f3fe","1faf5-1f3ff"],a:"14.0"},{n:["+1","thumbsup","thumbs up sign"],u:"1f44d",v:["1f44d-1f3fb","1f44d-1f3fc","1f44d-1f3fd","1f44d-1f3fe","1f44d-1f3ff"],a:"0.6"},{n:["-1","thumbsdown","thumbs down sign"],u:"1f44e",v:["1f44e-1f3fb","1f44e-1f3fc","1f44e-1f3fd","1f44e-1f3fe","1f44e-1f3ff"],a:"0.6"},{n:["fist","raised fist"],u:"270a",v:["270a-1f3fb","270a-1f3fc","270a-1f3fd","270a-1f3fe","270a-1f3ff"],a:"0.6"},{n:["punch","facepunch","fisted hand sign"],u:"1f44a",v:["1f44a-1f3fb","1f44a-1f3fc","1f44a-1f3fd","1f44a-1f3fe","1f44a-1f3ff"],a:"0.6"},{n:["left-facing fist"],u:"1f91b",v:["1f91b-1f3fb","1f91b-1f3fc","1f91b-1f3fd","1f91b-1f3fe","1f91b-1f3ff"],a:"3.0"},{n:["right-facing fist"],u:"1f91c",v:["1f91c-1f3fb","1f91c-1f3fc","1f91c-1f3fd","1f91c-1f3fe","1f91c-1f3ff"],a:"3.0"},{n:["clap","clapping hands sign"],u:"1f44f",v:["1f44f-1f3fb","1f44f-1f3fc","1f44f-1f3fd","1f44f-1f3fe","1f44f-1f3ff"],a:"0.6"},{n:["raised hands","person raising both hands in celebration"],u:"1f64c",v:["1f64c-1f3fb","1f64c-1f3fc","1f64c-1f3fd","1f64c-1f3fe","1f64c-1f3ff"],a:"0.6"},{n:["heart hands"],u:"1faf6",v:["1faf6-1f3fb","1faf6-1f3fc","1faf6-1f3fd","1faf6-1f3fe","1faf6-1f3ff"],a:"14.0"},{n:["open hands","open hands sign"],u:"1f450",v:["1f450-1f3fb","1f450-1f3fc","1f450-1f3fd","1f450-1f3fe","1f450-1f3ff"],a:"0.6"},{n:["palms up together"],u:"1f932",v:["1f932-1f3fb","1f932-1f3fc","1f932-1f3fd","1f932-1f3fe","1f932-1f3ff"],a:"5.0"},{n:["handshake"],u:"1f91d",v:["1f91d-1f3fb","1f91d-1f3fc","1f91d-1f3fd","1f91d-1f3fe","1f91d-1f3ff","1faf1-1f3fb-200d-1faf2-1f3fc","1faf1-1f3fb-200d-1faf2-1f3fd","1faf1-1f3fb-200d-1faf2-1f3fe","1faf1-1f3fb-200d-1faf2-1f3ff","1faf1-1f3fc-200d-1faf2-1f3fb","1faf1-1f3fc-200d-1faf2-1f3fd","1faf1-1f3fc-200d-1faf2-1f3fe","1faf1-1f3fc-200d-1faf2-1f3ff","1faf1-1f3fd-200d-1faf2-1f3fb","1faf1-1f3fd-200d-1faf2-1f3fc","1faf1-1f3fd-200d-1faf2-1f3fe","1faf1-1f3fd-200d-1faf2-1f3ff","1faf1-1f3fe-200d-1faf2-1f3fb","1faf1-1f3fe-200d-1faf2-1f3fc","1faf1-1f3fe-200d-1faf2-1f3fd","1faf1-1f3fe-200d-1faf2-1f3ff","1faf1-1f3ff-200d-1faf2-1f3fb","1faf1-1f3ff-200d-1faf2-1f3fc","1faf1-1f3ff-200d-1faf2-1f3fd","1faf1-1f3ff-200d-1faf2-1f3fe"],a:"3.0"},{n:["pray","person with folded hands"],u:"1f64f",v:["1f64f-1f3fb","1f64f-1f3fc","1f64f-1f3fd","1f64f-1f3fe","1f64f-1f3ff"],a:"0.6"},{n:["writing hand"],u:"270d-fe0f",v:["270d-1f3fb","270d-1f3fc","270d-1f3fd","270d-1f3fe","270d-1f3ff"],a:"0.7"},{n:["nail care","nail polish"],u:"1f485",v:["1f485-1f3fb","1f485-1f3fc","1f485-1f3fd","1f485-1f3fe","1f485-1f3ff"],a:"0.6"},{n:["selfie"],u:"1f933",v:["1f933-1f3fb","1f933-1f3fc","1f933-1f3fd","1f933-1f3fe","1f933-1f3ff"],a:"3.0"},{n:["muscle","flexed biceps"],u:"1f4aa",v:["1f4aa-1f3fb","1f4aa-1f3fc","1f4aa-1f3fd","1f4aa-1f3fe","1f4aa-1f3ff"],a:"0.6"},{n:["mechanical arm"],u:"1f9be",a:"12.0"},{n:["mechanical leg"],u:"1f9bf",a:"12.0"},{n:["leg"],u:"1f9b5",v:["1f9b5-1f3fb","1f9b5-1f3fc","1f9b5-1f3fd","1f9b5-1f3fe","1f9b5-1f3ff"],a:"11.0"},{n:["foot"],u:"1f9b6",v:["1f9b6-1f3fb","1f9b6-1f3fc","1f9b6-1f3fd","1f9b6-1f3fe","1f9b6-1f3ff"],a:"11.0"},{n:["ear"],u:"1f442",v:["1f442-1f3fb","1f442-1f3fc","1f442-1f3fd","1f442-1f3fe","1f442-1f3ff"],a:"0.6"},{n:["ear with hearing aid"],u:"1f9bb",v:["1f9bb-1f3fb","1f9bb-1f3fc","1f9bb-1f3fd","1f9bb-1f3fe","1f9bb-1f3ff"],a:"12.0"},{n:["nose"],u:"1f443",v:["1f443-1f3fb","1f443-1f3fc","1f443-1f3fd","1f443-1f3fe","1f443-1f3ff"],a:"0.6"},{n:["brain"],u:"1f9e0",a:"5.0"},{n:["anatomical heart"],u:"1fac0",a:"13.0"},{n:["lungs"],u:"1fac1",a:"13.0"},{n:["tooth"],u:"1f9b7",a:"11.0"},{n:["bone"],u:"1f9b4",a:"11.0"},{n:["eyes"],u:"1f440",a:"0.6"},{n:["eye"],u:"1f441-fe0f",a:"0.7"},{n:["tongue"],u:"1f445",a:"0.6"},{n:["lips","mouth"],u:"1f444",a:"0.6"},{n:["biting lip"],u:"1fae6",a:"14.0"},{n:["baby"],u:"1f476",v:["1f476-1f3fb","1f476-1f3fc","1f476-1f3fd","1f476-1f3fe","1f476-1f3ff"],a:"0.6"},{n:["child"],u:"1f9d2",v:["1f9d2-1f3fb","1f9d2-1f3fc","1f9d2-1f3fd","1f9d2-1f3fe","1f9d2-1f3ff"],a:"5.0"},{n:["boy"],u:"1f466",v:["1f466-1f3fb","1f466-1f3fc","1f466-1f3fd","1f466-1f3fe","1f466-1f3ff"],a:"0.6"},{n:["girl"],u:"1f467",v:["1f467-1f3fb","1f467-1f3fc","1f467-1f3fd","1f467-1f3fe","1f467-1f3ff"],a:"0.6"},{n:["adult"],u:"1f9d1",v:["1f9d1-1f3fb","1f9d1-1f3fc","1f9d1-1f3fd","1f9d1-1f3fe","1f9d1-1f3ff"],a:"5.0"},{n:["person with blond hair"],u:"1f471",v:["1f471-1f3fb","1f471-1f3fc","1f471-1f3fd","1f471-1f3fe","1f471-1f3ff"],a:"0.6"},{n:["man"],u:"1f468",v:["1f468-1f3fb","1f468-1f3fc","1f468-1f3fd","1f468-1f3fe","1f468-1f3ff"],a:"0.6"},{n:["bearded person"],u:"1f9d4",v:["1f9d4-1f3fb","1f9d4-1f3fc","1f9d4-1f3fd","1f9d4-1f3fe","1f9d4-1f3ff"],a:"5.0"},{n:["man: beard","man with beard"],u:"1f9d4-200d-2642-fe0f",v:["1f9d4-1f3fb-200d-2642-fe0f","1f9d4-1f3fc-200d-2642-fe0f","1f9d4-1f3fd-200d-2642-fe0f","1f9d4-1f3fe-200d-2642-fe0f","1f9d4-1f3ff-200d-2642-fe0f"],a:"13.1"},{n:["woman: beard","woman with beard"],u:"1f9d4-200d-2640-fe0f",v:["1f9d4-1f3fb-200d-2640-fe0f","1f9d4-1f3fc-200d-2640-fe0f","1f9d4-1f3fd-200d-2640-fe0f","1f9d4-1f3fe-200d-2640-fe0f","1f9d4-1f3ff-200d-2640-fe0f"],a:"13.1"},{n:["man: red hair","red haired man"],u:"1f468-200d-1f9b0",v:["1f468-1f3fb-200d-1f9b0","1f468-1f3fc-200d-1f9b0","1f468-1f3fd-200d-1f9b0","1f468-1f3fe-200d-1f9b0","1f468-1f3ff-200d-1f9b0"],a:"11.0"},{n:["man: curly hair","curly haired man"],u:"1f468-200d-1f9b1",v:["1f468-1f3fb-200d-1f9b1","1f468-1f3fc-200d-1f9b1","1f468-1f3fd-200d-1f9b1","1f468-1f3fe-200d-1f9b1","1f468-1f3ff-200d-1f9b1"],a:"11.0"},{n:["man: white hair","white haired man"],u:"1f468-200d-1f9b3",v:["1f468-1f3fb-200d-1f9b3","1f468-1f3fc-200d-1f9b3","1f468-1f3fd-200d-1f9b3","1f468-1f3fe-200d-1f9b3","1f468-1f3ff-200d-1f9b3"],a:"11.0"},{n:["bald man","man: bald"],u:"1f468-200d-1f9b2",v:["1f468-1f3fb-200d-1f9b2","1f468-1f3fc-200d-1f9b2","1f468-1f3fd-200d-1f9b2","1f468-1f3fe-200d-1f9b2","1f468-1f3ff-200d-1f9b2"],a:"11.0"},{n:["woman"],u:"1f469",v:["1f469-1f3fb","1f469-1f3fc","1f469-1f3fd","1f469-1f3fe","1f469-1f3ff"],a:"0.6"},{n:["woman: red hair","red haired woman"],u:"1f469-200d-1f9b0",v:["1f469-1f3fb-200d-1f9b0","1f469-1f3fc-200d-1f9b0","1f469-1f3fd-200d-1f9b0","1f469-1f3fe-200d-1f9b0","1f469-1f3ff-200d-1f9b0"],a:"11.0"},{n:["person: red hair","red haired person"],u:"1f9d1-200d-1f9b0",v:["1f9d1-1f3fb-200d-1f9b0","1f9d1-1f3fc-200d-1f9b0","1f9d1-1f3fd-200d-1f9b0","1f9d1-1f3fe-200d-1f9b0","1f9d1-1f3ff-200d-1f9b0"],a:"12.1"},{n:["woman: curly hair","curly haired woman"],u:"1f469-200d-1f9b1",v:["1f469-1f3fb-200d-1f9b1","1f469-1f3fc-200d-1f9b1","1f469-1f3fd-200d-1f9b1","1f469-1f3fe-200d-1f9b1","1f469-1f3ff-200d-1f9b1"],a:"11.0"},{n:["person: curly hair","curly haired person"],u:"1f9d1-200d-1f9b1",v:["1f9d1-1f3fb-200d-1f9b1","1f9d1-1f3fc-200d-1f9b1","1f9d1-1f3fd-200d-1f9b1","1f9d1-1f3fe-200d-1f9b1","1f9d1-1f3ff-200d-1f9b1"],a:"12.1"},{n:["woman: white hair","white haired woman"],u:"1f469-200d-1f9b3",v:["1f469-1f3fb-200d-1f9b3","1f469-1f3fc-200d-1f9b3","1f469-1f3fd-200d-1f9b3","1f469-1f3fe-200d-1f9b3","1f469-1f3ff-200d-1f9b3"],a:"11.0"},{n:["person: white hair","white haired person"],u:"1f9d1-200d-1f9b3",v:["1f9d1-1f3fb-200d-1f9b3","1f9d1-1f3fc-200d-1f9b3","1f9d1-1f3fd-200d-1f9b3","1f9d1-1f3fe-200d-1f9b3","1f9d1-1f3ff-200d-1f9b3"],a:"12.1"},{n:["bald woman","woman: bald"],u:"1f469-200d-1f9b2",v:["1f469-1f3fb-200d-1f9b2","1f469-1f3fc-200d-1f9b2","1f469-1f3fd-200d-1f9b2","1f469-1f3fe-200d-1f9b2","1f469-1f3ff-200d-1f9b2"],a:"11.0"},{n:["bald person","person: bald"],u:"1f9d1-200d-1f9b2",v:["1f9d1-1f3fb-200d-1f9b2","1f9d1-1f3fc-200d-1f9b2","1f9d1-1f3fd-200d-1f9b2","1f9d1-1f3fe-200d-1f9b2","1f9d1-1f3ff-200d-1f9b2"],a:"12.1"},{n:["woman: blond hair","blond-haired-woman"],u:"1f471-200d-2640-fe0f",v:["1f471-1f3fb-200d-2640-fe0f","1f471-1f3fc-200d-2640-fe0f","1f471-1f3fd-200d-2640-fe0f","1f471-1f3fe-200d-2640-fe0f","1f471-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man: blond hair","blond-haired-man"],u:"1f471-200d-2642-fe0f",v:["1f471-1f3fb-200d-2642-fe0f","1f471-1f3fc-200d-2642-fe0f","1f471-1f3fd-200d-2642-fe0f","1f471-1f3fe-200d-2642-fe0f","1f471-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["older adult"],u:"1f9d3",v:["1f9d3-1f3fb","1f9d3-1f3fc","1f9d3-1f3fd","1f9d3-1f3fe","1f9d3-1f3ff"],a:"5.0"},{n:["older man"],u:"1f474",v:["1f474-1f3fb","1f474-1f3fc","1f474-1f3fd","1f474-1f3fe","1f474-1f3ff"],a:"0.6"},{n:["older woman"],u:"1f475",v:["1f475-1f3fb","1f475-1f3fc","1f475-1f3fd","1f475-1f3fe","1f475-1f3ff"],a:"0.6"},{n:["person frowning"],u:"1f64d",v:["1f64d-1f3fb","1f64d-1f3fc","1f64d-1f3fd","1f64d-1f3fe","1f64d-1f3ff"],a:"0.6"},{n:["man frowning","man-frowning"],u:"1f64d-200d-2642-fe0f",v:["1f64d-1f3fb-200d-2642-fe0f","1f64d-1f3fc-200d-2642-fe0f","1f64d-1f3fd-200d-2642-fe0f","1f64d-1f3fe-200d-2642-fe0f","1f64d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman frowning","woman-frowning"],u:"1f64d-200d-2640-fe0f",v:["1f64d-1f3fb-200d-2640-fe0f","1f64d-1f3fc-200d-2640-fe0f","1f64d-1f3fd-200d-2640-fe0f","1f64d-1f3fe-200d-2640-fe0f","1f64d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with pouting face"],u:"1f64e",v:["1f64e-1f3fb","1f64e-1f3fc","1f64e-1f3fd","1f64e-1f3fe","1f64e-1f3ff"],a:"0.6"},{n:["man pouting","man-pouting"],u:"1f64e-200d-2642-fe0f",v:["1f64e-1f3fb-200d-2642-fe0f","1f64e-1f3fc-200d-2642-fe0f","1f64e-1f3fd-200d-2642-fe0f","1f64e-1f3fe-200d-2642-fe0f","1f64e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman pouting","woman-pouting"],u:"1f64e-200d-2640-fe0f",v:["1f64e-1f3fb-200d-2640-fe0f","1f64e-1f3fc-200d-2640-fe0f","1f64e-1f3fd-200d-2640-fe0f","1f64e-1f3fe-200d-2640-fe0f","1f64e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["no good","face with no good gesture"],u:"1f645",v:["1f645-1f3fb","1f645-1f3fc","1f645-1f3fd","1f645-1f3fe","1f645-1f3ff"],a:"0.6"},{n:["man gesturing no","man-gesturing-no"],u:"1f645-200d-2642-fe0f",v:["1f645-1f3fb-200d-2642-fe0f","1f645-1f3fc-200d-2642-fe0f","1f645-1f3fd-200d-2642-fe0f","1f645-1f3fe-200d-2642-fe0f","1f645-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing no","woman-gesturing-no"],u:"1f645-200d-2640-fe0f",v:["1f645-1f3fb-200d-2640-fe0f","1f645-1f3fc-200d-2640-fe0f","1f645-1f3fd-200d-2640-fe0f","1f645-1f3fe-200d-2640-fe0f","1f645-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ok woman","face with ok gesture"],u:"1f646",v:["1f646-1f3fb","1f646-1f3fc","1f646-1f3fd","1f646-1f3fe","1f646-1f3ff"],a:"0.6"},{n:["man gesturing ok","man-gesturing-ok"],u:"1f646-200d-2642-fe0f",v:["1f646-1f3fb-200d-2642-fe0f","1f646-1f3fc-200d-2642-fe0f","1f646-1f3fd-200d-2642-fe0f","1f646-1f3fe-200d-2642-fe0f","1f646-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing ok","woman-gesturing-ok"],u:"1f646-200d-2640-fe0f",v:["1f646-1f3fb-200d-2640-fe0f","1f646-1f3fc-200d-2640-fe0f","1f646-1f3fd-200d-2640-fe0f","1f646-1f3fe-200d-2640-fe0f","1f646-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["information desk person"],u:"1f481",v:["1f481-1f3fb","1f481-1f3fc","1f481-1f3fd","1f481-1f3fe","1f481-1f3ff"],a:"0.6"},{n:["man tipping hand","man-tipping-hand"],u:"1f481-200d-2642-fe0f",v:["1f481-1f3fb-200d-2642-fe0f","1f481-1f3fc-200d-2642-fe0f","1f481-1f3fd-200d-2642-fe0f","1f481-1f3fe-200d-2642-fe0f","1f481-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman tipping hand","woman-tipping-hand"],u:"1f481-200d-2640-fe0f",v:["1f481-1f3fb-200d-2640-fe0f","1f481-1f3fc-200d-2640-fe0f","1f481-1f3fd-200d-2640-fe0f","1f481-1f3fe-200d-2640-fe0f","1f481-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["raising hand","happy person raising one hand"],u:"1f64b",v:["1f64b-1f3fb","1f64b-1f3fc","1f64b-1f3fd","1f64b-1f3fe","1f64b-1f3ff"],a:"0.6"},{n:["man raising hand","man-raising-hand"],u:"1f64b-200d-2642-fe0f",v:["1f64b-1f3fb-200d-2642-fe0f","1f64b-1f3fc-200d-2642-fe0f","1f64b-1f3fd-200d-2642-fe0f","1f64b-1f3fe-200d-2642-fe0f","1f64b-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman raising hand","woman-raising-hand"],u:"1f64b-200d-2640-fe0f",v:["1f64b-1f3fb-200d-2640-fe0f","1f64b-1f3fc-200d-2640-fe0f","1f64b-1f3fd-200d-2640-fe0f","1f64b-1f3fe-200d-2640-fe0f","1f64b-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["deaf person"],u:"1f9cf",v:["1f9cf-1f3fb","1f9cf-1f3fc","1f9cf-1f3fd","1f9cf-1f3fe","1f9cf-1f3ff"],a:"12.0"},{n:["deaf man"],u:"1f9cf-200d-2642-fe0f",v:["1f9cf-1f3fb-200d-2642-fe0f","1f9cf-1f3fc-200d-2642-fe0f","1f9cf-1f3fd-200d-2642-fe0f","1f9cf-1f3fe-200d-2642-fe0f","1f9cf-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["deaf woman"],u:"1f9cf-200d-2640-fe0f",v:["1f9cf-1f3fb-200d-2640-fe0f","1f9cf-1f3fc-200d-2640-fe0f","1f9cf-1f3fd-200d-2640-fe0f","1f9cf-1f3fe-200d-2640-fe0f","1f9cf-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["bow","person bowing deeply"],u:"1f647",v:["1f647-1f3fb","1f647-1f3fc","1f647-1f3fd","1f647-1f3fe","1f647-1f3ff"],a:"0.6"},{n:["man bowing","man-bowing"],u:"1f647-200d-2642-fe0f",v:["1f647-1f3fb-200d-2642-fe0f","1f647-1f3fc-200d-2642-fe0f","1f647-1f3fd-200d-2642-fe0f","1f647-1f3fe-200d-2642-fe0f","1f647-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bowing","woman-bowing"],u:"1f647-200d-2640-fe0f",v:["1f647-1f3fb-200d-2640-fe0f","1f647-1f3fc-200d-2640-fe0f","1f647-1f3fd-200d-2640-fe0f","1f647-1f3fe-200d-2640-fe0f","1f647-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["face palm"],u:"1f926",v:["1f926-1f3fb","1f926-1f3fc","1f926-1f3fd","1f926-1f3fe","1f926-1f3ff"],a:"3.0"},{n:["man facepalming","man-facepalming"],u:"1f926-200d-2642-fe0f",v:["1f926-1f3fb-200d-2642-fe0f","1f926-1f3fc-200d-2642-fe0f","1f926-1f3fd-200d-2642-fe0f","1f926-1f3fe-200d-2642-fe0f","1f926-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman facepalming","woman-facepalming"],u:"1f926-200d-2640-fe0f",v:["1f926-1f3fb-200d-2640-fe0f","1f926-1f3fc-200d-2640-fe0f","1f926-1f3fd-200d-2640-fe0f","1f926-1f3fe-200d-2640-fe0f","1f926-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["shrug"],u:"1f937",v:["1f937-1f3fb","1f937-1f3fc","1f937-1f3fd","1f937-1f3fe","1f937-1f3ff"],a:"3.0"},{n:["man shrugging","man-shrugging"],u:"1f937-200d-2642-fe0f",v:["1f937-1f3fb-200d-2642-fe0f","1f937-1f3fc-200d-2642-fe0f","1f937-1f3fd-200d-2642-fe0f","1f937-1f3fe-200d-2642-fe0f","1f937-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman shrugging","woman-shrugging"],u:"1f937-200d-2640-fe0f",v:["1f937-1f3fb-200d-2640-fe0f","1f937-1f3fc-200d-2640-fe0f","1f937-1f3fd-200d-2640-fe0f","1f937-1f3fe-200d-2640-fe0f","1f937-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["health worker"],u:"1f9d1-200d-2695-fe0f",v:["1f9d1-1f3fb-200d-2695-fe0f","1f9d1-1f3fc-200d-2695-fe0f","1f9d1-1f3fd-200d-2695-fe0f","1f9d1-1f3fe-200d-2695-fe0f","1f9d1-1f3ff-200d-2695-fe0f"],a:"12.1"},{n:["male-doctor","man health worker"],u:"1f468-200d-2695-fe0f",v:["1f468-1f3fb-200d-2695-fe0f","1f468-1f3fc-200d-2695-fe0f","1f468-1f3fd-200d-2695-fe0f","1f468-1f3fe-200d-2695-fe0f","1f468-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["female-doctor","woman health worker"],u:"1f469-200d-2695-fe0f",v:["1f469-1f3fb-200d-2695-fe0f","1f469-1f3fc-200d-2695-fe0f","1f469-1f3fd-200d-2695-fe0f","1f469-1f3fe-200d-2695-fe0f","1f469-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["student"],u:"1f9d1-200d-1f393",v:["1f9d1-1f3fb-200d-1f393","1f9d1-1f3fc-200d-1f393","1f9d1-1f3fd-200d-1f393","1f9d1-1f3fe-200d-1f393","1f9d1-1f3ff-200d-1f393"],a:"12.1"},{n:["man student","male-student"],u:"1f468-200d-1f393",v:["1f468-1f3fb-200d-1f393","1f468-1f3fc-200d-1f393","1f468-1f3fd-200d-1f393","1f468-1f3fe-200d-1f393","1f468-1f3ff-200d-1f393"],a:"4.0"},{n:["woman student","female-student"],u:"1f469-200d-1f393",v:["1f469-1f3fb-200d-1f393","1f469-1f3fc-200d-1f393","1f469-1f3fd-200d-1f393","1f469-1f3fe-200d-1f393","1f469-1f3ff-200d-1f393"],a:"4.0"},{n:["teacher"],u:"1f9d1-200d-1f3eb",v:["1f9d1-1f3fb-200d-1f3eb","1f9d1-1f3fc-200d-1f3eb","1f9d1-1f3fd-200d-1f3eb","1f9d1-1f3fe-200d-1f3eb","1f9d1-1f3ff-200d-1f3eb"],a:"12.1"},{n:["man teacher","male-teacher"],u:"1f468-200d-1f3eb",v:["1f468-1f3fb-200d-1f3eb","1f468-1f3fc-200d-1f3eb","1f468-1f3fd-200d-1f3eb","1f468-1f3fe-200d-1f3eb","1f468-1f3ff-200d-1f3eb"],a:"4.0"},{n:["woman teacher","female-teacher"],u:"1f469-200d-1f3eb",v:["1f469-1f3fb-200d-1f3eb","1f469-1f3fc-200d-1f3eb","1f469-1f3fd-200d-1f3eb","1f469-1f3fe-200d-1f3eb","1f469-1f3ff-200d-1f3eb"],a:"4.0"},{n:["judge"],u:"1f9d1-200d-2696-fe0f",v:["1f9d1-1f3fb-200d-2696-fe0f","1f9d1-1f3fc-200d-2696-fe0f","1f9d1-1f3fd-200d-2696-fe0f","1f9d1-1f3fe-200d-2696-fe0f","1f9d1-1f3ff-200d-2696-fe0f"],a:"12.1"},{n:["man judge","male-judge"],u:"1f468-200d-2696-fe0f",v:["1f468-1f3fb-200d-2696-fe0f","1f468-1f3fc-200d-2696-fe0f","1f468-1f3fd-200d-2696-fe0f","1f468-1f3fe-200d-2696-fe0f","1f468-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["woman judge","female-judge"],u:"1f469-200d-2696-fe0f",v:["1f469-1f3fb-200d-2696-fe0f","1f469-1f3fc-200d-2696-fe0f","1f469-1f3fd-200d-2696-fe0f","1f469-1f3fe-200d-2696-fe0f","1f469-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["farmer"],u:"1f9d1-200d-1f33e",v:["1f9d1-1f3fb-200d-1f33e","1f9d1-1f3fc-200d-1f33e","1f9d1-1f3fd-200d-1f33e","1f9d1-1f3fe-200d-1f33e","1f9d1-1f3ff-200d-1f33e"],a:"12.1"},{n:["man farmer","male-farmer"],u:"1f468-200d-1f33e",v:["1f468-1f3fb-200d-1f33e","1f468-1f3fc-200d-1f33e","1f468-1f3fd-200d-1f33e","1f468-1f3fe-200d-1f33e","1f468-1f3ff-200d-1f33e"],a:"4.0"},{n:["woman farmer","female-farmer"],u:"1f469-200d-1f33e",v:["1f469-1f3fb-200d-1f33e","1f469-1f3fc-200d-1f33e","1f469-1f3fd-200d-1f33e","1f469-1f3fe-200d-1f33e","1f469-1f3ff-200d-1f33e"],a:"4.0"},{n:["cook"],u:"1f9d1-200d-1f373",v:["1f9d1-1f3fb-200d-1f373","1f9d1-1f3fc-200d-1f373","1f9d1-1f3fd-200d-1f373","1f9d1-1f3fe-200d-1f373","1f9d1-1f3ff-200d-1f373"],a:"12.1"},{n:["man cook","male-cook"],u:"1f468-200d-1f373",v:["1f468-1f3fb-200d-1f373","1f468-1f3fc-200d-1f373","1f468-1f3fd-200d-1f373","1f468-1f3fe-200d-1f373","1f468-1f3ff-200d-1f373"],a:"4.0"},{n:["woman cook","female-cook"],u:"1f469-200d-1f373",v:["1f469-1f3fb-200d-1f373","1f469-1f3fc-200d-1f373","1f469-1f3fd-200d-1f373","1f469-1f3fe-200d-1f373","1f469-1f3ff-200d-1f373"],a:"4.0"},{n:["mechanic"],u:"1f9d1-200d-1f527",v:["1f9d1-1f3fb-200d-1f527","1f9d1-1f3fc-200d-1f527","1f9d1-1f3fd-200d-1f527","1f9d1-1f3fe-200d-1f527","1f9d1-1f3ff-200d-1f527"],a:"12.1"},{n:["man mechanic","male-mechanic"],u:"1f468-200d-1f527",v:["1f468-1f3fb-200d-1f527","1f468-1f3fc-200d-1f527","1f468-1f3fd-200d-1f527","1f468-1f3fe-200d-1f527","1f468-1f3ff-200d-1f527"],a:"4.0"},{n:["woman mechanic","female-mechanic"],u:"1f469-200d-1f527",v:["1f469-1f3fb-200d-1f527","1f469-1f3fc-200d-1f527","1f469-1f3fd-200d-1f527","1f469-1f3fe-200d-1f527","1f469-1f3ff-200d-1f527"],a:"4.0"},{n:["factory worker"],u:"1f9d1-200d-1f3ed",v:["1f9d1-1f3fb-200d-1f3ed","1f9d1-1f3fc-200d-1f3ed","1f9d1-1f3fd-200d-1f3ed","1f9d1-1f3fe-200d-1f3ed","1f9d1-1f3ff-200d-1f3ed"],a:"12.1"},{n:["man factory worker","male-factory-worker"],u:"1f468-200d-1f3ed",v:["1f468-1f3fb-200d-1f3ed","1f468-1f3fc-200d-1f3ed","1f468-1f3fd-200d-1f3ed","1f468-1f3fe-200d-1f3ed","1f468-1f3ff-200d-1f3ed"],a:"4.0"},{n:["woman factory worker","female-factory-worker"],u:"1f469-200d-1f3ed",v:["1f469-1f3fb-200d-1f3ed","1f469-1f3fc-200d-1f3ed","1f469-1f3fd-200d-1f3ed","1f469-1f3fe-200d-1f3ed","1f469-1f3ff-200d-1f3ed"],a:"4.0"},{n:["office worker"],u:"1f9d1-200d-1f4bc",v:["1f9d1-1f3fb-200d-1f4bc","1f9d1-1f3fc-200d-1f4bc","1f9d1-1f3fd-200d-1f4bc","1f9d1-1f3fe-200d-1f4bc","1f9d1-1f3ff-200d-1f4bc"],a:"12.1"},{n:["man office worker","male-office-worker"],u:"1f468-200d-1f4bc",v:["1f468-1f3fb-200d-1f4bc","1f468-1f3fc-200d-1f4bc","1f468-1f3fd-200d-1f4bc","1f468-1f3fe-200d-1f4bc","1f468-1f3ff-200d-1f4bc"],a:"4.0"},{n:["woman office worker","female-office-worker"],u:"1f469-200d-1f4bc",v:["1f469-1f3fb-200d-1f4bc","1f469-1f3fc-200d-1f4bc","1f469-1f3fd-200d-1f4bc","1f469-1f3fe-200d-1f4bc","1f469-1f3ff-200d-1f4bc"],a:"4.0"},{n:["scientist"],u:"1f9d1-200d-1f52c",v:["1f9d1-1f3fb-200d-1f52c","1f9d1-1f3fc-200d-1f52c","1f9d1-1f3fd-200d-1f52c","1f9d1-1f3fe-200d-1f52c","1f9d1-1f3ff-200d-1f52c"],a:"12.1"},{n:["man scientist","male-scientist"],u:"1f468-200d-1f52c",v:["1f468-1f3fb-200d-1f52c","1f468-1f3fc-200d-1f52c","1f468-1f3fd-200d-1f52c","1f468-1f3fe-200d-1f52c","1f468-1f3ff-200d-1f52c"],a:"4.0"},{n:["woman scientist","female-scientist"],u:"1f469-200d-1f52c",v:["1f469-1f3fb-200d-1f52c","1f469-1f3fc-200d-1f52c","1f469-1f3fd-200d-1f52c","1f469-1f3fe-200d-1f52c","1f469-1f3ff-200d-1f52c"],a:"4.0"},{n:["technologist"],u:"1f9d1-200d-1f4bb",v:["1f9d1-1f3fb-200d-1f4bb","1f9d1-1f3fc-200d-1f4bb","1f9d1-1f3fd-200d-1f4bb","1f9d1-1f3fe-200d-1f4bb","1f9d1-1f3ff-200d-1f4bb"],a:"12.1"},{n:["man technologist","male-technologist"],u:"1f468-200d-1f4bb",v:["1f468-1f3fb-200d-1f4bb","1f468-1f3fc-200d-1f4bb","1f468-1f3fd-200d-1f4bb","1f468-1f3fe-200d-1f4bb","1f468-1f3ff-200d-1f4bb"],a:"4.0"},{n:["woman technologist","female-technologist"],u:"1f469-200d-1f4bb",v:["1f469-1f3fb-200d-1f4bb","1f469-1f3fc-200d-1f4bb","1f469-1f3fd-200d-1f4bb","1f469-1f3fe-200d-1f4bb","1f469-1f3ff-200d-1f4bb"],a:"4.0"},{n:["singer"],u:"1f9d1-200d-1f3a4",v:["1f9d1-1f3fb-200d-1f3a4","1f9d1-1f3fc-200d-1f3a4","1f9d1-1f3fd-200d-1f3a4","1f9d1-1f3fe-200d-1f3a4","1f9d1-1f3ff-200d-1f3a4"],a:"12.1"},{n:["man singer","male-singer"],u:"1f468-200d-1f3a4",v:["1f468-1f3fb-200d-1f3a4","1f468-1f3fc-200d-1f3a4","1f468-1f3fd-200d-1f3a4","1f468-1f3fe-200d-1f3a4","1f468-1f3ff-200d-1f3a4"],a:"4.0"},{n:["woman singer","female-singer"],u:"1f469-200d-1f3a4",v:["1f469-1f3fb-200d-1f3a4","1f469-1f3fc-200d-1f3a4","1f469-1f3fd-200d-1f3a4","1f469-1f3fe-200d-1f3a4","1f469-1f3ff-200d-1f3a4"],a:"4.0"},{n:["artist"],u:"1f9d1-200d-1f3a8",v:["1f9d1-1f3fb-200d-1f3a8","1f9d1-1f3fc-200d-1f3a8","1f9d1-1f3fd-200d-1f3a8","1f9d1-1f3fe-200d-1f3a8","1f9d1-1f3ff-200d-1f3a8"],a:"12.1"},{n:["man artist","male-artist"],u:"1f468-200d-1f3a8",v:["1f468-1f3fb-200d-1f3a8","1f468-1f3fc-200d-1f3a8","1f468-1f3fd-200d-1f3a8","1f468-1f3fe-200d-1f3a8","1f468-1f3ff-200d-1f3a8"],a:"4.0"},{n:["woman artist","female-artist"],u:"1f469-200d-1f3a8",v:["1f469-1f3fb-200d-1f3a8","1f469-1f3fc-200d-1f3a8","1f469-1f3fd-200d-1f3a8","1f469-1f3fe-200d-1f3a8","1f469-1f3ff-200d-1f3a8"],a:"4.0"},{n:["pilot"],u:"1f9d1-200d-2708-fe0f",v:["1f9d1-1f3fb-200d-2708-fe0f","1f9d1-1f3fc-200d-2708-fe0f","1f9d1-1f3fd-200d-2708-fe0f","1f9d1-1f3fe-200d-2708-fe0f","1f9d1-1f3ff-200d-2708-fe0f"],a:"12.1"},{n:["man pilot","male-pilot"],u:"1f468-200d-2708-fe0f",v:["1f468-1f3fb-200d-2708-fe0f","1f468-1f3fc-200d-2708-fe0f","1f468-1f3fd-200d-2708-fe0f","1f468-1f3fe-200d-2708-fe0f","1f468-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["woman pilot","female-pilot"],u:"1f469-200d-2708-fe0f",v:["1f469-1f3fb-200d-2708-fe0f","1f469-1f3fc-200d-2708-fe0f","1f469-1f3fd-200d-2708-fe0f","1f469-1f3fe-200d-2708-fe0f","1f469-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["astronaut"],u:"1f9d1-200d-1f680",v:["1f9d1-1f3fb-200d-1f680","1f9d1-1f3fc-200d-1f680","1f9d1-1f3fd-200d-1f680","1f9d1-1f3fe-200d-1f680","1f9d1-1f3ff-200d-1f680"],a:"12.1"},{n:["man astronaut","male-astronaut"],u:"1f468-200d-1f680",v:["1f468-1f3fb-200d-1f680","1f468-1f3fc-200d-1f680","1f468-1f3fd-200d-1f680","1f468-1f3fe-200d-1f680","1f468-1f3ff-200d-1f680"],a:"4.0"},{n:["woman astronaut","female-astronaut"],u:"1f469-200d-1f680",v:["1f469-1f3fb-200d-1f680","1f469-1f3fc-200d-1f680","1f469-1f3fd-200d-1f680","1f469-1f3fe-200d-1f680","1f469-1f3ff-200d-1f680"],a:"4.0"},{n:["firefighter"],u:"1f9d1-200d-1f692",v:["1f9d1-1f3fb-200d-1f692","1f9d1-1f3fc-200d-1f692","1f9d1-1f3fd-200d-1f692","1f9d1-1f3fe-200d-1f692","1f9d1-1f3ff-200d-1f692"],a:"12.1"},{n:["man firefighter","male-firefighter"],u:"1f468-200d-1f692",v:["1f468-1f3fb-200d-1f692","1f468-1f3fc-200d-1f692","1f468-1f3fd-200d-1f692","1f468-1f3fe-200d-1f692","1f468-1f3ff-200d-1f692"],a:"4.0"},{n:["woman firefighter","female-firefighter"],u:"1f469-200d-1f692",v:["1f469-1f3fb-200d-1f692","1f469-1f3fc-200d-1f692","1f469-1f3fd-200d-1f692","1f469-1f3fe-200d-1f692","1f469-1f3ff-200d-1f692"],a:"4.0"},{n:["cop","police officer"],u:"1f46e",v:["1f46e-1f3fb","1f46e-1f3fc","1f46e-1f3fd","1f46e-1f3fe","1f46e-1f3ff"],a:"0.6"},{n:["man police officer","male-police-officer"],u:"1f46e-200d-2642-fe0f",v:["1f46e-1f3fb-200d-2642-fe0f","1f46e-1f3fc-200d-2642-fe0f","1f46e-1f3fd-200d-2642-fe0f","1f46e-1f3fe-200d-2642-fe0f","1f46e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman police officer","female-police-officer"],u:"1f46e-200d-2640-fe0f",v:["1f46e-1f3fb-200d-2640-fe0f","1f46e-1f3fc-200d-2640-fe0f","1f46e-1f3fd-200d-2640-fe0f","1f46e-1f3fe-200d-2640-fe0f","1f46e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["detective","sleuth or spy"],u:"1f575-fe0f",v:["1f575-1f3fb","1f575-1f3fc","1f575-1f3fd","1f575-1f3fe","1f575-1f3ff"],a:"0.7"},{n:["man detective","male-detective"],u:"1f575-fe0f-200d-2642-fe0f",v:["1f575-1f3fb-200d-2642-fe0f","1f575-1f3fc-200d-2642-fe0f","1f575-1f3fd-200d-2642-fe0f","1f575-1f3fe-200d-2642-fe0f","1f575-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman detective","female-detective"],u:"1f575-fe0f-200d-2640-fe0f",v:["1f575-1f3fb-200d-2640-fe0f","1f575-1f3fc-200d-2640-fe0f","1f575-1f3fd-200d-2640-fe0f","1f575-1f3fe-200d-2640-fe0f","1f575-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["guardsman"],u:"1f482",v:["1f482-1f3fb","1f482-1f3fc","1f482-1f3fd","1f482-1f3fe","1f482-1f3ff"],a:"0.6"},{n:["man guard","male-guard"],u:"1f482-200d-2642-fe0f",v:["1f482-1f3fb-200d-2642-fe0f","1f482-1f3fc-200d-2642-fe0f","1f482-1f3fd-200d-2642-fe0f","1f482-1f3fe-200d-2642-fe0f","1f482-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman guard","female-guard"],u:"1f482-200d-2640-fe0f",v:["1f482-1f3fb-200d-2640-fe0f","1f482-1f3fc-200d-2640-fe0f","1f482-1f3fd-200d-2640-fe0f","1f482-1f3fe-200d-2640-fe0f","1f482-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ninja"],u:"1f977",v:["1f977-1f3fb","1f977-1f3fc","1f977-1f3fd","1f977-1f3fe","1f977-1f3ff"],a:"13.0"},{n:["construction worker"],u:"1f477",v:["1f477-1f3fb","1f477-1f3fc","1f477-1f3fd","1f477-1f3fe","1f477-1f3ff"],a:"0.6"},{n:["man construction worker","male-construction-worker"],u:"1f477-200d-2642-fe0f",v:["1f477-1f3fb-200d-2642-fe0f","1f477-1f3fc-200d-2642-fe0f","1f477-1f3fd-200d-2642-fe0f","1f477-1f3fe-200d-2642-fe0f","1f477-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman construction worker","female-construction-worker"],u:"1f477-200d-2640-fe0f",v:["1f477-1f3fb-200d-2640-fe0f","1f477-1f3fc-200d-2640-fe0f","1f477-1f3fd-200d-2640-fe0f","1f477-1f3fe-200d-2640-fe0f","1f477-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with crown"],u:"1fac5",v:["1fac5-1f3fb","1fac5-1f3fc","1fac5-1f3fd","1fac5-1f3fe","1fac5-1f3ff"],a:"14.0"},{n:["prince"],u:"1f934",v:["1f934-1f3fb","1f934-1f3fc","1f934-1f3fd","1f934-1f3fe","1f934-1f3ff"],a:"3.0"},{n:["princess"],u:"1f478",v:["1f478-1f3fb","1f478-1f3fc","1f478-1f3fd","1f478-1f3fe","1f478-1f3ff"],a:"0.6"},{n:["man with turban"],u:"1f473",v:["1f473-1f3fb","1f473-1f3fc","1f473-1f3fd","1f473-1f3fe","1f473-1f3ff"],a:"0.6"},{n:["man wearing turban","man-wearing-turban"],u:"1f473-200d-2642-fe0f",v:["1f473-1f3fb-200d-2642-fe0f","1f473-1f3fc-200d-2642-fe0f","1f473-1f3fd-200d-2642-fe0f","1f473-1f3fe-200d-2642-fe0f","1f473-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman wearing turban","woman-wearing-turban"],u:"1f473-200d-2640-fe0f",v:["1f473-1f3fb-200d-2640-fe0f","1f473-1f3fc-200d-2640-fe0f","1f473-1f3fd-200d-2640-fe0f","1f473-1f3fe-200d-2640-fe0f","1f473-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man with gua pi mao"],u:"1f472",v:["1f472-1f3fb","1f472-1f3fc","1f472-1f3fd","1f472-1f3fe","1f472-1f3ff"],a:"0.6"},{n:["person with headscarf"],u:"1f9d5",v:["1f9d5-1f3fb","1f9d5-1f3fc","1f9d5-1f3fd","1f9d5-1f3fe","1f9d5-1f3ff"],a:"5.0"},{n:["man in tuxedo","person in tuxedo"],u:"1f935",v:["1f935-1f3fb","1f935-1f3fc","1f935-1f3fd","1f935-1f3fe","1f935-1f3ff"],a:"3.0"},{n:["man in tuxedo"],u:"1f935-200d-2642-fe0f",v:["1f935-1f3fb-200d-2642-fe0f","1f935-1f3fc-200d-2642-fe0f","1f935-1f3fd-200d-2642-fe0f","1f935-1f3fe-200d-2642-fe0f","1f935-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman in tuxedo"],u:"1f935-200d-2640-fe0f",v:["1f935-1f3fb-200d-2640-fe0f","1f935-1f3fc-200d-2640-fe0f","1f935-1f3fd-200d-2640-fe0f","1f935-1f3fe-200d-2640-fe0f","1f935-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["bride with veil"],u:"1f470",v:["1f470-1f3fb","1f470-1f3fc","1f470-1f3fd","1f470-1f3fe","1f470-1f3ff"],a:"0.6"},{n:["man with veil"],u:"1f470-200d-2642-fe0f",v:["1f470-1f3fb-200d-2642-fe0f","1f470-1f3fc-200d-2642-fe0f","1f470-1f3fd-200d-2642-fe0f","1f470-1f3fe-200d-2642-fe0f","1f470-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman with veil"],u:"1f470-200d-2640-fe0f",v:["1f470-1f3fb-200d-2640-fe0f","1f470-1f3fc-200d-2640-fe0f","1f470-1f3fd-200d-2640-fe0f","1f470-1f3fe-200d-2640-fe0f","1f470-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["pregnant woman"],u:"1f930",v:["1f930-1f3fb","1f930-1f3fc","1f930-1f3fd","1f930-1f3fe","1f930-1f3ff"],a:"3.0"},{n:["pregnant man"],u:"1fac3",v:["1fac3-1f3fb","1fac3-1f3fc","1fac3-1f3fd","1fac3-1f3fe","1fac3-1f3ff"],a:"14.0"},{n:["pregnant person"],u:"1fac4",v:["1fac4-1f3fb","1fac4-1f3fc","1fac4-1f3fd","1fac4-1f3fe","1fac4-1f3ff"],a:"14.0"},{n:["breast-feeding"],u:"1f931",v:["1f931-1f3fb","1f931-1f3fc","1f931-1f3fd","1f931-1f3fe","1f931-1f3ff"],a:"5.0"},{n:["woman feeding baby"],u:"1f469-200d-1f37c",v:["1f469-1f3fb-200d-1f37c","1f469-1f3fc-200d-1f37c","1f469-1f3fd-200d-1f37c","1f469-1f3fe-200d-1f37c","1f469-1f3ff-200d-1f37c"],a:"13.0"},{n:["man feeding baby"],u:"1f468-200d-1f37c",v:["1f468-1f3fb-200d-1f37c","1f468-1f3fc-200d-1f37c","1f468-1f3fd-200d-1f37c","1f468-1f3fe-200d-1f37c","1f468-1f3ff-200d-1f37c"],a:"13.0"},{n:["person feeding baby"],u:"1f9d1-200d-1f37c",v:["1f9d1-1f3fb-200d-1f37c","1f9d1-1f3fc-200d-1f37c","1f9d1-1f3fd-200d-1f37c","1f9d1-1f3fe-200d-1f37c","1f9d1-1f3ff-200d-1f37c"],a:"13.0"},{n:["angel","baby angel"],u:"1f47c",v:["1f47c-1f3fb","1f47c-1f3fc","1f47c-1f3fd","1f47c-1f3fe","1f47c-1f3ff"],a:"0.6"},{n:["santa","father christmas"],u:"1f385",v:["1f385-1f3fb","1f385-1f3fc","1f385-1f3fd","1f385-1f3fe","1f385-1f3ff"],a:"0.6"},{n:["mrs claus","mother christmas"],u:"1f936",v:["1f936-1f3fb","1f936-1f3fc","1f936-1f3fd","1f936-1f3fe","1f936-1f3ff"],a:"3.0"},{n:["mx claus"],u:"1f9d1-200d-1f384",v:["1f9d1-1f3fb-200d-1f384","1f9d1-1f3fc-200d-1f384","1f9d1-1f3fd-200d-1f384","1f9d1-1f3fe-200d-1f384","1f9d1-1f3ff-200d-1f384"],a:"13.0"},{n:["superhero"],u:"1f9b8",v:["1f9b8-1f3fb","1f9b8-1f3fc","1f9b8-1f3fd","1f9b8-1f3fe","1f9b8-1f3ff"],a:"11.0"},{n:["man superhero","male superhero"],u:"1f9b8-200d-2642-fe0f",v:["1f9b8-1f3fb-200d-2642-fe0f","1f9b8-1f3fc-200d-2642-fe0f","1f9b8-1f3fd-200d-2642-fe0f","1f9b8-1f3fe-200d-2642-fe0f","1f9b8-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman superhero","female superhero"],u:"1f9b8-200d-2640-fe0f",v:["1f9b8-1f3fb-200d-2640-fe0f","1f9b8-1f3fc-200d-2640-fe0f","1f9b8-1f3fd-200d-2640-fe0f","1f9b8-1f3fe-200d-2640-fe0f","1f9b8-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["supervillain"],u:"1f9b9",v:["1f9b9-1f3fb","1f9b9-1f3fc","1f9b9-1f3fd","1f9b9-1f3fe","1f9b9-1f3ff"],a:"11.0"},{n:["man supervillain","male supervillain"],u:"1f9b9-200d-2642-fe0f",v:["1f9b9-1f3fb-200d-2642-fe0f","1f9b9-1f3fc-200d-2642-fe0f","1f9b9-1f3fd-200d-2642-fe0f","1f9b9-1f3fe-200d-2642-fe0f","1f9b9-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman supervillain","female supervillain"],u:"1f9b9-200d-2640-fe0f",v:["1f9b9-1f3fb-200d-2640-fe0f","1f9b9-1f3fc-200d-2640-fe0f","1f9b9-1f3fd-200d-2640-fe0f","1f9b9-1f3fe-200d-2640-fe0f","1f9b9-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["mage"],u:"1f9d9",v:["1f9d9-1f3fb","1f9d9-1f3fc","1f9d9-1f3fd","1f9d9-1f3fe","1f9d9-1f3ff"],a:"5.0"},{n:["man mage","male mage"],u:"1f9d9-200d-2642-fe0f",v:["1f9d9-1f3fb-200d-2642-fe0f","1f9d9-1f3fc-200d-2642-fe0f","1f9d9-1f3fd-200d-2642-fe0f","1f9d9-1f3fe-200d-2642-fe0f","1f9d9-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman mage","female mage"],u:"1f9d9-200d-2640-fe0f",v:["1f9d9-1f3fb-200d-2640-fe0f","1f9d9-1f3fc-200d-2640-fe0f","1f9d9-1f3fd-200d-2640-fe0f","1f9d9-1f3fe-200d-2640-fe0f","1f9d9-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fairy"],u:"1f9da",v:["1f9da-1f3fb","1f9da-1f3fc","1f9da-1f3fd","1f9da-1f3fe","1f9da-1f3ff"],a:"5.0"},{n:["man fairy","male fairy"],u:"1f9da-200d-2642-fe0f",v:["1f9da-1f3fb-200d-2642-fe0f","1f9da-1f3fc-200d-2642-fe0f","1f9da-1f3fd-200d-2642-fe0f","1f9da-1f3fe-200d-2642-fe0f","1f9da-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman fairy","female fairy"],u:"1f9da-200d-2640-fe0f",v:["1f9da-1f3fb-200d-2640-fe0f","1f9da-1f3fc-200d-2640-fe0f","1f9da-1f3fd-200d-2640-fe0f","1f9da-1f3fe-200d-2640-fe0f","1f9da-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["vampire"],u:"1f9db",v:["1f9db-1f3fb","1f9db-1f3fc","1f9db-1f3fd","1f9db-1f3fe","1f9db-1f3ff"],a:"5.0"},{n:["man vampire","male vampire"],u:"1f9db-200d-2642-fe0f",v:["1f9db-1f3fb-200d-2642-fe0f","1f9db-1f3fc-200d-2642-fe0f","1f9db-1f3fd-200d-2642-fe0f","1f9db-1f3fe-200d-2642-fe0f","1f9db-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman vampire","female vampire"],u:"1f9db-200d-2640-fe0f",v:["1f9db-1f3fb-200d-2640-fe0f","1f9db-1f3fc-200d-2640-fe0f","1f9db-1f3fd-200d-2640-fe0f","1f9db-1f3fe-200d-2640-fe0f","1f9db-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["merperson"],u:"1f9dc",v:["1f9dc-1f3fb","1f9dc-1f3fc","1f9dc-1f3fd","1f9dc-1f3fe","1f9dc-1f3ff"],a:"5.0"},{n:["merman"],u:"1f9dc-200d-2642-fe0f",v:["1f9dc-1f3fb-200d-2642-fe0f","1f9dc-1f3fc-200d-2642-fe0f","1f9dc-1f3fd-200d-2642-fe0f","1f9dc-1f3fe-200d-2642-fe0f","1f9dc-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["mermaid"],u:"1f9dc-200d-2640-fe0f",v:["1f9dc-1f3fb-200d-2640-fe0f","1f9dc-1f3fc-200d-2640-fe0f","1f9dc-1f3fd-200d-2640-fe0f","1f9dc-1f3fe-200d-2640-fe0f","1f9dc-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["elf"],u:"1f9dd",v:["1f9dd-1f3fb","1f9dd-1f3fc","1f9dd-1f3fd","1f9dd-1f3fe","1f9dd-1f3ff"],a:"5.0"},{n:["man elf","male elf"],u:"1f9dd-200d-2642-fe0f",v:["1f9dd-1f3fb-200d-2642-fe0f","1f9dd-1f3fc-200d-2642-fe0f","1f9dd-1f3fd-200d-2642-fe0f","1f9dd-1f3fe-200d-2642-fe0f","1f9dd-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman elf","female elf"],u:"1f9dd-200d-2640-fe0f",v:["1f9dd-1f3fb-200d-2640-fe0f","1f9dd-1f3fc-200d-2640-fe0f","1f9dd-1f3fd-200d-2640-fe0f","1f9dd-1f3fe-200d-2640-fe0f","1f9dd-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["genie"],u:"1f9de",a:"5.0"},{n:["man genie","male genie"],u:"1f9de-200d-2642-fe0f",a:"5.0"},{n:["woman genie","female genie"],u:"1f9de-200d-2640-fe0f",a:"5.0"},{n:["zombie"],u:"1f9df",a:"5.0"},{n:["man zombie","male zombie"],u:"1f9df-200d-2642-fe0f",a:"5.0"},{n:["woman zombie","female zombie"],u:"1f9df-200d-2640-fe0f",a:"5.0"},{n:["troll"],u:"1f9cc",a:"14.0"},{n:["massage","face massage"],u:"1f486",v:["1f486-1f3fb","1f486-1f3fc","1f486-1f3fd","1f486-1f3fe","1f486-1f3ff"],a:"0.6"},{n:["man getting massage","man-getting-massage"],u:"1f486-200d-2642-fe0f",v:["1f486-1f3fb-200d-2642-fe0f","1f486-1f3fc-200d-2642-fe0f","1f486-1f3fd-200d-2642-fe0f","1f486-1f3fe-200d-2642-fe0f","1f486-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting massage","woman-getting-massage"],u:"1f486-200d-2640-fe0f",v:["1f486-1f3fb-200d-2640-fe0f","1f486-1f3fc-200d-2640-fe0f","1f486-1f3fd-200d-2640-fe0f","1f486-1f3fe-200d-2640-fe0f","1f486-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["haircut"],u:"1f487",v:["1f487-1f3fb","1f487-1f3fc","1f487-1f3fd","1f487-1f3fe","1f487-1f3ff"],a:"0.6"},{n:["man getting haircut","man-getting-haircut"],u:"1f487-200d-2642-fe0f",v:["1f487-1f3fb-200d-2642-fe0f","1f487-1f3fc-200d-2642-fe0f","1f487-1f3fd-200d-2642-fe0f","1f487-1f3fe-200d-2642-fe0f","1f487-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting haircut","woman-getting-haircut"],u:"1f487-200d-2640-fe0f",v:["1f487-1f3fb-200d-2640-fe0f","1f487-1f3fc-200d-2640-fe0f","1f487-1f3fd-200d-2640-fe0f","1f487-1f3fe-200d-2640-fe0f","1f487-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["walking","pedestrian"],u:"1f6b6",v:["1f6b6-1f3fb","1f6b6-1f3fc","1f6b6-1f3fd","1f6b6-1f3fe","1f6b6-1f3ff"],a:"0.6"},{n:["man walking","man-walking"],u:"1f6b6-200d-2642-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f","1f6b6-1f3fc-200d-2642-fe0f","1f6b6-1f3fd-200d-2642-fe0f","1f6b6-1f3fe-200d-2642-fe0f","1f6b6-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman walking","woman-walking"],u:"1f6b6-200d-2640-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f","1f6b6-1f3fc-200d-2640-fe0f","1f6b6-1f3fd-200d-2640-fe0f","1f6b6-1f3fe-200d-2640-fe0f","1f6b6-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person walking facing right"],u:"1f6b6-200d-27a1-fe0f",v:["1f6b6-1f3fb-200d-27a1-fe0f","1f6b6-1f3fc-200d-27a1-fe0f","1f6b6-1f3fd-200d-27a1-fe0f","1f6b6-1f3fe-200d-27a1-fe0f","1f6b6-1f3ff-200d-27a1-fe0f"],a:"15.1"},{n:["woman walking facing right"],u:"1f6b6-200d-2640-fe0f-200d-27a1-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f-200d-27a1-fe0f","1f6b6-1f3fc-200d-2640-fe0f-200d-27a1-fe0f","1f6b6-1f3fd-200d-2640-fe0f-200d-27a1-fe0f","1f6b6-1f3fe-200d-2640-fe0f-200d-27a1-fe0f","1f6b6-1f3ff-200d-2640-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["man walking facing right"],u:"1f6b6-200d-2642-fe0f-200d-27a1-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f-200d-27a1-fe0f","1f6b6-1f3fc-200d-2642-fe0f-200d-27a1-fe0f","1f6b6-1f3fd-200d-2642-fe0f-200d-27a1-fe0f","1f6b6-1f3fe-200d-2642-fe0f-200d-27a1-fe0f","1f6b6-1f3ff-200d-2642-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["standing person"],u:"1f9cd",v:["1f9cd-1f3fb","1f9cd-1f3fc","1f9cd-1f3fd","1f9cd-1f3fe","1f9cd-1f3ff"],a:"12.0"},{n:["man standing"],u:"1f9cd-200d-2642-fe0f",v:["1f9cd-1f3fb-200d-2642-fe0f","1f9cd-1f3fc-200d-2642-fe0f","1f9cd-1f3fd-200d-2642-fe0f","1f9cd-1f3fe-200d-2642-fe0f","1f9cd-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman standing"],u:"1f9cd-200d-2640-fe0f",v:["1f9cd-1f3fb-200d-2640-fe0f","1f9cd-1f3fc-200d-2640-fe0f","1f9cd-1f3fd-200d-2640-fe0f","1f9cd-1f3fe-200d-2640-fe0f","1f9cd-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["kneeling person"],u:"1f9ce",v:["1f9ce-1f3fb","1f9ce-1f3fc","1f9ce-1f3fd","1f9ce-1f3fe","1f9ce-1f3ff"],a:"12.0"},{n:["man kneeling"],u:"1f9ce-200d-2642-fe0f",v:["1f9ce-1f3fb-200d-2642-fe0f","1f9ce-1f3fc-200d-2642-fe0f","1f9ce-1f3fd-200d-2642-fe0f","1f9ce-1f3fe-200d-2642-fe0f","1f9ce-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman kneeling"],u:"1f9ce-200d-2640-fe0f",v:["1f9ce-1f3fb-200d-2640-fe0f","1f9ce-1f3fc-200d-2640-fe0f","1f9ce-1f3fd-200d-2640-fe0f","1f9ce-1f3fe-200d-2640-fe0f","1f9ce-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["person kneeling facing right"],u:"1f9ce-200d-27a1-fe0f",v:["1f9ce-1f3fb-200d-27a1-fe0f","1f9ce-1f3fc-200d-27a1-fe0f","1f9ce-1f3fd-200d-27a1-fe0f","1f9ce-1f3fe-200d-27a1-fe0f","1f9ce-1f3ff-200d-27a1-fe0f"],a:"15.1"},{n:["woman kneeling facing right"],u:"1f9ce-200d-2640-fe0f-200d-27a1-fe0f",v:["1f9ce-1f3fb-200d-2640-fe0f-200d-27a1-fe0f","1f9ce-1f3fc-200d-2640-fe0f-200d-27a1-fe0f","1f9ce-1f3fd-200d-2640-fe0f-200d-27a1-fe0f","1f9ce-1f3fe-200d-2640-fe0f-200d-27a1-fe0f","1f9ce-1f3ff-200d-2640-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["man kneeling facing right"],u:"1f9ce-200d-2642-fe0f-200d-27a1-fe0f",v:["1f9ce-1f3fb-200d-2642-fe0f-200d-27a1-fe0f","1f9ce-1f3fc-200d-2642-fe0f-200d-27a1-fe0f","1f9ce-1f3fd-200d-2642-fe0f-200d-27a1-fe0f","1f9ce-1f3fe-200d-2642-fe0f-200d-27a1-fe0f","1f9ce-1f3ff-200d-2642-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["person with white cane","person with probing cane"],u:"1f9d1-200d-1f9af",v:["1f9d1-1f3fb-200d-1f9af","1f9d1-1f3fc-200d-1f9af","1f9d1-1f3fd-200d-1f9af","1f9d1-1f3fe-200d-1f9af","1f9d1-1f3ff-200d-1f9af"],a:"12.1"},{n:["person with white cane facing right"],u:"1f9d1-200d-1f9af-200d-27a1-fe0f",v:["1f9d1-1f3fb-200d-1f9af-200d-27a1-fe0f","1f9d1-1f3fc-200d-1f9af-200d-27a1-fe0f","1f9d1-1f3fd-200d-1f9af-200d-27a1-fe0f","1f9d1-1f3fe-200d-1f9af-200d-27a1-fe0f","1f9d1-1f3ff-200d-1f9af-200d-27a1-fe0f"],a:"15.1"},{n:["man with white cane","man with probing cane"],u:"1f468-200d-1f9af",v:["1f468-1f3fb-200d-1f9af","1f468-1f3fc-200d-1f9af","1f468-1f3fd-200d-1f9af","1f468-1f3fe-200d-1f9af","1f468-1f3ff-200d-1f9af"],a:"12.0"},{n:["man with white cane facing right"],u:"1f468-200d-1f9af-200d-27a1-fe0f",v:["1f468-1f3fb-200d-1f9af-200d-27a1-fe0f","1f468-1f3fc-200d-1f9af-200d-27a1-fe0f","1f468-1f3fd-200d-1f9af-200d-27a1-fe0f","1f468-1f3fe-200d-1f9af-200d-27a1-fe0f","1f468-1f3ff-200d-1f9af-200d-27a1-fe0f"],a:"15.1"},{n:["woman with white cane","woman with probing cane"],u:"1f469-200d-1f9af",v:["1f469-1f3fb-200d-1f9af","1f469-1f3fc-200d-1f9af","1f469-1f3fd-200d-1f9af","1f469-1f3fe-200d-1f9af","1f469-1f3ff-200d-1f9af"],a:"12.0"},{n:["woman with white cane facing right"],u:"1f469-200d-1f9af-200d-27a1-fe0f",v:["1f469-1f3fb-200d-1f9af-200d-27a1-fe0f","1f469-1f3fc-200d-1f9af-200d-27a1-fe0f","1f469-1f3fd-200d-1f9af-200d-27a1-fe0f","1f469-1f3fe-200d-1f9af-200d-27a1-fe0f","1f469-1f3ff-200d-1f9af-200d-27a1-fe0f"],a:"15.1"},{n:["person in motorized wheelchair"],u:"1f9d1-200d-1f9bc",v:["1f9d1-1f3fb-200d-1f9bc","1f9d1-1f3fc-200d-1f9bc","1f9d1-1f3fd-200d-1f9bc","1f9d1-1f3fe-200d-1f9bc","1f9d1-1f3ff-200d-1f9bc"],a:"12.1"},{n:["person in motorized wheelchair facing right"],u:"1f9d1-200d-1f9bc-200d-27a1-fe0f",v:["1f9d1-1f3fb-200d-1f9bc-200d-27a1-fe0f","1f9d1-1f3fc-200d-1f9bc-200d-27a1-fe0f","1f9d1-1f3fd-200d-1f9bc-200d-27a1-fe0f","1f9d1-1f3fe-200d-1f9bc-200d-27a1-fe0f","1f9d1-1f3ff-200d-1f9bc-200d-27a1-fe0f"],a:"15.1"},{n:["man in motorized wheelchair"],u:"1f468-200d-1f9bc",v:["1f468-1f3fb-200d-1f9bc","1f468-1f3fc-200d-1f9bc","1f468-1f3fd-200d-1f9bc","1f468-1f3fe-200d-1f9bc","1f468-1f3ff-200d-1f9bc"],a:"12.0"},{n:["man in motorized wheelchair facing right"],u:"1f468-200d-1f9bc-200d-27a1-fe0f",v:["1f468-1f3fb-200d-1f9bc-200d-27a1-fe0f","1f468-1f3fc-200d-1f9bc-200d-27a1-fe0f","1f468-1f3fd-200d-1f9bc-200d-27a1-fe0f","1f468-1f3fe-200d-1f9bc-200d-27a1-fe0f","1f468-1f3ff-200d-1f9bc-200d-27a1-fe0f"],a:"15.1"},{n:["woman in motorized wheelchair"],u:"1f469-200d-1f9bc",v:["1f469-1f3fb-200d-1f9bc","1f469-1f3fc-200d-1f9bc","1f469-1f3fd-200d-1f9bc","1f469-1f3fe-200d-1f9bc","1f469-1f3ff-200d-1f9bc"],a:"12.0"},{n:["woman in motorized wheelchair facing right"],u:"1f469-200d-1f9bc-200d-27a1-fe0f",v:["1f469-1f3fb-200d-1f9bc-200d-27a1-fe0f","1f469-1f3fc-200d-1f9bc-200d-27a1-fe0f","1f469-1f3fd-200d-1f9bc-200d-27a1-fe0f","1f469-1f3fe-200d-1f9bc-200d-27a1-fe0f","1f469-1f3ff-200d-1f9bc-200d-27a1-fe0f"],a:"15.1"},{n:["person in manual wheelchair"],u:"1f9d1-200d-1f9bd",v:["1f9d1-1f3fb-200d-1f9bd","1f9d1-1f3fc-200d-1f9bd","1f9d1-1f3fd-200d-1f9bd","1f9d1-1f3fe-200d-1f9bd","1f9d1-1f3ff-200d-1f9bd"],a:"12.1"},{n:["person in manual wheelchair facing right"],u:"1f9d1-200d-1f9bd-200d-27a1-fe0f",v:["1f9d1-1f3fb-200d-1f9bd-200d-27a1-fe0f","1f9d1-1f3fc-200d-1f9bd-200d-27a1-fe0f","1f9d1-1f3fd-200d-1f9bd-200d-27a1-fe0f","1f9d1-1f3fe-200d-1f9bd-200d-27a1-fe0f","1f9d1-1f3ff-200d-1f9bd-200d-27a1-fe0f"],a:"15.1"},{n:["man in manual wheelchair"],u:"1f468-200d-1f9bd",v:["1f468-1f3fb-200d-1f9bd","1f468-1f3fc-200d-1f9bd","1f468-1f3fd-200d-1f9bd","1f468-1f3fe-200d-1f9bd","1f468-1f3ff-200d-1f9bd"],a:"12.0"},{n:["man in manual wheelchair facing right"],u:"1f468-200d-1f9bd-200d-27a1-fe0f",v:["1f468-1f3fb-200d-1f9bd-200d-27a1-fe0f","1f468-1f3fc-200d-1f9bd-200d-27a1-fe0f","1f468-1f3fd-200d-1f9bd-200d-27a1-fe0f","1f468-1f3fe-200d-1f9bd-200d-27a1-fe0f","1f468-1f3ff-200d-1f9bd-200d-27a1-fe0f"],a:"15.1"},{n:["woman in manual wheelchair"],u:"1f469-200d-1f9bd",v:["1f469-1f3fb-200d-1f9bd","1f469-1f3fc-200d-1f9bd","1f469-1f3fd-200d-1f9bd","1f469-1f3fe-200d-1f9bd","1f469-1f3ff-200d-1f9bd"],a:"12.0"},{n:["woman in manual wheelchair facing right"],u:"1f469-200d-1f9bd-200d-27a1-fe0f",v:["1f469-1f3fb-200d-1f9bd-200d-27a1-fe0f","1f469-1f3fc-200d-1f9bd-200d-27a1-fe0f","1f469-1f3fd-200d-1f9bd-200d-27a1-fe0f","1f469-1f3fe-200d-1f9bd-200d-27a1-fe0f","1f469-1f3ff-200d-1f9bd-200d-27a1-fe0f"],a:"15.1"},{n:["runner","running"],u:"1f3c3",v:["1f3c3-1f3fb","1f3c3-1f3fc","1f3c3-1f3fd","1f3c3-1f3fe","1f3c3-1f3ff"],a:"0.6"},{n:["man running","man-running"],u:"1f3c3-200d-2642-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f","1f3c3-1f3fc-200d-2642-fe0f","1f3c3-1f3fd-200d-2642-fe0f","1f3c3-1f3fe-200d-2642-fe0f","1f3c3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman running","woman-running"],u:"1f3c3-200d-2640-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f","1f3c3-1f3fc-200d-2640-fe0f","1f3c3-1f3fd-200d-2640-fe0f","1f3c3-1f3fe-200d-2640-fe0f","1f3c3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person running facing right"],u:"1f3c3-200d-27a1-fe0f",v:["1f3c3-1f3fb-200d-27a1-fe0f","1f3c3-1f3fc-200d-27a1-fe0f","1f3c3-1f3fd-200d-27a1-fe0f","1f3c3-1f3fe-200d-27a1-fe0f","1f3c3-1f3ff-200d-27a1-fe0f"],a:"15.1"},{n:["woman running facing right"],u:"1f3c3-200d-2640-fe0f-200d-27a1-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f-200d-27a1-fe0f","1f3c3-1f3fc-200d-2640-fe0f-200d-27a1-fe0f","1f3c3-1f3fd-200d-2640-fe0f-200d-27a1-fe0f","1f3c3-1f3fe-200d-2640-fe0f-200d-27a1-fe0f","1f3c3-1f3ff-200d-2640-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["man running facing right"],u:"1f3c3-200d-2642-fe0f-200d-27a1-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f-200d-27a1-fe0f","1f3c3-1f3fc-200d-2642-fe0f-200d-27a1-fe0f","1f3c3-1f3fd-200d-2642-fe0f-200d-27a1-fe0f","1f3c3-1f3fe-200d-2642-fe0f-200d-27a1-fe0f","1f3c3-1f3ff-200d-2642-fe0f-200d-27a1-fe0f"],a:"15.1"},{n:["dancer"],u:"1f483",v:["1f483-1f3fb","1f483-1f3fc","1f483-1f3fd","1f483-1f3fe","1f483-1f3ff"],a:"0.6"},{n:["man dancing"],u:"1f57a",v:["1f57a-1f3fb","1f57a-1f3fc","1f57a-1f3fd","1f57a-1f3fe","1f57a-1f3ff"],a:"3.0"},{n:["person in suit levitating","man in business suit levitating"],u:"1f574-fe0f",v:["1f574-1f3fb","1f574-1f3fc","1f574-1f3fd","1f574-1f3fe","1f574-1f3ff"],a:"0.7"},{n:["dancers","woman with bunny ears"],u:"1f46f",a:"0.6"},{n:["men with bunny ears","men-with-bunny-ears-partying","man-with-bunny-ears-partying"],u:"1f46f-200d-2642-fe0f",a:"4.0"},{n:["women with bunny ears","women-with-bunny-ears-partying","woman-with-bunny-ears-partying"],u:"1f46f-200d-2640-fe0f",a:"4.0"},{n:["person in steamy room"],u:"1f9d6",v:["1f9d6-1f3fb","1f9d6-1f3fc","1f9d6-1f3fd","1f9d6-1f3fe","1f9d6-1f3ff"],a:"5.0"},{n:["man in steamy room"],u:"1f9d6-200d-2642-fe0f",v:["1f9d6-1f3fb-200d-2642-fe0f","1f9d6-1f3fc-200d-2642-fe0f","1f9d6-1f3fd-200d-2642-fe0f","1f9d6-1f3fe-200d-2642-fe0f","1f9d6-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in steamy room"],u:"1f9d6-200d-2640-fe0f",v:["1f9d6-1f3fb-200d-2640-fe0f","1f9d6-1f3fc-200d-2640-fe0f","1f9d6-1f3fd-200d-2640-fe0f","1f9d6-1f3fe-200d-2640-fe0f","1f9d6-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["person climbing"],u:"1f9d7",v:["1f9d7-1f3fb","1f9d7-1f3fc","1f9d7-1f3fd","1f9d7-1f3fe","1f9d7-1f3ff"],a:"5.0"},{n:["man climbing"],u:"1f9d7-200d-2642-fe0f",v:["1f9d7-1f3fb-200d-2642-fe0f","1f9d7-1f3fc-200d-2642-fe0f","1f9d7-1f3fd-200d-2642-fe0f","1f9d7-1f3fe-200d-2642-fe0f","1f9d7-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman climbing"],u:"1f9d7-200d-2640-fe0f",v:["1f9d7-1f3fb-200d-2640-fe0f","1f9d7-1f3fc-200d-2640-fe0f","1f9d7-1f3fd-200d-2640-fe0f","1f9d7-1f3fe-200d-2640-fe0f","1f9d7-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fencer"],u:"1f93a",a:"3.0"},{n:["horse racing"],u:"1f3c7",v:["1f3c7-1f3fb","1f3c7-1f3fc","1f3c7-1f3fd","1f3c7-1f3fe","1f3c7-1f3ff"],a:"1.0"},{n:["skier"],u:"26f7-fe0f",a:"0.7"},{n:["snowboarder"],u:"1f3c2",v:["1f3c2-1f3fb","1f3c2-1f3fc","1f3c2-1f3fd","1f3c2-1f3fe","1f3c2-1f3ff"],a:"0.6"},{n:["golfer","person golfing"],u:"1f3cc-fe0f",v:["1f3cc-1f3fb","1f3cc-1f3fc","1f3cc-1f3fd","1f3cc-1f3fe","1f3cc-1f3ff"],a:"0.7"},{n:["man golfing","man-golfing"],u:"1f3cc-fe0f-200d-2642-fe0f",v:["1f3cc-1f3fb-200d-2642-fe0f","1f3cc-1f3fc-200d-2642-fe0f","1f3cc-1f3fd-200d-2642-fe0f","1f3cc-1f3fe-200d-2642-fe0f","1f3cc-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman golfing","woman-golfing"],u:"1f3cc-fe0f-200d-2640-fe0f",v:["1f3cc-1f3fb-200d-2640-fe0f","1f3cc-1f3fc-200d-2640-fe0f","1f3cc-1f3fd-200d-2640-fe0f","1f3cc-1f3fe-200d-2640-fe0f","1f3cc-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["surfer"],u:"1f3c4",v:["1f3c4-1f3fb","1f3c4-1f3fc","1f3c4-1f3fd","1f3c4-1f3fe","1f3c4-1f3ff"],a:"0.6"},{n:["man surfing","man-surfing"],u:"1f3c4-200d-2642-fe0f",v:["1f3c4-1f3fb-200d-2642-fe0f","1f3c4-1f3fc-200d-2642-fe0f","1f3c4-1f3fd-200d-2642-fe0f","1f3c4-1f3fe-200d-2642-fe0f","1f3c4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman surfing","woman-surfing"],u:"1f3c4-200d-2640-fe0f",v:["1f3c4-1f3fb-200d-2640-fe0f","1f3c4-1f3fc-200d-2640-fe0f","1f3c4-1f3fd-200d-2640-fe0f","1f3c4-1f3fe-200d-2640-fe0f","1f3c4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["rowboat"],u:"1f6a3",v:["1f6a3-1f3fb","1f6a3-1f3fc","1f6a3-1f3fd","1f6a3-1f3fe","1f6a3-1f3ff"],a:"1.0"},{n:["man rowing boat","man-rowing-boat"],u:"1f6a3-200d-2642-fe0f",v:["1f6a3-1f3fb-200d-2642-fe0f","1f6a3-1f3fc-200d-2642-fe0f","1f6a3-1f3fd-200d-2642-fe0f","1f6a3-1f3fe-200d-2642-fe0f","1f6a3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman rowing boat","woman-rowing-boat"],u:"1f6a3-200d-2640-fe0f",v:["1f6a3-1f3fb-200d-2640-fe0f","1f6a3-1f3fc-200d-2640-fe0f","1f6a3-1f3fd-200d-2640-fe0f","1f6a3-1f3fe-200d-2640-fe0f","1f6a3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["swimmer"],u:"1f3ca",v:["1f3ca-1f3fb","1f3ca-1f3fc","1f3ca-1f3fd","1f3ca-1f3fe","1f3ca-1f3ff"],a:"0.6"},{n:["man swimming","man-swimming"],u:"1f3ca-200d-2642-fe0f",v:["1f3ca-1f3fb-200d-2642-fe0f","1f3ca-1f3fc-200d-2642-fe0f","1f3ca-1f3fd-200d-2642-fe0f","1f3ca-1f3fe-200d-2642-fe0f","1f3ca-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman swimming","woman-swimming"],u:"1f3ca-200d-2640-fe0f",v:["1f3ca-1f3fb-200d-2640-fe0f","1f3ca-1f3fc-200d-2640-fe0f","1f3ca-1f3fd-200d-2640-fe0f","1f3ca-1f3fe-200d-2640-fe0f","1f3ca-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with ball","person bouncing ball"],u:"26f9-fe0f",v:["26f9-1f3fb","26f9-1f3fc","26f9-1f3fd","26f9-1f3fe","26f9-1f3ff"],a:"0.7"},{n:["man bouncing ball","man-bouncing-ball"],u:"26f9-fe0f-200d-2642-fe0f",v:["26f9-1f3fb-200d-2642-fe0f","26f9-1f3fc-200d-2642-fe0f","26f9-1f3fd-200d-2642-fe0f","26f9-1f3fe-200d-2642-fe0f","26f9-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bouncing ball","woman-bouncing-ball"],u:"26f9-fe0f-200d-2640-fe0f",v:["26f9-1f3fb-200d-2640-fe0f","26f9-1f3fc-200d-2640-fe0f","26f9-1f3fd-200d-2640-fe0f","26f9-1f3fe-200d-2640-fe0f","26f9-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["weight lifter","person lifting weights"],u:"1f3cb-fe0f",v:["1f3cb-1f3fb","1f3cb-1f3fc","1f3cb-1f3fd","1f3cb-1f3fe","1f3cb-1f3ff"],a:"0.7"},{n:["man lifting weights","man-lifting-weights"],u:"1f3cb-fe0f-200d-2642-fe0f",v:["1f3cb-1f3fb-200d-2642-fe0f","1f3cb-1f3fc-200d-2642-fe0f","1f3cb-1f3fd-200d-2642-fe0f","1f3cb-1f3fe-200d-2642-fe0f","1f3cb-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman lifting weights","woman-lifting-weights"],u:"1f3cb-fe0f-200d-2640-fe0f",v:["1f3cb-1f3fb-200d-2640-fe0f","1f3cb-1f3fc-200d-2640-fe0f","1f3cb-1f3fd-200d-2640-fe0f","1f3cb-1f3fe-200d-2640-fe0f","1f3cb-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["bicyclist"],u:"1f6b4",v:["1f6b4-1f3fb","1f6b4-1f3fc","1f6b4-1f3fd","1f6b4-1f3fe","1f6b4-1f3ff"],a:"1.0"},{n:["man biking","man-biking"],u:"1f6b4-200d-2642-fe0f",v:["1f6b4-1f3fb-200d-2642-fe0f","1f6b4-1f3fc-200d-2642-fe0f","1f6b4-1f3fd-200d-2642-fe0f","1f6b4-1f3fe-200d-2642-fe0f","1f6b4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman biking","woman-biking"],u:"1f6b4-200d-2640-fe0f",v:["1f6b4-1f3fb-200d-2640-fe0f","1f6b4-1f3fc-200d-2640-fe0f","1f6b4-1f3fd-200d-2640-fe0f","1f6b4-1f3fe-200d-2640-fe0f","1f6b4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["mountain bicyclist"],u:"1f6b5",v:["1f6b5-1f3fb","1f6b5-1f3fc","1f6b5-1f3fd","1f6b5-1f3fe","1f6b5-1f3ff"],a:"1.0"},{n:["man mountain biking","man-mountain-biking"],u:"1f6b5-200d-2642-fe0f",v:["1f6b5-1f3fb-200d-2642-fe0f","1f6b5-1f3fc-200d-2642-fe0f","1f6b5-1f3fd-200d-2642-fe0f","1f6b5-1f3fe-200d-2642-fe0f","1f6b5-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman mountain biking","woman-mountain-biking"],u:"1f6b5-200d-2640-fe0f",v:["1f6b5-1f3fb-200d-2640-fe0f","1f6b5-1f3fc-200d-2640-fe0f","1f6b5-1f3fd-200d-2640-fe0f","1f6b5-1f3fe-200d-2640-fe0f","1f6b5-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person doing cartwheel"],u:"1f938",v:["1f938-1f3fb","1f938-1f3fc","1f938-1f3fd","1f938-1f3fe","1f938-1f3ff"],a:"3.0"},{n:["man cartwheeling","man-cartwheeling"],u:"1f938-200d-2642-fe0f",v:["1f938-1f3fb-200d-2642-fe0f","1f938-1f3fc-200d-2642-fe0f","1f938-1f3fd-200d-2642-fe0f","1f938-1f3fe-200d-2642-fe0f","1f938-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman cartwheeling","woman-cartwheeling"],u:"1f938-200d-2640-fe0f",v:["1f938-1f3fb-200d-2640-fe0f","1f938-1f3fc-200d-2640-fe0f","1f938-1f3fd-200d-2640-fe0f","1f938-1f3fe-200d-2640-fe0f","1f938-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["wrestlers"],u:"1f93c",a:"3.0"},{n:["men wrestling","man-wrestling"],u:"1f93c-200d-2642-fe0f",a:"4.0"},{n:["women wrestling","woman-wrestling"],u:"1f93c-200d-2640-fe0f",a:"4.0"},{n:["water polo"],u:"1f93d",v:["1f93d-1f3fb","1f93d-1f3fc","1f93d-1f3fd","1f93d-1f3fe","1f93d-1f3ff"],a:"3.0"},{n:["man playing water polo","man-playing-water-polo"],u:"1f93d-200d-2642-fe0f",v:["1f93d-1f3fb-200d-2642-fe0f","1f93d-1f3fc-200d-2642-fe0f","1f93d-1f3fd-200d-2642-fe0f","1f93d-1f3fe-200d-2642-fe0f","1f93d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing water polo","woman-playing-water-polo"],u:"1f93d-200d-2640-fe0f",v:["1f93d-1f3fb-200d-2640-fe0f","1f93d-1f3fc-200d-2640-fe0f","1f93d-1f3fd-200d-2640-fe0f","1f93d-1f3fe-200d-2640-fe0f","1f93d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["handball"],u:"1f93e",v:["1f93e-1f3fb","1f93e-1f3fc","1f93e-1f3fd","1f93e-1f3fe","1f93e-1f3ff"],a:"3.0"},{n:["man playing handball","man-playing-handball"],u:"1f93e-200d-2642-fe0f",v:["1f93e-1f3fb-200d-2642-fe0f","1f93e-1f3fc-200d-2642-fe0f","1f93e-1f3fd-200d-2642-fe0f","1f93e-1f3fe-200d-2642-fe0f","1f93e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing handball","woman-playing-handball"],u:"1f93e-200d-2640-fe0f",v:["1f93e-1f3fb-200d-2640-fe0f","1f93e-1f3fc-200d-2640-fe0f","1f93e-1f3fd-200d-2640-fe0f","1f93e-1f3fe-200d-2640-fe0f","1f93e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["juggling"],u:"1f939",v:["1f939-1f3fb","1f939-1f3fc","1f939-1f3fd","1f939-1f3fe","1f939-1f3ff"],a:"3.0"},{n:["man juggling","man-juggling"],u:"1f939-200d-2642-fe0f",v:["1f939-1f3fb-200d-2642-fe0f","1f939-1f3fc-200d-2642-fe0f","1f939-1f3fd-200d-2642-fe0f","1f939-1f3fe-200d-2642-fe0f","1f939-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman juggling","woman-juggling"],u:"1f939-200d-2640-fe0f",v:["1f939-1f3fb-200d-2640-fe0f","1f939-1f3fc-200d-2640-fe0f","1f939-1f3fd-200d-2640-fe0f","1f939-1f3fe-200d-2640-fe0f","1f939-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person in lotus position"],u:"1f9d8",v:["1f9d8-1f3fb","1f9d8-1f3fc","1f9d8-1f3fd","1f9d8-1f3fe","1f9d8-1f3ff"],a:"5.0"},{n:["man in lotus position"],u:"1f9d8-200d-2642-fe0f",v:["1f9d8-1f3fb-200d-2642-fe0f","1f9d8-1f3fc-200d-2642-fe0f","1f9d8-1f3fd-200d-2642-fe0f","1f9d8-1f3fe-200d-2642-fe0f","1f9d8-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in lotus position"],u:"1f9d8-200d-2640-fe0f",v:["1f9d8-1f3fb-200d-2640-fe0f","1f9d8-1f3fc-200d-2640-fe0f","1f9d8-1f3fd-200d-2640-fe0f","1f9d8-1f3fe-200d-2640-fe0f","1f9d8-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["bath"],u:"1f6c0",v:["1f6c0-1f3fb","1f6c0-1f3fc","1f6c0-1f3fd","1f6c0-1f3fe","1f6c0-1f3ff"],a:"0.6"},{n:["sleeping accommodation"],u:"1f6cc",v:["1f6cc-1f3fb","1f6cc-1f3fc","1f6cc-1f3fd","1f6cc-1f3fe","1f6cc-1f3ff"],a:"1.0"},{n:["people holding hands"],u:"1f9d1-200d-1f91d-200d-1f9d1",v:["1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3ff"],a:"12.0"},{n:["women holding hands","two women holding hands"],u:"1f46d",v:["1f46d-1f3fb","1f46d-1f3fc","1f46d-1f3fd","1f46d-1f3fe","1f46d-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f469-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fe"],a:"1.0"},{n:["couple","man and woman holding hands","woman and man holding hands"],u:"1f46b",v:["1f46b-1f3fb","1f46b-1f3fc","1f46b-1f3fd","1f46b-1f3fe","1f46b-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"0.6"},{n:["men holding hands","two men holding hands"],u:"1f46c",v:["1f46c-1f3fb","1f46c-1f3fc","1f46c-1f3fd","1f46c-1f3fe","1f46c-1f3ff","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"1.0"},{n:["kiss","couplekiss"],u:"1f48f",v:["1f48f-1f3fb","1f48f-1f3fc","1f48f-1f3fd","1f48f-1f3fe","1f48f-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-kiss-man","kiss: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["man-kiss-man","kiss: man, man"],u:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-kiss-woman","kiss: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff"],a:"2.0"},{n:["couple with heart"],u:"1f491",v:["1f491-1f3fb","1f491-1f3fc","1f491-1f3fd","1f491-1f3fe","1f491-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-heart-man","couple with heart: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["man-heart-man","couple with heart: man, man"],u:"1f468-200d-2764-fe0f-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-heart-woman","couple with heart: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3ff"],a:"2.0"},{n:["man-woman-boy","family: man, woman, boy"],u:"1f468-200d-1f469-200d-1f466",a:"2.0"},{n:["man-woman-girl","family: man, woman, girl"],u:"1f468-200d-1f469-200d-1f467",a:"2.0"},{n:["man-woman-girl-boy","family: man, woman, girl, boy"],u:"1f468-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["man-woman-boy-boy","family: man, woman, boy, boy"],u:"1f468-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["man-woman-girl-girl","family: man, woman, girl, girl"],u:"1f468-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-man-boy","family: man, man, boy"],u:"1f468-200d-1f468-200d-1f466",a:"2.0"},{n:["man-man-girl","family: man, man, girl"],u:"1f468-200d-1f468-200d-1f467",a:"2.0"},{n:["man-man-girl-boy","family: man, man, girl, boy"],u:"1f468-200d-1f468-200d-1f467-200d-1f466",a:"2.0"},{n:["man-man-boy-boy","family: man, man, boy, boy"],u:"1f468-200d-1f468-200d-1f466-200d-1f466",a:"2.0"},{n:["man-man-girl-girl","family: man, man, girl, girl"],u:"1f468-200d-1f468-200d-1f467-200d-1f467",a:"2.0"},{n:["woman-woman-boy","family: woman, woman, boy"],u:"1f469-200d-1f469-200d-1f466",a:"2.0"},{n:["woman-woman-girl","family: woman, woman, girl"],u:"1f469-200d-1f469-200d-1f467",a:"2.0"},{n:["woman-woman-girl-boy","family: woman, woman, girl, boy"],u:"1f469-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["woman-woman-boy-boy","family: woman, woman, boy, boy"],u:"1f469-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["woman-woman-girl-girl","family: woman, woman, girl, girl"],u:"1f469-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-boy","family: man, boy"],u:"1f468-200d-1f466",a:"4.0"},{n:["man-boy-boy","family: man, boy, boy"],u:"1f468-200d-1f466-200d-1f466",a:"4.0"},{n:["man-girl","family: man, girl"],u:"1f468-200d-1f467",a:"4.0"},{n:["man-girl-boy","family: man, girl, boy"],u:"1f468-200d-1f467-200d-1f466",a:"4.0"},{n:["man-girl-girl","family: man, girl, girl"],u:"1f468-200d-1f467-200d-1f467",a:"4.0"},{n:["woman-boy","family: woman, boy"],u:"1f469-200d-1f466",a:"4.0"},{n:["woman-boy-boy","family: woman, boy, boy"],u:"1f469-200d-1f466-200d-1f466",a:"4.0"},{n:["woman-girl","family: woman, girl"],u:"1f469-200d-1f467",a:"4.0"},{n:["woman-girl-boy","family: woman, girl, boy"],u:"1f469-200d-1f467-200d-1f466",a:"4.0"},{n:["woman-girl-girl","family: woman, girl, girl"],u:"1f469-200d-1f467-200d-1f467",a:"4.0"},{n:["speaking head","speaking head in silhouette"],u:"1f5e3-fe0f",a:"0.7"},{n:["bust in silhouette"],u:"1f464",a:"0.6"},{n:["busts in silhouette"],u:"1f465",a:"1.0"},{n:["people hugging"],u:"1fac2",a:"13.0"},{n:["family"],u:"1f46a",a:"0.6"},{n:["family adult adult child","family: adult, adult, child"],u:"1f9d1-200d-1f9d1-200d-1f9d2",a:"15.1"},{n:["family adult adult child child","family: adult, adult, child, child"],u:"1f9d1-200d-1f9d1-200d-1f9d2-200d-1f9d2",a:"15.1"},{n:["family adult child","family: adult, child"],u:"1f9d1-200d-1f9d2",a:"15.1"},{n:["family adult child child","family: adult, child, child"],u:"1f9d1-200d-1f9d2-200d-1f9d2",a:"15.1"},{n:["footprints"],u:"1f463",a:"0.6"}],yLe=[{n:["monkey face"],u:"1f435",a:"0.6"},{n:["monkey"],u:"1f412",a:"0.6"},{n:["gorilla"],u:"1f98d",a:"3.0"},{n:["orangutan"],u:"1f9a7",a:"12.0"},{n:["dog","dog face"],u:"1f436",a:"0.6"},{n:["dog","dog2"],u:"1f415",a:"0.7"},{n:["guide dog"],u:"1f9ae",a:"12.0"},{n:["service dog"],u:"1f415-200d-1f9ba",a:"12.0"},{n:["poodle"],u:"1f429",a:"0.6"},{n:["wolf","wolf face"],u:"1f43a",a:"0.6"},{n:["fox face"],u:"1f98a",a:"3.0"},{n:["raccoon"],u:"1f99d",a:"11.0"},{n:["cat","cat face"],u:"1f431",a:"0.6"},{n:["cat","cat2"],u:"1f408",a:"0.7"},{n:["black cat"],u:"1f408-200d-2b1b",a:"13.0"},{n:["lion face"],u:"1f981",a:"1.0"},{n:["tiger","tiger face"],u:"1f42f",a:"0.6"},{n:["tiger","tiger2"],u:"1f405",a:"1.0"},{n:["leopard"],u:"1f406",a:"1.0"},{n:["horse","horse face"],u:"1f434",a:"0.6"},{n:["moose"],u:"1face",a:"15.0"},{n:["donkey"],u:"1facf",a:"15.0"},{n:["horse","racehorse"],u:"1f40e",a:"0.6"},{n:["unicorn face"],u:"1f984",a:"1.0"},{n:["zebra face"],u:"1f993",a:"5.0"},{n:["deer"],u:"1f98c",a:"3.0"},{n:["bison"],u:"1f9ac",a:"13.0"},{n:["cow","cow face"],u:"1f42e",a:"0.6"},{n:["ox"],u:"1f402",a:"1.0"},{n:["water buffalo"],u:"1f403",a:"1.0"},{n:["cow","cow2"],u:"1f404",a:"1.0"},{n:["pig","pig face"],u:"1f437",a:"0.6"},{n:["pig","pig2"],u:"1f416",a:"1.0"},{n:["boar"],u:"1f417",a:"0.6"},{n:["pig nose"],u:"1f43d",a:"0.6"},{n:["ram"],u:"1f40f",a:"1.0"},{n:["sheep"],u:"1f411",a:"0.6"},{n:["goat"],u:"1f410",a:"1.0"},{n:["dromedary camel"],u:"1f42a",a:"1.0"},{n:["camel","bactrian camel"],u:"1f42b",a:"0.6"},{n:["llama"],u:"1f999",a:"11.0"},{n:["giraffe face"],u:"1f992",a:"5.0"},{n:["elephant"],u:"1f418",a:"0.6"},{n:["mammoth"],u:"1f9a3",a:"13.0"},{n:["rhinoceros"],u:"1f98f",a:"3.0"},{n:["hippopotamus"],u:"1f99b",a:"11.0"},{n:["mouse","mouse face"],u:"1f42d",a:"0.6"},{n:["mouse","mouse2"],u:"1f401",a:"1.0"},{n:["rat"],u:"1f400",a:"1.0"},{n:["hamster","hamster face"],u:"1f439",a:"0.6"},{n:["rabbit","rabbit face"],u:"1f430",a:"0.6"},{n:["rabbit","rabbit2"],u:"1f407",a:"1.0"},{n:["chipmunk"],u:"1f43f-fe0f",a:"0.7"},{n:["beaver"],u:"1f9ab",a:"13.0"},{n:["hedgehog"],u:"1f994",a:"5.0"},{n:["bat"],u:"1f987",a:"3.0"},{n:["bear","bear face"],u:"1f43b",a:"0.6"},{n:["polar bear"],u:"1f43b-200d-2744-fe0f",a:"13.0"},{n:["koala"],u:"1f428",a:"0.6"},{n:["panda face"],u:"1f43c",a:"0.6"},{n:["sloth"],u:"1f9a5",a:"12.0"},{n:["otter"],u:"1f9a6",a:"12.0"},{n:["skunk"],u:"1f9a8",a:"12.0"},{n:["kangaroo"],u:"1f998",a:"11.0"},{n:["badger"],u:"1f9a1",a:"11.0"},{n:["feet","paw prints"],u:"1f43e",a:"0.6"},{n:["turkey"],u:"1f983",a:"1.0"},{n:["chicken"],u:"1f414",a:"0.6"},{n:["rooster"],u:"1f413",a:"1.0"},{n:["hatching chick"],u:"1f423",a:"0.6"},{n:["baby chick"],u:"1f424",a:"0.6"},{n:["hatched chick","front-facing baby chick"],u:"1f425",a:"0.6"},{n:["bird"],u:"1f426",a:"0.6"},{n:["penguin"],u:"1f427",a:"0.6"},{n:["dove","dove of peace"],u:"1f54a-fe0f",a:"0.7"},{n:["eagle"],u:"1f985",a:"3.0"},{n:["duck"],u:"1f986",a:"3.0"},{n:["swan"],u:"1f9a2",a:"11.0"},{n:["owl"],u:"1f989",a:"3.0"},{n:["dodo"],u:"1f9a4",a:"13.0"},{n:["feather"],u:"1fab6",a:"13.0"},{n:["flamingo"],u:"1f9a9",a:"12.0"},{n:["peacock"],u:"1f99a",a:"11.0"},{n:["parrot"],u:"1f99c",a:"11.0"},{n:["wing"],u:"1fabd",a:"15.0"},{n:["black bird"],u:"1f426-200d-2b1b",a:"15.0"},{n:["goose"],u:"1fabf",a:"15.0"},{n:["phoenix"],u:"1f426-200d-1f525",a:"15.1"},{n:["frog","frog face"],u:"1f438",a:"0.6"},{n:["crocodile"],u:"1f40a",a:"1.0"},{n:["turtle"],u:"1f422",a:"0.6"},{n:["lizard"],u:"1f98e",a:"3.0"},{n:["snake"],u:"1f40d",a:"0.6"},{n:["dragon face"],u:"1f432",a:"0.6"},{n:["dragon"],u:"1f409",a:"1.0"},{n:["sauropod"],u:"1f995",a:"5.0"},{n:["t-rex"],u:"1f996",a:"5.0"},{n:["whale","spouting whale"],u:"1f433",a:"0.6"},{n:["whale","whale2"],u:"1f40b",a:"1.0"},{n:["dolphin","flipper"],u:"1f42c",a:"0.6"},{n:["seal"],u:"1f9ad",a:"13.0"},{n:["fish"],u:"1f41f",a:"0.6"},{n:["tropical fish"],u:"1f420",a:"0.6"},{n:["blowfish"],u:"1f421",a:"0.6"},{n:["shark"],u:"1f988",a:"3.0"},{n:["octopus"],u:"1f419",a:"0.6"},{n:["shell","spiral shell"],u:"1f41a",a:"0.6"},{n:["coral"],u:"1fab8",a:"14.0"},{n:["jellyfish"],u:"1fabc",a:"15.0"},{n:["snail"],u:"1f40c",a:"0.6"},{n:["butterfly"],u:"1f98b",a:"3.0"},{n:["bug"],u:"1f41b",a:"0.6"},{n:["ant"],u:"1f41c",a:"0.6"},{n:["bee","honeybee"],u:"1f41d",a:"0.6"},{n:["beetle"],u:"1fab2",a:"13.0"},{n:["ladybug","lady beetle"],u:"1f41e",a:"0.6"},{n:["cricket"],u:"1f997",a:"5.0"},{n:["cockroach"],u:"1fab3",a:"13.0"},{n:["spider"],u:"1f577-fe0f",a:"0.7"},{n:["spider web"],u:"1f578-fe0f",a:"0.7"},{n:["scorpion"],u:"1f982",a:"1.0"},{n:["mosquito"],u:"1f99f",a:"11.0"},{n:["fly"],u:"1fab0",a:"13.0"},{n:["worm"],u:"1fab1",a:"13.0"},{n:["microbe"],u:"1f9a0",a:"11.0"},{n:["bouquet"],u:"1f490",a:"0.6"},{n:["cherry blossom"],u:"1f338",a:"0.6"},{n:["white flower"],u:"1f4ae",a:"0.6"},{n:["lotus"],u:"1fab7",a:"14.0"},{n:["rosette"],u:"1f3f5-fe0f",a:"0.7"},{n:["rose"],u:"1f339",a:"0.6"},{n:["wilted flower"],u:"1f940",a:"3.0"},{n:["hibiscus"],u:"1f33a",a:"0.6"},{n:["sunflower"],u:"1f33b",a:"0.6"},{n:["blossom"],u:"1f33c",a:"0.6"},{n:["tulip"],u:"1f337",a:"0.6"},{n:["hyacinth"],u:"1fabb",a:"15.0"},{n:["seedling"],u:"1f331",a:"0.6"},{n:["potted plant"],u:"1fab4",a:"13.0"},{n:["evergreen tree"],u:"1f332",a:"1.0"},{n:["deciduous tree"],u:"1f333",a:"1.0"},{n:["palm tree"],u:"1f334",a:"0.6"},{n:["cactus"],u:"1f335",a:"0.6"},{n:["ear of rice"],u:"1f33e",a:"0.6"},{n:["herb"],u:"1f33f",a:"0.6"},{n:["shamrock"],u:"2618-fe0f",a:"1.0"},{n:["four leaf clover"],u:"1f340",a:"0.6"},{n:["maple leaf"],u:"1f341",a:"0.6"},{n:["fallen leaf"],u:"1f342",a:"0.6"},{n:["leaves","leaf fluttering in wind"],u:"1f343",a:"0.6"},{n:["empty nest"],u:"1fab9",a:"14.0"},{n:["nest with eggs"],u:"1faba",a:"14.0"},{n:["mushroom"],u:"1f344",a:"0.6"}],bLe=[{n:["grapes"],u:"1f347",a:"0.6"},{n:["melon"],u:"1f348",a:"0.6"},{n:["watermelon"],u:"1f349",a:"0.6"},{n:["tangerine"],u:"1f34a",a:"0.6"},{n:["lemon"],u:"1f34b",a:"1.0"},{n:["lime"],u:"1f34b-200d-1f7e9",a:"15.1"},{n:["banana"],u:"1f34c",a:"0.6"},{n:["pineapple"],u:"1f34d",a:"0.6"},{n:["mango"],u:"1f96d",a:"11.0"},{n:["apple","red apple"],u:"1f34e",a:"0.6"},{n:["green apple"],u:"1f34f",a:"0.6"},{n:["pear"],u:"1f350",a:"1.0"},{n:["peach"],u:"1f351",a:"0.6"},{n:["cherries"],u:"1f352",a:"0.6"},{n:["strawberry"],u:"1f353",a:"0.6"},{n:["blueberries"],u:"1fad0",a:"13.0"},{n:["kiwifruit"],u:"1f95d",a:"3.0"},{n:["tomato"],u:"1f345",a:"0.6"},{n:["olive"],u:"1fad2",a:"13.0"},{n:["coconut"],u:"1f965",a:"5.0"},{n:["avocado"],u:"1f951",a:"3.0"},{n:["eggplant","aubergine"],u:"1f346",a:"0.6"},{n:["potato"],u:"1f954",a:"3.0"},{n:["carrot"],u:"1f955",a:"3.0"},{n:["corn","ear of maize"],u:"1f33d",a:"0.6"},{n:["hot pepper"],u:"1f336-fe0f",a:"0.7"},{n:["bell pepper"],u:"1fad1",a:"13.0"},{n:["cucumber"],u:"1f952",a:"3.0"},{n:["leafy green"],u:"1f96c",a:"11.0"},{n:["broccoli"],u:"1f966",a:"5.0"},{n:["garlic"],u:"1f9c4",a:"12.0"},{n:["onion"],u:"1f9c5",a:"12.0"},{n:["peanuts"],u:"1f95c",a:"3.0"},{n:["beans"],u:"1fad8",a:"14.0"},{n:["chestnut"],u:"1f330",a:"0.6"},{n:["ginger root"],u:"1fada",a:"15.0"},{n:["pea pod"],u:"1fadb",a:"15.0"},{n:["brown mushroom"],u:"1f344-200d-1f7eb",a:"15.1"},{n:["bread"],u:"1f35e",a:"0.6"},{n:["croissant"],u:"1f950",a:"3.0"},{n:["baguette bread"],u:"1f956",a:"3.0"},{n:["flatbread"],u:"1fad3",a:"13.0"},{n:["pretzel"],u:"1f968",a:"5.0"},{n:["bagel"],u:"1f96f",a:"11.0"},{n:["pancakes"],u:"1f95e",a:"3.0"},{n:["waffle"],u:"1f9c7",a:"12.0"},{n:["cheese wedge"],u:"1f9c0",a:"1.0"},{n:["meat on bone"],u:"1f356",a:"0.6"},{n:["poultry leg"],u:"1f357",a:"0.6"},{n:["cut of meat"],u:"1f969",a:"5.0"},{n:["bacon"],u:"1f953",a:"3.0"},{n:["hamburger"],u:"1f354",a:"0.6"},{n:["fries","french fries"],u:"1f35f",a:"0.6"},{n:["pizza","slice of pizza"],u:"1f355",a:"0.6"},{n:["hotdog","hot dog"],u:"1f32d",a:"1.0"},{n:["sandwich"],u:"1f96a",a:"5.0"},{n:["taco"],u:"1f32e",a:"1.0"},{n:["burrito"],u:"1f32f",a:"1.0"},{n:["tamale"],u:"1fad4",a:"13.0"},{n:["stuffed flatbread"],u:"1f959",a:"3.0"},{n:["falafel"],u:"1f9c6",a:"12.0"},{n:["egg"],u:"1f95a",a:"3.0"},{n:["cooking","fried egg"],u:"1f373",a:"0.6"},{n:["shallow pan of food"],u:"1f958",a:"3.0"},{n:["stew","pot of food"],u:"1f372",a:"0.6"},{n:["fondue"],u:"1fad5",a:"13.0"},{n:["bowl with spoon"],u:"1f963",a:"5.0"},{n:["green salad"],u:"1f957",a:"3.0"},{n:["popcorn"],u:"1f37f",a:"1.0"},{n:["butter"],u:"1f9c8",a:"12.0"},{n:["salt","salt shaker"],u:"1f9c2",a:"11.0"},{n:["canned food"],u:"1f96b",a:"5.0"},{n:["bento","bento box"],u:"1f371",a:"0.6"},{n:["rice cracker"],u:"1f358",a:"0.6"},{n:["rice ball"],u:"1f359",a:"0.6"},{n:["rice","cooked rice"],u:"1f35a",a:"0.6"},{n:["curry","curry and rice"],u:"1f35b",a:"0.6"},{n:["ramen","steaming bowl"],u:"1f35c",a:"0.6"},{n:["spaghetti"],u:"1f35d",a:"0.6"},{n:["sweet potato","roasted sweet potato"],u:"1f360",a:"0.6"},{n:["oden"],u:"1f362",a:"0.6"},{n:["sushi"],u:"1f363",a:"0.6"},{n:["fried shrimp"],u:"1f364",a:"0.6"},{n:["fish cake","fish cake with swirl design"],u:"1f365",a:"0.6"},{n:["moon cake"],u:"1f96e",a:"11.0"},{n:["dango"],u:"1f361",a:"0.6"},{n:["dumpling"],u:"1f95f",a:"5.0"},{n:["fortune cookie"],u:"1f960",a:"5.0"},{n:["takeout box"],u:"1f961",a:"5.0"},{n:["crab"],u:"1f980",a:"1.0"},{n:["lobster"],u:"1f99e",a:"11.0"},{n:["shrimp"],u:"1f990",a:"3.0"},{n:["squid"],u:"1f991",a:"3.0"},{n:["oyster"],u:"1f9aa",a:"12.0"},{n:["icecream","soft ice cream"],u:"1f366",a:"0.6"},{n:["shaved ice"],u:"1f367",a:"0.6"},{n:["ice cream"],u:"1f368",a:"0.6"},{n:["doughnut"],u:"1f369",a:"0.6"},{n:["cookie"],u:"1f36a",a:"0.6"},{n:["birthday","birthday cake"],u:"1f382",a:"0.6"},{n:["cake","shortcake"],u:"1f370",a:"0.6"},{n:["cupcake"],u:"1f9c1",a:"11.0"},{n:["pie"],u:"1f967",a:"5.0"},{n:["chocolate bar"],u:"1f36b",a:"0.6"},{n:["candy"],u:"1f36c",a:"0.6"},{n:["lollipop"],u:"1f36d",a:"0.6"},{n:["custard"],u:"1f36e",a:"0.6"},{n:["honey pot"],u:"1f36f",a:"0.6"},{n:["baby bottle"],u:"1f37c",a:"1.0"},{n:["glass of milk"],u:"1f95b",a:"3.0"},{n:["coffee","hot beverage"],u:"2615",a:"0.6"},{n:["teapot"],u:"1fad6",a:"13.0"},{n:["tea","teacup without handle"],u:"1f375",a:"0.6"},{n:["sake","sake bottle and cup"],u:"1f376",a:"0.6"},{n:["champagne","bottle with popping cork"],u:"1f37e",a:"1.0"},{n:["wine glass"],u:"1f377",a:"0.6"},{n:["cocktail","cocktail glass"],u:"1f378",a:"0.6"},{n:["tropical drink"],u:"1f379",a:"0.6"},{n:["beer","beer mug"],u:"1f37a",a:"0.6"},{n:["beers","clinking beer mugs"],u:"1f37b",a:"0.6"},{n:["clinking glasses"],u:"1f942",a:"3.0"},{n:["tumbler glass"],u:"1f943",a:"3.0"},{n:["pouring liquid"],u:"1fad7",a:"14.0"},{n:["cup with straw"],u:"1f964",a:"5.0"},{n:["bubble tea"],u:"1f9cb",a:"13.0"},{n:["beverage box"],u:"1f9c3",a:"12.0"},{n:["mate drink"],u:"1f9c9",a:"12.0"},{n:["ice cube"],u:"1f9ca",a:"12.0"},{n:["chopsticks"],u:"1f962",a:"5.0"},{n:["knife fork plate","fork and knife with plate"],u:"1f37d-fe0f",a:"0.7"},{n:["fork and knife"],u:"1f374",a:"0.6"},{n:["spoon"],u:"1f944",a:"3.0"},{n:["hocho","knife"],u:"1f52a",a:"0.6"},{n:["jar"],u:"1fad9",a:"14.0"},{n:["amphora"],u:"1f3fa",a:"1.0"}],wLe=[{n:["earth africa","earth globe europe-africa"],u:"1f30d",a:"0.7"},{n:["earth americas","earth globe americas"],u:"1f30e",a:"0.7"},{n:["earth asia","earth globe asia-australia"],u:"1f30f",a:"0.6"},{n:["globe with meridians"],u:"1f310",a:"1.0"},{n:["world map"],u:"1f5fa-fe0f",a:"0.7"},{n:["japan","silhouette of japan"],u:"1f5fe",a:"0.6"},{n:["compass"],u:"1f9ed",a:"11.0"},{n:["snow-capped mountain","snow capped mountain"],u:"1f3d4-fe0f",a:"0.7"},{n:["mountain"],u:"26f0-fe0f",a:"0.7"},{n:["volcano"],u:"1f30b",a:"0.6"},{n:["mount fuji"],u:"1f5fb",a:"0.6"},{n:["camping"],u:"1f3d5-fe0f",a:"0.7"},{n:["beach with umbrella"],u:"1f3d6-fe0f",a:"0.7"},{n:["desert"],u:"1f3dc-fe0f",a:"0.7"},{n:["desert island"],u:"1f3dd-fe0f",a:"0.7"},{n:["national park"],u:"1f3de-fe0f",a:"0.7"},{n:["stadium"],u:"1f3df-fe0f",a:"0.7"},{n:["classical building"],u:"1f3db-fe0f",a:"0.7"},{n:["building construction"],u:"1f3d7-fe0f",a:"0.7"},{n:["brick","bricks"],u:"1f9f1",a:"11.0"},{n:["rock"],u:"1faa8",a:"13.0"},{n:["wood"],u:"1fab5",a:"13.0"},{n:["hut"],u:"1f6d6",a:"13.0"},{n:["houses","house buildings"],u:"1f3d8-fe0f",a:"0.7"},{n:["derelict house","derelict house building"],u:"1f3da-fe0f",a:"0.7"},{n:["house","house building"],u:"1f3e0",a:"0.6"},{n:["house with garden"],u:"1f3e1",a:"0.6"},{n:["office","office building"],u:"1f3e2",a:"0.6"},{n:["post office","japanese post office"],u:"1f3e3",a:"0.6"},{n:["european post office"],u:"1f3e4",a:"1.0"},{n:["hospital"],u:"1f3e5",a:"0.6"},{n:["bank"],u:"1f3e6",a:"0.6"},{n:["hotel"],u:"1f3e8",a:"0.6"},{n:["love hotel"],u:"1f3e9",a:"0.6"},{n:["convenience store"],u:"1f3ea",a:"0.6"},{n:["school"],u:"1f3eb",a:"0.6"},{n:["department store"],u:"1f3ec",a:"0.6"},{n:["factory"],u:"1f3ed",a:"0.6"},{n:["japanese castle"],u:"1f3ef",a:"0.6"},{n:["european castle"],u:"1f3f0",a:"0.6"},{n:["wedding"],u:"1f492",a:"0.6"},{n:["tokyo tower"],u:"1f5fc",a:"0.6"},{n:["statue of liberty"],u:"1f5fd",a:"0.6"},{n:["church"],u:"26ea",a:"0.6"},{n:["mosque"],u:"1f54c",a:"1.0"},{n:["hindu temple"],u:"1f6d5",a:"12.0"},{n:["synagogue"],u:"1f54d",a:"1.0"},{n:["shinto shrine"],u:"26e9-fe0f",a:"0.7"},{n:["kaaba"],u:"1f54b",a:"1.0"},{n:["fountain"],u:"26f2",a:"0.6"},{n:["tent"],u:"26fa",a:"0.6"},{n:["foggy"],u:"1f301",a:"0.6"},{n:["night with stars"],u:"1f303",a:"0.6"},{n:["cityscape"],u:"1f3d9-fe0f",a:"0.7"},{n:["sunrise over mountains"],u:"1f304",a:"0.6"},{n:["sunrise"],u:"1f305",a:"0.6"},{n:["city sunset","cityscape at dusk"],u:"1f306",a:"0.6"},{n:["city sunrise","sunset over buildings"],u:"1f307",a:"0.6"},{n:["bridge at night"],u:"1f309",a:"0.6"},{n:["hotsprings","hot springs"],u:"2668-fe0f",a:"0.6"},{n:["carousel horse"],u:"1f3a0",a:"0.6"},{n:["playground slide"],u:"1f6dd",a:"14.0"},{n:["ferris wheel"],u:"1f3a1",a:"0.6"},{n:["roller coaster"],u:"1f3a2",a:"0.6"},{n:["barber","barber pole"],u:"1f488",a:"0.6"},{n:["circus tent"],u:"1f3aa",a:"0.6"},{n:["steam locomotive"],u:"1f682",a:"1.0"},{n:["railway car"],u:"1f683",a:"0.6"},{n:["high-speed train","bullettrain side"],u:"1f684",a:"0.6"},{n:["bullettrain front","high-speed train with bullet nose"],u:"1f685",a:"0.6"},{n:["train","train2"],u:"1f686",a:"1.0"},{n:["metro"],u:"1f687",a:"0.6"},{n:["light rail"],u:"1f688",a:"1.0"},{n:["station"],u:"1f689",a:"0.6"},{n:["tram"],u:"1f68a",a:"1.0"},{n:["monorail"],u:"1f69d",a:"1.0"},{n:["mountain railway"],u:"1f69e",a:"1.0"},{n:["train","tram car"],u:"1f68b",a:"1.0"},{n:["bus"],u:"1f68c",a:"0.6"},{n:["oncoming bus"],u:"1f68d",a:"0.7"},{n:["trolleybus"],u:"1f68e",a:"1.0"},{n:["minibus"],u:"1f690",a:"1.0"},{n:["ambulance"],u:"1f691",a:"0.6"},{n:["fire engine"],u:"1f692",a:"0.6"},{n:["police car"],u:"1f693",a:"0.6"},{n:["oncoming police car"],u:"1f694",a:"0.7"},{n:["taxi"],u:"1f695",a:"0.6"},{n:["oncoming taxi"],u:"1f696",a:"1.0"},{n:["car","red car","automobile"],u:"1f697",a:"0.6"},{n:["oncoming automobile"],u:"1f698",a:"0.7"},{n:["blue car","recreational vehicle"],u:"1f699",a:"0.6"},{n:["pickup truck"],u:"1f6fb",a:"13.0"},{n:["truck","delivery truck"],u:"1f69a",a:"0.6"},{n:["articulated lorry"],u:"1f69b",a:"1.0"},{n:["tractor"],u:"1f69c",a:"1.0"},{n:["racing car"],u:"1f3ce-fe0f",a:"0.7"},{n:["motorcycle","racing motorcycle"],u:"1f3cd-fe0f",a:"0.7"},{n:["motor scooter"],u:"1f6f5",a:"3.0"},{n:["manual wheelchair"],u:"1f9bd",a:"12.0"},{n:["motorized wheelchair"],u:"1f9bc",a:"12.0"},{n:["auto rickshaw"],u:"1f6fa",a:"12.0"},{n:["bike","bicycle"],u:"1f6b2",a:"0.6"},{n:["scooter"],u:"1f6f4",a:"3.0"},{n:["skateboard"],u:"1f6f9",a:"11.0"},{n:["roller skate"],u:"1f6fc",a:"13.0"},{n:["busstop","bus stop"],u:"1f68f",a:"0.6"},{n:["motorway"],u:"1f6e3-fe0f",a:"0.7"},{n:["railway track"],u:"1f6e4-fe0f",a:"0.7"},{n:["oil drum"],u:"1f6e2-fe0f",a:"0.7"},{n:["fuelpump","fuel pump"],u:"26fd",a:"0.6"},{n:["wheel"],u:"1f6de",a:"14.0"},{n:["rotating light","police cars revolving light"],u:"1f6a8",a:"0.6"},{n:["traffic light","horizontal traffic light"],u:"1f6a5",a:"0.6"},{n:["vertical traffic light"],u:"1f6a6",a:"1.0"},{n:["octagonal sign"],u:"1f6d1",a:"3.0"},{n:["construction","construction sign"],u:"1f6a7",a:"0.6"},{n:["anchor"],u:"2693",a:"0.6"},{n:["ring buoy"],u:"1f6df",a:"14.0"},{n:["boat","sailboat"],u:"26f5",a:"0.6"},{n:["canoe"],u:"1f6f6",a:"3.0"},{n:["speedboat"],u:"1f6a4",a:"0.6"},{n:["passenger ship"],u:"1f6f3-fe0f",a:"0.7"},{n:["ferry"],u:"26f4-fe0f",a:"0.7"},{n:["motor boat"],u:"1f6e5-fe0f",a:"0.7"},{n:["ship"],u:"1f6a2",a:"0.6"},{n:["airplane"],u:"2708-fe0f",a:"0.6"},{n:["small airplane"],u:"1f6e9-fe0f",a:"0.7"},{n:["airplane departure"],u:"1f6eb",a:"1.0"},{n:["airplane arriving"],u:"1f6ec",a:"1.0"},{n:["parachute"],u:"1fa82",a:"12.0"},{n:["seat"],u:"1f4ba",a:"0.6"},{n:["helicopter"],u:"1f681",a:"1.0"},{n:["suspension railway"],u:"1f69f",a:"1.0"},{n:["mountain cableway"],u:"1f6a0",a:"1.0"},{n:["aerial tramway"],u:"1f6a1",a:"1.0"},{n:["satellite"],u:"1f6f0-fe0f",a:"0.7"},{n:["rocket"],u:"1f680",a:"0.6"},{n:["flying saucer"],u:"1f6f8",a:"5.0"},{n:["bellhop bell"],u:"1f6ce-fe0f",a:"0.7"},{n:["luggage"],u:"1f9f3",a:"11.0"},{n:["hourglass"],u:"231b",a:"0.6"},{n:["hourglass flowing sand","hourglass with flowing sand"],u:"23f3",a:"0.6"},{n:["watch"],u:"231a",a:"0.6"},{n:["alarm clock"],u:"23f0",a:"0.6"},{n:["stopwatch"],u:"23f1-fe0f",a:"1.0"},{n:["timer clock"],u:"23f2-fe0f",a:"1.0"},{n:["mantelpiece clock"],u:"1f570-fe0f",a:"0.7"},{n:["clock12","clock face twelve oclock"],u:"1f55b",a:"0.6"},{n:["clock1230","clock face twelve-thirty"],u:"1f567",a:"0.7"},{n:["clock1","clock face one oclock"],u:"1f550",a:"0.6"},{n:["clock130","clock face one-thirty"],u:"1f55c",a:"0.7"},{n:["clock2","clock face two oclock"],u:"1f551",a:"0.6"},{n:["clock230","clock face two-thirty"],u:"1f55d",a:"0.7"},{n:["clock3","clock face three oclock"],u:"1f552",a:"0.6"},{n:["clock330","clock face three-thirty"],u:"1f55e",a:"0.7"},{n:["clock4","clock face four oclock"],u:"1f553",a:"0.6"},{n:["clock430","clock face four-thirty"],u:"1f55f",a:"0.7"},{n:["clock5","clock face five oclock"],u:"1f554",a:"0.6"},{n:["clock530","clock face five-thirty"],u:"1f560",a:"0.7"},{n:["clock6","clock face six oclock"],u:"1f555",a:"0.6"},{n:["clock630","clock face six-thirty"],u:"1f561",a:"0.7"},{n:["clock7","clock face seven oclock"],u:"1f556",a:"0.6"},{n:["clock730","clock face seven-thirty"],u:"1f562",a:"0.7"},{n:["clock8","clock face eight oclock"],u:"1f557",a:"0.6"},{n:["clock830","clock face eight-thirty"],u:"1f563",a:"0.7"},{n:["clock9","clock face nine oclock"],u:"1f558",a:"0.6"},{n:["clock930","clock face nine-thirty"],u:"1f564",a:"0.7"},{n:["clock10","clock face ten oclock"],u:"1f559",a:"0.6"},{n:["clock1030","clock face ten-thirty"],u:"1f565",a:"0.7"},{n:["clock11","clock face eleven oclock"],u:"1f55a",a:"0.6"},{n:["clock1130","clock face eleven-thirty"],u:"1f566",a:"0.7"},{n:["new moon","new moon symbol"],u:"1f311",a:"0.6"},{n:["waxing crescent moon","waxing crescent moon symbol"],u:"1f312",a:"1.0"},{n:["first quarter moon","first quarter moon symbol"],u:"1f313",a:"0.6"},{n:["moon","waxing gibbous moon","waxing gibbous moon symbol"],u:"1f314",a:"0.6"},{n:["full moon","full moon symbol"],u:"1f315",a:"0.6"},{n:["waning gibbous moon","waning gibbous moon symbol"],u:"1f316",a:"1.0"},{n:["last quarter moon","last quarter moon symbol"],u:"1f317",a:"1.0"},{n:["waning crescent moon","waning crescent moon symbol"],u:"1f318",a:"1.0"},{n:["crescent moon"],u:"1f319",a:"0.6"},{n:["new moon with face"],u:"1f31a",a:"1.0"},{n:["first quarter moon with face"],u:"1f31b",a:"0.6"},{n:["last quarter moon with face"],u:"1f31c",a:"0.7"},{n:["thermometer"],u:"1f321-fe0f",a:"0.7"},{n:["sunny","black sun with rays"],u:"2600-fe0f",a:"0.6"},{n:["full moon with face"],u:"1f31d",a:"1.0"},{n:["sun with face"],u:"1f31e",a:"1.0"},{n:["ringed planet"],u:"1fa90",a:"12.0"},{n:["star","white medium star"],u:"2b50",a:"0.6"},{n:["star2","glowing star"],u:"1f31f",a:"0.6"},{n:["stars","shooting star"],u:"1f320",a:"0.6"},{n:["milky way"],u:"1f30c",a:"0.6"},{n:["cloud"],u:"2601-fe0f",a:"0.6"},{n:["partly sunny","sun behind cloud"],u:"26c5",a:"0.6"},{n:["thunder cloud and rain","cloud with lightning and rain"],u:"26c8-fe0f",a:"0.7"},{n:["mostly sunny","sun small cloud","sun behind small cloud"],u:"1f324-fe0f",a:"0.7"},{n:["barely sunny","sun behind cloud","sun behind large cloud"],u:"1f325-fe0f",a:"0.7"},{n:["partly sunny rain","sun behind rain cloud"],u:"1f326-fe0f",a:"0.7"},{n:["rain cloud","cloud with rain"],u:"1f327-fe0f",a:"0.7"},{n:["snow cloud","cloud with snow"],u:"1f328-fe0f",a:"0.7"},{n:["lightning","lightning cloud","cloud with lightning"],u:"1f329-fe0f",a:"0.7"},{n:["tornado","tornado cloud"],u:"1f32a-fe0f",a:"0.7"},{n:["fog"],u:"1f32b-fe0f",a:"0.7"},{n:["wind face","wind blowing face"],u:"1f32c-fe0f",a:"0.7"},{n:["cyclone"],u:"1f300",a:"0.6"},{n:["rainbow"],u:"1f308",a:"0.6"},{n:["closed umbrella"],u:"1f302",a:"0.6"},{n:["umbrella"],u:"2602-fe0f",a:"0.7"},{n:["umbrella with rain drops"],u:"2614",a:"0.6"},{n:["umbrella on ground"],u:"26f1-fe0f",a:"0.7"},{n:["zap","high voltage sign"],u:"26a1",a:"0.6"},{n:["snowflake"],u:"2744-fe0f",a:"0.6"},{n:["snowman"],u:"2603-fe0f",a:"0.7"},{n:["snowman without snow"],u:"26c4",a:"0.6"},{n:["comet"],u:"2604-fe0f",a:"1.0"},{n:["fire"],u:"1f525",a:"0.6"},{n:["droplet"],u:"1f4a7",a:"0.6"},{n:["ocean","water wave"],u:"1f30a",a:"0.6"}],jLe=[{n:["jack-o-lantern","jack o lantern"],u:"1f383",a:"0.6"},{n:["christmas tree"],u:"1f384",a:"0.6"},{n:["fireworks"],u:"1f386",a:"0.6"},{n:["sparkler","firework sparkler"],u:"1f387",a:"0.6"},{n:["firecracker"],u:"1f9e8",a:"11.0"},{n:["sparkles"],u:"2728",a:"0.6"},{n:["balloon"],u:"1f388",a:"0.6"},{n:["tada","party popper"],u:"1f389",a:"0.6"},{n:["confetti ball"],u:"1f38a",a:"0.6"},{n:["tanabata tree"],u:"1f38b",a:"0.6"},{n:["bamboo","pine decoration"],u:"1f38d",a:"0.6"},{n:["dolls","japanese dolls"],u:"1f38e",a:"0.6"},{n:["flags","carp streamer"],u:"1f38f",a:"0.6"},{n:["wind chime"],u:"1f390",a:"0.6"},{n:["rice scene","moon viewing ceremony"],u:"1f391",a:"0.6"},{n:["red envelope","red gift envelope"],u:"1f9e7",a:"11.0"},{n:["ribbon"],u:"1f380",a:"0.6"},{n:["gift","wrapped present"],u:"1f381",a:"0.6"},{n:["reminder ribbon"],u:"1f397-fe0f",a:"0.7"},{n:["admission tickets"],u:"1f39f-fe0f",a:"0.7"},{n:["ticket"],u:"1f3ab",a:"0.6"},{n:["medal","military medal"],u:"1f396-fe0f",a:"0.7"},{n:["trophy"],u:"1f3c6",a:"0.6"},{n:["sports medal"],u:"1f3c5",a:"1.0"},{n:["first place medal"],u:"1f947",a:"3.0"},{n:["second place medal"],u:"1f948",a:"3.0"},{n:["third place medal"],u:"1f949",a:"3.0"},{n:["soccer","soccer ball"],u:"26bd",a:"0.6"},{n:["baseball"],u:"26be",a:"0.6"},{n:["softball"],u:"1f94e",a:"11.0"},{n:["basketball","basketball and hoop"],u:"1f3c0",a:"0.6"},{n:["volleyball"],u:"1f3d0",a:"1.0"},{n:["football","american football"],u:"1f3c8",a:"0.6"},{n:["rugby football"],u:"1f3c9",a:"1.0"},{n:["tennis","tennis racquet and ball"],u:"1f3be",a:"0.6"},{n:["flying disc"],u:"1f94f",a:"11.0"},{n:["bowling"],u:"1f3b3",a:"0.6"},{n:["cricket bat and ball"],u:"1f3cf",a:"1.0"},{n:["field hockey stick and ball"],u:"1f3d1",a:"1.0"},{n:["ice hockey stick and puck"],u:"1f3d2",a:"1.0"},{n:["lacrosse","lacrosse stick and ball"],u:"1f94d",a:"11.0"},{n:["table tennis paddle and ball"],u:"1f3d3",a:"1.0"},{n:["badminton racquet and shuttlecock"],u:"1f3f8",a:"1.0"},{n:["boxing glove"],u:"1f94a",a:"3.0"},{n:["martial arts uniform"],u:"1f94b",a:"3.0"},{n:["goal net"],u:"1f945",a:"3.0"},{n:["golf","flag in hole"],u:"26f3",a:"0.6"},{n:["ice skate"],u:"26f8-fe0f",a:"0.7"},{n:["fishing pole and fish"],u:"1f3a3",a:"0.6"},{n:["diving mask"],u:"1f93f",a:"12.0"},{n:["running shirt with sash"],u:"1f3bd",a:"0.6"},{n:["ski","ski and ski boot"],u:"1f3bf",a:"0.6"},{n:["sled"],u:"1f6f7",a:"5.0"},{n:["curling stone"],u:"1f94c",a:"5.0"},{n:["dart","direct hit"],u:"1f3af",a:"0.6"},{n:["yo-yo"],u:"1fa80",a:"12.0"},{n:["kite"],u:"1fa81",a:"12.0"},{n:["gun","pistol"],u:"1f52b",a:"0.6"},{n:["8ball","billiards"],u:"1f3b1",a:"0.6"},{n:["crystal ball"],u:"1f52e",a:"0.6"},{n:["magic wand"],u:"1fa84",a:"13.0"},{n:["video game"],u:"1f3ae",a:"0.6"},{n:["joystick"],u:"1f579-fe0f",a:"0.7"},{n:["slot machine"],u:"1f3b0",a:"0.6"},{n:["game die"],u:"1f3b2",a:"0.6"},{n:["jigsaw","jigsaw puzzle piece"],u:"1f9e9",a:"11.0"},{n:["teddy bear"],u:"1f9f8",a:"11.0"},{n:["pinata"],u:"1fa85",a:"13.0"},{n:["mirror ball"],u:"1faa9",a:"14.0"},{n:["nesting dolls"],u:"1fa86",a:"13.0"},{n:["spades","black spade suit"],u:"2660-fe0f",a:"0.6"},{n:["hearts","black heart suit"],u:"2665-fe0f",a:"0.6"},{n:["diamonds","black diamond suit"],u:"2666-fe0f",a:"0.6"},{n:["clubs","black club suit"],u:"2663-fe0f",a:"0.6"},{n:["chess pawn"],u:"265f-fe0f",a:"11.0"},{n:["black joker","playing card black joker"],u:"1f0cf",a:"0.6"},{n:["mahjong","mahjong tile red dragon"],u:"1f004",a:"0.6"},{n:["flower playing cards"],u:"1f3b4",a:"0.6"},{n:["performing arts"],u:"1f3ad",a:"0.6"},{n:["framed picture","frame with picture"],u:"1f5bc-fe0f",a:"0.7"},{n:["art","artist palette"],u:"1f3a8",a:"0.6"},{n:["thread","spool of thread"],u:"1f9f5",a:"11.0"},{n:["sewing needle"],u:"1faa1",a:"13.0"},{n:["yarn","ball of yarn"],u:"1f9f6",a:"11.0"},{n:["knot"],u:"1faa2",a:"13.0"}],NLe=[{n:["eyeglasses"],u:"1f453",a:"0.6"},{n:["sunglasses","dark sunglasses"],u:"1f576-fe0f",a:"0.7"},{n:["goggles"],u:"1f97d",a:"11.0"},{n:["lab coat"],u:"1f97c",a:"11.0"},{n:["safety vest"],u:"1f9ba",a:"12.0"},{n:["necktie"],u:"1f454",a:"0.6"},{n:["shirt","tshirt","t-shirt"],u:"1f455",a:"0.6"},{n:["jeans"],u:"1f456",a:"0.6"},{n:["scarf"],u:"1f9e3",a:"5.0"},{n:["gloves"],u:"1f9e4",a:"5.0"},{n:["coat"],u:"1f9e5",a:"5.0"},{n:["socks"],u:"1f9e6",a:"5.0"},{n:["dress"],u:"1f457",a:"0.6"},{n:["kimono"],u:"1f458",a:"0.6"},{n:["sari"],u:"1f97b",a:"12.0"},{n:["one-piece swimsuit"],u:"1fa71",a:"12.0"},{n:["briefs"],u:"1fa72",a:"12.0"},{n:["shorts"],u:"1fa73",a:"12.0"},{n:["bikini"],u:"1f459",a:"0.6"},{n:["womans clothes"],u:"1f45a",a:"0.6"},{n:["folding hand fan"],u:"1faad",a:"15.0"},{n:["purse"],u:"1f45b",a:"0.6"},{n:["handbag"],u:"1f45c",a:"0.6"},{n:["pouch"],u:"1f45d",a:"0.6"},{n:["shopping bags"],u:"1f6cd-fe0f",a:"0.7"},{n:["school satchel"],u:"1f392",a:"0.6"},{n:["thong sandal"],u:"1fa74",a:"13.0"},{n:["shoe","mans shoe"],u:"1f45e",a:"0.6"},{n:["athletic shoe"],u:"1f45f",a:"0.6"},{n:["hiking boot"],u:"1f97e",a:"11.0"},{n:["flat shoe","womans flat shoe"],u:"1f97f",a:"11.0"},{n:["high heel","high-heeled shoe"],u:"1f460",a:"0.6"},{n:["sandal","womans sandal"],u:"1f461",a:"0.6"},{n:["ballet shoes"],u:"1fa70",a:"12.0"},{n:["boot","womans boots"],u:"1f462",a:"0.6"},{n:["hair pick"],u:"1faae",a:"15.0"},{n:["crown"],u:"1f451",a:"0.6"},{n:["womans hat"],u:"1f452",a:"0.6"},{n:["tophat","top hat"],u:"1f3a9",a:"0.6"},{n:["mortar board","graduation cap"],u:"1f393",a:"0.6"},{n:["billed cap"],u:"1f9e2",a:"5.0"},{n:["military helmet"],u:"1fa96",a:"13.0"},{n:["rescue worker’s helmet","helmet with white cross"],u:"26d1-fe0f",a:"0.7"},{n:["prayer beads"],u:"1f4ff",a:"1.0"},{n:["lipstick"],u:"1f484",a:"0.6"},{n:["ring"],u:"1f48d",a:"0.6"},{n:["gem","gem stone"],u:"1f48e",a:"0.6"},{n:["mute","speaker with cancellation stroke"],u:"1f507",a:"1.0"},{n:["speaker"],u:"1f508",a:"0.7"},{n:["sound","speaker with one sound wave"],u:"1f509",a:"1.0"},{n:["loud sound","speaker with three sound waves"],u:"1f50a",a:"0.6"},{n:["loudspeaker","public address loudspeaker"],u:"1f4e2",a:"0.6"},{n:["mega","cheering megaphone"],u:"1f4e3",a:"0.6"},{n:["postal horn"],u:"1f4ef",a:"1.0"},{n:["bell"],u:"1f514",a:"0.6"},{n:["no bell","bell with cancellation stroke"],u:"1f515",a:"1.0"},{n:["musical score"],u:"1f3bc",a:"0.6"},{n:["musical note"],u:"1f3b5",a:"0.6"},{n:["notes","multiple musical notes"],u:"1f3b6",a:"0.6"},{n:["studio microphone"],u:"1f399-fe0f",a:"0.7"},{n:["level slider"],u:"1f39a-fe0f",a:"0.7"},{n:["control knobs"],u:"1f39b-fe0f",a:"0.7"},{n:["microphone"],u:"1f3a4",a:"0.6"},{n:["headphone","headphones"],u:"1f3a7",a:"0.6"},{n:["radio"],u:"1f4fb",a:"0.6"},{n:["saxophone"],u:"1f3b7",a:"0.6"},{n:["accordion"],u:"1fa97",a:"13.0"},{n:["guitar"],u:"1f3b8",a:"0.6"},{n:["musical keyboard"],u:"1f3b9",a:"0.6"},{n:["trumpet"],u:"1f3ba",a:"0.6"},{n:["violin"],u:"1f3bb",a:"0.6"},{n:["banjo"],u:"1fa95",a:"12.0"},{n:["drum with drumsticks"],u:"1f941",a:"3.0"},{n:["long drum"],u:"1fa98",a:"13.0"},{n:["maracas"],u:"1fa87",a:"15.0"},{n:["flute"],u:"1fa88",a:"15.0"},{n:["iphone","mobile phone"],u:"1f4f1",a:"0.6"},{n:["calling","mobile phone with rightwards arrow at left"],u:"1f4f2",a:"0.6"},{n:["phone","telephone","black telephone"],u:"260e-fe0f",a:"0.6"},{n:["telephone receiver"],u:"1f4de",a:"0.6"},{n:["pager"],u:"1f4df",a:"0.6"},{n:["fax","fax machine"],u:"1f4e0",a:"0.6"},{n:["battery"],u:"1f50b",a:"0.6"},{n:["low battery"],u:"1faab",a:"14.0"},{n:["electric plug"],u:"1f50c",a:"0.6"},{n:["computer","personal computer"],u:"1f4bb",a:"0.6"},{n:["desktop computer"],u:"1f5a5-fe0f",a:"0.7"},{n:["printer"],u:"1f5a8-fe0f",a:"0.7"},{n:["keyboard"],u:"2328-fe0f",a:"1.0"},{n:["computer mouse","three button mouse"],u:"1f5b1-fe0f",a:"0.7"},{n:["trackball"],u:"1f5b2-fe0f",a:"0.7"},{n:["minidisc"],u:"1f4bd",a:"0.6"},{n:["floppy disk"],u:"1f4be",a:"0.6"},{n:["cd","optical disc"],u:"1f4bf",a:"0.6"},{n:["dvd"],u:"1f4c0",a:"0.6"},{n:["abacus"],u:"1f9ee",a:"11.0"},{n:["movie camera"],u:"1f3a5",a:"0.6"},{n:["film frames"],u:"1f39e-fe0f",a:"0.7"},{n:["film projector"],u:"1f4fd-fe0f",a:"0.7"},{n:["clapper","clapper board"],u:"1f3ac",a:"0.6"},{n:["tv","television"],u:"1f4fa",a:"0.6"},{n:["camera"],u:"1f4f7",a:"0.6"},{n:["camera with flash"],u:"1f4f8",a:"1.0"},{n:["video camera"],u:"1f4f9",a:"0.6"},{n:["vhs","videocassette"],u:"1f4fc",a:"0.6"},{n:["mag","left-pointing magnifying glass"],u:"1f50d",a:"0.6"},{n:["mag right","right-pointing magnifying glass"],u:"1f50e",a:"0.6"},{n:["candle"],u:"1f56f-fe0f",a:"0.7"},{n:["bulb","electric light bulb"],u:"1f4a1",a:"0.6"},{n:["flashlight","electric torch"],u:"1f526",a:"0.6"},{n:["lantern","izakaya lantern"],u:"1f3ee",a:"0.6"},{n:["diya lamp"],u:"1fa94",a:"12.0"},{n:["notebook with decorative cover"],u:"1f4d4",a:"0.6"},{n:["closed book"],u:"1f4d5",a:"0.6"},{n:["book","open book"],u:"1f4d6",a:"0.6"},{n:["green book"],u:"1f4d7",a:"0.6"},{n:["blue book"],u:"1f4d8",a:"0.6"},{n:["orange book"],u:"1f4d9",a:"0.6"},{n:["books"],u:"1f4da",a:"0.6"},{n:["notebook"],u:"1f4d3",a:"0.6"},{n:["ledger"],u:"1f4d2",a:"0.6"},{n:["page with curl"],u:"1f4c3",a:"0.6"},{n:["scroll"],u:"1f4dc",a:"0.6"},{n:["page facing up"],u:"1f4c4",a:"0.6"},{n:["newspaper"],u:"1f4f0",a:"0.6"},{n:["rolled-up newspaper","rolled up newspaper"],u:"1f5de-fe0f",a:"0.7"},{n:["bookmark tabs"],u:"1f4d1",a:"0.6"},{n:["bookmark"],u:"1f516",a:"0.6"},{n:["label"],u:"1f3f7-fe0f",a:"0.7"},{n:["moneybag","money bag"],u:"1f4b0",a:"0.6"},{n:["coin"],u:"1fa99",a:"13.0"},{n:["yen","banknote with yen sign"],u:"1f4b4",a:"0.6"},{n:["dollar","banknote with dollar sign"],u:"1f4b5",a:"0.6"},{n:["euro","banknote with euro sign"],u:"1f4b6",a:"1.0"},{n:["pound","banknote with pound sign"],u:"1f4b7",a:"1.0"},{n:["money with wings"],u:"1f4b8",a:"0.6"},{n:["credit card"],u:"1f4b3",a:"0.6"},{n:["receipt"],u:"1f9fe",a:"11.0"},{n:["chart","chart with upwards trend and yen sign"],u:"1f4b9",a:"0.6"},{n:["email","envelope"],u:"2709-fe0f",a:"0.6"},{n:["e-mail","e-mail symbol"],u:"1f4e7",a:"0.6"},{n:["incoming envelope"],u:"1f4e8",a:"0.6"},{n:["envelope with arrow","envelope with downwards arrow above"],u:"1f4e9",a:"0.6"},{n:["outbox tray"],u:"1f4e4",a:"0.6"},{n:["inbox tray"],u:"1f4e5",a:"0.6"},{n:["package"],u:"1f4e6",a:"0.6"},{n:["mailbox","closed mailbox with raised flag"],u:"1f4eb",a:"0.6"},{n:["mailbox closed","closed mailbox with lowered flag"],u:"1f4ea",a:"0.6"},{n:["mailbox with mail","open mailbox with raised flag"],u:"1f4ec",a:"0.7"},{n:["mailbox with no mail","open mailbox with lowered flag"],u:"1f4ed",a:"0.7"},{n:["postbox"],u:"1f4ee",a:"0.6"},{n:["ballot box with ballot"],u:"1f5f3-fe0f",a:"0.7"},{n:["pencil","pencil2"],u:"270f-fe0f",a:"0.6"},{n:["black nib"],u:"2712-fe0f",a:"0.6"},{n:["fountain pen","lower left fountain pen"],u:"1f58b-fe0f",a:"0.7"},{n:["pen","lower left ballpoint pen"],u:"1f58a-fe0f",a:"0.7"},{n:["paintbrush","lower left paintbrush"],u:"1f58c-fe0f",a:"0.7"},{n:["crayon","lower left crayon"],u:"1f58d-fe0f",a:"0.7"},{n:["memo","pencil"],u:"1f4dd",a:"0.6"},{n:["briefcase"],u:"1f4bc",a:"0.6"},{n:["file folder"],u:"1f4c1",a:"0.6"},{n:["open file folder"],u:"1f4c2",a:"0.6"},{n:["card index dividers"],u:"1f5c2-fe0f",a:"0.7"},{n:["date","calendar"],u:"1f4c5",a:"0.6"},{n:["calendar","tear-off calendar"],u:"1f4c6",a:"0.6"},{n:["spiral notepad","spiral note pad"],u:"1f5d2-fe0f",a:"0.7"},{n:["spiral calendar","spiral calendar pad"],u:"1f5d3-fe0f",a:"0.7"},{n:["card index"],u:"1f4c7",a:"0.6"},{n:["chart with upwards trend"],u:"1f4c8",a:"0.6"},{n:["chart with downwards trend"],u:"1f4c9",a:"0.6"},{n:["bar chart"],u:"1f4ca",a:"0.6"},{n:["clipboard"],u:"1f4cb",a:"0.6"},{n:["pushpin"],u:"1f4cc",a:"0.6"},{n:["round pushpin"],u:"1f4cd",a:"0.6"},{n:["paperclip"],u:"1f4ce",a:"0.6"},{n:["linked paperclips"],u:"1f587-fe0f",a:"0.7"},{n:["straight ruler"],u:"1f4cf",a:"0.6"},{n:["triangular ruler"],u:"1f4d0",a:"0.6"},{n:["scissors","black scissors"],u:"2702-fe0f",a:"0.6"},{n:["card file box"],u:"1f5c3-fe0f",a:"0.7"},{n:["file cabinet"],u:"1f5c4-fe0f",a:"0.7"},{n:["wastebasket"],u:"1f5d1-fe0f",a:"0.7"},{n:["lock"],u:"1f512",a:"0.6"},{n:["unlock","open lock"],u:"1f513",a:"0.6"},{n:["lock with ink pen"],u:"1f50f",a:"0.6"},{n:["closed lock with key"],u:"1f510",a:"0.6"},{n:["key"],u:"1f511",a:"0.6"},{n:["old key"],u:"1f5dd-fe0f",a:"0.7"},{n:["hammer"],u:"1f528",a:"0.6"},{n:["axe"],u:"1fa93",a:"12.0"},{n:["pick"],u:"26cf-fe0f",a:"0.7"},{n:["hammer and pick"],u:"2692-fe0f",a:"1.0"},{n:["hammer and wrench"],u:"1f6e0-fe0f",a:"0.7"},{n:["dagger","dagger knife"],u:"1f5e1-fe0f",a:"0.7"},{n:["crossed swords"],u:"2694-fe0f",a:"1.0"},{n:["bomb"],u:"1f4a3",a:"0.6"},{n:["boomerang"],u:"1fa83",a:"13.0"},{n:["bow and arrow"],u:"1f3f9",a:"1.0"},{n:["shield"],u:"1f6e1-fe0f",a:"0.7"},{n:["carpentry saw"],u:"1fa9a",a:"13.0"},{n:["wrench"],u:"1f527",a:"0.6"},{n:["screwdriver"],u:"1fa9b",a:"13.0"},{n:["nut and bolt"],u:"1f529",a:"0.6"},{n:["gear"],u:"2699-fe0f",a:"1.0"},{n:["clamp","compression"],u:"1f5dc-fe0f",a:"0.7"},{n:["scales","balance scale"],u:"2696-fe0f",a:"1.0"},{n:["probing cane"],u:"1f9af",a:"12.0"},{n:["link","link symbol"],u:"1f517",a:"0.6"},{n:["broken chain"],u:"26d3-fe0f-200d-1f4a5",a:"15.1"},{n:["chains"],u:"26d3-fe0f",a:"0.7"},{n:["hook"],u:"1fa9d",a:"13.0"},{n:["toolbox"],u:"1f9f0",a:"11.0"},{n:["magnet"],u:"1f9f2",a:"11.0"},{n:["ladder"],u:"1fa9c",a:"13.0"},{n:["alembic"],u:"2697-fe0f",a:"1.0"},{n:["test tube"],u:"1f9ea",a:"11.0"},{n:["petri dish"],u:"1f9eb",a:"11.0"},{n:["dna","dna double helix"],u:"1f9ec",a:"11.0"},{n:["microscope"],u:"1f52c",a:"1.0"},{n:["telescope"],u:"1f52d",a:"1.0"},{n:["satellite antenna"],u:"1f4e1",a:"0.6"},{n:["syringe"],u:"1f489",a:"0.6"},{n:["drop of blood"],u:"1fa78",a:"12.0"},{n:["pill"],u:"1f48a",a:"0.6"},{n:["adhesive bandage"],u:"1fa79",a:"12.0"},{n:["crutch"],u:"1fa7c",a:"14.0"},{n:["stethoscope"],u:"1fa7a",a:"12.0"},{n:["x-ray"],u:"1fa7b",a:"14.0"},{n:["door"],u:"1f6aa",a:"0.6"},{n:["elevator"],u:"1f6d7",a:"13.0"},{n:["mirror"],u:"1fa9e",a:"13.0"},{n:["window"],u:"1fa9f",a:"13.0"},{n:["bed"],u:"1f6cf-fe0f",a:"0.7"},{n:["couch and lamp"],u:"1f6cb-fe0f",a:"0.7"},{n:["chair"],u:"1fa91",a:"12.0"},{n:["toilet"],u:"1f6bd",a:"0.6"},{n:["plunger"],u:"1faa0",a:"13.0"},{n:["shower"],u:"1f6bf",a:"1.0"},{n:["bathtub"],u:"1f6c1",a:"1.0"},{n:["mouse trap"],u:"1faa4",a:"13.0"},{n:["razor"],u:"1fa92",a:"12.0"},{n:["lotion bottle"],u:"1f9f4",a:"11.0"},{n:["safety pin"],u:"1f9f7",a:"11.0"},{n:["broom"],u:"1f9f9",a:"11.0"},{n:["basket"],u:"1f9fa",a:"11.0"},{n:["roll of paper"],u:"1f9fb",a:"11.0"},{n:["bucket"],u:"1faa3",a:"13.0"},{n:["soap","bar of soap"],u:"1f9fc",a:"11.0"},{n:["bubbles"],u:"1fae7",a:"14.0"},{n:["toothbrush"],u:"1faa5",a:"13.0"},{n:["sponge"],u:"1f9fd",a:"11.0"},{n:["fire extinguisher"],u:"1f9ef",a:"11.0"},{n:["shopping trolley"],u:"1f6d2",a:"3.0"},{n:["smoking","smoking symbol"],u:"1f6ac",a:"0.6"},{n:["coffin"],u:"26b0-fe0f",a:"1.0"},{n:["headstone"],u:"1faa6",a:"13.0"},{n:["funeral urn"],u:"26b1-fe0f",a:"1.0"},{n:["nazar amulet"],u:"1f9ff",a:"11.0"},{n:["hamsa"],u:"1faac",a:"14.0"},{n:["moyai"],u:"1f5ff",a:"0.6"},{n:["placard"],u:"1faa7",a:"13.0"},{n:["identification card"],u:"1faaa",a:"14.0"}],SLe=[{n:["atm","automated teller machine"],u:"1f3e7",a:"0.6"},{n:["put litter in its place","put litter in its place symbol"],u:"1f6ae",a:"1.0"},{n:["potable water","potable water symbol"],u:"1f6b0",a:"1.0"},{n:["wheelchair","wheelchair symbol"],u:"267f",a:"0.6"},{n:["mens","mens symbol"],u:"1f6b9",a:"0.6"},{n:["womens","womens symbol"],u:"1f6ba",a:"0.6"},{n:["restroom"],u:"1f6bb",a:"0.6"},{n:["baby symbol"],u:"1f6bc",a:"0.6"},{n:["wc","water closet"],u:"1f6be",a:"0.6"},{n:["passport control"],u:"1f6c2",a:"1.0"},{n:["customs"],u:"1f6c3",a:"1.0"},{n:["baggage claim"],u:"1f6c4",a:"1.0"},{n:["left luggage"],u:"1f6c5",a:"1.0"},{n:["warning","warning sign"],u:"26a0-fe0f",a:"0.6"},{n:["children crossing"],u:"1f6b8",a:"1.0"},{n:["no entry"],u:"26d4",a:"0.6"},{n:["no entry sign"],u:"1f6ab",a:"0.6"},{n:["no bicycles"],u:"1f6b3",a:"1.0"},{n:["no smoking","no smoking symbol"],u:"1f6ad",a:"0.6"},{n:["do not litter","do not litter symbol"],u:"1f6af",a:"1.0"},{n:["non-potable water","non-potable water symbol"],u:"1f6b1",a:"1.0"},{n:["no pedestrians"],u:"1f6b7",a:"1.0"},{n:["no mobile phones"],u:"1f4f5",a:"1.0"},{n:["underage","no one under eighteen symbol"],u:"1f51e",a:"0.6"},{n:["radioactive","radioactive sign"],u:"2622-fe0f",a:"1.0"},{n:["biohazard","biohazard sign"],u:"2623-fe0f",a:"1.0"},{n:["arrow up","upwards black arrow"],u:"2b06-fe0f",a:"0.6"},{n:["north east arrow","arrow upper right"],u:"2197-fe0f",a:"0.6"},{n:["arrow right","black rightwards arrow"],u:"27a1-fe0f",a:"0.6"},{n:["south east arrow","arrow lower right"],u:"2198-fe0f",a:"0.6"},{n:["arrow down","downwards black arrow"],u:"2b07-fe0f",a:"0.6"},{n:["south west arrow","arrow lower left"],u:"2199-fe0f",a:"0.6"},{n:["arrow left","leftwards black arrow"],u:"2b05-fe0f",a:"0.6"},{n:["north west arrow","arrow upper left"],u:"2196-fe0f",a:"0.6"},{n:["up down arrow","arrow up down"],u:"2195-fe0f",a:"0.6"},{n:["left right arrow"],u:"2194-fe0f",a:"0.6"},{n:["leftwards arrow with hook"],u:"21a9-fe0f",a:"0.6"},{n:["arrow right hook","rightwards arrow with hook"],u:"21aa-fe0f",a:"0.6"},{n:["arrow heading up","arrow pointing rightwards then curving upwards"],u:"2934-fe0f",a:"0.6"},{n:["arrow heading down","arrow pointing rightwards then curving downwards"],u:"2935-fe0f",a:"0.6"},{n:["arrows clockwise","clockwise downwards and upwards open circle arrows"],u:"1f503",a:"0.6"},{n:["arrows counterclockwise","anticlockwise downwards and upwards open circle arrows"],u:"1f504",a:"1.0"},{n:["back","back with leftwards arrow above"],u:"1f519",a:"0.6"},{n:["end","end with leftwards arrow above"],u:"1f51a",a:"0.6"},{n:["on","on with exclamation mark with left right arrow above"],u:"1f51b",a:"0.6"},{n:["soon","soon with rightwards arrow above"],u:"1f51c",a:"0.6"},{n:["top","top with upwards arrow above"],u:"1f51d",a:"0.6"},{n:["place of worship"],u:"1f6d0",a:"1.0"},{n:["atom symbol"],u:"269b-fe0f",a:"1.0"},{n:["om","om symbol"],u:"1f549-fe0f",a:"0.7"},{n:["star of david"],u:"2721-fe0f",a:"0.7"},{n:["wheel of dharma"],u:"2638-fe0f",a:"0.7"},{n:["yin yang"],u:"262f-fe0f",a:"0.7"},{n:["latin cross"],u:"271d-fe0f",a:"0.7"},{n:["orthodox cross"],u:"2626-fe0f",a:"1.0"},{n:["star and crescent"],u:"262a-fe0f",a:"0.7"},{n:["peace symbol"],u:"262e-fe0f",a:"1.0"},{n:["menorah with nine branches"],u:"1f54e",a:"1.0"},{n:["six pointed star","six pointed star with middle dot"],u:"1f52f",a:"0.6"},{n:["khanda"],u:"1faaf",a:"15.0"},{n:["aries"],u:"2648",a:"0.6"},{n:["taurus"],u:"2649",a:"0.6"},{n:["gemini"],u:"264a",a:"0.6"},{n:["cancer"],u:"264b",a:"0.6"},{n:["leo"],u:"264c",a:"0.6"},{n:["virgo"],u:"264d",a:"0.6"},{n:["libra"],u:"264e",a:"0.6"},{n:["scorpius"],u:"264f",a:"0.6"},{n:["sagittarius"],u:"2650",a:"0.6"},{n:["capricorn"],u:"2651",a:"0.6"},{n:["aquarius"],u:"2652",a:"0.6"},{n:["pisces"],u:"2653",a:"0.6"},{n:["ophiuchus"],u:"26ce",a:"0.6"},{n:["twisted rightwards arrows"],u:"1f500",a:"1.0"},{n:["repeat","clockwise rightwards and leftwards open circle arrows"],u:"1f501",a:"1.0"},{n:["repeat one","clockwise rightwards and leftwards open circle arrows with circled one overlay"],u:"1f502",a:"1.0"},{n:["arrow forward","black right-pointing triangle"],u:"25b6-fe0f",a:"0.6"},{n:["fast forward","black right-pointing double triangle"],u:"23e9",a:"0.6"},{n:["next track button","black right pointing double triangle with vertical bar"],u:"23ed-fe0f",a:"0.7"},{n:["play or pause button","black right pointing triangle with double vertical bar"],u:"23ef-fe0f",a:"1.0"},{n:["arrow backward","black left-pointing triangle"],u:"25c0-fe0f",a:"0.6"},{n:["rewind","black left-pointing double triangle"],u:"23ea",a:"0.6"},{n:["last track button","black left pointing double triangle with vertical bar"],u:"23ee-fe0f",a:"0.7"},{n:["arrow up small","up-pointing small red triangle"],u:"1f53c",a:"0.6"},{n:["arrow double up","black up-pointing double triangle"],u:"23eb",a:"0.6"},{n:["arrow down small","down-pointing small red triangle"],u:"1f53d",a:"0.6"},{n:["arrow double down","black down-pointing double triangle"],u:"23ec",a:"0.6"},{n:["pause button","double vertical bar"],u:"23f8-fe0f",a:"0.7"},{n:["stop button","black square for stop"],u:"23f9-fe0f",a:"0.7"},{n:["record button","black circle for record"],u:"23fa-fe0f",a:"0.7"},{n:["eject","eject button"],u:"23cf-fe0f",a:"1.0"},{n:["cinema"],u:"1f3a6",a:"0.6"},{n:["low brightness","low brightness symbol"],u:"1f505",a:"1.0"},{n:["high brightness","high brightness symbol"],u:"1f506",a:"1.0"},{n:["signal strength","antenna with bars"],u:"1f4f6",a:"0.6"},{n:["wireless"],u:"1f6dc",a:"15.0"},{n:["vibration mode"],u:"1f4f3",a:"0.6"},{n:["mobile phone off"],u:"1f4f4",a:"0.6"},{n:["female sign"],u:"2640-fe0f",a:"4.0"},{n:["male sign"],u:"2642-fe0f",a:"4.0"},{n:["transgender symbol"],u:"26a7-fe0f",a:"13.0"},{n:["heavy multiplication x"],u:"2716-fe0f",a:"0.6"},{n:["heavy plus sign"],u:"2795",a:"0.6"},{n:["heavy minus sign"],u:"2796",a:"0.6"},{n:["heavy division sign"],u:"2797",a:"0.6"},{n:["heavy equals sign"],u:"1f7f0",a:"14.0"},{n:["infinity"],u:"267e-fe0f",a:"11.0"},{n:["bangbang","double exclamation mark"],u:"203c-fe0f",a:"0.6"},{n:["interrobang","exclamation question mark"],u:"2049-fe0f",a:"0.6"},{n:["question","black question mark ornament"],u:"2753",a:"0.6"},{n:["grey question","white question mark ornament"],u:"2754",a:"0.6"},{n:["grey exclamation","white exclamation mark ornament"],u:"2755",a:"0.6"},{n:["exclamation","heavy exclamation mark","heavy exclamation mark symbol"],u:"2757",a:"0.6"},{n:["wavy dash"],u:"3030-fe0f",a:"0.6"},{n:["currency exchange"],u:"1f4b1",a:"0.6"},{n:["heavy dollar sign"],u:"1f4b2",a:"0.6"},{n:["medical symbol","staff of aesculapius"],u:"2695-fe0f",a:"4.0"},{n:["recycle","black universal recycling symbol"],u:"267b-fe0f",a:"0.6"},{n:["fleur-de-lis","fleur de lis"],u:"269c-fe0f",a:"1.0"},{n:["trident","trident emblem"],u:"1f531",a:"0.6"},{n:["name badge"],u:"1f4db",a:"0.6"},{n:["beginner","japanese symbol for beginner"],u:"1f530",a:"0.6"},{n:["o","heavy large circle"],u:"2b55",a:"0.6"},{n:["white check mark","white heavy check mark"],u:"2705",a:"0.6"},{n:["ballot box with check"],u:"2611-fe0f",a:"0.6"},{n:["heavy check mark"],u:"2714-fe0f",a:"0.6"},{n:["x","cross mark"],u:"274c",a:"0.6"},{n:["negative squared cross mark"],u:"274e",a:"0.6"},{n:["curly loop"],u:"27b0",a:"0.6"},{n:["loop","double curly loop"],u:"27bf",a:"1.0"},{n:["part alternation mark"],u:"303d-fe0f",a:"0.6"},{n:["eight spoked asterisk"],u:"2733-fe0f",a:"0.6"},{n:["eight pointed black star"],u:"2734-fe0f",a:"0.6"},{n:["sparkle"],u:"2747-fe0f",a:"0.6"},{n:["copyright","copyright sign"],u:"00a9-fe0f",a:"0.6"},{n:["registered","registered sign"],u:"00ae-fe0f",a:"0.6"},{n:["tm","trade mark sign"],u:"2122-fe0f",a:"0.6"},{n:["hash","hash key"],u:"0023-fe0f-20e3",a:"0.6"},{n:["keycap: *","keycap star"],u:"002a-fe0f-20e3",a:"2.0"},{n:["zero","keycap 0"],u:"0030-fe0f-20e3",a:"0.6"},{n:["one","keycap 1"],u:"0031-fe0f-20e3",a:"0.6"},{n:["two","keycap 2"],u:"0032-fe0f-20e3",a:"0.6"},{n:["three","keycap 3"],u:"0033-fe0f-20e3",a:"0.6"},{n:["four","keycap 4"],u:"0034-fe0f-20e3",a:"0.6"},{n:["five","keycap 5"],u:"0035-fe0f-20e3",a:"0.6"},{n:["six","keycap 6"],u:"0036-fe0f-20e3",a:"0.6"},{n:["seven","keycap 7"],u:"0037-fe0f-20e3",a:"0.6"},{n:["eight","keycap 8"],u:"0038-fe0f-20e3",a:"0.6"},{n:["nine","keycap 9"],u:"0039-fe0f-20e3",a:"0.6"},{n:["keycap ten"],u:"1f51f",a:"0.6"},{n:["capital abcd","input symbol for latin capital letters"],u:"1f520",a:"0.6"},{n:["abcd","input symbol for latin small letters"],u:"1f521",a:"0.6"},{n:["1234","input symbol for numbers"],u:"1f522",a:"0.6"},{n:["symbols","input symbol for symbols"],u:"1f523",a:"0.6"},{n:["abc","input symbol for latin letters"],u:"1f524",a:"0.6"},{n:["a","negative squared latin capital letter a"],u:"1f170-fe0f",a:"0.6"},{n:["ab","negative squared ab"],u:"1f18e",a:"0.6"},{n:["b","negative squared latin capital letter b"],u:"1f171-fe0f",a:"0.6"},{n:["cl","squared cl"],u:"1f191",a:"0.6"},{n:["cool","squared cool"],u:"1f192",a:"0.6"},{n:["free","squared free"],u:"1f193",a:"0.6"},{n:["information source"],u:"2139-fe0f",a:"0.6"},{n:["id","squared id"],u:"1f194",a:"0.6"},{n:["m","circled latin capital letter m"],u:"24c2-fe0f",a:"0.6"},{n:["new","squared new"],u:"1f195",a:"0.6"},{n:["ng","squared ng"],u:"1f196",a:"0.6"},{n:["o2","negative squared latin capital letter o"],u:"1f17e-fe0f",a:"0.6"},{n:["ok","squared ok"],u:"1f197",a:"0.6"},{n:["parking","negative squared latin capital letter p"],u:"1f17f-fe0f",a:"0.6"},{n:["sos","squared sos"],u:"1f198",a:"0.6"},{n:["up","squared up with exclamation mark"],u:"1f199",a:"0.6"},{n:["vs","squared vs"],u:"1f19a",a:"0.6"},{n:["koko","squared katakana koko"],u:"1f201",a:"0.6"},{n:["sa","squared katakana sa"],u:"1f202-fe0f",a:"0.6"},{n:["u6708","squared cjk unified ideograph-6708"],u:"1f237-fe0f",a:"0.6"},{n:["u6709","squared cjk unified ideograph-6709"],u:"1f236",a:"0.6"},{n:["u6307","squared cjk unified ideograph-6307"],u:"1f22f",a:"0.6"},{n:["ideograph advantage","circled ideograph advantage"],u:"1f250",a:"0.6"},{n:["u5272","squared cjk unified ideograph-5272"],u:"1f239",a:"0.6"},{n:["u7121","squared cjk unified ideograph-7121"],u:"1f21a",a:"0.6"},{n:["u7981","squared cjk unified ideograph-7981"],u:"1f232",a:"0.6"},{n:["accept","circled ideograph accept"],u:"1f251",a:"0.6"},{n:["u7533","squared cjk unified ideograph-7533"],u:"1f238",a:"0.6"},{n:["u5408","squared cjk unified ideograph-5408"],u:"1f234",a:"0.6"},{n:["u7a7a","squared cjk unified ideograph-7a7a"],u:"1f233",a:"0.6"},{n:["congratulations","circled ideograph congratulation"],u:"3297-fe0f",a:"0.6"},{n:["secret","circled ideograph secret"],u:"3299-fe0f",a:"0.6"},{n:["u55b6","squared cjk unified ideograph-55b6"],u:"1f23a",a:"0.6"},{n:["u6e80","squared cjk unified ideograph-6e80"],u:"1f235",a:"0.6"},{n:["red circle","large red circle"],u:"1f534",a:"0.6"},{n:["large orange circle"],u:"1f7e0",a:"12.0"},{n:["large yellow circle"],u:"1f7e1",a:"12.0"},{n:["large green circle"],u:"1f7e2",a:"12.0"},{n:["large blue circle"],u:"1f535",a:"0.6"},{n:["large purple circle"],u:"1f7e3",a:"12.0"},{n:["large brown circle"],u:"1f7e4",a:"12.0"},{n:["black circle","medium black circle"],u:"26ab",a:"0.6"},{n:["white circle","medium white circle"],u:"26aa",a:"0.6"},{n:["large red square"],u:"1f7e5",a:"12.0"},{n:["large orange square"],u:"1f7e7",a:"12.0"},{n:["large yellow square"],u:"1f7e8",a:"12.0"},{n:["large green square"],u:"1f7e9",a:"12.0"},{n:["large blue square"],u:"1f7e6",a:"12.0"},{n:["large purple square"],u:"1f7ea",a:"12.0"},{n:["large brown square"],u:"1f7eb",a:"12.0"},{n:["black large square"],u:"2b1b",a:"0.6"},{n:["white large square"],u:"2b1c",a:"0.6"},{n:["black medium square"],u:"25fc-fe0f",a:"0.6"},{n:["white medium square"],u:"25fb-fe0f",a:"0.6"},{n:["black medium small square"],u:"25fe",a:"0.6"},{n:["white medium small square"],u:"25fd",a:"0.6"},{n:["black small square"],u:"25aa-fe0f",a:"0.6"},{n:["white small square"],u:"25ab-fe0f",a:"0.6"},{n:["large orange diamond"],u:"1f536",a:"0.6"},{n:["large blue diamond"],u:"1f537",a:"0.6"},{n:["small orange diamond"],u:"1f538",a:"0.6"},{n:["small blue diamond"],u:"1f539",a:"0.6"},{n:["small red triangle","up-pointing red triangle"],u:"1f53a",a:"0.6"},{n:["small red triangle down","down-pointing red triangle"],u:"1f53b",a:"0.6"},{n:["diamond shape with a dot inside"],u:"1f4a0",a:"0.6"},{n:["radio button"],u:"1f518",a:"0.6"},{n:["white square button"],u:"1f533",a:"0.6"},{n:["black square button"],u:"1f532",a:"0.6"}],CLe=[{n:["chequered flag","checkered flag"],u:"1f3c1",a:"0.6"},{n:["triangular flag on post"],u:"1f6a9",a:"0.6"},{n:["crossed flags"],u:"1f38c",a:"0.6"},{n:["waving black flag"],u:"1f3f4",a:"1.0"},{n:["white flag","waving white flag"],u:"1f3f3-fe0f",a:"0.7"},{n:["rainbow flag","rainbow-flag"],u:"1f3f3-fe0f-200d-1f308",a:"4.0"},{n:["transgender flag"],u:"1f3f3-fe0f-200d-26a7-fe0f",a:"13.0"},{n:["pirate flag"],u:"1f3f4-200d-2620-fe0f",a:"11.0"},{n:["flag-ac","ascension island flag"],u:"1f1e6-1f1e8",a:"2.0"},{n:["flag-ad","andorra flag"],u:"1f1e6-1f1e9",a:"2.0"},{n:["flag-ae","united arab emirates flag"],u:"1f1e6-1f1ea",a:"2.0"},{n:["flag-af","afghanistan flag"],u:"1f1e6-1f1eb",a:"2.0"},{n:["flag-ag","antigua & barbuda flag"],u:"1f1e6-1f1ec",a:"2.0"},{n:["flag-ai","anguilla flag"],u:"1f1e6-1f1ee",a:"2.0"},{n:["flag-al","albania flag"],u:"1f1e6-1f1f1",a:"2.0"},{n:["flag-am","armenia flag"],u:"1f1e6-1f1f2",a:"2.0"},{n:["flag-ao","angola flag"],u:"1f1e6-1f1f4",a:"2.0"},{n:["flag-aq","antarctica flag"],u:"1f1e6-1f1f6",a:"2.0"},{n:["flag-ar","argentina flag"],u:"1f1e6-1f1f7",a:"2.0"},{n:["flag-as","american samoa flag"],u:"1f1e6-1f1f8",a:"2.0"},{n:["flag-at","austria flag"],u:"1f1e6-1f1f9",a:"2.0"},{n:["flag-au","australia flag"],u:"1f1e6-1f1fa",a:"2.0"},{n:["flag-aw","aruba flag"],u:"1f1e6-1f1fc",a:"2.0"},{n:["flag-ax","åland islands flag"],u:"1f1e6-1f1fd",a:"2.0"},{n:["flag-az","azerbaijan flag"],u:"1f1e6-1f1ff",a:"2.0"},{n:["flag-ba","bosnia & herzegovina flag"],u:"1f1e7-1f1e6",a:"2.0"},{n:["flag-bb","barbados flag"],u:"1f1e7-1f1e7",a:"2.0"},{n:["flag-bd","bangladesh flag"],u:"1f1e7-1f1e9",a:"2.0"},{n:["flag-be","belgium flag"],u:"1f1e7-1f1ea",a:"2.0"},{n:["flag-bf","burkina faso flag"],u:"1f1e7-1f1eb",a:"2.0"},{n:["flag-bg","bulgaria flag"],u:"1f1e7-1f1ec",a:"2.0"},{n:["flag-bh","bahrain flag"],u:"1f1e7-1f1ed",a:"2.0"},{n:["flag-bi","burundi flag"],u:"1f1e7-1f1ee",a:"2.0"},{n:["flag-bj","benin flag"],u:"1f1e7-1f1ef",a:"2.0"},{n:["flag-bl","st. barthélemy flag"],u:"1f1e7-1f1f1",a:"2.0"},{n:["flag-bm","bermuda flag"],u:"1f1e7-1f1f2",a:"2.0"},{n:["flag-bn","brunei flag"],u:"1f1e7-1f1f3",a:"2.0"},{n:["flag-bo","bolivia flag"],u:"1f1e7-1f1f4",a:"2.0"},{n:["flag-bq","caribbean netherlands flag"],u:"1f1e7-1f1f6",a:"2.0"},{n:["flag-br","brazil flag"],u:"1f1e7-1f1f7",a:"2.0"},{n:["flag-bs","bahamas flag"],u:"1f1e7-1f1f8",a:"2.0"},{n:["flag-bt","bhutan flag"],u:"1f1e7-1f1f9",a:"2.0"},{n:["flag-bv","bouvet island flag"],u:"1f1e7-1f1fb",a:"2.0"},{n:["flag-bw","botswana flag"],u:"1f1e7-1f1fc",a:"2.0"},{n:["flag-by","belarus flag"],u:"1f1e7-1f1fe",a:"2.0"},{n:["flag-bz","belize flag"],u:"1f1e7-1f1ff",a:"2.0"},{n:["flag-ca","canada flag"],u:"1f1e8-1f1e6",a:"2.0"},{n:["flag-cc","cocos (keeling) islands flag"],u:"1f1e8-1f1e8",a:"2.0"},{n:["flag-cd","congo - kinshasa flag"],u:"1f1e8-1f1e9",a:"2.0"},{n:["flag-cf","central african republic flag"],u:"1f1e8-1f1eb",a:"2.0"},{n:["flag-cg","congo - brazzaville flag"],u:"1f1e8-1f1ec",a:"2.0"},{n:["flag-ch","switzerland flag"],u:"1f1e8-1f1ed",a:"2.0"},{n:["flag-ci","côte d’ivoire flag"],u:"1f1e8-1f1ee",a:"2.0"},{n:["flag-ck","cook islands flag"],u:"1f1e8-1f1f0",a:"2.0"},{n:["flag-cl","chile flag"],u:"1f1e8-1f1f1",a:"2.0"},{n:["flag-cm","cameroon flag"],u:"1f1e8-1f1f2",a:"2.0"},{n:["cn","flag-cn","china flag"],u:"1f1e8-1f1f3",a:"0.6"},{n:["flag-co","colombia flag"],u:"1f1e8-1f1f4",a:"2.0"},{n:["flag-cp","clipperton island flag"],u:"1f1e8-1f1f5",a:"2.0"},{n:["flag-cr","costa rica flag"],u:"1f1e8-1f1f7",a:"2.0"},{n:["flag-cu","cuba flag"],u:"1f1e8-1f1fa",a:"2.0"},{n:["flag-cv","cape verde flag"],u:"1f1e8-1f1fb",a:"2.0"},{n:["flag-cw","curaçao flag"],u:"1f1e8-1f1fc",a:"2.0"},{n:["flag-cx","christmas island flag"],u:"1f1e8-1f1fd",a:"2.0"},{n:["flag-cy","cyprus flag"],u:"1f1e8-1f1fe",a:"2.0"},{n:["flag-cz","czechia flag"],u:"1f1e8-1f1ff",a:"2.0"},{n:["de","flag-de","germany flag"],u:"1f1e9-1f1ea",a:"0.6"},{n:["flag-dg","diego garcia flag"],u:"1f1e9-1f1ec",a:"2.0"},{n:["flag-dj","djibouti flag"],u:"1f1e9-1f1ef",a:"2.0"},{n:["flag-dk","denmark flag"],u:"1f1e9-1f1f0",a:"2.0"},{n:["flag-dm","dominica flag"],u:"1f1e9-1f1f2",a:"2.0"},{n:["flag-do","dominican republic flag"],u:"1f1e9-1f1f4",a:"2.0"},{n:["flag-dz","algeria flag"],u:"1f1e9-1f1ff",a:"2.0"},{n:["flag-ea","ceuta & melilla flag"],u:"1f1ea-1f1e6",a:"2.0"},{n:["flag-ec","ecuador flag"],u:"1f1ea-1f1e8",a:"2.0"},{n:["flag-ee","estonia flag"],u:"1f1ea-1f1ea",a:"2.0"},{n:["flag-eg","egypt flag"],u:"1f1ea-1f1ec",a:"2.0"},{n:["flag-eh","western sahara flag"],u:"1f1ea-1f1ed",a:"2.0"},{n:["flag-er","eritrea flag"],u:"1f1ea-1f1f7",a:"2.0"},{n:["es","flag-es","spain flag"],u:"1f1ea-1f1f8",a:"0.6"},{n:["flag-et","ethiopia flag"],u:"1f1ea-1f1f9",a:"2.0"},{n:["flag-eu","european union flag"],u:"1f1ea-1f1fa",a:"2.0"},{n:["flag-fi","finland flag"],u:"1f1eb-1f1ee",a:"2.0"},{n:["flag-fj","fiji flag"],u:"1f1eb-1f1ef",a:"2.0"},{n:["flag-fk","falkland islands flag"],u:"1f1eb-1f1f0",a:"2.0"},{n:["flag-fm","micronesia flag"],u:"1f1eb-1f1f2",a:"2.0"},{n:["flag-fo","faroe islands flag"],u:"1f1eb-1f1f4",a:"2.0"},{n:["fr","flag-fr","france flag"],u:"1f1eb-1f1f7",a:"0.6"},{n:["flag-ga","gabon flag"],u:"1f1ec-1f1e6",a:"2.0"},{n:["gb","uk","flag-gb","united kingdom flag"],u:"1f1ec-1f1e7",a:"0.6"},{n:["flag-gd","grenada flag"],u:"1f1ec-1f1e9",a:"2.0"},{n:["flag-ge","georgia flag"],u:"1f1ec-1f1ea",a:"2.0"},{n:["flag-gf","french guiana flag"],u:"1f1ec-1f1eb",a:"2.0"},{n:["flag-gg","guernsey flag"],u:"1f1ec-1f1ec",a:"2.0"},{n:["flag-gh","ghana flag"],u:"1f1ec-1f1ed",a:"2.0"},{n:["flag-gi","gibraltar flag"],u:"1f1ec-1f1ee",a:"2.0"},{n:["flag-gl","greenland flag"],u:"1f1ec-1f1f1",a:"2.0"},{n:["flag-gm","gambia flag"],u:"1f1ec-1f1f2",a:"2.0"},{n:["flag-gn","guinea flag"],u:"1f1ec-1f1f3",a:"2.0"},{n:["flag-gp","guadeloupe flag"],u:"1f1ec-1f1f5",a:"2.0"},{n:["flag-gq","equatorial guinea flag"],u:"1f1ec-1f1f6",a:"2.0"},{n:["flag-gr","greece flag"],u:"1f1ec-1f1f7",a:"2.0"},{n:["flag-gs","south georgia & south sandwich islands flag"],u:"1f1ec-1f1f8",a:"2.0"},{n:["flag-gt","guatemala flag"],u:"1f1ec-1f1f9",a:"2.0"},{n:["flag-gu","guam flag"],u:"1f1ec-1f1fa",a:"2.0"},{n:["flag-gw","guinea-bissau flag"],u:"1f1ec-1f1fc",a:"2.0"},{n:["flag-gy","guyana flag"],u:"1f1ec-1f1fe",a:"2.0"},{n:["flag-hk","hong kong sar china flag"],u:"1f1ed-1f1f0",a:"2.0"},{n:["flag-hm","heard & mcdonald islands flag"],u:"1f1ed-1f1f2",a:"2.0"},{n:["flag-hn","honduras flag"],u:"1f1ed-1f1f3",a:"2.0"},{n:["flag-hr","croatia flag"],u:"1f1ed-1f1f7",a:"2.0"},{n:["flag-ht","haiti flag"],u:"1f1ed-1f1f9",a:"2.0"},{n:["flag-hu","hungary flag"],u:"1f1ed-1f1fa",a:"2.0"},{n:["flag-ic","canary islands flag"],u:"1f1ee-1f1e8",a:"2.0"},{n:["flag-id","indonesia flag"],u:"1f1ee-1f1e9",a:"2.0"},{n:["flag-ie","ireland flag"],u:"1f1ee-1f1ea",a:"2.0"},{n:["flag-il","israel flag"],u:"1f1ee-1f1f1",a:"2.0"},{n:["flag-im","isle of man flag"],u:"1f1ee-1f1f2",a:"2.0"},{n:["flag-in","india flag"],u:"1f1ee-1f1f3",a:"2.0"},{n:["flag-io","british indian ocean territory flag"],u:"1f1ee-1f1f4",a:"2.0"},{n:["flag-iq","iraq flag"],u:"1f1ee-1f1f6",a:"2.0"},{n:["flag-ir","iran flag"],u:"1f1ee-1f1f7",a:"2.0"},{n:["flag-is","iceland flag"],u:"1f1ee-1f1f8",a:"2.0"},{n:["it","flag-it","italy flag"],u:"1f1ee-1f1f9",a:"0.6"},{n:["flag-je","jersey flag"],u:"1f1ef-1f1ea",a:"2.0"},{n:["flag-jm","jamaica flag"],u:"1f1ef-1f1f2",a:"2.0"},{n:["flag-jo","jordan flag"],u:"1f1ef-1f1f4",a:"2.0"},{n:["jp","flag-jp","japan flag"],u:"1f1ef-1f1f5",a:"0.6"},{n:["flag-ke","kenya flag"],u:"1f1f0-1f1ea",a:"2.0"},{n:["flag-kg","kyrgyzstan flag"],u:"1f1f0-1f1ec",a:"2.0"},{n:["flag-kh","cambodia flag"],u:"1f1f0-1f1ed",a:"2.0"},{n:["flag-ki","kiribati flag"],u:"1f1f0-1f1ee",a:"2.0"},{n:["flag-km","comoros flag"],u:"1f1f0-1f1f2",a:"2.0"},{n:["flag-kn","st. kitts & nevis flag"],u:"1f1f0-1f1f3",a:"2.0"},{n:["flag-kp","north korea flag"],u:"1f1f0-1f1f5",a:"2.0"},{n:["kr","flag-kr","south korea flag"],u:"1f1f0-1f1f7",a:"0.6"},{n:["flag-kw","kuwait flag"],u:"1f1f0-1f1fc",a:"2.0"},{n:["flag-ky","cayman islands flag"],u:"1f1f0-1f1fe",a:"2.0"},{n:["flag-kz","kazakhstan flag"],u:"1f1f0-1f1ff",a:"2.0"},{n:["flag-la","laos flag"],u:"1f1f1-1f1e6",a:"2.0"},{n:["flag-lb","lebanon flag"],u:"1f1f1-1f1e7",a:"2.0"},{n:["flag-lc","st. lucia flag"],u:"1f1f1-1f1e8",a:"2.0"},{n:["flag-li","liechtenstein flag"],u:"1f1f1-1f1ee",a:"2.0"},{n:["flag-lk","sri lanka flag"],u:"1f1f1-1f1f0",a:"2.0"},{n:["flag-lr","liberia flag"],u:"1f1f1-1f1f7",a:"2.0"},{n:["flag-ls","lesotho flag"],u:"1f1f1-1f1f8",a:"2.0"},{n:["flag-lt","lithuania flag"],u:"1f1f1-1f1f9",a:"2.0"},{n:["flag-lu","luxembourg flag"],u:"1f1f1-1f1fa",a:"2.0"},{n:["flag-lv","latvia flag"],u:"1f1f1-1f1fb",a:"2.0"},{n:["flag-ly","libya flag"],u:"1f1f1-1f1fe",a:"2.0"},{n:["flag-ma","morocco flag"],u:"1f1f2-1f1e6",a:"2.0"},{n:["flag-mc","monaco flag"],u:"1f1f2-1f1e8",a:"2.0"},{n:["flag-md","moldova flag"],u:"1f1f2-1f1e9",a:"2.0"},{n:["flag-me","montenegro flag"],u:"1f1f2-1f1ea",a:"2.0"},{n:["flag-mf","st. martin flag"],u:"1f1f2-1f1eb",a:"2.0"},{n:["flag-mg","madagascar flag"],u:"1f1f2-1f1ec",a:"2.0"},{n:["flag-mh","marshall islands flag"],u:"1f1f2-1f1ed",a:"2.0"},{n:["flag-mk","north macedonia flag"],u:"1f1f2-1f1f0",a:"2.0"},{n:["flag-ml","mali flag"],u:"1f1f2-1f1f1",a:"2.0"},{n:["flag-mm","myanmar (burma) flag"],u:"1f1f2-1f1f2",a:"2.0"},{n:["flag-mn","mongolia flag"],u:"1f1f2-1f1f3",a:"2.0"},{n:["flag-mo","macao sar china flag"],u:"1f1f2-1f1f4",a:"2.0"},{n:["flag-mp","northern mariana islands flag"],u:"1f1f2-1f1f5",a:"2.0"},{n:["flag-mq","martinique flag"],u:"1f1f2-1f1f6",a:"2.0"},{n:["flag-mr","mauritania flag"],u:"1f1f2-1f1f7",a:"2.0"},{n:["flag-ms","montserrat flag"],u:"1f1f2-1f1f8",a:"2.0"},{n:["flag-mt","malta flag"],u:"1f1f2-1f1f9",a:"2.0"},{n:["flag-mu","mauritius flag"],u:"1f1f2-1f1fa",a:"2.0"},{n:["flag-mv","maldives flag"],u:"1f1f2-1f1fb",a:"2.0"},{n:["flag-mw","malawi flag"],u:"1f1f2-1f1fc",a:"2.0"},{n:["flag-mx","mexico flag"],u:"1f1f2-1f1fd",a:"2.0"},{n:["flag-my","malaysia flag"],u:"1f1f2-1f1fe",a:"2.0"},{n:["flag-mz","mozambique flag"],u:"1f1f2-1f1ff",a:"2.0"},{n:["flag-na","namibia flag"],u:"1f1f3-1f1e6",a:"2.0"},{n:["flag-nc","new caledonia flag"],u:"1f1f3-1f1e8",a:"2.0"},{n:["flag-ne","niger flag"],u:"1f1f3-1f1ea",a:"2.0"},{n:["flag-nf","norfolk island flag"],u:"1f1f3-1f1eb",a:"2.0"},{n:["flag-ng","nigeria flag"],u:"1f1f3-1f1ec",a:"2.0"},{n:["flag-ni","nicaragua flag"],u:"1f1f3-1f1ee",a:"2.0"},{n:["flag-nl","netherlands flag"],u:"1f1f3-1f1f1",a:"2.0"},{n:["flag-no","norway flag"],u:"1f1f3-1f1f4",a:"2.0"},{n:["flag-np","nepal flag"],u:"1f1f3-1f1f5",a:"2.0"},{n:["flag-nr","nauru flag"],u:"1f1f3-1f1f7",a:"2.0"},{n:["flag-nu","niue flag"],u:"1f1f3-1f1fa",a:"2.0"},{n:["flag-nz","new zealand flag"],u:"1f1f3-1f1ff",a:"2.0"},{n:["flag-om","oman flag"],u:"1f1f4-1f1f2",a:"2.0"},{n:["flag-pa","panama flag"],u:"1f1f5-1f1e6",a:"2.0"},{n:["flag-pe","peru flag"],u:"1f1f5-1f1ea",a:"2.0"},{n:["flag-pf","french polynesia flag"],u:"1f1f5-1f1eb",a:"2.0"},{n:["flag-pg","papua new guinea flag"],u:"1f1f5-1f1ec",a:"2.0"},{n:["flag-ph","philippines flag"],u:"1f1f5-1f1ed",a:"2.0"},{n:["flag-pk","pakistan flag"],u:"1f1f5-1f1f0",a:"2.0"},{n:["flag-pl","poland flag"],u:"1f1f5-1f1f1",a:"2.0"},{n:["flag-pm","st. pierre & miquelon flag"],u:"1f1f5-1f1f2",a:"2.0"},{n:["flag-pn","pitcairn islands flag"],u:"1f1f5-1f1f3",a:"2.0"},{n:["flag-pr","puerto rico flag"],u:"1f1f5-1f1f7",a:"2.0"},{n:["flag-ps","palestinian territories flag"],u:"1f1f5-1f1f8",a:"2.0"},{n:["flag-pt","portugal flag"],u:"1f1f5-1f1f9",a:"2.0"},{n:["flag-pw","palau flag"],u:"1f1f5-1f1fc",a:"2.0"},{n:["flag-py","paraguay flag"],u:"1f1f5-1f1fe",a:"2.0"},{n:["flag-qa","qatar flag"],u:"1f1f6-1f1e6",a:"2.0"},{n:["flag-re","réunion flag"],u:"1f1f7-1f1ea",a:"2.0"},{n:["flag-ro","romania flag"],u:"1f1f7-1f1f4",a:"2.0"},{n:["flag-rs","serbia flag"],u:"1f1f7-1f1f8",a:"2.0"},{n:["ru","flag-ru","russia flag"],u:"1f1f7-1f1fa",a:"0.6"},{n:["flag-rw","rwanda flag"],u:"1f1f7-1f1fc",a:"2.0"},{n:["flag-sa","saudi arabia flag"],u:"1f1f8-1f1e6",a:"2.0"},{n:["flag-sb","solomon islands flag"],u:"1f1f8-1f1e7",a:"2.0"},{n:["flag-sc","seychelles flag"],u:"1f1f8-1f1e8",a:"2.0"},{n:["flag-sd","sudan flag"],u:"1f1f8-1f1e9",a:"2.0"},{n:["flag-se","sweden flag"],u:"1f1f8-1f1ea",a:"2.0"},{n:["flag-sg","singapore flag"],u:"1f1f8-1f1ec",a:"2.0"},{n:["flag-sh","st. helena flag"],u:"1f1f8-1f1ed",a:"2.0"},{n:["flag-si","slovenia flag"],u:"1f1f8-1f1ee",a:"2.0"},{n:["flag-sj","svalbard & jan mayen flag"],u:"1f1f8-1f1ef",a:"2.0"},{n:["flag-sk","slovakia flag"],u:"1f1f8-1f1f0",a:"2.0"},{n:["flag-sl","sierra leone flag"],u:"1f1f8-1f1f1",a:"2.0"},{n:["flag-sm","san marino flag"],u:"1f1f8-1f1f2",a:"2.0"},{n:["flag-sn","senegal flag"],u:"1f1f8-1f1f3",a:"2.0"},{n:["flag-so","somalia flag"],u:"1f1f8-1f1f4",a:"2.0"},{n:["flag-sr","suriname flag"],u:"1f1f8-1f1f7",a:"2.0"},{n:["flag-ss","south sudan flag"],u:"1f1f8-1f1f8",a:"2.0"},{n:["flag-st","são tomé & príncipe flag"],u:"1f1f8-1f1f9",a:"2.0"},{n:["flag-sv","el salvador flag"],u:"1f1f8-1f1fb",a:"2.0"},{n:["flag-sx","sint maarten flag"],u:"1f1f8-1f1fd",a:"2.0"},{n:["flag-sy","syria flag"],u:"1f1f8-1f1fe",a:"2.0"},{n:["flag-sz","eswatini flag"],u:"1f1f8-1f1ff",a:"2.0"},{n:["flag-ta","tristan da cunha flag"],u:"1f1f9-1f1e6",a:"2.0"},{n:["flag-tc","turks & caicos islands flag"],u:"1f1f9-1f1e8",a:"2.0"},{n:["flag-td","chad flag"],u:"1f1f9-1f1e9",a:"2.0"},{n:["flag-tf","french southern territories flag"],u:"1f1f9-1f1eb",a:"2.0"},{n:["flag-tg","togo flag"],u:"1f1f9-1f1ec",a:"2.0"},{n:["flag-th","thailand flag"],u:"1f1f9-1f1ed",a:"2.0"},{n:["flag-tj","tajikistan flag"],u:"1f1f9-1f1ef",a:"2.0"},{n:["flag-tk","tokelau flag"],u:"1f1f9-1f1f0",a:"2.0"},{n:["flag-tl","timor-leste flag"],u:"1f1f9-1f1f1",a:"2.0"},{n:["flag-tm","turkmenistan flag"],u:"1f1f9-1f1f2",a:"2.0"},{n:["flag-tn","tunisia flag"],u:"1f1f9-1f1f3",a:"2.0"},{n:["flag-to","tonga flag"],u:"1f1f9-1f1f4",a:"2.0"},{n:["flag-tr","türkiye flag"],u:"1f1f9-1f1f7",a:"2.0"},{n:["flag-tt","trinidad & tobago flag"],u:"1f1f9-1f1f9",a:"2.0"},{n:["flag-tv","tuvalu flag"],u:"1f1f9-1f1fb",a:"2.0"},{n:["flag-tw","taiwan flag"],u:"1f1f9-1f1fc",a:"2.0"},{n:["flag-tz","tanzania flag"],u:"1f1f9-1f1ff",a:"2.0"},{n:["flag-ua","ukraine flag"],u:"1f1fa-1f1e6",a:"2.0"},{n:["flag-ug","uganda flag"],u:"1f1fa-1f1ec",a:"2.0"},{n:["flag-um","u.s. outlying islands flag"],u:"1f1fa-1f1f2",a:"2.0"},{n:["flag-un","united nations flag"],u:"1f1fa-1f1f3",a:"4.0"},{n:["us","flag-us","united states flag"],u:"1f1fa-1f1f8",a:"0.6"},{n:["flag-uy","uruguay flag"],u:"1f1fa-1f1fe",a:"2.0"},{n:["flag-uz","uzbekistan flag"],u:"1f1fa-1f1ff",a:"2.0"},{n:["flag-va","vatican city flag"],u:"1f1fb-1f1e6",a:"2.0"},{n:["flag-vc","st. vincent & grenadines flag"],u:"1f1fb-1f1e8",a:"2.0"},{n:["flag-ve","venezuela flag"],u:"1f1fb-1f1ea",a:"2.0"},{n:["flag-vg","british virgin islands flag"],u:"1f1fb-1f1ec",a:"2.0"},{n:["flag-vi","u.s. virgin islands flag"],u:"1f1fb-1f1ee",a:"2.0"},{n:["flag-vn","vietnam flag"],u:"1f1fb-1f1f3",a:"2.0"},{n:["flag-vu","vanuatu flag"],u:"1f1fb-1f1fa",a:"2.0"},{n:["flag-wf","wallis & futuna flag"],u:"1f1fc-1f1eb",a:"2.0"},{n:["flag-ws","samoa flag"],u:"1f1fc-1f1f8",a:"2.0"},{n:["flag-xk","kosovo flag"],u:"1f1fd-1f1f0",a:"2.0"},{n:["flag-ye","yemen flag"],u:"1f1fe-1f1ea",a:"2.0"},{n:["flag-yt","mayotte flag"],u:"1f1fe-1f1f9",a:"2.0"},{n:["flag-za","south africa flag"],u:"1f1ff-1f1e6",a:"2.0"},{n:["flag-zm","zambia flag"],u:"1f1ff-1f1f2",a:"2.0"},{n:["flag-zw","zimbabwe flag"],u:"1f1ff-1f1fc",a:"2.0"},{n:["england flag","flag-england"],u:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f",a:"5.0"},{n:["scotland flag","flag-scotland"],u:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f",a:"5.0"},{n:["wales flag","flag-wales"],u:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f",a:"5.0"}],Tp={custom:xLe,smileys_people:vLe,animals_nature:yLe,food_drink:bLe,travel_places:wLe,activities:jLe,objects:NLe,symbols:SLe,flags:CLe},Pb=[ko.NEUTRAL,ko.LIGHT,ko.MEDIUM_LIGHT,ko.MEDIUM,ko.MEDIUM_DARK,ko.DARK],kLe=Object.entries(ko).reduce(function(t,r){var s=r[0],a=r[1];return t[a]=s,t},{}),ELe=Pb.reduce(function(t,r){var s;return Object.assign(t,(s={},s[r]=r,s))},{}),Qi;(function(t){t.name="n",t.unified="u",t.variations="v",t.added_in="a",t.imgUrl="imgUrl"})(Qi||(Qi={}));var Dm={};setTimeout(function(){Tw.reduce(function(t,r){return Oq(r),t},Dm)});function Oq(t){var r=fx(t).flat().join("").toLowerCase().replace(/[^a-zA-Z\d]/g,"").split("");r.forEach(function(s){var a;Dm[s]=(a=Dm[s])!=null?a:{},Dm[s][Ia(t)]=t})}function fx(t){var r;return(r=t[Qi.name])!=null?r:[]}function LLe(t){return parseFloat(t[Qi.added_in])}function h6(t){return t?fx(t)[0]:""}function TL(t){var r=t.split("-"),s=r.splice(1,1),a=s[0];return ELe[a]?r.join("-"):t}function Ia(t,r){var s,a=t[Qi.unified];return!r||!Uh(t)?a:(s=ILe(t,r))!=null?s:a}function MLe(t){var r;return(r=Tp==null?void 0:Tp[t])!=null?r:[]}function $q(t,r){return""+pLe(r)+t+".png"}function hx(t){var r;return(r=t[Qi.variations])!=null?r:[]}function Uh(t){return hx(t).length>0}function ILe(t,r){return r?hx(t).find(function(s){return s.includes(r)}):Ia(t)}function lh(t){if(t){if(F0[t])return F0[t];var r=TL(t);return F0[r]}}var Tw=Object.values(Tp).flat();function TLe(t){Tp[br.CUSTOM].length=0,t.forEach(function(r){var s=ALe(r);Tp[br.CUSTOM].push(s),!F0[s[Qi.unified]]&&(Tw.push(s),F0[s[Qi.unified]]=s,Oq(s))})}function ALe(t){var r;return r={},r[Qi.name]=t.names.map(function(s){return s.toLowerCase()}),r[Qi.unified]=t.id.toLowerCase(),r[Qi.added_in]="0",r[Qi.imgUrl]=t.imgUrl,r}var F0={};setTimeout(function(){Tw.reduce(function(t,r){return t[Ia(r)]=r,Uh(r)&&hx(r).forEach(function(s){t[s]=r}),t},F0)});function _Le(t){var r=t.split("-"),s=r[1];return Pb.includes(s)?s:null}var OLe=["2640-fe0f","2642-fe0f","2695-fe0f"],Db="Search",$Le="No results found",Pq=" found. Use up and down arrow keys to navigate.",PLe="1 result"+Pq,DLe="%n results"+Pq;function i8(t){var r,s;t===void 0&&(t={});var a=Dq(),i=Object.assign(a.previewConfig,(r=t.previewConfig)!=null?r:{}),o=Object.assign(a,t),l=uLe(t.categories,{suggestionMode:o.suggestedEmojisMode});o.hiddenEmojis.forEach(function(d){o.unicodeToHide.add(d)}),TLe((s=o.customEmojis)!=null?s:[]);var c=o.searchDisabled?oh.PREVIEW:o.skinTonePickerLocation;return Ln({},o,{categories:l,previewConfig:i,skinTonePickerLocation:c})}function Dq(){return{autoFocusSearch:!0,categories:Aq(),className:"",customEmojis:[],defaultSkinTone:ko.NEUTRAL,emojiStyle:bi.APPLE,emojiVersion:null,getEmojiUrl:$q,height:450,lazyLoadEmojis:!1,previewConfig:Ln({},RLe),searchDisabled:!1,searchPlaceHolder:Db,searchPlaceholder:Db,skinTonePickerLocation:oh.SEARCH,skinTonesDisabled:!1,style:{},suggestedEmojisMode:Mp.FREQUENT,theme:Ip.LIGHT,unicodeToHide:new Set(OLe),width:350,reactionsDefaultOpen:!1,reactions:lLe,open:!0,allowExpandReactions:!0,hiddenEmojis:[]}}var RLe={defaultEmoji:"1f60a",defaultCaption:"What's your mood?",showPreview:!0},FLe=["children"],Rq=u.createContext(Dq());function BLe(t){var r=t.children,s=Mq(t,FLe),a=zLe(s);return u.createElement(Rq.Provider,{value:a},r)}function zLe(t){var r,s=u.useState(function(){return i8(t)}),a=s[0],i=s[1];return u.useEffect(function(){Iq(a,t)||i(i8(t))},[(r=t.customEmojis)==null?void 0:r.length,t.open,t.emojiVersion,t.reactionsDefaultOpen,t.searchPlaceHolder,t.searchPlaceholder,t.defaultSkinTone,t.skinTonesDisabled,t.autoFocusSearch,t.emojiStyle,t.theme,t.suggestedEmojisMode,t.lazyLoadEmojis,t.className,t.height,t.width,t.searchDisabled,t.skinTonePickerLocation,t.allowExpandReactions]),a}function $n(){return u.useContext(Rq)}function o8(t,r){r===void 0&&(r=0);var s=u.useState(t),a=s[0],i=s[1],o=u.useRef(null);function l(c){return new Promise(function(d){var f;o.current&&clearTimeout(o.current),o.current=(f=window)==null?void 0:f.setTimeout(function(){i(c),d(c)},r)})}return[a,l]}function ULe(){var t=cMe();return function(r){return t.has(r)}}function Fq(){var t=u.useRef({}),r=lMe();return u.useMemo(function(){var s=parseFloat(""+r);return!r||Number.isNaN(s)?t.current:Tw.reduce(function(a,i){return WLe(i,s)&&(a[Ia(i)]=!0),a},t.current)},[r])}function Bq(){var t=Fq(),r=ULe();return function(a){var i=TL(Ia(a));return!!(t[i]||r(i))}}function WLe(t,r){return LLe(t)>r}function HLe(t){u.useEffect(function(){t(!0)},[t])}function VLe(t){var r=t.children,s=Fq(),a=ZLe(),i=oMe(),o=u.useRef(Dm),l=u.useRef(!1),c=u.useRef(!1),d=u.useRef(s),f=o8(Date.now(),200),h=o8("",100),g=u.useState(!1),m=u.useState(a),p=u.useState(null),x=u.useState(new Set),y=u.useState(null),w=u.useState(i),b=u.useState(!1),v=b[0],j=b[1];return HLe(j),u.createElement(io.Provider,{value:{activeCategoryState:p,activeSkinTone:m,disallowClickRef:l,disallowMouseRef:c,disallowedEmojisRef:d,emojiVariationPickerState:y,emojisThatFailedToLoadState:x,filterRef:o,isPastInitialLoad:v,searchTerm:h,skinToneFanOpenState:g,suggestedUpdateState:f,reactionsModeState:w}},r)}var io=u.createContext({activeCategoryState:[null,function(){}],activeSkinTone:[ko.NEUTRAL,function(){}],disallowClickRef:{current:!1},disallowMouseRef:{current:!1},disallowedEmojisRef:{current:{}},emojiVariationPickerState:[null,function(){}],emojisThatFailedToLoadState:[new Set,function(){}],filterRef:{current:{}},isPastInitialLoad:!0,searchTerm:["",function(){return new Promise(function(){})}],skinToneFanOpenState:[!1,function(){}],suggestedUpdateState:[Date.now(),function(){}],reactionsModeState:[!1,function(){}]});function AL(){var t=u.useContext(io),r=t.filterRef;return r}function GLe(){var t=u.useContext(io),r=t.disallowClickRef;return r}function _L(){var t=u.useContext(io),r=t.disallowMouseRef;return r}function Wh(){var t=u.useContext(io),r=t.reactionsModeState;return r}function Aw(){var t=u.useContext(io),r=t.searchTerm;return r}function OL(){var t=u.useContext(io),r=t.activeSkinTone;return r}function zq(){var t=u.useContext(io),r=t.emojisThatFailedToLoadState;return r}function qLe(){var t=u.useContext(io),r=t.isPastInitialLoad;return r}function Hh(){var t=u.useContext(io),r=t.emojiVariationPickerState;return r}function gx(){var t=u.useContext(io),r=t.skinToneFanOpenState;return r}function Uq(){var t=u.useContext(io),r=t.suggestedUpdateState,s=r[0],a=r[1];return[s,function(){a(Date.now())}]}var Wq=fr.createContext({});function Hq(){var t=fr.useContext(Wq);return t}function YLe(t){var r=fr.useRef({onEmojiClick:t.onEmojiClick||Rv,onReactionClick:t.onReactionClick||t.onEmojiClick,onSkinToneChange:t.onSkinToneChange||Rv});return fr.useEffect(function(){r.current.onEmojiClick=t.onEmojiClick||Rv,r.current.onReactionClick=t.onReactionClick||t.onEmojiClick},[t.onEmojiClick,t.onReactionClick]),fr.useEffect(function(){r.current.onSkinToneChange=t.onSkinToneChange||Rv},[t.onSkinToneChange]),r}function Rv(){}var Ap;(function(t){t.REACTIONS="reactions",t.PICKER="picker"})(Ap||(Ap={}));function JLe(){var t,r=$n(),s=r.searchPlaceHolder,a=r.searchPlaceholder;return(t=[s,a].find(function(i){return i!==Db}))!=null?t:Db}function ZLe(){var t=$n(),r=t.defaultSkinTone;return r}function Vq(){var t=$n(),r=t.allowExpandReactions;return r}function Gq(){var t=$n(),r=t.skinTonesDisabled;return r}function cf(){var t=$n(),r=t.emojiStyle;return r}function QLe(){var t=$n(),r=t.autoFocusSearch;return r}function qq(){var t=$n(),r=t.categories;return r}function KLe(){var t=$n(),r=t.customEmojis;return r}function XLe(){var t=$n(),r=t.open;return r}function eMe(t){var r=Hq(),s=r.current,a=Wh(),i=a[1],o=s.onEmojiClick||function(){},l=s.onReactionClick;return t===Ap.REACTIONS&&l?function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];return l.apply(void 0,d.concat([{collapseToReactions:function(){i(function(g){return g})}}]))}:function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];o.apply(void 0,d.concat([{collapseToReactions:function(){i(!0)}}]))}}function tMe(){var t=Hq(),r=t.current;return r.onSkinToneChange||function(){}}function Yq(){var t=$n(),r=t.previewConfig;return r}function rMe(){var t=$n(),r=t.theme;return r}function nMe(){var t=$n(),r=t.suggestedEmojisMode;return r}function sMe(){var t=$n(),r=t.lazyLoadEmojis;return r}function aMe(){var t=$n(),r=t.className;return r}function iMe(){var t=$n(),r=t.height,s=t.width,a=t.style;return Ln({height:l8(r),width:l8(s)},a)}function oMe(){var t=$n(),r=t.reactionsDefaultOpen;return r}function lMe(){var t=$n(),r=t.emojiVersion;return r}function Jq(){var t=$n(),r=t.searchDisabled;return r}function Zq(){var t=$n(),r=t.skinTonePickerLocation;return r}function cMe(){var t=$n(),r=t.unicodeToHide;return r}function dMe(){var t=$n(),r=t.reactions;return r}function df(){var t=$n(),r=t.getEmojiUrl;return r}function l8(t){return typeof t=="number"?t+"px":t}function uMe(t){var r=t>0,s=t>1;return r?s?DLe.replace("%n",t.toString()):PLe:$Le}function _w(){var t=Aw(),r=t[0];return!!r}function Li(t){t&&requestAnimationFrame(function(){t.focus()})}function Qq(t){if(t){var r=t.previousElementSibling;Li(r)}}function Kq(t){if(t){var r=t.nextElementSibling;Li(r)}}function Xq(t){if(t){var r=t.firstElementChild;Li(r)}}function _p(){return document.activeElement}function fMe(t){var r=t.children,s=u.useRef(null),a=u.useRef(null),i=u.useRef(null),o=u.useRef(null),l=u.useRef(null),c=u.useRef(null),d=u.useRef(null),f=u.useRef(null);return u.createElement(eY.Provider,{value:{AnchoredEmojiRef:a,BodyRef:i,CategoryNavigationRef:c,PickerMainRef:s,SearchInputRef:o,SkinTonePickerRef:l,VariationPickerRef:d,ReactionsRef:f}},r)}var eY=u.createContext({AnchoredEmojiRef:u.createRef(),BodyRef:u.createRef(),CategoryNavigationRef:u.createRef(),PickerMainRef:u.createRef(),SearchInputRef:u.createRef(),SkinTonePickerRef:u.createRef(),VariationPickerRef:u.createRef(),ReactionsRef:u.createRef()});function Rd(){return u.useContext(eY)}function mx(){return Rd().PickerMainRef}function Ow(){return Rd().AnchoredEmojiRef}function tY(){var t=Ow();return function(r){r===null&&t.current!==null&&Li(t.current),t.current=r}}function oo(){return Rd().BodyRef}function hMe(){return Rd().ReactionsRef}function Fd(){return Rd().SearchInputRef}function $L(){return Rd().SkinTonePickerRef}function PL(){return Rd().CategoryNavigationRef}function gMe(){return Rd().VariationPickerRef}function rY(t,r){r===void 0&&(r=0);var s=xY(t);s&&requestAnimationFrame(function(){s.scrollTop=r})}function mMe(t,r){var s=xY(t);s&&requestAnimationFrame(function(){s.scrollTop=s.scrollTop+r})}function pMe(){var t=oo();return u.useCallback(function(r){requestAnimationFrame(function(){t.current&&(t.current.scrollTop=r)})},[t])}function $w(t){if(!(!t||!lIe(t))&&!t.closest(Js(wr.variationPicker))){var r=yY(t),s=vY(t);mMe(r,-(UL(Bd(t))-s))}}function Pw(t){var r=GL(t);Li(r),$w(r)}function xMe(t){var r=GL(t);Li(r),r==null||r.click()}function vMe(t){Li(NY(t))}function yMe(t){if(t){var r=SY(t);if(!r)return Pw(Rw(t));Li(r),$w(r)}}function bMe(t){if(t){var r=VL(t);if(!r)return vMe(Dw(t));Li(r),$w(r)}}function wMe(t,r){if(t){var s=NMe(t);if(!s)return r();Li(s),$w(s)}}function jMe(t){if(t){var r=SMe(t);return Li(r)}}function NMe(t){if(!t)return null;var r=CY(t),s=Bd(r),a=hY(r,t),i=gY(r,t),o=fY(r,t);if(i===0){var l=Dw(s);return l?mY(ch(l),-1,o,a):null}return rIe(ch(r),i,o,a)}function SMe(t){if(!t)return null;var r=CY(t),s=Bd(r),a=hY(r,t),i=gY(r,t),o=fY(r,t);if(!XMe(r,t)){var l=Rw(s);return l?mY(ch(l),0,o,a):null}var c=tIe(ch(r),i,o,a);return c}function uf(){var t=Hh(),r=t[0],s=t[1],a=gx(),i=a[0],o=a[1],l=u.useCallback(function(){r&&s(null),i&&o(!1)},[r,i,s,o]);return l}function nY(){var t=Hh(),r=t[0],s=gx(),a=s[0];return function(){return!!r||a}}function CMe(){var t=_L();return function(){t.current=!0}}function sY(){var t=_L();return function(){t.current=!1}}function aY(){var t=_L();return function(){return t.current}}function kMe(){var t=oo(),r=sY(),s=aY();u.useEffect(function(){var a=t.current;a==null||a.addEventListener("mousemove",i,{passive:!0});function i(){s()&&r()}return function(){a==null||a.removeEventListener("mousemove",i)}},[t,r,s])}function EMe(){if(typeof window=="undefined"||typeof window.CSS=="undefined")return!1;try{return CSS.supports("selector(:has(*))")}catch(t){return!1}}var LMe=EMe();function ff(){var t=Fd();return u.useCallback(function(){Li(t.current)},[t])}function MMe(){var t=$L();return u.useCallback(function(){t.current&&Xq(t.current)},[t])}function iY(){var t=PL();return u.useCallback(function(){t.current&&Xq(t.current)},[t])}function IMe(){var t=AL();return function r(s){if(typeof s=="function")return r(s(t.current));t.current=s}}function oY(){var t=DL(),r=Fd(),s=ff();return function(){r.current&&(r.current.value=""),t(""),s()}}function TMe(){var t=Fd(),r=DL();return function(a){t.current?(t.current.value=""+t.current.value+a,r(g6(t.current.value))):r(g6(a))}}function AMe(){var t=Fd(),r=AL(),s=IMe(),a=DL(),i=Aw(),o=i[0],l=RMe(r.current,o);return{onChange:c,searchTerm:o,SearchInputRef:t,statusSearchResults:l};function c(d){LMe||setTimeout(function(){var f=r.current,h=d.toLowerCase();if(f!=null&&f[h]||h.length<=1)return a(h);var g=DMe(h,f);if(!g)return a(h);s(function(m){var p;return Object.assign(m,(p={},p[h]=_Me(g,h),p))}),a(h)})}}function DL(){var t=Aw(),r=t[1],s=mx();return function(i){requestAnimationFrame(function(){r(i&&(i==null?void 0:i.toLowerCase())).then(function(){rY(s.current,0)})})}}function _Me(t,r){var s={};for(var a in t){var i=t[a];OMe(i,r)&&(s[a]=i)}return s}function OMe(t,r){return fx(t).some(function(s){return s.includes(r)})}function $Me(){var t=AL(),r=t.current,s=Aw(),a=s[0];return function(i){return PMe(i,r,a)}}function PMe(t,r,s){var a;return!r||!s?!1:!((a=r[s])!=null&&a[t])}function DMe(t,r){if(!r)return null;if(r[t])return r[t];var s=Object.keys(r).sort(function(a,i){return i.length-a.length}).find(function(a){return t.includes(a)});return s?r[s]:null}function g6(t){return!t||typeof t!="string"?"":t.trim().toLowerCase()}function RMe(t,r){var s;if(!(t!=null&&t[r]))return"";var a=((s=Object.entries(t==null?void 0:t[r]))==null?void 0:s.length)||0;return uMe(a)}function lY(){var t=tY(),r=Hh(),s=r[1];return function(i){var o=zL(i),l=o[0];l&&(t(i),s(l))}}function RL(){var t=Zq();return t===oh.SEARCH}function cY(){var t=Zq();return t===oh.PREVIEW}var Vn;(function(t){t.ArrowDown="ArrowDown",t.ArrowUp="ArrowUp",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.Escape="Escape",t.Enter="Enter",t.Space=" "})(Vn||(Vn={}));function FMe(){BMe(),zMe(),UMe(),WMe(),HMe()}function BMe(){var t=mx(),r=oY(),s=pMe(),a=Fd(),i=ff(),o=nY(),l=CMe(),c=uf(),d=u.useMemo(function(){return function(h){var g=h.key;switch(l(),g){case Vn.Escape:if(h.preventDefault(),o()){c();return}r(),s(0),i();break}}},[s,r,c,i,o,l]);u.useEffect(function(){var f=t.current;if(f)return f.addEventListener("keydown",d),function(){f.removeEventListener("keydown",d)}},[t,a,s,d])}function zMe(){var t=MMe(),r=mx(),s=oo(),a=Fd(),i=gx(),o=i[1],l=dY(),c=RL(),d=u.useMemo(function(){return function(h){var g=h.key;switch(g){case Vn.ArrowRight:if(!c)return;h.preventDefault(),o(!0),t();break;case Vn.ArrowDown:h.preventDefault(),l();break;case Vn.Enter:h.preventDefault(),xMe(s.current);break}}},[t,l,o,s,c]);u.useEffect(function(){var f=a.current;if(f)return f.addEventListener("keydown",d),function(){f.removeEventListener("keydown",d)}},[r,a,d])}function UMe(){var t=$L(),r=ff(),s=Fd(),a=dY(),i=gx(),o=i[0],l=i[1],c=cY(),d=RL(),f=FL(),h=u.useMemo(function(){return function(m){var p=m.key;if(d)switch(p){case Vn.ArrowLeft:if(m.preventDefault(),!o)return r();c8(r);break;case Vn.ArrowRight:if(m.preventDefault(),!o)return r();d8();break;case Vn.ArrowDown:m.preventDefault(),o&&l(!1),a();break;default:f(m);break}if(c)switch(p){case Vn.ArrowUp:if(m.preventDefault(),!o)return r();c8(r);break;case Vn.ArrowDown:if(m.preventDefault(),!o)return r();d8();break;default:f(m);break}}},[o,r,l,a,f,c,d]);u.useEffect(function(){var g=t.current;if(g)return g.addEventListener("keydown",h),function(){g.removeEventListener("keydown",h)}},[t,s,o,h])}function WMe(){var t=ff(),r=PL(),s=oo(),a=FL(),i=u.useMemo(function(){return function(l){var c=l.key;switch(c){case Vn.ArrowUp:l.preventDefault(),t();break;case Vn.ArrowRight:l.preventDefault(),Kq(_p());break;case Vn.ArrowLeft:l.preventDefault(),Qq(_p());break;case Vn.ArrowDown:l.preventDefault(),Pw(s.current);break;default:a(l);break}}},[s,t,a]);u.useEffect(function(){var o=r.current;if(o)return o.addEventListener("keydown",i),function(){o.removeEventListener("keydown",i)}},[r,s,i])}function HMe(){var t=oo(),r=VMe(),s=lY(),a=nY(),i=uf(),o=FL(),l=u.useMemo(function(){return function(d){var f=d.key,h=Do(_p());switch(f){case Vn.ArrowRight:d.preventDefault(),yMe(h);break;case Vn.ArrowLeft:d.preventDefault(),bMe(h);break;case Vn.ArrowDown:if(d.preventDefault(),a()){i();break}jMe(h);break;case Vn.ArrowUp:if(d.preventDefault(),a()){i();break}wMe(h,r);break;case Vn.Space:d.preventDefault(),s(d.target);break;default:o(d);break}}},[r,o,s,a,i]);u.useEffect(function(){var c=t.current;if(c)return c.addEventListener("keydown",l),function(){c.removeEventListener("keydown",l)}},[t,l])}function dY(){var t=iY(),r=_w(),s=oo();return u.useCallback(function(){return r?Pw(s.current):t()},[s,t,r])}function VMe(){var t=ff(),r=iY(),s=_w();return u.useCallback(function(){return s?t():r()},[t,s,r])}function c8(t){var r=_p();r&&(sIe(r)||t(),Kq(r))}function d8(){var t=_p();t&&Qq(t)}function FL(){var t=TMe(),r=ff(),s=Jq(),a=uf();return function(o){var l=o.key;GMe(o)||s||l.match(/(^[a-zA-Z0-9]$){1}/)&&(o.preventDefault(),a(),r(),t(l))}}function GMe(t){var r=t.metaKey,s=t.ctrlKey,a=t.altKey;return r||s||a}function qMe(t,r,s){if(r&&s!==bi.NATIVE){var a=Ia(r);u8.has(a)||(hx(r).forEach(function(i){var o=t(i,s);YMe(o)}),u8.add(a))}}var u8=new Set;function YMe(t){var r=new Image;r.src=t}function JMe(){var t=oo(),r=cf(),s=df();u.useEffect(function(){if(r===bi.NATIVE)return;var a=t.current;return a==null||a.addEventListener("focusin",i),function(){a==null||a.removeEventListener("focusin",i)};function i(o){var l=Do(o.target);if(l){var c=zL(l),d=c[0];d&&Uh(d)&&qMe(s,d,r)}}},[t,r,s])}var ZMe=["width","height"],uY=40;function QMe(t){var r=t.children;return u.createElement(VLe,null,u.createElement(KMe,null,r))}function KMe(t){var r,s=t.children,a=Wh(),i=a[0],o=rMe(),l=_w(),c=mx(),d=aMe(),f=iMe();FMe(),JMe();var h=f||{},g=h.width,m=h.height,p=Mq(h,ZMe);return u.createElement("aside",{className:Mr(Rg.main,Rg.baseVariables,o===Ip.DARK&&Rg.darkTheme,o===Ip.AUTO&&Rg.autoThemeDark,(r={},r[wr.searchActive]=l,r),i&&Rg.reactionsMenu,d),ref:c,style:Ln({},p,!i&&{height:m,width:g})},s)}var f8={"--epr-emoji-variation-picker-bg-color":"var(--epr-dark-emoji-variation-picker-bg-color)","--epr-hover-bg-color-reduced-opacity":"var(--epr-dark-hover-bg-color-reduced-opacity)","--epr-highlight-color":"var(--epr-dark-highlight-color)","--epr-text-color":"var(--epr-dark-text-color)","--epr-hover-bg-color":"var(--epr-dark-hover-bg-color)","--epr-focus-bg-color":"var(--epr-dark-focus-bg-color)","--epr-search-input-bg-color":"var(--epr-dark-search-input-bg-color)","--epr-category-label-bg-color":"var(--epr-dark-category-label-bg-color)","--epr-picker-border-color":"var(--epr-dark-picker-border-color)","--epr-bg-color":"var(--epr-dark-bg-color)","--epr-reactions-bg-color":"var(--epr-dark-reactions-bg-color)","--epr-search-input-bg-color-active":"var(--epr-dark-search-input-bg-color-active)","--epr-emoji-variation-indicator-color":"var(--epr-dark-emoji-variation-indicator-color)","--epr-category-icon-active-color":"var(--epr-dark-category-icon-active-color)","--epr-skin-tone-picker-menu-color":"var(--epr-dark-skin-tone-picker-menu-color)","--epr-skin-tone-outer-border-color":"var(--epr-dark-skin-tone-outer-border-color)","--epr-skin-tone-inner-border-color":"var(--epr-dark-skin-tone-inner-border-color)"},Rg=yn.create({main:{".":["epr-main",wr.emojiPicker],position:"relative",display:"flex",flexDirection:"column",borderWidth:"1px",borderStyle:"solid",borderRadius:"var(--epr-picker-border-radius)",borderColor:"var(--epr-picker-border-color)",backgroundColor:"var(--epr-bg-color)",overflow:"hidden",transition:"all 0.3s ease-in-out, background-color 0.1s ease-in-out","*":{boxSizing:"border-box",fontFamily:"sans-serif"}},baseVariables:{"--":{"--epr-highlight-color":"#007aeb","--epr-hover-bg-color":"#e5f0fa","--epr-hover-bg-color-reduced-opacity":"#e5f0fa80","--epr-focus-bg-color":"#e0f0ff","--epr-text-color":"#858585","--epr-search-input-bg-color":"#f6f6f6","--epr-picker-border-color":"#e7e7e7","--epr-bg-color":"#fff","--epr-reactions-bg-color":"#ffffff90","--epr-category-icon-active-color":"#6aa8de","--epr-skin-tone-picker-menu-color":"#ffffff95","--epr-skin-tone-outer-border-color":"#555555","--epr-skin-tone-inner-border-color":"var(--epr-bg-color)","--epr-horizontal-padding":"10px","--epr-picker-border-radius":"8px","--epr-search-border-color":"var(--epr-highlight-color)","--epr-header-padding":"15px var(--epr-horizontal-padding)","--epr-active-skin-tone-indicator-border-color":"var(--epr-highlight-color)","--epr-active-skin-hover-color":"var(--epr-hover-bg-color)","--epr-search-input-bg-color-active":"var(--epr-search-input-bg-color)","--epr-search-input-padding":"0 30px","--epr-search-input-border-radius":"8px","--epr-search-input-height":"40px","--epr-search-input-text-color":"var(--epr-text-color)","--epr-search-input-placeholder-color":"var(--epr-text-color)","--epr-search-bar-inner-padding":"var(--epr-horizontal-padding)","--epr-category-navigation-button-size":"30px","--epr-emoji-variation-picker-height":"45px","--epr-emoji-variation-picker-bg-color":"var(--epr-bg-color)","--epr-preview-height":"70px","--epr-preview-text-size":"14px","--epr-preview-text-padding":"0 var(--epr-horizontal-padding)","--epr-preview-border-color":"var(--epr-picker-border-color)","--epr-preview-text-color":"var(--epr-text-color)","--epr-category-padding":"0 var(--epr-horizontal-padding)","--epr-category-label-bg-color":"#ffffffe6","--epr-category-label-text-color":"var(--epr-text-color)","--epr-category-label-padding":"0 var(--epr-horizontal-padding)","--epr-category-label-height":uY+"px","--epr-emoji-size":"30px","--epr-emoji-padding":"5px","--epr-emoji-fullsize":"calc(var(--epr-emoji-size) + var(--epr-emoji-padding) * 2)","--epr-emoji-hover-color":"var(--epr-hover-bg-color)","--epr-emoji-variation-indicator-color":"var(--epr-picker-border-color)","--epr-emoji-variation-indicator-color-hover":"var(--epr-text-color)","--epr-header-overlay-z-index":"3","--epr-emoji-variations-indictator-z-index":"1","--epr-category-label-z-index":"2","--epr-skin-variation-picker-z-index":"5","--epr-preview-z-index":"6","--epr-dark":"#000","--epr-dark-emoji-variation-picker-bg-color":"var(--epr-dark)","--epr-dark-highlight-color":"#c0c0c0","--epr-dark-text-color":"var(--epr-highlight-color)","--epr-dark-hover-bg-color":"#363636f6","--epr-dark-hover-bg-color-reduced-opacity":"#36363680","--epr-dark-focus-bg-color":"#474747","--epr-dark-search-input-bg-color":"#333333","--epr-dark-category-label-bg-color":"#222222e6","--epr-dark-picker-border-color":"#151617","--epr-dark-bg-color":"#222222","--epr-dark-reactions-bg-color":"#22222290","--epr-dark-search-input-bg-color-active":"var(--epr-dark)","--epr-dark-emoji-variation-indicator-color":"#444","--epr-dark-category-icon-active-color":"#3271b7","--epr-dark-skin-tone-picker-menu-color":"#22222295","--epr-dark-skin-tone-outer-border-color":"var(--epr-dark-picker-border-color)","--epr-dark-skin-tone-inner-border-color":"#00000000"}},autoThemeDark:{".":wr.autoTheme,"@media (prefers-color-scheme: dark)":{"--":f8}},darkTheme:{".":wr.darkTheme,"--":f8},reactionsMenu:{".":"epr-reactions",height:"50px",display:"inline-flex",backgroundColor:"var(--epr-reactions-bg-color)",backdropFilter:"blur(8px)","--":{"--epr-picker-border-radius":"50px"}}});function fY(t,r){if(!t||!r)return 0;var s=t.getBoundingClientRect().width,a=r.getBoundingClientRect().width;return Math.floor(s/a)}function hY(t,r){if(!t||!r)return 0;var s=r.getBoundingClientRect().width,a=r.getBoundingClientRect().left,i=t.getBoundingClientRect().left;return Math.floor((a-i)/s)}function gY(t,r){if(!t||!r)return 0;var s=r.getBoundingClientRect().height,a=r.getBoundingClientRect().top,i=t.getBoundingClientRect().top;return Math.round((a-i)/s)}function XMe(t,r){if(!t||!r)return!1;var s=r.getBoundingClientRect().height,a=r.getBoundingClientRect().top,i=t.getBoundingClientRect().top,o=t.getBoundingClientRect().height;return Math.round(a-i+s)<o}function BL(t,r,s){if(r===-1){var a=Math.floor((t.length-1)/s),i=a*s,o=t.length-1;return t.slice(i,o+1)}return t.slice(r*s,(r+1)*s)}function eIe(t,r,s){var a=r+1;return a*s>t.length?[]:BL(t,a,s)}function mY(t,r,s,a){var i=BL(t,r,s);return i[a]||i[i.length-1]||null}function tIe(t,r,s,a){var i=eIe(t,r,s);return i[a]||i[i.length-1]||null}function rIe(t,r,s,a){var i=BL(t,r-1,s);return i[a]||i[i.length-1]||null}function nIe(t,r,s){if(!t||!r.length)return null;var a=t.getBoundingClientRect().top,i=t.getBoundingClientRect().bottom,o=a+aIe(t),l=r.find(function(c){var d=c.getBoundingClientRect().top,f=c.getBoundingClientRect().bottom,h=c.clientHeight*s,g=d+h,m=f-h;return g<o?!1:g>=a&&g<=i||m>=a&&m<=i});return l||null}function sIe(t){return!!t.nextElementSibling}function aIe(t){for(var r=Array.from(t.querySelectorAll(Js(wr.label))),s=0,a=r;s<a.length;s++){var i=a[s],o=i.getBoundingClientRect().height;if(o>0)return o}return uY}var Rb="button"+Js(wr.emoji),iIe=[Rb,Js(wr.visible),":not("+Js(wr.hidden)+")"].join("");function Do(t){var r;return(r=t==null?void 0:t.closest(Rb))!=null?r:null}function zL(t){var r=bY(t),s=WL(t);if(!r)return[];var a=lh(s!=null?s:r);return a?[a,s]:[]}function oIe(t){var r;return!!(t!=null&&t.matches(Rb)||!(t==null||(r=t.parentElement)==null)&&r.matches(Rb))}function h8(t){var r;return(r=t==null?void 0:t.clientHeight)!=null?r:0}function pY(t){if(!t)return 0;var r=Do(t),s=Bd(r),a=UL(s);return g8(r)+g8(s)+a}function UL(t){var r,s;if(!t)return 0;var a=t.querySelector(Js(wr.categoryContent));return((r=t==null?void 0:t.clientHeight)!=null?r:0)-((s=a==null?void 0:a.clientHeight)!=null?s:0)}function lIe(t){return t?vY(t)<UL(Bd(t)):!1}function xY(t){return t?t.matches(Js(wr.scrollBody))?t:t.querySelector(Js(wr.scrollBody)):null}function vY(t){var r,s;return t?pY(t)-((r=(s=yY(t))==null?void 0:s.scrollTop)!=null?r:0):0}function yY(t){var r;return t&&(r=t.closest(Js(wr.scrollBody)))!=null?r:null}function cIe(t){var r=Do(t),s=Bd(r);return m8(r)+m8(s)}function g8(t){var r;return(r=t==null?void 0:t.offsetTop)!=null?r:0}function m8(t){var r;return(r=t==null?void 0:t.offsetLeft)!=null?r:0}function WL(t){var r;return(r=dIe(Do(t),"unified"))!=null?r:null}function bY(t){var r=WL(t);return r?TL(r):null}function wY(t){return t?{unified:WL(t),originalUnified:bY(t)}:{unified:null,originalUnified:null}}function dIe(t,r){var s;return(s=uIe(t)[r])!=null?s:null}function uIe(t){var r;return(r=t==null?void 0:t.dataset)!=null?r:{}}function HL(t){return t.classList.contains(wr.visible)}function jY(t){return t?t.classList.contains(wr.hidden):!0}function ch(t){return t?Array.from(t.querySelectorAll(iIe)):[]}function NY(t){if(!t)return null;var r=ch(t),s=r.slice(-1),a=s[0];return a?HL(a)?a:VL(a):null}function SY(t){var r=t.nextElementSibling;return r?HL(r)?r:SY(r):GL(Rw(t))}function VL(t){var r=t.previousElementSibling;return r?HL(r)?r:VL(r):NY(Dw(t))}function GL(t){if(!t)return null;var r=ch(t);return nIe(t,r,.1)}function Dw(t){var r=Bd(t);if(!r)return null;var s=r.previousElementSibling;return s?jY(s)?Dw(s):s:null}function Rw(t){var r=Bd(t);if(!r)return null;var s=r.nextElementSibling;return s?jY(s)?Rw(s):s:null}function Bd(t){return t?t.closest(Js(wr.category)):null}function CY(t){return t?t.closest(Js(wr.categoryContent)):null}function kY(t){return t.split("-").map(function(r){return String.fromCodePoint(parseInt(r,16))}).join("")}var EY="epr_suggested";function LY(t){try{var r,s,a;if(!((r=window)!=null&&r.localStorage))return[];var i=JSON.parse((s=(a=window)==null?void 0:a.localStorage.getItem(EY))!=null?s:"[]");return t===Mp.FREQUENT?i.sort(function(o,l){return l.count-o.count}):i}catch(o){return[]}}function fIe(t,r){var s=LY(),a=Ia(t,r),i=Ia(t),o=s.find(function(d){var f=d.unified;return f===a}),l;o?l=[o].concat(s.filter(function(d){return d!==o})):(o={unified:a,original:i,count:0},l=[o].concat(s)),o.count++,l.length=Math.min(l.length,14);try{var c;(c=window)==null||c.localStorage.setItem(EY,JSON.stringify(l))}catch(d){}}function hIe(t){return t.category===br.CUSTOM}function MY(t){return t.imgUrl!==void 0}function IY(t,r){var s=u.useRef(),a=lY(),i=GLe(),o=Hh(),l=o[1],c=uf(),d=OL(),f=d[0],h=eMe(r),g=Uq(),m=g[1],p=df(),x=cf(),y=u.useCallback(function(j){if(!i.current){c();var N=p8(j),S=N[0],I=N[1];if(!(!S||!I)){var E=_Le(I)||f;m(),fIe(S,E),h(gIe(S,E,x,p),j)}}},[f,c,i,h,m,p,x]),w=u.useCallback(function(j){var N;s.current&&clearTimeout(s.current);var S=p8(j),I=S[0];!I||!Uh(I)||(s.current=(N=window)==null?void 0:N.setTimeout(function(){i.current=!0,s.current=void 0,c(),a(j.target),l(I)},500))},[i,c,a,l]),b=u.useCallback(function(){s.current?(clearTimeout(s.current),s.current=void 0):i.current&&requestAnimationFrame(function(){i.current=!1})},[i]);u.useEffect(function(){if(t.current){var v=t.current;return v.addEventListener("click",y,{passive:!0}),v.addEventListener("mousedown",w,{passive:!0}),v.addEventListener("mouseup",b,{passive:!0}),function(){v==null||v.removeEventListener("click",y),v==null||v.removeEventListener("mousedown",w),v==null||v.removeEventListener("mouseup",b)}}},[t,y,w,b])}function p8(t){var r=t==null?void 0:t.target;return oIe(r)?zL(r):[]}function gIe(t,r,s,a){var i=fx(t);if(MY(t)){var o=Ia(t);return{activeSkinTone:r,emoji:o,getImageUrl:function(){return t.imgUrl},imageUrl:t.imgUrl,isCustom:!0,names:i,unified:o,unifiedWithoutSkinTone:o}}var l=Ia(t,r);return{activeSkinTone:r,emoji:kY(l),getImageUrl:function(d){return d===void 0&&(d=s!=null?s:bi.APPLE),a(l,d)},imageUrl:a(l,s!=null?s:bi.APPLE),isCustom:!1,names:i,unified:l,unifiedWithoutSkinTone:Ia(t)}}function px(t){return u.createElement("button",Object.assign({type:"button"},t,{className:Mr(mIe.button,t.className)}),t.children)}var mIe=yn.create({button:{".":"epr-btn",cursor:"pointer",border:"0",background:"none",outline:"none"}});function pIe(t){var r,s=t.emojiNames,a=t.unified,i=t.hidden,o=t.hiddenOnSearch,l=t.showVariations,c=l===void 0?!0:l,d=t.hasVariations,f=t.children,h=t.className,g=t.noBackground,m=g===void 0?!1:g;return u.createElement(px,{className:Mr(aN.emoji,i&&ML.hidden,o&&lf.hiddenOnSearch,(r={},r[wr.visible]=!i&&!o,r),!!(d&&c)&&aN.hasVariations,m&&aN.noBackground,h),"data-unified":a,"aria-label":xIe(s),"data-full-name":s},f)}function xIe(t){var r;return t[0].match("flag-")&&(r=t[1])!=null?r:t[0]}var aN=yn.create({emoji:{".":wr.emoji,position:"relative",width:"var(--epr-emoji-fullsize)",height:"var(--epr-emoji-fullsize)",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"var(--epr-emoji-fullsize)",maxHeight:"var(--epr-emoji-fullsize)",borderRadius:"8px",overflow:"hidden",transition:"background-color 0.2s",":hover":{backgroundColor:"var(--epr-emoji-hover-color)"},":focus":{backgroundColor:"var(--epr-focus-bg-color)"}},noBackground:{background:"none",":hover":{backgroundColor:"transparent",background:"none"},":focus":{backgroundColor:"transparent",background:"none"}},hasVariations:{".":wr.emojiHasVariations,":after":{content:"",display:"block",width:"0",height:"0",right:"0px",bottom:"1px",position:"absolute",borderLeft:"4px solid transparent",borderRight:"4px solid transparent",transform:"rotate(135deg)",borderBottom:"4px solid var(--epr-emoji-variation-indicator-color)",zIndex:"var(--epr-emoji-variations-indictator-z-index)"},":hover:after":{borderBottom:"4px solid var(--epr-emoji-variation-indicator-color-hover)"}}}),Fb=yn.create({external:{".":wr.external,fontSize:"0"},common:{alignSelf:"center",justifySelf:"center",display:"block"}});function x8(t){var r=t.emojiName,s=t.style,a=t.lazyLoad,i=a===void 0?!1:a,o=t.imgUrl,l=t.onError,c=t.className;return u.createElement("img",{src:o,alt:r,className:Mr(vIe.emojiImag,Fb.external,Fb.common,c),loading:i?"lazy":"eager",onError:l,style:s})}var vIe=yn.create({emojiImag:{".":"epr-emoji-img",maxWidth:"var(--epr-emoji-fullsize)",maxHeight:"var(--epr-emoji-fullsize)",minWidth:"var(--epr-emoji-fullsize)",minHeight:"var(--epr-emoji-fullsize)",padding:"var(--epr-emoji-padding)"}});function yIe(t){var r=t.unified,s=t.style,a=t.className;return u.createElement("span",{className:Mr(bIe.nativeEmoji,Fb.common,Fb.external,a),"data-unified":r,style:s},kY(r))}var bIe=yn.create({nativeEmoji:{".":"epr-emoji-native",fontFamily:'"Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "EmojiOne Color", "Android Emoji"!important',position:"relative",lineHeight:"100%",fontSize:"var(--epr-emoji-size)",textAlign:"center",alignSelf:"center",justifySelf:"center",letterSpacing:"0",padding:"var(--epr-emoji-padding)"}});function m6(t){var r=t.emoji,s=t.unified,a=t.emojiStyle,i=t.size,o=t.lazyLoad,l=t.getEmojiUrl,c=l===void 0?$q:l,d=t.className,f=zq(),h=f[1],g={};i&&(g.width=g.height=g.fontSize=i+"px");var m=r||lh(s);if(!m)return null;if(MY(m))return u.createElement(x8,{style:g,emojiName:s,emojiStyle:bi.NATIVE,lazyLoad:o,imgUrl:m.imgUrl,onError:p,className:d});return u.createElement(u.Fragment,null,a===bi.NATIVE?u.createElement(yIe,{unified:s,style:g,className:d}):u.createElement(x8,{style:g,emojiName:h6(m),emojiStyle:a,lazyLoad:o,imgUrl:c(s,a),onError:p,className:d}));function p(){h(function(x){return new Set(x).add(s)})}}function Fw(t){var r=t.emoji,s=t.unified,a=t.hidden,i=t.hiddenOnSearch,o=t.emojiStyle,l=t.showVariations,c=l===void 0?!0:l,d=t.size,f=t.lazyLoad,h=t.getEmojiUrl,g=t.className,m=t.noBackground,p=m===void 0?!1:m,x=Uh(r);return u.createElement(pIe,{hasVariations:x,showVariations:c,hidden:a,hiddenOnSearch:i,emojiNames:fx(r),unified:s,noBackground:p},u.createElement(m6,{unified:s,emoji:r,size:d,emojiStyle:o,lazyLoad:f,getEmojiUrl:h,className:g}))}var wIe="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI4LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMCA4MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNNS43LDEwLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40QzYsMTAuOSw2LjEsMTEsNi4zLDExaDMuNHYzLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40CgljMC4xLDAuMSwwLjIsMC4yLDAuNCwwLjJjMC4zLDAsMC41LTAuMiwwLjUtMC41di0zLjRoMy40YzAuMywwLDAuNS0wLjIsMC41LTAuNXMtMC4yLTAuNS0wLjUtMC41aC0zLjRWNi43YzAtMC4zLTAuMi0wLjUtMC41LTAuNQoJQzkuOCw2LDkuNiw2LjIsOS42LDYuNXYzLjRINi4yQzUuOSw5LjksNS43LDEwLjEsNS43LDEwLjRMNS43LDEwLjR6Ii8+CjxwYXRoIGZpbGw9IiMzMzcxQjciIGQ9Ik01LjcsMzAuNGMwLDAuMSwwLjEsMC4zLDAuMiwwLjRTNi4xLDMxLDYuMywzMWgzLjR2My40YzAsMC4xLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMiwwLjIsMC40LDAuMgoJYzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMy40aDMuNGMwLjMsMCwwLjUtMC4yLDAuNS0wLjVzLTAuMi0wLjUtMC41LTAuNWgtMy40di0zLjRjMC0wLjMtMC4yLTAuNS0wLjUtMC41cy0wLjUsMC4yLTAuNSwwLjV2My40SDYuMgoJQzUuOSwyOS45LDUuNywzMC4xLDUuNywzMC40TDUuNywzMC40eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNNS43LDUwLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40QzYsNTAuOSw2LjEsNTEsNi4zLDUxaDMuNHYzLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40CgljMC4xLDAuMSwwLjIsMC4yLDAuNCwwLjJjMC4zLDAsMC41LTAuMiwwLjUtMC41di0zLjRoMy40YzAuMywwLDAuNS0wLjIsMC41LTAuNXMtMC4yLTAuNS0wLjUtMC41aC0zLjR2LTMuNGMwLTAuMy0wLjItMC41LTAuNS0wLjUKCXMtMC41LDAuMi0wLjUsMC41djMuNEg2LjJDNS45LDQ5LjksNS43LDUwLjEsNS43LDUwLjRMNS43LDUwLjR6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik01LjcsNzAuNGMwLDAuMSwwLjEsMC4zLDAuMiwwLjRTNi4xLDcxLDYuMyw3MWgzLjR2My40YzAsMC4xLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMiwwLjIsMC40LDAuMgoJYzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMy40aDMuNGMwLjMsMCwwLjUtMC4yLDAuNS0wLjVzLTAuMi0wLjUtMC41LTAuNWgtMy40di0zLjRjMC0wLjMtMC4yLTAuNS0wLjUtMC41cy0wLjUsMC4yLTAuNSwwLjV2My40SDYuNAoJQzUuOSw2OS45LDUuNyw3MC4xLDUuNyw3MC40TDUuNyw3MC40eiIvPgo8L3N2Zz4=";function jIe(){var t=Wh(),r=t[1];return u.createElement(px,{"aria-label":"Show all Emojis",title:"Show all Emojis",tabIndex:0,className:Mr(NIe.plusSign),onClick:function(){return r(!1)}})}var NIe=yn.create(Ln({plusSign:{fontSize:"20px",padding:"17px",color:"var(--epr-text-color)",borderRadius:"50%",textAlign:"center",lineHeight:"100%",width:"20px",height:"20px",display:"flex",justifyContent:"center",alignItems:"center",transition:"background-color 0.2s ease-in-out",":after":{content:"",minWidth:"20px",minHeight:"20px",backgroundImage:"url("+wIe+")",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",backgroundPositionY:"0"},":hover":{color:"var(--epr-highlight-color)",backgroundColor:"var(--epr-hover-bg-color-reduced-opacity)",":after":{backgroundPositionY:"-20px"}},":focus":{color:"var(--epr-highlight-color)",backgroundColor:"var(--epr-hover-bg-color-reduced-opacity)",":after":{backgroundPositionY:"-40px"}}}},wd("plusSign",{":after":{backgroundPositionY:"-40px"},":hover:after":{backgroundPositionY:"-60px"}})));function SIe(){var t=Wh(),r=t[0],s=hMe(),a=dMe();IY(s,Ap.REACTIONS);var i=cf(),o=Vq(),l=df();return r?u.createElement("ul",{className:Mr(v8.list,!r&&ML.hidden),ref:s},a.map(function(c){return u.createElement("li",{key:c},u.createElement(Fw,{emoji:lh(c),emojiStyle:i,unified:c,showVariations:!1,className:Mr(v8.emojiButton),noBackground:!0,getEmojiUrl:l}))}),o?u.createElement("li",null,u.createElement(jIe,null)):null):null}var v8=yn.create({list:{listStyle:"none",margin:"0",padding:"0 5px",display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%"},emojiButton:{":hover":{transform:"scale(1.2)"},":focus":{transform:"scale(1.2)"},":active":{transform:"scale(1.1)"},transition:"transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.5)"}});function CIe(t){var r=uf();u.useEffect(function(){var s=t.current;if(!s)return;s.addEventListener("scroll",a,{passive:!0});function a(){r()}return function(){s==null||s.removeEventListener("scroll",a)}},[t,r])}function kIe(){var t=zq(),r=t[0],s=$Me();return function(a){var i=Ia(a),o=r.has(i),l=s(i);return{failedToLoad:o,filteredOut:l,hidden:o||l}}}function TY(t){var r=t.categoryConfig,s=t.children,a=t.hidden,i=t.hiddenOnSearch,o=IL(r),l=_q(r);return u.createElement("li",{className:Mr(iN.category,a&&ML.hidden,i&&lf.hiddenOnSearch),"data-name":o,"aria-label":l},u.createElement("h2",{className:Mr(iN.label)},l),u.createElement("div",{className:Mr(iN.categoryContent)},s))}var iN=yn.create({category:{".":wr.category,":not(:has(.epr-visible))":{display:"none"}},categoryContent:{".":wr.categoryContent,display:"grid",gridGap:"0",gridTemplateColumns:"repeat(auto-fill, var(--epr-emoji-fullsize))",justifyContent:"space-between",margin:"var(--epr-category-padding)",position:"relative"},label:{".":wr.label,alignItems:"center",backdropFilter:"blur(3px)",backgroundColor:"var(--epr-category-label-bg-color)",color:"var(--epr-category-label-text-color)",display:"flex",fontSize:"16px",fontWeight:"bold",height:"var(--epr-category-label-height)",margin:"0",padding:"var(--epr-category-label-padding)",position:"sticky",textTransform:"capitalize",top:"0",width:"100%",zIndex:"var(--epr-category-label-z-index)"}}),oN=!1;function EIe(){var t=u.useState(oN),r=t[0],s=t[1];return u.useEffect(function(){s(!0),oN=!0},[]),r||oN}function LIe(t){var r=t.categoryConfig,s=Uq(),a=s[0],i=EIe(),o=nMe(),l=df(),c=u.useMemo(function(){var h;return(h=LY(o))!=null?h:[]},[a,o]),d=cf(),f=Bq();return i?u.createElement(TY,{categoryConfig:r,hiddenOnSearch:!0,hidden:c.length===0},c.map(function(h){var g=lh(h.original);return!g||f(g)?null:u.createElement(Fw,{showVariations:!1,unified:h.unified,emojiStyle:d,emoji:g,key:h.unified,getEmojiUrl:l})})):null}function MIe(){var t=qq(),r=u.useRef(0);return u.createElement("ul",{className:Mr(TIe.emojiList)},t.map(function(s){var a=IL(s);return a===br.SUGGESTED?u.createElement(LIe,{key:a,categoryConfig:s}):u.createElement(u.Suspense,{key:a},u.createElement(IIe,{category:a,categoryConfig:s,renderdCategoriesCountRef:r}))}))}function IIe(t){var r=t.category,s=t.categoryConfig,a=t.renderdCategoriesCountRef,i=kIe(),o=sMe(),l=cf(),c=qLe(),d=OL(),f=d[0],h=Bq(),g=df(),m=!Gq(),p=!c&&a.current>0?[]:MLe(r);p.length>0&&a.current++;var x=0,y=p.map(function(w){var b=Ia(w,f),v=i(w),j=v.failedToLoad,N=v.filteredOut,S=v.hidden,I=h(w);return(S||I)&&x++,I?null:u.createElement(Fw,{showVariations:m,key:b,emoji:w,unified:b,hidden:j,hiddenOnSearch:N,emojiStyle:l,lazyLoad:o,getEmojiUrl:g})});return u.createElement(TY,{categoryConfig:s,hidden:x===y.length},y)}var TIe=yn.create({emojiList:{".":wr.emojiList,listStyle:"none",margin:"0",padding:"0"}}),AIe="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI1MHB4IgoJIGhlaWdodD0iMTVweCIgdmlld0JveD0iMCAwIDUwIDE1IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MCAxNSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJMYXllcl8xIj4KPC9nPgo8ZyBpZD0iTGF5ZXJfMiI+Cgk8cGF0aCBmaWxsPSIjRkZGRkZGIiBzdHJva2U9IiNFOEU3RTciIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEuODYtMC40M2w5LjgzLDExLjUzYzAuNTksMC42OSwxLjU2LDAuNjksMi4xNCwwbDkuODMtMTEuNTMiLz4KCTxwYXRoIGZpbGw9IiMwMTAyMDIiIHN0cm9rZT0iIzE1MTYxNyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMjYuODYtMC40M2w5LjgzLDExLjUzYzAuNTksMC42OSwxLjU2LDAuNjksMi4xNCwwbDkuODMtMTEuNTMiLz4KPC9nPgo8L3N2Zz4=",B0;(function(t){t[t.Up=0]="Up",t[t.Down=1]="Down"})(B0||(B0={}));function _Ie(){var t=Ow(),r=gMe(),s=Hh(),a=s[0],i=cf(),o=$Ie(r),l=o.getTop,c=o.getMenuDirection,d=tY(),f=OIe(r),h=df(),g=Do(t.current),m=!!(a&&g&&Uh(a)&&g.classList.contains(wr.emojiHasVariations));u.useEffect(function(){m&&Pw(r.current)},[r,m,t]);var p,x;return!m&&t.current?d(null):(p=l(),x=f()),u.createElement("div",{ref:r,className:Mr(Fv.variationPicker,c()===B0.Down&&Fv.pointingUp,m&&Fv.visible),style:{top:p}},m&&a?[Ia(a)].concat(hx(a)).slice(0,6).map(function(y){return u.createElement(Fw,{key:y,emoji:a,unified:y,emojiStyle:i,showVariations:!1,getEmojiUrl:h})}):null,u.createElement("div",{className:Mr(Fv.pointer),style:x}))}function OIe(t){var r=Ow();return function(){var a={};if(!t.current)return a;if(r.current){var i=Do(r.current),o=cIe(i);if(!i)return a;a.left=o+(i==null?void 0:i.clientWidth)/2}return a}}function $Ie(t){var r=Ow(),s=oo(),a=B0.Up;return{getMenuDirection:i,getTop:o};function i(){return a}function o(){a=B0.Up;var l=0;if(!t.current)return 0;var c=h8(t.current);if(r.current){var d,f=s.current,h=Do(r.current),g=h8(h);l=pY(h);var m=(d=f==null?void 0:f.scrollTop)!=null?d:0;m>l-c&&(a=B0.Down,l+=g+c)}return l-c}}var Fv=yn.create(Ln({variationPicker:{".":wr.variationPicker,position:"absolute",right:"15px",left:"15px",padding:"5px",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",borderRadius:"3px",display:"flex",alignItems:"center",justifyContent:"space-around",opacity:"0",visibility:"hidden",pointerEvents:"none",top:"-100%",border:"1px solid var(--epr-picker-border-color)",height:"var(--epr-emoji-variation-picker-height)",zIndex:"var(--epr-skin-variation-picker-z-index)",background:"var(--epr-emoji-variation-picker-bg-color)",transform:"scale(0.9)",transition:"transform 0.1s ease-out, opacity 0.2s ease-out"},visible:{opacity:"1",visibility:"visible",pointerEvents:"all",transform:"scale(1)"},pointingUp:{".":"pointing-up",transformOrigin:"center 0%",transform:"scale(0.9)"},".pointing-up":{pointer:{top:"0",transform:"rotate(180deg) translateY(100%) translateX(18px)"}},pointer:{".":"epr-emoji-pointer",content:"",position:"absolute",width:"25px",height:"15px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"50px 15px",top:"100%",transform:"translateX(-18px)",backgroundImage:"url("+AIe+")"}},wd("pointer",{backgroundPosition:"-25px 0"})));function PIe(){var t=oo();return CIe(t),IY(t,Ap.PICKER),kMe(),u.createElement("div",{className:Mr(DIe.body,lf.hiddenOnReactions),ref:t},u.createElement(_Ie,null),u.createElement(MIe,null))}var DIe=yn.create({body:{".":wr.scrollBody,flex:"1",overflowY:"scroll",overflowX:"hidden",position:"relative"}});function RIe(t,r){if(!t||!r)return 0;var s=t.getBoundingClientRect(),a=r.getBoundingClientRect();return a.height-(s.y-a.y)}function FIe(t,r){var s=oo(),a=aY(),i=sY();u.useEffect(function(){if(!t)return;var o=s.current;o==null||o.addEventListener("keydown",d,{passive:!0}),o==null||o.addEventListener("mouseover",f,!0),o==null||o.addEventListener("focus",l,!0),o==null||o.addEventListener("mouseout",c,{passive:!0}),o==null||o.addEventListener("blur",c,!0);function l(h){var g=Do(h.target);if(!g)return c();var m=wY(g),p=m.unified,x=m.originalUnified;if(!p||!x)return c();r({unified:p,originalUnified:x})}function c(h){if(h){var g=h.relatedTarget;if(!Do(g))return r(null)}r(null)}function d(h){h.key==="Escape"&&r(null)}function f(h){if(!a()){var g=Do(h.target);if(g){var m=RIe(g,o),p=g.getBoundingClientRect().height;if(m<p)return BIe(g,r);Li(g)}}}return function(){o==null||o.removeEventListener("mouseover",f),o==null||o.removeEventListener("mouseout",c),o==null||o.removeEventListener("focus",l,!0),o==null||o.removeEventListener("blur",c,!0),o==null||o.removeEventListener("keydown",d)}},[s,t,r,a,i])}function BIe(t,r){var s,a=wY(t),i=a.unified,o=a.originalUnified;!i||!o||((s=document.activeElement)==null||s.blur==null||s.blur(),r({unified:i,originalUnified:o}))}var Bv,Op;(function(t){t.ROW="FlexRow",t.COLUMN="FlexColumn"})(Op||(Op={}));function AY(t){var r=t.children,s=t.className,a=t.style,i=a===void 0?{}:a,o=t.direction,l=o===void 0?Op.ROW:o;return u.createElement("div",{style:Ln({},i),className:Mr(y8.flex,s,y8[l])},r)}var y8=yn.create((Bv={flex:{display:"flex"}},Bv[Op.ROW]={flexDirection:"row"},Bv[Op.COLUMN]={flexDirection:"column"},Bv));function zIe(t){var r=t.className,s=t.style,a=s===void 0?{}:s;return u.createElement("div",{style:Ln({flex:1},a),className:Mr(r)})}function UIe(t){var r=t.children,s=t.className,a=t.style;return u.createElement("div",{style:Ln({},a,{position:"absolute"}),className:s},r)}function Bw(t){var r=t.children,s=t.className,a=t.style;return u.createElement("div",{style:Ln({},a,{position:"relative"}),className:s},r)}function WIe(t){var r=t.isOpen,s=t.onClick,a=t.isActive,i=t.skinToneVariation,o=t.style;return u.createElement(px,{style:o,onClick:s,className:Mr("epr-tone-"+i,lN.tone,!r&&lN.closedTone,a&&lN.active),"aria-pressed":a,"aria-label":"Skin tone "+kLe[i]})}var lN=yn.create({closedTone:{opacity:"0",zIndex:"0"},active:{".":"epr-active",zIndex:"1",opacity:"1"},tone:{".":"epr-tone",width:"var(--epr-skin-tone-size)",display:"block",cursor:"pointer",borderRadius:"4px",height:"var(--epr-skin-tone-size)",position:"absolute",right:"0",transition:"transform 0.3s ease-in-out, opacity 0.35s ease-in-out",zIndex:"0",border:"1px solid var(--epr-skin-tone-outer-border-color)",boxShadow:"inset 0px 0px 0 1px var(--epr-skin-tone-inner-border-color)",":hover":{boxShadow:"0 0 0 3px var(--epr-active-skin-hover-color), inset 0px 0px 0 1px var(--epr-skin-tone-inner-border-color)"},":focus":{boxShadow:"0 0 0 3px var(--epr-focus-bg-color)"},"&.epr-tone-neutral":{backgroundColor:"#ffd225"},"&.epr-tone-1f3fb":{backgroundColor:"#ffdfbd"},"&.epr-tone-1f3fc":{backgroundColor:"#e9c197"},"&.epr-tone-1f3fd":{backgroundColor:"#c88e62"},"&.epr-tone-1f3fe":{backgroundColor:"#a86637"},"&.epr-tone-1f3ff":{backgroundColor:"#60463a"}}}),hm=28;function HIe(){return u.createElement(Bw,{style:{height:hm}},u.createElement(UIe,{style:{bottom:0,right:0}},u.createElement(_Y,{direction:$p.VERTICAL})))}function _Y(t){var r=t.direction,s=r===void 0?$p.HORIZONTAL:r,a=$L(),i=Gq(),o=gx(),l=o[0],c=o[1],d=OL(),f=d[0],h=d[1],g=tMe(),m=uf(),p=ff();if(i)return null;var x=hm*Pb.length+"px",y=l?x:hm+"px",w=s===$p.VERTICAL;return u.createElement(Bw,{className:Mr(Fg.skinTones,w&&Fg.vertical,l&&Fg.open,w&&l&&Fg.verticalShadow),style:w?{flexBasis:y,height:y}:{flexBasis:y}},u.createElement("div",{className:Mr(Fg.select),ref:a},Pb.map(function(b,v){var j=b===f;return u.createElement(WIe,{key:b,skinToneVariation:b,isOpen:l,style:{transform:Mr(w?"translateY(-"+v*(l?hm:0)+"px)":"translateX(-"+v*(l?hm:0)+"px)",l&&j&&"scale(1.3)")},isActive:j,onClick:function(){l?(h(b),g(b),p()):c(!0),m()}})})))}var $p;(function(t){t.VERTICAL="epr-vertical",t.HORIZONTAL="epr-horizontal"})($p||($p={}));var Fg=yn.create({skinTones:{".":"epr-skin-tones","--":{"--epr-skin-tone-size":"15px"},display:"flex",alignItems:"center",justifyContent:"flex-end",transition:"all 0.3s ease-in-out",padding:"10px 0"},vertical:{padding:"9px",alignItems:"flex-end",flexDirection:"column",borderRadius:"6px",border:"1px solid var(--epr-bg-color)"},verticalShadow:{boxShadow:"0px 0 7px var(--epr-picker-border-color)"},open:{backdropFilter:"blur(5px)",background:"var(--epr-skin-tone-picker-menu-color)",".epr-active":{border:"1px solid var(--epr-active-skin-tone-indicator-border-color)"}},select:{".":"epr-skin-tone-select",position:"relative",width:"var(--epr-skin-tone-size)",height:"var(--epr-skin-tone-size)"}});function VIe(){var t=Yq(),r=cY(),s=Wh(),a=s[0];return t.showPreview?u.createElement(AY,{className:Mr(Rm.preview,lf.hiddenOnReactions,a&&Rm.hideOnReactions)},u.createElement(GIe,null),u.createElement(zIe,null),r?u.createElement(HIe,null):null):null}function GIe(){var t,r=Yq(),s=u.useState(null),a=s[0],i=s[1],o=cf(),l=Hh(),c=l[0],d=df();FIe(r.showPreview,i);var f=lh((t=a==null?void 0:a.unified)!=null?t:a==null?void 0:a.originalUnified),h=f!=null&&a!=null;return u.createElement(g,null);function g(){var m=c!=null?c:lh(r.defaultEmoji);if(!m)return null;var p=c?h6(c):r.defaultCaption;return u.createElement(u.Fragment,null,u.createElement("div",null,h?u.createElement(m6,{unified:a==null?void 0:a.unified,emoji:f,emojiStyle:o,size:45,getEmojiUrl:d,className:Mr(Rm.emoji)}):m?u.createElement(m6,{unified:Ia(m),emoji:m,emojiStyle:o,size:45,getEmojiUrl:d,className:Mr(Rm.emoji)}):null),u.createElement("div",{className:Mr(Rm.label)},h?h6(f):p))}}var Rm=yn.create({preview:{alignItems:"center",borderTop:"1px solid var(--epr-preview-border-color)",height:"var(--epr-preview-height)",padding:"0 var(--epr-horizontal-padding)",position:"relative",zIndex:"var(--epr-preview-z-index)"},label:{color:"var(--epr-preview-text-color)",fontSize:"var(--epr-preview-text-size)",padding:"var(--epr-preview-text-padding)",textTransform:"capitalize"},emoji:{padding:"0"},hideOnReactions:{opacity:"0",transition:"opacity 0.5s ease-in-out"}});function qIe(t){var r;return(r=t==null?void 0:t.getAttribute("data-name"))!=null?r:null}function YIe(t){var r=oo();u.useEffect(function(){var s=new Map,a=r.current,i=new IntersectionObserver(function(o){if(a){for(var l=iLe(o),c;!(c=l()).done;){var d=c.value,f=qIe(d.target);s.set(f,d.intersectionRatio)}var h=Array.from(s),g=h[h.length-1];if(g[1]==1)return t(g[0]);for(var m=0,p=h;m<p.length;m++){var x=p[m],y=x[0],w=x[1];if(w){t(y);break}}}},{threshold:[0,1]});a==null||a.querySelectorAll(Js(wr.category)).forEach(function(o){i.observe(o)})},[r,t])}function JIe(){var t=oo(),r=mx();return function(a){var i;if(t.current){var o=(i=t.current)==null?void 0:i.querySelector('[data-name="'+a+'"]');if(o){var l=o.offsetTop||0;rY(r.current,l)}}}}function ZIe(){var t=KLe();return t?t.length===0:!1}var QIe="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMDBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgMjAwIDgwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyMDAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8ZyBpZD0iTGF5ZXJfMTEiPgoJPGc+CgkJPHBhdGggZmlsbD0iIzMzNzFCNyIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTIuOCwyOS41YzAuNiwwLDEuMS0wLjUsMS4xLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjEtMS4yYy0wLjYsMC0xLjIsMC41LTEuMiwxLjJDMTEuNiwyOSwxMi4yLDI5LjUsMTIuOCwyOS41eiBNMTIuOCwyOGMwLjIsMCwwLjQsMC4yLDAuNCwwLjQKCQkJYzAsMC4yLTAuMiwwLjQtMC40LDAuNGMtMC4yLDAtMC40LTAuMi0wLjQtMC40QzEyLjQsMjguMSwxMi42LDI4LDEyLjgsMjh6Ii8+CgkJPHBhdGggZmlsbD0iIzMzNzFCNyIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsMjNjLTMuOCwwLTcsMy4xLTcsN2MwLDMuOCwzLjEsNyw3LDcKCQkJczctMy4xLDctN0MxNywyNi4yLDEzLjgsMjMsMTAsMjN6IE0xMCwzNi4yYy0zLjQsMC02LjItMi44LTYuMi02LjJjMC0zLjQsMi44LTYuMiw2LjItNi4yczYuMiwyLjgsNi4yLDYuMgoJCQlDMTYuMiwzMy40LDEzLjQsMzYuMiwxMCwzNi4yeiIvPgoJCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjYsMzEuMmMtMC4xLTAuMS0wLjItMC4yLTAuMy0wLjJINS43CgkJCWMtMC4xLDAtMC4yLDAuMS0wLjMsMC4yYy0wLjEsMC4xLTAuMSwwLjIsMCwwLjRjMC43LDIsMi41LDMuMyw0LjYsMy4zczMuOS0xLjMsNC42LTMuM0MxNC43LDMxLjUsMTQuNywzMS4zLDE0LjYsMzEuMnogTTEwLDM0LjEKCQkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMywzMy4yLDExLjYsMzQuMSwxMCwzNC4xeiIvPgoJCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiwyOS41YzAuNiwwLDEuMi0wLjUsMS4yLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjItMS4yYy0wLjYsMC0xLjEsMC41LTEuMSwxLjJDNi4xLDI5LDYuNiwyOS41LDcuMiwyOS41eiBNNy4yLDI4YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDNi44LDI4LjEsNywyOCw3LjIsMjh6Ii8+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNNjQuMSwzMy40bDIuMywwYzAuMiwwLDAuNCwwLjIsMC40LDAuNHYyLjFjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjMKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40di0yLjFDNjMuNywzMy42LDYzLjgsMzMuNCw2NC4xLDMzLjR6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTczLjUsMzMuNWgyLjRjMC4yLDAsMC40LDAuMiwwLjQsMC40djJjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjQKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40bDAtMkM3My4xLDMzLjYsNzMuMywzMy41LDczLjUsMzMuNXoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNNjMuNywyOC40aDEyLjZ2NUg2My43VjI4LjR6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTY1LjUsMjMuNmg4LjljMSwwLDEuOSwwLjgsMS45LDEuOXYzLjFINjMuN3YtMy4xQzYzLjcsMjQuNSw2NC41LDIzLjYsNjUuNSwyMy42eiIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjMzM3MUI3IiBjeD0iNjYuMiIgY3k9IjMwLjkiIHJ4PSIwLjkiIHJ5PSIxIi8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSI3My44IiBjeT0iMzAuOSIgcng9IjAuOSIgcnk9IjEiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNOTYuNCwzMGMwLDMuNi0yLjksNi41LTYuNCw2LjVzLTYuNC0yLjktNi40LTYuNXMyLjktNi41LDYuNC02LjVTOTYuNCwyNi40LDk2LjQsMzB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTk2LjMsMjguNmMwLDAsMCwwLjEsMCwwLjFjLTAuOSwwLjEtMi45LDAuMS00LjYtMS4xYy0xLjEtMC44LTItMS43LTIuNi0yLjUKCQkJCWMtMC4zLTAuNC0wLjYtMC44LTAuNy0xYy0wLjEtMC4xLTAuMS0wLjEtMC4xLTAuMmMwLjUtMC4xLDEuMi0wLjIsMi0wLjFjMS4yLDAsMi41LDAuMywzLjUsMS4xYzEsMC44LDEuNywxLjgsMi4xLDIuOAoJCQkJQzk2LjEsMjcuOSw5Ni4yLDI4LjMsOTYuMywyOC42eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik04NCwzMi4yYzAsMCwwLTAuMSwwLTAuMWMwLjktMC4yLDIuOS0wLjQsNC43LDAuNmMxLjEsMC43LDEuOSwxLjUsMi40LDIuMwoJCQkJYzAuNCwwLjUsMC42LDEsMC43LDEuM2MtMC40LDAuMS0xLDAuMi0xLjcsMC4zYy0xLDAtMi4xLTAuMS0zLjItMC44cy0xLjktMS42LTIuNC0yLjVDODQuMiwzMi44LDg0LjEsMzIuNSw4NCwzMi4yeiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTExNi4zLDI2LjhsLTEuNCwybC0wLjgtMC44bC0wLjYtMC42bDAsMC45bC0wLjEsOC4yaC02LjgKCQkJCWwtMC4xLTguMmwwLTAuOWwtMC42LDAuNmwtMC44LDAuOGwtMS40LTJsMi42LTIuOWMwLjEtMC4xLDAuMi0wLjEsMC4zLTAuMWgxLjNsMC40LDAuN2MwLjcsMS4zLDIuNiwxLjMsMy4zLTAuMWwwLjMtMC42aDEuMgoJCQkJYzAuMSwwLDAuMiwwLDAuMywwLjFsMC4zLTAuM2wtMC4zLDAuM0wxMTYuMywyNi44eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMTAuMSwyNy43aDJ2MC45YzAsMC40LTAuNCwwLjctMSwwLjdjLTAuNiwwLTEtMC4zLTEtMC43TDExMC4xLDI3LjdMMTEwLjEsMjcuN3oiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNMTI2LjgsMzQuM2MwLDEuMi0xLDIuMi0yLjIsMi4ycy0yLjItMS0yLjItMi4yczEtMi4yLDIuMi0yLjJTMTI2LjgsMzMuMSwxMjYuOCwzNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMzcuNiwzNC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJjLTEuMiwwLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMgoJCQkJQzEzNi42LDMyLjEsMTM3LjYsMzMuMSwxMzcuNiwzNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMjYuOCwyNC40djkuOSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMzcuNywyNC40djkuOSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMjYuOCwyMy41aDEwLjh2Mi43aC0xMC44QzEyNi44LDI2LjIsMTI2LjgsMjMuNSwxMjYuOCwyMy41eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSIjMzM3MUI3IiBkPSJNMTcwLjgsMjMuMUwxNzAuOCwyMy4xYy0wLjMsMC0wLjUsMC0wLjgsMGMtMi4xLDAtNCwxLTUuMywyLjVsLTAuMSwwbC0wLjEtMC4xbC0xLTEuMmwtMC4zLDMuNGwzLjQsMC4zCgkJCQlsLTEuMS0xLjNsLTAuMS0wLjFsMC4xLTAuMWMxLjEtMS41LDMtMi4zLDUtMi4xbDAsMGMzLjIsMC4zLDUuNSwzLjEsNS4yLDYuM2MtMC4zLDMtMy4xLDUuMy02LjEsNS4xYy0zLjEtMC4yLTUuNC0yLjktNS4zLTYKCQkJCWwtMS4zLTAuMWMtMC4yLDMuOCwyLjYsNy4xLDYuMyw3LjRjMy45LDAuMyw3LjMtMi42LDcuNi02LjVDMTc3LjIsMjYuOCwxNzQuNCwyMy41LDE3MC44LDIzLjF6Ii8+CgkJCTxwYXRoIGZpbGw9IiMzMzcxQjciIGQ9Ik0xNzAuMywyNy40YzAtMC4zLTAuMy0wLjYtMC42LTAuNnMtMC42LDAuMy0wLjYsMC42djMuMmMwLDAuMiwwLjEsMC4zLDAuMiwwLjRjMC4xLDAuMSwwLjMsMC4yLDAuNCwwLjIKCQkJCWgyLjRjMC40LDAsMC42LTAuMywwLjYtMC42YzAtMC40LTAuMy0wLjYtMC42LTAuNmgtMS42aC0wLjJ2LTAuMkwxNzAuMywyNy40TDE3MC4zLDI3LjR6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTE4Ni4yLDIzLjRoNy43YzEuNSwwLDIuNywxLjIsMi43LDIuN3Y3LjdjMCwxLjUtMS4yLDIuNy0yLjcsMi43aC03LjcKCQkJCWMtMS41LDAtMi43LTEuMi0yLjctMi43di03LjdDMTgzLjQsMjQuNiwxODQuNywyMy40LDE4Ni4yLDIzLjR6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSIxODYiIGN5PSIyOC45IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSIxOTQiIGN5PSIyNi43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTg2LDMzLjNsMC40LTAuM2MwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMSwwLjQKCQkJCWMwLjUsMC4yLDEsMC4yLDEuNS0wLjFsMC44LTAuNWMwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMS44LDAuOCIvPgoJCTwvZz4KCTwvZz4KCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjI1IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNTYsMjQuM2MtMC4yLTAuMS0wLjQtMC4xLTAuNSwwCgkJYzAsMC0wLjIsMC4xLTAuOSwwLjJjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMC44LTAuMy0xLjctMC41LTIuNS0wLjVjLTAuMiwwLTAuNCwwLTAuNSwwYy0xLjMsMC0yLjUsMC4zLTMuNiwxCgkJYy0wLjIsMC4xLTAuMiwwLjItMC4yLDAuNHYxMS42YzAsMC4zLDAuMSwwLjUsMC4zLDAuNWMwLjYsMCwwLjUtMC40LDAuNS0wLjZ2LTUuN2MwLjctMC4zLDMuMi0xLjEsNS44LTAuMQoJCWMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjgsMCwxLjMtMC4zLDEuMy0wLjNjMC4yLTAuMSwwLjMtMC4yLDAuMy0wLjR2LTUuN0MxNTYuMiwyNC42LDE1Ni4xLDI0LjQsMTU2LDI0LjN6IE0xNTUuNiwzMC4yCgkJYy0wLjEsMC0wLjcsMC4xLTEsMC4xYy0wLjcsMC0yLjQtMC4xLTMuOC0wLjZjLTIuNS0xLTUtMC41LTYuMi0wLjF2LTQuOWMwLjktMC41LDIuMi0wLjcsMy4yLTAuN2MwLjEsMCwwLjMsMCwwLjQsMAoJCWMwLjcsMCwxLjUsMC4yLDIuMiwwLjRjMS42LDAuNiwzLjUsMC43LDQuMywwLjdjMC4yLDAsMC44LDAsMS0wLjFWMzAuMnoiLz4KCTxnPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTQ4LjEsMjMuNWgzLjdjMi41LDAsNC41LDIsNC41LDQuNWMwLDAuNS0wLjQsMC45LTAuOSwwLjlINDQuNWMtMC41LDAtMC45LTAuNC0wLjktMC45CgkJCUM0My42LDI1LjUsNDUuNiwyMy41LDQ4LjEsMjMuNXoiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsMjguOGMtMC4yLDAuMS0wLjUsMS4yLDAsMS41YzEuNCwxLDguNSwwLjgsMTEuMywwLjYKCQkJYzAuOC0wLjEsMS42LTAuNCwxLjctMS4yYzAtMC4zLTAuMS0wLjYtMC42LTAuOSIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMC42TDQzLjMsMzFjLTAuMiwwLjUsMC4yLDEsMC43LDAuOWMwLjMtMC4xLDAuNSwwLDAuNywwLjMKCQkJbDAuMSwwLjJjMC4zLDAuNSwxLDAuNiwxLjUsMC4ybDAsMGMwLjMtMC4yLDAuNy0wLjMsMS0wLjJsMC44LDAuM2MwLjQsMC4yLDAuOCwwLjEsMS4yLDBsMC41LTAuMmMwLjQtMC4yLDAuOS0wLjIsMS4zLDBsMC41LDAuMgoJCQljMC40LDAuMiwwLjgsMC4yLDEuMiwwbDAuMi0wLjFjMC4zLTAuMiwwLjgtMC4yLDEuMSwwLjFsMC4yLDAuMmMwLjMsMC4zLDAuOCwwLjIsMS0wLjJsMC4xLTAuMmMwLjEtMC4yLDAtMC4zLDAuMi0wLjMKCQkJYzAuNSwwLDEuMi0wLjMsMS4xLTAuN2wtMC40LTEuMSIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMi4yYy0wLjEsMC4yLTAuMywwLjgsMCwxLjFjMC4zLDAuNCwzLDEuMSw2LjQsMS4xCgkJCWMyLjIsMCw0LjYtMC4zLDYtMC42YzAuNS0wLjEsMC45LTAuNSwwLjgtMC45YzAtMC4yLTAuMi0wLjUtMC40LTAuNyIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMy4zYzAsMC41LDAuNiwyLjMsMS4zLDIuN2MxLjgsMC44LDUuNywwLjcsOC4xLDAuNQoJCQljMS4zLTAuMSwyLjUtMC43LDMuMi0xLjhjMC4zLTAuNSwwLjUtMSwwLjUtMS40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUxLjYiIGN5PSIyNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUzIiBjeT0iMjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjMzM3MUI3IiBjeD0iNTMiIGN5PSIyNy4yIiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjU0LjMiIGN5PSIyNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUwLjkiIGN5PSIyNSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJPC9nPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNMjQuMiwzMXYtNy42YzAuMSwwLjEsMC44LDAuOSwyLjgsMy4xYzIuNS0xLjYsNS42LTAuNyw2LjksMGwyLjQtMy4xdjcuMQoJCQljMCwxLjItMC4xLDIuNS0wLjksMy40Yy0xLDEuMi0yLjcsMi41LTUuMywyLjVjLTIuOSwwLTQuNS0xLjUtNS4zLTIuOUMyNC4yLDMyLjksMjQuMiwzMiwyNC4yLDMxeiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMjEuMiwzMGw1LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDM0LjFsNS40LTEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCwzMGwtNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCwzNC4xbC01LjQtMS4yIi8+CgkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMzMzcxQjciIGQ9Ik0yOS41LDMyLjRMMjksMzEuN2MtMC4yLTAuMywwLTAuNiwwLjMtMC42aDEuNAoJCQljMC4zLDAsMC41LDAuNCwwLjMsMC42bC0wLjcsMWwwLDBjLTAuNywxLjItMi42LDEuMS0zLjEtMC4zbC0wLjEtMC4yYy0wLjEtMC4yLDAtMC40LDAuMi0wLjVzMC40LDAsMC41LDAuMmwwLjEsMC4yCgkJCUMyOC4zLDMyLjgsMjkuMSwzMi45LDI5LjUsMzIuNHoiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTMyLjQsMzIuMWwtMC4xLDAuMmMtMC40LDEtMS44LDEuMS0yLjMsMC4yIi8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjI3LjYiIGN5PSIyOS43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjMyLjQiIGN5PSIyOS43IiByeD0iMC43IiByeT0iMC43Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xMi44LDQ5LjVjMC42LDAsMS4xLTAuNSwxLjEtMS4xCgkJCWMwLTAuNi0wLjUtMS4yLTEuMS0xLjJjLTAuNiwwLTEuMiwwLjUtMS4yLDEuMkMxMS42LDQ5LDEyLjIsNDkuNSwxMi44LDQ5LjV6IE0xMi44LDQ4YzAuMiwwLDAuNCwwLjIsMC40LDAuNAoJCQljMCwwLjItMC4yLDAuNC0wLjQsMC40Yy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDMTIuNCw0OC4xLDEyLjYsNDgsMTIuOCw0OHoiLz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNC42LDUxLjJjLTAuMS0wLjEtMC4yLTAuMi0wLjMtMC4ySDUuNwoJCQljLTAuMSwwLTAuMiwwLjEtMC4zLDAuMmMtMC4xLDAuMS0wLjEsMC4yLDAsMC40YzAuNywyLDIuNSwzLjMsNC42LDMuM3MzLjktMS4zLDQuNi0zLjNDMTQuNyw1MS41LDE0LjcsNTEuMywxNC42LDUxLjJ6IE0xMCw1NC4xCgkJCWMtMS42LDAtMy0wLjktMy43LTIuMmg3LjNDMTMsNTMuMiwxMS42LDU0LjEsMTAsNTQuMXoiLz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik03LjIsNDkuNWMwLjYsMCwxLjItMC41LDEuMi0xLjEKCQkJYzAtMC42LTAuNS0xLjItMS4yLTEuMmMtMC42LDAtMS4xLDAuNS0xLjEsMS4yQzYuMSw0OSw2LjYsNDkuNSw3LjIsNDkuNXogTTcuMiw0OGMwLjIsMCwwLjQsMC4yLDAuNCwwLjRjMCwwLjItMC4yLDAuNC0wLjQsMC40CgkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40QzYuOCw0OC4xLDcsNDgsNy4yLDQ4eiIvPgoJCTxwYXRoIGZpbGw9IiNDMEMwQkYiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEwLDQzYy0zLjgsMC03LDMuMS03LDdjMCwzLjgsMy4xLDcsNyw3CgkJCXM3LTMuMSw3LTdDMTcsNDYuMiwxMy44LDQzLDEwLDQzeiBNMTAsNTYuMmMtMy40LDAtNi4yLTIuOC02LjItNi4yYzAtMy40LDIuOC02LjIsNi4yLTYuMnM2LjIsMi44LDYuMiw2LjIKCQkJQzE2LjIsNTMuNCwxMy40LDU2LjIsMTAsNTYuMnoiLz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik02NC4xLDUzLjRsMi4zLDBjMC4yLDAsMC40LDAuMiwwLjQsMC40djIuMWMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuMwoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjR2LTIuMUM2My43LDUzLjYsNjMuOCw1My40LDY0LjEsNTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNzMuNSw1My41aDIuNGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2MmMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuNAoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRsMC0yQzczLjEsNTMuNiw3My4zLDUzLjUsNzMuNSw1My41eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik02My43LDQ4LjRoMTIuNnY1SDYzLjdWNDguNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNjUuNSw0My42aDguOWMxLDAsMS45LDAuOCwxLjksMS45djMuMUg2My43di0zLjFDNjMuNyw0NC41LDY0LjUsNDMuNiw2NS41LDQzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiNDMEMwQkYiIGN4PSI2Ni4yIiBjeT0iNTAuOSIgcng9IjAuOSIgcnk9IjEiLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjczLjgiIGN5PSI1MC45IiByeD0iMC45IiByeT0iMSIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik05Ni40LDUwYzAsMy42LTIuOSw2LjUtNi40LDYuNXMtNi40LTIuOS02LjQtNi41czIuOS02LjUsNi40LTYuNVM5Ni40LDQ2LjQsOTYuNCw1MHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNOTYuMyw0OC42YzAsMCwwLDAuMSwwLDAuMWMtMC45LDAuMS0yLjksMC4xLTQuNi0xLjJjLTEuMS0wLjgtMi0xLjctMi42LTIuNQoJCQkJYy0wLjMtMC40LTAuNi0wLjgtMC43LTFjLTAuMS0wLjEtMC4xLTAuMi0wLjEtMC4yYzAuNS0wLjEsMS4yLTAuMiwyLTAuMmMxLjIsMCwyLjUsMC4zLDMuNSwxLjFjMSwwLjgsMS43LDEuOCwyLjEsMi44CgkJCQlDOTYuMSw0Ny45LDk2LjIsNDguMyw5Ni4zLDQ4LjZ6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTg0LDUyLjJjMCwwLDAtMC4xLDAtMC4xYzAuOS0wLjIsMi45LTAuNCw0LjcsMC42YzEuMSwwLjcsMS45LDEuNSwyLjQsMi4zCgkJCQljMC40LDAuNSwwLjYsMSwwLjcsMS4zYy0wLjQsMC4xLTEsMC4yLTEuNywwLjNjLTEsMC0yLjEtMC4xLTMuMi0wLjhzLTEuOS0xLjYtMi40LTIuNUM4NC4yLDUyLjgsODQuMSw1Mi41LDg0LDUyLjJ6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNDYuOGwtMS40LDJsLTAuOC0wLjhsLTAuNi0wLjdsMCwwLjlsLTAuMSw4LjJoLTYuOAoJCQkJbC0wLjEtOC4ybDAtMC45bC0wLjYsMC43bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDQ2Ljh6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTExMC4xLDQ3LjdoMnYwLjljMCwwLjQtMC40LDAuNy0xLDAuN2MtMC42LDAtMS0wLjMtMS0wLjdMMTEwLjEsNDcuN0wxMTAuMSw0Ny43eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik0xMjYuOCw1NC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJzLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMlMxMjYuOCw1My4xLDEyNi44LDU0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEzNy42LDU0LjNjMCwxLjItMSwyLjItMi4yLDIuMmMtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yCgkJCQlDMTM2LjYsNTIuMSwxMzcuNiw1My4xLDEzNy42LDU0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEyNi44LDQ0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEzNy43LDQ0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEyNi44LDQzLjVoMTAuOHYyLjdoLTEwLjhDMTI2LjgsNDYuMiwxMjYuOCw0My41LDEyNi44LDQzLjV6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiNDMEMwQkYiIGQ9Ik0xNzAuOCw0My4xTDE3MC44LDQzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjUsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJbC0xLjMtMC4xYy0wLjIsMy44LDIuNiw3LjEsNi4zLDcuNGMzLjksMC4zLDcuMy0yLjYsNy42LTYuNUMxNzcuMiw0Ni44LDE3NC40LDQzLjUsMTcwLjgsNDMuMXoiLz4KCQkJPHBhdGggZmlsbD0iI0MwQzBCRiIgZD0iTTE3MC4zLDQ3LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42cy0wLjYsMC4zLTAuNiwwLjZ2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZjMC0wLjMtMC4zLTAuNi0wLjYtMC42aC0xLjZoLTAuMnYtMC4yTDE3MC4zLDQ3LjRMMTcwLjMsNDcuNHoiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNMTg2LjIsNDMuNGg3LjdjMS41LDAsMi43LDEuMiwyLjcsMi43djcuN2MwLDEuNS0xLjIsMi43LTIuNywyLjdoLTcuNwoJCQkJYy0xLjUsMC0yLjctMS4yLTIuNy0yLjd2LTcuN0MxODMuNCw0NC43LDE4NC43LDQzLjQsMTg2LjIsNDMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjE4NiIgY3k9IjQ4LjkiIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjE5NCIgY3k9IjQ2LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0xODYsNTMuM2wwLjQtMC4zYzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLDAuNAoJCQkJYzAuNSwwLjIsMSwwLjIsMS41LTAuMWwwLjgtMC41YzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLjgsMC44Ii8+CgkJPC9nPgoJPC9nPgoJPHBhdGggZmlsbD0iI0MwQzBCRiIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2Utd2lkdGg9IjAuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1Niw0NC4zYy0wLjItMC4xLTAuNC0wLjEtMC41LDAKCQljMCwwLTAuMiwwLjEtMC45LDAuMmMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCQljLTAuMiwwLjEtMC4yLDAuMi0wLjIsMC40djExLjZjMCwwLjMsMC4xLDAuNSwwLjMsMC41YzAuNiwwLDAuNS0wLjQsMC41LTAuNnYtNS43YzAuNy0wLjMsMy4yLTEuMSw1LjgtMC4xCgkJYzEuNiwwLjYsMy41LDAuNyw0LjMsMC43YzAuOCwwLDEuMy0wLjMsMS4zLTAuM2MwLjItMC4xLDAuMy0wLjIsMC4zLTAuNHYtNS43QzE1Ni4yLDQ0LjYsMTU2LjEsNDQuNCwxNTYsNDQuM3ogTTE1NS42LDUwLjIKCQljLTAuMSwwLTAuNywwLjEtMSwwLjFjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMi41LTEtNS0wLjUtNi4yLTAuMXYtNC45YzAuOS0wLjUsMi4yLTAuNywzLjItMC43YzAuMSwwLDAuMywwLDAuNCwwCgkJYzAuNywwLDEuNSwwLjIsMi4yLDAuNGMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVY1MC4yeiIvPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNDguMSw0My41aDMuN2MyLjUsMCw0LjUsMiw0LjUsNC41YzAsMC41LTAuNCwwLjktMC45LDAuOUg0NC41Yy0wLjUsMC0wLjktMC40LTAuOS0wLjkKCQkJQzQzLjYsNDUuNSw0NS42LDQzLjUsNDguMSw0My41eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw0OC44Yy0wLjIsMC4xLTAuNSwxLjIsMCwxLjVjMS40LDEsOC41LDAuOCwxMS4zLDAuNgoJCQljMC44LTAuMSwxLjYtMC40LDEuNy0xLjJjMC0wLjMtMC4xLTAuNi0wLjYtMC45Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUwLjZMNDMuMyw1MWMtMC4yLDAuNSwwLjIsMSwwLjcsMC45YzAuMy0wLjEsMC41LDAsMC43LDAuMwoJCQlsMC4xLDAuMmMwLjMsMC41LDEsMC42LDEuNSwwLjJsMCwwYzAuMy0wLjIsMC43LTAuMywxLTAuMmwwLjgsMC4zYzAuNCwwLjIsMC44LDAuMSwxLjIsMGwwLjUtMC4yYzAuNC0wLjIsMC45LTAuMiwxLjMsMGwwLjUsMC4yCgkJCWMwLjQsMC4yLDAuOCwwLjIsMS4yLDBsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjIsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yYzAuMS0wLjIsMC0wLjMsMC4yLTAuMwoJCQljMC41LDAsMS4yLTAuMywxLjEtMC43bC0wLjQtMS4xIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUyLjJjLTAuMSwwLjItMC4zLDAuOCwwLDEuMWMwLjMsMC40LDMsMS4xLDYuNCwxLjEKCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC41LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUzLjNjMCwwLjUsMC42LDIuMywxLjMsMi43YzEuOCwwLjgsNS43LDAuNyw4LjEsMC41CgkJCWMxLjMtMC4xLDIuNS0wLjcsMy4yLTEuOGMwLjMtMC41LDAuNS0xLDAuNS0xLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTEuNiIgY3k9IjQ2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTMiIGN5PSI0NSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCTxlbGxpcHNlIGZpbGw9IiNDMEMwQkYiIGN4PSI1MyIgY3k9IjQ3LjIiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTQuMyIgY3k9IjQ2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTAuOSIgY3k9IjQ1IiByeD0iMC4zIiByeT0iMC40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik0yNC4yLDUxdi03LjZjMC4xLDAuMSwwLjgsMC45LDIuOCwzLjFjMi41LTEuNyw1LjYtMC43LDYuOSwwbDIuNC0zLjF2Ny4xCgkJCWMwLDEuMi0wLjEsMi41LTAuOSwzLjRjLTEsMS4yLTIuNywyLjUtNS4zLDIuNWMtMi45LDAtNC41LTEuNS01LjMtMi45QzI0LjIsNTIuOSwyNC4yLDUyLDI0LjIsNTF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDUwbDUuNCwxLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTIxLjIsNTQuMWw1LjQtMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDUwbC01LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDU0LjFsLTUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0MwQzBCRiIgZD0iTTI5LjUsNTIuNEwyOSw1MS43Yy0wLjItMC4zLDAtMC42LDAuMy0wLjZoMS40CgkJCWMwLjMsMCwwLjUsMC40LDAuMywwLjZsLTAuNywxbDAsMGMtMC43LDEuMi0yLjYsMS4xLTMuMS0wLjNsLTAuMS0wLjJjLTAuMS0wLjIsMC0wLjQsMC4yLTAuNXMwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsNTIuOCwyOS4xLDUyLjksMjkuNSw1Mi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCw1Mi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iMjcuNiIgY3k9IjQ5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iMzIuNCIgY3k9IjQ5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjYsNzEuMmMtMC4xLTAuMS0wLjItMC4yLTAuMy0wLjJINS43CgkJCWMtMC4xLDAtMC4yLDAuMS0wLjMsMC4yYy0wLjEsMC4xLTAuMSwwLjIsMCwwLjRjMC43LDIsMi41LDMuMyw0LjYsMy4zczMuOS0xLjMsNC42LTMuM0MxNC43LDcxLjUsMTQuNyw3MS4zLDE0LjYsNzEuMnogTTEwLDc0LjEKCQkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMyw3My4yLDExLjYsNzQuMSwxMCw3NC4xeiIvPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjgsNjkuNWMwLjYsMCwxLjEtMC41LDEuMS0xLjEKCQkJYzAtMC42LTAuNS0xLjItMS4xLTEuMmMtMC42LDAtMS4yLDAuNS0xLjIsMS4yQzExLjYsNjksMTIuMiw2OS41LDEyLjgsNjkuNXogTTEyLjgsNjhjMC4yLDAsMC40LDAuMiwwLjQsMC40CgkJCWMwLDAuMi0wLjIsMC40LTAuNCwwLjRjLTAuMiwwLTAuNC0wLjItMC40LTAuNEMxMi40LDY4LjEsMTIuNiw2OCwxMi44LDY4eiIvPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiw2OS41YzAuNiwwLDEuMi0wLjUsMS4yLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjItMS4yYy0wLjYsMC0xLjEsMC41LTEuMSwxLjJDNi4xLDY5LDYuNiw2OS41LDcuMiw2OS41eiBNNy4yLDY4YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDNi44LDY4LjEsNyw2OCw3LjIsNjh6Ii8+CgkJPHBhdGggZmlsbD0iIzZBQTlERCIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsNjNjLTMuOCwwLTcsMy4xLTcsN2MwLDMuOCwzLjEsNyw3LDcKCQkJczctMy4xLDctN0MxNyw2Ni4yLDEzLjgsNjMsMTAsNjN6IE0xMCw3Ni4yYy0zLjQsMC02LjItMi44LTYuMi02LjJjMC0zLjQsMi44LTYuMiw2LjItNi4yczYuMiwyLjgsNi4yLDYuMgoJCQlDMTYuMiw3My40LDEzLjQsNzYuMiwxMCw3Ni4yeiIvPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTY0LjEsNzMuNGwyLjMsMGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2Mi4xYzAsMC4yLTAuMiwwLjQtMC40LDAuNGgtMi4zCgkJCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNHYtMi4xQzYzLjcsNzMuNiw2My44LDczLjQsNjQuMSw3My40eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik03My41LDczLjVoMi40YzAuMiwwLDAuNCwwLjIsMC40LDAuNHYyLjFjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjQKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40bDAtMi4xQzczLjEsNzMuNiw3My4zLDczLjUsNzMuNSw3My41eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik02My43LDY4LjRoMTIuNnY1SDYzLjdWNjguNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNNjUuNSw2My42aDguOWMxLDAsMS45LDAuOCwxLjksMS45djMuMUg2My43di0zLjFDNjMuNyw2NC41LDY0LjUsNjMuNiw2NS41LDYzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM2QUE5REQiIGN4PSI2Ni4yIiBjeT0iNzAuOSIgcng9IjAuOSIgcnk9IjAuOSIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNzMuOCIgY3k9IjcwLjkiIHJ4PSIwLjkiIHJ5PSIwLjkiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNOTYuNCw3MGMwLDMuNi0yLjksNi41LTYuNCw2LjVzLTYuNC0yLjktNi40LTYuNXMyLjktNi41LDYuNC02LjVTOTYuNCw2Ni40LDk2LjQsNzB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTk2LjMsNjguNmMwLDAsMCwwLjEsMCwwLjFjLTAuOSwwLjEtMi45LDAuMS00LjYtMS4yYy0xLjEtMC44LTItMS43LTIuNi0yLjUKCQkJCWMtMC4zLTAuNC0wLjYtMC44LTAuNy0xLjFjLTAuMS0wLjEtMC4xLTAuMi0wLjEtMC4yYzAuNS0wLjEsMS4yLTAuMiwyLTAuMmMxLjIsMCwyLjUsMC4zLDMuNSwxLjFjMSwwLjgsMS43LDEuOCwyLjEsMi44CgkJCQlDOTYuMSw2Ny45LDk2LjIsNjguMyw5Ni4zLDY4LjZ6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTg0LDcyLjJjMCwwLDAtMC4xLDAtMC4xYzAuOS0wLjIsMi45LTAuNCw0LjcsMC42YzEuMSwwLjcsMS45LDEuNSwyLjQsMi4zCgkJCQljMC40LDAuNSwwLjYsMSwwLjcsMS4zYy0wLjQsMC4xLTEsMC4yLTEuNywwLjNjLTEsMC0yLjEtMC4xLTMuMi0wLjhzLTEuOS0xLjYtMi40LTIuNUM4NC4yLDcyLjgsODQuMSw3Mi40LDg0LDcyLjJ6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNjYuOGwtMS40LDJsLTAuOC0wLjhsLTAuNi0wLjdsMCwwLjlsLTAuMSw4LjJoLTYuOAoJCQkJbC0wLjEtOC4ybDAtMC45bC0wLjYsMC43bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDY2Ljh6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTExMC4xLDY3LjdoMnYwLjljMCwwLjQtMC40LDAuNy0xLDAuN2MtMC42LDAtMS0wLjMtMS0wLjdMMTEwLjEsNjcuN0wxMTAuMSw2Ny43eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik0xMjYuOCw3NC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJzLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMlMxMjYuOCw3My4xLDEyNi44LDc0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEzNy42LDc0LjNjMCwxLjItMSwyLjItMi4yLDIuMmMtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yCgkJCQlDMTM2LjYsNzIuMSwxMzcuNiw3My4xLDEzNy42LDc0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEyNi44LDY0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEzNy43LDY0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEyNi44LDYzLjVoMTAuOHYyLjdoLTEwLjhDMTI2LjgsNjYuMiwxMjYuOCw2My41LDEyNi44LDYzLjV6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik0xNzAuOCw2My4xTDE3MC44LDYzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjQsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJbC0xLjMtMC4xYy0wLjIsMy44LDIuNiw3LjEsNi4zLDcuNGMzLjksMC4zLDcuMy0yLjYsNy42LTYuNUMxNzcuMiw2Ni44LDE3NC40LDYzLjUsMTcwLjgsNjMuMXoiLz4KCQkJPHBhdGggZmlsbD0iIzZBQTlERCIgZD0iTTE3MC4zLDY3LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42cy0wLjYsMC4zLTAuNiwwLjZ2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZTMTcyLjQsNzAsMTcyLDcwaC0xLjZoLTAuMnYtMC4yTDE3MC4zLDY3LjRMMTcwLjMsNjcuNHoiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNMTg2LjIsNjMuNGg3LjdjMS41LDAsMi43LDEuMiwyLjcsMi43djcuN2MwLDEuNS0xLjIsMi43LTIuNywyLjdoLTcuNwoJCQkJYy0xLjUsMC0yLjctMS4yLTIuNy0yLjd2LTcuN0MxODMuNCw2NC43LDE4NC43LDYzLjQsMTg2LjIsNjMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzZBQTlERCIgY3g9IjE4NiIgY3k9IjY4LjkiIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzZBQTlERCIgY3g9IjE5NCIgY3k9IjY2LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0xODYsNzMuM2wwLjQtMC4zYzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLDAuNAoJCQkJYzAuNSwwLjIsMSwwLjIsMS41LTAuMWwwLjgtMC41YzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLjgsMC44Ii8+CgkJPC9nPgoJPC9nPgoJPHBhdGggZmlsbD0iIzZBQTlERCIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2Utd2lkdGg9IjAuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1Niw2NC4zYy0wLjItMC4xLTAuNC0wLjEtMC41LDAKCQljMCwwLTAuMiwwLjEtMC45LDAuMmMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCQljLTAuMiwwLjEtMC4yLDAuMi0wLjIsMC40djExLjZjMCwwLjMsMC4xLDAuNSwwLjMsMC41YzAuNiwwLDAuNS0wLjQsMC41LTAuNnYtNS43YzAuNy0wLjMsMy4yLTEuMSw1LjgtMC4xCgkJYzEuNiwwLjYsMy41LDAuNyw0LjMsMC43YzAuOCwwLDEuMy0wLjMsMS4zLTAuM2MwLjItMC4xLDAuMy0wLjIsMC4zLTAuNHYtNS43QzE1Ni4yLDY0LjYsMTU2LjEsNjQuNCwxNTYsNjQuM3ogTTE1NS42LDcwLjIKCQljLTAuMSwwLTAuNywwLjEtMSwwLjFjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMi41LTEtNS0wLjUtNi4yLTAuMXYtNC45YzAuOS0wLjUsMi4yLTAuNywzLjItMC43YzAuMSwwLDAuMywwLDAuNCwwCgkJYzAuNywwLDEuNSwwLjIsMi4yLDAuNGMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVY3MC4yeiIvPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNNDguMSw2My41aDMuN2MyLjUsMCw0LjUsMiw0LjUsNC41YzAsMC41LTAuNCwwLjktMC45LDAuOUg0NC41Yy0wLjUsMC0wLjktMC40LTAuOS0wLjkKCQkJQzQzLjYsNjUuNSw0NS42LDYzLjUsNDguMSw2My41eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw2OC44Yy0wLjIsMC4xLTAuNSwxLjIsMCwxLjVjMS40LDAuOSw4LjUsMC44LDExLjMsMC42CgkJCWMwLjgtMC4xLDEuNi0wLjQsMS43LTEuMmMwLTAuMy0wLjEtMC42LTAuNi0wLjkiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsNzAuNkw0My4zLDcxYy0wLjIsMC41LDAuMiwxLDAuNywwLjljMC4zLTAuMSwwLjUsMC4xLDAuNywwLjMKCQkJbDAuMSwwLjJjMC4zLDAuNSwxLDAuNiwxLjUsMC4ybDAsMGMwLjMtMC4yLDAuNy0wLjMsMS0wLjJsMC44LDAuM2MwLjQsMC4yLDAuOCwwLjEsMS4yLDBsMC41LTAuMmMwLjQtMC4yLDAuOS0wLjIsMS4zLDBsMC41LDAuMgoJCQljMC40LDAuMiwwLjgsMC4yLDEuMi0wLjFsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjIsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yYzAuMS0wLjIsMC0wLjMsMC4yLTAuMwoJCQljMC41LDAsMS4yLTAuMywxLjEtMC43bC0wLjQtMS4xIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDcyLjJjLTAuMSwwLjItMC4zLDAuOCwwLDEuMWMwLjMsMC40LDMsMS4xLDYuNCwxLjEKCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC40LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDczLjNjMCwwLjUsMC42LDIuMywxLjMsMi43YzEuOCwwLjgsNS43LDAuNyw4LjEsMC41CgkJCWMxLjMtMC4xLDIuNS0wLjcsMy4yLTEuOGMwLjMtMC41LDAuNS0xLDAuNS0xLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTEuNiIgY3k9IjY2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTMiIGN5PSI2NSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCTxlbGxpcHNlIGZpbGw9IiM2QUE5REQiIGN4PSI1MyIgY3k9IjY3LjIiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTQuMyIgY3k9IjY2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTAuOSIgY3k9IjY1IiByeD0iMC4zIiByeT0iMC40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik0yNC4yLDcxdi03LjZjMC4xLDAuMSwwLjgsMC45LDIuOCwzLjFjMi41LTEuNyw1LjYtMC43LDYuOSwwbDIuNC0zLjF2Ny4xCgkJCWMwLDEuMi0wLjEsMi41LTAuOSwzLjRjLTEsMS4yLTIuNywyLjUtNS4zLDIuNWMtMi45LDAtNC41LTEuNS01LjMtMi45QzI0LjIsNzIuOSwyNC4yLDcyLDI0LjIsNzF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDcwLjFsNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMjEuMiw3NC4xbDUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTM4LjgsNzAuMWwtNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCw3NC4xbC01LjQtMS4yIi8+CgkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiM2QUE5REQiIGQ9Ik0yOS41LDcyLjRMMjksNzEuN2MtMC4yLTAuMywwLTAuNiwwLjMtMC42aDEuNAoJCQljMC4zLDAsMC41LDAuNCwwLjMsMC42bC0wLjcsMWwwLDBjLTAuNywxLjItMi42LDEuMS0zLjEtMC4zbC0wLjEtMC4yYy0wLjEtMC4yLDAtMC40LDAuMi0wLjVjMC4yLTAuMSwwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsNzIuOCwyOS4xLDcyLjksMjkuNSw3Mi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCw3Mi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iMjcuNiIgY3k9IjY5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iMzIuNCIgY3k9IjY5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCTwvZz4KPC9nPgo8Zz4KCTxwYXRoIGZpbGw9IiM4Njg2ODYiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjgsOS41YzAuNiwwLDEuMS0wLjUsMS4xLTEuMgoJCWMwLTAuNi0wLjUtMS4xLTEuMS0xLjFjLTAuNiwwLTEuMiwwLjUtMS4yLDEuMVMxMi4yLDkuNSwxMi44LDkuNXogTTEyLjgsNy45YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNEMxMi40LDguMSwxMi42LDcuOSwxMi44LDcuOXoiLz4KCTxwYXRoIGZpbGw9IiM4Njg2ODYiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiw5LjVjMC42LDAsMS4yLTAuNSwxLjItMS4yCgkJYzAtMC42LTAuNS0xLjEtMS4yLTEuMWMtMC42LDAtMS4xLDAuNS0xLjEsMS4xUzYuNiw5LjUsNy4yLDkuNXogTTcuMiw3LjljMC4yLDAsMC40LDAuMiwwLjQsMC40YzAsMC4yLTAuMiwwLjQtMC40LDAuNAoJCUM3LDguNyw2LjgsOC41LDYuOCw4LjNDNi44LDguMSw3LDcuOSw3LjIsNy45eiIvPgoJPHBhdGggZmlsbD0iIzg2ODY4NiIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTQuNiwxMS4yYy0wLjEtMC4xLTAuMi0wLjItMC4zLTAuMkg1LjcKCQljLTAuMSwwLTAuMiwwLjEtMC4zLDAuMmMtMC4xLDAuMS0wLjEsMC4yLDAsMC40YzAuNywyLDIuNSwzLjMsNC42LDMuM3MzLjktMS4zLDQuNi0zLjNDMTQuNywxMS40LDE0LjcsMTEuMywxNC42LDExLjJ6IE0xMCwxNC4xCgkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMywxMy4yLDExLjYsMTQuMSwxMCwxNC4xeiIvPgoJPHBhdGggZmlsbD0iIzg2ODY4NiIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsM2MtMy44LDAtNywzLjEtNyw3czMuMSw3LDcsN3M3LTMuMSw3LTcKCQlTMTMuOCwzLDEwLDN6IE0xMCwxNi4yYy0zLjQsMC02LjItMi44LTYuMi02LjJTNi42LDMuOCwxMCwzLjhzNi4yLDIuOCw2LjIsNi4yUzEzLjQsMTYuMiwxMCwxNi4yeiIvPgo8L2c+CjxnIGlkPSJDYXJfMDAwMDAwMTg5MzUzOTUwODU0MTM0MTM3NTAwMDAwMDA4MjUyNzM4Nzc4NDI3NzU3MTVfIj4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik02NC4xLDEzLjRsMi4zLDBjMC4yLDAsMC40LDAuMiwwLjQsMC40djIuMWMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuMwoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjR2LTIuMUM2My43LDEzLjYsNjMuOCwxMy40LDY0LjEsMTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNNzMuNSwxMy40aDIuNGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2Mi4xYzAsMC4yLTAuMiwwLjQtMC40LDAuNGgtMi40CgkJCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNGwwLTIuMUM3My4xLDEzLjYsNzMuMywxMy40LDczLjUsMTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNNjMuNyw4LjRoMTIuNnY1SDYzLjdWOC40eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik02NS41LDMuNmg4LjljMSwwLDEuOSwwLjgsMS45LDEuOXYzLjFINjMuN1Y1LjVDNjMuNyw0LjQsNjQuNSwzLjYsNjUuNSwzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI2Ni4yIiBjeT0iMTAuOSIgcng9IjAuOSIgcnk9IjAuOSIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNzMuOCIgY3k9IjEwLjkiIHJ4PSIwLjkiIHJ5PSIwLjkiLz4KCQk8L2c+Cgk8L2c+CjwvZz4KPGcgaWQ9IkFjdGl2aXRpZXMiPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTk2LjQsMTBjMCwzLjYtMi45LDYuNS02LjQsNi41cy02LjQtMi45LTYuNC02LjVzMi45LTYuNSw2LjQtNi41Uzk2LjQsNi40LDk2LjQsMTB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTk2LjMsOC42YzAsMCwwLDAuMSwwLDAuMWMtMC45LDAuMS0yLjksMC4xLTQuNi0xLjJjLTEuMS0wLjgtMi0xLjctMi42LTIuNQoJCQkJYy0wLjMtMC40LTAuNi0wLjgtMC43LTEuMWMtMC4xLTAuMS0wLjEtMC4yLTAuMS0wLjJjMC41LTAuMSwxLjItMC4yLDItMC4yYzEuMiwwLDIuNSwwLjMsMy41LDEuMWMxLDAuOCwxLjcsMS44LDIuMSwyLjgKCQkJCUM5Ni4xLDcuOSw5Ni4yLDguMyw5Ni4zLDguNnoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNODQsMTIuMWMwLDAsMC0wLjEsMC0wLjFjMC45LTAuMiwyLjktMC40LDQuNywwLjZjMS4xLDAuNiwxLjksMS41LDIuNCwyLjMKCQkJCWMwLjQsMC41LDAuNiwxLDAuNywxLjNjLTAuNCwwLjEtMSwwLjItMS43LDAuM2MtMSwwLTIuMS0wLjEtMy4yLTAuOGMtMS4xLTAuNi0xLjktMS42LTIuNC0yLjVDODQuMiwxMi44LDg0LjEsMTIuNCw4NCwxMi4xeiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyBpZD0iT2JqZWN0c18wMDAwMDA2NDMxMjM3MTczOTEzMDMxNTI1MDAwMDAxMDIyNTg4OTAzMjIyODYzMjk3NV8iPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNi44bC0xLjQsMkwxMTQuMSw4bC0wLjYtMC43bDAsMC45bC0wLjEsOC4yaC02LjhsLTAuMS04LjIKCQkJCWwwLTAuOUwxMDUuOSw4bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDYuOHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTEwLjEsNy43aDJ2MC45YzAsMC40LTAuNCwwLjctMSwwLjdjLTAuNiwwLTEtMC4zLTEtMC43TDExMC4xLDcuN0wxMTAuMSw3Ljd6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJTeW1ib2xzXzAwMDAwMDk2NzQ2OTA3ODY5OTI5OTIxMTgwMDAwMDA2NDg0ODEyODMwMjgyNTgyNDE2XyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTI2LjgsMTQuM2MwLDEuMi0xLDIuMi0yLjIsMi4ycy0yLjItMS0yLjItMi4yczEtMi4yLDIuMi0yLjJTMTI2LjgsMTMuMSwxMjYuOCwxNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xMzcuNiwxNC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJjLTEuMiwwLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMgoJCQkJQzEzNi42LDEyLjEsMTM3LjYsMTMuMSwxMzcuNiwxNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xMjYuOCw0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTEzNy43LDQuNHY5LjkiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTI2LjgsMy41aDEwLjh2Mi43aC0xMC44QzEyNi44LDYuMiwxMjYuOCwzLjUsMTI2LjgsMy41eiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjZW50cyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0iIzg2ODY4NiIgZD0iTTE3MC44LDMuMUwxNzAuOCwzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjQsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJTDE2Myw5LjVjLTAuMiwzLjgsMi42LDcuMSw2LjMsNy40YzMuOSwwLjQsNy4zLTIuNiw3LjYtNi41QzE3Ny4yLDYuOCwxNzQuNCwzLjUsMTcwLjgsMy4xeiIvPgoJCQk8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNMTcwLjMsNy40YzAtMC4zLTAuMy0wLjYtMC42LTAuNlMxNjksNy4xLDE2OSw3LjR2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZzLTAuMy0wLjYtMC42LTAuNmgtMS42aC0wLjJWOS44TDE3MC4zLDcuNEwxNzAuMyw3LjR6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJDdXN0b21fMDAwMDAxODEwODcyMjk0MzQzMDIzMzY3ODAwMDAwMDUxNTIyNzc5NDU5NDA2NzQ0ODhfIj4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xODYuMiwzLjRoNy43YzEuNSwwLDIuNywxLjIsMi43LDIuN3Y3LjdjMCwxLjUtMS4yLDIuNy0yLjcsMi43aC03LjcKCQkJCWMtMS41LDAtMi43LTEuMi0yLjctMi43VjYuMUMxODMuNCw0LjYsMTg0LjcsMy40LDE4Ni4yLDMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzg2ODY4NiIgY3g9IjE4NiIgY3k9IjguOSIgcng9IjAuNyIgcnk9IjAuNyIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iMTk0IiBjeT0iNi43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTg2LDEzLjNsMC40LTAuM2MwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMSwwLjQKCQkJCWMwLjUsMC4yLDEsMC4yLDEuNS0wLjFsMC44LTAuNWMwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMS44LDAuOCIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS13aWR0aD0iMC4yNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTU2LDQuM2MtMC4yLTAuMS0wLjQtMC4xLTAuNSwwCgljMCwwLTAuMiwwLjEtMC45LDAuMWMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCWMtMC4yLDAuMS0wLjIsMC4yLTAuMiwwLjR2MTEuNmMwLDAuMywwLjEsMC41LDAuMywwLjVjMC42LDAsMC41LTAuNCwwLjUtMC42di01LjdjMC43LTAuMywzLjItMS4xLDUuOC0wLjFjMS42LDAuNiwzLjUsMC43LDQuMywwLjcKCWMwLjgsMCwxLjMtMC4zLDEuMy0wLjNjMC4yLTAuMSwwLjMtMC4yLDAuMy0wLjRWNC43QzE1Ni4yLDQuNSwxNTYuMSw0LjQsMTU2LDQuM3ogTTE1NS42LDEwLjJjLTAuMSwwLTAuNywwLjEtMSwwLjEKCWMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0yLjUtMS01LTAuNS02LjItMC4xVjQuN2MwLjktMC41LDIuMi0wLjcsMy4yLTAuN2MwLjEsMCwwLjMsMCwwLjQsMGMwLjcsMCwxLjUsMC4yLDIuMiwwLjQKCWMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVYxMC4yeiIvPgo8ZyBpZD0iRm9vZCI+Cgk8ZyBpZD0iTGF5ZXJfMTIiPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik00OC4xLDMuNWgzLjdjMi41LDAsNC41LDIsNC41LDQuNWMwLDAuNS0wLjQsMC45LTAuOSwwLjlINDQuNWMtMC41LDAtMC45LTAuNC0wLjktMC45CgkJCQlDNDMuNiw1LjUsNDUuNiwzLjUsNDguMSwzLjV6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw4LjdjLTAuMiwwLjEtMC41LDEuMiwwLDEuNWMxLjQsMC45LDguNSwwLjgsMTEuMywwLjYKCQkJCWMwLjgtMC4xLDEuNi0wLjQsMS43LTEuMmMwLTAuMy0wLjEtMC42LTAuNi0wLjkiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDEwLjZMNDMuMywxMWMtMC4yLDAuNSwwLjIsMSwwLjcsMC45CgkJCQljMC4zLTAuMSwwLjUsMC4xLDAuNywwLjNsMC4xLDAuMmMwLjMsMC41LDEsMC42LDEuNSwwLjJsMCwwYzAuMy0wLjIsMC43LTAuMywxLTAuMmwwLjgsMC4zYzAuNCwwLjEsMC44LDAuMSwxLjIsMGwwLjUtMC4yCgkJCQljMC40LTAuMiwwLjktMC4yLDEuMywwbDAuNSwwLjJjMC40LDAuMiwwLjgsMC4xLDEuMi0wLjFsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjEsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yCgkJCQljMC4xLTAuMiwwLTAuMywwLjItMC40YzAuNSwwLDEuMi0wLjMsMS4xLTAuN2wtMC40LTEuMSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsMTIuMWMtMC4xLDAuMi0wLjMsMC44LDAsMS4xYzAuMywwLjQsMywxLjEsNi40LDEuMQoJCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC40LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwxMy4zYzAsMC41LDAuNiwyLjQsMS4zLDIuNmMxLjgsMC44LDUuNywwLjcsOC4xLDAuNQoJCQkJYzEuMy0wLjEsMi41LTAuNywzLjItMS44YzAuMy0wLjUsMC41LTEsMC41LTEuNCIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNTEuNiIgY3k9IjYuNSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNTMiIGN5PSI0LjkiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzg2ODY4NiIgY3g9IjUzIiBjeT0iNy4yIiByeD0iMC4zIiByeT0iMC40Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI1NC4zIiBjeT0iNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI1MC45IiBjeT0iNC45IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJBbmltYWxzIj4KCTxnPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTI0LjIsMTFWMy41YzAuMSwwLjEsMC44LDAuOSwyLjgsMy4xYzIuNS0xLjcsNS42LTAuNyw2LjksMGwyLjQtMy4xdjcuMQoJCQljMCwxLjItMC4xLDIuNS0wLjksMy40Yy0xLDEuMi0yLjcsMi41LTUuMywyLjVjLTIuOSwwLTQuNS0xLjUtNS4zLTIuOUMyNC4yLDEyLjksMjQuMiwxMS45LDI0LjIsMTF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDEwbDUuNCwxLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTIxLjIsMTQuMWw1LjQtMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDEwbC01LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDE0LjFsLTUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzg2ODY4NiIgZD0iTTI5LjUsMTIuNEwyOSwxMS43Yy0wLjItMC4zLDAtMC42LDAuMy0wLjZoMS40CgkJCWMwLjMsMCwwLjUsMC40LDAuMywwLjZsLTAuNywxbDAsMGMtMC43LDEuMi0yLjYsMS4xLTMuMS0wLjNsLTAuMS0wLjJjLTAuMS0wLjIsMC0wLjQsMC4yLTAuNXMwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsMTIuNywyOS4xLDEyLjksMjkuNSwxMi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCwxMi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iMjcuNiIgY3k9IjkuNyIgcng9IjAuNyIgcnk9IjAuNyIvPgoJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSIzMi40IiBjeT0iOS43IiByeD0iMC43IiByeT0iMC43Ii8+Cgk8L2c+CjwvZz4KPC9zdmc+";function KIe(t){var r,s=t.isActiveCategory,a=t.category,i=t.allowNavigation,o=t.categoryConfig,l=t.onClick;return u.createElement(px,{tabIndex:i?0:-1,className:Mr(eTe.catBtn,lf.categoryBtn,"epr-icn-"+a,(r={},r[wr.active]=s,r)),onClick:l,"aria-label":_q(o),"aria-selected":s,role:"tab","aria-controls":"epr-category-nav-id"})}var b8={backgroundPositionY:"calc(var(--epr-category-navigation-button-size) * 3)"},XIe={backgroundPositionY:"calc(var(--epr-category-navigation-button-size) * 2)"},w8={":not(.epr-search-active)":{catBtn:{":hover":b8,"&.epr-active":b8}}},eTe=yn.create(Ln({catBtn:{".":"epr-cat-btn",display:"inline-block",transition:"opacity 0.2s ease-in-out",position:"relative",height:"var(--epr-category-navigation-button-size)",width:"var(--epr-category-navigation-button-size)",backgroundSize:"calc(var(--epr-category-navigation-button-size) * 10)",outline:"none",backgroundPosition:"0 0",backgroundImage:"url("+QIe+")",":focus:before":{content:"",position:"absolute",top:"-2px",left:"-2px",right:"-2px",bottom:"-2px",border:"2px solid var(--epr-category-icon-active-color)",borderRadius:"50%"},"&.epr-icn-suggested":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -8)"},"&.epr-icn-custom":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -9)"},"&.epr-icn-activities":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -4)"},"&.epr-icn-animals_nature":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -1)"},"&.epr-icn-flags":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -7)"},"&.epr-icn-food_drink":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -2)"},"&.epr-icn-objects":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -5)"},"&.epr-icn-smileys_people":{backgroundPositionX:"0px"},"&.epr-icn-symbols":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -6)"},"&.epr-icn-travel_places":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -3)"}}},wd("catBtn",XIe),{".epr-dark-theme":Ln({},w8),".epr-auto-theme":Ln({},w8)}));function tTe(){var t=u.useState(null),r=t[0],s=t[1],a=JIe();YIe(s);var i=_w(),o=qq(),l=PL(),c=ZIe();return u.createElement("div",{className:Mr(rTe.nav),role:"tablist","aria-label":"Category navigation",id:"epr-category-nav-id",ref:l},o.map(function(d){var f=IL(d),h=f===r;if(hIe(d)&&c)return null;var g=!i&&!h;return u.createElement(KIe,{key:f,category:f,isActiveCategory:h,allowNavigation:g,categoryConfig:d,onClick:function(){a(f),setTimeout(function(){s(f)},10)}})}))}var rTe=yn.create({nav:{".":"epr-category-nav",display:"flex",flexDirection:"row",justifyContent:"space-around",padding:"var(--epr-header-padding)"},".epr-search-active":{nav:{opacity:"0.3",cursor:"default",pointerEvents:"none"}},".epr-main:has(input:not(:placeholder-shown))":{nav:{opacity:"0.3",cursor:"default",pointerEvents:"none"}}}),OY="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMCA4MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNNi45OCwxMy41OWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVzMC4yNy0wLjA1LDAuMzctMC4xNWwyLjQyLTIuNDJsMi40MywyLjQzCgljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1YzAuMTQsMCwwLjI3LTAuMDUsMC4zNy0wLjE1YzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1bC0yLjQzLTIuNDNMMTMuMzIsOAoJYzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1Yy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMGwtMi40MiwyLjQyTDcuNzQsNy4yN2MtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDAKCWMtMC4yMSwwLjIxLTAuMjEsMC41NCwwLDAuNzVsMi40MSwyLjQxbC0yLjQyLDIuNDJDNi43NywxMy4wNSw2Ljc3LDEzLjM5LDYuOTgsMTMuNTlMNi45OCwxMy41OXoiLz4KPHBhdGggZmlsbD0iIzg2ODY4NiIgZD0iTTEwLjE1LDE4LjQzYzQuNDEsMCw4LTMuNTksOC04YzAtNC40MS0zLjU5LTgtOC04Yy00LjQxLDAtOCwzLjU5LTgsOEMyLjE1LDE0Ljg0LDUuNzQsMTguNDMsMTAuMTUsMTguNDN6CgkgTTEwLjE1LDMuNDljMy44MywwLDYuOTQsMy4xMSw2Ljk0LDYuOTRjMCwzLjgzLTMuMTEsNi45NC02Ljk0LDYuOTRjLTMuODMsMC02Ljk0LTMuMTEtNi45NC02Ljk0QzMuMjEsNi42LDYuMzMsMy40OSwxMC4xNSwzLjQ5CglMMTAuMTUsMy40OXoiLz4KPHBhdGggZmlsbD0iIzMzNzFCNyIgZD0iTTYuOTgsMzMuNTljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1czAuMjctMC4wNSwwLjM3LTAuMTVsMi40Mi0yLjQybDIuNDMsMi40MwoJYzAuMSwwLjEsMC4yNCwwLjE1LDAuMzcsMC4xNWMwLjE0LDAsMC4yNy0wLjA1LDAuMzctMC4xNWMwLjIxLTAuMjEsMC4yMS0wLjU0LDAtMC43NWwtMi40My0yLjQzTDEzLjMyLDI4CgljMC4yMS0wLjIxLDAuMjEtMC41NCwwLTAuNzVjLTAuMjEtMC4yMS0wLjU0LTAuMjEtMC43NSwwbC0yLjQyLDIuNDJsLTIuNDEtMi40MWMtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDAKCWMtMC4yMSwwLjIxLTAuMjEsMC41NCwwLDAuNzVsMi40MSwyLjQxbC0yLjQyLDIuNDJDNi43NywzMy4wNSw2Ljc3LDMzLjM5LDYuOTgsMzMuNTlMNi45OCwzMy41OXoiLz4KPHBhdGggZmlsbD0iIzMzNzFCNyIgZD0iTTEwLjE1LDM4LjQzYzQuNDEsMCw4LTMuNTksOC04YzAtNC40MS0zLjU5LTgtOC04Yy00LjQxLDAtOCwzLjU5LTgsOEMyLjE1LDM0Ljg0LDUuNzQsMzguNDMsMTAuMTUsMzguNDN6CgkgTTEwLjE1LDIzLjQ5YzMuODMsMCw2Ljk0LDMuMTEsNi45NCw2Ljk0YzAsMy44My0zLjExLDYuOTQtNi45NCw2Ljk0Yy0zLjgzLDAtNi45NC0zLjExLTYuOTQtNi45NAoJQzMuMjEsMjYuNiw2LjMzLDIzLjQ5LDEwLjE1LDIzLjQ5TDEwLjE1LDIzLjQ5eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNNi45OCw1My41OWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVzMC4yNy0wLjA1LDAuMzctMC4xNWwyLjQyLTIuNDJsMi40MywyLjQzCgljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1YzAuMTQsMCwwLjI3LTAuMDUsMC4zNy0wLjE1YzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1bC0yLjQzLTIuNDNMMTMuMzIsNDgKCWMwLjIxLTAuMjEsMC4yMS0wLjU0LDAtMC43NWMtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDBsLTIuNDIsMi40MmwtMi40MS0yLjQxYy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMAoJYy0wLjIxLDAuMjEtMC4yMSwwLjU0LDAsMC43NWwyLjQxLDIuNDFsLTIuNDIsMi40MkM2Ljc3LDUzLjA1LDYuNzcsNTMuMzksNi45OCw1My41OUw2Ljk4LDUzLjU5eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNMTAuMTUsNTguNDNjNC40MSwwLDgtMy41OSw4LThjMC00LjQxLTMuNTktOC04LThjLTQuNDEsMC04LDMuNTktOCw4QzIuMTUsNTQuODQsNS43NCw1OC40MywxMC4xNSw1OC40M3oKCSBNMTAuMTUsNDMuNDljMy44MywwLDYuOTQsMy4xMSw2Ljk0LDYuOTRjMCwzLjgzLTMuMTEsNi45NC02Ljk0LDYuOTRjLTMuODMsMC02Ljk0LTMuMTEtNi45NC02Ljk0CglDMy4yMSw0Ni42LDYuMzMsNDMuNDksMTAuMTUsNDMuNDlMMTAuMTUsNDMuNDl6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik02Ljk4LDczLjU5YzAuMSwwLjEsMC4yNCwwLjE1LDAuMzcsMC4xNXMwLjI3LTAuMDUsMC4zNy0wLjE1bDIuNDItMi40MmwyLjQzLDIuNDMKCWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVjMC4xNCwwLDAuMjctMC4wNSwwLjM3LTAuMTVjMC4yMS0wLjIxLDAuMjEtMC41NCwwLTAuNzVsLTIuNDMtMi40M0wxMy4zMiw2OAoJYzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1Yy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMGwtMi40MiwyLjQybC0yLjQxLTIuNDFjLTAuMjEtMC4yMS0wLjU0LTAuMjEtMC43NSwwCgljLTAuMjEsMC4yMS0wLjIxLDAuNTQsMCwwLjc1bDIuNDEsMi40MWwtMi40MiwyLjQyQzYuNzcsNzMuMDUsNi43Nyw3My4zOSw2Ljk4LDczLjU5TDYuOTgsNzMuNTl6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik0xMC4xNSw3OC40M2M0LjQxLDAsOC0zLjU5LDgtOGMwLTQuNDEtMy41OS04LTgtOGMtNC40MSwwLTgsMy41OS04LDhDMi4xNSw3NC44NCw1Ljc0LDc4LjQzLDEwLjE1LDc4LjQzegoJIE0xMC4xNSw2My40OWMzLjgzLDAsNi45NCwzLjExLDYuOTQsNi45NGMwLDMuODMtMy4xMSw2Ljk0LTYuOTQsNi45NGMtMy44MywwLTYuOTQtMy4xMS02Ljk0LTYuOTQKCUMzLjIxLDY2LjYsNi4zMyw2My40OSwxMC4xNSw2My40OUwxMC4xNSw2My40OXoiLz4KPC9zdmc+";function nTe(){var t=oY();return u.createElement(px,{className:Mr(j8.btnClearSearch,lf.visibleOnSearchOnly),onClick:t,"aria-label":"Clear",title:"Clear"},u.createElement("div",{className:Mr(j8.icnClearnSearch)}))}var sTe={":hover":{"> .epr-icn-clear-search":{backgroundPositionY:"-60px"}}},j8=yn.create(Ln({btnClearSearch:{".":"epr-btn-clear-search",position:"absolute",right:"var(--epr-search-bar-inner-padding)",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",transform:"translateY(-50%)",padding:"0",borderRadius:"50%",":hover":{background:"var(--epr-hover-bg-color)"},":focus":{background:"var(--epr-hover-bg-color)"}},icnClearnSearch:{".":"epr-icn-clear-search",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",height:"20px",width:"20px",backgroundImage:"url("+OY+")",":hover":{backgroundPositionY:"-20px"},":focus":{backgroundPositionY:"-20px"}}},wd("icnClearnSearch",{backgroundPositionY:"-40px"}),wd("btnClearSearch",sTe))),cN=Js(wr.emojiPicker)+" "+Js(wr.emojiList),$Y=["button",Js(wr.emoji)].join(""),aTe=Js(wr.category);function iTe(t){var r=t.value;if(!r)return null;var s=oTe(r);return u.createElement("style",null,`
    `+cN+" "+$Y+` {
      display: none;
    }


    `+cN+" "+s+` {
      display: flex;
    }

    `+cN+" "+aTe+":not(:has("+s+`)) {
      display: none;
    }
  `)}function oTe(t){return[$Y,'[data-full-name*="',g6(t),'"]'].join("")}var lTe="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjQwcHgiIHZpZXdCb3g9IjAgMCAyMCA0MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgNDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzg2ODY4NiIgZD0iTTEyLDguODFjMCwyLjA4LTEuNjgsMy43Ni0zLjc2LDMuNzZjLTIuMDgsMC0zLjc2LTEuNjgtMy43Ni0zLjc2CgljMC0yLjA4LDEuNjgtMy43NiwzLjc2LTMuNzZDMTAuMzIsNS4wNSwxMiw2LjczLDEyLDguODF6IE0xMS4yMywxMi43MmMtMC44MywwLjY0LTEuODcsMS4wMS0yLjk5LDEuMDFjLTIuNzIsMC00LjkyLTIuMi00LjkyLTQuOTIKCWMwLTIuNzIsMi4yLTQuOTIsNC45Mi00LjkyYzIuNzIsMCw0LjkyLDIuMiw0LjkyLDQuOTJjMCwxLjEzLTAuMzgsMi4xNi0xLjAxLDIuOTlsMy45NCwzLjkzYzAuMjUsMC4yNSwwLjI1LDAuNjYsMCwwLjkyCgljLTAuMjUsMC4yNS0wLjY2LDAuMjUtMC45MiwwTDExLjIzLDEyLjcyeiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0MwQzBCRiIgZD0iTTEyLDI4LjgxYzAsMi4wOC0xLjY4LDMuNzYtMy43NiwzLjc2Yy0yLjA4LDAtMy43Ni0xLjY4LTMuNzYtMy43NgoJYzAtMi4wOCwxLjY4LTMuNzYsMy43Ni0zLjc2QzEwLjMyLDI1LjA1LDEyLDI2LjczLDEyLDI4LjgxeiBNMTEuMjMsMzIuNzJjLTAuODMsMC42NC0xLjg3LDEuMDEtMi45OSwxLjAxCgljLTIuNzIsMC00LjkyLTIuMi00LjkyLTQuOTJjMC0yLjcyLDIuMi00LjkyLDQuOTItNC45MmMyLjcyLDAsNC45MiwyLjIsNC45Miw0LjkyYzAsMS4xMy0wLjM4LDIuMTYtMS4wMSwyLjk5bDMuOTQsMy45MwoJYzAuMjUsMC4yNSwwLjI1LDAuNjYsMCwwLjkyYy0wLjI1LDAuMjUtMC42NiwwLjI1LTAuOTIsMEwxMS4yMywzMi43MnoiLz4KPC9zdmc+";function cTe(){return u.createElement("div",{className:Mr(dTe.icnSearch)})}var dTe=yn.create(Ln({icnSearch:{".":"epr-icn-search",content:"",position:"absolute",top:"50%",left:"var(--epr-search-bar-inner-padding)",transform:"translateY(-50%)",width:"20px",height:"20px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"20px",backgroundImage:"url("+lTe+")"}},wd("icnSearch",{backgroundPositionY:"-20px"})));function uTe(){var t=Jq(),r=RL();return t?null:u.createElement(AY,{className:Mr(oy.overlay)},u.createElement(fTe,null),r?u.createElement(_Y,null):null)}function fTe(){var t=u.useState(0),r=t[0],s=t[1],a=uf(),i=Fd(),o=JLe(),l=QLe(),c=AMe(),d=c.statusSearchResults,f=c.searchTerm,h=c.onChange,g=i==null?void 0:i.current,m=g==null?void 0:g.value;return u.createElement(Bw,{className:Mr(oy.searchContainer)},u.createElement(iTe,{value:m}),u.createElement("input",{autoFocus:l,"aria-label":"Type to search for an emoji",onFocus:a,className:Mr(oy.search),type:"text","aria-controls":"epr-search-id",placeholder:o,onChange:function(x){var y,w;s(r+1),h((y=x==null||(w=x.target)==null?void 0:w.value)!=null?y:m)},ref:i}),f?u.createElement("div",{role:"status",className:Mr("epr-status-search-results",oy.visuallyHidden),"aria-live":"polite",id:"epr-search-id","aria-atomic":"true"},d):null,u.createElement(cTe,null),u.createElement(nTe,null))}var oy=yn.create(Ln({overlay:{padding:"var(--epr-header-padding)",zIndex:"var(--epr-header-overlay-z-index)"},searchContainer:{".":"epr-search-container",flex:"1",display:"block",minWidth:"0"},visuallyHidden:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"},search:{outline:"none",transition:"all 0.2s ease-in-out",color:"var(--epr-search-input-text-color)",borderRadius:"var(--epr-search-input-border-radius)",padding:"var(--epr-search-input-padding)",height:"var(--epr-search-input-height)",backgroundColor:"var(--epr-search-input-bg-color)",border:"1px solid var(--epr-search-input-bg-color)",width:"100%",":focus":{backgroundColor:"var(--epr-search-input-bg-color-active)",border:"1px solid var(--epr-search-border-color)"},"::placeholder":{color:"var(--epr-search-input-placeholder-color)"}},btnClearSearch:{".":"epr-btn-clear-search",position:"absolute",right:"var(--epr-search-bar-inner-padding)",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",transform:"translateY(-50%)",padding:"0",borderRadius:"50%",":hover":{background:"var(--epr-hover-bg-color)"},":focus":{background:"var(--epr-hover-bg-color)"}},icnClearnSearch:{".":"epr-icn-clear-search",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",height:"20px",width:"20px",backgroundImage:"url("+OY+")",":hover":{backgroundPositionY:"-20px"},":focus":{backgroundPositionY:"-20px"}}},wd("icnClearnSearch",{backgroundPositionY:"-40px"}),wd("btnClearSearch",{":hover > .epr-icn-clear-search":{backgroundPositionY:"-60px"}})));function hTe(){return u.createElement(Bw,{className:Mr("epr-header",lf.hiddenOnReactions)},u.createElement(uTe,null),u.createElement(tTe,null))}function gTe(t){return u.createElement(fMe,null,u.createElement(oLe,null),u.createElement(BLe,Object.assign({},t),u.createElement(mTe,null)))}function mTe(){var t=Wh(),r=t[0],s=Vq(),a=u.useState(!r),i=a[0],o=a[1],l=XLe();return u.useEffect(function(){r&&!s||i||o(!0)},[i,s,r]),l?u.createElement(QMe,null,u.createElement(SIe,null),u.createElement(pTe,{renderAll:i})):null}function pTe(t){var r=t.renderAll;return r?u.createElement(u.Fragment,null,u.createElement(hTe,null),u.createElement(PIe,null),u.createElement(VIe,null)):null}var xTe=u.memo(gTe,Iq),vTe=function(t){sLe(r,t);function r(a){var i;return i=t.call(this,a)||this,i.state={hasError:!1},i}r.getDerivedStateFromError=function(){return{hasError:!0}};var s=r.prototype;return s.componentDidCatch=function(i,o){console.error("Emoji Picker React failed to render:",i,o)},s.render=function(){return this.state.hasError?null:this.props.children},r}(u.Component);function yTe(t){var r=YLe({onEmojiClick:t.onEmojiClick,onReactionClick:t.onReactionClick,onSkinToneChange:t.onSkinToneChange});return u.createElement(vTe,null,u.createElement(Wq.Provider,{value:r},u.createElement(xTe,Object.assign({},t))))}const N8=()=>Le.get("/messages/conversations"),S8=(t,r={})=>Le.get(`/messages/conversations/${t}/messages`,{params:r}),bTe=(t,r={})=>Le.get(`/messages/users/${t}/messages`,{params:r}),C8=(t,r)=>r instanceof FormData?Le.post(`/messages/users/${t}/messages`,r,{headers:{"Content-Type":"multipart/form-data"}}):Le.post(`/messages/users/${t}/messages`,r),k8=t=>Le.put(`/messages/conversations/${t}/read`),wTe=t=>Le.get(`/users/search?q=${encodeURIComponent(t)}`),jTe=t=>Le.delete(`/messages/${t}`),NTe=(t,r)=>Le.put(`/messages/${t}`,{content:r}),STe=t=>Le.post("messages/bulk-delete",{data:{messageIds:t}}),CTe=t=>Le.delete(`/messages/conversations/${t}`);function kTe(){var et,pt;const t=qt(),r=ys(),{user:s}=Xt(),{connected:a,sendPrivateMessage:i,onPrivateMessage:o,markMessagesAsRead:l,onlineConnections:c,getOnlineConnections:d,refreshUnreadCount:f}=sw(),[h,g]=u.useState(!0),[m,p]=u.useState([]),[x,y]=u.useState(null),[w,b]=u.useState([]),[v,j]=u.useState(""),[N,S]=u.useState(null),[I,E]=u.useState(""),[L,C]=u.useState([]),[T,k]=u.useState(!1),M=u.useRef(null),_=u.useRef(null),[J,Y]=u.useState(!0),te=u.useRef(null),[K,X]=u.useState(!1),[W,F]=u.useState(""),[P,A]=u.useState([]),[B,z]=u.useState(!1),[O,U]=u.useState(!1),[Z,se]=u.useState(null),[fe,le]=u.useState("all"),[Ne,Te]=u.useState(!1),[ht,Fe]=u.useState(null),[Ve,ut]=u.useState(""),[Je,G]=u.useState(!1),[ae,Me]=u.useState(null),[he,ye]=u.useState(!1),[oe,ie]=u.useState(null),[q,Se]=u.useState([]),[$e,rt]=u.useState(!1),[nt,Ue]=u.useState({}),[xt,Oe]=u.useState(null),[Ee,ee]=u.useState(null),de=be=>ve(this,null,function*(){if(!be||be.length<3){A([]);return}try{z(!0);const{data:De}=yield wTe(be);A(De)}catch(De){console.error("Failed to search users:",De),ce.error("Failed to search users"),A([])}finally{z(!1)}});u.useEffect(()=>{const De=new URLSearchParams(r.search).get("userId");De&&(S(De),t("/messages",{replace:!0}))},[r.search,t]),u.useEffect(()=>{if(a){d();const be=setInterval(()=>d(),3e4);return()=>clearInterval(be)}},[a,d]),u.useEffect(()=>{function be(){return ve(this,null,function*(){try{g(!0);const{data:De}=yield N8();p(De)}catch(De){console.error("Failed to load conversations:",De),ce.error("Failed to load conversations")}finally{g(!1)}})}be()},[]),u.useEffect(()=>{function be(){return ve(this,null,function*(){if(x)try{g(!0);const{data:st}=yield S8(x.id);b(Ke=>Ie(Ke,st)),a?l(x.id).then(f).catch(console.error):k8(x.id).then(f).catch(console.error),p(Ke=>Ke.map(mt=>mt.id===x.id?me(ne({},mt),{unreadCount:0}):mt)),setTimeout(()=>{var Ke;(Ke=M.current)==null||Ke.scrollIntoView({behavior:"smooth"})},100)}catch(st){console.error("Failed to load messages:",st),ce.error("Failed to load messages")}finally{g(!1)}})}be();const De=setInterval(()=>ve(this,null,function*(){if(!(!x||Ne))try{const{data:st}=yield S8(x.id);b(Ke=>Ie(Ke,st)),a?l(x.id).then(f).catch(console.error):k8(x.id).then(f).catch(console.error)}catch(st){console.error("Error polling messages:",st)}}),5e3);return()=>clearInterval(De)},[x,a,l,w.length]),u.useEffect(()=>{function be(){return ve(this,null,function*(){var De;if(N)try{g(!0);const{data:st}=yield bTe(N);let Ke=(De=st.conversation.otherUser)==null?void 0:De.name,mt;if(!Ke||Ke==="User")try{const{data:tt}=yield Le.get(`/users/${N}/public/basic`);Ke=tt.name||"User",mt=tt.avatarUrl}catch(tt){}y({id:st.conversation.id,otherUser:{id:N,name:Ke||"User",avatarUrl:mt}}),b(tt=>Ie(tt,st.messages)),S(null),setTimeout(()=>{var tt;(tt=M.current)==null||tt.scrollIntoView({behavior:"smooth"})},100)}catch(st){console.error("Failed to load messages with user:",st),ce.error("Failed to load conversation"),S(null)}finally{g(!1)}})}be()},[N]);const ue=be=>{const{message:De}=be||{};if(De){if(De.senderId===(s==null?void 0:s.id)){b(st=>{const Ke=st.findIndex(tt=>{var ke;return tt.pending&&tt.senderId===s.id&&tt.receiverId===De.receiverId&&tt.content===De.content&&(!tt.attachments||tt.attachments.length===(((ke=De.attachments)==null?void 0:ke.length)||0))});if(Ke===-1)return st;const mt=st.slice();return mt[Ke]=me(ne({},De),{pending:!1}),mt});return}x&&(De.senderId===x.otherUser.id&&De.receiverId===s.id||De.senderId===s.id&&De.receiverId===x.otherUser.id)&&(b(st=>st.some(Ke=>Ke.id===De.id)?st:[...st,De]),a&&l(x.id).then(f).catch(console.error)),p(st=>{const Ke=[...st];let mt=Ke.findIndex(tt=>tt.id===De.conversationId);if(mt<0&&(mt=Ke.findIndex(tt=>tt.otherUser.id===De.senderId&&De.receiverId===s.id||tt.otherUser.id===De.receiverId&&De.senderId===s.id)),mt>=0){const tt=ne({},Ke[mt]);return tt.lastMessage=De.content,tt.lastMessageTime=De.createdAt,(!x||x.id!==tt.id&&De.senderId!==s.id)&&(tt.unreadCount=(tt.unreadCount||0)+1),Ke.splice(mt,1),Ke.unshift(tt),Ke}else if(De.conversationId)return Ke.unshift({id:De.conversationId,otherUser:De.senderId===s.id?{id:De.receiverId,name:"User"}:De.sender||{id:De.senderId,name:"User"},lastMessage:De.content,lastMessageTime:De.createdAt,unreadCount:De.senderId===s.id?0:1}),Ke;return Ke})}};u.useEffect(()=>{const be=o(ue);return()=>be&&be()},[o,x==null?void 0:x.id,s==null?void 0:s.id,a]),u.useEffect(()=>{const be=_.current;if(!be)return;const De=()=>{const{scrollTop:st,scrollHeight:Ke,clientHeight:mt}=be,tt=Ke-st-mt;Y(tt<100)};return be.addEventListener("scroll",De),De(),()=>be.removeEventListener("scroll",De)},[x]),u.useEffect(()=>{var be;J&&((be=M.current)==null||be.scrollIntoView({behavior:"smooth"}))},[w,J]),u.useEffect(()=>{const be=De=>{T&&!De.target.closest(".emoji-picker-container")&&k(!1)};return document.addEventListener("mousedown",be),()=>document.removeEventListener("mousedown",be)},[T]),u.useEffect(()=>{const be=De=>{xt&&!De.target.closest(".conversation-menu")&&Oe(null)};return document.addEventListener("mousedown",be),()=>document.removeEventListener("mousedown",be)},[xt]),u.useEffect(()=>{const be=De=>{Ee&&!De.target.closest(".message-menu")&&ee(null)};return document.addEventListener("mousedown",be),()=>document.removeEventListener("mousedown",be)},[Ee]),u.useEffect(()=>{const be=setInterval(()=>ve(this,null,function*(){try{const{data:De}=yield N8();p(De)}catch(De){console.error("Failed to refresh conversations:",De)}}),3e3);return()=>clearInterval(be)},[]);const _e=be=>{const De=Array.from(be.target.files),st=De.filter(Ke=>Ke.size<=5242880);st.length!==De.length&&ce.error("Some files exceed the 5MB limit"),C(Ke=>[...Ke,...st])},Xe=be=>{C(De=>De.filter((st,Ke)=>Ke!==be))},gt=be=>[".jpg",".jpeg",".png",".gif",".webp"].some(st=>be.toLowerCase().endsWith(st)),wt=be=>be?be.mimetype&&typeof be.mimetype=="string"&&be.mimetype.startsWith("image/")?!0:gt(String(be.filename||"")):!1,vt=be=>{Ue(De=>me(ne({},De),{[be]:!1}))},ct=be=>{Ue(De=>me(ne({},De),{[be]:"error"}))},Ze=be=>nt[be],dt=be=>{Ue(De=>me(ne({},De),{[be]:!0}))},yt=({className:be="",showIcon:De=!1})=>n.jsx("div",{className:`animate-pulse bg-gray-200 relative ${be}`,children:De&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx(x0,{size:24,className:"text-gray-400"})})}),Ie=(be,De)=>{if(!Array.isArray(De))return be||[];const st=Array.isArray(be)?be:[],Ke=lt=>{var Rt;const St=(lt==null?void 0:lt.content)||"",Mt=Array.isArray(lt==null?void 0:lt.attachments)&&lt.attachments.length>0,Ht=Mt?lt.attachments.length:0,mr=Mt&&((Rt=lt.attachments[0])==null?void 0:Rt.filename)||"";return`${(lt==null?void 0:lt.senderId)||""}|${(lt==null?void 0:lt.receiverId)||""}|${St}|${Ht}|${mr}`},mt=new Set(De.map(lt=>lt.id)),tt=new Set(De.map(lt=>Ke(lt))),ke=[...De];for(const lt of st)if(lt!=null&&lt.pending){if(tt.has(Ke(lt))||mt.has(lt.id))continue;ke.push(lt)}return ke.sort((lt,St)=>{const Mt=lt!=null&&lt.createdAt?new Date(lt.createdAt).getTime():0,Ht=St!=null&&St.createdAt?new Date(St.createdAt).getTime():0;return Mt-Ht}),ke},ze=(be,De)=>{const st=be==null?void 0:be.emoji;st&&j(Ke=>Ke+st)};function qe(be){return ve(this,null,function*(){var mt;if(!x||!be)return;const De=be.id,st=Array.isArray(be.localFiles)?be.localFiles:[],Ke=be.content||"";b(tt=>{const ke=tt.findIndex(St=>St.id===De);if(ke===-1)return tt;const lt=tt.slice();return lt[ke]=me(ne({},lt[ke]),{pending:!0,failed:!1}),lt});try{let tt;if(st.length===0&&a){const ke=yield i(x.otherUser.id,Ke);tt=(ke==null?void 0:ke.message)||((mt=ke==null?void 0:ke.data)==null?void 0:mt.message)||null}else{const ke=new FormData;ke.append("content",Ke),st.forEach(St=>{ke.append("attachments",St)});const{data:lt}=yield C8(x.otherUser.id,ke);tt=lt||null}p(ke=>{const lt=[...ke],St=lt.findIndex(Mt=>Mt.id===x.id);if(St>=0){const Mt=ne({},lt[St]),Ht=Ke&&Ke.length>0?Ke:st.length===1?"Attachment":`${st.length} attachments`;Mt.lastMessage=Ht,Mt.lastMessageTime=new Date().toISOString(),lt.splice(St,1),lt.unshift(Mt)}return lt}),b(ke=>{const lt=ke.findIndex(Mt=>Mt.id===De);if(lt===-1)return ke;const St=ke.slice();return St[lt]=tt?me(ne({},tt),{pending:!1}):me(ne({},St[lt]),{pending:!1,failed:!1}),St})}catch(tt){console.error("Retry failed:",tt),ce.error("Retry failed"),b(ke=>{const lt=ke.findIndex(Mt=>Mt.id===De);if(lt===-1)return ke;const St=ke.slice();return St[lt]=me(ne({},St[lt]),{pending:!1,failed:!0}),St})}})}function it(){return ve(this,null,function*(){var mt;if(!v.trim()&&L.length===0||!x)return;const be=v.trim(),De=[...L];j(""),C([]),Te(!0);const st=Date.now().toString(),Ke={id:st,content:be,senderId:s.id,receiverId:x.otherUser.id,createdAt:new Date().toISOString(),read:!1,pending:!0,failed:!1,localFiles:De,attachments:De.map(tt=>({filename:tt.name,url:URL.createObjectURL(tt),mimetype:tt.type,size:tt.size}))};b(tt=>[...tt,Ke]),setTimeout(()=>{var tt;(tt=M.current)==null||tt.scrollIntoView({behavior:"smooth"})},100);try{let tt;if(De.length===0&&a){const ke=yield i(x.otherUser.id,be);tt=(ke==null?void 0:ke.message)||((mt=ke==null?void 0:ke.data)==null?void 0:mt.message)||null}else{const ke=new FormData;ke.append("content",be),De.forEach(St=>{ke.append("attachments",St)});const{data:lt}=yield C8(x.otherUser.id,ke);tt=lt||null}p(ke=>{const lt=[...ke],St=lt.findIndex(Mt=>Mt.id===x.id);if(St>=0){const Mt=ne({},lt[St]),Ht=be&&be.length>0?be:De.length===1?"Attachment":`${De.length} attachments`;Mt.lastMessage=Ht,Mt.lastMessageTime=new Date().toISOString(),lt.splice(St,1),lt.unshift(Mt)}return lt}),b(ke=>{const lt=ke.findIndex(Mt=>Mt.id===st);if(lt===-1)return ke;const St=ke.slice();return St[lt]=tt?me(ne({},tt),{pending:!1}):me(ne({},St[lt]),{pending:!1}),St})}catch(tt){console.error("Failed to send message:",tt),ce.error("Failed to send message"),b(ke=>{const lt=ke.findIndex(Mt=>Mt.id===st);if(lt===-1)return ke;const St=ke.slice();return St[lt]=me(ne({},St[lt]),{pending:!1,failed:!0}),St})}finally{Te(!1)}})}const Ae=be=>{Fe(be.id),ut(be.content||"")},Ge=()=>ve(this,null,function*(){if(Ve.trim())try{const be=yield NTe(ht,Ve.trim());b(De=>De.map(st=>st.id===ht?be.data:st)),Fe(null),ut(""),ce.success("Message edited")}catch(be){console.error("Failed to edit message:",be),ce.error("Failed to edit message")}}),Ye=be=>{Me(be),G(!0)},Et=()=>ve(this,null,function*(){if(ae)try{yield jTe(ae),b(be=>be.filter(De=>De.id!==ae)),ce.success("Message deleted"),G(!1),Me(null)}catch(be){console.error("Failed to delete message:",be),ce.error("Failed to delete message")}}),Ot=be=>{Se(De=>De.includes(be)?De.filter(st=>st!==be):[...De,be])},ft=()=>{const be=w.filter(De=>De.senderId===s.id);Se(be.map(De=>De.id))},D=()=>{Se([])},Q=()=>ve(this,null,function*(){q.length!==0&&(Me(q),G(!0))}),H=()=>ve(this,null,function*(){if(!(!ae||!Array.isArray(ae)))try{yield STe(ae),b(be=>be.filter(De=>!ae.includes(De.id))),Se([]),rt(!1),ce.success(`${ae.length} messages deleted`),G(!1),Me(null)}catch(be){console.error("Failed to delete messages:",be),ce.error("Failed to delete some messages")}}),V=be=>{ie(be),ye(!0)},re=()=>ve(this,null,function*(){if(oe)try{yield CTe(oe),p(be=>be.filter(De=>De.id!==oe)),x&&x.id===oe&&y(null),ce.success("Conversation deleted"),ye(!1),ie(null)}catch(be){console.error("Failed to delete conversation:",be),ce.error("Failed to delete conversation")}});function ge(be){const De=be?new Date(be):new Date,st=new Date,Ke=new Date(st.getFullYear(),st.getMonth(),st.getDate()),mt=new Date(De.getFullYear(),De.getMonth(),De.getDate()),tt=Math.floor((Ke-mt)/(1e3*60*60*24)),ke=De.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return tt===0?ke:tt===1?`Yesterday ${ke}`:tt<7?`${De.toLocaleDateString([],{weekday:"long"})} ${ke}`:`${De.toLocaleDateString([],{day:"2-digit",month:"2-digit",year:"numeric"})} ${ke}`}const We=m.reduce((be,De)=>be+(De.unreadCount||0),0),ot=m.filter(be=>{var Ke;const De=(((Ke=be.otherUser)==null?void 0:Ke.name)||"User").toLowerCase().includes(I.toLowerCase()),st=fe==="all"||fe==="unread"&&(be.unreadCount||0)>0;return De&&st}),[Ce,pe]=u.useState(0),[je,we]=u.useState(null),Re=be=>ve(this,null,function*(){try{const De=be.split("/").pop()||`download-${Date.now()}`;we(De),pe(0);const st=En+`/download?url=${encodeURIComponent(be)}`,Ke=new XMLHttpRequest;Ke.open("GET",st,!0),Ke.responseType="blob",Ke.onprogress=mt=>{if(mt.lengthComputable){const tt=mt.loaded/mt.total*100;console.log(tt),pe(Math.round(tt))}},Ke.onload=()=>{if(Ke.status===200){const mt=Ke.response;if(!mt||mt.size===0){ce.error("Error: Empty file received"),pe(0),we(null);return}const tt=window.URL.createObjectURL(mt),ke=document.createElement("a");ke.href=tt,ke.download=De,ke.style.display="none",document.body.appendChild(ke),ke.click(),setTimeout(()=>{document.body.removeChild(ke),window.URL.revokeObjectURL(tt),pe(0),we(null),ce.success("Download completed!")},100)}else console.error("Download failed with status:",Ke.status),ce.error(`Download failed: ${Ke.statusText}`),pe(0),we(null)},Ke.onerror=()=>{console.error("Network error downloading file"),ce.error("Network error downloading file"),pe(0),we(null)},Ke.ontimeout=()=>{console.error("Download timeout"),ce.error("Download timeout"),pe(0),we(null)},Ke.timeout=3e4,Ke.send()}catch(De){console.error("Download initialization failed:",De),ce.error("Download failed to start"),pe(0),we(null)}}),He=({url:be,className:De="",downloadProgress:st,downloadingFile:Ke,isDownloading:mt})=>n.jsx("button",{onClick:tt=>{tt.stopPropagation(),Re(be)},className:De,title:"Download",disabled:mt,children:mt?n.jsxs("span",{className:"text-xs",children:[st,"%"]}):n.jsx(La,{size:12})});return h&&m.length===0?n.jsx(ei,{}):n.jsxs(ti,{children:[n.jsx(an,{}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:n.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden h-[calc(100vh-10rem)]",children:n.jsxs("div",{className:"flex h-full min-h-0",children:[n.jsxs("aside",{className:`w-80 border-r max-md:w-full ${x?"hidden md:flex":"flex"} flex-col min-h-0`,children:[n.jsxs("div",{className:"p-4 border-b",children:[n.jsxs("button",{onClick:()=>X(!0),className:"w-full py-2 px-4 bg-brand-500 text-white rounded-xl flex items-center justify-center gap-2 mb-3",children:[n.jsx(RC,{size:16}),n.jsx("span",{children:"New Message"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{placeholder:"Search conversations...",value:I,onChange:be=>E(be.target.value),className:"rounded-xl border border-gray-200 pl-9 pr-3 py-2 text-sm w-full"}),n.jsx(Ta,{className:"absolute left-3 top-2.5 text-gray-400",size:16})]}),n.jsxs("div",{className:"flex gap-4 mt-3 text-sm",children:[n.jsx("button",{onClick:()=>le("all"),className:`font-medium ${fe==="all"?"text-brand-600":"text-gray-500"}`,children:"All"}),n.jsxs("button",{onClick:()=>le("unread"),className:`font-medium ${fe==="unread"?"text-brand-600":"text-gray-500"}`,children:["Unread ",We>0&&`(${We})`]})]})]}),c&&c.length>0&&n.jsxs("div",{className:"p-4 border-b bg-gray-50 hidden",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Online Connections"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(be=>{var De,st;return n.jsxs("div",{onClick:()=>S(be.userId),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(De=be.user)!=null&&De.avatarUrl?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:be.user.avatarUrl,alt:be.user.name,className:"h-8 w-8 rounded-full object-cover"}),n.jsx("span",{className:"absolute bottom-0 right-0 h-2.5 w-2.5 rounded-full bg-green-500 ring-1 ring-white"})]}):n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-brand-100 text-brand-600 flex items-center justify-center",children:n.jsx(ka,{size:16})}),n.jsx("span",{className:"absolute bottom-0 right-0 h-2.5 w-2.5 rounded-full bg-green-500 ring-1 ring-white"})]}),n.jsx("span",{className:"text-sm font-medium",children:(st=be.user)==null?void 0:st.name})]},be.userId)})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:ot.length===0?n.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No conversations yet"}):ot.map(be=>{var De,st;return n.jsxs("div",{onClick:()=>y(be),className:`group p-4 border-b cursor-pointer hover:bg-gray-50 relative ${(x==null?void 0:x.id)===be.id?"bg-gray-50":""}`,children:[n.jsxs("div",{className:"flex items-center gap-3 relative",children:[n.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),Oe(xt===be.id?null:be.id)},className:`absolute top-4 -right-4 p-1 text-gray-400 hover:text-gray-600 rounded ${xt===be.id?"block":"hidden group-hover:block"}`,title:"More options",children:n.jsx(Fo,{size:16})}),(De=be.otherUser)!=null&&De.avatarUrl?n.jsxs("div",{className:"relative",children:[Ze(`conv-${be.id}`)!==!1&&n.jsx(yt,{className:"h-10 w-10 rounded-full"}),n.jsx("img",{src:be.otherUser.avatarUrl,alt:be.otherUser.name,className:`h-10 w-10 rounded-full object-cover ${Ze(`conv-${be.id}`)===!1?"block":"hidden"}`,onLoad:()=>vt(`conv-${be.id}`),onError:()=>ct(`conv-${be.id}`),onLoadStart:()=>dt(`conv-${be.id}`)}),(c==null?void 0:c.some(Ke=>Ke.userId===be.otherUser.id))&&n.jsx("span",{className:"absolute bottom-0 right-0 h-3 w-3 rounded-full bg-green-500 ring-1 ring-white"})]}):n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-brand-100 text-brand-600 flex items-center justify-center",children:n.jsx(ka,{size:20})}),(c==null?void 0:c.some(Ke=>Ke.userId===be.otherUser.id))&&n.jsx("span",{className:"absolute bottom-0 right-0 h-3 w-3 rounded-full bg-green-500 ring-1 ring-white"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-medium truncate",children:((st=be.otherUser)==null?void 0:st.name)||"User"}),be.lastMessageTime&&n.jsx("span",{className:"text-xs text-gray-500",children:ge(be.lastMessageTime)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-500 truncate",children:be.lastMessage}),be.unreadCount>0&&n.jsx("span",{className:"bg-brand-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:be.unreadCount})]})]})]}),xt===be.id&&n.jsx("div",{className:"absolute top-10 right-2 bg-white border rounded shadow-lg z-10 conversation-menu",children:n.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),V(be.id),Oe(null)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Delete conversation"})})]},be.id)})})]}),x?n.jsxs("section",{className:"flex-1 flex flex-col min-h-0",children:[n.jsxs("div",{className:"h-14 border-b px-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{className:"md:hidden p-1 rounded-full hover:bg-gray-100",onClick:()=>y(null),children:n.jsx(bH,{size:20})}),(et=x.otherUser)!=null&&et.avatarUrl?n.jsxs("div",{className:"relative",children:[Ze(`header-${x.otherUser.id}`)!==!1&&n.jsx(yt,{className:"h-10 w-10 rounded-full"}),n.jsx("img",{src:x.otherUser.avatarUrl,alt:x.otherUser.name,className:`h-10 w-10 rounded-full object-cover ${Ze(`header-${x.otherUser.id}`)===!1?"block":"hidden"}`,onLoad:()=>vt(`header-${x.otherUser.id}`),onError:()=>ct(`header-${x.otherUser.id}`),onLoadStart:()=>dt(`header-${x.otherUser.id}`)}),(c==null?void 0:c.some(be=>be.userId===x.otherUser.id))&&n.jsx("span",{className:"absolute bottom-0 right-0 h-3 w-3 rounded-full bg-green-500 ring-1 ring-white"})]}):n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-brand-100 text-brand-600 flex items-center justify-center",children:n.jsx(ka,{size:20})}),(c==null?void 0:c.some(be=>be.userId===x.otherUser.id))&&n.jsx("span",{className:"absolute bottom-0 right-0 h-3 w-3 rounded-full bg-green-500 ring-1 ring-white"})]}),n.jsx("div",{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h2",{className:"font-semibold",children:((pt=x.otherUser)==null?void 0:pt.name)||"User"}),(c==null?void 0:c.some(be=>be.userId===x.otherUser.id))&&n.jsx("span",{className:"text-xs text-green-500 font-medium",children:"Online"})]})})]}),n.jsx("div",{className:"flex items-center gap-2",children:$e?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:ft,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",title:"Select All",children:n.jsx(VA,{size:18})}),n.jsx("button",{onClick:D,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",title:"Clear Selection",children:n.jsx(Qde,{size:18})}),q.length>0&&n.jsx("button",{onClick:Q,className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg",title:"Delete Selected",children:n.jsx(On,{size:18})}),n.jsx("button",{onClick:()=>{rt(!1),Se([])},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",title:"Exit Selection Mode",children:n.jsx(Lr,{size:18})})]}):n.jsx("button",{onClick:()=>rt(!0),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",title:"Select Messages",children:n.jsx(VA,{size:18})})})]}),n.jsxs("div",{ref:_,className:"flex-1 overflow-y-auto min-h-0 p-4 space-y-3",children:[w.length===0?n.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:n.jsx("p",{children:"No messages yet. Start the conversation!"})}):w.map(be=>{var De;return n.jsxs("div",{className:`relative flex ${be.senderId===s.id?"justify-end":"justify-start"}`,children:[$e&&be.senderId===s.id&&n.jsx("div",{className:"flex-shrink-0 mr-2 mt-2",children:n.jsx("input",{type:"checkbox",checked:q.includes(be.id),onChange:()=>Ot(be.id),className:"rounded border-gray-300"})}),be.senderId!==s.id&&n.jsx("div",{className:"flex-shrink-0 mr-2",children:(De=be.sender)!=null&&De.avatarUrl?n.jsxs(n.Fragment,{children:[Ze(`msg-${be.id}-sender`)!==!1&&n.jsx(yt,{className:"h-8 w-8 rounded-full"}),n.jsx("img",{src:be.sender.avatarUrl,alt:be.sender.name,className:`h-8 w-8 rounded-full object-cover ${Ze(`msg-${be.id}-sender`)===!1?"block":"hidden"}`,onLoad:()=>vt(`msg-${be.id}-sender`),onError:()=>ct(`msg-${be.id}-sender`),onLoadStart:()=>dt(`msg-${be.id}-sender`)})]}):n.jsx("div",{className:"h-8 w-8 rounded-full bg-brand-100 text-brand-600 flex items-center justify-center",children:n.jsx(ka,{size:16})})}),n.jsx("div",{className:`max-w-xs px-4 py-2 rounded-lg text-sm ${be.senderId===s.id?"bg-brand-500 text-white":"bg-gray-100"} ${be.pending?"opacity-70":""} ${q.includes(be.id)?"ring-2 ring-blue-500":""}`,children:ht===be.id?n.jsxs("div",{className:"mb-2",children:[n.jsx("input",{value:Ve,onChange:st=>ut(st.target.value),className:"w-full bg-transparent border border-white/20 rounded px-2 py-1 text-sm",onKeyDown:st=>{st.key==="Enter"?Ge():st.key==="Escape"&&(Fe(null),ut(""))}}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx("button",{onClick:Ge,className:"text-xs bg-white/20 px-2 py-1 rounded hover:bg-white/30",children:"Save"}),n.jsx("button",{onClick:()=>{Fe(null),ut("")},className:"text-xs bg-white/20 px-2 py-1 rounded hover:bg-white/30",children:"Cancel"})]})]}):n.jsxs(n.Fragment,{children:[be.content&&n.jsx("div",{className:"mb-2",children:be.content}),be.attachments&&be.attachments.length>0&&n.jsx("div",{className:"space-y-2",children:be.attachments.map((st,Ke)=>n.jsx("div",{className:`p-2 rounded ${be.senderId===s.id?"bg-white/10":"bg-gray-200"}`,children:wt(st)?n.jsxs("div",{className:"relative inline-block",children:[Ze(`attachment-${be.id}-${Ke}`)!==!1&&n.jsx(yt,{className:"rounded-lg max-w-[240px] max-h-[240px]",showIcon:!0}),n.jsx("button",{onClick:()=>{se(st),U(!0)},className:`block cursor-pointer ${Ze(`attachment-${be.id}-${Ke}`)===!1?"block":"hidden"}`,title:st.filename,children:n.jsx("img",{src:st.url,alt:st.filename,className:"rounded-lg max-w-[240px] max-h-[240px] object-cover border border-black/10",onLoad:()=>vt(`attachment-${be.id}-${Ke}`),onError:()=>ct(`attachment-${be.id}-${Ke}`),onLoadStart:()=>dt(`attachment-${be.id}-${Ke}`)})}),n.jsx(He,{url:st.url,className:"absolute top-2 right-2 p-1 bg-black/50 text-white rounded-full hover:bg-black/70",downloadProgress:Ce,downloadingFile:je,isDownloading:Ce>0&&je===st.url})]}):n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(UA,{size:16}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("a",{href:st.url.replace("/uploads/","/download/"),target:"_blank",rel:"noopener noreferrer",className:"text-xs underline hover:no-underline truncate block",children:st.filename}),n.jsxs("span",{className:"text-xs opacity-70",children:[(st.size/1024).toFixed(1)," KB"]})]}),n.jsx("a",{href:st.url.replace("/uploads/","/download/"),download:st.filename,target:"_blank",className:"p-1 hover:bg-white/20 rounded",title:"Download",children:n.jsx(La,{size:12})})]})},Ke))}),n.jsxs("div",{className:"mt-1 flex items-center justify-between gap-2 text-[10px] text-gray-400",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[be.pending&&n.jsx("span",{className:"opacity-70",children:"Sending…"}),be.failed&&n.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[n.jsx("span",{children:"Failed"}),n.jsx("button",{onClick:()=>qe(be),className:"px-2 py-0.5 rounded bg-red-100 text-red-600 hover:bg-red-200",children:"Retry"})]}),be.senderId===s.id&&!be.pending&&!be.failed&&n.jsx("button",{onClick:st=>{st.stopPropagation(),ee(Ee===be.id?null:be.id)},className:"p-1 hover:bg-white/20 rounded",title:"More options",children:n.jsx(Fo,{size:12})})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{children:ge(be.createdAt)}),be.senderId===s.id&&(be.read?n.jsx(fce,{size:12}):n.jsx(gce,{size:12}))]})]})]})}),Ee===be.id&&n.jsxs("div",{className:"absolute top-full -translate-y-[10px] right-0 bg-white border rounded shadow-lg z-10 message-menu",children:[be.content&&be.content.trim().length>0&&n.jsx("button",{onClick:st=>{st.stopPropagation(),Ae(be),ee(null)},className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"Edit"}),n.jsx("button",{onClick:st=>{st.stopPropagation(),Ye(be.id),ee(null)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Delete"})]})]},be.id)}),n.jsx("div",{ref:M})]}),n.jsxs("div",{className:"border-t p-3 relative",children:[L.length>0&&n.jsx("div",{className:"mb-3 flex flex-wrap gap-2",children:L.map((be,De)=>n.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg px-3 py-2",children:[gt(be.name)?n.jsxs(n.Fragment,{children:[Ze(`preview-${De}`)!==!1&&n.jsx(yt,{className:"h-10 w-10 rounded"}),n.jsx("img",{src:URL.createObjectURL(be),alt:be.name,className:`h-10 w-10 object-cover rounded border border-black/10 ${Ze(`preview-${De}`)===!1?"block":"hidden"}`,onLoad:()=>vt(`preview-${De}`),onError:()=>ct(`preview-${De}`),onLoadStart:()=>dt(`preview-${De}`)})]}):n.jsxs(n.Fragment,{children:[n.jsx(UA,{size:16,className:"text-gray-600"}),n.jsx("span",{className:"text-sm text-gray-700 truncate max-w-32",children:be.name})]}),n.jsx("button",{onClick:()=>Xe(De),className:"ml-1 text-gray-500 hover:text-gray-700",title:"Remove",children:n.jsx(Lr,{size:14})})]},De))}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{ref:te,type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.txt,.csv",onChange:_e,className:"hidden"}),n.jsx("button",{onClick:()=>{var be;return(be=te.current)==null?void 0:be.click()},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",title:"Attach files",children:n.jsx(Cde,{size:18})}),n.jsx("button",{onClick:()=>{console.log("Emoji button clicked, current state:",T),k(!T)},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",title:"Add emoji",children:n.jsx(qde,{size:18})}),T&&n.jsx("div",{className:"fixed bottom-24 right-6 z-[9999] emoji-picker-container",children:n.jsx(yTe,{onEmojiClick:ze})}),n.jsx("input",{value:v,onChange:be=>j(be.target.value),onKeyDown:be=>{be.key==="Enter"&&!be.shiftKey&&(be.preventDefault(),it())},placeholder:"Type your message...",className:"flex-1 rounded-xl border border-gray-200 px-3 py-2 text-sm"}),n.jsx("button",{onClick:it,disabled:!v.trim()&&L.length===0,className:"p-2 rounded-xl bg-brand-500 text-white disabled:opacity-50",children:n.jsx(rb,{size:18})})]})]})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500 max-md:hidden",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mb-2 mx-auto h-16 w-16 rounded-full bg-gray-100 flex items-center justify-center",children:n.jsx(rb,{size:24,className:"text-gray-400"})}),n.jsx("h3",{className:"text-lg font-medium",children:"Your Messages"}),n.jsx("p",{className:"mt-1",children:"Select a conversation or start a new one"})]})})]})})}),O&&Z&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-4xl max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold",children:Z.filename}),n.jsxs("div",{className:"flex items-center gap-x-3",children:[n.jsx("a",{href:Z.url.replace("/uploads/","/download/"),target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-black/50 text-white rounded-full hover:bg-black/70",title:"Download",children:n.jsx(La,{size:12})}),n.jsx("button",{onClick:()=>U(!1),className:"p-1 rounded-full hover:bg-gray-100",children:n.jsx(Lr,{size:20})})]})]}),n.jsxs("div",{className:"p-4",children:[Ze(`dialog-${Z.url}`)!==!1&&n.jsx(yt,{className:"max-w-full max-h-[70vh] rounded-lg",showIcon:!0}),n.jsx("img",{src:Z.url,alt:Z.filename,className:`max-w-full max-h-[70vh] object-contain ${Ze(`dialog-${Z.url}`)===!1?"block":"hidden"}`,onLoad:()=>vt(`dialog-${Z.url}`),onError:()=>ct(`dialog-${Z.url}`),onLoadStart:()=>dt(`dialog-${Z.url}`)})]})]})}),K&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md",children:[n.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold",children:"New Message"}),n.jsx("button",{onClick:()=>X(!1),className:"p-1 rounded-full hover:bg-gray-100",children:n.jsx(Lr,{size:20})})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"relative mb-4",children:[n.jsx("input",{placeholder:"Search users...",value:W,onChange:be=>{F(be.target.value),be.target.value.length>2?de(be.target.value):A([])},className:"rounded-xl border border-gray-200 pl-9 pr-3 py-2 text-sm w-full"}),n.jsx(Ta,{className:"absolute left-3 top-2.5 text-gray-400",size:16})]}),n.jsx("div",{className:"max-h-80 overflow-y-auto",children:B?n.jsx("div",{className:"text-center py-4",children:n.jsx("div",{className:"inline-block h-6 w-6 animate-spin rounded-full border-2 border-solid border-brand-500 border-r-transparent"})}):P.length>0?P.map(be=>n.jsxs("div",{onClick:()=>{S(be.id),X(!1),F(""),A([])},className:"p-3 border-b last:border-0 flex items-center gap-3 hover:bg-gray-50 cursor-pointer",children:[be.avatarUrl?n.jsxs(n.Fragment,{children:[Ze(`search-${be.id}`)!==!1&&n.jsx(yt,{className:"h-10 w-10 rounded-full"}),n.jsx("img",{src:be.avatarUrl,alt:be.name,className:`h-10 w-10 rounded-full object-cover ${Ze(`search-${be.id}`)===!1?"block":"hidden"}`,onLoad:()=>vt(`search-${be.id}`),onError:()=>ct(`search-${be.id}`),onLoadStart:()=>dt(`search-${be.id}`)})]}):n.jsx("div",{className:"h-10 w-10 rounded-full bg-brand-100 text-brand-600 flex items-center justify-center",children:n.jsx(ka,{size:20})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:be.name}),be.professionalTitle&&n.jsx("p",{className:"text-xs text-gray-500",children:be.professionalTitle})]})]},be.id)):W.length>2?n.jsx("p",{className:"text-center py-4 text-gray-500",children:"No users found"}):n.jsx("p",{className:"text-center py-4 text-gray-500",children:"Type at least 3 characters to search"})})]})]})}),n.jsx(is,{open:Je,onClose:()=>{G(!1),Me(null)},title:Array.isArray(ae)?"Delete Messages":"Delete Message",text:Array.isArray(ae)?`Are you sure you want to delete ${ae.length} messages? This action cannot be undone.`:"Are you sure you want to delete this message? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",tone:"danger",onConfirm:Array.isArray(ae)?H:Et}),n.jsx(is,{open:he,onClose:()=>{ye(!1),ie(null)},title:"Delete Conversation",text:"Are you sure you want to delete this conversation? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",tone:"danger",onConfirm:re})]})}function ETe({roles:t}){const{isAuthed:r,loading:s,ready:a,hasRole:i}=Xt(),o=ys();return!a&&s?n.jsx(ei,{message:"Loading…",tip:""}):r?t&&!i(t)?n.jsx(CC,{to:"/unauthorized",replace:!0}):n.jsx(DE,{}):n.jsx(CC,{to:"/login",replace:!0,state:{from:o}})}function LTe(){const[t,r]=u.useState(!0),[s,a]=u.useState({identities:[],goals:[]}),[i,o]=u.useState([]),[l,c]=u.useState([]),[d,f]=u.useState([]),[h,g]=u.useState([]);console.log({userAccountType}),u.useEffect(()=>{ve(this,null,function*(){try{const{data:y}=yield Le.get("/public/identities");a(y||{identities:[],goals:[]})}catch(y){console.error(y)}finally{r(!1)}})},[]);const m=u.useMemo(()=>s.goals||[],[s]),p=(y,w,b)=>{y(w.includes(b)?w.filter(v=>v!==b):[...w,b])};function x(){return ve(this,null,function*(){try{yield Le.post("/onboarding/oneshot",{categoryIds:i,subcategoryIds:l,subsubCategoryIds:d,goalIds:h}),alert("Saved!")}catch(y){console.error(y),alert("Failed to save.")}})}return t?n.jsx("div",{className:"min-h-screen grid place-items-center text-brand-700",children:"Loading…"}):n.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Complete your profile"}),n.jsx("div",{className:"space-y-6",children:s.identities.map((y,w)=>n.jsxs("div",{className:"rounded-xl border bg-white p-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h3",{className:"font-semibold",children:y.name}),n.jsx("span",{className:"text-xs text-gray-500",children:"(categories below)"})]}),n.jsx("div",{className:"mt-3 space-y-3",children:y.categories.map((b,v)=>n.jsxs("details",{className:"group border rounded-lg",children:[n.jsxs("summary",{className:"px-3 py-2 cursor-pointer flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:!!b.id&&i.includes(b.id),onChange:()=>b.id&&p(o,i,b.id),disabled:!b.id,title:b.id?"":"Category not found in DB"}),n.jsx("span",{className:"font-medium",children:b.name})]}),n.jsx("span",{className:"text-gray-400 group-open:rotate-180 transition",children:"▾"})]}),n.jsx("div",{className:"px-3 pb-3 grid md:grid-cols-2 gap-2",children:b.subcategories.map((j,N)=>n.jsxs("div",{className:"border rounded-md px-3 py-2",children:[n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:!!j.id&&l.includes(j.id),onChange:()=>j.id&&p(c,l,j.id),disabled:!j.id,title:j.id?"":"Subcategory not found in DB"}),n.jsx("span",{children:j.name})]}),Array.isArray(j.subsubs)&&j.subsubs.length>0&&n.jsx("div",{className:"ml-6 mt-2 space-y-1",children:j.subsubs.map((S,I)=>n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:!!S.id&&d.includes(S.id),onChange:()=>S.id&&p(f,d,S.id),disabled:!S.id,title:S.id?"":"Level 3 not found in DB"}),n.jsx("span",{children:S.name})]},`${w}-${v}-${N}-${I}`))})]},`${w}-${v}-${N}`))})]},`${w}-${v}`))})]},w))}),n.jsxs("div",{className:"mt-6 rounded-xl border bg-white p-4",children:[n.jsx("h3",{className:"font-semibold",children:"Your Goals"}),n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Pick as many as you want."}),n.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(y=>n.jsx("button",{type:"button",onClick:()=>p(g,h,y.id),className:`rounded-full border px-3 py-1 text-sm ${h.includes(y.id)?"bg-[#8A358A] text-white border-transparent":"bg-white"}`,title:y.name,children:y.name},y.id))})]}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx("button",{onClick:x,className:"rounded-xl bg-[#8A358A] text-white px-6 py-3 font-semibold",children:"Save All"})})]})}const dN={step1:t=>n.jsx(rx,ne({className:"h-6 w-6"},t)),step2:t=>n.jsx(no,ne({className:"h-6 w-6"},t)),step3:t=>n.jsx(CH,ne({className:"h-6 w-6"},t)),step4:t=>n.jsx(tue,ne({className:"h-6 w-6"},t)),step5:t=>n.jsx(Uce,ne({className:"h-6 w-6"},t))};function MTe(){const t=qt(),r=Xt(),s=3,a=3,[i,o]=u.useState(1),l=u.useMemo(()=>{var Ce;return(Ce=[0,16.67,33.33,50,66.67,83.33,100][i])!=null?Ce:100},[i]);u.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[i]);const[c,d]=u.useState(!0),[f,h]=u.useState(""),[g,m]=u.useState([]),[p,x]=u.useState(null),[y,w]=u.useState([]),[b,v]=u.useState([]),[j,N]=u.useState([]),[S,I]=u.useState([]),[E,L]=u.useState([]),[C,T]=u.useState([]),[k,M]=u.useState([]),[_,J]=u.useState([]),[Y,te]=u.useState([]),[K,X]=u.useState([]),[W,F]=u.useState([]),[P,A]=u.useState([]),[B,z]=u.useState(()=>new Set),[O,U]=u.useState(()=>new Set),[Z,se]=u.useState(()=>new Set),[fe,le]=u.useState(()=>new Set),[Ne,Te]=u.useState(()=>new Set),[ht,Fe]=u.useState(()=>new Set);u.useEffect(()=>{ve(this,null,function*(){var Ce,pe;try{d(!0),h("");const we=(Ce=(yield Le.get("/auth/me")).data)==null?void 0:Ce.accountType;x(we);const{data:Re}=yield Le.get("/public/identities?type=all");m(Array.isArray(Re==null?void 0:Re.identities)?Re.identities:[]);const He=yield Le.get("/industry-categories/tree");te(Array.isArray((pe=He.data)==null?void 0:pe.industryCategories)?He.data.industryCategories:[])}catch(je){console.error(je),h("Failed to load onboarding data.")}finally{d(!1)}})},[]),u.useEffect(()=>{!r.user&&!(r!=null&&r.loading)&&t("/login")},[r.user,r==null?void 0:r.loading,t]);const Ve=Ce=>Ce.id||`name:${Ce.name}`,ut=u.useMemo(()=>p==="company"?Array.isArray(g)?g:[]:Array.isArray(g)?g:[],[g,p]),Je=u.useMemo(()=>{const Ce={};for(const pe of ut){const je=Ve(pe);for(const we of pe.categories||[])we!=null&&we.id&&(Ce[we.id]=Ce[we.id]||new Set,Ce[we.id].add(je))}return Ce},[ut]),G=u.useMemo(()=>{const Ce={};for(const pe of ut){const je=Ve(pe);for(const we of pe.categories||[])for(const Re of we.subcategories||[])Re!=null&&Re.id&&(Ce[Re.id]=Ce[Re.id]||new Set,Ce[Re.id].add(je))}return Ce},[ut]),ae=u.useMemo(()=>{const Ce={};for(const pe of ut){const je=Ve(pe);for(const we of pe.categories||[])for(const Re of we.subcategories||[])for(const He of Re.subsubs||[])He!=null&&He.id&&(Ce[He.id]=Ce[He.id]||new Set,Ce[He.id].add(je))}return Ce},[ut]),Me=u.useMemo(()=>{const Ce={};for(const pe of ut)for(const je of pe.categories||[])for(const we of je.subcategories||[])we!=null&&we.id&&(Ce[we.id]=je.id);return Ce},[ut]),he=u.useMemo(()=>{const Ce={};for(const pe of ut)for(const je of pe.categories||[])for(const we of je.subcategories||[])for(const Re of we.subsubs||[])Re!=null&&Re.id&&(Ce[Re.id]=we.id);return Ce},[ut]),ye=u.useMemo(()=>{const Ce={};for(const pe of ut)for(const je of pe.categories||[]){if(!(je!=null&&je.id))continue;const we=(je.subcategories||[]).map(Re=>Re.id).filter(Boolean);Ce[je.id]=Array.from(new Set([...Ce[je.id]||[],...we]))}return Ce},[ut]),oe=u.useMemo(()=>{const Ce={};for(const pe of ut)for(const je of pe.categories||[])for(const we of je.subcategories||[]){if(!(we!=null&&we.id))continue;const Re=(we.subsubs||[]).map(He=>He.id).filter(Boolean);Ce[we.id]=Array.from(new Set([...Ce[we.id]||[],...Re]))}return Ce},[ut]);function ie({pickIds:Ce,setPickIds:pe,setCats:je,setSubs:we,setSubsubs:Re,setOpenCats:He,setOpenSubs:et}){return pt=>{pe(be=>{const De=be.includes(pt)?be.filter(Ke=>Ke!==pt):[...be,pt],st=(Ke,mt)=>{const tt=Ke[mt];return tt?De.some(ke=>tt.has(ke)):!1};return Re(Ke=>Ke.filter(mt=>st(ae,mt))),we(Ke=>Ke.filter(mt=>st(G,mt))),je(Ke=>Ke.filter(mt=>st(Je,mt))),He(Ke=>{const mt=new Set([...Ke]);for(const tt of[...Ke]){const ke=Je[tt];(!ke||!De.some(lt=>ke.has(lt)))&&mt.delete(tt)}return mt}),et(Ke=>{const mt=new Set([...Ke]);for(const tt of[...Ke]){const ke=G[tt];(!ke||!De.some(lt=>ke.has(lt)))&&mt.delete(tt)}return mt}),De})}}function q({catIds:Ce,setCatIds:pe,setSubIds:je,setXIds:we,setOpenCats:Re,setOpenSubs:He}){return et=>{if(!et)return;if(Ce.includes(et)){const be=ye[et]||[],De=be.flatMap(st=>oe[st]||[]);pe(st=>st.filter(Ke=>Ke!==et)),je(st=>st.filter(Ke=>!be.includes(Ke))),we(st=>st.filter(Ke=>!De.includes(Ke))),Re(st=>{const Ke=new Set(st);return Ke.delete(et),Ke}),He(st=>{const Ke=new Set(st);for(const mt of be)Ke.delete(mt);return Ke})}else pe(be=>[...be,et]),Re(be=>new Set(be).add(et))}}function Se({subIds:Ce,setSubIds:pe,setXIds:je,setOpenSubs:we,setCatIds:Re,setOpenCats:He}){return et=>{if(!et)return;const pt=Me[et];if(Ce.includes(et)){const De=oe[et]||[];pe(st=>st.filter(Ke=>Ke!==et)),je(st=>st.filter(Ke=>!De.includes(Ke))),we(st=>{const Ke=new Set(st);return Ke.delete(et),Ke})}else pt&&(Re(De=>De.includes(pt)?De:[...De,pt]),He(De=>new Set(De).add(pt))),pe(De=>[...De,et])}}function $e({setXIds:Ce,subIds:pe,setSubIds:je,setCatIds:we,setOpenCats:Re}){return He=>{if(!He)return;const et=he[He],pt=et?Me[et]:null;Ce(be=>be.includes(He)?be.filter(st=>st!==He):(et&&!pe.includes(et)&&je(st=>[...st,et]),pt&&(we(st=>st.includes(pt)?st:[...st,pt]),Re(st=>new Set(st).add(pt))),[...be,He]))}}const rt=ie({pickIds:E,setPickIds:L,setCats:T,setSubs:M,setSubsubs:J,setOpenCats:se,setOpenSubs:le}),nt=Ce=>{!E.includes(Ce)&&E.length>=s||rt(Ce)},Ue=q({catIds:C,setCatIds:T,setSubIds:M,setXIds:J,setOpenCats:se,setOpenSubs:le}),xt=Ce=>{!C.includes(Ce)&&C.length>=a||Ue(Ce)},Oe=Se({subIds:k,setSubIds:M,setXIds:J,setOpenSubs:le,setCatIds:T,setOpenCats:se}),Ee=Ce=>{const pe=Me[Ce],je=pe?C.includes(pe):!0;!k.includes(Ce)&&!je&&C.length>=a||Oe(Ce)},ee=$e({setXIds:J,subIds:k,setSubIds:M,setCatIds:T,setOpenCats:se}),de=Ce=>{const pe=he[Ce],je=pe?Me[pe]:null,we=je?C.includes(je):!0;!_.includes(Ce)&&!we&&C.length>=a||ee(Ce)};function ue({industryCatIds:Ce,setIndustryCatIds:pe,setIndustrySubIds:je,setIndustryXIds:we,setOpenIndustryCats:Re,setOpenIndustrySubs:He}){return et=>{var be,De;if(!et)return;if(Ce.includes(et)){const st=((De=(be=Y.find(mt=>mt.id===et))==null?void 0:be.subcategories)==null?void 0:De.map(mt=>mt.id))||[],Ke=st.flatMap(mt=>{var tt,ke,lt,St;return((St=(lt=(ke=(tt=Y.find(Mt=>Mt.id===et))==null?void 0:tt.subcategories)==null?void 0:ke.find(Mt=>Mt.id===mt))==null?void 0:lt.subsubs)==null?void 0:St.map(Mt=>Mt.id))||[]});pe(mt=>mt.filter(tt=>tt!==et)),je(mt=>mt.filter(tt=>!st.includes(tt))),we(mt=>mt.filter(tt=>!Ke.includes(tt))),Re(mt=>{const tt=new Set(mt);return tt.delete(et),tt}),He(mt=>{const tt=new Set(mt);for(const ke of st)tt.delete(ke);return tt})}else pe(st=>[...st,et]),Re(st=>new Set(st).add(et))}}function _e({industrySubIds:Ce,setIndustrySubIds:pe,setIndustryXIds:je,setOpenIndustrySubs:we,setIndustryCatIds:Re,setOpenIndustryCats:He}){return et=>{var De,st,Ke,mt,tt;if(!et)return;const pt=(De=Y.find(ke=>{var lt;return(lt=ke.subcategories)==null?void 0:lt.some(St=>St.id===et)}))==null?void 0:De.id;if(Ce.includes(et)){const ke=((tt=(mt=(Ke=(st=Y.find(lt=>lt.id===pt))==null?void 0:st.subcategories)==null?void 0:Ke.find(lt=>lt.id===et))==null?void 0:mt.subsubs)==null?void 0:tt.map(lt=>lt.id))||[];pe(lt=>lt.filter(St=>St!==et)),je(lt=>lt.filter(St=>!ke.includes(St))),we(lt=>{const St=new Set(lt);return St.delete(et),St})}else pt&&(Re(ke=>ke.includes(pt)?ke:[...ke,pt]),He(ke=>new Set(ke).add(pt))),pe(ke=>[...ke,et])}}function Xe({setIndustryXIds:Ce,industrySubIds:pe,setIndustrySubIds:je,setIndustryCatIds:we,setOpenIndustryCats:Re}){return He=>{var be,De;if(!He)return;const et=(be=Y.flatMap(st=>st.subcategories||[]).find(st=>{var Ke;return(Ke=st.subsubs)==null?void 0:Ke.some(mt=>mt.id===He)}))==null?void 0:be.id,pt=et?(De=Y.find(st=>{var Ke;return(Ke=st.subcategories)==null?void 0:Ke.some(mt=>mt.id===et)}))==null?void 0:De.id:null;Ce(st=>st.includes(He)?st.filter(mt=>mt!==He):(et&&!pe.includes(et)&&je(mt=>[...mt,et]),pt&&(we(mt=>mt.includes(pt)?mt:[...mt,pt]),Re(mt=>new Set(mt).add(pt))),[...st,He]))}}const gt=ue({industryCatIds:K,setIndustryCatIds:X,setIndustrySubIds:F,setIndustryXIds:A,setOpenIndustryCats:Te,setOpenIndustrySubs:Fe}),wt=_e({industrySubIds:W,setIndustrySubIds:F,setIndustryXIds:A,setOpenIndustrySubs:Fe,setIndustryCatIds:X,setOpenIndustryCats:Te}),vt=Xe({setIndustryXIds:A,industrySubIds:W,setIndustrySubIds:F,setIndustryCatIds:X,setOpenIndustryCats:Te}),ct=Ce=>{Ce&&U(pe=>{const je=new Set(pe);return je.has(Ce)?je.delete(Ce):je.add(Ce),je})},Ze=Ce=>{Ce&&le(pe=>{const je=new Set(pe);return je.has(Ce)?je.delete(Ce):je.add(Ce),je})},dt=Ce=>{z(pe=>{const je=new Set(pe);return je.has(Ce)?je.delete(Ce):je.add(Ce),je})},yt=Ce=>{se(pe=>{const je=new Set(pe);return je.has(Ce)?je.delete(Ce):je.add(Ce),je})},Ie=Ce=>{Te(pe=>{const je=new Set(pe);return je.has(Ce)?je.delete(Ce):je.add(Ce),je})},ze=Ce=>{Ce&&Fe(pe=>{const je=new Set(pe);return je.has(Ce)?je.delete(Ce):je.add(Ce),je})},qe=Ce=>{w(pe=>pe.includes(Ce)?[]:[Ce]),I(pe=>{const je=(we,Re)=>{const He=we[Re];return He?[Ce].some(et=>He.has(et)):!1};return pe.filter(we=>je(ae,we))}),N(pe=>{const je=(we,Re)=>{const He=we[Re];return He?[Ce].some(et=>He.has(et)):!1};return pe.filter(we=>je(G,we))}),v(pe=>{const je=(we,Re)=>{const He=we[Re];return He?[Ce].some(et=>He.has(et)):!1};return pe.filter(we=>je(Je,we))}),z(pe=>{const je=new Set([...pe]);for(const we of[...pe]){const Re=Je[we];(!Re||![Ce].some(He=>Re.has(He)))&&je.delete(we)}return je}),U(pe=>{const je=new Set([...pe]);for(const we of[...pe]){const Re=G[we];(!Re||![Ce].some(He=>Re.has(He)))&&je.delete(we)}return je})},it=q({catIds:b,setCatIds:v,setSubIds:N,setXIds:I,setOpenCats:z,setOpenSubs:U}),Ae=Se({subIds:j,setSubIds:N,setXIds:I,setOpenSubs:U,setCatIds:v,setOpenCats:z}),Ge=$e({setXIds:I,subIds:j,setSubIds:N,setCatIds:v,setOpenCats:z}),Ye=u.useMemo(()=>{const Ce=new Set(y);return ut.filter(pe=>Ce.has(Ve(pe)))},[ut,y]),Et=u.useMemo(()=>{const Ce=new Set(E);return ut.filter(pe=>Ce.has(Ve(pe)))},[ut,E]),Ot=y.length>=1,ft=b.length>=1,D=E.length>=1&&E.length<=s,Q=C.length>=1&&C.length<=a,H=K.length>=1,V=()=>n.jsx("div",{className:"min-h-screen grid place-items-center text-brand-700",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("svg",{className:"h-6 w-6 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),n.jsx("span",{children:"Loading…"})]})}),re=({icon:Ce,title:pe,subtitle:je,extra:we})=>n.jsxs("header",{className:"max-w-3xl mx-auto text-center",children:[n.jsx("div",{className:"flex justify-center mb-7 mt-4",children:n.jsx("img",{className:"w-[100px]",src:ah})}),n.jsx("h1",{className:"mt-4 text-3xl font-bold",children:pe}),n.jsx("p",{className:"text-gray-500",children:je}),we,n.jsx("div",{className:"mt-4 h-2 bg-gray-200 rounded",children:n.jsx("div",{className:"h-2 rounded bg-brand-700",style:{width:`${l}%`}})})]});if(c||!r.user)return n.jsx(V,{});if(f)return n.jsx("div",{className:"min-h-screen grid place-items-center",children:n.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[n.jsx("div",{className:"text-red-600 font-semibold mb-2",children:"Error"}),n.jsx("div",{className:"text-sm text-gray-700",children:f})]})});function ge({title:Ce,subtitle:pe,picked:je,onToggle:we,next:Re,canNext:He,prev:et,limit:pt}){const be=typeof pt=="number"&&je.length>=pt;return n.jsxs(n.Fragment,{children:[n.jsx(re,{icon:n.jsx(dN.step1,{}),title:Ce,subtitle:pe,extra:typeof pt=="number"?n.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Selected ",je.length,"/",pt]}):null}),n.jsxs("main",{className:"max-w-3xl mx-auto mt-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-soft p-6",children:[n.jsx("p",{className:"text-gray-500 mb-5 text-[18px]",children:typeof pt=="number"&&pt===1?"Choose one.":`Choose one or more${typeof pt=="number"?` (up to ${pt}).`:"."}`}),n.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-3",children:ut.filter(De=>De.type==p||i!=1).map((De,st)=>{const Ke=Ve(De),mt=je.includes(Ke),tt=!mt&&be;return n.jsxs("button",{onClick:()=>!tt&&we(Ke),disabled:tt,className:`rounded-xl flex items-center justify-between border px-4 py-3 text-left hover:shadow-soft ${mt?"border-brand-700 ring-2 ring-brand-500":"border-gray-200"} ${tt?"opacity-50 cursor-not-allowed":""}`,children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:De.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:[(De.categories||[]).length," categories"]})]}),n.jsx("input",{type:"checkbox",className:"h-4 w-4 pointer-events-none",checked:mt,readOnly:!0})]},`${st}-${De.name}`)})})]}),n.jsxs("div",{className:"mt-6 flex justify-between",children:[et?n.jsx("button",{onClick:et,className:"rounded-xl border px-4 py-3",children:"Previous"}):n.jsx("span",{}),n.jsx("button",{onClick:Re,disabled:!He,className:"rounded-xl bg-brand-700 text-white px-6 py-3 font-semibold disabled:opacity-50",children:"Continue"})]})]})]})}function We({title:Ce,subtitle:pe,industryCatIds:je,industrySubIds:we,industryXIds:Re,openIndustryCats:He,openIndustrySubs:et,onToggleIndustryCat:pt,onToggleIndustrySub:be,onToggleIndustrySubsub:De,onToggleIndustryCatOpen:st,toggleIndustrySubOpen:Ke,prev:mt,nextLabel:tt,onNext:ke,canNext:lt}){const St=Ht=>Array.isArray(Ht==null?void 0:Ht.subcategories)&&Ht.subcategories.length>0,Mt=Ht=>Array.isArray(Ht==null?void 0:Ht.subsubs)&&Ht.subsubs.length>0;return n.jsxs(n.Fragment,{children:[n.jsx(re,{icon:n.jsx(dN.step4,{}),title:Ce,subtitle:pe}),n.jsxs("main",{className:"max-w-4xl mx-auto mt-6",children:[n.jsx("div",{className:"bg-white rounded-2xl shadow-soft p-6",children:Y.length===0?n.jsx("div",{className:"rounded-xl border bg-white p-6 text-[17px] text-gray-600",children:"Loading industry categories..."}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-[17px] text-gray-500 mb-4",children:"Choose at least one industry category that represents your professional focus."}),n.jsx("div",{className:"space-y-4",children:Y.map((Ht,mr)=>{const Rt=St(Ht),er=!!Ht.id&&He.has(Ht.id),tr=!!Ht.id&&K.includes(Ht.id);return n.jsxs("div",{className:"rounded-xl border",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 rounded-t-xl",children:[n.jsxs("div",{onClick:()=>Ht.id&&pt(Ht.id),className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{"aria-label":`Select ${Ht.name}`,type:"checkbox",className:"h-4 w-4",checked:tr}),n.jsx("div",{className:"font-semibold",children:Ht.name})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-gray-500",children:(Ht.subcategories||[]).length}),n.jsx("div",{className:"flex items-center gap-3",children:Rt&&n.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700 ml-auto","aria-expanded":er,onClick:()=>Ht.id&&st(Ht.id),children:n.jsx("span",{className:`inline-block transition-transform ${er?"rotate-180":""}`,children:"▾"})})})]})]}),n.jsx("div",{className:`${Rt&&er?" px-4 py-4 space-y-3":""}`,children:Rt&&er&&n.jsx("div",{className:"ml-7 space-y-3",children:(Ht.subcategories||[]).map((Nt,Kt)=>{const jr=Mt(Nt),dr=!!Nt.id&&et.has(Nt.id),en=!!Nt.id&&we.includes(Nt.id);return n.jsxs("div",{className:"border rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"flex items-center w-full flex-1 gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-brand-600",checked:en,onChange:()=>Nt.id&&be(Nt.id)}),n.jsx("span",{className:"font-medium w-full flex flex-1",children:Nt.name})]}),jr&&n.jsx("button",{type:"button",onClick:()=>Nt.id&&Ke(Nt.id),className:"text-gray-500 hover:text-gray-700","aria-expanded":dr,"aria-label":`Toggle ${Nt.name} sub-items`,children:n.jsx("span",{className:`inline-block transition-transform ${dr?"rotate-180":""}`,children:"▾"})})]}),jr&&(dr||en)&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-2 ml-7",children:Nt.subsubs.map((qr,ur)=>{const pa=!!qr.id&&Re.includes(qr.id);return n.jsxs("label",{className:"inline-flex items-center gap-2 px-2 py-1 border rounded-full text-sm cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:pa,onChange:()=>qr.id&&De(qr.id)}),n.jsx("span",{children:qr.name})]},`industry-ss-${mr}-${Kt}-${ur}`)})})]},`industry-sub-${mr}-${Kt}`)})})})]},`industry-cat-${mr}`)})})]})}),n.jsxs("div",{className:"mt-6 flex justify-between",children:[n.jsx("button",{onClick:mt,className:"rounded-xl border px-4 py-3",children:"Previous"}),n.jsx("button",{onClick:ke,disabled:!lt,className:"rounded-xl bg-brand-700 text-white px-6 py-3 font-semibold disabled:opacity-50",children:tt})]})]})]})}function ot({title:Ce,subtitle:pe,selectedIdentities:je,catIds:we,subIds:Re,xIds:He,openCats:et,openSubs:pt,onToggleCat:be,onToggleSub:De,onToggleSubsub:st,onToggleCatOpen:Ke,toggleSubOpen:mt,prev:tt,nextLabel:ke,onNext:lt,canNext:St,catLimit:Mt}){const Ht=er=>Array.isArray(er==null?void 0:er.subcategories)&&er.subcategories.length>0,mr=er=>Array.isArray(er==null?void 0:er.subsubs)&&er.subsubs.length>0,Rt=typeof Mt=="number"&&we.length>=Mt;return n.jsxs(n.Fragment,{children:[n.jsx(re,{icon:n.jsx(dN.step3,{}),title:Ce,subtitle:pe,extra:typeof Mt=="number"?n.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Selected categories ",we.length,"/",Mt]}):null}),n.jsxs("main",{className:"max-w-4xl mx-auto mt-6",children:[n.jsx("div",{className:"bg-white rounded-2xl shadow-soft p-6",children:je.length===0?n.jsx("div",{className:"rounded-xl border bg-white p-6 text-[17px] text-gray-600",children:"Select at least one identity in the previous step to see categories here."}):n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"text-[17px] text-gray-500 mb-4",children:["Choose at least one category",typeof Mt=="number"?` (up to ${Mt}).`:"."]}),n.jsx("div",{className:"space-y-4",children:je.map((er,tr)=>n.jsxs("div",{className:"rounded-xl border",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 rounded-t-xl",children:[n.jsx("div",{className:"font-semibold",children:er.name}),n.jsxs("span",{className:"text-xs text-gray-500",children:[(er.categories||[]).length," categories"]})]}),n.jsx("div",{className:"px-4 py-4 space-y-3",children:(er.categories||[]).map((Nt,Kt)=>{const jr=Ht(Nt),dr=!!Nt.id&&et.has(Nt.id),en=!!Nt.id&&we.includes(Nt.id),qr=!!Nt.id&&!en&&Rt;return n.jsxs("div",{className:"border rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[n.jsxs("label",{className:`flex flex-1 items-center gap-2 ${qr?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:en,onChange:()=>!qr&&Nt.id&&be(Nt.id),disabled:!Nt.id||qr,title:Nt.id?qr?"Category limit reached":"":"Category not found in DB"}),n.jsx("span",{className:"font-medium w-full flex-1 flex",children:Nt.name})]}),jr&&n.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700","aria-expanded":dr,onClick:()=>Nt.id&&Ke(Nt.id),children:n.jsx("span",{className:`inline-block transition-transform ${dr?"rotate-180":""}`,children:"▾"})})]}),jr&&dr&&n.jsx("div",{className:"px-4 pb-4 space-y-3",children:(Nt.subcategories||[]).map((ur,pa)=>{const xa=mr(ur),Yr=!!ur.id&&pt.has(ur.id),Ns=!!ur.id&&Re.includes(ur.id),cs=!!Nt.id&&we.includes(Nt.id),Pa=!Ns&&!cs&&Rt;return n.jsxs("div",{className:"border rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:`flex items-center w-full flex-1 gap-3 ${Pa?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-brand-600",checked:Ns,onChange:()=>!Pa&&ur.id&&De(ur.id),disabled:!ur.id||Pa,title:ur.id?Pa?"Category limit reached":"":"Subcategory not found in DB"}),n.jsx("span",{className:"font-medium w-full flex flex-1",children:ur.name})]}),xa&&n.jsx("button",{type:"button",onClick:()=>ur.id&&mt(ur.id),className:"text-gray-500 hover:text-gray-700","aria-expanded":Yr,"aria-label":`Toggle ${ur.name} sub-items`,children:n.jsx("span",{className:`inline-block transition-transform ${Yr?"rotate-180":""}`,children:"▾"})})]}),xa&&(Yr||Ns)&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:ur.subsubs.map((Zn,Vo)=>{const Be=!!Nt.id&&we.includes(Nt.id),Tt=!!Zn.id&&He.includes(Zn.id),Ft=!Tt&&!Be&&Rt;return n.jsxs("label",{className:`inline-flex items-center gap-2 px-2 py-1 border rounded-full text-sm ${Ft?"opacity-50 cursor-not-allowed":""}`,children:[n.jsx("input",{type:"checkbox",checked:!!Zn.id&&Tt,onChange:()=>!Ft&&Zn.id&&st(Zn.id),disabled:!Zn.id||Ft,title:Zn.id?Ft?"Category limit reached":"":"Level-3 not found in DB"}),n.jsx("span",{children:Zn.name})]},`ss-${tr}-${Kt}-${pa}-${Vo}`)})})]},`sub-${tr}-${Kt}-${pa}`)})})]},`cat-${tr}-${Kt}`)})})]},`iden-${tr}`))})]})}),n.jsxs("div",{className:"mt-6 flex justify-between",children:[n.jsx("button",{onClick:tt,className:"rounded-xl border px-4 py-3",children:"Previous"}),n.jsx("button",{onClick:lt,disabled:!St,className:"rounded-xl bg-brand-700 text-white px-6 py-3 font-semibold disabled:opacity-50",children:ke})]})]})]})}return n.jsxs("div",{className:"min-h-screen p-6 bg-brand-50/40",children:[i===1&&n.jsx(ge,{title:p==="company"?"Tell us about your company":"Tell us who you are",subtitle:p==="company"?"Choose the identity that best represents what your company does.":"Choose the identity that best represents what you do.",picked:y,onToggle:qe,next:()=>o(2),canNext:Ot,limit:1}),i===2&&n.jsx(ot,{title:p==="company"?"Choose your company's focus areas":"Choose where you belong",subtitle:p==="company"?"Select the categories that match your company's expertise and activity.":"Select the categories that match your expertise and activity.",selectedIdentities:Ye,catIds:b,subIds:j,xIds:S,openCats:B,openSubs:O,onToggleCat:it,onToggleSub:Ae,onToggleSubsub:Ge,onToggleCatOpen:dt,toggleSubOpen:ct,prev:()=>o(1),nextLabel:"Continue",onNext:()=>o(3),canNext:ft}),i===3&&n.jsx(ge,{title:p==="company"?"What is your company looking for?":"What are you looking for?",subtitle:p==="company"?"Pick the identities your company wants to connect with or discover.":"Pick the identities you want to connect with or discover.",picked:E,onToggle:nt,next:()=>o(4),canNext:D,prev:()=>o(2),limit:s}),i===4&&n.jsx(ot,{title:p==="company"?"Pick the categories your company is looking for":"Pick the categories you are looking for",subtitle:p==="company"?"Select categories and roles your company wants to find.":"Select categories and roles you want to find.",selectedIdentities:Et,catIds:C,subIds:k,xIds:_,openCats:Z,openSubs:fe,onToggleCat:xt,onToggleSub:Ee,onToggleSubsub:de,onToggleCatOpen:yt,toggleSubOpen:Ze,prev:()=>o(3),nextLabel:"Continue",onNext:()=>o(5),canNext:Q,catLimit:a}),i===5&&n.jsx(We,{title:p==="company"?"Choose your company's industry focus":"Choose your industry focus",subtitle:p==="company"?"Select the industries that best represent your company's sector and expertise.":"Select the industries that best represent your professional sector and expertise.",industryCatIds:K,industrySubIds:W,industryXIds:P,openIndustryCats:Ne,openIndustrySubs:ht,onToggleIndustryCat:gt,onToggleIndustrySub:wt,onToggleIndustrySubsub:vt,onToggleIndustryCatOpen:Ie,toggleIndustrySubOpen:ze,prev:()=>o(4),nextLabel:"Save & Finish",onNext:()=>ve(this,null,function*(){if(H)try{yield Le.post("/onboarding/oneshot",{identityIds:y,categoryIds:b,subcategoryIds:j,subsubCategoryIds:S,interestIdentityIds:E,interestCategoryIds:C,interestSubcategoryIds:k,interestSubsubCategoryIds:_,industryCategoryIds:K,industrySubcategoryIds:W,industrySubsubCategoryIds:P}),window.location.href="/"}catch(Ce){console.error(Ce),alert("Failed to save. Please try again.")}}),canNext:H})]})}function ITe({isOpen:t,onClose:r}){const{profile:s,refreshAuth:a,user:i}=Xt(),o=(i==null?void 0:i.accountType)==="company",[l,c]=u.useState(!1),[d,f]=u.useState({professionalTitle:(s==null?void 0:s.professionalTitle)||"",about:(s==null?void 0:s.about)||""}),[h,g]=u.useState({professionalTitle:"",about:""});if(!t)return null;const m=y=>{const{name:w,value:b}=y.target;let v=b;w==="professionalTitle"&&b.length>50&&(v=b.slice(0,50)),w==="about"&&b.length>300&&(v=b.slice(0,300)),f(j=>me(ne({},j),{[w]:v})),g(j=>me(ne({},j),{[w]:""}))},p=()=>{const y={professionalTitle:d.professionalTitle?"":o?"Please enter your company role or position":"Please enter your job title or role",about:d.about?"":o?"Please tell us a bit about your company":"Please tell us a bit about yourself"};return g(y),!Object.values(y).some(w=>w)},x=y=>ve(this,null,function*(){var w,b;if(y.preventDefault(),!p()){ce.error("Please fill in all required fields");return}c(!0);try{yield xV({professionalTitle:d.professionalTitle,about:d.about}),ce.success("Details saved!"),yield a(),r()}catch(v){ce.error(((b=(w=v==null?void 0:v.response)==null?void 0:w.data)==null?void 0:b.message)||"Failed to update profile")}finally{c(!1)}});return n.jsx("div",{style:{zIndex:999},className:"fixed inset-0 flex items-center justify-center bg-black/50","aria-modal":"true",role:"dialog",children:n.jsxs("div",{className:"relative w-full max-w-md bg-white rounded-xl shadow-xl p-6 md:p-8 max-h-[80vh] overflow-y-auto",children:[n.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close",type:"button",children:n.jsx(Lr,{size:24})}),n.jsx("h2",{className:"mt-2 text-[1.4rem] font-bold text-gray-900 mb-[0.5rem]",children:o?"Help others get to know your company":"Help others get to know you"}),n.jsx("p",{className:"mt-1 text-gray-500",children:o?"Add a company title and short description now. You can update the rest anytime.":"Add a title and short intro now. You can update the rest anytime."}),n.jsxs("div",{className:"mt-4 p-4 bg-amber-50 border border-amber-200 rounded-lg flex items-start gap-3",children:[n.jsx(Fce,{size:20,className:"text-amber-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Your profile is currently hidden"}),n.jsx("p",{className:"text-xs text-amber-700 mt-1",children:o?"Your company profile will remain hidden from other users until you complete these basic details. You can update this information anytime in your profile settings.":"Your profile will remain hidden from other users until you complete these basic details. You can update this information anytime in your profile settings."})]})]}),n.jsxs("form",{onSubmit:x,className:"mt-6 space-y-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:o?"Company Area or Focus":"Job Title or Role"}),n.jsxs("span",{className:`text-xs ${d.professionalTitle.length>50?"text-red-600":"text-gray-500"}`,children:[d.professionalTitle.length,"/50"]})]}),n.jsx(Pr,{name:"professionalTitle",placeholder:o?"e.g. Technology, Finance, Marketing, Logistics":"e.g. Software Engineer, Marketing Manager",value:d.professionalTitle,onChange:m,error:h.professionalTitle})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{htmlFor:"about",className:"text-sm font-medium text-gray-700",children:o?"About Your Company":"About You"}),n.jsxs("span",{className:`text-xs ${d.about.length>300?"text-red-600":"text-gray-500"}`,children:[d.about.length,"/300"]})]}),n.jsx("textarea",{id:"about",name:"about",placeholder:o?"Tell us about your company, what you do, and what you're looking for":"Tell us about yourself, your experience, and what you're looking for",value:d.about,onChange:m,rows:4,className:`w-full rounded-xl border px-4 py-3 text-sm outline-none ring-brand-500 focus:ring-2 ${h.about?"border-red-400 focus:ring-red-400":"border-gray-200"}`}),h.about&&n.jsx("p",{className:"text-xs text-red-600",children:h.about})]}),n.jsxs("button",{type:"submit",disabled:l,className:"mt-4 w-full rounded-xl bg-gradient-to-r from-brand-600 to-brand-500 py-3 font-semibold text-white shadow-soft hover:opacity-95 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[l&&n.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),l?"Saving...":"Save details & make profile visible"]}),n.jsx("p",{className:"text-xs text-gray-500 text-center",children:o?"Complete these details to make your company profile visible to others.":"Complete these details to make your profile visible to others."})]})]})})}const TTe=()=>{const{user:t,loading:r,profile:s}=Xt(),[a,i]=u.useState(!1);return u.useEffect(()=>{if(t&&!r&&(t==null?void 0:t.accountType)!="admin"){const o=!s.about,l=!(s!=null&&s.professionalTitle);(o||l)&&i(!0)}},[t,s,r]),r?n.jsx(ei,{}):t&&(s==null?void 0:s.onboardingDone)===!1&&(t==null?void 0:t.accountType)!="admin"?n.jsx(CC,{to:"/onboarding",replace:!0}):n.jsxs(n.Fragment,{children:[n.jsx(ITe,{isOpen:a,onClose:()=>i(!1)}),n.jsx(DE,{})]})};function ATe(t,r=400){const[s,a]=u.useState(t);return u.useEffect(()=>{const i=setTimeout(()=>a(t),r);return()=>clearTimeout(i)},[t,r]),s}function _Te(){const[r,s]=u.useState("Suggested for You");u.useMemo(()=>["Suggested for You","Events to Attend"],[]);const a=qt(),i=Cr(),[o,l]=u.useState("list"),c="services",{user:d}=Xt(),[f,h]=u.useState(""),g=ATe(f,400),[m,p]=u.useState(),[x,y]=u.useState(),[w,b]=u.useState(),[v,j]=u.useState(),[N,S]=u.useState(),[I,E]=u.useState(),[L,C]=u.useState(),[T,k]=u.useState([]),[M,_]=u.useState({}),[J,Y]=u.useState([]),[te,K]=u.useState([]);u.useEffect(()=>{ve(this,null,function*(){try{const{data:ke}=yield Le.get("/general-categories/tree?type=service");k(ke.generalCategories||[])}catch(ke){console.error("Failed to load general categories",ke)}})},[]);const[X,W]=u.useState([]),[F,P]=u.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[A,B]=u.useState(""),[z,O]=u.useState(""),[U,Z]=u.useState(""),[se,fe]=u.useState(""),[le,Ne]=u.useState(""),[Te,ht]=u.useState(""),[Fe,Ve]=u.useState(""),[ut,Je]=u.useState(""),[G,ae]=u.useState(""),[Me,he]=u.useState(""),[ye,oe]=u.useState(""),[ie,q]=u.useState(""),[Se,$e]=u.useState(""),[rt,nt]=u.useState(""),[Ue,xt]=u.useState(""),[Oe,Ee]=u.useState(""),[ee,de]=u.useState(""),[ue,_e]=u.useState("Free"),[Xe,gt]=u.useState([]),[wt,vt]=u.useState([]),[ct,Ze]=u.useState([]),[dt,yt]=u.useState([]),[Ie,ze]=u.useState([]),[qe,it]=u.useState(!1),[Ae,Ge]=u.useState(0),[Ye,Et]=u.useState(0),[Ot,ft]=u.useState(!1),D=u.useRef(null),[Q,H]=u.useState([]),[V,re]=u.useState([]),[ge,We]=u.useState(!1),[ot,Ce]=u.useState(!1),[pe,je]=u.useState(!0),[we,Re]=u.useState(!1),He=u.useRef(null);u.useRef(null);const et=u.useRef(0);u.useEffect(()=>{ve(this,null,function*(){try{const{data:ke}=yield Le.get("/feed/meta");vt(ke.categories||[]),Ze(ke.countries||[]),yt(ke.goals||[])}catch(ke){console.error("Failed to load meta:",ke)}})},[]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:ke}=yield Le.get("/public/identities");W(ke.identities)}catch(ke){console.error("Error loading identities:",ke)}})},[]);const pt=u.useCallback(()=>ve(this,null,function*(){if(r==="Suggested for You"){it(!0);try{const ke={tab:"services",q:g||void 0,country:m||void 0,servicesView:L||void 0,city:x||void 0,categoryId:w||void 0,subcategoryId:v||void 0,goalId:N||void 0,role:I||void 0,price:A||void 0,serviceType:z||void 0,priceType:U||void 0,deliveryTime:se||void 0,experienceLevel:le||void 0,locationType:Te||void 0,jobType:Fe||void 0,workMode:ut||void 0,postType:G||void 0,season:Me||void 0,budgetRange:ye||void 0,servicesView:L||void 0,fundingGoal:ie||void 0,amountRaised:Se||void 0,currency:rt||void 0,deadline:Ue||void 0,eventType:Oe||void 0,date:ee||void 0,registrationType:ue||void 0,generalCategoryIds:J.filter(Mt=>T.some(Ht=>Ht.id===Mt)).join(",")||void 0,generalSubcategoryIds:Object.keys(M).filter(Mt=>M[Mt]).join(",")||void 0,audienceIdentityIds:Array.from(F.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(F.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(F.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(F.subsubCategoryIds).join(",")||void 0,industryIds:Xe.length>0?Xe.join(","):void 0,limit:10,offset:0},{data:lt}=yield Le.get("/feed",{params:ke}),St=Array.isArray(lt.items)?lt.items:[];ze(St),Ge(typeof lt.total=="number"?lt.total:St.length),je(typeof lt.total=="number"?St.length<lt.total:St.length===10),et.current=St.length,ft(!1),D.current&&(clearTimeout(D.current),D.current=null)}catch(ke){console.error("Failed to load feed:",ke),ze([]),ft(!0),D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{pt()},3e3)}finally{it(!1)}setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)}}),[r,g,m,x,w,v,N,I,F,L,A,z,U,se,le,Te,Fe,ut,G,Me,ye,ie,Se,rt,Ue,Oe,ee,ue,M,J,Xe,T,i]),be=u.useCallback(()=>ve(this,null,function*(){if(!(isFetchingRef.current||qe||we||!pe)){isFetchingRef.current=!0,Re(!0);try{const ke={tab:"services",q:g||void 0,country:m||void 0,servicesView:L||void 0,city:x||void 0,categoryId:w||void 0,subcategoryId:v||void 0,goalId:N||void 0,role:I||void 0,price:A||void 0,serviceType:z||void 0,priceType:U||void 0,deliveryTime:se||void 0,experienceLevel:le||void 0,locationType:Te||void 0,jobType:Fe||void 0,workMode:ut||void 0,postType:G||void 0,season:Me||void 0,budgetRange:ye||void 0,servicesView:L||void 0,fundingGoal:ie||void 0,amountRaised:Se||void 0,currency:rt||void 0,deadline:Ue||void 0,eventType:Oe||void 0,date:ee||void 0,registrationType:ue||void 0,generalCategoryIds:J.filter(Mt=>T.some(Ht=>Ht.id===Mt)).join(",")||void 0,generalSubcategoryIds:Object.keys(M).filter(Mt=>M[Mt]).join(",")||void 0,audienceIdentityIds:Array.from(F.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(F.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(F.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(F.subsubCategoryIds).join(",")||void 0,industryIds:Xe.length>0?Xe.join(","):void 0,limit:10,offset:et.current},{data:lt}=yield Le.get("/feed",{params:ke}),St=Array.isArray(lt.items)?lt.items:[];ze(Mt=>[...Mt,...St]),et.current+=St.length,je(St.length===10),ft(!1)}catch(ke){console.error("Failed to load more:",ke)}finally{isFetchingRef.current=!1,Re(!1)}}}),[r,g,m,x,w,v,N,I,F,L,A,z,U,se,le,Te,Fe,ut,G,Me,ye,ie,Se,rt,Ue,Oe,ee,ue,M,J,Xe,T,Ie.length,qe,we,pe]);u.useEffect(()=>{pt()},[pt]),u.useEffect(()=>()=>{D.current&&clearTimeout(D.current)},[]),u.useEffect(()=>{ve(this,null,function*(){We(!0);try{const ke={q:g||void 0,country:m||void 0,city:x||void 0,categoryId:w||void 0,subcategoryId:v||void 0,goalId:N||void 0,role:I||void 0,industryIds:Xe.length>0?Xe.join(","):void 0,limit:10},{data:lt}=yield Le.get("/feed/suggestions",{params:ke});H(lt.matches||[]),re(lt.nearby||[])}catch(ke){console.error("Failed to load suggestions:",ke)}finally{We(!1)}})},[g,m,x,w,v,N,I,Xe]),u.useEffect(()=>{if(!He.current||!pe)return;const ke=He.current,lt=new IntersectionObserver(St=>{const[Mt]=St;Mt.isIntersecting&&be()},{root:null,rootMargin:"700px",threshold:0});return lt.observe(ke),()=>lt.disconnect()},[He,pe,be]);const De=ke=>{_(ke)},[st,Ke]=u.useState({});u.useEffect(()=>{const ke={};T.forEach(lt=>{ke[lt.id]=lt.name}),Ke(ke),K(T.map(lt=>lt.id))},[T]);const mt={setShowTotalCount:Et,audienceSelections:F,setAudienceSelections:P,audienceTree:X,generalTree:T,selectedFilters:J,setSelectedFilters:Y,onSubcategoryChange:De,servicesView:L,query:f,setQuery:h,country:m,setCountry:p,city:x,setCity:y,categoryId:w,setCategoryId:b,subcategoryId:v,setSubcategoryId:j,goalId:N,goals:dt,role:I,setRole:E,setGoalId:S,price:A,setPrice:B,serviceType:z,setServiceType:O,priceType:U,setPriceType:Z,deliveryTime:se,setDeliveryTime:fe,servicesView:L,setServicesView:C,experienceLevel:le,setExperienceLevel:Ne,locationType:Te,setLocationType:ht,jobType:Fe,setJobType:Ve,workMode:ut,setWorkMode:Je,postType:G,setPostType:ae,season:Me,setSeason:he,budgetRange:ye,setBudgetRange:oe,fundingGoal:ie,setFundingGoal:q,amountRaised:Se,setAmountRaised:$e,currency:rt,setCurrency:nt,deadline:Ue,setDeadline:xt,eventType:Oe,setEventType:Ee,date:ee,setDate:de,registrationType:ue,setRegistrationType:_e,selectedIndustries:Xe,setSelectedIndustries:gt,categories:wt,countries:ct,onApply:()=>Ce(!1)},tt=()=>Ot?n.jsx(ml,{onRetry:()=>{ft(!1),D.current&&clearTimeout(D.current),D.current=null,pt()},message:"Failed to load feed. Trying to connect...",buttonText:"Try Again"}):!qe&&Ie.length==0?n.jsx($d,{}):qe?n.jsx(n.Fragment,{children:qe&&n.jsx("div",{className:"min-h-[160px] grid text-gray-600",children:n.jsx(Pd,{columns:1})})}):n.jsx("div",{className:`grid grid-cols-1 ${o==="list"?"sm:grid-cols-1":"lg:grid-cols-3"} gap-6`,children:Ie.map(ke=>{var lt,St,Mt,Ht,mr,Rt,er,tr;return ke.kind==="service"?n.jsx(lw,{type:o,item:ke,matchPercentage:ke.matchPercentage,currentUserId:ke==null?void 0:ke.id,onContact:()=>alert(`${ke.type} - Contact ${ke.provider}`),onConnect:()=>console.log(`Connect with ${ke.providerUserName}`)},ke.id):ke.kind==="need"?n.jsx(ic,{type:o,matchPercentage:ke.matchPercentage,need:me(ne({},ke),{categoryName:(lt=wt.find(Nt=>String(Nt.id)===String(ke.categoryId)))==null?void 0:lt.name,subcategoryName:(Ht=(Mt=(St=wt.find(Nt=>String(Nt.id)===String(ke.categoryId)))==null?void 0:St.subcategories)==null?void 0:Mt.find(Nt=>String(Nt.id)===String(ke.subcategoryId)))==null?void 0:Ht.name})},`need-${ke.id}`):ke.kind==="moment"?n.jsx(oc,{type:o,matchPercentage:ke.matchPercentage,moment:me(ne({},ke),{categoryName:(mr=wt.find(Nt=>String(Nt.id)===String(ke.categoryId)))==null?void 0:mr.name,subcategoryName:(tr=(er=(Rt=wt.find(Nt=>String(Nt.id)===String(ke.categoryId)))==null?void 0:Rt.subcategories)==null?void 0:er.find(Nt=>String(Nt.id)===String(ke.subcategoryId)))==null?void 0:tr.name})},`moment-${ke.id}`):ke.kind==="job"?n.jsx(Ad,{job:ke},`job-${ke.id}`):ke.kind==="event"?n.jsx(Xu,{e:ke},`event-${ke.id}`):null})});return n.jsxs(ti,{children:[n.jsx(an,{}),n.jsxs("main",{className:`mx-auto ${i._openPopUps.profile?"relative z-50":""} max-w-7xl px-4 sm:px-6 lg:px-8 py-6 grid lg:grid-cols-12 gap-6`,children:[n.jsx(Md,{query:f,setQuery:h,placeholder:"Search for services...",onFilterClick:()=>Ce(!0)}),n.jsxs("aside",{className:"lg:col-span-3 hidden lg:flex flex-col space-y-4 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto pr-1",children:[n.jsx("div",{className:"_sticky top-0 z-10 _bg-white",children:n.jsx(Xl,me(ne({selectedFilters:J,setSelectedFilters:Y,generalTree:T},mt),{from:"services",catComponent:n.jsx(Xa,{selected:J,setSelected:Y,buttons:te,buttonLabels:st,from:c,loading:qe})}))}),n.jsx(ef,{title:"Quick Actions",items:[{label:"Edit Profile",Icon:xd,path:"/profile"},{label:"Add a New Service",Icon:Sn,onClick:()=>a("/services/create"),hide:(d==null?void 0:d.accountType)=="individual"},{label:"Find Services",Icon:Sn,onClick:()=>a("/need/service/create"),hide:(d==null?void 0:d.accountType)=="company"},{label:"Highlight a Service ",Icon:Sn,onClick:()=>a("/moment/service/create"),hide:(d==null?void 0:d.accountType)=="company"}]}),n.jsx(tf,{})]}),n.jsxs("div",{className:"lg:col-span-9 grid lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx("div",{className:"flex items-center flex-wrap w-full justify-between mb-4",children:n.jsx(Ju,{from:"service",typeOfPosts:[{label:"Add a New Service",Icon:Q2,hide:(d==null?void 0:d.accountType)==="individual",type:"main"},{label:"Find Services",Icon:Ta,hide:(d==null?void 0:d.accountType)==="company"},{label:"Highlight a Service ",Icon:Yu}]})}),n.jsx("section",{className:"space-y-4 overflow-hidden",children:tt()})]}),n.jsx("aside",{className:"lg:col-span-1 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto",children:n.jsx(Od,{loading:ge,matches:Q,nearby:V})})]})]}),n.jsx(Id,me(ne({isOpen:ot,onClose:()=>Ce(!1),selectedFilters:J,setSelectedFilters:Y,generalTree:T},mt),{from:"services",catComponent:n.jsx(Xa,{selected:J,setSelected:Y,buttons:te,buttonLabels:st,from:c,loading:qe})}))]})}function OTe(t,r=400){const[s,a]=u.useState(t);return u.useEffect(()=>{const i=setTimeout(()=>a(t),r);return()=>clearTimeout(i)},[t,r]),s}function $Te(){const[r,s]=u.useState("Suggested for You");u.useMemo(()=>["Suggested for You","Events to Attend"],[]);const a=qt(),i=Cr(),[o,l]=u.useState("list"),c="products",{user:d}=Xt(),[f,h]=u.useState(""),g=OTe(f,400),[m,p]=u.useState(),[x,y]=u.useState(),[w,b]=u.useState(),[v,j]=u.useState(),[N,S]=u.useState(),[I,E]=u.useState(),[L,C]=u.useState(),[T,k]=u.useState([]),[M,_]=u.useState({}),[J,Y]=u.useState([]),[te,K]=u.useState([]);u.useEffect(()=>{ve(this,null,function*(){try{const{data:ke}=yield Le.get("/general-categories/tree?type=product");k(ke.generalCategories||[])}catch(ke){console.error("Failed to load general categories",ke)}})},[]);const[X,W]=u.useState([]),[F,P]=u.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[A,B]=u.useState(""),[z,O]=u.useState(""),[U,Z]=u.useState(""),[se,fe]=u.useState(""),[le,Ne]=u.useState(""),[Te,ht]=u.useState(""),[Fe,Ve]=u.useState(""),[ut,Je]=u.useState(""),[G,ae]=u.useState(""),[Me,he]=u.useState(""),[ye,oe]=u.useState(""),[ie,q]=u.useState(""),[Se,$e]=u.useState(""),[rt,nt]=u.useState(""),[Ue,xt]=u.useState(""),[Oe,Ee]=u.useState(""),[ee,de]=u.useState(""),[ue,_e]=u.useState("Free"),[Xe,gt]=u.useState([]),[wt,vt]=u.useState([]),[ct,Ze]=u.useState([]),[dt,yt]=u.useState([]),[Ie,ze]=u.useState([]),[qe,it]=u.useState(!1),[Ae,Ge]=u.useState(0),[Ye,Et]=u.useState(0),[Ot,ft]=u.useState(!1),D=u.useRef(null),[Q,H]=u.useState([]),[V,re]=u.useState([]),[ge,We]=u.useState(!1),[ot,Ce]=u.useState(!1),[pe,je]=u.useState(!0),[we,Re]=u.useState(!1),He=u.useRef(null);u.useRef(null);const et=u.useRef(0);u.useEffect(()=>{ve(this,null,function*(){try{const{data:ke}=yield Le.get("/feed/meta");vt(ke.categories||[]),Ze(ke.countries||[]),yt(ke.goals||[])}catch(ke){console.error("Failed to load meta:",ke)}})},[]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:ke}=yield Le.get("/public/identities");W(ke.identities)}catch(ke){console.error("Error loading identities:",ke)}})},[]);const pt=u.useCallback(()=>ve(this,null,function*(){if(r==="Suggested for You"){it(!0);try{const ke={tab:"products",q:g||void 0,country:m||void 0,city:x||void 0,productsView:L||void 0,categoryId:w||void 0,subcategoryId:v||void 0,goalId:N||void 0,role:I||void 0,serviceType:z||void 0,priceType:U||void 0,deliveryTime:se||void 0,experienceLevel:le||void 0,locationType:Te||void 0,jobType:Fe||void 0,workMode:ut||void 0,postType:G||void 0,season:Me||void 0,budgetRange:ye||void 0,fundingGoal:ie||void 0,amountRaised:Se||void 0,currency:rt||void 0,deadline:Ue||void 0,eventType:Oe||void 0,date:ee||void 0,registrationType:ue||void 0,generalCategoryIds:J.filter(Mt=>T.some(Ht=>Ht.id===Mt)).join(",")||void 0,generalSubcategoryIds:Object.keys(M).filter(Mt=>M[Mt]).join(",")||void 0,audienceIdentityIds:Array.from(F.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(F.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(F.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(F.subsubCategoryIds).join(",")||void 0,industryIds:Xe.length>0?Xe.join(","):void 0,limit:10,offset:0},{data:lt}=yield Le.get("/feed",{params:ke}),St=Array.isArray(lt.items)?lt.items:[];ze(St),Ge(typeof lt.total=="number"?lt.total:St.length),je(typeof lt.total=="number"?St.length<lt.total:St.length===10),et.current=St.length,ft(!1),D.current&&(clearTimeout(D.current),D.current=null)}catch(ke){console.error("Failed to load feed:",ke),ze([]),ft(!0),D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{pt()},3e3)}finally{it(!1)}setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)}}),[r,g,m,x,w,v,N,I,F,L,z,U,se,le,Te,Fe,ut,G,Me,ye,ie,Se,rt,Ue,Oe,ee,ue,M,J,Xe,T,i]),be=u.useCallback(()=>ve(this,null,function*(){if(!(isFetchingRef.current||qe||we||!pe)){isFetchingRef.current=!0,Re(!0);try{const ke={tab:"products",q:g||void 0,country:m||void 0,city:x||void 0,productsView:L||void 0,categoryId:w||void 0,subcategoryId:v||void 0,goalId:N||void 0,role:I||void 0,serviceType:z||void 0,priceType:U||void 0,deliveryTime:se||void 0,experienceLevel:le||void 0,locationType:Te||void 0,jobType:Fe||void 0,workMode:ut||void 0,postType:G||void 0,season:Me||void 0,budgetRange:ye||void 0,fundingGoal:ie||void 0,amountRaised:Se||void 0,currency:rt||void 0,deadline:Ue||void 0,eventType:Oe||void 0,date:ee||void 0,registrationType:ue||void 0,generalCategoryIds:J.filter(Mt=>T.some(Ht=>Ht.id===Mt)).join(",")||void 0,generalSubcategoryIds:Object.keys(M).filter(Mt=>M[Mt]).join(",")||void 0,audienceIdentityIds:Array.from(F.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(F.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(F.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(F.subsubCategoryIds).join(",")||void 0,industryIds:Xe.length>0?Xe.join(","):void 0,limit:10,offset:et.current},{data:lt}=yield Le.get("/feed",{params:ke}),St=Array.isArray(lt.items)?lt.items:[];ze(Mt=>[...Mt,...St]),et.current+=St.length,je(St.length===10),ft(!1)}catch(ke){console.error("Failed to load more:",ke)}finally{isFetchingRef.current=!1,Re(!1)}}}),[r,g,m,x,w,v,N,I,F,L,z,U,se,le,Te,Fe,ut,G,Me,ye,ie,Se,rt,Ue,Oe,ee,ue,M,J,Xe,T,Ie.length,qe,we,pe]);u.useEffect(()=>{pt()},[pt]),u.useEffect(()=>()=>{D.current&&clearTimeout(D.current)},[]),u.useEffect(()=>{ve(this,null,function*(){We(!0);try{const ke={q:g||void 0,country:m||void 0,city:x||void 0,categoryId:w||void 0,subcategoryId:v||void 0,goalId:N||void 0,role:I||void 0,industryIds:Xe.length>0?Xe.join(","):void 0,limit:10},{data:lt}=yield Le.get("/feed/suggestions",{params:ke});H(lt.matches||[]),re(lt.nearby||[])}catch(ke){console.error("Failed to load suggestions:",ke)}finally{We(!1)}})},[g,m,x,w,v,N,I,Xe]),u.useEffect(()=>{if(!He.current||!pe)return;const ke=He.current,lt=new IntersectionObserver(St=>{const[Mt]=St;Mt.isIntersecting&&be()},{root:null,rootMargin:"700px",threshold:0});return lt.observe(ke),()=>lt.disconnect()},[He,pe,be]);const De=ke=>{_(ke)},[st,Ke]=u.useState({});u.useEffect(()=>{const ke={};T.forEach(lt=>{ke[lt.id]=lt.name}),Ke(ke),K(T.map(lt=>lt.id))},[T]);const mt={setShowTotalCount:Et,audienceSelections:F,setAudienceSelections:P,audienceTree:X,generalTree:T,selectedFilters:J,setSelectedFilters:Y,onSubcategoryChange:De,query:f,setQuery:h,country:m,productsView:L,setProductsView:C,setCountry:p,city:x,setCity:y,categoryId:w,setCategoryId:b,subcategoryId:v,setSubcategoryId:j,goalId:N,goals:dt,role:I,setRole:E,setGoalId:S,price:A,setPrice:B,serviceType:z,setServiceType:O,priceType:U,setPriceType:Z,deliveryTime:se,setDeliveryTime:fe,experienceLevel:le,setExperienceLevel:Ne,locationType:Te,setLocationType:ht,jobType:Fe,setJobType:Ve,workMode:ut,setWorkMode:Je,postType:G,setPostType:ae,season:Me,setSeason:he,budgetRange:ye,setBudgetRange:oe,fundingGoal:ie,setFundingGoal:q,amountRaised:Se,setAmountRaised:$e,currency:rt,setCurrency:nt,deadline:Ue,setDeadline:xt,eventType:Oe,setEventType:Ee,date:ee,setDate:de,registrationType:ue,setRegistrationType:_e,selectedIndustries:Xe,setSelectedIndustries:gt,categories:wt,countries:ct,onApply:()=>Ce(!1)},tt=()=>r!=="Suggested for You"?n.jsxs("div",{className:"rounded-xl border bg-white p-6 text-sm text-gray-600",children:[r," tab uses its own API route. Render the specific list here."]}):Ot?n.jsx(ml,{onRetry:()=>{ft(!1),D.current&&clearTimeout(D.current),D.current=null,pt()},message:"Failed to load feed. Trying to connect...",buttonText:"Try Again"}):n.jsxs(n.Fragment,{children:[qe&&n.jsx("div",{className:"min-h-[160px] grid text-gray-600",children:n.jsx(Pd,{columns:1})}),!qe&&Ye&&n.jsxs("div",{className:"text-sm text-gray-600",children:[Ae," result",Ae===1?"":"s"]}),!qe&&Ie.length===0&&n.jsx($d,{activeTab:"All"}),n.jsxs("div",{className:`grid grid-cols-1 ${o==="list"?"sm:grid-cols-1":"lg:grid-cols-3"} gap-6`,children:[Ie.filter(ke=>ke.kind==="product").map(ke=>n.jsx(cw,me(ne({item:ke},ke),{matchPercentage:ke.matchPercentage,type:o,onContact:()=>alert(`Contact seller of ${ke.title}`),onSave:()=>alert(`Saved ${ke.title}`)}),ke.id)),Ie.filter(ke=>ke.kind==="need").map(ke=>{var lt,St,Mt,Ht;return n.jsx(ic,{type:o,matchPercentage:ke.matchPercentage,need:me(ne({},ke),{categoryName:(lt=wt.find(mr=>String(mr.id)===String(ke.categoryId)))==null?void 0:lt.name,subcategoryName:(Ht=(Mt=(St=wt.find(mr=>String(mr.id)===String(ke.categoryId)))==null?void 0:St.subcategories)==null?void 0:Mt.find(mr=>String(mr.id)===String(ke.subcategoryId)))==null?void 0:Ht.name})},`need-${ke.id}`)}),Ie.filter(ke=>ke.kind==="moment").map(ke=>{var lt,St,Mt,Ht;return n.jsx(oc,{type:o,matchPercentage:ke.matchPercentage,moment:me(ne({},ke),{categoryName:(lt=wt.find(mr=>String(mr.id)===String(ke.categoryId)))==null?void 0:lt.name,subcategoryName:(Ht=(Mt=(St=wt.find(mr=>String(mr.id)===String(ke.categoryId)))==null?void 0:St.subcategories)==null?void 0:Mt.find(mr=>String(mr.id)===String(ke.subcategoryId)))==null?void 0:Ht.name})},`moment-${ke.id}`)})]}),!qe&&pe&&n.jsx("div",{ref:He,className:"h-10 w-full",children:we&&n.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Loading more…"})})]});return n.jsxs(ti,{children:[n.jsx(an,{}),n.jsxs("main",{className:`mx-auto ${i._openPopUps.profile?"relative z-50":""} max-w-7xl px-4 sm:px-6 lg:px-8 py-6 grid lg:grid-cols-12 gap-6`,children:[n.jsx(Md,{query:f,setQuery:h,placeholder:"Search for products...",onFilterClick:()=>Ce(!0)}),n.jsxs("aside",{className:"lg:col-span-3 hidden lg:flex flex-col space-y-4 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto pr-1",children:[n.jsx("div",{className:"_sticky top-0 z-10 _bg-white",children:n.jsx(Xl,me(ne({selectedFilters:J,setSelectedFilters:Y,generalTree:T},mt),{from:"products",catComponent:n.jsx(Xa,{selected:J,setSelected:Y,buttons:te,buttonLabels:st,from:c,loading:qe})}))}),n.jsx(ef,{title:"Quick Actions",items:[{label:"Edit Profile",Icon:xd,path:"/profile"},{label:"Add a New Product",Icon:Sn,onClick:()=>a("/products/create"),hide:(d==null?void 0:d.accountType)=="individual"},{label:"Highlight a product",Icon:Sn,onClick:()=>a("/moment/product/create"),hide:(d==null?void 0:d.accountType)=="company"},{label:"Find products",Icon:Sn,onClick:()=>a("/need/product/create"),hide:(d==null?void 0:d.accountType)=="company"}]}),n.jsx(tf,{})]}),n.jsxs("div",{className:"lg:col-span-9 grid lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx("div",{className:"flex items-center flex-wrap w-full justify-between mb-4",children:n.jsx(Ju,{from:"product",typeOfPosts:[{label:"Add a New Product",Icon:Mh,hide:(d==null?void 0:d.accountType)==="individual",type:"main"},{label:"Find products",Icon:Ta,hide:(d==null?void 0:d.accountType)==="company"},{label:"Highlight a Product",Icon:Yu}]})}),n.jsx("section",{className:"space-y-4 overflow-hidden",children:tt()})]}),n.jsx("aside",{className:"lg:col-span-1 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto",children:n.jsx(Od,{loading:ge,matches:Q,nearby:V})})]})]}),n.jsx(Id,me(ne({isOpen:ot,onClose:()=>Ce(!1),selectedFilters:J,setSelectedFilters:Y,generalTree:T},mt),{from:"products",catComponent:n.jsx(Xa,{selected:J,setSelected:Y,buttons:te,buttonLabels:st,from:c,loading:qe})}))]})}function PTe(t,r=400){const[s,a]=u.useState(t);return u.useEffect(()=>{const i=setTimeout(()=>a(t),r);return()=>clearTimeout(i)},[t,r]),s}function DTe(){const[r,s]=u.useState("Suggested for You");u.useMemo(()=>["Suggested for You","Events to Attend"],[]);const a=qt(),i=Cr(),{user:o}=Xt(),[l,c]=u.useState(""),d=PTe(l,400),[f,h]=u.useState(),[g,m]=u.useState(),[p,x]=u.useState(),[y,w]=u.useState(),[b,v]=u.useState(),[j,N]=u.useState(),[S,I]=u.useState(),[E,L]=u.useState([]),[C,T]=u.useState({}),[k,M]=u.useState([]),[_,J]=u.useState([]);u.useEffect(()=>{ve(this,null,function*(){try{const{data:tt}=yield Le.get("/general-categories/tree?type=opportunity");L(tt.generalCategories||[])}catch(tt){console.error("Failed to load general categories",tt)}})},[]);const[Y,te]=u.useState([]),[K,X]=u.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set});u.useEffect(()=>{ve(this,null,function*(){try{const{data:tt}=yield Le.get("/public/identities");te(tt.identities)}catch(tt){console.error("Error loading identities:",tt)}})},[]);const[W,F]=u.useState(""),[P,A]=u.useState(""),[B,z]=u.useState(""),[O,U]=u.useState(""),[Z,se]=u.useState(""),[fe,le]=u.useState(""),[Ne,Te]=u.useState(""),[ht,Fe]=u.useState(""),[Ve,ut]=u.useState(""),[Je,G]=u.useState(""),[ae,Me]=u.useState(""),[he,ye]=u.useState(""),[oe,ie]=u.useState(""),[q,Se]=u.useState(""),[$e,rt]=u.useState(""),[nt,Ue]=u.useState(""),[xt,Oe]=u.useState(""),[Ee,ee]=u.useState("Free"),[de,ue]=u.useState([]),[_e,Xe]=u.useState("list"),[gt,wt]=u.useState([]),[vt,ct]=u.useState([]),[Ze,dt]=u.useState([]),[yt,Ie]=u.useState([]),[ze,qe]=u.useState(!1),[it,Ae]=u.useState(0),[Ge,Ye]=u.useState(0),[Et,Ot]=u.useState(!1),ft=u.useRef(null),[D,Q]=u.useState([]),[H,V]=u.useState([]),[re,ge]=u.useState(!1),[We,ot]=u.useState(!1),[Ce,pe]=u.useState(!0),[je,we]=u.useState(!1),Re=u.useRef(null);u.useRef(null);const He=u.useRef(0);u.useEffect(()=>{ve(this,null,function*(){try{const{data:tt}=yield Le.get("/feed/meta");wt(tt.categories||[]),ct(tt.countries||[]),dt(tt.goals||[])}catch(tt){console.error("Failed to load meta:",tt)}})},[]);const et=u.useCallback(()=>ve(this,null,function*(){if(r==="Suggested for You"){qe(!0);try{const tt={tab:"funding",q:d||void 0,country:f||void 0,fundingView:S||void 0,city:g||void 0,categoryId:p||void 0,subcategoryId:y||void 0,goalId:b||void 0,role:j||void 0,price:W||void 0,serviceType:P||void 0,priceType:B||void 0,deliveryTime:O||void 0,experienceLevel:Z||void 0,locationType:fe||void 0,jobType:Ne||void 0,workMode:ht||void 0,postType:Ve||void 0,season:Je||void 0,budgetRange:ae||void 0,fundingGoal:he||void 0,amountRaised:oe||void 0,currency:q||void 0,deadline:$e||void 0,eventType:nt||void 0,date:xt||void 0,registrationType:Ee||void 0,generalCategoryIds:k.filter(St=>E.some(Mt=>Mt.id===St)).join(",")||void 0,generalSubcategoryIds:Object.keys(C).filter(St=>C[St]).join(",")||void 0,audienceIdentityIds:Array.from(K.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(K.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(K.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(K.subsubCategoryIds).join(",")||void 0,industryIds:de.length>0?de.join(","):void 0,limit:10,offset:0},{data:ke}=yield Le.get("/feed",{params:tt}),lt=Array.isArray(ke.items)?ke.items:[];Ie(lt),Ae(typeof ke.total=="number"?ke.total:lt.length),pe(typeof ke.total=="number"?lt.length<ke.total:lt.length===10),He.current=lt.length,Ot(!1),ft.current&&(clearTimeout(ft.current),ft.current=null)}catch(tt){console.error("Failed to load feed:",tt),Ie([]),Ot(!0),ft.current&&clearTimeout(ft.current),ft.current=setTimeout(()=>{et()},3e3)}finally{qe(!1)}setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)}}),[r,d,f,g,p,y,b,j,W,S,K,P,B,O,Z,fe,Ne,ht,Ve,Je,ae,he,oe,q,$e,nt,xt,Ee,C,k,de,E,i]),pt=u.useCallback(()=>ve(this,null,function*(){if(!(isFetchingRef.current||ze||je||!Ce)){isFetchingRef.current=!0,we(!0);try{const tt={tab:"funding",q:d||void 0,country:f||void 0,fundingView:S||void 0,city:g||void 0,categoryId:p||void 0,subcategoryId:y||void 0,goalId:b||void 0,role:j||void 0,price:W||void 0,serviceType:P||void 0,priceType:B||void 0,deliveryTime:O||void 0,experienceLevel:Z||void 0,locationType:fe||void 0,jobType:Ne||void 0,workMode:ht||void 0,postType:Ve||void 0,season:Je||void 0,budgetRange:ae||void 0,fundingGoal:he||void 0,amountRaised:oe||void 0,currency:q||void 0,deadline:$e||void 0,eventType:nt||void 0,date:xt||void 0,registrationType:Ee||void 0,generalCategoryIds:k.filter(St=>E.some(Mt=>Mt.id===St)).join(",")||void 0,generalSubcategoryIds:Object.keys(C).filter(St=>C[St]).join(",")||void 0,audienceIdentityIds:Array.from(K.identityIds).join(",")||void 0,audienceCategoryIds:Array.from(K.categoryIds).join(",")||void 0,audienceSubcategoryIds:Array.from(K.subcategoryIds).join(",")||void 0,audienceSubsubCategoryIds:Array.from(K.subsubCategoryIds).join(",")||void 0,industryIds:de.length>0?de.join(","):void 0,limit:10,offset:He.current},{data:ke}=yield Le.get("/feed",{params:tt}),lt=Array.isArray(ke.items)?ke.items:[];Ie(St=>[...St,...lt]),He.current+=lt.length,pe(lt.length===10),Ot(!1)}catch(tt){console.error("Failed to load more:",tt)}finally{isFetchingRef.current=!1,we(!1)}}}),[r,d,f,g,p,y,b,j,K,S,W,P,B,O,Z,fe,Ne,ht,Ve,Je,ae,he,oe,q,$e,nt,xt,Ee,C,k,de,E,yt.length,ze,je,Ce]);u.useEffect(()=>{et()},[et]),u.useEffect(()=>()=>{ft.current&&clearTimeout(ft.current)},[]),u.useEffect(()=>{ve(this,null,function*(){ge(!0);try{const tt={q:d||void 0,country:f||void 0,city:g||void 0,categoryId:p||void 0,subcategoryId:y||void 0,goalId:b||void 0,role:j||void 0,industryIds:de.length>0?de.join(","):void 0,limit:10},{data:ke}=yield Le.get("/feed/suggestions",{params:tt});Q(ke.matches||[]),V(ke.nearby||[])}catch(tt){console.error("Failed to load suggestions:",tt)}finally{ge(!1)}})},[d,f,g,p,y,b,j,de]),u.useEffect(()=>{if(!Re.current||!Ce)return;const tt=Re.current,ke=new IntersectionObserver(lt=>{const[St]=lt;St.isIntersecting&&pt()},{root:null,rootMargin:"700px",threshold:0});return ke.observe(tt),()=>ke.disconnect()},[Re,Ce,pt]);const be=tt=>{T(tt)},[De,st]=u.useState({});u.useEffect(()=>{const tt={};E.forEach(ke=>{tt[ke.id]=ke.name}),st(tt),J(E.map(ke=>ke.id))},[E]);const Ke={setShowTotalCount:Ye,audienceSelections:K,setAudienceSelections:X,audienceTree:Y,generalTree:E,selectedFilters:k,setSelectedFilters:M,onSubcategoryChange:be,selectedIndustries:de,setSelectedIndustries:ue,fundingView:S,setFundingView:I,query:l,setQuery:c,country:f,setCountry:h,city:g,setCity:m,categoryId:p,setCategoryId:x,subcategoryId:y,setSubcategoryId:w,goalId:b,goals:Ze,role:j,setRole:N,setGoalId:v,price:W,setPrice:F,serviceType:P,setServiceType:A,priceType:B,setPriceType:z,deliveryTime:O,setDeliveryTime:U,experienceLevel:Z,setExperienceLevel:se,locationType:fe,setLocationType:le,jobType:Ne,setJobType:Te,workMode:ht,setWorkMode:Fe,postType:Ve,setPostType:ut,season:Je,setSeason:G,budgetRange:ae,setBudgetRange:Me,fundingGoal:he,setFundingGoal:ye,amountRaised:oe,setAmountRaised:ie,currency:q,setCurrency:Se,deadline:$e,setDeadline:rt,eventType:nt,setEventType:Ue,date:xt,setDate:Oe,registrationType:Ee,setRegistrationType:ee,categories:gt,countries:vt,onApply:()=>ot(!1)},mt=()=>r!=="Suggested for You"?n.jsxs("div",{className:"rounded-xl border bg-white p-6 text-sm text-gray-600",children:[r," tab uses its own API route. Render the specific list here."]}):Et?n.jsx(ml,{onRetry:()=>{Ot(!1),ft.current&&clearTimeout(ft.current),ft.current=null,et()},message:"Failed to load feed. Trying to connect...",buttonText:"Try Again"}):n.jsxs(n.Fragment,{children:[ze&&n.jsx("div",{className:"min-h-[160px] grid text-gray-600",children:n.jsx(Pd,{columns:1})}),!ze&&Ge&&n.jsxs("div",{className:"text-sm text-gray-600",children:[it," result",it===1?"":"s"]}),!ze&&yt.length===0&&n.jsx($d,{activeTab:"All"}),n.jsx("div",{className:`grid grid-cols-1 ${_e==="list"?"sm:grid-cols-1":"lg:grid-cols-3"} gap-6`,children:!ze&&yt.map(tt=>{var ke,lt,St,Mt,Ht,mr,Rt,er;return tt.kind==="funding"?n.jsx(uw,{type:_e,matchPercentage:tt.matchPercentage,item:tt},tt.id):tt.kind==="need"?n.jsx(ic,{type:_e,matchPercentage:tt.matchPercentage,need:me(ne({},tt),{categoryName:(ke=gt.find(tr=>String(tr.id)===String(tt.categoryId)))==null?void 0:ke.name,subcategoryName:(Mt=(St=(lt=gt.find(tr=>String(tr.id)===String(tt.categoryId)))==null?void 0:lt.subcategories)==null?void 0:St.find(tr=>String(tr.id)===String(tt.subcategoryId)))==null?void 0:Mt.name})},`need-${tt.id}`):tt.kind==="moment"?n.jsx(oc,{type:_e,matchPercentage:tt.matchPercentage,moment:me(ne({},tt),{categoryName:(Ht=gt.find(tr=>String(tr.id)===String(tt.categoryId)))==null?void 0:Ht.name,subcategoryName:(er=(Rt=(mr=gt.find(tr=>String(tr.id)===String(tt.categoryId)))==null?void 0:mr.subcategories)==null?void 0:Rt.find(tr=>String(tr.id)===String(tt.subcategoryId)))==null?void 0:er.name})},`moment-${tt.id}`):tt.kind==="job"?n.jsx(Ad,{job:tt},`job-${tt.id}`):tt.kind==="event"?n.jsx(Xu,{e:tt},`event-${tt.id}`):null})}),!ze&&Ce&&n.jsx("div",{ref:Re,className:"h-10 w-full",children:je&&n.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Loading more…"})})]});return n.jsxs(ti,{children:[n.jsx(an,{}),n.jsxs("main",{className:`mx-auto ${i._openPopUps.profile?"relative z-50":""} max-w-7xl px-4 sm:px-6 lg:px-8 py-6 grid lg:grid-cols-12 gap-6`,children:[n.jsx(Md,{query:l,setQuery:c,placeholder:"Search for funding opportunities...",onFilterClick:()=>ot(!0)}),n.jsxs("aside",{className:"lg:col-span-3 hidden lg:flex flex-col space-y-4 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto pr-1",children:[n.jsx("div",{className:"_sticky top-0 z-10 _bg-white",children:n.jsx(Xl,me(ne({selectedFilters:k,setSelectedFilters:M,generalTree:E},Ke),{from:"funding",catComponent:n.jsx(Xa,{selected:k,setSelected:M,buttons:_,buttonLabels:De,from:"funding",loading:ze})}))}),n.jsx(ef,{title:"Quick Actions",items:[{label:"Edit Profile",Icon:xd,path:"/profile"},{label:"Post Funding Project",Icon:Sn,onClick:()=>a("/fundings/create"),hide:(o==null?void 0:o.accountType)=="individual"},{label:"Share Funding Project Experience",Icon:Sn,onClick:()=>a("/moment/funding/create"),hide:(o==null?void 0:o.accountType)=="company"},{label:"Ask About Funding",Icon:Sn,onClick:()=>a("/need/funding/create"),hide:(o==null?void 0:o.accountType)=="company"}]}),n.jsx(tf,{})]}),n.jsxs("div",{className:"lg:col-span-9 grid lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx("div",{className:"flex items-center flex-wrap w-full justify-between mb-4",children:n.jsx(Ju,{from:"funding",typeOfPosts:[{label:"Publish an Opportunity",Icon:Lh,hide:(o==null?void 0:o.accountType)==="individual",type:"main"},{label:"Explore funding opportunities",Icon:Ta,hide:(o==null?void 0:o.accountType)==="company"},{label:(o==null?void 0:o.accountType)==="company"?"Highlight an Opportunity":"Highlight a Funding Opportunity",Icon:jH,onClick:()=>a("/need/funding/create")}]})}),n.jsx("section",{className:"space-y-4 overflow-hidden",children:mt()})]}),n.jsx("aside",{className:"lg:col-span-1 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto",children:n.jsx(Od,{loading:re,matches:D,nearby:H})})]})]}),n.jsx(Id,me(ne({isOpen:We,onClose:()=>ot(!1),selectedFilters:k,setSelectedFilters:M,generalTree:E},Ke),{from:"funding",catComponent:n.jsx(Xa,{selected:k,setSelected:M,buttons:_,buttonLabels:De,from:"funding",loading:ze})}))]})}const Xf={upload:()=>n.jsxs("svg",{className:"h-6 w-6 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"M12 3 7 8h3v6h4V8h3l-5-5z"}),n.jsx("path",{d:"M5 18h14v3H5z"})]}),chevron:()=>n.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"m6 9 6 6 6-6"})}),trash:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M9 3h6l1 2h4v2H4V5h4l1-2Zm1 6h2v9h-2V9Zm4 0h2v9h-2V9ZM6 9h2v9H6V9Z"})}),video:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"m17 10.5-5-3v6l5-3Z"}),n.jsx("rect",{x:"3",y:"6",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),image:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),n.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5",fill:"currentColor"}),n.jsx("path",{d:"m21 15-5-5L5 21",stroke:"currentColor",strokeWidth:"2"})]})};function PY(t){if(!t)return"document";const r=t.toLowerCase().split(".").pop(),s=["jpg","jpeg","png","gif","webp","svg","bmp"],a=["mp4","mov","avi","mkv","webm","flv","wmv","m4v","3gp","ogv"];return s.includes(r)?"image":a.includes(r)?"video":"document"}function DY(t){return PY(t)==="image"}function Bb(t){return PY(t)==="video"}function RTe(t){return DY(t)||Bb(t)}const ya=({children:t,required:r})=>n.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:[t," ",r&&n.jsx("span",{className:"text-pink-600",children:"*"})]}),Lc=t=>{const r=s=>{t.type==="number"&&(s.target.value=s.target.value.replace(/[^\d.-]/g,"")),t.onChange&&t.onChange(s)};return n.jsx("input",me(ne({},t),{onChange:r,className:`w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200 ${t.className||""}`}))},E8=s=>{var a=s,{children:t}=a,r=wc(a,["children"]);return n.jsxs("div",{className:"relative",children:[n.jsx("select",me(ne({},r),{className:"w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-200",children:t})),n.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:n.jsx(Xf.chevron,{})})]})},uN=t=>n.jsx("textarea",me(ne({rows:t.rows||4},t),{className:`w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200 ${t.className||""}`}));function FTe(t=[]){const r=new Map,s=new Map,a=new Map,i=new Map;for(const o of t){r.set(String(o.id),o.name||o.title||`Identity ${o.id}`);for(const l of o.categories||[]){s.set(String(l.id),l.name||l.title||`Category ${l.id}`);for(const c of l.subcategories||[]){a.set(String(c.id),c.name||c.title||`Subcategory ${c.id}`);for(const d of c.subsubs||[])i.set(String(d.id),d.name||d.title||`Sub-sub ${d.id}`)}}}return{ids:r,cats:s,subs:a,subsubs:i}}function BTe({form:t,images:r,audSel:s,audTree:a}){const i=u.useMemo(()=>FTe(a),[a]),o=Array.from(s.identityIds||[]).map(x=>i.ids.get(String(x))).filter(Boolean),l=Array.from(s.categoryIds||[]).map(x=>i.cats.get(String(x))).filter(Boolean),c=Array.from(s.subcategoryIds||[]).map(x=>i.subs.get(String(x))).filter(Boolean),d=Array.from(s.subsubCategoryIds||[]).map(x=>i.subsubs.get(String(x))).filter(Boolean),f=r!=null&&r[0]?`${En}/uploads/${r[0]}`:null,h=(r||[]).slice(1);console.log({form:t});const g=t.tags||[],m=(t.links||"").split(/[,\n]/g).map(x=>x.trim()).filter(Boolean);function p(x){if(x==null||x==="")return"—";const y=Number(x);return Number.isNaN(y)?String(x):`${t.currency||"USD"} ${y.toLocaleString()}`}return n.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white overflow-hidden",children:[f?n.jsx("div",{className:"relative aspect-[16/6] w-full bg-gray-100",children:Bb(f)?n.jsx("video",{src:f,className:"h-full w-full object-cover",controls:!0}):n.jsx("img",{src:f,alt:"Project cover",className:"h-full w-full object-cover"})}):null,n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold",children:t.title||"Untitled Project"}),n.jsx("div",{className:"mt-1 text-sm text-gray-700",children:[t.city,t.country].filter(Boolean).join(", ")||"—"})]})}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("div",{className:"text-gray-700 font-medium",children:"Goal"}),n.jsx("div",{className:"mt-1 text-sm",children:p(t.goal)})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("div",{className:"text-gray-700 font-medium",children:"Raised"}),n.jsx("div",{className:"mt-1 text-sm",children:p(t.raised)})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("div",{className:"text-gray-700 font-medium",children:"Currency"}),n.jsx("div",{className:"mt-1 text-sm",children:t.currency||"—"})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("div",{className:"text-gray-700 font-medium",children:"Deadline"}),n.jsx("div",{className:"mt-1 text-sm",children:t.deadline||"—"})]})]}),h.length>0?n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Media"}),n.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:h.map((x,y)=>{const w=x.startsWith("http")?x:`${En}/uploads/${x}`;return n.jsx("div",{className:"relative w-full aspect-[16/10] bg-gray-100 rounded-xl overflow-hidden border",children:Bb(x)?n.jsx("video",{src:w,controls:!0,className:"h-full w-full object-cover",children:"Your browser does not support the video tag."}):n.jsx("img",{src:w,alt:`Image ${y+2}`,className:"h-full w-full object-cover"})},y)})})]}):null,n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Pitch"}),n.jsx("p",{className:"mt-2 text-sm text-gray-700 whitespace-pre-wrap",children:t.pitch||"No description provided."})]}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Rewards / Perks"}),n.jsx("p",{className:"mt-2 text-sm text-gray-700 whitespace-pre-wrap",children:t.rewards||"—"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Team"}),n.jsx("p",{className:"mt-2 text-sm text-gray-700 whitespace-pre-wrap",children:t.team||"—"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Links"}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:m.length?m.map((x,y)=>n.jsx("a",{href:x,target:"_blank",rel:"noreferrer",className:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs hover:bg-gray-200",children:x},`${x}-${y}`)):n.jsx("span",{className:"text-sm text-gray-500",children:"—"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Tags"}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:g.length?g.map((x,y)=>n.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs",children:x},`${x}-${y}`)):n.jsx("span",{className:"text-sm text-gray-500",children:"—"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Target Audience"}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[o.map(x=>n.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs",children:x},`i-${x}`)),l.map(x=>n.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs",children:x},`c-${x}`)),c.map(x=>n.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs",children:x},`s-${x}`)),d.map(x=>n.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs",children:x},`ss-${x}`)),!o.length&&!l.length&&!c.length&&!d.length&&n.jsx("span",{className:"text-sm text-gray-500",children:"Everyone"})]})]})]})]})}function p6({triggerImageSelection:t=!1,hideHeader:r=!1,onSuccess:s}){const a=qt(),{id:i}=Ds(),o=!!i,{user:l}=Xt(),[c,d]=u.useState(!0),[f,h]=u.useState(null),g=u.useRef(null),[m,p]=u.useState([]),[x,y]=u.useState(!1),[w,b]=u.useState(0),[v,j]=u.useState({}),[N,S]=u.useState(!1),[I,E]=u.useState(!1),[L,C]=u.useState(0);u.useEffect(()=>{if(t&&g.current){const de=setTimeout(()=>{var ue;(ue=g.current)==null||ue.click()},100);return()=>clearTimeout(de)}},[t]);const[T,k]=u.useState([]),[M,_]=u.useState(!1),[J,Y]=u.useState([]),[te,K]=u.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[X,W]=u.useState({title:"",categoryId:"",country:"All countries",city:"",goal:"",raised:"",currency:"USD",deadline:"",pitch:"",rewards:"",team:"",links:"",tags:"",tags:[],email:"",phone:"",visibility:"public",status:"draft"}),[F,P]=u.useState(""),A=u.useMemo(()=>m.filter(de=>RTe(de)).map(de=>de.startsWith("http")?de:`${En}/uploads/${de}`),[m]),B=de=>{fe||W(ue=>{const _e=me(ne({},ue),{[de.target.name]:de.target.value});return de.target.name==="country"&&de.target.value==="All countries"&&(_e.city=""),_e})},z=()=>{var de;fe||(de=g.current)==null||de.click()};function O(de){C(de),E(!0)}function U(){E(!1)}u.useEffect(()=>{ve(this,null,function*(){try{const{data:de}=yield Le.get("/categories/tree");k(de.categories||[])}catch(de){console.error("Error loading categories:",de)}}),ve(this,null,function*(){try{const{data:de}=yield Le.get("/public/identities?type=all");Y(de.identities||[])}catch(de){console.error("Error loading identities:",de)}})},[]),u.useEffect(()=>{o&&ve(this,null,function*(){var de,ue,_e,Xe,gt,wt,vt,ct,Ze;try{const{data:dt}=yield Le.get(`/funding/projects/${i}?updated=true`),yt=(Ze=(ct=(wt=(Xe=(ue=(de=dt.ownerUserId)!=null?de:dt.createdById)!=null?ue:dt.userId)!=null?Xe:(_e=dt.owner)==null?void 0:_e.id)!=null?wt:(gt=dt.creator)==null?void 0:gt.id)!=null?ct:(vt=dt.createdBy)==null?void 0:vt.id)!=null?Ze:null;h(yt),W(Ie=>{var ze,qe,it,Ae;return me(ne({},Ie),{title:dt.title||"",categoryId:dt.categoryId||"",country:dt.country||"",city:dt.city||"",goal:((qe=(ze=dt.goal)==null?void 0:ze.toString)==null?void 0:qe.call(ze))||"",raised:((Ae=(it=dt.raised)==null?void 0:it.toString)==null?void 0:Ae.call(it))||"",currency:dt.currency||"USD",deadline:dt.deadline?new Date(dt.deadline).toISOString().split("T")[0]:"",pitch:dt.pitch||"",rewards:dt.rewards||"",team:dt.team||"",links:Array.isArray(dt.links)?dt.links.join(", "):dt.links||"",tags:Array.isArray(dt.tags)?dt.tags:typeof dt.tags=="string"?dt.tags.split(/[,\n]/g).map(Ge=>Ge.trim()).filter(Boolean):[],email:dt.email||"",phone:dt.phone||"",visibility:dt.visibility||"public",status:dt.status||"draft"})}),Array.isArray(dt.images)?p(dt.images.filter(Ie=>(Ie==null?void 0:Ie.filename)||typeof Ie=="string").map(Ie=>typeof Ie=="string"?Ie:Ie.filename)):p([]),K({identityIds:new Set((dt.audienceIdentities||[]).map(Ie=>Ie.id)),categoryIds:new Set((dt.audienceCategories||[]).map(Ie=>Ie.id)),subcategoryIds:new Set((dt.audienceSubcategories||[]).map(Ie=>Ie.id)),subsubCategoryIds:new Set((dt.audienceSubsubs||[]).map(Ie=>Ie.id))}),Je({categoryId:dt.generalCategoryId||"",subcategoryId:dt.generalSubcategoryId||"",subsubCategoryId:dt.generalSubsubCategoryId||""}),$e({categoryId:dt.industryCategoryId||"",subcategoryId:dt.industrySubcategoryId||""}),d(!1)}catch(dt){console.error(dt),console.log({err:dt}),ce.error("Could not load the project."),a("/funding")}})},[o,i,a]);function Z(){if(fe)return;const de=(F||"").trim();de&&(W(ue=>ue.tags.includes(de)?ue:me(ne({},ue),{tags:[...ue.tags,de]})),P(""))}function se(de){fe||W(ue=>me(ne({},ue),{tags:ue.tags.filter((_e,Xe)=>Xe!==de)}))}const fe=o&&f&&(l==null?void 0:l.id)!==f;function le(de){return ve(this,null,function*(){if(fe)return;const ue=Array.from(de||[]);if(!ue.length)return;const _e={video:50*1024*1024,image:5*1024*1024},Xe=ue.filter(ct=>{const Ze=ct.type.startsWith("video/")?"video":"image";return ct.size>_e[Ze]});if(Xe.length){const ct=Xe.map(Ze=>Ze.name).join(", ");ce.error(`Files exceeding size limit: ${ct}`);return}const gt=ue.filter(ct=>ct.size<=_e[ct.type.startsWith("video/")?"video":"image"]),wt=20-m.length,vt=gt.slice(0,Math.max(0,wt));try{y(!0),b(vt.length);const ct={};vt.forEach(Ie=>{ct[Ie.name]=0}),j(ct);const Ze=new FormData;vt.forEach(Ie=>{Ze.append("images",Ie)});const yt=(yield Le.post("/funding/upload-images",Ze,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:Ie=>{if(Ie.total){const ze=Math.round(Ie.loaded*100/Ie.total),qe={};vt.forEach(it=>{qe[it.name]=ze}),j(qe)}}})).data.filenames||[];p(Ie=>[...Ie,...yt]),j({})}catch(ct){console.error("Error uploading files:",ct),ce.error("Failed to upload files"),j({})}finally{y(!1),b(0)}})}function Ne(de){fe||p(ue=>ue.filter((_e,Xe)=>Xe!==de))}function Te(){return(X.links||"").split(/[,\n]/g).map(de=>de.trim()).filter(Boolean)}function ht(){return X.title.trim()?X.country?!X.goal||Number(X.goal)<=0?"Funding goal must be greater than zero.":X.deadline?X.pitch.trim()?m.length?null:"Please add at least one image or video.":"Project pitch/description is required.":"Deadline is required.":"Country is required.":"Title is required."}const[Fe,Ve]=u.useState([]),[ut,Je]=u.useState({categoryId:"",subcategoryId:"",subsubCategoryId:""}),G=[{value:"All countries",label:"All countries"},...An.map(de=>({value:de,label:de}))],[ae,Me]=u.useState([]),[he,ye]=u.useState(!0);u.useEffect(()=>{ve(this,null,function*(){try{const ue=yield fetch("/data/cities.json");if(!ue.ok)throw new Error("Failed to fetch cities");const _e=yield ue.json();Me(_e)}catch(ue){console.error("Error fetching cities:",ue)}finally{ye(!1)}})},[]);const oe=u.useMemo(()=>ae.slice(0,1e3).map(de=>({value:de.city,label:`${de.city}${de.country?`, ${de.country}`:""}`})),[ae]),[ie,q]=u.useState([]),[Se,$e]=u.useState({categoryId:"",subcategoryId:""});u.useEffect(()=>{ve(this,null,function*(){try{const{data:de}=yield Le.get("/general-categories/tree?type=opportunity");Ve(de.generalCategories||[])}catch(de){console.error("Failed to load general categories",de)}})},[]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:de}=yield Le.get("/industry-categories/tree");q(de.industryCategories||[])}catch(de){console.error("Failed to load industry categories",de)}})},[]);const rt=u.useMemo(()=>Fe.map(de=>({value:de.id,label:de.name||`Category ${de.id}`})),[Fe]),nt=u.useMemo(()=>{const de=Fe.find(ue=>ue.id===ut.categoryId);return((de==null?void 0:de.subcategories)||[]).map(ue=>({value:ue.id,label:ue.name||`Subcategory ${ue.id}`}))},[Fe,ut.categoryId]),Ue=u.useMemo(()=>{var _e;const de=Fe.find(Xe=>Xe.id===ut.categoryId),ue=(_e=de==null?void 0:de.subcategories)==null?void 0:_e.find(Xe=>Xe.id===ut.subcategoryId);return((ue==null?void 0:ue.subsubcategories)||[]).map(Xe=>({value:Xe.id,label:Xe.name||`Sub-sub ${Xe.id}`}))},[Fe,ut.categoryId,ut.subcategoryId]),xt=u.useMemo(()=>ie.map(de=>({value:de.id,label:de.name||`Category ${de.id}`})),[ie]),Oe=u.useMemo(()=>{const de=ie.find(ue=>ue.id===Se.categoryId);return((de==null?void 0:de.subcategories)||[]).map(ue=>({value:ue.id,label:ue.name||`Subcategory ${ue.id}`}))},[ie,Se.categoryId]);function Ee({value:de,onChange:ue,options:_e,placeholder:Xe="Select…",disabled:gt=!1,required:wt=!1,ariaLabel:vt}){const[ct,Ze]=u.useState(!1),[dt,yt]=u.useState(""),[Ie,ze]=u.useState(0),qe=u.useRef(null),it=u.useRef(null),[Ae,Ge]=u.useState(!1),Ye=u.useMemo(()=>_e.find(V=>String(V.value)===String(de))||null,[_e,de]),Et=u.useMemo(()=>{const V=dt.trim().toLowerCase();return V?_e.map(re=>({o:re,score:(re.label||"").toLowerCase().indexOf(V)})).filter(re=>re.score!==-1).sort((re,ge)=>re.score-ge.score).map(re=>re.o).slice(0,100):_e.slice(0,100)},[dt,_e]),ft=Ae||ct||dt!==""?dt:(Ye==null?void 0:Ye.label)||"";u.useEffect(()=>{function V(re){qe.current&&(qe.current.contains(re.target)||Ze(!1))}return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]),u.useEffect(()=>{ct||ze(0)},[ct,dt]);function D(V){var re;ue==null||ue((V==null?void 0:V.value)||""),yt(""),Ze(!1),(re=it.current)==null||re.blur()}function Q(){var V;ue==null||ue(""),yt(""),Ze(!1),(V=it.current)==null||V.focus()}function H(V){if(!gt){if(!ct&&(V.key==="ArrowDown"||V.key==="ArrowUp")){Ze(!0);return}if(!ct){V.key==="Backspace"&&(V.preventDefault(),yt(Ye&&!dt?(Ye.label||"").slice(0,-1):(dt||"").slice(0,-1)),Ze(!0));return}if(V.key==="ArrowDown")V.preventDefault(),ze(re=>Math.min(re+1,Et.length-1));else if(V.key==="ArrowUp")V.preventDefault(),ze(re=>Math.max(re-1,0));else if(V.key==="Enter"){V.preventDefault();const re=Et[Ie];re&&D(re)}else V.key==="Escape"&&Ze(!1)}}return n.jsxs("div",{ref:qe,className:`relative ${gt?"opacity-60":""}`,children:[n.jsxs("div",{className:"grid gap-1.5",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{ref:it,type:"text",value:ft,disabled:gt,placeholder:Xe,onChange:V=>{yt(V.target.value),Ze(!0)},onFocus:()=>{gt||(Ge(!0),Ze(!0))},onBlur:()=>Ge(!1),onKeyDown:H,"aria-autocomplete":"list","aria-expanded":ct,"aria-controls":"ss-results","aria-label":vt||Xe,role:"combobox",autoComplete:"off",className:"w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-16 focus:outline-none focus:ring-2 focus:ring-brand-200 text-black"}),Ye&&!gt?n.jsx("button",{type:"button",onClick:Q,className:"absolute right-8 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-gray-100",title:"Clear",children:"×"}):null,n.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:n.jsx(Xf.chevron,{})})]}),wt&&n.jsx("input",{tabIndex:-1,"aria-hidden":"true",className:"sr-only",required:!0,value:de||"",onChange:()=>{}})]}),ct&&!gt&&n.jsx("div",{id:"ss-results",role:"listbox",className:"absolute z-30 mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:Et.length===0?n.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No results"}):n.jsx("ul",{className:"max-h-72 overflow-auto",children:Et.map((V,re)=>{const ge=re===Ie;return n.jsx("li",{role:"option","aria-selected":ge,className:`cursor-pointer px-3 py-2 text-sm ${ge?"bg-brand-50":"hover:bg-gray-50"}`,onMouseEnter:()=>ze(re),onMouseDown:We=>{We.preventDefault(),D(V)},children:V.label},V.value)})})})]})}function ee(de){return ve(this,null,function*(){var _e,Xe;if(fe)return;const ue=ht();if(ue)return ce.error(ue);_(!0);try{const gt={title:X.title,categoryId:X.categoryId||void 0,country:X.country,city:X.country==="All countries"?void 0:X.city||void 0,goal:Number(X.goal),raised:X.raised?Number(X.raised):0,currency:X.currency,deadline:X.deadline,pitch:X.pitch,rewards:X.rewards||void 0,team:X.team||void 0,links:Te(),tags:X.tags,email:X.email||void 0,phone:X.phone||void 0,visibility:X.visibility||"public",status:de,images:m.map(wt=>`${En}/uploads/${wt}`),identityIds:Array.from(te.identityIds),categoryIds:Array.from(te.categoryIds),subcategoryIds:Array.from(te.subcategoryIds),subsubCategoryIds:Array.from(te.subsubCategoryIds),generalCategoryId:ut.categoryId||null,generalSubcategoryId:ut.subcategoryId||null,generalSubsubCategoryId:ut.subsubCategoryId||null,industryCategoryId:Se.categoryId||null,industrySubcategoryId:Se.subcategoryId||null};o?(yield Le.put(`/funding/projects/${i}`,gt),ce.success("Project updated successfully!")):(yield Le.post("/funding/projects",gt),ce.success(de==="draft"?"Draft saved!":"Project published!"),r&&s?s():a("/funding"))}catch(gt){console.error(gt),ce.error(((Xe=(_e=gt==null?void 0:gt.response)==null?void 0:_e.data)==null?void 0:Xe.message)||"Could not save the project.")}finally{_(!1)}})}return c&&i?n.jsx(ei,{message:"Loading product…",tip:"Fetching..."}):n.jsxs(ti,{children:[!r&&n.jsx(an,{page:"funding"}),n.jsxs("div",{className:`max-w-4xl mx-auto ${r?"my-2":"my-5"}`,children:[!r&&n.jsx("button",{onClick:()=>a("/funding"),className:"flex mb-5 items-center gap-2 text-sm text-gray-600 hover:text-brand-600",type:"button",children:"← Back to Funding"}),fe?n.jsx(BTe,{form:X,images:m,audSel:te,audTree:J}):n.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-5 md:p-6 shadow-sm",children:[o&&n.jsx("h2",{className:"text-xl font-semibold",children:o?"Edit Funding Project":"Create Funding Project"}),n.jsxs("div",{className:"mt-4 grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ya,{required:!0,children:"Project Title"}),n.jsx(Lc,{name:"title",value:X.title,onChange:B,placeholder:"e.g., Payments platform for SMEs",required:!0})]}),n.jsxs("div",{className:"hidden",children:[n.jsx(ya,{required:!0,children:"Category"}),n.jsxs(E8,{name:"categoryId",value:X.categoryId,onChange:B,required:!0,children:[n.jsx("option",{value:"",children:"Select"}),T.map(de=>n.jsx("option",{value:de.id,children:de.name},de.id))]})]})]}),n.jsx("div",{className:"mt-4",children:n.jsx(uN,{name:"pitch",value:X.pitch,onChange:B,rows:6,placeholder:"Describe the type of fund opportunity, including target audience and requirements, and receive the best applications for your program.",_placeholder:"Explain the problem, your solution, market, traction, and how funds will be used.",required:!0})}),n.jsxs("div",{className:"mt-4 grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ya,{children:"Country"}),n.jsx(Ee,{value:X.country,onChange:de=>W(me(ne({},X),{country:de})),options:G,placeholder:"Search and select country...",required:!0})]}),n.jsxs("div",{children:[n.jsx(ya,{children:"City"}),n.jsx(Ee,{value:X.city,onChange:de=>W(me(ne({},X),{city:de})),options:oe,placeholder:"Search and select city...",disabled:X.country==="All countries"})]})]}),n.jsxs("div",{className:"mt-4 grid md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx(ya,{required:!0,children:"Funding Goal"}),n.jsx(Lc,{name:"goal",type:"number",min:"0",value:X.goal,onChange:B,placeholder:"e.g., 50000",required:!0})]}),n.jsxs("div",{children:[n.jsx(ya,{children:"Amount Raised"}),n.jsx(Lc,{name:"raised",type:"number",min:"0",value:X.raised,onChange:B,placeholder:"e.g., 25000"})]}),n.jsxs("div",{children:[n.jsx(ya,{children:"Currency"}),n.jsx(E8,{name:"currency",value:X.currency,onChange:B,children:["USD","EUR","GBP","NGN","GHS","ZAR","KES","UGX","TZS","XOF","XAF","MAD","DZD","TND","EGP","ETB","NAD","BWP","MZN","ZMW","RWF","BIF","SOS","SDG","CDF"].map(de=>n.jsx("option",{children:de},de))})]}),n.jsxs("div",{children:[n.jsx(ya,{required:!0,children:"Deadline"}),n.jsx(Lc,{name:"deadline",type:"date",value:X.deadline,onChange:B,required:!0})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx(ya,{children:"Media (Images & Videos)"}),n.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-600",children:[n.jsxs("div",{className:"flex justify-center items-center gap-3 mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Xf.image,{}),n.jsx("span",{className:"text-xs",children:"Images"})]}),n.jsx("div",{className:"h-4 w-px bg-gray-300"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Xf.video,{}),n.jsx("span",{className:"text-xs",children:"Videos"})]})]}),"Upload images or videos to showcase your crowdfunding project",n.jsxs("div",{className:"mt-3",children:[n.jsx("input",{ref:g,type:"file",multiple:!0,accept:"image/*,video/*",className:"hidden",onChange:de=>le(de.target.files)}),n.jsx("button",{type:"button",onClick:z,className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Choose Files"})]}),x&&Object.keys(v).length>0&&n.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Uploading ",Object.keys(v).length," file(s)..."]}),n.jsxs("span",{className:"text-sm text-gray-500",children:[Object.values(v)[0],"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-brand-600 h-2 rounded-full transition-all duration-300",style:{width:`${Object.values(v)[0]||0}%`}})})]}),(m.length>0||w>0)&&n.jsxs("div",{className:"mt-6 grid sm:grid-cols-2 gap-4 text-left",children:[m.map((de,ue)=>{DY(de);const _e=Bb(de),Xe=de.startsWith("http")?de:`${En}/uploads/${de}`;return n.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 overflow-hidden grid place-items-center relative cursor-pointer",onClick:()=>O(ue),children:_e?n.jsxs(n.Fragment,{children:[n.jsx("video",{src:Xe,className:"h-full w-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:n.jsx(Xf.video,{})})]}):n.jsx("img",{src:Xe,alt:de,className:"h-full w-full object-cover"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"truncate text-sm font-medium",children:de.split("/").pop()}),n.jsxs("div",{className:"text-[11px] text-gray-500 truncate",children:[_e?"Video":"Image"," • Attached"]})]}),n.jsx("button",{type:"button",onClick:()=>Ne(ue),className:"p-1 rounded hover:bg-gray-100",title:"Remove",children:n.jsx(Xf.trash,{})})]},`${de}-${ue}`)}),w>0&&Array.from({length:w}).map((de,ue)=>n.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-200 animate-pulse"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-1"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"}),x&&n.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-1.5",children:n.jsx("div",{className:"bg-brand-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${Object.values(v)[0]||0}%`}})})]}),n.jsx("div",{className:"h-8 w-8 rounded bg-gray-200 animate-pulse"})]},`img-skel-${ue}`))]}),n.jsx("p",{className:"mt-2 text-[11px] text-gray-400",children:"Images: Up to 5MB each. Videos: Up to 50MB each. Supported formats: JPG, PNG, GIF, MP4, MOV"})]})]}),n.jsxs("div",{className:"mt-4 grid md:grid-cols-2 gap-4 hidden",children:[n.jsxs("div",{children:[n.jsx(ya,{children:"Rewards / Perks (optional)"}),n.jsx(uN,{name:"rewards",value:X.rewards,onChange:B,rows:4,placeholder:"e.g., Early access, platform credits, swag…"})]}),n.jsxs("div",{children:[n.jsx(ya,{children:"Team"}),n.jsx(uN,{name:"team",value:X.team,onChange:B,rows:4,placeholder:"Who's building this? Roles and experience."})]})]}),n.jsxs("div",{className:"mt-4 hidden",children:[n.jsx(ya,{children:"Links (site, deck, demo)"}),n.jsx(Lc,{name:"links",value:X.links,onChange:B,placeholder:"Separate with commas or new lines: https://..., https://..."})]}),n.jsxs("div",{className:"mt-4 grid md:grid-cols-2 gap-4 hidden",children:[n.jsxs("div",{children:[n.jsx(ya,{children:"Contact Email"}),n.jsx(Lc,{name:"email",value:X.email,onChange:B,placeholder:"you@company.com"})]}),n.jsxs("div",{children:[n.jsx(ya,{children:"Phone (optional)"}),n.jsx(Lc,{name:"phone",value:X.phone,onChange:B,placeholder:"+244 ..."})]})]}),n.jsxs("div",{className:"mt-4 mb-6 hidden",children:[n.jsx(ya,{children:"Tags"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-1",children:n.jsx(Lc,{value:F,onChange:de=>P(de.target.value),onKeyDown:de=>{de.key==="Enter"&&(de.preventDefault(),Z())},placeholder:"Add a tag (e.g., fintech, payments, SME)"})}),n.jsx("div",{children:n.jsx("button",{type:"button",onClick:Z,className:"inline-flex items-center gap-1 rounded-lg px-3 py-2 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700",children:"+ Add"})})]}),X.tags.length>0&&n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:X.tags.map((de,ue)=>n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-50 text-brand-700 px-3 py-1 text-xs border border-brand-100",children:[de,n.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>se(ue),title:"Remove",children:"×"})]},`${de}-${ue}`))}),n.jsx("p",{className:"mt-1 text-[11px] text-gray-400",children:"Tags help others discover your crowdfunding project"})]}),n.jsx("div",{className:"mt-5",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Category"}),n.jsx(Ee,{ariaLabel:"Category",value:ut.categoryId,onChange:de=>Je({categoryId:de,subcategoryId:"",subsubCategoryId:""}),options:rt,placeholder:"Search & select category…"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Subcategory"}),n.jsx(Ee,{ariaLabel:"Subcategory",value:ut.subcategoryId,onChange:de=>Je(ue=>me(ne({},ue),{subcategoryId:de,subsubCategoryId:""})),options:nt,placeholder:"Search & select subcategory…",disabled:!ut.categoryId})]}),n.jsxs("div",{className:"hidden",children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Sub-subcategory"}),n.jsx(Ee,{ariaLabel:"General Sub-subcategory",value:ut.subsubCategoryId,onChange:de=>Je(ue=>me(ne({},ue),{subsubCategoryId:de})),options:Ue,placeholder:"Search & select sub-subcategory…",disabled:!ut.subcategoryId})]})]})}),n.jsxs("div",{className:"mt-6 hidden",children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"Industry Classification"}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select the industry category and subcategory that best describes your crowdfunding project."}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Category"}),n.jsx(Ee,{ariaLabel:"Industry Category",value:Se.categoryId,onChange:de=>$e({categoryId:de,subcategoryId:""}),options:xt,placeholder:"Search & select industry category…"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Subcategory"}),n.jsx(Ee,{ariaLabel:"Industry Subcategory",value:Se.subcategoryId,onChange:de=>$e(ue=>me(ne({},ue),{subcategoryId:de})),options:Oe,placeholder:"Search & select industry subcategory…",disabled:!Se.categoryId})]})]})]}),n.jsx("div",{className:"mt-4",children:n.jsx("div",{className:"mb-4",children:N?n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-brand-600"}),n.jsx("h3",{className:"font-semibold text-brand-600",children:"Target Audience"})]}),n.jsxs("button",{type:"button",onClick:()=>S(!1),className:"inline-flex items-center gap-1 px-3 py-1 border border-gray-300 text-gray-600 rounded-lg text-xs hover:bg-gray-50",children:[n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Hide"]})]}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select who should see this funding project in their feeds and recommendations."}),n.jsx("div",{className:"border border-gray-200 rounded-xl p-4 bg-gray-50/60",children:J.length>0?n.jsx(gl,{tree:J||[],selected:te,onChange:K}):n.jsx("p",{className:"text-sm text-gray-400 italic",children:"Loading audience options..."})})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsxs("button",{type:"button",onClick:()=>S(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 5v14M5 12h14"})}),"Define Target Audience (optional)"]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Target your post to specific audiences"})]})})}),n.jsx("div",{className:"mt-6 flex flex-wrap gap-3 justify-end",children:n.jsx("button",{onClick:()=>ee("published"),type:"button",disabled:M,className:"rounded-xl px-4 py-2 text-sm font-semibold text-white bg-brand-500 hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500/30 disabled:opacity-60",children:M?"Publishing…":"Publish"})})]})]}),I&&n.jsx(Td,{urls:A,initialIndex:L,onClose:U})]})}const zTe=Object.freeze(Object.defineProperty({__proto__:null,default:p6},Symbol.toStringTag,{value:"Module"})),xo={name:"54Links",email:"support@54links.com",address:"Maputo, Mozambique",dpoEmail:"support@54links.com"},fN="#034ea2",es=({id:t,children:r})=>n.jsx("h2",{id:t,className:"scroll-mt-28 text-xl md:text-2xl font-semibold text-gray-900 mt-10",children:r}),ts=({children:t})=>n.jsx("section",{className:"space-y-3",children:t}),zv=({href:t,children:r})=>n.jsx("a",{href:t,className:"text-[#0a66c2] hover:underline",children:r});function UTe(){qt();const t="September 6, 2025";return Cr(),n.jsxs("div",{id:"top",className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"sticky top-0 z-40 border-b bg-white/90 backdrop-blur supports-[backdrop-filter]:bg-white/60",style:{borderColor:`${fN}22`},children:n.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-8 w-8 rounded-md flex items-center justify-center text-white font-bold",style:{backgroundColor:fN},"aria-hidden":!0,children:"54"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-900",children:"Terms of Service"}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Last updated: ",t]})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("button",{type:"button",onClick:()=>window.print(),className:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white",style:{backgroundColor:fN},children:"Print"})})]})}),n.jsxs("main",{className:"mx-auto max-w-4xl px-4 py-8",children:[n.jsxs("div",{className:"rounded-xl border bg-white p-5 shadow-sm",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["These Terms of Service (“Terms”) govern your access to and use of ",xo.name,"’s website, apps, and related services (collectively, the “Platform”). By creating an account, accessing, or using the Platform, you agree to these Terms."]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-3",children:["If you do not agree, do not use the Platform. For how we handle personal data, please also see our ",n.jsx(zv,{href:"/privacy",children:"Privacy Policy"}),"."]})]}),n.jsxs("nav",{className:"mt-6 rounded-xl border bg-white p-5 shadow-sm",children:[n.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Table of Contents"}),n.jsx("ul",{className:"mt-3 grid gap-2 text-sm md:grid-cols-2",children:[["introduction","1. Introduction"],["acceptance","2. Acceptance of Terms"],["eligibility","3. Eligibility & Accounts"],["registration","4. Registration & Onboarding"],["matching","5. Profile Types & Matching"],["conduct","6. User Content & Conduct"],["sections","7. Core Platform Sections"],["engagement","8. Communications & Engagement Tools"],["payments","9. Payments, Boosting & Premium"],["verification","10. Company Verification"],["privacy","11. Privacy"],["ip","12. Intellectual Property"],["warranties","13. Disclaimers & Limitation of Liability"],["indemnity","14. Indemnification"],["suspension","15. Suspension & Termination"],["admin","16. Administration & Moderation"],["changes","17. Changes to Service & Terms"],["law","18. Governing Law & Disputes"],["contact","19. Contact"]].map(([r,s])=>n.jsx("li",{children:n.jsx(zv,{href:`#${r}`,children:s})},r))})]}),n.jsxs("div",{className:"mt-8 rounded-xl border bg-white p-6 shadow-sm leading-7 text-gray-700",children:[n.jsxs(ts,{children:[n.jsx(es,{id:"introduction",children:"1. Introduction"}),n.jsxs("p",{children:[xo.name," is a pan-African business matching network that connects professionals, entrepreneurs, and organizations across Africa, supporting collaboration and economic integration aligned with the AfCFTA agenda."]})]}),n.jsxs(ts,{children:[n.jsx(es,{id:"acceptance",children:"2. Acceptance of Terms"}),n.jsxs("p",{children:["By accessing or using the Platform, you agree to be bound by these Terms and any additional policies referenced here, including our"," ",n.jsx(zv,{href:"/privacy",children:"Privacy Policy"}),". If you use the Platform on behalf of a company, you represent that you have authority to bind that company."]})]}),n.jsxs(ts,{children:[n.jsx(es,{id:"eligibility",children:"3. Eligibility & Accounts"}),n.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[n.jsx("li",{children:"Individuals must be at least the age of majority in their country of residence."}),n.jsx("li",{children:"Account types may include Individual and Company accounts (Individual currently active). You are responsible for all activity under your account."}),n.jsx("li",{children:"Keep your credentials secure and notify us of any suspected unauthorized use."})]})]}),n.jsxs(ts,{children:[n.jsx(es,{id:"registration",children:"4. Registration & Onboarding"}),n.jsx("p",{children:"During registration you may provide your name, email, phone, biography, nationality, country of residence, and a password. You must verify your email to activate your account. After login, you will be prompted to select your primary profile type, categories/subcategories, and up to three goals. A guided progress flow may help you complete your profile."})]}),n.jsxs(ts,{children:[n.jsx(es,{id:"matching",children:"5. Profile Types & Matching"}),n.jsx("p",{children:"The Platform uses your profile type and goals to suggest matches (e.g., Seller → Service, Buyer → Partnership). Results and rankings may be AI-assisted and can change over time. We do not guarantee any specific results, outcomes, or opportunities."})]}),n.jsxs(ts,{children:[n.jsx(es,{id:"conduct",children:"6. User Content & Conduct"}),n.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[n.jsxs("li",{children:["You retain ownership of content you submit, but grant ",xo.name," a worldwide, non-exclusive, royalty-free license to host, use, reproduce, modify, and display it to operate and improve the Platform."]}),n.jsx("li",{children:"Prohibited conduct includes harassment, hate speech, spam, fraud, illegal activities, IP infringement, and attempts to disrupt or scrape the service."}),n.jsx("li",{children:"You are responsible for ensuring your postings (jobs, events, services, products, etc.) are accurate, lawful, and comply with applicable regulations."})]})]}),n.jsxs(ts,{children:[n.jsx(es,{id:"sections",children:"7. Core Platform Sections"}),n.jsx("p",{children:"Dedicated spaces include Business, Jobs, Events & Trainings, Networking, and Tourism & Culture. Each section displays content relevant to that area and may provide specific search and filter tools (e.g., country, industry, availability, event type)."})]}),n.jsxs(ts,{children:[n.jsx(es,{id:"engagement",children:"8. Communications & Engagement Tools"}),n.jsx("p",{children:"The Platform may provide direct messaging, meeting scheduling, and Connect/Follow options. You agree to use these features respectfully and in accordance with these Terms and applicable laws."})]}),n.jsxs(ts,{children:[n.jsx(es,{id:"payments",children:"9. Payments, Boosting & Premium"}),n.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[n.jsx("li",{children:"We may offer paid features such as profile/post boosting and premium memberships (e.g., analytics, expanded messaging, exclusive content). Prices, taxes, fees, and availability may change."}),n.jsx("li",{children:"Payments may be processed by third-party providers. Except where required by law, fees are non-refundable once services are rendered."})]})]}),n.jsxs(ts,{children:[n.jsx(es,{id:"verification",children:"10. Company Verification"}),n.jsx("p",{children:"Companies may verify their status via corporate email. Verified companies receive a badge. We may revoke verification if we suspect misuse."})]}),n.jsxs(ts,{children:[n.jsx(es,{id:"privacy",children:"11. Privacy"}),n.jsxs("p",{children:["Our handling of personal data is described in our"," ",n.jsx(zv,{href:"/privacy",children:"Privacy Policy"}),". By using the Platform, you consent to those practices."]})]}),n.jsxs(ts,{children:[n.jsx(es,{id:"ip",children:"12. Intellectual Property"}),n.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[n.jsxs("li",{children:["The Platform, including software, designs, and trademarks, is owned by ",xo.name," or its licensors and is protected by law."]}),n.jsx("li",{children:"You may not copy, modify, or create derivative works except as permitted here."})]})]}),n.jsxs(ts,{children:[n.jsx(es,{id:"warranties",children:"13. Disclaimers & Limitation of Liability"}),n.jsxs("p",{children:["THE PLATFORM IS PROVIDED “AS IS” AND “AS AVAILABLE” WITHOUT WARRANTIES OF ANY KIND. TO THE MAXIMUM EXTENT PERMITTED BY LAW, ",xo.name," SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, OR ANY LOSS OF PROFITS, DATA, OR GOODWILL, ARISING FROM OR RELATED TO YOUR USE OF THE PLATFORM."]})]}),n.jsxs(ts,{children:[n.jsx(es,{id:"indemnity",children:"14. Indemnification"}),n.jsxs("p",{children:["You agree to defend, indemnify, and hold harmless ",xo.name," from any claims, liabilities, damages, losses, and expenses (including legal fees) arising from your use of the Platform or your violation of these Terms."]})]}),n.jsxs(ts,{children:[n.jsx(es,{id:"suspension",children:"15. Suspension & Termination"}),n.jsx("p",{children:"We may suspend or terminate access for violations of these Terms or applicable law, including for spam, harassment, or illegal postings. Upon termination, your right to use the Platform ceases immediately."})]}),n.jsxs(ts,{children:[n.jsx(es,{id:"admin",children:"16. Administration & Moderation"}),n.jsx("p",{children:"Authorized administrators may review, moderate, or remove reported content; manage user accounts; configure features; and send platform-wide notices in accordance with our policies and applicable law."})]}),n.jsxs(ts,{children:[n.jsx(es,{id:"changes",children:"17. Changes to Service & Terms"}),n.jsx("p",{children:"We may modify the Platform or these Terms. Material changes will be communicated by reasonable means. Continued use after changes constitutes acceptance."})]}),n.jsxs(ts,{children:[n.jsx(es,{id:"law",children:"18. Governing Law & Disputes"}),n.jsxs("p",{children:["These Terms are governed by the laws of the ",xo.jurisdiction,", without regard to conflicts of law rules. Disputes shall be resolved in the courts located in the"," ",xo.jurisdiction,", unless otherwise required by mandatory law."]})]}),n.jsxs(ts,{children:[n.jsx(es,{id:"contact",children:"19. Contact"}),n.jsxs("p",{children:["Questions about these Terms? Contact us at"," ",n.jsx("a",{className:"text-[#0a66c2] hover:underline",href:`mailto:${xo.email}`,children:xo.email})," ","or write to ",xo.address,"."]})]})]})]})]})}const Bg={name:"54Links",email:"support@54links.com",address:"Maputo, Mozambique",dpoEmail:"support@54links.com"},hN="#034ea2",Ra=({id:t,children:r})=>n.jsx("h2",{id:t,className:"scroll-mt-28 text-xl md:text-2xl font-semibold text-gray-900 mt-10",children:r}),Fa=({children:t})=>n.jsx("section",{className:"space-y-3",children:t}),L8=({href:t,children:r})=>n.jsx("a",{href:t,className:"text-[#0a66c2] hover:underline",children:r});function WTe(){qt();const t="September 6, 2025";return Cr(),n.jsxs("div",{id:"top",className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"sticky top-0 z-40 border-b bg-white/90 backdrop-blur supports-[backdrop-filter]:bg-white/60",style:{borderColor:`${hN}22`},children:n.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-8 w-8 rounded-md flex items-center justify-center text-white font-bold",style:{backgroundColor:hN},"aria-hidden":!0,children:"54"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-900",children:"Privacy Policy"}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Last updated: ",t]})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("button",{type:"button",onClick:()=>window.print(),className:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white",style:{backgroundColor:hN},children:"Print"})})]})}),n.jsxs("main",{className:"mx-auto max-w-4xl px-4 py-8",children:[n.jsxs("div",{className:"rounded-xl border bg-white p-5 shadow-sm",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["This Privacy Policy explains how ",Bg.name," (“we”, “our”, “us”) collects, uses, discloses, and safeguards personal data when you use our websites, apps, and related services (the “Platform”). If you do not agree with this Policy, please do not use the Platform."]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-3",children:["For the contract that governs your use of the Platform, please see our"," ",n.jsx(L8,{href:"/terms",children:"Terms of Service"}),"."]})]}),n.jsxs("nav",{className:"mt-6 rounded-xl border bg-white p-5 shadow-sm",children:[n.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Table of Contents"}),n.jsx("ul",{className:"mt-3 grid gap-2 text-sm md:grid-cols-2",children:[["scope","1. Scope"],["data-we-collect","2. Data We Collect"],["how-we-use","3. How We Use Data"],["legal-bases","4. Legal Bases"],["sharing","5. How We Share Data"],["retention","6. Data Retention"],["security","7. Security"],["transfers","8. International Transfers"],["your-rights","9. Your Rights & Choices"],["children","10. Children"],["third-parties","11. Third-Party Links & Services"],["changes","12. Changes to this Policy"],["contact","13. Contact Us"],["country-notices","14. Country-Specific Notices"]].map(([r,s])=>n.jsx("li",{children:n.jsx(L8,{href:`#${r}`,children:s})},r))})]}),n.jsxs("div",{className:"mt-8 rounded-xl border bg-white p-6 shadow-sm leading-7 text-gray-700",children:[n.jsxs(Fa,{children:[n.jsx(Ra,{id:"scope",children:"1. Scope"}),n.jsxs("p",{children:["This Policy applies to personal data processed by ",Bg.name," in connection with the Platform, including account registration, onboarding, profile management, matching, messaging, posting content (e.g., jobs, events, services, products), and using premium features (e.g., boosting, analytics)."]})]}),n.jsxs(Fa,{children:[n.jsx(Ra,{id:"data-we-collect",children:"2. Data We Collect"}),n.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"Account & Identity Data:"})," name, email, phone, password (hashed), nationality, country of residence, profile type (e.g., Entrepreneur, Seller, Job Seeker, Investor)."]}),n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"Onboarding & Profile Data:"})," categories, subcategories, goals (up to three), biography, experience, services or products, job details, event details, portfolio items, company verification info."]}),n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"Content You Provide:"})," posts, messages, comments, likes, media uploads, and any metadata you include."]}),n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"Usage & Device Data:"})," log data, pages viewed, links clicked, approximate location derived from IP, device and browser information, crash/diagnostic data, and cookies/SDK data."]}),n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"Communications:"})," in-app messages, meeting scheduling details, and your preferences for notifications or marketing."]}),n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"Payment & Transaction Data:"})," limited billing details processed via payment providers (we do not store full card numbers)."]})]})]}),n.jsxs(Fa,{children:[n.jsx(Ra,{id:"how-we-use",children:"3. How We Use Data"}),n.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[n.jsx("li",{children:"Provide, secure, and maintain the Platform and core features."}),n.jsx("li",{children:"Enable discovery, search, and AI-assisted matching of profiles and content."}),n.jsx("li",{children:"Facilitate communications (e.g., messaging, meeting scheduling, notifications)."}),n.jsx("li",{children:"Process payments for premium features and post boosting."}),n.jsx("li",{children:"Analyze usage and improve functionality, UX, and performance."}),n.jsx("li",{children:"Detect, prevent, and respond to fraud, abuse, and violations of our Terms."}),n.jsx("li",{children:"Comply with legal obligations and enforce our agreements."})]})]}),n.jsxs(Fa,{children:[n.jsx(Ra,{id:"legal-bases",children:"4. Legal Bases"}),n.jsx("p",{children:"Where applicable law (e.g., GDPR) requires a lawful basis, we rely on:"}),n.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"Contract:"})," to provide the Platform."]}),n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"Legitimate Interests:"})," to secure and improve the Platform, prevent abuse, and promote relevant content."]}),n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"Consent:"})," for certain marketing and optional features; you may withdraw consent at any time."]}),n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"Legal Obligations:"})," to comply with applicable laws and requests."]})]})]}),n.jsxs(Fa,{children:[n.jsx(Ra,{id:"sharing",children:"5. How We Share Data"}),n.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"With Other Users:"})," information you choose to make public (e.g., profile, posts) is visible per your privacy settings."]}),n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"Service Providers:"})," hosting, analytics, security, payments, email, and support vendors under contractual safeguards."]}),n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"Partners & Integrations:"})," when you opt-in or connect third-party services."]}),n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"Legal, Safety, and Compliance:"})," to respond to lawful requests or protect rights, safety, and property."]}),n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"Business Transfers:"})," in connection with a merger, acquisition, or asset sale."]})]})]}),n.jsxs(Fa,{children:[n.jsx(Ra,{id:"retention",children:"6. Data Retention"}),n.jsx("p",{children:"We keep personal data as long as necessary for the purposes described above, to comply with legal obligations, resolve disputes, and enforce agreements. Retention periods vary by data category and context."})]}),n.jsxs(Fa,{children:[n.jsx(Ra,{id:"security",children:"7. Security"}),n.jsx("p",{children:"We implement organizational and technical measures designed to protect personal data. No system is 100% secure; please use strong passwords and safeguard your account credentials."})]}),n.jsxs(Fa,{children:[n.jsx(Ra,{id:"transfers",children:"8. International Transfers"}),n.jsx("p",{children:"We may process and store data in countries outside your own. Where required, we use appropriate safeguards for cross-border transfers."})]}),n.jsxs(Fa,{children:[n.jsx(Ra,{id:"your-rights",children:"9. Your Rights & Choices"}),n.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[n.jsx("li",{children:"Access, rectify, or delete certain personal data from your account settings or by contacting us."}),n.jsx("li",{children:"Object to or restrict processing in certain circumstances."}),n.jsx("li",{children:"Withdraw consent where processing is based on consent."}),n.jsx("li",{children:"Opt-out of marketing communications by using unsubscribe links or updating preferences."}),n.jsx("li",{children:"Depending on your location, you may have additional rights (e.g., data portability). We will honor requests as required by law."})]})]}),n.jsxs(Fa,{children:[n.jsx(Ra,{id:"children",children:"10. Children"}),n.jsx("p",{children:"The Platform is not directed to children under the age of majority. We do not knowingly collect personal data from such users. If you believe a child has provided data, contact us to request deletion."})]}),n.jsxs(Fa,{children:[n.jsx(Ra,{id:"third-parties",children:"11. Third-Party Links & Services"}),n.jsx("p",{children:"The Platform may link to or integrate third-party websites or services. Their privacy practices are governed by their own policies. We are not responsible for third-party content or practices."})]}),n.jsxs(Fa,{children:[n.jsx(Ra,{id:"changes",children:"12. Changes to this Policy"}),n.jsx("p",{children:"We may update this Policy from time to time. Material changes will be communicated by reasonable means. Your continued use after changes becomes effective means you accept the updated Policy."})]}),n.jsxs(Fa,{children:[n.jsx(Ra,{id:"contact",children:"13. Contact Us"}),n.jsxs("p",{children:["For questions or requests, contact"," ",n.jsx("a",{className:"text-[#0a66c2] hover:underline",href:`mailto:${Bg.email}`,children:Bg.email})," ","You can also write to ",Bg.address,"."]})]}),n.jsxs(Fa,{children:[n.jsx(Ra,{id:"country-notices",children:"14. Country-Specific Notices"}),n.jsx("p",{children:"Depending on your location, additional rights or disclosures may apply. We will provide country-specific notices where legally required."})]})]})]})]})}var gN={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function M8(t){if(!t)return"";const r=new Date(t).getTime(),s=Date.now(),a=Math.floor((s-r)/1e3);if(a<60)return"Just now";const i=Math.floor(a/60);if(i<60)return`${i} min${i>1?"s":""} ago`;const o=Math.floor(i/60);if(o<24)return`${o} hour${o>1?"s":""} ago`;const l=Math.floor(o/24);if(l<30)return`${l} day${l>1?"s":""} ago`;const c=Math.floor(l/30);if(c<12)return`${c} month${c>1?"s":""} ago`;const d=Math.floor(c/12);return`${d} year${d>1?"s":""} ago`}function HTe(t,r){return t&&r?`${t}, ${r}`:t||r||""}function zg({children:t,tone:r="brand"}){const s={brand:"bg-brand-50 text-brand-600",green:"bg-green-100 text-green-700",gray:"bg-gray-100 text-gray-700",blue:"bg-blue-100 text-blue-700",red:"bg-red-100 text-red-700"};return n.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] ${s[r]||s.gray}`,children:t})}function mu(t){var i,o;if(!t)return"U";const r=t.trim().split(/\s+/),s=((i=r[0])==null?void 0:i.charAt(0).toUpperCase())||"",a=((o=r[1])==null?void 0:o.charAt(0).toUpperCase())||"";return s+a}const VTe=({onSelect:t,selectedUsers:r,onRemove:s,thisUserId:a})=>{const[i,o]=u.useState(""),[l,c]=u.useState([]),[d,f]=u.useState(!1),h=u.useRef(null),g=x=>ve(void 0,null,function*(){if(!x.trim()){c([]);return}f(!0);try{const{data:y}=yield Le.get(`/users/search?q=${encodeURIComponent(x)}`),w=y.filter(b=>!r.some(v=>v.id===b.id)&&(b==null?void 0:b.id)!=a);c(w)}catch(y){console.error("Error searching users:",y),c([])}finally{f(!1)}});u.useEffect(()=>{const x=y=>{h.current&&!h.current.contains(y.target)&&c([])};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[]);const m=x=>{const y=x.target.value;o(y),clearTimeout(window.searchTimeout),window.searchTimeout=setTimeout(()=>{g(y)},300)},p=x=>{t(x),o(""),c([])};return n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Add Participants"}),r.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:r.map(x=>n.jsxs("div",{className:"inline-flex items-center gap-2 bg-brand-50 text-brand-700 rounded-full px-3 py-1 text-xs font-medium",children:[x.avatarUrl?n.jsx("img",{src:x.avatarUrl,alt:x.name,className:"w-4 h-4 rounded-full object-cover"}):n.jsx("div",{className:"w-4 h-4 rounded-full bg-brand-100 flex items-center justify-center text-xs font-medium text-brand-700",children:mu(x.name)}),x.name||x.email,(x==null?void 0:x.id)!=a&&n.jsx("button",{type:"button",onClick:()=>s(x.id),className:"text-brand-500 hover:text-brand-700",children:n.jsx(Lr,{size:14})})]},x.id))}),n.jsxs("div",{ref:h,className:"relative",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:i,onChange:m,placeholder:"Search users by name or email...",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30"}),d&&n.jsx("div",{className:"absolute right-3 top-2.5",children:n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-500"})})]}),l.length>0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:l.map(x=>n.jsxs("button",{type:"button",onClick:()=>p(x),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3",children:[x.avatarUrl?n.jsx("img",{src:x.avatarUrl,alt:x.name,className:"w-6 h-6 rounded-full object-cover"}):n.jsx("div",{className:"w-6 h-6 rounded-full bg-brand-100 flex items-center justify-center text-xs font-medium text-brand-700",children:mu(x.name)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:x.name}),n.jsx("div",{className:"text-xs text-gray-500 truncate",children:x.email})]})]},x.id))})]})]})},GTe=({profile:t,shareMenuRef:r,setShareOpen:s})=>{const a=`https://54links.com/profile/${t==null?void 0:t.id}`,i=`${(t==null?void 0:t.name)||"Profile"} on 54Links`,o=(t==null?void 0:t.about)||`Check out ${(t==null?void 0:t.name)||"this profile"} on 54Links`,l=o.slice(0,160)+(o.length>160?"…":""),c=["54Links","Profile","Networking"].filter(Boolean),d=(gN==null?void 0:gN.VITE_FACEBOOK_APP_ID)||void 0;return n.jsxs("div",{ref:r,className:"absolute top-0  max-md:left-0 md:right-0 mt-2 z-30 w-64 rounded-xl border border-gray-200 bg-white p-3 shadow-xl",role:"dialog","aria-label":"Share options",children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 px-1 pb-2",children:"Share this profile"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx(ua,{url:a,title:i,separator:" — ",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(da,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"WhatsApp"})]})}),n.jsx(na,{url:a,quote:l,hashtag:"#54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ea,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Facebook"})]})}),n.jsx(aa,{url:a,title:i,summary:l,source:"54Links",children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(sa,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"LinkedIn"})]})}),n.jsx(ca,{url:a,title:i,hashtags:c,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(la,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"X / Twitter"})]})}),n.jsx(oa,{url:a,title:i,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ia,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Telegram"})]})}),n.jsx(Xs,{url:a,subject:i,body:l+`

`+a,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(Ks,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Email"})]})}),d&&n.jsx(ra,{url:a,appId:d,children:n.jsxs("div",{className:"flex flex-col items-center gap-1 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ta,{size:40,round:!0}),n.jsx("span",{className:"text-xs text-gray-700",children:"Messenger"})]})})]}),n.jsx("div",{className:"mt-2",children:n.jsx(qTe,{shareUrl:a,setShareOpen:s})})]})},qTe=({shareUrl:t,setShareOpen:r})=>n.jsxs("button",{onClick:()=>ve(void 0,null,function*(){try{yield navigator.clipboard.writeText(t),ce.success("Link copied"),r(!1)}catch(s){ce.error("Failed to copy link")}}),className:"flex items-center gap-2 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm hover:bg-gray-50",children:[n.jsx(Zs,{size:16}),"Copy link"]});function YTe(t,r){if(!t)return null;try{const s=new Date(t);if(isNaN(s.getTime()))return null;const a=s.getTime();return new Date(a+r*6e4).toISOString()}catch(s){return null}}function JTe(t,r,s){if(!t)return"Invalid date";try{const a=new Date(t);if(isNaN(a.getTime()))return"Invalid date";const i={dateStyle:"medium",timeStyle:"short",timeZone:r||void 0};return`${a.toLocaleString(void 0,i)} • ${s} min`}catch(a){return"Invalid date"}}function ZTe({open:t,onClose:r,toUserId:s,toName:a,onCreated:i}){const o=Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",[l,c]=u.useState({date:"",time:"",duration:"30",mode:"video",location:"",link:"",title:`Meeting with ${a!=null?a:"User"}`,agenda:"",timezone:o}),[d,f]=u.useState([]);u.useEffect(()=>{t&&a&&(c(j=>me(ne({},j),{title:`Meeting with ${a}`})),f([{id:s,name:a}]))},[t,a,s]);const[h,g]=u.useState(!1),[m,p]=u.useState({});u.useEffect(()=>{t&&(p({}),g(!1),s&&a&&f([{id:s,name:a}]))},[t,s,a]);function x(){const j={};return l.date||(j.date="Pick a date"),l.time||(j.time="Pick a time"),l.title.trim()||(j.title="Add a title"),d.length===0&&(j.participants="Add at least one participant"),j}const y=j=>{d.some(N=>N.id===j.id)||f(N=>[...N,j])},w=j=>{f(N=>N.filter(S=>S.id!==j))};function b(j,N){c(S=>me(ne({},S),{[j]:N}))}function v(j){return ve(this,null,function*(){var I,E;j.preventDefault();const N=x();if(p(N),Object.keys(N).length)return;const S=new Date(`${l.date}T${l.time}:00`).toISOString();g(!0);try{const L=d[0],C=d.slice(1).map(M=>M.id),T={toUserId:L.id,title:l.title,agenda:l.agenda,scheduledAt:S,duration:parseInt(l.duration),timezone:l.timezone,mode:l.mode,location:l.mode==="in_person"?l.location:null,link:l.mode==="video"?l.link:null,participants:C},{data:k}=yield Le.post("/meeting-requests",T);ce.success("Meeting request sent successfully!"),i==null||i(k),r()}catch(L){console.error("Error creating meeting request:",L),ce.error(((E=(I=L==null?void 0:L.response)==null?void 0:I.data)==null?void 0:E.message)||"Failed to send meeting request")}finally{g(!1)}})}return t?n.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm",children:n.jsxs("div",{className:"w-[92vw] sm:w-full sm:max-w-lg max-h-[80vh] bg-white rounded-2xl shadow-xl flex flex-col overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between bg-brand-500 px-4 py-3",children:[n.jsx("div",{className:"text-white font-medium",children:"Request Meeting"}),n.jsx("button",{onClick:r,className:"text-white/90 hover:text-white",children:n.jsx(Lr,{size:20})})]}),n.jsxs("form",{id:"meetingForm",onSubmit:v,className:"p-5 overflow-y-auto flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Title"}),n.jsx("input",{type:"text",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:l.title,onChange:j=>b("title",j.target.value),placeholder:"e.g., Intro call about collaboration"}),m.title&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:m.title})]}),n.jsx(VTe,{onSelect:y,selectedUsers:d,onRemove:w,thisUserId:s}),m.participants&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:m.participants}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date"}),n.jsx("input",{min:new Date().toISOString().split("T")[0],type:"date",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:l.date,onChange:j=>b("date",j.target.value)}),m.date&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:m.date})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Time"}),n.jsx("input",{type:"time",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:l.time,onChange:j=>b("time",j.target.value)}),m.time&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:m.time})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Duration"}),n.jsxs("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:l.duration,onChange:j=>b("duration",j.target.value),children:[n.jsx("option",{value:"15",children:"15 minutes"}),n.jsx("option",{value:"30",children:"30 minutes"}),n.jsx("option",{value:"45",children:"45 minutes"}),n.jsx("option",{value:"60",children:"60 minutes"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Timezone"}),n.jsx("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",value:l.timezone,onChange:j=>b("timezone",j.target.value),children:fw.map((j,N)=>n.jsx("option",{value:j.value,children:`${j.offset} - ${j.label}`}))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Meeting mode"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("button",{type:"button",onClick:()=>b("mode","video"),className:`flex items-center justify-center gap-2 rounded-lg border px-3 py-2 text-sm ${l.mode==="video"?"border-brand-500 bg-brand-50 text-brand-700":"border-gray-300 bg-white text-gray-700"}`,children:[n.jsx(Zi,{size:18})," Video call"]}),n.jsxs("button",{type:"button",onClick:()=>b("mode","in_person"),className:`flex items-center justify-center gap-2 rounded-lg border px-3 py-2 text-sm ${l.mode==="in_person"?"border-brand-500 bg-brand-50 text-brand-700":"border-gray-300 bg-white text-gray-700"}`,children:[n.jsx(GE,{size:18})," In person"]})]})]}),l.mode==="video"?n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Call link ",n.jsx("span",{className:"text-gray-600",children:"(optional)"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"rounded-lg border border-gray-300 px-3 py-2 flex-1 flex items-center gap-2",children:[n.jsx(tb,{size:16,className:"text-gray-500"}),n.jsx("input",{type:"url",className:"w-full text-sm focus:outline-none",placeholder:"Insert call link",value:l.link,onChange:j=>b("link",j.target.value)})]})}),m.link&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:m.link})]}):n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Location"}),n.jsx("input",{type:"text",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30",placeholder:"e.g., Avenida Julius Nyerere 123, Maputo",value:l.location,onChange:j=>b("location",j.target.value)}),m.location&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:m.location})]}),l.date&&l.time&&n.jsx("div",{className:"rounded-lg border bg-gray-50 px-3 py-2 text-xs text-gray-700",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(To,{size:14,className:"text-brand-600"}),n.jsxs("span",{children:[new Date(`${l.date}T${l.time}:00`).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})," ","(",l.timezone,") • ",l.duration," min • ",l.mode==="video"?"Video call":"In person"]})]})})]}),n.jsxs("div",{className:"p-4 border-t flex items-center justify-end gap-3",children:[n.jsx("button",{type:"button",onClick:r,className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:border-gray-400",children:"Cancel"}),n.jsxs("button",{type:"submit",form:"meetingForm",disabled:h,className:"inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium text-white bg-brand-500 hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500/30 disabled:opacity-60",children:[n.jsx(hl,{size:18})," ",h?"Creating…":`Create request (${d.length})`]})]})]})}):null}const QTe=()=>n.jsxs("div",{className:"min-h-screen grid place-items-center text-brand-700",children:[n.jsxs("svg",{className:"h-6 w-6 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]}),n.jsx("span",{className:"ml-2",children:"Loading…"})]});function KTe(){var ze,qe,it,Ae,Ge,Ye,Et,Ot,ft;const{userId:t}=Ds(),[r,s]=u.useState(!1),[a,i]=u.useState(null),[o,l]=u.useState(""),[c,d]=u.useState(!1),f=u.useRef(null),[h,g]=u.useState(!1),[m,p]=u.useState(!1),[x,y]=u.useState(!1),[w,b]=u.useState(!1),[v,j]=u.useState([]),[N,S]=u.useState(!1),[I,E]=u.useState([]),[L,C]=u.useState(!1),[T,k]=u.useState([]),[M,_]=u.useState(!1),[J,Y]=u.useState("posts"),[te,K]=u.useState(!1),[X,W]=u.useState(0),F=D=>{const Q=[];return D.forEach(H=>{switch(H.kind){case"job":H.coverImageBase64&&(H.coverImageBase64.startsWith("data:image/")||H.coverImageBase64.startsWith("http://")||H.coverImageBase64.startsWith("https://"))&&Q.push({url:H.coverImageBase64,alt:H.title||"Job image",type:"job",itemId:H.id,itemTitle:H.title});break;case"event":H.coverImageBase64&&(H.coverImageBase64.startsWith("data:image/")||H.coverImageBase64.startsWith("http://")||H.coverImageBase64.startsWith("https://"))&&Q.push({url:H.coverImageBase64,alt:H.title||"Event image",type:"event",itemId:H.id,itemTitle:H.title}),H.coverImageUrl&&(H.coverImageUrl.startsWith("data:image/")||H.coverImageUrl.startsWith("http://")||H.coverImageUrl.startsWith("https://"))&&Q.push({url:H.coverImageUrl,alt:H.title||"Event cover image",type:"event",itemId:H.id,itemTitle:H.title}),Array.isArray(H.images)&&H.images.forEach((V,re)=>{V&&(V.startsWith("data:image/")||V.startsWith("http://")||V.startsWith("https://"))&&Q.push({url:V,alt:`${H.title||"Event image"} ${re+1}`,type:"event",itemId:H.id,itemTitle:H.title})});break;case"service":Array.isArray(H.images)&&H.images.forEach((V,re)=>{V&&(V.startsWith("data:image/")||typeof V=="string"&&(/\.(jpe?g|png|gif|webp|svg)$/i.test(V)||V.startsWith("http://")||V.startsWith("https://")))&&Q.push({url:V,alt:`${H.title||"Service image"} ${re+1}`,type:"service",itemId:H.id,itemTitle:H.title})});break;case"product":Array.isArray(H.images)&&H.images.forEach((V,re)=>{V&&(V.startsWith("data:image/")||V.startsWith("http://")||V.startsWith("https://"))&&Q.push({url:V,alt:`${H.title||"Product image"} ${re+1}`,type:"product",itemId:H.id,itemTitle:H.title})});break;case"tourism":Array.isArray(H.images)&&H.images.forEach((V,re)=>{V&&typeof V=="object"&&(V!=null&&V.base64url)&&(V.base64url.startsWith("data:image/")||V.base64url.startsWith("http://")||V.base64url.startsWith("https://"))?Q.push({url:V.base64url,alt:`${H.title||"Tourism image"} ${re+1}`,type:"tourism",itemId:H.id,itemTitle:H.title}):V&&typeof V=="string"&&(V.startsWith("data:image/")||V.startsWith("http://")||V.startsWith("https://"))&&Q.push({url:V,alt:`${H.title||"Tourism image"} ${re+1}`,type:"tourism",itemId:H.id,itemTitle:H.title})});break;case"funding":Array.isArray(H.images)&&H.images.forEach((V,re)=>{V&&typeof V=="object"&&(V!=null&&V.base64url)&&(V.base64url.startsWith("data:image/")||V.base64url.startsWith("http://")||V.base64url.startsWith("https://"))?Q.push({url:V.base64url,alt:`${H.title||"Funding image"} ${re+1}`,type:"funding",itemId:H.id,itemTitle:H.title}):V&&typeof V=="string"&&(V.startsWith("data:image/")||V.startsWith("http://")||V.startsWith("https://"))&&Q.push({url:V,alt:`${H.title||"Funding image"} ${re+1}`,type:"funding",itemId:H.id,itemTitle:H.title})});break;case"need":Array.isArray(H.attachments)&&H.attachments.forEach((V,re)=>{V&&typeof V=="object"&&(V!=null&&V.base64url)&&(V.base64url.startsWith("data:image/")||V.base64url.startsWith("http://")||V.base64url.startsWith("https://"))?Q.push({url:V.base64url,alt:`${H.title||"Need attachment"} ${re+1}`,type:"need",itemId:H.id,itemTitle:H.title}):V&&typeof V=="string"&&(V.startsWith("data:image/")||/\.(jpe?g|png|gif|webp|svg)$/i.test(V)||V.startsWith("http://")||V.startsWith("https://"))&&Q.push({url:V,alt:`${H.title||"Need attachment"} ${re+1}`,type:"need",itemId:H.id,itemTitle:H.title})});break;case"moment":Array.isArray(H.images)&&H.images.forEach((V,re)=>{V&&typeof V=="object"&&(V!=null&&V.base64url)&&(V.base64url.startsWith("data:image/")||V.base64url.startsWith("http://")||V.base64url.startsWith("https://"))&&Q.push({url:V.base64url,alt:`${H.title||"Moment image"} ${re+1}`,type:"moment",itemId:H.id,itemTitle:H.title})}),Array.isArray(H.attachments)&&H.attachments.forEach((V,re)=>{V&&typeof V=="object"&&(V!=null&&V.base64url)&&(V.base64url.startsWith("data:image/")||V.base64url.startsWith("http://")||V.base64url.startsWith("https://"))&&Q.push({url:V.base64url,alt:`${H.title||"Moment attachment"} ${re+1}`,type:"moment",itemId:H.id,itemTitle:H.title})});break}}),Q},P=(D,Q)=>!Q||!D.length?[]:D.filter(H=>{var re,ge,We,ot,Ce,pe,je,we;let V;switch(H.kind){case"job":V=H.postedByUserId||((re=H.postedBy)==null?void 0:re.id);break;case"event":V=H.organizerUserId||((ge=H.organizer)==null?void 0:ge.id);break;case"service":V=H.providerUserId||((We=H.provider)==null?void 0:We.id);break;case"product":V=H.sellerUserId||((ot=H.seller)==null?void 0:ot.id);break;case"tourism":V=H.authorUserId||((Ce=H.author)==null?void 0:Ce.id);break;case"funding":V=H.creatorUserId||((pe=H.creator)==null?void 0:pe.id);break;case"need":V=H.userId||((je=H.user)==null?void 0:je.id);break;case"moment":V=H.userId||((we=H.user)==null?void 0:we.id);break;default:V=null}return String(V)===String(Q)}),A=u.useMemo(()=>P(v,t),[v,t]);u.useEffect(()=>{if(A.length>0){const D=nt(A);xt(D)}},[A]);const B=F(A),z=u.useMemo(()=>[...T.map(Q=>({url:Q.imageUrl,alt:Q.title||"Gallery image",type:"gallery",itemId:Q.id,itemTitle:Q.title||"Gallery image"})),...B],[T,B]);u.useEffect(()=>(document.addEventListener("keydown",fe),()=>{document.removeEventListener("keydown",fe)}),[te]);const O=D=>{W(D),K(!0)},U=()=>{K(!1),W(0)},Z=()=>{W(D=>(D+1)%z.length)},se=()=>{W(D=>(D-1+z.length)%z.length)},fe=D=>{if(te)switch(D.key){case"Escape":U();break;case"ArrowLeft":D.preventDefault(),se();break;case"ArrowRight":D.preventDefault(),Z();break}},[le,Ne]=u.useState(!1),Te=u.useRef(null),ht=u.useRef(null),[Fe,Ve]=u.useState(!1),[ut,Je]=u.useState(!1),[G,ae]=u.useState(!1),[Me,he]=u.useState([]),ye=Cr(),{user:oe}=Xt(),ie=qt();function q(){if(!oe)return ye._showPopUp("login_prompt");g(!0)}function Se(){if(!oe)return ye._showPopUp("login_prompt");ae(!0)}const $e=u.useMemo(()=>Array.isArray(a==null?void 0:a.languages)?a.languages.map(D=>typeof D=="string"?{name:D}:D).filter(Boolean):[],[a]),rt=u.useCallback(()=>ve(this,null,function*(){if(!t)return;let D=!0;s(!0),d(!1),l("");try{const{data:Q}=yield Le.get(`/users/${t}/public`);D&&i(Q)}catch(Q){console.error(Q),D&&(d(!0),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{rt()},3e3))}finally{D&&s(!1)}return()=>{D=!1}}),[t]);u.useEffect(()=>(rt(),()=>{f.current&&clearTimeout(f.current)}),[rt]),u.useEffect(()=>{if(!t||!oe)return;function D(){return ve(this,null,function*(){try{const{data:Q}=yield Le.get("/meeting-requests"),H=[...Q.sent.filter(re=>re.fromUserId===t),...Q.received.filter(re=>re.toUserId===t),...Q.invitations.filter(re=>{var ge;return(ge=re.participants)==null?void 0:ge.some(We=>{var ot;return((ot=We.user)==null?void 0:ot.id)===t})}),...Q.sent.filter(re=>{var ge;return re.fromUserId===oe.id&&(re.toUserId===t||((ge=re.participants)==null?void 0:ge.some(We=>{var ot;return((ot=We.user)==null?void 0:ot.id)===t})))}),...Q.received.filter(re=>{var ge;return re.toUserId===oe.id&&(re.fromUserId===t||((ge=re.participants)==null?void 0:ge.some(We=>{var ot;return((ot=We.user)==null?void 0:ot.id)===t})))}),...Q.invitations.filter(re=>{var ge,We;return((ge=re.participants)==null?void 0:ge.some(ot=>{var Ce;return((Ce=ot.user)==null?void 0:Ce.id)===oe.id}))&&(re.fromUserId===t||re.toUserId===t||((We=re.participants)==null?void 0:We.some(ot=>{var Ce;return((Ce=ot.user)==null?void 0:Ce.id)===t})))})].filter((re,ge,We)=>We.findIndex(ot=>ot.id===re.id)===ge&&re.status==="accepted");console.log("Loaded meetings for profile:",{profileUserId:t,currentUserId:oe.id,meetingsCount:H.length,meetings:H.map(re=>{var ge,We,ot;return{id:re.id,title:re.title,from:(ge=re.requester)==null?void 0:ge.name,to:(We=re.recipient)==null?void 0:We.name,participants:(ot=re.participants)==null?void 0:ot.map(Ce=>{var pe;return(pe=Ce.user)==null?void 0:pe.name})}})});const V=H.map(re=>({id:re.id,toUserId:re.toUserId,title:re.title,agenda:re.agenda,mode:re.mode,link:re.link,location:re.location,timezone:re.timezone,duration:re.duration,isoStart:re.scheduledAt,createdAt:re.createdAt,from:re.requester,to:re.recipient,participants:[re.requester,re.recipient,...(re.participants||[]).map(ge=>ge.user).filter(ge=>{var We,ot;return ge&&ge.id!==((We=re.requester)==null?void 0:We.id)&&ge.id!==((ot=re.recipient)==null?void 0:ot.id)})].filter(Boolean)}));he(V)}catch(Q){console.error("Error loading meetings:",Q)}})}D()},[oe==null?void 0:oe.id,t]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:D}=yield Le.get("/feed/meta");E(D.categories||[])}catch(D){console.error(D)}})},[]),u.useEffect(()=>{if(!t)return;function D(){return ve(this,null,function*(){S(!0);try{const Q={tab:"all",userId:t,limit:20,offset:0},{data:H}=yield Le.get("/feed",{params:Q});j(H.items||[])}catch(Q){console.error("Error loading user feed:",Q)}finally{S(!1)}})}D()},[t]),u.useEffect(()=>{if(!t)return;function D(){return ve(this,null,function*(){_(!0);try{const{data:Q}=yield Le.get(`/users/${t}/gallery`);k(Q.gallery||[])}catch(Q){console.error("Error loading user gallery:",Q),k([])}finally{_(!1)}})}D()},[t]),u.useEffect(()=>{},[t]);const nt=D=>{const Q=[];return D.forEach(H=>{H.videoUrl&&(H.videoUrl.startsWith("http://")||H.videoUrl.startsWith("https://")||H.videoUrl.startsWith("data:video/"))&&Q.push({url:H.videoUrl,alt:H.title||`Video from ${H.kind}`,type:H.kind,itemId:H.id,itemTitle:H.title}),Array.isArray(H.images)&&H.images.forEach((V,re)=>{typeof V=="string"&&(V.toLowerCase().match(/\.(mp4|mov|avi|mkv|webm|flv|wmv|m4v|3gp|ogv)$/)||V.startsWith("data:video/"))&&Q.push({url:V,alt:`${H.title||H.kind} video ${re+1}`,type:H.kind,itemId:H.id,itemTitle:H.title}),typeof V=="object"&&(V!=null&&V.base64url)&&(V.base64url.toLowerCase().match(/\.(mp4|mov|avi|mkv|webm|flv|wmv|m4v|3gp|ogv)$/)||V.base64url.startsWith("data:video/")||V.type==="video")&&Q.push({url:V.base64url,alt:V.name||`${H.title||H.kind} video`,type:H.kind,itemId:H.id,itemTitle:H.title})}),Array.isArray(H.attachments)&&H.attachments.forEach((V,re)=>{typeof V=="object"&&(V!=null&&V.base64url)&&(V.base64url.toLowerCase().match(/\.(mp4|mov|avi|mkv|webm|flv|wmv|m4v|3gp|ogv)$/)||V.base64url.startsWith("data:video/")||V.type==="video")&&Q.push({url:V.base64url,alt:V.name||`${H.title||H.kind} video ${re+1}`,type:H.kind,itemId:H.id,itemTitle:H.title})})}),Q},[Ue,xt]=u.useState([]),[Oe,Ee]=u.useState(!1),[ee,de]=u.useState([]),[ue,_e]=u.useState(0),Xe=D=>{const Q=Ue.map(H=>H.url);de(Q),_e(D),Ee(!0)};u.useEffect(()=>{function D(H){ht.current&&Te.current&&!ht.current.contains(H.target)&&!Te.current.contains(H.target)&&Ne(!1)}function Q(H){H.key==="Escape"&&Ne(!1)}return document.addEventListener("mousedown",D),document.addEventListener("keydown",Q),()=>{document.removeEventListener("mousedown",D),document.removeEventListener("keydown",Q)}},[]);function gt(D){const Q=[D,...Me].sort((H,V)=>new Date(V.isoStart)-new Date(H.isoStart));he(Q)}function wt(D){return ve(this,null,function*(){if(!oe)return ye._showPopUp("login_prompt");yield Le.post(`/users/${t}/block`,{note:D}),i(Q=>{const H=me(ne({},Q),{block:me(ne({},(Q==null?void 0:Q.block)||{}),{iBlockedThem:!0,status:"i_blocked"})});return["connected","outgoing_pending","incoming_pending","pending","pending_outgoing","pending_incoming"].includes(Q==null?void 0:Q.connectionStatus)&&(H.connectionStatus="none"),H}),ce.success("User blocked")})}function vt(){return ve(this,null,function*(){if(!oe)return ye._showPopUp("login_prompt");yield Le.delete(`/users/${t}/block`),i(D=>{const Q=me(ne({},D),{block:me(ne({},(D==null?void 0:D.block)||{}),{iBlockedThem:!1,status:"none"})});return(D==null?void 0:D.connectionStatus)==="blocked"&&(Q.connectionStatus="none"),Q}),ce.success("User unblocked")})}function ct(D){return ve(this,null,function*(){if(!oe)return ye._showPopUp("login_prompt");yield Le.post("/reports",{targetType:"user",targetId:t,description:D}),ce.success("Report submitted. Thanks for keeping the community safe.")})}function Ze(D){return ve(this,null,function*(){var Q,H;if(!oe)return ye._showPopUp("login_prompt");try{yield Le.delete(`/connections/${t}`,{data:{note:D}}),i(V=>me(ne({},V),{connectionStatus:"none"}))}catch(V){console.error(V),ce.error(((H=(Q=V==null?void 0:V.response)==null?void 0:Q.data)==null?void 0:H.message)||"Failed to remove connection")}})}const dt=!!((ze=a==null?void 0:a.block)!=null&&ze.iBlockedThem),yt=D=>{var Q,H,V,re,ge,We,ot,Ce,pe,je,we,Re;return D.kind==="job"?n.jsx(Ad,{type:"grid",matchPercentage:D.matchPercentage,job:me(ne({},D),{categoryName:(Q=I.find(He=>String(He.id)===String(D.categoryId)))==null?void 0:Q.name,subcategoryName:(re=(V=(H=I.find(He=>String(He.id)===String(D.categoryId)))==null?void 0:H.subcategories)==null?void 0:V.find(He=>String(He.id)===String(D.subcategoryId)))==null?void 0:re.name})},`job-${D.id}`):D.kind==="need"?n.jsx(ic,{type:"grid",matchPercentage:D.matchPercentage,need:me(ne({},D),{categoryName:(ge=I.find(He=>String(He.id)===String(D.categoryId)))==null?void 0:ge.name,subcategoryName:(Ce=(ot=(We=I.find(He=>String(He.id)===String(D.categoryId)))==null?void 0:We.subcategories)==null?void 0:ot.find(He=>String(He.id)===String(D.subcategoryId)))==null?void 0:Ce.name})},`need-${D.id}`):D.kind==="service"?n.jsx(lw,{type:"grid",item:D,matchPercentage:D.matchPercentage,currentUserId:oe==null?void 0:oe.id},`service-${D.id}`):D.kind==="product"?n.jsx(cw,{type:"grid",item:D,matchPercentage:D.matchPercentage,currentUserId:oe==null?void 0:oe.id},`product-${D.id}`):D.kind==="moment"?n.jsx(oc,{type:"grid",matchPercentage:D.matchPercentage,moment:me(ne({},D),{categoryName:(pe=I.find(He=>String(He.id)===String(D.categoryId)))==null?void 0:pe.name,subcategoryName:(Re=(we=(je=I.find(He=>String(He.id)===String(D.categoryId)))==null?void 0:je.subcategories)==null?void 0:we.find(He=>String(He.id)===String(D.subcategoryId)))==null?void 0:Re.name})},`moment-${D.id}`):D.kind==="tourism"?n.jsx(dw,{type:"grid",item:D,matchPercentage:D.matchPercentage,currentUserId:oe==null?void 0:oe.id},`tourism-${D.id}`):D.kind==="funding"?n.jsx(uw,{type:"grid",item:D,matchPercentage:D.matchPercentage,currentUserId:oe==null?void 0:oe.id},`funding-${D.id}`):n.jsx(Xu,{type:"grid",item:D,e:D,matchPercentage:D.matchPercentage},`event-${D.id}`)};function Ie(){return a?a.connectionStatus==="outgoing_pending"?n.jsx("button",{className:"col-span-1 rounded-lg px-3 py-2 text-sm font-medium bg-yellow-100 text-yellow-700 cursor-default",children:"Pending request"}):a.connectionStatus==="incoming_pending"?n.jsxs("button",{onClick:D=>{D.stopPropagation(),ie("/notifications")},className:"col-span-1 items-center flex justify-center rounded-lg px-3 py-2 text-sm font-medium bg-brand-100 text-brand-600 cursor-pointer",children:[n.jsx(Lo,{size:16,className:"mr-1"}),"Respond"]}):a.connectionStatus==="connected"?n.jsx("div",{className:"col-span-1",children:n.jsx("button",{onClick:()=>{e.stopPropagation(),p(!0)},title:"Connected — click to remove","aria-label":"Connected. Click to remove connection",className:`group/conn w-full inline-flex items-center justify-center rounded-lg px-3 py-2 text-sm font-semibold\r
                       bg-green-100 text-green-700 border border-green-200\r
                       hover:bg-red-50 hover:text-red-700 hover:border-red-300\r
                       focus:outline-none focus:ring-2 focus:ring-red-500/30\r
                       transition-all duration-200`,children:n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(X2,{size:14,className:"block group-hover/conn:hidden group-focus/conn:hidden"}),n.jsx(ew,{size:14,className:"hidden group-hover/conn:block group-focus/conn:block"}),n.jsx("span",{className:"block group-hover/conn:hidden group-focus/conn:hidden",children:"Connected"}),n.jsx("span",{className:"hidden group-hover/conn:block group-focus/conn:block",children:"Remove"}),n.jsxs("span",{className:"ml-1 inline-flex items-center",children:[n.jsx(On,{size:12,className:"block group-hover/conn:hidden group-focus/conn:hidden text-gray-500","aria-hidden":"true"}),n.jsx("span",{className:"hidden group-hover/conn:inline group-focus/conn:inline text-[10px] leading-none text-gray-500",children:"tap to remove"})]})]})})}):n.jsx("button",{onClick:q,className:"col-span-1 rounded-lg px-3 py-2 text-sm font-medium text-white bg-brand-500 hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500/30 transition-colors",children:"Connect"}):null}return n.jsx(ti,{children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(an,{}),n.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6",children:[r&&n.jsx(QTe,{}),c&&n.jsx(ml,{onRetry:()=>{d(!1),f.current&&clearTimeout(f.current),f.current=null,rt()},message:"Failed to load profile. Please try again.",buttonText:"Try Again"}),!r&&!o&&a&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm  mb-6",children:[a.coverImage?n.jsxs("div",{className:"h-32 relative rounded-t-xl overflow-hidden cursor-pointer",onClick:()=>Je(!0),children:[n.jsx("img",{src:a.coverImage,alt:`${a.name}'s cover`,className:"w-full h-full object-cover object-center"}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/2 bg-gradient-to-t from-black/60 via-black/30 to-transparent"})]}):n.jsx("div",{className:"bg-gradient-to-r rounded-xl from-brand-700 to-brand-500 h-32"}),n.jsx("div",{className:"px-6 pb-6 relative",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between -mt-16 gap-4 mb-6",onClick:()=>Je(!0),children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-4 flex-1",onClick:D=>{D.stopPropagation()},children:[n.jsxs("div",{className:"relative",children:[a.avatarUrl?n.jsx("div",{className:`${a.accountType==="company"?"h-32 w-32 rounded-md":"h-32 w-32 rounded-full"} border-4 border-white shadow-lg bg-white flex justify-center items-center overflow-hidden cursor-pointer hover:opacity-90 transition-opacity`,onClick:D=>{D.stopPropagation(),Ve(!0)},role:"button",tabIndex:0,onKeyDown:D=>{(D.key==="Enter"||D.key===" ")&&(D.stopPropagation(),D.preventDefault(),Ve(!0))},"aria-label":`View ${a.name}'s profile picture`,children:n.jsx("img",{src:a.avatarUrl,alt:a.name,className:"w-full h-full",style:{objectFit:a.accountType==="company"?"contain":"cover"}})}):n.jsx("div",{className:`${a.accountType==="company"?"h-32 w-32 rounded-md":"h-32 w-32 rounded-full"} border-4 border-white shadow-lg bg-brand-50 grid place-items-center overflow-hidden`,children:n.jsx("span",{className:"font-semibold text-brand-600 text-xl",children:mu(a.name)})}),a.companyMemberships&&a.companyMemberships.length>0&&n.jsxs("div",{className:"absolute -bottom-2 -right-2 flex -space-x-2",children:[[...a.companyMemberships].sort((D,Q)=>(Q.isMain?1:0)-(D.isMain?1:0)).slice(0,3).map((D,Q)=>D.company.avatarUrl?n.jsx("img",{src:D.company.avatarUrl,alt:D.company.name,className:`h-7 w-7 rounded-full border-2 border-white shadow-sm object-cover ${D.isMain?"ring-2 ring-brand-400":""}`,title:`${D.company.name} (${D.role})`},D.companyId):n.jsx("div",{className:`h-7 w-7 rounded-full border-2 border-white shadow-sm bg-gray-100 flex items-center justify-center text-xs font-medium text-gray-600 ${D.isMain?"ring-2 ring-brand-400":""}`,title:`${D.company.name} (${D.role})`,children:mu(D.company.name)},D.companyId)),a.companyMemberships.length>3&&n.jsxs("div",{className:"h-7 w-7 rounded-full border-2 border-white shadow-sm bg-gray-100 flex items-center justify-center text-xs font-medium text-gray-600 z-10",children:["+",a.companyMemberships.length-3]})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[n.jsx("h1",{className:`${a.accountType==="company"?"text-3xl":"text-2xl"} font-bold text-white drop-shadow-lg max-md:text-black`,children:a.name}),a.accountType&&n.jsx(zg,{tone:a.accountType==="company"?"blue":"gray",children:a.accountType==="company"?"Company":"Individual"}),a.primaryIdentity&&n.jsx(zg,{tone:"brand",children:a.primaryIdentity}),a.experienceLevel&&n.jsx(zg,{tone:"gray",children:a.experienceLevel})]}),a.accountType==="company"?n.jsxs("div",{className:"mb-2 px-4 py-2 bg-white rounded-lg shadow-sm border",children:[n.jsx("p",{className:"text-gray-900 text-lg font-semibold mb-2",children:a.professionalTitle||(a.categories&&a.categories.length>0?a.categories.join(", "):"Company")}),a.categories&&a.categories.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.categories.map((D,Q)=>n.jsx(zg,{tone:"brand",children:D},`cat-${Q}`)),a.subcategories&&a.subcategories.map((D,Q)=>n.jsx(zg,{tone:"gray",children:D},`subcat-${Q}`))]})]}):n.jsx("div",{className:"mb-2 px-4 py-2 bg-white rounded-lg shadow-sm border",children:n.jsx("p",{className:"text-gray-900 text-lg font-semibold",children:a.professionalTitle||a.title||"—"})}),(a.city||a.country)&&n.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[n.jsx(gn,{size:14,className:""}),n.jsx("span",{children:HTe(a.city,a.country)})]})]})]}),n.jsxs("div",{className:"flex gap-3 mt-4 md:mt-0",onClick:D=>{D.stopPropagation()},children:[n.jsxs("div",{className:"relative",children:[n.jsx("button",{ref:ht,onClick:D=>{D.stopPropagation(),Ne(Q=>!Q)},className:"border border-gray-300 hover:bg-gray-50 text-gray-700 px-4 py-2.5 rounded-lg flex items-center gap-2 transition font-medium",children:n.jsx(Qs,{size:16})}),le&&n.jsx(GTe,{profile:a,shareMenuRef:Te,setShareOpen:Ne})]}),(oe==null?void 0:oe.id)!=(a==null?void 0:a.id)&&n.jsx("button",{onClick:D=>{if(D.stopPropagation(),!oe){ye._showPopUp("login_prompt");return}ie(`/messages?userId=${t}`),ce.success("Starting conversation with "+a.name)},className:"border border-gray-300 hover:bg-gray-50 text-gray-700 px-4 py-2.5 rounded-lg flex items-center gap-2 transition font-medium",children:n.jsx(Rs,{size:16})}),(a==null?void 0:a.connectionStatus)=="connected"&&!((qe=a==null?void 0:a.block)!=null&&qe.iBlockedThem)&&!((it=a==null?void 0:a.block)!=null&&it.theyBlockedMe)&&n.jsx("button",{onClick:D=>{D.stopPropagation()},className:"border border-brand-200 hover:bg-brand-50 text-brand-700 px-4 py-2.5 rounded-lg flex items-center gap-2 transition font-medium",children:n.jsx(To,{size:16})}),(oe==null?void 0:oe.id)!=(a==null?void 0:a.id)&&Ie()]})]})})]}),a.about&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"About"}),n.jsxs("div",{className:"space-y-6 text-gray-600 text-sm leading-relaxed",children:[n.jsx("p",{children:a.about}),n.jsxs("div",{className:"border-t border-gray-100 pt-6",children:[a.professionalTitle&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("p",{className:"text-gray-900 font-semibold mb-2 flex items-center gap-2",children:[n.jsx("span",{className:"text-blue-600",children:"→"}),a.accountType==="company"?"What we do":"What I do"]}),n.jsx("p",{className:"text-gray-700",children:a.professionalTitle})]}),Array.isArray(a.lookingFor)&&a.lookingFor.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("p",{className:"text-gray-900 font-semibold mb-2 flex items-center gap-2",children:[n.jsx("span",{className:"text-blue-600",children:"🔍"}),"Looking for"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:a.lookingFor.map((D,Q)=>n.jsx("span",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-sm",children:D},`looking-${Q}`))})]}),Array.isArray(a.identities)&&a.identities.length>0&&(!Array.isArray(a.lookingFor)||!a.lookingFor.some(D=>a.identities.includes(D)))&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("p",{className:"text-gray-900 font-semibold mb-2 flex items-center gap-2",children:[n.jsx("span",{className:"text-purple-600",children:"✦"}),a.accountType==="company"?"Company focuses":"Focus areas"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:a.identities.map((D,Q)=>n.jsx("span",{className:"bg-purple-50 text-purple-700 px-3 py-1 rounded-full text-sm",children:D},`identity-${Q}`))})]}),((Ae=a.interests)==null?void 0:Ae.categories)&&a.interests.categories.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("p",{className:"text-gray-900 font-semibold mb-2 flex items-center gap-2",children:[n.jsx("span",{className:"text-green-600",children:"★"}),"Interested in"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:a.interests.categories.map((D,Q)=>n.jsx("span",{className:"bg-green-50 text-green-700 px-3 py-1 rounded-full text-sm",children:D},`cat-int-${Q}`))})]}),((Ge=a.interests)==null?void 0:Ge.subcategories)&&a.interests.subcategories.length>0&&n.jsx("div",{className:"mb-4",children:n.jsx("div",{className:"flex flex-wrap gap-2",children:a.interests.subcategories.map((D,Q)=>n.jsx("span",{className:"bg-gray-50 text-gray-700 px-3 py-1 rounded-full text-sm",children:D},`sub-int-${Q}`))})}),(((Ye=a.cats)==null?void 0:Ye.length)||((Et=a.subs)==null?void 0:Et.length))&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("p",{className:"text-gray-900 font-semibold mb-2 flex items-center gap-2",children:[n.jsx("span",{className:"text-indigo-600",children:"◆"}),"Expertise & interests"]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[(a.cats||[]).map(D=>n.jsx("span",{className:"bg-brand-50 text-brand-700 px-3 py-1 rounded-full text-sm",children:D},`cat-${D}`)),(a.subs||[]).map(D=>n.jsx("span",{className:"bg-gray-50 text-gray-700 px-3 py-1 rounded-full text-sm",children:D},`sub-${D}`))]})]}),Array.isArray(a.subsubs)&&a.subsubs.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("p",{className:"text-gray-900 font-semibold mb-2 flex items-center gap-2",children:[n.jsx("span",{className:"text-amber-600",children:"◈"}),"Specialties"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:[...new Set(a.subsubs)].map((D,Q)=>n.jsx("span",{className:"bg-amber-50 text-amber-700 px-3 py-1 rounded-full text-sm",children:D},`s3-${Q}`))})]}),a.accountType==="company"&&a.skills&&a.skills.length>0&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-gray-900 font-semibold mb-2 flex items-center gap-2",children:[n.jsx("span",{className:"text-emerald-600",children:"●"}),"Company expertise"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:a.skills.map((D,Q)=>n.jsx("span",{className:"bg-emerald-50 text-emerald-700 px-3 py-1 rounded-full text-sm",children:D},`skill-${Q}`))})]})]})]})]}),(a.email||a.website||Array.isArray(a.links)&&a.links.length)&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Contact Information"}),n.jsxs("div",{className:"space-y-3",children:[a.email&&n.jsxs("div",{className:"flex items-center gap-3 text-gray-600 text-sm",children:[n.jsx(sh,{size:16,className:"text-gray-400"}),n.jsx("span",{children:a.email})]}),a.website&&n.jsxs("div",{className:"flex items-center gap-3 text-gray-600 text-sm",children:[n.jsx(so,{size:16,className:"text-gray-400"}),n.jsx("a",{href:a.website,target:"_blank",rel:"noreferrer",className:"text-brand-700 hover:text-brand-800",children:a.website})]}),Array.isArray(a.links)&&a.links.map((D,Q)=>n.jsxs("div",{className:"flex items-center gap-3 text-gray-600 text-sm",children:[n.jsx(Lo,{size:16,className:"text-gray-400"}),n.jsx("a",{href:D,target:"_blank",rel:"noreferrer",className:"text-brand-700 hover:text-brand-800 truncate",children:D})]},Q))]})]}),Array.isArray(a.skills)&&a.skills.length>0||$e.length>0?n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Array.isArray(a.skills)&&a.skills.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(kH,{size:18,className:"text-brand-600"}),"Skills"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:a.skills.map((D,Q)=>n.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm",children:D},`${D}-${Q}`))})]}),$e.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(EH,{size:18,className:"text-brand-600"}),a.accountType==="company"?"Working Languages":"Languages"]}),n.jsx("div",{className:"space-y-2",children:$e.map((D,Q)=>n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-700 text-sm",children:D.name}),n.jsx("span",{className:"text-gray-500 text-xs",children:D.level})]},`${D.name}-${Q}`))})]})]})}):null,Array.isArray(a.workSamples)&&a.workSamples.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Work Samples"}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:a.workSamples.map(D=>n.jsxs("div",{className:"group border border-gray-200 rounded-xl p-5 hover:shadow-lg hover:border-brand-200 transition-all duration-200",children:[n.jsx("div",{className:"flex items-start justify-between gap-3 mb-4",children:n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h3",{className:"font-bold text-gray-900 text-base group-hover:text-brand-700 transition-colors",children:D.title}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[D.completionDate?new Date(D.completionDate).toLocaleDateString():null,D.createdAt?` • added ${M8(D.createdAt)}`:null]})]})}),D.category&&n.jsx("div",{className:"mb-3",children:n.jsx("span",{className:"inline-flex items-center bg-brand-100 text-brand-700 px-3 py-1 rounded-full text-sm font-medium",children:D.category})}),Array.isArray(D.technologies)&&D.technologies.length>0&&n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[D.technologies.slice(0,8).map((Q,H)=>n.jsx("span",{className:"bg-gray-100 text-gray-700 px-2.5 py-1 rounded-md text-xs font-medium",children:Q},`${D.id}-tech-${H}`)),D.technologies.length>8&&n.jsxs("span",{className:"text-xs text-gray-500 px-2.5 py-1",children:["+",D.technologies.length-8," more"]})]})}),D.description&&n.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mb-4 line-clamp-3",children:D.description}),Array.isArray(D.attachments)&&D.attachments.length>0&&n.jsxs("div",{className:"mb-4 space-y-4",children:[D.attachments.filter(Q=>Q==null?void 0:Q.isImage).length>0&&n.jsxs("div",{children:[n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:D.attachments.filter(Q=>Q==null?void 0:Q.isImage).slice(0,6).map((Q,H)=>{const V=Q.base64url||Q.url;return V?n.jsx("a",{href:V,target:"_blank",rel:"noreferrer",title:Q.name||"Image",className:"block group/image",children:n.jsx("div",{className:"aspect-video rounded-lg border-2 border-gray-200 group-hover/image:border-brand-300 transition-colors overflow-hidden",children:n.jsx("img",{src:V,alt:Q.name||D.title,className:"w-full h-full object-cover group-hover/image:scale-105 transition-transform duration-200",loading:"lazy"})})},`${D.id}-img-${H}`):null})}),D.attachments.filter(Q=>Q==null?void 0:Q.isImage).length>6&&n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["+",D.attachments.filter(Q=>Q==null?void 0:Q.isImage).length-6," more images"]})]}),D.attachments.filter(Q=>!(Q!=null&&Q.isImage)).length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Documents"}),n.jsxs("div",{className:"space-y-2",children:[D.attachments.filter(Q=>!(Q!=null&&Q.isImage)).slice(0,4).map((Q,H)=>{const V=Q.base64url||Q.url||"#",re=Q.name||"document";return n.jsxs("a",{href:V,target:"_blank",rel:"noreferrer",download:re,className:"flex items-center gap-3 p-2 rounded-lg border border-gray-200 hover:border-brand-300 hover:bg-brand-50 transition-colors group/doc",title:re,children:[n.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded flex items-center justify-center flex-shrink-0",children:n.jsx(Lo,{size:14,className:"text-gray-500 group-hover/doc:text-brand-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover/doc:text-brand-700 truncate flex-1",children:re})]},`${D.id}-doc-${H}`)}),D.attachments.filter(Q=>!(Q!=null&&Q.isImage)).length>4&&n.jsxs("p",{className:"text-xs text-gray-500 ml-11",children:["+",D.attachments.filter(Q=>!(Q!=null&&Q.isImage)).length-4," more documents"]})]})]})]}),D.projectUrl&&n.jsx("div",{className:"pt-3 border-t border-gray-100",children:n.jsxs("a",{href:D.projectUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-sm font-medium text-brand-600 hover:text-brand-700 transition-colors",children:[n.jsx(Lo,{size:16}),"View Project"]})})]},D.id))})]}),Array.isArray(a.cvBase64)&&a.cvBase64.length>0&&!1,A.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[n.jsxs("div",{className:"md:flex items-center justify-between mb-4",children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2 max-md:mb-4",children:[n.jsx(yH,{size:20,className:"text-brand-600"}),"Posts and activities"]}),n.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[n.jsxs("button",{onClick:()=>Y("posts"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${J==="posts"?"bg-white text-brand-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Posts (",A.length,")"]}),n.jsxs("button",{onClick:()=>Y("images"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${J==="images"?"bg-white text-brand-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Images ",T.length+B.length>0&&`(${T.length+B.length})`]}),n.jsxs("button",{onClick:()=>Y("videos"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${J==="videos"?"bg-white text-brand-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Videos (",Ue.length,")"]})]})]}),n.jsx("div",{className:"space-y-4",children:N?n.jsx("div",{className:"text-sm text-gray-600",children:"Loading content..."}):n.jsxs(n.Fragment,{children:[J==="posts"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:L?v.map(yt):A.slice(0,4).map(yt)}),A.length>4&&n.jsx("div",{className:"flex justify-center pt-2",children:n.jsxs("button",{onClick:()=>C(!L),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-brand-600 bg-brand-50 hover:bg-brand-100 rounded-lg transition-colors duration-200",children:[n.jsx("span",{children:L?"View Less":`View All ${A.length} posts`}),n.jsx(Lo,{size:16,className:`transition-transform duration-200 ${L?"rotate-180":""}`})]})})]}),J==="images"&&n.jsx(n.Fragment,{children:M?n.jsx("div",{className:"text-sm text-gray-600",children:"Loading gallery..."}):n.jsxs(n.Fragment,{children:[T.length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[n.jsx("span",{className:"text-brand-600",children:"📸"}),"Gallery (",T.length,")"]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:T.map((D,Q)=>n.jsxs("div",{className:"group relative aspect-square rounded-lg overflow-hidden border border-gray-200 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>{[...T.map(V=>({url:V.imageUrl,alt:V.title||"Gallery image",type:"gallery",itemId:V.id,itemTitle:V.title||"Gallery image"})),...B],O(Q)},children:[n.jsx("img",{src:D.imageUrl,alt:D.title||"Gallery image",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",loading:"lazy"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-end p-3",children:n.jsxs("div",{className:"text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("div",{className:"font-medium",children:"Gallery"}),n.jsx("div",{className:"truncate",children:D.title||"Gallery image"})]})})]},`gallery-${D.id}`))})]}),B.length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[n.jsx("span",{className:"text-brand-600",children:"📱"}),"From Posts (",B.length,")"]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:B.map((D,Q)=>n.jsxs("div",{className:"group relative aspect-square rounded-lg overflow-hidden border border-gray-200 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>{[...T.map(V=>({url:V.imageUrl,alt:V.title||"Gallery image",type:"gallery",itemId:V.id,itemTitle:V.title||"Gallery image"})),...B];const H=T.length+Q;O(H)},children:[n.jsx("img",{src:D.url,alt:D.alt,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",loading:"lazy"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-end p-3",children:n.jsxs("div",{className:"text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("div",{className:"font-medium capitalize",children:D.type}),n.jsx("div",{className:"truncate",children:D.itemTitle})]})})]},`${D.itemId}-${Q}`))})]}),T.length===0&&B.length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx("div",{className:"text-sm",children:"No images found"}),n.jsx("div",{className:"text-xs mt-1",children:"Images from posts and gallery will appear here"})]})]})}),J==="videos"&&n.jsx(n.Fragment,{children:N?n.jsx("div",{className:"text-sm text-gray-600",children:"Loading videos..."}):n.jsx(n.Fragment,{children:Ue.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ue.map((D,Q)=>n.jsx("div",{className:"group relative aspect-video rounded-lg overflow-hidden border border-gray-200 hover:shadow-lg transition-shadow cursor-pointer bg-black",onClick:()=>Xe(Q),children:n.jsxs("div",{className:"relative w-full h-full",children:[n.jsx("video",{src:D.url,className:"w-full h-full object-cover opacity-80 group-hover:opacity-60 transition-opacity",preload:"metadata"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-90 rounded-full flex items-center justify-center group-hover:bg-opacity-100 transition-all",children:n.jsx("svg",{className:"w-6 h-6 text-gray-900 ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M8 5v14l11-7z"})})})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-3",children:n.jsxs("div",{className:"text-white text-xs",children:[n.jsx("div",{className:"font-medium capitalize truncate",children:D.type}),n.jsx("div",{className:"truncate opacity-90",children:D.itemTitle||"Video"})]})})]})},`${D.itemId}-${Q}`))}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Zi,{size:48,className:"mx-auto mb-3 text-gray-300"}),n.jsx("div",{className:"text-sm",children:"No videos found"}),n.jsx("div",{className:"text-xs mt-1",children:"Videos from posts will appear here"})]})})})]})})]}),Object.keys(a.stats).some(D=>a.stats[D])&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Yu,{size:20,className:"text-brand-600"}),"Overview"]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:(()=>{var V,re,ge,We,ot,Ce,pe,je,we,Re,He,et;const D=[],Q=a.counts||{},H=(pt,be)=>{be&&D.push(n.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"font-bold text-brand-600 text-lg",children:be}),n.jsx("p",{className:"text-gray-500 text-xs",children:pt})]},pt))};return H("Jobs",(re=Q.jobs)!=null?re:(V=a.stats)==null?void 0:V.jobs),H("Events",(We=Q.events)!=null?We:(ge=a.stats)==null?void 0:ge.events),H("Funding",(Ce=Q.funding)!=null?Ce:(ot=a.stats)==null?void 0:ot.funding),H("Services",(pe=Q.services)!=null?pe:a.stats.services),H("Products",(we=Q.products)!=null?we:(je=a.stats)==null?void 0:je.products),H("Tourism posts",(He=Q.tourism)!=null?He:(Re=a.stats)==null?void 0:Re.tourism),H("Connections",(et=a.stats)==null?void 0:et.connections),D})()})]}),n.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 mb-6 ${(oe==null?void 0:oe.id)==(a==null?void 0:a.id)?"hidden":""}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(To,{size:20,className:"text-brand-600"}),"Meetings"]}),(a==null?void 0:a.connectionStatus)=="connected"&&!((Ot=a==null?void 0:a.block)!=null&&Ot.iBlockedThem)&&!((ft=a==null?void 0:a.block)!=null&&ft.theyBlockedMe)&&n.jsxs("button",{onClick:Se,className:"inline-flex items-center gap-2 px-3 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 transition-colors text-sm",children:[n.jsx(To,{size:16}),"Request Meeting"]})]}),Me.length>0?n.jsx("div",{className:"space-y-3",children:Me.map(D=>{var We,ot,Ce,pe,je,we,Re,He,et,pt,be;const Q=Date.now();let H,V,re;try{const De=new Date(D.isoStart);if(isNaN(De.getTime()))re="Upcoming";else{H=De.getTime();const st=YTe(D.isoStart,Number(D.duration)||30);V=st?new Date(st).getTime():H+(Number(D.duration)||30)*60*1e3,re=Q<H?"Upcoming":Q>V?"Ended":"Ongoing"}}catch(De){re="Upcoming"}const ge=((We=D.participants)==null?void 0:We.some(De=>De.id===(oe==null?void 0:oe.id)))||((ot=D.from)==null?void 0:ot.id)===(oe==null?void 0:oe.id)||((Ce=D.to)==null?void 0:Ce.id)===(oe==null?void 0:oe.id);return n.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition",children:n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"font-semibold text-sm text-gray-900 truncate",children:D.title||"Untitled meeting"}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${re==="Upcoming"?"bg-blue-100 text-blue-700":re==="Ongoing"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:re}),!ge&&n.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-700",children:"Observer"})]}),n.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:[JTe(D.isoStart,D.timezone,D.duration)," • ",D.mode==="video"?"Online":"In person"]}),n.jsxs("div",{className:"flex items-center gap-4 mb-2 text-xs text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{children:"Organized by:"}),n.jsxs("button",{onClick:()=>{var De;return ie(`/profile/${(De=D.from)==null?void 0:De.id}`)},className:"text-brand-600 hover:text-brand-700 font-medium flex items-center gap-1",children:[(pe=D.from)!=null&&pe.avatarUrl?n.jsx("img",{src:D.from.avatarUrl,alt:D.from.name,className:"w-4 h-4 rounded-full"}):n.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-200 flex items-center justify-center text-xs",children:mu((je=D.from)==null?void 0:je.name)}),(we=D.from)==null?void 0:we.name]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{children:"For:"}),n.jsxs("button",{onClick:()=>{var De;return ie(`/profile/${(De=D.to)==null?void 0:De.id}`)},className:"text-brand-600 hover:text-brand-700 font-medium flex items-center gap-1",children:[(Re=D.to)!=null&&Re.avatarUrl?n.jsx("img",{src:D.to.avatarUrl,alt:D.to.name,className:"w-4 h-4 rounded-full"}):n.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-200 flex items-center justify-center text-xs",children:mu((He=D.to)==null?void 0:He.name)}),(et=D.to)==null?void 0:et.name]})]})]}),D.mode==="in_person"&&D.location?n.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["📍 ",D.location]}):null,D.mode==="video"&&D.link?n.jsxs("div",{className:"text-xs text-gray-500 mb-2 truncate",children:["🔗 ",D.link]}):null,D.agenda?n.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["📝 ",D.agenda]}):null,n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex -space-x-2",children:D.participants&&D.participants.map((De,st)=>n.jsx("button",{onClick:()=>ie(`/profile/${De.id}`),className:"transition-transform hover:scale-110 hover:z-10",title:De.name,children:De!=null&&De.avatarUrl?n.jsx("img",{src:De.avatarUrl,alt:De.name,className:"h-6 w-6 rounded-full border-2 border-white"}):n.jsx("div",{className:"h-6 w-6 rounded-full border-2 border-white bg-gray-200 flex items-center justify-center text-xs font-medium text-gray-600",children:mu(De.name)})},De.id))}),n.jsxs("span",{className:"text-xs text-gray-500",children:[((pt=D.participants)==null?void 0:pt.length)||0," participant",((be=D.participants)==null?void 0:be.length)!==1?"s":""]})]}),n.jsx("div",{className:"hidden sm:block mt-2",children:n.jsx("div",{className:"flex flex-wrap gap-1 text-xs text-gray-600",children:D.participants&&D.participants.map((De,st)=>n.jsxs("button",{onClick:()=>ie(`/profile/${De.id}`),className:"text-brand-600 hover:text-brand-700 transition-colors",children:[De.name,st<D.participants.length-1?",":""]},De.id))})})]})]}),n.jsx("div",{className:"shrink-0 flex items-center gap-2",children:D.mode==="video"?n.jsx("a",{href:D.link||"#",target:"_blank",rel:"noreferrer",title:"Open call link",className:"inline-flex items-center justify-center rounded-md px-3 py-1.5 text-xs font-medium bg-brand-500 text-white hover:bg-brand-600",onClick:De=>{},children:"Join"}):D.location?n.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(D.location)}`,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-md px-3 py-1.5 text-xs font-medium bg-brand-50 text-brand-700 hover:bg-brand-100",children:"Open Map"}):null})]})},D.id)})}):n.jsxs("div",{className:"text-center py-4",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"No meetings yet."}),a.connectionStatus==="connected"&&n.jsxs("button",{onClick:Se,className:"inline-flex items-center gap-2 px-3 py-1.5 bg-brand-600 text-white rounded-lg hover:bg-brand-700 transition-colors text-sm",children:[n.jsx(To,{size:16}),"Request Meeting"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mt-6",children:[n.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Member since ",new Date(a.memberSince).toLocaleDateString()," • ",M8(a.memberSince)]}),n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[oe&&n.jsxs("button",{onClick:()=>dt?vt():y(!0),className:`inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all
                    ${dt?"border border-red-300 text-red-700 bg-red-50 hover:bg-red-100":"border border-gray-300 text-gray-700 bg-white hover:border-red-300 hover:text-red-700 hover:bg-red-50"}`,"aria-label":dt?"Unblock user":"Block user",title:dt?"Unblock user":"Block user",children:[n.jsx(IH,{size:16}),n.jsx("span",{children:dt?"Unblock user":"Block user"})]}),n.jsxs("button",{onClick:()=>b(!0),className:"inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 text-gray-700 bg-white hover:border-amber-300 hover:text-amber-700 hover:bg-amber-50 transition-all","aria-label":"Report user",title:"Report user",children:[n.jsx(Si,{size:16}),n.jsx("span",{children:"Report user"})]})]})]})]})]}),n.jsx(bs,{open:h,onClose:()=>g(!1),toUserId:t,toName:a==null?void 0:a.name,onSent:()=>{i(me(ne({},a),{connectionStatus:"outgoing_pending"}))}}),n.jsx(ZTe,{open:G,onClose:()=>ae(!1),toUserId:t,toName:a==null?void 0:a.name,onCreated:D=>{gt(D)}}),n.jsx(is,{open:m,onClose:()=>p(!1),title:"Remove this connection?",text:"This action will remove the connection. You can send a new request later.",confirmText:"Remove",cancelText:"Cancel",tone:"danger",withInput:!0,inputLabel:"Optional reason",inputPlaceholder:"Why are you removing this connection?",inputType:"textarea",requireValue:!1,onConfirm:Ze,onResult:D=>{ce.success("Connection removed")}}),n.jsx(is,{open:x,onClose:()=>y(!1),title:"Block this user?",text:"They won't be able to message or connect with you. Any connection and pending requests will be removed.",confirmText:"Block",cancelText:"Cancel",tone:"danger",withInput:!0,inputLabel:"Optional note",inputPlaceholder:"Why are you blocking this user?",inputType:"textarea",requireValue:!1,onConfirm:wt}),n.jsx(is,{open:w,onClose:()=>b(!1),title:"Report this user?",text:"Tell us what's going on. Our team will review.",confirmText:"Submit report",cancelText:"Cancel",tone:"default",withInput:!0,inputLabel:"Report details",inputPlaceholder:"Describe the issue (spam, harassment, impersonation, etc.)",inputType:"textarea",requireValue:!0,onConfirm:ct}),n.jsx(Mb,{isOpen:Fe,onClose:()=>Ve(!1),mediaUrl:a==null?void 0:a.avatarUrl,mediaType:"image",alt:`${a==null?void 0:a.name}'s profile picture`}),n.jsx(Mb,{isOpen:ut,onClose:()=>Je(!1),mediaUrl:a==null?void 0:a.coverImage,mediaType:"image",alt:`${a==null?void 0:a.name}'s cover image`}),Oe&&ee.length>0&&n.jsx(Td,{urls:ee,initialIndex:ue,onClose:()=>{Ee(!1),de([]),_e(0)}}),te&&z.length>0&&n.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-black bg-opacity-90",children:n.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full mx-4",children:[n.jsx("button",{onClick:U,className:"absolute top-4 right-4 z-20 text-white hover:text-gray-300 transition-colors bg-black bg-opacity-50 hover:bg-opacity-70 rounded-full p-2","aria-label":"Close image slider",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsxs("div",{className:"relative aspect-video bg-black rounded-lg overflow-hidden",children:[n.jsx("img",{src:z[X].url,alt:z[X].alt,className:"w-full h-full object-contain"}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4",children:n.jsxs("div",{className:"text-white",children:[n.jsx("div",{className:"text-sm font-medium capitalize",children:z[X].type}),n.jsx("div",{className:"text-sm opacity-90 truncate",children:z[X].itemTitle})]})})]}),z.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:se,className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 text-white hover:text-gray-300 transition-colors bg-black bg-opacity-50 hover:bg-opacity-70 rounded-full p-2","aria-label":"Previous image",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsx("button",{onClick:Z,className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 text-white hover:text-gray-300 transition-colors bg-black bg-opacity-50 hover:bg-opacity-70 rounded-full p-2","aria-label":"Next image",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),n.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 text-white text-sm bg-black bg-opacity-70 px-3 py-1 rounded-full",children:[X+1," of ",z.length]}),z.length>1&&n.jsx("div",{className:"absolute flex-wrap max-md:hidden bottom-16 left-1/2 -translate-x-1/2 z-10 flex gap-2 max-w-2xl overflow-x-auto",children:z.map((D,Q)=>n.jsx("button",{onClick:()=>W(Q),className:`flex-shrink-0 w-16 h-12 rounded border-2 transition-all ${Q===X?"border-white opacity-100":"border-gray-400 opacity-60 hover:opacity-80"}`,children:n.jsx("img",{src:D.url,alt:D.alt,className:"w-full h-full object-cover rounded"})},`${D.itemId}-${Q}`))})]})})]})})}const XTe="/assets/logo-icon-DIY8H_gB.png",e5e={logo:()=>n.jsx("svg",{className:"h-5 w-5 text-white flex-shrink-0",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M9 21V8H4l8-6 8 6h-5v13z"})}),grid:()=>n.jsx("svg",{className:"h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M3 3h8v8H3zM13 3h8v8h-8zM3 13h8v8H3zM13 13h8v8h-8z"})}),users:()=>n.jsx("svg",{className:"h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M16 11a4 4 0 1 0-4-4 4 4 0 0 0 4 4ZM2 20a6 6 0 0 1 12 0v1H2Z"})}),flag:()=>n.jsxs("svg",{className:"h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"M4 3h12l-1.5 4H20l-2 6H8l-1.5-4H4z"}),n.jsx("path",{d:"M4 3v18"})]}),chart:()=>n.jsxs("svg",{className:"h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"M3 20h18v2H3z"}),n.jsx("path",{d:"M7 18V8h3v10H7zm7 0V4h3v14h-3zM12 18v-6h3v6h-3z"})]}),gear:()=>n.jsxs("svg",{className:"h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"m12 2 2 2 3-1 2 3-2 2 1 3-3 2v3l-3 1-2-2-3 1-2-3 2-2-1-3 3-2V6z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3",fill:"#fff"})]}),bell:()=>n.jsx("svg",{className:"h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12 22a2.5 2.5 0 0 0 2.45-2H9.55A2.5 2.5 0 0 0 12 22ZM18 16v-5a6 6 0 1 0-12 0v5l-1.8 1.8A1 1 0 0 0 5 20h14a1 1 0 0 0 .8-1.6Z"})}),search:()=>n.jsxs("svg",{className:"h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"11",cy:"11",r:"7"}),n.jsx("path",{d:"M21 21l-3.5-3.5"})]}),mail:()=>n.jsx("svg",{className:"h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})}),help:()=>n.jsxs("svg",{className:"h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),n.jsx("path",{d:"M12 17h.01"})]})};function t5e(){const{user:t,loading:r,signOut:s}=Xt(),{pathname:a}=ys(),i=qt(),[o,l]=u.useState(!1),[c,d]=u.useState(0),[f,h]=u.useState(0),g=[{to:"/admin",label:"Dashboard",icon:"grid"},{to:"/admin/users",label:"User Management",icon:"users"},{to:"/admin/contacts",label:"Contact Management",icon:"mail",badge:f},{to:"/admin/supports",label:"Support Management",icon:"help",badge:c},{to:"/admin/content-moderation",label:"Content Moderation",icon:"flag"},{to:"/admin/notification-center",label:"Notification Center",icon:"bell"}],m=()=>ve(this,null,function*(){try{const x=yield b$();d(x.data.count||0)}catch(x){console.error("Error fetching unread supports count:",x)}}),p=()=>ve(this,null,function*(){try{const x=yield y$();h(x.data.count||0)}catch(x){console.error("Error fetching unread contacts count:",x)}});return u.useEffect(()=>{(t==null?void 0:t.accountType)!="admin"&&t&&i("/login")},[t]),u.useEffect(()=>{!r&&!t&&i("/login")},[t]),u.useEffect(()=>{const x=()=>ve(this,null,function*(){try{const[y,w]=yield Promise.all([b$(),y$()]);d(y.data.count||0),h(w.data.count||0)}catch(y){console.error("Error fetching unread counts:",y)}});if((t==null?void 0:t.accountType)==="admin"){x();const y=setInterval(x,3e4);return()=>clearInterval(y)}},[t]),u.useEffect(()=>(window.refreshUnreadSupportsCount=m,window.refreshUnreadContactsCount=p,()=>{delete window.refreshUnreadSupportsCount,delete window.refreshUnreadContactsCount}),[]),r||(t==null?void 0:t.accountType)!="admin"?n.jsx(ei,{}):(console.log({pathname:a}),n.jsxs("div",{className:"min-h-screen bg-[#F6F7FB] text-gray-900",children:[n.jsx("header",{className:"sticky top-0 z-40 bg-white border-b border-gray-200",children:n.jsxs("div",{className:"h-14 mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 flex items-center gap-4",children:[n.jsxs(Bn,{to:"/admin",className:"flex items-center gap-2",children:[n.jsx("img",{src:XTe,width:30}),n.jsxs("div",{className:"leading-tight",children:[n.jsx("div",{className:"font-semibold",children:"54Links Admin"}),n.jsx("div",{className:"text-[11px] text-gray-500 -mt-0.5",children:"Dashboard"})]})]}),n.jsx("div",{className:"ml-auto flex items-center gap-3",children:n.jsx("button",{onClick:()=>l(!0),className:"px-3 py-1.5 bg-red-500 text-white text-sm rounded-lg hover:bg-red-600 transition-colors",children:"Logout"})})]})}),n.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6 grid grid-cols-12 gap-6",children:[n.jsx("aside",{className:"col-span-12 md:col-span-3 lg:col-span-2",children:n.jsx("div",{className:"rounded-2xl border border-gray-200 bg-white p-2",children:g.map(x=>n.jsxs(lie,{to:x.to,className:({isActive:y})=>`flex items-center gap-2 px-3 py-2 rounded-lg text-sm mb-2 ${a==x.to?"bg-brand-50 text-brand-700 font-semibold":"text-gray-700 hover:bg-gray-50"}`,children:[fr.createElement(e5e[x.icon]),x.label,x.badge>0&&n.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full ml-auto",children:x.badge})]},x.label))})}),n.jsx("main",{className:"col-span-12 md:col-span-9 lg:col-span-10",children:n.jsx(DE,{})})]}),n.jsx(is,{open:o,onClose:()=>l(!1),title:"Logout Confirmation",text:"Are you sure you want to logout? You will be redirected to the login page.",confirmText:"Logout",cancelText:"Cancel",tone:"danger",onConfirm:s})]}))}const Us=({title:t,value:r,delta:s,icon:a,tone:i="gray",sub:o,loading:l=!1})=>{const c={gray:"bg-gray-50 text-gray-600",amber:"bg-amber-50 text-amber-600",green:"bg-emerald-50 text-emerald-600",rose:"bg-rose-50 text-rose-600",brand:"bg-brand-50 text-brand-700",blue:"bg-blue-50 text-blue-600"};return l?n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),n.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded-md"})]}),n.jsx("div",{className:"mt-1 h-8 bg-gray-200 rounded w-16"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-24 mt-1"})]}):n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-gray-500",children:t}),n.jsx("div",{className:`h-8 w-8 grid place-items-center rounded-md ${c[i]}`,children:a})]}),n.jsx("div",{className:"mt-1 text-2xl font-bold",children:r}),s&&n.jsx("div",{className:`text-xs mt-1 ${c[i]||c.gray}`,children:s}),o&&n.jsx("div",{className:"text-[11px] text-gray-400 mt-1",children:o})]})},r5e=({activities:t,loading:r=!1,title:s="Recent Activity"})=>r?n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded w-32 mb-4"}),n.jsx("div",{className:"max-h-96 overflow-y-auto",children:n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((a,i)=>n.jsxs("div",{className:"flex items-center py-3 animate-pulse",children:[n.jsx("div",{className:"h-4 w-4 bg-gray-200 rounded mr-3"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-1"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]},i))})})]}):n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[n.jsx("div",{className:"font-semibold mb-4",children:s}),n.jsx("div",{className:"max-h-96 overflow-y-auto",children:n.jsx("ul",{className:"divide-y divide-gray-100",children:t&&t.length>0?t.map((a,i)=>{const o=n.jsxs("li",{className:`py-3 flex items-center ${a.url,""}`,children:[n.jsx("span",{className:"mr-3 text-lg",children:a.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm font-medium",children:a.title}),n.jsx("div",{className:"text-xs text-gray-500",children:a.description})]}),n.jsx("div",{className:"text-xs text-gray-500",children:a.timestamp?new Date(a.timestamp).toLocaleString():"Just now"})]},a.id||i);return a.url,o}):n.jsx("li",{className:"py-8 text-center text-gray-500",children:"No recent activity"})})})]}),n5e=({data:t,loading:r=!1,title:s="Content Distribution"})=>{if(r)return n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded w-40 mb-4"}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsx("div",{className:"w-36 h-36 bg-gray-200 rounded-full animate-pulse"}),n.jsx("div",{className:"space-y-2",children:[...Array(6)].map((l,c)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-3 w-3 bg-gray-200 rounded"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]},c))})]})]});const a=Object.values(t||{}).reduce((l,c)=>l+(c||0),0),i=[{label:"Jobs",value:(t==null?void 0:t.jobs)||0,color:"#3B82F6",bgColor:"bg-blue-500",percentage:a>0?(((t==null?void 0:t.jobs)||0)/a*100).toFixed(1):0},{label:"Events",value:(t==null?void 0:t.events)||0,color:"#10B981",bgColor:"bg-green-500",percentage:a>0?(((t==null?void 0:t.events)||0)/a*100).toFixed(1):0},{label:"Services",value:(t==null?void 0:t.services)||0,color:"#8B5CF6",bgColor:"bg-purple-500",percentage:a>0?(((t==null?void 0:t.services)||0)/a*100).toFixed(1):0},{label:"Products",value:(t==null?void 0:t.products)||0,color:"#F97316",bgColor:"bg-orange-500",percentage:a>0?(((t==null?void 0:t.products)||0)/a*100).toFixed(1):0},{label:"Tourism",value:(t==null?void 0:t.tourism)||0,color:"#EC4899",bgColor:"bg-pink-500",percentage:a>0?(((t==null?void 0:t.tourism)||0)/a*100).toFixed(1):0},{label:"Funding",value:(t==null?void 0:t.funding)||0,color:"#6366F1",bgColor:"bg-indigo-500",percentage:a>0?(((t==null?void 0:t.funding)||0)/a*100).toFixed(1):0},{label:"Moments",value:(t==null?void 0:t.moments)||0,color:"#14B8A6",bgColor:"bg-teal-500",percentage:a>0?(((t==null?void 0:t.moments)||0)/a*100).toFixed(1):0},{label:"Needs",value:(t==null?void 0:t.needs)||0,color:"#EF4444",bgColor:"bg-red-500",percentage:a>0?(((t==null?void 0:t.needs)||0)/a*100).toFixed(1):0}].filter(l=>l.value>0),o=()=>{if(a===0)return n.jsx("div",{className:"w-36 h-36 rounded-full bg-gray-100 flex items-center justify-center text-gray-400 text-sm",children:"No Data"});let l=0;const c=i.map((d,f)=>{const h=l/100*360;l+=parseFloat(d.percentage);const g=l/100*360,m=h*Math.PI/180,p=g*Math.PI/180,x=16+16*Math.cos(m),y=16+16*Math.sin(m),w=16+16*Math.cos(p),b=16+16*Math.sin(p),v=g-h>180?1:0,j=`M 16 16 L ${x} ${y} A 16 16 0 ${v} 1 ${w} ${b} Z`;return n.jsx("path",{d:j,fill:d.color,stroke:"white",strokeWidth:"0.5"},f)});return n.jsx("svg",{viewBox:"0 0 32 32",className:"w-36 h-36",children:c})};return n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[n.jsx("div",{className:"font-semibold mb-4",children:s}),n.jsxs("div",{className:"flex items-center gap-6",children:[o(),n.jsxs("ul",{className:"text-sm space-y-1 flex-1",children:[i.map((l,c)=>n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`inline-block h-3 w-3 rounded-sm ${l.bgColor}`}),n.jsx("span",{className:"flex-1",children:l.label}),n.jsxs("span",{className:"text-gray-500 text-xs",children:[l.value," (",l.percentage,"%)"]})]},c)),i.length===0&&n.jsx("li",{className:"text-gray-500 text-sm",children:"No content data available"})]})]})]})},s5e=({data:t,loading:r=!1,title:s="User Growth"})=>{var d,f,h,g;if(r)return n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded w-32 mb-4"}),n.jsx("div",{className:"h-40 bg-gray-200 rounded animate-pulse"})]});if(!t||t.length===0)return n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[n.jsx("div",{className:"font-semibold mb-4",children:s}),n.jsx("div",{className:"h-40 flex items-center justify-center text-gray-500",children:"No growth data available"})]});const a=Math.max(...t.map(m=>m.users)),i=160,o=400,l=20,c=t.map((m,p)=>{const x=l+p/(t.length-1)*(o-2*l),y=i-l-m.users/a*(i-2*l);return`${x},${y}`}).join(" ");return n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[n.jsx("div",{className:"font-semibold mb-4",children:s}),n.jsxs("div",{className:"relative",children:[n.jsxs("svg",{viewBox:`0 0 ${o} ${i}`,className:"w-full h-40",children:[n.jsx("line",{x1:l,y1:i-l,x2:o-l,y2:i-l,className:"stroke-gray-200",strokeWidth:"1"}),n.jsx("polyline",{points:c,className:"fill-none stroke-brand-500",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.map((m,p)=>{const x=l+p/(t.length-1)*(o-2*l),y=i-l-m.users/a*(i-2*l);return n.jsx("circle",{cx:x,cy:y,r:"4",className:"fill-brand-500 stroke-white",strokeWidth:"2"},p)})]}),n.jsxs("div",{className:"absolute left-0 top-0 h-full flex flex-col justify-between text-xs text-gray-500 -ml-8",children:[n.jsx("span",{children:a}),n.jsx("span",{children:Math.round(a/2)}),n.jsx("span",{children:"0"})]}),n.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:[n.jsx("span",{children:(d=t[0])==null?void 0:d.date}),n.jsx("span",{children:(f=t[Math.floor(t.length/2)])==null?void 0:f.date}),n.jsx("span",{children:(h=t[t.length-1])==null?void 0:h.date})]})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-brand-600",children:((g=t[t.length-1])==null?void 0:g.users)||0}),n.jsx("div",{className:"text-xs text-gray-500",children:"Latest"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-green-600",children:Math.max(...t.map(m=>m.users))}),n.jsx("div",{className:"text-xs text-gray-500",children:"Peak"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-blue-600",children:t.length>0?Math.round(t.reduce((m,p)=>m+p.users,0)/t.length*10)/10:0}),n.jsx("div",{className:"text-xs text-gray-500",children:"Daily Avg"})]})]})]})},a5e=({loading:t=!1})=>{const r=[{title:"User Management",description:"Manage users, view profiles, handle suspensions",icon:n.jsx(rx,{size:20}),link:"/admin/users",color:"bg-blue-50 text-blue-600 hover:bg-blue-100"},{title:"Content Moderation",description:"Review reported content, manage approvals",icon:n.jsx(TH,{size:20}),link:"/admin/content-moderation",color:"bg-red-50 text-red-600 hover:bg-red-100"}];return t?n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded w-32 mb-4"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[...Array(4)].map((s,a)=>n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg animate-pulse",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"h-5 w-5 bg-gray-200 rounded"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-3"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-20"})]},a))})]}):n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[n.jsx("div",{className:"font-semibold mb-4",children:"Quick Actions"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.map((s,a)=>n.jsxs(Bn,{to:s.link,className:`p-4 border border-gray-200 rounded-lg transition-colors ${s.color}`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.icon,n.jsx("h3",{className:"font-medium text-sm",children:s.title})]}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:s.description}),n.jsxs("div",{className:"text-xs font-medium",children:["Go to ",s.title," →"]})]},a))})]})};function i5e(){var m,p,x,y,w,b,v,j,N,S,I,E,L,C,T,k,M,_,J,Y,te,K,X;const[t,r]=u.useState({users:{total:0,active:0,suspended:0,newToday:0,growth:{daily:0,weekly:0,monthly:0}},connections:{total:0,pendingRequests:0},content:{total:0,distribution:{jobs:0,events:0,services:0,products:0,tourism:0,funding:0,moments:0,needs:0}},moderation:{reported:0,underReview:0,approved:0,removed:0,suspended:0,today:{approved:0,removed:0}},engagement:{likes:0,comments:0,reports:0},communication:{messages:0,conversations:0,meetingRequests:0},notifications:{total:0},organizations:{companies:0,pendingJoinRequests:0},demographics:{identities:[],goals:[]}}),[s,a]=u.useState([]),[i,o]=u.useState([]),[l,c]=u.useState(!0),[d,f]=u.useState(!1),h=(W=!1)=>ve(this,null,function*(){var F,P;try{W?f(!0):c(!0);const[A,B,z]=yield Promise.all([Rje(),Fje(10),Bje(30)]);r(A.data||A),o(((F=B.data)==null?void 0:F.activities)||B.activities||[]),a(((P=z.data)==null?void 0:P.growth)||z.growth||[])}catch(A){console.error("Error loading dashboard data:",A),ce.error("Failed to load dashboard data")}finally{c(!1),f(!1)}});u.useEffect(()=>{h()},[]);const g=()=>{h(!0)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Dashboard Overview"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Monitor platform activity and manage content"})]}),n.jsxs("button",{onClick:g,disabled:d,className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50",children:[n.jsx(MH,{size:16,className:d?"animate-spin":""}),"Refresh"]})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(Us,{title:"Total Users",value:(((m=t.users)==null?void 0:m.total)||0).toLocaleString(),delta:`+${((x=(p=t.users)==null?void 0:p.growth)==null?void 0:x.monthly)||0}% from last month`,icon:"👥",tone:"brand",loading:l}),n.jsx(Us,{title:"Active Users",value:(((y=t.users)==null?void 0:y.active)||0).toLocaleString(),delta:`+${((b=(w=t.users)==null?void 0:w.growth)==null?void 0:b.weekly)||0}% from last week`,icon:"✅",tone:"green",loading:l}),n.jsx(Us,{title:"Suspended Users",value:(((v=t.users)==null?void 0:v.suspended)||0).toLocaleString(),icon:"🚫",tone:"rose",loading:l}),n.jsx(Us,{title:"Pending Reports",value:(((j=t.moderation)==null?void 0:j.reported)||0).toLocaleString(),delta:"Requires attention",icon:"🚩",tone:"rose",loading:l})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(Us,{title:"Total Content",value:(((N=t.content)==null?void 0:N.total)||0).toLocaleString(),icon:"📄",tone:"blue",loading:l}),n.jsx(Us,{title:"Jobs Posted",value:(((S=t.content.distribution)==null?void 0:S.jobs)||0).toLocaleString(),icon:"💼",tone:"blue",loading:l}),n.jsx(Us,{title:"Events Created",value:(((I=t.content.distribution)==null?void 0:I.events)||0).toLocaleString(),icon:"📅",tone:"green",loading:l}),n.jsx(Us,{title:"Services Offered",value:(((E=t.content.distribution)==null?void 0:E.services)||0).toLocaleString(),icon:"🛠️",tone:"purple",loading:l})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[n.jsx(s5e,{data:s,loading:l,title:"User Growth (30 Days)"}),n.jsx(n5e,{data:t.content.distribution,loading:l,title:"Content Distribution"})]}),n.jsx(r5e,{activities:i,loading:l,title:"Recent Activity"}),n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(Us,{title:"Under Review",value:(((L=t.moderation)==null?void 0:L.underReview)||0).toLocaleString(),icon:"⏳",tone:"amber",loading:l}),n.jsx(Us,{title:"Approved Today",value:(((T=(C=t.moderation)==null?void 0:C.today)==null?void 0:T.approved)||0).toLocaleString(),icon:"✅",tone:"green",loading:l}),n.jsx(Us,{title:"Removed Today",value:(((M=(k=t.moderation)==null?void 0:k.today)==null?void 0:M.removed)||0).toLocaleString(),icon:"🗑️",tone:"rose",loading:l}),n.jsx(Us,{title:"Total Moderated",value:((((_=t.moderation)==null?void 0:_.approved)||0)+(((J=t.moderation)==null?void 0:J.removed)||0)).toLocaleString(),icon:"⚖️",tone:"gray",loading:l})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(Us,{title:"Total Connections",value:(((Y=t.connections)==null?void 0:Y.total)||0).toLocaleString(),icon:"🤝",tone:"blue",loading:l}),n.jsx(Us,{title:"Pending Requests",value:(((te=t.connections)==null?void 0:te.pendingRequests)||0).toLocaleString(),icon:"⏳",tone:"amber",loading:l}),n.jsx(Us,{title:"Total Likes",value:(((K=t.engagement)==null?void 0:K.likes)||0).toLocaleString(),icon:"❤️",tone:"pink",loading:l}),n.jsx(Us,{title:"Total Comments",value:(((X=t.engagement)==null?void 0:X.comments)||0).toLocaleString(),icon:"💬",tone:"blue",loading:l})]}),n.jsx(a5e,{loading:l})]})}const mN=({children:t,color:r="green"})=>{const s={brand:"bg-brand-50 text-brand-700",green:"bg-green-100 text-green-700",rose:"bg-rose-100 text-rose-700",gray:"bg-gray-100 text-gray-700"};return n.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${s[r]||s.gray}`,children:t})},Uv=({title:t,value:r,delta:s,tone:a="emerald",loading:i=!1})=>{const o={emerald:"text-emerald-600",rose:"text-rose-600",brand:"text-brand-700",gray:"text-gray-600"};return i?n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-16 mb-2 animate-pulse"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-12 mb-1 animate-pulse"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-20 animate-pulse"})]}):n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:t}),n.jsx("div",{className:"mt-1 text-2xl font-bold",children:r}),s?n.jsx("div",{className:`text-xs mt-1 ${o[a]||o.gray}`,children:s}):null]})};function o5e(){const[t,r]=u.useState([]),[s,a]=u.useState(!0),[i,o]=u.useState({total:0,page:1,limit:10,totalPages:0}),[l,c]=u.useState({search:"",accountType:"all",isVerified:"",sortBy:"createdAt",sortOrder:"DESC"}),[d,f]=u.useState(new Set),[h,g]=u.useState(!1),[m,p]=u.useState(null),[x,y]=u.useState(!1),[w,b]=u.useState(!1),[v,j]=u.useState(!1),[N,S]=u.useState({total:0,active:0,suspended:0,newToday:0});u.useEffect(()=>{I()},[i.page,i.limit,l]);const I=()=>ve(this,null,function*(){try{a(!0);const{data:K}=yield Ije({page:i.page,limit:i.limit,search:l.search,accountType:l.accountType,isVerified:l.isVerified,sortBy:l.sortBy,sortOrder:l.sortOrder});r(K.users),K.pagination&&o(K.pagination),K.pagination&&K.pagination.total&&S(X=>me(ne({},X),{total:K.pagination.total,active:K.users.filter(W=>W.isVerified).length,suspended:K.users.filter(W=>!W.isVerified).length,newToday:X.newToday}))}catch(K){console.error("Error fetching users:",K),ce.error("Failed to load users")}finally{a(!1)}}),E=(K,X)=>{c(W=>me(ne({},W),{[K]:X})),o(W=>me(ne({},W),{page:1}))},L=K=>{f(X=>{const W=new Set(X);return W.has(K)?W.delete(K):W.add(K),W})},C=K=>{K<1||K>i.totalPages||o(X=>me(ne({},X),{page:K}))},T=K=>ve(this,null,function*(){try{j(!0);const{data:X}=yield Kf(K);p(X),y(!0)}catch(X){console.error("Error fetching user details:",X),ce.error("Failed to load user details")}finally{j(!1)}}),k=K=>{p(K),b(!0)},M=()=>ve(this,null,function*(){var K,X;try{j(!0),yield Tje(m.id),ce.success("User deleted successfully"),b(!1),I()}catch(W){console.error("Error deleting user:",W),ce.error(((X=(K=W==null?void 0:W.response)==null?void 0:K.data)==null?void 0:X.message)||"Failed to delete user")}finally{j(!1)}}),_=(K,X)=>ve(this,null,function*(){try{const W=yield Aje(K,!X);W.data&&W.data.isVerified!==void 0?(r(F=>F.map(P=>P.id===K?me(ne({},P),{isVerified:W.data.isVerified}):P)),ce.success(W.data.isVerified?"User unsuspended successfully":"User suspended successfully")):(I(),ce.success(X?"User unsuspended successfully":"User suspended successfully"))}catch(W){console.error("Error toggling user suspension:",W),ce.error("Failed to update user status")}}),J=(K="csv")=>ve(this,null,function*(){try{K==="excel"?yield te(t):yield Oje({format:K,filters:{search:l.search,accountType:l.accountType==="all"?"":l.accountType,isVerified:l.isVerified===""?void 0:l.isVerified==="true"}}),ce.success(`Users exported as ${K.toUpperCase()} successfully`)}catch(X){console.error("Error exporting users:",X),ce.error("Failed to export users")}}),Y=K=>ve(this,null,function*(){var X,W;try{j(!0),yield fm(m.id,K),ce.success("User updated successfully"),y(!1),I()}catch(F){console.error("Error updating user:",F),ce.error(((W=(X=F==null?void 0:F.response)==null?void 0:X.data)==null?void 0:W.message)||"Failed to update user")}finally{j(!1)}}),te=K=>{const X=K.map(A=>{var B,z,O;return{ID:A.id,Name:A.name,Email:A.email,Phone:A.phone||"","Account Type":A.accountType,Status:A.isVerified?"Active":"Suspended",Country:A.country||"","Country of Residence":A.countryOfResidence||"",City:A.city||"",Nationality:A.nationality||"","Joined Date":new Date(A.createdAt).toLocaleDateString(),"Professional Title":((B=A.profile)==null?void 0:B.professionalTitle)||"","Experience Level":((z=A.profile)==null?void 0:z.experienceLevel)||"",About:((O=A.profile)==null?void 0:O.about)||""}}),W=eo.json_to_sheet(X),F=eo.book_new();eo.book_append_sheet(F,W,"Users");const P=`users_export_${new Date().toISOString().split("T")[0]}.xlsx`;xje(F,P)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"User Management"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Manage and monitor platform users"})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(Uv,{title:"Total Users",value:N.total.toString(),tone:"brand",loading:s&&N.total===0}),n.jsx(Uv,{title:"Active Users",value:N.active.toString(),loading:s&&N.active===0}),n.jsx(Uv,{title:"Suspended",value:N.suspended.toString(),tone:"rose",loading:s&&N.suspended===0}),n.jsx(Uv,{title:"New Today",value:N.newToday.toString(),loading:s&&N.newToday===0})]}),n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 w-full sm:w-auto",children:[n.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[n.jsx(Ta,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search name or email",className:"w-full sm:w-64 pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-brand-500/30 focus:border-brand-500 text-sm",value:l.search,onChange:K=>E("search",K.target.value)})]}),n.jsxs("button",{onClick:()=>g(!h),className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[n.jsx(qce,{size:16}),"Filters",h?n.jsx(A0,{size:16}):n.jsx(dd,{size:16})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>J("csv"),className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:[n.jsx(La,{size:16}),"CSV"]}),n.jsxs("button",{onClick:()=>J("excel"),className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors",children:[n.jsx(La,{size:16}),"Excel"]}),n.jsxs("button",{onClick:()=>J("json"),className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors",children:[n.jsx(La,{size:16}),"JSON"]})]})]}),h&&n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type"}),n.jsxs("select",{className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30 focus:border-brand-500",value:l.accountType,onChange:K=>E("accountType",K.target.value),children:[n.jsx("option",{value:"all",children:"All Types"}),n.jsx("option",{value:"individual",children:"Individual"}),n.jsx("option",{value:"company",children:"Company"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("select",{className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30 focus:border-brand-500",value:l.isVerified,onChange:K=>E("isVerified",K.target.value),children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"true",children:"Active"}),n.jsx("option",{value:"false",children:"Suspended"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),n.jsxs("select",{className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30 focus:border-brand-500",value:l.sortBy,onChange:K=>E("sortBy",K.target.value),children:[n.jsx("option",{value:"createdAt",children:"Join Date"}),n.jsx("option",{value:"name",children:"Name"}),n.jsx("option",{value:"email",children:"Email"})]})]})]})})]}),n.jsx("div",{className:"space-y-4",children:s&&t.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-brand-500"}),n.jsx("p",{className:"mt-2 text-gray-500",children:"Loading users..."})]}):t.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-gray-400 mb-2",children:n.jsx(Ta,{size:48,className:"mx-auto"})}),n.jsx("p",{className:"text-gray-500",children:"No users found matching your criteria."})]}):t.map(K=>{const X=d.has(K.id);return n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white overflow-hidden hover:shadow-md transition-shadow",children:[n.jsx("div",{className:"p-4 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[n.jsx("div",{className:"flex-shrink-0",children:K.avatarUrl?n.jsx("img",{src:K.avatarUrl,alt:"",className:"h-12 w-12 rounded-full object-cover"}):n.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-semibold",children:K.name.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[n.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:K.name}),n.jsx(mN,{color:K.accountType=="admin"?"gray":K.accountType=="company"?"brand":"green",children:K.accountType}),K.isVerified?n.jsx(mN,{color:"green",children:"Active"}):n.jsx(mN,{color:"rose",children:"Suspended"})]}),n.jsx("p",{className:"text-gray-600 text-sm mb-1",children:K.email}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[n.jsx("span",{children:K.city?`${K.city}, ${K.country}`:K.country||"Location not set"}),n.jsxs("span",{children:["Joined ",new Date(K.createdAt).toLocaleDateString()]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[n.jsx("button",{onClick:()=>L(K.id),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:X?"Show less":"Show more",children:X?n.jsx(A0,{size:16}):n.jsx(dd,{size:16})}),n.jsx(Bn,{to:`/admin/user-profile/${K.id}`,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"View profile",children:n.jsx(Ru,{size:16})}),n.jsx("button",{onClick:()=>T(K.id),className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit user",children:n.jsx(Kl,{size:16})}),n.jsx("button",{onClick:()=>_(K.id,K.isVerified),className:`p-2 rounded-lg transition-colors ${K.isVerified?"text-orange-600 hover:text-orange-700 hover:bg-orange-50":"text-green-600 hover:text-green-700 hover:bg-green-50"}`,title:K.isVerified?"Suspend user":"Activate user",children:K.isVerified?n.jsx(ew,{size:16}):n.jsx(X2,{size:16})}),n.jsx("button",{onClick:()=>k(K),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",title:"Delete user",children:n.jsx(On,{size:16})})]})]})}),X&&n.jsx("div",{className:"px-4 pb-4",children:n.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Contact Information"}),n.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Email:"})," ",K.email]}),K.phone&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",K.phone]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Location Details"}),n.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[K.country&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Country:"})," ",K.country]}),K.countryOfResidence&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Country of Residence:"})," ",K.countryOfResidence]}),K.city&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"City:"})," ",K.city]}),K.nationality&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Nationality:"})," ",K.nationality]})]})]})]}),K.profile&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Profile Information"}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[K.profile.professionalTitle&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Professional Title:"})," ",K.profile.professionalTitle]}),K.profile.experienceLevel&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Experience Level:"})," ",K.profile.experienceLevel]}),K.profile.about&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"About:"}),n.jsx("p",{className:"mt-1 text-gray-700",children:K.profile.about})]})]})]})]})})]},K.id)})}),i.totalPages>1&&n.jsx("div",{className:"rounded-xl border border-gray-200 bg-white px-4 py-3",children:n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("div",{children:["Showing ",t.length>0?(i.page-1)*i.limit+1:0," to"," ",Math.min(i.page*i.limit,i.total)," of ",i.total," results"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:()=>C(i.page-1),disabled:i.page===1,className:`px-2.5 py-1.5 rounded-md border ${i.page===1?"opacity-50 cursor-not-allowed":""}`,children:"Previous"}),Array.from({length:Math.min(5,i.totalPages)},(K,X)=>{let W;return i.totalPages<=5||i.page<=3?W=X+1:i.page>=i.totalPages-2?W=i.totalPages-4+X:W=i.page-2+X,n.jsx("button",{onClick:()=>C(W),className:`px-2.5 py-1.5 rounded-md ${i.page===W?"bg-brand-500 text-white":"border"}`,children:W},W)}),n.jsx("button",{onClick:()=>C(i.page+1),disabled:i.page===i.totalPages,className:`px-2.5 py-1.5 rounded-md border ${i.page===i.totalPages?"opacity-50 cursor-not-allowed":""}`,children:"Next"})]})]})}),x&&m&&n.jsx(l5e,{user:m,onClose:()=>y(!1),onSave:Y,loading:v}),w&&m&&n.jsx(c5e,{user:m,onClose:()=>b(!1),onConfirm:M,loading:v})]})}function l5e({user:t,onClose:r,onSave:s,loading:a}){var d,f,h;const[i,o]=u.useState({name:t.name||"",email:t.email||"",phone:t.phone||"",accountType:t.accountType||"individual",isVerified:t.isVerified||!1,country:t.country||"",countryOfResidence:t.countryOfResidence||"",city:t.city||"",nationality:t.nationality||"",profile:{professionalTitle:((d=t.profile)==null?void 0:d.professionalTitle)||"",experienceLevel:((f=t.profile)==null?void 0:f.experienceLevel)||"",about:((h=t.profile)==null?void 0:h.about)||""}}),l=g=>{const{name:m,value:p,type:x,checked:y}=g.target;if(m.includes(".")){const[w,b]=m.split(".");o(v=>me(ne({},v),{[w]:me(ne({},v[w]),{[b]:x==="checkbox"?y:p})}))}else o(w=>me(ne({},w),{[m]:x==="checkbox"?y:p}))},c=g=>{g.preventDefault(),s(i)};return n.jsx("div",{style:{marginTop:0},className:"fixed  inset-0 bg-black bg-opacity-50 flex items-center justify-center px-4 z-50",children:n.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Edit User"}),n.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:"×"})]}),n.jsxs("form",{onSubmit:c,children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),n.jsx("input",{type:"text",name:"name",className:"w-full border rounded-lg px-3 py-2",value:i.name,onChange:l,required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),n.jsx("input",{type:"email",name:"email",className:"w-full border rounded-lg px-3 py-2",value:i.email,onChange:l,required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),n.jsx("input",{type:"text",name:"phone",className:"w-full border rounded-lg px-3 py-2",value:i.phone,onChange:l})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Country"}),n.jsx("input",{type:"text",name:"country",className:"w-full border rounded-lg px-3 py-2",value:i.country,onChange:l})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Country of Residence"}),n.jsx("input",{type:"text",name:"countryOfResidence",className:"w-full border rounded-lg px-3 py-2",value:i.countryOfResidence,onChange:l})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"City"}),n.jsx("input",{type:"text",name:"city",className:"w-full border rounded-lg px-3 py-2",value:i.city,onChange:l})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nationality"}),n.jsx("input",{type:"text",name:"nationality",className:"w-full border rounded-lg px-3 py-2",value:i.nationality,onChange:l})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Professional Title"}),n.jsx("input",{type:"text",name:"profile.professionalTitle",className:"w-full border rounded-lg px-3 py-2",value:i.profile.professionalTitle,onChange:l})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"About"}),n.jsx("textarea",{name:"profile.about",rows:"3",className:"w-full border rounded-lg px-3 py-2",value:i.profile.about,onChange:l})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",name:"isVerified",checked:i.isVerified,onChange:l,className:"mr-2"}),n.jsx("span",{children:"Verified Account"})]})})]}),n.jsx("div",{className:"flex justify-end gap-3 mt-6",children:n.jsxs("div",{className:"flex justify-between w-full",children:[n.jsx(Bn,{to:`/admin/user-profile/${t.id}`,className:"px-4 py-2 bg-blue-600 text-white rounded-lg",children:"Advanced Editing"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border rounded-lg",disabled:a,children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-700 text-white rounded-lg",disabled:a,children:a?"Saving...":"Save Changes"})]})]})})]})]})})})}function c5e({user:t,onClose:r,onConfirm:s,loading:a}){return n.jsx("div",{style:{marginTop:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Confirm Deletion"}),n.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:"×"})]}),n.jsxs("p",{className:"mb-6",children:["Are you sure you want to delete the user ",n.jsx("strong",{children:t.name}),"? This action cannot be undone."]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:r,className:"px-4 py-2 border rounded-lg",disabled:a,children:"Cancel"}),n.jsx("button",{onClick:s,className:"px-4 py-2 bg-red-600 text-white rounded-lg",disabled:a,children:a?"Deleting...":"Delete User"})]})]})})})}const pN=({icon:t,title:r,value:s,tone:a="gray",sub:i,loading:o=!1})=>{const l={gray:"bg-gray-50 text-gray-600",amber:"bg-amber-50 text-amber-600",green:"bg-emerald-50 text-emerald-600",rose:"bg-rose-50 text-rose-600",brand:"bg-brand-50 text-brand-700"};return o?n.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-9 w-9 bg-gray-200 rounded-lg animate-pulse"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-3 bg-gray-200 rounded w-20 mb-1 animate-pulse"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded w-12 mb-1 animate-pulse"}),n.jsx("div",{className:"h-2 bg-gray-200 rounded w-16 animate-pulse"})]})]})}):n.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`h-9 w-9 grid place-items-center rounded-lg ${l[a]}`,children:t}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500",children:r}),n.jsx("div",{className:"text-xl font-bold leading-tight",children:s}),i&&n.jsx("div",{className:"text-[11px] text-gray-400",children:i})]})]})})},I8=({children:t,color:r="gray"})=>{const s={gray:"bg-gray-100 text-gray-700",amber:"bg-amber-100 text-amber-700",green:"bg-emerald-100 text-emerald-700",rose:"bg-rose-100 text-rose-700",brand:"bg-brand-50 text-brand-700"};return n.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-semibold ${s[r]}`,children:t})};function d5e(){const[t,r]=u.useState("all"),[s,a]=u.useState("all");u.useState("All");const[i,o]=u.useState(!1),[l,c]=u.useState([]),[d,f]=u.useState(new Set),[h,g]=u.useState({}),[m,p]=u.useState({reported:0,underReview:0,approved:0,removed:0,suspended:0,today:{approved:0,removed:0}}),[x,y]=u.useState(!0),[w,b]=u.useState({page:1,limit:10,total:0,totalPages:0}),v=()=>ve(this,null,function*(){try{o(!0);const C=yield $je({page:w.page,limit:w.limit,contentType:t,moderationStatus:s,sortBy:"createdAt",sortOrder:"DESC"});C.data&&C.data.content?(c(C.data.content),b(C.data.pagination||{page:1,limit:10,total:C.data.content.length,totalPages:Math.ceil(C.data.content.length/10)})):(c([]),b({page:1,limit:10,total:0,totalPages:0}))}catch(C){console.error("Error fetching content:",C),ce.error("Failed to fetch content for moderation")}finally{o(!1)}}),j=()=>ve(this,null,function*(){var C,T;try{y(!0);const k=yield Dje();k.data&&p({reported:k.data.reported||0,underReview:k.data.underReview||0,approved:k.data.approved||0,removed:k.data.removed||0,suspended:k.data.suspended||0,today:{approved:((C=k.data.today)==null?void 0:C.approved)||0,removed:((T=k.data.today)==null?void 0:T.removed)||0}})}catch(k){console.error("Error fetching stats:",k)}finally{y(!1)}}),N=(C,T,k)=>ve(this,null,function*(){try{try{yield Pje(C,k,T),ce.success(`Content status updated to ${T}`),v(),j()}catch(M){console.error("Error updating status:",M),ce.error("Failed to update content status. Please try again.")}}catch(M){console.error("Error updating status:",M),ce.error("Failed to update content status")}}),S=C=>{b(T=>me(ne({},T),{page:C}))},I=C=>{f(T=>{const k=new Set(T);return k.has(C)?k.delete(C):k.add(C),k})},E=(C,T)=>{g(k=>me(ne({},k),{[`${C}-${T}`]:!k[`${C}-${T}`]}))};u.useEffect(()=>{v(),j()},[]),u.useEffect(()=>{v()},[t,s,w.page,w.limit]);const L=l;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Content Moderation"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Review and manage platform content"})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(pN,{icon:n.jsx("span",{children:"🚩"}),title:"Pending Reports",value:m.reported,tone:"rose",loading:x&&m.reported===0}),n.jsx(pN,{icon:n.jsx("span",{children:"🟡"}),title:"Under Review",value:m.underReview,tone:"amber",loading:x&&m.underReview===0}),n.jsx(pN,{icon:n.jsx("span",{children:"✅"}),title:"Approved Today",value:m.today.approved,tone:"green",loading:x&&m.today.approved===0})]}),n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"font-semibold",children:"Content Queue"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("select",{value:t,onChange:C=>{r(C.target.value),b(T=>me(ne({},T),{page:1}))},className:"rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm",children:[n.jsx("option",{value:"all",children:"All Post Types"}),n.jsx("option",{value:"job",children:"Jobs"}),n.jsx("option",{value:"event",children:"Events"}),n.jsx("option",{value:"product",children:"Products"}),n.jsx("option",{value:"service",children:"Services"}),n.jsx("option",{value:"tourism",children:"Tourism"}),n.jsx("option",{value:"funding",children:"Opportunities"}),n.jsx("option",{value:"moment",children:"Experience"}),n.jsx("option",{value:"need",children:"Need / Offer"})]}),n.jsxs("select",{value:s,onChange:C=>{a(C.target.value),b(T=>me(ne({},T),{page:1}))},className:"rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm",children:[n.jsx("option",{value:"all",children:"All Statuses"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"reported",children:"Reported"}),n.jsx("option",{value:"under_review",children:"Under Review"}),n.jsx("option",{value:"suspended",children:"Suspended"})]}),n.jsx("button",{onClick:v,className:"inline-flex items-center gap-2 rounded-lg px-3 py-2 text-sm text-white bg-brand-500 hover:bg-brand-600",children:n.jsx(MH,{size:12})})]})]}),n.jsx("div",{className:"mt-4 space-y-4",children:i?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-brand-500"}),n.jsx("p",{className:"mt-2 text-gray-500",children:"Loading content..."})]}):L.length===0?n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-gray-500",children:"No content found matching the selected filters."})}):L.map(C=>{var J,Y,te,K,X;const T=d.has(C.id),k=C.reports&&C.reports.length>0,M=C.comments&&C.comments.length>0,_=C.likes&&C.likes.length>0;return n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[n.jsx("img",{src:((J=C.postedBy)==null?void 0:J.avatarUrl)||"https://i.pravatar.cc/80",className:"h-10 w-10 rounded-full object-cover flex-shrink-0",alt:""}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("div",{className:"font-medium",children:((Y=C.postedBy)==null?void 0:Y.name)||"User"}),n.jsx(I8,{color:C.moderation_status==="reported"?"rose":C.moderation_status==="under_review"?"amber":C.moderation_status==="approved"?"green":C.moderation_status==="removed"||C.moderation_status==="suspended"?"rose":"gray",children:C.moderation_status==="reported"?"Reported":C.moderation_status==="under_review"?"Under Review":C.moderation_status==="approved"?"Approved":C.moderation_status==="removed"?"Removed":C.moderation_status==="suspended"?"Suspended":"Unknown"}),n.jsx(I8,{color:"brand",children:C.contentType})]}),n.jsx("div",{className:"text-[11px] text-gray-500 mt-1",children:new Date(C.createdAt).toLocaleString()})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 ml-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>window.open(`${window.location.origin}/${C.contentType}/${C.id}`,"_blank"),className:"inline-flex items-center gap-1 px-2 sm:px-3 py-1.5 text-xs sm:text-sm font-medium text-blue-700 bg-blue-100 hover:bg-blue-200 rounded-lg transition-colors flex-1 sm:flex-none",title:"View item on public page",children:[n.jsx(Ru,{size:14}),n.jsx("span",{className:"hidden sm:inline",children:"View"})]}),n.jsxs("button",{onClick:()=>N(C.id,"approved",C.contentType),className:"inline-flex items-center gap-1 px-2 sm:px-3 py-1.5 text-xs sm:text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors flex-1 sm:flex-none",title:"Approve content",children:[n.jsx("span",{className:"hidden sm:inline",children:"✓"}),n.jsx("span",{className:"sm:hidden",children:"✓"}),"Approve"]}),n.jsxs("button",{onClick:()=>N(C.id,"under_review",C.contentType),className:"inline-flex items-center gap-1 px-2 sm:px-3 py-1.5 text-xs sm:text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors flex-1 sm:flex-none",title:"Mark for review",children:[n.jsx("span",{className:"hidden sm:inline",children:"⏳"}),n.jsx("span",{className:"sm:hidden",children:"⏳"}),"Review"]})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("button",{onClick:()=>N(C.id,"suspended",C.contentType),className:"inline-flex items-center gap-1 px-2 sm:px-3 py-1.5 text-xs sm:text-sm font-medium text-white bg-amber-600 hover:bg-amber-700 rounded-lg transition-colors flex-1 sm:flex-none",title:"Suspend content",children:[n.jsx("span",{className:"hidden sm:inline",children:"⚠️"}),n.jsx("span",{className:"sm:hidden",children:"⚠️"}),"Suspend"]})})]})]})}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-semibold text-lg mb-2",children:C.title}),n.jsx("div",{dangerouslySetInnerHTML:{__html:C.description||"No description provided."},className:`text-gray-700 ${T?"":"line-clamp-3"}`}),!T&&C.description&&C.description.length>200&&n.jsx("button",{onClick:()=>I(C.id),className:"text-brand-600 hover:text-brand-700 text-sm font-medium mt-2",children:"Show more"}),T&&C.description&&C.description.length>200&&n.jsx("button",{onClick:()=>I(C.id),className:"text-brand-600 hover:text-brand-700 text-sm font-medium mt-2",children:"Show less"})]}),n.jsxs("div",{className:"px-4 pb-4",children:[n.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600 mb-3",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Si,{size:16}),n.jsxs("span",{children:[((te=C.stats)==null?void 0:te.reports)||0," reports"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Un,{size:16}),n.jsxs("span",{children:[((K=C.stats)==null?void 0:K.likes)||0," likes"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(DC,{size:16}),n.jsxs("span",{children:[((X=C.stats)==null?void 0:X.comments)||0," comments"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[k&&n.jsxs("div",{className:"border border-red-200 rounded-lg",children:[n.jsxs("button",{onClick:()=>E(C.id,"reports"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-red-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Si,{size:16,className:"text-red-600"}),n.jsxs("span",{className:"font-medium text-red-700",children:["Reports (",C.reports.length,")"]})]}),h[`${C.id}-reports`]?n.jsx(A0,{size:16,className:"text-red-600"}):n.jsx(dd,{size:16,className:"text-red-600"})]}),h[`${C.id}-reports`]&&n.jsx("div",{className:"px-3 pb-3 space-y-2",children:C.reports.map(W=>{var F,P;return n.jsxs("div",{className:"bg-red-50 p-3 rounded-md",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("img",{src:((F=W.reporter)==null?void 0:F.avatarUrl)||"https://i.pravatar.cc/32",className:"h-6 w-6 rounded-full",alt:""}),n.jsx("span",{className:"font-medium text-sm",children:((P=W.reporter)==null?void 0:P.name)||"User"}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(W.createdAt).toLocaleString()})]}),n.jsx("div",{className:"text-sm text-gray-700",children:W.description})]},W.id)})})]}),M&&n.jsxs("div",{className:"border border-blue-200 rounded-lg",children:[n.jsxs("button",{onClick:()=>E(C.id,"comments"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-blue-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(DC,{size:16,className:"text-blue-600"}),n.jsxs("span",{className:"font-medium text-blue-700",children:["Comments (",C.comments.length,")"]})]}),h[`${C.id}-comments`]?n.jsx(A0,{size:16,className:"text-blue-600"}):n.jsx(dd,{size:16,className:"text-blue-600"})]}),h[`${C.id}-comments`]&&n.jsx("div",{className:"px-3 pb-3 space-y-2",children:C.comments.map(W=>{var F,P;return n.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("img",{src:((F=W.user)==null?void 0:F.avatarUrl)||"https://i.pravatar.cc/32",className:"h-6 w-6 rounded-full",alt:""}),n.jsx("span",{className:"font-medium text-sm",children:((P=W.user)==null?void 0:P.name)||"User"}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(W.createdAt).toLocaleString()})]}),n.jsx("div",{className:"text-sm text-gray-700",children:W.content||"No content"})]},W.id)})})]}),_&&n.jsxs("div",{className:"border border-pink-200 rounded-lg",children:[n.jsxs("button",{onClick:()=>E(C.id,"likes"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-pink-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Un,{size:16,className:"text-pink-600"}),n.jsxs("span",{className:"font-medium text-pink-700",children:["Likes (",C.likes.length,")"]})]}),h[`${C.id}-likes`]?n.jsx(A0,{size:16,className:"text-pink-600"}):n.jsx(dd,{size:16,className:"text-pink-600"})]}),h[`${C.id}-likes`]&&n.jsx("div",{className:"px-3 pb-3",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:C.likes.map(W=>{var F,P;return n.jsxs("div",{className:"bg-pink-50 p-2 rounded-md flex items-center gap-2",children:[n.jsx("img",{src:((F=W.user)==null?void 0:F.avatarUrl)||"https://i.pravatar.cc/24",className:"h-5 w-5 rounded-full",alt:""}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-medium text-xs truncate",children:((P=W.user)==null?void 0:P.name)||"User"}),n.jsx("div",{className:"text-[10px] text-gray-500",children:new Date(W.createdAt).toLocaleString()})]})]},W.id)})})})]})]})]})]},C.id)})}),n.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("div",{children:["Showing ",L.length>0?(w.page-1)*w.limit+1:0," to ",Math.min(w.page*w.limit,w.total)," of ",w.total," results"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:()=>S(Math.max(1,w.page-1)),disabled:w.page===1,className:`px-2.5 py-1.5 rounded-md border ${w.page===1?"opacity-50 cursor-not-allowed":""}`,children:"Previous"}),Array.from({length:Math.min(5,w.totalPages)},(C,T)=>{let k;return w.totalPages<=5||w.page<=3?k=T+1:w.page>=w.totalPages-2?k=w.totalPages-4+T:k=w.page-2+T,n.jsx("button",{onClick:()=>S(k),className:`px-2.5 py-1.5 rounded-md ${w.page===k?"bg-brand-500 text-white":"border"}`,children:k},k)}),n.jsx("button",{onClick:()=>S(Math.min(w.totalPages,w.page+1)),disabled:w.page===w.totalPages,className:`px-2.5 py-1.5 rounded-md border ${w.page===w.totalPages?"opacity-50 cursor-not-allowed":""}`,children:"Next"})]})]})]})]})}const pu={primary:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",primaryWide:"w-full rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",ghost:"rounded-lg px-3 py-1.5 text-sm font-semibold border border-brand-600 text-brand-600 bg-white hover:bg-brand-50",chip:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs"},ly={trash:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M9 3h6l1 2h4v2H4V5h4l1-2Zm1 6h2v9h-2V9Zm4 0h2v9h-2V9ZM6 9h2v9H6V9Z"})}),chevron:()=>n.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"m6 9 6 6 6-6"})}),plus:()=>n.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 5v14M5 12h14"})})};function u5e(t){return new Promise((r,s)=>{const a=new FileReader;a.onerror=s,a.onload=()=>r(a.result),a.readAsDataURL(t)})}function f5e({form:t,tags:r,images:s,audSel:a,audTree:i}){const o=fr.useMemo(()=>{const g=new Map,m=new Map,p=new Map,x=new Map;for(const y of i){g.set(String(y.id),y.name||y.title||`Identity ${y.id}`);for(const w of y.categories||[]){m.set(String(w.id),w.name||w.title||`Category ${w.id}`);for(const b of w.subcategories||[]){p.set(String(b.id),b.name||b.title||`Subcategory ${b.id}`);for(const v of b.subsubs||[])x.set(String(v.id),v.name||v.title||`Sub-sub ${v.id}`)}}}return{ids:g,cats:m,subs:p,subsubs:x}},[i]),l=Array.from(a.identityIds||[]).map(g=>o.ids.get(String(g))).filter(Boolean),c=Array.from(a.categoryIds||[]).map(g=>o.cats.get(String(g))).filter(Boolean),d=Array.from(a.subcategoryIds||[]).map(g=>o.subs.get(String(g))).filter(Boolean),f=Array.from(a.subsubCategoryIds||[]).map(g=>o.subsubs.get(String(g))).filter(Boolean),h=s&&s.length>0?s[0].base64url:null;return n.jsxs("div",{className:"mt-6 rounded-2xl bg-white border p-0 shadow-sm overflow-hidden",children:[h?n.jsxs("div",{className:"relative aspect-[16/6] w-full bg-gray-100",children:[n.jsx("img",{src:h,alt:"Experience cover",className:"h-full w-full object-cover"}),n.jsx("span",{className:"absolute left-4 top-4 bg-white/90 border-gray-200 text-gray-700 rounded-full px-2 py-0.5 text-xs font-medium",children:t.type||"Experience"})]}):null,n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{children:[t.title&&n.jsx("h1",{className:"text-xl font-bold",children:t.title||"Untitled Experience"}),n.jsx("p",{className:"mt-1 text-sm text-gray-700",children:t.description||"No description provided."})]})}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:"Type"}),n.jsx("div",{className:"mt-2 text-sm text-gray-700",children:t.type||"Not specified"})]}),t.date&&n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:"Date"}),n.jsx("div",{className:"mt-2 text-sm text-gray-700",children:t.date})]}),(t.location||t.city||t.country)&&n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsx("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:"Address"}),n.jsx("div",{className:"mt-2 text-sm text-gray-700",children:[t.location,t.city,t.country].filter(Boolean).join(", ")||"Not specified"})]})]}),s&&s.length>1&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Media"}),n.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:s.slice(1).map((g,m)=>n.jsx("div",{className:"relative w-full aspect-[16/10] bg-gray-100 rounded-xl overflow-hidden border",children:g.type==="video"?n.jsx("video",{src:g.base64url,controls:!0,className:"h-full w-full object-cover",children:"Your browser does not support the video tag."}):n.jsx("img",{src:g.base64url,alt:g.name||`Experience image ${m+1}`,className:"h-full w-full object-cover"})},m))})]}),r&&r.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Tags"}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:r.map((g,m)=>n.jsx("span",{className:pu.chip,children:g},`${g}-${m}`))})]}),(l.length>0||c.length>0||d.length>0||f.length>0)&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Target Audience"}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[l.map(g=>n.jsx("span",{className:pu.chip,children:g},`i-${g}`)),c.map(g=>n.jsx("span",{className:pu.chip,children:g},`c-${g}`)),d.map(g=>n.jsx("span",{className:pu.chip,children:g},`s-${g}`)),f.map(g=>n.jsx("span",{className:pu.chip,children:g},`ss-${g}`)),!l.length&&!c.length&&!d.length&&!f.length&&n.jsx("span",{className:"text-sm text-gray-500",children:"Everyone"})]})]})]})]})}function Mc({value:t,onChange:r,options:s,placeholder:a="Select…",disabled:i=!1,required:o=!1,ariaLabel:l}){const[c,d]=u.useState(!1),[f,h]=u.useState(""),[g,m]=u.useState(0),p=u.useRef(null),x=u.useRef(null),[y,w]=u.useState(!1),b=u.useMemo(()=>s.find(L=>String(L.value)===String(t))||null,[s,t]),v=u.useMemo(()=>{const L=f.trim().toLowerCase();return L?s.map(C=>({o:C,score:(C.label||"").toLowerCase().indexOf(L)})).filter(C=>C.score!==-1).sort((C,T)=>C.score-T.score).map(C=>C.o).slice(0,100):s.slice(0,100)},[f,s]),N=y||c||f!==""?f:(b==null?void 0:b.label)||"";u.useEffect(()=>{function L(C){p.current&&(p.current.contains(C.target)||d(!1))}return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[]),u.useEffect(()=>{c||m(0)},[c,f]);function S(L){var C;r==null||r((L==null?void 0:L.value)||""),h(""),d(!1),(C=x.current)==null||C.blur()}function I(){var L;r==null||r(""),h(""),d(!1),(L=x.current)==null||L.focus()}function E(L){if(!i){if(!c&&(L.key==="ArrowDown"||L.key==="ArrowUp")){d(!0);return}if(!c){L.key==="Backspace"&&(L.preventDefault(),h(b&&!f?(b.label||"").slice(0,-1):(f||"").slice(0,-1)),d(!0));return}if(L.key==="ArrowDown")L.preventDefault(),m(C=>Math.min(C+1,v.length-1));else if(L.key==="ArrowUp")L.preventDefault(),m(C=>Math.max(C-1,0));else if(L.key==="Enter"){L.preventDefault();const C=v[g];C&&S(C)}else L.key==="Escape"&&d(!1)}}return n.jsxs("div",{ref:p,className:`relative ${i?"opacity-60":""}`,children:[n.jsxs("div",{className:"grid gap-1.5",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{ref:x,type:"text",value:N,disabled:i,placeholder:a,onChange:L=>{h(L.target.value),d(!0)},onFocus:()=>{i||(w(!0),d(!0))},onBlur:()=>w(!1),onKeyDown:E,"aria-autocomplete":"list","aria-expanded":c,"aria-controls":"ss-results","aria-label":l||a,role:"combobox",autoComplete:"off",className:"w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-16 focus:outline-none focus:ring-2 focus:ring-brand-200 text-black"}),b&&!i?n.jsx("button",{type:"button",onClick:I,className:"absolute right-8 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-gray-100",title:"Clear",children:"×"}):null,n.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:n.jsx(ly.chevron,{})})]}),o&&n.jsx("input",{tabIndex:-1,"aria-hidden":"true",className:"sr-only",required:!0,value:t||"",onChange:()=>{}})]}),c&&!i&&n.jsx("div",{id:"ss-results",role:"listbox",className:"absolute z-30 mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:v.length===0?n.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No results"}):n.jsx("ul",{className:"max-h-72 overflow-auto",children:v.map((L,C)=>{const T=C===g;return n.jsx("li",{role:"option","aria-selected":T,className:`cursor-pointer px-3 py-2 text-sm ${T?"bg-brand-50":"hover:bg-gray-50"}`,onMouseEnter:()=>m(C),onMouseDown:k=>{k.preventDefault(),S(L)},children:L.label},L.value)})})})]})}function x6({triggerImageSelection:t=!1,type:r,hideHeader:s=!1,onSuccess:a}){const i=qt(),{id:o,type:l}=Ds(),c=!!o,{user:d}=Xt(),[f,h]=u.useState(!1),[g,m]=u.useState(!!o),[p,x]=u.useState(!1),[y,w]=u.useState(!1),[b,v]=u.useState(0),[j,N]=u.useState({}),[S,I]=u.useState(null),[E,L]=u.useState("need"),[C,T]=u.useState(!1),[k,M]=u.useState(0),[_,J]=u.useState({title:"",description:"",type:"Achievement",date:"",location:"",country:"All countries",city:"",relatedEntityType:"",relatedEntityId:""}),[Y,te]=u.useState(""),[K,X]=u.useState([]),[W,F]=u.useState([]),[P,A]=u.useState([]),B=u.useRef(null),z=u.useRef(null),O=u.useRef(null),[U,Z]=u.useState([]),[se,fe]=u.useState({categoryId:"",subcategoryId:"",subsubCategoryId:""}),[le,Ne]=u.useState([]),[Te,ht]=u.useState({categoryId:"",subcategoryId:"",subsubCategoryId:""}),Fe=[{value:"All countries",label:"All countries"},...An.map(Ie=>({value:Ie,label:Ie}))],[Ve,ut]=u.useState([]),[Je,G]=u.useState(!0);u.useEffect(()=>{ve(this,null,function*(){try{const ze=yield fetch("/data/cities.json");if(!ze.ok)throw new Error("Failed to fetch cities");const qe=yield ze.json();ut(qe)}catch(ze){console.error("Error fetching cities:",ze)}finally{G(!1)}})},[]);const ae=u.useMemo(()=>Ve.slice(0,1e4).map(Ie=>({value:Ie.city,label:`${Ie.city}${Ie.country?`, ${Ie.country}`:""}`,country:Ie.country})),[Ve]),Me=u.useMemo(()=>_.country?String(_.country).split(",").map(Ie=>Ie.trim().toLowerCase()).filter(Boolean):[],[_.country]),he=u.useMemo(()=>{if(Me.length===0||Me.includes("all countries"))return[];const Ie=new Set(Me);return ae.filter(ze=>Ie.has(ze.country.toLowerCase()))},[Me,ae]),[ye,oe]=u.useState([]),[ie,q]=u.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set});u.useEffect(()=>{ve(this,null,function*(){try{let Ie=_.relatedEntityType=="funding"?"opportunity":_.relatedEntityType;const ze=Ie?`?type=${Ie}`:"?type=moment",{data:qe}=yield Le.get(`/general-categories/tree${ze}`);Z(qe.generalCategories||[])}catch(Ie){console.error("Failed to load general categories",Ie)}})},[_.relatedEntityType]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:Ie}=yield Le.get("/industry-categories/tree");Ne(Ie.industryCategories||[])}catch(Ie){console.error("Failed to load industry categories",Ie)}})},[]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:Ie}=yield Le.get("/public/identities?type=all");oe(Ie.identities||[])}catch(Ie){console.error(Ie)}})},[]),u.useEffect(()=>{if(!c){const Ie=r||l;Ie&&(L(Ie),Ee("relatedEntityType",Ie))}},[r,l,c]),u.useImperativeHandle(O,()=>({pick:()=>{var Ie;return(Ie=B.current)==null?void 0:Ie.click()}})),u.useEffect(()=>{if(t&&O.current){const Ie=setTimeout(()=>{var ze;(ze=O.current)==null||ze.pick()},100);return()=>clearTimeout(Ie)}},[t]);const Se=u.useMemo(()=>U.map(Ie=>({value:Ie.id,label:Ie.name||`Category ${Ie.id}`})),[U]),$e=u.useMemo(()=>{const Ie=U.find(ze=>ze.id===se.categoryId);return((Ie==null?void 0:Ie.subcategories)||[]).map(ze=>({value:ze.id,label:ze.name||`Subcategory ${ze.id}`}))},[U,se.categoryId]),rt=u.useMemo(()=>{var qe;const Ie=U.find(it=>it.id===se.categoryId),ze=(qe=Ie==null?void 0:Ie.subcategories)==null?void 0:qe.find(it=>it.id===se.subcategoryId);return((ze==null?void 0:ze.subsubcategories)||[]).map(it=>({value:it.id,label:it.name||`Sub-sub ${it.id}`}))},[U,se.categoryId,se.subcategoryId]),nt=u.useMemo(()=>le.map(Ie=>({value:Ie.id,label:Ie.name||`Category ${Ie.id}`})),[le]),Ue=u.useMemo(()=>{const Ie=le.find(ze=>ze.id===Te.categoryId);return((Ie==null?void 0:Ie.subcategories)||[]).map(ze=>({value:ze.id,label:ze.name||`Subcategory ${ze.id}`}))},[le,Te.categoryId]),xt=u.useMemo(()=>{var qe;const Ie=le.find(it=>it.id===Te.categoryId),ze=(qe=Ie==null?void 0:Ie.subcategories)==null?void 0:qe.find(it=>it.id===Te.subcategoryId);return((ze==null?void 0:ze.subsubs)||[]).map(it=>({value:it.id,label:it.name||`Sub-sub ${it.id}`}))},[le,Te.categoryId,Te.subcategoryId]);u.useEffect(()=>{c&&ve(this,null,function*(){var Ie,ze,qe,it,Ae,Ge,Ye,Et,Ot;try{m(!0);const{data:ft}=yield Le.get(`/moments/${o}?updated=true`),D=(Ot=(Et=(Ge=(it=(ze=(Ie=ft.ownerUserId)!=null?Ie:ft.createdById)!=null?ze:ft.userId)!=null?it:(qe=ft.author)==null?void 0:qe.id)!=null?Ge:(Ae=ft.owner)==null?void 0:Ae.id)!=null?Et:(Ye=ft.createdBy)==null?void 0:Ye.id)!=null?Ot:null;I(D),J(Q=>me(ne(ne({},Q),ft),{title:ft.title||"",description:ft.description||"",type:ft.type||"Achievement",date:ft.date||"",location:ft.location||"",relatedEntityType:ft.relatedEntityType||"",relatedEntityId:ft.relatedEntityId||""})),console.log({data:ft}),Array.isArray(ft.tags)&&X(ft.tags),Array.isArray(ft.images)?F(ft.images):F([]),Array.isArray(ft.attachments)?A(ft.attachments.map(Q=>({name:Q.name||"Attachment",base64url:Q.base64url||Q.url||""}))):A([]),fe({categoryId:ft.generalCategoryId||"",subcategoryId:ft.generalSubcategoryId||"",subsubCategoryId:ft.generalSubsubCategoryId||""}),ht({categoryId:ft.industryCategoryId||"",subcategoryId:ft.industrySubcategoryId||"",subsubCategoryId:ft.industrySubsubCategoryId||""}),L(ft.relatedEntityType||"need"),q({identityIds:new Set((ft.audienceIdentities||[]).map(Q=>Q.id)),categoryIds:new Set((ft.audienceCategories||[]).map(Q=>Q.id)),subcategoryIds:new Set((ft.audienceSubcategories||[]).map(Q=>Q.id)),subsubCategoryIds:new Set((ft.audienceSubsubs||[]).map(Q=>Q.id))}),m(!1)}catch(ft){console.error(ft),ce.error("Failed to load experience"),i("/feed")}})},[c,o,i]);const Oe=c&&S&&(d==null?void 0:d.id)!==S;function Ee(Ie,ze){Oe||J(qe=>{const it=me(ne({},qe),{[Ie]:ze});return Ie==="country"&&ze==="All countries"&&(it.city=""),it})}function ee(){if(Oe)return;const Ie=Y.trim();Ie&&(K.includes(Ie)||X(ze=>[...ze,Ie]),te(""))}function de(Ie){Oe||X(ze=>ze.filter((qe,it)=>it!==Ie))}function ue(){return _.relatedEntityType?_.description.trim()?null:"Description is required.":"Related entity type is required."}function _e(Ie){return ve(this,null,function*(){if(Oe)return;const ze=Array.from(Ie||[]);if(!ze.length)return;const qe=ze.filter(Et=>Et.type.startsWith("image/")||Et.type.startsWith("video/"));if(qe.length!==ze.length){ce.error("Only image and video files are allowed.");return}if(qe.filter(Et=>Et.size>50*1024*1024).length){ce.error("Each file must be up to 50MB.");return}const Ae=qe.filter(Et=>Et.size<=50*1024*1024),Ge=20-W.length,Ye=Ae.slice(0,Math.max(0,Ge));try{w(!0),v(Ye.length);const Et={};Ye.forEach(H=>{Et[H.name]=0}),N(Et);const Ot=new FormData;Ye.forEach(H=>{Ot.append("media",H)});const D=(yield Le.post("/moments/upload-media",Ot,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:H=>{if(H.total){const V=Math.round(H.loaded*100/H.total),re={};Ye.forEach(ge=>{re[ge.name]=V}),N(re)}}})).data.filenames||[],Q=Ye.map((H,V)=>({base64url:`${D[V]||H.name}`,name:H.name.replace(/\.[^/.]+$/,""),type:H.type.startsWith("video/")?"video":"image"}));F(H=>[...H,...Q]),N({})}catch(Et){console.error("Error uploading media:",Et),ce.error("Failed to upload media files"),N({})}finally{w(!1),v(0)}})}console.log({images:W});function Xe(Ie,ze){Oe||F(qe=>qe.map((it,Ae)=>Ae===Ie?me(ne({},it),{name:ze}):it))}function gt(Ie){Oe||F(ze=>ze.filter((qe,it)=>it!==Ie))}function wt(Ie){M(Ie),T(!0)}function vt(){T(!1)}const ct=u.useMemo(()=>W.map(Ie=>Ie.base64url),[W]);function Ze(Ie){return ve(this,null,function*(){if(Oe)return;const ze=Array.from(Ie||[]);if(!ze.length)return;const qe=5*1024*1024,it=ze.filter(Ye=>Ye.size>qe);if(it.length>0){const Ye=it.map(Et=>Et.name).join(", ");ce.error(`Files exceeding 5MB limit: ${Ye}`);return}const Ae=20-P.length,Ge=Ae>0?ze.slice(0,Ae):[];try{const Ye=yield Promise.all(Ge.map(Et=>ve(this,null,function*(){const Ot=yield u5e(Et);return{name:Et.name,base64url:Ot}})));A(Et=>[...Et,...Ye])}catch(Ye){console.error(Ye),ce.error("Some files could not be read.")}})}function dt(Ie){Oe||A(ze=>ze.filter((qe,it)=>it!==Ie))}function yt(Ie){return ve(this,null,function*(){var qe,it;if(Ie.preventDefault(),Oe)return;const ze=ue();if(ze)return ce.error(ze);x(!0);try{const Ae=Array.from(ie.identityIds),Ge=Array.from(ie.categoryIds),Ye=Array.from(ie.subcategoryIds),Et=Array.from(ie.subsubCategoryIds),Ot={title:_.title,description:_.description,type:_.type,date:_.date||null,location:_.location||void 0,country:_.country||void 0,city:_.country==="All countries"?void 0:_.city||void 0,tags:K,images:W,attachments:P,identityIds:Ae,categoryIds:Ge,subcategoryIds:Ye,subsubCategoryIds:Et,generalCategoryId:se.categoryId||null,generalSubcategoryId:se.subcategoryId||null,generalSubsubCategoryId:se.subsubCategoryId||null,industryCategoryId:Te.categoryId||null,industrySubcategoryId:Te.subcategoryId||null,industrySubsubCategoryId:Te.subsubCategoryId||null,relatedEntityType:_.relatedEntityType||null,relatedEntityId:_.relatedEntityId||null};c?(yield Le.put(`/moments/${o}`,Ot),ce.success("Experience updated!")):(yield Le.post("/moments",Ot),ce.success("Experience published!"),s&&a?a():window.history.state&&window.history.state.idx>0?i(-1):i("/"))}catch(Ae){console.error(Ae),ce.error(((it=(qe=Ae==null?void 0:Ae.response)==null?void 0:qe.data)==null?void 0:it.message)||"Could not save moment")}finally{x(!1)}})}return g&&o?n.jsx(ei,{message:"Loading experience…",tip:"Fetching..."}):n.jsxs("div",{className:"min-h-screen bg-[#F7F7FB] text-gray-900",children:[!s&&n.jsx(an,{page:"experiences"}),n.jsx("main",{className:`mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 ${s?"py-4":"py-8"}`,children:n.jsxs("div",{children:[!s&&n.jsxs("button",{onClick:()=>{window.history.state&&window.history.state.idx>0?i(-1):i("/")},className:"flex items-center gap-2 text-sm text-gray-600 hover:text-brand-600",type:"button",children:["←  ",window.history.state&&window.history.state.idx>0?"Back":"Feed"]}),c&&!Oe&&n.jsx("div",{children:n.jsx("h1",{className:"text-2xl font-bold mt-3",children:c?"Edit Experience":"Share Experience"})}),Oe?n.jsx(f5e,{form:_,tags:K,images:W,audSel:ie,audTree:ye}):n.jsxs("form",{onSubmit:yt,className:"mt-6 rounded-2xl bg-white border border-gray-100 p-6 shadow-sm space-y-8",children:[s&&n.jsxs("section",{className:"hidden",children:[n.jsx("h2",{className:"font-semibold",children:"What is this experience about? *"}),n.jsx("div",{className:"mt-2 grid sm:grid-cols-2 gap-4",children:n.jsxs("select",{value:_.relatedEntityType,onChange:Ie=>Ee("relatedEntityType",Ie.target.value),className:"rounded-xl border border-gray-200 px-3 py-2 text-sm w-full bg-white focus:outline-none focus:ring-2 focus:ring-brand-200",children:[n.jsx("option",{value:"",children:"Select entity type"}),n.jsx("option",{value:"job",children:"Job"}),n.jsx("option",{value:"event",children:"Event"}),n.jsx("option",{value:"product",children:"Product"}),n.jsx("option",{value:"service",children:"Service"}),n.jsx("option",{value:"tourism",children:"Tourism"}),n.jsx("option",{value:"funding",children:"Funding"})]})})]}),n.jsx("section",{children:n.jsx("textarea",{value:_.description,onChange:Ie=>Ee("description",Ie.target.value),placeholder:_.relatedEntityType=="job"?(d==null?void 0:d.accountType)!="company"?"Share a professional experience, an achievement, milestone or learnings.":"Share a professional experience, an achievement, milestone or learnings, and inspire talents to join your organization or programs":_.relatedEntityType=="event"?(d==null?void 0:d.accountType)!="company"?"Share an experience of an event, an achievement, milestone or learning":"Share an experience of an event, an achievement, milestone or learning and inspire potential clients to experience it.":_.relatedEntityType=="product"?(d==null?void 0:d.accountType)!="company"?"Share an experience or review of a product and inspire others to experience it.":"Share an insight, achievement or experience with your products and inspire potential clients to experience it.":_.relatedEntityType=="service"?(d==null?void 0:d.accountType)!="company"?"Share an insight, achievement or experience with a service and inspire others to experience it. ":"Share an insight, achievement or experience with your services and inspire potential clients  to experience it.":_.relatedEntityType=="tourism"?(d==null?void 0:d.accountType)!="company"?"Share your experience with a tourism attraction and inspire others to experience it.":"Share an experience with your tourism services and invite potential clients to experience it.":_.relatedEntityType=="funding"?(d==null?void 0:d.accountType)!="company"?"Share an insight, learning or achievement related to funding and inspire others to experience it.":"Share an insight, learning or achievement related to your programs and inspire others to benefit from it.":_.relatedEntityType?`Share an experience of ${_.relatedEntityType} — an achievement, milestone, or learning`:"Share an experience — an achievement, milestone, or learning",__placeholder:"Example: Just launched our new product! Learned valuable lessons about scaling and user onboarding.",_placeholder:"Describe what happened, what you learned, challenges faced, outcomes…",className:"mt-2 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",rows:5,required:!0})}),n.jsxs("section",{children:[n.jsx("h2",{className:"font-semibold text-[12px] text-gray-700",children:"Photos & Videos"}),n.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-600",children:[n.jsxs("div",{className:"flex justify-center items-center gap-3 mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(x0,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs",children:"Images"})]}),n.jsx("div",{className:"h-4 w-px bg-gray-300"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Zi,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs",children:"Videos"})]})]}),"Upload images or videos showcasing your experience",n.jsxs("div",{className:"mt-3",children:[n.jsx("input",{ref:B,type:"file",multiple:!0,accept:"image/*,video/*",className:"hidden",onChange:Ie=>_e(Ie.target.files)}),n.jsx("button",{type:"button",onClick:()=>{var Ie;return(Ie=B.current)==null?void 0:Ie.click()},className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Choose Files"})]}),(W.length>0||b>0)&&n.jsxs("div",{className:"mt-6 grid sm:grid-cols-2 gap-4 text-left",children:[W.map((Ie,ze)=>n.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 overflow-hidden grid place-items-center relative cursor-pointer",onClick:()=>wt(ze),children:Ie.type==="video"?n.jsxs(n.Fragment,{children:[n.jsx("video",{src:Ie.base64url,className:"h-full w-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:n.jsx(Zi,{className:"h-4 w-4 text-white"})})]}):n.jsx("img",{src:Ie.base64url,alt:Ie.name,className:"h-full w-full object-cover"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("input",{type:"text",value:Ie.name,onChange:qe=>Xe(ze,qe.target.value),placeholder:`${Ie.type==="video"?"Video":"Image"} ${ze+1} name`,className:"w-full text-sm font-medium border-none p-0 focus:outline-none focus:ring-0"}),n.jsxs("div",{className:"text-[11px] text-gray-500 truncate",children:[Ie.type==="video"?"Video":"Image"," • Attached"]})]}),n.jsx("button",{type:"button",onClick:()=>gt(ze),className:"p-1 rounded hover:bg-gray-100",title:"Remove",children:n.jsx(ly.trash,{})})]},`${Ie.base64url}-${ze}`)),b>0&&Array.from({length:b}).map((Ie,ze)=>n.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-200 animate-pulse"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-1"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse"}),y&&n.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-1.5",children:n.jsx("div",{className:"bg-brand-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${Object.values(j)[0]||0}%`}})})]}),n.jsx("div",{className:"h-8 w-8 rounded bg-gray-200 animate-pulse"})]},`img-skel-${ze}`))]}),y&&Object.keys(j).length>0&&n.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Uploading ",Object.keys(j).length," file(s)..."]}),n.jsxs("span",{className:"text-sm text-gray-500",children:[Object.values(j)[0],"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-brand-600 h-2 rounded-full transition-all duration-300",style:{width:`${Object.values(j)[0]||0}%`}})})]}),n.jsx("p",{className:"mt-2 text-[11px] text-gray-400",children:"Up to 50MB each. Supported formats: JPG, PNG, GIF, MP4, MOV"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-[12px] font-medium text-gray-700",children:"Experience Type"}),n.jsx("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-3",children:(_.relatedEntityType==="job"||_.relatedEntityType==="event"?["Achievement","Learning experience","Motivational","Article/opinion"]:["Achievement","Recommendation","Milestone"]).map(Ie=>n.jsx("button",{type:"button",onClick:()=>Ee("type",Ie),className:`border rounded-xl p-3 text-center transition-colors break-words min-h-[60px] flex items-center justify-center ${_.type===Ie?"border-brand-600 bg-brand-50":"border-gray-200 bg-white hover:border-brand-600"}`,children:n.jsx("span",{className:"text-sm font-medium leading-tight",children:Ie})},Ie))})]}),n.jsxs("section",{className:"hidden",children:[n.jsx("h2",{className:"font-semibold",children:"Attachments (Optional)"}),n.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-600",children:[n.jsx("div",{className:"mb-2",children:n.jsx("svg",{className:"mx-auto h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 4v16m8-8H4"})})}),"Upload documents or other files to support your experience",n.jsxs("div",{className:"mt-3",children:[n.jsx("input",{ref:z,type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.txt",className:"hidden",onChange:Ie=>Ze(Ie.target.files)}),n.jsx("button",{type:"button",onClick:()=>{var Ie;return(Ie=z.current)==null?void 0:Ie.click()},className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Choose Files"})]}),P.map((Ie,ze)=>{var Ae,Ge;const qe=typeof Ie.base64url=="string"&&(Ie.base64url.startsWith("data:image")||/\.(jpe?g|png|gif|webp|svg)$/i.test(Ie.base64url));let it=null;return((Ae=Ie.base64url)!=null&&Ae.startsWith("data:image")||(Ge=Ie.base64url)!=null&&Ge.startsWith("http")||qe)&&(it=Ie.base64url),n.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-100 grid place-items-center overflow-hidden",children:qe?n.jsx("img",{src:it,alt:Ie.title,className:"h-full w-full object-cover"}):n.jsx("span",{className:"text-xs text-gray-500",children:"DOC"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"truncate text-sm font-medium",children:Ie.title}),n.jsx("div",{className:"text-[11px] text-gray-500 truncate",children:"Attached"})]}),n.jsx("button",{type:"button",onClick:()=>dt(ze),className:"p-1 rounded hover:bg-gray-100",title:"Remove",children:n.jsx(ly.trash,{})})]},`${Ie.name}-${ze}`)})]})]}),n.jsxs("section",{className:"hidden",children:[n.jsx("h2",{className:"font-semibold",children:"Title *"}),n.jsx("input",{type:"text",value:_.title,onChange:Ie=>Ee("title",Ie.target.value),placeholder:"Give your experience a clear, strong title",className:"mt-2 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"font-semibold hidden",children:"When & Where"}),n.jsxs("div",{className:"mt-2 grid sm:grid-cols-2 gap-4 hidden",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Date"}),n.jsx("input",{type:"date",value:_.date||"",onChange:Ie=>Ee("date",Ie.target.value),className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Address"}),n.jsx("input",{type:"text",value:_.location,onChange:Ie=>Ee("location",Ie.target.value),placeholder:"Address",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]})]}),n.jsxs("div",{className:"mt-3 grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Country"}),n.jsx(Mc,{value:_.country,onChange:Ie=>Ee("country",Ie),options:Fe,placeholder:"Search and select country..."},_.country)]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"City"}),n.jsx(Mc,{value:_.city,onChange:Ie=>Ee("city",Ie),options:he,placeholder:"Search and select city...",disabled:_.country==="All countries"},_.country)]})]})]}),n.jsxs("section",{className:"hidden",children:[n.jsx("h2",{className:"font-semibold",children:"Tags"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("input",{type:"text",value:Y,onChange:Ie=>te(Ie.target.value),onKeyDown:Ie=>{Ie.key==="Enter"&&(Ie.preventDefault(),ee())},placeholder:"e.g., AI, grants, partnership, networking",className:"flex-1 rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"}),n.jsxs("button",{type:"button",onClick:ee,className:"inline-flex items-center gap-1 rounded-lg px-3 py-2 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700","aria-label":"Add tag",children:[n.jsx(ly.plus,{})," Add"]})]}),K.length>0&&n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:K.map((Ie,ze)=>n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-50 text-brand-700 px-3 py-1 text-xs border border-brand-100",children:[Ie,n.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>de(ze),title:"Remove",children:"×"})]},`${Ie}-${ze}`))})]}),n.jsx("section",{className:`${_.relatedEntityType=="_job"?"hidden":""}`,children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Category"}),n.jsx(Mc,{ariaLabel:"Category",value:se.categoryId,onChange:Ie=>fe({categoryId:Ie,subcategoryId:"",subsubCategoryId:""}),options:Se,placeholder:"Search & select category…"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Subcategory"}),n.jsx(Mc,{ariaLabel:"Subcategory",value:se.subcategoryId,onChange:Ie=>fe(ze=>me(ne({},ze),{subcategoryId:Ie,subsubCategoryId:""})),options:$e,placeholder:"Search & select subcategory…",disabled:!se.categoryId})]}),n.jsxs("div",{className:"hidden",children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Sub-sub"}),n.jsx(Mc,{ariaLabel:"Sub-subcategory",value:se.subsubCategoryId,onChange:Ie=>fe(ze=>me(ne({},ze),{subsubCategoryId:Ie})),options:rt,placeholder:"Search & select sub-sub…",disabled:!se.subcategoryId})]})]})}),n.jsxs("section",{className:"hidden",children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"Industry Classification"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Category"}),n.jsx(Mc,{ariaLabel:"Industry Category",value:Te.categoryId,onChange:Ie=>ht({categoryId:Ie,subcategoryId:"",subsubCategoryId:""}),options:nt,placeholder:"Search & select…"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Subcategory"}),n.jsx(Mc,{ariaLabel:"Industry Subcategory",value:Te.subcategoryId,onChange:Ie=>ht(ze=>me(ne({},ze),{subcategoryId:Ie,subsubCategoryId:""})),options:Ue,placeholder:"Search & select…",disabled:!Te.categoryId})]}),n.jsxs("div",{className:"hidden",children:[" ",n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Sub-sub"}),n.jsx(Mc,{ariaLabel:"Industry Sub-subcategory",value:Te.subsubCategoryId,onChange:Ie=>ht(ze=>me(ne({},ze),{subsubCategoryId:Ie})),options:xt,placeholder:"Search & select…",disabled:!Te.subcategoryId})]})]})]}),n.jsx("section",{children:n.jsx("div",{className:"mb-4",children:f?n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-brand-600"}),n.jsx("h3",{className:"font-semibold text-brand-600",children:"Share With (Target Audience)"})]}),n.jsxs("button",{type:"button",onClick:()=>h(!1),className:"inline-flex items-center gap-1 px-3 py-1 border border-gray-300 text-gray-600 rounded-lg text-xs hover:bg-gray-50",children:[n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Hide"]})]}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select who should see this experience."}),n.jsx(gl,{tree:ye,selected:ie,onChange:Ie=>q(Ie)})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsxs("button",{type:"button",onClick:()=>h(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 5v14M5 12h14"})}),"Define Audience (optional)"]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Target your post to specific audiences"})]})})}),n.jsxs("div",{className:"flex justify-end gap-3",children:[!s&&n.jsx("button",{type:"button",onClick:()=>i("/feed"),className:pu.ghost,children:"Cancel"}),n.jsx("button",{type:"submit",className:pu.primaryWide,disabled:p,children:p?"Saving…":c?"Update":"Publish"})]})]})]})}),C&&n.jsx(Td,{urls:ct,initialIndex:k,onClose:vt})]})}const h5e=Object.freeze(Object.defineProperty({__proto__:null,default:x6},Symbol.toStringTag,{value:"Module"})),T8={primary:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",primaryWide:"w-full rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",ghost:"rounded-lg px-3 py-1.5 text-sm font-semibold border border-brand-600 text-brand-600 bg-white hover:bg-brand-50",badge:"inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium",chip:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs"},Wv=({children:t,required:r})=>n.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:[t," ",r&&n.jsx("span",{className:"text-pink-600",children:"*"})]}),v6={plus:()=>n.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 5v14M5 12h14"})}),trash:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M9 3h6l1 2h4v2H4V5h4l1-2Zm1 6h2v9h-2V9Zm4 0h2v9h-2V9ZM6 9h2v9H6V9Z"})}),chevron:()=>n.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"m6 9 6 6 6-6"})}),tag:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"m10 4 8 0a2 2 0 0 1 2 2v8l-8 8-8-8V6a2 2 0 0 1 2-2h4Z"}),n.jsx("circle",{cx:"15",cy:"9",r:"1.5",fill:"white"})]}),cash:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"M3 6h18v12H3z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3",fill:"white"})]})};function Hv({value:t,onChange:r,options:s,placeholder:a="Select…",disabled:i=!1,required:o=!1,ariaLabel:l}){const[c,d]=u.useState(!1),[f,h]=u.useState(""),[g,m]=u.useState(0),p=u.useRef(null),x=u.useRef(null),y=u.useMemo(()=>s.find(S=>String(S.value)===String(t))||null,[s,t]),w=u.useMemo(()=>{const S=f.trim().toLowerCase();return S?s.map(I=>({o:I,score:(I.label||"").toLowerCase().indexOf(S)})).filter(I=>I.score!==-1).sort((I,E)=>I.score-E.score).map(I=>I.o).slice(0,100):s.slice(0,100)},[f,s]),b=y&&!f?y.label:f;u.useEffect(()=>{function S(I){p.current&&(p.current.contains(I.target)||d(!1))}return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]),u.useEffect(()=>{c||m(0)},[c,f]);function v(S){var I;r==null||r((S==null?void 0:S.value)||""),h(""),d(!1),(I=x.current)==null||I.blur()}function j(){r==null||r(""),h(""),d(!1)}function N(S){if(!i){if(!c&&(S.key==="ArrowDown"||S.key==="ArrowUp")){d(!0);return}if(c)if(S.key==="ArrowDown")S.preventDefault(),m(I=>Math.min(I+1,w.length-1));else if(S.key==="ArrowUp")S.preventDefault(),m(I=>Math.max(I-1,0));else if(S.key==="Enter"){S.preventDefault();const I=w[g];I&&v(I)}else S.key==="Escape"&&d(!1)}}return n.jsxs("div",{ref:p,className:`relative ${i?"opacity-60":""}`,children:[n.jsxs("div",{className:"grid gap-1.5",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{ref:x,type:"text",value:b,disabled:i,placeholder:a,onChange:S=>{h(S.target.value),d(!0)},onFocus:()=>!i&&d(!0),onKeyDown:N,"aria-autocomplete":"list","aria-expanded":c,"aria-controls":"ss-results","aria-label":l||a,role:"combobox",autoComplete:"off",className:"w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-16 focus:outline-none focus:ring-2 focus:ring-brand-200 text-black"}),y&&!i?n.jsx("button",{type:"button",onClick:j,className:"absolute right-8 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-gray-100",title:"Clear",children:"×"}):null,n.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:n.jsx(v6.chevron,{})})]}),o&&n.jsx("input",{tabIndex:-1,"aria-hidden":"true",className:"sr-only",required:!0,value:t||"",onChange:()=>{}})]}),c&&!i&&n.jsx("div",{id:"ss-results",role:"listbox",className:"absolute z-30 mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:w.length===0?n.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No results"}):n.jsx("ul",{className:"max-h-72 overflow-auto",children:w.map((S,I)=>{const E=I===g;return n.jsx("li",{role:"option","aria-selected":E,className:`cursor-pointer px-3 py-2 text-sm ${E?"bg-brand-50":"hover:bg-gray-50"}`,onMouseEnter:()=>m(I),onMouseDown:L=>{L.preventDefault(),v(S)},children:S.label},S.value)})})})]})}function A8(){const t=qt(),{id:r}=Ds(),s=!!r;Xt();const[a,i]=u.useState([]),[o,l]=u.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[c,d]=u.useState({title:"",offeringType:"Service",description:"",budget:"",timeline:"Flexible",location:"",requirements:[]}),[f,h]=u.useState(""),[g,m]=u.useState([]),[p,x]=u.useState({categoryId:"",subcategoryId:"",subsubCategoryId:""}),[y,w]=u.useState([]),[b,v]=u.useState({categoryId:"",subcategoryId:""});u.useEffect(()=>{ve(this,null,function*(){try{const{data:M}=yield Le.get("/public/identities");i(M.identities||[])}catch(M){console.error(M)}})},[]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:M}=yield Le.get("/general-categories/tree?type=offering");m(M.generalCategories||[])}catch(M){console.error("Failed to load general categories",M)}})},[]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:M}=yield Le.get("/industry-categories/tree");w(M.industryCategories||[])}catch(M){console.error("Failed to load industry categories",M)}})},[]);const j=u.useMemo(()=>g.map(M=>({value:M.id,label:M.name||`Category ${M.id}`})),[g]),N=u.useMemo(()=>{const M=g.find(_=>_.id===p.categoryId);return((M==null?void 0:M.subcategories)||[]).map(_=>({value:_.id,label:_.name||`Subcategory ${_.id}`}))},[g,p.categoryId]);u.useMemo(()=>{var J;const M=g.find(Y=>Y.id===p.categoryId),_=(J=M==null?void 0:M.subcategories)==null?void 0:J.find(Y=>Y.id===p.subcategoryId);return((_==null?void 0:_.subsubcategories)||[]).map(Y=>({value:Y.id,label:Y.name||`Sub-sub ${Y.id}`}))},[g,p.categoryId,p.subcategoryId]);const S=u.useMemo(()=>y.map(M=>({value:M.id,label:M.name||`Category ${M.id}`})),[y]),I=u.useMemo(()=>{const M=y.find(_=>_.id===b.categoryId);return((M==null?void 0:M.subcategories)||[]).map(_=>({value:_.id,label:_.name||`Subcategory ${_.id}`}))},[y,b.categoryId]);function E(M,_){d(J=>me(ne({},J),{[M]:_}))}function L(){const M=f.trim();M&&(d(_=>_.requirements.includes(M)?_:me(ne({},_),{requirements:[..._.requirements,M]})),h(""))}function C(M){d(_=>me(ne({},_),{requirements:_.requirements.filter((J,Y)=>Y!==M)}))}function T(){return c.title.trim()?c.description.trim()?null:"Description is required":"Title is required"}function k(M){return ve(this,null,function*(){M.preventDefault();const _=T();if(_){ce.error(_);return}ce.success("Offering created successfully! (Frontend only - backend coming soon)"),t("/offerings")})}return n.jsxs("div",{className:"min-h-screen bg-[#F7F7FB] text-gray-900",children:[n.jsx(an,{page:"offerings"}),n.jsxs("main",{className:"mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("button",{onClick:()=>t("/offerings"),className:"flex items-center gap-2 text-sm text-gray-600 hover:text-brand-600",type:"button",children:"← Back to offerings"}),n.jsx("h1",{className:"text-2xl font-bold mt-3",children:s?"Edit Offering":"Create Offering"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Share what you're looking for and connect with people who can help."}),n.jsxs("form",{onSubmit:k,className:"mt-6 rounded-2xl bg-white border p-6 shadow-sm space-y-8",children:[n.jsxs("section",{children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"What are you looking for?"}),n.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{label:"Service",desc:"Professional services"},{label:"Product",desc:"Products or goods"},{label:"Partnership",desc:"Business partnerships"},{label:"Investment",desc:"Investment opportunities"},{label:"Other",desc:"Something else"}].map(M=>n.jsxs("button",{type:"button",onClick:()=>E("offeringType",M.label),className:`border rounded-xl p-4 text-left transition-colors ${c.offeringType===M.label?"border-brand-600 bg-brand-50":"border-gray-200 bg-white hover:border-brand-600"}`,children:[n.jsx("div",{className:"font-medium",children:M.label}),n.jsx("div",{className:"text-xs text-gray-500",children:M.desc})]},M.label))})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"Basic Information"}),n.jsxs("div",{className:"mt-3 grid gap-4",children:[n.jsxs("div",{children:[n.jsx(Wv,{required:!0,children:"Title"}),n.jsx("input",{type:"text",value:c.title,onChange:M=>E("title",M.target.value),placeholder:"e.g., Looking for a web developer for my startup",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",required:!0})]}),n.jsxs("div",{children:[n.jsx(Wv,{required:!0,children:"Description"}),n.jsx("textarea",{value:c.description,onChange:M=>E("description",M.target.value),placeholder:"Describe what you're looking for in detail. What do you need help with?",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",rows:4,required:!0})]})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"Budget & Timeline"}),n.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(Wv,{children:"Budget Range"}),n.jsx("input",{type:"text",value:c.budget,onChange:M=>E("budget",M.target.value),placeholder:"e.g., $5,000 - $10,000",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Wv,{children:"Timeline"}),n.jsxs("select",{value:c.timeline,onChange:M=>E("timeline",M.target.value),className:"mt-1 w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-200",children:[n.jsx("option",{children:"ASAP"}),n.jsx("option",{children:"1-3 months"}),n.jsx("option",{children:"3-6 months"}),n.jsx("option",{children:"6+ months"}),n.jsx("option",{children:"Flexible"})]}),n.jsx("span",{className:"pointer-events-none absolute right-2 bottom-3",children:n.jsx(v6.chevron,{})})]})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"Requirements & Skills Needed"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("input",{type:"text",value:f,onChange:M=>h(M.target.value),onKeyDown:M=>{M.key==="Enter"&&(M.preventDefault(),L())},placeholder:"Add specific requirements or skills needed",className:"flex-1 rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"}),n.jsxs("button",{type:"button",onClick:L,className:"inline-flex items-center gap-1 rounded-lg px-3 py-2 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700","aria-label":"Add requirement",children:[n.jsx(v6.plus,{})," Add"]})]}),c.requirements.length>0&&n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:c.requirements.map((M,_)=>n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-50 text-brand-700 px-3 py-1 text-xs border border-brand-100",children:[M,n.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>C(_),title:"Remove",children:"×"})]},`${M}-${_}`))})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"Classification"}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Search and pick the category that best describes what you're looking for."}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"General Category"}),n.jsx(Hv,{ariaLabel:"Category",value:p.categoryId,onChange:M=>x({categoryId:M,subcategoryId:"",subsubCategoryId:""}),options:j,placeholder:"Search & select category…"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"General Subcategory"}),n.jsx(Hv,{ariaLabel:"Subcategory",value:p.subcategoryId,onChange:M=>x(_=>me(ne({},_),{subcategoryId:M,subsubCategoryId:""})),options:N,placeholder:"Search & select subcategory…",disabled:!p.categoryId})]})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"Industry Classification"}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select the industry category that best describes your offering."}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Category"}),n.jsx(Hv,{ariaLabel:"Industry Category",value:b.categoryId,onChange:M=>v({categoryId:M,subcategoryId:""}),options:S,placeholder:"Search & select industry category…"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Subcategory"}),n.jsx(Hv,{ariaLabel:"Industry Subcategory",value:b.subcategoryId,onChange:M=>v(_=>me(ne({},_),{subcategoryId:M})),options:I,placeholder:"Search & select industry subcategory…",disabled:!b.categoryId})]})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"Share With (Target Audience)"}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select who should see this offering. Choose multiple identities, categories, subcategories, and sub-subs."}),n.jsx(gl,{tree:a,selected:o,onChange:M=>l(M)})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{type:"button",className:T8.ghost,onClick:()=>t("/offerings"),children:"Cancel"}),n.jsx("button",{type:"submit",className:T8.primary,children:s?"Update Offering":"Publish Offering"})]})]})]})]})}const xu={primary:"rounded-lg px-3 py-1.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",primaryWide:"w-full rounded-lg px-4 py-2.5 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500/30",ghost:"rounded-lg px-3 py-1.5 text-sm font-semibold border border-brand-600 text-brand-600 bg-white hover:bg-brand-50",badge:"inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium",chip:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 border border-gray-200 px-2.5 py-1 text-xs"},Df=({children:t,required:r})=>n.jsxs("label",{className:"text-[12px] font-medium text-gray-700",children:[t," ",r&&n.jsx("span",{className:"text-pink-600",children:"*"})]}),So={plus:()=>n.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 5v14M5 12h14"})}),trash:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M9 3h6l1 2h4v2H4V5h4l1-2Zm1 6h2v9h-2V9Zm4 0h2v9h-2V9ZM6 9h2v9H6V9Z"})}),chevron:()=>n.jsx("svg",{className:"h-4 w-4 text-gray-500",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"m6 9 6 6 6-6"})}),tag:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"m10 4 8 0a2 2 0 0 1 2 2v8l-8 8-8-8V6a2 2 0 0 1 2-2h4Z"}),n.jsx("circle",{cx:"15",cy:"9",r:"1.5",fill:"white"})]}),cash:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"M3 6h18v12H3z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3",fill:"white"})]}),pin:()=>n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})}),video:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("path",{d:"m17 10.5-5-3v6l5-3Z"}),n.jsx("rect",{x:"3",y:"6",width:"14",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),image:()=>n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:[n.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),n.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5",fill:"currentColor"}),n.jsx("path",{d:"m21 15-5-5L5 21",stroke:"currentColor",strokeWidth:"2"})]})};function _8(t){return t.type.startsWith("image/")?"image":t.type.startsWith("video/")?"video":"document"}function g5e({form:t,attachments:r,audSel:s,audTree:a}){var m,p;const i=fr.useMemo(()=>{const x=new Map,y=new Map,w=new Map,b=new Map;for(const v of a){x.set(String(v.id),v.name||v.title||`Identity ${v.id}`);for(const j of v.categories||[]){y.set(String(j.id),j.name||j.title||`Category ${j.id}`);for(const N of j.subcategories||[]){w.set(String(N.id),N.name||N.title||`Subcategory ${N.id}`);for(const S of N.subsubs||[])b.set(String(S.id),S.name||S.title||`Sub-sub ${S.id}`)}}}return{ids:x,cats:y,subs:w,subsubs:b}},[a]),o=Array.from(s.identityIds||[]).map(x=>i.ids.get(String(x))).filter(Boolean),l=Array.from(s.categoryIds||[]).map(x=>i.cats.get(String(x))).filter(Boolean),c=Array.from(s.subcategoryIds||[]).map(x=>i.subs.get(String(x))).filter(Boolean),d=Array.from(s.subsubCategoryIds||[]).map(x=>i.subsubs.get(String(x))).filter(Boolean),f=(r==null?void 0:r.filter(x=>x.type==="image"||x.type==="video"))||[],h=(r==null?void 0:r.filter(x=>x.type==="document"))||[],g=((m=f[0])==null?void 0:m.base64url)||null;return n.jsxs("div",{className:"mt-6 rounded-2xl bg-white border p-0 shadow-sm overflow-hidden",children:[g?n.jsxs("div",{className:"relative aspect-[16/6] w-full bg-gray-100",children:[((p=f[0])==null?void 0:p.type)==="video"?n.jsx("video",{src:g,className:"h-full w-full object-cover",controls:!0}):n.jsx("img",{src:g,alt:"Need cover",className:"h-full w-full object-cover"}),n.jsx("span",{className:"absolute left-4 top-4 bg-white/90 border-gray-200 text-gray-700 rounded-full px-2 py-0.5 text-xs font-medium",children:t.relatedEntityType||"Need"})]}):null,n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{children:[t.title&&n.jsx("h1",{className:"text-xl font-bold",children:t.title||"Untitled Need"}),n.jsx("p",{className:"mt-1 text-sm text-gray-700",children:t.description||"No description provided."})]})}),n.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[t.budget&&n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[n.jsx(So.cash,{})," Budget"]}),n.jsx("div",{className:"mt-2 text-sm text-gray-700",children:t.budget})]}),n.jsxs("div",{className:"rounded-xl border p-4 hidden",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[n.jsx(So.tag,{})," Urgency"]}),n.jsx("div",{className:"mt-2 text-sm text-gray-700",children:t.urgency})]}),n.jsxs("div",{className:"rounded-xl border p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium",children:[n.jsx(So.pin,{})," Location"]}),n.jsx("div",{className:"mt-2 text-sm text-gray-700",children:[t.city,t.country].filter(Boolean).join(", ")||"Not specified"})]})]}),f.length>1&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Media"}),n.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:f.slice(1).map((x,y)=>n.jsx("div",{className:"relative w-full aspect-[16/10] bg-gray-100 rounded-xl overflow-hidden border",children:x.type==="video"?n.jsx("video",{src:x.base64url,controls:!0,className:"h-full w-full object-cover",children:"Your browser does not support the video tag."}):n.jsx("img",{src:x.base64url,alt:`Need image ${y+1}`,className:"h-full w-full object-cover"})},y))})]}),h.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Documents"}),n.jsx("div",{className:"mt-3 grid sm:grid-cols-2 gap-3",children:h.map((x,y)=>n.jsxs("a",{href:`${Le.defaults.baseURL}/uploads/needs/${x.base64url}`,download:x.name,className:"flex items-center gap-3 border rounded-lg p-3 hover:bg-gray-50",children:[n.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-100 grid place-items-center text-xs text-gray-500",children:"DOC"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"truncate text-sm font-medium",children:x.name}),n.jsx("div",{className:"text-[11px] text-gray-500 truncate",children:"Tap to download"})]})]},`${x.name}-${y}`))})]}),t.criteria&&t.criteria.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Requirements"}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.criteria.map((x,y)=>n.jsx("span",{className:xu.chip,children:x},`${x}-${y}`))})]}),(o.length>0||l.length>0||c.length>0||d.length>0)&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Target Audience"}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[o.map(x=>n.jsx("span",{className:xu.chip,children:x},`i-${x}`)),l.map(x=>n.jsx("span",{className:xu.chip,children:x},`c-${x}`)),c.map(x=>n.jsx("span",{className:xu.chip,children:x},`s-${x}`)),d.map(x=>n.jsx("span",{className:xu.chip,children:x},`ss-${x}`)),!o.length&&!l.length&&!c.length&&!d.length&&n.jsx("span",{className:"text-sm text-gray-500",children:"Everyone"})]})]})]})]})}function Rf({value:t,onChange:r,options:s,placeholder:a="Select…",disabled:i=!1,required:o=!1,ariaLabel:l}){const[c,d]=u.useState(!1),[f,h]=u.useState(""),[g,m]=u.useState(0),p=u.useRef(null),x=u.useRef(null),[y,w]=u.useState(!1),b=u.useMemo(()=>s.find(L=>String(L.value)===String(t))||null,[s,t]),v=u.useMemo(()=>{const L=f.trim().toLowerCase();return L?s.map(C=>({o:C,score:(C.label||"").toLowerCase().indexOf(L)})).filter(C=>C.score!==-1).sort((C,T)=>C.score-T.score).map(C=>C.o).slice(0,100):s.slice(0,100)},[f,s]),N=y||c||f!==""?f:(b==null?void 0:b.label)||"";u.useEffect(()=>{function L(C){p.current&&(p.current.contains(C.target)||d(!1))}return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[]),u.useEffect(()=>{c||m(0)},[c,f]);function S(L){var C;r==null||r((L==null?void 0:L.value)||""),h(""),d(!1),(C=x.current)==null||C.blur()}function I(){r==null||r(""),h(""),d(!1)}function E(L){if(!i){if(!c&&(L.key==="ArrowDown"||L.key==="ArrowUp")){d(!0);return}if(!c){L.key==="Backspace"&&(L.preventDefault(),h(b&&!f?(b.label||"").slice(0,-1):(f||"").slice(0,-1)),d(!0));return}if(L.key==="ArrowDown")L.preventDefault(),m(C=>Math.min(C+1,v.length-1));else if(L.key==="ArrowUp")L.preventDefault(),m(C=>Math.max(C-1,0));else if(L.key==="Enter"){L.preventDefault();const C=v[g];C&&S(C)}else L.key==="Escape"&&d(!1)}}return n.jsxs("div",{ref:p,className:`relative ${i?"opacity-60":""}`,children:[n.jsxs("div",{className:"grid gap-1.5",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{ref:x,type:"text",value:N,disabled:i,placeholder:a,onChange:L=>{h(L.target.value),d(!0)},onFocus:()=>{i||(w(!0),d(!0))},onBlur:()=>w(!1),onKeyDown:E,"aria-autocomplete":"list","aria-expanded":c,"aria-controls":"ss-results","aria-label":l||a,role:"combobox",autoComplete:"off",className:"w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-16 focus:outline-none focus:ring-2 focus:ring-brand-200 text-black"}),b&&!i?n.jsx("button",{type:"button",onClick:I,className:"absolute right-8 top-1/2 -translate-y-1/2 rounded-md p-1 hover:bg-gray-100",title:"Clear",children:"×"}):null,n.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2",children:n.jsx(So.chevron,{})})]}),o&&n.jsx("input",{tabIndex:-1,"aria-hidden":"true",className:"sr-only",required:!0,value:t||"",onChange:()=>{}})]}),c&&!i&&n.jsx("div",{id:"ss-results",role:"listbox",className:"absolute z-30 mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:v.length===0?n.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No results"}):n.jsx("ul",{className:"max-h-72 overflow-auto",children:v.map((L,C)=>{const T=C===g;return n.jsx("li",{role:"option","aria-selected":T,className:`cursor-pointer px-3 py-2 text-sm ${T?"bg-brand-50":"hover:bg-gray-50"}`,onMouseEnter:()=>m(C),onMouseDown:k=>{k.preventDefault(),S(L)},children:L.label},L.value)})})})]})}function y6({triggerImageSelection:t=!1,type:r,hideHeader:s=!1,onSuccess:a}){const i=qt(),{id:o,type:l}=Ds(),c=!!o,{user:d}=Xt(),[f,h]=u.useState(!1),[g,m]=u.useState(!!o),[p,x]=u.useState(!1),[y,w]=u.useState(!1),[b,v]=u.useState(0),[j,N]=u.useState({}),[S,I]=u.useState(null),[E,L]=u.useState("need"),[C,T]=u.useState(!1),[k,M]=u.useState(0),_=c&&S&&(d==null?void 0:d.id)!==S,[J,Y]=u.useState([]),[te,K]=u.useState({identityIds:new Set,categoryIds:new Set,subcategoryIds:new Set,subsubCategoryIds:new Set}),[X,W]=u.useState({title:"",description:"",budget:"",urgency:"Medium",location:"",country:"All countries",city:"",criteria:[],relatedEntityType:"",relatedEntityId:""}),[F,P]=u.useState(""),[A,B]=u.useState([]),z=u.useRef(null),O=u.useRef(null);console.log("Attachments:",A);const[U,Z]=u.useState([]),[se,fe]=u.useState({categoryId:"",subcategoryId:"",subsubCategoryId:""}),le=[{value:"All countries",label:"All countries"},...An.map(ue=>({value:ue,label:ue}))],[Ne,Te]=u.useState([]),[ht,Fe]=u.useState(!0);u.useEffect(()=>{ve(this,null,function*(){try{const _e=yield fetch("/data/cities.json");if(!_e.ok)throw new Error("Failed to fetch cities");const Xe=yield _e.json();Te(Xe)}catch(_e){console.error("Error fetching cities:",_e)}finally{Fe(!1)}})},[]);const Ve=u.useMemo(()=>Ne.slice(0,1e4).map(ue=>({value:ue.city,label:`${ue.city}${ue.country?`, ${ue.country}`:""}`,country:ue.country})),[Ne]),ut=u.useMemo(()=>X.country?String(X.country).split(",").map(ue=>ue.trim().toLowerCase()).filter(Boolean):[],[X.country]),Je=u.useMemo(()=>{if(ut.length===0||ut.includes("all countries"))return[];const ue=new Set(ut);return Ve.filter(_e=>ue.has(_e.country.toLowerCase()))},[ut,Ve]),[G,ae]=u.useState([]),[Me,he]=u.useState({categoryId:"",subcategoryId:""});u.useEffect(()=>{ve(this,null,function*(){try{const{data:ue}=yield Le.get("/public/identities?type=all");Y(ue.identities||[])}catch(ue){console.error(ue)}})},[]),u.useEffect(()=>{ve(this,null,function*(){try{let ue=X.relatedEntityType=="funding"?"opportunity":X.relatedEntityType;const _e=ue?`?type=${ue}`:"?type=need",{data:Xe}=yield Le.get(`/general-categories/tree${_e}`);Z(Xe.generalCategories||[])}catch(ue){console.error("Failed to load general categories",ue)}})},[X.relatedEntityType]),u.useEffect(()=>{ve(this,null,function*(){try{const{data:ue}=yield Le.get("/industry-categories/tree");ae(ue.industryCategories||[])}catch(ue){console.error("Failed to load industry categories",ue)}})},[]),u.useEffect(()=>{o&&(m(!0),ve(this,null,function*(){var ue,_e,Xe,gt,wt,vt,ct,Ze,dt;try{const{data:yt}=yield Le.get(`/needs/${o}?updated=true`),Ie=yt.userId||yt.createdById||((ue=yt.user)==null?void 0:ue.id)||null;I(Ie),W({title:yt.title||"",description:yt.description||"",budget:yt.budget||"",urgency:yt.urgency||"Medium",location:yt.location||"",country:yt.country||"",city:yt.city||"",criteria:Array.isArray(yt.criteria)?yt.criteria:[],relatedEntityType:yt.relatedEntityType||"",relatedEntityId:yt.relatedEntityId||""}),L(yt.relatedEntityType||"need"),Array.isArray(yt.attachments)?B(yt.attachments):B([]),((_e=yt.audienceIdentities)!=null&&_e.length||(Xe=yt.audienceCategories)!=null&&Xe.length||(gt=yt.audienceSubcategories)!=null&&gt.length||(wt=yt.audienceSubsubs)!=null&&wt.length)&&K({identityIds:new Set(((vt=yt.audienceIdentities)==null?void 0:vt.map(ze=>ze.id))||[]),categoryIds:new Set(((ct=yt.audienceCategories)==null?void 0:ct.map(ze=>ze.id))||[]),subcategoryIds:new Set(((Ze=yt.audienceSubcategories)==null?void 0:Ze.map(ze=>ze.id))||[]),subsubCategoryIds:new Set(((dt=yt.audienceSubsubs)==null?void 0:dt.map(ze=>ze.id))||[])}),fe({categoryId:yt.generalCategoryId||"",subcategoryId:yt.generalSubcategoryId||"",subsubCategoryId:yt.generalSubsubCategoryId||""}),he({categoryId:yt.industryCategoryId||"",subcategoryId:yt.industrySubcategoryId||""})}catch(yt){console.error(yt),ce.error("Failed to load need data"),i("/feed")}finally{m(!1)}}))},[o,i]),u.useEffect(()=>{if(!c){const ue=r||l;ue&&(L(ue),$e("relatedEntityType",ue))}},[r,l,c]),u.useImperativeHandle(O,()=>({pick:()=>{var ue;return(ue=z.current)==null?void 0:ue.click()}})),u.useEffect(()=>{if(t&&O.current){const ue=setTimeout(()=>{var _e;(_e=O.current)==null||_e.pick()},100);return()=>clearTimeout(ue)}},[t]),u.useEffect(()=>{(X.relatedEntityType==="information"||X.relatedEntityType==="other"||X.relatedEntityType==="job"||X.relatedEntityType==="partnership")&&fe({categoryId:"",subcategoryId:"",subsubCategoryId:""})},[X.relatedEntityType]);const ye=u.useMemo(()=>U.map(ue=>({value:ue.id,label:ue.name||`Category ${ue.id}`})),[U]),oe=u.useMemo(()=>{const ue=U.find(_e=>_e.id===se.categoryId);return((ue==null?void 0:ue.subcategories)||[]).map(_e=>({value:_e.id,label:_e.name||`Subcategory ${_e.id}`}))},[U,se.categoryId]);u.useMemo(()=>{var Xe;const ue=U.find(gt=>gt.id===se.categoryId),_e=(Xe=ue==null?void 0:ue.subcategories)==null?void 0:Xe.find(gt=>gt.id===se.subcategoryId);return((_e==null?void 0:_e.subsubcategories)||[]).map(gt=>({value:gt.id,label:gt.name||`Sub-sub ${gt.id}`}))},[U,se.categoryId,se.subcategoryId]);const ie=u.useMemo(()=>G.map(ue=>({value:ue.id,label:ue.name||`Category ${ue.id}`})),[G]),q=u.useMemo(()=>{const ue=G.find(_e=>_e.id===Me.categoryId);return((ue==null?void 0:ue.subcategories)||[]).map(_e=>({value:_e.id,label:_e.name||`Subcategory ${_e.id}`}))},[G,Me.categoryId]),Se=u.useMemo(()=>A.filter(ue=>ue.type==="image"||ue.type==="video").map(ue=>ue.base64url),[A]);function $e(ue,_e){W(Xe=>{const gt=me(ne({},Xe),{[ue]:_e});return ue==="country"&&_e==="All countries"&&(gt.city=""),gt})}function rt(){const ue=F.trim();ue&&(W(_e=>_e.criteria.includes(ue)?_e:me(ne({},_e),{criteria:[..._e.criteria,ue]})),P(""))}function nt(ue){W(_e=>me(ne({},_e),{criteria:_e.criteria.filter((Xe,gt)=>gt!==ue)}))}function Ue(ue){M(ue),T(!0)}function xt(){T(!1)}function Oe(ue){return ve(this,null,function*(){const _e=Array.from(ue||[]);if(!_e.length)return;const Xe={video:50*1024*1024,image:5*1024*1024,document:5*1024*1024},gt=_e.filter(ct=>{const Ze=_8(ct);return ct.size>Xe[Ze]});if(gt.length>0){const ct=gt.map(Ze=>Ze.name).join(", ");ce.error(`Files exceeding size limit: ${ct}`);return}const wt=20-A.length,vt=wt>0?_e.slice(0,wt):[];try{w(!0),v(vt.length);const ct={};vt.forEach(ze=>{ct[ze.name]=0}),N(ct);const Ze=new FormData;vt.forEach(ze=>{Ze.append("attachments",ze)});const yt=(yield Le.post("/needs/upload-attachments",Ze,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:ze=>{if(ze.total){const qe=Math.round(ze.loaded*100/ze.total),it={};vt.forEach(Ae=>{it[Ae.name]=qe}),N(it)}}})).data.filenames||[],Ie=vt.map((ze,qe)=>({name:ze.name,base64url:`${yt[qe]||ze.name}`,type:_8(ze)}));B(ze=>[...ze,...Ie]),N({})}catch(ct){console.error("Error uploading attachments:",ct),ce.error("Failed to upload attachments"),N({})}finally{w(!1),v(0)}})}function Ee(ue){B(_e=>_e.filter((Xe,gt)=>gt!==ue))}function ee(){return X.description.trim()?null:"Description is required"}function de(ue){return ve(this,null,function*(){var Xe,gt;if(ue.preventDefault(),_)return;const _e=ee();if(_e){ce.error(_e);return}x(!0);try{const wt=Array.from(te.identityIds),vt=Array.from(te.categoryIds),ct=Array.from(te.subcategoryIds),Ze=Array.from(te.subsubCategoryIds),dt={title:X.title,description:X.description,budget:X.budget||void 0,urgency:X.urgency,location:X.location||void 0,country:X.country||void 0,city:X.country==="All countries"?void 0:X.city||void 0,criteria:X.criteria,attachments:A,identityIds:wt,categoryIds:vt,subcategoryIds:ct,subsubCategoryIds:Ze,generalCategoryId:se.categoryId||null,generalSubcategoryId:se.subcategoryId||null,generalSubsubCategoryId:se.subsubCategoryId||null,industryCategoryId:Me.categoryId||null,industrySubcategoryId:Me.subcategoryId||null,relatedEntityType:X.relatedEntityType||null,relatedEntityId:X.relatedEntityId||null};c?(yield Le.put(`/needs/${o}`,dt),ce.success("Need updated!")):(yield Le.post("/needs",dt),ce.success("Need posted successfully!"),s&&a?a():window.history.state&&window.history.state.idx>0?i(-1):i("/"))}catch(wt){console.error(wt),ce.error(((gt=(Xe=wt==null?void 0:wt.response)==null?void 0:Xe.data)==null?void 0:gt.message)||"Could not save need")}finally{x(!1)}})}return g&&o?n.jsx(ei,{message:"Loading need…",tip:"Fetching..."}):n.jsxs("div",{className:"min-h-screen bg-[#F7F7FB] text-gray-900",children:[!s&&n.jsx(an,{page:"needs"}),n.jsx("main",{className:`mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 ${s?"py-4":"py-8"}`,children:n.jsxs("div",{children:[!s&&n.jsxs("button",{onClick:()=>{window.history.state&&window.history.state.idx>0?i(-1):i("/")},className:"flex items-center gap-2 text-sm text-gray-600 hover:text-brand-600",type:"button",children:["← ",window.history.state&&window.history.state.idx>0?"Back":"Feed"]}),c&&!_&&n.jsx("div",{children:n.jsx("h1",{className:"text-2xl font-bold mt-3",children:c?"Edit Need":"Post What You Need"})}),_?n.jsx(g5e,{form:X,attachments:A,audSel:te,audTree:J}):n.jsxs("form",{onSubmit:de,className:"mt-6 rounded-2xl bg-white border p-6 shadow-sm space-y-8",children:[n.jsxs("section",{className:"hidden",children:[n.jsx("h2",{className:"font-semibold",children:"What are you looking for? *"}),n.jsx("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{label:"Job",value:"job",desc:"Employment opportunities"},{label:"Product",value:"product",desc:"Specific products or goods"},{label:"Service",value:"service",desc:"Professional services"},{label:"Event",value:"event",desc:"Events or gatherings"},{label:"Tourism",value:"tourism",desc:"Travel and tourism services"},{label:"Partnership",value:"partnership",desc:"Business partnerships"},{label:"Funding",value:"funding",desc:"Financial support"},{label:"Information",value:"information",desc:"Advice or knowledge"},{label:"Other",value:"other",desc:"Something else"}].map(ue=>n.jsxs("button",{type:"button",onClick:()=>$e("relatedEntityType",ue.value),className:`border rounded-xl p-4 text-left transition-colors ${X.relatedEntityType===ue.value?"border-brand-600 bg-brand-50":"border-gray-200 bg-white hover:border-brand-600"}`,children:[n.jsx("div",{className:"font-medium",children:ue.label}),n.jsx("div",{className:"text-xs text-gray-500",children:ue.desc})]},ue.label))})]}),n.jsx("section",{children:n.jsxs("div",{className:"mt-3 grid gap-4",children:[n.jsxs("div",{className:"hidden",children:[n.jsx(Df,{required:!0,children:"Title"}),n.jsx("input",{type:"text",value:X.title,onChange:ue=>$e("title",ue.target.value),placeholder:"e.g., Looking for a React Developer position",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),n.jsx("div",{children:n.jsx("textarea",{value:X.description,onChange:ue=>$e("description",ue.target.value),placeholder:X.relatedEntityType=="job"?"Share details of the position you are looking for and connect with people that can really help find it.":X.relatedEntityType=="event"?"Describe the type of event you are interested and connect with people that can help you find it.":X.relatedEntityType=="product"?"Describe the type of products you are looking for and connect with people that can help you find it.":X.relatedEntityType=="service"?"Share the type or services you need and connect with people that can help you find it. ":X.relatedEntityType=="tourism"?"Describe the type of experience you are looking for and connect with people that can help you find it.":X.relatedEntityType=="funding"?"Describe the type of funding you are looking for and connect with people that can help you find it. ":X.relatedEntityType?`Share what you're looking for related to ${X.relatedEntityType} and connect with people who can help.`:"Share what you're looking for and connect with people who can help.",__placeholder:"Example: Looking for a graphic designer to create branding materials for our new restaurant opening next month.",_placeholder:"Describe what you're looking for in detail. What do you need and why?",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200",rows:4,required:!0})})]})}),n.jsxs("section",{className:"hidden",children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"Budget & Urgency"}),n.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(Df,{children:"Budget Range (if applicable)"}),n.jsx("input",{type:"text",value:X.budget,onChange:ue=>$e("budget",ue.target.value),placeholder:"e.g., $50,000 - $70,000",className:"mt-1 rounded-xl border border-gray-200 px-3 py-2 text-sm w-full focus:outline-none focus:ring-2 focus:ring-brand-200"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Df,{children:"Urgency Level"}),n.jsxs("select",{value:X.urgency,onChange:ue=>$e("urgency",ue.target.value),className:"mt-1 w-full appearance-none rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm pr-8 focus:outline-none focus:ring-2 focus:ring-brand-200",children:[n.jsx("option",{children:"Low"}),n.jsx("option",{children:"Medium"}),n.jsx("option",{children:"High"}),n.jsx("option",{children:"Urgent"})]}),n.jsx("span",{className:"pointer-events-none absolute right-2 bottom-3",children:n.jsx(So.chevron,{})})]})]})]}),n.jsx("section",{children:n.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx(Df,{children:"Country"}),n.jsx(Rf,{value:X.country,onChange:ue=>$e("country",ue),options:le,placeholder:"Search and select country..."},X.country)]}),n.jsxs("div",{children:[n.jsx(Df,{children:"City"}),n.jsx(Rf,{value:X.city,onChange:ue=>$e("city",ue),options:Je,placeholder:"Search and select city...",disabled:X.country==="All countries"},X.country)]})]})}),n.jsxs("section",{className:"hidden",children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"Specific Criteria or Requirements"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("input",{type:"text",value:F,onChange:ue=>P(ue.target.value),onKeyDown:ue=>{ue.key==="Enter"&&(ue.preventDefault(),rt())},placeholder:"Add specific requirements or criteria",className:"flex-1 rounded-xl border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-200"}),n.jsxs("button",{type:"button",onClick:rt,className:"inline-flex items-center gap-1 rounded-lg px-3 py-2 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700","aria-label":"Add criteria",children:[n.jsx(So.plus,{})," Add"]})]}),X.criteria.length>0&&n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:X.criteria.map((ue,_e)=>n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-50 text-brand-700 px-3 py-1 text-xs border border-brand-100",children:[ue,n.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-700",onClick:()=>nt(_e),title:"Remove",children:"×"})]},`${ue}-${_e}`))})]}),n.jsxs("section",{children:[n.jsx(Df,{children:"Attachments (Optional)"}),n.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-600",children:[n.jsxs("div",{className:"flex justify-center items-center gap-3 mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(So.image,{}),n.jsx("span",{className:"text-xs",children:"Images"})]}),n.jsx("div",{className:"h-4 w-px bg-gray-300"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(So.video,{}),n.jsx("span",{className:"text-xs",children:"Videos"})]}),n.jsx("div",{className:"h-4 w-px bg-gray-300"}),n.jsx("div",{className:"flex items-center gap-1",children:n.jsx("span",{className:"text-xs",children:"Documents"})})]}),"Upload images, videos, or documents to support your need",n.jsxs("div",{className:"mt-3",children:[n.jsx("input",{ref:z,type:"file",multiple:!0,accept:"image/*,video/*,.pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.txt",className:"hidden",onChange:ue=>Oe(ue.target.files)}),n.jsx("button",{type:"button",onClick:()=>{var ue;return(ue=z.current)==null?void 0:ue.click()},className:"rounded-lg px-4 py-2 text-sm font-medium border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",children:"Choose Files"})]}),y&&Object.keys(j).length>0&&n.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Uploading ",Object.keys(j).length," file(s)..."]}),n.jsxs("span",{className:"text-sm text-gray-500",children:[Object.values(j)[0],"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-brand-600 h-2 rounded-full transition-all duration-300",style:{width:`${Object.values(j)[0]||0}%`}})})]}),(A.length>0||b>0)&&n.jsxs("div",{className:"mt-6 grid sm:grid-cols-2 gap-4 text-left",children:[A.map((ue,_e)=>{const Xe=ue.type==="image"||ue.type==="video",gt=ue.type==="document";return Xe?n.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 overflow-hidden grid place-items-center relative cursor-pointer",onClick:()=>Ue(_e),children:ue.type==="video"?n.jsxs(n.Fragment,{children:[n.jsx("video",{src:ue.base64url,className:"h-full w-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:n.jsx(So.video,{})})]}):n.jsx("img",{src:ue.base64url,alt:ue.name,className:"h-full w-full object-cover"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"truncate text-sm font-medium",children:ue.name}),n.jsxs("div",{className:"text-[11px] text-gray-500 truncate",children:[ue.type==="video"?"Video":"Image"," • Attached"]})]}),n.jsx("button",{type:"button",onClick:()=>Ee(_e),className:"p-1 rounded hover:bg-gray-100",title:"Remove",children:n.jsx(So.trash,{})})]},`${ue.name}-${_e}`):gt?n.jsxs("a",{href:ue.base64url,download:ue.name,className:"flex items-center gap-3 border rounded-lg p-3 hover:bg-gray-50",children:[n.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 grid place-items-center text-xs text-gray-500",children:"DOC"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"truncate text-sm font-medium",children:ue.name}),n.jsx("div",{className:"text-[11px] text-gray-500 truncate",children:"Tap to download"})]}),n.jsx("button",{type:"button",onClick:wt=>{wt.preventDefault(),wt.stopPropagation(),Ee(_e)},className:"p-1 rounded hover:bg-gray-100",title:"Remove",children:n.jsx(So.trash,{})})]},`${ue.name}-${_e}`):null}),b>0&&Array.from({length:b}).map((ue,_e)=>n.jsxs("div",{className:"flex items-center gap-3 border rounded-lg p-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-200 animate-pulse"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"h-4 w-3/5 bg-gray-200 rounded mb-2 animate-pulse"}),n.jsx("div",{className:"h-3 w-2/5 bg-gray-200 rounded animate-pulse"}),y&&n.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-1.5",children:n.jsx("div",{className:"bg-brand-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${Object.values(j)[0]||0}%`}})})]}),n.jsx("div",{className:"h-8 w-8 rounded bg-gray-200 animate-pulse"})]},`att-skel-${_e}`))]}),n.jsx("p",{className:"mt-2 text-[11px] text-gray-400",children:"Images & Documents: Up to 5MB each. Videos: Up to 50MB each. Supported formats: JPG, PNG, GIF, MP4, MOV, PDF, DOC, DOCX, PPT, PPTX, XLS, XLSX, TXT"})]})]}),X.relatedEntityType!=="information"&&X.relatedEntityType!=="other"&&X.relatedEntityType!=="job"&&X.relatedEntityType!=="partnership"&&n.jsx("section",{children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Category"}),n.jsx(Rf,{ariaLabel:"Category",value:se.categoryId,onChange:ue=>fe({categoryId:ue,subcategoryId:"",subsubCategoryId:""}),options:ye,placeholder:"Search & select category…"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Subcategory"}),n.jsx(Rf,{ariaLabel:"Subcategory",value:se.subcategoryId,onChange:ue=>fe(_e=>me(ne({},_e),{subcategoryId:ue,subsubCategoryId:""})),options:oe,placeholder:"Search & select subcategory…",disabled:!se.categoryId})]})]})}),n.jsxs("section",{className:"hidden",children:[n.jsx("h2",{className:"font-semibold text-brand-600",children:"Industry Classification"}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select the industry category that best describes your need."}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Category"}),n.jsx(Rf,{ariaLabel:"Industry Category",value:Me.categoryId,onChange:ue=>he({categoryId:ue,subcategoryId:""}),options:ie,placeholder:"Search & select industry category…"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[12px] font-medium text-gray-700",children:"Industry Subcategory"}),n.jsx(Rf,{ariaLabel:"Industry Subcategory",value:Me.subcategoryId,onChange:ue=>he(_e=>me(ne({},_e),{subcategoryId:ue})),options:q,placeholder:"Search & select industry subcategory…",disabled:!Me.categoryId})]})]})]}),n.jsx("section",{children:n.jsx("div",{className:"mb-4",children:f?n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-brand-600"}),n.jsx("h3",{className:"font-semibold text-brand-600",children:"Share With (Target Audience)"})]}),n.jsxs("button",{type:"button",onClick:()=>h(!1),className:"inline-flex items-center gap-1 px-3 py-1 border border-gray-300 text-gray-600 rounded-lg text-xs hover:bg-gray-50",children:[n.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Hide"]})]}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select who should see this post."}),n.jsx(gl,{tree:J,selected:te,onChange:ue=>K(ue)})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsxs("button",{type:"button",onClick:()=>h(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50",children:[n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M12 5v14M5 12h14"})}),"Define Target Audience (optional)"]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Target your post to specific audiences"})]})})}),n.jsxs("div",{className:"flex justify-end gap-3",children:[!s&&n.jsx("button",{type:"button",className:xu.ghost,onClick:()=>i("/feed"),children:"Cancel"}),n.jsx("button",{type:"submit",className:xu.primary,disabled:p,children:p?"Saving…":c?"Update":"Post"})]})]})]})}),C&&n.jsx(Td,{urls:Se,initialIndex:k,onClose:xt})]})}const m5e=Object.freeze(Object.defineProperty({__proto__:null,default:y6},Symbol.toStringTag,{value:"Module"}));function p5e(){const{companyId:t}=Ds(),[r]=uie(),s=qt(),a=r.get("token"),[i,o]=u.useState(!0);u.useState(null);const[l,c]=u.useState(null);u.useEffect(()=>{if(!a){c("Authorization token is missing"),o(!1);return}d()},[a,t]);function d(){return ve(this,null,function*(){var f,h;try{o(!0),(yield Le.put("/company/representative/authorize",{token:a})).data.success&&(ce.success("Successfully authorized as company representative!"),setTimeout(()=>{s("/profile")},2e3))}catch(g){if(console.error("Authorization error:",g),(h=(f=g.response)==null?void 0:f.data)!=null&&h.message){const m=g.response.data.message;m.includes("Invalid or expired")?c("This authorization link has expired or is invalid. Please request a new authorization."):m.includes("not authorized")?c("You are not authorized to accept this invitation."):m.includes("Already authorized")?(c("You are already authorized as a representative for this company."),setTimeout(()=>{s("/profile")},3e3)):c(`Authorization failed: ${m}`)}else c("Authorization failed. Please try again or request a new authorization link.")}finally{o(!1)}})}return i?n.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
                   bg-gradient-to-br from-brand-50 via-white to-brand-50\r
                   sm:px-6 md:px-8`,children:n.jsx("div",{className:"w-full max-w-xl",children:n.jsxs("div",{className:`rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5\r
                       backdrop-blur p-6 sm:p-8 md:p-10 text-center`,children:[n.jsx("div",{className:"mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full bg-brand-100 text-brand-600",children:n.jsxs("svg",{className:"h-7 w-7 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]})}),n.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Authorizing…"}),n.jsx("p",{className:"mt-3 text-center text-base sm:text-lg text-slate-600",children:"Please wait while we process your authorization."})]})})}):l?n.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
                   bg-gradient-to-br from-brand-50 via-white to-brand-50\r
                   sm:px-6 md:px-8`,children:n.jsx("div",{className:"w-full max-w-xl",children:n.jsxs("div",{className:`rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5\r
                       backdrop-blur p-6 sm:p-8 md:p-10`,children:[n.jsx("div",{className:"mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full bg-red-100 text-red-600",children:n.jsx("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),n.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Authorization Failed"}),n.jsx("p",{className:"mt-3 text-center text-base sm:text-lg text-slate-600",children:l}),n.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-3",children:[n.jsx("button",{onClick:()=>s("/profile"),className:`inline-flex items-center justify-center rounded-xl border border-gray-200 bg-white px-5 py-3\r
                           text-sm font-medium text-gray-700 hover:bg-gray-50 w-full sm:w-auto`,children:"Go to Profile"}),n.jsx("button",{onClick:()=>window.location.reload(),className:`inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-brand-700 to-brand-500\r
                           px-5 py-3 text-sm font-semibold text-white shadow-soft hover:opacity-95 w-full sm:w-auto`,children:"Try Again"})]})]})})}):n.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
                 bg-gradient-to-br from-brand-50 via-white to-brand-50\r
                 sm:px-6 md:px-8`,children:n.jsx("div",{className:"w-full max-w-xl",children:n.jsxs("div",{className:`rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5\r
                     backdrop-blur p-6 sm:p-8 md:p-10 text-center`,children:[n.jsx("div",{className:"mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full bg-brand-100 text-brand-600",children:n.jsxs("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[n.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),n.jsx("path",{d:"m22 4-12 12-3-3"})]})}),n.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Authorized!"}),n.jsx("p",{className:"mt-3 text-center text-base sm:text-lg text-slate-600",children:"You have been successfully authorized as a company representative."}),n.jsx("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-3",children:n.jsx("button",{onClick:()=>s("/profile"),className:`inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-brand-700 to-brand-500\r
                         px-5 py-3 text-sm font-semibold text-white shadow-soft hover:opacity-95 w-full sm:w-auto`,children:"Go to Profile"})})]})})})}const O8=t=>Le.put("/company/staff/confirm",t),x5e=t=>Le.get(`/company/invitation/${t}`),v5e=()=>{var m;const{companyId:t}=Ds(),r=qt(),[s,a]=u.useState(!0),[i,o]=u.useState(null),[l,c]=u.useState(null),[d,f]=u.useState(null);u.useEffect(()=>{const x=new URLSearchParams(window.location.search).get("token");if(!x){f("Invalid or missing invitation token"),a(!1);return}ve(void 0,null,function*(){try{const w=yield x5e(x);o(w.data.invitation),c(w.data.company),console.log(w.data.company)}catch(w){console.error("Error fetching invitation:",w),f("Invalid or expired invitation token")}finally{a(!1)}})},[t]);const h=()=>ve(void 0,null,function*(){try{a(!0);const x=new URLSearchParams(window.location.search).get("token");yield O8({token:x}),ce.success("Staff invitation accepted successfully!"),r("/profile")}catch(p){console.error("Error accepting invitation:",p),ce.error("Failed to accept invitation. Please try again.")}finally{a(!1)}}),g=()=>ve(void 0,null,function*(){try{a(!0);const x=new URLSearchParams(window.location.search).get("token");yield O8({token:x,action:"reject"}),ce.success("Staff invitation declined"),r("/profile")}catch(p){console.error("Error rejecting invitation:",p),ce.error("Failed to decline invitation. Please try again.")}finally{a(!1)}});return s?n.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
                   bg-gradient-to-br from-brand-50 via-white to-brand-50\r
                   sm:px-6 md:px-8`,children:n.jsx("div",{className:"w-full max-w-xl",children:n.jsxs("div",{className:`rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5\r
                       backdrop-blur p-6 sm:p-8 md:p-10`,children:[n.jsx("div",{className:"mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full bg-brand-100 text-brand-600",children:n.jsxs("svg",{className:"h-7 w-7 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"})]})}),n.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Loading Invitation…"}),n.jsx("p",{className:"mt-3 text-center text-base sm:text-lg text-slate-600",children:"Hold on while we validate your invitation."})]})})}):d?n.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
                   bg-gradient-to-br from-brand-50 via-white to-brand-50\r
                   sm:px-6 md:px-8`,children:n.jsx("div",{className:"w-full max-w-xl",children:n.jsxs("div",{className:`rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5\r
                       backdrop-blur p-6 sm:p-8`,children:[n.jsx("div",{className:"mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full bg-red-100 text-red-600",children:n.jsx("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),n.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Invalid Invitation"}),n.jsx("p",{className:"mt-3 text-center text-base sm:text-lg text-slate-600",children:d}),n.jsx("div",{className:"mt-6 flex flex-col sm:flex-row items-center justify-center gap-3",children:n.jsx("button",{onClick:()=>r("/profile"),className:`inline-flex items-center justify-center rounded-xl border border-gray-200 bg-white px-5 py-3\r
                           text-sm font-medium text-gray-700 hover:bg-gray-50 w-full sm:w-auto`,children:"Return to Profile"})})]})})}):!i||!l?n.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
                   bg-gradient-to-br from-brand-50 via-white to-brand-50\r
                   sm:px-6 md:px-8`,children:n.jsx("div",{className:"w-full max-w-md",children:n.jsxs("div",{className:`rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5\r
                       backdrop-blur p-6 sm:p-8`,children:[n.jsx("div",{className:"mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full bg-gray-100 text-gray-600",children:n.jsx("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Invitation Not Found"}),n.jsx("p",{className:"mt-3 text-center text-base sm:text-lg text-slate-600",children:"This invitation may have expired or been cancelled."}),n.jsx("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-3",children:n.jsx("button",{onClick:()=>r("/profile"),className:`inline-flex items-center justify-center rounded-xl border border-gray-200 bg-white px-5 py-3\r
                           text-sm font-medium text-gray-700 hover:bg-gray-50 w-full sm:w-auto`,children:"Return to Profile"})})]})})}):n.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
                 bg-gradient-to-br from-brand-50 via-white to-brand-50\r
                 sm:px-6 md:px-8`,children:n.jsx("div",{className:"w-full max-w-xl",children:n.jsxs("div",{className:`rounded-3xl bg-white/90 shadow-2xl ring-1 ring-black/5\r
                     backdrop-blur p-6 sm:p-8`,children:[n.jsx("div",{className:"mx-auto mb-5 sm:mb-6 grid h-14 w-14 place-items-center rounded-full bg-brand-100 text-brand-600",children:n.jsx("svg",{viewBox:"0 0 24 24",className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",children:n.jsx("path",{d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),n.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold text-slate-900",children:"Staff Invitation"}),n.jsx("p",{className:"mt-3 text-center text-base sm:text-lg text-slate-600",children:"You've been invited to join a company team"}),n.jsxs("div",{className:"mt-4 space-y-3",children:[n.jsxs("div",{className:"rounded-xl bg-slate-50 p-4",children:[n.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Company"}),n.jsx("p",{className:"text-lg font-medium text-brand-600",children:l.name}),l.description&&n.jsx("p",{className:"text-sm text-slate-600 mt-1",children:l.description})]}),n.jsxs("div",{className:"rounded-xl bg-slate-50 p-4",children:[n.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Role"}),n.jsx("p",{className:"text-lg font-medium text-slate-900 capitalize",children:((m=i.role)==null?void 0:m.replace("_"," "))||"Staff Member"})]}),i.message&&n.jsxs("div",{className:"rounded-xl bg-brand-50 p-4",children:[n.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Personal Message"}),n.jsxs("p",{className:"text-slate-700 italic",children:['"',i.message,'"']})]}),n.jsxs("div",{className:"rounded-xl bg-amber-50 p-4",children:[n.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Invitation Details"}),n.jsxs("p",{className:"text-sm text-slate-600",children:["Sent: ",n.jsx("span",{className:"font-medium",children:new Date(i.createdAt).toLocaleDateString()})]})]})]}),n.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-3",children:[n.jsx("button",{onClick:g,disabled:s,className:`inline-flex items-center justify-center rounded-xl border border-gray-200 bg-white px-5 py-3\r
                         text-sm font-medium text-gray-700 hover:bg-gray-50 w-full sm:w-auto disabled:opacity-50`,children:s?"Processing...":"Decline"}),n.jsx("button",{onClick:h,disabled:s,className:`inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-brand-700 to-brand-500\r
                         px-5 py-3 text-sm font-semibold text-white shadow-soft hover:opacity-95 w-full sm:w-auto disabled:opacity-50`,children:s?"Processing...":"Accept Invitation"})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx("button",{onClick:()=>r("/profile"),className:"text-slate-500 hover:text-slate-700 text-sm",children:"Return to Profile"})})]})})})},$8=()=>{const{id:t,token:r}=Ds(),[s,a]=u.useState([]),[i,o]=u.useState(!0),[l,c]=u.useState(null),[d,f]=u.useState(null),[h,g]=u.useState(!1),[m,p]=u.useState(!1);u.useEffect(()=>{ve(void 0,null,function*(){g(!1),m||(yield x(),p(!0))})},[t,r,m]);const x=()=>ve(void 0,null,function*(){try{o(!0);const j=yield Le.get("/organization/join-requests");a(j.data.requests||[])}catch(j){console.error("Failed to load join requests:",j),ce.error("Failed to load join requests")}finally{o(!1)}}),y=(j,N)=>ve(void 0,null,function*(){try{o(!0);const S=yield Le.get(`/organization/join-requests/${j}?token=${N}`);f(S.data.request)}catch(S){console.error("Failed to load join request:",S),ce.error("Invalid or expired join request link"),setTimeout(()=>{window.location.href="/login"},3e3)}finally{o(!1)}}),w=j=>ve(void 0,null,function*(){try{c(j),ce.loading("Approving join request...",{id:"approve-request"});const N=yield Le.put(`/organization/join-requests/${j}/approve`);ce.success("Join request approved successfully!",{id:"approve-request"}),x()}catch(N){console.error("Failed to approve request:",N),ce.error("Failed to approve join request",{id:"approve-request"})}finally{c(null)}}),b=j=>ve(void 0,null,function*(){try{c(j),ce.loading("Rejecting join request...",{id:"reject-request"});const N=yield Le.put(`/organization/join-requests/${j}/reject`);ce.success("Join request rejected",{id:"reject-request"}),x()}catch(N){console.error("Failed to reject request:",N),ce.error("Failed to reject join request",{id:"reject-request"})}finally{c(null)}}),v=j=>{switch(j){case"pending":return n.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800",children:"Pending"});case"approved":return n.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:"Approved"});case"rejected":return n.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-red-100 text-red-800",children:"Rejected"});case"cancelled":return n.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800",children:"Cancelled"});default:return n.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800",children:j})}};return h?n.jsxs("div",{children:[n.jsx(an,{}),n.jsx("div",{className:"max-w-4xl mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-soft p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Join Request Details"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Review this join request from an email link"})]}),i?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),n.jsx("p",{className:"text-gray-500 mt-2",children:"Loading join request..."})]}):d?n.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:d.user.avatarUrl?n.jsx("img",{src:d.user.avatarUrl,alt:d.user.name,className:"w-12 h-12 rounded-full object-cover"}):n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-gray-600 font-medium",children:d.user.name.charAt(0).toUpperCase()})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:d.user.name}),v(d.status)]}),n.jsx("div",{className:"text-sm text-gray-600 mb-1",children:d.user.email}),d.user.city&&d.user.country&&n.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["📍 ",d.user.city,", ",d.user.country]}),d.message&&n.jsxs("div",{className:"text-sm text-gray-700 bg-gray-50 p-2 rounded mt-2",children:[n.jsx("strong",{children:"Message:"}),' "',d.message,'"']}),n.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Requested ",new Date(d.requestedAt).toLocaleDateString()," at"," ",new Date(d.requestedAt).toLocaleTimeString()]})]})]}),d.status==="pending"&&n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>w(d.id),disabled:l===d.id,className:"px-3 py-1 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 disabled:opacity-50",children:l===d.id?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Approving..."]}):"Approve"}),n.jsx("button",{onClick:()=>b(d.id),disabled:l===d.id,className:"px-3 py-1 border border-red-300 text-red-600 rounded-lg text-sm hover:bg-red-50 disabled:opacity-50",children:l===d.id?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Rejecting..."]}):"Reject"})]})]})}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Request not found"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"This join request link may be invalid or expired."})]})]})})]}):n.jsxs("div",{children:[n.jsx(an,{}),n.jsx("div",{className:"max-w-4xl mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-soft p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Organization Join Requests"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Review and manage requests from users who want to join your organization"})]}),n.jsx("button",{onClick:x,className:"px-4 py-2 text-gray-600 hover:text-gray-800",title:"Refresh",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),i?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),n.jsx("p",{className:"text-gray-500 mt-2",children:"Loading join requests..."})]}):s.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No join requests"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"When users request to join your organization, they will appear here."})]}):n.jsx("div",{className:"space-y-4",children:s.map(j=>n.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:j.user.avatarUrl?n.jsx("img",{src:j.user.avatarUrl,alt:j.user.name,className:"w-12 h-12 rounded-full object-cover"}):n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-gray-600 font-medium",children:j.user.name.charAt(0).toUpperCase()})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:j.user.name}),v(j.status)]}),n.jsx("div",{className:"text-sm text-gray-600 mb-1",children:j.user.email}),j.user.city&&j.user.country&&n.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["📍 ",j.user.city,", ",j.user.country]}),j.message&&n.jsxs("div",{className:"text-sm text-gray-700 bg-gray-50 p-2 rounded mt-2",children:[n.jsx("strong",{children:"Message:"}),' "',j.message,'"']}),n.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Requested ",new Date(j.createdAt).toLocaleDateString()," at"," ",new Date(j.createdAt).toLocaleTimeString()]})]})]}),j.status==="pending"&&n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>w(j.id),disabled:l===j.id,className:"px-3 py-1 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 disabled:opacity-50",children:l===j.id?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Approving..."]}):"Approve"}),n.jsx("button",{onClick:()=>b(j.id),disabled:l===j.id,className:"px-3 py-1 border border-red-300 text-red-600 rounded-lg text-sm hover:bg-red-50 disabled:opacity-50",children:l===j.id?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]}),"Rejecting..."]}):"Reject"})]})]})},j.id))})]})})]})},xN={complaint:"Complaint / Feedback",partnership:"Partnership / Collaboration",information:"Request Information",other:"Other"},vN={new:{label:"New",color:"bg-blue-100 text-blue-800",icon:VE},in_progress:{label:"In Progress",color:"bg-yellow-100 text-yellow-800",icon:hl},responded:{label:"Responded",color:"bg-green-100 text-green-800",icon:tx},closed:{label:"Closed",color:"bg-gray-100 text-gray-800",icon:NH}};function y5e(){const[t,r]=u.useState([]),[s,a]=u.useState(!0),[i,o]=u.useState(null),[l,c]=u.useState(!1),[d,f]=u.useState({search:"",status:"",contactReason:"",sortBy:"createdAt",sortOrder:"DESC"}),[h,g]=u.useState({page:1,limit:20,total:0,hasMore:!1}),[m,p]=u.useState(!1),x=(E=1)=>ve(this,null,function*(){try{a(!0);const L=me(ne({page:E,limit:h.limit},d),{sortBy:d.sortBy,sortOrder:d.sortOrder}),C=yield zje(L),T=C.data||C;r(E===1?T.contacts||[]:k=>[...k,...T.contacts||[]]),g(k=>me(ne({},k),{page:E,total:T.total||0,hasMore:E*h.limit<(T.total||0)}))}catch(L){console.error("Error loading contacts:",L),ce.error("Failed to load contacts")}finally{a(!1)}});u.useEffect(()=>{x(1)},[d]);const y=E=>{f(L=>me(ne({},L),{search:E}))},w=(E,L)=>{f(C=>me(ne({},C),{[E]:L}))},b=(E,L,C="")=>ve(this,null,function*(){try{p(!0),yield Uje(E,L,C),r(T=>T.map(k=>k.id===E?me(ne({},k),{status:L,respondedAt:L==="responded"?new Date:k.respondedAt}):k)),ce.success("Contact status updated successfully"),c(!1)}catch(T){console.error("Error updating contact status:",T),ce.error("Failed to update contact status")}finally{p(!1)}}),v=E=>ve(this,null,function*(){try{yield Hje(E),r(L=>L.map(C=>C.id===E?me(ne({},C),{readAt:new Date}):C)),window.refreshUnreadContactsCount&&window.refreshUnreadContactsCount(),ce.success("Contact marked as read")}catch(L){console.error("Error marking contact as read:",L),ce.error("Failed to mark contact as read")}}),j=()=>ve(this,null,function*(){try{yield Vje(),r(E=>E.map(L=>me(ne({},L),{readAt:new Date}))),window.refreshUnreadContactsCount&&window.refreshUnreadContactsCount(),ce.success("All contacts marked as read")}catch(E){console.error("Error marking all contacts as read:",E),ce.error("Failed to mark all contacts as read")}}),N=E=>ve(this,null,function*(){if(confirm("Are you sure you want to delete this contact?"))try{yield Wje(E),r(L=>L.filter(C=>C.id!==E)),ce.success("Contact deleted successfully")}catch(L){console.error("Error deleting contact:",L),ce.error("Failed to delete contact")}}),S=()=>ve(this,null,function*(){try{yield Gje(t),ce.success("Contacts exported successfully")}catch(E){console.error("Error exporting contacts:",E),ce.error("Failed to export contacts")}}),I=E=>new Date(E).toLocaleString();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Contact Management"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Manage contact form submissions and inquiries"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:j,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(sh,{size:16}),"Mark All as Read"]}),n.jsxs("button",{onClick:S,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(La,{size:16}),"Export Excel"]})]})]}),n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsx("input",{type:"text",placeholder:"Search by name or email...",value:d.search,onChange:E=>y(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]}),n.jsxs("select",{value:d.status,onChange:E=>w("status",E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"All Statuses"}),n.jsx("option",{value:"new",children:"New"}),n.jsx("option",{value:"in_progress",children:"In Progress"}),n.jsx("option",{value:"responded",children:"Responded"}),n.jsx("option",{value:"closed",children:"Closed"})]}),n.jsxs("select",{value:d.contactReason,onChange:E=>w("contactReason",E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"All Reasons"}),n.jsx("option",{value:"complaint",children:"Complaint / Feedback"}),n.jsx("option",{value:"partnership",children:"Partnership / Collaboration"}),n.jsx("option",{value:"information",children:"Request Information"}),n.jsx("option",{value:"other",children:"Other"})]}),n.jsxs("select",{value:`${d.sortBy}-${d.sortOrder}`,onChange:E=>{const[L,C]=E.target.value.split("-");w("sortBy",L),w("sortOrder",C)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[n.jsx("option",{value:"createdAt-DESC",children:"Newest First"}),n.jsx("option",{value:"createdAt-ASC",children:"Oldest First"}),n.jsx("option",{value:"fullName-ASC",children:"Name A-Z"}),n.jsx("option",{value:"fullName-DESC",children:"Name Z-A"}),n.jsx("option",{value:"status-ASC",children:"Status A-Z"})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attachment"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(E=>{var T,k,M;const L=(T=vN[E.status])==null?void 0:T.icon,C=!E.readAt;return n.jsxs("tr",{className:`hover:bg-gray-50 ${C?"bg-blue-50":""}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2",children:[C&&n.jsx("button",{onClick:()=>v(E.id),className:"text-blue-600 hover:text-blue-900 mr-2",title:"Mark as Read",children:n.jsx("svg",{className:"fill-blue-600 hover:fill-blue-900",xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"24px",children:n.jsx("path",{d:"M480-480Zm280-160q-50 0-85-35t-35-85q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q28 0 55.5 4t54.5 12q-11 17-18 36.5T562-788q-20-6-40.5-9t-41.5-3q-134 0-227 93t-93 227q0 134 93 227t227 93q134 0 227-93t93-227q0-21-3-41.5t-9-40.5q20-3 39.5-10t36.5-18q8 27 12 54.5t4 55.5q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm-57-216 273-273q-20-7-37.5-17.5T625-611L424-410 310-522l-56 56 169 170Z"})})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.fullName}),n.jsx("div",{className:"text-sm text-gray-500",children:E.email}),E.phone&&n.jsx("div",{className:"text-sm text-gray-500",children:E.phone})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-900",children:xN[E.contactReason]||E.contactReason})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${(k=vN[E.status])==null?void 0:k.color}`,children:[L&&n.jsx(L,{size:12}),(M=vN[E.status])==null?void 0:M.label]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:I(E.createdAt)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:E.attachment?n.jsxs("a",{href:E.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs hover:bg-gray-200 transition-colors",title:"Download Attachment",children:[n.jsx(La,{size:12}),E.attachmentName||"Download"]}):n.jsx("span",{className:"text-gray-400 text-xs",children:"No attachment"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>{o(E),c(!0)},className:"text-brand-600 hover:text-brand-900",title:"View Details",children:n.jsx(Ru,{size:16})}),n.jsx("button",{onClick:()=>b(E.id,E.status==="new"?"in_progress":"responded"),className:"text-green-600 hover:text-green-900",title:"Mark as Responded",children:n.jsx(tx,{size:16})}),n.jsx("button",{onClick:()=>N(E.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(On,{size:16})})]})})]},E.id)})})]})}),t.length===0&&!s&&n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"No contacts found"})}),s&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),n.jsx("p",{className:"text-gray-500 mt-2",children:"Loading contacts..."})]})]}),l&&i&&n.jsx("div",{style:{marginTop:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Contact Details"}),n.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Lr,{size:24})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.fullName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.jsx("a",{href:`mailto:${i.email}`,className:"text-brand-600 hover:underline",children:i.email})})]}),i.phone&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Reason"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:xN[i.contactReason]||i.contactReason})]})]}),i.companyName&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.companyName})]}),i.website&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Website"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.jsx("a",{href:i.website,target:"_blank",rel:"noopener noreferrer",className:"text-brand-600 hover:underline",children:i.website})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Message"}),n.jsx("div",{className:"mt-1 p-3 bg-gray-50 rounded-lg",children:n.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:i.message})})]}),i.attachment&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Attachment"}),n.jsx("div",{className:"mt-1",children:n.jsxs("a",{href:i.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[n.jsx(La,{size:16}),i.attachmentName||"Download Attachment"]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),n.jsxs("select",{value:i.status,onChange:E=>b(i.id,E.target.value),disabled:m,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[n.jsx("option",{value:"new",children:"New"}),n.jsx("option",{value:"in_progress",children:"In Progress"}),n.jsx("option",{value:"responded",children:"Responded"}),n.jsx("option",{value:"closed",children:"Closed"})]})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx("button",{onClick:()=>{const E=`Re: ${xN[i.contactReason]} - ${i.fullName}`,L=`Hi ${i.fullName},

Thank you for your inquiry. `;window.open(`mailto:${i.email}?subject=${encodeURIComponent(E)}&body=${encodeURIComponent(L)}`)},className:"flex-1 bg-brand-600 text-white px-4 py-2 rounded-lg hover:bg-brand-700 transition-colors",children:"Reply via Email"}),n.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})]})]})]})})})]})}const yN={technical:"Technical Error / System Failure",account:"Login / Access Problem",data:"Incorrect or Outdated Data",general:"Improvement Suggestion",other:"Other"},Vv={low:{label:"Low",color:"bg-green-100 text-green-800"},medium:{label:"Medium",color:"bg-yellow-100 text-yellow-800"},high:{label:"High",color:"bg-red-100 text-red-800"}},bN={new:{label:"New",color:"bg-blue-100 text-blue-800",icon:VE},in_progress:{label:"In Progress",color:"bg-yellow-100 text-yellow-800",icon:hl},responded:{label:"Responded",color:"bg-green-100 text-green-800",icon:tx},closed:{label:"Closed",color:"bg-gray-100 text-gray-800",icon:NH}};function b5e(){var E,L;const[t,r]=u.useState([]),[s,a]=u.useState(!0),[i,o]=u.useState(null),[l,c]=u.useState(!1),[d,f]=u.useState({search:"",status:"",priority:"",supportReason:"",sortBy:"createdAt",sortOrder:"DESC"}),[h,g]=u.useState({page:1,limit:20,total:0,hasMore:!1}),[m,p]=u.useState(!1),x=(C=1)=>ve(this,null,function*(){try{a(!0);const T=me(ne({page:C,limit:h.limit},d),{sortBy:d.sortBy,sortOrder:d.sortOrder}),k=yield qje(T),M=k.data||k;r(C===1?M.supports||[]:_=>[..._,...M.supports||[]]),g(_=>me(ne({},_),{page:C,total:M.total||0,hasMore:C*h.limit<(M.total||0)}))}catch(T){console.error("Error loading supports:",T),ce.error("Failed to load supports")}finally{a(!1)}});u.useEffect(()=>{x(1)},[d]);const y=C=>{f(T=>me(ne({},T),{search:C}))},w=(C,T)=>{f(k=>me(ne({},k),{[C]:T}))},b=(C,T,k="")=>ve(this,null,function*(){try{p(!0),yield Yje(C,T,k),r(M=>M.map(_=>_.id===C?me(ne({},_),{status:T,respondedAt:T==="responded"?new Date:_.respondedAt}):_)),ce.success("Support status updated successfully"),c(!1)}catch(M){console.error("Error updating support status:",M),ce.error("Failed to update support status")}finally{p(!1)}}),v=C=>ve(this,null,function*(){try{yield Zje(C),r(T=>T.map(k=>k.id===C?me(ne({},k),{readAt:new Date}):k)),window.refreshUnreadSupportsCount&&window.refreshUnreadSupportsCount(),ce.success("Support marked as read")}catch(T){console.error("Error marking support as read:",T),ce.error("Failed to mark support as read")}}),j=()=>ve(this,null,function*(){try{yield Qje(),r(C=>C.map(T=>me(ne({},T),{readAt:new Date}))),window.refreshUnreadSupportsCount&&window.refreshUnreadSupportsCount(),ce.success("All supports marked as read")}catch(C){console.error("Error marking all supports as read:",C),ce.error("Failed to mark all supports as read")}}),N=C=>ve(this,null,function*(){if(confirm("Are you sure you want to delete this support request?"))try{yield Jje(C),r(T=>T.filter(k=>k.id!==C)),ce.success("Support request deleted successfully")}catch(T){console.error("Error deleting support:",T),ce.error("Failed to delete support request")}}),S=()=>ve(this,null,function*(){try{yield t4e(t),ce.success("Supports exported successfully")}catch(C){console.error("Error exporting supports:",C),ce.error("Failed to export supports")}}),I=C=>new Date(C).toLocaleString();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Support Management"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Manage support requests and inquiries"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:j,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(sh,{size:16}),"Mark All as Read"]}),n.jsxs("button",{onClick:S,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(La,{size:16}),"Export Excel"]})]})]}),n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsx("input",{type:"text",placeholder:"Search by name or email...",value:d.search,onChange:C=>y(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]}),n.jsxs("select",{value:d.status,onChange:C=>w("status",C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"All Statuses"}),n.jsx("option",{value:"new",children:"New"}),n.jsx("option",{value:"in_progress",children:"In Progress"}),n.jsx("option",{value:"responded",children:"Responded"}),n.jsx("option",{value:"closed",children:"Closed"})]}),n.jsxs("select",{value:d.priority,onChange:C=>w("priority",C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"All Priorities"}),n.jsx("option",{value:"low",children:"Low"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"high",children:"High"})]}),n.jsxs("select",{value:d.supportReason,onChange:C=>w("supportReason",C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"All Reasons"}),n.jsx("option",{value:"technical",children:"Technical Error / System Failure"}),n.jsx("option",{value:"account",children:"Login / Access Problem"}),n.jsx("option",{value:"data",children:"Incorrect or Outdated Data"}),n.jsx("option",{value:"general",children:"Improvement Suggestion"}),n.jsx("option",{value:"other",children:"Other"})]}),n.jsxs("select",{value:`${d.sortBy}-${d.sortOrder}`,onChange:C=>{const[T,k]=C.target.value.split("-");w("sortBy",T),w("sortOrder",k)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[n.jsx("option",{value:"createdAt-DESC",children:"Newest First"}),n.jsx("option",{value:"createdAt-ASC",children:"Oldest First"}),n.jsx("option",{value:"fullName-ASC",children:"Name A-Z"}),n.jsx("option",{value:"fullName-DESC",children:"Name Z-A"}),n.jsx("option",{value:"priority-ASC",children:"Priority A-Z"}),n.jsx("option",{value:"status-ASC",children:"Status A-Z"})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Support"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attachment"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(C=>{var M,_,J,Y,te;const T=(M=bN[C.status])==null?void 0:M.icon,k=!C.readAt;return n.jsxs("tr",{className:`hover:bg-gray-50 ${k?"bg-blue-50":""}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2",children:[k&&n.jsx("button",{onClick:()=>v(C.id),className:"text-blue-600 hover:text-blue-900 mr-2",title:"Mark as Read",children:n.jsx("svg",{className:"fill-blue-600 hover:fill-blue-900",xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"24px",children:n.jsx("path",{d:"M480-480Zm280-160q-50 0-85-35t-35-85q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q28 0 55.5 4t54.5 12q-11 17-18 36.5T562-788q-20-6-40.5-9t-41.5-3q-134 0-227 93t-93 227q0 134 93 227t227 93q134 0 227-93t93-227q0-21-3-41.5t-9-40.5q20-3 39.5-10t36.5-18q8 27 12 54.5t4 55.5q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm-57-216 273-273q-20-7-37.5-17.5T625-611L424-410 310-522l-56 56 169 170Z"})})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.fullName}),n.jsx("div",{className:"text-sm text-gray-500",children:C.email}),C.phone&&n.jsx("div",{className:"text-sm text-gray-500",children:C.phone})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-900",children:yN[C.supportReason]||C.supportReason})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${(_=Vv[C.priority])==null?void 0:_.color}`,children:(J=Vv[C.priority])==null?void 0:J.label})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${(Y=bN[C.status])==null?void 0:Y.color}`,children:[T&&n.jsx(T,{size:12}),(te=bN[C.status])==null?void 0:te.label]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:I(C.createdAt)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:C.attachment?n.jsxs("a",{href:C.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs hover:bg-gray-200 transition-colors",title:"Download Attachment",children:[n.jsx(La,{size:12}),C.attachmentName||"Download"]}):n.jsx("span",{className:"text-gray-400 text-xs",children:"No attachment"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>{o(C),c(!0)},className:"text-brand-600 hover:text-brand-900",title:"View Details",children:n.jsx(Ru,{size:16})}),n.jsx("button",{onClick:()=>b(C.id,C.status==="new"?"in_progress":"responded"),className:"text-green-600 hover:text-green-900",title:"Mark as Responded",children:n.jsx(tx,{size:16})}),n.jsx("button",{onClick:()=>N(C.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(On,{size:16})})]})})]},C.id)})})]})}),t.length===0&&!s&&n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"No support requests found"})}),s&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600 mx-auto"}),n.jsx("p",{className:"text-gray-500 mt-2",children:"Loading supports..."})]})]}),l&&i&&n.jsx("div",{style:{marginTop:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Support Details"}),n.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Lr,{size:24})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.fullName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.jsx("a",{href:`mailto:${i.email}`,className:"text-brand-600 hover:underline",children:i.email})})]}),i.phone&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Reason"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:yN[i.supportReason]||i.supportReason})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${(E=Vv[i.priority])==null?void 0:E.color}`,children:(L=Vv[i.priority])==null?void 0:L.label})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Message"}),n.jsx("div",{className:"mt-1 p-3 bg-gray-50 rounded-lg",children:n.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:i.message})})]}),i.attachment&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Attachment"}),n.jsx("div",{className:"mt-1",children:n.jsxs("a",{href:i.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[n.jsx(La,{size:16}),i.attachmentName||"Download Attachment"]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),n.jsxs("select",{value:i.status,onChange:C=>b(i.id,C.target.value),disabled:m,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",children:[n.jsx("option",{value:"new",children:"New"}),n.jsx("option",{value:"in_progress",children:"In Progress"}),n.jsx("option",{value:"responded",children:"Responded"}),n.jsx("option",{value:"closed",children:"Closed"})]})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx("button",{onClick:()=>{const C=`Re: ${yN[i.supportReason]} - ${i.fullName}`,T=`Hi ${i.fullName},

Thank you for your support request. `;window.open(`mailto:${i.email}?subject=${encodeURIComponent(C)}&body=${encodeURIComponent(T)}`)},className:"flex-1 bg-brand-600 text-white px-4 py-2 rounded-lg hover:bg-brand-700 transition-colors",children:"Reply via Email"}),n.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})]})]})]})})})]})}const P8=[{value:"all",label:"All Users"},{value:"connections",label:"Users Connected to Poster"},{value:"newUsers",label:"New Users Only"},{value:"matchingInterests",label:"Users with Matching Interests"}],D8=[{value:"all",label:"All Users"},{value:"selectedUsers",label:"Selected Users"},{value:"newUsers",label:"New Users Only"}];function w5e(){var J,Y;const[t,r]=u.useState({newPostNotificationSettings:{enabled:!0,audienceType:"all",audienceOptions:["all"],excludeCreator:!0,emailSubject:"New {{postType}} posted by {{authorName}} on 54Links",emailTemplate:"new-post"},customNotificationSettings:{enabled:!0,audienceType:"all",audienceOptions:["all"],selectedUsers:[],message:"",emailSubject:"Important Update from 54Links",emailTemplate:"custom-notification"}}),[s,a]=u.useState(!0),[i,o]=u.useState(!1),[l,c]=u.useState(!1),[d,f]=u.useState("new-posts"),[h,g]=u.useState([]),[m,p]=u.useState(""),[x,y]=u.useState([]),[w,b]=u.useState(!1),v=u.useRef(null);u.useEffect(()=>{E()},[]);const j=te=>ve(this,null,function*(){if(!te.trim()){y([]);return}b(!0);try{const{data:K}=yield Le.get(`/users/search?q=${encodeURIComponent(te)}`),X=K.filter(W=>!h.some(F=>F.id===W.id));y(X)}catch(K){console.error("Error searching users:",K),y([])}finally{b(!1)}});u.useEffect(()=>{const te=K=>{v.current&&!v.current.contains(K.target)&&y([])};return document.addEventListener("mousedown",te),()=>{document.removeEventListener("mousedown",te)}},[]);const N=te=>{const K=te.target.value;p(K),clearTimeout(window.userSearchTimeout),window.userSearchTimeout=setTimeout(()=>{j(K)},300)},S=te=>{if(!h.some(K=>K.id===te.id)){const K=[...h,te];g(K),r(X=>me(ne({},X),{customNotificationSettings:me(ne({},X.customNotificationSettings),{selectedUsers:K.map(W=>W.id)})}))}p(""),y([])},I=te=>{const K=h.filter(X=>X.id!==te);g(K),r(X=>me(ne({},X),{customNotificationSettings:me(ne({},X.customNotificationSettings),{selectedUsers:K.map(W=>W.id)})}))};u.useEffect(()=>{ve(this,null,function*(){var K;if(((K=t.customNotificationSettings.selectedUsers)==null?void 0:K.length)>0)try{const X=t.customNotificationSettings.selectedUsers.map(P=>Le.get(`/users/${P}/public/basic`).catch(()=>({data:{id:P,name:"Unknown User"}}))),F=(yield Promise.all(X)).map(P=>P.data);g(F)}catch(X){console.error("Error loading selected users:",X),g(t.customNotificationSettings.selectedUsers.map(W=>({id:W,name:"Unknown User"})))}else g([])})},[t.customNotificationSettings.selectedUsers]);const E=()=>ve(this,null,function*(){try{a(!0);const te=yield Kje();te.data&&r(te.data)}catch(te){console.error("Error loading admin settings:",te),ce.error("Failed to load notification settings")}finally{a(!1)}}),L=te=>ve(this,null,function*(){try{o(!0),yield Xje(t),te!="ignore_toast"&&ce.success("Notification settings saved successfully")}catch(K){console.error("Error saving admin settings:",K),ce.error("Failed to save notification settings")}finally{o(!1)}}),C=()=>ve(this,null,function*(){try{if(!_.message||!_.emailSubject){ce.error("Please provide both message and subject");return}yield L("ignore_toast"),c(!0);const te=yield e4e({message:_.message,subject:_.emailSubject,audienceType:_.audienceType,selectedUsers:_.selectedUsers});ce.success(`Custom notification sent to ${te.userCount} users successfully`)}catch(te){console.error("Error sending custom notification:",te),ce.error("Failed to send custom notification")}finally{c(!1)}}),T=(te,K,X=!1)=>{const W=X?"customNotificationSettings":"newPostNotificationSettings",F=t[W].audienceOptions||[];let P;K?P=[...F,te]:P=F.filter(A=>A!==te),te!="all"&&K&&(P=P.filter(A=>A!="all")),te=="all"&&K&&(P=["all"]),P.length===0&&(P=["all"]),r(A=>me(ne({},A),{[W]:me(ne({},A[W]),{audienceOptions:P})}))},k=(te,K,X=!1)=>{const W=X?"customNotificationSettings":"newPostNotificationSettings";r(F=>me(ne({},F),{[W]:me(ne({},F[W]),{[te]:K})}))};if(s)return n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600"}),n.jsx("span",{className:"ml-2",children:"Loading settings..."})]});const{newPostNotificationSettings:M,customNotificationSettings:_}=t;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Notification Center"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Configure notifications and send custom messages to users"})]}),n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-1",children:n.jsxs("div",{className:"flex",children:[n.jsx("button",{onClick:()=>f("new-posts"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors ${d==="new-posts"?"bg-brand-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:"New Post Notifications"}),n.jsx("button",{onClick:()=>f("custom"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors ${d==="custom"?"bg-brand-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:"Custom Notifications"})]})}),d==="new-posts"&&n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"New Post Notifications"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Send email notifications when users post new content"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",checked:M.enabled,onChange:te=>k("enabled",te.target.checked)}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-600"})]})]}),M.enabled&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Who receives notifications?"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Select which users should receive notifications for new posts"}),n.jsx("div",{className:"space-y-3",children:P8.map(te=>{var K;return n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300 rounded",checked:((K=M.audienceOptions)==null?void 0:K.includes(te.value))||!1,onChange:X=>T(te.value,X.target.checked)}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:te.label})]},te.value)})}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Users will receive notifications if they match ANY of the selected criteria above."})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300 rounded",checked:M.excludeCreator,onChange:te=>k("excludeCreator",te.target.checked)}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Exclude the post creator from receiving notifications"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Subject Template"}),n.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",value:M.emailSubject,onChange:te=>k("emailSubject",te.target.value),placeholder:"New {{postType}} posted by {{authorName}} on 54Links"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Available variables: ","{{postType}}",", ","{{authorName}}"," "]})]}),n.jsxs("div",{className:"hidden",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Template"}),n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",value:M.emailTemplate,onChange:te=>k("emailTemplate",te.target.value),children:[n.jsx("option",{value:"new-post",children:"New Post Template"}),n.jsx("option",{value:"custom",children:"Custom Template (coming soon)"})]})]})]})]}),n.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:n.jsx("button",{onClick:L,disabled:i,className:"inline-flex items-center gap-2 px-6 py-2 bg-brand-600 text-white text-sm font-medium rounded-lg hover:bg-brand-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):"Save Settings"})})]}),d==="custom"&&n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Custom Notifications"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Send custom notifications to users"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",checked:_.enabled,onChange:te=>k("enabled",te.target.checked,!0)}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-600"})]})]}),_.enabled&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Who receives notifications?"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Select which users should receive this custom notification"}),n.jsx("div",{className:"space-y-3",children:D8.map(te=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"customNotificationAudience",className:"h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300",checked:_.audienceType===te.value,onChange:K=>{k("audienceType",te.value,!0),k("audienceOptions",[te.value],!0)}}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:te.label})]},te.value))}),_.audienceType==="selectedUsers"&&n.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Specific Users"}),h.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:h.map(te=>n.jsxs("div",{className:"inline-flex items-center gap-2 bg-brand-50 text-brand-700 rounded-full px-3 py-1 text-xs font-medium",children:[te.avatarUrl?n.jsx("img",{src:te.avatarUrl,alt:te.name,className:"w-4 h-4 rounded-full object-cover"}):n.jsx("div",{className:"w-4 h-4 rounded-full bg-brand-100 flex items-center justify-center text-xs font-medium text-brand-700",children:te.name?te.name.charAt(0).toUpperCase():"U"}),te.name||te.email,n.jsx("button",{type:"button",onClick:()=>I(te.id),className:"text-brand-500 hover:text-brand-700",children:n.jsx(Lr,{size:12})})]},te.id))}),n.jsxs("div",{ref:v,className:"relative",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:m,onChange:N,placeholder:"Search users by name or email...",className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/30"}),w&&n.jsx("div",{className:"absolute right-3 top-2.5",children:n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-brand-500"})})]}),x.length>0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:x.map(te=>n.jsxs("button",{type:"button",onClick:()=>S(te),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3",children:[te.avatarUrl?n.jsx("img",{src:te.avatarUrl,alt:te.name,className:"w-6 h-6 rounded-full object-cover"}):n.jsx("div",{className:"w-6 h-6 rounded-full bg-brand-100 flex items-center justify-center text-xs font-medium text-brand-700",children:te.name?te.name.charAt(0).toUpperCase():"U"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:te.name}),n.jsx("div",{className:"text-xs text-gray-500 truncate",children:te.email})]})]},te.id))})]})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Users will receive notifications if they match ANY of the selected criteria above."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message Content"}),n.jsx(gq,{theme:"snow",value:_.message||"",onChange:te=>k("message",te,!0),placeholder:"Enter your custom notification message...",modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},formats:["header","bold","italic","underline","color","background","list","bullet","link"],className:"bg-white rounded-xl border border-gray-200",style:{minHeight:"120px"}}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This message will be sent as both email and in-app notification."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Subject"}),n.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent",value:_.emailSubject,onChange:te=>k("emailSubject",te.target.value,!0),placeholder:"Important Update from 54Links"})]}),n.jsx("div",{className:"pt-4 border-t border-gray-200",children:n.jsx("button",{onClick:C,disabled:l,className:"inline-flex items-center gap-2 px-6 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Sending..."]}):"Save & Send Notification"})})]})]}),n.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:n.jsx("button",{onClick:L,disabled:i,className:"inline-flex items-center gap-2 px-6 py-2 bg-brand-600 text-white text-sm font-medium rounded-lg hover:bg-brand-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):"Save Settings"})})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Preview"}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:n.jsx("div",{className:"text-sm",children:d==="new-posts"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Email Subject:"}),n.jsx("div",{className:"text-gray-700 mb-4",children:M.emailSubject.replace("{{postType}}","job").replace("{{authorName}}","John Doe")}),n.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Selected Audience:"}),n.jsx("div",{className:"text-gray-700",children:((J=M.audienceOptions)==null?void 0:J.length)>0?M.audienceOptions.map(te=>{var K;return(K=P8.find(X=>X.value===te))==null?void 0:K.label}).filter(Boolean).join(", "):"None selected"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Email Subject:"}),n.jsx("div",{className:"text-gray-700 mb-4",children:_.emailSubject}),n.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Message Preview:"}),n.jsx("div",{className:"text-gray-700 mb-4",dangerouslySetInnerHTML:{__html:_.message||"No message content"}}),n.jsx("div",{className:"font-medium text-gray-900 mb-2",children:"Selected Audience:"}),n.jsx("div",{className:"text-gray-700",children:((Y=_.audienceOptions)==null?void 0:Y.length)>0?_.audienceOptions.map(te=>{var K;return(K=D8.find(X=>X.value===te))==null?void 0:K.label}).filter(Boolean).join(", "):"None selected"})]})})})]})]})}function j5e(){return n.jsx(aie,{children:n.jsxs(Zae,{children:[n.jsx(Gt,{path:"/login",element:n.jsx(upe,{})}),n.jsx(Gt,{path:"/onboarding",element:n.jsx(MTe,{})}),n.jsx(Gt,{path:"/onboarding-one",element:n.jsx(LTe,{})}),n.jsx(Gt,{path:"/signup",element:n.jsx(mpe,{})}),n.jsx(Gt,{path:"*",element:n.jsx(lpe,{})}),n.jsx(Gt,{path:"/verify-email-sent",element:n.jsx(ppe,{})}),n.jsx(Gt,{path:"/verify/:token",element:n.jsx(xpe,{})}),n.jsx(Gt,{path:"/delete-account/:token",element:n.jsx(wpe,{})}),n.jsx(Gt,{path:"/reset-success",element:n.jsx(Cpe,{})}),n.jsx(Gt,{path:"/forgot",element:n.jsx(jpe,{})}),n.jsx(Gt,{path:"/reset-email-sent",element:n.jsx(Npe,{})}),n.jsx(Gt,{path:"/reset/:token",element:n.jsx(Spe,{})}),n.jsx(Gt,{path:"/onboarding/who-you-are",element:n.jsx(nEe,{})}),n.jsx(Gt,{path:"/onboarding/industry",element:n.jsx(sEe,{})}),n.jsx(Gt,{path:"/onboarding/goals",element:n.jsx(lEe,{})}),n.jsx(Gt,{path:"/terms",element:n.jsx(UTe,{})}),n.jsx(Gt,{path:"/landing",element:n.jsx(W4,{})}),n.jsx(Gt,{path:"/privacy",element:n.jsx(WTe,{})}),n.jsxs(Gt,{element:n.jsx(ETe,{}),children:[n.jsx(Gt,{path:"/jobs/create",element:n.jsx(ny,{})}),n.jsx(Gt,{path:"/events/create",element:n.jsx(o6,{})}),n.jsx(Gt,{path:"/notifications",element:n.jsx(NEe,{})}),n.jsx(Gt,{path:"/services/create",element:n.jsx(sy,{})}),n.jsx(Gt,{path:"/services/request/create",element:n.jsx(sy,{})}),n.jsx(Gt,{path:"/products/create",element:n.jsx(l6,{})}),n.jsx(Gt,{path:"/experiences/create",element:n.jsx(c6,{})}),n.jsx(Gt,{path:"/messages",element:n.jsx(kTe,{})}),n.jsx(Gt,{path:"/meetings",element:n.jsx(CEe,{})}),n.jsx(Gt,{path:"/fundings/create",element:n.jsx(p6,{})}),n.jsx(Gt,{path:"/offerings/create",element:n.jsx(A8,{})}),n.jsx(Gt,{path:"/need/:type/create",element:n.jsx(y6,{})}),n.jsx(Gt,{path:"/profile",element:n.jsx(w$,{})}),n.jsx(Gt,{path:"/profile/company/:companyId/authorize",element:n.jsx(p5e,{})}),n.jsx(Gt,{path:"/profile/company/:companyId/staff/confirm",element:n.jsx(v5e,{})}),n.jsx(Gt,{path:"/organization/join-requests",element:n.jsx($8,{})}),n.jsx(Gt,{path:"/organization/join-request/:id/:token",element:n.jsx($8,{})}),n.jsx(Gt,{path:"/settings",element:n.jsx(i4e,{})})]}),n.jsxs(Gt,{path:"/admin",element:n.jsx(t5e,{}),children:[n.jsx(Gt,{index:!0,element:n.jsx(i5e,{})}),n.jsx(Gt,{path:"users",element:n.jsx(o5e,{})}),n.jsx(Gt,{path:"content-moderation",element:n.jsx(d5e,{})}),n.jsx(Gt,{path:"contacts",element:n.jsx(y5e,{})}),n.jsx(Gt,{path:"supports",element:n.jsx(b5e,{})}),n.jsx(Gt,{path:"notification-center",element:n.jsx(w5e,{})}),n.jsx(Gt,{path:"user-profile/:id",element:n.jsx(w$,{})})]}),n.jsxs(Gt,{element:n.jsx(TTe,{}),children:[n.jsx(Gt,{path:"/",element:n.jsx(W4,{})}),n.jsx(Gt,{path:"/dashboard",element:n.jsx(W4,{})}),n.jsx(Gt,{path:"/moment/:type/create",element:n.jsx(x6,{})}),n.jsx(Gt,{path:"/funding",element:n.jsx(DTe,{})}),n.jsx(Gt,{path:"/events",element:n.jsx(fEe,{})}),n.jsx(Gt,{path:"/jobs",element:n.jsx(dEe,{})}),n.jsx(Gt,{path:"/tourism",element:n.jsx(gEe,{})}),n.jsx(Gt,{path:"/companies",element:n.jsx(wEe,{})}),n.jsx(Gt,{path:"/people",element:n.jsx(mq,{})}),n.jsx(Gt,{path:"/profile/:userId",element:n.jsx(KTe,{})}),n.jsx(Gt,{path:"/services",element:n.jsx(_Te,{})}),n.jsx(Gt,{path:"/products",element:n.jsx($Te,{})}),n.jsx(Gt,{path:"/jobs/:id",element:n.jsx(ny,{})}),n.jsx(Gt,{path:"/job/:id",element:n.jsx(ny,{})}),n.jsx(Gt,{path:"/event/:id",element:n.jsx(o6,{})}),n.jsx(Gt,{path:"/funding/:id",element:n.jsx(p6,{})}),n.jsx(Gt,{path:"/product/:id",element:n.jsx(l6,{})}),n.jsx(Gt,{path:"/experience/:id",element:n.jsx(c6,{})}),n.jsx(Gt,{path:"/service/:id",element:n.jsx(sy,{})}),n.jsx(Gt,{path:"/offering/:id",element:n.jsx(A8,{})}),n.jsx(Gt,{path:"/need/:id",element:n.jsx(y6,{})}),n.jsx(Gt,{path:"/moment/:id",element:n.jsx(x6,{})})]})]})})}var Ug=function(t){return t&&t.Math===Math&&t},Vt=Ug(typeof globalThis=="object"&&globalThis)||Ug(typeof window=="object"&&window)||Ug(typeof self=="object"&&self)||Ug(typeof Ts=="object"&&Ts)||Ug(typeof Ts=="object"&&Ts)||function(){return this}()||Function("return this")(),fa={},Pt=function(t){try{return!!t()}catch(r){return!0}},N5e=Pt,or=!N5e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),S5e=Pt,xx=!S5e(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),C5e=xx,Gv=Function.prototype.call,lr=C5e?Gv.bind(Gv):function(){return Gv.apply(Gv,arguments)},vx={},RY={}.propertyIsEnumerable,FY=Object.getOwnPropertyDescriptor,k5e=FY&&!RY.call({1:2},1);vx.f=k5e?function(r){var s=FY(this,r);return!!s&&s.enumerable}:RY;var lo=function(t,r){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:r}},BY=xx,zY=Function.prototype,b6=zY.call,E5e=BY&&zY.bind.bind(b6,b6),Ut=BY?E5e:function(t){return function(){return b6.apply(t,arguments)}},UY=Ut,L5e=UY({}.toString),M5e=UY("".slice),ha=function(t){return M5e(L5e(t),8,-1)},I5e=Ut,T5e=Pt,A5e=ha,wN=Object,_5e=I5e("".split),Vh=T5e(function(){return!wN("z").propertyIsEnumerable(0)})?function(t){return A5e(t)==="String"?_5e(t,""):wN(t)}:wN,ri=function(t){return t==null},O5e=ri,$5e=TypeError,bn=function(t){if(O5e(t))throw new $5e("Can't call method on "+t);return t},P5e=Vh,D5e=bn,ws=function(t){return P5e(D5e(t))},jN=typeof document=="object"&&document.all,$r=typeof jN=="undefined"&&jN!==void 0?function(t){return typeof t=="function"||t===jN}:function(t){return typeof t=="function"},R5e=$r,kr=function(t){return typeof t=="object"?t!==null:R5e(t)},NN=Vt,F5e=$r,B5e=function(t){return F5e(t)?t:void 0},nn=function(t,r){return arguments.length<2?B5e(NN[t]):NN[t]&&NN[t][r]},z5e=Ut,ni=z5e({}.isPrototypeOf),U5e=Vt,R8=U5e.navigator,F8=R8&&R8.userAgent,pl=F8?String(F8):"",WY=Vt,SN=pl,B8=WY.process,z8=WY.Deno,U8=B8&&B8.versions||z8&&z8.version,W8=U8&&U8.v8,Eo,zb;W8&&(Eo=W8.split("."),zb=Eo[0]>0&&Eo[0]<4?1:+(Eo[0]+Eo[1]));!zb&&SN&&(Eo=SN.match(/Edge\/(\d+)/),(!Eo||Eo[1]>=74)&&(Eo=SN.match(/Chrome\/(\d+)/),Eo&&(zb=+Eo[1])));var dc=zb,H8=dc,W5e=Pt,H5e=Vt,V5e=H5e.String,Gh=!!Object.getOwnPropertySymbols&&!W5e(function(){var t=Symbol("symbol detection");return!V5e(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&H8&&H8<41}),G5e=Gh,HY=G5e&&!Symbol.sham&&typeof Symbol.iterator=="symbol",q5e=nn,Y5e=$r,J5e=ni,Z5e=HY,Q5e=Object,hf=Z5e?function(t){return typeof t=="symbol"}:function(t){var r=q5e("Symbol");return Y5e(r)&&J5e(r.prototype,Q5e(t))},K5e=String,gf=function(t){try{return K5e(t)}catch(r){return"Object"}},X5e=$r,eAe=gf,tAe=TypeError,Rr=function(t){if(X5e(t))return t;throw new tAe(eAe(t)+" is not a function")},rAe=Rr,nAe=ri,xl=function(t,r){var s=t[r];return nAe(s)?void 0:rAe(s)},CN=lr,kN=$r,EN=kr,sAe=TypeError,VY=function(t,r){var s,a;if(r==="string"&&kN(s=t.toString)&&!EN(a=CN(s,t))||kN(s=t.valueOf)&&!EN(a=CN(s,t))||r!=="string"&&kN(s=t.toString)&&!EN(a=CN(s,t)))return a;throw new sAe("Can't convert object to primitive value")},GY={exports:{}},uc=!1,V8=Vt,aAe=Object.defineProperty,qL=function(t,r){try{aAe(V8,t,{value:r,configurable:!0,writable:!0})}catch(s){V8[t]=r}return r},iAe=Vt,oAe=qL,G8="__core-js_shared__",q8=GY.exports=iAe[G8]||oAe(G8,{});(q8.versions||(q8.versions=[])).push({version:"3.39.0",mode:"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"});var YL=GY.exports,Y8=YL,qh=function(t,r){return Y8[t]||(Y8[t]=r||{})},lAe=bn,cAe=Object,Vr=function(t){return cAe(lAe(t))},dAe=Ut,uAe=Vr,fAe=dAe({}.hasOwnProperty),Fr=Object.hasOwn||function(r,s){return fAe(uAe(r),s)},hAe=Ut,gAe=0,mAe=Math.random(),pAe=hAe(1 .toString),Yh=function(t){return"Symbol("+(t===void 0?"":t)+")_"+pAe(++gAe+mAe,36)},xAe=Vt,vAe=qh,J8=Fr,yAe=Yh,bAe=Gh,wAe=HY,w0=xAe.Symbol,LN=vAe("wks"),jAe=wAe?w0.for||w0:w0&&w0.withoutSetter||yAe,Er=function(t){return J8(LN,t)||(LN[t]=bAe&&J8(w0,t)?w0[t]:jAe("Symbol."+t)),LN[t]},NAe=lr,Z8=kr,Q8=hf,SAe=xl,CAe=VY,kAe=Er,EAe=TypeError,LAe=kAe("toPrimitive"),zw=function(t,r){if(!Z8(t)||Q8(t))return t;var s=SAe(t,LAe),a;if(s){if(r===void 0&&(r="default"),a=NAe(s,t,r),!Z8(a)||Q8(a))return a;throw new EAe("Can't convert object to primitive value")}return r===void 0&&(r="number"),CAe(t,r)},MAe=zw,IAe=hf,zd=function(t){var r=MAe(t,"string");return IAe(r)?r:r+""},TAe=Vt,K8=kr,w6=TAe.document,AAe=K8(w6)&&K8(w6.createElement),Uw=function(t){return AAe?w6.createElement(t):{}},_Ae=or,OAe=Pt,$Ae=Uw,qY=!_Ae&&!OAe(function(){return Object.defineProperty($Ae("div"),"a",{get:function(){return 7}}).a!==7}),PAe=or,DAe=lr,RAe=vx,FAe=lo,BAe=ws,zAe=zd,UAe=Fr,WAe=qY,X8=Object.getOwnPropertyDescriptor;fa.f=PAe?X8:function(r,s){if(r=BAe(r),s=zAe(s),WAe)try{return X8(r,s)}catch(a){}if(UAe(r,s))return FAe(!DAe(RAe.f,r,s),r[s])};var wn={},HAe=or,VAe=Pt,YY=HAe&&VAe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),GAe=kr,qAe=String,YAe=TypeError,sr=function(t){if(GAe(t))return t;throw new YAe(qAe(t)+" is not an object")},JAe=or,ZAe=qY,QAe=YY,qv=sr,eP=zd,KAe=TypeError,MN=Object.defineProperty,XAe=Object.getOwnPropertyDescriptor,IN="enumerable",TN="configurable",AN="writable";wn.f=JAe?QAe?function(r,s,a){if(qv(r),s=eP(s),qv(a),typeof r=="function"&&s==="prototype"&&"value"in a&&AN in a&&!a[AN]){var i=XAe(r,s);i&&i[AN]&&(r[s]=a.value,a={configurable:TN in a?a[TN]:i[TN],enumerable:IN in a?a[IN]:i[IN],writable:!1})}return MN(r,s,a)}:MN:function(r,s,a){if(qv(r),s=eP(s),qv(a),ZAe)try{return MN(r,s,a)}catch(i){}if("get"in a||"set"in a)throw new KAe("Accessors not supported");return"value"in a&&(r[s]=a.value),r};var e_e=or,t_e=wn,r_e=lo,ga=e_e?function(t,r,s){return t_e.f(t,r,r_e(1,s))}:function(t,r,s){return t[r]=s,t},JY={exports:{}},j6=or,n_e=Fr,ZY=Function.prototype,s_e=j6&&Object.getOwnPropertyDescriptor,JL=n_e(ZY,"name"),a_e=JL&&function(){}.name==="something",i_e=JL&&(!j6||j6&&s_e(ZY,"name").configurable),Jh={EXISTS:JL,PROPER:a_e,CONFIGURABLE:i_e},o_e=Ut,l_e=$r,N6=YL,c_e=o_e(Function.toString);l_e(N6.inspectSource)||(N6.inspectSource=function(t){return c_e(t)});var ZL=N6.inspectSource,d_e=Vt,u_e=$r,tP=d_e.WeakMap,QY=u_e(tP)&&/native code/.test(String(tP)),f_e=qh,h_e=Yh,rP=f_e("keys"),Ww=function(t){return rP[t]||(rP[t]=h_e(t))},yx={},g_e=QY,KY=Vt,m_e=kr,p_e=ga,_N=Fr,ON=YL,x_e=Ww,v_e=yx,nP="Object already initialized",S6=KY.TypeError,y_e=KY.WeakMap,Ub,Pp,Wb,b_e=function(t){return Wb(t)?Pp(t):Ub(t,{})},w_e=function(t){return function(r){var s;if(!m_e(r)||(s=Pp(r)).type!==t)throw new S6("Incompatible receiver, "+t+" required");return s}};if(g_e||ON.state){var Zo=ON.state||(ON.state=new y_e);Zo.get=Zo.get,Zo.has=Zo.has,Zo.set=Zo.set,Ub=function(t,r){if(Zo.has(t))throw new S6(nP);return r.facade=t,Zo.set(t,r),r},Pp=function(t){return Zo.get(t)||{}},Wb=function(t){return Zo.has(t)}}else{var Ff=x_e("state");v_e[Ff]=!0,Ub=function(t,r){if(_N(t,Ff))throw new S6(nP);return r.facade=t,p_e(t,Ff,r),r},Pp=function(t){return _N(t,Ff)?t[Ff]:{}},Wb=function(t){return _N(t,Ff)}}var Jn={set:Ub,get:Pp,has:Wb,enforce:b_e,getterFor:w_e},QL=Ut,j_e=Pt,N_e=$r,Yv=Fr,C6=or,S_e=Jh.CONFIGURABLE,C_e=ZL,XY=Jn,k_e=XY.enforce,E_e=XY.get,sP=String,cy=Object.defineProperty,L_e=QL("".slice),M_e=QL("".replace),I_e=QL([].join),T_e=C6&&!j_e(function(){return cy(function(){},"length",{value:8}).length!==8}),A_e=String(String).split("String"),__e=JY.exports=function(t,r,s){L_e(sP(r),0,7)==="Symbol("&&(r="["+M_e(sP(r),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),s&&s.getter&&(r="get "+r),s&&s.setter&&(r="set "+r),(!Yv(t,"name")||S_e&&t.name!==r)&&(C6?cy(t,"name",{value:r,configurable:!0}):t.name=r),T_e&&s&&Yv(s,"arity")&&t.length!==s.arity&&cy(t,"length",{value:s.arity});try{s&&Yv(s,"constructor")&&s.constructor?C6&&cy(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(i){}var a=k_e(t);return Yv(a,"source")||(a.source=I_e(A_e,typeof r=="string"?r:"")),t};Function.prototype.toString=__e(function(){return N_e(this)&&E_e(this).source||C_e(this)},"toString");var KL=JY.exports,O_e=$r,$_e=wn,P_e=KL,D_e=qL,jn=function(t,r,s,a){a||(a={});var i=a.enumerable,o=a.name!==void 0?a.name:r;if(O_e(s)&&P_e(s,o,a),a.global)i?t[r]=s:D_e(r,s);else{try{a.unsafe?t[r]&&(i=!0):delete t[r]}catch(l){}i?t[r]=s:$_e.f(t,r,{value:s,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t},Ud={},R_e=Math.ceil,F_e=Math.floor,eJ=Math.trunc||function(r){var s=+r;return(s>0?F_e:R_e)(s)},B_e=eJ,Pn=function(t){var r=+t;return r!==r||r===0?0:B_e(r)},z_e=Pn,U_e=Math.max,W_e=Math.min,fc=function(t,r){var s=z_e(t);return s<0?U_e(s+r,0):W_e(s,r)},H_e=Pn,V_e=Math.min,Mi=function(t){var r=H_e(t);return r>0?V_e(r,9007199254740991):0},G_e=Mi,sn=function(t){return G_e(t.length)},q_e=ws,Y_e=fc,J_e=sn,aP=function(t){return function(r,s,a){var i=q_e(r),o=J_e(i);if(o===0)return!t&&-1;var l=Y_e(a,o),c;if(t&&s!==s){for(;o>l;)if(c=i[l++],c!==c)return!0}else for(;o>l;l++)if((t||l in i)&&i[l]===s)return t||l||0;return!t&&-1}},bx={includes:aP(!0),indexOf:aP(!1)},Z_e=Ut,$N=Fr,Q_e=ws,K_e=bx.indexOf,X_e=yx,iP=Z_e([].push),tJ=function(t,r){var s=Q_e(t),a=0,i=[],o;for(o in s)!$N(X_e,o)&&$N(s,o)&&iP(i,o);for(;r.length>a;)$N(s,o=r[a++])&&(~K_e(i,o)||iP(i,o));return i},XL=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],eOe=tJ,tOe=XL,rOe=tOe.concat("length","prototype");Ud.f=Object.getOwnPropertyNames||function(r){return eOe(r,rOe)};var wx={};wx.f=Object.getOwnPropertySymbols;var nOe=nn,sOe=Ut,aOe=Ud,iOe=wx,oOe=sr,lOe=sOe([].concat),eM=nOe("Reflect","ownKeys")||function(r){var s=aOe.f(oOe(r)),a=iOe.f;return a?lOe(s,a(r)):s},oP=Fr,cOe=eM,dOe=fa,uOe=wn,jx=function(t,r,s){for(var a=cOe(r),i=uOe.f,o=dOe.f,l=0;l<a.length;l++){var c=a[l];!oP(t,c)&&!(s&&oP(s,c))&&i(t,c,o(r,c))}},fOe=Pt,hOe=$r,gOe=/#|\.prototype\./,Nx=function(t,r){var s=pOe[mOe(t)];return s===vOe?!0:s===xOe?!1:hOe(r)?fOe(r):!!r},mOe=Nx.normalize=function(t){return String(t).replace(gOe,".").toLowerCase()},pOe=Nx.data={},xOe=Nx.NATIVE="N",vOe=Nx.POLYFILL="P",Sx=Nx,Jv=Vt,yOe=fa.f,bOe=ga,wOe=jn,jOe=qL,NOe=jx,SOe=Sx,Qe=function(t,r){var s=t.target,a=t.global,i=t.stat,o,l,c,d,f,h;if(a?l=Jv:i?l=Jv[s]||jOe(s,{}):l=Jv[s]&&Jv[s].prototype,l)for(c in r){if(f=r[c],t.dontCallGetSet?(h=yOe(l,c),d=h&&h.value):d=l[c],o=SOe(a?c:s+(i?".":"#")+c,t.forced),!o&&d!==void 0){if(typeof f==typeof d)continue;NOe(f,d)}(t.sham||d&&d.sham)&&bOe(f,"sham",!0),wOe(l,c,f,t)}},COe=Er,kOe=COe("toStringTag"),rJ={};rJ[kOe]="z";var tM=String(rJ)==="[object z]",EOe=tM,LOe=$r,dy=ha,MOe=Er,IOe=MOe("toStringTag"),TOe=Object,AOe=dy(function(){return arguments}())==="Arguments",_Oe=function(t,r){try{return t[r]}catch(s){}},vl=EOe?dy:function(t){var r,s,a;return t===void 0?"Undefined":t===null?"Null":typeof(s=_Oe(r=TOe(t),IOe))=="string"?s:AOe?dy(r):(a=dy(r))==="Object"&&LOe(r.callee)?"Arguments":a},OOe=vl,$Oe=String,gr=function(t){if(OOe(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return $Oe(t)},Hw={},POe=tJ,DOe=XL,Cx=Object.keys||function(r){return POe(r,DOe)},ROe=or,FOe=YY,BOe=wn,zOe=sr,UOe=ws,WOe=Cx;Hw.f=ROe&&!FOe?Object.defineProperties:function(r,s){zOe(r);for(var a=UOe(s),i=WOe(s),o=i.length,l=0,c;o>l;)BOe.f(r,c=i[l++],a[c]);return r};var HOe=nn,nJ=HOe("document","documentElement"),VOe=sr,GOe=Hw,lP=XL,qOe=yx,YOe=nJ,JOe=Uw,ZOe=Ww,cP=">",dP="<",k6="prototype",E6="script",sJ=ZOe("IE_PROTO"),PN=function(){},aJ=function(t){return dP+E6+cP+t+dP+"/"+E6+cP},uP=function(t){t.write(aJ("")),t.close();var r=t.parentWindow.Object;return t=null,r},QOe=function(){var t=JOe("iframe"),r="java"+E6+":",s;return t.style.display="none",YOe.appendChild(t),t.src=String(r),s=t.contentWindow.document,s.open(),s.write(aJ("document.F=Object")),s.close(),s.F},Zv,uy=function(){try{Zv=new ActiveXObject("htmlfile")}catch(r){}uy=typeof document!="undefined"?document.domain&&Zv?uP(Zv):QOe():uP(Zv);for(var t=lP.length;t--;)delete uy[k6][lP[t]];return uy()};qOe[sJ]=!0;var Ii=Object.create||function(r,s){var a;return r!==null?(PN[k6]=VOe(r),a=new PN,PN[k6]=null,a[sJ]=r):a=uy(),s===void 0?a:GOe.f(a,s)},Vw={},KOe=Ut,co=KOe([].slice),XOe=ha,e$e=ws,iJ=Ud.f,t$e=co,oJ=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],r$e=function(t){try{return iJ(t)}catch(r){return t$e(oJ)}};Vw.f=function(r){return oJ&&XOe(r)==="Window"?r$e(r):iJ(e$e(r))};var fP=KL,n$e=wn,ls=function(t,r,s){return s.get&&fP(s.get,r,{getter:!0}),s.set&&fP(s.set,r,{setter:!0}),n$e.f(t,r,s)},rM={},s$e=Er;rM.f=s$e;var a$e=Vt,lJ=a$e,hP=lJ,i$e=Fr,o$e=rM,l$e=wn.f,si=function(t){var r=hP.Symbol||(hP.Symbol={});i$e(r,t)||l$e(r,t,{value:o$e.f(t)})},c$e=lr,d$e=nn,u$e=Er,f$e=jn,cJ=function(){var t=d$e("Symbol"),r=t&&t.prototype,s=r&&r.valueOf,a=u$e("toPrimitive");r&&!r[a]&&f$e(r,a,function(i){return c$e(s,this)},{arity:1})},h$e=wn.f,g$e=Fr,m$e=Er,gP=m$e("toStringTag"),ai=function(t,r,s){t&&!s&&(t=t.prototype),t&&!g$e(t,gP)&&h$e(t,gP,{configurable:!0,value:r})},p$e=ha,x$e=Ut,Wd=function(t){if(p$e(t)==="Function")return x$e(t)},mP=Wd,v$e=Rr,y$e=xx,b$e=mP(mP.bind),Uo=function(t,r){return v$e(t),r===void 0?t:y$e?b$e(t,r):function(){return t.apply(r,arguments)}},w$e=ha,Hd=Array.isArray||function(r){return w$e(r)==="Array"},j$e=Ut,N$e=Pt,dJ=$r,S$e=vl,C$e=nn,k$e=ZL,uJ=function(){},fJ=C$e("Reflect","construct"),nM=/^\s*(?:class|function)\b/,E$e=j$e(nM.exec),L$e=!nM.test(uJ),Wg=function(r){if(!dJ(r))return!1;try{return fJ(uJ,[],r),!0}catch(s){return!1}},hJ=function(r){if(!dJ(r))return!1;switch(S$e(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return L$e||!!E$e(nM,k$e(r))}catch(s){return!0}};hJ.sham=!0;var Zh=!fJ||N$e(function(){var t;return Wg(Wg.call)||!Wg(Object)||!Wg(function(){t=!0})||t})?hJ:Wg,pP=Hd,M$e=Zh,I$e=kr,T$e=Er,A$e=T$e("species"),xP=Array,_$e=function(t){var r;return pP(t)&&(r=t.constructor,M$e(r)&&(r===xP||pP(r.prototype))?r=void 0:I$e(r)&&(r=r[A$e],r===null&&(r=void 0))),r===void 0?xP:r},O$e=_$e,kx=function(t,r){return new(O$e(t))(r===0?0:r)},$$e=Uo,P$e=Ut,D$e=Vh,R$e=Vr,F$e=sn,B$e=kx,vP=P$e([].push),Ic=function(t){var r=t===1,s=t===2,a=t===3,i=t===4,o=t===6,l=t===7,c=t===5||o;return function(d,f,h,g){for(var m=R$e(d),p=D$e(m),x=F$e(p),y=$$e(f,h),w=0,b=g||B$e,v=r?b(d,x):s||l?b(d,0):void 0,j,N;x>w;w++)if((c||w in p)&&(j=p[w],N=y(j,w,m),t))if(r)v[w]=N;else if(N)switch(t){case 3:return!0;case 5:return j;case 6:return w;case 2:vP(v,j)}else switch(t){case 4:return!1;case 7:vP(v,j)}return o?-1:a||i?i:v}},Fs={forEach:Ic(0),map:Ic(1),filter:Ic(2),some:Ic(3),every:Ic(4),find:Ic(5),findIndex:Ic(6),filterReject:Ic(7)},Gw=Qe,Ex=Vt,sM=lr,z$e=Ut,dh=or,uh=Gh,U$e=Pt,gs=Fr,W$e=ni,L6=sr,qw=ws,aM=zd,H$e=gr,M6=lo,fh=Ii,gJ=Cx,V$e=Ud,mJ=Vw,G$e=wx,pJ=fa,xJ=wn,q$e=Hw,vJ=vx,DN=jn,Y$e=ls,iM=qh,J$e=Ww,yJ=yx,yP=Yh,Z$e=Er,Q$e=rM,K$e=si,X$e=cJ,e8e=ai,bJ=Jn,Yw=Fs.forEach,Ua=J$e("hidden"),Jw="Symbol",Dp="prototype",t8e=bJ.set,bP=bJ.getterFor(Jw),Ki=Object[Dp],Mu=Ex.Symbol,gm=Mu&&Mu[Dp],r8e=Ex.RangeError,n8e=Ex.TypeError,RN=Ex.QObject,wJ=pJ.f,Iu=xJ.f,jJ=mJ.f,s8e=vJ.f,NJ=z$e([].push),Vl=iM("symbols"),Lx=iM("op-symbols"),a8e=iM("wks"),I6=!RN||!RN[Dp]||!RN[Dp].findChild,SJ=function(t,r,s){var a=wJ(Ki,r);a&&delete Ki[r],Iu(t,r,s),a&&t!==Ki&&Iu(Ki,r,a)},T6=dh&&U$e(function(){return fh(Iu({},"a",{get:function(){return Iu(this,"a",{value:7}).a}})).a!==7})?SJ:Iu,FN=function(t,r){var s=Vl[t]=fh(gm);return t8e(s,{type:Jw,tag:t,description:r}),dh||(s.description=r),s},Zw=function(r,s,a){r===Ki&&Zw(Lx,s,a),L6(r);var i=aM(s);return L6(a),gs(Vl,i)?(a.enumerable?(gs(r,Ua)&&r[Ua][i]&&(r[Ua][i]=!1),a=fh(a,{enumerable:M6(0,!1)})):(gs(r,Ua)||Iu(r,Ua,M6(1,fh(null))),r[Ua][i]=!0),T6(r,i,a)):Iu(r,i,a)},oM=function(r,s){L6(r);var a=qw(s),i=gJ(a).concat(EJ(a));return Yw(i,function(o){(!dh||sM(A6,a,o))&&Zw(r,o,a[o])}),r},i8e=function(r,s){return s===void 0?fh(r):oM(fh(r),s)},A6=function(r){var s=aM(r),a=sM(s8e,this,s);return this===Ki&&gs(Vl,s)&&!gs(Lx,s)?!1:a||!gs(this,s)||!gs(Vl,s)||gs(this,Ua)&&this[Ua][s]?a:!0},CJ=function(r,s){var a=qw(r),i=aM(s);if(!(a===Ki&&gs(Vl,i)&&!gs(Lx,i))){var o=wJ(a,i);return o&&gs(Vl,i)&&!(gs(a,Ua)&&a[Ua][i])&&(o.enumerable=!0),o}},kJ=function(r){var s=jJ(qw(r)),a=[];return Yw(s,function(i){!gs(Vl,i)&&!gs(yJ,i)&&NJ(a,i)}),a},EJ=function(t){var r=t===Ki,s=jJ(r?Lx:qw(t)),a=[];return Yw(s,function(i){gs(Vl,i)&&(!r||gs(Ki,i))&&NJ(a,Vl[i])}),a};uh||(Mu=function(){if(W$e(gm,this))throw new n8e("Symbol is not a constructor");var r=!arguments.length||arguments[0]===void 0?void 0:H$e(arguments[0]),s=yP(r),a=function(i){var o=this===void 0?Ex:this;o===Ki&&sM(a,Lx,i),gs(o,Ua)&&gs(o[Ua],s)&&(o[Ua][s]=!1);var l=M6(1,i);try{T6(o,s,l)}catch(c){if(!(c instanceof r8e))throw c;SJ(o,s,l)}};return dh&&I6&&T6(Ki,s,{configurable:!0,set:a}),FN(s,r)},gm=Mu[Dp],DN(gm,"toString",function(){return bP(this).tag}),DN(Mu,"withoutSetter",function(t){return FN(yP(t),t)}),vJ.f=A6,xJ.f=Zw,q$e.f=oM,pJ.f=CJ,V$e.f=mJ.f=kJ,G$e.f=EJ,Q$e.f=function(t){return FN(Z$e(t),t)},dh&&(Y$e(gm,"description",{configurable:!0,get:function(){return bP(this).description}}),DN(Ki,"propertyIsEnumerable",A6,{unsafe:!0})));Gw({global:!0,constructor:!0,wrap:!0,forced:!uh,sham:!uh},{Symbol:Mu});Yw(gJ(a8e),function(t){K$e(t)});Gw({target:Jw,stat:!0,forced:!uh},{useSetter:function(){I6=!0},useSimple:function(){I6=!1}});Gw({target:"Object",stat:!0,forced:!uh,sham:!dh},{create:i8e,defineProperty:Zw,defineProperties:oM,getOwnPropertyDescriptor:CJ});Gw({target:"Object",stat:!0,forced:!uh},{getOwnPropertyNames:kJ});X$e();e8e(Mu,Jw);yJ[Ua]=!0;var o8e=Gh,LJ=o8e&&!!Symbol.for&&!!Symbol.keyFor,l8e=Qe,c8e=nn,d8e=Fr,u8e=gr,MJ=qh,f8e=LJ,BN=MJ("string-to-symbol-registry"),h8e=MJ("symbol-to-string-registry");l8e({target:"Symbol",stat:!0,forced:!f8e},{for:function(t){var r=u8e(t);if(d8e(BN,r))return BN[r];var s=c8e("Symbol")(r);return BN[r]=s,h8e[s]=r,s}});var g8e=Qe,m8e=Fr,p8e=hf,x8e=gf,v8e=qh,y8e=LJ,wP=v8e("symbol-to-string-registry");g8e({target:"Symbol",stat:!0,forced:!y8e},{keyFor:function(r){if(!p8e(r))throw new TypeError(x8e(r)+" is not a symbol");if(m8e(wP,r))return wP[r]}});var b8e=xx,IJ=Function.prototype,jP=IJ.apply,NP=IJ.call,uo=typeof Reflect=="object"&&Reflect.apply||(b8e?NP.bind(jP):function(){return NP.apply(jP,arguments)}),w8e=Ut,SP=Hd,j8e=$r,CP=ha,N8e=gr,kP=w8e([].push),S8e=function(t){if(j8e(t))return t;if(SP(t)){for(var r=t.length,s=[],a=0;a<r;a++){var i=t[a];typeof i=="string"?kP(s,i):(typeof i=="number"||CP(i)==="Number"||CP(i)==="String")&&kP(s,N8e(i))}var o=s.length,l=!0;return function(c,d){if(l)return l=!1,d;if(SP(this))return d;for(var f=0;f<o;f++)if(s[f]===c)return d}}},C8e=Qe,TJ=nn,AJ=uo,k8e=lr,Mx=Ut,_J=Pt,EP=$r,LP=hf,OJ=co,E8e=S8e,L8e=Gh,M8e=String,hd=TJ("JSON","stringify"),Qv=Mx(/./.exec),MP=Mx("".charAt),I8e=Mx("".charCodeAt),T8e=Mx("".replace),A8e=Mx(1 .toString),_8e=/[\uD800-\uDFFF]/g,IP=/^[\uD800-\uDBFF]$/,TP=/^[\uDC00-\uDFFF]$/,AP=!L8e||_J(function(){var t=TJ("Symbol")("stringify detection");return hd([t])!=="[null]"||hd({a:t})!=="{}"||hd(Object(t))!=="{}"}),_P=_J(function(){return hd("\uDF06\uD834")!=='"\\udf06\\ud834"'||hd("\uDEAD")!=='"\\udead"'}),O8e=function(t,r){var s=OJ(arguments),a=E8e(r);if(!(!EP(a)&&(t===void 0||LP(t))))return s[1]=function(i,o){if(EP(a)&&(o=k8e(a,this,M8e(i),o)),!LP(o))return o},AJ(hd,null,s)},$8e=function(t,r,s){var a=MP(s,r-1),i=MP(s,r+1);return Qv(IP,t)&&!Qv(TP,i)||Qv(TP,t)&&!Qv(IP,a)?"\\u"+A8e(I8e(t,0),16):t};hd&&C8e({target:"JSON",stat:!0,arity:3,forced:AP||_P},{stringify:function(r,s,a){var i=OJ(arguments),o=AJ(AP?O8e:hd,null,i);return _P&&typeof o=="string"?T8e(o,_8e,$8e):o}});var P8e=Qe,D8e=Gh,R8e=Pt,$J=wx,F8e=Vr,B8e=!D8e||R8e(function(){$J.f(1)});P8e({target:"Object",stat:!0,forced:B8e},{getOwnPropertySymbols:function(r){var s=$J.f;return s?s(F8e(r)):[]}});var z8e=Qe,U8e=or,W8e=Vt,Kv=Ut,H8e=Fr,V8e=$r,G8e=ni,q8e=gr,Y8e=ls,J8e=jx,Ll=W8e.Symbol,Qd=Ll&&Ll.prototype;if(U8e&&V8e(Ll)&&(!("description"in Qd)||Ll().description!==void 0)){var OP={},Xv=function(){var r=arguments.length<1||arguments[0]===void 0?void 0:q8e(arguments[0]),s=G8e(Qd,this)?new Ll(r):r===void 0?Ll():Ll(r);return r===""&&(OP[s]=!0),s};J8e(Xv,Ll),Xv.prototype=Qd,Qd.constructor=Xv;var Z8e=String(Ll("description detection"))==="Symbol(description detection)",Q8e=Kv(Qd.valueOf),K8e=Kv(Qd.toString),X8e=/^Symbol\((.*)\)[^)]+$/,ePe=Kv("".replace),tPe=Kv("".slice);Y8e(Qd,"description",{configurable:!0,get:function(){var r=Q8e(this);if(H8e(OP,r))return"";var s=K8e(r),a=Z8e?tPe(s,7,-1):ePe(s,X8e,"$1");return a===""?void 0:a}}),z8e({global:!0,constructor:!0,forced:!0},{Symbol:Xv})}var rPe=si;rPe("asyncIterator");var nPe=si;nPe("hasInstance");var sPe=si;sPe("isConcatSpreadable");var aPe=si;aPe("iterator");var iPe=si;iPe("match");var oPe=si;oPe("matchAll");var lPe=si;lPe("replace");var cPe=si;cPe("search");var dPe=si;dPe("species");var uPe=si;uPe("split");var fPe=si,hPe=cJ;fPe("toPrimitive");hPe();var gPe=nn,mPe=si,pPe=ai;mPe("toStringTag");pPe(gPe("Symbol"),"Symbol");var xPe=si;xPe("unscopables");var vPe=Ut,yPe=Rr,Qw=function(t,r,s){try{return vPe(yPe(Object.getOwnPropertyDescriptor(t,r)[s]))}catch(a){}},bPe=kr,PJ=function(t){return bPe(t)||t===null},wPe=PJ,jPe=String,NPe=TypeError,DJ=function(t){if(wPe(t))return t;throw new NPe("Can't set "+jPe(t)+" as a prototype")},SPe=Qw,CPe=kr,kPe=bn,EPe=DJ,yl=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,r={},s;try{s=SPe(Object.prototype,"__proto__","set"),s(r,[]),t=r instanceof Array}catch(a){}return function(i,o){return kPe(i),EPe(o),CPe(i)&&(t?s(i,o):i.__proto__=o),i}}():void 0),LPe=wn.f,RJ=function(t,r,s){s in t||LPe(t,s,{configurable:!0,get:function(){return r[s]},set:function(a){r[s]=a}})},MPe=$r,IPe=kr,$P=yl,mf=function(t,r,s){var a,i;return $P&&MPe(a=r.constructor)&&a!==s&&IPe(i=a.prototype)&&i!==s.prototype&&$P(t,i),t},TPe=gr,Ix=function(t,r){return t===void 0?arguments.length<2?"":r:TPe(t)},APe=kr,_Pe=ga,FJ=function(t,r){APe(r)&&"cause"in r&&_Pe(t,"cause",r.cause)},OPe=Ut,BJ=Error,$Pe=OPe("".replace),PPe=function(t){return String(new BJ(t).stack)}("zxcasd"),zJ=/\n\s*at [^:]*:[^\n]*/,DPe=zJ.test(PPe),lM=function(t,r){if(DPe&&typeof t=="string"&&!BJ.prepareStackTrace)for(;r--;)t=$Pe(t,zJ,"");return t},RPe=Pt,FPe=lo,UJ=!RPe(function(){var t=new Error("a");return"stack"in t?(Object.defineProperty(t,"stack",FPe(1,7)),t.stack!==7):!0}),BPe=ga,zPe=lM,UPe=UJ,PP=Error.captureStackTrace,WJ=function(t,r,s,a){UPe&&(PP?PP(t,r):BPe(t,"stack",zPe(s,a)))},DP=nn,WPe=Fr,RP=ga,HPe=ni,FP=yl,BP=jx,zP=RJ,VPe=mf,GPe=Ix,qPe=FJ,YPe=WJ,JPe=or,HJ=function(t,r,s,a){var i="stackTraceLimit",o=a?2:1,l=t.split("."),c=l[l.length-1],d=DP.apply(null,l);if(d){var f=d.prototype;if(WPe(f,"cause")&&delete f.cause,!s)return d;var h=DP("Error"),g=r(function(m,p){var x=GPe(a?p:m,void 0),y=a?new d(m):new d;return x!==void 0&&RP(y,"message",x),YPe(y,g,y.stack,2),this&&HPe(f,this)&&VPe(y,this,g),arguments.length>o&&qPe(y,arguments[o]),y});g.prototype=f,c!=="Error"?FP?FP(g,h):BP(g,h,{name:!0}):JPe&&i in d&&(zP(g,d,i),zP(g,d,"prepareStackTrace")),BP(g,d);try{f.name!==c&&RP(f,"name",c),f.constructor=g}catch(m){}return g}},VJ=Qe,ZPe=Vt,bl=uo,GJ=HJ,_6="WebAssembly",UP=ZPe[_6],Hb=new Error("e",{cause:7}).cause!==7,pf=function(t,r){var s={};s[t]=GJ(t,r,Hb),VJ({global:!0,constructor:!0,arity:1,forced:Hb},s)},cM=function(t,r){if(UP&&UP[t]){var s={};s[t]=GJ(_6+"."+t,r,Hb),VJ({target:_6,stat:!0,constructor:!0,arity:1,forced:Hb},s)}};pf("Error",function(t){return function(s){return bl(t,this,arguments)}});pf("EvalError",function(t){return function(s){return bl(t,this,arguments)}});pf("RangeError",function(t){return function(s){return bl(t,this,arguments)}});pf("ReferenceError",function(t){return function(s){return bl(t,this,arguments)}});pf("SyntaxError",function(t){return function(s){return bl(t,this,arguments)}});pf("TypeError",function(t){return function(s){return bl(t,this,arguments)}});pf("URIError",function(t){return function(s){return bl(t,this,arguments)}});cM("CompileError",function(t){return function(s){return bl(t,this,arguments)}});cM("LinkError",function(t){return function(s){return bl(t,this,arguments)}});cM("RuntimeError",function(t){return function(s){return bl(t,this,arguments)}});var QPe=or,KPe=Pt,XPe=sr,WP=Ix,fy=Error.prototype.toString,e9e=KPe(function(){if(QPe){var t=Object.create(Object.defineProperty({},"name",{get:function(){return this===t}}));if(fy.call(t)!=="true")return!0}return fy.call({message:1,name:2})!=="2: 1"||fy.call({})!=="Error"}),qJ=e9e?function(){var r=XPe(this),s=WP(r.name,"Error"),a=WP(r.message);return s?a?s+": "+a:s:a}:fy,t9e=jn,HP=qJ,VP=Error.prototype;VP.toString!==HP&&t9e(VP,"toString",HP);var r9e=Pt,dM=!r9e(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),n9e=Fr,s9e=$r,a9e=Vr,i9e=Ww,o9e=dM,GP=i9e("IE_PROTO"),O6=Object,l9e=O6.prototype,Ti=o9e?O6.getPrototypeOf:function(t){var r=a9e(t);if(n9e(r,GP))return r[GP];var s=r.constructor;return s9e(s)&&r instanceof s?s.prototype:r instanceof O6?l9e:null},Tx={},c9e=Er,d9e=Tx,u9e=c9e("iterator"),f9e=Array.prototype,uM=function(t){return t!==void 0&&(d9e.Array===t||f9e[u9e]===t)},h9e=vl,qP=xl,g9e=ri,m9e=Tx,p9e=Er,x9e=p9e("iterator"),Qh=function(t){if(!g9e(t))return qP(t,x9e)||qP(t,"@@iterator")||m9e[h9e(t)]},v9e=lr,y9e=Rr,b9e=sr,w9e=gf,j9e=Qh,N9e=TypeError,Kw=function(t,r){var s=arguments.length<2?j9e(t):r;if(y9e(s))return b9e(v9e(s,t));throw new N9e(w9e(t)+" is not iterable")},S9e=lr,YP=sr,C9e=xl,xf=function(t,r,s){var a,i;YP(t);try{if(a=C9e(t,"return"),!a){if(r==="throw")throw s;return s}a=S9e(a,t)}catch(o){i=!0,a=o}if(r==="throw")throw s;if(i)throw a;return YP(a),s},k9e=Uo,E9e=lr,L9e=sr,M9e=gf,I9e=uM,T9e=sn,JP=ni,A9e=Kw,_9e=Qh,ZP=xf,O9e=TypeError,hy=function(t,r){this.stopped=t,this.result=r},QP=hy.prototype,js=function(t,r,s){var a=s&&s.that,i=!!(s&&s.AS_ENTRIES),o=!!(s&&s.IS_RECORD),l=!!(s&&s.IS_ITERATOR),c=!!(s&&s.INTERRUPTED),d=k9e(r,a),f,h,g,m,p,x,y,w=function(v){return f&&ZP(f,"normal",v),new hy(!0,v)},b=function(v){return i?(L9e(v),c?d(v[0],v[1],w):d(v[0],v[1])):c?d(v,w):d(v)};if(o)f=t.iterator;else if(l)f=t;else{if(h=_9e(t),!h)throw new O9e(M9e(t)+" is not iterable");if(I9e(h)){for(g=0,m=T9e(t);m>g;g++)if(p=b(t[g]),p&&JP(QP,p))return p;return new hy(!1)}f=A9e(t,h)}for(x=o?t.next:f.next;!(y=E9e(x,f)).done;){try{p=b(y.value)}catch(v){ZP(f,"throw",v)}if(typeof p=="object"&&p&&JP(QP,p))return p}return new hy(!1)},$9e=Qe,P9e=ni,D9e=Ti,Vb=yl,R9e=jx,YJ=Ii,zN=ga,UN=lo,F9e=FJ,B9e=WJ,z9e=js,U9e=Ix,W9e=Er,H9e=W9e("toStringTag"),Gb=Error,V9e=[].push,hh=function(r,s){var a=P9e(WN,this),i;Vb?i=Vb(new Gb,a?D9e(this):WN):(i=a?this:YJ(WN),zN(i,H9e,"Error")),s!==void 0&&zN(i,"message",U9e(s)),B9e(i,hh,i.stack,1),arguments.length>2&&F9e(i,arguments[2]);var o=[];return z9e(r,V9e,{that:o}),zN(i,"errors",o),i};Vb?Vb(hh,Gb):R9e(hh,Gb,{name:!0});var WN=hh.prototype=YJ(Gb.prototype,{constructor:UN(1,hh),message:UN(1,""),name:UN(1,"AggregateError")});$9e({global:!0,constructor:!0,arity:2},{AggregateError:hh});var G9e=Qe,q9e=nn,Y9e=uo,KP=Pt,J9e=HJ,fM="AggregateError",XP=q9e(fM),e9=!KP(function(){return XP([1]).errors[0]!==1})&&KP(function(){return XP([1],fM,{cause:7}).cause!==7});G9e({global:!0,constructor:!0,arity:2,forced:e9},{AggregateError:J9e(fM,function(t){return function(s,a){return Y9e(t,this,arguments)}},e9,!0)});var Z9e=Er,Q9e=Ii,K9e=wn.f,$6=Z9e("unscopables"),P6=Array.prototype;P6[$6]===void 0&&K9e(P6,$6,{configurable:!0,value:Q9e(null)});var ii=function(t){P6[$6][t]=!0},X9e=Qe,eDe=Vr,tDe=sn,rDe=Pn,nDe=ii;X9e({target:"Array",proto:!0},{at:function(r){var s=eDe(this),a=tDe(s),i=rDe(r),o=i>=0?i:a+i;return o<0||o>=a?void 0:s[o]}});nDe("at");var sDe=TypeError,aDe=9007199254740991,Kh=function(t){if(t>aDe)throw sDe("Maximum allowed index exceeded");return t},iDe=or,oDe=wn,lDe=lo,hc=function(t,r,s){iDe?oDe.f(t,r,lDe(0,s)):t[r]=s},cDe=Pt,dDe=Er,uDe=dc,fDe=dDe("species"),Ax=function(t){return uDe>=51||!cDe(function(){var r=[],s=r.constructor={};return s[fDe]=function(){return{foo:1}},r[t](Boolean).foo!==1})},hDe=Qe,gDe=Pt,mDe=Hd,pDe=kr,xDe=Vr,vDe=sn,t9=Kh,r9=hc,yDe=kx,bDe=Ax,wDe=Er,jDe=dc,JJ=wDe("isConcatSpreadable"),NDe=jDe>=51||!gDe(function(){var t=[];return t[JJ]=!1,t.concat()[0]!==t}),SDe=function(t){if(!pDe(t))return!1;var r=t[JJ];return r!==void 0?!!r:mDe(t)},CDe=!NDe||!bDe("concat");hDe({target:"Array",proto:!0,arity:1,forced:CDe},{concat:function(r){var s=xDe(this),a=yDe(s,0),i=0,o,l,c,d,f;for(o=-1,c=arguments.length;o<c;o++)if(f=o===-1?s:arguments[o],SDe(f))for(d=vDe(f),t9(i+d),l=0;l<d;l++,i++)l in f&&r9(a,i,f[l]);else t9(i+1),r9(a,i++,f);return a.length=i,a}});var n9=gf,kDe=TypeError,Xw=function(t,r){if(!delete t[r])throw new kDe("Cannot delete property "+n9(r)+" of "+n9(t))},EDe=Vr,HN=fc,LDe=sn,MDe=Xw,IDe=Math.min,ZJ=[].copyWithin||function(r,s){var a=EDe(this),i=LDe(a),o=HN(r,i),l=HN(s,i),c=arguments.length>2?arguments[2]:void 0,d=IDe((c===void 0?i:HN(c,i))-l,i-o),f=1;for(l<o&&o<l+d&&(f=-1,l+=d-1,o+=d-1);d-- >0;)l in a?a[o]=a[l]:MDe(a,o),o+=f,l+=f;return a},TDe=Qe,ADe=ZJ,_De=ii;TDe({target:"Array",proto:!0},{copyWithin:ADe});_De("copyWithin");var ODe=Pt,gc=function(t,r){var s=[][t];return!!s&&ODe(function(){s.call(null,r||function(){return 1},1)})},$De=Qe,PDe=Fs.every,DDe=gc,RDe=DDe("every");$De({target:"Array",proto:!0,forced:!RDe},{every:function(r){return PDe(this,r,arguments.length>1?arguments[1]:void 0)}});var FDe=Vr,s9=fc,BDe=sn,hM=function(r){for(var s=FDe(this),a=BDe(s),i=arguments.length,o=s9(i>1?arguments[1]:void 0,a),l=i>2?arguments[2]:void 0,c=l===void 0?a:s9(l,a);c>o;)s[o++]=r;return s},zDe=Qe,UDe=hM,WDe=ii;zDe({target:"Array",proto:!0},{fill:UDe});WDe("fill");var HDe=Qe,VDe=Fs.filter,GDe=Ax,qDe=GDe("filter");HDe({target:"Array",proto:!0,forced:!qDe},{filter:function(r){return VDe(this,r,arguments.length>1?arguments[1]:void 0)}});var YDe=Qe,JDe=Fs.find,ZDe=ii,D6="find",QJ=!0;D6 in[]&&Array(1)[D6](function(){QJ=!1});YDe({target:"Array",proto:!0,forced:QJ},{find:function(r){return JDe(this,r,arguments.length>1?arguments[1]:void 0)}});ZDe(D6);var QDe=Qe,KDe=Fs.findIndex,XDe=ii,R6="findIndex",KJ=!0;R6 in[]&&Array(1)[R6](function(){KJ=!1});QDe({target:"Array",proto:!0,forced:KJ},{findIndex:function(r){return KDe(this,r,arguments.length>1?arguments[1]:void 0)}});XDe(R6);var e7e=Uo,t7e=Vh,r7e=Vr,n7e=sn,a9=function(t){var r=t===1;return function(s,a,i){for(var o=r7e(s),l=t7e(o),c=n7e(l),d=e7e(a,i),f,h;c-- >0;)if(f=l[c],h=d(f,c,o),h)switch(t){case 0:return f;case 1:return c}return r?-1:void 0}},ej={findLast:a9(0),findLastIndex:a9(1)},s7e=Qe,a7e=ej.findLast,i7e=ii;s7e({target:"Array",proto:!0},{findLast:function(r){return a7e(this,r,arguments.length>1?arguments[1]:void 0)}});i7e("findLast");var o7e=Qe,l7e=ej.findLastIndex,c7e=ii;o7e({target:"Array",proto:!0},{findLastIndex:function(r){return l7e(this,r,arguments.length>1?arguments[1]:void 0)}});c7e("findLastIndex");var d7e=Hd,u7e=sn,f7e=Kh,h7e=Uo,XJ=function(t,r,s,a,i,o,l,c){for(var d=i,f=0,h=l?h7e(l,c):!1,g,m;f<a;)f in s&&(g=h?h(s[f],f,r):s[f],o>0&&d7e(g)?(m=u7e(g),d=XJ(t,r,g,m,d,o-1)-1):(f7e(d+1),t[d]=g),d++),f++;return d},eZ=XJ,g7e=Qe,m7e=eZ,p7e=Vr,x7e=sn,v7e=Pn,y7e=kx;g7e({target:"Array",proto:!0},{flat:function(){var r=arguments.length?arguments[0]:void 0,s=p7e(this),a=x7e(s),i=y7e(s,0);return i.length=m7e(i,s,s,a,0,r===void 0?1:v7e(r)),i}});var b7e=Qe,w7e=eZ,j7e=Rr,N7e=Vr,S7e=sn,C7e=kx;b7e({target:"Array",proto:!0},{flatMap:function(r){var s=N7e(this),a=S7e(s),i;return j7e(r),i=C7e(s,0),i.length=w7e(i,s,s,a,0,1,r,arguments.length>1?arguments[1]:void 0),i}});var k7e=Fs.forEach,E7e=gc,L7e=E7e("forEach"),tZ=L7e?[].forEach:function(r){return k7e(this,r,arguments.length>1?arguments[1]:void 0)},M7e=Qe,i9=tZ;M7e({target:"Array",proto:!0,forced:[].forEach!==i9},{forEach:i9});var I7e=sr,T7e=xf,gM=function(t,r,s,a){try{return a?r(I7e(s)[0],s[1]):r(s)}catch(i){T7e(t,"throw",i)}},A7e=Uo,_7e=lr,O7e=Vr,$7e=gM,P7e=uM,D7e=Zh,R7e=sn,o9=hc,F7e=Kw,B7e=Qh,l9=Array,rZ=function(r){var s=O7e(r),a=D7e(this),i=arguments.length,o=i>1?arguments[1]:void 0,l=o!==void 0;l&&(o=A7e(o,i>2?arguments[2]:void 0));var c=B7e(s),d=0,f,h,g,m,p,x;if(c&&!(this===l9&&P7e(c)))for(h=a?new this:[],m=F7e(s,c),p=m.next;!(g=_7e(p,m)).done;d++)x=l?$7e(m,o,[g.value,d],!0):g.value,o9(h,d,x);else for(f=R7e(s),h=a?new this(f):l9(f);f>d;d++)x=l?o(s[d],d):s[d],o9(h,d,x);return h.length=d,h},z7e=Er,nZ=z7e("iterator"),sZ=!1;try{var U7e=0,c9={next:function(){return{done:!!U7e++}},return:function(){sZ=!0}};c9[nZ]=function(){return this},Array.from(c9,function(){throw 2})}catch(t){}var tj=function(t,r){try{if(!r&&!sZ)return!1}catch(i){return!1}var s=!1;try{var a={};a[nZ]=function(){return{next:function(){return{done:s=!0}}}},t(a)}catch(i){}return s},W7e=Qe,H7e=rZ,V7e=tj,G7e=!V7e(function(t){Array.from(t)});W7e({target:"Array",stat:!0,forced:G7e},{from:H7e});var q7e=Qe,Y7e=bx.includes,J7e=Pt,Z7e=ii,Q7e=J7e(function(){return!Array(1).includes()});q7e({target:"Array",proto:!0,forced:Q7e},{includes:function(r){return Y7e(this,r,arguments.length>1?arguments[1]:void 0)}});Z7e("includes");var K7e=Qe,X7e=Wd,eRe=bx.indexOf,tRe=gc,F6=X7e([].indexOf),aZ=!!F6&&1/F6([1],1,-0)<0,rRe=aZ||!tRe("indexOf");K7e({target:"Array",proto:!0,forced:rRe},{indexOf:function(r){var s=arguments.length>1?arguments[1]:void 0;return aZ?F6(this,r,s)||0:eRe(this,r,s)}});var nRe=Qe,sRe=Hd;nRe({target:"Array",stat:!0},{isArray:sRe});var aRe=Pt,iRe=$r,oRe=kr,d9=Ti,lRe=jn,cRe=Er,B6=cRe("iterator"),iZ=!1,Uu,VN,GN;[].keys&&(GN=[].keys(),"next"in GN?(VN=d9(d9(GN)),VN!==Object.prototype&&(Uu=VN)):iZ=!0);var dRe=!oRe(Uu)||aRe(function(){var t={};return Uu[B6].call(t)!==t});dRe&&(Uu={});iRe(Uu[B6])||lRe(Uu,B6,function(){return this});var _x={IteratorPrototype:Uu,BUGGY_SAFARI_ITERATORS:iZ},uRe=_x.IteratorPrototype,fRe=Ii,hRe=lo,gRe=ai,mRe=Tx,pRe=function(){return this},mM=function(t,r,s,a){var i=r+" Iterator";return t.prototype=fRe(uRe,{next:hRe(+!a,s)}),gRe(t,i,!1),mRe[i]=pRe,t},xRe=Qe,vRe=lr,oZ=Jh,yRe=$r,bRe=mM,u9=Ti,f9=yl,wRe=ai,jRe=ga,qN=jn,NRe=Er,SRe=Tx,lZ=_x,CRe=oZ.PROPER,kRe=oZ.CONFIGURABLE,h9=lZ.IteratorPrototype,e1=lZ.BUGGY_SAFARI_ITERATORS,Hg=NRe("iterator"),g9="keys",Vg="values",m9="entries",ERe=function(){return this},pM=function(t,r,s,a,i,o,l){bRe(s,r,a);var c=function(b){if(b===i&&m)return m;if(!e1&&b&&b in h)return h[b];switch(b){case g9:return function(){return new s(this,b)};case Vg:return function(){return new s(this,b)};case m9:return function(){return new s(this,b)}}return function(){return new s(this)}},d=r+" Iterator",f=!1,h=t.prototype,g=h[Hg]||h["@@iterator"]||i&&h[i],m=!e1&&g||c(i),p=r==="Array"&&h.entries||g,x,y,w;if(p&&(x=u9(p.call(new t)),x!==Object.prototype&&x.next&&(u9(x)!==h9&&(f9?f9(x,h9):yRe(x[Hg])||qN(x,Hg,ERe)),wRe(x,d,!0))),CRe&&i===Vg&&g&&g.name!==Vg&&(kRe?jRe(h,"name",Vg):(f=!0,m=function(){return vRe(g,this)})),i)if(y={values:c(Vg),keys:o?m:c(g9),entries:c(m9)},l)for(w in y)(e1||f||!(w in h))&&qN(h,w,y[w]);else xRe({target:r,proto:!0,forced:e1||f},y);return h[Hg]!==m&&qN(h,Hg,m,{name:i}),SRe[r]=m,y},Xh=function(t,r){return{value:t,done:r}},LRe=ws,xM=ii,p9=Tx,cZ=Jn,MRe=wn.f,IRe=pM,t1=Xh,TRe=or,dZ="Array Iterator",ARe=cZ.set,_Re=cZ.getterFor(dZ),uZ=IRe(Array,"Array",function(t,r){ARe(this,{type:dZ,target:LRe(t),index:0,kind:r})},function(){var t=_Re(this),r=t.target,s=t.index++;if(!r||s>=r.length)return t.target=null,t1(void 0,!0);switch(t.kind){case"keys":return t1(s,!1);case"values":return t1(r[s],!1)}return t1([s,r[s]],!1)},"values"),x9=p9.Arguments=p9.Array;xM("keys");xM("values");xM("entries");if(TRe&&x9.name!=="values")try{MRe(x9,"name",{value:"values"})}catch(t){}var ORe=Qe,$Re=Ut,PRe=Vh,DRe=ws,RRe=gc,FRe=$Re([].join),BRe=PRe!==Object,zRe=BRe||!RRe("join",",");ORe({target:"Array",proto:!0,forced:zRe},{join:function(r){return FRe(DRe(this),r===void 0?",":r)}});var URe=uo,WRe=ws,HRe=Pn,VRe=sn,GRe=gc,qRe=Math.min,z6=[].lastIndexOf,fZ=!!z6&&1/[1].lastIndexOf(1,-0)<0,YRe=GRe("lastIndexOf"),JRe=fZ||!YRe,hZ=JRe?function(r){if(fZ)return URe(z6,this,arguments)||0;var s=WRe(this),a=VRe(s);if(a===0)return-1;var i=a-1;for(arguments.length>1&&(i=qRe(i,HRe(arguments[1]))),i<0&&(i=a+i);i>=0;i--)if(i in s&&s[i]===r)return i||0;return-1}:z6,ZRe=Qe,v9=hZ;ZRe({target:"Array",proto:!0,forced:v9!==[].lastIndexOf},{lastIndexOf:v9});var QRe=Qe,KRe=Fs.map,XRe=Ax,eFe=XRe("map");QRe({target:"Array",proto:!0,forced:!eFe},{map:function(r){return KRe(this,r,arguments.length>1?arguments[1]:void 0)}});var tFe=Qe,rFe=Pt,nFe=Zh,sFe=hc,gZ=Array,aFe=rFe(function(){function t(){}return!(gZ.of.call(t)instanceof t)});tFe({target:"Array",stat:!0,forced:aFe},{of:function(){for(var r=0,s=arguments.length,a=new(nFe(this)?this:gZ)(s);s>r;)sFe(a,r,arguments[r++]);return a.length=s,a}});var iFe=or,oFe=Hd,lFe=TypeError,cFe=Object.getOwnPropertyDescriptor,dFe=iFe&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),vM=dFe?function(t,r){if(oFe(t)&&!cFe(t,"length").writable)throw new lFe("Cannot set read only .length");return t.length=r}:function(t,r){return t.length=r},uFe=Qe,fFe=Vr,hFe=sn,gFe=vM,mFe=Kh,pFe=Pt,xFe=pFe(function(){return[].push.call({length:4294967296},1)!==4294967297}),vFe=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},yFe=xFe||!vFe();uFe({target:"Array",proto:!0,arity:1,forced:yFe},{push:function(r){var s=fFe(this),a=hFe(s),i=arguments.length;mFe(a+i);for(var o=0;o<i;o++)s[a]=arguments[o],a++;return gFe(s,a),a}});var bFe=Rr,wFe=Vr,jFe=Vh,NFe=sn,y9=TypeError,b9="Reduce of empty array with no initial value",w9=function(t){return function(r,s,a,i){var o=wFe(r),l=jFe(o),c=NFe(o);if(bFe(s),c===0&&a<2)throw new y9(b9);var d=t?c-1:0,f=t?-1:1;if(a<2)for(;;){if(d in l){i=l[d],d+=f;break}if(d+=f,t?d<0:c<=d)throw new y9(b9)}for(;t?d>=0:c>d;d+=f)d in l&&(i=s(i,l[d],d,o));return i}},rj={left:w9(!1),right:w9(!0)},Gg=Vt,SFe=pl,CFe=ha,r1=function(t){return SFe.slice(0,t.length)===t},nj=function(){return r1("Bun/")?"BUN":r1("Cloudflare-Workers")?"CLOUDFLARE":r1("Deno/")?"DENO":r1("Node.js/")?"NODE":Gg.Bun&&typeof Bun.version=="string"?"BUN":Gg.Deno&&typeof Deno.version=="object"?"DENO":CFe(Gg.process)==="process"?"NODE":Gg.window&&Gg.document?"BROWSER":"REST"}(),kFe=nj,eg=kFe==="NODE",EFe=Qe,LFe=rj.left,MFe=gc,j9=dc,IFe=eg,TFe=!IFe&&j9>79&&j9<83,AFe=TFe||!MFe("reduce");EFe({target:"Array",proto:!0,forced:AFe},{reduce:function(r){var s=arguments.length;return LFe(this,r,s,s>1?arguments[1]:void 0)}});var _Fe=Qe,OFe=rj.right,$Fe=gc,N9=dc,PFe=eg,DFe=!PFe&&N9>79&&N9<83,RFe=DFe||!$Fe("reduceRight");_Fe({target:"Array",proto:!0,forced:RFe},{reduceRight:function(r){return OFe(this,r,arguments.length,arguments.length>1?arguments[1]:void 0)}});var FFe=Qe,BFe=Ut,zFe=Hd,UFe=BFe([].reverse),S9=[1,2];FFe({target:"Array",proto:!0,forced:String(S9)===String(S9.reverse())},{reverse:function(){return zFe(this)&&(this.length=this.length),UFe(this)}});var WFe=Qe,C9=Hd,HFe=Zh,VFe=kr,k9=fc,GFe=sn,qFe=ws,YFe=hc,JFe=Er,ZFe=Ax,QFe=co,KFe=ZFe("slice"),XFe=JFe("species"),YN=Array,eBe=Math.max;WFe({target:"Array",proto:!0,forced:!KFe},{slice:function(r,s){var a=qFe(this),i=GFe(a),o=k9(r,i),l=k9(s===void 0?i:s,i),c,d,f;if(C9(a)&&(c=a.constructor,HFe(c)&&(c===YN||C9(c.prototype))?c=void 0:VFe(c)&&(c=c[XFe],c===null&&(c=void 0)),c===YN||c===void 0))return QFe(a,o,l);for(d=new(c===void 0?YN:c)(eBe(l-o,0)),f=0;o<l;o++,f++)o in a&&YFe(d,f,a[o]);return d.length=f,d}});var tBe=Qe,rBe=Fs.some,nBe=gc,sBe=nBe("some");tBe({target:"Array",proto:!0,forced:!sBe},{some:function(r){return rBe(this,r,arguments.length>1?arguments[1]:void 0)}});var E9=co,aBe=Math.floor,U6=function(t,r){var s=t.length;if(s<8)for(var a=1,i,o;a<s;){for(o=a,i=t[a];o&&r(t[o-1],i)>0;)t[o]=t[--o];o!==a++&&(t[o]=i)}else for(var l=aBe(s/2),c=U6(E9(t,0,l),r),d=U6(E9(t,l),r),f=c.length,h=d.length,g=0,m=0;g<f||m<h;)t[g+m]=g<f&&m<h?r(c[g],d[m])<=0?c[g++]:d[m++]:g<f?c[g++]:d[m++];return t},yM=U6,iBe=pl,L9=iBe.match(/firefox\/(\d+)/i),mZ=!!L9&&+L9[1],oBe=pl,pZ=/MSIE|Trident/.test(oBe),lBe=pl,M9=lBe.match(/AppleWebKit\/(\d+)\./),bM=!!M9&&+M9[1],cBe=Qe,xZ=Ut,dBe=Rr,uBe=Vr,I9=sn,fBe=Xw,T9=gr,wM=Pt,hBe=yM,gBe=gc,A9=mZ,mBe=pZ,_9=dc,O9=bM,Qc=[],$9=xZ(Qc.sort),pBe=xZ(Qc.push),xBe=wM(function(){Qc.sort(void 0)}),vBe=wM(function(){Qc.sort(null)}),yBe=gBe("sort"),vZ=!wM(function(){if(_9)return _9<70;if(!(A9&&A9>3)){if(mBe)return!0;if(O9)return O9<603;var t="",r,s,a,i;for(r=65;r<76;r++){switch(s=String.fromCharCode(r),r){case 66:case 69:case 70:case 72:a=3;break;case 68:case 71:a=4;break;default:a=2}for(i=0;i<47;i++)Qc.push({k:s+i,v:a})}for(Qc.sort(function(o,l){return l.v-o.v}),i=0;i<Qc.length;i++)s=Qc[i].k.charAt(0),t.charAt(t.length-1)!==s&&(t+=s);return t!=="DGBEFHACIJK"}}),bBe=xBe||!vBe||!yBe||!vZ,wBe=function(t){return function(r,s){return s===void 0?-1:r===void 0?1:t!==void 0?+t(r,s)||0:T9(r)>T9(s)?1:-1}};cBe({target:"Array",proto:!0,forced:bBe},{sort:function(r){r!==void 0&&dBe(r);var s=uBe(this);if(vZ)return r===void 0?$9(s):$9(s,r);var a=[],i=I9(s),o,l;for(l=0;l<i;l++)l in s&&pBe(a,s[l]);for(hBe(a,wBe(r)),o=I9(a),l=0;l<o;)s[l]=a[l++];for(;l<i;)fBe(s,l++);return s}});var jBe=nn,NBe=ls,SBe=Er,CBe=or,P9=SBe("species"),tg=function(t){var r=jBe(t);CBe&&r&&!r[P9]&&NBe(r,P9,{configurable:!0,get:function(){return this}})},kBe=tg;kBe("Array");var EBe=Qe,LBe=Vr,MBe=fc,IBe=Pn,TBe=sn,ABe=vM,_Be=Kh,OBe=kx,$Be=hc,JN=Xw,PBe=Ax,DBe=PBe("splice"),RBe=Math.max,FBe=Math.min;EBe({target:"Array",proto:!0,forced:!DBe},{splice:function(r,s){var a=LBe(this),i=TBe(a),o=MBe(r,i),l=arguments.length,c,d,f,h,g,m;for(l===0?c=d=0:l===1?(c=0,d=i-o):(c=l-2,d=FBe(RBe(IBe(s),0),i-o)),_Be(i+c-d),f=OBe(a,d),h=0;h<d;h++)g=o+h,g in a&&$Be(f,h,a[g]);if(f.length=d,c<d){for(h=o;h<i-d;h++)g=h+d,m=h+c,g in a?a[m]=a[g]:JN(a,m);for(h=i;h>i-d+c;h--)JN(a,h-1)}else if(c>d)for(h=i-d;h>o;h--)g=h+d-1,m=h+c-1,g in a?a[m]=a[g]:JN(a,m);for(h=0;h<c;h++)a[h+o]=arguments[h+2];return ABe(a,i-d+c),f}});var BBe=sn,yZ=function(t,r){for(var s=BBe(t),a=new r(s),i=0;i<s;i++)a[i]=t[s-i-1];return a},zBe=Qe,UBe=yZ,WBe=ws,HBe=ii,VBe=Array;zBe({target:"Array",proto:!0},{toReversed:function(){return UBe(WBe(this),VBe)}});HBe("toReversed");var GBe=sn,sj=function(t,r,s){for(var a=0,i=arguments.length>2?s:GBe(r),o=new t(i);i>a;)o[a]=r[a++];return o},qBe=Vt,YBe=function(t,r){var s=qBe[t],a=s&&s.prototype;return a&&a[r]},JBe=Qe,ZBe=Ut,QBe=Rr,KBe=ws,XBe=sj,eze=YBe,tze=ii,rze=Array,nze=ZBe(eze("Array","sort"));JBe({target:"Array",proto:!0},{toSorted:function(r){r!==void 0&&QBe(r);var s=KBe(this),a=XBe(rze,s);return nze(a,r)}});tze("toSorted");var sze=Qe,aze=ii,ize=Kh,oze=sn,lze=fc,cze=ws,dze=Pn,uze=Array,fze=Math.max,hze=Math.min;sze({target:"Array",proto:!0},{toSpliced:function(r,s){var a=cze(this),i=oze(a),o=lze(r,i),l=arguments.length,c=0,d,f,h,g;for(l===0?d=f=0:l===1?(d=0,f=i-o):(d=l-2,f=hze(fze(dze(s),0),i-o)),h=ize(i+d-f),g=uze(h);c<o;c++)g[c]=a[c];for(;c<o+d;c++)g[c]=arguments[c-o+2];for(;c<h;c++)g[c]=a[c+f-d];return g}});aze("toSpliced");var gze=ii;gze("flat");var mze=ii;mze("flatMap");var pze=Qe,xze=Vr,vze=sn,yze=vM,bze=Xw,wze=Kh,jze=[].unshift(0)!==1,Nze=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}},Sze=jze||!Nze();pze({target:"Array",proto:!0,arity:1,forced:Sze},{unshift:function(r){var s=xze(this),a=vze(s),i=arguments.length;if(i){wze(a+i);for(var o=a;o--;){var l=o+i;o in s?s[l]=s[o]:bze(s,l)}for(var c=0;c<i;c++)s[c]=arguments[c]}return yze(s,a+i)}});var Cze=sn,kze=Pn,Eze=RangeError,bZ=function(t,r,s,a){var i=Cze(t),o=kze(s),l=o<0?i+o:o;if(l>=i||l<0)throw new Eze("Incorrect index");for(var c=new r(i),d=0;d<i;d++)c[d]=d===l?a:t[d];return c},Lze=Qe,Mze=bZ,Ize=ws,Tze=Array;Lze({target:"Array",proto:!0},{with:function(t,r){return Mze(Ize(this),Tze,t,r)}});var jM=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined",Aze=jn,rg=function(t,r,s){for(var a in r)Aze(t,a,r[a],s);return t},_ze=ni,Oze=TypeError,Wo=function(t,r){if(_ze(r,t))return t;throw new Oze("Incorrect invocation")},$ze=Pn,Pze=Mi,Dze=RangeError,NM=function(t){if(t===void 0)return 0;var r=$ze(t),s=Pze(r);if(r!==s)throw new Dze("Wrong length or index");return s},SM=Math.sign||function(r){var s=+r;return s===0||s!==s?s:s<0?-1:1},Rze=SM,Fze=Math.abs,wZ=2220446049250313e-31,D9=1/wZ,Bze=function(t){return t+D9-D9},zze=function(t,r,s,a){var i=+t,o=Fze(i),l=Rze(i);if(o<a)return l*Bze(o/a/r)*a*r;var c=(1+r/wZ)*o,d=c-(c-o);return d>s||d!==d?l*(1/0):l*d},Uze=zze,Wze=11920928955078125e-23,Hze=34028234663852886e22,Vze=11754943508222875e-54,jZ=Math.fround||function(r){return Uze(r,Wze,Hze,Vze)},Gze=Array,qze=Math.abs,Ml=Math.pow,Yze=Math.floor,Jze=Math.log,Zze=Math.LN2,Qze=function(t,r,s){var a=Gze(s),i=s*8-r-1,o=(1<<i)-1,l=o>>1,c=r===23?Ml(2,-24)-Ml(2,-77):0,d=t<0||t===0&&1/t<0?1:0,f=0,h,g,m;for(t=qze(t),t!==t||t===1/0?(g=t!==t?1:0,h=o):(h=Yze(Jze(t)/Zze),m=Ml(2,-h),t*m<1&&(h--,m*=2),h+l>=1?t+=c/m:t+=c*Ml(2,1-l),t*m>=2&&(h++,m/=2),h+l>=o?(g=0,h=o):h+l>=1?(g=(t*m-1)*Ml(2,r),h+=l):(g=t*Ml(2,l-1)*Ml(2,r),h=0));r>=8;)a[f++]=g&255,g/=256,r-=8;for(h=h<<r|g,i+=r;i>0;)a[f++]=h&255,h/=256,i-=8;return a[f-1]|=d*128,a},Kze=function(t,r){var s=t.length,a=s*8-r-1,i=(1<<a)-1,o=i>>1,l=a-7,c=s-1,d=t[c--],f=d&127,h;for(d>>=7;l>0;)f=f*256+t[c--],l-=8;for(h=f&(1<<-l)-1,f>>=-l,l+=r;l>0;)h=h*256+t[c--],l-=8;if(f===0)f=1-o;else{if(f===i)return h?NaN:d?-1/0:1/0;h+=Ml(2,r),f-=o}return(d?-1:1)*h*Ml(2,f-r)},Xze={pack:Qze,unpack:Kze},aj=Vt,CM=Ut,ZN=or,eUe=jM,NZ=Jh,tUe=ga,rUe=ls,R9=rg,QN=Pt,n1=Wo,nUe=Pn,sUe=Mi,qb=NM,aUe=jZ,SZ=Xze,iUe=Ti,F9=yl,oUe=hM,lUe=co,cUe=mf,dUe=jx,CZ=ai,kM=Jn,uUe=NZ.PROPER,B9=NZ.CONFIGURABLE,z0="ArrayBuffer",ij="DataView",U0="prototype",fUe="Wrong length",kZ="Wrong index",z9=kM.getterFor(z0),Fm=kM.getterFor(ij),U9=kM.set,bo=aj[z0],fi=bo,Bf=fi&&fi[U0],tl=aj[ij],Kd=tl&&tl[U0],W9=Object.prototype,hUe=aj.Array,Yb=aj.RangeError,gUe=CM(oUe),mUe=CM([].reverse),EZ=SZ.pack,H9=SZ.unpack,V9=function(t){return[t&255]},G9=function(t){return[t&255,t>>8&255]},q9=function(t){return[t&255,t>>8&255,t>>16&255,t>>24&255]},Y9=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},pUe=function(t){return EZ(aUe(t),23,4)},xUe=function(t){return EZ(t,52,8)},s1=function(t,r,s){rUe(t[U0],r,{configurable:!0,get:function(){return s(this)[r]}})},Tc=function(t,r,s,a){var i=Fm(t),o=qb(s),l=!!a;if(o+r>i.byteLength)throw new Yb(kZ);var c=i.bytes,d=o+i.byteOffset,f=lUe(c,d,d+r);return l?f:mUe(f)},Ac=function(t,r,s,a,i,o){var l=Fm(t),c=qb(s),d=a(+i),f=!!o;if(c+r>l.byteLength)throw new Yb(kZ);for(var h=l.bytes,g=c+l.byteOffset,m=0;m<r;m++)h[g+m]=d[f?m:r-m-1]};if(!eUe)fi=function(r){n1(this,Bf);var s=qb(r);U9(this,{type:z0,bytes:gUe(hUe(s),0),byteLength:s}),ZN||(this.byteLength=s,this.detached=!1)},Bf=fi[U0],tl=function(r,s,a){n1(this,Kd),n1(r,Bf);var i=z9(r),o=i.byteLength,l=nUe(s);if(l<0||l>o)throw new Yb("Wrong offset");if(a=a===void 0?o-l:sUe(a),l+a>o)throw new Yb(fUe);U9(this,{type:ij,buffer:r,byteLength:a,byteOffset:l,bytes:i.bytes}),ZN||(this.buffer=r,this.byteLength=a,this.byteOffset=l)},Kd=tl[U0],ZN&&(s1(fi,"byteLength",z9),s1(tl,"buffer",Fm),s1(tl,"byteLength",Fm),s1(tl,"byteOffset",Fm)),R9(Kd,{getInt8:function(r){return Tc(this,1,r)[0]<<24>>24},getUint8:function(r){return Tc(this,1,r)[0]},getInt16:function(r){var s=Tc(this,2,r,arguments.length>1?arguments[1]:!1);return(s[1]<<8|s[0])<<16>>16},getUint16:function(r){var s=Tc(this,2,r,arguments.length>1?arguments[1]:!1);return s[1]<<8|s[0]},getInt32:function(r){return Y9(Tc(this,4,r,arguments.length>1?arguments[1]:!1))},getUint32:function(r){return Y9(Tc(this,4,r,arguments.length>1?arguments[1]:!1))>>>0},getFloat32:function(r){return H9(Tc(this,4,r,arguments.length>1?arguments[1]:!1),23)},getFloat64:function(r){return H9(Tc(this,8,r,arguments.length>1?arguments[1]:!1),52)},setInt8:function(r,s){Ac(this,1,r,V9,s)},setUint8:function(r,s){Ac(this,1,r,V9,s)},setInt16:function(r,s){Ac(this,2,r,G9,s,arguments.length>2?arguments[2]:!1)},setUint16:function(r,s){Ac(this,2,r,G9,s,arguments.length>2?arguments[2]:!1)},setInt32:function(r,s){Ac(this,4,r,q9,s,arguments.length>2?arguments[2]:!1)},setUint32:function(r,s){Ac(this,4,r,q9,s,arguments.length>2?arguments[2]:!1)},setFloat32:function(r,s){Ac(this,4,r,pUe,s,arguments.length>2?arguments[2]:!1)},setFloat64:function(r,s){Ac(this,8,r,xUe,s,arguments.length>2?arguments[2]:!1)}});else{var J9=uUe&&bo.name!==z0;!QN(function(){bo(1)})||!QN(function(){new bo(-1)})||QN(function(){return new bo,new bo(1.5),new bo(NaN),bo.length!==1||J9&&!B9})?(fi=function(r){return n1(this,Bf),cUe(new bo(qb(r)),this,fi)},fi[U0]=Bf,Bf.constructor=fi,dUe(fi,bo)):J9&&B9&&tUe(bo,"name",z0),F9&&iUe(Kd)!==W9&&F9(Kd,W9);var a1=new tl(new fi(2)),Z9=CM(Kd.setInt8);a1.setInt8(0,2147483648),a1.setInt8(1,2147483649),(a1.getInt8(0)||!a1.getInt8(1))&&R9(Kd,{setInt8:function(r,s){Z9(this,r,s<<24>>24)},setUint8:function(r,s){Z9(this,r,s<<24>>24)}},{unsafe:!0})}CZ(fi,z0);CZ(tl,ij);var oj={ArrayBuffer:fi,DataView:tl},vUe=Qe,yUe=Vt,bUe=oj,wUe=tg,EM="ArrayBuffer",Q9=bUe[EM],jUe=yUe[EM];vUe({global:!0,constructor:!0,forced:jUe!==Q9},{ArrayBuffer:Q9});wUe(EM);var NUe=jM,LM=or,_a=Vt,LZ=$r,lj=kr,jd=Fr,MM=vl,SUe=gf,CUe=ga,W6=jn,kUe=ls,EUe=ni,cj=Ti,ng=yl,LUe=Er,MUe=Yh,MZ=Jn,IZ=MZ.enforce,IUe=MZ.get,Jb=_a.Int8Array,H6=Jb&&Jb.prototype,K9=_a.Uint8ClampedArray,X9=K9&&K9.prototype,sl=Jb&&cj(Jb),_o=H6&&cj(H6),TUe=Object.prototype,IM=_a.TypeError,eD=LUe("toStringTag"),V6=MUe("TYPED_ARRAY_TAG"),Zb="TypedArrayConstructor",Gl=NUe&&!!ng&&MM(_a.opera)!=="Opera",TZ=!1,Ha,Kc,W0,ql={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},TM={BigInt64Array:8,BigUint64Array:8},AUe=function(r){if(!lj(r))return!1;var s=MM(r);return s==="DataView"||jd(ql,s)||jd(TM,s)},AZ=function(t){var r=cj(t);if(lj(r)){var s=IUe(r);return s&&jd(s,Zb)?s[Zb]:AZ(r)}},_Z=function(t){if(!lj(t))return!1;var r=MM(t);return jd(ql,r)||jd(TM,r)},_Ue=function(t){if(_Z(t))return t;throw new IM("Target is not a typed array")},OUe=function(t){if(LZ(t)&&(!ng||EUe(sl,t)))return t;throw new IM(SUe(t)+" is not a typed array constructor")},$Ue=function(t,r,s,a){if(LM){if(s)for(var i in ql){var o=_a[i];if(o&&jd(o.prototype,t))try{delete o.prototype[t]}catch(l){try{o.prototype[t]=r}catch(c){}}}(!_o[t]||s)&&W6(_o,t,s?r:Gl&&H6[t]||r,a)}},PUe=function(t,r,s){var a,i;if(LM){if(ng){if(s){for(a in ql)if(i=_a[a],i&&jd(i,t))try{delete i[t]}catch(o){}}if(!sl[t]||s)try{return W6(sl,t,s?r:Gl&&sl[t]||r)}catch(o){}else return}for(a in ql)i=_a[a],i&&(!i[t]||s)&&W6(i,t,r)}};for(Ha in ql)Kc=_a[Ha],W0=Kc&&Kc.prototype,W0?IZ(W0)[Zb]=Kc:Gl=!1;for(Ha in TM)Kc=_a[Ha],W0=Kc&&Kc.prototype,W0&&(IZ(W0)[Zb]=Kc);if((!Gl||!LZ(sl)||sl===Function.prototype)&&(sl=function(){throw new IM("Incorrect invocation")},Gl))for(Ha in ql)_a[Ha]&&ng(_a[Ha],sl);if((!Gl||!_o||_o===TUe)&&(_o=sl.prototype,Gl))for(Ha in ql)_a[Ha]&&ng(_a[Ha].prototype,_o);Gl&&cj(X9)!==_o&&ng(X9,_o);if(LM&&!jd(_o,eD)){TZ=!0,kUe(_o,eD,{configurable:!0,get:function(){return lj(this)?this[V6]:void 0}});for(Ha in ql)_a[Ha]&&CUe(_a[Ha],V6,Ha)}var Tr={NATIVE_ARRAY_BUFFER_VIEWS:Gl,TYPED_ARRAY_TAG:TZ&&V6,aTypedArray:_Ue,aTypedArrayConstructor:OUe,exportTypedArrayMethod:$Ue,exportTypedArrayStaticMethod:PUe,getTypedArrayConstructor:AZ,isView:AUe,isTypedArray:_Z,TypedArray:sl,TypedArrayPrototype:_o},DUe=Qe,OZ=Tr,RUe=OZ.NATIVE_ARRAY_BUFFER_VIEWS;DUe({target:"ArrayBuffer",stat:!0,forced:!RUe},{isView:OZ.isView});var FUe=Qe,AM=Wd,BUe=Pt,$Z=oj,tD=sr,rD=fc,zUe=Mi,_M=$Z.ArrayBuffer,G6=$Z.DataView,PZ=G6.prototype,nD=AM(_M.prototype.slice),UUe=AM(PZ.getUint8),WUe=AM(PZ.setUint8),HUe=BUe(function(){return!new _M(2).slice(1,void 0).byteLength});FUe({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:HUe},{slice:function(r,s){if(nD&&s===void 0)return nD(tD(this),r);for(var a=tD(this).byteLength,i=rD(r,a),o=rD(s===void 0?a:s,a),l=new _M(zUe(o-i)),c=new G6(this),d=new G6(l),f=0;i<o;)WUe(d,f++,UUe(c,i++));return l}});var VUe=Qe,GUe=oj,qUe=jM;VUe({global:!0,constructor:!0,forced:!qUe},{DataView:GUe.DataView});var DZ=Vt,YUe=Qw,JUe=ha,sD=DZ.ArrayBuffer,ZUe=DZ.TypeError,RZ=sD&&YUe(sD.prototype,"byteLength","get")||function(t){if(JUe(t)!=="ArrayBuffer")throw new ZUe("ArrayBuffer expected");return t.byteLength},QUe=Vt,KUe=Wd,XUe=RZ,aD=QUe.ArrayBuffer,iD=aD&&aD.prototype,oD=iD&&KUe(iD.slice),FZ=function(t){if(XUe(t)!==0||!oD)return!1;try{return oD(t,0,0),!1}catch(r){return!0}},eWe=or,tWe=ls,rWe=FZ,lD=ArrayBuffer.prototype;eWe&&!("detached"in lD)&&tWe(lD,"detached",{configurable:!0,get:function(){return rWe(this)}});var nWe=FZ,sWe=TypeError,aWe=function(t){if(nWe(t))throw new sWe("ArrayBuffer is detached");return t},iWe=Vt,oWe=eg,BZ=function(t){if(oWe){try{return iWe.process.getBuiltinModule(t)}catch(r){}try{return Function('return require("'+t+'")')()}catch(r){}}},lWe=Vt,cWe=Pt,KN=dc,XN=nj,cD=lWe.structuredClone,OM=!!cD&&!cWe(function(){if(XN==="DENO"&&KN>92||XN==="NODE"&&KN>94||XN==="BROWSER"&&KN>97)return!1;var t=new ArrayBuffer(8),r=cD(t,{transfer:[t]});return t.byteLength!==0||r.byteLength!==8}),$M=Vt,dWe=BZ,uWe=OM,fWe=$M.structuredClone,dD=$M.ArrayBuffer,i1=$M.MessageChannel,q6=!1,e3,uD,o1,t3;if(uWe)q6=function(t){fWe(t,{transfer:[t]})};else if(dD)try{i1||(e3=dWe("worker_threads"),e3&&(i1=e3.MessageChannel)),i1&&(uD=new i1,o1=new dD(2),t3=function(t){uD.port1.postMessage(null,[t])},o1.byteLength===2&&(t3(o1),o1.byteLength===0&&(q6=t3)))}catch(t){}var zZ=q6,PM=Vt,DM=Ut,UZ=Qw,hWe=NM,gWe=aWe,mWe=RZ,fD=zZ,r3=OM,pWe=PM.structuredClone,WZ=PM.ArrayBuffer,Y6=PM.DataView,xWe=Math.min,RM=WZ.prototype,HZ=Y6.prototype,vWe=DM(RM.slice),hD=UZ(RM,"resizable","get"),gD=UZ(RM,"maxByteLength","get"),yWe=DM(HZ.getInt8),bWe=DM(HZ.setInt8),VZ=(r3||fD)&&function(t,r,s){var a=mWe(t),i=r===void 0?a:hWe(r),o=!hD||!hD(t),l;if(gWe(t),r3&&(t=pWe(t,{transfer:[t]}),a===i&&(s||o)))return t;if(a>=i&&(!s||o))l=vWe(t,0,i);else{var c=s&&!o&&gD?{maxByteLength:gD(t)}:void 0;l=new WZ(i,c);for(var d=new Y6(t),f=new Y6(l),h=xWe(i,a),g=0;g<h;g++)bWe(f,g,yWe(d,g))}return r3||fD(t),l},wWe=Qe,mD=VZ;mD&&wWe({target:"ArrayBuffer",proto:!0},{transfer:function(){return mD(this,arguments.length?arguments[0]:void 0,!0)}});var jWe=Qe,pD=VZ;pD&&jWe({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return pD(this,arguments.length?arguments[0]:void 0,!1)}});var NWe=Qe,SWe=Ut,CWe=Pt,kWe=CWe(function(){return new Date(16e11).getYear()!==120}),EWe=SWe(Date.prototype.getFullYear);NWe({target:"Date",proto:!0,forced:kWe},{getYear:function(){return EWe(this)-1900}});var LWe=Qe,MWe=Ut,GZ=Date,IWe=MWe(GZ.prototype.getTime);LWe({target:"Date",stat:!0},{now:function(){return IWe(new GZ)}});var TWe=Qe,qZ=Ut,AWe=Pn,YZ=Date.prototype,_We=qZ(YZ.getTime),OWe=qZ(YZ.setFullYear);TWe({target:"Date",proto:!0},{setYear:function(r){_We(this);var s=AWe(r),a=s>=0&&s<=99?s+1900:s;return OWe(this,a)}});var $We=Qe;$We({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString});var PWe=Pn,DWe=gr,RWe=bn,FWe=RangeError,dj=function(r){var s=DWe(RWe(this)),a="",i=PWe(r);if(i<0||i===1/0)throw new FWe("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(s+=s))i&1&&(a+=s);return a},JZ=Ut,BWe=Mi,xD=gr,zWe=dj,UWe=bn,WWe=JZ(zWe),HWe=JZ("".slice),VWe=Math.ceil,vD=function(t){return function(r,s,a){var i=xD(UWe(r)),o=BWe(s),l=i.length,c=a===void 0?" ":xD(a),d,f;return o<=l||c===""?i:(d=o-l,f=WWe(c,VWe(d/c.length)),f.length>d&&(f=HWe(f,0,d)),t?i+f:f+i)}},FM={start:vD(!1),end:vD(!0)},Vd=Ut,yD=Pt,Xd=FM.start,GWe=RangeError,qWe=isFinite,YWe=Math.abs,mc=Date.prototype,n3=mc.toISOString,JWe=Vd(mc.getTime),ZWe=Vd(mc.getUTCDate),QWe=Vd(mc.getUTCFullYear),KWe=Vd(mc.getUTCHours),XWe=Vd(mc.getUTCMilliseconds),eHe=Vd(mc.getUTCMinutes),tHe=Vd(mc.getUTCMonth),rHe=Vd(mc.getUTCSeconds),nHe=yD(function(){return n3.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!yD(function(){n3.call(new Date(NaN))})?function(){if(!qWe(JWe(this)))throw new GWe("Invalid time value");var r=this,s=QWe(r),a=XWe(r),i=s<0?"-":s>9999?"+":"";return i+Xd(YWe(s),i?6:4,0)+"-"+Xd(tHe(r)+1,2,0)+"-"+Xd(ZWe(r),2,0)+"T"+Xd(KWe(r),2,0)+":"+Xd(eHe(r),2,0)+":"+Xd(rHe(r),2,0)+"."+Xd(a,3,0)+"Z"}:n3,sHe=Qe,bD=nHe;sHe({target:"Date",proto:!0,forced:Date.prototype.toISOString!==bD},{toISOString:bD});var aHe=Qe,iHe=Pt,oHe=Vr,lHe=zw,cHe=iHe(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});aHe({target:"Date",proto:!0,arity:1,forced:cHe},{toJSON:function(r){var s=oHe(this),a=lHe(s,"number");return typeof a=="number"&&!isFinite(a)?null:s.toISOString()}});var dHe=sr,uHe=VY,fHe=TypeError,hHe=function(t){if(dHe(this),t==="string"||t==="default")t="string";else if(t!=="number")throw new fHe("Incorrect hint");return uHe(this,t)},gHe=Fr,mHe=jn,pHe=hHe,xHe=Er,wD=xHe("toPrimitive"),jD=Date.prototype;gHe(jD,wD)||mHe(jD,wD,pHe);var ZZ=Ut,vHe=jn,BM=Date.prototype,ND="Invalid Date",QZ="toString",yHe=ZZ(BM[QZ]),bHe=ZZ(BM.getTime);String(new Date(NaN))!==ND&&vHe(BM,QZ,function(){var r=bHe(this);return r===r?yHe(this):ND});var wHe=Qe,Ox=Ut,jHe=gr,NHe=Ox("".charAt),SHe=Ox("".charCodeAt),CHe=Ox(/./.exec),kHe=Ox(1 .toString),EHe=Ox("".toUpperCase),LHe=/[\w*+\-./@]/,SD=function(t,r){for(var s=kHe(t,16);s.length<r;)s="0"+s;return s};wHe({global:!0},{escape:function(r){for(var s=jHe(r),a="",i=s.length,o=0,l,c;o<i;)l=NHe(s,o++),CHe(LHe,l)?a+=l:(c=SHe(l,0),c<256?a+="%"+SD(c,2):a+="%u"+EHe(SD(c,4)));return a}});var KZ=Ut,MHe=Rr,IHe=kr,THe=Fr,CD=co,AHe=xx,XZ=Function,_He=KZ([].concat),OHe=KZ([].join),s3={},$He=function(t,r,s){if(!THe(s3,r)){for(var a=[],i=0;i<r;i++)a[i]="a["+i+"]";s3[r]=XZ("C,a","return new C("+OHe(a,",")+")")}return s3[r](t,s)},eQ=AHe?XZ.bind:function(r){var s=MHe(this),a=s.prototype,i=CD(arguments,1),o=function(){var c=_He(i,CD(arguments));return this instanceof o?$He(s,c.length,c):s.apply(r,c)};return IHe(a)&&(o.prototype=a),o},PHe=Qe,kD=eQ;PHe({target:"Function",proto:!0,forced:Function.bind!==kD},{bind:kD});var DHe=$r,ED=kr,RHe=wn,FHe=ni,BHe=Er,zHe=KL,a3=BHe("hasInstance"),LD=Function.prototype;a3 in LD||RHe.f(LD,a3,{value:zHe(function(t){if(!DHe(this)||!ED(t))return!1;var r=this.prototype;return ED(r)?FHe(r,t):t instanceof this},a3)});var UHe=or,WHe=Jh.EXISTS,tQ=Ut,HHe=ls,rQ=Function.prototype,VHe=tQ(rQ.toString),nQ=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,GHe=tQ(nQ.exec),qHe="name";UHe&&!WHe&&HHe(rQ,qHe,{configurable:!0,get:function(){try{return GHe(nQ,VHe(this))[1]}catch(t){return""}}});var YHe=Qe,i3=Vt;YHe({global:!0,forced:i3.globalThis!==i3},{globalThis:i3});var JHe=Qe,ZHe=Vt,QHe=Wo,KHe=sr,XHe=$r,eVe=Ti,tVe=ls,rVe=hc,nVe=Pt,zM=Fr,sVe=Er,cl=_x.IteratorPrototype,aVe=or,o3="constructor",sQ="Iterator",MD=sVe("toStringTag"),aQ=TypeError,l3=ZHe[sQ],iQ=!XHe(l3)||l3.prototype!==cl||!nVe(function(){l3({})}),UM=function(){if(QHe(this,cl),eVe(this)===cl)throw new aQ("Abstract class Iterator not directly constructable")},oQ=function(t,r){aVe?tVe(cl,t,{configurable:!0,get:function(){return r},set:function(s){if(KHe(this),this===cl)throw new aQ("You can't redefine this property");zM(this,t)?this[t]=s:rVe(this,t,s)}}):cl[t]=r};zM(cl,MD)||oQ(MD,sQ);(iQ||!zM(cl,o3)||cl[o3]===Object)&&oQ(o3,UM);UM.prototype=cl;JHe({global:!0,constructor:!0,forced:iQ},{Iterator:UM});var Ai=function(t){return{iterator:t,next:t.next,done:!1}},iVe=RangeError,lQ=function(t){if(t===t)return t;throw new iVe("NaN is not allowed")},oVe=Pn,lVe=RangeError,WM=function(t){var r=oVe(t);if(r<0)throw new lVe("The argument can't be less than 0");return r},cVe=lr,dVe=Ii,uVe=ga,fVe=rg,hVe=Er,cQ=Jn,gVe=xl,mVe=_x.IteratorPrototype,c3=Xh,d3=xf,pVe=hVe("toStringTag"),dQ="IteratorHelper",uQ="WrapForValidIterator",xVe=cQ.set,fQ=function(t){var r=cQ.getterFor(t?uQ:dQ);return fVe(dVe(mVe),{next:function(){var a=r(this);if(t)return a.nextHandler();try{var i=a.done?void 0:a.nextHandler();return c3(i,a.done)}catch(o){throw a.done=!0,o}},return:function(){var s=r(this),a=s.iterator;if(s.done=!0,t){var i=gVe(a,"return");return i?cVe(i,a):c3(void 0,!0)}if(s.inner)try{d3(s.inner.iterator,"normal")}catch(o){return d3(a,"throw",o)}return a&&d3(a,"normal"),c3(void 0,!0)}})},vVe=fQ(!0),hQ=fQ(!1);uVe(hQ,pVe,"Iterator Helper");var sg=function(t,r){var s=function(i,o){o?(o.iterator=i.iterator,o.next=i.next):o=i,o.type=r?uQ:dQ,o.nextHandler=t,o.counter=0,o.done=!1,xVe(this,o)};return s.prototype=r?vVe:hQ,s},yVe=Qe,ID=lr,J6=sr,bVe=Ai,wVe=lQ,jVe=WM,NVe=sg,SVe=uc,CVe=NVe(function(){for(var t=this.iterator,r=this.next,s,a;this.remaining;)if(this.remaining--,s=J6(ID(r,t)),a=this.done=!!s.done,a)return;if(s=J6(ID(r,t)),a=this.done=!!s.done,!a)return s.value});yVe({target:"Iterator",proto:!0,real:!0,forced:SVe},{drop:function(r){J6(this);var s=jVe(wVe(+r));return new CVe(bVe(this),{remaining:s})}});var kVe=Qe,EVe=js,LVe=Rr,MVe=sr,IVe=Ai;kVe({target:"Iterator",proto:!0,real:!0},{every:function(r){MVe(this),LVe(r);var s=IVe(this),a=0;return!EVe(s,function(i,o){if(!r(i,a++))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}});var TVe=Qe,AVe=lr,_Ve=Rr,gQ=sr,OVe=Ai,$Ve=sg,PVe=gM,DVe=uc,RVe=$Ve(function(){for(var t=this.iterator,r=this.predicate,s=this.next,a,i,o;;){if(a=gQ(AVe(s,t)),i=this.done=!!a.done,i)return;if(o=a.value,PVe(t,r,[o,this.counter++],!0))return o}});TVe({target:"Iterator",proto:!0,real:!0,forced:DVe},{filter:function(r){return gQ(this),_Ve(r),new RVe(OVe(this),{predicate:r})}});var FVe=Qe,BVe=js,zVe=Rr,UVe=sr,WVe=Ai;FVe({target:"Iterator",proto:!0,real:!0},{find:function(r){UVe(this),zVe(r);var s=WVe(this),a=0;return BVe(s,function(i,o){if(r(i,a++))return o(i)},{IS_RECORD:!0,INTERRUPTED:!0}).result}});var HVe=lr,TD=sr,VVe=Ai,GVe=Qh,mQ=function(t,r){(!r||typeof t!="string")&&TD(t);var s=GVe(t);return VVe(TD(s!==void 0?HVe(s,t):t))},qVe=Qe,AD=lr,YVe=Rr,Z6=sr,JVe=Ai,ZVe=mQ,QVe=sg,_D=xf,KVe=uc,XVe=QVe(function(){for(var t=this.iterator,r=this.mapper,s,a;;){if(a=this.inner)try{if(s=Z6(AD(a.next,a.iterator)),!s.done)return s.value;this.inner=null}catch(i){_D(t,"throw",i)}if(s=Z6(AD(this.next,t)),this.done=!!s.done)return;try{this.inner=ZVe(r(s.value,this.counter++),!1)}catch(i){_D(t,"throw",i)}}});qVe({target:"Iterator",proto:!0,real:!0,forced:KVe},{flatMap:function(r){return Z6(this),YVe(r),new XVe(JVe(this),{mapper:r,inner:null})}});var eGe=Qe,tGe=js,rGe=Rr,nGe=sr,sGe=Ai;eGe({target:"Iterator",proto:!0,real:!0},{forEach:function(r){nGe(this),rGe(r);var s=sGe(this),a=0;tGe(s,function(i){r(i,a++)},{IS_RECORD:!0})}});var aGe=Qe,iGe=lr,oGe=Vr,lGe=ni,cGe=_x.IteratorPrototype,dGe=sg,uGe=mQ,fGe=uc,hGe=dGe(function(){return iGe(this.next,this.iterator)},!0);aGe({target:"Iterator",stat:!0,forced:fGe},{from:function(r){var s=uGe(typeof r=="string"?oGe(r):r,!0);return lGe(cGe,s.iterator)?s.iterator:new hGe(s)}});var gGe=lr,mGe=Rr,pQ=sr,pGe=Ai,xGe=sg,vGe=gM,yGe=xGe(function(){var t=this.iterator,r=pQ(gGe(this.next,t)),s=this.done=!!r.done;if(!s)return vGe(t,this.mapper,[r.value,this.counter++],!0)}),bGe=function(r){return pQ(this),mGe(r),new yGe(pGe(this),{mapper:r})},wGe=Qe,jGe=bGe,NGe=uc;wGe({target:"Iterator",proto:!0,real:!0,forced:NGe},{map:jGe});var SGe=Qe,CGe=js,kGe=Rr,EGe=sr,LGe=Ai,MGe=TypeError;SGe({target:"Iterator",proto:!0,real:!0},{reduce:function(r){EGe(this),kGe(r);var s=LGe(this),a=arguments.length<2,i=a?void 0:arguments[1],o=0;if(CGe(s,function(l){a?(a=!1,i=l):i=r(i,l,o),o++},{IS_RECORD:!0}),a)throw new MGe("Reduce of empty iterator with no initial value");return i}});var IGe=Qe,TGe=js,AGe=Rr,_Ge=sr,OGe=Ai;IGe({target:"Iterator",proto:!0,real:!0},{some:function(r){_Ge(this),AGe(r);var s=OGe(this),a=0;return TGe(s,function(i,o){if(r(i,a++))return o()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}});var $Ge=Qe,PGe=lr,xQ=sr,DGe=Ai,RGe=lQ,FGe=WM,BGe=sg,zGe=xf,UGe=uc,WGe=BGe(function(){var t=this.iterator;if(!this.remaining--)return this.done=!0,zGe(t,"normal",void 0);var r=xQ(PGe(this.next,t)),s=this.done=!!r.done;if(!s)return r.value});$Ge({target:"Iterator",proto:!0,real:!0,forced:UGe},{take:function(r){xQ(this);var s=FGe(RGe(+r));return new WGe(DGe(this),{remaining:s})}});var HGe=Qe,VGe=sr,GGe=js,qGe=Ai,YGe=[].push;HGe({target:"Iterator",proto:!0,real:!0},{toArray:function(){var r=[];return GGe(qGe(VGe(this)),YGe,{that:r,IS_RECORD:!0}),r}});var JGe=Vt,ZGe=ai;ZGe(JGe.JSON,"JSON",!0);var vQ={exports:{}},QGe=Pt,HM=QGe(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),KGe=Pt,XGe=kr,eqe=ha,OD=HM,gy=Object.isExtensible,tqe=KGe(function(){gy(1)}),VM=tqe||OD?function(r){return!XGe(r)||OD&&eqe(r)==="ArrayBuffer"?!1:gy?gy(r):!0}:gy,rqe=Pt,ag=!rqe(function(){return Object.isExtensible(Object.preventExtensions({}))}),nqe=Qe,sqe=Ut,aqe=yx,iqe=kr,GM=Fr,oqe=wn.f,$D=Ud,lqe=Vw,qM=VM,cqe=Yh,dqe=ag,yQ=!1,Yl=cqe("meta"),uqe=0,YM=function(t){oqe(t,Yl,{value:{objectID:"O"+uqe++,weakData:{}}})},fqe=function(t,r){if(!iqe(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!GM(t,Yl)){if(!qM(t))return"F";if(!r)return"E";YM(t)}return t[Yl].objectID},hqe=function(t,r){if(!GM(t,Yl)){if(!qM(t))return!0;if(!r)return!1;YM(t)}return t[Yl].weakData},gqe=function(t){return dqe&&yQ&&qM(t)&&!GM(t,Yl)&&YM(t),t},mqe=function(){pqe.enable=function(){},yQ=!0;var t=$D.f,r=sqe([].splice),s={};s[Yl]=1,t(s).length&&($D.f=function(a){for(var i=t(a),o=0,l=i.length;o<l;o++)if(i[o]===Yl){r(i,o,1);break}return i},nqe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:lqe.f}))},pqe=vQ.exports={enable:mqe,fastKey:fqe,getWeakData:hqe,onFreeze:gqe};aqe[Yl]=!0;var vf=vQ.exports,xqe=Qe,vqe=Vt,yqe=Ut,PD=Sx,bqe=jn,wqe=vf,jqe=js,Nqe=Wo,Sqe=$r,Cqe=ri,u3=kr,f3=Pt,kqe=tj,Eqe=ai,Lqe=mf,uj=function(t,r,s){var a=t.indexOf("Map")!==-1,i=t.indexOf("Weak")!==-1,o=a?"set":"add",l=vqe[t],c=l&&l.prototype,d=l,f={},h=function(b){var v=yqe(c[b]);bqe(c,b,b==="add"?function(N){return v(this,N===0?0:N),this}:b==="delete"?function(j){return i&&!u3(j)?!1:v(this,j===0?0:j)}:b==="get"?function(N){return i&&!u3(N)?void 0:v(this,N===0?0:N)}:b==="has"?function(N){return i&&!u3(N)?!1:v(this,N===0?0:N)}:function(N,S){return v(this,N===0?0:N,S),this})},g=PD(t,!Sqe(l)||!(i||c.forEach&&!f3(function(){new l().entries().next()})));if(g)d=s.getConstructor(r,t,a,o),wqe.enable();else if(PD(t,!0)){var m=new d,p=m[o](i?{}:-0,1)!==m,x=f3(function(){m.has(1)}),y=kqe(function(b){new l(b)}),w=!i&&f3(function(){for(var b=new l,v=5;v--;)b[o](v,v);return!b.has(-0)});y||(d=r(function(b,v){Nqe(b,c);var j=Lqe(new l,b,d);return Cqe(v)||jqe(v,j[o],{that:j,AS_ENTRIES:a}),j}),d.prototype=c,c.constructor=d),(x||w)&&(h("delete"),h("has"),a&&h("get")),(w||p)&&h(o),i&&c.clear&&delete c.clear}return f[t]=d,xqe({global:!0,constructor:!0,forced:d!==l},f),Eqe(d,t),i||s.setStrong(d,t,a),d},DD=Ii,Mqe=ls,RD=rg,Iqe=Uo,Tqe=Wo,Aqe=ri,_qe=js,Oqe=pM,l1=Xh,$qe=tg,qg=or,FD=vf.fastKey,bQ=Jn,BD=bQ.set,h3=bQ.getterFor,wQ={getConstructor:function(t,r,s,a){var i=t(function(f,h){Tqe(f,o),BD(f,{type:r,index:DD(null),first:null,last:null,size:0}),qg||(f.size=0),Aqe(h)||_qe(h,f[a],{that:f,AS_ENTRIES:s})}),o=i.prototype,l=h3(r),c=function(f,h,g){var m=l(f),p=d(f,h),x,y;return p?p.value=g:(m.last=p={index:y=FD(h,!0),key:h,value:g,previous:x=m.last,next:null,removed:!1},m.first||(m.first=p),x&&(x.next=p),qg?m.size++:f.size++,y!=="F"&&(m.index[y]=p)),f},d=function(f,h){var g=l(f),m=FD(h),p;if(m!=="F")return g.index[m];for(p=g.first;p;p=p.next)if(p.key===h)return p};return RD(o,{clear:function(){for(var h=this,g=l(h),m=g.first;m;)m.removed=!0,m.previous&&(m.previous=m.previous.next=null),m=m.next;g.first=g.last=null,g.index=DD(null),qg?g.size=0:h.size=0},delete:function(f){var h=this,g=l(h),m=d(h,f);if(m){var p=m.next,x=m.previous;delete g.index[m.index],m.removed=!0,x&&(x.next=p),p&&(p.previous=x),g.first===m&&(g.first=p),g.last===m&&(g.last=x),qg?g.size--:h.size--}return!!m},forEach:function(h){for(var g=l(this),m=Iqe(h,arguments.length>1?arguments[1]:void 0),p;p=p?p.next:g.first;)for(m(p.value,p.key,this);p&&p.removed;)p=p.previous},has:function(h){return!!d(this,h)}}),RD(o,s?{get:function(h){var g=d(this,h);return g&&g.value},set:function(h,g){return c(this,h===0?0:h,g)}}:{add:function(h){return c(this,h=h===0?0:h,h)}}),qg&&Mqe(o,"size",{configurable:!0,get:function(){return l(this).size}}),i},setStrong:function(t,r,s){var a=r+" Iterator",i=h3(r),o=h3(a);Oqe(t,r,function(l,c){BD(this,{type:a,target:l,state:i(l),kind:c,last:null})},function(){for(var l=o(this),c=l.kind,d=l.last;d&&d.removed;)d=d.previous;return!l.target||!(l.last=d=d?d.next:l.state.first)?(l.target=null,l1(void 0,!0)):l1(c==="keys"?d.key:c==="values"?d.value:[d.key,d.value],!1)},s?"entries":"values",!s,!0),$qe(r)}},Pqe=uj,Dqe=wQ;Pqe("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Dqe);var c1=Ut,Yg=Map.prototype,jQ={Map,set:c1(Yg.set),get:c1(Yg.get),has:c1(Yg.has),remove:c1(Yg.delete),proto:Yg},Rqe=Qe,Fqe=Ut,Bqe=Rr,zqe=bn,Uqe=js,fj=jQ,Wqe=Pt,NQ=fj.Map,Hqe=fj.has,Vqe=fj.get,Gqe=fj.set,qqe=Fqe([].push),Yqe=Wqe(function(){return NQ.groupBy("ab",function(t){return t}).get("a").length!==1});Rqe({target:"Map",stat:!0,forced:Yqe},{groupBy:function(r,s){zqe(r),Bqe(s);var a=new NQ,i=0;return Uqe(r,function(o){var l=s(o,i++);Hqe(a,l)?qqe(Vqe(a,l),o):Gqe(a,l,[o])}),a}});var Jqe=Math.log,SQ=Math.log1p||function(r){var s=+r;return s>-1e-8&&s<1e-8?s-s*s/2:Jqe(1+s)},Zqe=Qe,Qqe=SQ,g3=Math.acosh,Kqe=Math.log,zD=Math.sqrt,Xqe=Math.LN2,eYe=!g3||Math.floor(g3(Number.MAX_VALUE))!==710||g3(1/0)!==1/0;Zqe({target:"Math",stat:!0,forced:eYe},{acosh:function(r){var s=+r;return s<1?NaN:s>9490626562425156e-8?Kqe(s)+Xqe:Qqe(s-1+zD(s-1)*zD(s+1))}});var tYe=Qe,UD=Math.asinh,rYe=Math.log,nYe=Math.sqrt;function CQ(t){var r=+t;return!isFinite(r)||r===0?r:r<0?-CQ(-r):rYe(r+nYe(r*r+1))}var sYe=!(UD&&1/UD(0)>0);tYe({target:"Math",stat:!0,forced:sYe},{asinh:CQ});var aYe=Qe,WD=Math.atanh,iYe=Math.log,oYe=!(WD&&1/WD(-0)<0);aYe({target:"Math",stat:!0,forced:oYe},{atanh:function(r){var s=+r;return s===0?s:iYe((1+s)/(1-s))/2}});var lYe=Qe,cYe=SM,dYe=Math.abs,uYe=Math.pow;lYe({target:"Math",stat:!0},{cbrt:function(r){var s=+r;return cYe(s)*uYe(dYe(s),1/3)}});var fYe=Qe,hYe=Math.floor,gYe=Math.log,mYe=Math.LOG2E;fYe({target:"Math",stat:!0},{clz32:function(r){var s=r>>>0;return s?31-hYe(gYe(s+.5)*mYe):32}});var Jg=Math.expm1,pYe=Math.exp,hj=!Jg||Jg(10)>22025.465794806718||Jg(10)<22025.465794806718||Jg(-2e-17)!==-2e-17?function(r){var s=+r;return s===0?s:s>-1e-6&&s<1e-6?s+s*s/2:pYe(s)-1}:Jg,xYe=Qe,vYe=hj,HD=Math.cosh,yYe=Math.abs,m3=Math.E,bYe=!HD||HD(710)===1/0;xYe({target:"Math",stat:!0,forced:bYe},{cosh:function(r){var s=vYe(yYe(r)-1)+1;return(s+1/(s*m3*m3))*(m3/2)}});var wYe=Qe,VD=hj;wYe({target:"Math",stat:!0,forced:VD!==Math.expm1},{expm1:VD});var jYe=Qe,NYe=jZ;jYe({target:"Math",stat:!0},{fround:NYe});var SYe=Qe,GD=Math.hypot,CYe=Math.abs,kYe=Math.sqrt,EYe=!!GD&&GD(1/0,NaN)!==1/0;SYe({target:"Math",stat:!0,arity:2,forced:EYe},{hypot:function(r,s){for(var a=0,i=0,o=arguments.length,l=0,c,d;i<o;)c=CYe(arguments[i++]),l<c?(d=l/c,a=a*d*d+1,l=c):c>0?(d=c/l,a+=d*d):a+=c;return l===1/0?1/0:l*kYe(a)}});var LYe=Qe,MYe=Pt,qD=Math.imul,IYe=MYe(function(){return qD(4294967295,5)!==-5||qD.length!==2});LYe({target:"Math",stat:!0,forced:IYe},{imul:function(r,s){var a=65535,i=+r,o=+s,l=a&i,c=a&o;return 0|l*c+((a&i>>>16)*c+l*(a&o>>>16)<<16>>>0)}});var TYe=Math.log,AYe=Math.LOG10E,kQ=Math.log10||function(r){return TYe(r)*AYe},_Ye=Qe,OYe=kQ;_Ye({target:"Math",stat:!0},{log10:OYe});var $Ye=Qe,PYe=SQ;$Ye({target:"Math",stat:!0},{log1p:PYe});var DYe=Qe,RYe=Math.log,FYe=Math.LN2;DYe({target:"Math",stat:!0},{log2:function(r){return RYe(r)/FYe}});var BYe=Qe,zYe=SM;BYe({target:"Math",stat:!0},{sign:zYe});var UYe=Qe,WYe=Pt,YD=hj,HYe=Math.abs,JD=Math.exp,VYe=Math.E,GYe=WYe(function(){return Math.sinh(-2e-17)!==-2e-17});UYe({target:"Math",stat:!0,forced:GYe},{sinh:function(r){var s=+r;return HYe(s)<1?(YD(s)-YD(-s))/2:(JD(s-1)-JD(-s-1))*(VYe/2)}});var qYe=Qe,ZD=hj,QD=Math.exp;qYe({target:"Math",stat:!0},{tanh:function(r){var s=+r,a=ZD(s),i=ZD(-s);return a===1/0?1:i===1/0?-1:(a-i)/(QD(s)+QD(-s))}});var YYe=ai;YYe(Math,"Math",!0);var JYe=Qe,ZYe=eJ;JYe({target:"Math",stat:!0},{trunc:ZYe});var QYe=Ut,gj=QYe(1 .valueOf),mj=`	
\v\f\r                　\u2028\u2029\uFEFF`,KYe=Ut,XYe=bn,eJe=gr,Q6=mj,KD=KYe("".replace),tJe=RegExp("^["+Q6+"]+"),rJe=RegExp("(^|[^"+Q6+"])["+Q6+"]+$"),p3=function(t){return function(r){var s=eJe(XYe(r));return t&1&&(s=KD(s,tJe,"")),t&2&&(s=KD(s,rJe,"$1")),s}},ig={start:p3(1),end:p3(2),trim:p3(3)},nJe=Qe,EQ=uc,sJe=or,LQ=Vt,MQ=lJ,IQ=Ut,aJe=Sx,XD=Fr,iJe=mf,oJe=ni,lJe=hf,TQ=zw,cJe=Pt,dJe=Ud.f,uJe=fa.f,fJe=wn.f,hJe=gj,gJe=ig.trim,pj="Number",H0=LQ[pj];MQ[pj];var JM=H0.prototype,mJe=LQ.TypeError,pJe=IQ("".slice),d1=IQ("".charCodeAt),xJe=function(t){var r=TQ(t,"number");return typeof r=="bigint"?r:vJe(r)},vJe=function(t){var r=TQ(t,"number"),s,a,i,o,l,c,d,f;if(lJe(r))throw new mJe("Cannot convert a Symbol value to a number");if(typeof r=="string"&&r.length>2){if(r=gJe(r),s=d1(r,0),s===43||s===45){if(a=d1(r,2),a===88||a===120)return NaN}else if(s===48){switch(d1(r,1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+r}for(l=pJe(r,2),c=l.length,d=0;d<c;d++)if(f=d1(l,d),f<48||f>o)return NaN;return parseInt(l,i)}}return+r},ZM=aJe(pj,!H0(" 0o1")||!H0("0b1")||H0("+0x1")),yJe=function(t){return oJe(JM,t)&&cJe(function(){hJe(t)})},xj=function(r){var s=arguments.length<1?0:H0(xJe(r));return yJe(this)?iJe(Object(s),this,xj):s};xj.prototype=JM;ZM&&!EQ&&(JM.constructor=xj);nJe({global:!0,constructor:!0,wrap:!0,forced:ZM},{Number:xj});var bJe=function(t,r){for(var s=sJe?dJe(r):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),a=0,i;s.length>a;a++)XD(r,i=s[a])&&!XD(t,i)&&fJe(t,i,uJe(r,i))};(ZM||EQ)&&bJe(MQ[pj],H0);var wJe=Qe;wJe({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)});var jJe=Vt,NJe=jJe.isFinite,SJe=Number.isFinite||function(r){return typeof r=="number"&&NJe(r)},CJe=Qe,kJe=SJe;CJe({target:"Number",stat:!0},{isFinite:kJe});var EJe=kr,LJe=Math.floor,QM=Number.isInteger||function(r){return!EJe(r)&&isFinite(r)&&LJe(r)===r},MJe=Qe,IJe=QM;MJe({target:"Number",stat:!0},{isInteger:IJe});var TJe=Qe;TJe({target:"Number",stat:!0},{isNaN:function(r){return r!==r}});var AJe=Qe,_Je=QM,OJe=Math.abs;AJe({target:"Number",stat:!0},{isSafeInteger:function(r){return _Je(r)&&OJe(r)<=9007199254740991}});var $Je=Qe;$Je({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991});var PJe=Qe;PJe({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991});var AQ=Vt,DJe=Pt,RJe=Ut,FJe=gr,BJe=ig.trim,zJe=mj,UJe=RJe("".charAt),Qb=AQ.parseFloat,e7=AQ.Symbol,t7=e7&&e7.iterator,WJe=1/Qb(zJe+"-0")!==-1/0||t7&&!DJe(function(){Qb(Object(t7))}),_Q=WJe?function(r){var s=BJe(FJe(r)),a=Qb(s);return a===0&&UJe(s,0)==="-"?-0:a}:Qb,HJe=Qe,r7=_Q;HJe({target:"Number",stat:!0,forced:Number.parseFloat!==r7},{parseFloat:r7});var OQ=Vt,VJe=Pt,GJe=Ut,qJe=gr,YJe=ig.trim,n7=mj,Bm=OQ.parseInt,s7=OQ.Symbol,a7=s7&&s7.iterator,$Q=/^[+-]?0x/i,JJe=GJe($Q.exec),ZJe=Bm(n7+"08")!==8||Bm(n7+"0x16")!==22||a7&&!VJe(function(){Bm(Object(a7))}),PQ=ZJe?function(r,s){var a=YJe(qJe(r));return Bm(a,s>>>0||(JJe($Q,a)?16:10))}:Bm,QJe=Qe,i7=PQ;QJe({target:"Number",stat:!0,forced:Number.parseInt!==i7},{parseInt:i7});var KJe=Qe,KM=Ut,XJe=Pn,eZe=gj,tZe=dj,rZe=kQ,K6=Pt,nZe=RangeError,o7=String,sZe=isFinite,aZe=Math.abs,iZe=Math.floor,l7=Math.pow,oZe=Math.round,al=KM(1 .toExponential),lZe=KM(tZe),c7=KM("".slice),DQ=al(-69e-12,4)==="-6.9000e-11"&&al(1.255,2)==="1.25e+0"&&al(12345,3)==="1.235e+4"&&al(25,0)==="3e+1",cZe=function(){return K6(function(){al(1,1/0)})&&K6(function(){al(1,-1/0)})},dZe=function(){return!K6(function(){al(1/0,1/0),al(NaN,1/0)})},uZe=!DQ||!cZe()||!dZe();KJe({target:"Number",proto:!0,forced:uZe},{toExponential:function(r){var s=eZe(this);if(r===void 0)return al(s);var a=XJe(r);if(!sZe(s))return String(s);if(a<0||a>20)throw new nZe("Incorrect fraction digits");if(DQ)return al(s,a);var i="",o,l,c,d;if(s<0&&(i="-",s=-s),s===0)l=0,o=lZe("0",a+1);else{var f=rZe(s);l=iZe(f);var h=l7(10,l-a),g=oZe(s/h);2*s>=(2*g+1)*h&&(g+=1),g>=l7(10,a+1)&&(g/=10,l+=1),o=o7(g)}return a!==0&&(o=c7(o,0,1)+"."+c7(o,1)),l===0?(c="+",d="0"):(c=l>0?"+":"-",d=o7(aZe(l))),o+="e"+c+d,i+o}});var fZe=Qe,XM=Ut,hZe=Pn,gZe=gj,mZe=dj,d7=Pt,pZe=RangeError,RQ=String,FQ=Math.floor,X6=XM(mZe),u7=XM("".slice),Zg=XM(1 .toFixed),j0=function(t,r,s){return r===0?s:r%2===1?j0(t,r-1,s*t):j0(t*t,r/2,s)},xZe=function(t){for(var r=0,s=t;s>=4096;)r+=12,s/=4096;for(;s>=2;)r+=1,s/=2;return r},zf=function(t,r,s){for(var a=-1,i=s;++a<6;)i+=r*t[a],t[a]=i%1e7,i=FQ(i/1e7)},x3=function(t,r){for(var s=6,a=0;--s>=0;)a+=t[s],t[s]=FQ(a/r),a=a%r*1e7},f7=function(t){for(var r=6,s="";--r>=0;)if(s!==""||r===0||t[r]!==0){var a=RQ(t[r]);s=s===""?a:s+X6("0",7-a.length)+a}return s},vZe=d7(function(){return Zg(8e-5,3)!=="0.000"||Zg(.9,0)!=="1"||Zg(1.255,2)!=="1.25"||Zg(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!d7(function(){Zg({})});fZe({target:"Number",proto:!0,forced:vZe},{toFixed:function(r){var s=gZe(this),a=hZe(r),i=[0,0,0,0,0,0],o="",l="0",c,d,f,h;if(a<0||a>20)throw new pZe("Incorrect fraction digits");if(s!==s)return"NaN";if(s<=-1e21||s>=1e21)return RQ(s);if(s<0&&(o="-",s=-s),s>1e-21)if(c=xZe(s*j0(2,69,1))-69,d=c<0?s*j0(2,-c,1):s/j0(2,c,1),d*=4503599627370496,c=52-c,c>0){for(zf(i,0,d),f=a;f>=7;)zf(i,1e7,0),f-=7;for(zf(i,j0(10,f,1),0),f=c-1;f>=23;)x3(i,1<<23),f-=23;x3(i,1<<f),zf(i,1,1),x3(i,2),l=f7(i)}else zf(i,0,d),zf(i,1<<-c,0),l=f7(i)+X6("0",a);return a>0?(h=l.length,l=o+(h<=a?"0."+X6("0",a-h)+l:u7(l,0,h-a)+"."+u7(l,h-a))):l=o+l,l}});var yZe=Qe,bZe=Ut,h7=Pt,g7=gj,Kb=bZe(1 .toPrecision),wZe=h7(function(){return Kb(1,void 0)!=="1"})||!h7(function(){Kb({})});yZe({target:"Number",proto:!0,forced:wZe},{toPrecision:function(r){return r===void 0?Kb(g7(this)):Kb(g7(this),r)}});var m7=or,jZe=Ut,NZe=lr,SZe=Pt,v3=Cx,CZe=wx,kZe=vx,EZe=Vr,LZe=Vh,Uf=Object.assign,p7=Object.defineProperty,MZe=jZe([].concat),BQ=!Uf||SZe(function(){if(m7&&Uf({b:1},Uf(p7({},"a",{enumerable:!0,get:function(){p7(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},r={},s=Symbol("assign detection"),a="abcdefghijklmnopqrst";return t[s]=7,a.split("").forEach(function(i){r[i]=i}),Uf({},t)[s]!==7||v3(Uf({},r)).join("")!==a})?function(r,s){for(var a=EZe(r),i=arguments.length,o=1,l=CZe.f,c=kZe.f;i>o;)for(var d=LZe(arguments[o++]),f=l?MZe(v3(d),l(d)):v3(d),h=f.length,g=0,m;h>g;)m=f[g++],(!m7||NZe(c,d,m))&&(a[m]=d[m]);return a}:Uf,IZe=Qe,x7=BQ;IZe({target:"Object",stat:!0,arity:2,forced:Object.assign!==x7},{assign:x7});var TZe=Qe,AZe=or,_Ze=Ii;TZe({target:"Object",stat:!0,sham:!AZe},{create:_Ze});var OZe=Vt,$Ze=Pt,v7=bM,vj=!$Ze(function(){if(!(v7&&v7<535)){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete OZe[t]}}),PZe=Qe,DZe=or,RZe=vj,FZe=Rr,BZe=Vr,zZe=wn;DZe&&PZe({target:"Object",proto:!0,forced:RZe},{__defineGetter__:function(r,s){zZe.f(BZe(this),r,{get:FZe(s),enumerable:!0,configurable:!0})}});var UZe=Qe,WZe=or,y7=Hw.f;UZe({target:"Object",stat:!0,forced:Object.defineProperties!==y7,sham:!WZe},{defineProperties:y7});var HZe=Qe,VZe=or,b7=wn.f;HZe({target:"Object",stat:!0,forced:Object.defineProperty!==b7,sham:!VZe},{defineProperty:b7});var GZe=Qe,qZe=or,YZe=vj,JZe=Rr,ZZe=Vr,QZe=wn;qZe&&GZe({target:"Object",proto:!0,forced:YZe},{__defineSetter__:function(r,s){QZe.f(ZZe(this),r,{set:JZe(s),enumerable:!0,configurable:!0})}});var zQ=or,KZe=Pt,UQ=Ut,XZe=Ti,eQe=Cx,tQe=ws,rQe=vx.f,WQ=UQ(rQe),nQe=UQ([].push),sQe=zQ&&KZe(function(){var t=Object.create(null);return t[2]=2,!WQ(t,2)}),w7=function(t){return function(r){for(var s=tQe(r),a=eQe(s),i=sQe&&XZe(s)===null,o=a.length,l=0,c=[],d;o>l;)d=a[l++],(!zQ||(i?d in s:WQ(s,d)))&&nQe(c,t?[d,s[d]]:s[d]);return c}},HQ={entries:w7(!0),values:w7(!1)},aQe=Qe,iQe=HQ.entries;aQe({target:"Object",stat:!0},{entries:function(r){return iQe(r)}});var oQe=Qe,lQe=ag,cQe=Pt,dQe=kr,uQe=vf.onFreeze,ek=Object.freeze,fQe=cQe(function(){ek(1)});oQe({target:"Object",stat:!0,forced:fQe,sham:!lQe},{freeze:function(r){return ek&&dQe(r)?ek(uQe(r)):r}});var hQe=Qe,gQe=js,mQe=hc;hQe({target:"Object",stat:!0},{fromEntries:function(r){var s={};return gQe(r,function(a,i){mQe(s,a,i)},{AS_ENTRIES:!0}),s}});var pQe=Qe,xQe=Pt,vQe=ws,VQ=fa.f,GQ=or,yQe=!GQ||xQe(function(){VQ(1)});pQe({target:"Object",stat:!0,forced:yQe,sham:!GQ},{getOwnPropertyDescriptor:function(r,s){return VQ(vQe(r),s)}});var bQe=Qe,wQe=or,jQe=eM,NQe=ws,SQe=fa,CQe=hc;bQe({target:"Object",stat:!0,sham:!wQe},{getOwnPropertyDescriptors:function(r){for(var s=NQe(r),a=SQe.f,i=jQe(s),o={},l=0,c,d;i.length>l;)d=a(s,c=i[l++]),d!==void 0&&CQe(o,c,d);return o}});var kQe=Qe,EQe=Pt,LQe=Vw.f,MQe=EQe(function(){return!Object.getOwnPropertyNames(1)});kQe({target:"Object",stat:!0,forced:MQe},{getOwnPropertyNames:LQe});var IQe=Qe,TQe=Pt,AQe=Vr,qQ=Ti,_Qe=dM,OQe=TQe(function(){qQ(1)});IQe({target:"Object",stat:!0,forced:OQe,sham:!_Qe},{getPrototypeOf:function(r){return qQ(AQe(r))}});var $Qe=Qe,PQe=nn,DQe=Ut,RQe=Rr,FQe=bn,BQe=zd,zQe=js,UQe=Pt,j7=Object.groupBy,WQe=PQe("Object","create"),HQe=DQe([].push),VQe=!j7||UQe(function(){return j7("ab",function(t){return t}).a.length!==1});$Qe({target:"Object",stat:!0,forced:VQe},{groupBy:function(r,s){FQe(r),RQe(s);var a=WQe(null),i=0;return zQe(r,function(o){var l=BQe(s(o,i++));l in a?HQe(a[l],o):a[l]=[o]}),a}});var GQe=Qe,qQe=Fr;GQe({target:"Object",stat:!0},{hasOwn:qQe});var YQ=Object.is||function(r,s){return r===s?r!==0||1/r===1/s:r!==r&&s!==s},YQe=Qe,JQe=YQ;YQe({target:"Object",stat:!0},{is:JQe});var ZQe=Qe,N7=VM;ZQe({target:"Object",stat:!0,forced:Object.isExtensible!==N7},{isExtensible:N7});var QQe=Qe,KQe=Pt,XQe=kr,eKe=ha,JQ=HM,tk=Object.isFrozen,tKe=JQ||KQe(function(){tk(1)});QQe({target:"Object",stat:!0,forced:tKe},{isFrozen:function(r){return!XQe(r)||JQ&&eKe(r)==="ArrayBuffer"?!0:tk?tk(r):!1}});var rKe=Qe,nKe=Pt,sKe=kr,aKe=ha,ZQ=HM,rk=Object.isSealed,iKe=ZQ||nKe(function(){rk(1)});rKe({target:"Object",stat:!0,forced:iKe},{isSealed:function(r){return!sKe(r)||ZQ&&aKe(r)==="ArrayBuffer"?!0:rk?rk(r):!1}});var oKe=Qe,lKe=Vr,QQ=Cx,cKe=Pt,dKe=cKe(function(){QQ(1)});oKe({target:"Object",stat:!0,forced:dKe},{keys:function(r){return QQ(lKe(r))}});var uKe=Qe,fKe=or,hKe=vj,gKe=Vr,mKe=zd,pKe=Ti,xKe=fa.f;fKe&&uKe({target:"Object",proto:!0,forced:hKe},{__lookupGetter__:function(r){var s=gKe(this),a=mKe(r),i;do if(i=xKe(s,a))return i.get;while(s=pKe(s))}});var vKe=Qe,yKe=or,bKe=vj,wKe=Vr,jKe=zd,NKe=Ti,SKe=fa.f;yKe&&vKe({target:"Object",proto:!0,forced:bKe},{__lookupSetter__:function(r){var s=wKe(this),a=jKe(r),i;do if(i=SKe(s,a))return i.set;while(s=NKe(s))}});var CKe=Qe,kKe=kr,EKe=vf.onFreeze,LKe=ag,MKe=Pt,nk=Object.preventExtensions,IKe=MKe(function(){nk(1)});CKe({target:"Object",stat:!0,forced:IKe,sham:!LKe},{preventExtensions:function(r){return nk&&kKe(r)?nk(EKe(r)):r}});var TKe=or,AKe=ls,_Ke=kr,OKe=PJ,$Ke=Vr,PKe=bn,S7=Object.getPrototypeOf,C7=Object.setPrototypeOf,k7=Object.prototype,E7="__proto__";if(TKe&&S7&&C7&&!(E7 in k7))try{AKe(k7,E7,{configurable:!0,get:function(){return S7($Ke(this))},set:function(r){var s=PKe(this);OKe(r)&&_Ke(s)&&C7(s,r)}})}catch(t){}var DKe=Qe,RKe=kr,FKe=vf.onFreeze,BKe=ag,zKe=Pt,sk=Object.seal,UKe=zKe(function(){sk(1)});DKe({target:"Object",stat:!0,forced:UKe,sham:!BKe},{seal:function(r){return sk&&RKe(r)?sk(FKe(r)):r}});var WKe=Qe,HKe=yl;WKe({target:"Object",stat:!0},{setPrototypeOf:HKe});var VKe=tM,GKe=vl,qKe=VKe?{}.toString:function(){return"[object "+GKe(this)+"]"},YKe=tM,JKe=jn,ZKe=qKe;YKe||JKe(Object.prototype,"toString",ZKe,{unsafe:!0});var QKe=Qe,KKe=HQ.values;QKe({target:"Object",stat:!0},{values:function(r){return KKe(r)}});var XKe=Qe,L7=_Q;XKe({global:!0,forced:parseFloat!==L7},{parseFloat:L7});var eXe=Qe,M7=PQ;eXe({global:!0,forced:parseInt!==M7},{parseInt:M7});var tXe=Zh,rXe=gf,nXe=TypeError,eI=function(t){if(tXe(t))return t;throw new nXe(rXe(t)+" is not a constructor")},I7=sr,sXe=eI,aXe=ri,iXe=Er,oXe=iXe("species"),yj=function(t,r){var s=I7(t).constructor,a;return s===void 0||aXe(a=I7(s)[oXe])?r:sXe(a)},lXe=TypeError,fo=function(t,r){if(t<r)throw new lXe("Not enough arguments");return t},cXe=pl,KQ=/(?:ipad|iphone|ipod).*applewebkit/i.test(cXe),wi=Vt,dXe=uo,uXe=Uo,T7=$r,fXe=Fr,XQ=Pt,A7=nJ,hXe=co,_7=Uw,gXe=fo,mXe=KQ,pXe=eg,ak=wi.setImmediate,ik=wi.clearImmediate,xXe=wi.process,y3=wi.Dispatch,vXe=wi.Function,O7=wi.MessageChannel,yXe=wi.String,b3=0,zm={},$7="onreadystatechange",Rp,eu,w3,j3;XQ(function(){Rp=wi.location});var tI=function(t){if(fXe(zm,t)){var r=zm[t];delete zm[t],r()}},N3=function(t){return function(){tI(t)}},P7=function(t){tI(t.data)},D7=function(t){wi.postMessage(yXe(t),Rp.protocol+"//"+Rp.host)};(!ak||!ik)&&(ak=function(r){gXe(arguments.length,1);var s=T7(r)?r:vXe(r),a=hXe(arguments,1);return zm[++b3]=function(){dXe(s,void 0,a)},eu(b3),b3},ik=function(r){delete zm[r]},pXe?eu=function(t){xXe.nextTick(N3(t))}:y3&&y3.now?eu=function(t){y3.now(N3(t))}:O7&&!mXe?(w3=new O7,j3=w3.port2,w3.port1.onmessage=P7,eu=uXe(j3.postMessage,j3)):wi.addEventListener&&T7(wi.postMessage)&&!wi.importScripts&&Rp&&Rp.protocol!=="file:"&&!XQ(D7)?(eu=D7,wi.addEventListener("message",P7,!1)):$7 in _7("script")?eu=function(t){A7.appendChild(_7("script"))[$7]=function(){A7.removeChild(this),tI(t)}}:eu=function(t){setTimeout(N3(t),0)});var bj={set:ak,clear:ik},R7=Vt,bXe=or,wXe=Object.getOwnPropertyDescriptor,eK=function(t){if(!bXe)return R7[t];var r=wXe(R7,t);return r&&r.value},tK=function(){this.head=null,this.tail=null};tK.prototype={add:function(t){var r={item:t,next:null},s=this.tail;s?s.next=r:this.head=r,this.tail=r},get:function(){var t=this.head;if(t){var r=this.head=t.next;return r===null&&(this.tail=null),t.item}}};var rK=tK,jXe=pl,NXe=/ipad|iphone|ipod/i.test(jXe)&&typeof Pebble!="undefined",SXe=pl,CXe=/web0s(?!.*chrome)/i.test(SXe),gh=Vt,kXe=eK,F7=Uo,S3=bj.set,EXe=rK,LXe=KQ,MXe=NXe,IXe=CXe,C3=eg,B7=gh.MutationObserver||gh.WebKitMutationObserver,z7=gh.document,U7=gh.process,u1=gh.Promise,ok=kXe("queueMicrotask"),Wf,k3,E3,f1,W7;if(!ok){var h1=new EXe,g1=function(){var t,r;for(C3&&(t=U7.domain)&&t.exit();r=h1.get();)try{r()}catch(s){throw h1.head&&Wf(),s}t&&t.enter()};!LXe&&!C3&&!IXe&&B7&&z7?(k3=!0,E3=z7.createTextNode(""),new B7(g1).observe(E3,{characterData:!0}),Wf=function(){E3.data=k3=!k3}):!MXe&&u1&&u1.resolve?(f1=u1.resolve(void 0),f1.constructor=u1,W7=F7(f1.then,f1),Wf=function(){W7(g1)}):C3?Wf=function(){U7.nextTick(g1)}:(S3=F7(S3,gh),Wf=function(){S3(g1)}),ok=function(t){h1.head||Wf(),h1.add(t)}}var nK=ok,TXe=function(t,r){try{arguments.length===1?console.error(t):console.error(t,r)}catch(s){}},og=function(t){try{return{error:!1,value:t()}}catch(r){return{error:!0,value:r}}},AXe=Vt,$x=AXe.Promise,_Xe=Vt,Um=$x,OXe=$r,$Xe=Sx,PXe=ZL,DXe=Er,H7=nj,L3=dc;Um&&Um.prototype;var RXe=DXe("species"),lk=!1,sK=OXe(_Xe.PromiseRejectionEvent),FXe=$Xe("Promise",function(){var t=PXe(Um),r=t!==String(Um);if(!r&&L3===66)return!0;if(!L3||L3<51||!/native code/.test(t)){var s=new Um(function(o){o(1)}),a=function(o){o(function(){},function(){})},i=s.constructor={};if(i[RXe]=a,lk=s.then(function(){})instanceof a,!lk)return!0}return!r&&(H7==="BROWSER"||H7==="DENO")&&!sK}),Px={CONSTRUCTOR:FXe,REJECTION_EVENT:sK,SUBCLASSING:lk},wl={},V7=Rr,BXe=TypeError,zXe=function(t){var r,s;this.promise=new t(function(a,i){if(r!==void 0||s!==void 0)throw new BXe("Bad Promise constructor");r=a,s=i}),this.resolve=V7(r),this.reject=V7(s)};wl.f=function(t){return new zXe(t)};var UXe=Qe,Xb=eg,Nd=Vt,mh=lr,G7=jn,q7=yl,WXe=ai,HXe=tg,VXe=Rr,my=$r,GXe=kr,qXe=Wo,YXe=yj,aK=bj.set,rI=nK,JXe=TXe,ZXe=og,QXe=rK,iK=Jn,e2=$x,nI=Px,oK=wl,wj="Promise",lK=nI.CONSTRUCTOR,KXe=nI.REJECTION_EVENT,XXe=nI.SUBCLASSING,M3=iK.getterFor(wj),eet=iK.set,e0=e2&&e2.prototype,vu=e2,m1=e0,cK=Nd.TypeError,ck=Nd.document,sI=Nd.process,dk=oK.f,tet=dk,ret=!!(ck&&ck.createEvent&&Nd.dispatchEvent),dK="unhandledrejection",net="rejectionhandled",Y7=0,uK=1,set=2,aI=1,fK=2,p1,J7,aet,Z7,hK=function(t){var r;return GXe(t)&&my(r=t.then)?r:!1},gK=function(t,r){var s=r.value,a=r.state===uK,i=a?t.ok:t.fail,o=t.resolve,l=t.reject,c=t.domain,d,f,h;try{i?(a||(r.rejection===fK&&oet(r),r.rejection=aI),i===!0?d=s:(c&&c.enter(),d=i(s),c&&(c.exit(),h=!0)),d===t.promise?l(new cK("Promise-chain cycle")):(f=hK(d))?mh(f,d,o,l):o(d)):l(s)}catch(g){c&&!h&&c.exit(),l(g)}},mK=function(t,r){t.notified||(t.notified=!0,rI(function(){for(var s=t.reactions,a;a=s.get();)gK(a,t);t.notified=!1,r&&!t.rejection&&iet(t)}))},pK=function(t,r,s){var a,i;ret?(a=ck.createEvent("Event"),a.promise=r,a.reason=s,a.initEvent(t,!1,!0),Nd.dispatchEvent(a)):a={promise:r,reason:s},!KXe&&(i=Nd["on"+t])?i(a):t===dK&&JXe("Unhandled promise rejection",s)},iet=function(t){mh(aK,Nd,function(){var r=t.facade,s=t.value,a=Q7(t),i;if(a&&(i=ZXe(function(){Xb?sI.emit("unhandledRejection",s,r):pK(dK,r,s)}),t.rejection=Xb||Q7(t)?fK:aI,i.error))throw i.value})},Q7=function(t){return t.rejection!==aI&&!t.parent},oet=function(t){mh(aK,Nd,function(){var r=t.facade;Xb?sI.emit("rejectionHandled",r):pK(net,r,t.value)})},N0=function(t,r,s){return function(a){t(r,a,s)}},V0=function(t,r,s){t.done||(t.done=!0,s&&(t=s),t.value=r,t.state=set,mK(t,!0))},uk=function(t,r,s){if(!t.done){t.done=!0,s&&(t=s);try{if(t.facade===r)throw new cK("Promise can't be resolved itself");var a=hK(r);a?rI(function(){var i={done:!1};try{mh(a,r,N0(uk,i,t),N0(V0,i,t))}catch(o){V0(i,o,t)}}):(t.value=r,t.state=uK,mK(t,!1))}catch(i){V0({done:!1},i,t)}}};if(lK&&(vu=function(r){qXe(this,m1),VXe(r),mh(p1,this);var s=M3(this);try{r(N0(uk,s),N0(V0,s))}catch(a){V0(s,a)}},m1=vu.prototype,p1=function(r){eet(this,{type:wj,done:!1,notified:!1,parent:!1,reactions:new QXe,rejection:!1,state:Y7,value:null})},p1.prototype=G7(m1,"then",function(r,s){var a=M3(this),i=dk(YXe(this,vu));return a.parent=!0,i.ok=my(r)?r:!0,i.fail=my(s)&&s,i.domain=Xb?sI.domain:void 0,a.state===Y7?a.reactions.add(i):rI(function(){gK(i,a)}),i.promise}),J7=function(){var t=new p1,r=M3(t);this.promise=t,this.resolve=N0(uk,r),this.reject=N0(V0,r)},oK.f=dk=function(t){return t===vu||t===aet?new J7(t):tet(t)},my(e2)&&e0!==Object.prototype)){Z7=e0.then,XXe||G7(e0,"then",function(r,s){var a=this;return new vu(function(i,o){mh(Z7,a,i,o)}).then(r,s)},{unsafe:!0});try{delete e0.constructor}catch(t){}q7&&q7(e0,m1)}UXe({global:!0,constructor:!0,wrap:!0,forced:lK},{Promise:vu});WXe(vu,wj,!1);HXe(wj);var cet=$x,det=tj,uet=Px.CONSTRUCTOR,jj=uet||!det(function(t){cet.all(t).then(void 0,function(){})}),fet=Qe,het=lr,get=Rr,met=wl,pet=og,xet=js,vet=jj;fet({target:"Promise",stat:!0,forced:vet},{all:function(r){var s=this,a=met.f(s),i=a.resolve,o=a.reject,l=pet(function(){var c=get(s.resolve),d=[],f=0,h=1;xet(r,function(g){var m=f++,p=!1;h++,het(c,s,g).then(function(x){p||(p=!0,d[m]=x,--h||i(d))},o)}),--h||i(d)});return l.error&&o(l.value),a.promise}});var yet=Qe,bet=Px.CONSTRUCTOR,fk=$x,wet=nn,jet=$r,Net=jn,K7=fk&&fk.prototype;yet({target:"Promise",proto:!0,forced:bet,real:!0},{catch:function(t){return this.then(void 0,t)}});if(jet(fk)){var X7=wet("Promise").prototype.catch;K7.catch!==X7&&Net(K7,"catch",X7,{unsafe:!0})}var Cet=Qe,ket=lr,Eet=Rr,Let=wl,Met=og,Iet=js,Tet=jj;Cet({target:"Promise",stat:!0,forced:Tet},{race:function(r){var s=this,a=Let.f(s),i=a.reject,o=Met(function(){var l=Eet(s.resolve);Iet(r,function(c){ket(l,s,c).then(a.resolve,i)})});return o.error&&i(o.value),a.promise}});var Aet=Qe,_et=wl,Oet=Px.CONSTRUCTOR;Aet({target:"Promise",stat:!0,forced:Oet},{reject:function(r){var s=_et.f(this),a=s.reject;return a(r),s.promise}});var $et=sr,Pet=kr,Det=wl,xK=function(t,r){if($et(t),Pet(r)&&r.constructor===t)return r;var s=Det.f(t),a=s.resolve;return a(r),s.promise},Ret=Qe,Fet=nn,Bet=Px.CONSTRUCTOR,zet=xK;Fet("Promise");Ret({target:"Promise",stat:!0,forced:Bet},{resolve:function(r){return zet(this,r)}});var Uet=Qe,Wet=lr,Het=Rr,Vet=wl,Get=og,qet=js,Yet=jj;Uet({target:"Promise",stat:!0,forced:Yet},{allSettled:function(r){var s=this,a=Vet.f(s),i=a.resolve,o=a.reject,l=Get(function(){var c=Het(s.resolve),d=[],f=0,h=1;qet(r,function(g){var m=f++,p=!1;h++,Wet(c,s,g).then(function(x){p||(p=!0,d[m]={status:"fulfilled",value:x},--h||i(d))},function(x){p||(p=!0,d[m]={status:"rejected",reason:x},--h||i(d))})}),--h||i(d)});return l.error&&o(l.value),a.promise}});var Jet=Qe,Zet=lr,Qet=Rr,Ket=nn,Xet=wl,ett=og,ttt=js,rtt=jj,eR="No one promise resolved";Jet({target:"Promise",stat:!0,forced:rtt},{any:function(r){var s=this,a=Ket("AggregateError"),i=Xet.f(s),o=i.resolve,l=i.reject,c=ett(function(){var d=Qet(s.resolve),f=[],h=0,g=1,m=!1;ttt(r,function(p){var x=h++,y=!1;g++,Zet(d,s,p).then(function(w){y||m||(m=!0,o(w))},function(w){y||m||(y=!0,f[x]=w,--g||l(new a(f,eR)))})}),--g||l(new a(f,eR))});return c.error&&l(c.value),i.promise}});var ntt=Qe,t2=$x,stt=Pt,vK=nn,yK=$r,att=yj,tR=xK,itt=jn,hk=t2&&t2.prototype,ott=!!t2&&stt(function(){hk.finally.call({then:function(){}},function(){})});ntt({target:"Promise",proto:!0,real:!0,forced:ott},{finally:function(t){var r=att(this,vK("Promise")),s=yK(t);return this.then(s?function(a){return tR(r,t()).then(function(){return a})}:t,s?function(a){return tR(r,t()).then(function(){throw a})}:t)}});if(yK(t2)){var rR=vK("Promise").prototype.finally;hk.finally!==rR&&itt(hk,"finally",rR,{unsafe:!0})}var ltt=Qe,ctt=Vt,dtt=uo,utt=co,ftt=wl,htt=Rr,bK=og,I3=ctt.Promise,nR=!1,gtt=!I3||!I3.try||bK(function(){I3.try(function(t){nR=t===8},8)}).error||!nR;ltt({target:"Promise",stat:!0,forced:gtt},{try:function(t){var r=arguments.length>1?utt(arguments,1):[],s=ftt.f(this),a=bK(function(){return dtt(htt(t),void 0,r)});return(a.error?s.reject:s.resolve)(a.value),s.promise}});var mtt=Qe,ptt=wl;mtt({target:"Promise",stat:!0},{withResolvers:function(){var r=ptt.f(this);return{promise:r.promise,resolve:r.resolve,reject:r.reject}}});var xtt=Qe,vtt=uo,ytt=Rr,btt=sr,wtt=Pt,jtt=!wtt(function(){Reflect.apply(function(){})});xtt({target:"Reflect",stat:!0,forced:jtt},{apply:function(r,s,a){return vtt(ytt(r),s,btt(a))}});var Ntt=Qe,Stt=nn,T3=uo,Ctt=eQ,sR=eI,ktt=sr,aR=kr,Ett=Ii,wK=Pt,iI=Stt("Reflect","construct"),Ltt=Object.prototype,Mtt=[].push,jK=wK(function(){function t(){}return!(iI(function(){},[],t)instanceof t)}),NK=!wK(function(){iI(function(){})}),iR=jK||NK;Ntt({target:"Reflect",stat:!0,forced:iR,sham:iR},{construct:function(r,s){sR(r),ktt(s);var a=arguments.length<3?r:sR(arguments[2]);if(NK&&!jK)return iI(r,s,a);if(r===a){switch(s.length){case 0:return new r;case 1:return new r(s[0]);case 2:return new r(s[0],s[1]);case 3:return new r(s[0],s[1],s[2]);case 4:return new r(s[0],s[1],s[2],s[3])}var i=[null];return T3(Mtt,i,s),new(T3(Ctt,r,i))}var o=a.prototype,l=Ett(aR(o)?o:Ltt),c=T3(r,l,s);return aR(c)?c:l}});var Itt=Qe,Ttt=or,oR=sr,Att=zd,SK=wn,_tt=Pt,Ott=_tt(function(){Reflect.defineProperty(SK.f({},1,{value:1}),1,{value:2})});Itt({target:"Reflect",stat:!0,forced:Ott,sham:!Ttt},{defineProperty:function(r,s,a){oR(r);var i=Att(s);oR(a);try{return SK.f(r,i,a),!0}catch(o){return!1}}});var $tt=Qe,Ptt=sr,Dtt=fa.f;$tt({target:"Reflect",stat:!0},{deleteProperty:function(r,s){var a=Dtt(Ptt(r),s);return a&&!a.configurable?!1:delete r[s]}});var lR=Fr,CK=function(t){return t!==void 0&&(lR(t,"value")||lR(t,"writable"))},Rtt=Qe,Ftt=lr,Btt=kr,ztt=sr,Utt=CK,Wtt=fa,Htt=Ti;function kK(t,r){var s=arguments.length<3?t:arguments[2],a,i;if(ztt(t)===s)return t[r];if(a=Wtt.f(t,r),a)return Utt(a)?a.value:a.get===void 0?void 0:Ftt(a.get,s);if(Btt(i=Htt(t)))return kK(i,r,s)}Rtt({target:"Reflect",stat:!0},{get:kK});var Vtt=Qe,Gtt=or,qtt=sr,Ytt=fa;Vtt({target:"Reflect",stat:!0,sham:!Gtt},{getOwnPropertyDescriptor:function(r,s){return Ytt.f(qtt(r),s)}});var Jtt=Qe,Ztt=sr,Qtt=Ti,Ktt=dM;Jtt({target:"Reflect",stat:!0,sham:!Ktt},{getPrototypeOf:function(r){return Qtt(Ztt(r))}});var Xtt=Qe;Xtt({target:"Reflect",stat:!0},{has:function(r,s){return s in r}});var ert=Qe,trt=sr,rrt=VM;ert({target:"Reflect",stat:!0},{isExtensible:function(r){return trt(r),rrt(r)}});var nrt=Qe,srt=eM;nrt({target:"Reflect",stat:!0},{ownKeys:srt});var art=Qe,irt=nn,ort=sr,lrt=ag;art({target:"Reflect",stat:!0,sham:!lrt},{preventExtensions:function(r){ort(r);try{var s=irt("Object","preventExtensions");return s&&s(r),!0}catch(a){return!1}}});var crt=Qe,drt=lr,urt=sr,cR=kr,frt=CK,hrt=Pt,gk=wn,dR=fa,grt=Ti,uR=lo;function EK(t,r,s){var a=arguments.length<4?t:arguments[3],i=dR.f(urt(t),r),o,l,c;if(!i){if(cR(l=grt(t)))return EK(l,r,s,a);i=uR(0)}if(frt(i)){if(i.writable===!1||!cR(a))return!1;if(o=dR.f(a,r)){if(o.get||o.set||o.writable===!1)return!1;o.value=s,gk.f(a,r,o)}else gk.f(a,r,uR(0,s))}else{if(c=i.set,c===void 0)return!1;drt(c,a,s)}return!0}var mrt=hrt(function(){var t=function(){},r=gk.f(new t,"a",{configurable:!0});return Reflect.set(t.prototype,"a",1,r)!==!1});crt({target:"Reflect",stat:!0,forced:mrt},{set:EK});var prt=Qe,xrt=sr,vrt=DJ,fR=yl;fR&&prt({target:"Reflect",stat:!0},{setPrototypeOf:function(r,s){xrt(r),vrt(s);try{return fR(r,s),!0}catch(a){return!1}}});var yrt=Qe,brt=Vt,wrt=ai;yrt({global:!0},{Reflect:{}});wrt(brt.Reflect,"Reflect",!0);var jrt=kr,Nrt=ha,Srt=Er,Crt=Srt("match"),Nj=function(t){var r;return jrt(t)&&((r=t[Crt])!==void 0?!!r:Nrt(t)==="RegExp")},krt=sr,oI=function(){var t=krt(this),r="";return t.hasIndices&&(r+="d"),t.global&&(r+="g"),t.ignoreCase&&(r+="i"),t.multiline&&(r+="m"),t.dotAll&&(r+="s"),t.unicode&&(r+="u"),t.unicodeSets&&(r+="v"),t.sticky&&(r+="y"),r},Ert=lr,Lrt=Fr,Mrt=ni,Irt=oI,hR=RegExp.prototype,Dx=function(t){var r=t.flags;return r===void 0&&!("flags"in hR)&&!Lrt(t,"flags")&&Mrt(hR,t)?Ert(Irt,t):r},lI=Pt,Trt=Vt,cI=Trt.RegExp,dI=lI(function(){var t=cI("a","y");return t.lastIndex=2,t.exec("abcd")!==null}),Art=dI||lI(function(){return!cI("a","y").sticky}),_rt=dI||lI(function(){var t=cI("^r","gy");return t.lastIndex=2,t.exec("str")!==null}),Sj={BROKEN_CARET:_rt,MISSED_STICKY:Art,UNSUPPORTED_Y:dI},Ort=Pt,$rt=Vt,Prt=$rt.RegExp,uI=Ort(function(){var t=Prt(".","s");return!(t.dotAll&&t.test(`
`)&&t.flags==="s")}),Drt=Pt,Rrt=Vt,Frt=Rrt.RegExp,LK=Drt(function(){var t=Frt("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"}),Brt=or,fI=Vt,Rx=Ut,zrt=Sx,Urt=mf,Wrt=ga,Hrt=Ii,Vrt=Ud.f,gR=ni,Grt=Nj,mR=gr,qrt=Dx,MK=Sj,Yrt=RJ,Jrt=jn,Zrt=Pt,Qrt=Fr,Krt=Jn.enforce,Xrt=tg,ent=Er,IK=uI,TK=LK,tnt=ent("match"),gd=fI.RegExp,t0=gd.prototype,rnt=fI.SyntaxError,nnt=Rx(t0.exec),r2=Rx("".charAt),pR=Rx("".replace),xR=Rx("".indexOf),vR=Rx("".slice),snt=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Tu=/a/g,A3=/a/g,ant=new gd(Tu)!==Tu,AK=MK.MISSED_STICKY,int=MK.UNSUPPORTED_Y,ont=Brt&&(!ant||AK||IK||TK||Zrt(function(){return A3[tnt]=!1,gd(Tu)!==Tu||gd(A3)===A3||String(gd(Tu,"i"))!=="/a/i"})),lnt=function(t){for(var r=t.length,s=0,a="",i=!1,o;s<=r;s++){if(o=r2(t,s),o==="\\"){a+=o+r2(t,++s);continue}!i&&o==="."?a+="[\\s\\S]":(o==="["?i=!0:o==="]"&&(i=!1),a+=o)}return a},cnt=function(t){for(var r=t.length,s=0,a="",i=[],o=Hrt(null),l=!1,c=!1,d=0,f="",h;s<=r;s++){if(h=r2(t,s),h==="\\")h+=r2(t,++s);else if(h==="]")l=!1;else if(!l)switch(!0){case h==="[":l=!0;break;case h==="(":if(a+=h,vR(t,s+1,s+3)==="?:")continue;nnt(snt,vR(t,s+1))&&(s+=2,c=!0),d++;continue;case(h===">"&&c):if(f===""||Qrt(o,f))throw new rnt("Invalid capture group name");o[f]=!0,i[i.length]=[f,d],c=!1,f="";continue}c?f+=h:a+=h}return[a,i]};if(zrt("RegExp",ont)){for(var tu=function(r,s){var a=gR(t0,this),i=Grt(r),o=s===void 0,l=[],c=r,d,f,h,g,m,p;if(!a&&i&&o&&r.constructor===tu)return r;if((i||gR(t0,r))&&(r=r.source,o&&(s=qrt(c))),r=r===void 0?"":mR(r),s=s===void 0?"":mR(s),c=r,IK&&"dotAll"in Tu&&(f=!!s&&xR(s,"s")>-1,f&&(s=pR(s,/s/g,""))),d=s,AK&&"sticky"in Tu&&(h=!!s&&xR(s,"y")>-1,h&&int&&(s=pR(s,/y/g,""))),TK&&(g=cnt(r),r=g[0],l=g[1]),m=Urt(gd(r,s),a?this:t0,tu),(f||h||l.length)&&(p=Krt(m),f&&(p.dotAll=!0,p.raw=tu(lnt(r),d)),h&&(p.sticky=!0),l.length&&(p.groups=l)),r!==c)try{Wrt(m,"source",c===""?"(?:)":c)}catch(x){}return m},yR=Vrt(gd),bR=0;yR.length>bR;)Yrt(tu,gd,yR[bR++]);t0.constructor=tu,tu.prototype=t0,Jrt(fI,"RegExp",tu,{constructor:!0})}Xrt("RegExp");var dnt=or,unt=uI,fnt=ha,hnt=ls,gnt=Jn.get,wR=RegExp.prototype,mnt=TypeError;dnt&&unt&&hnt(wR,"dotAll",{configurable:!0,get:function(){if(this!==wR){if(fnt(this)==="RegExp")return!!gnt(this).dotAll;throw new mnt("Incompatible receiver, RegExp required")}}});var S0=lr,Cj=Ut,pnt=gr,xnt=oI,vnt=Sj,ynt=qh,bnt=Ii,wnt=Jn.get,jnt=uI,Nnt=LK,Snt=ynt("native-string-replace",String.prototype.replace),n2=RegExp.prototype.exec,mk=n2,Cnt=Cj("".charAt),knt=Cj("".indexOf),Ent=Cj("".replace),_3=Cj("".slice),pk=function(){var t=/a/,r=/b*/g;return S0(n2,t,"a"),S0(n2,r,"a"),t.lastIndex!==0||r.lastIndex!==0}(),_K=vnt.BROKEN_CARET,xk=/()??/.exec("")[1]!==void 0,Lnt=pk||xk||_K||jnt||Nnt;Lnt&&(mk=function(r){var s=this,a=wnt(s),i=pnt(r),o=a.raw,l,c,d,f,h,g,m;if(o)return o.lastIndex=s.lastIndex,l=S0(mk,o,i),s.lastIndex=o.lastIndex,l;var p=a.groups,x=_K&&s.sticky,y=S0(xnt,s),w=s.source,b=0,v=i;if(x&&(y=Ent(y,"y",""),knt(y,"g")===-1&&(y+="g"),v=_3(i,s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&Cnt(i,s.lastIndex-1)!==`
`)&&(w="(?: "+w+")",v=" "+v,b++),c=new RegExp("^(?:"+w+")",y)),xk&&(c=new RegExp("^"+w+"$(?!\\s)",y)),pk&&(d=s.lastIndex),f=S0(n2,x?c:s,v),x?f?(f.input=_3(f.input,b),f[0]=_3(f[0],b),f.index=s.lastIndex,s.lastIndex+=f[0].length):s.lastIndex=0:pk&&f&&(s.lastIndex=s.global?f.index+f[0].length:d),xk&&f&&f.length>1&&S0(Snt,f[0],c,function(){for(h=1;h<arguments.length-2;h++)arguments[h]===void 0&&(f[h]=void 0)}),f&&p)for(f.groups=g=bnt(null),h=0;h<p.length;h++)m=p[h],g[m[0]]=f[m[1]];return f});var hI=mk,Mnt=Qe,jR=hI;Mnt({target:"RegExp",proto:!0,forced:/./.exec!==jR},{exec:jR});var Int=Vt,Tnt=or,Ant=ls,_nt=oI,Ont=Pt,OK=Int.RegExp,$K=OK.prototype,$nt=Tnt&&Ont(function(){var t=!0;try{OK(".","d")}catch(d){t=!1}var r={},s="",a=t?"dgimsy":"gimsy",i=function(d,f){Object.defineProperty(r,d,{get:function(){return s+=f,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};t&&(o.hasIndices="d");for(var l in o)i(l,o[l]);var c=Object.getOwnPropertyDescriptor($K,"flags").get.call(r);return c!==a||s!==a});$nt&&Ant($K,"flags",{configurable:!0,get:_nt});var Pnt=or,Dnt=Sj.MISSED_STICKY,Rnt=ha,Fnt=ls,Bnt=Jn.get,NR=RegExp.prototype,znt=TypeError;Pnt&&Dnt&&Fnt(NR,"sticky",{configurable:!0,get:function(){if(this!==NR){if(Rnt(this)==="RegExp")return!!Bnt(this).sticky;throw new znt("Incompatible receiver, RegExp required")}}});var Unt=Qe,SR=lr,Wnt=$r,CR=sr,Hnt=gr,Vnt=function(){var t=!1,r=/[ac]/;return r.exec=function(){return t=!0,/./.exec.apply(this,arguments)},r.test("abc")===!0&&t}(),Gnt=/./.test;Unt({target:"RegExp",proto:!0,forced:!Vnt},{test:function(t){var r=CR(this),s=Hnt(t),a=r.exec;if(!Wnt(a))return SR(Gnt,r,s);var i=SR(a,r,s);return i===null?!1:(CR(i),!0)}});var qnt=Jh.PROPER,Ynt=jn,Jnt=sr,kR=gr,Znt=Pt,Qnt=Dx,gI="toString",PK=RegExp.prototype,DK=PK[gI],Knt=Znt(function(){return DK.call({source:"a",flags:"b"})!=="/a/b"}),Xnt=qnt&&DK.name!==gI;(Knt||Xnt)&&Ynt(PK,gI,function(){var r=Jnt(this),s=kR(r.source),a=kR(Qnt(r));return"/"+s+"/"+a},{unsafe:!0});var est=uj,tst=wQ;est("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},tst);var O3=Ut,x1=Set.prototype,Ho={Set,add:O3(x1.add),has:O3(x1.has),remove:O3(x1.delete),proto:x1},rst=Ho.has,yf=function(t){return rst(t),t},nst=lr,bf=function(t,r,s){for(var a=s?t:t.iterator,i=t.next,o,l;!(o=nst(i,a)).done;)if(l=r(o.value),l!==void 0)return l},RK=Ut,sst=bf,FK=Ho,ast=FK.Set,BK=FK.proto,ist=RK(BK.forEach),zK=RK(BK.keys),ost=zK(new ast).next,lg=function(t,r,s){return s?sst({iterator:zK(t),next:ost},r):ist(t,r)},UK=Ho,lst=lg,cst=UK.Set,dst=UK.add,mI=function(t){var r=new cst;return lst(t,function(s){dst(r,s)}),r},ust=Qw,fst=Ho,Fx=ust(fst.proto,"size","get")||function(t){return t.size},ER=Rr,WK=sr,LR=lr,hst=Pn,gst=Ai,MR="Invalid size",mst=RangeError,pst=TypeError,xst=Math.max,HK=function(t,r){this.set=t,this.size=xst(r,0),this.has=ER(t.has),this.keys=ER(t.keys)};HK.prototype={getIterator:function(){return gst(WK(LR(this.keys,this.set)))},includes:function(t){return LR(this.has,this.set,t)}};var wf=function(t){WK(t);var r=+t.size;if(r!==r)throw new pst(MR);var s=hst(r);if(s<0)throw new mst(MR);return new HK(t,s)},vst=yf,VK=Ho,yst=mI,bst=Fx,wst=wf,jst=lg,Nst=bf,Sst=VK.has,IR=VK.remove,Cst=function(r){var s=vst(this),a=wst(r),i=yst(s);return bst(s)<=a.size?jst(s,function(o){a.includes(o)&&IR(i,o)}):Nst(a.getIterator(),function(o){Sst(s,o)&&IR(i,o)}),i},kst=nn,TR=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},jf=function(t){var r=kst("Set");try{new r()[t](TR(0));try{return new r()[t](TR(-1)),!1}catch(s){return!0}}catch(s){return!1}},Est=Qe,Lst=Cst,Mst=jf;Est({target:"Set",proto:!0,real:!0,forced:!Mst("difference")},{difference:Lst});var Ist=yf,pI=Ho,Tst=Fx,Ast=wf,_st=lg,Ost=bf,$st=pI.Set,AR=pI.add,Pst=pI.has,Dst=function(r){var s=Ist(this),a=Ast(r),i=new $st;return Tst(s)>a.size?Ost(a.getIterator(),function(o){Pst(s,o)&&AR(i,o)}):_st(s,function(o){a.includes(o)&&AR(i,o)}),i},Rst=Qe,Fst=Pt,Bst=Dst,zst=jf,Ust=!zst("intersection")||Fst(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});Rst({target:"Set",proto:!0,real:!0,forced:Ust},{intersection:Bst});var Wst=yf,Hst=Ho.has,Vst=Fx,Gst=wf,qst=lg,Yst=bf,Jst=xf,Zst=function(r){var s=Wst(this),a=Gst(r);if(Vst(s)<=a.size)return qst(s,function(o){if(a.includes(o))return!1},!0)!==!1;var i=a.getIterator();return Yst(i,function(o){if(Hst(s,o))return Jst(i,"normal",!1)})!==!1},Qst=Qe,Kst=Zst,Xst=jf;Qst({target:"Set",proto:!0,real:!0,forced:!Xst("isDisjointFrom")},{isDisjointFrom:Kst});var eat=yf,tat=Fx,rat=lg,nat=wf,sat=function(r){var s=eat(this),a=nat(r);return tat(s)>a.size?!1:rat(s,function(i){if(!a.includes(i))return!1},!0)!==!1},aat=Qe,iat=sat,oat=jf;aat({target:"Set",proto:!0,real:!0,forced:!oat("isSubsetOf")},{isSubsetOf:iat});var lat=yf,cat=Ho.has,dat=Fx,uat=wf,fat=bf,hat=xf,gat=function(r){var s=lat(this),a=uat(r);if(dat(s)<a.size)return!1;var i=a.getIterator();return fat(i,function(o){if(!cat(s,o))return hat(i,"normal",!1)})!==!1},mat=Qe,pat=gat,xat=jf;mat({target:"Set",proto:!0,real:!0,forced:!xat("isSupersetOf")},{isSupersetOf:pat});var vat=yf,xI=Ho,yat=mI,bat=wf,wat=bf,jat=xI.add,Nat=xI.has,Sat=xI.remove,Cat=function(r){var s=vat(this),a=bat(r).getIterator(),i=yat(s);return wat(a,function(o){Nat(s,o)?Sat(i,o):jat(i,o)}),i},kat=Qe,Eat=Cat,Lat=jf;kat({target:"Set",proto:!0,real:!0,forced:!Lat("symmetricDifference")},{symmetricDifference:Eat});var Mat=yf,Iat=Ho.add,Tat=mI,Aat=wf,_at=bf,Oat=function(r){var s=Mat(this),a=Aat(r).getIterator(),i=Tat(s);return _at(a,function(o){Iat(i,o)}),i},$at=Qe,Pat=Oat,Dat=jf;$at({target:"Set",proto:!0,real:!0,forced:!Dat("union")},{union:Pat});var Rat=Qe,Fat=Ut,Bat=bn,zat=Pn,Uat=gr,Wat=Pt,Hat=Fat("".charAt),Vat=Wat(function(){return"𠮷".at(-2)!=="\uD842"});Rat({target:"String",proto:!0,forced:Vat},{at:function(r){var s=Uat(Bat(this)),a=s.length,i=zat(r),o=i>=0?i:a+i;return o<0||o>=a?void 0:Hat(s,o)}});var vI=Ut,Gat=Pn,qat=gr,Yat=bn,Jat=vI("".charAt),_R=vI("".charCodeAt),Zat=vI("".slice),OR=function(t){return function(r,s){var a=qat(Yat(r)),i=Gat(s),o=a.length,l,c;return i<0||i>=o?t?"":void 0:(l=_R(a,i),l<55296||l>56319||i+1===o||(c=_R(a,i+1))<56320||c>57343?t?Jat(a,i):l:t?Zat(a,i,i+2):(l-55296<<10)+(c-56320)+65536)}},kj={codeAt:OR(!1),charAt:OR(!0)},Qat=Qe,Kat=kj.codeAt;Qat({target:"String",proto:!0},{codePointAt:function(r){return Kat(this,r)}});var Xat=Nj,eit=TypeError,yI=function(t){if(Xat(t))throw new eit("The method doesn't accept regular expressions");return t},tit=Er,rit=tit("match"),bI=function(t){var r=/./;try{"/./"[t](r)}catch(s){try{return r[rit]=!1,"/./"[t](r)}catch(a){}}return!1},nit=Qe,sit=Wd,ait=fa.f,iit=Mi,$R=gr,oit=yI,lit=bn,cit=bI,dit=sit("".slice),uit=Math.min,GK=cit("endsWith"),fit=!GK&&!!function(){var t=ait(String.prototype,"endsWith");return t&&!t.writable}();nit({target:"String",proto:!0,forced:!fit&&!GK},{endsWith:function(r){var s=$R(lit(this));oit(r);var a=arguments.length>1?arguments[1]:void 0,i=s.length,o=a===void 0?i:uit(iit(a),i),l=$R(r);return dit(s,o-l.length,o)===l}});var hit=Qe,git=Ut,mit=fc,pit=RangeError,PR=String.fromCharCode,DR=String.fromCodePoint,xit=git([].join),vit=!!DR&&DR.length!==1;hit({target:"String",stat:!0,arity:1,forced:vit},{fromCodePoint:function(r){for(var s=[],a=arguments.length,i=0,o;a>i;){if(o=+arguments[i++],mit(o,1114111)!==o)throw new pit(o+" is not a valid code point");s[i]=o<65536?PR(o):PR(((o-=65536)>>10)+55296,o%1024+56320)}return xit(s,"")}});var yit=Qe,bit=Ut,wit=yI,jit=bn,RR=gr,Nit=bI,Sit=bit("".indexOf);yit({target:"String",proto:!0,forced:!Nit("includes")},{includes:function(r){return!!~Sit(RR(jit(this)),RR(wit(r)),arguments.length>1?arguments[1]:void 0)}});var Cit=Qe,kit=Ut,Eit=bn,Lit=gr,FR=kit("".charCodeAt);Cit({target:"String",proto:!0},{isWellFormed:function(){for(var r=Lit(Eit(this)),s=r.length,a=0;a<s;a++){var i=FR(r,a);if((i&63488)===55296&&(i>=56320||++a>=s||(FR(r,a)&64512)!==56320))return!1}return!0}});var Mit=kj.charAt,Iit=gr,qK=Jn,Tit=pM,BR=Xh,YK="String Iterator",Ait=qK.set,_it=qK.getterFor(YK);Tit(String,"String",function(t){Ait(this,{type:YK,string:Iit(t),index:0})},function(){var r=_it(this),s=r.string,a=r.index,i;return a>=s.length?BR(void 0,!0):(i=Mit(s,a),r.index+=i.length,BR(i,!1))});var zR=lr,UR=jn,Oit=hI,WR=Pt,JK=Er,$it=ga,Pit=JK("species"),$3=RegExp.prototype,Ej=function(t,r,s,a){var i=JK(t),o=!WR(function(){var f={};return f[i]=function(){return 7},""[t](f)!==7}),l=o&&!WR(function(){var f=!1,h=/a/;return t==="split"&&(h={},h.constructor={},h.constructor[Pit]=function(){return h},h.flags="",h[i]=/./[i]),h.exec=function(){return f=!0,null},h[i](""),!f});if(!o||!l||s){var c=/./[i],d=r(i,""[t],function(f,h,g,m,p){var x=h.exec;return x===Oit||x===$3.exec?o&&!p?{done:!0,value:zR(c,h,g,m)}:{done:!0,value:zR(f,g,h,m)}:{done:!1}});UR(String.prototype,t,d[0]),UR($3,i,d[1])}a&&$it($3[i],"sham",!0)},Dit=kj.charAt,Lj=function(t,r,s){return r+(s?Dit(t,r).length:1)},HR=lr,Rit=sr,Fit=$r,Bit=ha,zit=hI,Uit=TypeError,Bx=function(t,r){var s=t.exec;if(Fit(s)){var a=HR(s,t,r);return a!==null&&Rit(a),a}if(Bit(t)==="RegExp")return HR(zit,t,r);throw new Uit("RegExp#exec called on incompatible receiver")},Wit=lr,Hit=Ej,Vit=sr,Git=ri,qit=Mi,P3=gr,Yit=bn,Jit=xl,Zit=Lj,VR=Bx;Hit("match",function(t,r,s){return[function(i){var o=Yit(this),l=Git(i)?void 0:Jit(i,t);return l?Wit(l,i,o):new RegExp(i)[t](P3(o))},function(a){var i=Vit(this),o=P3(a),l=s(r,i,o);if(l.done)return l.value;if(!i.global)return VR(i,o);var c=i.unicode;i.lastIndex=0;for(var d=[],f=0,h;(h=VR(i,o))!==null;){var g=P3(h[0]);d[f]=g,g===""&&(i.lastIndex=Zit(o,qit(i.lastIndex),c)),f++}return f===0?null:d}]});var Qit=Qe,Kit=lr,ZK=Wd,Xit=mM,v1=Xh,GR=bn,QK=Mi,Fp=gr,eot=sr,tot=ri,rot=ha,not=Nj,KK=Dx,sot=xl,aot=jn,iot=Pt,oot=Er,lot=yj,cot=Lj,dot=Bx,XK=Jn,uot=uc,s2=oot("matchAll"),eX="RegExp String",tX=eX+" Iterator",fot=XK.set,hot=XK.getterFor(tX),qR=RegExp.prototype,got=TypeError,vk=ZK("".indexOf),a2=ZK("".matchAll),D3=!!a2&&!iot(function(){a2("a",/./)}),mot=Xit(function(r,s,a,i){fot(this,{type:tX,regexp:r,string:s,global:a,unicode:i,done:!1})},eX,function(){var r=hot(this);if(r.done)return v1(void 0,!0);var s=r.regexp,a=r.string,i=dot(s,a);return i===null?(r.done=!0,v1(void 0,!0)):r.global?(Fp(i[0])===""&&(s.lastIndex=cot(a,QK(s.lastIndex),r.unicode)),v1(i,!1)):(r.done=!0,v1(i,!1))}),rX=function(t){var r=eot(this),s=Fp(t),a=lot(r,RegExp),i=Fp(KK(r)),o,l,c;return o=new a(a===RegExp?r.source:r,i),l=!!~vk(i,"g"),c=!!~vk(i,"u"),o.lastIndex=QK(r.lastIndex),new mot(o,s,l,c)};Qit({target:"String",proto:!0,forced:D3},{matchAll:function(r){var s=GR(this),a,i,o,l;if(tot(r)){if(D3)return a2(s,r)}else{if(not(r)&&(a=Fp(GR(KK(r))),!~vk(a,"g")))throw new got("`.matchAll` does not allow non-global regexes");if(D3)return a2(s,r);if(o=sot(r,s2),o===void 0&&uot&&rot(r)==="RegExp"&&(o=rX),o)return Kit(o,r,s)}return i=Fp(s),l=new RegExp(r,"g"),l[s2](i)}});s2 in qR||aot(qR,s2,rX);var pot=pl,nX=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(pot),xot=Qe,vot=FM.end,yot=nX;xot({target:"String",proto:!0,forced:yot},{padEnd:function(r){return vot(this,r,arguments.length>1?arguments[1]:void 0)}});var bot=Qe,wot=FM.start,jot=nX;bot({target:"String",proto:!0,forced:jot},{padStart:function(r){return wot(this,r,arguments.length>1?arguments[1]:void 0)}});var Not=Qe,sX=Ut,Sot=ws,Cot=Vr,YR=gr,kot=sn,JR=sX([].push),Eot=sX([].join);Not({target:"String",stat:!0},{raw:function(r){var s=Sot(Cot(r).raw),a=kot(s);if(!a)return"";for(var i=arguments.length,o=[],l=0;;){if(JR(o,YR(s[l++])),l===a)return Eot(o,"");l<i&&JR(o,YR(arguments[l]))}}});var Lot=Qe,Mot=dj;Lot({target:"String",proto:!0},{repeat:Mot});var wI=Ut,Iot=Vr,Tot=Math.floor,R3=wI("".charAt),Aot=wI("".replace),F3=wI("".slice),_ot=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Oot=/\$([$&'`]|\d{1,2})/g,aX=function(t,r,s,a,i,o){var l=s+t.length,c=a.length,d=Oot;return i!==void 0&&(i=Iot(i),d=_ot),Aot(o,d,function(f,h){var g;switch(R3(h,0)){case"$":return"$";case"&":return t;case"`":return F3(r,0,s);case"'":return F3(r,l);case"<":g=i[F3(h,1,-1)];break;default:var m=+h;if(m===0)return f;if(m>c){var p=Tot(m/10);return p===0?f:p<=c?a[p-1]===void 0?R3(h,1):a[p-1]+R3(h,1):f}g=a[m-1]}return g===void 0?"":g})},$ot=uo,ZR=lr,Mj=Ut,Pot=Ej,Dot=Pt,Rot=sr,Fot=$r,Bot=ri,zot=Pn,Uot=Mi,Hf=gr,Wot=bn,Hot=Lj,Vot=xl,Got=aX,qot=Bx,Yot=Er,yk=Yot("replace"),Jot=Math.max,Zot=Math.min,Qot=Mj([].concat),B3=Mj([].push),QR=Mj("".indexOf),KR=Mj("".slice),Kot=function(t){return t===void 0?t:String(t)},Xot=function(){return"a".replace(/./,"$0")==="$0"}(),XR=function(){return/./[yk]?/./[yk]("a","$0")==="":!1}(),elt=!Dot(function(){var t=/./;return t.exec=function(){var r=[];return r.groups={a:"7"},r},"".replace(t,"$<a>")!=="7"});Pot("replace",function(t,r,s){var a=XR?"$":"$0";return[function(o,l){var c=Wot(this),d=Bot(o)?void 0:Vot(o,yk);return d?ZR(d,o,c,l):ZR(r,Hf(c),o,l)},function(i,o){var l=Rot(this),c=Hf(i);if(typeof o=="string"&&QR(o,a)===-1&&QR(o,"$<")===-1){var d=s(r,l,c,o);if(d.done)return d.value}var f=Fot(o);f||(o=Hf(o));var h=l.global,g;h&&(g=l.unicode,l.lastIndex=0);for(var m=[],p;p=qot(l,c),!(p===null||(B3(m,p),!h));){var x=Hf(p[0]);x===""&&(l.lastIndex=Hot(c,Uot(l.lastIndex),g))}for(var y="",w=0,b=0;b<m.length;b++){p=m[b];for(var v=Hf(p[0]),j=Jot(Zot(zot(p.index),c.length),0),N=[],S,I=1;I<p.length;I++)B3(N,Kot(p[I]));var E=p.groups;if(f){var L=Qot([v],N,j,c);E!==void 0&&B3(L,E),S=Hf($ot(o,void 0,L))}else S=Got(v,c,j,N,E,o);j>=w&&(y+=KR(c,w,j)+S,w=j+v.length)}return y+KR(c,w)}]},!elt||!Xot||XR);var tlt=Qe,rlt=lr,jI=Ut,eF=bn,nlt=$r,slt=ri,alt=Nj,Qg=gr,ilt=xl,olt=Dx,llt=aX,clt=Er,dlt=clt("replace"),ult=TypeError,z3=jI("".indexOf);jI("".replace);var tF=jI("".slice),flt=Math.max;tlt({target:"String",proto:!0},{replaceAll:function(r,s){var a=eF(this),i,o,l,c,d,f,h,g,m,p,x=0,y="";if(!slt(r)){if(i=alt(r),i&&(o=Qg(eF(olt(r))),!~z3(o,"g")))throw new ult("`.replaceAll` does not allow non-global regexes");if(l=ilt(r,dlt),l)return rlt(l,r,a,s)}for(c=Qg(a),d=Qg(r),f=nlt(s),f||(s=Qg(s)),h=d.length,g=flt(1,h),m=z3(c,d);m!==-1;)p=f?Qg(s(d,m,c)):llt(d,c,m,[],void 0,s),y+=tF(c,x,m)+p,x=m+h,m=m+g>c.length?-1:z3(c,d,m+g);return x<c.length&&(y+=tF(c,x)),y}});var hlt=lr,glt=Ej,mlt=sr,plt=ri,xlt=bn,rF=YQ,nF=gr,vlt=xl,ylt=Bx;glt("search",function(t,r,s){return[function(i){var o=xlt(this),l=plt(i)?void 0:vlt(i,t);return l?hlt(l,i,o):new RegExp(i)[t](nF(o))},function(a){var i=mlt(this),o=nF(a),l=s(r,i,o);if(l.done)return l.value;var c=i.lastIndex;rF(c,0)||(i.lastIndex=0);var d=ylt(i,o);return rF(i.lastIndex,c)||(i.lastIndex=c),d===null?-1:d.index}]});var U3=lr,iX=Ut,blt=Ej,wlt=sr,jlt=ri,Nlt=bn,Slt=yj,Clt=Lj,klt=Mi,sF=gr,Elt=xl,aF=Bx,Llt=Sj,Mlt=Pt,Vf=Llt.UNSUPPORTED_Y,Ilt=4294967295,Tlt=Math.min,W3=iX([].push),H3=iX("".slice),Alt=!Mlt(function(){var t=/(?:)/,r=t.exec;t.exec=function(){return r.apply(this,arguments)};var s="ab".split(t);return s.length!==2||s[0]!=="a"||s[1]!=="b"}),iF="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;blt("split",function(t,r,s){var a="0".split(void 0,0).length?function(i,o){return i===void 0&&o===0?[]:U3(r,this,i,o)}:r;return[function(o,l){var c=Nlt(this),d=jlt(o)?void 0:Elt(o,t);return d?U3(d,o,c,l):U3(a,sF(c),o,l)},function(i,o){var l=wlt(this),c=sF(i);if(!iF){var d=s(a,l,c,o,a!==r);if(d.done)return d.value}var f=Slt(l,RegExp),h=l.unicode,g=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(Vf?"g":"y"),m=new f(Vf?"^(?:"+l.source+")":l,g),p=o===void 0?Ilt:o>>>0;if(p===0)return[];if(c.length===0)return aF(m,c)===null?[c]:[];for(var x=0,y=0,w=[];y<c.length;){m.lastIndex=Vf?0:y;var b=aF(m,Vf?H3(c,y):c),v;if(b===null||(v=Tlt(klt(m.lastIndex+(Vf?y:0)),c.length))===x)y=Clt(c,y,h);else{if(W3(w,H3(c,x,y)),w.length===p)return w;for(var j=1;j<=b.length-1;j++)if(W3(w,b[j]),w.length===p)return w;y=x=v}}return W3(w,H3(c,x)),w}]},iF||!Alt,Vf);var _lt=Qe,Olt=Wd,$lt=fa.f,Plt=Mi,oF=gr,Dlt=yI,Rlt=bn,Flt=bI,Blt=Olt("".slice),zlt=Math.min,oX=Flt("startsWith"),Ult=!oX&&!!function(){var t=$lt(String.prototype,"startsWith");return t&&!t.writable}();_lt({target:"String",proto:!0,forced:!Ult&&!oX},{startsWith:function(r){var s=oF(Rlt(this));Dlt(r);var a=Plt(zlt(arguments.length>1?arguments[1]:void 0,s.length)),i=oF(r);return Blt(s,a,a+i.length)===i}});var Wlt=Qe,Hlt=Ut,Vlt=bn,lF=Pn,Glt=gr,qlt=Hlt("".slice),Ylt=Math.max,Jlt=Math.min,Zlt=!"".substr||"ab".substr(-1)!=="b";Wlt({target:"String",proto:!0,forced:Zlt},{substr:function(r,s){var a=Glt(Vlt(this)),i=a.length,o=lF(r),l,c;return o===1/0&&(o=0),o<0&&(o=Ylt(i+o,0)),l=s===void 0?i:lF(s),l<=0||l===1/0?"":(c=Jlt(o+l,i),o>=c?"":qlt(a,o,c))}});var Qlt=Qe,lX=lr,NI=Ut,Klt=bn,Xlt=gr,ect=Pt,tct=Array,V3=NI("".charAt),cF=NI("".charCodeAt),rct=NI([].join),bk="".toWellFormed,nct="�",dF=bk&&ect(function(){return lX(bk,1)!=="1"});Qlt({target:"String",proto:!0,forced:dF},{toWellFormed:function(){var r=Xlt(Klt(this));if(dF)return lX(bk,r);for(var s=r.length,a=tct(s),i=0;i<s;i++){var o=cF(r,i);(o&63488)!==55296?a[i]=V3(r,i):o>=56320||i+1>=s||(cF(r,i+1)&64512)!==56320?a[i]=nct:(a[i]=V3(r,i),a[++i]=V3(r,i))}return rct(a,"")}});var sct=Jh.PROPER,act=Pt,uF=mj,fF="​᠎",SI=function(t){return act(function(){return!!uF[t]()||fF[t]()!==fF||sct&&uF[t].name!==t})},ict=Qe,oct=ig.trim,lct=SI;ict({target:"String",proto:!0,forced:lct("trim")},{trim:function(){return oct(this)}});var cct=ig.end,dct=SI,cX=dct("trimEnd")?function(){return cct(this)}:"".trimEnd,uct=Qe,hF=cX;uct({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==hF},{trimRight:hF});var fct=Qe,gF=cX;fct({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==gF},{trimEnd:gF});var hct=ig.start,gct=SI,dX=gct("trimStart")?function(){return hct(this)}:"".trimStart,mct=Qe,mF=dX;mct({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==mF},{trimLeft:mF});var pct=Qe,pF=dX;pct({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==pF},{trimStart:pF});var xct=Ut,vct=bn,xF=gr,yct=/"/g,bct=xct("".replace),_i=function(t,r,s,a){var i=xF(vct(t)),o="<"+r;return s!==""&&(o+=" "+s+'="'+bct(xF(a),yct,"&quot;")+'"'),o+">"+i+"</"+r+">"},wct=Pt,Oi=function(t){return wct(function(){var r=""[t]('"');return r!==r.toLowerCase()||r.split('"').length>3})},jct=Qe,Nct=_i,Sct=Oi;jct({target:"String",proto:!0,forced:Sct("anchor")},{anchor:function(r){return Nct(this,"a","name",r)}});var Cct=Qe,kct=_i,Ect=Oi;Cct({target:"String",proto:!0,forced:Ect("big")},{big:function(){return kct(this,"big","","")}});var Lct=Qe,Mct=_i,Ict=Oi;Lct({target:"String",proto:!0,forced:Ict("blink")},{blink:function(){return Mct(this,"blink","","")}});var Tct=Qe,Act=_i,_ct=Oi;Tct({target:"String",proto:!0,forced:_ct("bold")},{bold:function(){return Act(this,"b","","")}});var Oct=Qe,$ct=_i,Pct=Oi;Oct({target:"String",proto:!0,forced:Pct("fixed")},{fixed:function(){return $ct(this,"tt","","")}});var Dct=Qe,Rct=_i,Fct=Oi;Dct({target:"String",proto:!0,forced:Fct("fontcolor")},{fontcolor:function(r){return Rct(this,"font","color",r)}});var Bct=Qe,zct=_i,Uct=Oi;Bct({target:"String",proto:!0,forced:Uct("fontsize")},{fontsize:function(r){return zct(this,"font","size",r)}});var Wct=Qe,Hct=_i,Vct=Oi;Wct({target:"String",proto:!0,forced:Vct("italics")},{italics:function(){return Hct(this,"i","","")}});var Gct=Qe,qct=_i,Yct=Oi;Gct({target:"String",proto:!0,forced:Yct("link")},{link:function(r){return qct(this,"a","href",r)}});var Jct=Qe,Zct=_i,Qct=Oi;Jct({target:"String",proto:!0,forced:Qct("small")},{small:function(){return Zct(this,"small","","")}});var Kct=Qe,Xct=_i,edt=Oi;Kct({target:"String",proto:!0,forced:edt("strike")},{strike:function(){return Xct(this,"strike","","")}});var tdt=Qe,rdt=_i,ndt=Oi;tdt({target:"String",proto:!0,forced:ndt("sub")},{sub:function(){return rdt(this,"sub","","")}});var sdt=Qe,adt=_i,idt=Oi;sdt({target:"String",proto:!0,forced:idt("sup")},{sup:function(){return adt(this,"sup","","")}});var wk={exports:{}},uX=Vt,G3=Pt,odt=tj,ldt=Tr.NATIVE_ARRAY_BUFFER_VIEWS,cdt=uX.ArrayBuffer,ru=uX.Int8Array,CI=!ldt||!G3(function(){ru(1)})||!G3(function(){new ru(-1)})||!odt(function(t){new ru,new ru(null),new ru(1.5),new ru(t)},!0)||G3(function(){return new ru(new cdt(2),1,void 0).length!==1}),ddt=WM,udt=RangeError,fX=function(t,r){var s=ddt(t);if(s%r)throw new udt("Wrong offset");return s},fdt=Math.round,hdt=function(t){var r=fdt(t);return r<0?0:r>255?255:r&255},gdt=vl,hX=function(t){var r=gdt(t);return r==="BigInt64Array"||r==="BigUint64Array"},mdt=zw,pdt=TypeError,kI=function(t){var r=mdt(t,"number");if(typeof r=="number")throw new pdt("Can't convert number to bigint");return BigInt(r)},xdt=Uo,vdt=lr,ydt=eI,bdt=Vr,wdt=sn,jdt=Kw,Ndt=Qh,Sdt=uM,Cdt=hX,kdt=Tr.aTypedArrayConstructor,Edt=kI,gX=function(r){var s=ydt(this),a=bdt(r),i=arguments.length,o=i>1?arguments[1]:void 0,l=o!==void 0,c=Ndt(a),d,f,h,g,m,p,x,y;if(c&&!Sdt(c))for(x=jdt(a,c),y=x.next,a=[];!(p=vdt(y,x)).done;)a.push(p.value);for(l&&i>2&&(o=xdt(o,arguments[2])),f=wdt(a),h=new(kdt(s))(f),g=Cdt(h),d=0;f>d;d++)m=l?o(a[d],d):a[d],h[d]=g?Edt(m):+m;return h},vF=Qe,mX=Vt,yF=lr,Ldt=or,Mdt=CI,zx=Tr,pX=oj,bF=Wo,Idt=lo,Kg=ga,Tdt=QM,Adt=Mi,wF=NM,q3=fX,_dt=hdt,xX=zd,Xg=Fr,Odt=vl,jk=kr,$dt=hf,Pdt=Ii,Ddt=ni,y1=yl,Rdt=Ud.f,jF=gX,Fdt=Fs.forEach,Bdt=tg,zdt=ls,vX=wn,yX=fa,NF=sj,EI=Jn,Udt=mf,Nk=EI.get,Wdt=EI.set,Hdt=EI.enforce,bX=vX.f,Vdt=yX.f,Y3=mX.RangeError,wX=pX.ArrayBuffer,Gdt=wX.prototype,qdt=pX.DataView,b1=zx.NATIVE_ARRAY_BUFFER_VIEWS,SF=zx.TYPED_ARRAY_TAG,CF=zx.TypedArray,em=zx.TypedArrayPrototype,Sk=zx.isTypedArray,w1="BYTES_PER_ELEMENT",J3="Wrong length",j1=function(t,r){zdt(t,r,{configurable:!0,get:function(){return Nk(this)[r]}})},kF=function(t){var r;return Ddt(Gdt,t)||(r=Odt(t))==="ArrayBuffer"||r==="SharedArrayBuffer"},jX=function(t,r){return Sk(t)&&!$dt(r)&&r in t&&Tdt(+r)&&r>=0},EF=function(r,s){return s=xX(s),jX(r,s)?Idt(2,r[s]):Vdt(r,s)},LF=function(r,s,a){return s=xX(s),jX(r,s)&&jk(a)&&Xg(a,"value")&&!Xg(a,"get")&&!Xg(a,"set")&&!a.configurable&&(!Xg(a,"writable")||a.writable)&&(!Xg(a,"enumerable")||a.enumerable)?(r[s]=a.value,r):bX(r,s,a)};Ldt?(b1||(yX.f=EF,vX.f=LF,j1(em,"buffer"),j1(em,"byteOffset"),j1(em,"byteLength"),j1(em,"length")),vF({target:"Object",stat:!0,forced:!b1},{getOwnPropertyDescriptor:EF,defineProperty:LF}),wk.exports=function(t,r,s){var a=t.match(/\d+/)[0]/8,i=t+(s?"Clamped":"")+"Array",o="get"+t,l="set"+t,c=mX[i],d=c,f=d&&d.prototype,h={},g=function(y,w){var b=Nk(y);return b.view[o](w*a+b.byteOffset,!0)},m=function(y,w,b){var v=Nk(y);v.view[l](w*a+v.byteOffset,s?_dt(b):b,!0)},p=function(y,w){bX(y,w,{get:function(){return g(this,w)},set:function(b){return m(this,w,b)},enumerable:!0})};b1?Mdt&&(d=r(function(y,w,b,v){return bF(y,f),Udt(function(){return jk(w)?kF(w)?v!==void 0?new c(w,q3(b,a),v):b!==void 0?new c(w,q3(b,a)):new c(w):Sk(w)?NF(d,w):yF(jF,d,w):new c(wF(w))}(),y,d)}),y1&&y1(d,CF),Fdt(Rdt(c),function(y){y in d||Kg(d,y,c[y])}),d.prototype=f):(d=r(function(y,w,b,v){bF(y,f);var j=0,N=0,S,I,E;if(!jk(w))E=wF(w),I=E*a,S=new wX(I);else if(kF(w)){S=w,N=q3(b,a);var L=w.byteLength;if(v===void 0){if(L%a)throw new Y3(J3);if(I=L-N,I<0)throw new Y3(J3)}else if(I=Adt(v)*a,I+N>L)throw new Y3(J3);E=I/a}else return Sk(w)?NF(d,w):yF(jF,d,w);for(Wdt(y,{buffer:S,byteOffset:N,byteLength:I,length:E,view:new qdt(S)});j<E;)p(y,j++)}),y1&&y1(d,CF),f=d.prototype=Pdt(em)),f.constructor!==d&&Kg(f,"constructor",d),Hdt(f).TypedArrayConstructor=d,SF&&Kg(f,SF,i);var x=d!==c;h[i]=d,vF({global:!0,constructor:!0,forced:x,sham:!b1},h),w1 in d||Kg(d,w1,a),w1 in f||Kg(f,w1,a),Bdt(i)}):wk.exports=function(){};var pc=wk.exports,Ydt=pc;Ydt("Float32",function(t){return function(s,a,i){return t(this,s,a,i)}});var Jdt=pc;Jdt("Float64",function(t){return function(s,a,i){return t(this,s,a,i)}});var Zdt=pc;Zdt("Int8",function(t){return function(s,a,i){return t(this,s,a,i)}});var Qdt=pc;Qdt("Int16",function(t){return function(s,a,i){return t(this,s,a,i)}});var Kdt=pc;Kdt("Int32",function(t){return function(s,a,i){return t(this,s,a,i)}});var Xdt=pc;Xdt("Uint8",function(t){return function(s,a,i){return t(this,s,a,i)}});var eut=pc;eut("Uint8",function(t){return function(s,a,i){return t(this,s,a,i)}},!0);var tut=pc;tut("Uint16",function(t){return function(s,a,i){return t(this,s,a,i)}});var rut=pc;rut("Uint32",function(t){return function(s,a,i){return t(this,s,a,i)}});var NX=Tr,nut=sn,sut=Pn,aut=NX.aTypedArray,iut=NX.exportTypedArrayMethod;iut("at",function(r){var s=aut(this),a=nut(s),i=sut(r),o=i>=0?i:a+i;return o<0||o>=a?void 0:s[o]});var out=Ut,SX=Tr,lut=ZJ,cut=out(lut),dut=SX.aTypedArray,uut=SX.exportTypedArrayMethod;uut("copyWithin",function(r,s){return cut(dut(this),r,s,arguments.length>2?arguments[2]:void 0)});var CX=Tr,fut=Fs.every,hut=CX.aTypedArray,gut=CX.exportTypedArrayMethod;gut("every",function(r){return fut(hut(this),r,arguments.length>1?arguments[1]:void 0)});var kX=Tr,mut=hM,put=kI,xut=vl,vut=lr,yut=Ut,but=Pt,wut=kX.aTypedArray,jut=kX.exportTypedArrayMethod,Nut=yut("".slice),Sut=but(function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),t!==1});jut("fill",function(r){var s=arguments.length;wut(this);var a=Nut(xut(this),0,3)==="Big"?put(r):+r;return vut(mut,this,a,s>1?arguments[1]:void 0,s>2?arguments[2]:void 0)},Sut);var Cut=sj,kut=Tr.getTypedArrayConstructor,Eut=function(t,r){return Cut(kut(t),r)},EX=Tr,Lut=Fs.filter,Mut=Eut,Iut=EX.aTypedArray,Tut=EX.exportTypedArrayMethod;Tut("filter",function(r){var s=Lut(Iut(this),r,arguments.length>1?arguments[1]:void 0);return Mut(this,s)});var LX=Tr,Aut=Fs.find,_ut=LX.aTypedArray,Out=LX.exportTypedArrayMethod;Out("find",function(r){return Aut(_ut(this),r,arguments.length>1?arguments[1]:void 0)});var MX=Tr,$ut=Fs.findIndex,Put=MX.aTypedArray,Dut=MX.exportTypedArrayMethod;Dut("findIndex",function(r){return $ut(Put(this),r,arguments.length>1?arguments[1]:void 0)});var IX=Tr,Rut=ej.findLast,Fut=IX.aTypedArray,But=IX.exportTypedArrayMethod;But("findLast",function(r){return Rut(Fut(this),r,arguments.length>1?arguments[1]:void 0)});var TX=Tr,zut=ej.findLastIndex,Uut=TX.aTypedArray,Wut=TX.exportTypedArrayMethod;Wut("findLastIndex",function(r){return zut(Uut(this),r,arguments.length>1?arguments[1]:void 0)});var AX=Tr,Hut=Fs.forEach,Vut=AX.aTypedArray,Gut=AX.exportTypedArrayMethod;Gut("forEach",function(r){Hut(Vut(this),r,arguments.length>1?arguments[1]:void 0)});var qut=CI,Yut=Tr.exportTypedArrayStaticMethod,Jut=gX;Yut("from",Jut,qut);var _X=Tr,Zut=bx.includes,Qut=_X.aTypedArray,Kut=_X.exportTypedArrayMethod;Kut("includes",function(r){return Zut(Qut(this),r,arguments.length>1?arguments[1]:void 0)});var OX=Tr,Xut=bx.indexOf,eft=OX.aTypedArray,tft=OX.exportTypedArrayMethod;tft("indexOf",function(r){return Xut(eft(this),r,arguments.length>1?arguments[1]:void 0)});var rft=Vt,nft=Pt,LI=Ut,$X=Tr,MI=uZ,sft=Er,II=sft("iterator"),MF=rft.Uint8Array,aft=LI(MI.values),ift=LI(MI.keys),oft=LI(MI.entries),TI=$X.aTypedArray,Ij=$X.exportTypedArrayMethod,r0=MF&&MF.prototype,Tj=!nft(function(){r0[II].call([1])}),PX=!!r0&&r0.values&&r0[II]===r0.values&&r0.values.name==="values",DX=function(){return aft(TI(this))};Ij("entries",function(){return oft(TI(this))},Tj);Ij("keys",function(){return ift(TI(this))},Tj);Ij("values",DX,Tj||!PX,{name:"values"});Ij(II,DX,Tj||!PX,{name:"values"});var RX=Tr,lft=Ut,cft=RX.aTypedArray,dft=RX.exportTypedArrayMethod,uft=lft([].join);dft("join",function(r){return uft(cft(this),r)});var FX=Tr,fft=uo,hft=hZ,gft=FX.aTypedArray,mft=FX.exportTypedArrayMethod;mft("lastIndexOf",function(r){var s=arguments.length;return fft(hft,gft(this),s>1?[r,arguments[1]]:[r])});var AI=Tr,pft=Fs.map,xft=AI.aTypedArray,vft=AI.getTypedArrayConstructor,yft=AI.exportTypedArrayMethod;yft("map",function(r){return pft(xft(this),r,arguments.length>1?arguments[1]:void 0,function(s,a){return new(vft(s))(a)})});var BX=Tr,bft=CI,wft=BX.aTypedArrayConstructor,jft=BX.exportTypedArrayStaticMethod;jft("of",function(){for(var r=0,s=arguments.length,a=new(wft(this))(s);s>r;)a[r]=arguments[r++];return a},bft);var zX=Tr,Nft=rj.left,Sft=zX.aTypedArray,Cft=zX.exportTypedArrayMethod;Cft("reduce",function(r){var s=arguments.length;return Nft(Sft(this),r,s,s>1?arguments[1]:void 0)});var UX=Tr,kft=rj.right,Eft=UX.aTypedArray,Lft=UX.exportTypedArrayMethod;Lft("reduceRight",function(r){var s=arguments.length;return kft(Eft(this),r,s,s>1?arguments[1]:void 0)});var WX=Tr,Mft=WX.aTypedArray,Ift=WX.exportTypedArrayMethod,Tft=Math.floor;Ift("reverse",function(){for(var r=this,s=Mft(r).length,a=Tft(s/2),i=0,o;i<a;)o=r[i],r[i++]=r[--s],r[s]=o;return r});var HX=Vt,VX=lr,_I=Tr,Aft=sn,_ft=fX,Oft=Vr,GX=Pt,$ft=HX.RangeError,Ck=HX.Int8Array,IF=Ck&&Ck.prototype,qX=IF&&IF.set,Pft=_I.aTypedArray,Dft=_I.exportTypedArrayMethod,kk=!GX(function(){var t=new Uint8ClampedArray(2);return VX(qX,t,{length:1,0:3},1),t[1]!==3}),Rft=kk&&_I.NATIVE_ARRAY_BUFFER_VIEWS&&GX(function(){var t=new Ck(2);return t.set(1),t.set("2",1),t[0]!==0||t[1]!==2});Dft("set",function(r){Pft(this);var s=_ft(arguments.length>1?arguments[1]:void 0,1),a=Oft(r);if(kk)return VX(qX,this,a,s);var i=this.length,o=Aft(a),l=0;if(o+s>i)throw new $ft("Wrong length");for(;l<o;)this[s+l]=a[l++]},!kk||Rft);var OI=Tr,Fft=Pt,Bft=co,zft=OI.aTypedArray,Uft=OI.getTypedArrayConstructor,Wft=OI.exportTypedArrayMethod,Hft=Fft(function(){new Int8Array(1).slice()});Wft("slice",function(r,s){for(var a=Bft(zft(this),r,s),i=Uft(this),o=0,l=a.length,c=new i(l);l>o;)c[o]=a[o++];return c},Hft);var YX=Tr,Vft=Fs.some,Gft=YX.aTypedArray,qft=YX.exportTypedArrayMethod;qft("some",function(r){return Vft(Gft(this),r,arguments.length>1?arguments[1]:void 0)});var Yft=Vt,Jft=Wd,Ek=Pt,Zft=Rr,Qft=yM,JX=Tr,TF=mZ,Kft=pZ,AF=dc,_F=bM,Xft=JX.aTypedArray,e0t=JX.exportTypedArrayMethod,Bp=Yft.Uint16Array,G0=Bp&&Jft(Bp.prototype.sort),t0t=!!G0&&!(Ek(function(){G0(new Bp(2),null)})&&Ek(function(){G0(new Bp(2),{})})),OF=!!G0&&!Ek(function(){if(AF)return AF<74;if(TF)return TF<67;if(Kft)return!0;if(_F)return _F<602;var t=new Bp(516),r=Array(516),s,a;for(s=0;s<516;s++)a=s%4,t[s]=515-s,r[s]=s-2*a+3;for(G0(t,function(i,o){return(i/4|0)-(o/4|0)}),s=0;s<516;s++)if(t[s]!==r[s])return!0}),r0t=function(t){return function(r,s){return t!==void 0?+t(r,s)||0:s!==s?-1:r!==r?1:r===0&&s===0?1/r>0&&1/s<0?1:-1:r>s}};e0t("sort",function(r){return r!==void 0&&Zft(r),OF?G0(this,r):Qft(Xft(this),r0t(r))},!OF||t0t);var $I=Tr,n0t=Mi,$F=fc,s0t=$I.aTypedArray,a0t=$I.getTypedArrayConstructor,i0t=$I.exportTypedArrayMethod;i0t("subarray",function(r,s){var a=s0t(this),i=a.length,o=$F(r,i),l=a0t(a);return new l(a.buffer,a.byteOffset+o*a.BYTES_PER_ELEMENT,n0t((s===void 0?i:$F(s,i))-o))});var o0t=Vt,l0t=uo,ZX=Tr,Lk=Pt,PF=co,i2=o0t.Int8Array,DF=ZX.aTypedArray,c0t=ZX.exportTypedArrayMethod,QX=[].toLocaleString,d0t=!!i2&&Lk(function(){QX.call(new i2(1))}),u0t=Lk(function(){return[1,2].toLocaleString()!==new i2([1,2]).toLocaleString()})||!Lk(function(){i2.prototype.toLocaleString.call([1,2])});c0t("toLocaleString",function(){return l0t(QX,d0t?PF(DF(this)):DF(this),PF(arguments))},u0t);var f0t=yZ,PI=Tr,h0t=PI.aTypedArray,g0t=PI.exportTypedArrayMethod,m0t=PI.getTypedArrayConstructor;g0t("toReversed",function(){return f0t(h0t(this),m0t(this))});var Aj=Tr,p0t=Ut,x0t=Rr,v0t=sj,y0t=Aj.aTypedArray,b0t=Aj.getTypedArrayConstructor,w0t=Aj.exportTypedArrayMethod,j0t=p0t(Aj.TypedArrayPrototype.sort);w0t("toSorted",function(r){r!==void 0&&x0t(r);var s=y0t(this),a=v0t(b0t(s),s);return j0t(a,r)});var N0t=Tr.exportTypedArrayMethod,S0t=Pt,C0t=Vt,k0t=Ut,RF=C0t.Uint8Array,E0t=RF&&RF.prototype||{},o2=[].toString,L0t=k0t([].join);S0t(function(){o2.call({})})&&(o2=function(){return L0t(this)});var M0t=E0t.toString!==o2;N0t("toString",o2,M0t);var I0t=bZ,DI=Tr,T0t=hX,A0t=Pn,_0t=kI,O0t=DI.aTypedArray,$0t=DI.getTypedArrayConstructor,P0t=DI.exportTypedArrayMethod,D0t=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return t===8}}();P0t("with",function(t,r){var s=O0t(this),a=A0t(t),i=T0t(s)?_0t(r):+r;return I0t(s,$0t(s),a,i)},!D0t);var R0t=Qe,RI=Ut,F0t=gr,FF=String.fromCharCode,BF=RI("".charAt),zF=RI(/./.exec),UF=RI("".slice),B0t=/^[\da-f]{2}$/i,z0t=/^[\da-f]{4}$/i;R0t({global:!0},{unescape:function(r){for(var s=F0t(r),a="",i=s.length,o=0,l,c;o<i;){if(l=BF(s,o++),l==="%"){if(BF(s,o)==="u"){if(c=UF(s,o+1,o+5),zF(z0t,c)){a+=FF(parseInt(c,16)),o+=5;continue}}else if(c=UF(s,o,o+2),zF(B0t,c)){a+=FF(parseInt(c,16)),o+=2;continue}}a+=l}return a}});var U0t=Ut,WF=rg,N1=vf.getWeakData,W0t=Wo,H0t=sr,V0t=ri,Z3=kr,G0t=js,KX=Fs,HF=Fr,XX=Jn,q0t=XX.set,Y0t=XX.getterFor,J0t=KX.find,Z0t=KX.findIndex,Q0t=U0t([].splice),K0t=0,S1=function(t){return t.frozen||(t.frozen=new eee)},eee=function(){this.entries=[]},Q3=function(t,r){return J0t(t.entries,function(s){return s[0]===r})};eee.prototype={get:function(t){var r=Q3(this,t);if(r)return r[1]},has:function(t){return!!Q3(this,t)},set:function(t,r){var s=Q3(this,t);s?s[1]=r:this.entries.push([t,r])},delete:function(t){var r=Z0t(this.entries,function(s){return s[0]===t});return~r&&Q0t(this.entries,r,1),!!~r}};var tee={getConstructor:function(t,r,s,a){var i=t(function(d,f){W0t(d,o),q0t(d,{type:r,id:K0t++,frozen:null}),V0t(f)||G0t(f,d[a],{that:d,AS_ENTRIES:s})}),o=i.prototype,l=Y0t(r),c=function(d,f,h){var g=l(d),m=N1(H0t(f),!0);return m===!0?S1(g).set(f,h):m[g.id]=h,d};return WF(o,{delete:function(d){var f=l(this);if(!Z3(d))return!1;var h=N1(d);return h===!0?S1(f).delete(d):h&&HF(h,f.id)&&delete h[f.id]},has:function(f){var h=l(this);if(!Z3(f))return!1;var g=N1(f);return g===!0?S1(h).has(f):g&&HF(g,h.id)}}),WF(o,s?{get:function(f){var h=l(this);if(Z3(f)){var g=N1(f);if(g===!0)return S1(h).get(f);if(g)return g[h.id]}},set:function(f,h){return c(this,f,h)}}:{add:function(f){return c(this,f,!0)}}),i}},X0t=ag,VF=Vt,py=Ut,GF=rg,eht=vf,tht=uj,ree=tee,C1=kr,k1=Jn.enforce,rht=Pt,nht=QY,Ux=Object,sht=Array.isArray,E1=Ux.isExtensible,nee=Ux.isFrozen,aht=Ux.isSealed,see=Ux.freeze,iht=Ux.seal,oht=!VF.ActiveXObject&&"ActiveXObject"in VF,tm,aee=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},iee=tht("WeakMap",aee,ree),n0=iee.prototype,xy=py(n0.set),lht=function(){return X0t&&rht(function(){var t=see([]);return xy(new iee,t,1),!nee(t)})};if(nht)if(oht){tm=ree.getConstructor(aee,"WeakMap",!0),eht.enable();var qF=py(n0.delete),L1=py(n0.has),YF=py(n0.get);GF(n0,{delete:function(t){if(C1(t)&&!E1(t)){var r=k1(this);return r.frozen||(r.frozen=new tm),qF(this,t)||r.frozen.delete(t)}return qF(this,t)},has:function(r){if(C1(r)&&!E1(r)){var s=k1(this);return s.frozen||(s.frozen=new tm),L1(this,r)||s.frozen.has(r)}return L1(this,r)},get:function(r){if(C1(r)&&!E1(r)){var s=k1(this);return s.frozen||(s.frozen=new tm),L1(this,r)?YF(this,r):s.frozen.get(r)}return YF(this,r)},set:function(r,s){if(C1(r)&&!E1(r)){var a=k1(this);a.frozen||(a.frozen=new tm),L1(this,r)?xy(this,r,s):a.frozen.set(r,s)}else xy(this,r,s);return this}})}else lht()&&GF(n0,{set:function(r,s){var a;return sht(r)&&(nee(r)?a=see:aht(r)&&(a=iht)),xy(this,r,s),a&&a(r),this}});var cht=uj,dht=tee;cht("WeakSet",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},dht);var oee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",JF=oee+"+/",ZF=oee+"-_",QF=function(t){for(var r={},s=0;s<64;s++)r[t.charAt(s)]=s;return r},lee={i2c:JF,c2i:QF(JF),i2cUrl:ZF,c2iUrl:QF(ZF)},uht=Qe,fht=Vt,cee=nn,FI=Ut,hht=lr,_j=Pt,ght=gr,mht=fo,KF=lee.c2i,dee=/[^\d+/a-z]/i,pht=/[\t\n\f\r ]+/g,xht=/[=]{1,2}$/,Wu=cee("atob"),vht=String.fromCharCode,yht=FI("".charAt),XF=FI("".replace),bht=FI(dee.exec),cg=!!Wu&&!_j(function(){return Wu("aGk=")!=="hi"}),uee=cg&&_j(function(){return Wu(" ")!==""}),fee=cg&&!_j(function(){Wu("a")}),wht=cg&&!_j(function(){Wu()}),jht=cg&&Wu.length!==1,Nht=!cg||uee||fee||wht||jht;uht({global:!0,bind:!0,enumerable:!0,forced:Nht},{atob:function(r){if(mht(arguments.length,1),cg&&!uee&&!fee)return hht(Wu,fht,r);var s=XF(ght(r),pht,""),a="",i=0,o=0,l,c,d;if(s.length%4===0&&(s=XF(s,xht,"")),l=s.length,l%4===1||bht(dee,s))throw new(cee("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;i<l;)c=yht(s,i++),d=o%4?d*64+KF[c]:KF[c],o++%4&&(a+=vht(255&d>>(-2*o&6)));return a}});var Sht=Qe,Cht=Vt,hee=nn,gee=Ut,kht=lr,BI=Pt,eB=gr,Eht=fo,Lht=lee.i2c,ph=hee("btoa"),tB=gee("".charAt),Mht=gee("".charCodeAt),zp=!!ph&&!BI(function(){return ph("hi")!=="aGk="}),Iht=zp&&!BI(function(){ph()}),Tht=zp&&BI(function(){return ph(null)!=="bnVsbA=="}),Aht=zp&&ph.length!==1;Sht({global:!0,bind:!0,enumerable:!0,forced:!zp||Iht||Tht||Aht},{btoa:function(r){if(Eht(arguments.length,1),zp)return kht(ph,Cht,eB(r));for(var s=eB(r),a="",i=0,o=Lht,l,c;tB(s,i)||(o="=",i%1);){if(c=Mht(s,i+=3/4),c>255)throw new(hee("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");l=l<<8|c,a+=tB(o,63&l>>8-i%1*8)}return a}});var mee={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},_ht=Uw,K3=_ht("span").classList,rB=K3&&K3.constructor&&K3.constructor.prototype,pee=rB===Object.prototype?void 0:rB,nB=Vt,sB=mee,Oht=pee,X3=tZ,$ht=ga,xee=function(t){if(t&&t.forEach!==X3)try{$ht(t,"forEach",X3)}catch(r){t.forEach=X3}};for(var eS in sB)sB[eS]&&xee(nB[eS]&&nB[eS].prototype);xee(Oht);var aB=Vt,vee=mee,Pht=pee,mm=uZ,iB=ga,Dht=ai,Rht=Er,tS=Rht("iterator"),rS=mm.values,yee=function(t,r){if(t){if(t[tS]!==rS)try{iB(t,tS,rS)}catch(a){t[tS]=rS}if(Dht(t,r,!0),vee[r]){for(var s in mm)if(t[s]!==mm[s])try{iB(t,s,mm[s])}catch(a){t[s]=mm[s]}}}};for(var nS in vee)yee(aB[nS]&&aB[nS].prototype,nS);yee(Pht,"DOMTokenList");var bee={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}},Fht=Qe,l2=nn,Bht=BZ,zI=Pt,zht=Ii,UI=lo,c2=wn.f,Uht=jn,vy=ls,yy=Fr,Wht=Wo,Hht=sr,wee=qJ,oB=Ix,q0=bee,Vht=lM,jee=Jn,WI=or,xh="DOMException",Mk="DATA_CLONE_ERR",Oj=l2("Error"),Jl=l2(xh)||function(){try{var t=l2("MessageChannel")||Bht("worker_threads").MessageChannel;new t().port1.postMessage(new WeakMap)}catch(r){if(r.name===Mk&&r.code===25)return r.constructor}}(),Ght=Jl&&Jl.prototype,Nee=Oj.prototype,qht=jee.set,Yht=jee.getterFor(xh),Jht="stack"in new Oj(xh),See=function(t){return yy(q0,t)&&q0[t].m?q0[t].c:0},HI=function(){Wht(this,Wm);var r=arguments.length,s=oB(r<1?void 0:arguments[0]),a=oB(r<2?void 0:arguments[1],"Error"),i=See(a);if(qht(this,{type:xh,name:a,message:s,code:i}),WI||(this.name=a,this.message=s,this.code=i),Jht){var o=new Oj(s);o.name=xh,c2(this,"stack",UI(1,Vht(o.stack,1)))}},Wm=HI.prototype=zht(Nee),Cee=function(t){return{enumerable:!0,configurable:!0,get:t}},sS=function(t){return Cee(function(){return Yht(this)[t]})};WI&&(vy(Wm,"code",sS("code")),vy(Wm,"message",sS("message")),vy(Wm,"name",sS("name")));c2(Wm,"constructor",UI(1,HI));var $j=zI(function(){return!(new Jl instanceof Oj)}),Zht=$j||zI(function(){return Nee.toString!==wee||String(new Jl(1,2))!=="2: 1"}),Qht=$j||zI(function(){return new Jl(1,"DataCloneError").code!==25});$j||Jl[Mk]!==25||Ght[Mk];var lB=$j;Fht({global:!0,constructor:!0,forced:lB},{DOMException:lB?HI:Jl});var Up=l2(xh),d2=Up.prototype;Zht&&Jl===Up&&Uht(d2,"toString",wee);Qht&&WI&&Jl===Up&&vy(d2,"code",Cee(function(){return See(Hht(this).name)}));for(var cB in q0)if(yy(q0,cB)){var dB=q0[cB],M1=dB.s,uB=UI(6,dB.c);yy(Up,M1)||c2(Up,M1,uB),yy(d2,M1)||c2(d2,M1,uB)}var Kht=Qe,Xht=Vt,VI=nn,Ik=lo,Tk=wn.f,fB=Fr,egt=Wo,tgt=mf,hB=Ix,aS=bee,rgt=lM,ngt=or,Wx="DOMException",kee=VI("Error"),Hx=VI(Wx),GI=function(){egt(this,sgt);var r=arguments.length,s=hB(r<1?void 0:arguments[0]),a=hB(r<2?void 0:arguments[1],"Error"),i=new Hx(s,a),o=new kee(s);return o.name=Wx,Tk(i,"stack",Ik(1,rgt(o.stack,1))),tgt(i,this,GI),i},sgt=GI.prototype=Hx.prototype,agt="stack"in new kee(Wx),igt="stack"in new Hx(1,2),iS=Hx&&ngt&&Object.getOwnPropertyDescriptor(Xht,Wx),ogt=!!iS&&!(iS.writable&&iS.configurable),gB=agt&&!ogt&&!igt;Kht({global:!0,constructor:!0,forced:gB},{DOMException:gB?GI:Hx});var pm=VI(Wx),mB=pm.prototype;if(mB.constructor!==pm){Tk(mB,"constructor",Ik(1,pm));for(var pB in aS)if(fB(aS,pB)){var xB=aS[pB],vB=xB.s;fB(pm,vB)||Tk(pm,vB,Ik(6,xB.c))}}var lgt=nn,cgt=ai,yB="DOMException";cgt(lgt(yB),yB);var dgt=Qe,ugt=Vt,bB=bj.clear;dgt({global:!0,bind:!0,enumerable:!0,forced:ugt.clearImmediate!==bB},{clearImmediate:bB});var Eee=Vt,fgt=uo,hgt=$r,ggt=nj,mgt=pl,pgt=co,xgt=fo,vgt=Eee.Function,ygt=/MSIE .\./.test(mgt)||ggt==="BUN"&&function(){var t=Eee.Bun.version.split(".");return t.length<3||t[0]==="0"&&(t[1]<3||t[1]==="3"&&t[2]==="0")}(),qI=function(t,r){var s=r?2:1;return ygt?function(a,i){var o=xgt(arguments.length,1)>s,l=hgt(a)?a:vgt(a),c=o?pgt(arguments,s):[],d=o?function(){fgt(l,this,c)}:l;return r?t(d,i):t(d)}:t},bgt=Qe,Lee=Vt,wB=bj.set,wgt=qI,jB=Lee.setImmediate?wgt(wB,!1):wB;bgt({global:!0,bind:!0,enumerable:!0,forced:Lee.setImmediate!==jB},{setImmediate:jB});var jgt=Qe,Ngt=Vt,Sgt=nK,Cgt=Rr,kgt=fo,Egt=Pt,Lgt=or,Mgt=Egt(function(){return Lgt&&Object.getOwnPropertyDescriptor(Ngt,"queueMicrotask").value.length!==1});jgt({global:!0,enumerable:!0,dontCallGetSet:!0,forced:Mgt},{queueMicrotask:function(r){kgt(arguments.length,1),Sgt(Cgt(r))}});var Igt=Qe,zc=Vt,Tgt=ls,Agt=or,_gt=TypeError,Ogt=Object.defineProperty,NB=zc.self!==zc;try{if(Agt){var oS=Object.getOwnPropertyDescriptor(zc,"self");(NB||!oS||!oS.get||!oS.enumerable)&&Tgt(zc,"self",{get:function(){return zc},set:function(r){if(this!==zc)throw new _gt("Illegal invocation");Ogt(zc,"self",{value:r,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else Igt({global:!0,simple:!0,forced:NB},{self:zc})}catch(t){}var $gt=Qe,Os=Vt,Hm=nn,Vx=Ut,YI=Pt,Pgt=Yh,vh=$r,Dgt=Zh,Rgt=ri,Pj=kr,Fgt=hf,Bgt=js,Mee=sr,u2=vl,zgt=Fr,Ugt=hc,lS=ga,by=sn,Wgt=fo,Hgt=Dx,Dj=jQ,JI=Ho,Vgt=lg,SB=zZ,Ggt=UJ,ZI=OM,xm=Os.Object,qgt=Os.Array,Iee=Os.Date,Tee=Os.Error,Ygt=Os.TypeError,Jgt=Os.PerformanceMark,Hu=Hm("DOMException"),Ak=Dj.Map,QI=Dj.has,Aee=Dj.get,f2=Dj.set,_ee=JI.Set,Oee=JI.add,Zgt=JI.has,Qgt=Hm("Object","keys"),Kgt=Vx([].push),Xgt=Vx((!0).valueOf),emt=Vx(1 .valueOf),tmt=Vx("".valueOf),rmt=Vx(Iee.prototype.getTime),_k=Pgt("structuredClone"),Wp="DataCloneError",wy="Transferring",$ee=function(t){return!YI(function(){var r=new Os.Set([7]),s=t(r),a=t(xm(7));return s===r||!s.has(7)||!Pj(a)||+a!=7})&&t},CB=function(t,r){return!YI(function(){var s=new r,a=t({a:s,b:s});return!(a&&a.a===a.b&&a.a instanceof r&&a.a.stack===s.stack)})},nmt=function(t){return!YI(function(){var r=t(new Os.AggregateError([1],_k,{cause:3}));return r.name!=="AggregateError"||r.errors[0]!==1||r.message!==_k||r.cause!==3})},Y0=Os.structuredClone,smt=!CB(Y0,Tee)||!CB(Y0,Hu)||!nmt(Y0),amt=!Y0&&$ee(function(t){return new Jgt(_k,{detail:t}).detail}),_l=$ee(Y0)||amt,cS=function(t){throw new Hu("Uncloneable type: "+t,Wp)},Ba=function(t,r){throw new Hu((r||"Cloning")+" of "+t+" cannot be properly polyfilled in this engine",Wp)},dS=function(t,r){return _l||Ba(r),_l(t)},imt=function(){var t;try{t=new Os.DataTransfer}catch(r){try{t=new Os.ClipboardEvent("").clipboardData}catch(s){}}return t&&t.items&&t.files?t:null},Pee=function(t,r,s){if(QI(r,t))return Aee(r,t);var a=s||u2(t),i,o,l,c,d,f;if(a==="SharedArrayBuffer")_l?i=_l(t):i=t;else{var h=Os.DataView;!h&&!vh(t.slice)&&Ba("ArrayBuffer");try{if(vh(t.slice)&&!t.resizable)i=t.slice(0);else for(o=t.byteLength,l=("maxByteLength"in t)?{maxByteLength:t.maxByteLength}:void 0,i=new ArrayBuffer(o,l),c=new h(t),d=new h(i),f=0;f<o;f++)d.setUint8(f,c.getUint8(f))}catch(g){throw new Hu("ArrayBuffer is detached",Wp)}}return f2(r,t,i),i},omt=function(t,r,s,a,i){var o=Os[r];return Pj(o)||Ba(r),new o(Pee(t.buffer,i),s,a)},Cs=function(t,r){if(Fgt(t)&&cS("Symbol"),!Pj(t))return t;if(r){if(QI(r,t))return Aee(r,t)}else r=new Ak;var s=u2(t),a,i,o,l,c,d,f,h;switch(s){case"Array":o=qgt(by(t));break;case"Object":o={};break;case"Map":o=new Ak;break;case"Set":o=new _ee;break;case"RegExp":o=new RegExp(t.source,Hgt(t));break;case"Error":switch(i=t.name,i){case"AggregateError":o=new(Hm(i))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":o=new(Hm(i));break;case"CompileError":case"LinkError":case"RuntimeError":o=new(Hm("WebAssembly",i));break;default:o=new Tee}break;case"DOMException":o=new Hu(t.message,t.name);break;case"ArrayBuffer":case"SharedArrayBuffer":o=Pee(t,r,s);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":d=s==="DataView"?t.byteLength:t.length,o=omt(t,s,t.byteOffset,d,r);break;case"DOMQuad":try{o=new DOMQuad(Cs(t.p1,r),Cs(t.p2,r),Cs(t.p3,r),Cs(t.p4,r))}catch(g){o=dS(t,s)}break;case"File":if(_l)try{o=_l(t),u2(o)!==s&&(o=void 0)}catch(g){}if(!o)try{o=new File([t],t.name,t)}catch(g){}o||Ba(s);break;case"FileList":if(l=imt(),l){for(c=0,d=by(t);c<d;c++)l.items.add(Cs(t[c],r));o=l.files}else o=dS(t,s);break;case"ImageData":try{o=new ImageData(Cs(t.data,r),t.width,t.height,{colorSpace:t.colorSpace})}catch(g){o=dS(t,s)}break;default:if(_l)o=_l(t);else switch(s){case"BigInt":o=xm(t.valueOf());break;case"Boolean":o=xm(Xgt(t));break;case"Number":o=xm(emt(t));break;case"String":o=xm(tmt(t));break;case"Date":o=new Iee(rmt(t));break;case"Blob":try{o=t.slice(0,t.size,t.type)}catch(g){Ba(s)}break;case"DOMPoint":case"DOMPointReadOnly":a=Os[s];try{o=a.fromPoint?a.fromPoint(t):new a(t.x,t.y,t.z,t.w)}catch(g){Ba(s)}break;case"DOMRect":case"DOMRectReadOnly":a=Os[s];try{o=a.fromRect?a.fromRect(t):new a(t.x,t.y,t.width,t.height)}catch(g){Ba(s)}break;case"DOMMatrix":case"DOMMatrixReadOnly":a=Os[s];try{o=a.fromMatrix?a.fromMatrix(t):new a(t)}catch(g){Ba(s)}break;case"AudioData":case"VideoFrame":vh(t.clone)||Ba(s);try{o=t.clone()}catch(g){cS(s)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":Ba(s);default:cS(s)}}switch(f2(r,t,o),s){case"Array":case"Object":for(f=Qgt(t),c=0,d=by(f);c<d;c++)h=f[c],Ugt(o,h,Cs(t[h],r));break;case"Map":t.forEach(function(g,m){f2(o,Cs(m,r),Cs(g,r))});break;case"Set":t.forEach(function(g){Oee(o,Cs(g,r))});break;case"Error":lS(o,"message",Cs(t.message,r)),zgt(t,"cause")&&lS(o,"cause",Cs(t.cause,r)),i==="AggregateError"?o.errors=Cs(t.errors,r):i==="SuppressedError"&&(o.error=Cs(t.error,r),o.suppressed=Cs(t.suppressed,r));case"DOMException":Ggt&&lS(o,"stack",Cs(t.stack,r))}return o},lmt=function(t,r){if(!Pj(t))throw new Ygt("Transfer option cannot be converted to a sequence");var s=[];Bgt(t,function(m){Kgt(s,Mee(m))});for(var a=0,i=by(s),o=new _ee,l,c,d,f,h,g;a<i;){if(l=s[a++],c=u2(l),c==="ArrayBuffer"?Zgt(o,l):QI(r,l))throw new Hu("Duplicate transferable",Wp);if(c==="ArrayBuffer"){Oee(o,l);continue}if(ZI)f=Y0(l,{transfer:[l]});else switch(c){case"ImageBitmap":d=Os.OffscreenCanvas,Dgt(d)||Ba(c,wy);try{h=new d(l.width,l.height),g=h.getContext("bitmaprenderer"),g.transferFromImageBitmap(l),f=h.transferToImageBitmap()}catch(m){}break;case"AudioData":case"VideoFrame":(!vh(l.clone)||!vh(l.close))&&Ba(c,wy);try{f=l.clone(),l.close()}catch(m){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":Ba(c,wy)}if(f===void 0)throw new Hu("This object cannot be transferred: "+c,Wp);f2(r,l,f)}return o},cmt=function(t){Vgt(t,function(r){ZI?_l(r,{transfer:[r]}):vh(r.transfer)?r.transfer():SB?SB(r):Ba("ArrayBuffer",wy)})};$gt({global:!0,enumerable:!0,sham:!ZI,forced:smt},{structuredClone:function(r){var s=Wgt(arguments.length,1)>1&&!Rgt(arguments[1])?Mee(arguments[1]):void 0,a=s?s.transfer:void 0,i,o;a!==void 0&&(i=new Ak,o=lmt(a,i));var l=Cs(r,i);return o&&cmt(o),l}});var dmt=Qe,Dee=Vt,umt=qI,kB=umt(Dee.setInterval,!0);dmt({global:!0,bind:!0,forced:Dee.setInterval!==kB},{setInterval:kB});var fmt=Qe,Ree=Vt,hmt=qI,EB=hmt(Ree.setTimeout,!0);fmt({global:!0,bind:!0,forced:Ree.setTimeout!==EB},{setTimeout:EB});var gmt=Pt,mmt=Er,pmt=or,LB=uc,xmt=mmt("iterator"),Rj=!gmt(function(){var t=new URL("b?a=1&b=2&c=3","https://a"),r=t.searchParams,s=new URLSearchParams("a=1&a=2&b=3"),a="";return t.pathname="c%20d",r.forEach(function(i,o){r.delete("b"),a+=o+i}),s.delete("a",2),s.delete("b",void 0),LB&&(!t.toJSON||!s.has("a",1)||s.has("a",2)||!s.has("a",void 0)||s.has("b"))||!r.size&&(LB||!pmt)||!r.sort||t.href!=="https://a/c%20d?a=1&c=3"||r.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!r[xmt]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://тест").host!=="xn--e1aybc"||new URL("https://a#б").hash!=="#%D0%B1"||a!=="a1c3"||new URL("https://x",void 0).host!=="x"}),Nf=Ut,uS=2147483647,Vm=36,Fee=1,Ok=26,vmt=38,ymt=700,bmt=72,wmt=128,jmt="-",Nmt=/[^\0-\u007E]/,Bee=/[.\u3002\uFF0E\uFF61]/g,MB="Overflow: input needs wider integers to process",fS=Vm-Fee,IB=RangeError,Smt=Nf(Bee.exec),C0=Math.floor,hS=String.fromCharCode,TB=Nf("".charCodeAt),zee=Nf([].join),Xc=Nf([].push),Cmt=Nf("".replace),kmt=Nf("".split),Emt=Nf("".toLowerCase),Lmt=function(t){for(var r=[],s=0,a=t.length;s<a;){var i=TB(t,s++);if(i>=55296&&i<=56319&&s<a){var o=TB(t,s++);(o&64512)===56320?Xc(r,((i&1023)<<10)+(o&1023)+65536):(Xc(r,i),s--)}else Xc(r,i)}return r},AB=function(t){return t+22+75*(t<26)},Mmt=function(t,r,s){var a=0;for(t=s?C0(t/ymt):t>>1,t+=C0(t/r);t>fS*Ok>>1;)t=C0(t/fS),a+=Vm;return C0(a+(fS+1)*t/(t+vmt))},Imt=function(t){var r=[];t=Lmt(t);var s=t.length,a=wmt,i=0,o=bmt,l,c;for(l=0;l<t.length;l++)c=t[l],c<128&&Xc(r,hS(c));var d=r.length,f=d;for(d&&Xc(r,jmt);f<s;){var h=uS;for(l=0;l<t.length;l++)c=t[l],c>=a&&c<h&&(h=c);var g=f+1;if(h-a>C0((uS-i)/g))throw new IB(MB);for(i+=(h-a)*g,a=h,l=0;l<t.length;l++){if(c=t[l],c<a&&++i>uS)throw new IB(MB);if(c===a){for(var m=i,p=Vm;;){var x=p<=o?Fee:p>=o+Ok?Ok:p-o;if(m<x)break;var y=m-x,w=Vm-x;Xc(r,hS(AB(x+y%w))),m=C0(y/w),p+=Vm}Xc(r,hS(AB(m))),o=Mmt(i,g,f===d),i=0,f++}}i++,a++}return zee(r,"")},Tmt=function(t){var r=[],s=kmt(Cmt(Emt(t),Bee,"."),"."),a,i;for(a=0;a<s.length;a++)i=s[a],Xc(r,Smt(Nmt,i)?"xn--"+Imt(i):i);return zee(r,".")},$k=Qe,Uee=Vt,KI=eK,Amt=nn,I1=lr,Bo=Ut,Gm=or,Wee=Rj,Hee=jn,_mt=ls,Omt=rg,$mt=ai,Pmt=mM,XI=Jn,Vee=Wo,gS=$r,Dmt=Fr,Rmt=Uo,Fmt=vl,Bmt=sr,Gee=kr,ja=gr,zmt=Ii,_B=lo,OB=Kw,Umt=Qh,T1=Xh,Gf=fo,Wmt=Er,Hmt=yM,Vmt=Wmt("iterator"),dg="URLSearchParams",qee=dg+"Iterator",Yee=XI.set,Hi=XI.getterFor(dg),Gmt=XI.getterFor(qee),$B=KI("fetch"),h2=KI("Request"),qm=KI("Headers"),mS=h2&&h2.prototype,PB=qm&&qm.prototype,qmt=Uee.TypeError,Ymt=Uee.encodeURIComponent,Jmt=String.fromCharCode,Zmt=Amt("String","fromCodePoint"),Qmt=parseInt,jy=Bo("".charAt),DB=Bo([].join),ed=Bo([].push),Jee=Bo("".replace),Kmt=Bo([].shift),RB=Bo([].splice),FB=Bo("".split),Zee=Bo("".slice),Xmt=Bo(/./.exec),ept=/\+/g,pS="�",tpt=/^[0-9a-f]+$/i,BB=function(t,r){var s=Zee(t,r,r+2);return Xmt(tpt,s)?Qmt(s,16):NaN},rpt=function(t){for(var r=0,s=128;s>0&&t&s;s>>=1)r++;return r},npt=function(t){var r=null;switch(t.length){case 1:r=t[0];break;case 2:r=(t[0]&31)<<6|t[1]&63;break;case 3:r=(t[0]&15)<<12|(t[1]&63)<<6|t[2]&63;break;case 4:r=(t[0]&7)<<18|(t[1]&63)<<12|(t[2]&63)<<6|t[3]&63;break}return r>1114111?null:r},zB=function(t){t=Jee(t,ept," ");for(var r=t.length,s="",a=0;a<r;){var i=jy(t,a);if(i==="%"){if(jy(t,a+1)==="%"||a+3>r){s+="%",a++;continue}var o=BB(t,a+1);if(o!==o){s+=i,a++;continue}a+=2;var l=rpt(o);if(l===0)i=Jmt(o);else{if(l===1||l>4){s+=pS,a++;continue}for(var c=[o],d=1;d<l&&(a++,!(a+3>r||jy(t,a)!=="%"));){var f=BB(t,a+1);if(f!==f){a+=3;break}if(f>191||f<128)break;ed(c,f),a+=2,d++}if(c.length!==l){s+=pS;continue}var h=npt(c);h===null?s+=pS:i=Zmt(h)}}s+=i,a++}return s},spt=/[!'()~]|%20/g,apt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ipt=function(t){return apt[t]},UB=function(t){return Jee(Ymt(t),spt,ipt)},xS=Pmt(function(r,s){Yee(this,{type:qee,target:Hi(r).entries,index:0,kind:s})},dg,function(){var r=Gmt(this),s=r.target,a=r.index++;if(!s||a>=s.length)return r.target=null,T1(void 0,!0);var i=s[a];switch(r.kind){case"keys":return T1(i.key,!1);case"values":return T1(i.value,!1)}return T1([i.key,i.value],!1)},!0),Qee=function(t){this.entries=[],this.url=null,t!==void 0&&(Gee(t)?this.parseObject(t):this.parseQuery(typeof t=="string"?jy(t,0)==="?"?Zee(t,1):t:ja(t)))};Qee.prototype={type:dg,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var r=this.entries,s=Umt(t),a,i,o,l,c,d,f;if(s)for(a=OB(t,s),i=a.next;!(o=I1(i,a)).done;){if(l=OB(Bmt(o.value)),c=l.next,(d=I1(c,l)).done||(f=I1(c,l)).done||!I1(c,l).done)throw new qmt("Expected sequence with length 2");ed(r,{key:ja(d.value),value:ja(f.value)})}else for(var h in t)Dmt(t,h)&&ed(r,{key:h,value:ja(t[h])})},parseQuery:function(t){if(t)for(var r=this.entries,s=FB(t,"&"),a=0,i,o;a<s.length;)i=s[a++],i.length&&(o=FB(i,"="),ed(r,{key:zB(Kmt(o)),value:zB(DB(o,"="))}))},serialize:function(){for(var t=this.entries,r=[],s=0,a;s<t.length;)a=t[s++],ed(r,UB(a.key)+"="+UB(a.value));return DB(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Fj=function(){Vee(this,yh);var r=arguments.length>0?arguments[0]:void 0,s=Yee(this,new Qee(r));Gm||(this.size=s.entries.length)},yh=Fj.prototype;Omt(yh,{append:function(r,s){var a=Hi(this);Gf(arguments.length,2),ed(a.entries,{key:ja(r),value:ja(s)}),Gm||this.length++,a.updateURL()},delete:function(t){for(var r=Hi(this),s=Gf(arguments.length,1),a=r.entries,i=ja(t),o=s<2?void 0:arguments[1],l=o===void 0?o:ja(o),c=0;c<a.length;){var d=a[c];if(d.key===i&&(l===void 0||d.value===l)){if(RB(a,c,1),l!==void 0)break}else c++}Gm||(this.size=a.length),r.updateURL()},get:function(r){var s=Hi(this).entries;Gf(arguments.length,1);for(var a=ja(r),i=0;i<s.length;i++)if(s[i].key===a)return s[i].value;return null},getAll:function(r){var s=Hi(this).entries;Gf(arguments.length,1);for(var a=ja(r),i=[],o=0;o<s.length;o++)s[o].key===a&&ed(i,s[o].value);return i},has:function(r){for(var s=Hi(this).entries,a=Gf(arguments.length,1),i=ja(r),o=a<2?void 0:arguments[1],l=o===void 0?o:ja(o),c=0;c<s.length;){var d=s[c++];if(d.key===i&&(l===void 0||d.value===l))return!0}return!1},set:function(r,s){var a=Hi(this);Gf(arguments.length,1);for(var i=a.entries,o=!1,l=ja(r),c=ja(s),d=0,f;d<i.length;d++)f=i[d],f.key===l&&(o?RB(i,d--,1):(o=!0,f.value=c));o||ed(i,{key:l,value:c}),Gm||(this.size=i.length),a.updateURL()},sort:function(){var r=Hi(this);Hmt(r.entries,function(s,a){return s.key>a.key?1:-1}),r.updateURL()},forEach:function(r){for(var s=Hi(this).entries,a=Rmt(r,arguments.length>1?arguments[1]:void 0),i=0,o;i<s.length;)o=s[i++],a(o.value,o.key,this)},keys:function(){return new xS(this,"keys")},values:function(){return new xS(this,"values")},entries:function(){return new xS(this,"entries")}},{enumerable:!0});Hee(yh,Vmt,yh.entries,{name:"entries"});Hee(yh,"toString",function(){return Hi(this).serialize()},{enumerable:!0});Gm&&_mt(yh,"size",{get:function(){return Hi(this).entries.length},configurable:!0,enumerable:!0});$mt(Fj,dg);$k({global:!0,constructor:!0,forced:!Wee},{URLSearchParams:Fj});if(!Wee&&gS(qm)){var opt=Bo(PB.has),lpt=Bo(PB.set),WB=function(t){if(Gee(t)){var r=t.body,s;if(Fmt(r)===dg)return s=t.headers?new qm(t.headers):new qm,opt(s,"content-type")||lpt(s,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),zmt(t,{body:_B(0,ja(r)),headers:_B(0,s)})}return t};if(gS($B)&&$k({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(r){return $B(r,arguments.length>1?WB(arguments[1]):{})}}),gS(h2)){var vS=function(r){return Vee(this,mS),new h2(r,arguments.length>1?WB(arguments[1]):{})};mS.constructor=vS,vS.prototype=mS,$k({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:vS})}}var cpt={URLSearchParams:Fj,getState:Hi},dpt=Qe,eT=or,upt=Rj,tT=Vt,HB=Uo,ho=Ut,g2=jn,Ri=ls,fpt=Wo,Pk=Fr,rT=BQ,qf=rZ,vo=co,hpt=kj.codeAt,gpt=Tmt,kl=gr,mpt=ai,ppt=fo,Kee=cpt,Xee=Jn,xpt=Xee.set,m2=Xee.getterFor("URL"),vpt=Kee.URLSearchParams,ypt=Kee.getState,rm=tT.URL,Dk=tT.TypeError,p2=tT.parseInt,bpt=Math.floor,VB=Math.pow,Yi=ho("".charAt),Io=ho(/./.exec),vm=ho([].join),wpt=ho(1 .toString),jpt=ho([].pop),s0=ho([].push),yS=ho("".replace),Npt=ho([].shift),Spt=ho("".split),Ym=ho("".slice),x2=ho("".toLowerCase),Cpt=ho([].unshift),kpt="Invalid authority",bS="Invalid scheme",nu="Invalid host",GB="Invalid port",ete=/[a-z]/i,Ept=/[\d+-.a-z]/i,Rk=/\d/,Lpt=/^0x/i,Mpt=/^[0-7]+$/,Ipt=/^\d+$/,tte=/^[\da-f]+$/i,Tpt=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Apt=/[\0\t\n\r #/:<>?@[\\\]^|]/,_pt=/^[\u0000-\u0020]+/,Opt=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,$pt=/[\t\n\r]/g,Fi,Ppt=function(t){var r=Spt(t,"."),s,a,i,o,l,c,d;if(r.length&&r[r.length-1]===""&&r.length--,s=r.length,s>4)return t;for(a=[],i=0;i<s;i++){if(o=r[i],o==="")return t;if(l=10,o.length>1&&Yi(o,0)==="0"&&(l=Io(Lpt,o)?16:8,o=Ym(o,l===8?1:2)),o==="")c=0;else{if(!Io(l===10?Ipt:l===8?Mpt:tte,o))return t;c=p2(o,l)}s0(a,c)}for(i=0;i<s;i++)if(c=a[i],i===s-1){if(c>=VB(256,5-s))return null}else if(c>255)return null;for(d=jpt(a),i=0;i<a.length;i++)d+=a[i]*VB(256,3-i);return d},Dpt=function(t){var r=[0,0,0,0,0,0,0,0],s=0,a=null,i=0,o,l,c,d,f,h,g,m=function(){return Yi(t,i)};if(m()===":"){if(Yi(t,1)!==":")return;i+=2,s++,a=s}for(;m();){if(s===8)return;if(m()===":"){if(a!==null)return;i++,s++,a=s;continue}for(o=l=0;l<4&&Io(tte,m());)o=o*16+p2(m(),16),i++,l++;if(m()==="."){if(l===0||(i-=l,s>6))return;for(c=0;m();){if(d=null,c>0)if(m()==="."&&c<4)i++;else return;if(!Io(Rk,m()))return;for(;Io(Rk,m());){if(f=p2(m(),10),d===null)d=f;else{if(d===0)return;d=d*10+f}if(d>255)return;i++}r[s]=r[s]*256+d,c++,(c===2||c===4)&&s++}if(c!==4)return;break}else if(m()===":"){if(i++,!m())return}else if(m())return;r[s++]=o}if(a!==null)for(h=s-a,s=7;s!==0&&h>0;)g=r[s],r[s--]=r[a+h-1],r[a+--h]=g;else if(s!==8)return;return r},Rpt=function(t){for(var r=null,s=1,a=null,i=0,o=0;o<8;o++)t[o]!==0?(i>s&&(r=a,s=i),a=null,i=0):(a===null&&(a=o),++i);return i>s?a:r},nm=function(t){var r,s,a,i;if(typeof t=="number"){for(r=[],s=0;s<4;s++)Cpt(r,t%256),t=bpt(t/256);return vm(r,".")}if(typeof t=="object"){for(r="",a=Rpt(t),s=0;s<8;s++)i&&t[s]===0||(i&&(i=!1),a===s?(r+=s?":":"::",i=!0):(r+=wpt(t[s],16),s<7&&(r+=":")));return"["+r+"]"}return t},Ny={},rte=rT({},Ny,{" ":1,'"':1,"<":1,">":1,"`":1}),nte=rT({},rte,{"#":1,"?":1,"{":1,"}":1}),wS=rT({},nte,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),_c=function(t,r){var s=hpt(t,0);return s>32&&s<127&&!Pk(r,t)?t:encodeURIComponent(t)},A1={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ym=function(t,r){var s;return t.length===2&&Io(ete,Yi(t,0))&&((s=Yi(t,1))===":"||!r&&s==="|")},qB=function(t){var r;return t.length>1&&ym(Ym(t,0,2))&&(t.length===2||(r=Yi(t,2))==="/"||r==="\\"||r==="?"||r==="#")},Fpt=function(t){return t==="."||x2(t)==="%2e"},Bpt=function(t){return t=x2(t),t===".."||t==="%2e."||t===".%2e"||t==="%2e%2e"},jS={},YB={},NS={},JB={},ZB={},SS={},QB={},KB={},_1={},O1={},CS={},kS={},ES={},LS={},XB={},MS={},Yf={},Qo={},ez={},su={},Cl={},nT=function(t,r,s){var a=kl(t),i,o,l;if(r){if(o=this.parse(a),o)throw new Dk(o);this.searchParams=null}else{if(s!==void 0&&(i=new nT(s,!0)),o=this.parse(a,null,i),o)throw new Dk(o);l=ypt(new vpt),l.bindURL(this),this.searchParams=l}};nT.prototype={type:"URL",parse:function(t,r,s){var a=this,i=r||jS,o=0,l="",c=!1,d=!1,f=!1,h,g,m,p;for(t=kl(t),r||(a.scheme="",a.username="",a.password="",a.host=null,a.port=null,a.path=[],a.query=null,a.fragment=null,a.cannotBeABaseURL=!1,t=yS(t,_pt,""),t=yS(t,Opt,"$1")),t=yS(t,$pt,""),h=qf(t);o<=h.length;){switch(g=h[o],i){case jS:if(g&&Io(ete,g))l+=x2(g),i=YB;else{if(r)return bS;i=NS;continue}break;case YB:if(g&&(Io(Ept,g)||g==="+"||g==="-"||g==="."))l+=x2(g);else if(g===":"){if(r&&(a.isSpecial()!==Pk(A1,l)||l==="file"&&(a.includesCredentials()||a.port!==null)||a.scheme==="file"&&!a.host))return;if(a.scheme=l,r){a.isSpecial()&&A1[a.scheme]===a.port&&(a.port=null);return}l="",a.scheme==="file"?i=LS:a.isSpecial()&&s&&s.scheme===a.scheme?i=JB:a.isSpecial()?i=KB:h[o+1]==="/"?(i=ZB,o++):(a.cannotBeABaseURL=!0,s0(a.path,""),i=ez)}else{if(r)return bS;l="",i=NS,o=0;continue}break;case NS:if(!s||s.cannotBeABaseURL&&g!=="#")return bS;if(s.cannotBeABaseURL&&g==="#"){a.scheme=s.scheme,a.path=vo(s.path),a.query=s.query,a.fragment="",a.cannotBeABaseURL=!0,i=Cl;break}i=s.scheme==="file"?LS:SS;continue;case JB:if(g==="/"&&h[o+1]==="/")i=_1,o++;else{i=SS;continue}break;case ZB:if(g==="/"){i=O1;break}else{i=Qo;continue}case SS:if(a.scheme=s.scheme,g===Fi)a.username=s.username,a.password=s.password,a.host=s.host,a.port=s.port,a.path=vo(s.path),a.query=s.query;else if(g==="/"||g==="\\"&&a.isSpecial())i=QB;else if(g==="?")a.username=s.username,a.password=s.password,a.host=s.host,a.port=s.port,a.path=vo(s.path),a.query="",i=su;else if(g==="#")a.username=s.username,a.password=s.password,a.host=s.host,a.port=s.port,a.path=vo(s.path),a.query=s.query,a.fragment="",i=Cl;else{a.username=s.username,a.password=s.password,a.host=s.host,a.port=s.port,a.path=vo(s.path),a.path.length--,i=Qo;continue}break;case QB:if(a.isSpecial()&&(g==="/"||g==="\\"))i=_1;else if(g==="/")i=O1;else{a.username=s.username,a.password=s.password,a.host=s.host,a.port=s.port,i=Qo;continue}break;case KB:if(i=_1,g!=="/"||Yi(l,o+1)!=="/")continue;o++;break;case _1:if(g!=="/"&&g!=="\\"){i=O1;continue}break;case O1:if(g==="@"){c&&(l="%40"+l),c=!0,m=qf(l);for(var x=0;x<m.length;x++){var y=m[x];if(y===":"&&!f){f=!0;continue}var w=_c(y,wS);f?a.password+=w:a.username+=w}l=""}else if(g===Fi||g==="/"||g==="?"||g==="#"||g==="\\"&&a.isSpecial()){if(c&&l==="")return kpt;o-=qf(l).length+1,l="",i=CS}else l+=g;break;case CS:case kS:if(r&&a.scheme==="file"){i=MS;continue}else if(g===":"&&!d){if(l==="")return nu;if(p=a.parseHost(l),p)return p;if(l="",i=ES,r===kS)return}else if(g===Fi||g==="/"||g==="?"||g==="#"||g==="\\"&&a.isSpecial()){if(a.isSpecial()&&l==="")return nu;if(r&&l===""&&(a.includesCredentials()||a.port!==null))return;if(p=a.parseHost(l),p)return p;if(l="",i=Yf,r)return;continue}else g==="["?d=!0:g==="]"&&(d=!1),l+=g;break;case ES:if(Io(Rk,g))l+=g;else if(g===Fi||g==="/"||g==="?"||g==="#"||g==="\\"&&a.isSpecial()||r){if(l!==""){var b=p2(l,10);if(b>65535)return GB;a.port=a.isSpecial()&&b===A1[a.scheme]?null:b,l=""}if(r)return;i=Yf;continue}else return GB;break;case LS:if(a.scheme="file",g==="/"||g==="\\")i=XB;else if(s&&s.scheme==="file")switch(g){case Fi:a.host=s.host,a.path=vo(s.path),a.query=s.query;break;case"?":a.host=s.host,a.path=vo(s.path),a.query="",i=su;break;case"#":a.host=s.host,a.path=vo(s.path),a.query=s.query,a.fragment="",i=Cl;break;default:qB(vm(vo(h,o),""))||(a.host=s.host,a.path=vo(s.path),a.shortenPath()),i=Qo;continue}else{i=Qo;continue}break;case XB:if(g==="/"||g==="\\"){i=MS;break}s&&s.scheme==="file"&&!qB(vm(vo(h,o),""))&&(ym(s.path[0],!0)?s0(a.path,s.path[0]):a.host=s.host),i=Qo;continue;case MS:if(g===Fi||g==="/"||g==="\\"||g==="?"||g==="#"){if(!r&&ym(l))i=Qo;else if(l===""){if(a.host="",r)return;i=Yf}else{if(p=a.parseHost(l),p)return p;if(a.host==="localhost"&&(a.host=""),r)return;l="",i=Yf}continue}else l+=g;break;case Yf:if(a.isSpecial()){if(i=Qo,g!=="/"&&g!=="\\")continue}else if(!r&&g==="?")a.query="",i=su;else if(!r&&g==="#")a.fragment="",i=Cl;else if(g!==Fi&&(i=Qo,g!=="/"))continue;break;case Qo:if(g===Fi||g==="/"||g==="\\"&&a.isSpecial()||!r&&(g==="?"||g==="#")){if(Bpt(l)?(a.shortenPath(),g!=="/"&&!(g==="\\"&&a.isSpecial())&&s0(a.path,"")):Fpt(l)?g!=="/"&&!(g==="\\"&&a.isSpecial())&&s0(a.path,""):(a.scheme==="file"&&!a.path.length&&ym(l)&&(a.host&&(a.host=""),l=Yi(l,0)+":"),s0(a.path,l)),l="",a.scheme==="file"&&(g===Fi||g==="?"||g==="#"))for(;a.path.length>1&&a.path[0]==="";)Npt(a.path);g==="?"?(a.query="",i=su):g==="#"&&(a.fragment="",i=Cl)}else l+=_c(g,nte);break;case ez:g==="?"?(a.query="",i=su):g==="#"?(a.fragment="",i=Cl):g!==Fi&&(a.path[0]+=_c(g,Ny));break;case su:!r&&g==="#"?(a.fragment="",i=Cl):g!==Fi&&(g==="'"&&a.isSpecial()?a.query+="%27":g==="#"?a.query+="%23":a.query+=_c(g,Ny));break;case Cl:g!==Fi&&(a.fragment+=_c(g,rte));break}o++}},parseHost:function(t){var r,s,a;if(Yi(t,0)==="["){if(Yi(t,t.length-1)!=="]"||(r=Dpt(Ym(t,1,-1)),!r))return nu;this.host=r}else if(this.isSpecial()){if(t=gpt(t),Io(Tpt,t)||(r=Ppt(t),r===null))return nu;this.host=r}else{if(Io(Apt,t))return nu;for(r="",s=qf(t),a=0;a<s.length;a++)r+=_c(s[a],Ny);this.host=r}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return Pk(A1,this.scheme)},shortenPath:function(){var t=this.path,r=t.length;r&&(this.scheme!=="file"||r!==1||!ym(t[0],!0))&&t.length--},serialize:function(){var t=this,r=t.scheme,s=t.username,a=t.password,i=t.host,o=t.port,l=t.path,c=t.query,d=t.fragment,f=r+":";return i!==null?(f+="//",t.includesCredentials()&&(f+=s+(a?":"+a:"")+"@"),f+=nm(i),o!==null&&(f+=":"+o)):r==="file"&&(f+="//"),f+=t.cannotBeABaseURL?l[0]:l.length?"/"+vm(l,"/"):"",c!==null&&(f+="?"+c),d!==null&&(f+="#"+d),f},setHref:function(t){var r=this.parse(t);if(r)throw new Dk(r);this.searchParams.update()},getOrigin:function(){var t=this.scheme,r=this.port;if(t==="blob")try{return new bh(t.path[0]).origin}catch(s){return"null"}return t==="file"||!this.isSpecial()?"null":t+"://"+nm(this.host)+(r!==null?":"+r:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(kl(t)+":",jS)},getUsername:function(){return this.username},setUsername:function(t){var r=qf(kl(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var s=0;s<r.length;s++)this.username+=_c(r[s],wS)}},getPassword:function(){return this.password},setPassword:function(t){var r=qf(kl(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var s=0;s<r.length;s++)this.password+=_c(r[s],wS)}},getHost:function(){var t=this.host,r=this.port;return t===null?"":r===null?nm(t):nm(t)+":"+r},setHost:function(t){this.cannotBeABaseURL||this.parse(t,CS)},getHostname:function(){var t=this.host;return t===null?"":nm(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,kS)},getPort:function(){var t=this.port;return t===null?"":kl(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(t=kl(t),t===""?this.port=null:this.parse(t,ES))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+vm(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Yf))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){t=kl(t),t===""?this.query=null:(Yi(t,0)==="?"&&(t=Ym(t,1)),this.query="",this.parse(t,su)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){if(t=kl(t),t===""){this.fragment=null;return}Yi(t,0)==="#"&&(t=Ym(t,1)),this.fragment="",this.parse(t,Cl)},update:function(){this.query=this.searchParams.serialize()||null}};var bh=function(r){var s=fpt(this,ba),a=ppt(arguments.length,1)>1?arguments[1]:void 0,i=xpt(s,new nT(r,!1,a));eT||(s.href=i.serialize(),s.origin=i.getOrigin(),s.protocol=i.getProtocol(),s.username=i.getUsername(),s.password=i.getPassword(),s.host=i.getHost(),s.hostname=i.getHostname(),s.port=i.getPort(),s.pathname=i.getPathname(),s.search=i.getSearch(),s.searchParams=i.getSearchParams(),s.hash=i.getHash())},ba=bh.prototype,Bi=function(t,r){return{get:function(){return m2(this)[t]()},set:r&&function(s){return m2(this)[r](s)},configurable:!0,enumerable:!0}};eT&&(Ri(ba,"href",Bi("serialize","setHref")),Ri(ba,"origin",Bi("getOrigin")),Ri(ba,"protocol",Bi("getProtocol","setProtocol")),Ri(ba,"username",Bi("getUsername","setUsername")),Ri(ba,"password",Bi("getPassword","setPassword")),Ri(ba,"host",Bi("getHost","setHost")),Ri(ba,"hostname",Bi("getHostname","setHostname")),Ri(ba,"port",Bi("getPort","setPort")),Ri(ba,"pathname",Bi("getPathname","setPathname")),Ri(ba,"search",Bi("getSearch","setSearch")),Ri(ba,"searchParams",Bi("getSearchParams")),Ri(ba,"hash",Bi("getHash","setHash")));g2(ba,"toJSON",function(){return m2(this).serialize()},{enumerable:!0});g2(ba,"toString",function(){return m2(this).serialize()},{enumerable:!0});if(rm){var tz=rm.createObjectURL,rz=rm.revokeObjectURL;tz&&g2(bh,"createObjectURL",HB(tz,rm)),rz&&g2(bh,"revokeObjectURL",HB(rz,rm))}mpt(bh,"URL");dpt({global:!0,constructor:!0,forced:!upt,sham:!eT},{URL:bh});var zpt=Qe,Upt=nn,ste=Pt,Wpt=fo,nz=gr,Hpt=Rj,sT=Upt("URL"),Vpt=Hpt&&ste(function(){sT.canParse()}),Gpt=ste(function(){return sT.canParse.length!==1});zpt({target:"URL",stat:!0,forced:!Vpt||Gpt},{canParse:function(r){var s=Wpt(arguments.length,1),a=nz(r),i=s<2||arguments[1]===void 0?void 0:nz(arguments[1]);try{return!!new sT(a,i)}catch(o){return!1}}});var qpt=Qe,Ypt=nn,Jpt=fo,sz=gr,Zpt=Rj,Qpt=Ypt("URL");qpt({target:"URL",stat:!0,forced:!Zpt},{parse:function(r){var s=Jpt(arguments.length,1),a=sz(r),i=s<2||arguments[1]===void 0?void 0:sz(arguments[1]);try{return new Qpt(a,i)}catch(o){return null}}});var Kpt=Qe,Xpt=lr;Kpt({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return Xpt(URL.prototype.toString,this)}});var ext=jn,Bj=Ut,az=gr,txt=fo,ate=URLSearchParams,zj=ate.prototype,rxt=Bj(zj.append),iz=Bj(zj.delete),nxt=Bj(zj.forEach),sxt=Bj([].push),aT=new ate("a=1&a=2&b=3");aT.delete("a",1);aT.delete("b",void 0);aT+""!="a=2"&&ext(zj,"delete",function(t){var r=arguments.length,s=r<2?void 0:arguments[1];if(r&&s===void 0)return iz(this,t);var a=[];nxt(this,function(g,m){sxt(a,{key:m,value:g})}),txt(r,1);for(var i=az(t),o=az(s),l=0,c=0,d=!1,f=a.length,h;l<f;)h=a[l++],d||h.key===i?(d=!0,iz(this,h.key)):c++;for(;c<f;)h=a[c++],h.key===i&&h.value===o||rxt(this,h.key,h.value)},{enumerable:!0,unsafe:!0});var axt=jn,ite=Ut,ixt=gr,oxt=fo,ote=URLSearchParams,iT=ote.prototype,lxt=ite(iT.getAll),cxt=ite(iT.has),oz=new ote("a=1");(oz.has("a",2)||!oz.has("a",void 0))&&axt(iT,"has",function(r){var s=arguments.length,a=s<2?void 0:arguments[1];if(s&&a===void 0)return cxt(this,r);var i=lxt(this,r);oxt(s,1);for(var o=ixt(a),l=0;l<i.length;)if(i[l++]===o)return!0;return!1},{enumerable:!0,unsafe:!0});var dxt=or,uxt=Ut,fxt=ls,Fk=URLSearchParams.prototype,hxt=uxt(Fk.forEach);dxt&&!("size"in Fk)&&fxt(Fk,"size",{get:function(){var r=0;return hxt(this,function(){r++}),r},configurable:!0,enumerable:!0});var gxt={exports:{}};(function(t){var r=function(s){var a=Object.prototype,i=a.hasOwnProperty,o=Object.defineProperty||function(W,F,P){W[F]=P.value},l,c=typeof Symbol=="function"?Symbol:{},d=c.iterator||"@@iterator",f=c.asyncIterator||"@@asyncIterator",h=c.toStringTag||"@@toStringTag";function g(W,F,P){return Object.defineProperty(W,F,{value:P,enumerable:!0,configurable:!0,writable:!0}),W[F]}try{g({},"")}catch(W){g=function(F,P,A){return F[P]=A}}function m(W,F,P,A){var B=F&&F.prototype instanceof j?F:j,z=Object.create(B.prototype),O=new te(A||[]);return o(z,"_invoke",{value:M(W,P,O)}),z}s.wrap=m;function p(W,F,P){try{return{type:"normal",arg:W.call(F,P)}}catch(A){return{type:"throw",arg:A}}}var x="suspendedStart",y="suspendedYield",w="executing",b="completed",v={};function j(){}function N(){}function S(){}var I={};g(I,d,function(){return this});var E=Object.getPrototypeOf,L=E&&E(E(K([])));L&&L!==a&&i.call(L,d)&&(I=L);var C=S.prototype=j.prototype=Object.create(I);N.prototype=S,o(C,"constructor",{value:S,configurable:!0}),o(S,"constructor",{value:N,configurable:!0}),N.displayName=g(S,h,"GeneratorFunction");function T(W){["next","throw","return"].forEach(function(F){g(W,F,function(P){return this._invoke(F,P)})})}s.isGeneratorFunction=function(W){var F=typeof W=="function"&&W.constructor;return F?F===N||(F.displayName||F.name)==="GeneratorFunction":!1},s.mark=function(W){return Object.setPrototypeOf?Object.setPrototypeOf(W,S):(W.__proto__=S,g(W,h,"GeneratorFunction")),W.prototype=Object.create(C),W},s.awrap=function(W){return{__await:W}};function k(W,F){function P(z,O,U,Z){var se=p(W[z],W,O);if(se.type==="throw")Z(se.arg);else{var fe=se.arg,le=fe.value;return le&&typeof le=="object"&&i.call(le,"__await")?F.resolve(le.__await).then(function(Ne){P("next",Ne,U,Z)},function(Ne){P("throw",Ne,U,Z)}):F.resolve(le).then(function(Ne){fe.value=Ne,U(fe)},function(Ne){return P("throw",Ne,U,Z)})}}var A;function B(z,O){function U(){return new F(function(Z,se){P(z,O,Z,se)})}return A=A?A.then(U,U):U()}o(this,"_invoke",{value:B})}T(k.prototype),g(k.prototype,f,function(){return this}),s.AsyncIterator=k,s.async=function(W,F,P,A,B){B===void 0&&(B=Promise);var z=new k(m(W,F,P,A),B);return s.isGeneratorFunction(F)?z:z.next().then(function(O){return O.done?O.value:z.next()})};function M(W,F,P){var A=x;return function(z,O){if(A===w)throw new Error("Generator is already running");if(A===b){if(z==="throw")throw O;return X()}for(P.method=z,P.arg=O;;){var U=P.delegate;if(U){var Z=_(U,P);if(Z){if(Z===v)continue;return Z}}if(P.method==="next")P.sent=P._sent=P.arg;else if(P.method==="throw"){if(A===x)throw A=b,P.arg;P.dispatchException(P.arg)}else P.method==="return"&&P.abrupt("return",P.arg);A=w;var se=p(W,F,P);if(se.type==="normal"){if(A=P.done?b:y,se.arg===v)continue;return{value:se.arg,done:P.done}}else se.type==="throw"&&(A=b,P.method="throw",P.arg=se.arg)}}}function _(W,F){var P=F.method,A=W.iterator[P];if(A===l)return F.delegate=null,P==="throw"&&W.iterator.return&&(F.method="return",F.arg=l,_(W,F),F.method==="throw")||P!=="return"&&(F.method="throw",F.arg=new TypeError("The iterator does not provide a '"+P+"' method")),v;var B=p(A,W.iterator,F.arg);if(B.type==="throw")return F.method="throw",F.arg=B.arg,F.delegate=null,v;var z=B.arg;if(!z)return F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,v;if(z.done)F[W.resultName]=z.value,F.next=W.nextLoc,F.method!=="return"&&(F.method="next",F.arg=l);else return z;return F.delegate=null,v}T(C),g(C,h,"Generator"),g(C,d,function(){return this}),g(C,"toString",function(){return"[object Generator]"});function J(W){var F={tryLoc:W[0]};1 in W&&(F.catchLoc=W[1]),2 in W&&(F.finallyLoc=W[2],F.afterLoc=W[3]),this.tryEntries.push(F)}function Y(W){var F=W.completion||{};F.type="normal",delete F.arg,W.completion=F}function te(W){this.tryEntries=[{tryLoc:"root"}],W.forEach(J,this),this.reset(!0)}s.keys=function(W){var F=Object(W),P=[];for(var A in F)P.push(A);return P.reverse(),function B(){for(;P.length;){var z=P.pop();if(z in F)return B.value=z,B.done=!1,B}return B.done=!0,B}};function K(W){if(W!=null){var F=W[d];if(F)return F.call(W);if(typeof W.next=="function")return W;if(!isNaN(W.length)){var P=-1,A=function B(){for(;++P<W.length;)if(i.call(W,P))return B.value=W[P],B.done=!1,B;return B.value=l,B.done=!0,B};return A.next=A}}throw new TypeError(typeof W+" is not iterable")}s.values=K;function X(){return{value:l,done:!0}}return te.prototype={constructor:te,reset:function(W){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(Y),!W)for(var F in this)F.charAt(0)==="t"&&i.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=l)},stop:function(){this.done=!0;var W=this.tryEntries[0],F=W.completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(W){if(this.done)throw W;var F=this;function P(Z,se){return z.type="throw",z.arg=W,F.next=Z,se&&(F.method="next",F.arg=l),!!se}for(var A=this.tryEntries.length-1;A>=0;--A){var B=this.tryEntries[A],z=B.completion;if(B.tryLoc==="root")return P("end");if(B.tryLoc<=this.prev){var O=i.call(B,"catchLoc"),U=i.call(B,"finallyLoc");if(O&&U){if(this.prev<B.catchLoc)return P(B.catchLoc,!0);if(this.prev<B.finallyLoc)return P(B.finallyLoc)}else if(O){if(this.prev<B.catchLoc)return P(B.catchLoc,!0)}else if(U){if(this.prev<B.finallyLoc)return P(B.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(W,F){for(var P=this.tryEntries.length-1;P>=0;--P){var A=this.tryEntries[P];if(A.tryLoc<=this.prev&&i.call(A,"finallyLoc")&&this.prev<A.finallyLoc){var B=A;break}}B&&(W==="break"||W==="continue")&&B.tryLoc<=F&&F<=B.finallyLoc&&(B=null);var z=B?B.completion:{};return z.type=W,z.arg=F,B?(this.method="next",this.next=B.finallyLoc,v):this.complete(z)},complete:function(W,F){if(W.type==="throw")throw W.arg;return W.type==="break"||W.type==="continue"?this.next=W.arg:W.type==="return"?(this.rval=this.arg=W.arg,this.method="return",this.next="end"):W.type==="normal"&&F&&(this.next=F),v},finish:function(W){for(var F=this.tryEntries.length-1;F>=0;--F){var P=this.tryEntries[F];if(P.finallyLoc===W)return this.complete(P.completion,P.afterLoc),Y(P),v}},catch:function(W){for(var F=this.tryEntries.length-1;F>=0;--F){var P=this.tryEntries[F];if(P.tryLoc===W){var A=P.completion;if(A.type==="throw"){var B=A.arg;Y(P)}return B}}throw new Error("illegal catch attempt")},delegateYield:function(W,F,P){return this.delegate={iterator:K(W),resultName:F,nextLoc:P},this.method==="next"&&(this.arg=l),v}},s}(t.exports);try{regeneratorRuntime=r}catch(s){typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}})(gxt);const mxt=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,pxt={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},xxt=t=>pxt[t],vxt=t=>t.replace(mxt,xxt);let lz={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:vxt};function yxt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};lz=ne(ne({},lz),t)}const bxt={type:"3rdParty",init(t){yxt(t.options.react)}},wxt={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,r){console&&console[t]&&console[t].apply(console,r)}};class v2{constructor(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(r,s)}init(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=s.prefix||"i18next:",this.logger=r||wxt,this.options=s,this.debug=s.debug}log(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return this.forward(s,"log","",!0)}warn(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return this.forward(s,"warn","",!0)}error(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return this.forward(s,"error","")}deprecate(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(r,s,a,i){return i&&!this.debug?null:(typeof r[0]=="string"&&(r[0]=`${a}${this.prefix} ${r[0]}`),this.logger[s](r))}create(r){return new v2(this.logger,ne({prefix:`${this.prefix}:${r}:`},this.options))}clone(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new v2(this.logger,r)}}var il=new v2;class Uj{constructor(){this.observers={}}on(r,s){return r.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const i=this.observers[a].get(s)||0;this.observers[a].set(s,i+1)}),this}off(r,s){if(this.observers[r]){if(!s){delete this.observers[r];return}this.observers[r].delete(s)}}emit(r){for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];this.observers[r]&&Array.from(this.observers[r].entries()).forEach(l=>{let[c,d]=l;for(let f=0;f<d;f++)c(...a)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(l=>{let[c,d]=l;for(let f=0;f<d;f++)c.apply(c,[r,...a])})}}function sm(){let t,r;const s=new Promise((a,i)=>{t=a,r=i});return s.resolve=t,s.reject=r,s}function cz(t){return t==null?"":""+t}function jxt(t,r,s){t.forEach(a=>{r[a]&&(s[a]=r[a])})}const Nxt=/###/g;function Jm(t,r,s){function a(c){return c&&c.indexOf("###")>-1?c.replace(Nxt,"."):c}function i(){return!t||typeof t=="string"}const o=typeof r!="string"?r:r.split(".");let l=0;for(;l<o.length-1;){if(i())return{};const c=a(o[l]);!t[c]&&s&&(t[c]=new s),Object.prototype.hasOwnProperty.call(t,c)?t=t[c]:t={},++l}return i()?{}:{obj:t,k:a(o[l])}}function dz(t,r,s){const{obj:a,k:i}=Jm(t,r,Object);if(a!==void 0||r.length===1){a[i]=s;return}let o=r[r.length-1],l=r.slice(0,r.length-1),c=Jm(t,l,Object);for(;c.obj===void 0&&l.length;)o=`${l[l.length-1]}.${o}`,l=l.slice(0,l.length-1),c=Jm(t,l,Object),c&&c.obj&&typeof c.obj[`${c.k}.${o}`]!="undefined"&&(c.obj=void 0);c.obj[`${c.k}.${o}`]=s}function Sxt(t,r,s,a){const{obj:i,k:o}=Jm(t,r,Object);i[o]=i[o]||[],i[o].push(s)}function y2(t,r){const{obj:s,k:a}=Jm(t,r);if(s)return s[a]}function Cxt(t,r,s){const a=y2(t,s);return a!==void 0?a:y2(r,s)}function lte(t,r,s){for(const a in r)a!=="__proto__"&&a!=="constructor"&&(a in t?typeof t[a]=="string"||t[a]instanceof String||typeof r[a]=="string"||r[a]instanceof String?s&&(t[a]=r[a]):lte(t[a],r[a],s):t[a]=r[a]);return t}function Jf(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var kxt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Ext(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,r=>kxt[r]):t}class Lxt{constructor(r){this.capacity=r,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(r){const s=this.regExpMap.get(r);if(s!==void 0)return s;const a=new RegExp(r);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(r,a),this.regExpQueue.push(r),a}}const Mxt=[" ",",","?","!",";"],Ixt=new Lxt(20);function Txt(t,r,s){r=r||"",s=s||"";const a=Mxt.filter(l=>r.indexOf(l)<0&&s.indexOf(l)<0);if(a.length===0)return!0;const i=Ixt.getRegExp(`(${a.map(l=>l==="?"?"\\?":l).join("|")})`);let o=!i.test(t);if(!o){const l=t.indexOf(s);l>0&&!i.test(t.substring(0,l))&&(o=!0)}return o}function Bk(t,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[r])return t[r];const a=r.split(s);let i=t;for(let o=0;o<a.length;){if(!i||typeof i!="object")return;let l,c="";for(let d=o;d<a.length;++d)if(d!==o&&(c+=s),c+=a[d],l=i[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<a.length-1)continue;o+=d-o+1;break}i=l}return i}function b2(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class uz extends Uj{constructor(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=r||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}removeNamespaces(r){const s=this.options.ns.indexOf(r);s>-1&&this.options.ns.splice(s,1)}getResource(r,s,a){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;r.indexOf(".")>-1?c=r.split("."):(c=[r,s],a&&(Array.isArray(a)?c.push(...a):typeof a=="string"&&o?c.push(...a.split(o)):c.push(a)));const d=y2(this.data,c);return!d&&!s&&!a&&r.indexOf(".")>-1&&(r=c[0],s=c[1],a=c.slice(2).join(".")),d||!l||typeof a!="string"?d:Bk(this.data&&this.data[r]&&this.data[r][s],a,o)}addResource(r,s,a,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let c=[r,s];a&&(c=c.concat(l?a.split(l):a)),r.indexOf(".")>-1&&(c=r.split("."),i=s,s=c[1]),this.addNamespaces(s),dz(this.data,c,i),o.silent||this.emit("added",r,s,a,i)}addResources(r,s,a){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in a)(typeof a[o]=="string"||Array.isArray(a[o]))&&this.addResource(r,s,o,a[o],{silent:!0});i.silent||this.emit("added",r,s,a)}addResourceBundle(r,s,a,i,o){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},c=[r,s];r.indexOf(".")>-1&&(c=r.split("."),i=a,a=s,s=c[1]),this.addNamespaces(s);let d=y2(this.data,c)||{};l.skipCopy||(a=JSON.parse(JSON.stringify(a))),i?lte(d,a,o):d=ne(ne({},d),a),dz(this.data,c,d),l.silent||this.emit("added",r,s,a)}removeResourceBundle(r,s){this.hasResourceBundle(r,s)&&delete this.data[r][s],this.removeNamespaces(s),this.emit("removed",r,s)}hasResourceBundle(r,s){return this.getResource(r,s)!==void 0}getResourceBundle(r,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?ne({},this.getResource(r,s)):this.getResource(r,s)}getDataByLanguage(r){return this.data[r]}hasLanguageSomeTranslations(r){const s=this.getDataByLanguage(r);return!!(s&&Object.keys(s)||[]).find(i=>s[i]&&Object.keys(s[i]).length>0)}toJSON(){return this.data}}var cte={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,r,s,a,i){return t.forEach(o=>{this.processors[o]&&(r=this.processors[o].process(r,s,a,i))}),r}};const fz={};class w2 extends Uj{constructor(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),jxt(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=il.create("translator")}changeLanguage(r){r&&(this.language=r)}exists(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(r==null)return!1;const a=this.resolve(r,s);return a&&a.res!==void 0}extractFromKey(r,s){let a=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=s.ns||this.options.defaultNS||[];const l=a&&r.indexOf(a)>-1,c=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!Txt(r,a,i);if(l&&!c){const d=r.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:r,namespaces:o};const f=r.split(a);(a!==i||a===i&&this.options.ns.indexOf(f[0])>-1)&&(o=f.shift()),r=f.join(i)}return typeof o=="string"&&(o=[o]),{key:r,namespaces:o}}translate(r,s,a){if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s=ne({},s)),s||(s={}),r==null)return"";Array.isArray(r)||(r=[String(r)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(r[r.length-1],s),d=c[c.length-1],f=s.lng||this.language,h=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&f.toLowerCase()==="cimode"){if(h){const N=s.nsSeparator||this.options.nsSeparator;return i?{res:`${d}${N}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:`${d}${N}${l}`}return i?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:l}const g=this.resolve(r,s);let m=g&&g.res;const p=g&&g.usedKey||l,x=g&&g.exactUsedKey||l,y=Object.prototype.toString.apply(m),w=["[object Number]","[object Function]","[object RegExp]"],b=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject;if(v&&m&&(typeof m!="string"&&typeof m!="boolean"&&typeof m!="number")&&w.indexOf(y)<0&&!(typeof b=="string"&&Array.isArray(m))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const N=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,m,me(ne({},s),{ns:c})):`key '${l} (${this.language})' returned an object instead of string.`;return i?(g.res=N,g.usedParams=this.getUsedParamsDetails(s),g):N}if(o){const N=Array.isArray(m),S=N?[]:{},I=N?x:p;for(const E in m)if(Object.prototype.hasOwnProperty.call(m,E)){const L=`${I}${o}${E}`;S[E]=this.translate(L,me(ne({},s),{joinArrays:!1,ns:c})),S[E]===L&&(S[E]=m[E])}m=S}}else if(v&&typeof b=="string"&&Array.isArray(m))m=m.join(b),m&&(m=this.extendTranslation(m,r,s,a));else{let N=!1,S=!1;const I=s.count!==void 0&&typeof s.count!="string",E=w2.hasDefaultValue(s),L=I?this.pluralResolver.getSuffix(f,s.count,s):"",C=s.ordinal&&I?this.pluralResolver.getSuffix(f,s.count,{ordinal:!1}):"",T=I&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),k=T&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${L}`]||s[`defaultValue${C}`]||s.defaultValue;!this.isValidLookup(m)&&E&&(N=!0,m=k),this.isValidLookup(m)||(S=!0,m=l);const _=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:m,J=E&&k!==m&&this.options.updateMissing;if(S||N||J){if(this.logger.log(J?"updateKey":"missingKey",f,d,l,J?k:m),o){const X=this.resolve(l,me(ne({},s),{keySeparator:!1}));X&&X.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Y=[];const te=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&te&&te[0])for(let X=0;X<te.length;X++)Y.push(te[X]);else this.options.saveMissingTo==="all"?Y=this.languageUtils.toResolveHierarchy(s.lng||this.language):Y.push(s.lng||this.language);const K=(X,W,F)=>{const P=E&&F!==m?F:_;this.options.missingKeyHandler?this.options.missingKeyHandler(X,d,W,P,J,s):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(X,d,W,P,J,s),this.emit("missingKey",X,d,W,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&I?Y.forEach(X=>{const W=this.pluralResolver.getSuffixes(X,s);T&&s[`defaultValue${this.options.pluralSeparator}zero`]&&W.indexOf(`${this.options.pluralSeparator}zero`)<0&&W.push(`${this.options.pluralSeparator}zero`),W.forEach(F=>{K([X],l+F,s[`defaultValue${F}`]||k)})}):K(Y,l,k))}m=this.extendTranslation(m,r,s,g,a),S&&m===l&&this.options.appendNamespaceToMissingKey&&(m=`${d}:${l}`),(S||N)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}:${l}`:l,N?m:void 0):m=this.options.parseMissingKeyHandler(m))}return i?(g.res=m,g.usedParams=this.getUsedParamsDetails(s),g):m}extendTranslation(r,s,a,i,o){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)r=this.i18nFormat.parse(r,ne(ne({},this.options.interpolation.defaultVariables),a),a.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init(me(ne({},a),{interpolation:ne(ne({},this.options.interpolation),a.interpolation)}));const f=typeof r=="string"&&(a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(f){const m=r.match(this.interpolator.nestingRegexp);h=m&&m.length}let g=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&(g=ne(ne({},this.options.interpolation.defaultVariables),g)),r=this.interpolator.interpolate(r,g,a.lng||this.language,a),f){const m=r.match(this.interpolator.nestingRegexp),p=m&&m.length;h<p&&(a.nest=!1)}!a.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(a.lng=i.usedLng),a.nest!==!1&&(r=this.interpolator.nest(r,function(){for(var m=arguments.length,p=new Array(m),x=0;x<m;x++)p[x]=arguments[x];return o&&o[0]===p[0]&&!a.context?(l.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${s[0]}`),null):l.translate(...p,s)},a)),a.interpolation&&this.interpolator.reset()}const c=a.postProcess||this.options.postProcess,d=typeof c=="string"?[c]:c;return r!=null&&d&&d.length&&a.applyPostProcessor!==!1&&(r=cte.handle(d,r,s,this.options&&this.options.postProcessPassResolved?ne({i18nResolved:me(ne({},i),{usedParams:this.getUsedParamsDetails(a)})},a):a,this)),r}resolve(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,i,o,l,c;return typeof r=="string"&&(r=[r]),r.forEach(d=>{if(this.isValidLookup(a))return;const f=this.extractFromKey(d,s),h=f.key;i=h;let g=f.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const m=s.count!==void 0&&typeof s.count!="string",p=m&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),x=s.context!==void 0&&(typeof s.context=="string"||typeof s.context=="number")&&s.context!=="",y=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);g.forEach(w=>{this.isValidLookup(a)||(c=w,!fz[`${y[0]}-${w}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(c)&&(fz[`${y[0]}-${w}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(b=>{if(this.isValidLookup(a))return;l=b;const v=[h];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(v,h,b,w,s);else{let N;m&&(N=this.pluralResolver.getSuffix(b,s.count,s));const S=`${this.options.pluralSeparator}zero`,I=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(v.push(h+N),s.ordinal&&N.indexOf(I)===0&&v.push(h+N.replace(I,this.options.pluralSeparator)),p&&v.push(h+S)),x){const E=`${h}${this.options.contextSeparator}${s.context}`;v.push(E),m&&(v.push(E+N),s.ordinal&&N.indexOf(I)===0&&v.push(E+N.replace(I,this.options.pluralSeparator)),p&&v.push(E+S))}}let j;for(;j=v.pop();)this.isValidLookup(a)||(o=j,a=this.getResource(b,w,j,s))}))})}),{res:a,usedKey:i,exactUsedKey:o,usedLng:l,usedNS:c}}isValidLookup(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}getResource(r,s,a){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(r,s,a,i):this.resourceStore.getResource(r,s,a,i)}getUsedParamsDetails(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=r.replace&&typeof r.replace!="string";let i=a?r.replace:r;if(a&&typeof r.count!="undefined"&&(i.count=r.count),this.options.interpolation.defaultVariables&&(i=ne(ne({},this.options.interpolation.defaultVariables),i)),!a){i=ne({},i);for(const o of s)delete i[o]}return i}static hasDefaultValue(r){const s="defaultValue";for(const a in r)if(Object.prototype.hasOwnProperty.call(r,a)&&s===a.substring(0,s.length)&&r[a]!==void 0)return!0;return!1}}function IS(t){return t.charAt(0).toUpperCase()+t.slice(1)}class hz{constructor(r){this.options=r,this.supportedLngs=this.options.supportedLngs||!1,this.logger=il.create("languageUtils")}getScriptPartFromCode(r){if(r=b2(r),!r||r.indexOf("-")<0)return null;const s=r.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(r){if(r=b2(r),!r||r.indexOf("-")<0)return r;const s=r.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(r){if(typeof r=="string"&&r.indexOf("-")>-1){const s=["hans","hant","latn","cyrl","cans","mong","arab"];let a=r.split("-");return this.options.lowerCaseLng?a=a.map(i=>i.toLowerCase()):a.length===2?(a[0]=a[0].toLowerCase(),a[1]=a[1].toUpperCase(),s.indexOf(a[1].toLowerCase())>-1&&(a[1]=IS(a[1].toLowerCase()))):a.length===3&&(a[0]=a[0].toLowerCase(),a[1].length===2&&(a[1]=a[1].toUpperCase()),a[0]!=="sgn"&&a[2].length===2&&(a[2]=a[2].toUpperCase()),s.indexOf(a[1].toLowerCase())>-1&&(a[1]=IS(a[1].toLowerCase())),s.indexOf(a[2].toLowerCase())>-1&&(a[2]=IS(a[2].toLowerCase()))),a.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}isSupportedCode(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}getBestMatchFromCodes(r){if(!r)return null;let s;return r.forEach(a=>{if(s)return;const i=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(i))&&(s=i)}),!s&&this.options.supportedLngs&&r.forEach(a=>{if(s)return;const i=this.getLanguagePartFromCode(a);if(this.isSupportedCode(i))return s=i;s=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(r,s){if(!r)return[];if(typeof r=="function"&&(r=r(s)),typeof r=="string"&&(r=[r]),Array.isArray(r))return r;if(!s)return r.default||[];let a=r[s];return a||(a=r[this.getScriptPartFromCode(s)]),a||(a=r[this.formatLanguageCode(s)]),a||(a=r[this.getLanguagePartFromCode(s)]),a||(a=r.default),a||[]}toResolveHierarchy(r,s){const a=this.getFallbackCodes(s||this.options.fallbackLng||[],r),i=[],o=l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return typeof r=="string"&&(r.indexOf("-")>-1||r.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(r))):typeof r=="string"&&o(this.formatLanguageCode(r)),a.forEach(l=>{i.indexOf(l)<0&&o(this.formatLanguageCode(l))}),i}}let Axt=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_xt={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const Oxt=["v1","v2","v3"],$xt=["v4"],gz={zero:0,one:1,two:2,few:3,many:4,other:5};function Pxt(){const t={};return Axt.forEach(r=>{r.lngs.forEach(s=>{t[s]={numbers:r.nr,plurals:_xt[r.fc]}})}),t}class Dxt{constructor(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=r,this.options=s,this.logger=il.create("pluralResolver"),(!this.options.compatibilityJSON||$xt.includes(this.options.compatibilityJSON))&&(typeof Intl=="undefined"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Pxt()}addRule(r,s){this.rules[r]=s}getRule(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(b2(r==="dev"?"en":r),{type:s.ordinal?"ordinal":"cardinal"})}catch(a){return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}needsPlural(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=this.getRule(r,s);return this.shouldUseIntlApi()?a&&a.resolvedOptions().pluralCategories.length>1:a&&a.numbers.length>1}getPluralFormsOfKey(r,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,a).map(i=>`${s}${i}`)}getSuffixes(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=this.getRule(r,s);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort((i,o)=>gz[i]-gz[o]).map(i=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${i}`):a.numbers.map(i=>this.getSuffix(r,i,s)):[]}getSuffix(r,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(r,a);return i?this.shouldUseIntlApi()?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${i.select(s)}`:this.getSuffixRetroCompatible(i,s):(this.logger.warn(`no plural rule found for: ${r}`),"")}getSuffixRetroCompatible(r,s){const a=r.noAbs?r.plurals(s):r.plurals(Math.abs(s));let i=r.numbers[a];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?o():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}shouldUseIntlApi(){return!Oxt.includes(this.options.compatibilityJSON)}}function mz(t,r,s){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=Cxt(t,r,s);return!o&&i&&typeof s=="string"&&(o=Bk(t,s,a),o===void 0&&(o=Bk(r,s,a))),o}class Rxt{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=il.create("interpolator"),this.options=r,this.format=r.interpolation&&r.interpolation.format||(s=>s),this.init(r)}init(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});const{escape:s,escapeValue:a,useRawValueToEscape:i,prefix:o,prefixEscaped:l,suffix:c,suffixEscaped:d,formatSeparator:f,unescapeSuffix:h,unescapePrefix:g,nestingPrefix:m,nestingPrefixEscaped:p,nestingSuffix:x,nestingSuffixEscaped:y,nestingOptionsSeparator:w,maxReplaces:b,alwaysFormat:v}=r.interpolation;this.escape=s!==void 0?s:Ext,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Jf(o):l||"{{",this.suffix=c?Jf(c):d||"}}",this.formatSeparator=f||",",this.unescapePrefix=h?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=m?Jf(m):p||Jf("$t("),this.nestingSuffix=x?Jf(x):y||Jf(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=b||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const r=(s,a)=>s&&s.source===a?(s.lastIndex=0,s):new RegExp(a,"g");this.regexp=r(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=r(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=r(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(r,s,a,i){let o,l,c;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(x){return x.replace(/\$/g,"$$$$")}const h=x=>{if(x.indexOf(this.formatSeparator)<0){const v=mz(s,d,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,a,me(ne(ne({},i),s),{interpolationkey:x})):v}const y=x.split(this.formatSeparator),w=y.shift().trim(),b=y.join(this.formatSeparator).trim();return this.format(mz(s,d,w,this.options.keySeparator,this.options.ignoreJSONStructure),b,a,me(ne(ne({},i),s),{interpolationkey:w}))};this.resetRegExp();const g=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,m=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>f(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?f(this.escape(x)):f(x)}].forEach(x=>{for(c=0;o=x.regex.exec(r);){const y=o[1].trim();if(l=h(y),l===void 0)if(typeof g=="function"){const b=g(r,o,i);l=typeof b=="string"?b:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))l="";else if(m){l=o[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${r}`),l="";else typeof l!="string"&&!this.useRawValueToEscape&&(l=cz(l));const w=x.safeValue(l);if(r=r.replace(o[0],w),m?(x.regex.lastIndex+=l.length,x.regex.lastIndex-=o[0].length):x.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),r}nest(r,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,l;function c(d,f){const h=this.nestingOptionsSeparator;if(d.indexOf(h)<0)return d;const g=d.split(new RegExp(`${h}[ ]*{`));let m=`{${g[1]}`;d=g[0],m=this.interpolate(m,l);const p=m.match(/'/g),x=m.match(/"/g);(p&&p.length%2===0&&!x||x.length%2!==0)&&(m=m.replace(/'/g,'"'));try{l=JSON.parse(m),f&&(l=ne(ne({},f),l))}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,y),`${d}${h}${m}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d}for(;i=this.nestingRegexp.exec(r);){let d=[];l=ne({},a),l=l.replace&&typeof l.replace!="string"?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let f=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const h=i[1].split(this.formatSeparator).map(g=>g.trim());i[1]=h.shift(),d=h,f=!0}if(o=s(c.call(this,i[1].trim(),l),l),o&&i[0]===r&&typeof o!="string")return o;typeof o!="string"&&(o=cz(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${r}`),o=""),f&&(o=d.reduce((h,g)=>this.format(h,g,a.lng,me(ne({},a),{interpolationkey:i[1].trim()})),o.trim())),r=r.replace(i[0],o),this.regexp.lastIndex=0}return r}}function Fxt(t){let r=t.toLowerCase().trim();const s={};if(t.indexOf("(")>-1){const a=t.split("(");r=a[0].toLowerCase().trim();const i=a[1].substring(0,a[1].length-1);r==="currency"&&i.indexOf(":")<0?s.currency||(s.currency=i.trim()):r==="relativetime"&&i.indexOf(":")<0?s.range||(s.range=i.trim()):i.split(";").forEach(l=>{if(l){const[c,...d]=l.split(":"),f=d.join(":").trim().replace(/^'+|'+$/g,""),h=c.trim();s[h]||(s[h]=f),f==="false"&&(s[h]=!1),f==="true"&&(s[h]=!0),isNaN(f)||(s[h]=parseInt(f,10))}})}return{formatName:r,formatOptions:s}}function Zf(t){const r={};return function(a,i,o){const l=i+JSON.stringify(o);let c=r[l];return c||(c=t(b2(i),o),r[l]=c),c(a)}}class Bxt{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=il.create("formatter"),this.options=r,this.formats={number:Zf((s,a)=>{const i=new Intl.NumberFormat(s,ne({},a));return o=>i.format(o)}),currency:Zf((s,a)=>{const i=new Intl.NumberFormat(s,me(ne({},a),{style:"currency"}));return o=>i.format(o)}),datetime:Zf((s,a)=>{const i=new Intl.DateTimeFormat(s,ne({},a));return o=>i.format(o)}),relativetime:Zf((s,a)=>{const i=new Intl.RelativeTimeFormat(s,ne({},a));return o=>i.format(o,a.range||"day")}),list:Zf((s,a)=>{const i=new Intl.ListFormat(s,ne({},a));return o=>i.format(o)})},this.init(r)}init(r){const a=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=a.formatSeparator?a.formatSeparator:a.formatSeparator||","}add(r,s){this.formats[r.toLowerCase().trim()]=s}addCached(r,s){this.formats[r.toLowerCase().trim()]=Zf(s)}format(r,s,a){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return s.split(this.formatSeparator).reduce((c,d)=>{const{formatName:f,formatOptions:h}=Fxt(d);if(this.formats[f]){let g=c;try{const m=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},p=m.locale||m.lng||i.locale||i.lng||a;g=this.formats[f](c,p,ne(ne(ne({},h),i),m))}catch(m){this.logger.warn(m)}return g}else this.logger.warn(`there was no format function for ${f}`);return c},r)}}function zxt(t,r){t.pending[r]!==void 0&&(delete t.pending[r],t.pendingCount--)}class Uxt extends Uj{constructor(r,s,a){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=r,this.store=s,this.services=a,this.languageUtils=a.languageUtils,this.options=i,this.logger=il.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(a,i.backend,i)}queueLoad(r,s,a,i){const o={},l={},c={},d={};return r.forEach(f=>{let h=!0;s.forEach(g=>{const m=`${f}|${g}`;!a.reload&&this.store.hasResourceBundle(f,g)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?l[m]===void 0&&(l[m]=!0):(this.state[m]=1,h=!1,l[m]===void 0&&(l[m]=!0),o[m]===void 0&&(o[m]=!0),d[g]===void 0&&(d[g]=!0)))}),h||(c[f]=!0)}),(Object.keys(o).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(r,s,a){const i=r.split("|"),o=i[0],l=i[1];s&&this.emit("failedLoading",o,l,s),a&&this.store.addResourceBundle(o,l,a,void 0,void 0,{skipCopy:!0}),this.state[r]=s?-1:2;const c={};this.queue.forEach(d=>{Sxt(d.loaded,[o],l),zxt(d,r),s&&d.errors.push(s),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(f=>{c[f]||(c[f]={});const h=d.loaded[f];h.length&&h.forEach(g=>{c[f][g]===void 0&&(c[f][g]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(r,s,a){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,l=arguments.length>5?arguments[5]:void 0;if(!r.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:s,fcName:a,tried:i,wait:o,callback:l});return}this.readingCalls++;const c=(f,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(f&&h&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,r,s,a,i+1,o*2,l)},o);return}l(f,h)},d=this.backend[a].bind(this.backend);if(d.length===2){try{const f=d(r,s);f&&typeof f.then=="function"?f.then(h=>c(null,h)).catch(c):c(null,f)}catch(f){c(f)}return}return d(r,s,c)}prepareLoading(r,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof r=="string"&&(r=this.languageUtils.toResolveHierarchy(r)),typeof s=="string"&&(s=[s]);const o=this.queueLoad(r,s,a,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(l=>{this.loadOne(l)})}load(r,s,a){this.prepareLoading(r,s,{},a)}reload(r,s,a){this.prepareLoading(r,s,{reload:!0},a)}loadOne(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const a=r.split("|"),i=a[0],o=a[1];this.read(i,o,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${s}loading namespace ${o} for language ${i} failed`,l),!l&&c&&this.logger.log(`${s}loaded namespace ${o} for language ${i}`,c),this.loaded(r,l,c)})}saveMissing(r,s,a,i,o){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${a}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend&&this.backend.create){const d=me(ne({},l),{isUpdate:o}),f=this.backend.create.bind(this.backend);if(f.length<6)try{let h;f.length===5?h=f(r,s,a,i,d):h=f(r,s,a,i),h&&typeof h.then=="function"?h.then(g=>c(null,g)).catch(c):c(null,h)}catch(h){c(h)}else f(r,s,a,i,c,d)}!r||!r[0]||this.store.addResource(r[0],s,a,i)}}}function pz(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(r){let s={};if(typeof r[1]=="object"&&(s=r[1]),typeof r[1]=="string"&&(s.defaultValue=r[1]),typeof r[2]=="string"&&(s.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const a=r[3]||r[2];Object.keys(a).forEach(i=>{s[i]=a[i]})}return s},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function xz(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function $1(){}function Wxt(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(s=>{typeof t[s]=="function"&&(t[s]=t[s].bind(t))})}class Hp extends Uj{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(super(),this.options=xz(r),this.services={},this.logger=il,this.modules={external:[]},Wxt(this),s&&!this.isInitialized&&!r.isClone){if(!this.options.initImmediate)return this.init(r,s),this;setTimeout(()=>{this.init(r,s)},0)}}init(){var r=this;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof s=="function"&&(a=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(typeof s.ns=="string"?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const i=pz();this.options=ne(ne(ne({},i),this.options),xz(s)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=ne(ne({},i.interpolation),this.options.interpolation)),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);function o(h){return h?typeof h=="function"?new h:h:null}if(!this.options.isClone){this.modules.logger?il.init(o(this.modules.logger),this.options):il.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:typeof Intl!="undefined"&&(h=Bxt);const g=new hz(this.options);this.store=new uz(this.options.resources,this.options);const m=this.services;m.logger=il,m.resourceStore=this.store,m.languageUtils=g,m.pluralResolver=new Dxt(g,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(m.formatter=o(h),m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new Rxt(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new Uxt(o(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",function(p){for(var x=arguments.length,y=new Array(x>1?x-1:0),w=1;w<x;w++)y[w-1]=arguments[w];r.emit(p,...y)}),this.modules.languageDetector&&(m.languageDetector=o(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=o(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new w2(this.services,this.options),this.translator.on("*",function(p){for(var x=arguments.length,y=new Array(x>1?x-1:0),w=1;w<x;w++)y[w-1]=arguments[w];r.emit(p,...y)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,a||(a=$1),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=function(){return r.store[h](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=function(){return r.store[h](...arguments),r}});const d=sm(),f=()=>{const h=(g,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(m),a(g,m)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),d}loadResources(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$1;const i=typeof r=="string"?r:this.language;if(typeof r=="function"&&(a=r),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const o=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(f=>{f!=="cimode"&&o.indexOf(f)<0&&o.push(f)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload&&this.options.preload.forEach(c=>l(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(c)})}else a(null)}reloadResources(r,s,a){const i=sm();return r||(r=this.languages),s||(s=this.options.ns),a||(a=$1),this.services.backendConnector.reload(r,s,o=>{i.resolve(),a(o)}),i}use(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&cte.addPostProcessor(r),r.type==="formatter"&&(this.modules.formatter=r),r.type==="3rdParty"&&this.modules.external.push(r),this}setResolvedLanguage(r){if(!(!r||!this.languages)&&!(["cimode","dev"].indexOf(r)>-1))for(let s=0;s<this.languages.length;s++){const a=this.languages[s];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}changeLanguage(r,s){var a=this;this.isLanguageChangingTo=r;const i=sm();this.emit("languageChanging",r);const o=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,f)=>{f?(o(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,i.resolve(function(){return a.t(...arguments)}),s&&s(d,function(){return a.t(...arguments)})},c=d=>{!r&&!d&&this.services.languageDetector&&(d=[]);const f=typeof d=="string"?d:this.services.languageUtils.getBestMatchFromCodes(d);f&&(this.language||o(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(f)),this.loadResources(f,h=>{l(h,f)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(r),i}getFixedT(r,s,a){var i=this;const o=function(l,c){let d;if(typeof c!="object"){for(var f=arguments.length,h=new Array(f>2?f-2:0),g=2;g<f;g++)h[g-2]=arguments[g];d=i.options.overloadTranslationOptionHandler([l,c].concat(h))}else d=ne({},c);d.lng=d.lng||o.lng,d.lngs=d.lngs||o.lngs,d.ns=d.ns||o.ns,d.keyPrefix=d.keyPrefix||a||o.keyPrefix;const m=i.options.keySeparator||".";let p;return d.keyPrefix&&Array.isArray(l)?p=l.map(x=>`${d.keyPrefix}${m}${x}`):p=d.keyPrefix?`${d.keyPrefix}${m}${l}`:l,i.t(p,d)};return typeof r=="string"?o.lng=r:o.lngs=r,o.ns=s,o.keyPrefix=a,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(r){this.options.defaultNS=r}hasLoadedNamespace(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=s.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const l=(c,d)=>{const f=this.services.backendConnector.state[`${c}|${d}`];return f===-1||f===2};if(s.precheck){const c=s.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(a,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(a,r)&&(!i||l(o,r)))}loadNamespaces(r,s){const a=sm();return this.options.ns?(typeof r=="string"&&(r=[r]),r.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{a.resolve(),s&&s(i)}),a):(s&&s(),Promise.resolve())}loadLanguages(r,s){const a=sm();typeof r=="string"&&(r=[r]);const i=this.options.preload||[],o=r.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return o.length?(this.options.preload=i.concat(o),this.loadResources(l=>{a.resolve(),s&&s(l)}),a):(s&&s(),Promise.resolve())}dir(r){if(r||(r=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!r)return"rtl";const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services&&this.services.languageUtils||new hz(pz());return s.indexOf(a.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new Hp(r,s)}cloneInstance(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$1;const a=r.forkResourceStore;a&&delete r.forkResourceStore;const i=me(ne(ne({},this.options),r),{isClone:!0}),o=new Hp(i);return(r.debug!==void 0||r.prefix!==void 0)&&(o.logger=o.logger.clone(r)),["store","services","language"].forEach(c=>{o[c]=this[c]}),o.services=ne({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},a&&(o.store=new uz(this.store.data,i),o.services.resourceStore=o.store),o.translator=new w2(o.services,i),o.translator.on("*",function(c){for(var d=arguments.length,f=new Array(d>1?d-1:0),h=1;h<d;h++)f[h-1]=arguments[h];o.emit(c,...f)}),o.init(i,s),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ma=Hp.createInstance();ma.createInstance=Hp.createInstance;ma.createInstance;ma.dir;ma.init;ma.loadResources;ma.reloadResources;ma.use;ma.changeLanguage;ma.getFixedT;ma.t;ma.exists;ma.setDefaultNamespace;ma.hasLoadedNamespace;ma.loadNamespaces;ma.loadLanguages;const Hxt="",Vxt={title:Hxt},Gxt="",qxt={title:Gxt};ma.use(bxt).init({resources:{en:{translation:Vxt},pt:{translation:qxt}},lng:localStorage.getItem("lang")?localStorage.getItem("lang"):"pt",fallbackLng:"en",interpolation:{escapeValue:!1}});function Yxt(t={}){const{immediate:r=!1,onNeedRefresh:s,onOfflineReady:a,onRegistered:i,onRegisteredSW:o,onRegisterError:l}=t;let c,d;const f=(g=!0)=>ve(this,null,function*(){yield d});function h(){return ve(this,null,function*(){if("serviceWorker"in navigator){if(c=yield ec(()=>ve(this,null,function*(){const{Workbox:g}=yield import("./workbox-window.prod.es5-fJwV-9vL.js");return{Workbox:g}}),[]).then(({Workbox:g})=>new g("/sw.js",{scope:"/",type:"classic"})).catch(g=>{l==null||l(g)}),!c)return;c.addEventListener("activated",g=>{(g.isUpdate||g.isExternal)&&window.location.reload()}),c.addEventListener("installed",g=>{g.isUpdate||a==null||a()}),c.register({immediate:r}).then(g=>{o?o("/sw.js",g):i==null||i(g)}).catch(g=>{l==null||l(g)})}})}return d=h(),f}function Jxt(){return n.jsx(Mle,{position:"top-right",toastOptions:{style:{fontSize:"14px",zIndex:9999999},success:{iconTheme:{primary:"#0a66c2",secondary:"#fff"}}}})}Yxt();TS.createRoot(document.getElementById("root")).render(n.jsx(Ale,{clientId:"1097700207306-690d40fdlu7po502ouf72nnql1s1v75l.apps.googleusercontent.com",children:n.jsx(Tue,{children:n.jsx(kfe,{children:n.jsxs(Aue,{children:[n.jsx(Jxt,{}),n.jsx(j5e,{})]})})})}));
